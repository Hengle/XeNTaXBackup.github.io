## Post #1
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2011-04-10T16:38:48+00:00
- Post Title: Dead or Alive series formats and tools

The contents of this post was deleted because of possible forum rules violation.
## Post #2
- Username: Modman69
- Rank: veteran
- Number of posts: 108
- Joined date: Wed Jun 17, 2009 11:33 pm
- Post datetime: 2011-04-10T23:10:43+00:00
- Post Title: Dead or Alive series formats and tools

Here's what I have
## Post #3
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-04-10T23:54:35+00:00
- Post Title: Dead or Alive series formats and tools

> Reply from Modman69
>
> Here's what I have 

http://www.filesonic.com/file/579880651/Toolbox.rar

Thanks a lot! I was also looking for them.   
And it seems like most of the items are included.
## Post #4
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2011-04-11T06:09:21+00:00
- Post Title: Dead or Alive series formats and tools

The contents of this post was deleted because of possible forum rules violation.
## Post #5
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-04-11T14:53:33+00:00
- Post Title: Dead or Alive series formats and tools

We should probably just collect all DoA related stuff and put it here, even for the other games.
## Post #6
- Username: Zerox
- Rank: mega-veteran
- Number of posts: 186
- Joined date: Mon Aug 09, 2010 10:50 am
- Post datetime: 2011-04-11T17:45:55+00:00
- Post Title: Dead or Alive series formats and tools

I happen to have all these games and I may try these tools out. Though perhaps explaining a full process in getting these models wouldn't be such a bad idea.

Not a request but typically tools are more useful when documented well.
## Post #7
- Username: maniacoloco
- Rank: advanced
- Number of posts: 49
- Joined date: Sat Mar 05, 2011 10:19 pm
- Post datetime: 2011-04-11T18:08:57+00:00
- Post Title: Dead or Alive series formats and tools

why having the doax tools if you get better things with doax2 and noesis...
## Post #8
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2011-04-11T18:17:19+00:00
- Post Title: Dead or Alive series formats and tools

The tools for 3, x and ultimate are a pain to use. You get around 30 3ds files which you need to manually import in your 3d modeller and merge them together. Whats even worse is that all these "pieces" are centered at 0,0,0 so you need to manually reposition them (though its pretty easy to guess what goes where). Did I say that each 3ds file can contain multiple objects? well they do and you need to merge them as well.

The process is like this:
1. extract afs files from the isos
2. use AFSExplorer to get xpr files from the afs (which are 3d geometry + textures)
3. use one of the tools (like DOA3Exporter.exe) to convert the xpr to 3ds's and dds's.
4. load the 3ds's in your modeller, merge the pieces in each 3ds, remove doubles, recalculate normals (which are always wrong)
5. after you got all the 3ds files loaded and their pieces joined, connect the pieices to make up the body (i use Blender's snap tool).

i think i had a tutorial somewhere...

you can also use GreedXplorer to view the xpr files, and they are already repositioned for you, but this tool doesnt export.

If there was some info on xpr files, I could make a Blender importer. I think the main problem with the existing tools is they pobably ignore object matrices and thats why all the pieces are at 0,0,0. We could make an importer which does that automatically.

By my test it can take as long as an hour to build a complete character from the pieces.

@maniacoloco: well, there are some models which dont exist in doax2 (obviously), or even doa4 (are there any tools for that?) and maybe you just dont own the newer game. So noesis supports doax2?
## Post #9
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-04-11T20:11:16+00:00
- Post Title: Dead or Alive series formats and tools

Tecmo's Soo Gonna Sue
## Post #10
- Username: maniacoloco
- Rank: advanced
- Number of posts: 49
- Joined date: Sat Mar 05, 2011 10:19 pm
- Post datetime: 2011-04-11T21:21:04+00:00
- Post Title: Dead or Alive series formats and tools

> Reply from mariokart64n
>
>  Tecmo's Soo Gonna Sue

Hahahahaha yep
## Post #11
- Username: BlueJump9
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Thu Oct 21, 2010 3:44 am
- Post datetime: 2011-04-11T22:46:28+00:00
- Post Title: Dead or Alive series formats and tools

All this for a few models? Would it kill someone to host some of them (Namely Hayabusa and Ayane)? And while on the subject of Team Ninja's models, has anybody looked into Ninja Gaiden Black? I was wondering if these tools might be compatible with it.
## Post #12
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-04-12T00:23:46+00:00
- Post Title: Dead or Alive series formats and tools

lol it is a lot of work.
Maybe I'll look at something else.
## Post #13
- Username: brienj
- Rank: VIP member
- Number of posts: 288
- Joined date: Mon May 02, 2005 8:48 pm
- Post datetime: 2011-04-14T22:45:50+00:00
- Post Title: Dead or Alive series formats and tools

> Reply from mariokart64n
>
>  Tecmo's Soo Gonna Sue
Yes, Tecmo is very sue happy and have shut down sites before.  

BTW, did you guys get all the tools you need?  I am pretty sure I still have most, if not all of them, on my HD somewhere.
## Post #14
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-04-15T19:51:02+00:00
- Post Title: Dead or Alive series formats and tools

I wanna mod DOAX2 some more, but its lame if theres no-one else in on it.

if anyone's up for real modding, let me know. I'be got the hardware setup and any tools needed are already there or are easy to construct.
## Post #15
- Username: Rimbros
- Rank: ultra-veteran
- Number of posts: 495
- Joined date: Fri Jul 09, 2010 7:23 am
- Post datetime: 2011-04-15T20:02:29+00:00
- Post Title: Dead or Alive series formats and tools

Moding its amazing, i moding this just now, 
[http://www.youtube.com/watch?v=XLC4OQz4qYk](http://www.youtube.com/watch?v=XLC4OQz4qYk)
## Post #16
- Username: maniacoloco
- Rank: advanced
- Number of posts: 49
- Joined date: Sat Mar 05, 2011 10:19 pm
- Post datetime: 2011-04-15T20:30:12+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

> Reply from brienj
>
> mariokart64n wrote: Tecmo's Soo Gonna Sue
Yes, Tecmo is very sue happy and have shut down sites before.  

BTW, did you guys get all the tools you need?  I am pretty sure I still have most, if not all of them, on my HD somewhere.

Ninja Hacker...
## Post #17
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-04-16T23:18:57+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

a friend linked me to this site (NSFW)
[http://www.coregrafx.info/sexy/](http://www.coregrafx.info/sexy/)
some show that DOAX2 texture edits.

although I have my old method of getting textures in and out of the TPR. I do not know where the transparancy flags are.. 

I'm trying to find any additional tools on DOAX2.
## Post #18
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2011-04-17T09:56:23+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

What about DOA4? I couldn't find any tools for it
## Post #19
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-04-17T13:28:33+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

format wise doax2 and doa4 are almost the same. most doa4 tools or doax2 tools are interchangeable.
## Post #20
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2011-04-17T15:08:52+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

Ive heard the opposite somewhere, and noesis has importer for doax2, but doesnt mention doax4 in the description.
btw, where are the clothes in doax2? Are they in different format? My guess is since swimsuits can be used by different bodies, so they maybe contain multiple "morph shapes".
## Post #21
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-04-18T01:20:41+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

theres like a few height variations, but this time around all the girls share the same breast size.

and as for noesis, I dont think MrAdult had samples for doa4, so thats why theres no support for it.. although in turn they are the same format.. doax2 has different vertextype or strides. otherwise they are identical formats.
## Post #22
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-04-18T01:22:47+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

I only use readbyte and readfloat in maxscript.. doesn't get any simpler than that i'm afraid.
## Post #23
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2011-04-18T13:10:37+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

I dont know what you mean by vertextype or stride. does that mean the importer for noesis will need a slight modification.
And in what afs are the swimsuits?
## Post #24
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-04-18T20:26:55+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

thats a silly question, theres are 2 afs files that are like werone and wertwo ... the others are fairly simple to figure out, like stg or bgm.. O_o werone probably means swim wear one
## Post #25
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2011-04-19T11:33:20+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

Is it? I got only werone.afs (only 300 mb) and I cant access anything inside it, maybe its corrupt.
I used this tool to extract from ISO: [http://www.tacoban.eu/cxboxtool/cxboxtutorial.htm](http://www.tacoban.eu/cxboxtool/cxboxtutorial.htm)
what did you use?
## Post #26
- Username: brienj
- Rank: VIP member
- Number of posts: 288
- Joined date: Mon May 02, 2005 8:48 pm
- Post datetime: 2011-04-19T19:20:58+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

First, go to, [http://xbox-scene.com/tools/tools.php?page=isotools](http://xbox-scene.com/tools/tools.php?page=isotools), to guarantee it's virus free.

Then scroll down to Qwix and download that.

Their website is not up anymore, so instead of Googling for a download and potentially getting a virus infested one, go to that page to get it.  But Qwix is the best iso management program for the original Xbox.
## Post #27
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-04-19T20:45:16+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

i can just FTP to the 360.. anyone into modding should have a hacked jtag 360. :\
## Post #28
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2011-04-20T04:45:43+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

assume i have a  x360 iso legally and try to answer on how to extract x360 isos.
## Post #29
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-04-20T20:06:36+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

huh? your wording there is a bit awkward O_o i'm not sure what you just asked there???   

but assuming you just asked about how to get files from a pirated game (ISO)
um.. just use wx360... this guy made a whole set of useful 360 tools

[http://gael360.free.fr/](http://gael360.free.fr/)
## Post #30
- Username: brienj
- Rank: VIP member
- Number of posts: 288
- Joined date: Mon May 02, 2005 8:48 pm
- Post datetime: 2011-04-20T22:54:40+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

I thought he was talking about a DOA game that was only on the original Xbox, meaning he needs an Xbox iso extractor, not a 360 one, because I haven't found any 360 tool that works on original Xbox isos.
## Post #31
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2011-04-21T06:12:27+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

So anyway, who do you think i should contact to get some info on the format? So I'll make a Blender importer.
## Post #32
- Username: maniacoloco
- Rank: advanced
- Number of posts: 49
- Joined date: Sat Mar 05, 2011 10:19 pm
- Post datetime: 2011-04-21T14:37:39+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

> Reply from gjinka
>
> So anyway, who do you think i should contact to get some info on the format? So I'll make a Blender importer.

There's a thread about doax2 and NG2 in the research forum with info of the format.
## Post #33
- Username: maniacoloco
- Rank: advanced
- Number of posts: 49
- Joined date: Sat Mar 05, 2011 10:19 pm
- Post datetime: 2011-04-28T23:29:27+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

The contents of this post was deleted because of possible forum rules violation.
## Post #34
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-04-29T19:50:01+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

hm, thats outdated information. voltrons tool was quite limited in what it could do. and better documentation of the xbox360 swizzle algo is documented in the XDK.
more accurate info can be found in that DOAX2 topic, as the 2 formats are extremely identical

EDIT
oh, and if anyone's interested I've put up a video of all the DOAU models I had during 2006-2007
[http://www.youtube.com/watch?v=oxHo6H0QfcU](http://www.youtube.com/watch?v=oxHo6H0QfcU)

following up to this I plan to make a video showing how to import models from both xbox1 and xbox360.. DOA3,DOAU,DOA4,DOAX2...
I don't have any tools for DC or PS2 importing.

EDIT2
this shows how to get any doa model from xbox1 or xbox360 into 3dsmax
[http://www.youtube.com/watch?v=KQlausrKpXM](http://www.youtube.com/watch?v=KQlausrKpXM)
## Post #35
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2011-04-30T13:33:27+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

thanks for the tools   

but which one should i use to modify the doa3 3d model
## Post #36
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-05-02T01:36:11+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

Really nice video mariokart.
## Post #37
- Username: jaden
- Rank: mega-veteran
- Number of posts: 209
- Joined date: Sat Feb 05, 2011 8:41 am
- Post datetime: 2011-05-02T01:41:09+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

Thanks a lot for the tools
## Post #38
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2011-05-02T14:19:54+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

Cool.

The DOA4 tool is pretty terrible, though.
Wish noesis could import it.
## Post #39
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-05-02T17:46:29+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

DoA4 tool may be able to use a macro to automate...don't know if python GUI can be recognized using AutoIt.
## Post #40
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2011-05-20T18:23:59+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

Has anyone been able to get the DOAX2 models with Noesis without having to reassign the textures?
Has anyone been able to remove doubles of said models without destroying the lips and eyes of the model?

And has anyone been able to get by the 16 material limit of Blender D:<
## Post #41
- Username: jaden
- Rank: mega-veteran
- Number of posts: 209
- Joined date: Sat Feb 05, 2011 8:41 am
- Post datetime: 2011-05-22T00:58:39+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

> Reply from gjinka
>
> Has anyone been able to get the DOAX2 models with Noesis without having to reassign the textures?
Has anyone been able to remove doubles of said models without destroying the lips and eyes of the model?

And has anyone been able to get by the 16 material limit of Blender D:<

you can use 3ds max
## Post #42
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2011-05-22T08:22:55+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

Yeah sure, I have a spare thousand bucks lying around somewhere
## Post #43
- Username: DOTAPRINCE
- Rank: veteran
- Number of posts: 133
- Joined date: Tue May 17, 2011 1:17 pm
- Post datetime: 2011-05-22T14:18:59+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

so was it possible to rip their nude models with these? just curious
## Post #44
- Username: sidneymadmax
- Rank: beginner
- Number of posts: 35
- Joined date: Fri Sep 17, 2010 11:10 pm
- Post datetime: 2011-06-01T20:45:41+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

I have the game (DOAX2) and model
## Post #45
- Username: gta1211
- Rank: beginner
- Number of posts: 24
- Joined date: Thu Apr 14, 2011 2:30 am
- Post datetime: 2011-09-06T22:32:27+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

Hi there !

Is it normal that, when I open any audio AFS file of DoAU with AFS Explorer, I got a lot of files which are corrupt ? You know, when the file length is green/yellow, doesn't match with the max size and where we can heard a wonderful BIIIIIIIIIIP at the end. I always get a " AFS File is corrupted! " when I load a file ( I already got this error on Valkyria Chronicles, but I got a couple of all files with one corrupted ( Yellow length ), and one which works fine, so I didn't seek further ), but I don't know if it's my game copy which is corrupted or if it's normal since tools can't get perfect files anyways.

And is it also normal that on DoAX ( I suppose it will be the same with DoA3 but I haven't tried yet ), all the audio files looks weird ? As if they were muffled or something ( I don't know musical language so I can't explain precisely ), but they are apparently not corrupt, since their length aren't yellow. I got a different loading error for these, it says " Descriptor table missing! ". Can I do something to fix that ?

Thanks to anyone who can answer !

EDIT : Hum, I didn't pay attention that my request was for audio files when it's a section dedicated to 3D/2D models... Please excuse my error, but it still related with a tool and a game we're talking about here, I don't think it's really necessary to create a new topic in the Audio section for this. Gentlemen Moderators, tell me if I'm wrong, I hasten to the right place to post ^^
## Post #46
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2011-09-24T08:09:40+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

hi everyone!

may you please give me a helping hand with this: [viewtopic.php?p=59977#p59977](http://forum.xentax.com/viewtopic.php?p=59977#p59977) ?
## Post #47
- Username: Rayved
- Rank: beginner
- Number of posts: 21
- Joined date: Tue Jun 21, 2011 10:46 am
- Post datetime: 2011-12-07T03:33:40+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

I need help with Crimpxp. I modified a mesh and re-exported it as a 3ds file but when I use crimpxp to inject the new one into the xpr, nothing really happens. I click GO and I get a popup that says "ruby crimp.rp blablabla" and when I open the xpr file with greed explorer, the model looks just the same. I'm running the app in Windows XP SP 3 mode, the GO button wouldn't appear otherwise (on windows 7).

Is there any other app that can reinject a 3ds file into a xpr, or is there some step I'm missing?
## Post #48
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2011-12-21T15:55:12+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

[Download the DOA3(U,X)Viewer](http://rghost.ru/35529492)
just for fun tried to add to the doa3viewer compatibility with doax and doau.

don't know why but the doau and doax objects are mirrored horizontally.
## Post #49
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-12-22T00:37:33+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

do you have format specs on DOAU?

EDIT
found an old doc; [http://www.viewdocsonline.com/document/wpe6kq](http://www.viewdocsonline.com/document/wpe6kq)

its not very detailed, only reconfirmed what I had just figured out in the past hour.

do you have any additional information?
## Post #50
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2011-12-22T09:42:45+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

> Reply from mariokart64n
>
> do you have format specs on DOAU?

EDIT
found an old doc; http://www.viewdocsonline.com/document/wpe6kq

its not very detailed, only reconfirmed what I had just figured out in the past hour.

do you have any additional information?

doau format is not very different from the doa3 xpr. "DOAXExporter.exe" is building a "debug.txt", which you can use to understand the difference.

imao format specs for the "*.cat" files is match more interesting because it contains such things like cloth, bones, boobs, texture animation, speech animation...
## Post #51
- Username: ganjul
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Nov 16, 2011 11:21 pm
- Post datetime: 2011-12-24T08:17:12+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

Hey mariokart, I wanted to write an open source program for the DOAX xprs, maybe if you have some info on DOAU I'll support that format too. 

The document is a bit confusing.
First it doesn't mention some obvious stuff like endianness.

> After the xpr header, there is are the 3 types of “files”
>
> First there is a magic number
>
> 0x80000000 for a model
>
> 0x00040001 for a texture
>
> 0x00800001 for a vertex buffer
Does this mean after the header there can be 3 types of files and a magic number determines which type it is?

OK, fine. A bit lower:

> Following the model header is an array of dwords the count is in the model header “numobj”
Okay, what are these dwords for? He could at least meantion it's unknown.

> So the 3 object offsets are
>
> 38 00 00 00
>
> D2 0C 00 00
>
> D6 11 00 00
>
> These offsets are from the beginning of the file
>
> So looking at offset 38 we see the first object block
Starting from this it doesn't make sense anymore.  What object offset, what "beginning of the file"?

Sounds like you can make sense of all this, could you explain what he means?
## Post #52
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-12-24T18:53:29+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

OK, I've written a format spec based on what I've been able to figure out in the past day.

please help fill in the holes if possible.


> The models are stored into a xpr file, which from what I recall. someone mentioned that XPR was a microsoft file container for the xbox. I don’t know if this is true, but I’ve seen the xbox360 SDK, and it uses xpr too, only its a bit different. but the xbox360 xpr is used for storing textures.. and you can also embed a “user” file
>
> 
>
> so keeping that in mind the XPR is just a container holding the various “components” that the game reassembles during rendering. More commonly, Textures, and whatever else the dev stuffs in there relating to that texture resource.
>
> 
>
> Although I’m still not sure why they store part of the model in a separate file, since they could have stacked everything within the XPR.. but whatever, I’ll break down my findings so far
>
> 
>
> XPR FORMAT
>
> the format uses chunk ids, meaning you keep reading an ID, and keep reading the data until a terminator is met. usually 0xFFFF
>
> the structure is pretty simple, keep reading the chunks into memory, and use them to unpack the “Data Buffer” the data buffer always seems to be aligned to 2048bytes [0x0800]. the byte 0xAD is used to pad any between the start of the file and the start of the buffer. Then padding is used again from the end of the buffer to the end of the file.
>
> Its best to read the chunks all into memory, then unpack once you’ve hit the 0xFFFF terminator.
>
> 
>
> *Note: Data Stored as Little Endian
>
> *Note: there are different vertex types used, some storing vertex weights, some not.
>
> *Note: Face Data seem to be Stored as Triangle Strips, separated by material
>
> **Note:
>
> a 0xFF terminator is seen at the end of the file, after you read the
>
> texture and model entries. A 0xFF terminator is also used within the MDL Chunk.
>
> Also a 0x00 terminator is seen at the start of the file, after the MDL chunk.
>
> So keep that in mind, when re-writting a new XPR.
>
> 
>
> 
>
> Model Format
>
> After you read the model table, it’ll jump you to another table, before finally retrieving the geometry data in the buffer. But its a bit confusing because they do this weird filetree thing where chunks are inside chunks which are inside other chunks.
>
> 
>
> 
>
> 
>
> LONG: ChunkID
>
> 
>
> ChunkID = 0x[58505230] // “XPR0” Header, the first chunk [12bytes]
>
> {
>
> LONG: File Size
>
> LONG: Data Buffer Offset
>
> }
>
> 
>
> ChunkID = 0x[00000080] // Jumps to texture and mesh tables.
>
> {
>
> LONG: Offset, jump your cursor from this spot, continue to loop chunks until 0xFF is met
>
> then return cursor to where you you left off reading the 0x[00000080] ChunkID
>
> And then continue your loop until the terminator 0x00000000 is met.
>
> )
>
> 
>
> 
>
> 
>
> ChunkID = 0x[01000400] // Texture Entry [32bytes per entry]
>
> {
>
> LONG: Data Offset, Jump From Start Data Buffer. Offset given in XPR0 header
>
> LONG: Unknown: usually 0x00
>
> LONG: Texture Details, data is stored in bits, dimensions etc.. haven’t broken it down yet
>
> LONG: Unknown: usually 0x00
>
> SHORT: Unknown: usually 0x01
>
> SHORT: Unknown: usually 0x83
>
> LONG: Data Size
>
> LONG: Unknown: usually 0x00
>
> }
>
> ChunkID - 0x[01008000] // Model Entry [12bytes per entry]
>
> // This Table is kinda useless, but just points you to the vertices used in the buffer
>
> {
>
> Long: Data Offset, from start of data buffer
>
> LONG: Unknown: usually 0x00
>
> }
>
> 
>
> ChunkID = 0x[290F6106] // Unknown
>
> {
>
> LONG: Unknown: usually 0x00
>
> }
>
> 
>
> ChunkID = 0x[4D444C00] // “MDL ”
>
> {
>
> LONG: Object Count
>
> LONG: Texture Count
>
> LONG: Unknown: usually 0x00
>
> LONG: Object Count, count duplicated ????
>
> { // Loop = Object Count
>
> LONG: Object Offset, Jump from start of file
>
> }
>
> }
>
> 
>
> ChunkID = 0x[4F424A00] // “OBJ ”
>
> {
>
> LONG: Vertex Type ???
>
> LONG: Unknown: usually 0x00 | 0x04
>
> LONG: Unknown, may be a count??
>
> LONG: Unknown, may be a count??
>
> FLOAT[32]: Unknown, may be position coordinate
>
> FLOAT[32]: Unknown, may be position coordinate
>
> FLOAT[32]: Unknown, may be position coordinate
>
> LONG: Vertex Count
>
> LONG: Vertex Offset, points to data in data buffer, jump from start of file
>
> LONG: Face Count
>
> LONG: Face Offset, jump from start of file
>
> BYTES[112]: Reserved Space??? data within range are all 0x00
>
> {
>
> LOOP: Loop until subID is 0xFFFFFF
>
> {
>
> LONG: SubChunkID, ** these IDs seem to denote different material properties
>
> 0x00000080 | 0x01000080 | 0x02000080 | 0x05000080
>
>  {
>
>  LONG: SubChunkSize
>
>  LONG: Unknown, Always 0x00
>
>  LONG: Unknown, Always 0x08
>
>  LONG: Unknown
>
>  LONG: Unknown
>
>  LONG: Unknown
>
>  LONG: Unknown
>
>  LONG: Unknown
>
>  LONG: Unknown
>
>  LONG: Unknown
>
>  LONG: Unknown
>
>  LONG: Unknown
>
>  LONG: Unknown
>
>  LONG: Unknown
>
>  LONG: Unknown
>
>  LONG: Unknown
>
>  LONG: Unknown
>
>  LONG: Unknown
>
>  LONG: Unknown
>
>  LONG: Unknown
>
>  LONG: Unknown
>
>  LONG: Unknown
>
>  LONG: Unknown
>
>  LONG: Unknown
>
>  LONG: Unknown
>
>  LONG: Unknown
>
>  LONG: Unknown
>
>  LONG: Unknown
>
>  LONG: Unknown
>
>  LONG: Unknown
>
>  LONG: Unknown
>
>  LONG: Unknown
>
>  LONG: Unknown
>
>  LONG: Number of Faces used by this material??? need to add 2?
>
>  LONG: Unknown, always 0x02
>
>  }
>
> }
>
> }
>
> 
>
> ChunkID = 0x[FFFFFFFF] // Stop Loop!
>
> ChunkID = 0x[00000000] // Stop Loop!
>
> 
>
> 
>
> ****Anything above is stuff I’ve figured out my own by visual inspection of the files via a hexeditor. I still don’t understand the material chunks which are the key to the mesh import.
>
> 
>
> And theres alot of values there I need to test ingame to discover there function. but I’ll update once I solve this.
>
> 
>
> 
>
> 
>
> -mariokart64n

EDIT
I poked the material bytes and ran alot of tests in game.. none of them do anything lol

the only values that do anything are like the first three, they control transparency. and the last three control the material element need to draw the mesh.

I'm wondering if the materials are what the cat file does?? if so then why did they bother wasting all that space storing material info they're obviously not accessing
## Post #53
- Username: ganjul
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Nov 16, 2011 11:21 pm
- Post datetime: 2011-12-24T21:02:25+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

Thanks mariokart.

> LONG: ChunkID
>
> 
>
> ChunkID = 0x[58505230] // “XPR0” Header, the first chunk [12bytes]
>
> ...
You might want to put an "if" before ChunkID = something, although I'm probably one of the few who didn't get it straight away.

> FLOAT[32]: Unknown, may be position coordinate
>
> FLOAT[32]: Unknown, may be position coordinate
>
> FLOAT[32]: Unknown, may be position coordinate
Can be easily checked by simply creating the vertices in max. You can easily tell random junk from something real even only given vertices in a 3d view. Or you could wait until I get something done in Blender.

EDIT: Wait, are we working on DOAU xprs or DOAX? DOAX xprs don't seem to have the header chunks you mention.
Also did you mean big endian?

EDIT2: I'm starting to get somewhere.

```
import struct
class globals:
	pass

file = open('ayaA0.xpr', 'rb')

# the chunk ids seem big endian to me

# The file consists of smaller chunks, which start with a chunk id.
# Each chunk type stores different data and is different Just go
# through all chunks until you reach the end.

# functions for each chunk type
def header():
	print '\nHeader chunk\n----------------'
	#LONG: File Size
	globals.filesize = struct.unpack('<l', file.read(4))[0]
	print 'filesize:', globals.filesize
	#LONG: Data Buffer Offset
	globals.databufferoffset = struct.unpack('<l', file.read(4))[0]
	print 'databufferoffset:', globals.databufferoffset

def textureAndMeshTable():
	print '\ntextureAndMeshTable\n----------------'
	
	# LONG: Offset, jump your cursor from this spot, continue to loop chunks until 0xFF is met
	# then return cursor to where you left off reading the 0x00000080 ChunkID
	# And then continue your loop until the terminator 0x00000000 is met.
	offset = struct.unpack('<l', file.read(4))[0]
	print 'offset:', offset
	
def textureEntry():
	print '\ntextureEntry\n----------------'
	# LONG: Data Offset, Jump From Start Data Buffer. Offset given in XPR0 header
	dataoffset = struct.unpack('<l', file.read(4))[0]
	print 'dataoffset:', dataoffset
	# LONG: Unknown: usually 0x00
	file.read(4)
	# LONG: Texture Details, data is stored in bits, dimensions etc.. haven’t broken it down yet
	file.read(4)
	# LONG: Unknown: usually 0x00
	file.read(4)
	# SHORT: Unknown: usually 0x01
	file.read(2)
	# SHORT: Unknown: usually 0x83
	file.read(2)
	# LONG: Data Size
	datasize = struct.unpack('<l', file.read(4))[0]
	print 'datasize:', datasize
	# LONG: Unknown: usually 0x00
	file.read(4)
	
def modelEntry():
	# This Table is kinda useless, but just points you to the vertices used in the buffer
	print '\nmodelEntry\n----------------'
	# LONG: Data Offset, from start of data buffer
	dataoffset = struct.unpack('<l', file.read(4))[0]
	print 'dataoffset:', dataoffset
	# LONG: Unknown: usually 0x00
	file.read(4)
	
def unknown():
	print '\nUnknown\n----------------'
	# LONG: Unknown: usually 0x00
	file.read(4)
	
def MDL():
	print '\nMDL\n----------------'
	# LONG: Object Count
	objcount = struct.unpack('<l', file.read(4))[0]
	print 'objcount:', objcount
	# LONG: Texture Count
	texcount = struct.unpack('<l', file.read(4))[0]
	print 'texcount:', texcount
	# LONG: Unknown: usually 0x00
	file.read(4)
	# LONG: Object Count, count duplicated ????
	file.read(4)
	
	objoffsets = []
	print 'For each object:'
	for i in range(objcount):
		# LONG: Object Offset, Jump from start of file
		objoffset = struct.unpack('<l', file.read(4))[0]
		print '	objoffset:', objoffset
		objoffsets.append(objoffset)
	
def OBJ():
	print '\nOBJ\n----------------'
	# LONG: Vertex Type ???
	vertextype = struct.unpack('<l', file.read(4))[0]
	print 'vertextype:', vertextype
	# LONG: Unknown: usually 0x00 | 0x04
	file.read(4)
	# LONG: Unknown, may be a count??
	file.read(4)
	# LONG: Unknown, may be a count??
	file.read(4)
	# (FLOAT[32]) * 3: Unknown, may be position coordinate
	posx, posy, posx = struct.unpack('<3f', file.read(12))
	print 'position:', posx, posy, posx
	# LONG: Vertex Count
	vertexcount = struct.unpack('<l', file.read(4))[0]
	print 'vertexcount:', vertexcount
	# LONG: Vertex Offset, points to data in data buffer, jump from start of file
	vertexoffset = struct.unpack('<l', file.read(4))[0]
	print 'vertexoffset:', vertexoffset
	# LONG: Face Count
	facecount = struct.unpack('<l', file.read(4))[0]
	print 'facecount:', facecount
	# LONG: Face Offset, jump from start of file
	faceoffset = struct.unpack('<l', file.read(4))[0]
	print 'faceoffset:', faceoffset
	# BYTES[112]: Reserved Space??? data within range are all 0x00
	file.read(112)
	
	subids = [0x00000080, 0x01000080, 0x02000080, 0x05000080]
	
	while True: # Loop until subID is 0xFFFFFF
		# LONG: SubChunkID, ** these IDs seem to denote different material properties
		subchunkid = struct.unpack('<l', file.read(4))[0]
		print 'Subchunk id:', subchunkid
		
		if subchunkid == 0xFFFFFF: break
		
		# LONG: SubChunkSize
		subchunksize = struct.unpack('<l', file.read(4))[0]
		print '	subchunksize:', subchunksize
		# LONG: Unknown, Always 0x00
		file.read(4)
		# LONG: Unknown, Always 0x08
		file.read(4)
		# (LONG: Unknown) * 30
		file.read(4*30)
		# LONG: Number of Faces used by this material??? need to add 2?
		unknown = struct.unpack('<l', file.read(4))[0]
		# LONG: Unknown, always 0x02
		file.read(4)

# chunk ids and the functions to run
chunkids = {0x58505230: header,
	0x00000080: textureAndMeshTable,
	0x01000400: textureEntry,
	0x01008000: modelEntry,
	0x290F6106: unknown,
	0x4D444C00: MDL,
	0x4F424A00: OBJ}

# start looping through the chunks
while True:
	chunkid = struct.unpack('>l', file.read(4))[0]
	
	if chunkid in (0xFFFFFFFF, 0x00000000):
		break
	else:
		chunkids[chunkid]()
```


I think it doesn't parse till the end because I don't quite understand what you mean should be done with offsets.

> # LONG: Offset, jump your cursor from this spot, continue to loop chunks until 0xFF is met
>
> # then return cursor to where you left off reading the 0x00000080 ChunkID
>
> # And then continue your loop until the terminator 0x00000000 is met.
Do you mean jump to offset, counting from current position, and continue reading chunks as usual before 0xFF is met and then come back to this position? But why do you mention to "continue your loop until the terminator 0x00000000 is met." here? Shouldn't we have been doing it all along?
## Post #54
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-12-25T18:30:02+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

yeah that ID x80 00 00 00 gives you a jump relative to that address. but don't follow the jump yet. keep reading until you reach 0 to terminate your loop

then to evaluate the table that the ID x80 00 00 00 points you to. you just loop until -1 is reached.

I need to re-script, to include DOA3 and DOAX. the findings are based on DOAU.

I got meshes imported now, the thing I missed was where the face count is, that LONG before it is the face position to read from. 
but some xprs are giving me errors, or bad mesh imports. I saw mention of vertex types so I need to investigate that aswell. 

I'll post my script once its all coded, I need help figuring out the positioning info.. I know where it is, but they've formatted it weird.

they supply 4 float32, I know the first 3 are xyz. either the 4th is a vector or its a radian??? but neither seem to work as such
## Post #55
- Username: ganjul
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Nov 16, 2011 11:21 pm
- Post datetime: 2011-12-25T19:37:58+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

Sorry man, but your wording confuses me at some places, I'll try to reread it again.

As for the 4th float value... if you are really sure it's really a float used for transforms, then I've only came across rotations stored in 3 floats, as radians or heading, pitch and roll (0:360) values. if it's a single value, I guess you could threat it as a vector and use the 3 position values as the origin. Technically this is enough to store both angle and scale. What problems are you having now? Are the 3 positions not enough?

And again, the chunk ids you posted seem to be in big endian.

EDIT: Nope, still not getting it. I also don't get what these mesh and texture "tables" are. All I get is they are after the chunks but before the data buffer. Also, are you going to post info on how the vertices and texture data is actually stored?
## Post #56
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-12-26T14:09:59+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

I haven't figured out the tables yet actually...

anyway the 5th long in the XPR is the address to the tables. to make this not soo confusing, your going to read that LONG and add 0x14 to the address and jump from the starting of the file

next the table entries all start with a SHORT 0x0001 then followed by a SubID: 0x0004 = Texture Entry | 0x0080 = Vertex Entry

the vertex table is really useless since theres nothing we can do with raw vertices until we read the primitive chunks "OBJ "
whats important is the texture table, cause it contains the address and size of a single texture. we can also get the DXT type of the DDS texture and its dimensions

I haven't looked at any of the tables being there not critical to the mesh importation. the main problem right now is the meshes not positioning 


another thing is I'm comparing XPRs from all of tecmos known games at the time.
- DOA3
- DOAX
- DOA1U
- DOA2U
- NG

the NG xpr contains the same 0x00000080 chunk id, so I'm actually wondering is that ID is the apart of the XPR filing system..

I'm trying to come up with a way to import all five games
## Post #57
- Username: ganjul
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Nov 16, 2011 11:21 pm
- Post datetime: 2011-12-26T14:18:44+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

Well good luck to you.

However, I think you are terrible at writing file specs    jk, it's probably just me. However, this is not the first file specification I'm reading, so If you'll have time please consider rewriting the file specs like the BRRES file specs from the smash bros wiki. it's really confusing right now. I really hope you'll at least consider it so I can write a similar tool for Blender.
## Post #58
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-12-26T14:33:07+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

alot of my format details are based on my own assumptions, so you shouldn't feel confined by my format specs. 
its best if you solve the format on your own. that way a consensus can be made on the specification of the format.

I posted what I know just to give others an idea of my own thoughts. 
but since I'm not confident in what I posted, I won't be creating a wiki because its probably all wrong lol
-sorry   

Hopefully someone can help me solve the positioning problem, because thats something that really needs to be solved before heading onto the secondary file ".CAT"


EDIT
Here is an example of some texture entries

```
00000020   01 00 04 00 00 44 00 00  00 00 00 00 2A 0B 71 07  00 00 00 00 01 00 83 00  00 84 00 00 00 00 00 00   .....D......*.q.......ƒ..„......
00000040   01 00 04 00 00 88 00 00  00 00 00 00 2A 0B 71 07  00 00 00 00 01 00 83 00  00 C8 00 00 00 00 00 00   .....ˆ......*.q.......ƒ..È......
00000060   01 00 04 00 00 CC 00 00  00 00 00 00 2A 0B 71 07  00 00 00 00 01 00 83 00  00 0C 01 00 00 00 00 00   .....Ì......*.q.......ƒ.........
00000080   01 00 04 00 00 10 01 00  00 00 00 00 2A 0B 71 07  00 00 00 00 01 00 83 00  00 50 01 00 00 00 00 00   ............*.q.......ƒ..P......
000000A0   01 00 04 00 00 54 01 00  00 00 00 00 2A 0B 71 07  00 00 00 00 01 00 83 00  00 94 01 00 00 00 00 00   .....T......*.q.......ƒ..”......
000000C0   01 00 04 00 00 98 01 00  00 00 00 00 2A 0B 71 07  00 00 00 00 01 00 83 00  00 D8 01 00 00 00 00 00   .....˜......*.q.......ƒ..Ø......
000000E0   01 00 04 00 00 DC 01 00  00 00 00 00 2A 0B 71 07  00 00 00 00 01 00 83 00  00 1C 02 00 00 00 00 00   .....Ü......*.q.......ƒ.........
00000100   01 00 04 00 00 20 02 00  00 00 00 00 2A 0B 71 07  00 00 00 00 01 00 83 00  00 60 02 00 00 00 00 00   ..... ......*.q.......ƒ..`......
00000120   01 00 04 00 00 64 02 00  00 00 00 00 2A 0B 71 07  00 00 00 00 01 00 83 00  00 A4 02 00 00 00 00 00   .....d......*.q.......ƒ..¤......
00000140   01 00 04 00 00 A8 02 00  00 00 00 00 2A 0B 71 07  00 00 00 00 01 00 83 00  00 E8 02 00 00 00 00 00   .....¨......*.q.......ƒ..è......
00000160   01 00 04 00 00 EC 02 00  00 00 00 00 2A 0B 71 07  00 00 00 00 01 00 83 00  00 2C 03 00 00 00 00 00   .....ì......*.q.......ƒ..,......
```


0x0100 is the ChunkID, then 0x0400 is the subID 
if the subID is 0x0400 its a texture, if its 0x0080 its a mesh entry.. but notice theres another entry above, which is 0x8300... I believe this is just a general offset entry

anyway there some offsets there, which relate to the position and size of the listed texture. then in there you got this "7107" thats actually the compression and dimensions
all I did was take x=0x71 ((x-1)/0x10) to get 0x07
so I get Height=0x07 and Width=0x07
then to get the actual dimension in pixels, you just take 2 to the power of 7 to get the dimension


next here is an example of the mesh or vertex buffer table

```
0000000C   01 00 80 00 00 6B 00 00  00 00 00 00   ..€..k......
00000018   01 00 80 00 00 C4 01 00  00 00 00 00   ..€..Ä......
00000024   01 00 80 00 40 E2 01 00  00 00 00 00   ..€.@â......
00000030   01 00 80 00 80 00 02 00  00 00 00 00   ..€.€.......
0000003C   01 00 80 00 40 EA 02 00  00 00 00 00   ..€.@ê......
00000048   01 00 80 00 78 12 03 00  00 00 00 00   ..€.x.......
00000054   01 00 80 00 58 13 03 00  00 00 00 00   ..€.X.......
00000060   01 00 80 00 D0 22 03 00  00 00 00 00   ..€.Ð"......
0000006C   01 00 80 00 2C 4B 03 00  00 00 00 00   ..€.,K......
00000078   01 00 80 00 EC 4B 03 00  00 00 00 00   ..€.ìK......
00000084   01 00 80 00 88 5B 03 00  00 00 00 00   ..€.ˆ[......
00000090   01 00 80 00 C8 F2 03 00  00 00 00 00   ..€.Èò......
```


it gives offsets to the start of every vertex set used by each object.. but no sizes
## Post #59
- Username: ganjul
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Nov 16, 2011 11:21 pm
- Post datetime: 2011-12-26T14:49:54+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

> I posted what I know just to give others an idea of my own thoughts.
I know, I just mean you could repost what you "think" you know. Right now some things are missing. Seems like you forgot to post some info which you forgot only you know, and there are places which are just confusing (the wording).

I don't have the required knowledge to reverse engineer formats. I've only written tools using existing format specifications created by others.
## Post #60
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-12-26T14:55:56+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

lol
for me its the opposite, I have no education with programming. but have been looking around in a hex editor for a couple of years.. just as a hobby
## Post #61
- Username: ganjul
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Nov 16, 2011 11:21 pm
- Post datetime: 2011-12-26T15:15:23+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

Well yeah, hacking and programming are different things and require different set of skills, even though they have some things in common which both should know.
I for example, know how 3d data is stored internally in modern games and can generate static or animated models if I know how the data is stored in files, etc, but I can't just open a file with a hex editor and make guesses like a hacker.
## Post #62
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2011-12-27T11:52:14+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

to see the doa3's xpr(used also in doa1u) specs just download on the first page the "DOA3Viewer" and look in the "sources" folder for the "xpr.h" which stores the specs. for the doa2u xpr(used also in doaX) you just need to change these structures:

```
	CHAR	szMagic[4];					// 'OBJ'
	DWORD	dwWeights;					// Number of weights
	DWORD	dwUnknown1;					// Primitive Type ?
	DWORD	dwUnknown2;					// Number of indices (total indices in IVBufInfo)
	FLOAT	fCenterX;					// Object center x
	FLOAT	fCenterY;					// Object center y
	FLOAT	fCenterZ;					// Object center z
	FLOAT	fRadius;					// Object radius
	ST_IVBUFINFO	pIVBufInfo[4];		// Indexed vertex buffers info
	DWORD	Pad1[16];					//?
} ST_OBJ_HEADER;

typedef struct {
	DWORD	dwSize;						// Material size - 2 (in double words) (materials + mesh-subsets)
	DWORD	dwUnknown0;					// 
	DWORD	dwUnknown1;					// 
	FLOAT	fCenterX;					// Sub-object center x
	FLOAT	fCenterY;					// Sub-object center y
	FLOAT	fCenterZ;					// Sub-object center z
	FLOAT	fRadius;					// Sub-object radius
	ST_RGBA_COLOR	stColorDiffuse;		// Diffuse color
	ST_RGBA_COLOR	stColorAmbient;		// Ambient color
	ST_RGBA_COLOR	stColorSpecular;	// Specular color
	ST_RGBA_COLOR	stColorEmissive;	// Emissive color
	FLOAT	fSpecularPower;				// Specular glow power
	DWORD	dwNumTxt;					// Number of textures used by this material
	DWORD	dwUnknown2;					// 
	DWORD	dwUnknown3;					// 
} ST_MAT_HEADER;

typedef struct {
	WORD	wVertexSize;				// Size of one vertex
	WORD	wIVBufferNo;				// Indexed vertex buffer number (0-3)
	DWORD	dwIndexOffset;				// Index buffer start offset (in indices)
	DWORD	dwNumPrimitives;			// Number of primitives
	DWORD	dwUnknown2;					// 
} ST_MAT_MESH;

//doau doesn't use a material subset (the ST_MAT_SUBSET structure)
```

open the sources in the "VisualStudio" to see the code in action
## Post #63
- Username: ganjul
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Nov 16, 2011 11:21 pm
- Post datetime: 2011-12-27T16:02:41+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

FFFFFFFFUUU
I can't believe I didn't notice that.
Anyway, I wish I would know C++ sometimes.

The 4th float value is named "Object radius". I'm not sure what radius its talking about. As far as I know radiuses are for spheres. And the only spheres a 3d model uses in games is the bounding sphere. I've never heard of it being stored in a file, usually its generated on the fly.
## Post #64
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-12-27T16:59:50+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

alright I think the XPR info is pretty complete then 

still I can't get that mesh positioning info to work ? it may be relative to the position of the bones. but theres doesn't seem to be any clear signs of bone or parenting info :\

I moved onto the secondary file (.CAT) hoping to find bones, but no such luck :\

heres the header
20 00 00 00 14 00 00 00 EC 04 00 00 AC AA 00 00 B0 DE 0A 00 02 00 00 00  FF FF FF FF

LONG: always 0x20, maybe ID?
LONG: always 0x14, maybe offset to new data or size of header
LONG: offset, when nulled physics disable ingame >example; hair
LONG: offset "APV", when nulled morph targets disable ingame >example; boobs
LONG: offset, when nulled vertex weighted meshes are missing ingame >example; neck
LONG: always 0x02
LONG: always 0xFF

**note: I had trouble with xprbreaker encrypting heavily modified files?? is there an alternative tool?
**note: when I nulled the 5th LONG or DWORD, not all Vertex Weighted meshes disabled. just certain ones...
like the neck, elbows, wrist and ankles. however there were other vertex weighted meshs that were OK.. such as
the thighs, and knees...



I need to breakup the blurb after the header, which seems critical for making the XPR work.


EDIT2

so, looking at the unknown data after the header. I copy and pasted the binary from another cat into kasumi's cat;
here was the result


?? bones maybe.. lol no but this is obvious controlling what meshes go where... dang wheres that skeleton file!!


EDIT3


I had a look at that last table, theres actually two.
the first is material related information, once nulled the model falls back on the material info in the XPR.
but its interesting, obviously some use mats from the cat, and some dont. my guess is that in the XPR
there is likely a flag to allow the a mesh to either use a CAT material, or a mat from the XPR.

then theres a small indexing table, which just places the objs in different places on the skeleton. nulling this index results in no model on the screen.
but a messed up shadow can be seen, so???

well still no skeleton.... which I can't believe! if the stage files use the same XPR format, without a cat. that must mean there is skeletal info somewhere in the XPR itself.
## Post #65
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2011-12-28T04:13:01+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

> Reply from mariokart64n
>
> 
well still no skeleton.... which I can't believe! if the stage files use the same XPR format, without a cat. that must mean there is skeletal info somewhere in the XPR itself.

the skeleton data is embedded in the executable, but in doau the cutscene characters as young tina and loran do have a skeleton in the cat file. bellow is what i started with when researching on doa3 to doau conversion(i found more later but forgot everything  ) i hope you'll found useful something of this.

posting it as it is:

```
ytina has no speach, no lowpoly and no shadowmodel(and she can blink?); pdog2 also lack some vertex shit

[i0]20(constant)
[i1]14(constant)
[i2]hair and clothes phisics offset (- pdg012)
[i3]?? magic "apv". boobs(and maybe clothes?) jiggling phisics offset (- pdg2)
[i4]joints offset  (all)
[i5]2 (hks=77 and is invisible because of that)
[i6]-1(constant)
[i7..] array of pairs "offset"-"type"(need to add 0x14 to the "offsets"). types:
1 = high poly bones[][3] (all) 				 {points after marker}
3 = materialColor[][50]  (- pdg, pdg2, hks)
5 = shadow shapes[][1]   (- hks, lor, mam, pdg012, yti)  {points on marker}
6 = ?? magic"apa"	 (- pdg2)
9 = low poly bones[][3]  (- hks,lor,mam,pdg012,yti,hel09,tin11,wba) {after marker} 

4 = animated textures(?near "apa" magic?)(some kind of frame counter and offset to bones frames?) (zac2, zac6)
7 = effects objects[][1] (petals and leaves) (kas, ryu)
8 = build a different skeleton(hks, lor, mam, pdg012)
A = ?(hex)00010100(constant)?  (some girls only)
B = ?near "apa" magic? (a few models)
C = ?(int) 1 or 2 (mostly kas and a few others)
D = ?(int)two words? (costume glowing effect) (zac2, zac6, aya18)
10 = effects objects[][1] (huricane?) (tng)
11 = ?(int) some int (hel9,zac3)
12 = offset to bones but i think to a word (mostly kas and a few)
this "array of pairs" ends with 2 null dwords(this array lacks those types: 2,E,F)

materialColorSize = 0x50; materialCOlorHead = 03; ?nullMaterialColorHeader = FF;
bones2=============
FE = high poly model(bonesize=3bytes) (or effects or some other shit or some other kind of bones)
F0 = shadow shapes model(like doa3)
00 = low poly model(bonesize3)

bones=============
0 chest
1 head
2 ass
3 lfoot
4 lelbow
5 lpalm
6 lheap
7 lknee
8 lshoulder
9 rfoot
a relbow
b rpalm
c rheap
d rknee
e rshoulder

11 leyebal
15 reyebal
(2)6 lupperleg
(2)7 rupperleg
(2)8 lkneeJoint
(2)9 rkneeJoint

joints=============
(int)(jointOffset + 0) = somePattern
(int)(jointOffset + 4) = vertexData
((byte)(jointOffset + 8) = OBJ)
((byte)(jointOffset + 9) and (byte)(jointOffset + a) = bones joining by this joint)
((byte)(jointOffset + b) = ?1?)
calculate the joint type by looking what bones does it join
(delete me kas00: 0_29 1_19 3_b 4_d 6_16 7_15 8_c 9_1a a_1c c_25 d_24 e_1b)
0 neck
1 belly
2 lfoot
3 lshoulder
4 lelbow
5 lknee
6 lheap
7 rfoot
8 rshoulder
9 relbow
a rknee
b rheap

clothes=============
1 hair
3 ?
2 skirt


====================================cat 3==========================================
(first 0x14 bytes([i0]-[i4]) can be corrupted(wrong values) in a lot of cat files)
[i0]1(constant)
[i1]14(constant)
[i2]hair and clothes phisics offset
[i3]?? magic "LNK". jiggling boobs offset (incompatible with doau)
[i4]joints offset

[i5]100(constant)
[i6..]1(constant) ?array of pairs "type"-"offset"? (add 0x14 to the offsets bellow)
1 = bones(many types);
3 = materialColor (- bas1,kor6, null offset:bay4, bay5)
4 = offset+0x14 ?array of objs[][1]?(bni0,zac2)(costume glowing effect + animated texture)
?somekind of marker? on kas10-10, kor07-11, chi00-12

bones3=============
-2(FE) = high poly model     (all)
-3(FD) = left and right eyes (-zac3(he has "FB" black glasses))
-5(FB) = ?forearms?     (- bas1,bay345,gok0,hik0,hik2,kas0-5,kas10,kor1,ryu0,ryu3)
-9(F7) = effect objects	     (kas, ryu, nin)
-a(F6) = effect objects	     (bni0,bni1)weapon in hand
-7(F9) = low poly model      (-bas1,chi,cas10,kor0,kor1)
-8(F8) = shadow shapes model (-bas1,cas10,kor1)
-1(FF) = the end
E0 = marker for effect? just before ff end (kas,bni,ryu,nin)

bones on [i6]+0x14=fe, +0x10=fd (zac3 has fb instead of fd?), +3=(fb|ff|f9|f7), +(6|c|13|8|32)=(f9|ff|f8|f5), 

+(16|40|23|35|34)=(f7|ff|f8|f5|fd)

=============shit of doa1u conversions
transparency to:
eaveryone's ears
kasumi1 hair
lei hair
ryu hair(3,4 shoulder)
genfu 1-3(head moustashe, ears)
janlee 1(fingers, ears)
```


feel free to ask
## Post #66
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-12-28T05:20:08+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

O_o interesting stuff man, well done..

I wonder what happens when I implement a custom skeleton back into the CAT file.

I'm going to focus my scripting on the PC port of DOAU. Dead or Alive Online.
they used the DOAU files directly, but stripped the XPR header from the files.

Modding can't get any easier if its a pc game. 


EDIT
I've imported a DOAO file "EMP"
the emp format is really choppy, they striped the XPR stuff from the file.. but the offsets in the OBJ and material bloc's still seem to be relative to the XPR header which no longer exists.. not only that but they added sub headers to all the vertex buffers to separate them, because of that its difficult to recalculate the already bad offsets in the material bloc :\

its probably possible to make a XPR -to- EMP tool, since all you need to do is strip the xpr header, and the texture and mesh tables. then separate and supply new sub headers on the buffers
## Post #67
- Username: ganjul
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Nov 16, 2011 11:21 pm
- Post datetime: 2011-12-28T10:02:56+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

I have another idea what the "radius" float in the xpr objects might be. Since this is a fighting game, it could also be a collision sphere. One way to find out would be to have really small radiuses or really big. If it's eally big, then either hitting an enemy won't do anything (because both players are inside the sphere) or hitting air will harm the enemy.
Also some objects inside the xpr are for cheap shadows, so they will probably have 0 for radius or random junk.

But since someone named it "radius", then he probably knows what it is.
## Post #68
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2011-12-28T14:05:30+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

> Reply from mariokart64n
>
> I wonder what happens when I implement a custom skeleton back into the CAT file.for the skeleton you can only set the xyz for bones, each shoulder, head, heaps etc.

> Reply from mariokart64n
>
> 
EDIT
I've imported a DOAO file "EMP"
the emp format is really choppy, they striped the XPR stuff from the file.. but the offsets in the OBJ and material bloc's still seem to be relative to the XPR header which no longer exists.. not only that but they added sub headers to all the vertex buffers to separate them, because of that its difficult to recalculate the already bad offsets in the material bloc :\with the emp you don't need the direct offsets to textures and vertexFiles. emp format is like a tree:
    DWORD    nodeType;
    DWORD    nodeSize;

there are four types of nodes: 1=mdl,2=vertexFile,3=textureFile,4=theEnd
the textures and the fertexFiles are loaded by their order. for example if the first obj contains the info on two vertex files then the second obj will load the third vertex file.

> Reply from mariokart64n
>
> its probably possible to make a XPR -to- EMP tool, since all you need to do is strip the xpr header, and the texture and mesh tables. then separate and supply new sub headers on the buffers[XPR2EMP tool](http://doa.getbb.ru/viewtopic.php?f=3&t=384), the console version can deswizzle the g8b8 and argb image formats.

> Reply from ganjul
>
> I have another idea what the "radius" float in the xpr objects might be.the xpr file stores only the information on how the model's parts does look, and the cat file contains the info on how the models parts do interact with each other, everything else, such as collision and and interaction with the world is stored inside the executable. anyway good try
## Post #69
- Username: ganjul
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Nov 16, 2011 11:21 pm
- Post datetime: 2011-12-28T14:55:49+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

I don't want to sound like I doubt your knowledge, but why are you so sure? Has the collision detection code been decompiled and someone could make sense of it? So do you know what "radius" is then? I've been into game programming for the past few years and I've never heard of a "radius of object". The transforms are location, rotation and scale (and sometimes shear).
## Post #70
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-12-28T15:47:17+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

@b0ny
you made alot of advancements, truly awesome 
if you got that far, why didn't you make a model importer?

@ganjul
I think the radius assumptions are wrong, I wrote a bunch of zeros and theres no change ingame.. 
I think it sounds kind of odd to hardcode these things into an EXE, like a skeleton and hitboxes.. but its possible

I'm going to try and write zeros over the radius floats on all the objects. last time I tried there was really no effect ingame.
## Post #71
- Username: ganjul
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Nov 16, 2011 11:21 pm
- Post datetime: 2011-12-28T16:06:13+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

OK. I don't get why we call it radius though. What radius?
## Post #72
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-12-28T16:13:52+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

I dont think its radius, I think it was mislabeled.. theres 4 floats, naturally you would associate such a pattern with an object position..

EDIT1
ok, well I assembled one of the DOAU meshes.. and the pivot of the vertex weighted pieces seem to be relative to the bone positions. meaning after aligning the mesh parts its easy to reconstruct a skeleton

GXexplorer does this, however scripts the model positions for each mesh object.

we would have to do the same thing, but with a hardcoded skeleton. this gives us the option utilize the vertex weights atleast. 

I was also trying to figure out what those 4 floats do that are in the OBJ header.. noted b0ny as subobject position and rotation.

I strongly doubt that the 4th float has anything to do with rotation. because the DOAU objects are already rotated correctly. thus there rotation is zero.
so why does the 4th float have a none zero value?

I believe it is a vector of some sort, that is used to manipulate the 1st three floats

you can see here the result of that;


obviously its still not right lol  but ohwell moving on... I don't believe these values will effect new creation of an XPR

lastly I can't even find animation files?!? theres a BIN and a MOT.. 
swap enough files and your character may do different attacks.. but theres no deformation of the skeleton.. quite a mysterious thing they've done in DOA



EDIT2
Ok I'm devising a position list for the models.

Kasumi (repositioned)
[0.000000,0.000000,0.000000] Pelvis (Root)
[0.000000,0.180000,0.004900] Torso
[0.000000,0.467499,-0.025100] Neck
[0.120600,0.401001,-0.018640] UpperArm (Left
[0.360302,0.401001,-0.018640] ForeArm (Left)	
[0.599998,0.400990,-0.018604] Hand (Left)		
[-0.120600,0.401001,-0.018640] UpperArm (Right)	
[-0.360298,0.401001,-0.018640] ForeArm (Right)	
[-0.599998,0.400990,-0.018604] Hand (Right)	
[0.076100,-0.020500,-0.025700] Thigh (Left)		
[0.076100,-0.423801,-0.025700] LowerLeg (Left)	
[0.076100,-0.843697,-0.025700] Foot (Left)		
[-0.076100,-0.020500,-0.025700] Thigh (Right)	
[-0.076100,-0.423801,-0.025700] LowerLeg (Right)	
[-0.076100,-0.843697,-0.025700] Foot (Right)

Kasumi (From File "OBJ Chunk")
[0.000000,0.045885,-0.009516,0.157314] Pelvis (Root)
[0.000000,0.024232,0.018681,0.126946] Torso
[0.000000,0.016209,0.009813,0.0647278] Neck
[0.126262,0.006701,-0.000748,0.110517] UpperArm (Left
[0.118408,0.001096,-0.000909,0.115959] ForeArm (Left)	
[0.084971,-0.003975,0.005570,0.0872708] Hand (Left)		
[-0.126262,0.006701,-0.000748,0.110517] UpperArm (Right)	
[-0.118408,0.001096,-0.000909,0.115959] ForeArm (Right)	
[-0.084971,-0.003975,0.005570,0.0872708] Hand (Right)	
[0.004714,-0.122153,0.023785,0.239093] Thigh (Left)		
[0.007086,-0.235268,-0.027545,0.185274] LowerLeg (Left)	
[0.003823,-0.045763,0.058856,0.134510] Foot (Left)		
[-0.004716,-0.122153,0.023785,0.239093] Thigh (Right)	
[-0.007086,-0.235268,-0.027160,0.185419] LowerLeg (Right)	
[-0.003823,-0.045763,0.058856,0.134510] Foot (Right)
## Post #73
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2011-12-29T12:16:03+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

> Reply from mariokart64n
>
> @b0ny
you made alot of advancements, truly awesome 
if you got that far, why didn't you make a model importer?
i have some wishes that sounds like a plan:
 1) import to doao all the doa3 models. doa3 bones are rotated and i need to rotate back the objects inside the xpr, the clothes inside the cat, and the joints inside the cat. when i've tried to rotate the obj and the joints, i saw that the light/shadow is becoming incorrect for that obj.
 2) import to doao the 4 missing characters from doa3. i've examined the structures inside the bin file paired with a mot file, found the differences between the doa3 and doau and converted a lot of data that can be converted but seems like i've missed something - the files are unstable and some moves can hung the game, also the doau lacks the sounds for those characters moves. and every character have its own tricks that can't be performed by someone else: try to swap the moves from one char to another and you won't be able to make some moves...
 3) import the doa3 stages i've imported some doax and doa3 stages but just like a 3d model, you can't interact with the stage, it has no sounds and no animations. also i know how to add the bounds and the relief to the stage, but it doesn't works right 
 4) i thought that after such conversions i'll have enough skill to convert the doa4 and doad stuff to doao. but when i fail too match i get bored... 

i get bored doing everything alone. if you intend to do any tools or maybe something else for doa please make something like a forum thread, so someone else, can jump in...

> Reply from mariokart64n
>
> EDIT2
Ok I'm devising a position list for the models.
where did you get that info?
## Post #74
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-12-29T18:15:16+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

I just put the mesh objects together, and copied the coordinates from 3dsmax. from objects like the left and right hand, the distance between the two should have been relative to the positions in the file. however there not.

I'm afraid I'm out of ideas on importing meshes with proper positions :\

as for the DOA3 rotation problem, it sounds like you already explored all these options. can you share one of the converted models so I can see the shadow problem?
## Post #75
- Username: ganjul
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Nov 16, 2011 11:21 pm
- Post datetime: 2011-12-29T19:46:40+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

In that image you posted, do you position the meshes according to the 3 float values from the file? If so, it seems clear to me that the positions are not absolute by looking at the position of the head.
## Post #76
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-12-29T20:33:32+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

so what do you feel the numbers represent?


..anyways I compiled more bone positions, and I'm going to try and mimic the ground hog file. 
since the ground hog is the only character model that doesn't deform in game. according to b0ny it has its own skeleton in the cat.

my goal is to put the skeleton back into say kasumi, and see if she deforms... more and more I'm starting to believe that maybe the skeletons really are hardcoded into the EXE :\

Fabricated Bone Positions (output from 3dsmax)

```
$Bone:Pelvis (Root) @ [0.000000,0.000000,0.000000]
$Bone:Torso @ [0.000000,0.180000,0.004900]
$Bone:Neck @ [0.000000,0.467499,-0.025100]
$Bone:UpperArm (Left) @ [0.120600,0.401001,-0.018640]
$Bone:ForeArm (Left) @ [0.360302,0.401001,-0.018640]
$Bone:Hand (Left) @ [0.599998,0.400990,-0.018604]
$Bone:UpperArm (Right) @ [-0.120600,0.401001,-0.018640]
$Bone:ForeArm (Right) @ [-0.360298,0.401001,-0.018640]
$Bone:Hand (Right) @ [-0.599998,0.400990,-0.018604]
$Bone:Thigh (Left) @ [0.076100,-0.020500,-0.025700]
$Bone:LowerLeg (Left) @ [0.076100,-0.423801,-0.025700]
$Bone:Foot (Left) @ [0.076100,-0.843697,-0.025700]
$Bone:Thigh (Right) @ [-0.076100,-0.020500,-0.025700]
$Bone:LowerLeg (Right) @ [-0.076100,-0.423801,-0.025700]
$Bone:Foot (Right) @ [-0.076100,-0.843697,-0.025700]


AYANE
$Bone:Pelvis (Root) @ [0.000000,0.000000,0.000000]
$Bone:Torso @ [0.000000,0.180000,0.004900]
$Bone:Neck @ [0.000000,0.467499,-0.025100]
$Bone:UpperArm (Left) @ [0.120600,0.400999,-0.018640]
$Bone:ForeArm (Left) @ [0.360300,0.400999,-0.018640]
$Bone:Hand (Left) @ [0.600000,0.400989,-0.018604]
$Bone:UpperArm (Right) @ [-0.120600,0.400999,-0.018640]
$Bone:ForeArm (Right) @ [-0.360300,0.400999,-0.018640]
$Bone:Hand (Right) @ [-0.600000,0.400989,-0.018604]
$Bone:Thigh (Right) @ [-0.076100,-0.020500,-0.025700]
$Bone:LowerLeg (Right) @ [-0.076100,-0.423800,-0.025700]
$Bone:Foot (Right) @ [-0.076100,-0.843700,-0.025700]
$Bone:Thigh (Left) @ [0.076100,-0.020500,-0.025700]
$Bone:LowerLeg (Left) @ [0.076100,-0.423800,-0.025700]
$Bone:Foot (Left) @ [0.076100,-0.843700,-0.025700]

HITOMI
$Bone:Pelvis (Root) @ [0.000000,0.000000,0.000000]
$Bone:Torso @ [0.000000,0.184998,0.005200]
$Bone:Neck @ [0.000000,0.486464,-0.021042]
$Bone:UpperArm (Left) @ [0.124200,0.405900,-0.019200]
$Bone:ForeArm (Left) @ [0.371182,0.405900,-0.019162]
$Bone:Hand (Left) @ [0.618182,0.405874,-0.019162]
$Bone:UpperArm (Right) @ [-0.124200,0.405900,-0.019200]
$Bone:ForeArm (Right) @ [-0.371183,0.405900,-0.019163]
$Bone:Hand (Right) @ [-0.618181,0.405874,-0.019163]
$Bone:Thigh (Right) @ [-0.078400,-0.028300,-0.026400]
$Bone:LowerLeg (Right) @ [-0.078402,-0.428300,-0.026400]
$Bone:Foot (Right) @ [-0.078400,-0.844700,-0.026400]
$Bone:Thigh (Left) @ [0.078400,-0.028300,-0.026400]
$Bone:LowerLeg (Left) @ [0.078398,-0.428300,-0.026400]
$Bone:Foot (Left) @ [0.078400,-0.844700,-0.026400]

TINA
$Bone:Pelvis (Root) @ [0.000000,0.000000,0.000000]
$Bone:Torso @ [0.000000,0.200001,-0.010500]
$Bone:Neck @ [0.000000,0.476915,-0.041050]
$Bone:UpperArm (Right) @ [-0.130000,0.425441,-0.039300]
$Bone:ForeArm (Right) @ [-0.384000,0.425441,-0.039300]
$Bone:Hand (Right) @ [-0.626900,0.425439,-0.039300]
$Bone:UpperArm (Left) @ [0.130000,0.425441,-0.039300]
$Bone:ForeArm (Left) @ [0.384000,0.425441,-0.039300]
$Bone:Hand (Left) @ [0.626900,0.425439,-0.039300]
$Bone:Thigh (Left) @ [0.073200,-0.015500,-0.024700]
$Bone:LowerLeg (Left) @ [0.073201,-0.401500,-0.024700]
$Bone:Foot (Left) @ [0.073200,-0.844500,-0.024700]
$Bone:Thigh (Right) @ [-0.073200,-0.015500,-0.024700]
$Bone:LowerLeg (Right) @ [-0.073199,-0.401500,-0.024700]
$Bone:Foot (Right) @ [-0.073200,-0.844500,-0.024700]

HELENA
$Bone:Pelvis (Root) @ [0.000000,0.000000,0.000000]
$Bone:Torso @ [0.000000,0.200001,-0.010500]
$Bone:Neck @ [0.000000,0.476900,-0.041000]
$Bone:UpperArm (Right) @ [-0.130000,0.425400,-0.039300]
$Bone:ForeArm (Right) @ [-0.378400,0.425400,-0.039300]
$Bone:Hand (Right) @ [-0.626800,0.425400,-0.039300]
$Bone:UpperArm (Left) @ [0.130000,0.425400,-0.039300]
$Bone:ForeArm (Left) @ [0.378400,0.425400,-0.039300]
$Bone:Hand (Left) @ [0.626800,0.425400,-0.039300]
$Bone:Thigh (Right) @ [-0.073200,-0.015500,-0.024700]
$Bone:LowerLeg (Right) @ [-0.073200,-0.401500,-0.024700]
$Bone:Foot (Right) @ [-0.073200,-0.844500,-0.024700]
$Bone:Thigh (Left) @ [0.073200,-0.015500,-0.024700]
$Bone:LowerLeg (Left) @ [0.073201,-0.401500,-0.024700]
$Bone:Foot (Left) @ [0.073200,-0.844500,-0.024700]

LEIFANG
$Bone:Pelvis (Root) @ [0.000000,0.000000,0.000000]
$Bone:Torso @ [0.000000,0.195900,-0.010000]
$Bone:Neck @ [0.000000,0.478400,-0.020000]
$Bone:UpperArm (Left) @ [0.117200,0.420900,-0.034900]
$Bone:ForeArm (Left) @ [0.332800,0.420900,-0.034900]
$Bone:Hand (Left) @ [0.548399,0.420898,-0.034900]
$Bone:UpperArm (Right) @ [-0.117200,0.420900,-0.034900]
$Bone:ForeArm (Right) @ [-0.332800,0.420900,-0.034900]
$Bone:Hand (Right) @ [-0.548399,0.420898,-0.034900]
$Bone:Thigh (Left) @ [0.071200,-0.009800,-0.024000]
$Bone:LowerLeg (Left) @ [0.071200,-0.424800,-0.024000]
$Bone:Foot (Left) @ [0.071200,-0.839800,-0.024000]
$Bone:Thigh (Right) @ [-0.071200,-0.009800,-0.024000]
$Bone:LowerLeg (Right) @ [-0.071200,-0.424797,-0.024000]
$Bone:Foot (Right) @ [-0.071200,-0.839800,-0.024000]

```
## Post #77
- Username: ganjul
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Nov 16, 2011 11:21 pm
- Post datetime: 2011-12-29T21:38:59+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

I might have missed somethings, but in your image if you really used the 3 float values from xpr to position the meshes, then:
The head is at almost (0,0,0). Usually the feet are at (0,0,0) and more rarely the middle of the body. So it's possible that the positions are not absolute, but relative. That is relative to the parent bone or mesh. The parenting info might be in the exe (the compiled game code).
For the note, the topmost (parent of all) bone is usually in the middle of the body. So it's positions are absolute (not relative to any other bone).

I'm really not sure what you are doing right now, so you might not need to know all this.
## Post #78
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-12-29T22:54:06+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

no the positions in the image are multiplied by the 4th float. I took [X,Y,Z]*W to get the X,Y,Z of each position.
of course anything multiplied by zero equals zero, thus why the head is in the center. because the 4th float must not be a multiplier as I preivously thought

here is an image without using the 4th float as a multiplier. however I used a multiplier of 10 to better show the object spacing



interestingly the only objects in the center are the objects which I noted before. when I overwrote the offsets in the CAT header, all the vertex weighted objects disappeared, with the exception of the thighs. which is what can be notably seen in the positions here.. there must be some form of hierarchy, which works relative to that.

again here are the exact positions supplied by the XPR file. in the form of x,y,z,w
[0.000000,0.045885,-0.009516,0.157314] Pelvis (Root)
[0.000000,0.024232,0.018681,0.126946] Torso
[0.000000,0.016209,0.009813,0.0647278] Neck
[0.126262,0.006701,-0.000748,0.110517] UpperArm (Left
[0.118408,0.001096,-0.000909,0.115959] ForeArm (Left)
[0.084971,-0.003975,0.005570,0.0872708] Hand (Left)
[-0.126262,0.006701,-0.000748,0.110517] UpperArm (Right)
[-0.118408,0.001096,-0.000909,0.115959] ForeArm (Right)
[-0.084971,-0.003975,0.005570,0.0872708] Hand (Right)
[0.004714,-0.122153,0.023785,0.239093] Thigh (Left)
[0.007086,-0.235268,-0.027545,0.185274] LowerLeg (Left)
[0.003823,-0.045763,0.058856,0.134510] Foot (Left)
[-0.004716,-0.122153,0.023785,0.239093] Thigh (Right)
[-0.007086,-0.235268,-0.027160,0.185419] LowerLeg (Right)
[-0.003823,-0.045763,0.058856,0.134510] Foot (Right)


I think with this aside I'll continue research on the CAT format. once I figure that cat file out, I can attempt to write new geometry to the game
## Post #79
- Username: ganjul
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Nov 16, 2011 11:21 pm
- Post datetime: 2011-12-30T06:44:56+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

> Reply from mariokart64n
>
> no the positions in the image are multiplied by the 4th float.
huh?

> I believe it is a vector of some sort, that is used to manipulate the 1st three floats
>
> 
>
> you can see here the result of that;
I think you'll agree that you didn't explain very well what you were doing here. You should try to explain exactly what you are trying to do, if you want to share your ideas and get feedback.

On a side note, the lowpoly meshes from the left of your new image are probably used for fake reflections. At least I can say they are not used for collisions. "Hit boxes" don't look anything like that. It could also be used for "level of detail", but fighting games rarely use those. [http://jsomers.com/vipm_demo/4cows.gif](http://jsomers.com/vipm_demo/4cows.gif)
## Post #80
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-12-30T08:35:13+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

I had an unknown amount of variables in a 128bit binary space. I had to explore every possible idea...

I've seen a few games where they stored 16bit floats instead of 32bit floats. 
but used a 32bit float divisor or multiplier on their 16bitfloats to regain accuracy.

I just thought a simular thing may have happened, since I wasn't 100% sure that what I was looking at was
indeed 32bit encoded floats.

heres it is a bit more clearly laid out
say I got like these four variables, with whatever values. I essentially want to supply a X,Y,Z to my object as a new position
but I have 4 variables, so I tried to remove the 4th variable by the following method

Equation: (pos = [x,y,z])
X = X*W
Y = Y*W
Z = Z*W


also maybe I'm being stupid, but your replies always sound belittling. like pointing out what a lowpoly model does.. and how the "compiled game code" is the EXE, and over and over about how terrible I am at explaining programming matters <_< !! grr

cut me some slack I don't have a degree in programming or anything. But I know 3D models, Hex, and stuff  .. like a bit of scripting. 

anyways, tonight I looked more at the CAT file. so here are specs so far, the ideas are based off b0ny's notes. through various testing I'm pretty sure his notes are accurate..
BYTE = 1 Byte Unsigned Integer
SHORT = 2 Byte Unsigned Integer
LONG = 4 Byte Unsigned Integer

If I recall a WORD is a 2byte unsigned int, and Dword is signed.. in any case I always use unsigned ints. but unless noted assume everything is unsigned

CAT FORMAT
============================
-Header-
[LONG] FileID 0x20
[LONG] Offset to Bloc1 (Node Hierarchies)
[LONG] Offset to Bloc2 (Physics)
[LONG] Offset to Bloc3 (Morph Targets)
[LONG] Offset to Bloc4 (?? Joints)
=============================
=============================
-Bloc1-
[LONG] ChunkID
[LONG] Offset to Chunk
..Loop until the ChunkID==0xFF
what each chunk ID does is documented by b0ny
If the offset is 0xFFFFFFFF or -1 ignore chunk entry
I'll update the spec for each chunk once I've figured out how to read them. there are 12?
============================
-Bloc1: ChunkID 0x01-
 [BYTE] Flag, 0x00 = Don't Render | 0x01 = Render
 [BYTE] Node Index to attach Object to
 [BYTE] Object Index to Use
you'll need this to apply the Mesh Objects to the correct position on the skeleton[/i][/color]
=============================
=============================
-Bloc2-
[LONG] ChunkID
[LONG] Offset to Chunk
..Loop until the ChunkID==0xFF
I Don't think any of these IDs were documented.. but they involve the Physics somehow
=============================
=============================
-Bloc3-
Morph Targets, Not Documented
=============================
=============================
-Bloc4-
[LONG] Offset to Vertex Buffer
Loop until offset is 0
=============================
-Bloc4: Vertex Buffer Header-
[LONG] Offset to an Undocumented Bloc lol
[LONG] Offset to Vertex Buffer
[LONG] Unknown ??
The First offset jumps to a small section after the buffer, not yet investigated
=============================
-Bloc4: Vertex Buffer-
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
after the transform, vertices are defined. however there is no count or terminator byte. 
=============================
-Bloc4: Vertex Buffer Vertex Definition-
[FLOAT32] Position X
[FLOAT32] Position Y
[FLOAT32] Position Z
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
I just calculated the loop count of the buffer based on the offset given in the vbuf header. 
I just divided the size of the buffer by the size of a vertex definition or stride to get count
=============================




EDIT1
According to b0ny's notes chunkID 0x08 is a custom skeleton.

however I copied the skeleton from the cinema kasumi (hks00) and pasted it into (kas00) and got this


I was confused, thought maybe the skeletons were different so poked the values in the RAM.
seems some bones just don't read the positions

heres what I got, anything thats labeled not used?
means that when I entered a value, there was no effect. as if the game does not read these positions...

below are the documented data fields and there cause&effect
[X,Y,Z,NULL]

Float32[4] = Torso
Float32[4] = Neck
Float32[4] = Not Used?
Float32[4] = Not Used?
Float32[4] = Not Used?
Float32[4] = Not Used?
Float32[4] = Left Thigh
Float32[4] = Left Lowerleg
Float32[4] = Left Upperarm
Float32[4] = Not Used?
Float32[4] = Not Used?
Float32[4] = Not Used?
Float32[4] = Right Thigh
Float32[4] = Right Lowerleg
Float32[4] = Right Upperarm
Float32[4] = Not Used?
Float32[4] = Not Used?
Float32[4] = Left Eye
Float32[4] = Not Used?
Float32[4] = Not Used?
Float32[4] = Right Eye
Float32[4] = Not Used?
Float32[4] = Not Used?
## Post #81
- Username: ganjul
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Nov 16, 2011 11:21 pm
- Post datetime: 2011-12-30T09:12:28+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

I'm sorry if I sounded like a think highly of myself. I never wanted you to feel belittled, I just meant you know alot, but don't share your knowledge very well and if you did more people could help.
I share my knowledge in game programming because I think it might help you to understand what some things in the file could be for. And till now all my guesses haven't been right, so I'm not too great at this. Not everyone knows the general uses of lowpoly models or how collision solids are stored in files, so i thought I would be helpful in explaining why certain things are in the file. 

> and over and over about how terrible I am at explaining programming matters
You're not. It was a joke, like I said and I said it once. What I'm saying now is your descriptions are a bit confusing, missing some important points which you add later. This makes me test stuff which is not needed anymore. So I'm just asking you to try word it a bit "better", so me and others could help more. You can either accept it as constructive criticism, or ignore my suggestions or requests.

> I don't have a degree in programming or anything.
me too 

EDIT: OK, I reread the DOAX doc you uploaded and I think I understand it now.
I wrote this Python parser. But it still doesn't look right right and I stil don't get what to do with the vertexbuffer and all the vertex/face indexes and offsets.

```
import struct
class globals:
	pass

# little endian

filename = 'vhe01.xpr'
file = open(filename, 'rb')

# 1. header
header = file.read(4)
print 'header:',header
# 2. file size,    does not always match the actual xpr file size
filesize = struct.unpack('<i', file.read(4))[0]
print 'filesize:',filesize
# 3. header size,    multiple of 4, includes padding
headersize = struct.unpack('<i', file.read(4))[0]
print 'headersize:',headersize

models = []
textures = []
vertexbuffers = []

def readModel():
	
	def readOBJ():
		print '\nOBJ chunk:'
		# dword magic;
		objmagic = struct.unpack('<i', file.read(4))[0]
		# dword vertex_type;
		vertextype = struct.unpack('<i', file.read(4))[0]
		# dword num0;
		num0 = struct.unpack('<i', file.read(4))[0]
		# dword numfaces;
		numoffaces = struct.unpack('<i', file.read(4))[0]
		# float x,y,z,w; // 16 bytes
		x,y,z,w = struct.unpack('<4f', file.read(16))
		# vertexinfo vi[4]; //32 * 4 = 128 bytes
		vertexinfo = []
		for i in xrange(4):
			# dword numverts;
			numofverts = struct.unpack('<i', file.read(4))[0]
			# dword vertex_offset;
			vertexoffset = struct.unpack('<i', file.read(4))[0]
			# dword numfaces;
			numoffaces = struct.unpack('<i', file.read(4))[0]
			# dword index_offset;
			indexoffset = struct.unpack('<i', file.read(4))[0]
			# dword num0;
			num0 = struct.unpack('<i', file.read(4))[0]
			# dword num1;
			num1 = struct.unpack('<i', file.read(4))[0]
			# dword num2;
			num2 = struct.unpack('<i', file.read(4))[0]
			# dword num3;
			num3 = struct.unpack('<i', file.read(4))[0]
			
			vertexinfo.append([numofverts, vertexoffset, numoffaces, indexoffset, [num0,num1,num2,num3]])
		
		print 'objmagic:',objmagic,'\n','vertextype:',vertextype,'\n','num0:',num0,'\n','numoffaces:',numoffaces,'\n','indexoffset:',indexoffset,'\n','num0,num1,num2,num3:',num0,num1,num2,num3
		return [objmagic, vertextype, num0, numoffaces, [x,y,z,w], vertexinfo]
	
	def readMaterial():
		print '\nMaterial chunk:'
		materialtypes = {0x80000000 : 'standard',
			0x80000001 : '256bit'}
		
		# dword header;
		type = struct.unpack('<i', file.read(4))[0]
		# dword size;
		size = struct.unpack('<i', file.read(4))[0]
		# dword pad02;
		file.read(4)
		# dword number;
		number = struct.unpack('<i', file.read(4))[0]
		# float mat_color0[4]; // diffuse color ?
		d1,d2,d3,d4 = struct.unpack('<4f', file.read(4*4))
		# float mat_color1[4];
		file.read(16)
		# float mat_color2[4];
		file.read(16)
		# float mat_color3[4];
		file.read(16)
		# float mat_color5[4];
		file.read(16)
		
		# float power; // specular power ??
		power = struct.unpack('<f', file.read(4))[0]
		# dword pad25; // 1
		file.read(4)
		# dword pad26; // 1
		file.read(4)
		# dword ffff; // 0xfffffffff
		file.read(4)
		# dword tex_no; // texture used by this material
		textureindex = struct.unpack('<i', file.read(4))[0]
		# dword pad29;
		file.read(4)
		# dword transparency; // this is the dxt1 transparency flag
		alphaflag = struct.unpack('<i', file.read(4))[0]
		# dword pad31;
		file.read(4)
		# dword pad32;
		file.read(4)
		# dword indexoffset; // index buffer - offset
		indexoffset = struct.unpack('<i', file.read(4))[0]
		# dword indexsize; // index buffer - num
		indexsize = struct.unpack('<i', file.read(4))[0]
		# dword pad35;
		file.read(4)
		
		print 'type:',type,'\n','size:',size,'\n','number:',number,'\n','diffuse?:',[d1,d2,d3,d4],'\n','power:',power,'\n','textureindex:',textureindex,'\n','alphaflag:',alphaflag,'\n','indexoffset:',indexoffset,'\n','indexsize:',indexsize
		return [type, size, number, [d1,d2,d3,d4], power, textureindex, alphaflag, indexoffset, indexsize]
	
	print '\nModel chunk:'
	# size of chunk
	chunksize = struct.unpack('<i', file.read(4))[0]
	# model magic
	modelmagic = struct.unpack('<i', file.read(4))[0]
	# number of objects in the model
	numofobjects = struct.unpack('<i', file.read(4))[0]
	# number of textures in the model
	numoftextures = struct.unpack('<i', file.read(4))[0]
	# padding nulls
	file.read(4)
	# unknown, $ of vertex buffers ?
	file.read(4)
	# for each object: object offset from beginning of file
	objoffsets = []
	for i in xrange(numofobjects):
		objoffset = struct.unpack('<i', file.read(4))[0]
		objoffsets.append(objoffset)
	
	models.append([chunksize, modelmagic, numofobjects, numoftextures, objoffsets])
	print 'chunksize:',chunksize,'\n','modelmagic:',modelmagic,'\n','numofobjects:',numofobjects,'\n','numoftextures:',numoftextures,'\n','objoffsets:',objoffsets
	
	# go to object offsets and read them
	objs = []
	for i in objoffsets:
		currentpos = file.tell()
		file.seek(i)
		
		obj = readOBJ()
		objs.append(obj)
		
		readMaterial()
		
		file.seek(currentpos)
		
	return models

def readTexture():
	pass

def readVertexbuffer():
	pass

# After the xpr header, there can be the 3 types of “files”
# First there is a magic number
# 0x80000000 for a model
# 0x00040001 for a texture
# 0x00800001 for a vertex buffer

files = {0x80000000: readModel,
	0x00040001: readTexture,
	0x00800001: readVertexbuffer}

while True:
	chunktype = struct.unpack('<I', file.read(4))[0]
	chunk = files[chunktype]()
	file.seek(chunk[0][0])

```


Until there is a better doc, I give up now.
## Post #82
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-12-31T05:21:07+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

each object gives you the vertex buffer offset and the index buffer offset, along with counts.
then at the end of every material section there are 3 counts.. you need the 1st and 2nd to start and end an element
the 1st count is the index to start at(from your index buffer), and the 2nd is the amount of indices to read <_< ?? I think

without this, your imported meshes may have some badly drawn polygons

but if this is confusing at first, break it down to an easier operation;
instead of reading all the material stuff, just try importing the whole obj without separating the elements

just jump to the vertex offset, and read those in(the more the better) then read your entire facebuffer and attempt to draw it into your scene

remember that some objects that have vertex weights have a larger vertex definition or stride size.


Also here's an update on what I did today;

Compared the CAT of a basic model vs a player model.. and found that fundamentally a CAT file really only needs two sections
here's the CAT header once again
[LONG] HeaderID 0x20
[LONG] Offset1, Object Positioning
[LONG] Offset2, Morphs
[LONG] Offset3, Physics
[LONG] Offset4, Joints 

the two important parts are;
A.) Offset1, which tells the game which objects from the XPR to assign to the skeleton.
B.) Offset4, which controls the positioning and function of the joining mesh pieces
as for now, we'll assume the skeleton is indeed hardcoded or otherwise not obtainable without disassembly of the EXE
hopefully someone with a knowledge of disassembly can lend us a hand, but until then I'm trying to construct my own fictional skeleton

so offset 1 and 4 play a major role in assigning all the mesh parts to the skeleton.. thus why its so important. everything else doesn't matter and is otherwise optional to the game engine.

I attempted to use the information supplied in offset1 and 4 today.. offset1 is really simple, heres the format;
jump to "Offset1"
read the offset table, until the ChunkID==1
[LONG] Offset
[LONG] ChunkID

we're only concerned with chunkID 0x01. the rest also relate to positioning, but are not essential to the model.

jump to the offset from chunkID 0x01 and loop until the flag=0
[BYTE] Flag, 0x00 disable, 0x01 = render
[BYTE] Bone Index, bone that object will attach to
[BYTE] Object Index, which object to use

assuming you have a skeleton (I've created my own fake skeleton)
all the static objects will position correctly to your skeleton...

however you'll notice alot of mesh objects are missing. which are all the vertex weighed objects. which I'll now refer to as the joint objects (an example of joint objects can be seen [here](http://i42.tinypic.com/3bm8k.jpg) in red)

now heres the tricky part! O_o

to position these correctly you have to read the data from Offset4. But its like nothing I've ever seen before..
unlike Offset1, where you get a list of indices to your skeleton. Offset4 is a vertex buffer followed by a table of strange counts

I'm not sure yet how to evaulate the table after the vertex buffer, since the counts exceed the vertex buffer entirely.. I'm curious, perhasp those counts are indexing the object?
then theres the mater of the vertex definitons.. it appears they supply 8 float32's it looks like the resupplied the vertex normals again ??
And it doesnt stop there the vertex buffer seems to contain sub buffers.. as the imported vertex cloud contains other shapes besides the one for that particular object.



in this image there are a few things happening
1.) the orange wires are the objects assigned to the skeleton after I read in offset1 and offset4
2.) the yellow wire is an object that is not placed correctly(the red arrow shows that it needs to move over), as well you can see a few other not aligned properly.
3.) the blue dots(circled in red) are from the vertex buffer for that yellow wire object
Notice that some of the blue dots(circled in pink) are off in the middle of nowhere. and also notice that 2 dots are always at the center opening of the objects I want to align

I'm messing around with that table after the vertex buffer, but with no luck  and I can think of no way to complete the positioning of the joint objects


EDIT1
...starting to find some patterns from the offset4 sub tables

looks like an ID is given, then a series of offsets are given until -1 is met. The ID is closed when the next offset returns -1

01 00 00 00 
A0 12 00 00 A0 02 00 00 FF FF FF FF
60 0D 00 00 80 02 00 00 FF FF FF FF 
FF FF FF FF

02 00 00 00 
20 0F 00 00 20 04 00 00 FF FF FF FF
20 10 00 00 A0 01 00 00 FF FF FF FF 
A0 0F 00 00 00 01 00 00 FF FF FF FF
00 0F 00 00 60 01 00 00 FF FF FF FF
FF FF FF FF

10 00 00 00 
00 06 00 00 FF FF FF FF 
C0 05 00 00 FF FF FF FF 
80 04 00 00 FF FF FF FF 
A0 04 00 00 FF FF FF FF 
80 03 00 00 FF FF FF FF 
60 05 00 00 FF FF FF FF 
20 04 00 00 FF FF FF FF 
A0 03 00 00 FF FF FF FF 
E0 04 00 00 FF FF FF FF 
00 05 00 00 C0 02 00 00 FF FF FF FF 
A0 02 00 00 FF FF FF FF 
80 02 00 00 FF FF FF FF 
40 02 00 00 FF FF FF FF 
00 02 00 00 FF FF FF FF 
E0 01 00 00 FF FF FF FF 
C0 01 00 00 FF FF FF FF 
80 01 00 00 FF FF FF FF 
40 06 00 00 A0 01 00 00 FF FF FF FF 
FF FF FF FF
## Post #83
- Username: ganjul
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Nov 16, 2011 11:21 pm
- Post datetime: 2011-12-31T08:14:04+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

The material struct from the doc:

```
	dword header;
	dword size;
	dword pad02;
	dword number;
	float mat_color0[4]; // diffuse color ?
	float mat_color1[4];
	float mat_color2[4];
	float mat_color3[4];
	float mat_color5[4];
	float power; // specular power ??
	dword pad25; // 1
	dword pad26; // 1
	dword ffff; // 0xfffffffff
	dword tex_no; // texture used by this material
	dword pad29;
	dword transparency; // this is the dxt1 transparency flag
	dword pad31;
	dword pad32;
	dword indexoffset; // index buffer - offset
	dword indexsize; // index buffer - num
	dword pad35;
} materialblock;

```


I think the 3 float[4]'s after diffuse could be ambient, specular and emissive? Not sure what the 5th one is for.


> each object gives you the vertex buffer offset and the index buffer offset, along with counts.
OK, yeah.

> then at the end of every material section there are 3 counts..
3? I only see indexoffset and indexsize in the doc. That's probably enough to tell which triangles are affected by which material.
What 3rd value are you talking about?

> you need the 1st and 2nd to start and end an element
By 'element' you mean material?

> just jump to the vertex offset, and read those in(the more the better) then read your entire facebuffer and attempt to draw it into your scene
That's always a good idea.
I don't quite understand what the data in the vertex buffer is though. There are a number of vertex structs in the Viewer's sourcecode,
but I don't know C++, I don't understand which is used in the .cpp file.

That seems to depend on "dword vertex_type" in the "objheader", but I don't get which value corresponds to which struct, or what values there can be.

> as for now, we'll assume the skeleton is indeed hardcoded or otherwise not obtainable without disassembly of the EXE
>
> hopefully someone with a knowledge of disassembly can lend us a hand, but until then I'm trying to construct my own fictional skeleton
This is dodgy, but maybe you could ty to use the DOAX2 skeleton positions, maybe they haven;t changed it too much.

> here's the CAT header once again
>
> [LONG] HeaderID 0x20
>
> [LONG] Offset1, Object Positioning
>
> [LONG] Offset2, Morphs
>
> [LONG] Offset3, Physics
>
> [LONG] Offset4, Joints
I already feel the physics stuff is going to be a pain.

Everything below is beyond me. Good luck.
## Post #84
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-12-31T13:07:08+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

ok, in b0ny's notes for the material at the end of the material section he has this

   dword indexoffset; // index buffer - offset
   dword indexsize; // index buffer - num
   dword pad35;

the last dword is not padding, its another count. but since its an unknown constant it might aswell be pad anyway

00 00 00 80 90 00 00 00  00 00 00 00 
00 00 00 00 00 00 A0 33  B6 09 47 3E
20 67 37 BD 65 78 17 3E  00 00 80 3F
00 00 80 3F 00 00 80 3F  00 00 80 3F
00 00 80 3F 00 00 80 3F  00 00 80 3F
00 00 80 3F 9A 99 19 3E  CD CC CC 3D
CD CC CC 3D 00 00 80 3F  00 00 00 00
00 00 00 00 00 00 00 00  00 00 00 00
00 00 20 41 01 00 00 00  03 00 00 00
26 19 19 FF 11 00 00 00  00 00 00 00
00 00 00 00 00 04 00 00  20 00 00 00
B0 06 00 00 5E 01 00 00  02 00 00 00

next you'll notice he also has

   dword indexoffset; // index buffer - offset
   dword indexsize; // index buffer - num

if I recall this is again is inaccurate, none of these are an offset or size
there index counts to start and end your face reads
course they can be used to calculate offset and size. just multiply the counts by two, because
we're dealing with shorts, or 2byte integers.
you'll need to add the offset of the index buffer to the start count to get the relative offset in the index buffer 

also yes, when I refer to an element I mean the material. elements are used in 3dsmax, they represent a part of a object
but usually with materials your faces or indices are given a face material id.. but in DOA, they treat these more like elements

because we're separating our polygon strips by this method.

And yeah I don't quite understand the vertex definitions supplied in the document.. even the identifier bytes they have recorded??? I donno
I haven't concluded my own research on the rest of the DOA files, just DOA2U

anyway here's the vertex structure
[FLOAT32] X Vertex Position
[FLOAT32] Y Vertex Position
[FLOAT32] Z Vertex Position
[FLOAT32] X Vertex Normal
[FLOAT32] Y Vertex Normal
[FLOAT32] Z Vertex Normal
[FLOAT32] U Texture Coordinate
[FLOAT32] Y Texture Coordinate

when vertex weights are present, the definition grows by 4bytes. in the header you'll know there's a different vertex type when the
values is not 0. I haven't documented, or even read in the extra data yet. it might not even be vertex weights lol

for now if your vertex type is not 0, expand the vertex definition by 4bytes, thats what I've done in my own script

I'll have a look at the physics and see what fun we're in for
## Post #85
- Username: ganjul
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Nov 16, 2011 11:21 pm
- Post datetime: 2011-12-31T15:39:16+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

> Reply from mariokart64n
>
> ok, in b0ny's notes
I hope you are talking about the DOAX html doc you posted a link to. The sourcecode of the DOA3 viewer shows that there are some differences in the struct data and struct lenghts which will make the DOAX and DOA3 XPR's incampatible.

> the last dword is not padding, its another count. but since its an unknown constant it might aswell be pad anyway
Off-topic, but me being a noob in hex editing, how did you guess its another count? Did you just decide from the size of the dword?

> there index counts to start and your face reads
Sorry, what?

> you'll need to add the offset of the index buffer to the start count to get the relative offset in the index buffer
OK

> also yes, when I refer to an element I mean the material. elements are used in 3dsmax, they represent a part of a object
>
> but usually with materials your faces or indices are given a face material id.. but in DOA, they treat these more like elements
Never heard of that term. In Blender it's just "material". There are some Blender specific terms too, like "Armature" which means "skeleton". We should ty to use software-independent terms to not confuse each other.

> And yeah I don't quite understand the vertex definitions supplied in the document.. even the identifier bytes they have recorded???
There isn't any in the html doc, again are you talking about the DOA3 viewer's sourcecode?

> anyway here's the vertex structure
>
> [FLOAT32] X Vertex Position
>
> [FLOAT32] Y Vertex Position
>
> [FLOAT32] Z Vertex Position
>
> [FLOAT32] X Vertex Normal
>
> [FLOAT32] Y Vertex Normal
>
> [FLOAT32] Z Vertex Normal
>
> [FLOAT32] U Texture Coordinate
>
> [FLOAT32] Y Texture Coordinate
>
> 
>
> when vertex weights are present, the definition grows by 4bytes. in the header you'll know there's a different vertex type when the
>
> values is not 0. I haven't documented, or even read in the extra data yet. it might not even be vertex weights lol
Thanks!
I dont think the extra 4 bytes in the end are enough to store vertex weight, btw. Normally it's a 4 byte float for a single weight and you like usually can have 3-4 bones assigned to each vertex.

> for now if your vertex type is not 0, expand the vertex definition by 4bytes, thats what I've done in my own script
OK

> I'll have a look at the physics and see what fun we're in for
I think it wouldn't hurt to know if they used an in-house physics engine or something like Havoc, PhysX or Bullet. I don't think they all work the same way.

They probably used sphere constraint for clothing and boobs, like the first one in this image [http://www.ode.org/pix/joints.jpg](http://www.ode.org/pix/joints.jpg)
Or possibly softbodies for clothes instead.

I think for the constraints only angle limits would be required to be stored in the file.
## Post #86
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-12-31T16:36:49+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

I can't recall which source I was reading off of, there were a few...
But I'm looking at DOAU, which may be simular to DOAX?

anyway I uploaded this, it contains info on the vertex definitions. 
(the link is only temp, please save the doc for your own reference)
[https://viewer.zoho.com/docs/rbM0B](https://viewer.zoho.com/docs/rbM0B)

also that number that was 2, and I said was a count.
isn't a count, its an unknown. 
but being an int of 2, it could be a flag or count. it won't be a offset, or a float point value because its just 2.. its too small.
I don't believe its a flag, but its possible. I would lean more to a count, but then again theres no data there to support that theory either
all in all I've mislabeled that int aswell, for now its an unknown int

and to re-illustrated what elements are in 3dsmax. 
basically anything that makes up a complete surface is an element
so say you had a Single Object, of three spheres they can all share the same material
but the spheres are in other words 3 sub objects within that object




sorry about the typo above, I meant each material gives you these two counts
1.) Starting Index
2.) Number of Indices to Read

I meant to say these counts just outline the starting index, and ending index...

aswell it is possible to store vertex weights in a 4byte space, true its not conventional.. but neither is 4 bones per weight these days.. gotta think old skool.
I bet these guys only store 2 bones per weight.. the definition could look something like
[BYTE] Bone Index 1
[BYTE] Bone Index 2
[BYTE] Vertex Weight 1
[BYTE] Vertex Weight 2

weights don't have to be super accurate, so its not uncommon to see them stored in a 8bit space

lastly I don't think Havoc, PhysX or Bullet is being used at all here.. for one PhysX and Bullet are fairly recent.. doa;s conception goes back awhile.

But haven't gotten anywhere yet with the physics sections yet.. but its not looking good lol.. they got alot of structures there to decipher
## Post #87
- Username: ganjul
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Nov 16, 2011 11:21 pm
- Post datetime: 2011-12-31T17:45:49+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

haven't read your reply yet.

But here are the docs reuploaded:

Doax Xpr File:
[http://www.scribd.com/doc/76850656/Doax ... k1d1ey8oii](http://www.scribd.com/doc/76850656/Doax-Xpr-File?secret_password=pusosxoulk1d1ey8oii)

DOAU Xpr Cat Format
[http://www.scribd.com/doc/76850743/DOAU ... 5ytxoo50rm](http://www.scribd.com/doc/76850743/DOAU-Xpr-Cat-Format?secret_password=1hhspqwbvq5ytxoo50rm)
## Post #88
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-12-31T17:50:23+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

yup, you got what I got...

I'll trying searching for more specs and maybe left over source code from old tools I've collected over the last few years

EDIT
[xprbreaker_src.zip](https://xentaxbackup.github.io/file/4942_xprbreaker_src.zip)
## Post #89
- Username: ganjul
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Nov 16, 2011 11:21 pm
- Post datetime: 2011-12-31T17:55:16+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

Wow I just noticed my viewer didn't render most of the second document. I noticed it when viewing it in Scribd. I'm glad I reuploaded it
## Post #90
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-12-31T18:00:57+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

source code on a tool called DOAXExporter

the DOAX format is probably the same as the DOA2U format..
[DOAXExporter_src.zip](https://xentaxbackup.github.io/file/4940_DOAXExporter_src.zip)
## Post #91
- Username: ganjul
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Nov 16, 2011 11:21 pm
- Post datetime: 2011-12-31T18:14:19+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

I only remember hearing that they are very similar. Guess they use the same format. DOA3 XPR is different though, I've compared some chunks.
## Post #92
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-12-31T19:10:10+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

I'll have a look at the DOA3 format tonight, I think only the material section is different?

EDIT


 doa3Viewer_src.zip
Source Code for DOA3 ViewerAuthor: Lumen (4.25 KiB) Downloaded 71 times
## Post #93
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2011-12-31T21:18:12+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

If you guys will want me to add links to the first post, let me know in your posts.
## Post #94
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-12-31T21:23:30+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

I had a look at the DOAX XPR, its likely easier 

Only differences I can gather are
1.) Start of XPR has a file HASH for file verification
2.) OBJ block's Now Use VertexTypes 2 & 3
in my vertex line I just tossed this in;
if vertextype==1 do fseek fstream 4 #seek_cur
if vertextype==2 do fseek fstream 8 #seek_cur
if vertextype==3 do fseek fstream 12 #seek_cur
I'm still not reading in the vertex data, so its skipped for now
3.) I found notes indicating that the Texture Table uses different compression type Flags. putting the wrong flag into the list apparently causes a game crash??

anyway hackers from before were able to get a DOAX character into DOAU. not very surprising, since both games share the same engine and were built around the same time.
in the image below you can see that it almost works.. the problem is pretty obvious though... DOAX has more bones then DOA2U .. either the CAT file is asking for things that don't existing or the skeleton doesn't support the model entirely... being the skeletons may be hardcoded



EDIT
I'm going to start organizing the DOA format spec into a spread sheet and base it off the current one floating around here.

tonight I looked at the morph target block, and it was SUCH A PAIN! because the specs i had were FREAKING TERRIBLE!! pretty much had to reverse the entire bloc over from scratch!!
although big thanks to chrrox for helping figure out the counts in the morph table.

I think I'm good enough to explain the morph bloc now;

Basically the format stores vertex and normals, but tries to optimize by only defining vertices or normals that
change between each morph target. so because of that we are given a index of which vertex entries from
our object need to be altered.

The hard part for me was the index table, it actually stored offsets rather then indices. the offset was relative to the XPR, and the offset of that objects vertex buffer.
so for me to index, I had to convert the offsets back by way of a formula ' i = ((o/s)+1) ' I took the supplied offset, and divided by the size of the XPR's vertex length. then added 1 to make it a base of 1 again.

K, here's the format;

CAT Format - 3th Bloc (Morph Targets "APV")
==================================
APV Header
[LONG] ChunkID "APV "
[LONG] Number of Objects
==================================
[LONG] Offset to Object Entry
loop for "Number of Objects"
==================================
==================================
Object Entry
[LONG] Number of Morph Targets
[BYTE] Object Index
[BYTE] ??? Always 0x00
[BYTE] ??? Always 0x00
[BYTE] Flag, for X axis 0x00=no change to x vertex 0x80=inverse x axis coordinate
[LONG] Number of Morphable Vertices
[LONG] Number of Morphable Vertex Normals
[LONG] Offset to Buffer Offset Table
[LONG] Offset to Vertex Index
[LONG] Offset to Vertex Normal Index
loop for "Number of Objects"
==================================
Buffer Offset Table
[LONG] Offset to Vertex Buffer
[LONG] Offset to Vertex Normal Buffer
loop for "Number of Morph Targets"
==================================
Offset to Vertex Index
[LONG] Vertex Offset from XPR, Relative to the start of that Obj's Vertex Buffer Offset
==================================
Offset to Vertex Normal Index
[LONG] Vertex Normal Offset from XPR, Relative to the start of that Obj's Vertex Buffer Offset
==================================
==================================
Vertex Definition
[FLOAT32] X Vertex Position
[FLOAT32] Y Vertex Position
[FLOAT32] Z Vertex Position
Remember is you get a flag of 0x80, the X coordinate needs to be inverted x=(x*-1)
==================================
==================================
Vertex Normal Definition
[FLOAT32] X Vertex Normal
[FLOAT32] Y Vertex Normal
[FLOAT32] Z Vertex Normal
==================================
==================================
## Post #95
- Username: ganjul
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Nov 16, 2011 11:21 pm
- Post datetime: 2012-01-01T10:11:54+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

Good job. I dont get why those objects are in the file?

OK, this spreedsheet doc was good. I understood most of it. Few things are still not clear. Could you explain?
[http://i.imgur.com/dL5uX.png](http://i.imgur.com/dL5uX.png)
Another one, each XPR has only one model entry, right? Because the offset in the beginning wouldn't make sense then.

Sorry if you have answered some already (like the model entry offset), it's just I've read few docs and they give different explanations. I'll stick with this one from now.
## Post #96
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-01T11:22:42+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

ok since you numbered your questions in the image, I'll provide answers in that order

1.) What is the Point of this? [0x80000000]
the documents are wrong in some cases..
That Int is actually a XPR chunk or instruction telling the engine to continue reading at a new address

if you have a look at Ninja Gaiden, you'll see the same tags used.. and the structure is pretty simple
[LONG] Instruction 0x80000000
[LONG] Offset, Offset relative from the end of this LONG/Offset

in this case after [0x80000000] A offset is given to some Tables, which can be used to decompile components of the XPR.
For Example A Table for the Textures, and a Table for each vertex SubBuffer


2.) Is this Needed? (Model + Objects + Materials + Index Buffers)
this fits in with above, the docs are wrong. but this offset brings you to the resource tables.

theres no point in dumping the vertex buffers, however you can use the texture table to extract textures.
so that soo called "Size" is actually the offset to the texture table, which you need for texture dumping.


3.) Object Offsets???? What do I do with them?
the object offsets bring you to every "OBJ " header in the file

the offsets are given in the "MDL " Header
4D 44 4C 00 1D 00 00 00  0F 00 00 00 00 00 00 00  1D 00 00 00   MDL.................
A0 00 00 00 06 03 00 00  5E 19 00 00 1A 1E 00 00  9A 1F 00 00
12 21 00 00 0E 23 00 00  46 27 00 00 D2 28 00 00  32 2D 00 00 
84 2F 00 00 88 31 00 00  D6 33 00 00 42 35 00 00  56 37 00 00
0A 39 00 00 5A 3B 00 00  DA 3C 00 00 52 3E 00 00  4C 40 00 00
64 44 00 00 F0 45 00 00  5C 4A 00 00 A8 4C 00 00  A8 4E 00 00
EA 50 00 00 56 52 00 00  6A 54 00 00 0A 56 00 00  00 00 00 00

The first 5 [LONG]'s are various counts, then it loops until returns 0
those are the OBJ offsets, you need this to import the model parts.


4.) Always 8 IV Buffer Info Fields? Does this Depend on an Unknown?
I never figured this out either? I haven't seen anything there but zeros.. I read the Counts then skip 112bytes past that padding?
[LONG] FileID "OBJ "
[LONG] Vertex Type
[LONG] Unknown, sometimes 0, sometimes 4? maybe OBJ version
[LONG] Number of Indices
[FLOAT32] ???
[FLOAT32] ???
[FLOAT32] ???
[FLOAT32] ???
[LONG] Vertex Count
[LONG] Vertex Buffer Offset
[LONG] Number of Indices, duplicated count?
[LONG] Index Buffer Offset
[BYTES{112}] SKIP! 

5.) Is everything in IV Buffer Info 0? Why is it called IVBufferInfo?
I got no idea who wrote this, or why they called it the IVBufferInfo...

but from what I tested, the data always seems to be 0. anyway its not critical for mesh import

6.) What does the Material 1..n mean??
I'm not sure what that is either? maybe they just mean to say loop till the end? lol I don't know

starts with something like this 0x01000080, you stop your loop when that =0x00000000

7.) What is Texture 1..n Suppose to mean??
a material can have any amount of textures, so I'm going to have to assume you keep reading texture indeices until you get an index of -1 or 0

I can't give you more detail on the material section since I'm not correctly parsing it either. I grab my counts for mesh import and skip the rest.

EDIT
oh yeah the cat file stores alot of the mesh, I'd say like 80% of the model is repeated in the CAT file... of course all used in different ways. physics, morphs, bends..
## Post #97
- Username: ganjul
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Nov 16, 2011 11:21 pm
- Post datetime: 2012-01-01T12:15:55+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

Another question, do XPRs store dds textures? Can we just dump those sections and add a header or something?

1.

> Reply from mariokart64n
>
> 
the documents are wrong in some cases..
That Int is actually a XPR chunk or instruction telling the engine to continue reading at a new address
So the int is the address where I should jump to? I don't get the idea behind it, what's in the space between where I am and where I must jump to?

2.

> this fits in with above, the docs are wrong. but this offset brings you to the resource tables.
Resource tables? Are you talking about the second part of the file? (vertex buffers and textures, because that location is stored in the beginning of the file)

3.

> the object offsets bring you to every "OBJ " header in the file
I didn't ask that. I meant what's the 0x00000000 in the end for?

4.

> I never figured this out either? I haven't seen anything there but zeros.. I read the Counts then skip 112bytes past that padding?
>
> [LONG] FileID "OBJ "
>
> [LONG] Vertex Type
>
> [LONG] Unknown, sometimes 0, sometimes 4? maybe OBJ version
>
> [LONG] Number of Indices
>
> [FLOAT32] ???
>
> [FLOAT32] ???
>
> [FLOAT32] ???
>
> [FLOAT32] ???
>
> [LONG] Vertex Count
>
> [LONG] Vertex Buffer Offset
>
> [LONG] Number of Indices, duplicated count?
>
> [LONG] Index Buffer Offset
>
> [BYTES{112}] SKIP!
Looks liek you are readin only 1 'IVBuffer' and skipping the other 3, whatever the hell they are for.

5.

> but from what I tested, the data always seems to be 0. anyway its not critical for mesh import
What I meant was does he mean 4 dwords, or 4 IVBuffer structs, which themselves have 4 dwords?

6.

> I'm not sure what that is either? maybe they just mean to say loop till the end? lol I don't know
>
> 
>
> starts with something like this 0x01000080, you stop your loop when that =0x00000000
Oh, so you just read material entries here and the "0x00000000" written in the end is a terminator?

This particular doc isn't very good at showing the "indentation" of the entries.


In words, is the Material entry inside the Object entry, or inside the Model entry (together with the Object entry). The first would make more sense.

7.

> a material can have any amount of textures, so I'm going to have to assume you keep reading texture indeices until you get an index of -1 or 0
Ah, OK. So it's just an array of texture indexes which end when you get -1 or 0. 

Thanks
## Post #98
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-01-01T12:36:37+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

> Reply from mariokart64n
>
> I just put the mesh objects together, and copied the coordinates from 3dsmax. from objects like the left and right hand, the distance between the two should have been relative to the positions in the file. however there not.

I'm afraid I'm out of ideas on importing meshes with proper positions :\
i didn't find where is stored the skeleton info in the executable. but you should gather the skeleton info only once for each character - it should be valuable for all skins of one character. the info on to which body part correspond a certain obj can be extracted from the cat file. as i said before skeletons for loran, mam, young tina and rabits is stored in obj files you can try to import these models. use the info on cat files i posted, if something is unclear feel free to ask.

> Reply from mariokart64n
>
> 
as for the DOA3 rotation problem, it sounds like you already explored all these options. can you share one of the converted models so I can see the shadow problem?
to rotate a certain object, i found that first 3 floats in a vertex chunk do represent  x-y-z coordinates, and i've build a program to manipulate these values to rotate the object at 90 degrees. for example to rotate the object 90 degrees on the Y axis i do swap the X with the Z values, now the object is mirrored and i do flip the X value.

i don't touch the UV info and the normals info, i think those values somehow contain that lighting information, but i don't know how can i handle it
light.JPG
## Post #99
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-01T12:54:07+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

yes, I've already attempted to reassemble the objects based on the CAT.

not not all objects are placed through block1, only half of the model is placed (static only)
the other half is positioned in block4, but the positioning is off. importing additional data from block4
shows that there are some vertex lists that correspond with the positioning. but I am not yet
sure how to correct the objects global position.

this may be far fetched, but I don't believe these is a skeleton at all. its a node based system, so the joints that are missing
in the images below are the bones.






EDIT
@ganjul


1.) do XPRs store dds textures? Can we just dump those sections and add a header or something?
yeah the textures are stored in the XPR file, after you read the table you'll have enough info to create new DDS headers.

its very easy 



2.) So the int is the address where I should jump to? I don't get the idea behind it, what's in the space between where I am and where I must jump to?
no the int is just an ID, like the start of the file where it says "XPR " well the ID 00 00 00 80 is just an ID.. its not an offset. the following INT is the offset to the table.

the table is actually before the vertex buffer. you'll of course have to jump back to the start of the file since the buffer is past the obj headers

3.) Resource tables?
at address 0x10 from the start of the XPR, is the table offset.
I call it a resource table because it lists off the offsets to each texture and vertex buffer

read the offset at 0x10, and jump to the table. and parse the texture tables. they are also ID driven, simular to like the ID 00000080 telling the engine to jump.

4.) what's the 0x00000000 in the end for?
I assume that the terminator to end your read.. either way its identifying the value 0.. I doubt thats of any use

5.) does he mean 4 dwords, or 4 IVBuffer structs, which themselves have 4 dwords?
he lists 8 structs of long[4]
so do this eight times over
[LONG] IVBufferIndex1
[LONG] IVBufferIndex1
[LONG] IVBufferIndex1
[LONG] IVBufferIndex1

but the first one is the only thing with data in it.
## Post #100
- Username: ganjul
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Nov 16, 2011 11:21 pm
- Post datetime: 2012-01-01T12:58:11+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

Thanks mario.
Sorry, I edited my post with another question after you had posted. Can you answer that too?

> no the int is just an ID, like the start of the file where it says "XPR " well the ID 00 00 00 80 is just an ID.. its not an offset. the following INT is the offset to the table.
It says the following int is the size of the model. Again maybe I dont understand what you mean by "table". Too much terms are used for the same thing, do you mean chunk/entry or the vertex buffer?

EDIT: How long is a LONG?

EDIT2: 
> at address 0x10 from the start of the XPR, is the table offset.
>
> I call it a resource table because it lists off the offsets to each texture and vertex buffer
Woa, man, now you confuse me even more. I see no mention of that in the docs. The index to vertex buffers is stored in the Object entries. What?
## Post #101
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-01T13:08:43+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

?what how the file flows?

MDL
>OBJ
>>MTL
>>MTL
>>MTL
>OBJ
>>MTL
>OBJ
>OBJ
>OBJ
>>MTL
>>MTL


.... something like that, each object houses it own materials. then the control file {CAT} forces these into a common material..
thats why I said before there are less like materials, and more like elements
## Post #102
- Username: ganjul
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Nov 16, 2011 11:21 pm
- Post datetime: 2012-01-01T13:16:42+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

If each object can have multiple materials, how do you know which are his and how many? The material count is specified for the Model, not the Object. The Object entry doesn't have any info for that.

Also, i edited by previous post with questions. Sorry, I'll stop doing that.
## Post #103
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-01-01T18:25:20+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

2mariokart64n
i can see from your research that you've put a lot of effort in what you're doing. i think you have a good experience in things like that and you're very skilled in exploring the file formats. i want to give you an advice from my own experience - did you heard something like "everything that gets on the pc, gets broke"? this is the power of the pc! and you should use it. the idea is to use the debugger "ollydbg" and disassembler "ida"(illegally this one), feed them the executable and this will make you're live much easier. in ollydbg you can stop the program when a certain file is loaded and watch how the game itself is handling a certain value, to reconstruct the format specs from the "first hands"! these two programs can give you answers that you'll never find by just blindly exploring the file values. 
the "team ninja" crew are professional programmers, which means they are developing and using fully functional and complex code, which means the game formats support more stuff than is actually used, for example in doau xpr formats are used only fvf(flexible vertex format) of types 1 and 2, and in doa3 types 1 and 3, and some are never used, also some dds(direct draw surface) types are never used in the game files but the game can handle them because the developers used the XDK(Xbox Development Kit) to interact with textures, which added compatibility for all dds formats(not really sure about that   ). this way you can make mod the skins using "unspecified" format abilities. the idea is that by using the debugger and disassembler you'll get more professional, i.e. you just can reverse engineer and grab from the game the actual code for handling the format. i hope i convinced you
## Post #104
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-01T18:32:38+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

I wish I knew dis-assembly but I don't have any experience lol 


EDIT

1.) you confuse me even more. I see no mention of that in the docs.

ok lol   

this gets confusing, your not dealing with just one binary format here. your dealing with two   
the XPR is like a Jar of jelly beans! both this Jar and the jelly beans are constructed differently
but to get all the red jelly beans you have to work your way down the jar. or well just dump the whole jar out! 

The XPR is working in this same context, we're working with two different binary structures, one is inside the other.
you have the XPR structure, then the Structure of every component inside the XPR which are all different

I think this is where your getting confused the ID:0x00000080 is another strucutre

[LONG] FileID 0x00000080
[LONG] Size

the size is the entire file, excluding the tables and the buffer.
imagine that the XPR is only holding tables and buffers.. so what if theres models in there, the XPR is handling binary data

00000080 is a XPR instruction, which isn't critical to importing, you can ignore this structure and continue reading the file.


EDIT2
I've put time into creating this public spread sheet of the DOA2U format so far.
[Google Doc]

if you have knowledge of the formats, please have a look at my spread sheet and correct any mistakes in the format, or the spreadsheet layout

-mariokart64n


EDIT3
I'm making good progress on the 4th bloc of the cat file. 

the data contains what seems to be welding information of the joining meshes. I'm going to assume since I never actually found vertex weights that there are NONE!
there are however meshes that have them, but only selective meshes.. commonly only the thighs..

back in the year 2000 when you wanted to rig a character you had to build nodes or envelopes throughout your model. These nodes would attach to a skeleton separately, so when your skeleton animated these "Physique" envelopes would deform your mesh. And later when 3dsmax adaptered vertex weights, it seemed for some reason not possible to convert a Physique rigged character to a Skinned character.

My guess is that DOA does the same, its using a method to bend or deform a mesh without the use for vertex weights. <_< which is f***ing DUMB! 
because they're not using vertex weight control, they have to weld, and freeze certain vertices. that way when the mesh deforms its not breaking at seams or separating from the other mesh objects..

I say again!!... YOU ARE F$#@ING RETARDED TEAMNINJA, What the!?!?!?

anyway the data itself is useless ?? but I can use the data to reposition the last parts of the objects into their correct place!

means we can finally assemble the DOA2U models in a automated process!!

now only the physics section to solve, however I'm not overly concerned about it. since its not "critical" to the model.
at my current stance I could re-author new models to work in DOA2U.
## Post #105
- Username: ganjul
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Nov 16, 2011 11:21 pm
- Post datetime: 2012-01-02T08:31:05+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

I know this is the 3d/2d models section, but since mariokart wants to document all the formats of the game, I thought I'd let him know:

The ADX format used for sound effects and voice is not an in-house one. The specs can be found here:
from [http://wiki.multimedia.cx/index.php?title=CRI_ADX_file](http://wiki.multimedia.cx/index.php?title=CRI_ADX_file)

I wrote a python scanner to see if they are indeed the same format. It seems like it, though  get pretty high values in some places.
[http://pastebin.com/Gg9kTULM](http://pastebin.com/Gg9kTULM)

Searching some more I found a program for converting between ADX and WAV files.
[http://www.gamefront.com/files/17335991 ... er_1.8.rar](http://www.gamefront.com/files/17335991/PES_Sound_File_Converter_1.8.rar)
[http://www.speedyshare.com/files/244837 ... er_1.8.rar](http://www.speedyshare.com/files/24483779/PES_Sound_File_Converter_1.8.rar)

EDIT: The AFS format is also documented. [http://wiki.xentax.com/index.php/GRAF:AFS_AFS](http://wiki.xentax.com/index.php/GRAF:AFS_AFS)

I wrote a python script which dumps files inside an AFS to a new folder.
[http://pastebin.com/K28RdNvP](http://pastebin.com/K28RdNvP)

The format is very simple.
## Post #106
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-01-02T14:01:07+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

2ganjul
can you make an importer for blender with comments. i want to learn how to do that but too lazy to read python books...

2mariokart64n

the third dword in the obj structure is multiplied by 0x20 to find the first material

mat[1] - the first dword in the material structure is getting in the doau xpr's the following values {80000000,80000001,80000002,80000003,80000005,80000007,90000000}

mat[4] - the fourth dwod in the material structure = {0,1,4,5,8,9,c,d} (?texture different normals)

the dword right after the amount of the textures in the material is getting - {1,3}, and {0} for stages and tengu (?does affect the shadow n ilumination)
## Post #107
- Username: ganjul
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Nov 16, 2011 11:21 pm
- Post datetime: 2012-01-02T14:33:36+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

I'd be glad to write an importer if you guys could explain me the format.

I don't want to hurt anyones feelings, but all documents I've read till now are confusing, confusing for me but this is not the first format I'm reading specifications of.

Usually I see formats explained like this:

```
DWORD       - 4 bytes int
SHORT       - 2 bytes int
FLOAT       - 4 bytes float
ANY_TYPE[x] - array of any type from above
0xXX        - hex number, replace "XX" with numbers

------------------------------------------------------------------------
DOAU, DOAX and DOA3 XPRs are a bit different.
This doc is for DOAU XPR files.

File is little endian.

XPR files consist of 2 parts (blocks).

1st part contains:
	
	1) XPR header
	2) Model entry, which contains Object entries, which themselves contain Material entries.
	3) Texture enties.

2nd part contains:

	1) Vertex data (vertex buffers)
	2) Texture data

You find out when the 1st part ended when you read all the entries one after another (use the entry
header to find out what type of entry to read each time) and encounter a 0xFFFFFFFF terminator (instead of a entry header).

The XPR header entry contains "Block 1 size", but this isn't where the 1st part ends as there
is some padding between the two parts, because each part needs to be a size multiple of 2048 bytes.

You use the "Block 1 size" to continue reading the second part of the file. 2nd part has some padding in the end as well.

Below we will find out what each entry contains and how data is stored in the vertex buffers and texture data.
------------------------------------------------------------------------

1) XPR Header

	CHAR[4] - signature "XPR0"
	DWORD   - size of this XPR file
	DWORD   - size of the 1st part of the file, including padding

2) Model entry

	0x80000000 - Model entry offset in file
	DWORD      - Model size
	CHAR[4]    - signature "MDL0"
	DWORD      - number of objects
	DWORD      - number of materials
	DWORD      - unknown
	DWORD      - number of vertex buffers used by this model
	
	for each object (we found the number of objects above):
		DWORD  - object offset (move to this location and read the Object entry, move from start of file)
		
	DWORD      - unknown

3) Object entry
	
	CHAR[4] - signature "OBJ"
	DWORD   - number of vertex weights
	DWORD   - unknown, always 4
	DWORD   - number of indices used by this object
	FLOAT   - object x pos
	FLOAT   - object y pos
	FLOAT   - object z pos
	FLOAT   - unknown (someone calls it "radius")
	
	for i in 4: ( I don't know why 4 myself)
		
		DWORD - number of vertices
		DWORD - vertex buffer offset
		DWORD - number of indices
		DWORD - index buffer offset

	for each material (we found the number of materials above):
		
		0x800000xx - transparency type, if xx = 0, then there is no or 1 bit transparency, if xx = 1, there is 256 bit transparency
		DWORD      - material size
		DWORD      - unknown
		DWORD      - unknown
		FLOAT      - sub-object x pos
		FLOAT      - sub-object y pos
		FLOAT      - sub-object z pos
		FLOAT      - unknown (someone calls it "sub-object radius)
		FLOAT[4]   - diffuse RGBA color
		FLOAT[4]   - ambient RGBA color
		FLOAT[4]   - specular RGBA color
		FLOAT[4]   - emissive RGBA color
		FLOAT      - specular glow power
		DWORD      - number of textures
		DWORD      - unknown
		DWORD      - unknown
```


(I wrote it for myself and it's not half right).

Or this is a good specification: [http://wiki.xentax.com/index.php/GRAF:AFS_AFS](http://wiki.xentax.com/index.php/GRAF:AFS_AFS)

Let's compare it with one of the docs from here (I just use this as example, mariokart and others who edited it, it's nothing personal). [https://docs.google.com/spreadsheet/ccc ... qYWc#gid=4](https://docs.google.com/spreadsheet/ccc?key=0Aq8EDrYO-76adFZVRHhJQ3YzTElON0tXRERUZjBqYWc#gid=4)

Now of course there is a link to the xentax specs for this one, but assume there wasn't, this hardly explains enough itself.  There is no "this chunk of offset and size values is repeated for every file entry", or where the list of names start because it's missing the

```
    uint32 {4}   - Filename Directory Length
```

part from the xentax version of the doc.

That's what I feel of all the docs I've seen here. Either you are left guessing what it meant or the author simply forgot something.

Again, I don't want to hurt anyones feelings, passing knowledge is not easy.

So yeah, if you could write a doc like the xentax version of the ASF specification or fix the existing docs, then yeah, I would write a Blender importer (and maybe exporter when the format is completely understood).

mariokart answered many questions, but there is more, and I'm still half way through the format. This is very slow way...

BTW, I'm not a C++/C# programmer so the source code of the viewers isn't very helpful.
## Post #108
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-01-02T15:49:16+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

2ganjul
xpr is a container that can optionally contain a mdl file, and a virtual directory with vertex and textures.
1. i think you need something to start with, not sure if this is possible, but try first to import from the xpr file all textures of a certain kind, for example "DXT1".
2. later you'll need to import the vertex buffers and take a look in the mdl file - which textures are assigned to which object.
3. after this you can try to properly import the materials and everything else.
4. in the end we'll need to import also all the info we can get from the cat file - like physics, animation etc.
## Post #109
- Username: ganjul
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Nov 16, 2011 11:21 pm
- Post datetime: 2012-01-02T16:05:44+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

What? That was just a brief overview of the format, not  a specification. I already know that stuff.
## Post #110
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-02T16:52:06+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

I got no problem reviewing and patching up errors in the spread sheet.

its just a bit confusing when I want to express my loops

because they are mixing many different structures, some loops are carried out by a count. and some others are carried out until a terminator of either -1 or 0 is met

besides just saying that in plain english "loop this structure here until a condition is met" its difficult to express cleaning.
some loops are in other loops which are all conditional. so which ever way you spin it, its not going to be simple

I think thats why b0ny has suggested you attempt to parse the data first before trying to import it. cause franky I don't understand where or how your stuck anywhere.

let me know where your stuck, and I'll completely explain this step by step in plain english
## Post #111
- Username: ganjul
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Nov 16, 2011 11:21 pm
- Post datetime: 2012-01-02T17:13:41+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

Then maybe a pure spreadsheet is not enough to write format specifications? You say that it's hard to express loops here and I agree, but by leaving these stuff out we don't end up with real format specification.
To be honest this is the first time I see people using spreadsheets for format specs, I can't give a good suggestion about how to improve it.

> I think thats why b0ny has suggested you attempt to parse the data first before trying to import it.
Sorry I don't understand what you mean. If I don't understand how to parse it, how can I parse it? What is the difference between parsing and reading here anyway? When I hear the word parsing I think of xml or other script files.

Anyway, I'll collect my old questions and post them again.
Thanks for offering to explain everything.
## Post #112
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-02T18:34:41+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

..ok lol you know I'm really bending over backwards for you man.
I understand the documents aren't the best.. but thats more documentation then most formats get

most just toss up there source and there done with it. and actually throughout this topic I've uploaded multiple
working sourcecodes from different converters/viewers from different programmers. Its not my problem if your not willing to read them

Though I've detailed the format anyway here as I went through it. And if that wasn't enough I tried to organize it better into a spread sheet to help all of us learn the format.
you know that thing isn't easy to writeup, and now your saying its rubbish. and you wrote up your own spec, rather then correcting or building upon the spreadsheet

I got no problem answering questions, but when you say "you need to re-gather your questions". That leaves me to believe you have no idea what your doing in the format.

I just don't have time to hold someone's hand. part of the problem here is that you need to get your hands dirty in a hex editor.
I don't think any matter of documentation is going to help you, obviously I'm unable to convey my thoughts properly through my explainatations

here is my maxscript, you'll have to figure the rest out on your own, sorry
-mariokart64n

```
there are some values in the OBJ bloc which are not understood. they could be related to the models position
theres also ALOT unknown about the material block. the bloc varies in size, and the last 3 LONGS are
required for proper mesh import. right now all I can do is jump to the end of the material bloc and get 
those 3 values. the size of the material bloc seems to increase after the value -1

more research is needed to understand the material bloc
*/
mscale=39.3700787
clearlistener()
-- obj=$*;delete obj


fsource = GetOpenFileName \
caption:"Browse for XPR" \
types: "All Files (*.xpr)|*.xpr|"
if (fsource!=undefined) AND ((doesFileExist fsource)==true) then(
fpath=getFilenamePath fsource
fname=getFilenameFile fsource
fsize=getFileSize fsource
f = fopen fsource "rb"

fn buildmsh fstream mname vtype vtype2 voffset foffset vcount fcount fcountarray foffsetarray vscale rotat=(
counter=0
vertArray=#();vertArray[vcount]=[0,0,0]
uvwArray=#();uvwArray[vcount]=[0,0,0]
normArray=#();normArray[vcount]=[0,0,0]
faceArray=#()

fseek fstream foffsetarray[1] #seek_set
for y = 1 to fcountarray.count do(
fseek fstream foffsetarray[y] #seek_set
flip=1
f1 = readshort fstream #unsigned + 1
f2 = readshort fstream #unsigned + 1
for i = 1 to fcountarray[y] do (flip=-flip
f3 = readshort fstream #unsigned + 1
if (f1!=f2)AND(f2!=f3)AND(f3!=f1) then (face=[f1,f2,f3]
if flip==1 do face=[f1,f3,f2]
append faceArray face
)
f1 = f2;f2 = f3)
)
fseek fstream voffset #seek_set
for i = 1 to vcount do(
vx=readfloat fstream--*vscale
vy=readfloat fstream--*vscale
vz=readfloat fstream--*vscale
nx=readfloat fstream
ny=readfloat fstream
nz=readfloat fstream
tu=readfloat fstream
tv=readfloat fstream
if vtype==1 do fseek fstream 4 #seek_cur
if vtype==2 do fseek fstream 8 #seek_cur
if vtype==3 do fseek fstream 12 #seek_cur
vertArray[i]=[vx,vy,vz]
normArray[i]=[nx,ny,nz]
uvwArray[i]=[tu,tv,0])
msh = mesh vertices:vertArray faces:faceArray
msh.numTVerts = vertArray.count
buildTVFaces msh
msh.displayByLayer = false
msh.backfacecull = on
msh.name = mname
for j = 1 to vertArray.count do setTVert msh j uvwArray[j]
for j = 1 to faceArray.count do setTVFace msh j faceArray[j]
msh.position = vscale
setUserProp msh "Name" mname
setUserProp msh "Type" vtype
setUserProp msh "NumVertices" vcount
setUserProp msh "NumFaces" fcount
setUserProp msh "VertOffset" voffset
setUserProp msh "FaceOffset" foffsetarray[1])

fn writeDDSheader streamin texW texH texM texC = (
texP=0
writelong streamin 0x20534444 #unsigned -- File ID
writelong streamin 0x7C #unsigned -- Header Size
case of( -- dwFlags
(texC=="DXT1"): (writelong streamin 0x00081007 #unsigned;texP=((texW*texH)/0x02))
(texC=="DXT3"): (writelong streamin 0x00081007 #unsigned;texP=(texW*texH))
(texC=="DXT5"): (writelong streamin 0x00081007 #unsigned;texP=(texW*texH))
(texC=="ATI1"): (writelong streamin 0x000A1007 #unsigned;texP=(texW*texH)/2;texM=1)
(texC=="ATI2"): (writelong streamin 0x000A1007 #unsigned;texP=(texW*texH);texM=1)
(texC=="P8"): (writelong streamin 0x000A1007 #unsigned;texP=((texW*texH)/0x02))
(texC=="ARGB16"): (writelong streamin 0x00081007 #unsigned;texP=(((texW*texH)/0x8)*0x10))
(texC=="ARGB32"): (writelong streamin 0x00081007 #unsigned;texP=(((texW*texH)/0x4)*0x10)))
writelong streamin texW #unsigned -- Texture Width
writelong streamin texH #unsigned -- Texture Height
writelong streamin texP #unsigned -- Pitch (#of bytes in a single row across the texture)
writelong streamin 0x00 #unsigned -- Image Depth? Not Used, for Image Volume
writelong streamin texM #unsigned -- Texture MIP Count
for i = 1 to 11 do writelong streamin 0x00 #unsigned -- Reserved Space
writelong streamin 0x20 #unsigned -- Size of PIXEL_FORMAT info, always 32bytes;
case of(
(texC=="DXT1"): (writelong streamin 0x04;writelong streamin 0x31545844 #unsigned
writelong streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00
writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00
writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00
writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00
writebyte streamin 0x00;writelong streamin 0x00001000 #unsigned)
(texC=="DXT3"): (writelong streamin 0x04;writelong streamin 0x33545844 #unsigned
writelong streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00
writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00
writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00
writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00
writebyte streamin 0x00;writelong streamin 0x00001000 #unsigned)
(texC=="DXT5"): (writelong streamin 0x04;writelong streamin 0x35545844 #unsigned
writelong streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00
writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00
writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00
writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00
writebyte streamin 0x00;writelong streamin 0x00001000 #unsigned)
(texC=="ATI1"): (writelong streamin 0x04;writelong streamin 0x31495441 #unsigned
writelong streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00
writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00
writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00
writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00
writebyte streamin 0x00;writelong streamin 0x00401008 #unsigned)
(texC=="ATI2"): (writelong streamin 0x04;writelong streamin 0x32495441 #unsigned
writelong streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00
writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00
writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00
writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00
writebyte streamin 0x00;writelong streamin 0x00401008 #unsigned)
(texC=="P8"): (writelong streamin 0x20;writelong streamin 0x20203850 #unsigned
writelong streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00
writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00
writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00
writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00
writebyte streamin 0x00;writelong streamin 0x00401008 #unsigned)
(texC=="ARGB16"): (writelong streamin 0x41;writelong streamin 0x00000000 #unsigned
writelong streamin 0x10;writebyte streamin 0x00;writebyte streamin 0x0F;writebyte streamin 0x00
writebyte streamin 0x00;writebyte streamin 0xF0;writebyte streamin 0x00;writebyte streamin 0x00
writebyte streamin 0x00;writebyte streamin 0x0F;writebyte streamin 0x00;writebyte streamin 0x00
writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0xF0;writebyte streamin 0x00
writebyte streamin 0x00;writelong streamin 0x00001000 #unsigned)
(texC=="ARGB32"): (writelong streamin 0x41;writelong streamin 0x00000000 #unsigned
writelong streamin 0x20;writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0xFF
writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0xFF;writebyte streamin 0x00
writebyte streamin 0x00;writebyte streamin 0xFF;writebyte streamin 0x00;writebyte streamin 0x00
writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00;writebyte streamin 0x00
writebyte streamin 0xFF;writelong streamin 0x00001000 #unsigned))
for i = 1 to 4 do writelong streamin 0x00 #unsigned) -- Reserved Space for CAPS

if (readlong f #unsigned)==0x30525058 then( -- only applicable to DOAU2, DOAX uses a hash, DOAO is stripped
dataLog=#()
dataMDL=#()

fileSize=readlong f #unsigned
dataBuffer=readlong f #unsigned
while ChunkID!=-1 AND (ftell f)!=fileSize do(
chunkID=readshort f
SubID=readshort f #unsigned
case of (
(chunkID==0x0000): (case of (
	(subID==0x8000): ( -- Jump, and Log Data
	jump=readlong f #unsigned
	append dataLog[(ftell f),(ftell f-jump)]
	fseek f jump #seek_cur
	)
);)
(chunkID==0x0001): (case of (
	(subID==0x0001): ( -- ??? bloc found in NG1
	ukn01=readlong f #unsigned -- offset
	ukn02=readlong f #unsigned -- usually 0x00
	)
	(subID==0x0002): ( -- ??? bloc found in NG1
	ukn03=readlong f #unsigned -- usually 0x00
	ukn04=readlong f #unsigned -- usually 0x00
	ukn05=readlong f #unsigned -- usually 0x00
	ukn06=readlong f #unsigned -- usually 0x00
	ukn07=readlong f #unsigned -- usually 0x00
	)
	(subID==0x0004): ( -- Texture Definition Entry
	tex_offset=readlong f #unsigned + dataBuffer
	ukn08=readlong f #unsigned -- usually 0x00
	tex_info=readlong f #unsigned
	ukn09=readlong f #unsigned -- usually 0x00
	)
	(subID==0x0080): ( -- Vertex Buffer Entry
	vbuf_offset=readlong f #unsigned + dataBuffer
	ukn10=readlong f #unsigned -- usually 0x00
	)
	(subID==0x0083): ( -- Texture Buffer Entry
	tex_size=readlong f #unsigned
	ukn11=readlong f #unsigned -- usually 0x00
	)
);)
) -- end switch
chunk_ids = #(-1,0,1,0xFFFF)
if (findItem chunk_ids chunkID)==0 do(messagebox ("New ID Found (0x"+((bit.intAsHex(chunkID))as string)+"): @ "+((bit.intAsHex(ftell f-4))as string));EXIT)
) -- end while loop
if dataLog.count>=1 do (for z = 1 to dataLog.count do(
fseek f dataLog[z][1] #seek_set
dataSize=dataLog[z][2]
chunkID=readlong f #unsigned
case of (
(chunkID==0x004C444D): ( -- MDL
obj_count=readlong f #unsigned
tex_count=readlong f #unsigned
ukn12=readlong f #unsigned -- count unknown
obj_count2=readlong f #unsigned -- duplcated count?
dataMDL[obj_count]=0
for i = 1 to obj_count do(dataMDL[i]=readlong f #unsigned)
)
);)) -- end if/ for empty log array
if dataMDL.count>=0 do(for z = 1 to dataMDL.count do(
fseek f dataMDL[z] #seek_set
Print ("OBJ "+((z-1) as string)+" @ 0x"+((bit.intAsHex(ftell f))as string))
chunkID=readlong f #unsigned -- OBJ
vertType=readlong f #unsigned -- always 0? number of vertex weights
	
if vertType!=0 do Print ("Vertex Type 0x"+((bit.intAsHex(vertType))as string))
ukn09=readlong f #unsigned -- always 4? sometimes 0
count=readlong f #unsigned -- number of faces in face buffer
posx=readfloat f
posy=readfloat f
posz=readfloat f
posw=readfloat f
vert_count=readlong f #unsigned
vert_offset=readlong f #unsigned
face_count=readlong f #unsigned -- number of faces?
face_count_array=#()
face_offset_array=#()
face_offset=readlong f #unsigned

ukn11=readlong f #unsigned
ukn12=readlong f #unsigned
ukn13=readlong f #unsigned
ukn14=readlong f #unsigned
ukn15=readlong f #unsigned
ukn16=readlong f #unsigned
ukn17=readlong f #unsigned
ukn18=readlong f #unsigned
ukn19=readlong f #unsigned
ukn20=readlong f #unsigned
ukn21=readlong f #unsigned
ukn22=readlong f #unsigned
ukn23=readlong f #unsigned
ukn24=readlong f #unsigned
ukn25=readlong f #unsigned
ukn26=readlong f #unsigned
ukn27=readlong f #unsigned
ukn28=readlong f #unsigned
ukn29=readlong f #unsigned
ukn30=readlong f #unsigned
ukn31=readlong f #unsigned
ukn32=readlong f #unsigned
ukn33=readlong f #unsigned
ukn34=readlong f #unsigned
ukn35=readlong f #unsigned
ukn36=readlong f #unsigned
ukn37=readlong f #unsigned
ukn38=readlong f #unsigned

loop=true
mat_count=0
while (loop==true) do (
mat00=readbyte f #unsigned -- 0x00 | 0x01 | 0x02 | 0x03 | 0x05  >> transparency flag?
mat01=readbyte f #unsigned
mat02=readbyte f #unsigned
mat03=readbyte f #unsigned -- 0x80 data present?
if mat03!=0 then( -- 140bytes
mat_count+=1
mat_size=readlong f #unsigned + (ftell f - 8)
mat06=readlong f #unsigned -- always 0
mat07=readlong f #unsigned -- ?? always 8
mat08=readlong f #unsigned -- number? scale or vector?
posX=readfloat f -- float
posY=readfloat f -- float
posZ=readfloat f -- float
mat12=readlong f #unsigned
mat13=readlong f #unsigned
mat14=readlong f #unsigned
mat15=readlong f #unsigned
mat16=readlong f #unsigned
mat17=readlong f #unsigned
mat18=readlong f #unsigned
mat19=readlong f #unsigned
mat20=readlong f #unsigned
mat21=readlong f #unsigned
mat22=readlong f #unsigned
mat23=readlong f #unsigned
mat24=readlong f #unsigned
mat25=readlong f #unsigned
mat26=readlong f #unsigned
mat27=readlong f #unsigned
mat28=readlong f #unsigned
mat29=readlong f #unsigned
mat30=readlong f #unsigned
mat31=readlong f #unsigned
mat32=readlong f #unsigned
mat33=readlong f #unsigned
mat34=readlong f #unsigned
mat35=readlong f #unsigned
mat36=readlong f #unsigned

fseek f (mat_size-12) #seek_set -- too lazy to figure it out, skips mat info
mat_face_offset=readlong f #unsigned*2
mat_face_count=readlong f #unsigned -- num of faces used by material
mat39=readlong f #unsigned -- always 2?

append face_count_array mat_face_count
append face_offset_array (mat_face_offset+face_offset)
fseek f mat_size #seek_set
)else(loop=false))
uknA1=readlong f #unsigned -- always 0x12345678

try(num="";if (z-1)<=99 do num+="0";if (z-1)<=9 do num+="0"
buildmsh f ("OBJ_"+num+((z-1) as string)) vertType posw4 vert_offset face_offset vert_count face_count face_count_array face_offset_array [posx,posy,posz] posw
)catch(messagebox "dingdong!\n import failed :'(";ExIT)))
)else(messagebox "not a yobj file")
)else(Print "Aborted.")


```
## Post #113
- Username: ganjul
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Nov 16, 2011 11:21 pm
- Post datetime: 2012-01-02T19:45:47+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

> Reply from mariokart64n
>
>  ..ok lol you know I'm really bending over backwards for you man.
I did say "Thanks for offering to explain everything.".

> I understand the documents aren't the best.. but thats more documentation then most formats get
I don't know what most formats you mean, the ones I've came across are decent. The xentax wiki is pretty understandable.

> most just toss up there source and there done with it. and actually throughout this topic I've uploaded multiple
>
> working sourcecodes from different converters/viewers from different programmers. Its not my problem if your not willing to read them
Or are you not willing to read all my posts, huh?

> BTW, I'm not a C++/C# programmer so the source code of the viewers isn't very helpful.

> you know that thing isn't easy to writeup, and now your saying its rubbish.
I did say

> Again, I don't want to hurt anyones feelings, passing knowledge is not easy.

mariokart, I'm trying to be as nice as I can, I think you are overreacting. I'm just saying what I "think", it's just my opinion you know and I never say it as harsh as you put it

> and you wrote up your own spec, rather then correcting or building upon the spreadsheet
I wrote it few days ago, before you made your own spreadsheets or posted the old DOAU spreadsheet.

> I got no problem answering questions, but when you say "you need to re-gather your questions". That leaves me to believe you have no idea what your doing in the format.
Why does it sound weird to you that I need to regather my questions? I edited my old post with few questions so you didn't notice them, so I'm saying I'll repost it.

> I just don't have time to hold someone's hand. part of the problem here is that you need to get your hands dirty in a hex editor.
Now here I'll disagree. Reverse enginnering or hacking a format is one thing, writing an importer/exporter is another. A hacker is not a programmer. Should I get offended now? Your "holding my hand"? You say I don't understand what I'm doing with the format? If I was such a noob how could I write the AFS dumper in my siggy?

> I don't think any matter of documentation is going to help you, obviously I'm unable to convey my thoughts properly through my explainatations
I don't think there is anyone else here who can give an objective opinion on is it me who can't diguest the information you give me or is it you who isn't very good at passing knowledge.
All I can say is this is not my first importer. And also, there are only parts of your explanations I don't get, so you aren't bad either.

> here is my maxscript, you'll have to figure the rest out on your own, sorry
Hm? You changed your mind? I thought you wanted to answer all my questions? OK, I don't understand why you changed your opinion after my previous post, but fine. I'm getting kind of tired myself to be honest.

EDIT: BTW, I just checked your doc edits for AFS and it's alot better now.
## Post #114
- Username: Darkfox
- Rank: VVIP member
- Number of posts: 688
- Joined date: Sat Jul 05, 2003 1:11 am
- Post datetime: 2012-01-02T21:33:19+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

Easy guys, calm down, he didn't really call your docs rubbish mariokart64n or was being thankless. He seems to just be confused on a few things is all, he's not really using a disrespectful tone here or it being his intention. But now it is going down a rocky slope so just ease up guys, alright? =/ From my POV it seems pretty early to get irate.
## Post #115
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-02T22:40:27+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

I was re-writing my specs to clarify to him when I realized.. poo I do not have time for this 
maybe I was too harsh?

I supplied docs, spreadsheets, answered questions and now I've posted my own work.

@ganjul
your getting all hyper about this, I don't get why your nit-picking my comments like that
if you have a question post it, and I'll answer to the best of my knowledge.

but my time is up now, and I can't put anymore time into creating a new format spec for you.
you'll have to roll with what you have and figure out whats going on if I'm unable to clarify for you.

Sorry if I was bashing you or whatever, you clearly want the spec in a format better suited to you. 
however I can't do this, I'm wasting too much time writing specs up
## Post #116
- Username: Darkfox
- Rank: VVIP member
- Number of posts: 688
- Joined date: Sat Jul 05, 2003 1:11 am
- Post datetime: 2012-01-03T05:42:15+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

True, I was going to say that as well. Ganjul, just ask the question(s) please. I'm not taking sides here, trying to just cool the atmosphere since was getting a bit antsy.
## Post #117
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-03T06:24:58+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

I had a closer look at the 4th bloc of the CAT file. I passed it off as containing joint data.. because the models in DOA are diced into objects, and the objects used for bending are detailed in this 4th bloc.

Anyway this bloc consists of two parts, 1.) A vertex buffer  2.) A table

there were IDs in the table, so I just figured each of the IDs manipulated the vertex buffer differently.

however I investigated it further, and manipulation of the vertex data isn't consistant. so I tossed in another idea. the IDs are weights

here was the result;

here's the neck mesh, I've enabled vertex colours in the 2nd image you can see the VertexIDs are changed into vertex colour. this just merely shows us that the
table is describing vertices for only the lower part of the neck
the last image paints a more interesting picture, converting the IDs. Now you can clearly see that the data described in Bloc4 is vertex weights



the table is giving us 3 sets of data;
1. Weight
2. Buffer Index
3. Vertex Index (Vertex of Mesh Object)

I understand whats 1 and 2 are doing, but the 3rd value is an index to that vertex buffer???
I have no idea what the vertex buffer is for


below is an image of the vertex buffer imported
interestingly vertex 1, and 2 are actually what appears to be node positions. in otherwords its creating bones to apply the vertex weight data to
next you can see some vertices that follow along the seam of the neck. these are vertices which would have had a vertex weight of 1.0

then aside from that why are the remaining vertices pulled or clustered together at the bottom?



everything in the game is strangely pulled to the center, because they've exported the geometry local to the bone or node it was originally attached to.
but this is a bit weird, I can't make sense of the reason behind defining all new vertex positions
## Post #118
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-01-03T06:27:28+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

Ha ha ha, one of the first things you learn in software engineering is that programmers can't write documentation. That's why they pay the software engineers, who can't program worth a shit, the big bucks!
## Post #119
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-03T06:35:33+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

I don't have any background or education in programming or software engineering. <_< so the bad docs are just from inexperience.

I learned all of what I know just from reading others, and practicing modding games over the past 6 years. started making texture mods with paint, and here I am now thanks to chrrox's help in 3dsmax


EDIT
I'm going to explain a bit of the table, since I completely suck at documentation   
I'm not even going to bother updating the spreadsheet, cause I'm just constantly getting shit on for it.

anyway here's three entries from the 4th bloc in the CAT

theres no counts, your just given a offset to this table, and you have to parse it until you return 0 from your weight

the structure would be
LONG: VertexWeight
LONG: VertexIndex

but its a bit confusing and hard to explain, so i've printed out how this looks in hex to give you and idea

you get the vertex weight of 0x10, then followed by Vertex Indices

the Vertex Indices loop until -1 and it moves onto the next entry

your entries stop when the vertex index = -1, twice
then you repeat your structure

the purpose behind defining more then one vertex for a single index, is because there using this to also weld or group overlapping vertices. 
I noted before welding is critical to prevent the mesh from separating

10 00 00 00 
40 0D 00 00  FF FF FF FF 
80 13 00 00 FF FF FF FF 
60 0B 00 00  FF FF FF FF 
A0 0A 00 00 FF FF FF FF 
80 0B 00 00  FF FF FF FF 
40 0C 00 00 FF FF FF FF 
00 0E 00 00  FF FF FF FF 
20 13 00 00 FF FF FF FF 
40 0B 00 00  FF FF FF FF 
A0 0B 00 00 FF FF FF FF 
E0 0A 00 00  FF FF FF FF 
E0 08 00 00 FF FF FF FF 
00 09 00 00  FF FF FF FF 
C0 07 00 00 FF FF FF FF 
E0 07 00 00  FF FF FF FF 
20 08 00 00 FF FF FF FF 
40 07 00 00  FF FF FF FF 
60 07 00 00 FF FF FF FF 
20 09 00 00  FF FF FF FF 
60 08 00 00 FF FF FF FF 
00 13 00 00  80 06 00 00 FF FF FF FF
40 06 00 00 FF FF FF FF  
A0 05 00 00 FF FF FF FF
80 09 00 00 C0 05 00 00  FF FF FF FF 
E0 12 00 00 20 07 00 00 FF FF FF FF  
E0 06 00 00 FF FF FF FF
00 06 00 00 FF FF FF FF  
80 08 00 00 E0 05 00 00 FF FF FF FF 
FF FF FF FF  

01 00 00 00 
A0 12 00 00 A0 02 00 00 FF FF FF FF  
60 0D 00 00 80 02 00 00 FF FF FF FF 
FF FF FF FF  

02 00 00 00 
20 0F 00 00 20 04 00 00 FF FF FF FF  
20 10 00 00 A0 01 00 00 FF FF FF FF 
A0 0F 00 00  00 01 00 00 FF FF FF FF
00 0F 00 00 60 01 00 00  FF FF FF FF 
FF FF FF FF
## Post #120
- Username: ganjul
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Nov 16, 2011 11:21 pm
- Post datetime: 2012-01-03T07:24:07+00:00
- Post Title: Re: Dead or Alive 3,U,X tools [download]

> Reply from mariokart64n
>
> 
I supplied docs, spreadsheets, answered questions and now I've posted my own work.
And I'm thankful for that, you know? There are only certain parts I don't understand. Is it so weird that few parts are still confusing when you repost it in another form?

> your getting all hyper about this, I don't get why your nit-picking my comments like that
What? I just quoted your single post. How is that nit-picking?

> but my time is up now, and I can't put anymore time into creating a new format spec for you.
OK, so? I didn't ask you to rewrite anything did I?   

> Sorry if I was bashing you or whatever, you clearly want the spec in a format better suited to you. 
>
> however I can't do this
All I said I have some questions.
I also said I *think* the documentation lacked some important things like what to do with the chunks, how to loop them, etc, which you added later btw. But it was just an opinion to improve the docs (not rewrite them). I wasn't saying for myself, like you said you had posted several docs and I got the missing parts by reading all of them, it was just a constructive criticism, to make it a full format specs by itself and enough to understand the formats. A suggestion. But seems like everytime I say something like that you get all defensive like I'm calling it rubbish. Like here: 

> I'm not even going to bother updating the spreadsheet, cause I'm just constantly getting shit on for it.

Sorry, I'm probably getting all "hyped" and "nitpicking" by quoting your latest post.

> if you have a question post it, and I'll answer to the best of my knowledge.
Okay. Before you said you would help, I thanked and wanted to repost my questions, then you changed your mind, now you changed your mind again.

You know, I'm tired myself. You don't seem to understand what constructive criticism is, you act like I'm not thankful and also constantly act like you posted so much help that everyone else would get it by now, so acting like I'm a total noob. I rather learn file exploring myself than waste more time being called an unthankful noob. 

So good luck you you and good bye.
@anyone who wanted a Blender importer: write it yourself. I've wasted too much time here.
## Post #121
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-01-03T09:00:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from ganjul
>
> mariokart64n wrote:
So good luck you you and good bye.
@anyone who wanted a Blender importer: write it yourself. I've wasted too much time here.
that's me, who wanted it. I'm very sorry man, please come back   i think this importer is very important, because having an importer will be easy to make an exporter. you just imagine how much simplier will this be to make models in blender and just export them as doa skins. it's difficult for me to express myself in english, i just thought that following my 4 steps will make it easier for me to understand were you're stuck and easier to explain all unclarity
## Post #122
- Username: Darkfox
- Rank: VVIP member
- Number of posts: 688
- Joined date: Sat Jul 05, 2003 1:11 am
- Post datetime: 2012-01-03T10:35:13+00:00
- Post Title: Re: Dead or Alive series formats and tools

*facepalm* ...can't we try to handle this a bit more maturely, please?  I get a bit tired of general programmer temperament of "thats it, one person got me a bit annoyed so I quit and you all suck". You all have seen this before I bet and that is all I'm getting from the latest post. That attitude is counterproductive and does NOT help the community as a whole, let alone yourself. And I know the whole "I'm not getting paid for it blah blah blah" routine (I have seen this a lot), and I kinda understand THAT... BUT... even more ridiculous is that this started as little more than poor communication then erupted into agitation.

I'm simply amazed at how fast it went too. Simply ridiculous, really.

I say again... CALM DOWN. We need to behave more maturely about this.

Edit: And yes, if I seem a bit agitated, I quite frankly am. Excuse me if I'm snippy in what I said.
## Post #123
- Username: Friedslick6
- Rank: advanced
- Number of posts: 61
- Joined date: Mon Sep 13, 2010 6:11 am
- Post datetime: 2012-01-03T10:40:51+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darkfox
>
> *facepalm* ...can't we try to handle this a bit more maturely, please?  I get a bit tired of general programmer temperament of "thats it, one person got me a bit annoyed so I quit and you all suck". You all have seen this before I bet and that is all I'm getting from the latest post. That attitude is counterproductive and does NOT help the community as a whole, let alone yourself. And I know the whole "I'm not getting paid for it blah blah blah" routine (I have seen this a lot), and I kinda understand THAT... BUT... even more ridiculous is that this started as little more than poor communication then erupted into agitation.

I'm simply amazed at how fast it went too. Simply ridiculous, really.

I say again... CALM DOWN. We need to behave more maturely about this.I have to agree, this was very poorly handled.
## Post #124
- Username: ganjul
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Nov 16, 2011 11:21 pm
- Post datetime: 2012-01-03T11:02:33+00:00
- Post Title: Re: Dead or Alive series formats and tools

> "I'm not getting paid for it blah blah blah"
I think you opened the wrong door.

> I get a bit tired of general programmer temperament of "thats it, one person got me a bit annoyed so I quit and you all suck"
Wrong door again.
I honestly get tired when others in forums misrepresent a small argument like it's a war or something. Big deal. You can interpret what I said however you want, but it does not make it so. All I'm saying is this is getting nowhere, I'm trying to explain mariokart that I never said his docs are crap, but he keeps repeating the same thing. So again I see this is getting nowhere, so logically I'll stop.
## Post #125
- Username: andthen619
- Rank: beginner
- Number of posts: 29
- Joined date: Tue May 18, 2010 7:43 pm
- Post datetime: 2012-01-03T14:25:49+00:00
- Post Title: Re: Dead or Alive series formats and tools

The contents of this post was deleted because of possible forum rules violation.
## Post #126
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-03T21:10:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

@ganjul
I donno if your done, done. 
I already explained my thoughts, and we leveled out. If you want answers, then lay them out and I'll tell you what I know

you know its frustrating for me I'm trying really hard, and I'm like the only one leading the format hacking right now.
I like modding and would really like this to succeed, and I'd like very much to see your blender script too

but if your done your done.   
I'm sorry things didn't turn out, but I respect you. So if you do decide to rejoin the project, I'll try better to help you out

-mariokart64n


EDIT
finally making progress on the physics bloc in the cat

its pretty simple, except it has about a dozen different controller types.. maybe take some time to decipher them all
type 0x01 is a basic hinge controller. so verts are indexed to a node, and it has mass, gravity, etc settings.. the rest is carried out by the physics settings of the stage

...very easy
## Post #127
- Username: Mobuis
- Rank: beginner
- Number of posts: 26
- Joined date: Wed Jan 04, 2012 3:42 pm
- Post datetime: 2012-01-04T07:46:13+00:00
- Post Title: Re: Dead or Alive series formats and tools

I normally lurk Hmmm I may pick up this project and write your exporter, I just setup my parsing library Ill be back sometime next week. Gotta finish a Siggraph UI paper D: first
## Post #128
- Username: ganjul
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Nov 16, 2011 11:21 pm
- Post datetime: 2012-01-04T10:28:30+00:00
- Post Title: Re: Dead or Alive series formats and tools

I might have sounded too dramatic, I just meant I'll stop asking you questions, I'll still follow this thread and try to learn things myself or from other sources. I'm also interested to see you progress.

> I normally lurk Hmmm I may pick up this project and write your exporter, I just setup my parsing library Ill be back sometime next week. Gotta finish a Siggraph UI paper D: first
Hello.
Hm, did I miss something? Or did you mean an importer? You don't really need a parsing library for this.

BTW,  don't know if this will help, but the only constraints I know of used in games are hinge, slider and spherical (ball socket). You probably already know this, but just in case.
## Post #129
- Username: Mobuis
- Rank: beginner
- Number of posts: 26
- Joined date: Wed Jan 04, 2012 3:42 pm
- Post datetime: 2012-01-04T10:53:35+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mariokart64n
>
> I had an unknown amount of variables in a 128bit binary space. I had to explore every possible idea...

I've seen a few games where they stored 16bit floats instead of 32bit floats. 
but used a 32bit float divisor or multiplier on their 16bitfloats to regain accuracy.

I just thought a simular thing may have happened, since I wasn't 100% sure that what I was looking at was
indeed 32bit encoded floats.

heres it is a bit more clearly laid out
say I got like these four variables, with whatever values. I essentially want to supply a X,Y,Z to my object as a new position
but I have 4 variables, so I tried to remove the 4th variable by the following method

Equation: (pos = [x,y,z])
X = X*W
Y = Y*W
Z = Z*W


also maybe I'm being stupid, but your replies always sound belittling. like pointing out what a lowpoly model does.. and how the "compiled game code" is the EXE, and over and over about how terrible I am at explaining programming matters <_< !! grr

cut me some slack I don't have a degree in programming or anything. But I know 3D models, Hex, and stuff  .. like a bit of scripting. 

anyways, tonight I looked more at the CAT file. so here are specs so far, the ideas are based off b0ny's notes. through various testing I'm pretty sure his notes are accurate..
BYTE = 1 Byte Unsigned Integer
SHORT = 2 Byte Unsigned Integer
LONG = 4 Byte Unsigned Integer

If I recall a WORD is a 2byte unsigned int, and Dword is signed.. in any case I always use unsigned ints. but unless noted assume everything is unsigned

CAT FORMAT
============================
-Header-
[LONG] FileID 0x20
[LONG] Offset to Bloc1 (Node Hierarchies)
[LONG] Offset to Bloc2 (Physics)
[LONG] Offset to Bloc3 (Morph Targets)
[LONG] Offset to Bloc4 (?? Joints)
=============================
=============================
-Bloc1-
[LONG] ChunkID
[LONG] Offset to Chunk
..Loop until the ChunkID==0xFF
what each chunk ID does is documented by b0ny
If the offset is 0xFFFFFFFF or -1 ignore chunk entry
I'll update the spec for each chunk once I've figured out how to read them. there are 12?
============================
-Bloc1: ChunkID 0x01-
 [BYTE] Flag, 0x00 = Don't Render | 0x01 = Render
 [BYTE] Node Index to attach Object to
 [BYTE] Object Index to Use
you'll need this to apply the Mesh Objects to the correct position on the skeleton[/i][/color]
=============================
=============================
-Bloc2-
[LONG] ChunkID
[LONG] Offset to Chunk
..Loop until the ChunkID==0xFF
I Don't think any of these IDs were documented.. but they involve the Physics somehow
=============================
=============================
-Bloc3-
Morph Targets, Not Documented
=============================
=============================
-Bloc4-
[LONG] Offset to Vertex Buffer
Loop until offset is 0
=============================
-Bloc4: Vertex Buffer Header-
[LONG] Offset to an Undocumented Bloc lol
[LONG] Offset to Vertex Buffer
[LONG] Unknown ??
The First offset jumps to a small section after the buffer, not yet investigated
=============================
-Bloc4: Vertex Buffer-
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
after the transform, vertices are defined. however there is no count or terminator byte. 
=============================
-Bloc4: Vertex Buffer Vertex Definition-
[FLOAT32] Position X
[FLOAT32] Position Y
[FLOAT32] Position Z
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
[FLOAT32] Unknown ??
I just calculated the loop count of the buffer based on the offset given in the vbuf header. 
I just divided the size of the buffer by the size of a vertex definition or stride to get count
=============================




EDIT1
According to b0ny's notes chunkID 0x08 is a custom skeleton.

however I copied the skeleton from the cinema kasumi (hks00) and pasted it into (kas00) and got this


I was confused, thought maybe the skeletons were different so poked the values in the RAM.
seems some bones just don't read the positions

heres what I got, anything thats labeled not used?
means that when I entered a value, there was no effect. as if the game does not read these positions...

below are the documented data fields and there cause&effect
[X,Y,Z,NULL]

Float32[4] = Torso
Float32[4] = Neck
Float32[4] = Not Used?
Float32[4] = Not Used?
Float32[4] = Not Used?
Float32[4] = Not Used?
Float32[4] = Left Thigh
Float32[4] = Left Lowerleg
Float32[4] = Left Upperarm
Float32[4] = Not Used?
Float32[4] = Not Used?
Float32[4] = Not Used?
Float32[4] = Right Thigh
Float32[4] = Right Lowerleg
Float32[4] = Right Upperarm
Float32[4] = Not Used?
Float32[4] = Not Used?
Float32[4] = Left Eye
Float32[4] = Not Used?
Float32[4] = Not Used?
Float32[4] = Right Eye
Float32[4] = Not Used?
Float32[4] = Not Used?


Anyways decided to pull an all nigher insomnia sucks and work tomorrow bleh anyways A little about my self I am a software engineer co-op at RIM go to McMaster for Applied Math and Computer Science, I believe I have followed Ninja hacker since I was 16 making mods. 


These are homogenous vectors that have a w component as you can see when you made the W NULL or 0 I assume it turned the vector into a  direction vector moving out from the origin of the model. All that is useful here is the position x,y,z for the mesh parts so you will want to store the position from these 32 bit floats, also you have the formula wrong for pos = [x/w,y/w,z/w,w] where w =1 , they use 4D vectors here because they want to do a transform of some kind its easier to do matrix multiplication with a 4D matrix and 4D vector because they can incorporate translations into the matrix which ultimately allows translations and rotations, scaling in one matrix.

Those "not used" I believe are used the effect isn't evident you should see if you change the one of the values of the float 32 into say a large number to see the effect leaving W as it is so what you would need to do is modify the 32 bit float into an integer number say like 5 and see what that "not used object is" for instance if I took the first 32bit float(TORSO) and changed it to an integer 4 but respecting the 32 bit float TYPE so playing with the 32 bits of the float to turn it into 4, so that the game which will read the 4bytes and interpret it as a float will say that float is 4.00 the torso effectively will move up 4 units.

This is all I have seen so far I will look into the header provided in the c/c++ source from the doa3 viewer

I am interested in having these models with full tex coords and normals and bones and fully rigged so I can import them into unity 3D for my fan game =)


I am sure what that guy who quit was having and issue with was just communication, you pretty much insulted him after he said he couldn't understand you and he was nice about it. To be honest your docs do require some work I don't quite understand even with 10 years c++ /c and asm programming behind my back. It would be cool if you apologized, If you want to make a doc you should align it with his I can see how his makes sense.
## Post #130
- Username: Mobuis
- Rank: beginner
- Number of posts: 26
- Joined date: Wed Jan 04, 2012 3:42 pm
- Post datetime: 2012-01-04T10:58:12+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from ganjul
>
> I might have sounded too dramatic, I just meant I'll stop asking you questions, I'll still follow this thread and try to learn things myself or from other sources. I'm also interested to see you progress.
I normally lurk Hmmm I may pick up this project and write your exporter, I just setup my parsing library Ill be back sometime next week. Gotta finish a Siggraph UI paper D: first
Hello.
Hm, did I miss something? Or did you mean an importer? You don't really need a parsing library for this.

BTW,  don't know if this will help, but the only constraints I know of used in games are hinge, slider and spherical (ball socket). You probably already know this, but just in case.

I am thinking of writing the full exporter first with proper documentation, I donno why you would want to import the models back into the same engine and play the same game over and over why not just use the models and write a game of your own. Unity 3D offers easy scripting if your a java script fan.
## Post #131
- Username: Mobuis
- Rank: beginner
- Number of posts: 26
- Joined date: Wed Jan 04, 2012 3:42 pm
- Post datetime: 2012-01-04T11:24:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

The contents of this post was deleted because of possible forum rules violation.
## Post #132
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-01-04T12:26:23+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mariokart64n
>
> @ganjul
I donno if your done, done. 
I already explained my thoughts, and we leveled out. If you want answers, then lay them out and I'll tell you what I know

you know its frustrating for me I'm trying really hard, and I'm like the only one leading the format hacking right now.
I like modding and would really like this to succeed, and I'd like very much to see your blender script too

but if your done your done.   
I'm sorry things didn't turn out, but I respect you. So if you do decide to rejoin the project, I'll try better to help you out

-mariokart64n


EDIT
finally making progress on the physics bloc in the cat

its pretty simple, except it has about a dozen different controller types.. maybe take some time to decipher them all
type 0x01 is a basic hinge controller. so verts are indexed to a node, and it has mass, gravity, etc settings.. the rest is carried out by the physics settings of the stage

...very easy
you say it's easy - can you please explain what have you dug up

also i can see from this image that the first(green) and the second(gray) element first offset(0x8ec4) is the same.

p.s. it's interesting to see what's happening when using an xpr with a cat from a model with the same skin but with a different haircut. the game will use the clothes, the neck, etc to build the hair described in the cat file(at least i've seen that effect on the "kasumi with a helmet" skin).
## Post #133
- Username: Mobuis
- Rank: beginner
- Number of posts: 26
- Joined date: Wed Jan 04, 2012 3:42 pm
- Post datetime: 2012-01-04T16:16:51+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> mariokart64n wrote:@ganjul
I donno if your done, done. 
I already explained my thoughts, and we leveled out. If you want answers, then lay them out and I'll tell you what I know

you know its frustrating for me I'm trying really hard, and I'm like the only one leading the format hacking right now.
I like modding and would really like this to succeed, and I'd like very much to see your blender script too

but if your done your done.   
I'm sorry things didn't turn out, but I respect you. So if you do decide to rejoin the project, I'll try better to help you out

-mariokart64n


EDIT
finally making progress on the physics bloc in the cat

its pretty simple, except it has about a dozen different controller types.. maybe take some time to decipher them all
type 0x01 is a basic hinge controller. so verts are indexed to a node, and it has mass, gravity, etc settings.. the rest is carried out by the physics settings of the stage

...very easy

you say it's easy - can you please explain what have you dug up

also i can see from this image that the first(green) and the second(gray) element first offset(0x8ec4) is the same.

p.s. it's interesting to see what's happening when using an xpr with a cat from a model with the same skin but with a different haircut. the game will use the clothes, the neck, etc to build the hair described in the cat file(at least i've seen that effect on the "kasumi with a helmet" skin).
okay so this is little endian so ... in the document format he states that the EC04 which is interpreted as 04EC is added to offset 0000 the rest is color coded to find the offset I would explqin more but I am on my playbook which is q piece of crap
## Post #134
- Username: ChewyKokoro
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Thu Jan 05, 2012 4:42 am
- Post datetime: 2012-01-04T20:47:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hello Can someone tell me how to mod doa4 ?~ i want to swap some tpr files to Get kimono which is hak03&08  but how do i change em and save it to my game disc help
## Post #135
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-05T00:14:38+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Mobuis
>
> 
These are homogenous vectors that have a w component as you can see when you made the W NULL or 0 I assume it turned the vector into a  direction vector moving out from the origin of the model. All that is useful here is the position x,y,z for the mesh parts so you will want to store the position from these 32 bit floats, also you have the formula wrong for pos = [x/w,y/w,z/w,w] where w =1 , they use 4D vectors here because they want to do a transform of some kind its easier to do matrix multiplication with a 4D matrix and 4D vector because they can incorporate translations into the matrix which ultimately allows translations and rotations, scaling in one matrix.

Those "not used" I believe are used the effect isn't evident you should see if you change the one of the values of the float 32 into say a large number to see the effect leaving W as it is so what you would need to do is modify the 32 bit float into an integer number say like 5 and see what that "not used object is" for instance if I took the first 32bit float(TORSO) and changed it to an integer 4 but respecting the 32 bit float TYPE so playing with the 32 bits of the float to turn it into 4, so that the game which will read the 4bytes and interpret it as a float will say that float is 4.00 the torso effectively will move up 4 units.

I appreciate you joining, its an honor to have someone of your experience contribute to this project. 
I understand what your saying, but I've already tested these things out. those bones just don't have any affect in game.

the only way to find out is verify with the DOAX2 skeleton we have and make assumptions based off the current parenting list in the cat file

And in relation to the ganjul situation, I would have to agree with you. I'm sorry things happened the way they did and I understand the documents were not of a "programmer" caliber. 
However you must understand that I am not a programmer like you. and unlike you, I do not have 10 years experience.. more like 10months 

I feel the problem happened on both sides, and I don't think things are going to be fixed so easily. I would hope this issue will finally be dropped. He is backing out of his own choice, its not like I'm harassing him in any way.

Please lets move forward, and finally destroy the secrets behind the CAT file

-mariokart64n









EDIT

> Reply from b0ny
>
> 

you say it's easy - can you please explain what have you dug up

also i can see from this image that the first(green) and the second(gray) element first offset(0x8ec4) is the same.

p.s. it's interesting to see what's happening when using an xpr with a cat from a model with the same skin but with a different haircut. the game will use the clothes, the neck, etc to build the hair described in the cat file(at least i've seen that effect on the "kasumi with a helmet" skin).

I haven't broken the physics blocks down at all, I just got what you've detailed in your image.

I follow the header offsets to the physics block, read the offset list.

follow the offsets to each physics header and read the node, or the point4 or vectors defined there in the physics header.

theres an index there to link the vertices, but the list seems to be a variable length. I can't parse it because there's no terminator or count. cant loop/read it

the 4 bytes in the physics header relates to which object that header is for. you'll see 0x01 used more commonly, since the hair mesh is usually the first mesh

again.. I haven't drilled much into this, these were premature findings, as I'm unable to make any use of what I currently know about it.

EDIT
the W value is always 0, I replaced it with like 1,000,000.00, no change. its seems silly to have that wasted space, I think something is suppressing that value. or more or less overriding this value from causing an effect
I also rechecked my original tested, by writting huge values to the position entries.. and theres no change from my previous discovery. no changes to items marked unused.
..very weird that there is values on them though
```
00 00 00 00 B0 03 67 3D  65 19 62 3C 00 00 00 00 Neck
00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 Not Used?
00 00 00 00 67 44 C9 BE  00 00 00 80 00 00 00 00 Not Used?
1F 85 6B 3E 00 00 00 00  00 00 00 80 00 00 00 00 Not Used?
1F 85 6B 3E 00 00 00 00  00 00 00 00 00 00 00 00 Not Used?
2E 90 A0 3D A6 9B 44 BB  D7 34 EF BB 00 00 00 00 Left Thigh
00 00 00 00 63 EE DA BE  00 00 00 00 00 00 00 00 Left Lowerleg
22 FD F6 3D 00 00 00 00  00 00 00 00 00 00 00 00 Left Upperarm
00 00 00 00 67 44 C9 BE  00 00 00 80 00 00 00 00 Not Used?
1F 85 6B BE 00 00 00 00  00 00 00 80 00 00 00 00 Not Used?
1F 85 6B BE 00 00 00 00  00 00 00 00 00 00 00 00 Not Used?
2E 90 A0 BD A6 9B 44 BB  D7 34 EF BB 00 00 00 00 Right Thigh
00 00 00 00 63 EE DA BE  00 00 00 00 00 00 00 00 Right Lowerleg
22 FD F6 BD 00 00 00 00  00 00 00 00 00 00 00 00 Right Upperarm
00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 Not Used?
00 00 00 00 EA 04 34 3E  52 49 9D BC 00 00 00 00 Not Used?
FE 65 F7 3C EB 73 35 3D  46 B6 73 3D 00 00 00 00 Left Eye
00 00 00 00 04 E7 8C BD  41 82 E2 3D 00 00 00 00 Not Used?
00 00 00 00 7E 1D 78 3E  31 08 AC BC 00 00 00 00 Not Used?
00 00 00 80 EA 04 34 3E  52 49 9D BC 00 00 00 00 Right Eye
FE 65 F7 BC EB 73 35 3D  46 B6 73 3D 00 00 00 00 Not Used?
00 00 00 00 04 E7 8C BD  41 82 E2 3D 00 00 00 00 Not Used?
00 00 00 00 15 1D C9 3D  00 00 00 00 00 00 00 00 Not Used?
F3 FF C7 42 F3 FF C7 42  F3 FF C7 42 00 00 00 00 Not Used?

```


anyway here is kasumi using the parrie dogs bones


EDIT2
before I was editing the file in memory, I tried again editing the file, and booting in the game. the unused sections do have an effect. I'm trying to map it now

EDIT3
I've studied the position data from that bloc, its local or relative to the parent node.
here in this image you can see what I mean



I used this concept to rebuild young tina's skeleton or well offset the meshes. the results are pretty cool


the arms are stretched because that tiny skeleton is now trying to pull to kasumis animations. the hitboxes follow the new positions, so its not glitchy really. asides that her feet are off the ground. I'm not sure this can be helped?



heres what I was able to figure out
-- 01 Torso
-- 02 Neck
-- 03 UNKNOWN
-- 04 Left Foot
-- 05 Left Forearm?
-- 06 Left Hand
-- 07 Left Thigh
-- 08 Left Lowerleg
-- 09 Left Upperarm
-- 10 Right Foot
-- 11 Right Forearm?
-- 12 Right Hand
-- 13 Right Thigh
-- 14 Right Lowerleg
-- 15 Right Upperarm
-- 16 UNKNOWN
-- 17 UNKNOWN
-- 18 Left Eye
-- 19 UNKNOWN
-- 20 UNKNOWN
-- 21 UNKNOWN
-- 22 Right Eye
-- 23 UNKNOWN
-- 24 UNKNOWN
-- 25 UNKNOWN


young tina's corrdinates;
001 @ [0.000000,0.105000,0.007000]
002 @ [0.000000,0.175910,-0.021000]
003 @ [0.000000,0.000000,0.000000]
004 @ [0.003861,-0.272710,0.000000]
005 @ [0.161420,0.000000,0.000000]
006 @ [0.161420,0.000000,0.000000]
007 @ [0.051240,-0.010850,-0.017290]
008 @ [0.000000,-0.273000,0.000000]
009 @ [0.078050,0.168000,-0.015960]
010 @ [0.003861,-0.272710,0.000000]
011 @ [-0.161000,0.000000,0.000000]
012 @ [-0.161000,0.000000,0.000000]
013 @ [-0.051240,-0.010850,-0.017290]
014 @ [0.000000,-0.273000,0.000000]
015 @ [-0.078000,0.168000,-0.015960]
016 @ [0.000000,0.000000,0.000000]
017 @ [0.000000,0.000000,0.000000]
018 @ [0.024683,0.112868,0.047947]
019 @ [0.000000,0.000000,0.000000]
020 @ [0.000000,0.000000,0.000000]
021 @ [0.000000,0.000000,0.000000]
022 @ [-0.025000,0.112868,0.047947]
023 @ [0.000000,0.000000,0.000000]
024 @ [0.000000,0.000000,0.000000]
025 @ [99.999901,99.999901,99.999901]


Hitomi
001 @ [0.000000,18.500000,0.520000]
002 @ [-0.000000,30.146431,-2.624170]
003 @ [0.000000,0.000000,0.000000]
004 @ [-0.000000,-41.639999,0.000000]
005 @ [24.698000,0.000000,0.003750]
006 @ [24.700001,-0.103069,0.000000]
007 @ [7.840000,-2.830000,-2.640000]
008 @ [0.000000,-40.000004,0.000000]
009 @ [12.420028,22.090002,-2.439998]
010 @ [-0.000000,-41.639999,0.000000]
011 @ [-24.698168,0.000000,0.003750]
012 @ [-24.699970,-0.103069,0.000000]
013 @ [-7.840000,-2.830000,-2.640000]
014 @ [0.000000,-40.000004,0.000000]
015 @ [-12.420000,22.090002,-2.439998]
016 @ [0.000000,0.000000,0.000000]
017 @ [0.000000,0.000000,0.000000]
018 @ [2.915629,10.437886,7.997448]
019 @ [0.000000,0.000000,0.000000]
020 @ [0.000000,0.000000,0.000000]
021 @ [0.000000,0.000000,0.000000]
022 @ [-2.916000,10.437886,7.997448]
023 @ [0.000000,0.000000,0.000000]
024 @ [0.000000,0.000000,0.000000]
025 @ [9999.990234,9999.990234,9999.990234]


you can enter these into bloc 1 in the cat file
an easy way is to write these over the materials. you'll need to change the byte for that section from 0x03 to 0x08

otherwise to add it on, you'll need to expand the listing in bloc 1, then add it onto the end of the cat blocs. remember to correct the 4 offsets in the CAT header.

the beneifit of defining our own skeleton in the cat, is now characters can be interchanged with any character animation.

I'll have a look at the EXE tomorrow and see if I can find the bone sets for all the characters. but if not I'll just figure a few out manually. ^_^ I can finally get rid of BASS
## Post #136
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2012-01-05T08:40:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

Uh, so
1) XPR files are basically split into two parts,
2) first part contains model and texture entries, second part contains vertex data and texture data,
3) second part's offset is the 3rd integer in the file,
correct?

Seems from browsing the sourcecodes that there are 10 types of vertex buffers.
I tried the "position+normal+uv" type on a stage and got this:


I see shapes that couldn't have been caused by random vertex placements, so I have something right, lol.

May I know why you guys just won't make a wiki page for the formats in the Xentax wiki? That's the point of it you know, plus we got used to the style. Spreedsheet is fine don't get me wrong, but lets put stuff where they are meant to be. Even though Google will probably keep the doc unlike rapidshit or megaupload, it is still harder to find.

To be honest  don't understand the docs in their current state, I see blocks of data but don't see how they relate, where they are located and how they should be parsed. Still good job on that, but I'm afraid it's like notes for hexers right now and I'm no hexer.

So who's for making a wiki style doc for me?
## Post #137
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-01-05T09:13:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

2mariokart64n
install on your "doa online" client the latest update [http://rghost.ru/25644601](http://rghost.ru/25644601)

this patch will save your time experimenting with the game files, here's a quick start guide:



- Download and unpack the update in the doao root directory.
- Run the launcher from the  "Final" directory and set these options. (Select The Russian Lang To See The Skins "FileName" In the tool-tip when you select a skin)
 - Type your nikname, select "localhost" and press "OK"
- Press simultaneously the <Alt> and the <C> buttons on your keyboard to select a different stage or character. For more stages talk to the girl with a gift-box, and for different hairstyles for kasumi and lei-fang talk to the girl with scissors. (To listen to a random song from the game talk to the girl with a notebook)
- and, only in the last update, this thing will save your time experimenting on how your changes in the skin files will affect the game. you can modify the files while the game is running, and press the "outgame" button, and then the [E] button, to reload the files with your modifications. you can immediately see the changes
## Post #138
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-01-05T09:22:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from gjinka
>
> Uh, so
To be honest  don't understand the docs in their current state, I see blocks of data but don't see how they relate, where they are located and how they should be parsed. Still good job on that, but I'm afraid it's like notes for hexers right now and I'm no hexer.

So who's for making a wiki style doc for me?

I think it's mainly people not knowing mediawiki syntax.

I don't know if there's a rich-text editor installed here but it is definitely not intuitive for anyone that's never edited a wiki before.

But you can create a page and provide a link to it. Maybe I will write something on it.
## Post #139
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2012-01-05T10:12:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

Sure thing. Here: [http://wiki.xentax.com/index.php/Dead_Or_Alive_Ultimate](http://wiki.xentax.com/index.php/Dead_Or_Alive_Ultimate)

You can use other pages, like DOA1 page as reference: [http://wiki.xentax.com/index.php/Dead_Or_Alive](http://wiki.xentax.com/index.php/Dead_Or_Alive)

Otherwise, you can always make a txt version and ask someone to port it for you (like me?). Maybe you can even post the simple text version in the wiki page and hope others will add all the markup later. I don't think it will be deleted. I'm not sure though   

Also there are some WYSIWYG editors out there: [http://www.mediawiki.org/wiki/Extension:WYSIWYG](http://www.mediawiki.org/wiki/Extension:WYSIWYG)
Maybe we could ask to add one to the xentax wiki. There might even be an offline version which you can use on any wiki, by copy-pasting the results or something.
## Post #140
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-01-05T17:59:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

I've done wiki editing for a couple years.
Only problem is how to take all of that information and present it nicely lol
## Post #141
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2012-01-05T18:06:23+00:00
- Post Title: Re: Dead or Alive series formats and tools

Anything's a start. I'm kind of stuck so I'm really lookign forward to any more info.
## Post #142
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-01-05T18:56:15+00:00
- Post Title: Re: Dead or Alive series formats and tools

I've organized the layout and removed some unnecessary code.
A table would probably be the easiest way to present it.

Since I don't have files I can't verify whatever I'm writing is correct so I didn't write anything.
## Post #143
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2012-01-05T19:46:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

Yeah, wikitables are great for this, I just thought we could make it consistent with the other wiki pages.

> Since I don't have files I can't verify whatever I'm writing is correct so I didn't write anything.
Check your pm inbox.
## Post #144
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-01-05T20:38:57+00:00
- Post Title: Re: Dead or Alive series formats and tools

Only a couple people work on the wiki so it's pretty much personal preference.
I think we should just throw up some different formats and maybe people can see which one they like better.

The spreadsheet is hard to follow cause it mixes the data with cases.
But it looks like you've gotten the vertex data out.

EDIT: ok, I'm looking at ayaA0.xpr and trying to follow the OBJ subblock, but there seems to bytes that aren't accounted for. Actually, many bytes. I see the word "HB" everywhere. Is this the same game?
## Post #145
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2012-01-05T21:03:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

> But it looks like you've gotten the vertex data out.
All I did was:
1) get the 3rd integer from the file, which tells the offset of the 2nd part of the file, which contains vertex buffers and texture data.

2) moved the file cursor there

3) assuming that the map I was testing only used one type of vertexbuffer format, I just looped till the end of the file, which of course means I also read the texture data with it, which is bad, I got lots of junk vertices.

I just did this test to make sure I have the vertexbuffer part right.

The vertex buffer type is the one from the spreedsheet. it's called "vertex definition":

```
	FLOAT	vx, vy, vz;
	FLOAT	nx, ny, nz;
	FLOAT	u, v;
} ST_VERTEXFORMAT0_0;
```


I basically keeped reading chunks like this until I reached the end of file (reading 32 bytes and getting position values from the first 12 bytes).

The "type" of the vertexbuffer(s) is actually specified in the first part of the file.

> Then presumably I start looping, reading two int16 for the main and sub ID's.
I didn't get even that, thank.
Any ideas why there are two ids?

> I look ahead and see a lot of vertBuff chunks and their offsets are increasing, but I don't know what to do with that offset.
I think each OBJect has it's own "part" (slice might be a better word) in the vertexbuffer, so the offsets are probably relative to the beginning of the vertex buffer, or which is probably the same as the start of the 2nd part of the file (which we are given in the header).

Even if all my assumptions are true, still no idea where "MDL Block", "OBJ SubBlock" and "Material SubSubBlock" are and how to read them.

EDIT: I may have send you some files from DOAX2. I'm not really sure, so I'm pm'ing new ones just in case.
## Post #146
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-01-05T21:27:44+00:00
- Post Title: Re: Dead or Alive series formats and tools

Ok I see the problem I had now.
The files that you initially sent had some differences.

The aya file you gave me was different from the stage_AG1N.xpr file.
The kasumi file looks encrypted.

In the recent batch that was sent, the kas20 file was still encrypted. Same with lei.
How do I decrypt it?

Also, the aya file doesn't follow what is written in the specs, so maybe that was the different game issue lol
I don't know how the indices are assigned for the aya model though (I plotted the vertices already)

stage_AG1N looks like it follows it, so I'll try it with that.

The MDL chunk is at the very top. You should see MDL easily.
The OBJ chunks follow afterwards.

Are there quads? Cause stage_AG1N has meshes with 4 indices and 4 vertices.
I don't know what a tri-strip is so I'm not sure how to draw that. Is it just, for example

indices: 0 1 2 3

face1 = 0 1 2
face2 = 1 2 3

There are some differences in each mesh chunk as well. Some of them follow the ones on the spec

```
int32 vertType
int32 "4"?
int32 numIdx
float[4] stuff
int32 numVerts
int32 vertOfs
int32 numIdx
int32 intOfs

```


But then some of them have 16 null bytes after the 4 floats.
## Post #147
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-05T21:54:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

are you guys just stuck on how to read the OBJ blocs?
## Post #148
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2012-01-05T21:55:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

@finale: so MDL chunk is always right after those? Cool, thanks.

I dont think any file is encrypted, are you sure the header is not just swapped with a hash?

I think only tristrips are used.
## Post #149
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-01-05T21:57:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

From the two samples that I could read, that was the case (just open it in hex editor you'll see the MDL string)



Compressed? Encrypted?

> Reply from mariokart64n
>
> are you guys just stuck on how to read the OBJ blocs?

I'm stuck with the indices lol
How are they assigned.

Here's a set of indices I printed out in groups of 3:

> 60 71 70
>
> 81 80 91
>
> 90 101 100
>
> 111 110 110
>
> 20 20 19
>
> 30 29 40
>
> 39 50 49

Those will cause problems for me if I just treat them as triangles, and my idea of a tri-strip doesn't work for that either.
## Post #150
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-05T22:26:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

the faces are triStrip,

so your read 3, then just read one for each loop

1,2,3
2,3,4
3,4,5
4,5,6

etc


but you can just read the face buffer, there are index by material.

also you've posted encrypted files, I posted the source code for XPRbreaker around pages 5-7? compile that, it'll allow you to decrypt the files.
but otherwise use GreedXplorer to export your files, it decrypts for you.

And I should reclassify the XPR spec, since it seems you both have it incorrect

DWORD - BlocID
DWORD - FileSize
DWORD - BufferOffset

now you loop until a DWORD, and if its a certain ID, you have to preform a certain action

the chunkID and what they do are recorded in my google doc.

but for example the ID 0x00000080
DWORD - BlocID 0x00000080 = User inputed binary
DWORD - DataSize

now you would store that user binary into memory.. yes there can be multiple IDs of 0x00000080

as you can see in the NinjaGaiden XPRs this is true

so after parsing the XPR, reading all the IDs and evaluating all the given IDs.. then you get the MDL bloc as apart of the XPR's User Inputed Binaries
## Post #151
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-01-05T22:34:07+00:00
- Post Title: Re: Dead or Alive series formats and tools

What about the 110 110 20 20 thing?
It looks like no matter how I parse it, I'm going to end up with two of the same indices in a single triangle.

So in the attached image of an xpr file

After reading the header, I run into 0x80 00 00 00, read in the dataSize, I should skip that many bytes and continue reading ID's until I reach EOF, and then go back to all of the offsets I stored and parse them?
[aya.JPG](https://xentaxbackup.github.io/file/4956_aya.JPG)
## Post #152
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-05T22:48:58+00:00
- Post Title: Re: Dead or Alive series formats and tools

parse until the ID is -1
guessing the IDs off the top of my head...

00000080 = Binary Entry
00010004 = texture dimension
00010080 = texture offset/size?
00010083 = vertex offset

I said before parsing the XPR is pointless, because the 0000008 ID is always at the same area of the XPR header. and the MDL follows directly after.

however more correctly, you parse the IDs, throughout the XPR.

you guys were treating the XPR as the model, but its just a generic texture container created by Microsoft.
so your MDL bloc is just a user entered bloc in the XPR

doesn't matter aslong as you can get to the MDL bloc really. but I thought I would clear up what was going on with the IDS

chunk based formats always got
BlocID
DataBuffer
EndOfFile


next, if you read in a duplicated face, you need to break the strip. read 3 more and continue again reading one at a time.

blender should have a tristrip function of some sort? otherwise theres another user here who makes importers. you could refer to his code to get a better idea


EDIT


> Reply from aman
>
> 
FM77 wrote:
Hmmmm...

Center and radius of *what* though?

I think every material I've looked at (though admittedly, that's not a whole lot) has all 0x00 for the line marked "emissive". What exactly is emissive anyway? Does it make sense for it to be 0 most of the time?

(For that matter, I'm not too sure about diffuse, ambient, or specular either...)

-FM77's lack of new coding projects caused by a sudden need to play Metroid Prime. Su!!


Center+radius maybe using in optimize speed of calculation. 
for example: calculate z-order during rendering or collision during fighting. 

if you imagine material block as sub-mesh that contain material property, it seem that all's well. 
typedef struct _submesh {
 ...
 center,radius
 d3dmaterial
 numTextures
 ...
 Tex[]
 subset
}
it also is imagination, might be wrong.
below is some information about MS Direct3d Material.
typedef struct _D3DMATERIAL8 {
    D3DCOLORVALUE   Diffuse;
    D3DCOLORVALUE   Ambient;
    D3DCOLORVALUE   Specular;
    D3DCOLORVALUE   Emissive;
    float           Power;
} D3DMATERIAL8;
specular and emissive property of a material are both determine how a material reflects light. 
-specular property: Determines how a point of light on a *shiny* object corresponds to the reflected light source.
-emissive property: Determines whether a material *emits* light.
-Power: Floating-point value specifying the sharpness of specular highlights. To turn off specular highlights for a material, set this member to 0.0; setting the specular color components to 0 is not enough.
## Post #153
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2012-01-06T08:28:29+00:00
- Post Title: Re: Dead or Alive series formats and tools

So some files are encrypted huh? And I was thinking AFSExplorer extracted corrupted files. Any ideas of the encryption? We know each file starts with an "XPR" so that could be a hint. Not an ordinary XOR though.
The xprbreaker source uses mixed C/assembly code. It's too complicated for me.

Trianglestrips (tristrips) work like this: firstly two vertices are created, the 3rd forms a triangle with the previous two. But unlike ordinary triangles, you dont need to read 3 more to create another triangle again. Each new vertex will create a new triangle with the previous two.
Look at this image, each number is a vertex index: [http://arcsynthesis.org/gltut/Positioni ... eStrip.svg](http://arcsynthesis.org/gltut/Positioning/TriangleStrip.svg)

But that is (was) just a rendering optimization for DirectX, I don't thing 3d modellers support that and it doesn't make much sense either. I have no idea how to recreate a trianglestrip in a future exporter though. The order of the exported vertices matters. There might be some complex algorithm.
I don't know, Blender might have a helper function to load trianglestrips, but it will probably create ordinary triangles in the end.

OK, I think things are starting to make sense.
1) read the header.
2) loop the chunks, which will tell you where to read vertex buffers and texture buffers (2nd part of the file)
3) read the MDL, which contains the OBJ, which contains the materials.
4) read vertex buffers and texture buffers (2nd part of the file)

Guess I'll just write a script and see how it goes.

Some infos are still missing though: the different vertex types. I could use the sourcecode of doaxexporter to add the info to the spreadsheet and later we can post it in the wiki.

There are more that is mentioned in the spreadhseet though:

```
	FLOAT	vx, vy, vz;
	FLOAT	nx, ny, nz;
	FLOAT	u, v;
} ST_VERTEXFORMAT0_0;

typedef struct {  // D3DFVF_XYZ | D3DFVF_DIFFUSE | D3DFVF_TEX1
	FLOAT	vx, vy, vz;
	DWORD	dwDiffuse;
	FLOAT	u, v;
} ST_VERTEXFORMAT0_1;

typedef struct {  // D3DFVF_XYZ | D3DFVF_NORMAL | D3DFVF_TEX2
	FLOAT	vx, vy, vz;
	FLOAT	nx, ny, nz;
	FLOAT	u0, v0;
	FLOAT	u1, v1;
} ST_VERTEXFORMAT0_2;

typedef struct {  // D3DFVF_XYZ | D3DFVF_DIFFUSE | D3DFVF_TEX2
	FLOAT	vx, vy, vz;
	DWORD	dwDiffuse;
	FLOAT	u0, v0;
	FLOAT	u1, v1;
} ST_VERTEXFORMAT0_3;

typedef struct {  // D3DFVF_XYZB1 | D3DFVF_NORMAL | D3DFVF_TEX1
	FLOAT	vx, vy, vz;
	FLOAT	fWeight0;
	FLOAT	nx, ny, nz;
	FLOAT	u, v;
} ST_VERTEXFORMAT1_0;

typedef struct {  // D3DFVF_XYZB2  | D3DFVF_NORMAL | D3DFVF_TEX1 
	FLOAT	vx, vy, vz;
	FLOAT	fWeight0;
	FLOAT	fWeight1;
	FLOAT	nx, ny, nz;
	FLOAT	u, v;
} ST_VERTEXFORMAT2_0;

typedef struct {  // D3DFVF_XYZB3 | D3DFVF_NORMAL | D3DFVF_TEX1
	FLOAT	vx, vy, vz;
	FLOAT	fWeight0;
	FLOAT	fWeight1;
	FLOAT	fWeight2;
	FLOAT	nx, ny, nz;
	FLOAT	u, v;
} ST_VERTEXFORMAT3_0;

typedef struct {  // D3DFVF_XYZB1 | D3DFVF_NORMAL | D3DFVF_TEX2
	FLOAT	vx, vy, vz;
	FLOAT	fWeight0;
	FLOAT	nx, ny, nz;
	FLOAT	u0, v0;
	FLOAT	u1, v1;
} ST_VERTEXFORMAT1_2;

typedef struct {  // D3DFVF_XYZB2 | D3DFVF_NORMAL | D3DFVF_TEX2
	FLOAT	vx, vy, vz;
	FLOAT	fWeight0;
	FLOAT	fWeight1;
	FLOAT	nx, ny, nz;
	FLOAT	u0, v0;
	FLOAT	u1, v1;
} ST_VERTEXFORMAT2_2;

typedef struct {  // D3DFVF_XYZB3 | D3DFVF_NORMAL | D3DFVF_TEX2
	FLOAT	vx, vy, vz;
	FLOAT	fWeight0;
	FLOAT	fWeight1;
	FLOAT	fWeight2;
	FLOAT	nx, ny, nz;
	FLOAT	u0, v0;
	FLOAT	u1, v1;
} ST_VERTEXFORMAT3_2;


typedef struct {
	FLOAT	r;
	FLOAT	g;
	FLOAT	b;
	FLOAT	a;
} ST_RGBA_COLOR;
```


And some of them are the same lenght, so I dunno.

EDIT: OK, I don't think I got it.
This part of the spreadsheet:


I wrote the code for reading it.
here is a pseudocode version:

```

XPR_size

Part2_offset

loop:
    
    MainId
    SubId
    
    if mainId == 0xFFFF: stop loop
    
    if MainId == 0:
        (resData chunk)
        
        if SubId == 0x8000:
            (memRead)
            
            size
            read size * bytes
        
    if MainId == 1:
        (resEntries chunk)
        
        if SubId == 0x01: unknown

        if SubId == 0x02: unknown

        if SubId == 0x03: unknown
        
        if SubId == 0x04:
            (TexEntry chunk)
            
            tex_offset
            known
            tex_details
            padding
        
        if SubId == 0x80:
            (vertBuff)
            
            vert_offset
            padding
        
        if subId == 0x83:
            (TexBuffer)
            
            tex_offset
            padding

other stuff like MDL

```

is it right?

Not all XPRs seem to be like this.
## Post #154
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-06T20:58:44+00:00
- Post Title: Re: Dead or Alive series formats and tools

sorry I broke the ID into two SHORTs or WORDS, instead of just labeling it as a DWORD


in the image the ID as a DWORD is 00 00 00 08

I described it as
mainID = 0
subID = 8

something stupid like that... hm thats pretty cryptic lol

anyway when you get to ID 00 00 00 08, the next DWORD is a size. thats the size of the user binary. 
just log the address of your cursor and the size, then jump past the binary using the size as the offset.
then you continue your loop

and it'll begin with a new ID

here's an example for what you'll likely see
01 00 80 00 00 00 00 00  00 00 00 00
01 00 80 00 00 6B 00 00  00 00 00 00
01 00 80 00 00 C4 01 00  00 00 00 00
01 00 80 00 40 E2 01 00  00 00 00 00
01 00 80 00 80 00 02 00  00 00 00 00
01 00 80 00 C0 4B 02 00  00 00 00 00

where 01 00 80 00 is the ID, and the next two DWORDs are apart of that ID's structure

my document is messed up there, I divided them into WORDS(2bytes) because I was going to expand this to ninja gaiden aswell.. and I wanted to make the read fucntions flexible and expandable.
but to make things easier, read your IDs as DWORDs

heres an example of a texture entry
01 00 04 00 00 07 09 00  00 00 00 00 29 0F 81 08  00 00 00 00
01 00 04 00 00 07 0A 00  00 00 00 00 29 0F 81 08  00 00 00 00
01 00 04 00 00 07 0B 00  00 00 00 00 29 0F 81 07  00 00 00 00
01 00 04 00 00 87 0B 00  00 00 00 00 29 0F 81 07  00 00 00 00
01 00 04 00 00 07 0C 00  00 00 00 00 29 0F 81 08  00 00 00 00

I haven't extracted textures yet, but I read in the dimension sizes

you see that 81 08 ... thats the dimension

you'll need to shift bits of byte 81 so it becomes 08 then make it an exponent of 2.
example: 0x02^0x08 = 256pixels


EDIT
I donno if you've exported geometry before?

but unless you want an unoptimized output, then you have to compare every vertex, vertex normal, texture channel, vertex colour, tangent, weights... its really annoying 
I'm going to use this document to write my own stripper
[http://www.codercorner.com/Strips.htm](http://www.codercorner.com/Strips.htm)

in summary this is all you need to know
1)     choose a starting face for a strip
2)     choose a direction (i.e. an edge) in which you’ll walk along the strip
3)     actually extend the strip in the chosen direction until you reach a triangle with no forwards connections
4)     go to 1) until all faces have been visited

I was lucky before, in most games they use a mix of triangle list and triangle strip. so you can usually use triangle list. however DOA is different, I haven't seen a draw type flag.. so I'll be forced to writeup my own stripper this time around.


EDIT2
I'm going to try and write a XPR expander, which will split the components of the XPR into seperate files.
then try to rebuild it, and see if it still works. if so then i'll try increasing the size of some model parts.

if its still good then I plan to write out new geometry, and start exploring new mesh importing
## Post #155
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2012-01-06T21:38:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

Yeah that doc could use some work. Hes a troll now.

Tristrips dont look incredibly difficult to generate. But altough each triangle has 3 edges, each one of them can have infinite amount of "neigbouring" edges. Should you just choose the one with the lowest angle?

So it seems the MDL block can also be before the chunks.

BTW, why arent you modding DOA4 instead?
## Post #156
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-06T23:33:44+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from gjinka
>
> Yeah that doc could use some work. Hes a troll now.

Tristrips dont look incredibly difficult to generate. But altough each triangle has 3 edges, each one of them can have infinite amount of "neigbouring" edges. Should you just choose the one with the lowest angle?

So it seems the MDL block can also be before the chunks.

BTW, why arent you modding DOA4 instead?

I'm a troll now? care to elaborate on that? I'm trying to help here.

I'm working on fully cracking DOAU in honor of ninjahacker. 
Besides I've already did texture mods for both DOA4 and DOAX2 back in 2006 when they were released. 
I was the first person to crack the xbox360 texture tiling swizzling algo. 
[viewtopic.php?f=18&t=2205](http://forum.xentax.com/viewtopic.php?f=18&t=2205)

Later I'll do the same work on DOA4, but right now I'm committing myself to this. is that ok?
## Post #157
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2012-01-07T07:16:31+00:00
- Post Title: Re: Dead or Alive series formats and tools

Eh? I meant the doc is trolling me, lame joke, nvm.

It is still confusing though. Why should I skip it? Its a MDL entry.

Or maybe I don't get what you mean by this?

> just log the address of your cursor and the size, then jump past the binary using the size as the offset.
>
> then you continue your loop

Why should I remember (log) the position and size? Am I going return here and read the MDL block? Will this work on all files?
I don't see why we shouldn't treat the "MDL block" as an ordinary chunk in the loop then.
## Post #158
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-01-07T10:54:23+00:00
- Post Title: Re: Dead or Alive series formats and tools

i finally found something i where searching for a long time. i repost an updated part of my "quick guide".

```
[i1]14(constant)(offset to i5)
[i2]hair and clothes phisics offset (- pdg012)
[i3]magic "apv". boobs and lips(hands?) morphing offset (- pdg2)
[i4]joints offset  (all)
[i5..] array of pairs "offset"-"type"(need to add 0x14 to the "offsets"). types:
-1 = skeleton type. 1-doa3, 2-doau2, 77-hks(she's invisible)
1 = high poly bones[][3] (all) 				 {points after marker}
3 = materialColor[][50]  (- pdg, pdg2, hks)
5 = shadow shapes[][1]   (- hks, lor, mam, pdg012, yti)  {points on marker}
6 = ?? magic"apa"	 (- pdg2)
9 = low poly bones[][3]  (- hks,lor,mam,pdg012,yti,hel09,tin11,wba) {after marker} 
```
that FFFFFFFF thing in the cat header is just the type -1, and it's attribute(is not an offset) shows the game how to handle the model. i changed the usual "2", used in doau, with "1" for the doa3 cat file, and doa3  models now are shown correctly.

here are two, most wanted by me, models from doa3:

RED - the wrists are trying to connect to a random point in space(in doa3 the wrists are handled separately and i still didn't figured out how to translate this to doau)
GREEN - the textures on two-sided surfaces are swapped(wrong cull mode effect?)

now i finished only the highPoly model, still need to translate the shadow the lowPoly and the effects. many doa3 models do have an encrypted cat header. and the morphing block in the cat file for doa3 is incompatible with doau - need to dig here too...

2mariokart64n
in [greedExplorer -> options -> viewport settings] is a "Cull Mode" section, do you have any idea what is it? When i transform doa3 model to doau, it looks like it's "Cull Mode" becomes wrong. in greed explorer you can set it manually or "From File", but i have no idea where to look in file to change it 
and can you please build a skeleton for brad wong from one of his doa3 skins
## Post #159
- Username: andthen619
- Rank: beginner
- Number of posts: 29
- Joined date: Tue May 18, 2010 7:43 pm
- Post datetime: 2012-01-07T13:28:33+00:00
- Post Title: Re: Dead or Alive series formats and tools

The contents of this post was deleted because of possible forum rules violation.
## Post #160
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-01-07T14:47:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

ok. the converted models now have a shadow and a lowpoly, but i can't check if it's compatible with xbox doa2u, can someone try this brad-wong skin and confirm if it works or not: [http://rghost.ru/35783949](http://rghost.ru/35783949)
## Post #161
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-07T15:53:00+00:00
- Post Title: Re: Dead or Alive series formats and tools

backface culling, is when you want to enable a face on both sides of the polygon. I haven't looked at DOA3 yet, but greedxplorer got the face direction wrong. so to hide that FAIL it enabled double face polygons.

culling is also noted in the material block its the very last DWORD, in doa2u its always 0x02 I haven't looked into it.

I knew that the -1 in the cat was an ID, but when I changed the value 0x02 it crashed for me. In the highpoly kasumi (hks00.xpr) the value is set to 0x72
if you use that on another CAT it'll crash... I wonder what that flag actually changes?? maybe its a version flag? DOA3 = 1, DOAU = 2, but why does (hks00.xpr) have a version of 0x72?

works in DOA2U, but needs a skeleton file to prevent the stretching
we can easily replace an entire character in DOAU, like tengu or bass. since the animations from DOA3 are compatible with DOAU2, all we have to do is swap the MOT and BIN.




can you explain more what you did to convert a DoA3 model? I thought the XPR's were different. all you said was you swapped the rotation of the models? is that all




EDIT, here is an old post made years ago. I dug it up to see what the mesh diffuse colour was
here is the hex changes I made on the DOAX xbe


looks like offset 0x0027B3FA I nulled some bytes

and got the below effect
## Post #162
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-01-07T17:25:04+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from gjinka
>
> 
Why should I remember (log) the position and size? Am I going return here and read the MDL block? Will this work on all files?
I don't see why we shouldn't treat the "MDL block" as an ordinary chunk in the loop then.

It shouldn't hurt.
I think how one chooses to parse a file is really up to them.

The XPR format may be a generic archive from microsoft, but even then I would expect all of the data to conform to some standards.

You can choose to grab all of the chunks and save their offsets then come back and parse the actual chunks themselves, or just parse it as you go.

Maybe it'll require some more work to render, maybe not. Depends on what you're using.
## Post #163
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2012-01-07T18:55:19+00:00
- Post Title: Re: Dead or Alive series formats and tools

So wait, "00000080" means next up is "user defined chunk (user binary)" where people can put what they want and Tecmo put the MDL block in it?

Sorry if I sound stupid. It's a bit confusing still.
## Post #164
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-07T19:16:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

yes thats how I interpreted the XPR

I don't have the xbox dev kit to determine if this is true or not. 
but from observing the XPRs from NG and DOA, this would seem the case.


I've had a look at the xbox360 devkit and the XPR bundler is used for making texture packages, but you can also embed your own files. there called USER in the XPR header after compiling one.

the XPR must stand for something like XboxPackagedResource?
## Post #165
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2012-01-07T19:25:51+00:00
- Post Title: Re: Dead or Alive series formats and tools

OK, gotcha 

But the offset which you say comes after seems to be too large.



Also, did you mean I should store the offset so I can return later to parse the MDL? Question,why not parse (read) it then, instead of storing the offset and returning later?
MDL seems to contain info which you really need.

And can I ask again why you don't treat the MDL chunk like the rest of the chunks? (resData, resEntries, etc).
## Post #166
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-07T19:48:44+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from gjinka
>
> OK, gotcha 

But the offset which you say comes after seems to be too large.



Also, did you mean I should store the offset so I can return later to parse the MDL? Question,why not parse (read) it then, instead of storing the offset and returning later?
MDL seems to contain info which you really need.

And can I ask again why you don't treat the MDL chunk like the rest of the chunks? (resData, resEntries, etc).
yeah when hit 0x00000080 read the next DWORD, that is the size of the binary.
if you want to jump to the end of that binary, offset your cursor from its current position.

Don't offset from the start of the file, because its a size, not a offset. the size is relative to after you read in the binary size.

but even though, you jumped from the start of the file, your cursor was only off like 12bytes?

and you can see now your at the texture tables.. see in the text viewer side theres a repeating pattern. 
those are the final entries then the file ends with -1

your correct in that you can treat the MDL as just another chunk. you don't have to follow what i did. I did it this way to conform to NG.
NG does not contain MDL blocks, but does contain the XPR ID 0x00000080

thats why I read them all and log them, because in other games that ID pops up XX amount of times

the XPR is just pointing us to resources, so I read or evaluate the MDL separate from the XPR structure.. but again since your just working within DOA, and the MDL is always at the same location.
it may be easier just to read it as a normal chunk as apart of the header.



EDIT
Can anyone explain the DOA3 Material Block?

I'm going off this information, but I do not understand how to parse the tables at the end of that materials.
in this doc, it explains that there subset headers?

> Reply from aman
>
> 
Code: Select alltypedef struct _D3DMATERIAL {
        float Diffuse[4];
        float Ambient[4];
        float Specular[4];
        float Emissive[4];
        float Power;
} D3DMATERIAL;

typedef struct DOA3MATERIALBLOCK {
        dword  dwheader;	
        dword  dwSize;  	//dwSize * 4 == materialblock size
        dword  pad0;  	//usually 00
        dword  pad1;  	//usually 00
        float  x;  
        float  y;  
        float  z;  
        float  radius;  
        dword  renderFg;  	//usually 00,02,04,06
        D3DMATERIAL  material;  //direct3d material
        dword  NumTexInfos;	
} doa3materialblock;

typedef struct DOA3MATTEXINFO {
        dword  tex_num;  //texture index;
        dword  transFg;	//(==01)?[alpha blend (256-bit)]:[]	//check later
        dword  renderFg;	//(RenderFg & 01)?[1-bit alpha test]:[] //check later
        word  typeFg;  //0400h:Texture; 0000h:NonTexture
        word  renderFg2;    	//0100,0000
} doa3MatTexInfo;

typedef struct DOA3SUBSETHEADER {
        dword  NumSubsets;
        dword  vbufno;
} doa3subsetheader;

type struct DOA3MESHSUBSET {
        word  group_num;	//?? 
        word	flag0;  //usually 00
        dword	indexoffset;	//same as doax
        dword	numFace;	//?? to be checked
        word	flag1;  //usually 00
        word	flag2;  //usually 00
} doa3MeshSubset;



MATERIAL BLOCK OVERVIEW:
Material block was separated into two part. the first part (DOA3MATERIALBLOCK) is similar to the source of xpression, except the variable name "mat_color0" and "dwNumSubsets", it had been changed to "x,y,z,radius" and "NumTexInfos" respectively. "x,y,z" are the center of Material block(submesh) but the pivot.
the second part start with 0 to 3 Material Texture Info Records, followed by NumSubsets, vBufNo and lots of mesh subsets.
Number or Material Texture Info Records(NumTexInfos) could be zero or greater than one. it means no or more than one texture associated. And if there are more than 1 material Textrue info record, the last record may not be texture. especially when the tex_num is equal to 0x0888, it maybe procedural texture, environment or auto-reflation...

MESHSUBSET:
i think i have something wrong in mesh subset and wish to correct it later.
there is only one subset in doax. however, there are so many subsets in doa3. it cause slower rendering. another problem is missing face during rendering. however, when add each numFace by 2 it will get better result.

group_num have relative value to numFace. if value of group_num are same, the value of numFace also same in materialblock.
MESHSUBSET DATA:Code: Select all                            
--------[group_num][ offset ][numFace ][  pad   ]
00000000 8000 0000 0000 0000 0200 0000 0000 0000 ................
00000010 8000 0000 0400 0000 0200 0000 0000 0000 ................
00000020 A000 0000 0A00 0000 0300 0000 0000 0000 ................
00000030 A000 0000 1100 0000 0300 0000 0000 0000 ................
00000040 C000 0000 1800 0000 0400 0000 0000 0000 ................
00000050 E000 0000 2000 0000 0500 0000 0000 0000 .... ...........
00000060 E000 0000 2900 0000 0500 0000 0000 0000 ....)...........
00000070 0001 0000 3200 0000 0600 0000 0000 0000 ....2...........
00000080 2001 0000 3C00 0000 0700 0000 0000 0000  ...<...........
00000090 6001 0000 4700 0000 0900 0000 0000 0000 `...G...........
000000A0 E001 0000 5400 0000 0D00 0000 0000 0000 ....T...........
000000B0 0002 0000 6500 0000 0E00 0000 0000 0000 ....e...........
000000C0 2002 0000 7700 0000 0F00 0000 0000 0000  ...w...........
000000D0 4002 0000 8A00 0000 1000 0000 0000 0000 @...............
000000E0 6002 0000 9E00 0000 1100 0000 0000 0000 `...............
000000F0 E003 0000 B300 0000 1D00 0000 0000 0000 ................
00000100 8005 0000 D400 0000 2A00 0000 0000 0000 ........*.......
00000110 6006 0000 0201 0000 3100 0000 0000 0000 `.......1.......
00000120 6000 0000 3701 0000 0100 0000 0000 0000 `...7...........
00000130 6000 0000 3C01 0000 0100 0000 0000 0000 `...<...........
00000140 6000 0000 4101 0000 0100 0000 0000 0000 `...A...........
00000150 6000 0000 4601 0000 0100 0000 0000 0000 `...F...........
00000160 6000 0000 4B01 0000 0100 0000 0000 0000 `...K...........
00000170 C001 0000 5001 0000 0C00 0000 0000 0000 ....P...........
00000180 0002 0000 6001 0000 0E00 0000 0000 0000 ....`...........
00000190 0002 0000 7201 0000 0E00 0000 0000 0000 ....r...........
000001A0 8003 0000 8401 0000 1A00 0000 0000 0000 ................
000001B0 8003 0000 A201 0000 1A00 0000 0000 0000 ................
000001C0 C006 0000 C001 0000 3400 0000 0000 0000 ........4.......
## Post #167
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-01-07T21:22:58+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from gjinka
>
> OK, gotcha 

But the offset which you say comes after seems to be too large.

Are you seeking from the current position (after reading the size) or from the start of the file?
## Post #168
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2012-01-07T21:28:20+00:00
- Post Title: Re: Dead or Alive series formats and tools

OK, my bad.
The integer in that offset is: 
```
2C 00 2D 00
```

Right after it is this: 
```
01 00 80 00
```

That's a VertBuff subid, but I don't see a "2C 00 2D 00" mainId in the docs.

Maybe I don't understand mainId/subId too well. There must be a mainId first, right?
## Post #169
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-01-07T21:34:04+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mariokart64n
>
> 
can you explain more what you did to convert a DoA3 model? I thought the XPR's were different. all you said was you swapped the rotation of the models? is that all
[viewtopic.php?f=16&t=7229](http://forum.xentax.com/viewtopic.php?f=16&t=7229)
i just rearranged the information in the OBJ to fit the doa2u format. i didn't rotated anything - when i changed that skeleton type to 1 everything came to normal.

thanks for explaining what the cull mode is. still wondering what is clockwise and counterclockwise, i'm thinking maybe i should rearrange the materials in the OBJ to place the ones from the beginning in the end, and bring those from the end in the beginning...
## Post #170
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-07T22:26:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from gjinka
>
> OK, my bad.
The integer in that offset is: Code: Select all2C 00 2D 00
Right after it is this: Code: Select all01 00 80 00
That's a VertBuff subid, but I don't see a "2C 00 2D 00" mainId in the docs.

Maybe I don't understand mainId/subId too well. There must be a mainId first, right?

your cursor is off by 4 bytes, you want to be at 01 00 80 00. to make it simple, read the size and +20 to it.

that'll be the offset you want relative to the start of the file, rather then cursor position
## Post #171
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2012-01-07T22:35:28+00:00
- Post Title: Re: Dead or Alive series formats and tools

OK, I got it. But I thought it had to be mainid first, before a subid. I thought you had to loop until you have -1 for mainid.
So what am i missing? Why isn't there a mainid in that offset instead? Thanks.
## Post #172
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-07T22:43:04+00:00
- Post Title: Re: Dead or Alive series formats and tools

the id is 01 00 04 00 right?

theres 2 IDs there

01 00 = 1
04 00 = 4

main ID is 1, and the sub ID is 4


in the first ID
00 00 00 80

the main ID is 0 and the sub ID is 128

eventually your loop will fall upon the DWORD 0xFFFFFFFF
both your main and sub ID will return -1 signed, or 0xFFFF unsigned.



edit
usually the second id is just a field used to set flags, for whatever it matters the main ID 1 could just mean "Table" and the sub ID could mean "texture"
we'll never really know, but thats how I've broken it down
## Post #173
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2012-01-08T07:07:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

Oh sorry, I forgot each was a short, not an int (4 byte)
## Post #174
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2012-01-08T11:47:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

OK, this is good  If you add few missing infos to your spreadsheet, I can port it to the wiki. I can also add some description to your spreadsheet to make everything clear. it will be few english sentences summarizing how the tables below works. What do you think?

The missing infos are:

1) all the 10 vertex buffer formats (there is only one now).
2) The "ResEntries" with subIds 0x01, 0x02, 0x03. What do they contain? If you don't know, at least how long are they?

Not much left now.

Thanks.

EDIT: BTW, you have posted the ids of the chunks in big endian, while you say the file is little endian. That can cause some confusion in the future.

Also, I'm pretty sure this is right, but just to be extra sure:

[http://s17.postimage.org/ly8x0iwfj/phpju_Dvl9.jpg](http://s17.postimage.org/ly8x0iwfj/phpju_Dvl9.jpg)
I think you meant "number of OBJ subBlocks" and "OBJ subBlock offset" right?
## Post #175
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-08T15:24:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

the object count is the same as the entry count, may be better just to note that

any unlabelled or undetailed IDs, haven't been encountered yet. so they can be removed.

aswell the spreadsheet exists for others to correct. so make any changes you see fit.

sorry that I get the endian crossed, its easy to forget and write things in left to right order
## Post #176
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2012-01-08T16:06:39+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mariokart64n
>
> any unlabelled or undetailed IDs, haven't been encountered yet. so they can be removed.
OK

How do you know how much materials each OBJ has to loop the subBlock the required amount of time? Or is the material subBlock only one for each OBJ?

Also, there seems to be another subBlock in OBJ block, the "Texture block", acording to one of the docs you posted. Have you figured it out? There doesn't seem to be any texture count variable, so is that "Texture block" one for each OBJ?
## Post #177
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-08T16:42:02+00:00
- Post Title: Re: Dead or Alive series formats and tools

I know very little about the material blocks, I was skipping them until recently. but I haven't had any luck deciphering them completely

anyway this pic by keypel explains the block pretty well


I loop until the first dword = 00 00 00 00

normally it is 01 00 00 80 or 00 00 00 80 when a material is present
## Post #178
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2012-01-08T18:57:33+00:00
- Post Title: Re: Dead or Alive series formats and tools

OK mariokart. One thing seems odd though. All vertex buffer offsets, vertex counts, index buffer offsets and index buffer counts seem to be 0 in the OBJ subBlock. Are they not used (file "ayaA0.xpr")?
## Post #179
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-08T19:04:13+00:00
- Post Title: Re: Dead or Alive series formats and tools

ayaA0 sounds like a DOA3 file name, the material blocks are different from DOAU. I was just asking bony how to parse a doa3 block, he doesnt know?
## Post #180
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-01-08T19:05:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

For AyaA0, it's similar to DOAU except instead of getting numVerts, vertBuff, etc you get 4 integer zeroes followed by vertNum, vertBuff, etc.

Since I wasn't sure whether it was the same game or not I just read an integer, check if it's zero, and then read 3 more zeroes and continue with numVerts, vertBuff ,etc

Though I've noticed that chunkSize = size of data + chunk header, and not really the size of the data that follows. Sometimes.

EDIT: no I'm wrong. That wasn't for AyaA0. It was for one of the stages that I can't find anymore. I actually don't know why I have it in the code now.

But for AyaA0 specifically it's

```
int32 vertType
int32 ?
float ?
int32 numVerts
int32 vertOfs
int32 numIdx
int32 idxOfs

```


Anyways here's the model in pieces as mariokart had described some time before.
What do I transform them with?
## Post #181
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-08T19:22:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

you can distisngish a DOAU OBJ block from a DOA3 OBJ block from the version number

DOA3
00 4F 42 4A 00  00 00 00 00 00 00 00 00                   .OBJ.........

DOAU
00 4F 42 4A 00  00 00 00 00 04 00 00 00                   .OBJ.........
## Post #182
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-01-08T19:36:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

Alright got it.

I also found the DOAU stages with the odd obj header.

```
int32 vertType
int32 meshType
int32
float ?[4]
int32 zero[4]
int32 numVerts
int32 vertOfs
int32 numIdx
int32 idxOfs
...

```


Don't know where those 4 zeroes come from.
## Post #183
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2012-01-08T20:05:29+00:00
- Post Title: Re: Dead or Alive series formats and tools

This is what mariokart's doc says:

```
Unsigned Int	4	VertexType	Changes Size of Vertex Definition
Unsigned Int	4	UKN001	May Be Block Version? always 0x04
Unsigned Int	4	IndexCount	How many Faces are In our Index Buffer
Float	4	UKN002	X position?
Float	4	UKN003	Y Position?
Float	4	UKN004	Z Position?
Float	4	UKN005	W Vector?
Unsigned Int	4	VertexCount	Number of Vertices in Vertex Buffer
Unsigned Int	4	VertexBuff	Offset from Start of XPR to Vertex Buffer
Unsigned Int	4	IndexCount	Number of Faces In Index Buffer
Unsigned Int	4	IndexBuff	Offset from Start of XPR to Index Buffer
Unsigned Int	112	UKN006	?? Padding, data all 0x00

```

Doesn't seem too different, you just start vertexCount 4 bytes later, that doesn't change the fact that everyhting is zero here, both vertex/index offsets and counts.

I'm pretty sure this is from DOAU. Because I just dumped it.
## Post #184
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-08T20:06:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

yeah the stages xprs are different, they crash my importer
## Post #185
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-01-08T20:24:11+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Doesn't seem too different, you just start vertexCount 4 bytes later, that doesn't change the fact that everyhting is zero here, both vertex/index offsets and counts.

You should see the vertex and index counts/offsets easily.
Aside from changes in what data is present depending on some flag or value, those 4 values will still appear together. You just need to add some conditions.

If you scroll past the materials and see an index buffer then you know there are indices.

But even when I say that, I can't plot all of the vertices for some reason lol
## Post #186
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2012-01-08T20:29:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

I didnt notice there was a new page when I posted lol.

It looks like my files are DOA3!?
But how on earth did I get that afs to DOAU folder. Just to be sure, it's from a file 
'datadvd.afs', 372,344 MB in size. Is it not from DOAU?

I guess my issues could be caused by that, lol?
## Post #187
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-01-08T20:50:51+00:00
- Post Title: Re: Dead or Alive series formats and tools

buffer1 = vertex type 1
buffer2 = vertex type 2
buffer3 = vertex type 3
buffer4 = vertex type 4
each vertex type can be affected by the vertex weight

> Reply from mariokart64n
>
> yeah the stages xprs are different, they crash my importerok guys show me the stage you're talking about because i parsed "all" xpr's and everything were ok
## Post #188
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-08T20:56:02+00:00
- Post Title: Re: Dead or Alive series formats and tools

I'll have a look in a while, I'm trying to find out why the P8 textures I extracted don't work 

@gjinka
DOAU contains DOA3 files, so you have to put a check into place to check the version

the DOA3 files are there as a bonus. if you owned both games, DOAU would add content into DOA3 for you.
not only that DOAU also contains a remake of DOA1, using DOA3 files
## Post #189
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2012-01-08T21:04:46+00:00
- Post Title: Re: Dead or Alive series formats and tools

Well that's unexpected.
I guess the needed files arre in 'datahdd2.afs'. But aya00 seems to be encrypted. Anyone how a compiled xprbreaker or similar?
## Post #190
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-08T21:15:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

just use greedxplorer, right click a model in gx and extract with cat
## Post #191
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-01-08T22:50:17+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mariokart64n
>
> I'll have a look in a while, I'm trying to find out why the P8 textures I extracted don't work
i now that g8b8 and argb are swizzled. also each dds mipmap contains some additional info, like size.


 main.7z
ok this is my doa3toU xpr+cat converter. (i know, the code is a real mess :[ when i started this program i didn't have any info on format and many values where named like "shit1" and "thatThing" :) ) (3.99 KiB) Downloaded 53 times



still didn't fixed the wrists problem, also i found that some doa3 joints do have something like a vertex weight, which is hanging the doau, and when i set that value to the default one the joints don't fit. still wondering how in doa3 the model looks normal and in doa2 textures on two sided meshes become swapped by some reason.
## Post #192
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-08T23:18:09+00:00
- Post Title: Re: Dead or Alive series formats and tools

do you have a compiled version of the tool?

if its just the wrists, then I don't think it'll be too hard to fix.

EDIT
I don't think theres a way to recreate the skeleton from the CAT or the XPR files 
spent alot of time searching the xbe too.. and the BIN and MOT files.

until we stumble across the where abouts of the skeletons. I'm going to start rebuilding all the skeletons and hardcode them for now.

EDIT2
I had a better look at the DOAU materials, its weird how they've setup materials.
usually you setup a list of materials, then link your mesh objects to it.

however what they did in doau is defined new materials for every single mesh object in the XPR.. in the end you end up with 50+ materials.
totally inefficient and sloppy, because it results in alot of duplicated materials

anyway the CAT file, which controls the XPR also contains a list of materials and it forces them over the XPR.

and this is really dumb what they did... they set a RGBA value on each mesh in the XPR
if the ARGB value is in the cat, then that mesh object in the XPR will assume the material settings from the cat

but the cat doesn't contain texture assignment, just your spec values for example.. :\ kinda stupid?


anyway I'll explain the XPR and CAT material structures, keep in mind the only thing that links the XPR materials to the CAT is the "ARGB Colour".

> XPR Material structure (Loop structure until first 4 bytes = 0)
>
> [BYTE] Opacity Flag // 0 = off | 1 = on
>
> [BYTE] UNKNOWN
>
> [BYTE] UNKNOWN
>
> [BYTE] enable flag? // 0x80 = Enabled
>
> [LONG] Size of Material Block + 8bytes from above read
>
> [LONG] UNKNOWN, Always 0?
>
> [LONG] UNKNOWN, Effects Transparency Layers // 0,1,8?
>
> [FLOAT32{4}] ?? Positioning Info??
>
> [FLOAT32{4}] Diffuse Colour
>
> [FLOAT32{4}] Ambient Colour
>
> [FLOAT32{4}] Specular Colour
>
> [FLOAT32{4}] Emissive Colour
>
> [FLOAT32] Specular Power
>
> [LONG] Number of Textures
>
> [LONG] UNKNOWN, Always 3? if changed to 0 disables material link from CAT
>
> [BYTE{4}] ARGB Colour
>
> 
>
> >>> Loop for Number of Textures
>
> [LONG] Texture Index to Assign
>
> [LONG] UNKNOWN, Always 0?
>
> [LONG] UNKNOWN, Maybe an Index
>
> [BYTE] UNKNOWN, always 0
>
> [BYTE] UNKNOWN, if texture is present value is 4
>
> [BYTE] UNKNOWN, always 0
>
> [BYTE] UNKNOWN, if texture is reflection texture value is 1
>
> <<< Loop Ends
>
> 
>
> [LONG] UNKNOWN, Always 0x20?
>
> [LONG] Starting Face Index to begin Material On
>
> [LONG] Number of Faces to Assign Material to
>
> [LONG] UNKNOWN, always 2? someone elsed notes this as a culling flag?
>
> 
>
> 
>
> 
>
> CAT Material structure (Loop structure until first byte = -1)
>
> [BYTE] UNKNOWN, always 3?
>
> [BYTE] UNKNOWN, 1 or 3?
>
> [BYTE] UNKNOWN, always 0?
>
> [BYTE] UNKNOWN, always 0?
>
> [BYTE{4}] ARGB Colour
>
> [SHORT] UNKNOWN
>
> [SHORT] UNKNOWN
>
> [FLOAT32{4}] Diffuse Colour
>
> [FLOAT32{4}] Ambient Colour
>
> [FLOAT32{4}] Specular Colour
>
> [FLOAT32{4}] Emissive Colour
>
> [FLOAT32] Specular Power
## Post #193
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2012-01-09T08:32:55+00:00
- Post Title: Re: Dead or Alive series formats and tools

OK, it seems to parse correctly now.
For now I'll skip the materials and textures.

I tested on the characters and there are two kinds of vertex types: 0 and 1. mariokart documented '1'. Which one is '0'? All I know it's 36 bytes long.
Also the values don't seem right. The vertex count can be shorter than the lenght of a single vertex entry. is the OBJ entry different between stage and character models or something? Does it start at the 9th dword? By "it" I mean vertexcount, vertexoffset, indexcount, indexoffset.
## Post #194
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-01-09T10:23:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mariokart64n
>
> do you have a compiled version of the tool?[http://rghost.ru/35813449](http://rghost.ru/35813449)

> Reply from mariokart64n
>
> if its just the wrists, then I don't think it'll be too hard to fix.not only the wrists, imho there are a lot of problems. i spent a lot of time trying to fix the wrists...

> Reply from mariokart64n
>
> 
EDIT
I don't think theres a way to recreate the skeleton from the CAT or the XPR files 
spent alot of time searching the xbe too.. and the BIN and MOT files.

until we stumble across the where abouts of the skeletons. I'm going to start rebuilding all the skeletons and hardcode them for now.as i said before skeletons(and a lot of other information) are built in the executable, - i found them for doau and doa3. why do you need them so hard, i can dump them for you. 
search this hex sequence in doau, doa3 or doao executable "00 00 00 00 EC 51 38 3E 2E 90 A0 3B 00 00 00 00", this is the first 4 floats in kasumis skeleton.

> Reply from mariokart64n
>
> keep in mind the only thing that links the XPR materials to the CAT is the "ARGB Colour".
great finding

> Reply from mariokart64n
>
> 
XPR Material structure (Loop structure until first 4 bytes = 0)
[BYTE] Opacity Flag // 0 = off | 1 = on (for doa3 = {1,0}, for doau = {1,2,3,5,7,?})
[BYTE] UNKNOWN
[BYTE] UNKNOWN
[BYTE] enable flag? // 0x80 = Enabled[/color] 0x90 ?
[LONG] Size of Material Block + 8bytes from above read
[LONG] UNKNOWN, Always 0?
[LONG] UNKNOWN, Effects Transparency Layers // 0,1,8? cooling flag? = {0,1,4,5,8,9,c,d}
[FLOAT32{4}] ?? Positioning Info??
[FLOAT32{4}] Diffuse Colour
[FLOAT32{4}] Ambient Colour
[FLOAT32{4}] Specular Colour
[FLOAT32{4}] Emissive Colour
[FLOAT32] Specular Power
[LONG] Number of Textures
[LONG] UNKNOWN, Always 3? if changed to 0 disables material link from CAT 1 = don't use specular power?
[BYTE{4}] ARGB Colour
...	
[LONG] UNKNOWN, Always 0x20? [WORD] size of one vertex, [WORD] vertex buffer ID
[LONG] Starting Face Index to begin Material On
[LONG] Number of Faces to Assign Material to
[LONG] UNKNOWN, always 2? someone elsed notes this as a culling flag?

> Reply from gjinka
>
> OK, it seems to parse correctly now.
 is the OBJ entry different between stage and character models or something? Does it start at the 9th dword? By "it" I mean vertexcount, vertexoffset, indexcount, indexoffset.
look again in here [viewtopic.php?p=64883#p64883](http://forum.xentax.com/viewtopic.php?p=64883#p64883)
## Post #195
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-01-09T12:43:44+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hmm so those zeroes are in fact referring to different vertex buffers and vertex types.
That would make sense then.
## Post #196
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2012-01-09T14:28:49+00:00
- Post Title: Re: Dead or Alive series formats and tools

> look again in here viewtopic.php?p=64883#p64883
Sorry,  dont get what you mean.
## Post #197
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-01-09T18:28:39+00:00
- Post Title: Re: Dead or Alive series formats and tools

2mariokart64n
do you know the characters order for doa3? something like this:
0 - "ZACK"
1 - "TINA"
2 - "JANN-LEE"
3 - "EIN"
4 - "HAYABUSA"
5 - "KASUMI"
6 - "GEN-FU"
7 - "HELENA"
8 - "LEON"
9 - "BASS"
a - "LEIFANG"
A - "AYANE"
B - "TENGU"
C - "BAYMAN"
D - "HAYATE"
E - "HITOMI"
F - "GENRA"
10- "BRAD-WONG"
11- "CHRISTIE"
i think this list is wrong, because i don't see "chen" in it, and doa3 has 20 unique skeletons! i need the names to dump them correctly(like "bni" for genra).

i know the characters order for doau, and i already damped the doau skeletons = 24 bones each. the skeleton for tengu is bigger = 30 bones. in doa3 all skeletons = 17 bones.

> Reply from gjinka
>
> look again in here viewtopic.php?p=64883#p64883
Sorry,  dont get what you mean.
i mean "it" can start at the 9th dword, or at the 13th dword, or if there are two vertex buffers one will start at the 9th dword, and the second one at the 13th dword.
## Post #198
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2012-01-09T20:08:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

> i mean "it" can start at the 9th dword, or at the 13th dword, or if there are two vertex buffers one will start at the 9th dword, and the second one at the 13th dword.
"It"? You mean the vertex/index counts and offsets? OK, do we know when which one? And what do you mean "two vertex buffers"?
## Post #199
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-01-09T21:06:01+00:00
- Post Title: Re: Dead or Alive series formats and tools

ok guys, here you can take all skeletons for doau, doax and doa3
[viewtopic.php?p=65409#p65409](http://forum.xentax.com/viewtopic.php?p=65409#p65409)

> Reply from gjinka
>
> 
i mean "it" can start at the 9th dword, or at the 13th dword, or if there are two vertex buffers one will start at the 9th dword, and the second one at the 13th dword.
"It"? You mean the vertex/index counts and offsets?
yes

> Reply from gjinka
>
>  OK, do we know when which one?
that depends on what vertex type is storing that OBJ.

> Reply from gjinka
>
> And what do you mean "two vertex buffers"?
i mean that one obj can have more than one vertex/index counts and offsets
## Post #200
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-10T01:07:49+00:00
- Post Title: Re: Dead or Alive series formats and tools

praise!! finally skeletons

EDIT
These are collapsed in a sense, they'll only work in the CAT. not as a workable skeleton for importing the meshes

I could write a tool to add these into the cat, but I only know maxscript. any body wanna do this up in a compiled language?
## Post #201
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2012-01-10T07:30:00+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> gjinka wrote: OK, do we know when which one?
that depends on what vertex type is storing that OBJ.
OK, then which types?
And what is stored in the 9th byte when it starts at 13th byte? 

> i mean that one obj can have more than one vertex/index counts and offsets
That's new. How do we know (where do we find out) how much it has? Or do we keep reading 4 dwords until a terminator is met? What terminator then?

You guys are really cryptic.   
Few have the xpr format understood and are already moving to other formats. What about us?
## Post #202
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-01-10T12:29:55+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mariokart64n
>
> These are collapsed in a sense, they'll only work in the CAT. not as a workable skeleton for importing the meshes
those "skeletons" can be used to import a skin with skeleton, with all parts settled to their places. it contains the position information for each bone, what else is needed...

i already written a tool to add the skeleton to a cat file, but i don't think that this is a great idea to use skins for other characters  

2gjinka
i think you should wait till someone will port the xpr format to the xentax wiki...
## Post #203
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2012-01-10T12:47:29+00:00
- Post Title: Re: Dead or Alive series formats and tools

I think no one will be able to 'port' the formats to the wiki except you guys, since it seems you are the only ones who have fully understood the format and are already exploring other formats.
I created the wiki page for DOAU btw. Feel free to fill it. I wanted to fill the page myself after you would teach me what is left to know, but if you want you can fill it yourselves, sure.

I'll be in the Tekken Hybrid thread if anything.
## Post #204
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-10T22:08:49+00:00
- Post Title: Re: Dead or Alive series formats and tools

i'm still trying to write a function to create triangle strips in 3dsmax
## Post #205
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2012-01-11T08:53:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

If you are already working on an exporter, then you probably can already import it.

We can't, oh come on guys
## Post #206
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-01-11T18:08:59+00:00
- Post Title: Re: Dead or Alive series formats and tools

i am confused.  
i want to learn how to import stuff to blender, but the tutorials i found is for 2.49, should i try harder and learn the new way of how to work with blender scripting, or should i install 2.49, and be happy scripting for this dead end!  

please, someone, tell me what to do, because i have big plans on importing models and animation for doa and i'm stuck right now on a such trivial stuff
## Post #207
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-12T01:18:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

where are you on the importing? I thought you were ok with the MDL and OBJ blocks?

bony just posted the specs on the material block, which sums up the format.

do you need an explanation of what to do with the data?

EDIT
GAH!?!!

I fail to make strips 

maybe someone can help re-interpret what the concept is here
[http://www.codercorner.com/Strips.htm](http://www.codercorner.com/Strips.htm)

I created an array of edges, but get stuck trying to "walk along" or to push to the next face kinda thing. 
I tried exporting the strips like this
1,2,3
3,4,5
5,6,7

thats with degenerates, so it should export right... but I need resets? which would be like
1,2,3
-1
4,5,6
-1
7,8,9

?????? >_< guess I'll sleep on it and maybe it'll come to me. if i can export strips from max I can start on rebuilding new XPRs

EDIT2
Holy poo, this gets soo confusing

triangle windings? of the direction of the edge ids.. counterclockwise and clockwise edges.. different algos.. 
[http://users.telenet.be/tfautre/softdev ... er/how.htm](http://users.telenet.be/tfautre/softdev/tristripper/how.htm)

I wonder why there just isnt a really really basic outline on generating a single strip. every article incorporates different tricks to gain more speed.. but doesn't detail the basics 
Null links and Degenerates, when and how do I use them?

sorting, what do I sort?

Striping, how do I combine strips?

how to ensure correct direction for single sided triangles.. Fing poo

EDIT3
[http://www.riemers.net/eng/Tutorials/Di ... _Strip.php](http://www.riemers.net/eng/Tutorials/DirectX/Csharp/Series3/Triangle_Strip.php)

..explains windings, every other face needs to be reversed to maintain the face direction.. but what if the windings opposite already? is detection prior to that rule needed?
## Post #208
- Username: daronarre
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Wed Jan 11, 2012 6:08 am
- Post datetime: 2012-01-13T19:09:43+00:00
- Post Title: Re: Dead or Alive series formats and tools

mariokart64n

I made a little program to help you.
Export your mesh indices in triangle list format to a binary file.
Then call TriList2Strip to convert your mesh indices to a triangle strip format.

I'v provided a sample binary file in the archive.

Usage:
TriList2Strip <input_file> <output_file> [-log <log_file>]

<input_file>  Input file (Triangle list indices)
<output_file> Output file (Triangle strip indices)

input/output file format (little endian):
U32 Num Indices (1-n)
U16 Index_1
...
U16 Index_n


Hope this help
[TriList2Strip.7z](https://xentaxbackup.github.io/file/4984_TriList2Strip.7z)
## Post #209
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-13T20:32:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

^_^ awesome, this will work better even then making a function in max.
## Post #210
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2012-01-14T08:23:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

> where are you on the importing? I thought you were ok with the MDL and OBJ blocks?
Nope, not really.

There seems to be only 1 type of OBJ chunk documented. You guys say there are multiple and they store different things, you also say they can have multiple vertex/index buffers. How do you know how much? I think it would be simpler to just document the different types of the OBJ chunk.

I was asking these to b0ny but he suggested to wait until the format will be documented in the wiki, I kind of doubt it will, you guys just moved to other formats, which is great, but it would be better if the formats were documented on the way, people could create scripts for other modelling packages  and stuff. I don't think it's too much to ask.
## Post #211
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-14T12:29:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from gjinka
>
> There seems to be only 1 type of OBJ chunk documented. You guys say there are multiple and they store different things, you also say they can have multiple vertex/index buffers. How do you know how much? I think it would be simpler to just document the different types of the OBJ chunk.

I was asking these to b0ny but he suggested to wait until the format will be documented in the wiki, I kind of doubt it will, you guys just moved to other formats, which is great, but it would be better if the formats were documented on the way, people could create scripts for other modelling packages  and stuff. I don't think it's too much to ask.
to my knowledge there is only one type of obj block.

between DOAU and DOA3 the material block is extended. that's the only difference.

the vertex type flag doesn't mean its a all new obj block, nothing changes except the stride of a vertex definition.

again I've only dealt with one type, anywho  here's a sniplet from my maxscript, you can see that when I encounter a new vertex type I just skip more lol

```
vy=readfloat fstream
vz=readfloat fstream
nx=readfloat fstream
ny=readfloat fstream
nz=readfloat fstream
tu=readfloat fstream
tv=readfloat fstream
if vtype==1 do fseek fstream 4 #seek_cur
if vtype==2 do fseek fstream 8 #seek_cur
if vtype==3 do fseek fstream 12 #seek_cur

```


you could even use the vertex type as a actual stride size..

something like; 
stride = ((4*vtype)+32)
^,^
## Post #212
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-01-14T12:40:01+00:00
- Post Title: Re: Dead or Alive series formats and tools

i had a look in some scripts and wrote this import script. 
io_import_xpr.zip
it will load only the vertices from  the first or the second vertex buffer for each OBJ:

```
    print('Importing %s' % realpath)
    
    try:
        dwXprMagic, dwXPRSize, dwHeaderSize, dwChunkID = struct.unpack("<4sLLL", file.read(16))
    except:
        print("Error parsing file header!")
        file.close()
        return
        
    # Handle XPR
    if dwXprMagic == b'XPR0':#is "xpr"
    		if dwChunkID == 0x80000000:
    		    print("mdl ID")#is first chunk a mdl one
    		    dwMDLSize, dwMDLMagic, dwNumObj, dwNumTxt, dwUnk0, dwNumIVBuf = struct.unpack("<1L4sLLLL", file.read(24))
    		    if dwMDLMagic == b'MDL\0':#is magic "mdl"
    		        print("mdl magic. objects %d"% dwNumObj)
    		        objects = []
    		        for object in range(dwNumObj): objects.append(struct.unpack("<1L", file.read(4))[0])
    # Handle OBJ
    		        for object in range(len(objects)):
    		            file.seek(objects[object])
    		            dwOBJMagic = struct.unpack("<4s", file.read(4))[0]
    		            if dwOBJMagic == b'OBJ\0': 
    		                print("%x obj magic"% (objects[object]))
    		                verts = []
    		                faces = []
    		                indices = []
    		                normals = []
    		                diffuse = []
    		                uv = []
    		              #load first vertex buffer
    		                file.seek(28, 1)
    		                dwNumVertices, dwVBufOffset, dwNumIndices, dwIBufOffset = struct.unpack("<LLLL", file.read(16))
    		                buffer = 0
    		              #if first vertex buffer not found load the second one
    		                if dwNumVertices == 0:
    		                    dwNumVertices, dwVBufOffset, dwNumIndices, dwIBufOffset = struct.unpack("<LLLL", file.read(16))
    		                    buffer = 1
    		              #go to buffer offset and read the fvf
    		                file.seek(dwIBufOffset)
    		                for i in range(dwNumIndices): indices.append(struct.unpack("<1H", file.read(2))[0])#H - usigned short
    		                for i in range(dwNumIndices - 2): faces.append((indices[i], indices[i + 1], indices[i + 2]))
    		                file.seek(dwVBufOffset)
    		                scale = 3
    		                for v in range(dwNumVertices):
    		                    vx, vy, vz = struct.unpack("<fff", file.read(12))
    		                    verts.append( (scale*vx, -scale*vz, scale*vy) )
    		                    if buffer == 0:
    		                        normals.append(struct.unpack("<3f", file.read(12)))
    		                    else:
    		                        diffuse.append(struct.unpack("<f", file.read(4))[0])
    		                    uv.append(struct.unpack("<2f", file.read(8)))
    		              #create object from verts and faces
    		                name = "vtf%d"% (object + 100)
    		                me = bpy.data.meshes.new(name)
    		                me.from_pydata(verts, [], faces)
    		                me.update()
    		              #add new obj to scene
    		                scn = bpy.context.scene
    		                ob = bpy.data.objects.new(name, me)
    		                scn.objects.link(ob)
    		                scn.objects.active = ob
    		                #go to edit mode and fix the mesh
    		                bpy.ops.object.mode_set(mode='EDIT')
    		                bpy.ops.mesh.select_all(action='SELECT')
    		                bpy.ops.mesh.normals_make_consistent(inside=False)
    		                bpy.ops.object.editmode_toggle()
```

yet have no idea how to handle anything else like material, textures, weight, normals or uv  
i think now i'll look in the cat file for the "obj types"(head, body,...), and in the skeleton for coordinates and will place the body-parts to their places
## Post #213
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-14T12:47:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

not everything is listed in the first block.

the first block contains a bunch of node linking info.. which we believed positioned the various objects to the skeleton.

however not everything is listed or assigned.

some things are revisited in other blocks. its complicated :\
## Post #214
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-01-14T15:41:39+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mariokart64n
>
> not everything is listed in the first block.

the first block contains a bunch of node linking info.. which we believed positioned the various objects to the skeleton.

however not everything is listed or assigned.

some things are revisited in other blocks. its complicated :\the point zero in the objects coordinates is used as a pivot point and as a bone connection, and is also shared by the joint attached to this body-part. 

in the cat file we find the the info about which OBJs are shadow shapes, low poly, high poly and joints; that allows as to assemble almost all objs to a model(by moving them to the points listed in the skeleton file).

the morphs can be loaded as time keyframes to make an animation. and i'm wondering if the "apa" magic block contains the lips speech info. and the physics can be imported as a hierarchy and interpreted by some python script for the blender game engine

i'm very impressed by this gta script:[http://www.gtagarage.com/mods/show.php?id=9798](http://www.gtagarage.com/mods/show.php?id=9798)
download it and look in it's manual - i think the doa script should be something like that. all non model info is available as an editable hierarchy. a script like this is like a fully-functional editor that will allow as to make complex skins from the scratch, without using an existing model as a base.

[Edit]

in the skeleton files(used by the cat file), the bones coordinates are relative to the parent bones, i've made a hierarchy list to calculate the real coordinates. but this hierarchy list doesn't contain branches for all bones

```
|_6-lheap
| |_7-lknee
|   |_3-lfoot
|
|_c-rheap
| |_d-rknee
|   |_9-rfoot
|
|_0-chest
  |_1-head
  |   
  |_8-lshoulder
  | |_4-lelbow
  |   |_5-lpalm
  |   
  |_e-rshoulder
    |_a-relbow
      |_b-rpalm
```

i added some lines to the script and it now looks for "skeletons" folder, and for cat file in the same directory as the xpr file we want to import, and use the information from these files to setup the high poly model with the joints.


 xpr script.7z
(100.29 KiB) Downloaded 78 times


this model was setup automatically by the script:
## Post #215
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-15T17:08:57+00:00
- Post Title: Re: Dead or Alive series formats and tools

can you get DOAX skeletons? I can send you the XBE
## Post #216
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-01-15T18:41:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mariokart64n
>
> can you get DOAX skeletons? I can send you the XBEsend me the executable, i'll have a look...

you did a good job in researching "apv" morphing format. can you please research also the "apa" morphing format in doau cat files, and the "LNK" morphing format in doa3 cat files. i'd like to try to convert the doa3 morphing to doau but don't have enough experience and knowledge to do this myself.
## Post #217
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-15T19:18:54+00:00
- Post Title: Re: Dead or Alive series formats and tools

apa is morph data? thats strange that there would be anything outside of the face, hands and chest
## Post #218
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2012-01-15T20:12:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

Oh, a Blender script, thats enough for me.

btw b0ny, do you still have questions about Blender Python? I'm still learning the new version of Blender, but maybe I could help.
## Post #219
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-15T23:59:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

the APA controls which morph target does what i think. and its hard to break it down, but there are basically 3 listings

1.) Hands
2.) Eyes(Blinking)
3.) Mouth

breasts morphs don't seem to be listed here. I deleted this whole bloc and they still bounced <_< soo...

anyways I think? this is the structure... but I don't know about the indinces, or the IDs given???.. 
Either way it is going to be hard to map out this section and what all the IDs actually mean?



above you should see an image breaking the bloc into sections, I'll now attempt to describe each section

61 70 61 00
File Id "APA "

03 00 00 00 
File Count, always 3??

2C 05 00 00 4C 05 00 00 74 05 00 00
3 Offsets that jump from the start of cat bloc1 to each APA subHeader


1.) Hands
00 00 
01 01 
0A 04 
0D 05
06 08 
03 0B 
Index #1 [MorphID,TargetID]

01 02 02 03
05 02 06 07 
08 02 09 0A
0B 02 0C 0D 
FF 00 00 00
SubIndex #1 From second Table?? larger then count, donno what this is

00 00 00 00 08 05 00 00
04 00 00 00 08 05 00 00
SubTable From SubHeader #1 [count,offset]
offset from start of cat bloc1, jumps to another index

06 00 00 00 FC 04 00 00 
02 00 00 00 1C 05 00 00  
SubHeader #1 [Count,Offset]
following the two offsets they bring us to Index #1 and Table #1 from earlier in this bloc

0E 00 00 00 
SubHeader #1 ID?


2.) Eyes(Blinking)
00 00 
01 01
02 04 
65 02 
66 03 
00 00
Index #2 [MorphID,TargetID]

05 00 00 00 40 05 00 00 
00 00 00 00 00 00 00 00
SubHeader #2 [Count,Offset]
the count and offset are 0 for the 2nd entry, thus the second table is not seen above

05 00 00 00 
SubHeader #2 ID ??


3.) Mouth
00 00 
01 00
02 01 
03 01 
04 03 
06 02
05 07 
07 06 
65 04 
66 05
Index # 3 [MorphID,TargetID]

0A 00 00 00 60 05 00 00
00 00 00 00 00 00 00 00
SubHeader #3 [Count,Offset]
the count and offset are 0 for the 2nd entry, thus the second table is not seen above

05 00 00 00
SubHeader #3 ID ? ?



EDIT1
I've been looking at the first morph listing (Hands)
seems the model contains more morph targets then are actually used ingame
I'll list as I find them out, these might not even be consistent?
Anyway changing the ID changes both hands.. so I'm not sure why the hands have 2 different lists ??


Hand IDs (Partial)
0x00 - Neutral


0x01 - Fist

0x02
0x03 - Cliffed Fingers

0x04
0x05
0x06 - Fingers Out

0x06
0x07
0x08
0x09
0x0A - Middle Finger Arched

0x0B
0x0C
0x0D - Finger Gun

0x0E



Eye IDs (Partial)
0x00 - Neutral


0x01 - Eyes Closed


0x02 - Wink


0x65 - Eyes Closed (Sad)


0x66 - Eyes Open (Sad)



Mouth IDs (Partial)
**note index from list did not matchup with my dump.
example I have 12 face morphs total, 6 are eyes morphs and the other 6 are mouth morphs
my morph index is obviously 0 - 12, however the game doesn't index from 0 - 12, it indexes from 0 - 6
..the eye and mouth morphs for the face are in two different sets. I'm unsure how to seperate the face morphs into these 2 categories 

>>>index resets to 0 

0x00 / 0x01 - Neutral / Mouth Closed


0x02 / 0x03 - Mouth Open


0x04 - LowerLip Down


0x05 - Smile


0x06 - Teeth Clenched


0x07 - Mouth Oval
## Post #220
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-01-17T13:28:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

doax skeletons have exactly the same format as doau skeletons(both games use the same engine),
but in doau the doax bones are not used(are null).
i added these null bones to the doa3 skeleton and now it's also in doau format(can be inserted in doau cat file).

here is the archive:

 skeletons.7z
(3.17 KiB) Downloaded 68 times

both doau and doax games contain the same model - "prarie dog". it's great that i can now compare the differences between doau and doax format to make a converter from doax to doau 

> Reply from gjinka
>
> Oh, a Blender script, thats enough for me.

btw b0ny, do you still have questions about Blender Python? I'm still learning the new version of Blender, but maybe I could help.yes, i have a lot of questions on python importing functions. in this script i only imported the coordinates from the vertex buffers, but i'd like also to now how to import the materials, uvmapping, normals and textures
## Post #221
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2012-01-17T15:21:15+00:00
- Post Title: Re: Dead or Alive series formats and tools

1. You make textures like this:

```
image.pixels = pixels
# save in blend
image.pack(as_png = True)
	
texture = bpy.data.textures.new(name, type = 'IMAGE')
texture.image = image
texture.use_alpha = True
```


Where "pixels" is a python list of rgbargbargbargba... color values. The color values have to be a float for some reason, so if you have an int in the range (0,255), divide it by 255.

2. Make materials like this:

```
# ambient
material.mirror_color = ambient[:-1]
material.ambient = ambient[3]
# diffuse
material.diffuse_color = diffuse[:-1]
material.alpha = diffuse[3]
# specular
material.specular_color = specular[:-1]
# emissive
material.emit = emissive[3]
# shininess
material.specular_hardness = hardness
	
# assign textures to materials
mtex = material.texture_slots.add()
mtex.texture = textures[index] # textures is a list of texture objects you created above
mtex.texture_coords = 'UV'
```


3. As for assigning the materials to faces, do this:

```
    mesh.materials.append(material)

```


```
    face.material_index = yourindex
```


4. For UVs:

```
uvtex.name = 'DefaultUVMap'
for face in len(mesh.faces):
	uvtex.data[face].uv1 = uvs[face * 3]
	uvtex.data[face].uv2 = uvs[face * 3 + 1]
	uvtex.data[face].uv3 = uvs[face * 3 + 2]
	# 3 if you have triangles
```


where "uvs" is a python list of uv values stored one after another.

5. For normals:

```
for vertex in mesh.vertices:
	vertex.normal = normals[vindex]
	index += 1
```


6. For vertex colors:

```
index = 0
for face in mesh.vertex_colors[0].data:
	face.color1 = colors[index]
	face.color2 = colors[index + 1]
	face.color3 = colors[index + 2]
	index += 3
```


7. For armatures and bones:

```
object = bpy.context.object
object.name = 'ArmatureObj'
armature = object.data
armature.name = 'Armature'
```


```
    bone = armature.edit_bones.new('yourname')
    bone.tail = mathutils.Vector([0,0,1])
    # is it stored as matrices?
    #bone.transform(matrix)
	
# go to Object mode
bpy.ops.object.mode_set(mode='OBJECT')
```


That's as much as  know. If you'll learn how to assign bone indexes and bone weights, let me know.
## Post #222
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-18T04:26:38+00:00
- Post Title: Re: Dead or Alive series formats and tools

yes! finally I understand the DOA3 material block. MAN! O_O


I had structures detailing the doa3 material section before hand. but they called the section a subset?? and didnt give any info on how to read it or what it did..
Then I used the DOA3 Exporter, and it dumps a debug.txt file, which describes all the sections.

basically instead if the materials just giving you a offset to the face buffer and a count. in doa3 they detail EVERY strip.
its like there giving a new index for each degenerate face I think... but thats a total waste of space. they should have just used triangle list.

whatever, finally DOA3, DOAX, and DOAU are cracked once again! now to start working on importing data from the cat
## Post #223
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2012-01-18T13:18:01+00:00
- Post Title: Re: Dead or Alive series formats and tools

Oh nice. I havent had enough time to study the whole blender script, but two things I noticed bony:
1) you can actually store a list of length 0 or 1 in python. Why wouldn't you be able to?

```
# OR
a = []
list.append(a)

list.append([1]) # add a list with 1 member to a list
# OR
a = [1]
list.append(a)
```


2) instead of writing "BBBBB" for the struct module, you can just write "5B". Even "2B3B" would work.
## Post #224
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-01-18T18:53:26+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from gjinka
>
> Oh nice. I havent had enough time to study the whole blender script, but two things I noticed bony:
1) you can actually store a list of length 0 or 1 in python. Why wouldn't you be able to?
Code: Select alllist.append([]) # add an empty list to a list
# OR
a = []
list.append(a)

list.append([1]) # add a list with 1 member to a list
# OR
a = [1]
list.append(a)

2) instead of writing "BBBBB" for the struct module, you can just write "5B". Even "2B3B" would work.

i spent a lot of time with a "integer has no length" error,  till i found this page [http://en.wikibooks.org/wiki/How_to_Thi ... Solution_1](http://en.wikibooks.org/wiki/How_to_Think_Like_a_Computer_Scientist:_Learning_with_Python_2nd_Edition/Solutions#CH_9_-_Solution_1)(CH 9 - Solution 1) that says that you can't access lists inside a list if it contains lists of length 1(and maybe 0):

```
mylist.append((98,32))
mylist.append((3))
#because of the third "append", you can't do this:
len(mylist[1]) #"integer has no length" error
#or this 
myvar = mylist[1][1] #"can't subscript an integer" error (or something like that)
```
#it's like when you can't do like this:
myvar = struct.unpack('<L', file.read(4))
#you should do that instead
myvar = struct.unpack('<L', file.read(4))[0]


[edit]
i looked in the mot files. a move is like a bunch of offsets that point to some "keyframe" data. i have no idea about the actual animation data but i found that one move have exactly 44 offsets there is what every offset means('3.' - means that there are three offsets):

> mot struct(size44):
>
> 3.side/ud/fb body 
>
> 3.fb/rot/side-angle ass
>
> 3.fb/rot/side-angle chest
>
> 3.fb/rot/side-angle head
>
> 3.side/ud/fb back palm pos
>
> 3.global back palm rotation
>
> 2.? (shoulder+elbow rotation)
>
> 3.side/ud/fb forw palm pos
>
> 3.global forw palm rotation
>
> 2.? (shoulder+elbow rotation)
>
> 3.side/ud/fb back foot pos
>
> 3.global back foot rotation
>
> 2.? (knee+heap rotation)
>
> 3.side/ud/fb forw foot pos
>
> 3.global forw foot rotation
>
> 2.? (knee+heap rotation)

doax animation is different it have 56 'bones' (offsets) and some additional data in the offsets block. possible the animation stream is also different
## Post #225
- Username: gjinka
- Rank: Banned
- Number of posts: 95
- Joined date: Mon Apr 11, 2011 12:30 am
- Post datetime: 2012-01-18T20:12:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

It works for me and I believe it should for you too, unless there is some math paradox I've never heard of.
So what are you doing? Can you post an exact code which crashes with the error message?

Also not that len() is meant for lists/tuples and dictionaries, which can have multiple elements. len() just tells the number of elements. An integer has "one element", its value, so len() on it is pointless.
If you want to use an integer for a while loop, do this instead:

```
    # do something
```


```
myvar = struct.unpack('<L', file.read(4))
#you should do that instead
myvar = struct.unpack('<L', file.read(4))[0]
```


That's because struct.unpack() returns a list, even if it has one value, so you need to do [0] to assign the first value instead of the whole list.

Also, did my Blender code help in any way?
## Post #226
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-18T20:56:11+00:00
- Post Title: Re: Dead or Alive series formats and tools

are all the mot files the same? swapping them causes the game to crash. and what do you think the BIN files do?

I looked at the mots before and the offsets are all the same.. point to the same location, which lists more offsets.. I couldnt make out any data

also I'm trying to get the faces from DOA3 import properly, do you have any ideas on how to correct the direction problem?



EDIT
here are the 4 vertex types used in DOAU

Vertex #0
LONG: Position X
LONG: Position Y
LONG: Position Z
Weight #1 == 1.0
LONG: Vertex Normal X
LONG: Vertex Normal Y
LONG: Vertex Normal Z
LONG: Texture Coordinate U
LONG: Texture Coordinate V

Vertex #1
LONG: Position X
LONG: Position Y
LONG: Position Z
LONG: Weight #1
(subtract "1" from Weight #1 to get Weight #2)
LONG: Vertex Normal X
LONG: Vertex Normal Y
LONG: Vertex Normal Z
LONG: Texture Coordinate U
LONG: Texture Coordinate V

Vertex #2
LONG: Position X
LONG: Position Y
LONG: Position Z
LONG: Weight #1
LONG: Weight #2
(add Weight#1 & 2 then subtract 1 to get Weight #3)
LONG: Vertex Normal X
LONG: Vertex Normal Y
LONG: Vertex Normal Z
LONG: Texture Coordinate U
LONG: Texture Coordinate V

Vertex #3
LONG: Position X
LONG: Position Y
LONG: Position Z
LONG: Weight #1
LONG: Weight #2
LONG: Weight #3
(add Weight#1, 2, & 3 then subtract 1 to get Weight #4)
LONG: Vertex Normal X
LONG: Vertex Normal Y
LONG: Vertex Normal Z
LONG: Texture Coordinate U
LONG: Texture Coordinate V


image with the weights converted to vertex colours.
I noted before that the CAT file contained weight data for the mesh joints, like neck, shoulder, elbows, wrists etc...
and as you can see below the vertex weights from the XPR don't cover all the objects... which is totally weird
some are duplicated in the CAT even.

why on earth would they store vertex weights separately from the model
## Post #227
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-01-20T11:51:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from gjinka
>
> Also, did my Blender code help in any way?yeah, thank you very much. i'll try, to implement it in the script, later.

> Reply from mariokart64n
>
> what do you think the BIN files do?mot files = moves animation
bin files = triggers for moves

> Reply from mariokart64n
>
> 
also I'm trying to get the faces from DOA3 import properly, do you have any ideas on how to correct the direction problem?doa3 models use CCW culling, you should find out how to process it correctly.

> Reply from mariokart64n
>
> 
why on earth would they store vertex weights separately from the modelthe xpr contains the joints OBJ(textured, with materials and shit...), and the cat file contains all the joints properties of in what way the mesh will bend.


> i found this, for dao3 material:
>
>         WORD        wUnknown0; 	                                //
>
>         WORD        wSomeIDShit; 	                                //
>
> 	DWORD	dwSize;						// Material size (in dwords) (materials + mesh-subsets)
>
> WORD        wMaterialTransparency; 	                // 0-disable; 1-enable;
>
>         WORD        wUnknown1; 	                                //
>
> DWORD	dwBackfaceCulling;				// 0-disable; 1-enable;
>
>         ...             ...
>
> 
>
> 
>
> and this, for daou material:
>
>         WORD        wMaterialTransparency; 	                //
>
>         WORD        wSomeIDShit; 	                                //
>
> 	DWORD	dwSize;						// Material size  (in bytes)
>
> 	DWORD	dwUnknown0;					// 
>
> DWORD	dwBackfaceCulling;				// 0-disable; 2-"CCW culling"(like in doa3);
>
>         ...             ...
## Post #228
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-20T21:34:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

the culling flags just mean that the object is to be double sided or not right?

CCW and CW refer to a triangle's index windings/direction (CounterClockwiseWinding) vs (ClockwiseWinding) 
from what I read, I may be able to run a direction detection in this manner

> if the length of the first part of the strip is odd, the strip must be reversed
>
> to reverse the strip, write it in reverse order. If the position of the original face in this new reversed strip is odd, you’re done. Else replicate the first index.

does this sound correct? I will try harder tonight to implement this into my script.

Also I am not able fully assemble the model using just the info from block1 of the CAT file.
Are you using an algorithm on the last cat bloc (deformable objects)? the linking list in this section does not correspond to my skeleton correctly
and I am left with objects not placed, like the wrists etc... I could write something to use the vertex data from the deformable object to calculated the offset from the XPR's object.
But that seems to be more of a hack rather then a solution.

EDIT
I forgot, I wanted to post up my DOAU bone hierarchy. I didn't notice that bony posted his? so here's what you need to rebuild the DOAU skeletons he posted

> 3 	-- 01 Chest
>
> 1 	-- 02 Head
>
> 16 	-- 03 Hip
>
> 8 	-- 04 Left Foot
>
> 9 	-- 05 Left Forearm
>
> 5 	-- 06 Left Hand
>
> 3	-- 07 Left Thigh
>
> 7 	-- 08 Left Lowerleg
>
> 1,	-- 09 Left Upperarm
>
> 14	-- 10 Right Foot
>
> 15	-- 11 Right Forearm
>
> 11	-- 12 Right Hand
>
> 3	-- 13 Right Thigh
>
> 13	-- 14 Right Lowerleg
>
> 1 	-- 15 Right Upperarm
>
> -1  	-- 16 ROOT
>
> 16	-- 17 UNKNOWN (Not Used)
>
> 2 	-- 18 Left Eye
>
> 16	-- 19 UNKNOWN (Not Used)
>
> 16	-- 20 UNKNOWN (Not Used)
>
> 16	-- 21 UNKNOWN (Not Used)
>
> 2 	-- 22 Right Eye
>
> 16	-- 23 UNKNOWN (Not Used)
>
> 16		-- 24 UNKNOWN (Not Used)
## Post #229
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-01-21T19:23:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mariokart64n
>
> the culling flags just mean that the object is to be double sided or not right?

CCW and CW refer to a triangle's index windings/direction (CounterClockwiseWinding) vs (ClockwiseWinding)
from what I read, I may be able to run a direction detection in this manner
not really familiar with the terminology... saw this in the "cull mode" section, in the greed explorer viewport settings. also this "culling" flag in doau can take in doau a lot of different values, the only thing i discovered that: 
0-use first texture for both sides.
1-CW . the double sided meshes for doa3 models, are swapping the textures between the sides
2-CCW (culling?). with this flag for doa3 models the double sided meshes are rendered correctly.
...-?

how do you read the indices from a doa3 material. do you make faces from all vertex indicies at once(concatenating them this way to one mesh) or are you making faces for each item of "subset" separately? if you read them at once like for doau, the faces can change their normals in some cases. 


> Reply from mariokart64n
>
> ...on the last cat bloc (deformable object )... imao this block is not for just deformable objects(they are using physics block for this), it's for body joints - meshes attached to bones connections, deformable by the bending of connected bones.

> Reply from mariokart64n
>
> 
Also I am not able fully assemble the model using just the info from block1 of the CAT file.
Are you using an algorithm on the last cat bloc (deformable objects)? the linking list in this section does not correspond to my skeleton correctly
and I am left with objects not placed, like the wrists etc... I could write something to use the vertex data from the deformable object to calculated the offset from the XPR's object.
But that seems to be more of a hack rather then a solution.

> Reply from just go for the joints offsets and read from each joint the obj assigned to it and the bone it's attached to:  (
>
> dword    offsetOfJointConectionMesh
dword    offsetOfThatStrangePatternShit
byte      ourOBJ
byte      boneWeAreAttachedTo
byte      boneWeAreConnectingTo
byte      someSortOfWheight?you need to read ourOBJ and the boneWeAreAttachedTo, ourOBJ use the coordinates of this bone.

have you imported the joints meshes in 3dmax before? if so can you please import in 3dmax the knees for the hik03.cat and tell me what's wrong with them. they have the someSortOfWheight? value bigger than usual "1", and that's crashing the game. if i set this value to 1 the game doesn't crash but the joints in that case are rendered wrong - the mesh doesn't connect to the parent bone 


[edit]
i fixed for the doa3 to doau conversion the object transparency, the wrists and the backface textures. now i need to fix the joints weight for some models and to make a converter for the morphing data.
here you can download for testing for doao the Cristie(gokey) and BradWong(suiken) skins and moves for them i converted a while ago, but the moves are unstable and some moves can crash the game, use them only in training mode and use the Backspace key to restore the scene if the characters will freeze.  also here are some fixed models i posted before:

[http://rghost.ru/36026316](http://rghost.ru/36026316)
## Post #230
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-22T13:53:07+00:00
- Post Title: Re: Dead or Alive series formats and tools

I'm not sure how the deformation data works, there are zones rather then weights. but they can easily be converted to weights anyway.
but there is additional data, a welding list, which I ignore anyway and a buffer of new vertex positions aslwell there are also 2 nodes positions given

below I tried to mimic the pose from a ingame shot. but notice around the neck, its just not right. this leads me to believe the pivoting points of the bend are not the bones??
I also tried this using the 2 nodes given in the deform data... but the deform is very bad  I'm not sure why they specify 2 new bone positions in the deform. then additional vertex positions
for the vertices :\




anyway its nice to know we have succeeded our ninjahacker predecessors, model is assembled and vertex weighted 
all that is left is fortifying the import code and focusing on reexport of the data


EDIT
ha, I finally figured out why my script kept crashing on stage files.
each object block had a reserved space, which I couldn't figure out. I think it was called BufferInfoIV in an older doc.

actually its an array of 8 possible Buffer Sets an object can use. each material can then specify which buffer set to read from
No idea why they reserved the space for using buffer sets? I could understand if they were mixing different draw methods like trifan or trilist.
But thats not the case, and it seems there more or less using it to layer their objects instead
like all characters are using the first buffer set. as for the stages the first buffer set entry is blank, all zeros. and commonly you see the stages build off the second buffer set, so layer 2

to refresh your memory a buffer set entry contains 4 dwords
DWORD NumVertices
DWORD VertexBufferOffset
DWORD NumFaces
DWORD FaceBufferOffset

... asides from that radius thing in the materials I feel doau's XPR format is completely cracked!
## Post #231
- Username: mbugle
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Wed Jan 25, 2012 8:18 am
- Post datetime: 2012-01-25T00:22:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

Im sorry if this is off current topic/in wrong place/been answered before but im wondering if its possible to move a model from NG to doa3/doax, i can extract models from an afs but have no idea how to inject them back in, any help would be apreciated,

thanks in advance
                         Mbugle
## Post #232
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-25T01:22:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

no tools written for that yet.
## Post #233
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-01-26T13:18:58+00:00
- Post Title: Re: Dead or Alive series formats and tools

i took a look at the ninja gaiden xpr(stored inside the cmd files). it has a model chunk id(0x00000080), but it has no mdl nor obj magic words, though i can see the "obj materials" hex pattern. the indices are stored outside the model chunk, and every "obj" is signed with a magic word(body, face ...). greed explorer can see the textures inside the ng xpr.

ng mot files also are different from the doau mot files. it has the same size and structure but something is different. maybe it has more than 4 "key-frame types", or maybe the "kinematic structure sequence" is different.

[edit]
doau/doa3 xpr has two data blocks: 1 - mdl block, 2 - vertex+texture block; ng xpr has a(third) separate block for indicies.
i tried to disassemble the "chr_army.xpr", this is what i've got for the ng xpr header + first obj(each value is a DWORD; uncommented values are unknown):

```
DWORD	dwXPRSize;	// XPR size
DWORD	dwHeaderSize;	// indicies block offset
0x80000000 mdl chunk
1c ?
3f ?
1f images
3d (indices or buffers)
3d (indices or buffers)
0
b000 // vertex block offset
92000// vertex block size(with paddings)

+++++++++++++++++object start
80000000  objID
118       objSize (without id and size)
1         vertex buffers
1         elements of obj

----vertex buffer start
112
0
0
237
20     ?one vertex size?
1
0
47b    num of indicies
----vb end
=================element of object start
0
0
1   has magic 0x40 bytes
0

2
0
8f6 indicies size
1

1   has material
1
0
1

900
0
0302
0303

1
0
0
0

0
0
0
0

material[0x50 bytes]

----magic 0x40 bytes start
magictype
0
1
0

4
1
2
1

3
1
2
1

80000000
0
0
0
----magic end
=================e of obj end 
+++++++++++++++++object end

#define CHUNK_MODEL	0x80000000
#define CHUNK_TEXTURE	0x00040001 in vertex+texture block
#define CHUNK_VBUFFER	0x00800001 in vertex+texture block
#define CHUNK_INDICIES	0x00010001 in indicies block
```
i'll try later to make a converter for the model but not for the skin because the skin requires also a cat file which is very complicated to be gathered from the additional ng skin data
## Post #234
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-27T23:12:12+00:00
- Post Title: Re: Dead or Alive series formats and tools

old doc from ninja hacker
[https://docs.google.com/spreadsheet/ccc ... 0RVYS1BbUE](https://docs.google.com/spreadsheet/ccc?key=0Aq8EDrYO-76adEx2dldlN0RjLXQzaVVFM0RVYS1BbUE)
## Post #235
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-01-28T10:47:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mariokart64n
>
> old doc from ninja hacker
https://docs.google.com/spreadsheet/ccc ... 0RVYS1BbUE
tnx

mariokart64n
in doao the "kasumi clon" - "hks" model is invisible if i try to use it as a skin for a playable character.
is it also invisible for doau?

i found something interesting about this hks skin!
look carefully at her heels in the demo([here](http://www.youtube.com/watch?v=M6-29gdkIZU) at 2.37-2.38).
hks is kasumis doax model and it's not very carefully converted - they use a foot with toes but don't use the toes.
i found this when i looked in her skeleton(embedded in cat) - she use kasumis skeleton from doax(foot with toes) but with an additional bone.
also she have an 77 for her skeleton type, it's interesting how the game is making this skin visible in the demo. maybe it's possible to convert doax models to doau(and somehow make them visible)

[edit]
i compared the cat files for both models(doau hks00.cat and doax vks00.cat). they only corrected a few values in the physics block and in the morphing header(the boobs jiggling in doau for the doax models is upsidedown), and of course they converted the first block.
## Post #236
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-28T11:48:49+00:00
- Post Title: Re: Dead or Alive series formats and tools

yeh i noticed it was the doax model, but the cat always caused a crash trying to tweak the cat.. I'll try again since I understand more with the blocks
## Post #237
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-01-28T13:05:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

when i tried to convert a doax model to doau i noticed that there are to few joints, now with hks i found that doau can handle doax joints which are assigned as bones with id "2", but when in doau is only one root bone(pelvis), in doax the bones hierarchy is different.
in doau with "doau skeleton mode"(2) the doax model has some bones not attached to the model and flying somewhere around and the joints are connected to these bones(the same thing as with the doa3 wrists)(you can move these bones by pushing the enemy character with a doax skeleton against a wall toward the "leak"). 
i think the "doax skeleton mode"(77) should be used to process the doax skeleton correctly but i'm afraid there is no way to make the model visible without editing the executable.
## Post #238
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-29T08:51:47+00:00
- Post Title: Re: Dead or Alive series formats and tools

yeah I cant get anything to work. I had to remove the physics bloc for the model to load (not crash) then I had to change mode 77 to 02. finally the skeleton that is specified doesnt work, so I removed bloc1's subBloc8 (custom skeleton)

this leaves the model to use a default skeleton from the game (DOAU skeleton)

but the problem is pretty apparent, DOAX has more spine, neck and shoulder bones. DOAU does not. therefore the mesh objects around the torso and shoulder are all bad
[http://i43.tinypic.com/2i6cfpy.jpg](http://i43.tinypic.com/2i6cfpy.jpg)

the weird part is the mesh vertices pulling away from the character. such would indeicate that vertices are trying to be weighted to something that does not exsist. I'm curious as to how the game determines which bones to weight to. because I have not found that information.

anyway 2 interesting things 
a. Different Physics Bloc? 
b. weird weights

... and I admit I still haven't completed a model importer yet 

this week I have been studying the DOAX2 save format. I don't have anything documented yet because I only know small parts of the file.
but anyway encase your interested, here are some hex changes that will fully unluck VP mode.

DOAX2 - Unlock VP Mode (All Girls)
Tina goto offset: 0x7acc change: byte to 0x1F
Kasumi goto offset: [0x7c04] change: byte to 0x1F
Helena goto offset: [0x7d3c] change: byte to 0x1F
Leifang goto offset: [0x7e74] change: byte to 0x1F
Ayane goto offset: [0x7fac] change: byte to 0x1F
Hitomi goto offset: [0x80e4] change: byte to 0x1F
Lisa goto offset: [0x821c] change: byte to 0x1F
Christie goto offset: [0x8354] change: byte to 0x1F
Kokoro goto offset: [0x848c] change: byte to 0x1F

write 0xFF from 0x99EC - 0x9AEF to unlock all scenes in VP mode
## Post #239
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-01-29T14:35:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mariokart64n
>
> yeah I cant get anything to work. I had to remove the physics bloc for the model to load (not crash) then I had to change mode 77 to 02. finally the skeleton that is specified doesnt work, so I removed bloc1's subBloc8 (custom skeleton)

this leaves the model to use a default skeleton from the game (DOAU skeleton)

but the problem is pretty apparent, DOAX has more spine, neck and shoulder bones. DOAU does not. therefore the mesh objects around the torso and shoulder are all bad
http://i43.tinypic.com/2i6cfpy.jpg

i found that the value 77 just skips the model from rendering  thought i know that the game can handle perfectly(almost) the hks model, as we can see from the doau demo where it appears. did you removed the physics block from hks or from other doax model? you can hex compare the physics block from hks and from vks to find what should be fixed for the physics block in doax models to work in doau, also some fixes should be done for the header of the morphing block.

in this image i just changed the 77 to 2 for the skeleton type, and because the bones hierarchy is different i swapped in the embedded skeleton bones for the head, chest and shoulders with bones from the doau kasumis skeleton.
## Post #240
- Username: gjinka2
- Rank: n00b
- Number of posts: 17
- Joined date: Mon Jan 30, 2012 12:54 am
- Post datetime: 2012-01-30T19:21:11+00:00
- Post Title: Re: Dead or Alive series formats and tools

So I made this guide... [http://wiki.xentax.com/index.php/Blender_Import_Guide](http://wiki.xentax.com/index.php/Blender_Import_Guide)

So b0ny, maybe you shoud switch to Blender 2.6 now.
## Post #241
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-01-31T00:16:17+00:00
- Post Title: Re: Dead or Alive series formats and tools

if I had the programming knowledge I would stay clear of making midware like blender scripts or even maxscripts for that matter.

if possible you should create a standalone tool which exports and imports to already existing formats, or make an easy format that others can follow. that way it opens the door to a wider selection of editing software.

Collada (DAE) and SMD are two examples of text based formats which are widely supported. and if they werent they are easy enough to create a plugin for. A smart idea if you are a python guy is to contribute to a project called noesis. Noesis already has a internal importer and exporter which allows anyone to export to a variety of formats, thus opening the door to more 3d editing software.

again I lack the knowledge to do so, but I may attempt it in the future. But obviously all I can do is script for 3dsmax now, so to each his own.
## Post #242
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-01-31T04:03:57+00:00
- Post Title: Re: Dead or Alive series formats and tools

> if possible you should create a standalone tool which exports and imports to already existing formats, or make an easy format that others can follow. that way it opens the door to a wider selection of editing software.

I think that's the whole point of using blender or 3dmax for importing so users can export to already existing formats.

Blender should have export scripts to (some version of) collada and DAE.
## Post #243
- Username: gjinka2
- Rank: n00b
- Number of posts: 17
- Joined date: Mon Jan 30, 2012 12:54 am
- Post datetime: 2012-01-31T08:05:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

> if I had the programming knowledge I would stay clear of making midware like blender scripts or even maxscripts for that matter.
>
> 
>
> if possible you should create a standalone tool which exports and imports to already existing formats, or make an easy format that others can follow. that way it opens the door to a wider selection of editing software.

This sounds like an opinion from  someone who hasn't done much research.
For example, what's the difference between Noesis and Blender, other than the fact that Blender can be used as a fullblown 3d modeller? None. The can be both used to import and export 3d files via Python.
It's like saying you use Microsoft Paint instead of Photoshop because you only want to crop your image. Of course Photoshop has many advanced features professionals use to make art, but it doesn't mean you have to use them.

I think I couldn't explain this better than in the guide:

> Blender is a powerful 3d modeller. Blender is a great choice if you want to write an importer/exporter as anyone can use your script because the program is completely free, unlike very expensive tools like Max and Maya. In fact users of these expensive tools shouldn't complain, because they can just reexport the data from Blender to a format their own program understands, something which Blender users can't do with Max/Maya scripts without paying. And doing that will require only basic understanding of the Blender GUI.

Writing standalone tools is a bad idea only because there are so many programming libraries and so much more code in the end, if you choose to share the source that is, and most don't. But even when the source is available, I hate going through 3000 lines of complex C++ OpenGL code to just understand the format.
end of rant
## Post #244
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-01-31T13:03:07+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> 

More detail! More detail! More detail!!!!!!!!!!!!
## Post #245
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-02-09T11:07:44+00:00
- Post Title: Re: Dead or Alive series formats and tools

i can't make a skeleton in blender using python script 

i make an armature:

```
bpy.ops.object.add(type='ARMATURE', enter_editmode=True)
object = bpy.context.object
object.name = 'name'
armature = object.data
armature.name = 'name'
```
then i make a bone(i suppose it's the root bone):

```
bone.tail = mathutils.Vector([0,0,1]) 
```
but how should i attach the next bone to this one(and the next one)?

i need the skeleton to test on it the mot animation

howfie
be more specific, what kind of details?

[update]
doau aya17 is an interesting model - she wears a doax suit, and this suit is "loaded" in the corresponding  bodyparts. need to look for the cat physics block - maybe it's possible to wear on her other doax costumes...
other girls also have skins with doax clothes, wondering if all girls have such skins.
## Post #246
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-02-10T16:41:57+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> 
howfie
be more specific, what kind of details?

lol, more detailed textures . BTW, which DOA game are you guys currently working on?
## Post #247
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-02-10T19:04:13+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from howfie
>
> b0ny wrote:
howfie
be more specific, what kind of details?

lol, more detailed textures . BTW, which DOA game are you guys currently working on?you're interrupting my zen only because the kasumi's nude model made you horny? you're on the wrong thread/theme/forum/site/domain/sideOfTheInternet pal 
though for your dark needs you can use greed explorer
## Post #248
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-02-10T21:17:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

sorry I've been distracted by final fantasy XIII-2

you can collect monsters its a bit addicting, but its like random so its hard to collect them all :\

anyway no new news from me, last thing I was doing was porting ayane to xnalara, I rigged the face and fingers being that app doesnt support morphs.. anyway still need to create a solid importer script.
## Post #249
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-02-12T07:45:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

i've made a tool to concatenate a doax costume to a doau model, the results can be viewed in greed explorer. still need to concatenate the cat files, but i have no idea on the physics block and this is very important to concatenate this block.

[http://rghost.ru/36474902](http://rghost.ru/36474902)
in the package also a xpr2emp tool that can convert concatenated files

[edit]
ok guys, i'm on a crossroad here -- i found some bugs in the doa code, and there are two ways to fix the code or to fix the files. it's easier for me to fix the code, because i'm the only one making updates for doao, but if i do that i loose the compatibility with doau(though i can make hacks for doau). so i want to ask some question about doau. is this game worth the trouble? is it still playable on-line? are people still playing this game? will anyone appreciate a pack of doao skins?

mariokart64n
i saw you have imported doau morphing in 3dmax, so you should understand the format. can you help me invert the morphing to make the boobs jiggle inverse? (doax morphing is inversed in doau)

[edit]

and no man were spared that day, nor woman
## Post #250
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-02-16T21:31:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

wow thats crazy,

the morph target section was documented in the older docs. if you want to switch the order just change the offsets in the morph target header

[LONG] "APV" morph magic
[LONG] mor_count


for i = 1 to mor_count do (
[LONG] mor_info_offsets
)

for i = 1 to mor_count do (
fseek f mor_info.offsets[1] #seek_set
[LONG] mor_info_counts (number of morph buffers /  morph target count)
[LONG] mor_info_vindex (Object Index)
[BYTE] ??
[BYTE] ??
[BYTE] flag 0x00 = Normal | 0x80 = Reverse ???
[LONG] Number of Vertex Entries in buffer 1
[LONG] Number of Vertex Entries in buffer 2
[LONG] header offset
[LONG] index offset1
[LONG] index offset2
)

for i = 1 to mor_count do ( -- Loop Through Each Object/Morpher
fseek f mor_info.offsets[1] #seek_set -- Seek to Morpher Header
for x = 1 to mor_info.counts[1] do ( -- Loop Through Morph Target/Buffer Offsets (vertex buff)

[LONG] Vertex Buffer1 Offset
[LONG] Vertex Buffer2 Offset
)
)
## Post #251
- Username: drunkenchipmunk
- Rank: n00b
- Number of posts: 13
- Joined date: Mon Aug 24, 2009 4:05 pm
- Post datetime: 2012-02-17T14:22:52+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from gjinka2
>
> 

Blender is a powerful 3d modeller. Blender is a great choice if you want to write an importer/exporter as anyone can use your script because the program is completely free, unlike very expensive tools like Max and Maya. In fact users of these expensive tools shouldn't complain, because they can just reexport the data from Blender to a format their own program understands, something which Blender users can't do with Max/Maya scripts without paying. And doing that will require only basic understanding of the Blender GUI.

Writing standalone tools is a bad idea only because there are so many programming libraries and so much more code in the end, if you choose to share the source that is, and most don't. But even when the source is available, I hate going through 3000 lines of complex C++ OpenGL code to just understand the format.
end of rant

Well... writing importers/exporters for Blender (or for the matter, Max, or Noesis) is not an idea that great, and it comes with its own pitfalls:

First of all, you make your plugin/script depentant of the parent package, if for some reason, Blender changes the API (or Max, or Noesis) your script/plugin stops working, and that's the case of plenty of outdated scripts I found arround; they no longer work.

Another thing is that you have to know how to use the given package. Not everybody here knows how to use Max or Blender here, and neither of the two are particularly easy to learn. I know how to use Max, but not Blender.

About Noesis, it's a great tool, but last time I checked, there's no source code available, so any plugins developed for Noesis are bound to the life and maintenance of Noesis itself. If the author stops developing it for whatever reason, all those third party plugins will have been wasted.

So after these two issues, a stand alone tool doesn't sound that bad, right? after all, no matter how crappy they're, the key is they're "stand alone" and can keep running years later.
## Post #252
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-02-17T16:09:29+00:00
- Post Title: Re: Dead or Alive series formats and tools

mariokart64n
thanks it worked like a charm.
i have one more request for you. i want to find how to activate the doax skeleton for doau, and i think some experiments can help me but i don't have an xbox for this. can you please swap the hks skin with any other character skin and fix its skeleton type in the cat file to 77(instead of 2) like the hks one, and look in the demo and tell me if the skin is normal or the skeleton is deformed(by some special function for doax models)

if i'll make it out to use doax models in doau i think i'll learn how the falling accessories work(when chars loose their glasses and hats), and will try to make a tool to wear any doax clothes and accessories to any doax character

it's interesting that the guy who made the greedexplorer understands the doax skeleton hierarchy, greed explorer to settle up the model use the same strange skeleton as doax. if someone understand what is the doax skeleton bones hierarchy, please explain it to me
## Post #253
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-02-17T20:29:28+00:00
- Post Title: Re: Dead or Alive series formats and tools

there only seems to be 2 hackers in on this project? I could be wrong but nobody else has contributed. b0ny wants a blender plugin, and I want a standalone tool. the problem is I am not a programmer, I have a 3D background and can use 3dsmax to reverse the DOA format to a point.

if you are able to program in another language to develop a standalone tool, then I would encourage you to do so. As nobody else has come to step forward, and I know how stupid it is to create program specific plugins

> Reply from drunkenchipmunk
>
> gjinka2 wrote:

Blender is a powerful 3d modeller. Blender is a great choice if you want to write an importer/exporter as anyone can use your script because the program is completely free, unlike very expensive tools like Max and Maya. In fact users of these expensive tools shouldn't complain, because they can just reexport the data from Blender to a format their own program understands, something which Blender users can't do with Max/Maya scripts without paying. And doing that will require only basic understanding of the Blender GUI.

Writing standalone tools is a bad idea only because there are so many programming libraries and so much more code in the end, if you choose to share the source that is, and most don't. But even when the source is available, I hate going through 3000 lines of complex C++ OpenGL code to just understand the format.
end of rant

Well... writing importers/exporters for Blender (or for the matter, Max, or Noesis) is not an idea that great, and it comes with its own pitfalls:

First of all, you make your plugin/script depentant of the parent package, if for some reason, Blender changes the API (or Max, or Noesis) your script/plugin stops working, and that's the case of plenty of outdated scripts I found arround; they no longer work.

Another thing is that you have to know how to use the given package. Not everybody here knows how to use Max or Blender here, and neither of the two are particularly easy to learn. I know how to use Max, but not Blender.

About Noesis, it's a great tool, but last time I checked, there's no source code available, so any plugins developed for Noesis are bound to the life and maintenance of Noesis itself. If the author stops developing it for whatever reason, all those third party plugins will have been wasted.

So after these two issues, a stand alone tool doesn't sound that bad, right? after all, no matter how crappy they're, the key is they're "stand alone" and can keep running years later.
## Post #254
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-02-18T07:15:49+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mariokart64n
>
> there only seems to be 2 hackersthe second one is me?   maybe some cracking skills using a debugger, but not a hacker in any way 
> Reply from mariokart64n
>
> b0ny wants a blender plugin, and I want a standalone tool.what kind tool do you exactly want, maybe i can contribute to that, though i'm a very bad programmer/engineer -- that's not ma' thing
## Post #255
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-02-18T07:37:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from drunkenchipmunk
>
> 
First of all, you make your plugin/script depentant of the parent package, if for some reason, Blender changes the API (or Max, or Noesis) your script/plugin stops working, and that's the case of plenty of outdated scripts I found arround; they no longer work.

Not that big of an issue.

If for some reason microsoft decides to change their API like maybe release a new OS, we'd have plenty of outdated applications. And the stand-alone tool would no longer work anymore on the newest OS.

I think API changes is the least of our worries. If anything, we can just keep using the older version of the tool since it still works right?

> so any plugins developed for Noesis are bound to the life and maintenance of Noesis itself

Noesis may be closed-source, but unless there was something seriously wrong with the internal workings of it, plugins wouldn't go to waste after the owner abandons it. My assumption is that noesis has been developed far enough to the point where most things that it supports are supported well, and anything that needs to be added will be given to plugins to deal with. Except core functionality I guess.

However I would go for a stand-alone tool not because alternatives are closed-source, or may change API, or whatever, but simply because the stand-alone tool will specialize in the specific formats that it's meant for and can handle any format-specific details.

If the whole point of getting a stand-alone tool is to just import and export models...totally pointless unless you're writing a tool for practice or education worth. Might as well write a noesis/blender/3dmax plugin. However if it's going to evolve into a modding tool, then ya those other alternatives just aren't good enough.
## Post #256
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-02-18T16:44:04+00:00
- Post Title: Re: Dead or Alive series formats and tools

Somebody say they need a standalone tool? For which doa game?
## Post #257
- Username: gjinka2
- Rank: n00b
- Number of posts: 17
- Joined date: Mon Jan 30, 2012 12:54 am
- Post datetime: 2012-02-19T08:26:05+00:00
- Post Title: Re: Dead or Alive series formats and tools

Honestly mariokart, I don't see why you draw a line between Blender and "standalone tools", there isn't any difference, here is why:

> Reply from mariokart64n
>
> First of all, you make your plugin/script depentant of the parent package, if for some reason, Blender changes the API (or Max, or Noesis) your script/plugin stops working, and that's the case of plenty of outdated scripts I found arround; they no longer work.
So? You can always have another version of Blender for an outdated plugin. Blender doesn't require installation and is relatively small in size. So in this sense there is no difference between using another version of Blender or just using a "standalone program" for every format.

> Another thing is that you have to know how to use the given package. Not everybody here knows how to use Max or Blender here
The same way you will need to know how to use the standalone programs, except unlike Blender, you will need to learn more than once: for every tool.

As explained already, you'll only need to learn 0.1% of Blender to be able to import a format and export it to the one you want. Really, all you need to know is that importers  and exporters are located at top-left corner of the screen, when you click "File".
I really don't see how this requires more learning than any standalone tool.
You can make masterpieces with Photoshop, it doesn't mean you'll need to learn all of it if you just need to crop an image. Writing another program which will only crop image will sound pointless here.

> About Noesis, it's a great tool, but last time I checked, there's no source code available, so any plugins developed for Noesis are bound to the life and maintenance of Noesis itself. If the author stops developing it for whatever reason, all those third party plugins will have been wasted.
This doesn't make sense to me. "If the author stops developing it for whatever reason, all those third party plugins will have been wasted.". Why? It's not like you will magically not be able to use it when it stops being developed. And there is no difference if that will happen to Noesis and a program made specifically for one format.

> the key is they're "stand alone" and can keep running years later.
This doesn't make sense to me either.
I think you again draw a line between Blender and "stand alone" tools without a valid reason.
1) all versions of Blender are available for download from the official site
2) Blender doesn't require installation, which means you can have as many on a single machine as you want
3) Blender is pretty small in size

So again I see no difference in Blender and another program made for a single format.

I think you just have the wrong impression because you think you can't have more than one Blender at a time, so you think you can't use old script and new scripts at the same time. Maybe 3dsmax is like that, so I don't blame you for the way you think.

On the other hand, compare scripts (which are always human readable) of Blender or Noesis with complex OpenGL code of standalone tools (if the sourcecode is available that is) and I'll choose the first any time.
## Post #258
- Username: drunkenchipmunk
- Rank: n00b
- Number of posts: 13
- Joined date: Mon Aug 24, 2009 4:05 pm
- Post datetime: 2012-02-19T12:08:20+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from gjinka2
>
> 
So? You can always have another versio
This doesn't make sense to me either.
I think you again draw a line between Blender and "stand alone" tools without a valid reason.
1) all versions of Blender are available for download from the official site
2) Blender doesn't require installation, which means you can have as many on a single machine as you want
3) Blender is pretty small in size

So again I see no difference in Blender and another program made for a single format.

I think you just have the wrong impression because you think you can't have more than one Blender at a time, so you think you can't use old script and new scripts at the same time. Maybe 3dsmax is like that, so I don't blame you for the way you think.

On the other hand, compare scripts (which are always human readable) of Blender or Noesis with complex OpenGL code of standalone tools (if the sourcecode is available that is) and I'll choose the first any time.

Well, I don't pretend to begin a flamewar or anything, obviously, everybody has an opinion on how things should be done. I guess you have a background on using blender and you're trying to favour using it. In my case, I am a veteran programmer, and also know 3dsmax quite well. In my case, I would choose "complex opengl source code" over "readable scripts" anytime.

I tried to use blender a few times in the past and found the learning curve very steep, and its user interface very awkward. I even contacted the developers a few times regarding this, and the impression they gave me was pretty much the same as the Linux or Apple zealots, that is: "our way, or GTFO". I also know it has a very small footprint and multiple versions can be installed concurrently, but the point is, if you haven't battled a bit with blender for a while, even the most basic tasks become difficult. I also found a lot of blender export plugins very faulty, specially the collada ones; there's no point in succesfully import a game model, if when you export it to some other file format it appears totally broken. Please, don't misunderstand me; I totally support Blender, for being an open source project, and being a programmer myself, I appreciate the huge effort behind it... but, when dealing with file formats, my experience tells me the most important thing is to try to describe the format in the easiest way possible: The best way is to write a document describing the structures, the next best way is to write a plain reader, in plain C language, because most programmers of any language will probably understand it, and accompanied with a command line, stand alone tool.
## Post #259
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-02-19T16:43:33+00:00
- Post Title: Re: Dead or Alive series formats and tools

I use what I'm fastest at. I don't have time to learn maxscript, the blender-python api, mel, or anything else. I've been using C++ since 1993... ain't nothing faster for me than C++ and the Windows Platform SDK. Using anything else will just slow me down. I'm already slow enough as it is since reversing assets already takes days and weeks of my time. Saying I know Maxscript or Python or Noesis also won't help me get that game programming job with Activision Santa Monica that I want. Whether or not anyone gets anything out of my tools or my code is not important to me at all; that you guys get anything out of my tools is secondary.

Those are my goals. What are yours? I think you'll see the people who write standalone tools versus those who like to use scripting languages and modeler APIs have very different goals, and we have to respect that. For example, I don't even care about the models I extract. For me, it's all about the C++ code that I write. Chrrox and "That Crazy Polish Guy" sczharldiduiek or whatever lolololol have done quite well around here with maxscript and the blender-python api so I won't say they are bad; they are just not for me and I think my goals are different from theirs.

J/K guys, I sincerely hope that you guys get a lot from my tools and my released code and that we all get jobs in the game industry one day  . Where's the  icon?!

BTW, back on topic, I ordered DOA4 and it should come in a few days... . Batch ripper here we gooooo...... Hopefully Tecmo doesn't get sue happy again because they don't have to go very far to sue me lol. Not that they can sue me for much. I need a job. I can walk to their Del Amo mall headquarters in about 20 minutes. I would gladly work for Tecmo too ha ha ha.
## Post #260
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-02-19T17:46:23+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from howfie
>
> Whether or not anyone gets anything out of my tools or my code is not important to me at all; that you guys get anything out of my tools is secondary.
imho
what the hell are you talking about -- this is the most important thing in the universe, to give people the power to customize their games, to give them the smell of victory when they feel that they can change something. computers are the dumbest invention in the history, while it were supposed to give people the power of a super-brain it became a curse for the humanity by ignoring the users needs and trying to substitute the way of freedom with some freak capitalist model of making money of nothing. thanks god there are people that are trying to fix the situation by making tools that help people, mostly kids to get involved in the computer science. and you in the first place should be the man(or an angry transvestite cookie, whatever) of idea. if you're so smart you should start some project that will help the modders to become more productive, your project will become famous and this will bring you somewhere for sure. please don't take my words seriously.
## Post #261
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-02-19T18:09:12+00:00
- Post Title: Re: Dead or Alive series formats and tools

You know bony, I thought about that too, getting involved in a modding project. But reversing a format completely to the point where you can mod it is overkill for me. I'm more interested in what vertex formats a game uses, how does it implement bones and animation, how to implement the different type of maps that these games use, how can I get these models and levels to render efficiently in my own application, and should a file format be k-ary tree based like collada/pssg or a simple packed binary file format. I don't want nude models, I don't want to play RE5 with Excella rather than Sheva, I just want an f-ing job programming games, which is why you guys are secondary lol.
## Post #262
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-02-19T18:19:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

I also look at model formats for the sake of looking at model formats, not for people to mod games. Like really, just turn that MUGEN thing into a 3D project and now you've got your own 3D models with their own moves.

I'd rather people create their own games and make something innovative rather than feeding that capitalist pig people talk about.

> Reply from drunkenchipmunk
>
> 
The best way is to write a document describing the structures, the next best way is to write a plain reader, in plain C language, because most programmers of any language will probably understand it, and accompanied with a command line, stand alone tool.

That's something a lot of people seem to neglect: writing documentation and format specs. It's not like they have to be very detailed...but at least more than just "contact me if you need anything"

While understandable, usually you'd think people would draft out specs before going ahead and writing the code?
## Post #263
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-02-20T12:27:19+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from howfie
>
> You know bony, I thought about that too, getting involved in a modding project. But reversing a format completely to the point where you can mod it is overkill for me. I'm more interested in what vertex formats a game uses, how does it implement bones and animation, how to implement the different type of maps that these games use, how can I get these models and levels to render efficiently in my own application, and should a file format be k-ary tree based like collada/pssg or a simple packed binary file format. I don't want nude models, I don't want to play RE5 with Excella rather than Sheva, I just want an f-ing job programming games, which is why you guys are secondary lol.

give yourself one more chance and think again. i'm not talking here about entertainment, i'm talking about work. can you work(for free)? the hard work is the key of success for everything. almost all famous people are hard-workers. you can't compete with other workers -- there is always someone better than you. but among the modders and people that are researching/programming for fun, a bright mind to manage your skills, and a willpower to do that, will help you to be of no competition. i think sooner or later you'll get the job you want, but right now you can try to believe in yourself and do something more than you are doing every day(or die trying)... go read some books of self-motivation, and stop whining for god sake  

> Reply from finale00
>
> I'd rather people create their own games and make something innovative rather than feeding that capitalist pig people talk about.that's true when you're skilled enough to make something good. people are not very interested in "noname" games, it's much more interesting to mod some next gen games than to make a lame game with outdated graphics and game-play.
## Post #264
- Username: rexil
- Rank: veteran
- Number of posts: 124
- Joined date: Tue Mar 15, 2011 10:14 pm
- Post datetime: 2012-02-20T12:50:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> that's true when you're skilled enough to make something good. people are not very interested in "noname" games, it's much more interesting to mod some next gen games than to make a lame game with outdated graphics and game-play.

Tell that to Notch.
A game in 2D with outdated graphics can be way more fun and enjoyable than any next gen games. in fact in most of the cases they are. Next gen games are just the same idea recycled over and over. The "noname" games are way more interesting and innovative than some crap we are getting lately. Just cause something have nice next gen graphics doesn't mean it's great or better than one that doesn't.
## Post #265
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-02-24T12:17:29+00:00
- Post Title: Re: Dead or Alive series formats and tools

So I started looking at this. Looks like same silly format as ninja gaiden sigma 2. Are afs containers specific to xbox360 games? If so I will put that code under xbox360.h.
## Post #266
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-03-02T16:30:22+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from rexil
>
> Tell that to Notch. ok! where do i find him? 

> Reply from howfie
>
> Are afs containers specific to xbox360 games? If so I will put that code under xbox360.h. if i'm not mistaken afs is a drimcast container.


i'm interested in porting doax moves to doau. so i had a look to "mot" animation format. i "deciphered" the "keyframe type 1", but still didn't tried it in action. any help in researching this format is appreciated. ill try to define here the mot format:

> //header
>
> a bunch of offsets to animations in this file. (this array ends with a null pointer)
>
> 
>
> //animation
>
> a fixed number of offsets to animation data for each bodypart (i already posted it's structure like a page or two ago)
>
> 
>
> //the actual animation data
>
> there are four types of key frames:
>
> type 0 length = 5 WORDs including header
>
> type 1 length = 2 WORDs including header
>
> type 2 length = 3 WORDs including header
>
> type 3 length = 4 WORDs including header
>
> the animation ends on a keyframe with a null header
>
> i yet only have been looking at the one with the length 1 (the easiest one - 1 keyframe per frame)
>
> 
>
> //key frame
>
> 8bits    -  part of "encoded float"
>
> 6bits    -  number Of Frames
>
> 2bits    -  animation Type
>
> 1WORD -  encoded Float
>
> ... longer keyframes have more unknown data
>
> 
>
> lets have a hex example of a keyframe "type 1" (windows endian):
>
> 05f0 87ff
>
> 
>
> to resolve the "encoded float" i extract that red "f" from the first WORD, multiply it by 0x10000 and add it to the second WORD, and we get this number 0xfff87, now we divide this whole number to 10000(decimal) and we get the float we where looking for.
>
> to resolve the number of frames we divide first byte by 4:      { 05 / 4 = 1 frame  }
>
> to find the animation type we do this: 
>
> int animationType = 05 & 0xffffff00 //to throw away everything but the animation typeok i know this is clumsy but if anyone is interested, - i can do better!
## Post #267
- Username: Metalitia
- Rank: n00b
- Number of posts: 17
- Joined date: Wed Oct 03, 2007 1:25 am
- Post datetime: 2012-03-08T20:57:13+00:00
- Post Title: Re: Dead or Alive series formats and tools

I'm looking to use various models (including DoA, Rumble Roses, and others) to try my hand at rigging them for Poser 4 (and above).
Thing is, Poser only reads OBJ models, and the only converter I know of is the RR YOBJ converter for the models from RR1 on the PS2.
## Post #268
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-03-08T21:08:32+00:00
- Post Title: Re: Dead or Alive series formats and tools

ok?
## Post #269
- Username: XvSiriusvX
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Sat Mar 10, 2012 8:45 pm
- Post datetime: 2012-03-10T12:49:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

So I am making some outfit modifications for DOA2U and then Im trying to put them back in the game, but the characters end up invisible. Im assuming this is because I am not re-encoding the textures of the modified outfits, and so it refuses to read them. I remember hearing I require something like xprbreaker to re-encode them. Does anyone have that to download, or another way of re-encoding the files? Thanks.
## Post #270
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-03-10T14:49:40+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from XvSiriusvX
>
> So I am making some outfit modifications for DOA2U and then Im trying to put them back in the game, but the characters end up invisible. Im assuming this is because I am not re-encoding the textures of the modified outfits, and so it refuses to read them. I remember hearing I require something like xprbreaker to re-encode them. Does anyone have that to download, or another way of re-encoding the files? Thanks.imo greed explorer is the best tool for this.


i've made a ng to doau converter. but:
 - doau doesn't support some ng vertex formats and i think i'll try to "fix" these vertices to match the doau types.
 - ng format doesn't have that "x,y,z,radius" thing, which is a bounding sphere for the mesh and is used to skip the mesh from rendering when the sphere is not visible(not in the viewport). i just filled this bounding sphere with nulls and the objects are not rendered correctly in the game. and greed explorer is ding trying to render such objects. i think i need to look through the mesh vertices for the max and min value for each coordinate then to calculate the average value for the xyz center, then look through the vertices again and find the farthest one from the center for the radius

> CHAR	szMagic[4];					// 'OBJ'
>
> 	DWORD	dwUnknown0;					// Flexible vertex format ?
>
> 	DWORD	dwUnknown1;					// Primitive Type ?
>
> 	DWORD	dwUnknown2;					// Number of indices (total indices in IVBufInfo)
>
> 	ST_IVBUFINFO	pIVBufInfo[4];		// Indexed vertex buffers info
>
> 	FLOAT	fCenterX;					// Object center x
>
> 	FLOAT	fCenterY;					// Object center y
>
> 	FLOAT	fCenterZ;					// Object center z
>
> 	FLOAT	fRadius;					// Object radius

many ng skins team ninja already ported to doau. but there are a few left, i hope it's possible to port those too 

some ng objects:


i'd like to try to contribute to the xentax wikia. is this the only page dedicated to doa? : [http://wiki.xentax.com/index.php/Dead_Or_Alive](http://wiki.xentax.com/index.php/Dead_Or_Alive)
## Post #271
- Username: XvSiriusvX
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Sat Mar 10, 2012 8:45 pm
- Post datetime: 2012-03-11T05:38:59+00:00
- Post Title: Re: Dead or Alive series formats and tools

I do use GreedXplorer for extracting textures, but how would I go about re-encoding the textures back into the xpr/hdd through GreedXplorer after Im done modifying them and am putting them back in?

I use 'replace texture' when browsing an xpr on there, but again, it shows up normal on greedXplorer but in game the whole model is invisible.
## Post #272
- Username: daydreamdirty
- Rank: n00b
- Number of posts: 12
- Joined date: Tue Apr 05, 2011 7:23 pm
- Post datetime: 2012-03-26T20:28:44+00:00
- Post Title: Re: Dead or Alive series formats and tools

i know you can extract all of the textures from the xpr files and to replace the textures you have to click the individual files in the window below to replace them at all.  to view what you're doing, enable "load 3D objects automatically" in options.


that's all i figured out in so far unfortunately.
## Post #273
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-04-02T17:04:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

so guys what are your thoughts on doa5 3d format. i think it's partially based on doax2 tpr format.
does anyone have the description of doax2 tpr(or doa4)? or maybe some source code using this format(please-please-please). it will be very helpful for understanding the doa5 models structure.

 i think it's our duty to meet the final release of the game with good skins and modding tools
## Post #274
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-04-02T18:47:40+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> so guys what are your thoughts on doa5 3d format. i think it's partially based on doax2 tpr format.
does anyone have the description of doax2 tpr(or doa4)? or maybe some source code using this format(please-please-please). it will be very helpful for understanding the doa5 models structure.

 i think it's our duty to meet the final release of the game with good skins and modding tools

I think there's some info in this thread:

[viewtopic.php?f=16&t=3741&hilit=Ninja+Gaiden](http://forum.xentax.com/viewtopic.php?f=16&t=3741&hilit=Ninja+Gaiden)

NG2 and DOAX2 use the same format. I don't know if Noesis plugin has the source code.
## Post #275
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-04-09T10:15:10+00:00
- Post Title: Re: Dead or Alive series formats and tools

anyone interested in doa5 format?
ayane costume 01:


stage "DOROU2":
## Post #276
- Username: daydreamdirty
- Rank: n00b
- Number of posts: 12
- Joined date: Tue Apr 05, 2011 7:23 pm
- Post datetime: 2012-04-09T18:55:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

sure, couldn't hurt to know.
## Post #277
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-04-09T22:48:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

nothing tricky happening in the format?
## Post #278
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-04-10T12:22:49+00:00
- Post Title: Re: Dead or Alive series formats and tools

my blender importer for vertex data from doa5 models:
io_import_TMC.zipan extractor for doa5 ".lnk" archive:
[viewtopic.php?p=69908#p69908](http://forum.xentax.com/viewtopic.php?p=69908#p69908)

> Reply from daydreamdirty
>
> sure, couldn't hurt to know.i don't have much info, and actually was hoping for some help on the format.

> Reply from mariokart64n
>
> nothing tricky happening in the format?compared to what?  i'm not familiar with the doax2 and ng2 format, and couldn't find much info on them. though the format is reversed to the ground and noesis can lossles import these models.

> the whole file is made of objects with a common interface, which is like this:
>
> 
>
> char[8] - objectName //up to 8 characters
>
> DWORD - ? //is always 0xff000100
>
> DWORD - objectType? //0x30 - this file, 0x50 - tmcl header
>
> DWORD - objectSize //size of this object
>
> DWORD - num1 // number of objects in the first array
>
> DWORD - num2 // number of objects in the second array
>
> DWORD - offset1 // offset in this object to the first array mostly array of offsets to some data(subobjects) in this object
>
> DWORD - offset2 // offset in this object to the second array mostly array of sizes to data from the first arrayto export the vertex data i used info from three objects:
LHeader - tmcl header, contains the offsets and sizes for texture block, vertex block and index block
VtxLay - offsets and sizes for vertex buffers in vertex block (tmcl)
IdxLay - offsets and sizes for index buffers in index block (tmcl)

P.S. does anyone know how to unpack ninja gaiden 3 "lnk" container. i'd like to extract ng3 models because doa5 models are imao boring(model is in one piece) and ugly
## Post #279
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-04-10T13:55:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> my blender importer for vertex data from doa5 models:
io_import_TMC.zipan extractor for doa5 ".lnk" archive:
viewtopic.php?p=69908#p69908
daydreamdirty wrote:sure, couldn't hurt to know.i don't have much info, and actually was hoping for some help on the format.
mariokart64n wrote:nothing tricky happening in the format?compared to what?  i'm not familiar with the doax2 and ng2 format, and couldn't find much info on them. though the format is reversed to the ground and noesis can lossles import these models.
the whole file is made of objects with a common interface, which is like this:

char[8] - objectName //up to 8 characters
DWORD - ? //is always 0xff000100
DWORD - objectType? //0x30 - this file, 0x50 - tmcl header
DWORD - objectSize //size of this object
DWORD - num1 // number of objects in the first array
DWORD - num2 // number of objects in the second array
DWORD - offset1 // offset in this object to the first array mostly array of offsets to some data(subobjects) in this object
DWORD - offset2 // offset in this object to the second array mostly array of sizes to data from the first arrayto export the vertex data i used info from three objects:
LHeader - tmcl header, contains the offsets and sizes for texture block, vertex block and index block
VtxLay - offsets and sizes for vertex buffers in vertex block (tmcl)
IdxLay - offsets and sizes for index buffers in index block (tmcl)

P.S. does anyone know how to unpack ninja gaiden 3 "lnk" container. i'd like to extract ng3 models because doa5 models are imao boring(model is in one piece) and ugly

Using offzip you can rip the data without names (just extensions) but it's worth of trying.
## Post #280
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-04-10T14:22:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hi bony, I had this error in your python script:

[](http://imageshack.us/photo/my-images/259/errorpy.jpg/)

Uploaded with [ImageShack.us](http://imageshack.us)

Edit: I could run it in blender 2.61.
## Post #281
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-04-11T00:58:27+00:00
- Post Title: Re: Dead or Alive series formats and tools

damn soo many funny projects.. when does the full game release?
## Post #282
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-04-12T12:42:13+00:00
- Post Title: Re: Dead or Alive series formats and tools

a little unpacker for "ninja gaiden 3":
[http://rghost.ru/37543470](http://rghost.ru/37543470)

i renamed "R_AYA_A.GMD" to "R_AYA_A.TMC" and "R_AYA_A.TTGL" to "R_AYA_A.TMCL" and imported it to blender with the doa5 script i posted before:


it's cool that ng3 models are compatible with doa5 format. i'm wondering if it's possible to swap doa5 models with ng3 models
## Post #283
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-04-12T15:08:49+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> a little unpacker for "ninja gaiden 3":
http://rghost.ru/37543470

i renamed "R_AYA_A.GMD" to "R_AYA_A.TMC" and "R_AYA_A.TTGL" to "R_AYA_A.TMCL" and imported it to blender with the doa5 script i posted before:


it's cool that ng3 models are compatible with doa5 format. i'm wondering if it's possible to swap doa5 models with ng3 models

Where's that model?? lol from the common file I can't find her.

Are you gonna contine developing your tool??
## Post #284
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-04-13T09:11:46+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> b0ny wrote:a little unpacker for "ninja gaiden 3":
http://rghost.ru/37543470

i renamed "R_AYA_A.GMD" to "R_AYA_A.TMC" and "R_AYA_A.TTGL" to "R_AYA_A.TMCL" and imported it to blender with the doa5 script i posted before:


it's cool that ng3 models are compatible with doa5 format. i'm wondering if it's possible to swap doa5 models with ng3 models
Where's that model?? lol from the common file I can't find her.
Are you gonna contine developing your tool??
this tool will only unpack the whole game at once, not just the common file. you should put it in a folder with the "archive_order.bin" and all "lnk" files, and it will unpack all files in the same directory, otherwise it will give you an error on the missing lnk file and will stop unpacking.

this model is from the "\CHAR\R_AYA_A\" folder. you'll find in the char folder all characters from the game
## Post #285
- Username: dragbody
- Rank: veteran
- Number of posts: 126
- Joined date: Tue Sep 20, 2011 11:33 am
- Post datetime: 2012-04-17T22:42:00+00:00
- Post Title: Re: Dead or Alive series formats and tools

I've been able to use the doa5 importer perfectly on the ng3 models. Thank you so much! 

I'm now wondering what to do about getting the textures. Is there a simple step I'm overlooking? Or have they not been figured out yet?
## Post #286
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-04-18T14:52:12+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from dragbody
>
> I've been able to use the doa5 importer perfectly on the ng3 models. Thank you so much! 

I'm now wondering what to do about getting the textures. Is there a simple step I'm overlooking? Or have they not been figured out yet?
"they" have not been figured out yet  this requires some unswizling using python, then i have to learn how to import textures in blender   (is it really necessary to export the image in a separate file and then reimport it again?)

the more i learn about blender importing the less i like it - blender don't save normals and don't have a material ambient light property 

i played a little with my blender doau/doax import script, and it now will import from XPR and CAT materials and will setup the high, low and shape models; and will ad to the low poly model an inverse kinematic skeleton(just grab the wrists/ankle and drag to "pose")
xpr import.zipplace the "io_import_xpr.py" and the "skeletons" directory to the blender's "addons" folder
## Post #287
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-04-19T22:14:40+00:00
- Post Title: Re: Dead or Alive series formats and tools

Does your tool support uv's??
## Post #288
- Username: khanbot
- Rank: beginner
- Number of posts: 29
- Joined date: Tue Dec 13, 2011 6:12 pm
- Post datetime: 2012-04-23T07:16:13+00:00
- Post Title: Re: Dead or Alive series formats and tools

hi, this can probably considered off topic so my apologies but I am desperate 

my question is, if anyone with some experience with AFS explorer can answer, is there any way to swap files within an afs file?  I have afs explorer v3.7 I think and I have this DoA 4 afs file.  What I am trying to achieve is a outfit swap for a character and I need to swap a .tpr and .cat file with another from what I've read.  so please, any help with this??

thanks!
## Post #289
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-04-24T12:47:02+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> Does your tool support uv's??now it can import textures
in this image i first imported vay00.xpr (with vay00.cat) and then imported the costume mdAy20ay.xpr with(mdAy20ay.cat)


> Reply from khanbot
>
> hi, this can probably considered off topic so my apologies but I am desperate 

my question is, if anyone with some experience with AFS explorer can answer, is there any way to swap files within an afs file?  I have afs explorer v3.7 I think and I have this DoA 4 afs file.  What I am trying to achieve is a outfit swap for a character and I need to swap a .tpr and .cat file with another from what I've read.  so please, any help with this??

thanks!

have no idea. sorry. maybe someone else will help you
## Post #290
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-04-24T22:00:51+00:00
- Post Title: Re: Dead or Alive series formats and tools

Yay, you rock!!! Hitomi in Venus



See ya
## Post #291
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-04-26T15:19:30+00:00
- Post Title: Re: Dead or Alive series formats and tools

little update. some options when importing (and a shadeless option that make the model look "different") and some bugs fixed.

[http://rghost.ru/37782030](http://rghost.ru/37782030)

now i'd like to implement unsswizling for p8 and argb. if i'll do that, i'll be ready to import textures in blender for doa5 importer
## Post #292
- Username: BakameExcalibur
- Rank: advanced
- Number of posts: 68
- Joined date: Wed Feb 02, 2011 8:02 am
- Post datetime: 2012-04-26T22:04:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

Awesome tool, first time I've fiddled with Blender in months... question though: does this work with DOA Ultimate .xpr files or is this script DOAX-only?
## Post #293
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-04-27T05:56:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from BakameExcalibur
>
> Awesome tool, first time I've fiddled with Blender in months... question though: does this work with DOA Ultimate .xpr files or is this script DOAX-only?

DOAX and DOAU use the same format, so that's your answer.

Also Bony is using screens from both games .

See ya.
## Post #294
- Username: BakameExcalibur
- Rank: advanced
- Number of posts: 68
- Joined date: Wed Feb 02, 2011 8:02 am
- Post datetime: 2012-04-27T06:43:19+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> BakameExcalibur wrote:Awesome tool, first time I've fiddled with Blender in months... question though: does this work with DOA Ultimate .xpr files or is this script DOAX-only?

DOAX and DOAU use the same format, so that's your answer.

Also Bony is using screens from both games .

See ya.
Yeah, about that... I asked because I can't get the addon to actually work with DOAU .XPRs, it just gives me a traceback error.
## Post #295
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-04-27T06:56:30+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from BakameExcalibur
>
> Darko wrote:BakameExcalibur wrote:Awesome tool, first time I've fiddled with Blender in months... question though: does this work with DOA Ultimate .xpr files or is this script DOAX-only?

DOAX and DOAU use the same format, so that's your answer.

Also Bony is using screens from both games .

See ya.
Yeah, about that... I asked because I can't get the addon to actually work with DOAU .XPRs, it just gives me a traceback error.

Did you use greed explorer to extract the xpr from the afs file?? In greed explorer just left click on the file what you want to extract and then go to extract xpr with cat and select doau decode (xpr breaker). Then just rename both files with the same name name and different extension.

See ya.
## Post #296
- Username: BakameExcalibur
- Rank: advanced
- Number of posts: 68
- Joined date: Wed Feb 02, 2011 8:02 am
- Post datetime: 2012-04-27T19:24:26+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Did you use greed explorer to extract the xpr from the afs file?? In greed explorer just left click on the file what you want to extract and then go to extract xpr with cat and select doau decode (xpr breaker). Then just rename both files with the same name name and different extension.
>
> 
>
> See ya.
Thanks, I didn't know GreedXplorer could do that.   Bit surprised by all the extra stuff pulled in as well, though I assume the extra model is for skeleton data. Still don't get what the giant white blocky-thing is for though.
## Post #297
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-04-27T21:54:12+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from BakameExcalibur
>
> Thanks, I didn't know GreedXplorer could do that.   Bit surprised by all the extra stuff pulled in as well, though I assume the extra model is for skeleton data. Still don't get what the giant white blocky-thing is for though.

Collision models maybe.

See ya.
## Post #298
- Username: khanbot
- Rank: beginner
- Number of posts: 29
- Joined date: Tue Dec 13, 2011 6:12 pm
- Post datetime: 2012-04-28T06:31:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hi
I tried using the python script for doa5 .tmc importer with the hitomi model posted somewhere by Darko.  it gives me a traceback error.  
I've attached the error screenshot below.  any help?




below is the model I'm trying to view.
[http://www.mediafire.com/download.php?ycmoi5tagpfvfdh](http://www.mediafire.com/download.php?ycmoi5tagpfvfdh)
## Post #299
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-04-28T17:14:44+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from khanbot
>
> Hi
I tried using the python script for doa5 .tmc importer with the hitomi model posted somewhere by Darko.  it gives me a traceback error.  
I've attached the error screenshot below.  any help?




below is the model I'm trying to view.
http://www.mediafire.com/download.php?ycmoi5tagpfvfdh

all of these files in archive are corrupt. use this script to unpack the demo [viewtopic.php?p=69908#p69908](http://forum.xentax.com/viewtopic.php?p=69908#p69908)
## Post #300
- Username: CDD Xtreme
- Rank: beginner
- Number of posts: 38
- Joined date: Mon Jun 14, 2010 3:24 pm
- Post datetime: 2012-04-29T20:15:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hello users I am glad this hacking community is back alive for Doax2 / Doa5 - I have been dealing with DOAX2 for some time and finally got one running with nude hack on my Joker Xbox 360. 
So basically I used a DL Disc with Img Burn and the Data DVD with Image.000 Successfully done. 
So now that I have done that the next step I want to undertake is modifying actual models and re-injecting! 

We all know doax2 have goofy feet so I want to export the models into 3ds max and modify those models = I am a game developer and have made some models are better than doax2 and more realistic which I will give a link to later, I will try the methods available until one that is suitable and compatible works, keep in mind starting with the feet have two methods - the first one is trace method which involves using a reference foot and then moving the vertices into position as close as possible - the second method is the complete editing of the original model after extracting - I know doax2 models have placement have been detached rather than 1 model so the editing should be no problem but we need a extracter and and injector back - into the original format - I know we have an extractor but I may need some guidence as my one may be outdated etc but after the modifications one will need to reinject the game - burn and play test etc now burning is also a problem as I want to avoid burning multiple DL Discs so If someone can help with running doax2 from a hardrive etc let me know. I will also modify the texture of the feet to test.

If I can get a fully tested playable transfer of the foot being displayed on the characters of my choice we can then jump to further more difficult areas such as the complete replacement of the face VISUALLY (vertex placement using trace) or Literally a replace of the face with another (delete and replace) we can then move to doa5 for even more modifications - I personally think the vertex trace method would be more easier as the engines may respond oddly if one deletes a model entirely but then we have the morph target which  can also be a problem  but thanks to doas split objects that would be little of a problem. I expect eventually I will be able to get this girl into Doax2 perfectly running, here she is : 
[http://www.4theuniverse.com/showcase.html](http://www.4theuniverse.com/showcase.html) 

Keep in mind these pictures are outdated and she is less than  perfect but she is REALLY good in every other area such as rigging, movement and topology is flawless. We can test if we can get body parts and textures working within doax2 first  because that is more well known and we have more tools and doa5 is new and honestly they have already upgraded the girls very much so I would think costume modifications would be the norm for that which I will gladly lend a hand for, I will freely share the modifications I make to doax2 and 5 without fear from tecmo or team ninja as I have no interest in releasing nude mods as that has already been done and we all know the other reason, true modding is what is of interest to me so if anyone would like to team up and get this done simply let me know - if you would like keep communication private let me know etc. I have already spoken with mario kart but that was a year ago - I would like to put this doax2 thing to rest and get the game fully moddable in a respectful manner. Nude hacks can be completed also after the methods used are displayed but they are to be done at your own risk if you choose to partake as I already stated I will start with the feet as that is harmless and somewhere which actually could use some improving. 

Since the girl on my website has the best feet in 3d model history the trace method can be done as a complete replacement of the original foot with her feet may cause unexpected results as I would expect the skinning for the bending of the feet are tied to the original but tracing feet and moving the vertex without deleting will keep the skin data in tact....

I should also mention this girl is from a game I have made which is very much like doax2 - If one needs prove I can record a video and show. Remember I can make any model for doax2 including backgrounds and body part as I did mention I am a game developer and have made games before. My latest game which was a demo is to be seen here> 
[http://www.youtube.com/watch?v=3Wx21ENA ... B946222489](http://www.youtube.com/watch?v=3Wx21ENAXtc&feature=results_main&playnext=1&list=PL8AEA0BB946222489)
## Post #301
- Username: CDD Xtreme
- Rank: beginner
- Number of posts: 38
- Joined date: Mon Jun 14, 2010 3:24 pm
- Post datetime: 2012-04-30T02:26:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

I do have one other option which will permanently free us from the limitations of modding at least to a point where we only need to extract data and have that readable into 3ds max. 

I have a Game I call Open Island for now - the girl on the website is fully playable in real time and extremely flowing well with my animations and so on. 

I would like to extract the animations from 1 of the following : 
Doax 
Doax2 
Doa Paradise island 

why ? because we already have tools to export the models and I have already fully rigged and animated my own extracted models and modified em too but lets be honest that doax series has some awesome animations and mocap animations are poor in quality and are hard to come by for the apropriate girls also hand animating can take very long and I already have plenty of hand made animations but I would like someone to rip em as joint data to add to a bone such as a biped bone etc 

the doa paradise I think would be the best choice as they have no morphs are a simple placement values. 
The goal would be to identify bone positions per frame or set of frames and then export those out as the apropriate format that can be applied to a biped or standard bone via maxscript or whatever method. I can then fix up the animation and import into Unity3D and show case the animations running perfectly. Realise that I ALREADY have a perfectly working character PLUS I also have doax characters running very well with textures, UVW and all in Unity but the animations are required to complete the mess etc 

I also have working physics for the boobs/softres and I also have found out that Unity also have morph target support where necessary and I have also successfully equipped swimsuits - thats all working and If anyone would like to see images I would gladly be ready to show em if you guys are interested ! 

In this game I plan to start with a fully usable camera (already done) and fully running menu and animations (already done) but all of these could use a quality boost. The girl is already done too fully running, shaded and animating but as said I would like doax series animations as then we can simply extract the model hand that over to me and I prepare the model and jump that into Unity to join the rest of the babes and THEY WILL ALL HAVE THE SAME BONE STRUCTURE TO FULLY SUPPORT ALL ANIMATIONS! 

This means you can have FULLY ACTIVE Camera Control to zoom THROUGH the girls if you want which I have set to double sided so you can see inside the girl hehe AND YOU can have Christie behave with Tinas animations if you want all working with swimsuits and a button which shows or turns off swimsuits! *already implemented* - I also have got the Shoes working on top of the animations flawlessly unlike the games which if you wore shoes their feet would no longer bend and would often go through the floor -I got mine running perfectly! 

Eventually we can start implementing mini games like doax2 ! that is all possible but the animations are the key no pun intended hehe. 

I will of course upload exe demos of my progress which you guys can all play so long as you promise to keep the demo strictly to those you trust and preferably with Xentax so what do you guys think - wanna see some proof or "gameplay" or wanna get started and help me out to make this Game Possible - I know I said about the last post but if you have the option of extracting any female in doa history EVEN OTHER GAMES like Rumble ROses XX and so on and have em all ANIMATING and RUNNING PERFECTLY on WINDOWS !!!! I am a topological master and I know emulation very well = I will perfectly replicate models if I have to - hehe so guys what do you think....continue extracting models and unswizzling and reinjecting and dealing with all the hassle and making several programs to preveiw and only to make a render or inject back into the game without having real freedom or making an extract and making the perfect game which the Author - Myself WILL ACTUALLY LISTEN TO FEATURE QUESTIONS and Make the BEST POSSIBLE AND GIVE NEAR COMPLETE CUSTOMIZATION!!! In my demo I already have nail polish colors and skin color changes and swimsuits and clothes and hair on and off switches etc and you have a GUI which you can choose from the 40 or so animations which switch in real time and also I HAVE TIME CONTROL TO LET YOU PAUSE GO BACKWORD OR SPEED UP THE ANIMATION OR SLOW THAT DOWN ALL IMPLEMENTED ALREADY!!! 

And as said before any girl in gaming history can be added to this so long as the bone structure is human and same name which I can take care of. 

if anyone wants to partake let me know. any feature requests or questions let me know.
## Post #302
- Username: Kasumi chan
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Tue May 01, 2012 12:42 pm
- Post datetime: 2012-05-01T05:05:01+00:00
- Post Title: Re: Dead or Alive series formats and tools

I have some DOAU mods and I would convert them to DOA Online, but some mods can't be used.
I use Greed Xplorer to open .afs file, extract to xpr and cat, convert .xpr to .emp and copy .emp and .cat to game folder. But it get error and automic out.
If you only extract all .dds file and raplace .dds files into original .emp, I can use it but some mods have edited 3D model, I can't use this 3D model.
Example, for aya04, mod version (in attachments).
But I can only mod into DOAOL : [http://www.youtube.com/watch?v=mEZ_kzRtwtw](http://www.youtube.com/watch?v=mEZ_kzRtwtw)
Please help me.

When I save as .dds files, I can't use transparent.
DXT1 don't supported transparent, while DXT5 supported but when I use this outfit, transparent area is replaced on black-white area.
[Untitled-1.jpg](https://xentaxbackup.github.io/file/5378_Untitled-1.jpg)
## Post #303
- Username: synce
- Rank: n00b
- Number of posts: 12
- Joined date: Tue May 01, 2012 2:26 pm
- Post datetime: 2012-05-01T08:54:49+00:00
- Post Title: Re: Dead or Alive series formats and tools

I've extracted the doa5 models but I'm having trouble importing the .tmc files into blender. The option isn't showing up under Import. Where do I place the script and how do I run it? (This is Win7 x64 and I have python27 installed if it matters)

Edit: Figured it out, had to enable the add-on via preferences. The problem now is when I select any .tmc file Blender locks up with my i7 churning away. After a minute I just end the program

Error console below
[errornew.gif](https://xentaxbackup.github.io/file/5381_errornew.gif)
## Post #304
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-05-01T18:46:09+00:00
- Post Title: Re: Dead or Alive series formats and tools

synce this script is for blender 2.62

Kasumi chan are you using the latest "xpr to emp" converter?

CDD Xtreme what game engine will you use for your game? why do you need the doax gravures, do you intend to make a doax remake or something?
## Post #305
- Username: Kasumi chan
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Tue May 01, 2012 12:42 pm
- Post datetime: 2012-05-01T19:19:40+00:00
- Post Title: Re: Dead or Alive series formats and tools

I think that now, I can use it.

But if I would edit 3d model, what software can I use ?
Please, because I 'm newbie of 3d model
Now, I have only 3ds max 2010
## Post #306
- Username: CDD Xtreme
- Rank: beginner
- Number of posts: 38
- Joined date: Mon Jun 14, 2010 3:24 pm
- Post datetime: 2012-05-01T19:49:54+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> synce this script is for blender 2.62

Kasumi chan are you using the latest "xpr to emp" converter?

CDD Xtreme what game engine will you use for your game? why do you need the doax gravures, do you intend to make a doax remake or something?

The Engine is Unity 3D - I have configured the engine to be better and can beat PS3 Graphics - yes I plan to make an Open source Open Island game where any girl is accessible - like a much better doax game - when I say any girl I mean ANY Girl from any 3d Game. 

The Gravures of Doa paradise are very high quality and thats about the only game other than sexy beach zero and the other doax games that have good animations for an Island game. Since you get full camera control and even more features such as real time bone manipulation during animations and so on and real time switching of girls.

to find out more read the official thread : 

[viewtopic.php?f=33&t=8865](http://forum.xentax.com/viewtopic.php?f=33&t=8865)

I will give this idea about two weeks - if by then people show a lack of interest then I will keep the project private.
## Post #307
- Username: BakameExcalibur
- Rank: advanced
- Number of posts: 68
- Joined date: Wed Feb 02, 2011 8:02 am
- Post datetime: 2012-05-01T22:56:28+00:00
- Post Title: Re: Dead or Alive series formats and tools

Is there an updated .xpr import script for Blender available? I updated to the latest version (2.63), and now I get messages like the one posted whenever I try importing.  
[XPR script error.png](https://xentaxbackup.github.io/file/5386_XPR script error.png)
## Post #308
- Username: CDD Xtreme
- Rank: beginner
- Number of posts: 38
- Joined date: Mon Jun 14, 2010 3:24 pm
- Post datetime: 2012-05-02T18:40:17+00:00
- Post Title: Re: Dead or Alive series formats and tools

Everyone take a look at this thread - start offering to make this project more possible and completed faster : 

THIS IS THE REAL DEAL. STOP WASTING YOUR TIME ON EXTRACTING AND THEN DOING SOME MINOR EDITS ONLY TO GET A PARTIALLY BETTER EXPERIENCE - GO ALL THE WAY! 

[viewtopic.php?f=33&t=8865&p=72637#p72637](http://forum.xentax.com/viewtopic.php?f=33&t=8865&p=72637#p72637)
## Post #309
- Username: zaykho
- Rank: mega-veteran
- Number of posts: 217
- Joined date: Fri Dec 03, 2010 8:20 pm
- Post datetime: 2012-05-04T08:47:59+00:00
- Post Title: Re: Dead or Alive series formats and tools

> CDD Xtreme

I have exactly the same idea of you, BUT, why do you plan to use Unity ?

I mean, if you want to make a open source game, its more preferable to use WEBGL.

WEBGL can work on:

Smartphone, android, Ios, osx, windows, linux, psp, vita, ps3 etc....... 

All system with a web browser will can play your game, even a stupid washing machine. :p

And with webgl, everybody can help without pay a unity version or learn c/c++, cause the Html/css/Js its a very easy language tool. 


I'm ok to help you (im a webdesigner), but not with unity/flash or anything else......



here a small gift, for all DOA fans and especially for "mariokart64n":
## Post #310
- Username: CDD Xtreme
- Rank: beginner
- Number of posts: 38
- Joined date: Mon Jun 14, 2010 3:24 pm
- Post datetime: 2012-05-04T17:55:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from zaykho
>
> CDD Xtreme

I have exactly the same idea of you, BUT, why do you plan to use Unity ?

I mean, if you want to make a open source game, its more preferable to use WEBGL.

WEBGL can work on:

Smartphone, android, Ios, osx, windows, linux, psp, vita, ps3 etc....... 

All system with a web browser will can play your game, even a stupid washing machine. :p

And with webgl, everybody can help without pay a unity version or learn c/c++, cause the Html/css/Js its a very easy language tool. 


I'm ok to help you (im a webdesigner), but not with unity/flash or anything else......



here a small gift, for all DOA fans and especially for "mariokart64n":

Unity has the Ability to export to formats such as Flash, EXE, PS3, Xbox 360, Android, IOS, Mac and more in the hands of an Experienced Individual Unity can outmatch Crysis. 
I already HAVE Proof of this because I already have a working demo in Unity and the  Visuals and  Performance are Incredible - I can have each girl at 20000 verts and run higher than 60 FPS. In case you need to know what this means - each doax2 girl is about 10000 verts. 

I am glad you would like to make this game = I reccommend you give me your skype Immediately - If you have no Skype GET EM IMMEDIATELY because Skype has features we will need - I will PM you my Skype Details. BTW Nice Pictures!
## Post #311
- Username: synce
- Rank: n00b
- Number of posts: 12
- Joined date: Tue May 01, 2012 2:26 pm
- Post datetime: 2012-05-04T22:53:07+00:00
- Post Title: Re: Dead or Alive series formats and tools

any place to get blender 262? official link says get 262 but dls 263
## Post #312
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-05-05T14:40:27+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from synce
>
> any place to get blender 262? official link says get 262 but dls 263
[http://download.blender.org/release/Blender2.62/](http://download.blender.org/release/Blender2.62/)

See ya.
## Post #313
- Username: TRDaz
- Rank: mega-veteran
- Number of posts: 215
- Joined date: Sun Sep 25, 2011 2:06 am
- Post datetime: 2012-05-05T15:20:22+00:00
- Post Title: Re: Dead or Alive series formats and tools

Is there a Dead Or Alive Online emp extractor? For the models I mean, I know you can get the textures but I dont know how to get the models out of the emp files.
## Post #314
- Username: Albafika
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Wed May 09, 2012 9:43 pm
- Post datetime: 2012-05-10T19:30:21+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> synce wrote:any place to get blender 262? official link says get 262 but dls 263
http://download.blender.org/release/Blender2.62/

See ya.
Sorry for being a nuisance, but I downloaded that version of Blender and the .XPR Import option won't appear. =/ Anything I could be doing wrong? (I'm certain I placed the "skeletons" and the "io_import_xpr.py" into the correct "plugins" folder, as I've added a few more scripts that work.)
## Post #315
- Username: BakameExcalibur
- Rank: advanced
- Number of posts: 68
- Joined date: Wed Feb 02, 2011 8:02 am
- Post datetime: 2012-05-10T20:18:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Albafika
>
> 
Sorry for being a nuisance, but I downloaded that version of Blender and the .XPR Import option won't appear. =/ Anything I could be doing wrong? (I'm certain I placed the "skeletons" and the "io_import_xpr.py" into the correct "plugins" folder, as I've added a few more scripts that work.)
Go to User Preferences -> Addons -> Import/Export, and check XPR Import. Don't forget to save as your default settings if you want to keep it!
## Post #316
- Username: Albafika
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Wed May 09, 2012 9:43 pm
- Post datetime: 2012-05-10T23:27:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from BakameExcalibur
>
> Albafika wrote:
Sorry for being a nuisance, but I downloaded that version of Blender and the .XPR Import option won't appear. =/ Anything I could be doing wrong? (I'm certain I placed the "skeletons" and the "io_import_xpr.py" into the correct "plugins" folder, as I've added a few more scripts that work.)
Go to User Preferences -> Addons -> Import/Export, and check XPR Import. Don't forget to save as your default settings if you want to keep it!
This made it show up on the 32 bits Blender. Thanks, Bakame!

But... Pardon me, but I have another question... I get this error when importing a model (.XPR)

But, somehow, on my second try (On another model), it imported it (Ayane), but it only did it that time. It's bringing up this error every time now. Any advice?
## Post #317
- Username: Kasumi chan
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Tue May 01, 2012 12:42 pm
- Post datetime: 2012-05-16T01:02:43+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from TRDaz
>
> Is there a Dead Or Alive Online emp extractor? For the models I mean, I know you can get the textures but I dont know how to get the models out of the emp files.
Please use emptool03
[http://www.mediafire.com/download.php?4advbq773658zau](http://www.mediafire.com/download.php?4advbq773658zau)
## Post #318
- Username: TRDaz
- Rank: mega-veteran
- Number of posts: 215
- Joined date: Sun Sep 25, 2011 2:06 am
- Post datetime: 2012-05-17T18:51:20+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Kasumi chan
>
> TRDaz wrote:Is there a Dead Or Alive Online emp extractor? For the models I mean, I know you can get the textures but I dont know how to get the models out of the emp files.
Please use emptool03
http://www.mediafire.com/download.php?4advbq773658zau
I used that, it only extracts textures, well it can extract MDL's too, but it doesnt load in Noesis.
## Post #319
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-05-21T11:44:01+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from TRDaz
>
> Is there a Dead Or Alive Online emp extractor? For the models I mean, I know you can get the textures but I dont know how to get the models out of the emp files.
[Dead or Alive Online/Xtreme/Ultimate blender import script](http://rghost.ru/download/38199612/00fbf0c45f56bb3aa4628b95574c73c7678ab2e4/xpr%20import.zip)
added support for doa online - emp files.
it's still for blender 2.62  (the 2.63 version is giving me some strange ngon glitches when importing)

you may want to uncheck the "one piece" option when importing...
p.s. i still didn't realized how to import dds without saving them as files, so, if you import many models, you also may want to clean you're "%temp%" folder from time to time
## Post #320
- Username: BakameExcalibur
- Rank: advanced
- Number of posts: 68
- Joined date: Wed Feb 02, 2011 8:02 am
- Post datetime: 2012-05-21T21:50:52+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> TRDaz wrote:Is there a Dead Or Alive Online emp extractor? For the models I mean, I know you can get the textures but I dont know how to get the models out of the emp files.
Dead or Alive Online/Xtreme/Ultimate blender import script
added support for doa online - emp files.
it's still for blender 2.62  (the 2.63 version is giving me some strange ngon glitches when importing)

you may want to uncheck the "one piece" option when importing...
p.s. i still didn't realized how to import dds without saving them as files, so, if you import many models, you also may want to clean you're "%temp%" folder from time to time
Cool, but now it seems that half a character's outfit for the DOAX models will render off somewhere else, leaving everyone half-naked.
## Post #321
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-05-22T13:00:30+00:00
- Post Title: Re: Dead or Alive series formats and tools

BakameExcalibur

you're talking about transparent objects or about clothes that don't follow the body when you pose it?
can i see a screenshot?
## Post #322
- Username: BakameExcalibur
- Rank: advanced
- Number of posts: 68
- Joined date: Wed Feb 02, 2011 8:02 am
- Post datetime: 2012-05-22T16:51:04+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> BakameExcalibur

you're talking about transparent objects or about clothes that don't follow the body when you pose it?
can i see a screenshot?
Here you go. Oddly, the problem only started with the most recent version of the Blender plugin.

(Not how Hitomi's bikini bottom is way off floating in midair...)
[blendererror.png](https://xentaxbackup.github.io/file/5458_blendererror.png)
## Post #323
- Username: TRDaz
- Rank: mega-veteran
- Number of posts: 215
- Joined date: Sun Sep 25, 2011 2:06 am
- Post datetime: 2012-05-22T19:09:46+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> TRDaz wrote:Is there a Dead Or Alive Online emp extractor? For the models I mean, I know you can get the textures but I dont know how to get the models out of the emp files.
Dead or Alive Online/Xtreme/Ultimate blender import script
added support for doa online - emp files.
it's still for blender 2.62  (the 2.63 version is giving me some strange ngon glitches when importing)

you may want to uncheck the "one piece" option when importing...
p.s. i still didn't realized how to import dds without saving them as files, so, if you import many models, you also may want to clean you're "%temp%" folder from time to time
I get an error when importing, should I show you what the error is by linking the image?

EDIT: Doesnt matter now, I went a different way and used GameAssassin on it, it got the models out for me  I can rig them so thats no problem for me.
## Post #324
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-05-27T11:59:47+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from TRDaz
>
>  Doesnt matter now, I went a different way and used GameAssassin on it, it got the models out for me  I can rig them so thats no problem for me.
wow. sorry for a late response. can you make a short tutorial how do you extract the models using GameAssassin?
## Post #325
- Username: TRDaz
- Rank: mega-veteran
- Number of posts: 215
- Joined date: Sun Sep 25, 2011 2:06 am
- Post datetime: 2012-05-27T13:23:05+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> TRDaz wrote: Doesnt matter now, I went a different way and used GameAssassin on it, it got the models out for me  I can rig them so thats no problem for me.
wow. sorry for a late response. can you make a short tutorial how do you extract the models using GameAssassin?
Its fine. Well, with GA, you dont get T-posed models, they are in the current pose you extract them with. The hair is the most annoying part though, as you should tell from when you play the game. The way I extracted with GA, I opened the DOAOLauncher.exe and pressed Load. This opened up the game and it had the GA logo in the top left corner so I knew it had worked. I went into the game, and just clicked Alt+F7 when I find the models I want.

Well, I will show this error, incase there is a way around it:

Hopefully we can find a way to get around this, and get the models in a T-Pose... I hate rigging from a posed model, especially with the hair >_<
## Post #326
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-05-28T13:40:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

[fixed](http://rghost.ru/download/38333173/7a1b537b5dca2e3832dfc8122d21a4e1c7bf6b2e/xpr%20import.zip)
i hope
## Post #327
- Username: KFK
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Wed Oct 06, 2010 4:46 am
- Post datetime: 2012-05-28T14:19:02+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hey b0ny, I think I'm missing something with your XPR script. I used GreedXplorer to extract the XPR and CAT just like you said (doau xpr breaker), but when I import the XPR into blender, I get this instead of a posable character.



Edit: Works perfectly with DOA Online.
## Post #328
- Username: TRDaz
- Rank: mega-veteran
- Number of posts: 215
- Joined date: Sun Sep 25, 2011 2:06 am
- Post datetime: 2012-05-28T15:11:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> fixed
i hope
Imports skeleton only, no meshes for me. Also doesnt work on EVERY file D: I tested it on one of Ein's files, didnt work.

Also it sometimes gives me the error again.
## Post #329
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-05-28T21:48:12+00:00
- Post Title: Re: Dead or Alive series formats and tools

KFK 
use "doau decode" option without "xpr breaker"
the doau names should have the original formatting like: "kas01.xpr" and "kas01.cat"
(xpr breaker will change the name to something like"kas01~D1.xpr" and that's unacceptable)

TRDaz
show me the error for ein
## Post #330
- Username: BakameExcalibur
- Rank: advanced
- Number of posts: 68
- Joined date: Wed Feb 02, 2011 8:02 am
- Post datetime: 2012-05-29T00:42:02+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> fixed
i hope
Not for me it isn't. :/ Don't know why, especially since the script was working for a while in Windows. Maybe something changed while I made the switch to Ubuntu Linux?
[stillnotfixed.png](https://xentaxbackup.github.io/file/5470_stillnotfixed.png)
## Post #331
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-05-29T06:39:26+00:00
- Post Title: Re: Dead or Alive series formats and tools

hey guys.
do you know if there is any way to access the doa2 hardcore files?

i can't find any information about if it's possible to unpack the "ROM_00.BIN" archive.
i looked inside the archive and i didn't find the file names in it, and that's strange because i didn't find any caption file either.
## Post #332
- Username: TRDaz
- Rank: mega-veteran
- Number of posts: 215
- Joined date: Sun Sep 25, 2011 2:06 am
- Post datetime: 2012-05-29T06:45:10+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> KFK 
use "doau decode" option without "xpr breaker"
the doau names should have the original formatting like: "kas01.xpr" and "kas01.cat"
(xpr breaker will change the name to something like"kas01~D1.xpr" and that's unacceptable)

TRDaz
show me the error for ein
Its not only for Ein anymore, its doing it to Kasumi, Ayane, Lei Fang, and more. It seems to be the same error I had before :/
## Post #333
- Username: KFK
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Wed Oct 06, 2010 4:46 am
- Post datetime: 2012-05-29T06:46:59+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> KFK 
use "doau decode" option without "xpr breaker"
the doau names should have the original formatting like: "kas01.xpr" and "kas01.cat"
(xpr breaker will change the name to something like"kas01~D1.xpr" and that's unacceptable)

Gotcha. It's working fine now.
## Post #334
- Username: TRDaz
- Rank: mega-veteran
- Number of posts: 215
- Joined date: Sun Sep 25, 2011 2:06 am
- Post datetime: 2012-05-29T16:36:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

The DOAO importer works now! I had Blender 2.63 like an idiot xD Blender 2.62 imports them perfectly, but sometimes the model doesnt seem to have bones, the first one I tried had bones, then when I tried others, they didnt, they had a small error, but I wont care about the bones as rigging a T-Posed model is easy 
Glad this finally works, thanks for your work b0ny 

EDIT: The model you first open has bones, but the meshes are combined, then when you open another model within the same session of Blender then the model no longer has bones but is not combined  I'd rather have the one I need to rig xD
## Post #335
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-05-30T16:47:51+00:00
- Post Title: Re: Dead or Alive series formats and tools

hi guys. i've searched around internet and didn't found any information about the playstation2 version of doa.
and then i've made myself an extractor for the hardcore version. if anyone will be interested i think i can make also an importer, and an extractor for the jap doa2 for ps2(not hardcore) which can be launched on the pcsx2 emulator.

you can take the doa2unpacker here

p.s. maybe the blender importer will work for you guys when i at last will port it to blender 2.63... (and i'm a lamer that works only on windows so i can't guarantee that it will work on linux)
## Post #336
- Username: BakameExcalibur
- Rank: advanced
- Number of posts: 68
- Joined date: Wed Feb 02, 2011 8:02 am
- Post datetime: 2012-05-30T17:50:20+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> hi guys. i've searched around internet and didn't found any information about the playstation2 version of doa.
and then i've made myself an extractor for the hardcore version. if anyone will be interested i think i can make also an importer, and an extractor for the jap doa2 for ps2(not hardcore) which can be launched on the pcsx2 emulator.

you can take the doa2unpacker here

p.s. maybe the blender importer will work for you guys when i at last will port it to blender 2.63... (and i'm a lamer that works only on windows so i can't guarantee that it will work on linux)
Cool! I've always wondered if anyone would make a tool for DOA2 Hardcore, so thanks! And unless your Blender importer somehow only does Windows-specific functions, I believe it should work across most any platform that is capable of using Python.
## Post #337
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-05-30T21:43:53+00:00
- Post Title: Re: Dead or Alive series formats and tools

ditto, maybe I'll have a peek at the mesh format on the weekend
## Post #338
- Username: BakameExcalibur
- Rank: advanced
- Number of posts: 68
- Joined date: Wed Feb 02, 2011 8:02 am
- Post datetime: 2012-06-02T01:52:34+00:00
- Post Title: Re: Dead or Alive series formats and tools

Not much of an important update, just a better picture of the glitch I'm running into when importing DOAX models (I've yet to try DOAU models, though I don't doubt it would do this too).

edit: Yep, DOAU does this same thing too.
[blender-glitch-cropped.png](https://xentaxbackup.github.io/file/5480_blender-glitch-cropped.png)
## Post #339
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-06-02T09:16:39+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from BakameExcalibur
>
> Not much of an important update, just a better picture of the glitch I'm running into when importing DOAX models (I've yet to try DOAU models, though I don't doubt it would do this too).

edit: Yep, DOAU does this same thing too.aw, man... do you really want that so badly?

seems like the script (a)can't find the skeletons folder or it (b)(c)can't recognize that the imported files should use a skeleton.
a) is the "skeletons" folder placed along with the script in the blenders "addon" folder?

b) the imported files should have their names "from the box", like "aya00.xpr" and "aya00.cat", this script is analyzing the name to find out what skeleton should be applied. 

c) also the script will not load the skeleton if it won't find in the same folder as the file you're importing with the ".xpr" extension, a file with the same name but with the ".cat" extension. like if you're importing "aya00.xpr", in the same folder should be present "aya00.cat"
## Post #340
- Username: BakameExcalibur
- Rank: advanced
- Number of posts: 68
- Joined date: Wed Feb 02, 2011 8:02 am
- Post datetime: 2012-06-02T16:42:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> BakameExcalibur wrote:Not much of an important update, just a better picture of the glitch I'm running into when importing DOAX models (I've yet to try DOAU models, though I don't doubt it would do this too).

edit: Yep, DOAU does this same thing too.aw, man... do you really want that so badly?

seems like the script (a)can't find the skeletons folder or it (b)(c)can't recognize that the imported files should use a skeleton.
a) is the "skeletons" folder placed along with the script in the blenders "addon" folder?

b) the imported files should have their names "from the box", like "aya00.xpr" and "aya00.cat", this script is analyzing the name to find out what skeleton should be applied. 

c) also the script will not load the skeleton if it won't find in the same folder as the file you're importing with the ".xpr" extension, a file with the same name but with the ".cat" extension. like if you're importing "aya00.xpr", in the same folder should be present "aya00.cat"
That's exactly it, though; I have everything set up correctly and the bug still occurs. Don't get me wrong or anything, I'm not mad, just really confused is all, especially since the script used to actually work for me. If you ask me, it seems like it's just not finding the skeletons folder, even though it's in the right place (~/.blender/2.62/scripts/addons) for me. Maybe the script somehow only looks for the skeletons folder where Windows would store it? (no offense to you Windows users or anything, just an idea is all)
## Post #341
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-06-03T00:42:34+00:00
- Post Title: Re: Dead or Alive series formats and tools

just import the skeleton and attach the meshes. there local positions assume the position of their parent bone then they will position correctly
## Post #342
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-06-04T04:14:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

BakameExcalibur
copy-paste this line in the blenders python console:  bpy.utils.script_paths("addons\\skeletons\\", False, False)
and tell me the results(is it a empty square brackets or with the path to the skeleton folder inside)
or you can give me a screenshot of the blender system console, just after you imported a doa model. (to show the system console go to menu: "help" -> "toggle system console")
## Post #343
- Username: BakameExcalibur
- Rank: advanced
- Number of posts: 68
- Joined date: Wed Feb 02, 2011 8:02 am
- Post datetime: 2012-06-04T05:34:49+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> BakameExcalibur
copy-paste this line in the blenders python console:  bpy.utils.script_paths("addons\\skeletons\\", False, False)
and tell me the results(is it a empty square brackets or with the path to the skeleton folder inside)
or you can give me a screenshot of the blender system console, just after you imported a doa model. (to show the system console go to menu: "help" -> "toggle system console")
It's empty brackets. Is this a sign of something important...?

edit: Got a bit of info by launching Blender with the --start-console option. Seems it's not finding the matching .cat files, even though they're in the right place.

```
Importing /home/philip/Downloads/DOA stuff/Dead or Alive Xtreme Beach Volleyball/datadvd/FULL_AFS_FILE_DUMP/vht00.xpr
cat not found
mdl magic. objects 59
textures...

```

[just brackets.png](https://xentaxbackup.github.io/file/5484_just brackets.png)
## Post #344
- Username: Oyikell
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Mon Jun 04, 2012 11:07 pm
- Post datetime: 2012-06-06T22:34:05+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hi to all of you. I'm trying to extract the models from DOA 3 following the tutorial that mariokart64n made some time ago on his youtube channel. I'm using the "easy way" that consist in to use 3dripper Dx (1.81) and the greedxplorer to extract the models.

I successfully extracted most of the DOA2U characters (specially the female ones jeje) but when I use the same process with some DOA3 models (that I found inside of the DOA2U disc), the extracted meshes looks horrible.

I tried to use the DOA3 exporter to convert the meshes in 3ds files and be able to edit those in 3dsmax 8 but the same thing happens(the extracted meshes have a horrible look).

I don't know if has some relation that I extracted the files from the DOA2U disc. If my memory doesn't fail me there is a costume of Helena that looks like a geenie(the file is called hikA0.xpr), I tried to extract her using the 3dripper + greedxplorer but the result it is what I mentioned above.

Is there another way to extract these models??. I dont have a problem to give you the files for research.
## Post #345
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-06-07T01:07:17+00:00
- Post Title: Re: Dead or Alive series formats and tools

nobody knows where the flags are for face direction.. thus why the imported models look like swiz cheese
## Post #346
- Username: Oyikell
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Mon Jun 04, 2012 11:07 pm
- Post datetime: 2012-06-07T15:13:27+00:00
- Post Title: Re: Dead or Alive series formats and tools

#Offtopic WOW, I got my first reply in this site from the Mr. mariokart64n   . Let me tell you something, you're amazing.

Back to the topic: Oh well   . So, to get this straight, there's not another way to extract these particular models, right??
## Post #347
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2012-06-07T22:15:31+00:00
- Post Title: Re: Dead or Alive series formats and tools

nope, the process is as follows

-enable double sides OR repair the flipped faces so that they all go in one direction

drawing 2 sides is easy enough in any rendering engine... but its just hiding the ugly truth. and you'll need to correct this to get proper shading when using any type of advanced shading etc
in 3dsmax, all you have to do is weld all the vertices by 0.001 select all faces and use "unify" this makes all faces, turn the correct direction. sometimes the automated process fails though and you'll have to manually select and flip them yourself.
## Post #348
- Username: Oyikell
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Mon Jun 04, 2012 11:07 pm
- Post datetime: 2012-06-08T13:39:05+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mariokart64n
>
> nope, the process is as follows

-enable double sides OR repair the flipped faces so that they all go in one direction

drawing 2 sides is easy enough in any rendering engine... but its just hiding the ugly truth. and you'll need to correct this to get proper shading when using any type of advanced shading etc
in 3dsmax, all you have to do is weld all the vertices by 0.001 select all faces and use "unify" this makes all faces, turn the correct direction. sometimes the automated process fails though and you'll have to manually select and flip them yourself.

Ok, I think I understand. Anyway, I really appreciate your reply. If I have another doubt Ill let you know(I'm still new about using properly 3dsmax8). 

Thank you.
## Post #349
- Username: BakameExcalibur
- Rank: advanced
- Number of posts: 68
- Joined date: Wed Feb 02, 2011 8:02 am
- Post datetime: 2012-06-09T00:54:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hmm... I want to extract a whole AFS file from DOAU using GreedXplorer (more specifically, export the cg01 through cg06.afs files and extract the files within as .TGA), but is there any other method besides doing it one pic at a time? As you can imagine, one-at-a-time is unimagineably slow, and while AFSExplorer can extract the files, I want to batch-convert the contained .xpr files to something usable. (Sorry if this is a bit confusing...   )
## Post #350
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-06-09T05:42:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from BakameExcalibur
>
> Hmm... I want to extract a whole AFS file from DOAU using GreedXplorer (more specifically, export the cg01 through cg06.afs files and extract the files within as .TGA), but is there any other method besides doing it one pic at a time? As you can imagine, one-at-a-time is unimagineably slow, and while AFSExplorer can extract the files, I want to batch-convert the contained .xpr files to something usable. (Sorry if this is a bit confusing...   )
[try this tool](http://rghost.ru/download/38564281/779d736e27ae1d36d5fe969e461a2415d0ed7833/picxpr2tga.exe)

run it from the folder where, all your xpr files you want to convert, are.
it's for batch converting xpr -> tga. it's only for the doau gallery files.
## Post #351
- Username: joeyq
- Rank: n00b
- Number of posts: 18
- Joined date: Tue Jan 19, 2010 6:14 pm
- Post datetime: 2012-06-14T11:34:58+00:00
- Post Title: Re: Dead or Alive series formats and tools

Could anyone please reupload all the tools. They have been removed, which is weird because as far as i know "Tools" aren't prohibited on this forum.  
filesonic's gone so please post them on this forum in stead of a filesharing site so they won't be deleted.
Thanks in advance!
## Post #352
- Username: THESIERRAMAN
- Rank: n00b
- Number of posts: 16
- Joined date: Wed Jun 06, 2012 4:31 am
- Post datetime: 2012-06-14T18:18:22+00:00
- Post Title: Re: Dead or Alive series formats and tools

HELLO GUYS IM THE SIERRA MAN, AND IM NEW IN THE FORUM, MARIOKARTS VIDEOS BROUGHT ME HERE AND THE FORUM IS AMAZING!!!!. I readed all "Dead or Alive series formats and tools forum" and your job is fantastic. the situations for resolve, the time (wow, working on it in christmas??? geeez you people are the men), the opportunity for the gamers to change the games that we want WOOOOOHOOOOO!!!!!.

I like these b0ny's words:
"what the hell are you talking about -- this is the most important thing in the universe, to give people the power to customize their games, to give them the smell of victory when they feel that they can change something. computers are the dumbest invention in the history, while it were supposed to give people the power of a super-brain it became a curse for the humanity by ignoring the users needs and trying to substitute the way of freedom with some freak capitalist model of making money of nothing. thanks god there are people that are trying to fix the situation by making tools that help people, mostly kids to get involved in the computer science. and you in the first place should be the man(or an angry transvestite cookie, whatever) of idea. if you're so smart you should start some project that will help the modders to become more productive, your project will become famous and this will bring you somewhere for sure. please don't take my words seriously."

Me: WOOOOOW!!!!! (snif) b0ny for president!!!!

People... thanks for expand the horizons for gamers and give us the chance of something amazing.

THANKS.
## Post #353
- Username: THESIERRAMAN
- Rank: n00b
- Number of posts: 16
- Joined date: Wed Jun 06, 2012 4:31 am
- Post datetime: 2012-06-14T19:15:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hello People!!!
Can you help me??? I have some situations for resolve.
I have:
DOA U2 FOR XBOX 1
DOA 3 FOR XBOX 1
DOA 4 FOR XBOX 360
DOA X FOR XBOX 1
DOA X2 FOR XBOX 360
NINJA GAIDEN FOR XBOX 1
All in original dvds, I would like to extract all the information (3d models, scenarios, music, etc.) from these dvds but when i insert a game (for example DOA X) in my pc, it doesn't show me the information only the video that say "THIS DVD IS FOR XBOX CONSOLE". 

1. Can someone tell me what program I need for read original Xbox games in my PC without a XBOX (I dont have XBOX 1 and 360) please???

Second situation:
I watched the MARIOKART'S videos, where he shows that the tools for extract 3d models are in mega#$%&ad (unfortunatly (snif)), 

2.Can someone put the all the tools (for DOA U2, 3, 4, X, X2, NG1) in a new server (If you can, in MediaFire) please???

Third situation:
I have:
NINJA GAIDEN SIGMA 2 FOR PS3 in my pc (not original), and i would like to extract the models, music and scenarios, and im trying to open the archives, but i dont know how.

3. Can someone put the programs in the same link with the DOATOOLS for open this archives and extract the models for 3ds max studio 2010 please???

Thanks for your attention.
## Post #354
- Username: TRDaz
- Rank: mega-veteran
- Number of posts: 215
- Joined date: Sun Sep 25, 2011 2:06 am
- Post datetime: 2012-06-15T09:47:13+00:00
- Post Title: Re: Dead or Alive series formats and tools

b0ny, hi, i loved your work with the blender 2.6 importer for the emp files in DOAO, just wondering if its possible to add support for stages? I tried one today but it gives me an error, though one of them loads one mesh, and thats it.
## Post #355
- Username: Oyikell
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Mon Jun 04, 2012 11:07 pm
- Post datetime: 2012-06-22T02:29:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from THESIERRAMAN
>
> Hello People!!!
Can you help me??? I have some situations for resolve.
I have:
DOA U2 FOR XBOX 1
DOA 3 FOR XBOX 1
DOA 4 FOR XBOX 360
DOA X FOR XBOX 1
DOA X2 FOR XBOX 360
NINJA GAIDEN FOR XBOX 1
All in original dvds, I would like to extract all the information (3d models, scenarios, music, etc.) from these dvds but when i insert a game (for example DOA X) in my pc, it doesn't show me the information only the video that say "THIS DVD IS FOR XBOX CONSOLE". 

1. Can someone tell me what program I need for read original Xbox games in my PC without a XBOX (I dont have XBOX 1 and 360) please???

Second situation:
I watched the MARIOKART'S videos, where he shows that the tools for extract 3d models are in mega#$%&ad (unfortunatly (snif)), 

2.Can someone put the all the tools (for DOA U2, 3, 4, X, X2, NG1) in a new server (If you can, in MediaFire) please???

Third situation:
I have:
NINJA GAIDEN SIGMA 2 FOR PS3 in my pc (not original), and i would like to extract the models, music and scenarios, and im trying to open the archives, but i dont know how.

3. Can someone put the programs in the same link with the DOATOOLS for open this archives and extract the models for 3ds max studio 2010 please???

Thanks for your attention.

1. Umm. Unfortunely, the only way you can extract the models , scenarios on the DOA3 and DOA2U discs is with a modded xbox. 

2. && 3. I had the same situation finding the "ninja toolbox", Here's a link(I can't do more than that): [http://pastebin.com/1EGKLtBS](http://pastebin.com/1EGKLtBS). If I'm not wrong, mariokart64n made a pack with some of the tools he uses to extract models from DOA games(you'll have to find that pack).

I hope you find this useful.
## Post #356
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-06-22T05:44:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Oyikell
>
> THESIERRAMAN wrote:Hello People!!!
Can you help me??? I have some situations for resolve.
I have:
DOA U2 FOR XBOX 1
DOA 3 FOR XBOX 1
DOA 4 FOR XBOX 360
DOA X FOR XBOX 1
DOA X2 FOR XBOX 360
NINJA GAIDEN FOR XBOX 1
All in original dvds, I would like to extract all the information (3d models, scenarios, music, etc.) from these dvds but when i insert a game (for example DOA X) in my pc, it doesn't show me the information only the video that say "THIS DVD IS FOR XBOX CONSOLE". 

1. Can someone tell me what program I need for read original Xbox games in my PC without a XBOX (I dont have XBOX 1 and 360) please???

Second situation:
I watched the MARIOKART'S videos, where he shows that the tools for extract 3d models are in mega#$%&ad (unfortunatly (snif)), 

2.Can someone put the all the tools (for DOA U2, 3, 4, X, X2, NG1) in a new server (If you can, in MediaFire) please???

Third situation:
I have:
NINJA GAIDEN SIGMA 2 FOR PS3 in my pc (not original), and i would like to extract the models, music and scenarios, and im trying to open the archives, but i dont know how.

3. Can someone put the programs in the same link with the DOATOOLS for open this archives and extract the models for 3ds max studio 2010 please???

Thanks for your attention.

1. Umm. Unfortunely, the only way you can extract the models , scenarios on the DOA3 and DOA2U discs is with a modded xbox. 

2. && 3. I had the same situation finding the "ninja toolbox", Here's a link(I can't do more than that): http://pastebin.com/1EGKLtBS. If I'm not wrong, mariokart64n made a pack with some of the tools he uses to extract models from DOA games(you'll have to find that pack).

I hope you find this useful.

Toolbox:

[http://www.mediafire.com/?od0bjk8bfb7c774](http://www.mediafire.com/?od0bjk8bfb7c774)

Greed xplorer:

[http://www.mediafire.com/?zo5viocend5zr2d](http://www.mediafire.com/?zo5viocend5zr2d)
## Post #357
- Username: THESIERRAMAN
- Rank: n00b
- Number of posts: 16
- Joined date: Wed Jun 06, 2012 4:31 am
- Post datetime: 2012-06-24T02:33:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hello guys!!!

Thanks for the answers, (Oyikell, Darko), and the guys who create and are part of this forum.

I downloaded:
AFSExplorer
Toolbox
Greed xplorer

Thanks for your help and attention!!!
## Post #358
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-06-27T17:32:28+00:00
- Post Title: Re: Dead or Alive series formats and tools

guys... guys, guys. listen guys. i've made, guys, i've made - a python server for doao, that... listen carefully guys, that can load any character, on any stage, pose her, and play any move of her. though it's not that easy as handling the camera with gamepad stiks on xbox, but you try it...

[you can load it here](http://rghost.ru/download/38901086/cdc5d0724f11169c3a9d1e854f1e0895412c9fe4/doao_pyserver.7z)

> Reply from TRDaz
>
> b0ny, hi, i loved your work with the blender 2.6 importer for the emp files in DOAO, just wondering if its possible to add support for stages? I tried one today but it gives me an error, though one of them loads one mesh, and thats it.you should use a 3d ripper tool to get the stages meshes. stages don't have bones(they have), they're just meshes, you can try to rip them from from greed explorer or you can try to rip settled up stages from dead or alive online. it's a pain in the as* for me to deal with deswizzling. though it's an interesting idea to import in blender a doa stage with morphing, animated textures and triggers, but i can't accept this challenge, right now it's too much for me because i don't see where it can go to, its much important right now to focus on doa5 or something more relevant than digging for models a cadaver like doau(of course doao is still mainstream right now for pc   ).
## Post #359
- Username: BakameExcalibur
- Rank: advanced
- Number of posts: 68
- Joined date: Wed Feb 02, 2011 8:02 am
- Post datetime: 2012-06-28T08:37:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

Huh... I installed Blender 2.62 in my fresh Windows 7 (back to Windows because too much broken stuff in Linux to put up with), and now the xpr importer works just fine again. Weird, but I won't complain.
## Post #360
- Username: egital2
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Mon Sep 05, 2011 8:57 am
- Post datetime: 2012-06-30T02:17:19+00:00
- Post Title: Re: Dead or Alive series formats and tools

b0ny you are a god here.
## Post #361
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-06-30T07:15:11+00:00
- Post Title: Re: Dead or Alive series formats and tools

so what you guys think about that pyserver. any problems running it? any suggestions? i thought maybe mapping some buttons to the keyboard, can be a good idea...

> Reply from egital2
>
> b0ny you are a god here.
## Post #362
- Username: darkblueking
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Thu Feb 03, 2011 9:08 pm
- Post datetime: 2012-06-30T17:18:40+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> so what you guys think about that pyserver. any problems running it? any suggestions? i thought maybe mapping some buttons to the keyboard, can be a good idea...
egital2 wrote:b0ny you are a god here.
 Chracter 1 and Chracter 2 can't loading the move Simultaneously !    Will you add a button for it ?   Maybe you should add another button for loading multiple moves .
## Post #363
- Username: egital2
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Mon Sep 05, 2011 8:57 am
- Post datetime: 2012-06-30T18:37:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

if you put zoom to the camera and Y axis it will be wonderful
## Post #364
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-07-02T13:54:32+00:00
- Post Title: Re: Dead or Alive series formats and tools

a little finding for doau/doao - i found inside the doau/doao a list of character names, i'll post it as it is:
00 "ZACK"
01 "TINA"
02 "JANN LEE"
03 "EIN"
04 "RYU HAYABUSA"
05 "KASUMI"
06 "GEN FU"
07 "HELENA"
08 "LEON"
09 "BASS"
0A "HELENA MAMA"
0B "-HAYATE"
0C "LEIFANG"
0D "AYANE"
0E "WAKABASS"
0F "LISA"
10 "LORAN"
11 "TENGU"
12 "COTINA"
13 "-BRAD WONG"
14 "-CHRISTIE"
15 "HITOMI"
16 "COAYANE"
17 "PDOG"
18 "BAYMAN"
19 "AYAME"
1A "COHAYATE"
1B "HADAKASUMI"
1C "COKASUMI"
the number is the character id. this list also corresponds to the skeleton names, the list i posted before where wrong - "0B" is not for raidou, it's for canceled hayate.
it's interesting to see doax lisa here. And every character with a "CO-" prefix. Cotina means young thina, this way we have young hayate, ayane and kasumi, also we can see ayame here. was that a later decision to make that doau intro a cgi? where they intending in the beginning to make it on the engine?

and an incomplete list of stages(inside the game it's in five languages):
00 "- THE WHITE STORM -"
01 "- THE NIGHT OF FIREFLY -"
02 "- THE DANGER ZONE 2 -"
03 "- THE BLUE CAVE -"
04 "- THE GREAT OPERA -"
05 "- THE DEATH VALLEY -"
06 "- MOTION EDIT -"
07 "- UNDULATION CHECK -"
08 "- THE CRIMSON -"
09 "- THE DANGER ZONE -"
0A "- THE GREAT OPERA -"
0B "- THE GREAT OPERA -"
0C "- THE DEMON'S CHURCH -"
0D "- THE DEMON'S CHURCH -"
0E "- THE BIO LAB. -"
0F "- THE AERIAL GARDEN -"
10 "- THE WATER FALL -"
11 "- ELEVATOR -"
12 "- THE MIYAMA -"
13 "- THE KOKU AN -"
14 "- THE SPIRAL -"
15 "- THE DRAGON HILLS -"
16 "- THE MIYAMA -"
17 "- UNKNOWN -"
18 "- THE BIO LAB. -"
19 "- UNKNOWN -"
1A "- THE WATER FALL -"
1B "- UNKNOWN -"
1C "- UNKNOWN -"
1D "- UNKNOWN -"
1E "- THE DRAGON HILLS -"
1F "- THE PRAIRIE -"
20 "- UNKNOWN -"
21 "- THE CRIMSON -"
22 "- THE AERIAL GARDEN -"
23 "- THE WATER FALL -"
24 "- THE D OCTAGON -"
25 "- THE PANCRATIUM -"
26 "- THE IRON HELL -"
27 "- THE BLANCA -"
28 "- THE L'S CASTLE -"
29 "- THE BURAI ZENIN -"
2A "- THE BURAI ZENIN -"
2B "- UNKNOWN -"
2C "- THE IRON HELL -"
2D "- UNKNOWN -"
a lot of stages didn't live up to the game release day
## Post #365
- Username: dee4doa
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Sun Mar 20, 2011 8:02 am
- Post datetime: 2012-07-04T17:20:23+00:00
- Post Title: Re: Dead or Alive series formats and tools

I need some help with Crimp XP, Im using Windows 7 and I'm trying to import a 3DS file into the XPR. But I have a problem, I click the 'GO' button but nothing happens since I load the model in GX and nothing has changed 

I now have the Loadfile.afs so I', going to convert these DOA3 stages for DOAOL:
## Post #366
- Username: gjinka2
- Rank: n00b
- Number of posts: 17
- Joined date: Mon Jan 30, 2012 12:54 am
- Post datetime: 2012-07-11T20:39:27+00:00
- Post Title: Re: Dead or Alive series formats and tools

@b0ny: your importer tries to open *.doax files when passed DOA3 or DOA2U xprs, which are not in the "skeletons" folder like the *.doa3 and *.doau files.
## Post #367
- Username: Zac Efron
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Mon Jul 16, 2012 5:51 pm
- Post datetime: 2012-07-16T10:02:28+00:00
- Post Title: Re: Dead or Alive series formats and tools

HI,

Awesome …Thanks for the info.Really simple and good one.

Simple and best…like things.Especially the way you put up the things..

Thanks a lot..
## Post #368
- Username: THESIERRAMAN
- Rank: n00b
- Number of posts: 16
- Joined date: Wed Jun 06, 2012 4:31 am
- Post datetime: 2012-07-23T20:50:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

HELLO GUYS I'm THESIERRAMAN, Can you help me, I have some situations for resolve:

FIRST SITUATION:
I have DOA2U (FOR XBOX 1), DOA4 (FOR XBOX 360) AND DOAX2 (FOR XBOX 360), all these games in "ISO", and I would like to extract the archives, I tried with MagicIso, but in the 3 games MagicIso didn't show me the archives, only some videos about "THIS IS A XBOX GAME, ONLY CAN BE USED IN A XBOX CONSOLE", my question is: What programs can I use for extract the archives from these 3 games (DOA2U (FOR XBOX 1), DOA4 (FOR XBOX 360) AND DOAX2 (FOR XBOX 360))??? and if is possibily can you put the links for download from mediafire please.

SECOND SITUATION:
I have "Noesis" program, but i dont know how can use it, Do you have a tutorial for use it??? I said that because in the program I'm watching a extention for DOAX2 and would like to use it for this game.

Thanks for your help and attention
## Post #369
- Username: aagems
- Rank: advanced
- Number of posts: 75
- Joined date: Thu May 31, 2012 1:07 am
- Post datetime: 2012-07-24T07:23:58+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hi, i just want to know is there any tools to import to 3ds max or model viewer for dead or alive paradise? i know there's a bms script to unpack the container but im confuse what should i do with those already unpacked file. well b0ny maybe you could make it one??  

Another question,does this game uses split model files like other doa (DOAU&DOA3)series??
## Post #370
- Username: sagesau
- Rank: n00b
- Number of posts: 11
- Joined date: Thu Jul 26, 2012 8:53 pm
- Post datetime: 2012-07-26T13:06:04+00:00
- Post Title: Re: Dead or Alive series formats and tools

Has anyone deciphered the animation formats?
If someone will do that, writing a Blender animation loader will take mere minutes.

```
if object.type != "ARMATURE":
	raise Exception("Please select an Armature Object.")
	return

pose = object.pose

object.animation_data_create()

action_name = bpy.path.display_name_from_filepath(filepath)
action = bpy.data.actions.new(name = action_name)
object.animation_data.action = action

for frame in range(frame_count):
    for bone in pose.bones:
        bone.matrix = matrices[frame][pose.bones.index(bone)]
        
        bone.keyframe_insert('location', frame = frame)
        bone.keyframe_insert('rotation_quaternion', frame = frame)
        bone.keyframe_insert('scale', frame = frame)

```

Where "matices" is a list of matrix lists for each frame.

BTW, looks like the googledocs page has been hacked.
## Post #371
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-07-31T16:54:47+00:00
- Post Title: Re: Dead or Alive series formats and tools

hi doao players here is a doax to doao outfit converter for you. it's shitty but it works for many costumes(clothes only). i won't give you a direct link to the "heavy pack"(which includes every thing you need) but you can look for it on the [russian doao forum](http://doa.getbb.ru/viewtopic.php?p=9418#p9418). 
here you go:
[DoAX to DoAO costume converter "lite pack" = 1 mb](http://rghost.ru/download/39500778/0e384bddf56d1d31765e44e964cf446a3908b097/doaxSkinsForDoao%28litePack%29.7z)

you just select any costume, press "blend it", and restart the stage in doao. easy as that


> Reply from THESIERRAMAN
>
> FIRST SITUATION:Xbox-Backup-Creator -> "Image Tools" -> "Image Browser" -> "File" -> "Open Image File" -> then if i remember right you should select everything you want to extract, right click and select an option that will extract everything you selected
[http://www.filestube.com/7NKuKl1EQpHzFE ... 0-345.html](http://www.filestube.com/7NKuKl1EQpHzFEXAVCRSEJ/Xbox-Backup-Creator-v2-9-0-345.html)

> Reply from THESIERRAMAN
>
> SECOND SITUATION:export from noesys in a comestible 3d format than import it in blender or whatever you use

> Reply from aagems
>
> any tools to import to 3ds max or model viewer for dead or alive paradise?some guy here [http://git.daifukkat.su/?p=spark.git;a=summary](http://git.daifukkat.su/?p=spark.git;a=summary) worked for some time on a tool for doap unpacking, you may want to have a look at it.

> Reply from aagems
>
> Another question,does this game uses split model files like other doa (DOAU&DOA3)series??frankly, no idea 

sagesau
thanx for the info, though it's a long way until a clean animation extractor/importer. right now i think i could extract the first and the last poses from an animation
## Post #372
- Username: sagesau
- Rank: n00b
- Number of posts: 11
- Joined date: Thu Jul 26, 2012 8:53 pm
- Post datetime: 2012-07-31T23:10:26+00:00
- Post Title: Re: Dead or Alive series formats and tools

I'm not sure how you can get poses from the first frame but have difficulty for the rest, but either way if you know something about the animation format, tell me. I might make it myself.
## Post #373
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-08-01T05:22:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

short tutorial for the doax_outfit_converter, for anyone who have troubles using it:
1. download the "heavy pack":
DoAX to DoAO costume converter "heavy pack" = 42 mb ([viewtopic.php?p=93969#p93969](http://forum.xentax.com/viewtopic.php?p=93969#p93969))

2. find the folder, where all the doa skins are


3. enter the skin folder you want to swap


4. select and copy the skin path


5. paste the path in the "output dir"


6. write the name of the skin in the"output name"


7. select and convert the doax outfit in this order


8. copy the "qLoaderC5" to the "final" folder and run it([viewtopic.php?p=94198#p94198](http://forum.xentax.com/viewtopic.php?p=94198#p94198))


9. select the skin you swapped (use russian to see the skin names)


10. enter the battle to finally see the job done
## Post #374
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-08-01T05:24:44+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from aagems
>
> Hi, i just want to know is there any tools to import to 3ds max or model viewer for dead or alive paradise? i know there's a bms script to unpack the container but im confuse what should i do with those already unpacked file. well b0ny maybe you could make it one??  

Another question,does this game uses split model files like other doa (DOAU&DOA3)series??

I wonder howcome some guys  arrive here without checking the entire forum:

[viewtopic.php?f=33&t=7901](http://forum.xentax.com/viewtopic.php?f=33&t=7901)

DOAP is partially supported by fatduck importer script for 3ds max. It's in a beta phase. I have the bms included in the first update to unpack the .arc file, but I don't know if it's ok to share it right now.
## Post #375
- Username: THESIERRAMAN
- Rank: n00b
- Number of posts: 16
- Joined date: Wed Jun 06, 2012 4:31 am
- Post datetime: 2012-08-01T22:52:04+00:00
- Post Title: Re: Dead or Alive series formats and tools

HELLO PEOPLE!!!

Thanks for answer my questions about DOA ISO and how to extract the information of them. But I have another situation.
First situation: 
I have DOAX2 ISO (for XBOX 360), but the site where I get it said "nude patch", and I used "Noesis program" for extract the models and I only found the models without costumes (  ), the same thing happen to me with DOAX 1 but I found the bikinis in other .AFS.
Do you know where and how can I get the costumes for the characters???

The ISO game have:
7,641,262 KB=7.29GB
The characters are in .tpr
The items are in .tpr
The stages are in .tp
I found some archives called werone.afs and wertwo.afs, but there are only elements called "archives".

Thanks for your help and attention
## Post #376
- Username: aagems
- Rank: advanced
- Number of posts: 75
- Joined date: Thu May 31, 2012 1:07 am
- Post datetime: 2012-08-02T09:16:32+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> aagems wrote:Hi, i just want to know is there any tools to import to 3ds max or model viewer for dead or alive paradise? i know there's a bms script to unpack the container but im confuse what should i do with those already unpacked file. well b0ny maybe you could make it one??  

Another question,does this game uses split model files like other doa (DOAU&DOA3)series??

I wonder howcome some guys  arrive here without checking the entire forum:

viewtopic.php?f=33&t=7901

DOAP is partially supported by fatduck importer script for 3ds max. It's in a beta phase. I have the bms included in the first update to unpack the .arc file, but I don't know if it's ok to share it right now.

Sorry,my bad.I have that fat importer too.i check it again and yes theres a viewer for doa paradise in that script though its still beta. However,problem solved.Thanks for remind me
## Post #377
- Username: aagems
- Rank: advanced
- Number of posts: 75
- Joined date: Thu May 31, 2012 1:07 am
- Post datetime: 2012-08-02T09:27:47+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from aagems
>
> any tools to import to 3ds max or model viewer for dead or alive paradise?some guy here [http://git.daifukkat.su/?p=spark.git;a=summary](http://git.daifukkat.su/?p=spark.git;a=summary) worked for some time on a tool for doap unpacking, you may want to have a look at it.

> Reply from aagems
>
> Another question,does this game uses split model files like other doa (DOAU&DOA3)series??frankly, no idea 

@bony:thanks for the info.youre the man!!
Sorry,wrong typing.not split body model,i mean split body part like those xbox1 doa games
## Post #378
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-08-02T18:33:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sagesau
>
> I'm not sure how you can get poses from the first frame but have difficulty for the rest, but either way if you know something about the animation format, tell me. I might make it myself.
[here](http://rghost.ru/download/39538668/e2404f2acd371599f687b105cc62fd71bc0c9b50/@motions%20mot%20file.zip) is a tool for logging all the animation from the mot file to a text file + the source code you can look in. just put it in a folder with a mot file and it will log a full dump of all animations in "mylog2.log"(except for some tricky technique using precalculated sinus values), and just the first frames from each animation in "mylog3.log".
mylog2.log:
1e2c(0) //offset in the mot file (offset of the pointer in the mot header)
#0:      //totally, there are 44 animation blocks for each body part, for position and rotation, in each animation chunk
1-34[33]	4(0.0063, -0.000900269, -0.00121307) //frames from "1" to 
"34", totally "[33]" frames for this key frame; keyframe type = "4(", 'main value' = "0.0063,", 'specific(unknown) values' for this keframe = " -0.000900269, -0.00121307)"
...		0(-0.0004)$ // "..." means the last frame in this animation block, and the 'main value' = (-0.0004), the end character(debugging) = "$"

in mylog3.log you see the name of the limb and it's global coordinates, the suffix "_xyz" means the position, everything else is rotation:
pelvis_xyz   0,          0.935,       0       //pelvis position x=0, y=0.935, z=0
pelvis   	8.89343, 288.578, 339.142 //pelvis rotation(in degrees) x=8.89343, y=288.578, z=339.142


i have a problem - i don't know how to set the global position of a child bone while in pose mode in blender(with the inverse kinematics turned on), i need just to set the global xyz coordinates for the palm or for the foot, but blender is giving me some relative shit, related to the parent bone.
## Post #379
- Username: sagesau
- Rank: n00b
- Number of posts: 11
- Joined date: Thu Jul 26, 2012 8:53 pm
- Post datetime: 2012-08-02T20:44:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

Nice 
This is going to be interesting...

The Blender docs say PoseBone.matrix is in "world space", so its weird you say it is relative, but Blender docs have always had outdated/wrong info.

If that's really the case, we need to multiply the bone's (PoseBone's) matrix with the inverse of its parent's matrix.
Something like this:

```
    poseBone.matrix = poseBone.matrix * poseBone.parent.matrix.copy().inverted()

```

Or in opposite order, I'm not sure. We didn't need to do this shit manually in the old API, and I haven't yet written an animation imported for the new Blender.

Also, have you thought of uploading your scripts/tools to googlecode/Sourceforge? The keep them up for like forever.
Just mention in the main page that they are for "research and protected as fair use".
## Post #380
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-08-03T09:46:00+00:00
- Post Title: Re: Dead or Alive series formats and tools

sagesau
i don't now what a matrix is, and i don't now how to make a poseBone.matrix having just the global xyz values. i've tried to set the xyz manually just to check if the data i've extracted is correct, but blender has disabled the xyz fields, and only allows me to edit some strange "vector xyz"...

can you give me a guide how to set the location of a child bone 'LeftPalm' to the global xyz coordinates 0,0,0?


> Reply from THESIERRAMAN
>
> I have DOAX2 ISO (for XBOX 360), but the site where I get it said "nude patch", and I used "Noesis program" for extract the models and I only found the models without costumes (  )
I found some archives called werone.afs and wertwo.afs, but there are only elements called "archives".the costumes are in werone.afs and wertwo.afs, but that "nude patch" don't have them. how do you think they made it "nude" ? - they just deleted all the costumes!
## Post #381
- Username: sagesau
- Rank: n00b
- Number of posts: 11
- Joined date: Thu Jul 26, 2012 8:53 pm
- Post datetime: 2012-08-03T10:29:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> sagesau
i don't now what a matrix is, and i don't now how to make a poseBone.matrix having just the global xyz values. i've tried to set the xyz manually just to check if the data i've extracted is correct, but blender has disabled the xyz fields, and only allows me to edit some strange "vector xyz"...

can you give me a guide how to set the location of a child bone 'LeftPalm' to the global xyz coordinates 0,0,0?
Matrix is something simple that people love to overcomplicate, so I wouldn't suggest googling it as you might get even more confused.

A Matrix is just a table of numbers. A table is like a 2-dimensional Python list.
This is an example matrix:

```
4, 5, 6
7, 8, 9]

```


In computer graphics its used for positioning objects, bones and animating them, and is called a "transformation matrix", or "transform matrix").
A transform matrix holds numbers used for position, rotation and scale. It's usually a 4x4 matrix. bottommost and leftmost values are usually zeroes.

Everyone gets this question the first time: Why is transform matrix used and why is a 4x4 sized one used in 3d graphics, when we can assign the values individually, and make it look less confusing?

The answer is: performance. Multiplying a matrix by vector (x,y,z values) or another matrix is fast for the CPU/GPU.

So if you want to assign the position, rotation and scale at the same time fast, using PoseBone.matrix is fast, and since many 3d files already have the values as matrix (16 floats), its faster for importers.

That said, I'm a noob in matrix math myself.

After you've set the bone's position and rotation, the PoseBone.matrix gets updated automatically by Blender. Try doing this:

```
poseBone.matrix = poseBone.matrix * poseBone.parent.matrix.copy().inverted()
```

I *think* this will work.

You can go to Edit mode, select all bones and press Alt+P to undo parenting and then import the animations, just to make sure everything else works. before we get this sorted out.
## Post #382
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-08-03T11:56:07+00:00
- Post Title: Re: Dead or Alive series formats and tools

sagesau

RightX  RightY  RightZ  0
UpX     UpY     UpZ      0
LookX  LookY   LookZ   0
PosX    PosY    PosZ    1

i googled matrices. but i don't see how to use them with the animation i extract form mot files. the doa(x,u,3,2) animation data isn't stored in matrices. it have only this:
xyz location for  - ass, palms, feets.
rotation for - ass, chest, head, palms, feets.
i'm starting to think that importing animation is much more complicated than i thought before. that thing with the palm positioning that i mentioned before, was all about ik animation and now i'm starting to think that you can't have ik from inside the python, that it only works when you drag the bones with the mouse, and you can't shift from python just the child bone to animate all the parents...
## Post #383
- Username: sagesau
- Rank: n00b
- Number of posts: 11
- Joined date: Thu Jul 26, 2012 8:53 pm
- Post datetime: 2012-08-03T12:59:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

I'm not sure if I got what the problem is.

You say you have position for some bones and position+rotation for others.
Cool.
Assign them like this

```
PoseBone.rotation_euler = [h,p,r]

```

Blender will update the PoseBone.matrix now. And you can do

```
poseBone.matrix = poseBone.matrix * poseBone.parent.matrix.copy().inverted()
```


Values not set, like scale will have default values ( (1,1,1) for scale and (0,0,0) for position/rotation ), you don't have to fill the rest of the values in the matrix, Blender does that itself.

poseMatrix in Blender 2.4 didn't care about iks, probably new API works the same way, so shouldn't be a problem. I'm not sure if you're using the term "ik" right though, are you talking about Armature hierarchy (parenting), or ik constraints?

Also, do you have a Python reader for the mot files now? I looked at the cpp source of the tool you uploaded, but I don't know C++ to understand what it does.

You're having problem with the Blender API, and I'm having problem with the file reading part. If you would send me some Python code for reading the files or format specification, we could work on the same thing - the Blender part.

BTW, did you check if the values are relative to rest pose (EditBone values) or not? That could make it look wrong too. As well as not converting it from y-up space to Blender's z-up like you did in the model importer.
## Post #384
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-08-03T13:43:13+00:00
- Post Title: Re: Dead or Alive series formats and tools

sagesau
ik = inverse kinematics (it's when you don't need to animate all bones because the pc will do this for you)

this script will log the values to the console

```
import struct

def dw2sign(mydword):#unsigned32 to signed64 int
    return (mydword & 0xffffffff) - (0x100000000 if mydword & 0x80000000 else 0)
    #return struct.unpack("=l", struct.pack("=L", (mydword & 0xffffffff)))[0]

def w2dw(myword):#word to dword
    return (0xffff0000 if myword & 0x8000 else 0) + (myword & 0xffff)

def b2dw(mybyte):#byte to dword
    return (0xffffff00 if mybyte & 0x80 else 0) + (mybyte & 0xff)


def ww2f(kfh):#word+word to float
    return dw2sign((w2dw(kfh[0] & 0xF000) << 4) + kfh[1]) / 10000.0

def bw2f(kfb, kfw):#byte+word to float
    return dw2sign((b2dw(kfb) << 0x10) + kfw) / 1000000.0


with open("C:\\karate.mot", 'rb') as fmot: #change the "C:\\karate.mot" path to the right one
    limbnames = ("pelvis_xyz:\n", "", "", "pelvis:\n", "", "", "chest:\n", "", "", "head:\n", "", "",
    "bpalm_xyz:\n", "," ,"", "bpalm:\n", "", "", "belbow:\n", "bshoulder:\n",
    "fpalm_xyz:\n", "", "", "fpalm:\n", "", "", "felbow:\n", "fshoulder:\n",
    "bfoot_xyz:\n", "", "", "bfoot:\n", "", "", "bheap:\n", "bknee:\n",
    "ffoot_xyz:\n", "", "", "ffoot:\n", "", "", "fheap:\n", "fknee:\n")#b = back(right), f = front(left)
    limbo = [ord(c)-48 for c in "00011111111100011111000111110001111100011111"]#0 = location, 1 = rotation
    animofsets = []
    while(True):
        animofset = struct.unpack("<L", fmot.read(4))[0]
        if animofset == 0: break
        if animofset in animofsets: continue
        animofsets.append(animofset)
    for animofset in animofsets:
        print("%x<%x>"% (animofset, animofsets.index(animofset)))
        fmot.seek(animofset)
        motions = []
        for i in range(44): motions.append(struct.unpack("<L", fmot.read(4))[0])
        motion = 0
        while(motion < 44):
            fmot.seek(motions[motion])
            if motion < 43 and motions[motion] == motions[motion+1]:
                motion += 3
                print("unknown technique: xyz =", struct.unpack("<HHH", fmot.read(6)))
                continue
            print(limbnames[motion], end = "")
            kframe = 1
            while True:
                kfh = struct.unpack("<HH", fmot.read(4)) #keyframe header
                myfloat = ww2f(kfh)
                frame = (kfh[0] >> 2) & 0x3ff
                kfsize = [10, 4, 6, 8][kfh[0] & 3]
                kframe += frame
                if frame == 0:
                    print("%x"% (kframe - frame), "-", "%x"% kframe, "[", "%x"% frame, "]\te(", myfloat, ")$\n", sep = "", end = "")
                    break
                print("%x"% (kframe - frame), "-", "%x"% kframe, "[", "%x"% frame, "]\t", int(kfsize/2), "(", myfloat, sep = "", end = "")
                if kfsize == 10:
                    kfw, kfb = struct.unpack("<HB", fmot.read(3))
                    specificfloat1 = bw2f(kfb, kfw)
                    kfb, kfw = struct.unpack("<BH", fmot.read(3))
                    specificfloat2 = bw2f(kfb, kfw)
                    print(", %.6f, %.6f"% (specificfloat1, specificfloat2), sep = "", end = "")
                elif kfsize == 8:
                    kfww = struct.unpack("<HH", fmot.read(4))
                    print(", %.6f, %.6f"% ((dw2sign(w2dw(kfww[0])) * (0.5**17)), (dw2sign(w2dw(kfww[1])) * (0.5**17))), sep = "", end = "")
                elif kfsize == 6:
                    kfw = struct.unpack("<H", fmot.read(2))[0]
                    print(", %.6f"% (dw2sign(w2dw(kfw)) * (0.5**17)), sep = "", end = "")
                if(limbo[motion]):print(")\t[%.2f°]"% (myfloat * 54.931640625), sep = "")
                else:print(")")
            print("")
            motion += 1 #increment the motion here
        print("[!]\n")
        break# remove this to log the whole *.mot
```
## Post #385
- Username: sagesau
- Rank: n00b
- Number of posts: 11
- Joined date: Thu Jul 26, 2012 8:53 pm
- Post datetime: 2012-08-03T13:47:55+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> sagesau
ik = inverse kinematics (it's when you don't need to animate all bones because the pc will do this for you)
PC does a lot of things for you. What do you mean exactly? Parent bones moving their children with them is not IK yet. IK is more complicated and is achieved in Blender with constraints. Is that what you mean, or just bone parenting?

And thanks.
## Post #386
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-08-03T13:51:49+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sagesau
>
> b0ny wrote:sagesau
ik = inverse kinematics (it's when you don't need to animate all bones because the pc will do this for you)
PC does a lot of things for you. What do you mean exactly? Parent bones moving their children with them is not IK yet. IK is more complicated and is achieved in Blender with constraints. Is that what you mean, or just bone parenting?

And thanks.

i mean children moving all their parents
## Post #387
- Username: sagesau
- Rank: n00b
- Number of posts: 11
- Joined date: Thu Jul 26, 2012 8:53 pm
- Post datetime: 2012-08-03T14:00:13+00:00
- Post Title: Re: Dead or Alive series formats and tools

Children moving their parents or parents moving their children? Sorry, small typo can change it all.
## Post #388
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-08-03T18:05:31+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sagesau
>
> Children moving their parents or parents moving their children? Sorry, small typo can change it all.Children moving their parents 

direct kinematics is when you pose the root first, then you can only rotate the children following down the hierarchy.
inverse kinematics is when you don't care about the parents, you just move the children, and the inverse kinematic will take care of the parent bones calculating their positions and angles for the whole hierarchy up to the root.

i don't think that doa has some kind of unique animation technique. i should have a look in scripts for importing animation in blender. for sure, i'll find something similar to this. from what i remembered today about ik animation some empty gizmos should be created, and the bones should be attached to them, and when you move the empties, the bones are following them, this way you don't need to care about matrices and stuff.
## Post #389
- Username: sagesau
- Rank: n00b
- Number of posts: 11
- Joined date: Thu Jul 26, 2012 8:53 pm
- Post datetime: 2012-08-03T22:06:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

Are you saying ik data is stored in the xprs/cats? Otherwise I'll suggest against creating ik constraints in the importer. I don't know of any importer that does that. That's something the users should set for their own specific needs, or as a separate addon.

Either way, the matrix, or individual location and rotation_euler values you assign to PoseBones are the transform of the PoseBone "after all the constraints have been applied", so it shouldn't be a problem.
## Post #390
- Username: sagesau
- Rank: n00b
- Number of posts: 11
- Joined date: Thu Jul 26, 2012 8:53 pm
- Post datetime: 2012-08-05T09:04:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

OK, I got Python 3 and tried your script.
I still don't understand what I'm seeing.
Can you explain what this means?

```
1-14[13]        5(0.0333, 0.000010, 0.002602)   [1.83°]
14-1f[b]        5(-0.0112, 0.002447, 0.003410)  [-0.62°]
1f-24[5]        5(0.038, 0.003654, 0.009342)    [2.09°]
24-29[5]        5(0.0633, 0.010217, 0.000501)   [3.48°]
29-41[18]       5(0.1151, 0.000503, -0.002135)  [6.32°]
41-50[f]        5(0.0728, -0.002135, -0.000158) [4.00°]
50-50[0]        e(0.0314)$
```


The code isn't self-explanatory either.

I don't know what "keyframe header" is, "myfloat", "frame", "kfsize", and why you add frame to kframe.
Neither what the code does depending on the "kframe" size.

I'm not a professional programmer, but I'm not a noob either. Please explain the code if you want help.
## Post #391
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-08-05T10:49:46+00:00
- Post Title: Re: Dead or Alive series formats and tools

sagesau

```
1-14[13]        5(0.0333, 0.000010, 0.002602)   [1.83°]
```
one row is one keyframe, here is the explanation of the values:
"from this frame" - "to this frame"["how many frames"]  "keyframe type"("main value", "additional value 1", "additional value 2") ["rotation in degrees"]

"keyframe type" -- there are four types of key frames. all of them have a main value, which is location/rotation, and some have additional values, i suppose those can be some kind of animation vectors(?).

"main value" -- i called this "myfloat" in the script

"rotation in degrees" -- rotation is in some kind of "doa units", and i have transformed it here in degrees

"from this frame" -- all you have to do is - go in blender to this frame and set here the "main value".
## Post #392
- Username: sagesau
- Rank: n00b
- Number of posts: 11
- Joined date: Thu Jul 26, 2012 8:53 pm
- Post datetime: 2012-08-05T12:21:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

OK.
I'm not sure why you say "location/rotation", seems only location to me. 
That rotation value might be for the bone roll ("rotation along itself"). Full rotation needs 3 (euler) or 4 (quaternion) values.

Anyway, thanks!

I'll make a test script and see how it goes.
Right now I only have DOA2U and DOAX though, have you checked if the format changed from DOA3?

I also know how to get your model importer working in 2.63, if you're interested.
## Post #393
- Username: sagesau
- Rank: n00b
- Number of posts: 11
- Joined date: Thu Jul 26, 2012 8:53 pm
- Post datetime: 2012-08-06T16:41:52+00:00
- Post Title: Re: Dead or Alive series formats and tools

From the incomplete info we have I wrote this incomplete/unusable MOT importer for Blender.
It creates Actions for each animations in the mot and names them "motname_animationindex".

You can just go to edit mode, select all bones and press Alt+P to unparent bones and see that there's more problems than that.

[http://pastebin.com/Rmcabx3y](http://pastebin.com/Rmcabx3y)

BTW, about the xpr importer: are you sure you generate the bones or weights right? The arm bones deform the mesh pretty weirdly.
## Post #394
- Username: Canardlaquay
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Fri Feb 17, 2012 4:37 am
- Post datetime: 2012-08-06T20:37:01+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hey guys, I'm following this thread since a while, even if I'm pretty bad understanding 3D models imports, edits, and etc, thank you for your work.
I thought editing DOA Online texture would be very funny, but it was very repetitive... I mean, edit one by one texture, and etc...
So I made a little tool: [http://minecoin.fr/dl/DOAOModder_1.0.zip](http://minecoin.fr/dl/DOAOModder_1.0.zip) (Can't give a simpler name :p)
Could I have your feedback about errors, if it's working, etc ? Thank you.

And a question to finish: how do you extract EMP files with C# (or VB) ? I currently use EMPtool as an external utility, but I'd prefer to include it, to extract/repack easily.
Keep up the great work ! Have fun !
## Post #395
- Username: THESIERRAMAN
- Rank: n00b
- Number of posts: 16
- Joined date: Wed Jun 06, 2012 4:31 am
- Post datetime: 2012-08-26T00:12:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

HELLO PEOPLE 
Thanks for answer my questions 

b0ny wrote:
the costumes are in werone.afs and wertwo.afs, but that "nude patch" don't have them. how do you think they made it "nude" ? - they just deleted all the costumes!  

I found in werone.afs and wertwo a lot of archives without "extension"  (nothing of .tpr and .tp or .gmd "I watched .gmd in Noesis") they appear in white.
These archives appear in the document:
werone:
0001_dmy_aa_a_m
0002_vay_ch_g_m
0003_vay_ch_g_m
0004_vay_ch_g_m
...
0050_vay_on_k_m
0051_vay_on_k_m
0052_vay_on_k_m
...
0333_vht_sh_g_m
0334_vht_sh_g_m
0335_vht_sh_g_m

wertwo:
0000_vht_sk_b_m
0001_vht_sk_b_m
0002_vht_sk_b_m
...
0220_vls_cs_h_m
0221_vls_cs_h_m
0222_vls_dl_b_m
...
0341_vtn_tk_e_m
0342_vtn_tk_e_m
0343_vtn_tk_e_m

All of them without  extension
Do you know if these archives are the costumes (bikinis)???

If not, Someone can put the iso game or the werone.afs and wertwo.afs for download (if you can on mediarfire) please, I search in google all a week and I only found the "nude patch version" or some those versions didn't say "nude patch" and when you download those versions have the patch (  ) I downloaded 6 times the game and all of them have the same patch.

Thanks for your help and attention
## Post #396
- Username: zaykho
- Rank: mega-veteran
- Number of posts: 217
- Joined date: Fri Dec 03, 2010 8:20 pm
- Post datetime: 2012-08-26T03:00:23+00:00
- Post Title: Re: Dead or Alive series formats and tools

> I found in werone.afs and wertwo a lot of archives without "extension" (nothing of .tpr and .tp or .gmd "I watched .gmd in Noesis") they appear in white.
>
> These archives appear in the document:

these are the swimsuits, just extract one, then add the extension .tpr, and voila ~

.Gmd are for Ninja Gaiden, .tp are for DOAX2 stages, and .tpr are for DOAX2 character, item, boat, swimsuit etc....

I have just one question: 

why when I extract some DOAX2 characters from noesis, they didn't have materials assigned to the groups ?

I mean, I get a .obj file with tons of groups, but without any materials, even when I re-import the extracted .obj in noesis, the textures doesn't show up. (but the textures are extracted, it's just that is boring to re-assign texture-by-texture on 320+ groups....)
## Post #397
- Username: TRDaz
- Rank: mega-veteran
- Number of posts: 215
- Joined date: Sun Sep 25, 2011 2:06 am
- Post datetime: 2012-09-09T20:31:23+00:00
- Post Title: Re: Dead or Alive series formats and tools

Has Dead or Alive Paradise ever been extractable? I extracted the iso, and found a .arc file named doap, thats the biggest file there so im guessing models are there. Anyone able to extract it? I could try and upload the .arc file for whoever wants to try and extract it.
## Post #398
- Username: JayK
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Fri Jun 01, 2012 5:08 pm
- Post datetime: 2012-09-09T21:48:38+00:00
- Post Title: Re: Dead or Alive series formats and tools

use psarc
## Post #399
- Username: TRDaz
- Rank: mega-veteran
- Number of posts: 215
- Joined date: Sun Sep 25, 2011 2:06 am
- Post datetime: 2012-09-10T16:26:53+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from rman2
>
> use psarc
Doesnt that only extract psarc files? Didnt work when I tried to use it with the .arc.
## Post #400
- Username: fatduck
- Rank: mega-veteran
- Number of posts: 315
- Joined date: Thu Aug 03, 2006 5:07 am
- Post datetime: 2012-09-11T06:43:11+00:00
- Post Title: Re: Dead or Alive series formats and tools

It been floating around for some times mate! Here you go:

```
# by Fatduck   Mar2010
# script for QuickBMS http://aluigi.org/papers.htm#quickbms

get DOAPEXT extension
if DOAPEXT != "bin"
    open FDDE bin 0
endif
open FDDE arc 1
comtype gzip
idstring "PAA\0" 0
get DUMMY long 0
get NUMRES long 0
get OFSIDXTBL long 0
get OFSPOS long 0
goto OFSIDXTBL 0
savepos INDEXPOS 0
for i = 1 to NUMRES do 
   goto INDEXPOS 0
   get NAMEPOS long 0
   get RESSIZE long 0
   get UKN02 long 0
   get UKN03 long 0
   savepos INDEXPOS 0
   goto OFSPOS 0
   get OFSRES long 0
   savepos OFSPOS 0
   goto NAMEPOS 0
   get RESNAME string 0
   goto OFSRES 1
   get TESTGZ threebyte 1
   if TESTGZ == 0x88B1F then 
      clog RESNAME OFSRES RESSIZE RESSIZE 1
   else
      log RESNAME OFSRES RESSIZE 1
   endif
next i
```
## Post #401
- Username: TRDaz
- Rank: mega-veteran
- Number of posts: 215
- Joined date: Sun Sep 25, 2011 2:06 am
- Post datetime: 2012-09-11T15:12:55+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks so much mate! 

EDIT: Noesis doesnt load the .tpr models like DOAX2... how would I get the models?
## Post #402
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-09-11T15:26:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from TRDaz
>
> Thanks so much mate! 

EDIT: Noesis doesnt load the .tpr models like DOAX2... how would I get the models?

With fatimporter for 3dsmax, the link is 2 posts above in fatduck's signature (the autor of the script lol), but It's still in an alpha or beta process.

See ya.
## Post #403
- Username: TRDaz
- Rank: mega-veteran
- Number of posts: 215
- Joined date: Sun Sep 25, 2011 2:06 am
- Post datetime: 2012-09-11T15:44:54+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks!
## Post #404
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-09-11T15:50:44+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from TRDaz
>
> Thanks!

No problem, but the importer as I said is in a beta phase, so this is what you're gonna get:



I don't know if fatduck has made any progress in the formar.

See ya.
## Post #405
- Username: TRDaz
- Rank: mega-veteran
- Number of posts: 215
- Joined date: Sun Sep 25, 2011 2:06 am
- Post datetime: 2012-09-11T16:31:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

Yeah, I got that... I have all the basic bodies from DOAX2 anyway, all I want is Rio's model. Just need to find which file her body and head is.... BTW, how do you get textures? They dont appear when importing it, and I dont know how to extract it neither D:
## Post #406
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-09-13T21:48:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from TRDaz
>
> Yeah, I got that... I have all the basic bodies from DOAX2 anyway, all I want is Rio's model. Just need to find which file her body and head is.... BTW, how do you get textures? They dont appear when importing it, and I dont know how to extract it neither D:

With this bms script, extract your tpr:

```
# by Fatduck    Apr2010
# script for QuickBMS http://aluigi.org/papers.htm#quickbms

idstring "PAR\0"
get VER long
get NRES long
if NRES != 2
  cleanexit
endif

goto 0x14
get OFSPTA long
goto OFSPTA

get HEADER long
get VERSION long
get NUMGIM long
get DUMMY long
savepos OFSGIM
#print "OfsGim %OFSGIM%"

set TMP NUMGIM
#print "Gim: %TMP%"
math TMP *= 4
math TMP += OFSGIM
goto TMP
padding 16
savepos OFSNAME

#print "OfsName %OFSNAME%"

for i = 0 < NUMGIM
  goto OFSNAME
  getdstring GIMNAME 0x20
  savepos OFSNAME
  
  goto OFSGIM
  get OFS long
  math OFS += OFSPTA
  savepos OFSGIM
  
  goto OFS
  getdstring DUMMY 20   #quick hack to get the gim size
  get GIMSIZE long
  math GIMSIZE += 16
  
  log GIMNAME OFS GIMSIZE

next i
```


And about .gim files:

[http://www.fileinfo.com/extension/gim](http://www.fileinfo.com/extension/gim)

See ya.
## Post #407
- Username: zaykho
- Rank: mega-veteran
- Number of posts: 217
- Joined date: Fri Dec 03, 2010 8:20 pm
- Post datetime: 2012-09-15T12:38:53+00:00
- Post Title: Re: Dead or Alive series formats and tools

Great Darko !

Thank's for your Help !!  :p
## Post #408
- Username: 252gt
- Rank: beginner
- Number of posts: 22
- Joined date: Sun Aug 14, 2011 1:52 am
- Post datetime: 2012-09-20T14:33:46+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hi 

I have 2 Qs

1st:

How can I extract DOA X2 Stages ?

2nd:

I have a problem with neosis, It doesn't show the model
I extracted the ISO, then open neosis, but I get nothing, It doesn't show the model

any help



-Sorry for BAD English-
## Post #409
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-09-20T17:19:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from 252gt
>
> Hi 

I have 2 Qs

1st:

How can I extract DOA X2 Stages ?

2nd:

I have a problem with neosis, It doesn't show the model
I extracted the ISO, then open neosis, but I get nothing, It doesn't show the model

any help



-Sorry for BAD English-

Have you extracted the asf files??
## Post #410
- Username: 252gt
- Rank: beginner
- Number of posts: 22
- Joined date: Sun Aug 14, 2011 1:52 am
- Post datetime: 2012-09-21T16:45:39+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> 

Have you extracted the asf files??

No

Well which tool should I use ?

and THANX

Edit: 

There is a tool named DOAX2 AFS extractor

I tried it But nothing happen
I tried to put the file I want and the tool on a separate folder ... but without hope -_-

Can you help me please

THANX
## Post #411
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-09-21T17:47:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from 252gt
>
> Darko wrote:

Have you extracted the asf files??

No

Well which tool should I use ?

and THANX

Edit: 

There is a tool named DOAX2 AFS extractor

I tried it But nothing happen
I tried to put the file I want and the tool on a separate folder ... but without hope -_-

Can you help me please

THANX

Noesis extracts those files.
## Post #412
- Username: 252gt
- Rank: beginner
- Number of posts: 22
- Joined date: Sun Aug 14, 2011 1:52 am
- Post datetime: 2012-09-21T20:13:15+00:00
- Post Title: Re: Dead or Alive series formats and tools

OK

can you tell me how to extract them PLEASE

because when I open neosis and then load the location of the extracted DOAX2 Files

I got nothing


Neosis didn't show any file

even if I switch to DOAX2/NG2


-_-
## Post #413
- Username: JayK
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Fri Jun 01, 2012 5:08 pm
- Post datetime: 2012-09-21T21:12:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

set it to show 'all files' then double click on the file
## Post #414
- Username: 252gt
- Rank: beginner
- Number of posts: 22
- Joined date: Sun Aug 14, 2011 1:52 am
- Post datetime: 2012-09-23T05:14:52+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanx alot rman2

It finally work
## Post #415
- Username: redman
- Rank: advanced
- Number of posts: 71
- Joined date: Tue Jan 12, 2010 9:06 pm
- Post datetime: 2012-09-26T12:25:34+00:00
- Post Title: Re: Dead or Alive series formats and tools

DEAD OR ALIVE 5

any chance to extract the containers and then modifiy the models?
## Post #416
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-09-28T07:22:47+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from redman
>
> DEAD OR ALIVE 5

any chance to extract the containers and then modifiy the models?
the filenames are encrypted. the skins and stages are also encrypted. and we already know what will happen if we'll break that encryption - tecmo will shut down this site and will sue it's foundators

meanwhile somewhere in the middle of the encryption/decryption routine:
```
Except as expressly authorized, it is strictly prohibited to reproduce, distribute, exhibit or modify this software and any of its contents, including audio and visual contents. By way of example, to capture, copy or download any of the contents in this software, including audio and visual contents, onto any hardware or other software source media for any purpose, by the Internet or any other source, is strictly prohibited. Reversed engineering, decompiling or disassembly of this software is also strictly prohibited.
```
o tecmo - you're so funny
## Post #417
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-09-28T14:40:52+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> redman wrote:DEAD OR ALIVE 5

any chance to extract the containers and then modifiy the models?

the filenames are encrypted. the skins and stages are also encrypted. and we already know what will happen if we'll break that encryption - tecmo will shut down this site and will sue it's foundators

meanwhile somewhere in the middle of the encryption/decryption routine:Code: Select allExcept as expressly authorized, it is strictly prohibited to reproduce, distribute, exhibit or modify this software and any of its contents, including audio and visual contents. By way of example, to capture, copy or download any of the contents in this software, including audio and visual contents, onto any hardware or other software source media for any purpose, by the Internet or any other source, is strictly prohibited. Reversed engineering, decompiling or disassembly of this software is also strictly prohibited.o tecmo - you're so funny

The files have been already decrypted, check the game research forum
## Post #418
- Username: BakameExcalibur
- Rank: advanced
- Number of posts: 68
- Joined date: Wed Feb 02, 2011 8:02 am
- Post datetime: 2012-10-08T01:28:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

Well, once again I'm baffled as to why the Blender plugin for DOAU/X models won't work in the Linux version of Blender, but I did manage to get a good debug output:

```
cat found
pills here 1 7 14
pills here 1 1 588
pills here 1 3 40
pills here 1 4 440
pills here 1 0 0
id_bone_OBJ: 1_00_01,  1_01_02,  1_02_03,  1_03_09,  1_09_1b,  1_12_13,  1_16_25,  1_03_0a,  1_09_1c,  1_04_0b,  1_05_0c,  1_06_0e,  1_07_11,  1_08_12,  1_0a_1d,  1_0b_1e,  1_0c_20,  1_0d_23,  1_0e_24,  1_11_08,  1_15_1a,  2_17_27,  2_13_15,  2_10_06,  2_14_18,  2_06_10,  2_0c_22,  2_07_0f,  2_0d_21,  3_03_04,  3_03_05,  3_04_07,  3_05_14,  3_09_16,  3_09_17,  3_0a_19,  3_0b_26,  3_12_0d,  3_16_1f,  39 bones found
joints 10
Traceback (most recent call last):
  File "/home/philip/.blender/2.62/scripts/addons/io_import_xpr.py", line 523, in execute
    import_xpr(self.properties.filepath, self.scale, self.swap_yz, self.load_textures, self.shadeless)
  File "/home/philip/.blender/2.62/scripts/addons/io_import_xpr.py", line 124, in import_xpr
    else:print("skeleton not found. skeleton folder should be in the same folder with xpr and cat : %s"%skeletonPath)
NameError: global name 'skeletonPath' is not defined

location:<unknown location>:-1

location:<unknown location>:-1
```


I'm no good with Python, but I hope this is of use to someone.
## Post #419
- Username: viperzerofsx
- Rank: veteran
- Number of posts: 95
- Joined date: Thu May 27, 2010 12:07 pm
- Post datetime: 2012-10-09T13:06:34+00:00
- Post Title: Re: Dead or Alive series formats and tools

since the first post is no longer visible I wanted to ask doe anyone have a tool that will let me view models from the 2004 ninja gaidan or one of its expansions I wanted to look at some of the vehicles
## Post #420
- Username: TRDaz
- Rank: mega-veteran
- Number of posts: 215
- Joined date: Sun Sep 25, 2011 2:06 am
- Post datetime: 2012-10-11T12:21:11+00:00
- Post Title: Re: Dead or Alive series formats and tools

Is it possible to get 3DS models at all? I would have loved to get Raidou and Shiden from DOA:D
## Post #421
- Username: viperzerofsx
- Rank: veteran
- Number of posts: 95
- Joined date: Thu May 27, 2010 12:07 pm
- Post datetime: 2012-10-11T13:42:54+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from TRDaz
>
> Is it possible to get 3DS models at all? I would have loved to get Raidou and Shiden from DOA:D

I actually don't think anyone has hacked the 3ds yet but I would love to be wrong about that
## Post #422
- Username: TRDaz
- Rank: mega-veteran
- Number of posts: 215
- Joined date: Sun Sep 25, 2011 2:06 am
- Post datetime: 2012-10-11T18:59:05+00:00
- Post Title: Re: Dead or Alive series formats and tools

Will have to wait until its possible to be hacked, but, thanks for the reply
## Post #423
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2012-10-20T14:24:47+00:00
- Post Title: Re: Dead or Alive series formats and tools

need testing on this blender addon

dead or alive online blender export script (blender 2.63/2.64a)
1. put "io_export_doau_xpr.py", "NvTriStripper-cli.exe" and "nvdxt.exe" in blender "addons" folder 
2. activate the plugin in blenders config
3. create your scene and export it as xpr. you can load now your scene to greed explorer to see if it was exported correctly
4. use the doao private server or the pyserver(animation viewer) to play your "stage" ingame. for the private server:
 a. convert it to emp using "XPR2EMP.exe"
 b. rename it to "stage_EFC.emp" and put it in "\doa_online\data\ingame\Dat\stage\stage_EFC\" folder. you'll need doao with the last unofficial path on it
 c. in lobby talk to the girl with a gift icon on her head and select the "3 Azuchi [down]" stage, and run a fighting mode to see your 3d scene

- to export textures with transparency layer, you should activate(at least before exporting) the "alpha" check box in the "influence" section of the texture settings tab(in blender)
- TODO: export shadeless textures; create simple cat files for simple low poly skins;

[here is a remake of a stage from doa1u crated by me, with the source blender file](http://rghost.net/download/41013043/c1bd27ca28a5ec76afd41e46c938a0b1f9967b7e/stage_EFC.zip) (click to download)


feed back please(with pictures)

tried to swap kasumi's head with her head from doa5, but ended up swapping the head for bayman:

 
the morphing targets(face/hands/boobs animation) were disabled. some bug with big textures, thus the face texture were scaled down, from 1024x1024 to 512x512

if you're interested in a tutorial or this skin, just ask...
## Post #424
- Username: BakameExcalibur
- Rank: advanced
- Number of posts: 68
- Joined date: Wed Feb 02, 2011 8:02 am
- Post datetime: 2012-11-03T04:28:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

Sorry if this doesn't really have any "useful" information, but I've managed to rip the contents of my copy of DOA4, and the model files contained within some .afs archives seem to be of a similar format to the ones found in DOAX2. Unfortunately, the DOAX2 plugin for Noesis doesn't seem to recognize them, and exporting them to other formats doesn't work either. I also found that the movie files are in .sfd format, though the sfd2mpg tool doesn't work at all, and the PES 2012 Video Converter tool will produce a complete audio file, but a junk video file.

Has anyone successfully managed to get DOA4's model files viewable in Noesis?
## Post #425
- Username: sidneymadmax
- Rank: beginner
- Number of posts: 35
- Joined date: Fri Sep 17, 2010 11:10 pm
- Post datetime: 2013-01-18T18:25:26+00:00
- Post Title: Re: Dead or Alive series formats and tools

[http://www.mediafire.com/?e9b5kdzpqvw1fxe](http://www.mediafire.com/?e9b5kdzpqvw1fxe)
## Post #426
- Username: JK88
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Mon May 21, 2012 10:15 am
- Post datetime: 2013-01-23T15:19:20+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from TRDaz
>
> Is it possible to get 3DS models at all? I would have loved to get Raidou and Shiden from DOA:D

> Reply from viperzerofsx
>
>  I actually don't think anyone has hacked the 3ds yet but I would love to be wrong about that

Actually seems that the thing is already happened:

[http://www.youtube.com/watch?v=DVWIkC7qZuQ](http://www.youtube.com/watch?v=DVWIkC7qZuQ)

[http://www.youtube.com/watch?v=mDbe3v9Rhjc](http://www.youtube.com/watch?v=mDbe3v9Rhjc)

[http://www.youtube.com/watch?v=_PjaDhR3w_Q](http://www.youtube.com/watch?v=_PjaDhR3w_Q)
## Post #427
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2013-01-24T02:33:39+00:00
- Post Title: Re: Dead or Alive series formats and tools

.. thats the xbox version, NOT the 3DS version. you can tell from the button icons and the xbox menu lol
## Post #428
- Username: TRDaz
- Rank: mega-veteran
- Number of posts: 215
- Joined date: Sun Sep 25, 2011 2:06 am
- Post datetime: 2013-01-25T20:51:20+00:00
- Post Title: Re: Dead or Alive series formats and tools

So im using GreedXplorer to open DOAU models, but how would I get to export them? I only need them in obj format.
## Post #429
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-03-29T19:56:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

tecmo360texturesExtractor.py

tecmo360texturesExtractor will extract textures from xbox360 tecmo texture container files such as:
doa5=TMC,SPR,--P,--H,TNF; ng3=TNF,TTG,IBL,GMD,EFFMC; doa4=TPR,XPR,C,CT; doax2=TPR;

this script requires python 3.2.3 installed on your computer(at least for me 3.3.0 didn't work):[http://www.python.org/download/releases/3.2.3/](http://www.python.org/download/releases/3.2.3/)

you can need a good dds viewer, here you can find one [http://www.nvidia.ru/object/windows_texture_viewer.html](http://www.nvidia.ru/object/windows_texture_viewer.html), it's called "windows texture viewer"
## Post #430
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-03-30T01:45:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> tecmo360texturesExtractor.py

tecmo360texturesExtractor will extract textures from xbox360 tecmo texture container files such as:
doa5=TMC,SPR,--P,--H,TNF; ng3=TNF,TTG,IBL,GMD,EFFMC; doa4=TPR,XPR,C,CT; doax2=TPR;

this script requires python 3.2.3 installed on your computer(at least for me 3.3.0 didn't work):http://www.python.org/download/releases/3.2.3/

you can need a good dds viewer, here you can find one http://www.nvidia.ru/object/windows_texture_viewer.html, it's called "windows texture viewer"

Use noesis to convert the textures regarding the nvidia windows texture viewer.
## Post #431
- Username: porimac
- Rank: VIP member
- Number of posts: 109
- Joined date: Wed Sep 08, 2010 11:46 pm
- Post datetime: 2013-03-30T02:10:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

Edit: Disregard this post
## Post #432
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-03-30T02:28:58+00:00
- Post Title: Re: Dead or Alive series formats and tools

It can't.
## Post #433
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-03-30T06:12:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> Use noesis to convert the textures regarding the nvidia windows texture viewer.
my tool(tecmo360texExtractor) vs noesis:
1 noesis will unpack any dds texture to ARGB32, my tool is keeping the compression, this "may be" good for resulting size (or quality if you'll decide to re-compress them to the initial size)

2 noesis can't handle the L8 format used in sprites(unbundler will crash on L8 files with width not divisible by 2)

3 noesis don't have scripts for "ALL" tecmo texture file types for doa5, doa4, ng3, "doax2(tpr only)"

4 using this tool you can extract all files found in a folder to separate folders for each file

5 if you have a xbox360 file that starts with "XPR2" magic word:
a)open the script in a text editor 
b)add the extension of your file to the "extensions" list
c)save the script
d)now the script can extract textures from your file

P.S. when i reversed the "xbox360 deswizzle function" for my blender script i decided to make this tool, then i thought that it can be useful for anyone, so i added a gui and delivered
## Post #434
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-03-30T07:10:52+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> Darko wrote:Use noesis to convert the textures regarding the nvidia windows texture viewer.
my tool(tecmo360texExtractor) vs noesis:
1 noesis will unpack any dds texture to ARGB32, my tool is keeping the compression, this "may be" good for resulting size (or quality if you'll decide to re-compress them to the initial size)

2 noesis can't handle the L8 format used in sprites(unbundler will crash on L8 files with width not divisible by 2)

3 noesis don't have scripts for "ALL" tecmo texture file types for doa5, doa4, ng3, "doax2(tpr only)"

4 using this tool you can extract all files found in a folder in separate folders for each file

5 if you have a xbox360 file that starts with "XPR2" magic word:
a)open the script in a text editor 
b)add the extension of your file to the "extensions" list
c)save the script
d)now the script can extract textures from your file

P.S. when i reversed the "xbox360 deswizzle function" for my blender script i decided to make this tool, then i thought that it can be useful for anyone, so i added a gui and delivered

The only issue is some DOA5 normal bumps are no correctly unswizzled :S
## Post #435
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-03-30T09:02:33+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> 
The only issue is some DOA5 normal bumps are no correctly unswizzled :Syes. volumetric textures, because of the z dimension, are untiled incorrectly, i think i need a third complex loop in the untiling function to handle them.
maybe if i would understand anything in my revers-engineered unswizzle function i would fix this 

also i extract cubic textures joined in one texture, though i can export them separately as unbundler does

is this possible to find any readable source code for xbox360 unswizzling? i have 'XDK' but i found a untiling code only in some dll compiled for powerpc(not even for x86)...
## Post #436
- Username: Kamillho
- Rank: veteran
- Number of posts: 84
- Joined date: Sun Jan 23, 2011 1:19 am
- Post datetime: 2013-03-30T19:54:20+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hey guys.

Somebody know file names of Kasumi outfits in DOA4?
## Post #437
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-03-30T21:48:49+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Kamillho
>
> Hey guys.

Somebody know file names of Kasumi outfits in DOA4?

What do you want to know?? Which file is a specific costume?? Because kasumi is everything beginning with kas.

KASAA, KASAB, etc... are heads with different hair styles.

Kas00, Kas01, etc... are costumes.
## Post #438
- Username: Kamillho
- Rank: veteran
- Number of posts: 84
- Joined date: Sun Jan 23, 2011 1:19 am
- Post datetime: 2013-03-30T21:53:40+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> Kamillho wrote:Hey guys.

Somebody know file names of Kasumi outfits in DOA4?

What do you want to know?? Which file is a specific costume?? Because kasumi is everything beginning with kas.

KASAA, KASAB, etc... are heads with different hair styles.

Kas00, Kas01, etc... are costumes.

Ooo shit! I dont have Kas00  Only base model  I checked chrthree_files and chrtwo_files and nothing 

Ok, got it
## Post #439
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-04-01T15:23:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

Can someone share a quick run down on extracting from DOAX2, I'd like to get files for swimsuits, items and volleyballs.  

Thanks.
## Post #440
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-04-01T15:36:59+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Can someone share a quick run down on extracting from DOAX2, I'd like to get files for swimsuits, items and volleyballs.  

Thanks.

Leave that to me and I'm sending you a PM.
## Post #441
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-04-03T04:57:26+00:00
- Post Title: Re: Dead or Alive series formats and tools

TMC praser and tmc noesis script are perfectly compatible with razor's edge.
## Post #442
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-04-05T06:21:58+00:00
- Post Title: Re: Dead or Alive series formats and tools

tecmo360texturesExtractor.py (click to download) - texture extractor for doax2, doa4, doa5, ng3 

minor update:
- correctly exporting cube textures
- fixed error in size calculation
- added a left behind doa4 format 'TDP'(models of rooms and avatars(minichars) for doa4 online lobby)
- added in beginning of the script default values for infile and outdir entries
. still no luck with volume texture unswizzling
## Post #443
- Username: zaykho
- Rank: mega-veteran
- Number of posts: 217
- Joined date: Fri Dec 03, 2010 8:20 pm
- Post datetime: 2013-04-05T12:48:13+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> tecmo360texturesExtractor.py (click to download) - texture extractor for doax2, doa4, doa5, ng3 

minor update:
- correctly exporting cube textures
- fixed error in size calculation
- added a left behind doa4 format 'TDP'(models of rooms and avatars(minichars) for doa4 online lobby)
- added in beginning of the script default values for infile and outdir entries
. still no luck with volume texture unswizzling

Thank's bony :p
## Post #444
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-04-05T15:04:55+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> tecmo360texturesExtractor.py (click to download) - texture extractor for doax2, doa4, doa5, ng3 

minor update:
- correctly exporting cube textures
- fixed error in size calculation
- added a left behind doa4 format 'TDP'(models of rooms and avatars(minichars) for doa4 online lobby)
- added in beginning of the script default values for infile and outdir entries
. still no luck with volume texture unswizzling

Thank you.  

Since I'm still learning extraction on the older games...
Is this for Noesis? & If so which data containers is it for? the usual .tmc/.tmcl?
## Post #445
- Username: porimac
- Rank: VIP member
- Number of posts: 109
- Joined date: Wed Sep 08, 2010 11:46 pm
- Post datetime: 2013-04-05T21:28:27+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> tecmo360texturesExtractor.py (click to download) - texture extractor for doax2, doa4, doa5, ng3 

minor update:
- correctly exporting cube textures
- fixed error in size calculation
- added a left behind doa4 format 'TDP'(models of rooms and avatars(minichars) for doa4 online lobby)
- added in beginning of the script default values for infile and outdir entries
. still no luck with volume texture unswizzling
Thank you b0ny, 
I use your script to extract textures from HITOMI_COS_002.TMC of DOA5.
but some part of the normal-map was fragmented (same as noesis)
[http://i.imgur.com/d6NHEWQ.jpg](http://i.imgur.com/d6NHEWQ.jpg)
[http://i.imgur.com/yufIBsN.jpg](http://i.imgur.com/yufIBsN.jpg)
Would you mind doing fix it?

SOLVED!! thanks b0ny!!
## Post #446
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-04-05T23:46:21+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from porimac
>
> b0ny wrote:tecmo360texturesExtractor.py (click to download) - texture extractor for doax2, doa4, doa5, ng3 

minor update:
- correctly exporting cube textures
- fixed error in size calculation
- added a left behind doa4 format 'TDP'(models of rooms and avatars(minichars) for doa4 online lobby)
- added in beginning of the script default values for infile and outdir entries
. still no luck with volume texture unswizzling
Thank you b0ny, 
I use your script to extract textures from HITOMI_COS_002.TMC of DOA5.
but some part of the normal-map was fragmented (same as noesis)
http://i.imgur.com/d6NHEWQ.jpg
http://i.imgur.com/yufIBsN.jpg
Would you mind doing fix it?

Volumetric Normal Bumps... not yet supported.
## Post #447
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-04-08T07:22:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

tecmo360texturesExtractor VERSION 1.2 (click to download) - texture extractor for doax2, doa4, doa5, ng3 

changes:
- correctly exporting volume textures(for now - doa5 only)
- added in beginning of the script "convert_volumetric_texture_to_2D" option, which when set to true makes visible the wet layer(for preview)
(open this script in a text editor to set the additional options)

please report any bugs
to run this tool(script) install python 3.2.3 from: http://www.python.org/ftp/python/3.2.3 (maybe you can use the latest version)

[update]
fixed the link to the extractor
## Post #448
- Username: tcl36478655
- Rank: beginner
- Number of posts: 34
- Joined date: Mon Apr 08, 2013 9:22 am
- Post datetime: 2013-04-08T10:49:35+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> tecmo360texturesExtractor VERSION 1.2 (click to download) - texture extractor for doax2, doa4, doa5, ng3 

changes:
- correctly exporting volume textures(for now - doa5 only)
- added in beginning of the script "convert_volumetric_texture_to_2D" option, which when set to true makes visible the wet layer(for preview)
(open this script in a text editor to set the additional options)

please report any bugs
to run this tool(script) install python 3.2.3 from: http://www.python.org/ftp/python/3.2.3 (maybe you can use the latest version)

[update]
fixed the link to the extractor

thank you,b0ny.
i found it has little mistake about kok_03_base2.dds([http://rghost.net/45135296](http://rghost.net/45135296)) of KOKORO_COS_06.
and is it wrong that DXT5 512*1024 will change to 1024*512?
## Post #449
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-04-08T15:38:39+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> tecmo360texturesExtractor VERSION 1.2 (click to download) - texture extractor for doax2, doa4, doa5, ng3 

changes:
- correctly exporting volume textures(for now - doa5 only)
- added in beginning of the script "convert_volumetric_texture_to_2D" option, which when set to true makes visible the wet layer(for preview)
(open this script in a text editor to set the additional options)

please report any bugs
to run this tool(script) install python 3.2.3 from: http://www.python.org/ftp/python/3.2.3 (maybe you can use the latest version)

[update]
fixed the link to the extractor

Bony, can you add support for doa5 textures packs (*.tex)?? some have volumetric textures
## Post #450
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-04-09T19:14:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> 
please report any bugs
to run this tool(script) install python 3.2.3 from: http://www.python.org/ftp/python/3.2.3 (maybe you can use the latest version)

[update]
fixed the link to the extractor

Thank you for posting this and explaining it. I didn't realize the script would run stand alone.  Nice work.  Very helpful for the extra textures.
## Post #451
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-04-09T21:48:57+00:00
- Post Title: Re: Dead or Alive series formats and tools

An exe version of b0ny's script in case you're having problems:

[http://www15.zippyshare.com/v/58377750/file.html](http://www15.zippyshare.com/v/58377750/file.html)
## Post #452
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-04-10T15:08:21+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from tcl36478655
>
> 
i found it has little mistake about kok_03_base2.dds(http://rghost.net/45135296) of KOKORO_COS_06.
and is it wrong that DXT5 512*1024 will change to 1024*512?that's strange, - this texture is exported perfectly for me. are you using version 1.2? are you using windows? 
anyone else confirming this problem?

> Reply from Darko
>
> 
Bony, can you add support for doa5 textures packs (*.tex)?? some have volumetric texturesmaybe in the next iteration. the thing is that this tool is compatible with latest simpleDoa5Unpacker and already has support for "*.tex" called here: "*.--H"

> Reply from Darko
>
> An exe version of b0ny's script in case you're having problems:
http://www15.zippyshare.com/v/58377750/file.htmlare you a wizard? how do you do that.
can you please add the initial python script to your archive with the 'exefied' version, just in case(for multiplatform).

right now i'm in the weird part of 'modding': i decided to add support for NG2, and found that there is no good extractor for it. i found the names inside the xex and they are connected to data in "load_img.bin" but i can't understand what is the second value(the first value is the file type), and how is this info connected to the *.ng2 files.
any help is appreciated
## Post #453
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-04-10T16:51:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> tcl36478655 wrote:
i found it has little mistake about kok_03_base2.dds(http://rghost.net/45135296) of KOKORO_COS_06.
and is it wrong that DXT5 512*1024 will change to 1024*512?that's strange, - this texture is exported perfectly for me. are you using version 1.2? are you using windows? 
anyone else confirming this problem?
Darko wrote:
Bony, can you add support for doa5 textures packs (*.tex)?? some have volumetric textures maybe in the next iteration. the thing is that this tool is compatible with latest simpleDoa5Unpacker and already has support for "*.tex" called here: "*.--H"
Darko wrote:An exe version of b0ny's script in case you're having problems:
http://www15.zippyshare.com/v/58377750/file.htmlare you a wizard? how do you do that.
can you please add the initial python script to your archive with the 'exefied' version, just in case(for multiplatform).

right now i'm in the weird part of 'modding': i decided to add support for NG2, and found that there is no good extractor for it. i found the names inside the xex and they are connected to data in "load_img.bin" but i can't understand what is the second value(the first value is the file type), and how is this info connected to the *.ng2 files.
any help is appreciated

Lol, I'm not a wizzard a little 13 years old kid showed me how to do that:

[https://www.youtube.com/watch?v=XHcDHSW ... Ug&index=1](https://www.youtube.com/watch?v=XHcDHSWRCRQ&list=FLnMmJ_SMfO3JvQkwGWmMhUg&index=1)

But yeah, I can do the build for you with the first script.

Edit: the executable version of your first script:

[http://www48.zippyshare.com/v/48282565/file.html](http://www48.zippyshare.com/v/48282565/file.html)

The 1.2 is on my skydrive:

[https://skydrive.live.com/#cid=FFBE4E57 ... 49FCBE!177](https://skydrive.live.com/#cid=FFBE4E570949FCBE&id=FFBE4E570949FCBE!177)
## Post #454
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-04-10T17:13:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> I can do the build for you with the first script.i'm not strong at english - by initial script, i meant the python script you converted, to put it in the archive with the exe. to be there, just in case, to run on linux and for source code.
not like this really matters...
i'm confused
## Post #455
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-04-10T18:10:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> Darko wrote:I can do the build for you with the first script.i'm not strong at english - by initial script, i meant the python script you converted, to put it in the archive with the exe. to be there, just in case, to run on linux and for source code.
not like this really matters...
i'm confused

Ok ok hehehe.
## Post #456
- Username: tcl36478655
- Rank: beginner
- Number of posts: 34
- Joined date: Mon Apr 08, 2013 9:22 am
- Post datetime: 2013-04-11T14:59:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> Darko wrote:I can do the build for you with the first script.i'm not strong at english - by initial script, i meant the python script you converted, to put it in the archive with the exe. to be there, just in case, to run on linux and for source code.
not like this really matters...
i'm confused
yes i use ver 1.2 and Windows 7 x64.
## Post #457
- Username: porimac
- Rank: VIP member
- Number of posts: 109
- Joined date: Wed Sep 08, 2010 11:46 pm
- Post datetime: 2013-04-15T21:01:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

b0ny, I found a trouble again..
When extract KASUMI_DLC_006.TMC(Bunny DLC) of DOA5
[http://i.imgur.com/3fX5E7F.jpg](http://i.imgur.com/3fX5E7F.jpg)
The DDS which cannot be decoded is extracted.
## Post #458
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-04-16T13:55:34+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from porimac
>
> b0ny, I found a trouble again..
When extract KASUMI_DLC_006.TMC(Bunny DLC) of DOA5
http://i.imgur.com/3fX5E7F.jpg
The DDS which cannot be decoded is extracted.

Did you edit the script to convert volumetric maps?? Because the script has no problems to convert those maps. Even if those maps are ATI2 dds.
## Post #459
- Username: porimac
- Rank: VIP member
- Number of posts: 109
- Joined date: Wed Sep 08, 2010 11:46 pm
- Post datetime: 2013-04-16T14:58:31+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> Even if those maps are ATI2 dds.
Oh thanks, I could open that the dds.
[http://i.imgur.com/UuDXDQW.png](http://i.imgur.com/UuDXDQW.png)
but, it fragmented...make sense?
## Post #460
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-04-16T20:11:12+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from porimac
>
> Darko wrote:Even if those maps are ATI2 dds.
Oh thanks, I could open that the dds.
http://i.imgur.com/UuDXDQW.png
but, it fragmented...make sense?

Nope, It didn't convert the volumetric map.

Download the executable version I made, It has the conversion option turned on as deffault.

[https://skydrive.live.com/#cid=FFBE4E57 ... 49FCBE!177](https://skydrive.live.com/#cid=FFBE4E570949FCBE&id=FFBE4E570949FCBE!177)
## Post #461
- Username: porimac
- Rank: VIP member
- Number of posts: 109
- Joined date: Wed Sep 08, 2010 11:46 pm
- Post datetime: 2013-04-16T20:46:51+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> 
Nope, It didn't convert the volumetric map.

Download the executable version I made, It has the conversion option turned on as deffault.

https://skydrive.live.com/#cid=FFBE4E57 ... 49FCBE!177
Thanks! solved!
## Post #462
- Username: leidoa
- Rank: n00b
- Number of posts: 10
- Joined date: Sun Dec 18, 2011 9:53 pm
- Post datetime: 2013-04-28T23:02:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

i want doa2 ultimate costume for doa3 
and can we make doa3 unplayable stages playable like the final stage when you fight genra ?? plz help 
_____________
and this one too
[http://image.gamespotcdn.net/gamespot/i ... een039.jpg](http://image.gamespotcdn.net/gamespot/images/screenshots/e3_2001/vg/xbox/doa3/deadoralive3_790screen039.jpg)
## Post #463
- Username: aagems
- Rank: advanced
- Number of posts: 75
- Joined date: Thu May 31, 2012 1:07 am
- Post datetime: 2013-05-19T20:10:10+00:00
- Post Title: Re: Dead or Alive series formats and tools

Can anybody help me?i had a problem with doa paradise animation. I try follow fatduck animation fix video tutorial,but im still failed getting proper hand position like i saw in fatduck video. I try rename "lfore_twist" to "lshld_twist" and click copy animation button and select "lshld" but the arm still look weird. Can anybody give step by step tutorial using picture (if can), since fatduck video had no sound. All help i appreciate
## Post #464
- Username: zaykho
- Rank: mega-veteran
- Number of posts: 217
- Joined date: Fri Dec 03, 2010 8:20 pm
- Post datetime: 2013-05-19T22:21:51+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from aagems
>
> Can anybody help me?i had a problem with doa paradise animation. I try follow fatduck animation fix video tutorial,but im still failed getting proper hand position like i saw in fatduck video. I try rename "lfore_twist" to "lshld_twist" and click copy animation button and select "lshld" but the arm still look weird. Can anybody give step by step tutorial using picture (if can), since fatduck video had no sound. All help i appreciate

Have you downloaded the latest Fatimporter ? I know they are a Fatimporter updated specially for fixing animation on DOAP.
Sorry if I don't upload it on my mediafire its because Fatduck say:

> You CAN NOT RE-DISTRIBUTE the program!
>
> - if you are not getting it from Xentax or my Chinese Game Research forum. Someone had already beach my rule!

This is why I only upload Video tutorial of FatImporter, and not the program itself.
And I always respect rules of good people, so you will need to dig here --> [viewtopic.php?f=33&t=7901](http://forum.xentax.com/viewtopic.php?f=33&t=7901)
## Post #465
- Username: aagems
- Rank: advanced
- Number of posts: 75
- Joined date: Thu May 31, 2012 1:07 am
- Post datetime: 2013-05-20T20:17:13+00:00
- Post Title: Re: Dead or Alive series formats and tools

yes,i've downloaded fat importer v1.5 season 4. or maybe i use 3dsmax 9 so the problem occur?Maybe i take your advice and ask this problem in fat importer thread.thanks anyway
## Post #466
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-05-24T02:31:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

For any of you have had lengthy experience working the extractors & formats...

How do I inject a texture back into a .tmcl?  The latest python script exports them with their proper names, but I was under the impression that I still needed them in the ____DXT5 etc. naming convention.  I'm saving to a .dds with the same compression listed from the python extractor, but I still get an 'incorrect compression' type when I attempt to re-inject the texture through 3dsmax. 

Suggestions appreciated, Thanks!
## Post #467
- Username: tcl36478655
- Rank: beginner
- Number of posts: 34
- Joined date: Mon Apr 08, 2013 9:22 am
- Post datetime: 2013-05-24T07:11:21+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> For any of you have had lengthy experience working the extractors & formats...

How do I inject a texture back into a .tmcl?  The latest python script exports them with their proper names, but I was under the impression that I still needed them in the ____DXT5 etc. naming convention.  I'm saving to a .dds with the same compression listed from the python extractor, but I still get an 'incorrect compression' type when I attempt to re-inject the texture through 3dsmax. 

Suggestions appreciated, Thanks!

seem that import script of 3dsmax also export the dds liked 0x00020000.dds~
## Post #468
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-05-24T12:30:35+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from tcl36478655
>
> Protocol X27 wrote:For any of you have had lengthy experience working the extractors & formats...

How do I inject a texture back into a .tmcl?  The latest python script exports them with their proper names, but I was under the impression that I still needed them in the ____DXT5 etc. naming convention.  I'm saving to a .dds with the same compression listed from the python extractor, but I still get an 'incorrect compression' type when I attempt to re-inject the texture through 3dsmax. 

Suggestions appreciated, Thanks!

seem that import script of 3dsmax also export the dds liked 0x00020000.dds~

That's what I initially thought based on mariokart's tutorial, but I have received conflicting feedback.  The video mentions that it doesn't work in the newer script as confirmed by someone else.  I also tried it with the the script and it fails before doing anything.  I don't know anything about max scripts. 

Do you have a working version?

The method to me doesn't matter if there's an alternate work around to perserve the compression or get the expected file name for injection, etc. 

Thanks
## Post #469
- Username: tcl36478655
- Rank: beginner
- Number of posts: 34
- Joined date: Mon Apr 08, 2013 9:22 am
- Post datetime: 2013-05-25T17:07:51+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> tcl36478655 wrote:Protocol X27 wrote:For any of you have had lengthy experience working the extractors & formats...

How do I inject a texture back into a .tmcl?  The latest python script exports them with their proper names, but I was under the impression that I still needed them in the ____DXT5 etc. naming convention.  I'm saving to a .dds with the same compression listed from the python extractor, but I still get an 'incorrect compression' type when I attempt to re-inject the texture through 3dsmax. 

Suggestions appreciated, Thanks!

seem that import script of 3dsmax also export the dds liked 0x00020000.dds~

That's what I initially thought based on mariokart's tutorial, but I have received conflicting feedback.  The video mentions that it doesn't work in the newer script as confirmed by someone else.  I also tried it with the the script and it fails before doing anything.  I don't know anything about max scripts. 

Do you have a working version?

The method to me doesn't matter if there's an alternate work around to perserve the compression or get the expected file name for injection, etc. 

Thanks

maybe you need it~
[Doa5 import.rar](https://xentaxbackup.github.io/file/6430_Doa5 import.rar)
## Post #470
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-05-27T15:40:32+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from tcl36478655
>
> 

maybe you need it~

Oh my goodness... That was it!! Thank you, thank you, thank you.     

Given that all links I see and files that people have sent me are to the newer import script which hasn't worked.  I couldn't find the older working version.
## Post #471
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-05-31T13:47:57+00:00
- Post Title: Re: Dead or Alive series formats and tools

plugins for importing doa4, doa5/ng3 to blender

"dead or alive 5"/"ninja gaiden 3" blender importer(fix: handle the texture index -1)
"dead or alive 4" blender importer(new)
"dead or alive ultimate"/"dead or live online"/"dead or alive extreme" blender importer(update)
not always correctly importing the models.
planning a doax2 importer



doa4 uses some common things with doa2u. maybe it's possible to make a loose converter to play doa4 models in doao/doau... (like i already did with doa3 skins)
## Post #472
- Username: zaykho
- Rank: mega-veteran
- Number of posts: 217
- Joined date: Fri Dec 03, 2010 8:20 pm
- Post datetime: 2013-05-31T16:00:00+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> plugins for importing doa4, doa5/ng3 to blender

"dead or alive 5"/"ninja gaiden 3" blender importer(fix: handle the texture index -1)
"dead or alive 4" blender importer(new)
"dead or alive ultimate"/"dead or live online"/"dead or alive extreme" blender importer(update)
not always correctly importing the models.
planning a doax2 importer

doa4 uses some common things with doa2u. maybe it's possible to make a loose converter to play doa4 models in doao/doau... (like i already did with doa3 skins)

Execellent !

> planning a doax2 importer

please do it ! I remember how hard was it to fully export everything from noesis , then re-import in 3ds max......really a pain in the ass !
I hope we will be able to import everything easily, without need to re-position every  textures and model parts.


PS: Can I upload them to my Mediafire Folder ? If yes, I will stack them in .zip file with credits to you.
## Post #473
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-06-01T01:13:26+00:00
- Post Title: Re: Dead or Alive series formats and tools

Nice work on the importers, b0ny!  

Dead or Alive 5 Data Question:

Is there a way to get the process as to how the 'Alternate' Textures are extracted from the .--H, --HL files etc.  I can see roughly where the image is in Hex, but I notice that it still does not exactly match a re-swizzled image or match the file length if viewing the data in an extracted --HL file.  

I'd like to inject / paste an image back into one of the --HL files, but I know I don't have it swizzled correctly.
## Post #474
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-06-01T05:46:59+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from zaykho
>
> PS: Can I upload them to my Mediafire Folder ? If yes, I will stack them in .zip file with credits to you.also credits to xentax forum's users - found useful info in here. and please don't let them outdate.

> Reply from Protocol X27
>
> I'd like to inject / paste an image back into one of the --HL files, but I know I don't have it swizzled correctly.swizzling and unswizzling are different things. i created ["tecmo360texturesExtractorV12" tool](http://forum.xentax.com/viewtopic.php?p=84675#p84675) and reuse it's code for extracting/unswizzling.

if you want to swizzle you can use the same method the developers used: a tool called "bundler.exe". you can find it in xbox 360 sdk(XDK), and xbox 360 sdk can be found on "the pirate bay", and the info how to use this tool can be found in internets.

you're talking only about "--HL" files. are you able to inject in tmc(l)? is there a need of a tool that will inject textures in tecmo models?

----
i hope blender will get handling for normals in the next iteration and there will be no need in that many tricks to surpass blenders limitations

and thank you guys for cheering!



[edit]
[blender importers for team ninja games v2](http://rghost.ru/download/46423457/a0d6a0d6f9e70439b6e37fe11d0175f2623a5f99/blender%20importers%20for%20team%20ninja%20games%20v2.zip) click to download
plugins(version 2) for "blender 2.67"([http://www.blender.org](http://www.blender.org)) to import models from the following tecmo games:

+ "io_import_TMC-GMD.py"(v2)
 --- "dead or alive 5" xbox360
 --- "ninja gaiden 3" xbox360

+ "io_import_TPR-GMD.py"(v2)
 --- "dead or alive 4" xbox360
 --- "dead or alive extreme beach voleyball 2" xbox360
 --- "ninja gaiden 2" xbox360

+ "io_import_XPR-EMP.py"(v2)
 --- "dead or live 2 ultimate"(xbox1)
 --- "dead or live online"(pc)
 --- "dead or alive extreme beach voleyball"(xbox1)
+ "skeletons" - folder needed for xpr import. place it in "addons" along with the "io_import_XPR.py" to have the models rigged(assembled)

-no skeletons for doax2 and ng2
these importers are far from perfect, which is caused by many unknowns(at least for me) in these game formats.

[edit]
io_import_TMC-GMD.py (version 2.1)
fixed the skinning(weighting) for doa5 faces and ng3 models

in doa5 some character's heads have wrong weighting, i added an option, called "Fix head skinning", to the plugin panel. this option will fix the wrong weighting but will mess up the weighting for heads that have correct weighting(for example "ALPHA152_HAIR_001.tmc"), in that case you should uncheck that option

you'll need sometimes to parent some bones manually to make everything work right(sleeves for R_MOM_A.GMD)
## Post #475
- Username: qq99q1
- Rank: beginner
- Number of posts: 29
- Joined date: Mon Aug 01, 2011 2:51 pm
- Post datetime: 2013-06-03T07:24:43+00:00
- Post Title: Re: Dead or Alive series formats and tools

The tmc can't export  unable to do Mod = =
## Post #476
- Username: zaykho
- Rank: mega-veteran
- Number of posts: 217
- Joined date: Fri Dec 03, 2010 8:20 pm
- Post datetime: 2013-06-03T09:46:46+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> zaykho wrote:PS: Can I upload them to my Mediafire Folder ? If yes, I will stack them in .zip file with credits to you.also credits to xentax forum's users - found useful info in here. and please don't let them outdate.

Done.   

For the updating part, I can't ensure that I will be able to update everyday. This is why I write the date of the upload on the zip name.

Like this:  
TEAM NINJA - Blender Importer (v2.0) + (v2.1) -- (01-06-2013).zip

Here the link --> [http://www.mediafire.com/?sbd2c9r8ok3u3](http://www.mediafire.com/?sbd2c9r8ok3u3)


PS: b0ny, if there are any problems with the uploads, pm me.
## Post #477
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-06-03T18:39:51+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from qq99q1
>
> The tmc can't export  unable to do Mod = =

It's not focused to mod DOA5 but to get models only.
## Post #478
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-06-03T20:06:07+00:00
- Post Title: Re: Dead or Alive series formats and tools

mmm... I'm trying to import DOA5 heads and I have the same weights problem with the fix option enabled in blender.
## Post #479
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-06-04T14:20:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> 
Protocol X27 wrote:I'd like to inject / paste an image back into one of the --HL files, but I know I don't have it swizzled correctly.swizzling and unswizzling are different things. i created "tecmo360texturesExtractorV12" tool and reuse it's code for extracting/unswizzling.

if you want to swizzle you can use the same method the developers used: a tool called "bundler.exe". you can find it in xbox 360 sdk(XDK), and xbox 360 sdk can be found on "the pirate bay", and the info how to use this tool can be found in internets.

you're talking only about "--HL" files. are you able to inject in tmc(l)? is there a need of a tool that will inject textures in tecmo models?

Ah, I see, thanks for the clarification.  I probably have access to bundler already.  As far as the .tmc/l's injection, mariokart's 3dsmax script works pretty well for those, but it doesn't recognize the --HL files, so I was curious if it could be done manually (through Hex) 'IF' it were possible to get the modified image back into the same format.  

Another topic, I cannot seem to get Ayane's Cos 003 to import into 3dsmax correctly.  Or should I say, it will load, but it is not possible to inject anything back into it, because the object information that it reads is either incomplete or corrupted.  Has anyone worked with the 'TMC praser' script enough to know a possible work around for that?  Thanks
## Post #480
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-06-04T18:11:46+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> mmm... I'm trying to import DOA5 heads and I have the same weights problem with the fix option enabled in blender.
io_import_TMC-GMD.py (version 2.2)

fixed my fix now. following situation for doa5 faces:
akira, brad, hayabusa, rig, rtm006 - corrupted meshes for the face.
ayane_boss_face, kasumi_boss_face - the "Fix head skinning" option should be disabled for these files
other doa5 faces should work fine

i can't find the variable that tells the game if the weights order is straight or is reversed. if anyone knows the trick, a helping hand would be welcome.

[edit]
link updated. added a vertex group for "ninja gaiden 3" models that don't have one, now all accessories are attached to the body.
sorry for so many updates... 

zaykho
oh, in contrary - i'd suggest you to wait like a week before updating your files, coz i could release withing an hour "a fix, that will fix my fix, that where fixing something itself", and without that fix you could end up with a corrupted script in your directory
## Post #481
- Username: zaykho
- Rank: mega-veteran
- Number of posts: 217
- Joined date: Fri Dec 03, 2010 8:20 pm
- Post datetime: 2013-06-05T13:38:55+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> 

zaykho
oh, in contrary - i'd suggest you to wait like a week before updating your files, coz i could release withing an hour "a fix, that will fix my fix, that where fixing something itself", and without that fix you could end up with a corrupted script in your directory

Ok !

I will wait some days before uploading to Mediafire.   


----------------------------------------------------------------------------------------------------------------------

If I try to upload everything related to DOA into this mediafire folder, it's because I have tons of private message from people asking me where to download x or where to download y, so I decided to make a place where everybody can download everything easily and quickly, without browsing a billion of pages. :p

----------------------------------------------------------------------------------------------------------------------


[](http://www.hostingpics.net/viewer.php?id=549208DOA.png)


DOA5 - Tool v2.5 * UPDATE - 05/06/2013 *
----------------------------------------------------------------------------------------------------------
the v2.5 give you: 
- All Rip functionality: Characters, Stages, DLC and Demo.
- Latest update for the namelist. (thx xentax forum user)

This tool will extract/decrypt files of DOA5 and rename them automatically or manually
You just need to put the folder ( doa5_tool ) in the DOA5 folder OR the dlc "root" folder (where .bin and .lnk are) OR to just "browse" your folder for updating unknown names


Link to the tool -->
[http://www.mediafire.com/download/59mgx ... 250%29.zip](http://www.mediafire.com/download/59mgx9qpl539036/DOA5+-+Tool+%28v250%29.zip)

Link to the ultimate folder tool of DOA/NG -->
[http://www.mediafire.com/?sbd2c9r8ok3u3](http://www.mediafire.com/?sbd2c9r8ok3u3)

PS: This tool contains work from chroxx & others Xentax user.
## Post #482
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-06-05T14:32:35+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from zaykho
>
> 

PS: This tool contains work from chroxx, b0ny & others Xentax user.
i changed my mind - you can stop "crediting" my nickname.
i just realized i can't stand to see it anywhere 

without that square with credits it would look much better
## Post #483
- Username: zaykho
- Rank: mega-veteran
- Number of posts: 217
- Joined date: Fri Dec 03, 2010 8:20 pm
- Post datetime: 2013-06-05T14:55:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

Ok ! done. :p
## Post #484
- Username: debaser
- Rank: n00b
- Number of posts: 11
- Joined date: Wed May 02, 2012 6:24 pm
- Post datetime: 2013-06-05T16:27:54+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hi b0ny and great work...

about weights order flag... some time ago I played with mariokart64n 3ds script.
I remember FVF_TYPE was the key for managing weights order...

copied from the script hoping it will be helpful

...
fn Get_D3DDECLTYPE id= 
(
	case id of 
	(
		...
		0x002C23A5: #FLOAT2
		0x002A23B9: #FLOAT3
		0x001A23A6: #FLOAT4
		...
		0x00182886: #D3DCOLOR
		0x001A2286: #UBYTE4
		0x001A2086: #UBYTE4N
		...
		0x001A2187: #DEC4N
		...
		0x002A2190: #HEND3N
		...
		0x002C235F: #FLOAT16_2
		0x001A2360: #FLOAT16_4
	)
)
...

...
case fvf_table[c].type of 
(
	#FLOAT2: (val=[(readBEfloat l),(readBEfloat l)])
	#FLOAT3: (val=[(readBEfloat l),(readBEfloat l),(readBEfloat l)])
	#FLOAT4: (val=[(readBEfloat l),(readBEfloat l),(readBEfloat l),(readBEfloat l)])
	#HEND3N: (val=(readBE_HEND3N l))
	#UBYTE4N: (val=[((readbyte l #unsigned) / 255.0),((readbyte l #unsigned) / 255.0),((readbyte l #unsigned) / 255.0),((readbyte l #unsigned) / 255.0)])
	#UBYTE4: (val=[(readbyte l #unsigned),(readbyte l #unsigned),(readbyte l #unsigned),(readbyte l #unsigned)])
	#D3DCOLOR: (val=[(readbyte l #unsigned),(readbyte l #unsigned),(readbyte l #unsigned),(readbyte l #unsigned)])
	#DEC4N: (val=[(readbyte l #unsigned),(readbyte l #unsigned),(readbyte l #unsigned),(readbyte l #unsigned)])
	#FLOAT16_2: (val=[(readBEhfloat l),(readBEhfloat l)])
	#FLOAT16_4: (val=[(readBEhfloat l),(readBEhfloat l),(readBEhfloat l),(readBEhfloat l)])
	default: (print (fvf_table[c].type); messagebox("1 read now generic VERTEX TYPE!"); val=[0,0,0,0])
)
...


...
#BLENDWEIGHT: 
(
	--print #BLENDWEIGHT
	--o = pos + fvf_table[c].position
	--t = format "--current table:% OFFSET:% READ:%\n" c o fvf_table[c].type
	try
	(
		case fvf_table[c].type of 
		(
			#FLOAT2: (w1=val[1]; w2=val[2]; w3=0.0; w4=0.0)
			#FLOAT3: (w1=val[1]; w2=val[2]; w3=val[3]; w4=0.0)
			#FLOAT4: (w1=val[1]; w2=val[2]; w3=val[3]; w4=val[4]) --NG3--
			#UBYTE4N: (w1=val[4]; w2=val[3]; w3=val[2]; w4=val[1]) --DOA5 FACES
			default: (print fvf_table[c].type; messagebox("read now new weight VERTEX TYPE!"); w1=0.0; w2=0.0; w3=0.0; w4=0.0)
		)
	)
	catch
	(
		(
			print l; messagebox("WEIGHT ERROR!")
			w1=0.0; w2=0.0; w3=0.0; w4=0.0 
		)
	)
	#BLENDINDICES: 
	(
		--print #BLENDINDICES
		--o = pos + fvf_table[c].position
		--message = format "--current table:% OFFSET:% READ:%\n" c o fvf_table[c].type
		case fvf_table[c].type of 
		(
			#FLOAT4: 
			(
				b1=val[4]; b2=val[3]; b3=val[2]; b4=val[1]
			)
			#UBYTE4: 
			(
				b1=val[4]; b2=val[3]; b3=val[2]; b4=val[1]
			) --doa5 DLC bodies
			default: (print fvf_table[c].type; messagebox("read now new bone VERTEX TYPE!"); b1=0; b2=0; b3=0; b4=0)
		)
	)
...
## Post #485
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-06-06T05:01:55+00:00
- Post Title: Re: Dead or Alive series formats and tools

thank you debaser, i was really exhausted by this nuisance. so my mistake was the output of the decoding functions for compressed types?
i remember, when i was copying these decompressing functions from microsoft's site, i was wondering if the endianes could swap the order for decoded values.

so, just to clarify things, the pseudocode examples on microsoft's site are designed for the littleendian platform, and reading element by element those types that can be splitted to bytes, will violate the elements order if you change the endianes. so the solution is to read all compressed types entirely and extract elements by bitshifting? is that right? (in my case i can just reverse the output order for "UBYTE4", "UBYTE4N" and maybe "D3DCOLOR" types)

i'll fix that later. i'm happy i can throw away some crutches from my code
## Post #486
- Username: debaser
- Rank: n00b
- Number of posts: 11
- Joined date: Wed May 02, 2012 6:24 pm
- Post datetime: 2013-06-06T15:00:09+00:00
- Post Title: Re: Dead or Alive series formats and tools

Yes, it should be so. I didn't realize reversed order could have come out from 
bigendian encoding (those Lilliputians always give troubles). 
I just noticed weights must go step by step with indices, so the firsts, when had only one weight, should have been read from the last for that vertex_type. 
Personally I thought that it was just another format strangeness.

Anyway, shame on me I haven't try yet your script, but I think I'll wait till the next release now... 

Good work
## Post #487
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-06-07T16:01:11+00:00
- Post Title: Re: Dead or Alive series formats and tools

[io_import_TMC-GMD.py (version 2.3)](http://rghost.ru/download/46584497/75368eb450eee3db270053d8f8cd78486ecd001d/io_import_TMC-GMD.py) click to download
blender 2.67 importer for "Dead or Alive 5" and "Ninja Gaiden 3":
 - fixed the inversed order of xbox360 compressed data types(thanks to debaser for help)
 - added for doa5 the "Merge DoA5 Armatures" option, that will join the skeleton(armature) of the next imported doa5 bodypart to the previous one. lets say you're importing the head then the costume then the hair(in any order), this option will join them in one skeleton and will parent correctly bones(works only for one character in scene). if you don't need that just uncheck this option.

[debaser]
thanks again for replying to my cry for help
## Post #488
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-06-07T20:12:23+00:00
- Post Title: Re: Dead or Alive series formats and tools

Stupid question, is there a way to export fully textured models in fbx format from blender?? I tried and don't get materials.
## Post #489
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-06-09T14:48:20+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> Stupid question, is there a way to export fully textured models in fbx format from blender?? I tried and don't get materials.try asking this on a blender forum.


[simple doa5 unpacker version 4.2](http://rghost.ru/download/46645881/fe3b0c571067672a946e9838d23b47e67c75ef7a/simple_doa5_unpacker_v42.zip) click to download
 - even more names where restored. this time for motion files for characters
 - i found that the effect files with extention *.EFFMX and *.EFFMXL where named as *.TMC and *.TMCL(stg_gym.EFFMX = stg_gym.TMC; chr_alp.EFFMX = chr_alp.TMC). haven't fixed this, coz it's convenient that way

now with the motion files properly named, i hope to research some animation

[link updated]
 - 4.2: more names for motion files. a few restored and a lot of presumed(files i need for work)
## Post #490
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-06-21T14:43:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> 
simple doa5 unpacker version 4.2 click to download
 - even more names where restored. this time for motion files for characters
 - i found that the effect files with extention *.EFFMX and *.EFFMXL where named as *.TMC and *.TMCL(stg_gym.EFFMX = stg_gym.TMC; chr_alp.EFFMX = chr_alp.TMC). haven't fixed this, coz it's convenient that way

now with the motion files properly named, i hope to research some animation

[link updated]
 - 4.2: more names for motion files. a few restored and a lot of presumed(files i need for work)

Thanks for your ongoing work on this.   Glad to see your finding more files.  

I was looking to swap some of the animation files (MPM).   I noticed that in some cases files have identical file lengths.  As of right now the only way I know to find a file in Hex is using it's length.  If the lengths are the same I don't know if I'm updating the correct file or not.  Since the unpackers display the hex address (or at least doa5_tool does) while they are processing is there anyway to get the offsets for each file it dumps?  There are a lot of files in the chara_common, and the Windows cmd window will only display so many lines.  Any tips or techniques for getting those offsets would be appreciated. 

Thanks
## Post #491
- Username: zaykho
- Rank: mega-veteran
- Number of posts: 217
- Joined date: Fri Dec 03, 2010 8:20 pm
- Post datetime: 2013-06-24T00:10:40+00:00
- Post Title: Re: Dead or Alive series formats and tools

Updated the Mediafire Folders with the latest Blender Importer.

By the same time, I'm back on the DOAX HTML5, I'm importing now everything on html (every 3d objects) and making a html version of the original DOA menu....

I hope somebody will be able to export all animations of the DOAX game (the xbox 1 version), then, everybody will be able to play this game on every platform that support html5 and webgl.
## Post #492
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-06-26T07:18:58+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> 
Thanks for your ongoing work on this.   Glad to see your finding more files.  

I was looking to swap some of the animation files (MPM).   I noticed that in some cases files have identical file lengths.  As of right now the only way I know to find a file in Hex is using it's length.  If the lengths are the same I don't know if I'm updating the correct file or not.  Since the unpackers display the hex address (or at least doa5_tool does) while they are processing is there anyway to get the offsets for each file it dumps?  There are a lot of files in the chara_common, and the Windows cmd window will only display so many lines.  Any tips or techniques for getting those offsets would be appreciated. 

Thanks
swapping game files is more trivial than repacking huge lnk files - you could just edit the executable(default.xex), if you're ready to work with the xex tool i could help you dive in that thing. the idea is to edit the file table instead of editing the lnk archives.
i could create a tool -> that would help you find the offsets of needed files in table -> so you could swap their entries -> and the game would use the new file from it's modified "file table".(or maybe instead of a tool, a text file with offsets and description for the entire table would be enough).
so: unpacking with xex, hex editing, and packing back(not sure if this is necessary). tell me when you're ready...


or maybe, if there is a tool to edit the xbox 360 memory, you could use it to edit the executable directly in the memory without all that sh#t, you could create trainers for swapping costumes characters and stages(don't get to excited about this, this requires a lot of research to find where the stages are initialized).

> Reply from zaykho
>
> Updated the Mediafire Folders with the latest Blender Importer.

By the same time, I'm back on the DOAX HTML5, I'm importing now everything on html (every 3d objects) and making a html version of the original DOA menu....

I hope somebody will be able to export all animations of the DOAX game (the xbox 1 version), then, everybody will be able to play this game on every platform that support html5 and webgl.
cool
by posting some screenshots you could motivate yourself
and why not using doa paradise motion files exported with fat duck's exporter?

> io_import_XPR-EMP.py - a lil update. unswizzle argb and b8p8 textures and load random morphing states to scene(still many things to implement/fix for this importer)
## Post #493
- Username: zaykho
- Rank: mega-veteran
- Number of posts: 217
- Joined date: Fri Dec 03, 2010 8:20 pm
- Post datetime: 2013-06-26T12:19:51+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> 
zaykho wrote:Updated the Mediafire Folders with the latest Blender Importer.

By the same time, I'm back on the DOAX HTML5, I'm importing now everything on html (every 3d objects) and making a html version of the original DOA menu....

I hope somebody will be able to export all animations of the DOAX game (the xbox 1 version), then, everybody will be able to play this game on every platform that support html5 and webgl.
cool
by posting some screenshots you could motivate yourself

Better then that, I have already Lei Fang (from DOAX2) and the Sport Shop (partially finished) imported in a web page:

[http://www.mediafire.com/download/x0m3p ... _HTML5.zip](http://www.mediafire.com/download/x0m3p9c3b9fgf5x/DOA_HTML5.zip)
(for better performance, use Google Chrome)

When I will have more 3d objects imported and configured, I will create new a thread specially for this.   :p


> Reply from b0ny
>
> 
and why not using doa paradise motion files exported with fat duck's exporter?

Simply because I want to have the complete original game before mod it.

At first, I'm doing a re-build of the game exactly like it was and then, I make a modded version with HD texture + choice of the character generation (doa 3,4,5....).

This is why I need to do:
-DOAX
-DOAX2
-DOA Paradise
-DOA Pure (modded version :p )
## Post #494
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-06-27T04:44:00+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hey Bony, I hadn't reported this, but when I try to impor Helena Cos 02 and the head of the model I get this:
## Post #495
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-06-27T17:28:38+00:00
- Post Title: Re: Dead or Alive series formats and tools

zaykho
unfortunately my old radeon9550 ain't compatible with webgl 

doax, doax2, doap and doa5 have the same skeleton structure, plus you anyway convert the models to your own format, so there's just no sense to not use any animation on any model.
(doa 2/3/4 also use the same skeleton structure)

also how do you convert the models, maybe you need a special converter that will preserve the triangle strips - using triangle strips could increase the performance...

Darko
i didn't do it, team ninja did 
you can see that the mesh in the neck area is distorted and the skeleton is following it's shape.

io_import_TMC-GMD.py - fixed the wrong positions when assembling the doa5 skin parts

[edit]
hot fixed and reuploaded the doa5 importer
## Post #496
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-06-27T20:35:32+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> Protocol X27 wrote:
Thanks for your ongoing work on this.   Glad to see your finding more files.  

I was looking to swap some of the animation files (MPM).   I noticed that in some cases files have identical file lengths.  As of right now the only way I know to find a file in Hex is using it's length.  If the lengths are the same I don't know if I'm updating the correct file or not.  Since the unpackers display the hex address (or at least doa5_tool does) while they are processing is there anyway to get the offsets for each file it dumps?  There are a lot of files in the chara_common, and the Windows cmd window will only display so many lines.  Any tips or techniques for getting those offsets would be appreciated. 

Thanks
swapping game files is more trivial than repacking huge lnk files - you could just edit the executable(default.xex), if you're ready to work with the xex tool i could help you dive in that thing. the idea is to edit the file table instead of editing the lnk archives.
i could create a tool -> that would help you find the offsets of needed files in table -> so you could swap their entries -> and the game would use the new file from it's modified "file table".(or maybe instead of a tool, a text file with offsets and description for the entire table would be enough).
so: unpacking with xex, hex editing, and packing back(not sure if this is necessary). tell me when you're ready...

or maybe, if there is a tool to edit the xbox 360 memory, you could use it to edit the executable directly in the memory without all that sh#t, you could create trainers for swapping costumes characters and stages(don't get to excited about this, this requires a lot of research to find where the stages are initialized).

Thanks, that might be helpful.  I actually do know how to do swaps already, I have been doing that for the default.xex and chara_common.lnk.  I just didn't know how to find the indexes for some files.  I may have spoken incorrectly, I think it is the PHYD files that are similar in size like 47KB or something.  Because of that I didn't know if I was swapping the correct indexes.  I don't know what they do, but I was trying to find animation files at the time.  

If making the tool is of assistance to anyone else as well and not too much trouble, it's cool, but not something I'd trouble you over.    Right now, I'm getting frustrated trying to figure out how to get vertices from different models injected.  Some people know how, but I haven't been able to discover the full method yet.

Edit:
On another thought b0ny, if you're willing to help with a tool, injecting into those --HL, --C,--P image files would be helpful if you have knowledge of how to do that.  I still need to check out the bundler method that you mentioned early, but being able to inject those textures would be fantastic.
## Post #497
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-06-28T05:54:49+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> zaykho
unfortunately my old radeon9550 ain't compatible with webgl 

doax, doax2, doap and doa5 have the same skeleton structure, plus you anyway convert the models to your own format, so there's just no sense to not use any animation on any model.
(doa 2/3/4 also use the same skeleton structure)

also how do you convert the models, maybe you need a special converter that will preserve the triangle strips - using triangle strips could increase the performance...

Darko
i didn't do it, team ninja did 
you can see that the mesh in the neck area is distorted and the skeleton is following it's shape.

io_import_TMC-GMD.py - fixed the wrong positions when assembling the doa5 skin parts

[edit]
hot fixed and reuploaded the doa5 importer

Thanks.
## Post #498
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-06-29T13:59:55+00:00
- Post Title: Re: Dead or Alive series formats and tools

[tecmo360texturesExtractorV13](http://rghost.ru/download/47088907/031f5d029623090c5f7625139984dc3697dd4abf/tecmo360texturesExtractorV13.zip) - with injection functionality

Protocol X27
try injecting textures with this version of tecmo360textureextractor.
in this version i added an injection functionality which is a wrapper on "bundler.exe", so you have to have "bundler.exe" in the same folder
it still needs testing...

[edit]
[doa5filesrefs.ods](http://rghost.ru/download/47098914/f78818aa72d3e0d7c2e07ba4068da599bdb2e68a/doa5filesrefs.ods) - download this for swapping files in 'default.xex'(or in memory).   to swap a file, do this:
for example we want to swap kasumi's animation from the selection screen with ayane's. we have to swap two files "KASUMI_SELECT.mpm" and "KASUMI_SELECT.cam" with these "AYANE_SELECT.mpm" and "AYANE_SELECT.cam"

1. open the downloaded "doa5filesrefs.ods" in "Libre Office"

2. seach(ctrl+f) for "AYANE_SELECT.mpm" and get it's Offset (0xEA150 - this is the offset)

3. decrypt doa5 "default.xex" with xex tool and open it in a hex editor

4. go in the opened "default.xex" to "AYANE_SELECT.mpm" Offset from pt.2 (0xEA150)

5. copy 12 bytes from that offset(description bellow)
you'll see this: 82 16 27 D0 00 00 00 07 82 16 57 CC. (nameoffset, type, lnknameoffset)
every 4 bytes are a value: 0x821627D0, 0x00000007, 0x821657CC

6. search as in pt.2 for "KASUMI_SELECT.mpm" and get it's Offset (0xE9A9C)

7. go in the hex editor to "KASUMI_SELECT.mpm" Offset (0xE9A9C)

8. write here 12 bytes from pt.4, at this point swapping for 'mpm' files is done

9. do the same thing to swap the 'cam' files (points 2, 4, 5, 6, 7, 8 )

10. save the edited "default.xex" and encrypt it back with "xex tool"

11. put the encrypted "default.xex" with the game back on the disk, and see if kasumi's animation from the selection screen has changed to ayane's one


[edit]
i have a question, can anyone help me?
does the doa5 patch 1.03(with zack's island) bring a new "default.xex"?
## Post #499
- Username: tcl36478655
- Rank: beginner
- Number of posts: 34
- Joined date: Mon Apr 08, 2013 9:22 am
- Post datetime: 2013-06-30T16:22:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> 
i have a question, can anyone help me?
does the doa5 patch 1.03(with zack's island) bring a new "default.xex"?

you should encrypt default-done.xex then replace 0x000-0x45c0 from default.xex(original).
## Post #500
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-06-30T19:31:23+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from tcl36478655
>
> b0ny wrote:
i have a question, can anyone help me?
does the doa5 patch 1.03(with zack's island) bring a new "default.xex"?

you should encrypt default-done.xex then replace 0x000-0x45c0 from default.xex(original).
[edit]
seems like the files table is the same, and they hide the information for additional files like zack's island somewhere else...
## Post #501
- Username: tcl36478655
- Rank: beginner
- Number of posts: 34
- Joined date: Mon Apr 08, 2013 9:22 am
- Post datetime: 2013-07-01T04:17:27+00:00
- Post Title: Re: Dead or Alive series formats and tools

i'll pm you.
## Post #502
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-07-02T20:56:23+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> tecmo360texturesExtractorV13 - with injection functionality

Protocol X27
try injecting textures with this version of tecmo360textureextractor.
in this version i added an injection functionality which is a wrapper on "bundler.exe", so you have to have "bundler.exe" in the same folder
it still needs testing...

[edit]
doa5filesrefs.ods - download this for swapping files in 'default.xex'(or in memory).   to swap a file, do this:
for example we want to swap kasumi's animation from the selection screen with ayane's. we have to swap two files "KASUMI_SELECT.mpm" and "KASUMI_SELECT.cam" with these "AYANE_SELECT.mpm" and "AYANE_SELECT.cam"

1. open the downloaded "doa5filesrefs.ods" in "Libre Office"

2. seach(ctrl+f) for "AYANE_SELECT.mpm" and get it's Offset (0xEA150 - this is the offset)

* snip *

[edit]
i have a question, can anyone help me?
does the doa5 patch 1.03(with zack's island) bring a new "default.xex"?

Thank you, that will give me a bunch of stuff to try. 

I have successfully swapped select animations before.  However, changing the select.cam crashes when doing a swap.  If the .ods file has the offsets though, that will be a huge help too.   Have you by chance discovered which .mpm files store the in game moves? 

tcl's suggestion is correct about default.xex with the patch.  Just need to reencrypt after editing and then copy the initial block from the original one.
## Post #503
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-07-03T12:37:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

Protocol X27
tell me how it goes. also maybe you can test this:

when you go to an offset you see 3 values in 12 bytes: first 4 bytes are the "memory offsets" for the filename name; then you have 4 bytes for the file type; then you have 4 bytes for the lnk name "memory offset". you can try to change the offset to the right lnk name, for examle to save a dlc file directly in the dlc without packing it back to it's lnk container(this could fasten your workflow)

```
0x8216588c      NO_LINK
0x82165868      common
0x821657cc      chara_common
0x82165324      chara_rtm
0x82152d88      stage_common
0x82150884      stage_rtm
0x8214e09c      sprite_ingame
0x8214c334      sprite_common
0x82142b4c      rtm_common
0x82142888      message
0x8214ef5c      stage_debug
0x8216fae8      chara_dlccos_b
0x82170ad4      chara_dlccos_c
0x8216ec08      chara_dlccos_d
0x82170c80      chara_dlccos_e
0x82171200      chara_dlccos_f
0x82170d14      chara_dlccos_g
0x8216ff88      chara_dlccos_h
0x8217116c      chara_dlccos_i
0x82170bec      chara_dlccos_j
0x821710d4      chara_dlccos_none
```
you can go to the <Offset of the file>+8 offset for the needed file, and change 4 bytes of the offset to the LNK name to 0x8216588c for a common file - to pack it directly to the disk; or to 0x821710d4 for a dlc file - to pack it direcly in the dlc(without packing it to LNK)
<Offset of the file> = offset from the "doa5filesrefs.ods"

P.S. the game already have files with lnk set as NO_LINK or as chara_dlccos_none. all files that are on the game disk outside of lnk files have their lnk set to NO_LINK, and all the files in dlc's that are outside of the lnk file from that dlc have their lnk name set to  chara_dlccos_none
## Post #504
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-07-03T17:22:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks I haven't worked my way up to editing stuff in memory yet,  XD  Does seem like it would be helpful though. 

I finally installed LibreOffice and I am looking for the offsets.  

As you mentioned in your editing instructions...

"2. seach(ctrl+f) for "AYANE_SELECT.mpm" and get it's Offset (0xEA150 - this is the offset)"  

I'm not seeing the offset,  In column A this file is 6760, and Column B is 0x07.  How do I calculate the offset from those?   Or do I have an outdated doa5filerefs.ods? 

I tried the injector last night, so far it injected & extracted correctly. Now, I just need to test with the container put back into the game.

Edit: 
b0ny, the injector works for those alternate textures! Great work!
## Post #505
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-07-04T04:12:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> 
I'm not seeing the offset,  In column A this file is 6760, and Column B is 0x07.  How do I calculate the offset from those?   Or do I have an outdated doa5filerefs.ods? 
the file linked [in here](http://forum.xentax.com/viewtopic.php?p=86369#p86369) is the one with offsets. scroll at the beginning of the table to see the headers for columns. the column with offsets is the rightmost one with data of type "0xNNNNN", these offsets are for decrypted default.xex file. 

the "memory offsets" for the lnk i mentioned before are the offsets that you can see in the default.xex, you don't need to go on them - the idea is to swap them with other lnk offsets(from the given list) that will tell the game to search that file in other lnk or directly on the disk.

> Reply from Protocol X27
>
> 
I tried the injector last night, so far it injected & extracted correctly. Now, I just need to test with the container put back into the game.

Edit: 
b0ny, the injector works for those alternate textures! Great work!
yea you can inject in any files you can extract from! (doa and ninja gaiden)
inside dlc you can find the icons of the costumes, that you scroll in select screen when cosing the costume, these icons are saved in files with extension: "*.--P"(given by simple doa5 unpacker). you can swap the inside image with your own image of your modded costume...
## Post #506
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-07-04T12:39:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> 
the file linked in here is the one with offsets. scroll at the beginning of the table to see the headers for columns. the column with offsets is the rightmost one with data of type "0xNNNNN", these offsets are for decrypted default.xex file.

My bad, I didn't see the link and had just used one I already had on my PC.  

> Reply from b0ny
>
> 
yea you can inject in any files you can extract from! (doa and ninja gaiden)
inside dlc you can find the icons of the costumes, that you scroll in select screen when cosing the costume, these icons are saved in files with extension: "*.--P"(given by simple doa5 unpacker). you can swap the inside image with your own image of your modded costume...

That's Awesome!! I've wondered what it would take to change those.  That's huge for helping keep track of custom ones. 

Edit: 

#1) Updating the Icon image worked!!   That's a great tip. 

#2) I tried the .mpm & .cam swap as suggested and nothing changed.  Any time that I have done a swap it has always been of the index table in chara_common.lnk.  I'll swap the offset from one object to that of another, most of the time it will work.  Is there possibly anything that would need to be combined with this method plus the edit of the default.xex?  

What exactly are the offsets mentioned in the .xex?  When I check the lnk offset it is out of bounds of the chara_common.lnk.
## Post #507
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-07-05T09:57:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> b0ny wrote:
the file linked in here is the one with offsets. scroll at the beginning of the table to see the headers for columns. the column with offsets is the rightmost one with data of type "0xNNNNN", these offsets are for decrypted default.xex file. 

My bad, I didn't see the link and had just used one I already had on my PC.  
b0ny wrote:
yea you can inject in any files you can extract from! (doa and ninja gaiden)
inside dlc you can find the icons of the costumes, that you scroll in select screen when cosing the costume, these icons are saved in files with extension: "*.--P"(given by simple doa5 unpacker). you can swap the inside image with your own image of your modded costume...

That's Awesome!! I've wondered what it would take to change those.  That's huge for helping keep track of custom ones. 

Edit: 

#1) Updating the Icon image worked!!   That's a great tip.


> Reply from Protocol X27
>
> #2) I tried the .mpm & .cam swap as suggested and nothing changed.  Any time that I have done a swap it has always been of the index table in chara_common.lnk.  I'll swap the offset from one object to that of another, most of the time it will work.  Is there possibly anything that would need to be combined with this method plus the edit of the default.xex?
you don't need anything else, just swapping these 12 bytes in default.xex. try swapping costumes for a character - try to swap ayane costume 1 with ayane costume 3, for this you have to swap entries for "AYANE_COS_001.TMC"/"AYANE_COS_001.TMCL"  with  "AYANE_COS_003.TMC"/"AYANE_COS_003.TMCL". see if the costumes will swap...

> Reply from Protocol X27
>
> What exactly are the offsets mentioned in the .xex?  When I check the lnk offset it is out of bounds of the chara_common.lnk.
there are three values: "offset to filename", "file type id", "offset to file lnk name"
the offset called "offset to file lnk name" does literally what it's name says, the only thing is that this is a memory offset of the executable loaded in the xbox360 memory, to convert it to xex offset you have to do this:
offset to "chara_common" is 0x821657cc we have to add 0x5000 and subtract 0x82000000 so
0x821657cc + 0x5000  - 0x82000000 = 0x16A7CC, if you go to this offset in default.xex you literally see the text "chara_common". that's it...
the same for  "offset to filename", by swapping these three values you tell the game to look for the name of the new offset, and also in the new lnk name. then when it tries to load this file, it goes searches for these three values, it gets the filename from the "filename offset" and searches it in the lnk file with the name from the "lnk name offset"
## Post #508
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-07-06T21:30:27+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> 
you don't need anything else, just swapping these 12 bytes in default.xex. try swapping costumes for a character - try to swap ayane costume 1 with ayane costume 3, for this you have to swap entries for "AYANE_COS_001.TMC"/"AYANE_COS_001.TMCL"  with  "AYANE_COS_003.TMC"/"AYANE_COS_003.TMCL". see if the costumes will swap...

Okay, I tried this method on the costumes, and still nothing changed.  Either I'm missing something, or you perhaps did something else to get this method to work.  :-/

> Reply from b0ny
>
> 
there are three values: "offset to filename", "file type id", "offset to file lnk name"
the offset called "offset to file lnk name" does literally what it's name says, the only thing is that this is a memory offset of the executable loaded in the xbox360 memory, to convert it to xex offset you have to do this:
offset to "chara_common" is 0x821657cc we have to add 0x5000 and subtract 0x82000000 so
0x821657cc + 0x5000  - 0x82000000 = 0x16A7CC, if you go to this offset in default.xex you literally see the text "chara_common". that's it...
the same for  "offset to filename", by swapping these three values you tell the game to look for the name of the new offset, and also in the new lnk name. then when it tries to load this file, it goes searches for these three values, it gets the filename from the "filename offset" and searches it in the lnk file with the name from the "lnk name offset"

Thanks for explaining the formula. I didn't quite understand what was listed in the .ods.  So really the chara_common offset is just the file location itself and not the offsets 'within' the file.  I think those are the ones that I was looking for.  I notice the unpackers output those when dumping data.  Is there anyway to track those down?
## Post #509
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-07-07T06:11:43+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Okay, I tried this method on the costumes, and still nothing changed.  Either I'm missing something, or you perhaps did something else to get this method to work.  :-/pm me with your "default.xex" that didn't work with the swapped files, i'll have a look.

> Reply from Protocol X27
>
> Is there anyway to track those down?
simple doa5 unpacker ver 4.4 - added a more detailed log for unpacking. after unpacking look into "doa5_unpacker.log", first hex number is the offset of the "file info" in the lnk file (file info = {?,  file_offset, ?, file_size, ?, file_compressed_size})
## Post #510
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-07-09T02:17:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> pm me with your "default.xex" that didn't work with the swapped files, i'll have a look.

simple doa5 unpacker ver 4.4 - added a more detailed log for unpacking. after unpacking look into "doa5_unpacker.log", first hex number is the offset of the "file info" in the lnk file (file info = {?,  file_offset, ?, file_size, ?, file_compressed_size})

Awesome!! Exactly what I needed for that log file. That'll save me a ton of time, guesswork and trial & error.  

You've really been kickin' some butt with this stuff lately.  Thank you! 

I'll send you what I did with the default.xex later on, after I finish my current project, and reset it back to the basic one.
## Post #511
- Username: terios
- Rank: n00b
- Number of posts: 11
- Joined date: Sat Aug 14, 2010 10:24 am
- Post datetime: 2013-07-20T06:51:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

I'm sort of a newb but is it possible to extract all the contents of a .lnk file into a folder, modify whichever files I want (not just textures and models) and then rebuild the .lnk file with those modified files?

The injector mentioned on the previous page of the thread seems to be specifically for textures, unless I'm mistaken.

I want to see if it's possible to change move properties and reinsert them and see if my changes were successful. I've been able to confirm where the frame data is at least, within each character's .bin file, by searching for frame data in hex.

That's as far as I've gotten because I can't really test anything if I can't reinsert items.
## Post #512
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-07-21T03:58:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from terios
>
> I'm sort of a newb but is it possible to extract all the contents of a .lnk file into a folder, modify whichever files I want (not just textures and models) and then rebuild the .lnk file with those modified files?

The injector mentioned on the previous page of the thread seems to be specifically for textures, unless I'm mistaken.

I want to see if it's possible to change move properties and reinsert them and see if my changes were successful. I've been able to confirm where the frame data is at least, within each character's .bin file, by searching for frame data in hex.

That's as far as I've gotten because I can't really test anything if I can't reinsert items.

Check this video:

[https://www.youtube.com/watch?v=uXfie1kvVfk](https://www.youtube.com/watch?v=uXfie1kvVfk)

That's what you can do right now.
## Post #513
- Username: terios
- Rank: n00b
- Number of posts: 11
- Joined date: Sat Aug 14, 2010 10:24 am
- Post datetime: 2013-07-22T05:14:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

That video's a bit out-dated but still fairly useful, though it requires some digging around as it's 50 minutes long. It did give me an idea though, since I'm interested in simply changing character balance, why don't I just modify one of the title updates instead of the giant container files? Updates are in the same container format as DLC, so a lot of that video still applies. However, I seem to have hit a bit of a snag... I was able to extract the contents but these particular filenames are still scrambled since no one's figured them out yet. Any idea? 

patch_02_title_update.lnk contents:

{% raw %}
```
1T0@JA7L8191[A9{]8760122B
1T0@JI7L8191[8{]7KDM9840101D6
1T0@LKB8481891[39{]8I898082420C
3S0@L@R1D17IN1O]]20{E151A
50KG_JG1G1@2M3J513D{]{50HK1PH6AB1KK0
50KG_LG1G1@24I5151C{]{05GJ1P509A1JJ0
53KG_F1F@0M41B{]{7FI1P5BM10
56KG_F1F1@2MI515D{]{50HJ1P59A1J0
5DKG_G1G1@2M85151C{]{0B6GJ1PL7BC1KK0
5DKG_G1G@220M8B615C{]{5I0HJ1P6EDK2E2
5FK2_F1F1@22MI514C{]{50GJ1P1359A1JJ0
5HKH_G1G1@2DM4J613E{]{50IK1P359A1CK0
CTE72@@CC1[9]133181C049OO2HA1L19110413291422{5LG8
D30I_J1{GI[J1C{{E46105JG4H12Q4I5Q4GI1
D30I_J1{G[I9{{C7D687I1L4H1BH1EG
D30I_J1{G[I{{CD65IOH1MA7IG6TG4
D30I_J1{G[MJ{{DE75FJH19T76G15F0
D30I_JN2{HM[K{{CEF76KI19I36K3I
D30I_K1{GI[J1CC{{46104JG41Q341H5Q5FH1
D30I_K1{G[0IA{{D64EI8T6551E16D0
D30I_K1{G[I9A5{{D685I1L4AG001DF
D30I_K1{G[IA{{D64I0L85G51EOTF4
D30I_KN2{H3[J9B{{E74J8G3115J0G
D30_J10{FH[I1BB2410{HE41O1P46{H705FC1
D30_J10{F[H895A46{G1J49O1F7{3E9
D30_J10{F[H9A4{GNK8O17G38{PTG6
D30_J10{F[MIAB5{DH7O1S7647{37E3
D30_J1N0{GM[J9BC5{I7P1GE6{8K57
D32I_N{GM[JAB{{E74JN1L1AI47LJJ
D32I_N{G{{O{LC10DE58JJ18H970HH
D32I_{FH[I1BB{{46104ILG25K12Q5H5Q44I1
D32I_{F[H795{{C685HL2L35K1CH19G
D32I_{F[H9{{C64HL1OK1MB8IGOTJ4
D32I_{F[MIA{{D74EIM1K1AT87G15H0
D32I_{F{{J{K1DC1D35108IIG281Q4H4Q44I1
D32I_{F{{{J9A1B8C579HH2K35BG18G
D32I_{F{{{JA1BC57HH1OLA7HGOTJ4
D32I_{F{{{OKB1CD68EII19T76G15H0
D3FI_N{HM[{{MCEF77KE18H1036KH5
D3FI_{GI[J{{3EE26106JG7D1231Q0H5Q0H61
D3FI_{G[M{{LDE76FJD1841T70314F0
D3FI_{G[{{KBC7D488I1L4D1AG100F2
D3FI_{G[{{KCD66IOC1M9H1802OTH4
D3HI_N{HM[F1K{{DFG86KI190A6KII
D3HI_{GI[JF12D{{F47105JH8212Q0I4Q0II1
D3HI_{G[D1IA{{D8E697I1L4H1B00GG
D3HI_{G[D1I{{DE75IOHM2A73FGT23
D3HI_{G[ME1J{{EF85GJ218T60F14G0
H0KH_4G1G1@22I413B[]40EI1N1DH7{C1JJ0
H0KH_LH1H1@2J4141C[]04FJ1O1D6{4B1KJ0
H1KH_G1G1@2D3I913C[]40FI1N1E46{B1CI0
H3KH_G1G@031A[]5DH1N1B6{M10
H7KH_G1G1@2I414C[]40FI1N1C6{B1I0
HEKH_H1H1@274141B[]095EI1NK267{C1KJ0
HEKH_H1H@2207A514B[]4H0FI1N1E7{DK2E2
HGK2_G1G1@22I413B[]40EI1N10C46{B1JI0
```
{% endraw %}


Once I figure out who's who, I can start messing with frame data and all that nonsense and then work on reinserting it.

Where's MK when you need him? He's never on MSN any more... [It's your old pal](http://i.imgur.com/1sxEyVl.png)!
## Post #514
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-07-24T22:39:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hey bony, your tpr importer and your texture extractor have some problems while trying to import or extract some doa4 stages. The tpr importer works fine if I try to import a stage without loading textures.
## Post #515
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2013-07-26T01:19:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

oh hey man, long time.

yes I bought the official strategy guide to map the frame data, but never got that fair.. I got pooped out on the mesh format.

I haven't sniffed around in the title update, and I'm not even sure how to properly repack one. so can't offer and help, sorry.

edit
oh yeah I check my gmail almost daily so use that if you need a response right away.
mariokart64n(at)gmail(dot)com
## Post #516
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-07-30T09:26:22+00:00
- Post Title: Re: Dead or Alive series formats and tools

tecmo360texturesExtractorV13.zip
- added support for g8r8 dds textures in doa(4) models. also fixed the "Export all files found in the 'Input File' folder!" function.

blender importers for team ninja games v22.zip
- added support for g8r8 dds textures in doa(4) models.
- for doa2u/doao/doax added an importing morphing functionality(image bellow).

some morphing targets are part of the same animation so you have to scroll the converting slider to 1.000 for them consecutively - first for the one with the '0' in it's name, then for '1', then for '2'

importing tips:
- when importing doa files to blender is recommended to activate the system console from "Window"->"Toggle System Console" menu, this way you can see the importing process that can take long time when importing some big files, also pressing <Ctrl>+'C' in the console window(under windows os), will stop the importing process.
- unchecking the options with text saying "(can be slow)", in importing dialog, will speed up the importing process


> Reply from Darko
>
> Hey bony, your tpr importer and your texture extractor have some problems while trying to import or extract some doa4 stages. The tpr importer works fine if I try to import a stage without loading textures.
thanks for testing
## Post #517
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-07-30T14:47:32+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> tecmo360texturesExtractorV13.zip
- added support for g8r8 dds textures in doa(4) models. also fixed the "Export all files found in the 'Input File' folder!" function.

blender importers for team ninja games v22.zip
- added support for g8r8 dds textures in doa(4) models.
- for doa2u/doao/doax added an importing morphing functionality(image bellow).

some morphing targets are part of the same animation so you have to scroll the converting slider to 1.000 for them consecutively - first for the one with the '0' in it's name, then for '1', then for '2'

importing tips:
- when importing doa files to blender is recommended to activate the system console from "Window"->"Toggle System Console" menu, this way you can see the importing process that can take long time when importing some big files, also pressing <Ctrl>+'C' in the console window(under windows os), will stop the importing process.
- unchecking the options with text saying "(can be slow)", in importing dialog, will speed up the importing process

Darko wrote:Hey bony, your tpr importer and your texture extractor have some problems while trying to import or extract some doa4 stages. The tpr importer works fine if I try to import a stage without loading textures.
thanks for testing

No man, thanks you for the update .
## Post #518
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-08-03T05:35:11+00:00
- Post Title: Re: Dead or Alive series formats and tools

have anyone managed to swap heads or hair for doa5 characters?

just curious, coz i found the arrays patched by the blp(DLC) files inside the executable and this means you can't swap compressed files without patching this data(which *.blp does).
## Post #519
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2013-08-04T22:17:43+00:00
- Post Title: Re: Dead or Alive series formats and tools

not 100% sure
## Post #520
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-08-05T12:48:04+00:00
- Post Title: Re: Dead or Alive series formats and tools

doa5archivarius - for extracting and injecting in lnk files(DLC). keep the python script in the same directory with the 'doa5archivarius.dat' file.

took me a while to write this shit - now it needs testing...

> Reply from Lilstormcloud
>
> Hair swaps fine exactly like normal costumes according to mario's procedure. i would like confirmation to this, coz afaik you can swap files in non DLC lnk's only in one case - if the file you want to swap is not encrypted and it's bigger than the file you want to swap with, and this doesn't refer to hair, coz hair is tmc/tmcl, and those are encrypted by the game in most cases.
## Post #521
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2013-08-05T19:42:09+00:00
- Post Title: Re: Dead or Alive series formats and tools

I'm not sure what you were asking
## Post #522
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-08-06T05:44:53+00:00
- Post Title: Re: Dead or Alive series formats and tools

Lilstormcloud
thanks. i wasn't sure about my guess. now i can add this functionality to the archivarius tool...
## Post #523
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2013-08-06T07:09:12+00:00
- Post Title: Re: Dead or Alive series formats and tools

looks really useful
## Post #524
- Username: tcl36478655
- Rank: beginner
- Number of posts: 34
- Joined date: Mon Apr 08, 2013 9:22 am
- Post datetime: 2013-08-07T01:31:43+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> doa5archivarius - for extracting and injecting in lnk files(DLC). keep the python script in the same directory with the 'doa5archivarius.dat' file.

took me a while to write this shit - now it needs testing...
Lilstormcloud wrote:Hair swaps fine exactly like normal costumes according to mario's procedure.  i would like confirmation to this, coz afaik you can swap files in non DLC lnk's only in one case - if the file you want to swap is not encrypted and it's bigger than the file you want to swap with, and this doesn't refer to hair, coz hair is tmc/tmcl, and those are encrypted by the game in most cases.

so,this script could swap the littler encrypted compressed file? or do i need to rewrite .xex("e0"->"00") after using this tool?
and thanks for this tool,it's useful.
## Post #525
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-08-08T02:03:30+00:00
- Post Title: Re: Dead or Alive series formats and tools

As always nice work on the progress, b0ny?   By chance does your extractor/injector support injecting the normals for the body.  I know those are usually a different format for the volume texture.  

@LSC, hey!

@terios, good luck with the move related data.  I've only succeeded in swapping select screen animations so far, but it would be great if it were possible to crack the physics & animation data.
## Post #526
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2013-08-08T05:27:15+00:00
- Post Title: Re: Dead or Alive series formats and tools

holla
## Post #527
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-08-08T05:38:52+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> As always nice work on the progress, b0ny?   By chance does your extractor/injector support injecting the normals for the body.  I know those are usually a different format for the volume texture.if you mean the texture injector, then it's not a real tool it's just a wrapper for microsoft's xbox360 bundler.exe tool. and it can do everything bundler does. so if you mean the ATI2(DXN) textures(that can provide decent normal maps), than yes it's supported. but if you mean the volumetric normal maps(used for masking effects), then those are not supported(i hope i'll reverse the 3d swizzling and unswizzling functions to use them in my script to fix this)

> Reply from tcl36478655
>
> so,this script could swap the littler encrypted compressed file? or do i need to rewrite .xex("e0"->"00") after using this tool?
and thanks for this tool,it's useful.for now this tool only works with DLC archives. i'll add a possibility to also inject to non dlc archives but there are two ways of doing this:
 - one is to use xex tool to decrypt the default xex file then to patch the inside blp arrays, then to encrypt it back
 - other way is to add the blp changes to an existing blp file of a DLC pack that will always be accessible to the game, in case that the game couldn't access this dlc it would crash when trying to load the injected file. 

the thing is that the second method is a guess of mine, and i'm not sure about it. maybe someone could test it to make sure. to test it use two dlc's, open the blp file from the first dlc(blp1), copy a file entry, delete the entry you copied(ctrl+x), fix the number showing how much entries does this blp have, save blp1 and compile the dlc, then open blp2(second dlc), paste the entry copied from blp1 at the end of the file, fix the number of entries, save and compile. then try the skin that uses the copied file entry. if it works then the blp files are irrelevant to the content of the dlc archive and are used to patch the security check(that is mostly to be that way).

also i have a question - what happens when two dlc files contain the same costume, i've seen post's that this costume will conflict(?), but what does this mean?
## Post #528
- Username: tcl36478655
- Rank: beginner
- Number of posts: 34
- Joined date: Mon Apr 08, 2013 9:22 am
- Post datetime: 2013-08-08T06:27:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> dloman and proto    just need skarlet and we'll all be here lol
   

> Reply from b0ny
>
> 
also i have a question - what happens when two dlc files contain the same costume, i've seen post's that this costume will conflict(?), but what does this mean?
i don't think so, but i have only swapped costumes in common.lnk and make four be same.
or maybe you mean that two different costumes use the same offset. that seems to be conflict i have remembered.
## Post #529
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-08-08T07:14:33+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from tcl36478655
>
> 
b0ny wrote:
also i have a question - what happens when two dlc files contain the same costume, i've seen post's that this costume will conflict(?), but what does this mean?
i don't think so, but i have only swapped costumes in common.lnk and make four be same.
or maybe you mean that two different costumes use the same offset. that seems to be conflict i have remembered.
lets say you have two dlc:
costume_pack_A(Black Bunny Suits) containing AYANE_DLC_007, HITOMI_DLC_006, KASUMI_DLC_006,
and costume_pack_B(Bunny Swimsuits) containing LEIFANG_DLC_006, HITOMI_DLC_006, KASUMI_DLC_006. as you can see two of three costumes are duplicated, which dlc will be chosen by the game when you'll try to load HITOMI_DLC_006? will this make the costume conflict?
## Post #530
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2013-08-08T08:20:27+00:00
- Post Title: Re: Dead or Alive series formats and tools

meh
## Post #531
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-08-08T13:22:40+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> if you mean the texture injector, then it's not a real tool it's just a wrapper for microsoft's xbox360 bundler.exe tool. and it can do everything bundler does. so if you mean the ATI2(DXN) textures(that can provide decent normal maps), than yes it's supported. but if you mean the volumetric normal maps(used for masking effects), then those are not supported(i hope i'll reverse the 3d swizzling and unswizzling functions to use them in my script to fix this)

Thanks, I was referring to the last one, the 3D. No hurry, that will be helpful when you do get a chance.  

> Reply from tcl36478655
>
> Lilstormcloud wrote:dloman and proto    just need skarlet and we'll all be here lol
At least here, there are a lot less requests XD
## Post #532
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-08-09T08:22:57+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> game will load all duplicates in the files. The name of the costumes are irrelevant I guess. i don't get it, even if the names are irrelevant the game will open only a singe costume slot, indicated in the bcm file.
for example KASUMI_DLC_006.tmc have the same name for both "Black Bunny Suits" and "Bunny Swimsuits" and also have for both the same costume slot opened in the *.bcm file - 0505(first 5 is the character id 5=kasumi, and the second one is the costume slot 5(DLC_006 because numeration for those starts from 1). so the game can't load and use both coz both pretend to be in the same costume slot.

> Reply from Lilstormcloud
>
>  game loads all dlc, it's when two dlc containers are same that game crash?/freeze. (e.g black bunny and black bunny)i see

> Reply from Lilstormcloud
>
> For example I have kasumi cheerleader outfit in two separate dlc packs, I reinjected back into the cheerleader pack, and also a copy in the chinese outfit pack. both loads in game. Also we must have 1000s (maybe not that many) copies of lisa_dlc_4 injected in dlcs the main game and everywhere all of those runs fine in conjunction with each other. isn't kasumi cheerleader outfit an exclusive for the cheerleader pack? if you mean that it wasn't in there and that was you who injected it then you misunderstood me - i meant the costumes provided by default by tecmo, not swapped by someone(tecmo put the same costumes in different dlc)
## Post #533
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2013-08-09T08:52:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

Okay I think
## Post #534
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-08-09T13:42:19+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> ... which gets loaded ... I can test by making a slight alteration to one packs costume then trying to load both and see which one wins out. great


also does anyone know what does mean the third byte in the *.bcm file? i thought it's some kind of checksum, but i'm not sure, and i can't find where it's processed in the executable  i need to now what happens if this variable gets changed - will the dlc still work? if so then it could be possible to create your own dlc, using the yet unused slots for the character's outfits.

note:
first byte in bcm = dlc version, dlc_version_2 uses a modified file table with more costumes, thus the file positions from blp do not match the file positions in the doa5 file table preceding the version 1.03
the second byte in bcm = the amount of costume slots to prepare for this dlc
## Post #535
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2013-08-09T23:42:26+00:00
- Post Title: Re: Dead or Alive series formats and tools

Bunnies
## Post #536
- Username: tcl36478655
- Rank: beginner
- Number of posts: 34
- Joined date: Mon Apr 08, 2013 9:22 am
- Post datetime: 2013-08-10T03:04:23+00:00
- Post Title: Re: Dead or Alive series formats and tools

create a new dlc! how exciting!
## Post #537
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-08-12T18:31:04+00:00
- Post Title: Re: Dead or Alive series formats and tools

I don't remember if mario mentioned which file it was in, but the costume pack slots were predefined in the core game files.  

If that's true, I'd think that it'd be possible to substitute the whole DLC package via reference which might be handy to replace say the Santa ones with a 2nd Swimsuit one, but I think that would depend on any values using a relative reference or ensuring that package identifiers are properly renamed.
## Post #538
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-08-15T13:45:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

doa5archivarius version 1.1

added the possibility to inject in DVD's lnk files, for this you have to use the "xextool" to convert "default.xex" from the disk to "default.exe" -> put it in the same directory as the script -> restart -> inject the needed file -> convert the(patched) "default.exe" back to "default.xex"(using xextool) -> write the patched "default.xex" back to the disc along with the patched lnk file.(you also have to do a certain fix to "default.xex" to work with the 1.03 patch, search info on the forum about this fix)

test it, report troubles

Lilstormcloud thanks for testing

Protocol X27 separate costume slots are predefined, but not the whole dlc
## Post #539
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-08-16T15:12:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

Ah good to know. 

I'll have to check out that new injector.  I'm really digging the alternate texture capability now of your python one.  I've already updated at least 3 models with it, and using it for regular textures is a huge time saver over the swizzle method.
## Post #540
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2013-08-16T21:32:19+00:00
- Post Title: Re: Dead or Alive series formats and tools

thanks!
## Post #541
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-08-17T19:12:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Ah good to know. 

I'll have to check out that new injector.  I'm really digging the alternate texture capability now of your python one.  I've already updated at least 3 models with it, and using it for regular textures is a huge time saver over the swizzle method.sadly i couldn't find any way to visualize the dds textures without using any additional python addons.

when  injecting a texture manually you don't have to necessarily swizzle it - you can swap the swizzled texture with an unswizzled one, then replace the dds swizzled type with it's unswizzled equivalent,

for example if you have a swizzled dxt1 texture and you swap it manually with an unswizzled one you should find the compression id in the xpr info(0x52 if i'm not mistaken) and swap it with the id of an unswizzled dxt1, "D3DFMT_DXT1" -> "D3DFMT_LIN_DXT1". 

if you're really interested i can resolve and post the values for "swizzled"->"unzwizzled" for all dds formats.

theoretically this should affect the gpu processing speed, but i think this wouldn't be visible. i also could add this functionality to the injector to get rid of the microsoft's "bundler.exe" and make it(optionally) "clean for use".(thought i know that no one cares about licensing over here)

> Reply from Lilstormcloud
>
> The tool looks really useful, thanks!it still needs testing to ensure the claimed functionality
## Post #542
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-08-17T22:45:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> sadly i couldn't find any way to visualize the dds textures without using any additional python addons.

when  injecting a texture manually you don't have to necessarily swizzle it - you can swap the swizzled texture with an unswizzled one, then replace the dds swizzled type with it's unswizzled equivalent,

for example if you have a swizzled dxt1 texture and you swap it manually with an unswizzled one you should find the compression id in the xpr info(0x52 if i'm not mistaken) and swap it with the id of an unswizzled dxt1, "D3DFMT_DXT1" -> "D3DFMT_LIN_DXT1". 

if you're really interested i can resolve and post the values for "swizzled"->"unzwizzled" for all dds formats.

theoretically this should affect the gpu processing speed, but i think this wouldn't be visible. i also could add this functionality to the injector to get rid of the microsoft's "bundler.exe" and make it(optionally) "clean for use".(thought i know that no one cares about licensing over here)

Actually, I wasn't suggesting there was anything it was lacking.  I'm just saying that other process for changing textures before had more steps involved.  Your version is very quick compared to the custom form combined with the 3dsmax script.   

The next feature though that would be really helpful is the ability to inject the 3D volume textures.  Other than that, the process is pretty fluid shy of having something that does everything automatically XD lol
## Post #543
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-08-18T13:13:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> The next feature though that would be really helpful is the ability to inject the 3D volume textures.  Other than that, the process is pretty fluid shy of having something that does everything automatically XD loli can't imagine what kind of editing someone could do on a sweat normal map, though here you go:

tecmo360texturesExtractorV14.zip - injection for cube and volume maps, but for volume maps the image will be injected unswizzled and the 'is_tiled' flag will be switched to 'untiled'. someone should test this and confirm that it works.

cube/volume textures for injection should be unwrapped on top of each other in a column, to see how the injecting texture should look like, have a look at the cube/volume texture you want to swap, exported with the "Export Cube and 3D textures as 2D" check box checked
## Post #544
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-08-19T00:32:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> Protocol X27 wrote:The next feature though that would be really helpful is the ability to inject the 3D volume textures.  Other than that, the process is pretty fluid shy of having something that does everything automatically XD loli can't imagine what kind of editing someone could do on a sweat normal map, though here you go:

tecmo360texturesExtractorV14.zip - injection for cube and volume maps, but for volume maps the image will be injected unswizzled and the 'is_tiled' flag will be switched to 'untiled'. someone should test this and confirm that it works.

cube/volume textures for injection should be unwrapped on top of each other in a column, to see how the injecting texture should look like, have a look at the cube/volume texture you want to swap, exported with the "Export Cube and 3D textures as 2D" check box checked

You Sir, are a team player! Thanks. I'll check it out. 

The reason for those normal maps is that some of the swimsuits have depression / indentation marks added on the skin and not on the diffuse texture.  So in some cases the skin will look weird if the object causing the impression is not there but the normal map still makes a shadow appear. 

Edit: 
Killer stuff, b0ny!  Just tried it and it works.   That's be huge for adding the final polish on some concepts.

I also discovered something else in the process. Some of the specular properties for regular textures are inherited from DXT5 alpha layers.  When saving as a .tga or .png the alpha layer is lost which might do weird things to the data once that image is injected.  I was able to get around this by using the other injector, but I at least thought that might be helpful.
## Post #545
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-08-20T19:30:57+00:00
- Post Title: Re: Dead or Alive series formats and tools

Protocol X27
photoshop is preserving the alpha channel for *.tga, if "Alpha Channels" option, in the "Save As" dialog, is checked.
if photoshop is not an option for you - you can find another image converter that will preserve the alpha channel converting to one of the formats supported for injection
## Post #546
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-08-21T02:59:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

Ah, my bad. That feels like a noob mistake on my part.  Didn't realize that was an option.  
Thanks.
## Post #547
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-08-21T06:16:54+00:00
- Post Title: Re: Dead or Alive series formats and tools

doa5archivarius(v13).7z - for extracting/injecting files in doa5 lnk archives

fixed some really stupid errors, now it should actually work - at least for dlc archives
please test it and report the troubles, so i could fix the errors...


 Protocol X27
[xnview is fine for preserving the alpha channel while converting the dds to png or tga](http://www.xnview.com/en/xnview/#downloads)
## Post #548
- Username: kasake
- Rank: n00b
- Number of posts: 15
- Joined date: Thu Feb 16, 2012 3:03 pm
- Post datetime: 2013-08-23T06:35:12+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hey guys. I've trying to get the models to work in 3dsmax and I finally did it, however, I'm wondering if I'm doing things the hard way. When you import the .TMC file into Blender, do you need to apply the materials onto the model manually? 

The reason I'm asking this is be cause when I import the .TMC file into Blender, then export it as a .FBX (autodesk) file for 3dsmax--identifying which material goes to which slot is very confusing. 

Here is a pic of what I'm talking about (my .DDS files are shown on the left, and in the Material Editor, the material slots all have a generic name) :

Basically the only way to know what material goes in which slot is by guessing. So is there an easier way of applying textures, like redirecting it's original path to a folder? (body has 6parts x4 applications of textures, and hair has 35 parts x4 applications of textures each... -_-)


I also had a question about b0ny's tecmo360texturesExtractorV14 in comparison to the noesis doa5_360.py plugin for extracting textures. When I extracted the textures from the .TMC files with tecmo360texturesExtractorV14, my normal maps turned out to be unreadable:


While the extraction with the noesis doa5_360.py plugin to a .PNG file worked fine:


BTW, I used the simple_doa5_unpacker_v44 to unpack my data files. Anyone know what's going on?


Also wanted to ask b0ny what bundler.exe was for?


EDIT: I did some more testing, and it seems like it's just certain normal maps for certain .TMC files are unable to be extracted with that tool, and Helena_COS_001 must be one of them. :/ Is there an alternative to extracting textures other than this tool and noesis atm?
## Post #549
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-08-23T14:01:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from kasake
>
> Hey guys. I've trying to get the models to work in 3dsmax and I finally did it, however, I'm wondering if I'm doing things the hard way. When you import the .TMC file into Blender, do you need to apply the materials onto the model manually? 

The reason I'm asking this is be cause when I import the .TMC file into Blender, then export it as a .FBX (autodesk) file for 3dsmax--identifying which material goes to which slot is very confusing. 

Here is a pic of what I'm talking about (my .DDS files are shown on the left, and in the Material Editor, the material slots all have a generic name) :

Basically the only way to know what material goes in which slot is by guessing. So is there an easier way of applying textures, like redirecting it's original path to a folder? (body has 6parts x4 applications of textures, and hair has 35 parts x4 applications of textures each... -_-)


I also had a question about b0ny's tecmo360texturesExtractorV14 in comparison to the noesis doa5_360.py plugin for extracting textures. When I extracted the textures from the .TMC files with tecmo360texturesExtractorV14, my normal maps turned out to be unreadable:


While the extraction with the noesis doa5_360.py plugin to a .PNG file worked fine:


BTW, I used the simple_doa5_unpacker_v44 to unpack my data files. Anyone know what's going on?


Also wanted to ask b0ny what bundler.exe was for?


EDIT: I did some more testing, and it seems like it's just certain normal maps for certain .TMC files are unable to be extracted with that tool, and Helena_COS_001 must be one of them. :/ Is there an alternative to extracting textures other than this tool and noesis atm?

I don't see the confusing thing here, the xxx_base is for the diffuse slot, the xxx_spe is for the specular level slot and the xxx_nrm is for the normal bump slot.

Second thing, the blender importer only imports the normal bump of dried area from the volumetric normal bump textures (those textures affected by the water) mean while the tecmo360texturesExtractor extracts complete textures. Some normal bumps come in a format not supported by 3ds max, just convert them to tga with noesis. Also, some specular maps come in the alpha channel of certain dfifuse textures (ie body and face textures).

Edit:

Those textures don't have specular maps, I don't know why you're getting those.
## Post #550
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-08-23T19:57:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

blender importers for team ninja games (ver 2.3) 

- from kasake-Darko discussion i've got an idea to add the shown on the image bellow option to activate the wet textures on loading doa5 models in blender(it, from what i've seen, gives strange normal maps for the face though)

- also i fixed an error on loading alternate outfits for doa5 girls, now this option should work fine
- seems like importing for "dead or alive online" "emp" files where broken. it's fixed now

> Reply from kasake
>
> Also wanted to ask b0ny what bundler.exe was for?if bundler.exe is present in the same folder as tecmo360texturesExtractorV14 then you can use tecmo360texturesExtractorV14  to inject edited textures back to tmc models, to make texture mods...
and for your problem - isn't mario's script importing tmc rigged models to 3ds max?
## Post #551
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-08-23T22:18:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> blender importers for team ninja games (ver 2.3) 

- from kasake-Darko discussion i've got an idea to add the shown on the image bellow option to activate the wet textures on loading doa5 models in blender(it, from what i've seen, gives strange normal maps for the face though)

- also i fixed an error on loading alternate outfits for doa5 girls, now this option should work fine
- seems like importing for "dead or alive online" "emp" files where broken. it's fixed now
kasake wrote:Also wanted to ask b0ny what bundler.exe was for?
if bundler.exe is present in the same folder as tecmo360texturesExtractorV14 then you can use tecmo360texturesExtractorV14  to inject edited textures back to tmc models, to make texture mods...
and for your problem - isn't mario's script importing tmc rigged models to 3ds max?

Lol thanks for that, also do you know how to aply the dirt textures??
## Post #552
- Username: kasake
- Rank: n00b
- Number of posts: 15
- Joined date: Thu Feb 16, 2012 3:03 pm
- Post datetime: 2013-08-24T09:40:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

I talk/ask about a few things in this post, so I hope you bear with me on the organization. I separated the topics with equal signs:

> Reply from b0ny
>
> and for your problem - isn't mario's script importing tmc rigged models to 3ds max?
mario's TMC 3dsmax script works for some files, however I've come into some problems with objects being imported out of placement. Has anyone else run into these issues?
An example, Helena's sash is in the middle of her body. I've tried rotating the object 180 degrees, and it seems like it should stay in place, however it pops back to its odd position again:




====================================================================

> Reply from  Darko
>
> I don't see the confusing thing here, the xxx_base is for the diffuse slot, the xxx_spe is for the specular level slot and the xxx_nrm is for the normal bump slot.
Sorry, perhaps I was clear enough. I don't know if you're familiar with 3dsmax or not, so I'll explain how the material editor works. If you look at the image with the material editor again (or the image below), there are 13 slots for materials (this is for the body; hair has 35 -_-;;). Within each slot contains more slots for the diffuse, spec, and normal maps. What confuses me is selecting the initial slot. Sure there are some materials that are very obvious to see the changes when you apply the texture like the body.dss files. However, applying textures on the smaller parts of the model can be hard to tell where you've applied it. 
For example, when I apply a texture to slot ID 3, the s_hel000_10 slot, I apply it to the seam in the back of her legging:


Furthermore, some of the names of the textures are seem to described with the name of Japanese clothing, which I have no idea which body parts they apply to unless it's obvious when I look at the .DSS file in Noesis or XnView (some aren't so obvious, like the hel000_taitslace_base).
For example: hel000_himo_base, hel000_obi_base, hel000_taitslace_base, hel000_uraji_base 


====================================================================

> Reply from  Darko
>
> Second thing, the blender importer only imports the normal bump of dried area from the volumetric normal bump textures (those textures affected by the water) mean while the tecmo360texturesExtractor extracts complete textures. Some normal bumps come in a format not supported by 3ds max, just convert them to tga with noesis. Also, some specular maps come in the alpha channel of certain dfifuse textures (ie body and face textures).
Okay, doing so learning on Blender (totally new to Blender :/) I found out that b0ny's importer already applies the textures. I was under the impression that I needed to import the TMC into blender, which contained only the mesh and rigging, and had to apply the textures afterwards.

I was doing some poking around to find out the location path of the textures, and it seems that it reads all them from my AppData temp folder? Image:

There's an option to unpack the .DSS file, which extracts and saves it to that same path.

I tried re-directing the path of the materials, and then exporting it to an FBX file to see if this will automatically load the textures when I import into 3dsmax, however this didn't work. :/


====================================================================
I tried using b0ny's new wet texture option, and it works great. However, when I try applying wet textures onto 3dsmax I get quite a different look. The texture seems like its higher in opacity and flatter than in Blender. I've been applying the wet body texture in the specular level, which would force me to change the parameters of the specular color to white in order for them to show.

Above all, I haven't been able to make renders in 3dsmax that are on par to what Blender can render... They always turn out to look like in-production models and colors being more muted--perhaps I need to install some new renders like VRay/Brazil/etc? Anyone have input on this?
## Post #553
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-08-24T15:00:59+00:00
- Post Title: Re: Dead or Alive series formats and tools

seems like importing models from blender to 3dmax is not a good idea for now. but maybe you could use some other program to transfer the model - unity or something. afaik unity has great compatibility with both 3dmax and blender(it can load blend files), so a better idea is to find a way to import the model from blender to unity then from unity to 3dmax.

but of course using an importing plugin for 3dmax(or maya) is much better, coz 3dmax is directx compatible, and game models mostly are directx things(tmc models are). blender don't use normals/tangents/binormals/... that are very important for how the model will look in the end.
## Post #554
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-08-24T18:26:02+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> seems like importing models from blender to 3dmax is not a good idea for now. but maybe you could use some other program to transfer the model - unity or something. afaik unity has great compatibility with both 3dmax and blender(it can load blend files), so a better idea is to find a way to import the model from blender to unity then from unity to 3dmax.

but of course using an importing plugin for 3dmax(or maya) is much better, coz 3dmax is directx compatible, and game models mostly are directx things(tmc models are). blender don't use normals/tangents/binormals/... that are very important for how the model will look in the end.

I use blender to get the models, save the file in the location I want (normally I create a folder with the same name of the character and the number of the costume) and extract the textures there. After that I export the model in fbx (bones and weights) and obj (materials) scalling both of them to 100, reconvert them with noesis to the same formats in order to eliminate any compatibility issue in max (I use max 2008), and the last step is to import fist the fbx file (changing 1 to cm's), rotate it and export it to smd. The same thing with the obj model, just assigning textures, join the meshes in one editable mesh and weld it by 0.001, export it to smd and I use riggomatic to transfer vertex weights and I get a rigged clean model with materials. If someone needs riggomatic by magnum, you can download an exe version from my skydrive:

[https://skydrive.live.com/#cid=FFBE4E57 ... 49FCBE!177](https://skydrive.live.com/#cid=FFBE4E570949FCBE&id=FFBE4E570949FCBE!177)

If the model has an issue (ie hitomi cheer leader) or you have problems with some characters hair, I use a model exported with chrox noesis plugin.

Edit:

It's something similar to the tutorial I posted in the NG3RE thread:

[viewtopic.php?f=16&t=8867&start=435](http://forum.xentax.com/viewtopic.php?f=16&t=8867&start=435)

I'm doing a tutorial tomorrow detailing the process to get models correctly in 3ds max.
## Post #555
- Username: kasake
- Rank: n00b
- Number of posts: 15
- Joined date: Thu Feb 16, 2012 3:03 pm
- Post datetime: 2013-08-25T02:17:07+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> seems like importing models from blender to 3dmax is not a good idea for now. but maybe you could use some other program to transfer the model - unity or something. afaik unity has great compatibility with both 3dmax and blender(it can load blend files), so a better idea is to find a way to import the model from blender to unity then from unity to 3dmax.

but of course using an importing plugin for 3dmax(or maya) is much better, coz 3dmax is directx compatible, and game models mostly are directx things(tmc models are). blender don't use normals/tangents/binormals/... that are very important for how the model will look in the end.
I'll look into Unity, thanks.

> Reply from Darko
>
> I use blender to get the models, save the file in the location I want (normally I create a folder with the same name of the character and the number of the costume) and extract the textures there. After that I export the model in fbx (bones and weights) and obj (materials) scalling both of them to 100, reconvert them with noesis to the same formats in order to eliminate any compatibility issue in max (I use max 2008), and the last step is to import fist the fbx file (changing 1 to cm's), rotate it and export it to smd. The same thing with the obj model, just assigning textures, join the meshes in one editable mesh and weld it by 0.001, export it to smd and I use riggomatic to transfer vertex weights and I get a rigged clean model with materials. If someone needs riggomatic by magnum, you can download an exe version from my skydrive:

https://skydrive.live.com/#cid=FFBE4E57 ... 49FCBE!177

If the model has an issue (ie hitomi cheer leader) or you have problems with some characters hair, I use a model exported with chrox noesis plugin.

Edit:

It's something similar to the tutorial I posted in the NG3RE thread:

viewtopic.php?f=16&t=8867&start=435

I'm doing a tutorial tomorrow detailing the process to get models correctly in 3ds max.
Holy moly that is one length process. I'll look forward to your tutorial!
## Post #556
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-08-25T02:22:38+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from kasake
>
> b0ny wrote:seems like importing models from blender to 3dmax is not a good idea for now. but maybe you could use some other program to transfer the model - unity or something. afaik unity has great compatibility with both 3dmax and blender(it can load blend files), so a better idea is to find a way to import the model from blender to unity then from unity to 3dmax.

but of course using an importing plugin for 3dmax(or maya) is much better, coz 3dmax is directx compatible, and game models mostly are directx things(tmc models are). blender don't use normals/tangents/binormals/... that are very important for how the model will look in the end.
I'll look into Unity, thanks.
Darko wrote:I use blender to get the models, save the file in the location I want (normally I create a folder with the same name of the character and the number of the costume) and extract the textures there. After that I export the model in fbx (bones and weights) and obj (materials) scalling both of them to 100, reconvert them with noesis to the same formats in order to eliminate any compatibility issue in max (I use max 2008), and the last step is to import fist the fbx file (changing 1 to cm's), rotate it and export it to smd. The same thing with the obj model, just assigning textures, join the meshes in one editable mesh and weld it by 0.001, export it to smd and I use riggomatic to transfer vertex weights and I get a rigged clean model with materials. If someone needs riggomatic by magnum, you can download an exe version from my skydrive:

https://skydrive.live.com/#cid=FFBE4E57 ... 49FCBE!177

If the model has an issue (ie hitomi cheer leader) or you have problems with some characters hair, I use a model exported with chrox noesis plugin.

Edit:

It's something similar to the tutorial I posted in the NG3RE thread:

viewtopic.php?f=16&t=8867&start=435

I'm doing a tutorial tomorrow detailing the process to get models correctly in 3ds max.
Holy moly that is one length process. I'll look forward to your tutorial!

Just to know, What version of max you're using?
## Post #557
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-08-25T05:41:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> ... do you know how to aply the dirt textures??
dirt textures often use a different from 0 UV set. and i can't identify how the UV sets are linked to textures
## Post #558
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-08-26T03:03:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> Darko wrote:... do you know how to aply the dirt textures??
dirt textures often use a different from 0 UV set. and i can't identify how the UV sets are linked to textures

Ok, thanks for the answer. 

For the tutorial, sorry for the delay, but I had to do somethings today and I couldn't do it.
## Post #559
- Username: tcl36478655
- Rank: beginner
- Number of posts: 34
- Joined date: Mon Apr 08, 2013 9:22 am
- Post datetime: 2013-08-27T15:07:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

hey,i have fixed some bug about mario's lastest scripts,like some obj's position,extract dds ect.I hope it is still helpful.
[scripts.rar](https://xentaxbackup.github.io/file/6573_scripts.rar)
## Post #560
- Username: kasake
- Rank: n00b
- Number of posts: 15
- Joined date: Thu Feb 16, 2012 3:03 pm
- Post datetime: 2013-08-31T05:10:26+00:00
- Post Title: Re: Dead or Alive series formats and tools

I tried importing a blender file into Unity3d, and I don't think the results are any better. When I try to manually re-apply the textures on the preexisting material slots, the UV mapping is all disoriented. I am also having a lot of trouble trying to export the model as an .OBJ file (apparently the only type of file Unity3d can export with a 3rd party script in which 3dsmax can read). 

> Reply from tcl36478655
>
> hey,i have fixed some bug about mario's lastest scripts,like some obj's position,extract dds ect.I hope it is still helpful.
Hey tcl, I tried out that script and I'm getting the same results as a couple posts ago with Helena_cos_1.
## Post #561
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-09-01T08:25:23+00:00
- Post Title: Re: Dead or Alive series formats and tools

Time for tutorial. Ok, most of you should be wondering how to get DOA5 models in 3ds max using bony's script. The process it's a little bit tedious but gives the best results (for me at least). What we need is:

Smd format importers and exporters for 3ds max because is the format we're working on

[http://www.wunderboy.org/](http://www.wunderboy.org/)
[http://www.chaosincarnate.net/cannonfodder/cftools.htm](http://www.chaosincarnate.net/cannonfodder/cftools.htm)

I usually use cannonfodder importer and wunderboy exporter (weird, but it's the best for me).

Rig-o-matic by Hunter, I have an exe version of that tool in my skydrive (thanks to the REforums for that one):

[https://skydrive.live.com/#cid=FFBE4E57 ... 49FCBE!177](https://skydrive.live.com/#cid=FFBE4E570949FCBE&id=FFBE4E570949FCBE!177)

Depending what version of max you're using, guruwave plugin:

[http://www.guruware.at/main/](http://www.guruware.at/main/)

And noesis with DOA5, this eliminates whatever problem of compatibility you might have, and It's usefull for some hair meshes:

[http://oasis.xentax.com/](http://oasis.xentax.com/)

First, open blender, import the tmc's you want, save the blend file in whatever location you want and unpack the textures (file - external data -unpack into files). This will create a folder called textures with all the textures of the tmc file you imported. If there's a texture you have problems with, convert it to tga with noesis. 





The second thing to do is to export our model into something that max can import. I could'nt find how to export a full rigged model with materials to fbx in blender 2.67b, so we're going to export the model twice in 2 different formats: wavefront and fbx. When exporting to obj, make sure to have this settings:



Change your scale factor to 100 and export it inside the folder called textures. Same thing for fbx, change the scale factor to 100 taking care of exporting the armature (bones) and the meshes.

[http://img15.imageshack.us/img15/5454/70t9.jpg](http://img15.imageshack.us/img15/5454/70t9.jpg)

With this, we have one model rigged and another one with materials. Reexport both files with noesis in order to avoid any problem of compatibility in max (obj to obj and fbx to fbx, don't add any more options while exporting). In 3dsmax, we're going to import the fbx generated in noesis, in the units select cm and click import.



Delete "OPT_acs_ground" helper (not needed), select all (ctr-a), group (group-group), choose the rotation tool, set transform coordinate center in your perspective view (changes the pivot to the center of the grid) and rotate 90 degrees in your x axis:



Ungroup your model (group - ungroup) and export it as whatever you want .smd (inside the same folder as before). This is the reference model where we're getting vertex weights, so you could export it as reference.smd.



Reset your scene, Import now the obj generated by noesis with guruwave obj plugin and make sure that the import as single object is unselected:



Repeat the same process as before (group, change your pivot to the center of the grid, rotate 90 degrees and ungroup). Delete all the back meshes from the hair (easy task in some models, hard thing in other models where some meshes come with combined normals, in those cases I recomend using a hair mesh exported with chroxx noesis plugin, it exports it really clean).



The final thing is to assign  textures, select a part oh the model and in you modifier options select attach list and select all the meshes from the list with the following settings:





Once your meshes are attached in a single mesh, click in the vertex icon, select all verteces (crt+a) and weld by 0.001.



Export the model as receptor.smd (name is optional) and now run rig-o-matic.exe. Select the required smd files and press rig. The process can last from some minutes to one hour, depending on the number of faces. When the process is over, we're getting a files called: receptor_rigged.smd, with correct normals, bones, vertex weights and materials.
## Post #562
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-09-01T08:38:21+00:00
- Post Title: Re: Dead or Alive series formats and tools

The model imported in max and I rotated the jaw to show the correct weights.
## Post #563
- Username: tcl36478655
- Rank: beginner
- Number of posts: 34
- Joined date: Mon Apr 08, 2013 9:22 am
- Post datetime: 2013-09-01T09:39:29+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from kasake
>
> 
Hey tcl, I tried out that script and I'm getting the same results as a couple posts ago with Helena_cos_1.

ok,I'll check it. 
----------------------
here is the fixed file.
[TMC Praser fix2.rar](https://xentaxbackup.github.io/file/6583_TMC Praser fix2.rar)
## Post #564
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-09-01T13:56:35+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from tcl36478655
>
> kasake wrote:
Hey tcl, I tried out that script and I'm getting the same results as a couple posts ago with Helena_cos_1.

ok,I'll check it. 
----------------------
here is the fixed file.

Does it fix the UV problems that Mario's script has??

Edit: no, tried with kasumi's face and the eyes have no uv's. Tried Kasumi and Crhistie faces and both have weights problems.
## Post #565
- Username: tcl36478655
- Rank: beginner
- Number of posts: 34
- Joined date: Mon Apr 08, 2013 9:22 am
- Post datetime: 2013-09-01T14:21:13+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> 

Does it fix the UV problems that Mario's script has??

Edit: no, tried with kasumi's face and the eyes have no uv's. Tried Kasumi and Crhistie faces and both have weights problems.
  I just use that script for modding body, so I have not tested those problems which you metion yet. 
And I know little about 3dmax or Mod, so how i judge the UV is right.
just like mario has set:

> for j = 1 to uvwArray1.count do setTVert msh j uvwArray1[j]
>
> 					for j = 1 to faceArray.count do setTVFace msh j faceArray[j]
>
> 				        for j = 1 to normArray.count do setNormal msh j normArray[j]
>
> 					if uvwArray2.count!=0 do
>
> 					(
>
> 						meshop.setNumMaps msh 3 keep:true
>
> 						for j = 1 to uvwArray2.count do (meshOp.setMapVert msh 2 j uvwArray2[j])
>
> 					)
>
> 					if uvwArray3.count!=0 do
>
> 					(
>
> 						meshop.setNumMaps msh 4 keep:true
>
> 						for j = 1 to uvwArray3.count do (meshOp.setMapVert msh 3 j uvwArray3[j])
>
> 					)
>
> 					if uvwArray3.count!=0 do
>
> 					(
>
> 						meshop.setNumMaps msh 5 keep:true
>
> 						for j = 1 to uvwArray4.count do (meshOp.setMapVert msh 4 j uvwArray3[j])
>
> 					)
but in fact I don't know how to check these result...=_=|||
## Post #566
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-09-02T03:20:58+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from tcl36478655
>
> Darko wrote:

Does it fix the UV problems that Mario's script has??

Edit: no, tried with kasumi's face and the eyes have no uv's. Tried Kasumi and Crhistie faces and both have weights problems.
  I just use that script for modding body, so I have not tested those problems which you metion yet. 
And I know little about 3dmax or Mod, so how i judge the UV is right.
just like mario has set:

                                        for j = 1 to uvwArray1.count do setTVert msh j uvwArray1[j]
					for j = 1 to faceArray.count do setTVFace msh j faceArray[j]
				        for j = 1 to normArray.count do setNormal msh j normArray[j]
					if uvwArray2.count!=0 do
					(
						meshop.setNumMaps msh 3 keep:true
						for j = 1 to uvwArray2.count do (meshOp.setMapVert msh 2 j uvwArray2[j])
					)
					if uvwArray3.count!=0 do
					(
						meshop.setNumMaps msh 4 keep:true
						for j = 1 to uvwArray3.count do (meshOp.setMapVert msh 3 j uvwArray3[j])
					)
					if uvwArray3.count!=0 do
					(
						meshop.setNumMaps msh 5 keep:true
						for j = 1 to uvwArray4.count do (meshOp.setMapVert msh 4 j uvwArray3[j])
					)

but in fact I don't know how to check these result...=_=|||

Lol thanks.

For bony, when I check the "remove unwanted obects" in your doa4 importer, it doesn't import anything o.O'
## Post #567
- Username: tcl36478655
- Rank: beginner
- Number of posts: 34
- Joined date: Mon Apr 08, 2013 9:22 am
- Post datetime: 2013-09-02T05:11:34+00:00
- Post Title: Re: Dead or Alive series formats and tools

I don't understand that Mario has calculated val=(val[1],va[2],va[3],val[4]),but in fact he just set uv1=val[1],uw1=val[2],and lost which val[3]\val[4] is another pair of data different with val[1]\val[2].
## Post #568
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-09-02T07:14:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> 
For bony, when I check the "remove unwanted obects" in your doa4 importer, it doesn't import anything o.O'maybe i should give this option a more descriptive name(and tooltip), it's tooltip says: "remove everything but the hipoly model", and what it does, is removes all objects that are not related to the character's high poly skeleton. and it will work right, only for the skins(which have a high poly armature).


as for the 3dmax importing script, it's not decoding the d3d types corectly. here i fixed the decoding of the d3d types. compare the new/old script with a file-compare tool in text mode to see the difference (i edited the script provided by tcl36478655)

[TMC Praser fix2.ms](http://rghost.net/download/48525876/414c97e49fbed980ab205c6eaa45e8205035ab67/TMC%20Praser%20fix2.ms)
## Post #569
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-09-02T22:02:39+00:00
- Post Title: Re: Dead or Alive series formats and tools

News about DOA5U, the quickbms scripts don't work on DOA5U files.
## Post #570
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-09-03T17:58:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

Yep, I tried the other unpacker as well w/out success. I'm guessing file alteration or they renamed all of the files again.  :-/  Initially the .lnk structure looks the same, but who knows if the original containers have any alterations at this point for cross referencing. :-/  

I checked the marketplace and most older costumes are unlock codes now, so I bet all of the past DLC is on the disc now.  The chara_common is now close to 2GB.  

I also attempted to play the game from my modded system, but it crashed, I havent' deleted DOA5 data yet, to see if that is interfering.
## Post #571
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2013-09-03T19:59:53+00:00
- Post Title: Re: Dead or Alive series formats and tools

If someone wants to take a 360 memory dump and send it to me with what characters are on screen ill look at it.
## Post #572
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-09-04T07:38:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

they changed the compression for the files inside lnk. the compressed files have the same structure(uncompressed size then compressed chunks), but the compression is different, it compresses twice as better than the old type, i don't see anymore the magic word 0x789C for the deflated data (what could they use, maybe some proprietary format?).

i thought that maybe they xored the compressed files but xoring with the license xor key gave me nothing. i extracted the file table from the executable and looked for "only xored" files, without compression but they don't have those anymore.

i looked into ida, i see where the compression flags are accessed but i can't find where it's compared or something, to find the decompression procedure. i am useless, waiting for someone smarter than me to break it
## Post #573
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-09-04T14:21:17+00:00
- Post Title: Re: Dead or Alive series formats and tools

chrrox, I'd be willing to pass that along, but I've never done that before so I'd need some instructions on how to if getting the stuff from a rgh system is enough. 

I do have to get the game running first though, I tried a few more things last night, but it still keeps crashing. Unsure why.
## Post #574
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2013-09-08T05:21:12+00:00
- Post Title: Re: Dead or Alive series formats and tools

good news is that the doa5u files work in noesis, so the mesh binary must for the most part be the same.
bad news tecmo increased their file security to plug holes we exploited to find and decrypt there data last time.
## Post #575
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-09-08T05:38:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mariokart64n
>
> good news is that the doa5u files work in noesis, so the mesh binary must for the most part be the same.
bad news tecmo increased their file security to plug holes we exploited to find and decrypt there data last time.

How did you extract those files??
## Post #576
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2013-09-08T05:58:57+00:00
- Post Title: Re: Dead or Alive series formats and tools

most likely memory dump. mario has a jtagged xbox.
## Post #577
- Username: tcl36478655
- Rank: beginner
- Number of posts: 34
- Joined date: Mon Apr 08, 2013 9:22 am
- Post datetime: 2013-09-08T06:33:13+00:00
- Post Title: Re: Dead or Alive series formats and tools

Could mario compress this dump file then XOR the source file?
## Post #578
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-09-08T06:49:49+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from tcl36478655
>
> Could mario compress this dump file then XOR the source file?

What he did was a memory dump and it seems it can dump the files that the game is using. I was planning to reball my old 360 core by the end of the year, but now I see I'm reballing it and putting a rgh this month.
## Post #579
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2013-09-08T06:58:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

I wait patiently for months for doa5 ultimate to release and all I got was 2 new costumes per char a few recycled "new" charas   but I guess some people have been waiting for years for rachel
## Post #580
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-09-08T07:18:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> I wait patiently for months for doa5 ultimate to release and all I got was 2 new costumes per char a few recycled "new" charas and a new security system   but I guess some people have been waiting for years for a good rachel model

Lol, I want hitomi's classic outfit and her ponytail hair. Rachel can wait
## Post #581
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2013-09-08T11:04:38+00:00
- Post Title: Re: Dead or Alive series formats and tools

Yeah I didn't see anything new per say? the costumes all look like they carried over from the original DOA5. cause I was keeping up with all the DLC and so what the feck is new in doa5u?

might as well strip the new content from the RAM and stick it into DOA5 Original..
## Post #582
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2013-09-08T11:26:13+00:00
- Post Title: Re: Dead or Alive series formats and tools

wow lol that bad huh? namco did same thing with tekken revolution as well. copy and paste from ttt2 (but now they expect you to pay for all the stuff that was free in ttt2, or grind out gift points for months to get them).
## Post #583
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2013-09-08T12:38:46+00:00
- Post Title: Re: Dead or Alive series formats and tools

I hope with all the ass rapage, that we'll be seeing a DOAVB3 getting announced
## Post #584
- Username: tcl36478655
- Rank: beginner
- Number of posts: 34
- Joined date: Mon Apr 08, 2013 9:22 am
- Post datetime: 2013-09-08T13:42:10+00:00
- Post Title: Re: Dead or Alive series formats and tools

did TECMO do that:
1\decrypt it with the code which we have already know,2\compress it with zlib,3\decrypt it with another code which we don't know. but if we "XOR" file_step_2 and file_step_3(source),could we get those unknow code?
or maybe they just 1\compress it with zlib,2\decrypt it with another code?
## Post #585
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-09-10T23:28:21+00:00
- Post Title: Re: Dead or Alive series formats and tools

Could someone catch me up on how to find file indexes in the default.xex or chara_common.lnk?  I've always done a manual search by uncompressed file size or used the offset from log file in b0ny's extractor. 

For example, if 2R963@1S100@CG]]624B544612PQM131810210{F1R5211 is Hitomi's Cos 001's encrypted name, How do I use find what it's offset is or where it's position is in the file index?
## Post #586
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-09-11T05:03:54+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Could someone catch me up on how to find file indexes in the default.xex or chara_common.lnk?  I've always done a manual search by uncompressed file size or used the offset from log file in b0ny's extractor. 

For example, if 2R963@1S100@CG]]624B544612PQM131810210{F1R5211 is Hitomi's Cos 001's encrypted name, How do I use find what it's offset is or where it's position is in the file index?doa5filesrefs.ods - libre office document

added the doa5u file list to the party - see the "doa5u" tab. the "real" names are just copied from the doa5 file list.
## Post #587
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-09-11T18:01:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> doa5filesrefs.ods - libre office document

added the doa5u file list to the party - see the "doa5u" tab. the "real" names are just copied from the doa5 file list.

Thank you for posting this.  Could you please double check your link when you have time. I can't seem to download it.  Possible server issue?


Re: DOA5U Files

I was attempting to update a DOA5 DLC file into the default.xex & chara_common.lnk for DOA5U because those tmcs are now included.  I noticed that the DOA5U .tmc uncompressed size was actually different in the file references by about 6-10 bytes from the original DOA5 one from the DLC container.  Is this potentially problematic for decryption or modding purposes?  I'm not sure what they could have added unless they have something to identify a new property or DLC flag.  That small of change strikes me as unlikely to accommodate any of the visual changes which I'm guessing are party of the engine and not the costume.

Edit: Strike that, Reverse it!   New tmcs are actually smaller than original tmcs.
## Post #588
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-09-12T09:25:07+00:00
- Post Title: Re: Dead or Alive series formats and tools

Protocol X27 seems like the server is down. try this one:
doa5filesrefs.ods (hosting my-files.ru)

yes the actual size is bigger than original doa5, and the compression ratio is also better than for the original doa5 compressed files. can't find where they inflate in doa5, using ida. found some zlib errors like "zlib wrong size" or something but this is image png format related. i think they could use some proprietary shit instead of deflate compression.
## Post #589
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-09-12T14:00:29+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> Protocol X27 seems like the server is down. try this one:
doa5filesrefs.ods (hosting my-files.ru)

yes the actual size is bigger than original doa5, and the compression ratio is also better than for the original doa5 compressed files. can't find where they inflate in doa5, using ida. found some zlib errors like "zlib wrong size" or something but this is image png format related. i think they could use some proprietary shit instead of deflate compression.

Thanks, that one worked. 

I'm having trouble getting DOA5 modded files to work in DOA5U, but I've only tried replacing 'former' DLC files with their 'on disc' counterparts, so far.  I don't know if I'm doing something wrong by using the original uncompressed file size (instead of the new one), or if there is some relationship between reading the DOA5 DLC package that has to line up with the 'on disc' data.  :-/
## Post #590
- Username: tcl36478655
- Rank: beginner
- Number of posts: 34
- Joined date: Mon Apr 08, 2013 9:22 am
- Post datetime: 2013-09-12T14:13:40+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> Protocol X27 seems like the server is down. try this one:
doa5filesrefs.ods (hosting my-files.ru)

yes the actual size is bigger than original doa5, and the compression ratio is also better than for the original doa5 compressed files. can't find where they inflate in doa5, using ida. found some zlib errors like "zlib wrong size" or something but this is image png format related. i think they could use some proprietary shit instead of deflate compression.

they still use zlib for compressing. I have test the dump files of TMCL about momoji and rachel,they are same size,but the different about TMC.
## Post #591
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-09-17T20:14:35+00:00
- Post Title: Re: Dead or Alive series formats and tools

Any news about DOA5U
## Post #592
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2013-09-17T21:43:21+00:00
- Post Title: Re: Dead or Alive series formats and tools

did you still
## Post #593
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-09-17T22:17:11+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> did you still want that hitomi model? I was thinking of ram dumping that cos for you but problem is it take hours and my Gf insists on equal sharing of the TV time    which kinda means I have to really really time it well otherwise it'll get cut off half way coz she wants to play gears or sumthin -_-"

In addition the dumped cos may not always display properly because of some weird artifacts, so far I've only been restoring returning costumes from doa5, they're easy enough because I have the old files to base them off but new costumes I haven't tried. Will give it a shot today if I get time.

Lol It's not like I want to force someone to do something for me. I just wanted to know if someone has figured out DOA5U compression or encription, and also I know that almost all the DOA5U content is inside DOA5. Right now all the attention is focused on modding GTA5.
## Post #594
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2013-09-17T22:41:20+00:00
- Post Title: Re: Dead or Alive series formats and tools

hope it's worth all the hype.
## Post #595
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-09-17T22:51:23+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> yep I'm still downloading all 15Gbs of that game.    hope it's worth all the hype.

Lol 15 gbs, wtf. 

I hope you can rip that costume, If you can't, don't worry.
## Post #596
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2013-09-18T11:16:40+00:00
- Post Title: Re: Dead or Alive series formats and tools

it appears
## Post #597
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-09-18T13:19:33+00:00
- Post Title: Re: Dead or Alive series formats and tools

Did anyone ever get a RAM dump over to chrrox?  I see that a couple people have the tech set up for that.  The process looks a bit more involved than I can commit presently. 

So far I've only been able to get DOA5 costumes to work as replacements for Unlockable costumes.  The on disc DLC stuff is weird.   Anyone think the new 'motion' settings might be cause for the change in the container size.  If it required any additional bone / animation data they could have put that in the tmc.
## Post #598
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2013-09-18T20:48:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

they got better
## Post #599
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2013-09-19T00:37:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

interesting observations, huh i wonder why the physics disables entirely
## Post #600
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2013-09-19T02:06:40+00:00
- Post Title: Re: Dead or Alive series formats and tools

Not sure
## Post #601
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-09-19T02:53:23+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> Not too sure, its similar to when I swapped kasumi dlc 4s ACSCLS block onto lisa dlc 4 (that's the one with the flying loincloth) soon as I swapped it long hair no longer goes through the body which was good. the clothe thingy however becomes static and no longer moves so I can only speculate that the info that determines how it moves was no longer there because I swapped it. Playing around with the values in that block also made other things static like bikini strings etc etc. 

*****************************************************************************************************
>Dark
Here's the hitomi stuff you asked for, I put in the new swimsuit and hair as well. http://www.mediafire.com/download/p98cs ... istuff.zip

Thanks, really really thank you. If I have something you want to request me in a near future feel free to do it.

Edit:

Mario's fixed script seems to work perfectly with the files you provided me. DOA5 bony scripts don't work with those files at all, the texture extractor crashes when it's enabled in blender.

```

hi
i'm a texture extractor for xbox360 'Dead or alive 5/4/X2' and 'Ninja Gaiden 3'
supported filetypes: *.TMC;*.SPR;*.--P;*.--H;*.TNF;*.TTG;*.IBL;*.GMD;*.EFFMC;*.T
PR;*.XPR;*.C;*.CT;*.TP;*.TDP;*.TEX;*.CTB;
open this script in a text editor to see more settings that you can edit and sav
e

D:/ASSETS/DOA5/HITOMISTUFF/HAIRNEW.TMC files = 13
 13 DXT1  128 x  128 hit_bear_base.dds
Exception in Tkinter callback
Traceback (most recent call last):
  File "C:\Python32\lib\tkinter\__init__.py", line 1399, in __call__
    return self.func(*args)
  File "C:\Users\Darko\Desktop\tecmo360texturesExtractorV12.py", line 319, in <l
ambda>
    doitbtn = Button(text='extract now', width = 25, font='sans 13', command=lam
bda:convertnow(openentry.get(), saveentry.get(), samedir.get(), allfiles.get(),
subdirs.get()))
  File "C:\Users\Darko\Desktop\tecmo360texturesExtractorV12.py", line 41, in con
vertnow
    parseFile(infile, outdir, subdirs)
  File "C:\Users\Darko\Desktop\tecmo360texturesExtractorV12.py", line 153, in pa
rseFile
    Untile360(sf, l, inBuffOffset, TexelPitch, tiledWidth, tiledHeight)
  File "C:\Users\Darko\Desktop\tecmo360texturesExtractorV12.py", line 185, in Un
tile360
    untilechunk(outBuff, inBuff, sourceOff, rectWidth << v51, TexelPitch)
  File "C:\Users\Darko\Desktop\tecmo360texturesExtractorV12.py", line 209, in un
tilechunk
    data = bytes([data[(i-1) if i%2 else (i+1)] for i in range(size)])#swap ever
y 2 bytes
  File "C:\Users\Darko\Desktop\tecmo360texturesExtractorV12.py", line 209, in <l
istcomp>
    data = bytes([data[(i-1) if i%2 else (i+1)] for i in range(size)])#swap ever
y 2 bytes
IndexError: index out of range
```
## Post #602
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-09-20T02:05:43+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> they got better compression so change in size largely due to that. 

other than that the changes are very very small. sometimes only 10 bytes. it could be anything but 1 thing I notice is when you  swap in costumes from doa5 the accessory physics no longer work like hair collision skirts become static etc etc sorta like when you ported ng ayane costume to doa5. It can be fixed by just adding the extra 10 bytes or whatever from the new tmc to existing doa5 tmc so I'd say that gives a good indication of what the changes are for. (new hair styles probably ) 

if you're talking about the omg boob setting that works even with regular doa5 tmc, i don't think ultimate added anything in the tmc to accommodate that.

Do you know which data is different between the new and old files now since you've seen the physics corrected w/ some changes?  I find it odd that I've replaced one costume with the same one although modified and uncompressed of course and it still seems to mess up the physics.  Hitomi's Tank top for example, suddently her hair has issues again.  Do we know if that hair stuff is controlled stricly by the ACLS in the .tmc?
## Post #603
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2013-09-20T06:04:04+00:00
- Post Title: Re: Dead or Alive series formats and tools

can try a few things.
## Post #604
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-09-20T14:58:40+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> you can try a few things.

Just swap the tmcl, although the ultimate tmcl might actually be a bit larger even for returning doa5 costumes so there's a high chance it'd just freeze.

Other sure fire way to fix it is just use a converted ultimate tmc. once you get a hold of one open it and look at the addresses around 0x140

it'll look something like this 

00 00 01 90 00 00 41 30 00 00 52 E0 00 00 53 90 00 00 54 40 00 00 67 50 00 00 7F E0 00 00 DB 60 00 00 DC 00 00 01 43 60 00 01 88 60 00 01 CD 60 00 01 F7 70 00 03 18 C0 00 03 19 00

it says MdlGeo is at 190, TTX is at 41 30, so on, so on. compare it with the old doa5 tmc if you notice a change in address at any of these then you know the previous entry was larger which is where the difference is. (because if 1 entry is larger all the subsequent entries gets shifted down by that much).

so anyway if you paste in the difference and the new ACSCLS then all should work fine. (don't go changing anything other than cpf and ACSCLS). if you paste in extra stuff you need to then change the size and addresses at 0x140.

Unfortunately, I won't have access to the uncompressed files for a bit. XD  

I understand the potential misalignment... so if a tmc contains all of the offsets to its own data and things still aren't lining up correctly, doesn't that mean a file external to the .tmc is still expecting specific data at a specific address?  Considering this happened with Demo Ayane as well as NG3:RE Ayane.  There was no ultimate .tmc so to speak to reference, yet the tmcs were still all inclusive but the physics was still borked.   Offsets for ACLS would then need to remain unchanged (possibly?) to prevent the physics issue.
## Post #605
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2013-09-21T02:47:54+00:00
- Post Title: Re: Dead or Alive series formats and tools

I guess you can extend
## Post #606
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-09-25T05:04:05+00:00
- Post Title: Re: Dead or Alive series formats and tools

tried my best but could not find how the material colors from "*.cat" file, are linked to materials in "*.xpr" file, in dead or alive 3. i'm stuck with this right now, any halp?

thanks to mariokart64n i know how this works for dead or alive 2 ultimate, but i need also doa3 coz i'm working on a better converter for costumes from doa3 to doa online, everything pretty much is converted, and i spent a lot of time trying to figure out how the cat material colors are linked to the xpr materials, and i feel very dumb coz i could not find any thing.
please help me...
## Post #607
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2013-09-25T22:02:33+00:00
- Post Title: Re: Dead or Alive series formats and tools

in doa3? i only looked at doa2u
## Post #608
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-09-26T10:46:26+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mariokart64n
>
> in doa3? i only looked at doa2ucan you also give a try to find how materials are linked in doa3?
i converted everything but have no idea how cat colors are related to xpr materials. if i could link the colors to the right xpr materials that would be a complete conversion...

[edit]
i think that the fact that they have material colors in the xpr and also in the cat file for some materials, is caused by the tools they used to create these models - like for example, they created the model, then selected some parts and increased specularity, and these changes made for the entire group, resulted to a material in the cat file, that could be easily modifyed in the future for the entire group.

i think cat material colors are important. i loaded one of the leon's skins on a sunny stage, and, that could be just my imagination, but i think it's not specular enough. i could be wrong, but my first thought was, that the colors from the cat file could fix that.

i thik that finding the links can't be done just by looking at the hex. an xbox1 should be used to make tests on doa3, on obvious materials like on zac02(alien). by disabling/enabling some materials from the cat file and find how to disable them in xpr. i think that would be a much easier way of finding "the switch" that links the cat colors to xpr.
## Post #609
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-09-26T19:58:02+00:00
- Post Title: Re: Dead or Alive series formats and tools

Bony, are gonna update your texture extractor for DOA5U?
## Post #610
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-09-27T13:04:09+00:00
- Post Title: Re: Dead or Alive series formats and tools

tecmo360texturesExtractorV15 - (click to download)

blender importers for team ninja games v25.zip - (click to download)

Darko - fixed
i think the problem was that your models are dumped from the memory, where the addresses for textures have been initialized
## Post #611
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-09-27T16:16:10+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> tecmo360texturesExtractorV15 - (click to download)

blender importers for team ninja games v25.zip - (click to download)

Darko - fixed
i think the problem was that your models are dumped from the memory, where the addresses for textures have been initialized

Most Excellent! 

I was having the same issue to since I was using dumped .tmcs.  You bring up an interesting point.  Could the fact that the addresses are different in dumped containers be a possibility for why using those dumped / uncompressed .tmcs still won't work in game? 

Is there a way to get the texture addresses before initializing and fix the .tmc?
## Post #612
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-09-27T18:45:43+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks Bony .
## Post #613
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2013-09-27T19:33:05+00:00
- Post Title: Re: Dead or Alive series formats and tools

i'm soo lost on what happened, doa2u is completely reversed? did you make a blender plugin that can make new models for the game?
## Post #614
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-09-28T07:08:10+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Could the fact that the addresses are different in dumped containers be a possibility for why using those dumped / uncompressed .tmcs still won't work in game? 

Is there a way to get the texture addresses before initializing and fix the .tmc?if you'll give me a doa5 dlc skin dumped from doa5u's memory - i'll have a look for differences, and maybe it's possible to create a script that could undo the initialized parts of the model.

> Reply from mariokart64n
>
> i'm soo lost on what happened, doa2u is completely reversed? did you make a blender plugin that can make new models for the game? no, i reversed it enough for a doa3 to doa2u conversion. the joints, the physics, and some chunks from the cat info block are not reversed.

i put the most effort on reversing joints - trying to understand how to convert the doa joints to weights and backwards. i reversed some operations - but i'm stuck on a portion of code where the data is gathered and sent to an anonymous function(method?) of "d3d9.dll", which i can't identify
## Post #615
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-09-29T04:10:22+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> if you'll give me a doa5 dlc skin dumped from doa5u's memory - i'll have a look for differences, and maybe it's possible to create a script that could undo the initialized parts of the model.

Here's Ayane's original Swimsuit DLC as pulled from memory. 

[http://www.mediafire.com/?b805niq5rqmhov0](http://www.mediafire.com/?b805niq5rqmhov0)

It seems like penguin  has figured out how to make the new .tmc's work. He posted a pic of some changes in the beginning of a file, but I haven't done a cross check yet myself.
## Post #616
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-09-29T08:32:26+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> b0ny wrote:if you'll give me a doa5 dlc skin dumped from doa5u's memory - i'll have a look for differences, and maybe it's possible to create a script that could undo the initialized parts of the model.

Here's Ayane's original Swimsuit DLC as pulled from memory ...the file you posted isn't a "Ayane's original Swimsuit DLC ", it's a Ayane's former DLC that is included now in the doa5u core set(it's not dlc anymore), and it's slightly different from the original one thus i can't compare it with one that wasn't initialized by the directx.

what i'm asking for is a doa5 dlc costume not included in the doa5u core set(dumped from doa5u memory)
## Post #617
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-09-29T13:16:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> the file you posted isn't a "Ayane's original Swimsuit DLC ", it's a Ayane's former DLC that is included now in the doa5u core set(it's not dlc anymore), and it's slightly different from the original one thus i can't compare it with one that wasn't initialized by the directx.

what i'm asking for is a doa5 dlc costume not included in the doa5u core set(dumped from doa5u memory)

Sorry my choice of words probably didn't convey the idea.  By 'original' I meant it was her 'first' swimsuit.  That data is from DOA5U. It is her (former) DLC costume (from the disc) loaded from DOA5U into memory.
## Post #618
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-09-29T18:58:54+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> 
Sorry my choice of words probably didn't convey the idea.  By 'original' I meant it was her 'first' swimsuit.  That data is from DOA5U. It is her (former) DLC costume (from the disc) loaded from DOA5U into memory.yeah i get that. the thing is that i don't need a doa5u skin, i need a doa5 dlc one, for researching(if you can give me one).
## Post #619
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2013-09-30T02:07:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

Stop posting bastards.
## Post #620
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-09-30T02:52:58+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> Here you go, the rachel cos 1 for those people who wanted it. I also put in helena sea shell bikini, momji school uniform and momoji white ninja outfit. I didn't do anything to them so they're literally cut straight from the ram dump hence there's no assurance that they'd be compatible with maxscripts. they all display in noesis tho. 

Stop posting content, you dumb bastards.

edit: I think the seashell one and schoolgirl one is dlc so perhaps this will help you too  

Btw for anyone who's looking for a clean skin texture without annoying shadows for momoji that's what the white ninja suit is for it's completely clean

Can you upload rachel's head and hair pls?? ^_^
## Post #621
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2013-09-30T03:16:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

Sop potin con, you dub.
## Post #622
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-09-30T03:44:10+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> Stop posting content, you dumb bastards.

Thanks man.

Trying both scripts on Helena's bikini, mario's fixed script just imports the beads and skeleton and bony's sript imports everything but the beads are incorrectly allocated.
## Post #623
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-09-30T03:54:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> Protocol X27 wrote:
Sorry my choice of words probably didn't convey the idea.  By 'original' I meant it was her 'first' swimsuit.  That data is from DOA5U. It is her (former) DLC costume (from the disc) loaded from DOA5U into memory.yeah i get that. the thing is that i don't need a doa5u skin, i need a doa5 dlc one, for researching(if you can give me one).

My bad, I thought you needed the newer one. 

Stop posting content, you dumb bastards.
## Post #624
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-09-30T05:52:22+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> 
My bad, I thought you needed the newer one. 

Here's the original: Stop posting content, you dumb bastards.maybe it's my bad for not being specific enough at the right moment.
is this costume dumped from the memory?
## Post #625
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2013-09-30T07:00:40+00:00
- Post Title: Re: Dead or Alive series formats and tools

info came with a screen
## Post #626
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2013-09-30T10:42:00+00:00
- Post Title: Re: Dead or Alive series formats and tools

That helps a lot this is good news.
## Post #627
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-09-30T12:55:11+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> Protocol X27 wrote:
My bad, I thought you needed the newer one. 

Here's the original: Stop posting content, you dumb bastardsmaybe it's my bad for not being specific enough at the right moment.
is this costume dumped from the memory?

Hmm, now I'm confused   

1st file: DOA5 DLC Costume (now on disk) used from DOA5U loaded into memory, dumped from RAM.
2nd file: DOA5 DLC Costume (from DLC files) from DOA5 Vanilla extracted by the unpacker.  

Do you need the DOA5 DLC files from DOA5 Vanilla loaded & dumped from that game loading them?

Edit: Just revisiting one thing you said, to hopefully figure out which one you need.
"what i'm asking for is a doa5 dlc costume not included in the doa5u core set(dumped from doa5u memory) "  

~ There technically isn't any vanilla DLC that isn't already on the disc.  There are two types, those that are unlockable by playing, and those unlockable by having the DLC 'unlock file' still on the system.  The second type still gets read from the DOA5U disc and not the vanilla DLC file.
## Post #628
- Username: Lilstormcloud
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2013-09-30T21:07:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

Ok gonna make an extractor for doa5u now. Thanks for that post it explained it all.
to hold people over for now here is a ram extractor.

```
endian big
set tmp 0
do
get tmp long
get offset long
math offset - 0xA0000000
get size long
log "" offset size
while tmp != 65535

```
## Post #629
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2013-09-30T21:40:51+00:00
- Post Title: Re: Dead or Alive series formats and tools

That's absolutely awesome.
## Post #630
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2013-10-01T01:52:32+00:00
- Post Title: Re: Dead or Alive series formats and tools

This is still a wip but it works on a lot of files if people can record what files it fails on into  a list so i can monitor them it would help.
[doa5Udecrypt.7z](https://xentaxbackup.github.io/file/6660_doa5Udecrypt.7z)
## Post #631
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2013-10-01T01:54:49+00:00
- Post Title: Re: Dead or Alive series formats and tools

cool, so what kind of encryption they use time? any surprise messages this time?
## Post #632
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2013-10-01T01:58:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

They just xored their same encryption message lol.
## Post #633
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-10-01T02:24:34+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from chrrox
>
> This is still a wip but it works on a lot of files if people can record what files it fails on into  a list so i can monitor them it would help.

Thanks but stupid question, how to use it?? Do I need the earlier scripts??
## Post #634
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2013-10-01T02:30:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

no other scripts are needed i got it to work with mostly tmc files i need people to try it out to help finish finding whats different in some files.
## Post #635
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-10-01T02:33:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

So I just need to aply this to the .lnk and .bin files or I'm wrong :S
## Post #636
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2013-10-01T02:41:27+00:00
- Post Title: Re: Dead or Alive series formats and tools

yes. like i said its not perfect yet.
## Post #637
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-10-01T02:45:35+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from chrrox
>
> yes. like i said its not perfect yet.

Ok thanks, does it take too long to extract everything? beacuase I tried this with the first dlc and nothing happened >_<'
## Post #638
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2013-10-01T02:48:27+00:00
- Post Title: Re: Dead or Alive series formats and tools

run it from command line. If you get a zlib error it had a problem decrypting the file.
## Post #639
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-10-01T03:03:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from chrrox
>
> run it from command line. If you get a zlib error it had a problem decrypting the file.

It just freezes.
## Post #640
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2013-10-01T03:16:34+00:00
- Post Title: Re: Dead or Alive series formats and tools

just report that file into a list and move on like i said its beta try some char common tmc's.
the only 100% way right now is with the ram dump.
## Post #641
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-10-01T03:36:46+00:00
- Post Title: Re: Dead or Alive series formats and tools

Great Stuff, chrrox. Thanks for the update.  

Did you only set it up for .tmcs so far, or both those and .tmcl's.  I wanted to do at least one test.  More time hopefully tomorrow. 

I tried Ayane's COS 3 tmc & tmcl. At initial glance the tmc decrypted, but the .tmcl returned this. 

BT161@1S100B@S1]]2J372K42E1QRE1100N10{S65131G  >> AYANE_COS_003.TMCL

Error: the compressed zlib/deflate input is wrong or incomplete (-3)

Error: there is an error with the decompression the returned output size is negative (-1)
## Post #642
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-10-01T03:42:19+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from chrrox
>
> just report that file into a list and move on like i said its beta try some char common tmc's.
the only 100% way right now is with the ram dump.

So I have to extract the lnk's files with the lnk.bms first. It's the only way I got the new script to work. If it's that, ok, I'm gonna try.
## Post #643
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-10-01T04:04:58+00:00
- Post Title: Re: Dead or Alive series formats and tools

2U9K3@1S100@D10H]2]B73525Q91103BNN1H41F321N{00PQ11 worked
2U9K3@1S100@D10H]2]B73525Q91103BNN1H41F321N{00PQ11 : zlib problem
## Post #644
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-10-01T04:24:33+00:00
- Post Title: Re: Dead or Alive series formats and tools

2R052@1S100@BF1G]]00724B21G1E1PQ988M{R85181G worked
## Post #645
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-10-01T04:28:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Great Stuff, chrrox. Thanks for the update.  

Did you only set it up for .tmcs so far, or both those and .tmcl's.  I wanted to do at least one test.  More time hopefully tomorrow. 

I tried Ayane's COS 3 tmc & tmcl. At initial glance the tmc decrypted, but the .tmcl returned this. 

BT161@1S100B@S1]]2J372K42E1QRE1100N10{S65131G  >> AYANE_COS_003.TMCL

Error: the compressed zlib/deflate input is wrong or incomplete (-3)

Error: there is an error with the decompression the returned output size is negative (-1)

In a fact, It seems all the tmc's can be decrypted, the problem is tmcl's.

BR062@1S100@CH1]I]B1834DP12F11QJ14MB9{R77181H zlib problem
BS062@1S100@CH1]I]B1834DP12F11QJ14MB9{R77181H zlib problem
2R052@1S100@BH1H]]J1835CP1F11QJ15MB9{R77181H decrypted
2S052@1S100@BH1H]]J1835CP1F11QJ15MB9{R77181H decrypted
## Post #646
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-10-01T04:46:46+00:00
- Post Title: Re: Dead or Alive series formats and tools

BR06S@10T10000@D81]T]0017KRF1319J1H1SBA7O{TC51JJA1J decrypted
## Post #647
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-10-01T12:40:22+00:00
- Post Title: Re: Dead or Alive series formats and tools

i'll stop shitposing on coregrafx, coz google translate doesn't make much sense for me.

though i think this post(some guy replied to me) is saying that the tmcl files use not 3 but 4 bytes for xoring. the actual post:

```
TMCL用の"xor bytes"は4バイト、actual keyはNo.12422の文字列を2回繰り返したもの(1044バイト)
```

[edit]
seems like this is true. it's interesting coz file name extension tmcl is four letters length, maybe this has something to do with the length of the xor bytes... need somehow to find out if for files with longer file name extension the key is longer
## Post #648
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-10-01T17:50:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

Ok, the good news is tmc's are back to functional.   Once again, Nice job, chrrox!

I did a quick mod test using a newly extracted .tmc plus a ram dumped .tmcl, and it worked without rewriting anything.  I just updated the offsets, and file sizes per conventional methods and it's golden. 



I also tried using the old extractor on the .tmcl's which I'm guessing has already been tried, but hey just in case. XD   That one freezes up as well.
## Post #649
- Username: Lilstormcloud
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2013-10-03T02:25:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

Ok test this should support all tmc's and tmcl's that start with a 2 or a B
[doa5Udecrypt.7z](https://xentaxbackup.github.io/file/6663_doa5Udecrypt.7z)
## Post #650
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-10-03T04:20:02+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from chrrox
>
> Ok test this should support all tmc's and tmcl's that start with a 2 or a B

Lol it actually worked:



Problem with:

2S052@1S100@BM1H]]J1835C00E175PQ6J1N{C76171G zlib compression.
2R151@1S100@BG]1]1I172G62C10P1O1G12Q4C171NQ1{087181H zlib compression
2S151@1S100@BG]1]1I172G62C10P1O1G12Q4C171NQ1{087181H zlib compression
2S151@1S100A@S1]]J33J183K62DF1QRG15N{S7511071I zlib compression
2R863@1S100@6L1M1I]]K1935AD2F1PQ551A8O{C98191F zlib compression
2S963@1S100@CG]]I1735C644712E1PQM13192{H1R251712 zlib compression
2R963@1S100@CG]]I1735CH312D1F1PQM1CA71A2{R95191A zlib compression
BS263@1S100@CL1]61I]B193481D100CE12PQ4C9N{R87181B zlib compression (tmcl)

All of them tmc's from the first dlc.
## Post #651
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-10-03T05:44:54+00:00
- Post Title: Re: Dead or Alive series formats and tools

More =D

DLC2:

2T052@1S100@BH1H]]J1835CP1F11QJ15MB9{R77181H zlib compression
2T052@1S100@BH1H]]J18357110C75E1D1PQ007M{R65161H zlib compression
2T052@1S100@BM1H]]J1835C00E175PQ6J1N{C76171G zlib compression
2T151@1S100@BG]1]1I172G62C10P1O1G12Q4C171NQ1{087181H incomplete input file number -2. can't read 2338 bytes.
2T963@1S100@CG]]I1735C644712E1PQM13192{H1R251712 zlib compression
BT263@1S100@CL1]61I]B193481D100CE12PQ4C9N{R87181B zlib compression
2TF63@1S100@CH]]J1735C64C1E1PQPM10093610{R861812 zlib compression
## Post #652
- Username: zaykho
- Rank: mega-veteran
- Number of posts: 217
- Joined date: Fri Dec 03, 2010 8:20 pm
- Post datetime: 2013-10-03T16:41:04+00:00
- Post Title: Re: Dead or Alive series formats and tools

[](http://www.hostingpics.net/viewer.php?id=609368Sanstitre2.png)
[](http://www.hostingpics.net/viewer.php?id=989147iseewhatyoudidthere.png)



Long time didn't ripped something from doa, and the ultimate one seems to have some pretty outfit (pantsu where are you ?).

I will look at this one soon.
## Post #653
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-10-04T10:09:10+00:00
- Post Title: Re: Dead or Alive series formats and tools

DoA3 skin pack for Dead or Alive Online(PC) (version 0.9a)

This pack includes all the outfits from "Dead or Alive 3", converted to work in "Dead or Alive Online". In the new version many small fixes where done, and was converted the morphing animation - so now the skins can move the fingers/eyeleads/mouth/boobs. (read "read or die.txt" for more information)

the python script for converting is also included, but be carefully with using these costumes in doa2u, some cat files exceed the maximum size and will hang the game.
also in this "DLC" you'll find the latest loader for doao, that improves the support for the "DOAX -> DOAO" costumes, and makes possible to play them online(only offline play were available for them till now).
## Post #654
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-10-07T22:10:32+00:00
- Post Title: Re: Dead or Alive series formats and tools

2T151@1S100@BG]1]1I172G62C10P1O1G12Q4C171NQ1{087181H

Neither of the scripts work on it.
## Post #655
- Username: Darko
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2013-10-07T23:20:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

The key is 4 bytes long for that one so the first letter rule is not always true as the poster said on that forum.
Just change the first letter to B and it will extract fine.
## Post #656
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-10-08T02:32:58+00:00
- Post Title: Re: Dead or Alive series formats and tools

Loooooooooooooool Thanks, and for those tmcl's which can't be unpacked??

BSE73@1S100@D]I]62343DA12PQJ1410M10{R721H
## Post #657
- Username: Darko
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2013-10-08T03:14:15+00:00
- Post Title: Re: Dead or Alive series formats and tools

It uses the first script.
change
findloc START string "\x00\x00"
math START - END

into

findloc START string "\x00\x00"
set START 0x3E
math START - END
## Post #658
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-10-08T03:23:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks, but another one:

BRA73@1S100@D]H]623DH312C14PQM1A971710210{R9218
## Post #659
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2013-10-08T03:42:29+00:00
- Post Title: Re: Dead or Alive series formats and tools

The same exact thing works for that one ....
## Post #660
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-10-08T03:58:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from chrrox
>
> The same exact thing works for that one ....

Thanks, got it, this didn't work even with the first script changed:

BQ161R1@131B@S1]]2J372K42E1QRE1100N10{S65131H
BU8K3@1S100@D10D1]IB12]H1K1GB5I1QE16B6GN006A2219{PQ1L

This wasn't uncompresed correctly:

BT0K2@1S100@DI212]J00A12]D9362QB16G1EN000K011D{PQ18

I mean, I got a .dec file using the first script and also the corrected one and it doesn't work. Even in HXD there's nothing to see.
## Post #661
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-10-08T07:49:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

chrox
the 3 bytes for tmc and 4 bytes for tmcl is not always correct. i do the 4 bytes key, and if the key's "second byte" == "third byte" then i convert this key to a 3 bytes key. this method works fine also for 2 bytes keys. it's not a cure for all files, but this way you don't have to worry about file type.
## Post #662
- Username: Ghost1705
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Thu Dec 09, 2010 8:54 pm
- Post datetime: 2013-10-08T15:08:57+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hey chrrox.

I tried the Scripts on the DoAU DLC1. All works fine. Just 1 TMC File gives me Trouble:

2R863@1S100@6L1M1I]]K1935AD2F1PQ551A8O{C98191F

BTW: Thanks for the great Tools @ all
## Post #663
- Username: kokuto
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sun Jul 31, 2011 1:26 am
- Post datetime: 2013-10-08T17:16:46+00:00
- Post Title: Re: Dead or Alive series formats and tools

>2R863@1S100@6L1M1I]]K1935AD2F1PQ551A8O{C98191F
key is 0x0C6722
## Post #664
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-10-08T17:38:39+00:00
- Post Title: Re: Dead or Alive series formats and tools

Another one:

BV8K3@1S100@D10D1]IB12]H1K1GB5I1QE16B6GN006A2219{PQ1L
BQ161R1@131B@S1]]2J372K42E1QRE1100N10{S65131H
BYA73@1S100@DF1]H]723E21544PQ10310MC121{R72100H

If someone got the intimate dlc, both models are extractable.
## Post #665
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-10-08T22:48:30+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> chrox
the 3 bytes for tmc and 4 bytes for tmcl is not always correct. i do the 4 bytes key, and if the key's "second byte" == "third byte" then i convert this key to a 3 bytes key. this method works fine also for 2 bytes keys. it's not a cure for all files, but this way you don't have to worry about file type.

Can someone explain this in more detail pls
## Post #666
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2013-10-08T22:56:47+00:00
- Post Title: Re: Dead or Alive series formats and tools

he is explaining what i said not all files use a 3 byte xor key for tmc and a 4 byte xor key for tmcl.
you can test both of these by changing the first letter of the file name from B to 2 or from 2 to B.
## Post #667
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-10-08T23:41:15+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from chrrox
>
> he is explaining what i said not all files use a 3 byte xor key for tmc and a 4 byte xor key for tmcl.
you can test both of these by changing the first letter of the file name from B to 2 or from 2 to B.

only that??

Lol I tried that before with a tmcl file with little sucess.
## Post #668
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-10-09T05:32:22+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> chrrox wrote:he is explaining what i said not all files use a 3 byte xor key for tmc and a 4 byte xor key for tmcl.
you can test both of these by changing the first letter of the file name from B to 2 or from 2 to B.

only that??

Lol I tried that before with a tmcl file with little sucess.
actually i suggested here how to create a more universal method of creating the key in the bms script, that will work for keys with all lengths. this will not magically fix all the keys that do not work, but will fix some of them.

it's not intended for manual renaming to see if it works.
## Post #669
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-10-13T02:29:21+00:00
- Post Title: Re: Dead or Alive series formats and tools

Does anyone have any suggestions on how to find the alternate texture containers?  The --H, --HL ones? 

The unpacked versions don't have the uncompressed file size in the head, so locating them in a RAM dump is a bit difficult.  I tried both versions of the extractor bms script on a compressed --HL file combined with a RAM dumped --H file.  b0ny's extractor dumped dds files, but they were scrambled, so I take it the data in the --HL files was not correct.
## Post #670
- Username: kasake
- Rank: n00b
- Number of posts: 15
- Joined date: Thu Feb 16, 2012 3:03 pm
- Post datetime: 2013-10-13T16:40:21+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hey guys, I'm trying to follow along with your guys' work, however I'm kind of lost as to where you start. Is everyone using the doa5-lnk-bin.bms file (previously used on DoA5) to extract the initial .dat files, then using the doa5Udecrypt.bms file chrrox had provided on the .dat files? This is what I've done and I've so far only produced .dec files, no .tmc/.tmcl

I'm a little confused because the order of .bms files used was previously, lnk.bms>extract.bms>decrypt.bms
## Post #671
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-10-13T18:13:20+00:00
- Post Title: Re: Dead or Alive series formats and tools

DoA5U Archivarius version 1.4 - (click to download)

this is a tool to unpack files from doa5U lnk archives(the injection won't work and some times decryption key is wrong). you need Python installed to run it.

--
Protocol X27give me the files you have troubles with i'll have a look, when i'll have enough time.

[edit]
i'm trying to figure out why the inflating fails when the key seems to by right. my guess is that they use something else than zlib for deflating, knowing that in doa5u the same files have a much better compression ratio, this could be something like 7zip(and also knowing that 7zip can produce incompatible zip files).
## Post #672
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-10-14T13:59:00+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from kasake
>
> Hey guys, I'm trying to follow along with your guys' work, however I'm kind of lost as to where you start. Is everyone using the doa5-lnk-bin.bms file (previously used on DoA5) to extract the initial .dat files, then using the doa5Udecrypt.bms file chrrox had provided on the .dat files? This is what I've done and I've so far only produced .dec files, no .tmc/.tmcl

I'm a little confused because the order of .bms files used was previously, lnk.bms>extract.bms>decrypt.bms

Use this 4, one to extrac the lnk or bin file and the other to find out the encyption:
[Root.7z](https://xentaxbackup.github.io/file/6697_Root.7z)
## Post #673
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-10-14T16:12:52+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Does anyone have any suggestions on how to find the alternate texture containers?  The --H, --HL ones? 

The unpacked versions don't have the uncompressed file size in the head, so locating them in a RAM dump is a bit difficult.  I tried both versions of the extractor bms script on a compressed --HL file combined with a RAM dumped --H file.  b0ny's extractor dumped dds files, but they were scrambled, so I take it the data in the --HL files was not correct.

Yep. Use the file below, is a copy of the DOA5U dump made by bony. It's easy, just see what 2 correspond to the tmc you want the texture, copy it's raw name and aste in the notepas++ search tool. Normally it comes a 2, then a B, then again a 2, a 7 and B. The 7 and the B is what you need, bony extractor estracts some of the 7 files and use the bms scripts to decrypt the b's.
[doa5u_arch.7z](https://xentaxbackup.github.io/file/6699_doa5u_arch.7z)
## Post #674
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-10-14T20:06:05+00:00
- Post Title: Re: Dead or Alive series formats and tools

DoA5U Archivarius version 1.5 - (still not decrypting all files)

updated with reconstructed names for doa5u dlc's. they added imparity for indexes in dlc files for costumes names and for icons names, i.e. the icon for "helena_dlcu_006" is "helena dlc_016.--P". i wasn't sure what should i do, use the real names or use the index of corresponding costume like "helena dlcu_006.--P" for "helena_dlcu_006".(the real names are used but this is not very convenient).

i need you guys to help me with a detailed tutorial on how to inject in the core "lnk" files, to automatize the process with this tool.
## Post #675
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-10-14T22:05:33+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hmm, Thanks for the updates, guys.  

Results seem to be hit or miss.  The two in question are a set for Helena's Pop idol costume.  Archivarius throws a key generation failed error, and the bms throws an 'incomplete input file'

--H:  7R06S@10T10000@7I1S]]K128L8110RG187H1F1S003O{TA511J71J
--HL: BR06S@10T10000@DI1]T]C128L8110RG9735H1F1S005O{TB511J71J

Anything else I could be missing?  If I need to provide data let me know.
## Post #676
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-10-16T14:59:27+00:00
- Post Title: Re: Dead or Alive series formats and tools

DoA5U Archivarius version 1.5a - (still not decrypting all files)

just fixed some mistakes of mine(momiji's costumes where called pai), added a few names and now names for dlcu icons correspond to paired costumes.
## Post #677
- Username: HeliosAI
- Rank: mega-veteran
- Number of posts: 166
- Joined date: Wed Nov 17, 2010 9:57 pm
- Post datetime: 2013-10-20T11:19:28+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks a lot for updates on this^^

Is it normal though that the error ''key generation failed'' prevents me from extracting all .tmcl files and more than half of the .tmc ones? ><

Also is there a way to decrypt these files yet? I think it's Leifang's new hair, would really love to have it. I guess the same would work for Pai's new hair aswell.

BU8K3@1S100@D10D1]IB12]H1K1GB5I1QE16B6GN006A2219{PQ1L
BV8K3@1S100@D10D1]IB12]H1K1GB5I1QE16B6GN006A2219{PQ1L

Thanks for any help ><
## Post #678
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-10-20T15:44:32+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from o0Crofty0o
>
> Thanks a lot for updates on this^^

Is it normal though that the error ''key generation failed'' prevents me from extracting all .tmcl files and more than half of the .tmc ones? ><

Also is there a way to decrypt these files yet? I think it's Leifang's new hair, would really love to have it. I guess the same would work for Pai's new hair aswell.

BU8K3@1S100@D10D1]IB12]H1K1GB5I1QE16B6GN006A2219{PQ1L
BV8K3@1S100@D10D1]IB12]H1K1GB5I1QE16B6GN006A2219{PQ1L

Thanks for any help ><

Actually nope, I've tried to decrypt Helena's and Leifang's new hair (also Kasumi's and Hayate's training costumes) with all the scripts, and nothing >_<'
## Post #679
- Username: HeliosAI
- Rank: mega-veteran
- Number of posts: 166
- Joined date: Wed Nov 17, 2010 9:57 pm
- Post datetime: 2013-10-20T16:21:34+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> 

Actually nope, I've tried to decrypt Helena's and Leifang's new hair (also Kasumi's and Hayate's training costumes) with all the scripts, and nothing >_<'

Yeah i tried same >.< Too bad.
## Post #680
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2013-10-20T16:58:11+00:00
- Post Title: Re: Dead or Alive series formats and tools

you can decrypt them edit my script and change 
findloc START string "\x00\x00\x00\x00\x00\x00"
to
findloc START string "\x00\x00"
## Post #681
- Username: HeliosAI
- Rank: mega-veteran
- Number of posts: 166
- Joined date: Wed Nov 17, 2010 9:57 pm
- Post datetime: 2013-10-20T17:56:11+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from chrrox
>
> you can decrypt them edit my script and change 
findloc START string "\x00\x00\x00\x00\x00\x00"
to
findloc START string "\x00\x00"

YAY Thanks so much! Tested it on Lei's hair and it works fine  Gotta try some others now.
Thanks again!

EDIT: Just a question ><
Did anyone ever figure out what's the problem with Rig, Brad Wong, Leon, Akira and Jacky? Their meshes never import correctly to anything.
## Post #682
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-10-21T06:08:07+00:00
- Post Title: Re: Dead or Alive series formats and tools

I couldn't decrypt this tmc even changing the second script:

2R863@1S100@6L1M1I]]K1935AD2F1PQ551A8O{C98191F

DOA5U archivarious doesn't work too.
## Post #683
- Username: Ayuvir
- Rank: n00b
- Number of posts: 11
- Joined date: Sun Mar 20, 2011 9:24 pm
- Post datetime: 2013-10-21T07:21:38+00:00
- Post Title: Re: Dead or Alive series formats and tools

Is it possible to decrypt and view Akira's new Halloween costume or is the whole model non-viewable? (not just the face?)
## Post #684
- Username: HeliosAI
- Rank: mega-veteran
- Number of posts: 166
- Joined date: Wed Nov 17, 2010 9:57 pm
- Post datetime: 2013-10-21T08:00:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> I couldn't decrypt this tmc even changing the second script:

2R863@1S100@6L1M1I]]K1935AD2F1PQ551A8O{C98191F

DOA5U archivarious doesn't work too.
I have this Problem too on a few Halloween outfits tmcl. None of the script variations work.
## Post #685
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-10-21T20:24:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

@chrrox, do you know what it would take to get the above mentioned issue (face meshes) working?  Since it's not a data issue (ie they work in the game) there's something different that impairs both the Noesis & 3ds scripts.   3dsmax scripts will partially draw the mesh, but then choke somewhere along the way.  

Someone on dA sure has interest in proving its possibly without any interest in sharing the process. :-/
## Post #686
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2013-10-21T21:50:28+00:00
- Post Title: Re: Dead or Alive series formats and tools

I would have to look at the model files.
I know some 360 models were like ps3 models and had model data in the tmc instead of tmcl.
## Post #687
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-10-22T00:15:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from chrrox
>
> I would have to look at the model files.
I know some 360 models were like ps3 models and had model data in the tmc instead of tmcl.

Gotcha, that makes sense.  Do you need files, or do you have some to work from? That is if you get the time to look into it. 

b0ny, did you still need info on the modding / injection process? Wasn't sure if you meant injected back into the .lnk as a compressed file or the method for modding which, injects the uncompressed file into the .lnk at the end of the archive.
## Post #688
- Username: MuffinMan123
- Rank: beginner
- Number of posts: 39
- Joined date: Fri Feb 25, 2011 10:36 am
- Post datetime: 2013-11-04T04:25:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

I started seeing xnalara models for doa5u, what's going on? I thought the new compression hasn't been solved yet. are they doing it through jtagged xbox data dump?
## Post #689
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-11-04T05:30:43+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from MuffinMan123
>
> I started seeing xnalara models for doa5u, what's going on? I thought the new compression hasn't been solved yet. are they doing it through jtagged xbox data dump?

The compression is almost solved, but there're a few files that can't be decrypted.
## Post #690
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-11-05T18:52:04+00:00
- Post Title: Re: Dead or Alive series formats and tools

I had problems with:

2UC63@1S100@CL1H]71]B193681C10CE12PQ4C9N{R87181B
BU263@1S100@CL1]61I]B193481D100CE12PQ4C9N{R87181B

Those are:

RACHEL_DLCU_004.TMC
RACHEL_DLCU_004.TMCL

From the newest DLC.
## Post #691
- Username: kokuto
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sun Jul 31, 2011 1:26 am
- Post datetime: 2013-11-05T22:23:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

>2UC63@1S100@CL1H]71]B193681C10CE12PQ4C9N{R87181B
key: 1583CE
>BU263@1S100@CL1]61I]B193481D100CE12PQ4C9N{R87181B
key: 05E8845D
## Post #692
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-11-05T22:46:33+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from kokuto
>
> >2UC63@1S100@CL1H]71]B193681C10CE12PQ4C9N{R87181B
key: 1583CE
>BU263@1S100@CL1]61I]B193481D100CE12PQ4C9N{R87181B
key: 05E8845D

How to aply that in the bms script :S
## Post #693
- Username: peach4
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Mon Jul 30, 2012 12:59 pm
- Post datetime: 2013-11-07T14:07:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hi,
I'm having trouble extracting this file:
2T052@1S100@BH1H]]J18357110C75E1D1PQ007M{R65161H

which is:
HELENA_DLCU_003.TMC

From the School pack DLC.
## Post #694
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-11-07T18:11:31+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from peach4
>
> Hi,
I'm having trouble extracting this file:
2T052@1S100@BH1H]]J18357110C75E1D1PQ007M{R65161H

which is:
HELENA_DLCU_003.TMC

From the School pack DLC.

Try one of this bms scipts, I already extracted her:
[Root.rar](https://xentaxbackup.github.io/file/6756_Root.rar)
## Post #695
- Username: peach4
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Mon Jul 30, 2012 12:59 pm
- Post datetime: 2013-11-08T04:33:12+00:00
- Post Title: Re: Dead or Alive series formats and tools

omg thank you, I completely love you now.
## Post #696
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-11-08T04:59:23+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from peach4
>
> omg thank you, I completely love you now.

Lol Love chrrox, He was the guy who made the 2 scripts and also the one who suggested to change some lines in both of them.
## Post #697
- Username: Orodreth88
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Sat Dec 31, 2011 10:23 pm
- Post datetime: 2013-11-10T22:48:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

I have problems with the hair from Rachel. I extracted the files with the scripts from chrrox. But when I open the files in Noesis or Blender, there is no mesh. Only the bones are visible.

Files:
2RCK3@1S100@DM121I]71103]C9331Q61G1DO0K0B931N{QF1J
BR2K3@1S100@DM121]61J212]D9331Q611G1DO0K0B931N{QF1J
## Post #698
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-11-12T21:41:27+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from kokuto
>
> >2UC63@1S100@CL1H]71]B193681C10CE12PQ4C9N{R87181B
key: 1583CE
>BU263@1S100@CL1]61I]B193481D100CE12PQ4C9N{R87181B
key: 05E8845D

> Reply from Darko
>
> How to aply that in the bms script :S

Any progress or explanation available on this?  I see where the key entries are in the BMS, but I don't understand the syntax to know know which value needs to be updated ... for example  KEY2 ^ 0x-----  Is that an assignment, exponent or something different altogether?

It'd also be nice to know a method for solving the key if there's that many that are different for other broken tmcs.
## Post #699
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-11-13T00:31:20+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> kokuto wrote:>2UC63@1S100@CL1H]71]B193681C10CE12PQ4C9N{R87181B
key: 1583CE
>BU263@1S100@CL1]61I]B193481D100CE12PQ4C9N{R87181B
key: 05E8845D
Darko wrote:How to aply that in the bms script :S

Any progress or explanation available on this?  I see where the key entries are in the BMS, but I don't understand the syntax to know know which value needs to be updated ... for example  KEY2 ^ 0x-----  Is that an assignment, exponent or something different altogether?

It'd also be nice to know a method for solving the key if there's that many that are different for other broken tmcs.

I applied those in both max scripts (and also the the moded ones  with chrrox corrections<----lol) and I got nothing.
## Post #700
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-11-13T14:01:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

hi all. long time no see 
if you have doa5u outfits dumped from the xbox360 memory then i have something for you to test. maybe it's too late, but in case you steel need it:

uninit doa5u tmc.py (requires python 3)

this script, will reset, in a doa5 tmc file dumped from the xbox360 memory, all alterations caused by the directx initialization.
in other words it should make the dumped files work when injected back in the game.

i tested it only on two files "hitomi_cos_009" and "ayane_dlc_004". it needs more testing(maybe with files that can't be extracted)...
## Post #701
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-11-13T15:56:33+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> hi all. long time no see 
if you have doa5u outfits dumped from the xbox360 memory then i have something for you to test. maybe it's too late, but in case you steel need it:

uninit doa5u tmc.py (requires python 3)

this script, will reset, in a doa5 tmc file dumped from the xbox360 memory, all alterations caused by the directx initialization.
in other words it should make the dumped files work when injected back in the game.

i tested it only on two files "hitomi_cos_009" and "ayane_dlc_004". it needs more testing(maybe with files that can't be extracted)...

Awesome, thanks, I will check this out. Glad you're still helping with the support.  

> Reply from Darko
>
> I applied those in both max scripts (and also the the moded ones  with chrrox corrections<----lol) and I got nothing.

Ah, thanks for clarifying.  Maybe b0ny's utility will help get us around that.  I haven't seen a memory dumped version not work for XNALara purposes yet, but those won't work for modding.
## Post #702
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-11-13T19:05:53+00:00
- Post Title: Re: Dead or Alive series formats and tools

here is a package of some doa3 costumes converted for doa2u.

some unique doa3 costumes for doa2u

i deleted the animations for mouth or hands for some costumes to make the bin files smaller to fit in the allocated memory(xbox memory is limited thus i don't thing it's a good idea to increase the supported file sizes by patching the executable).

leidoa requested this package, but i posted it here in case anyone else is still playing doa2u and wants some doa3 unique costumes for it.
## Post #703
- Username: kokuto
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sun Jul 31, 2011 1:26 am
- Post datetime: 2013-11-18T04:44:07+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> I applied those in both max scripts (and also the the moded ones  with chrrox corrections<----lol) and I got nothing.
Temporary change: insert assign statements before PutVarChr statements in doa5Udecrypt.bms

>set KEY1 0x1583CE
>PutVarChr MEMORY_FILE2 0 KEY1 threebyte

>set KEY2 0x05E8
>set KEY1 0x845D
>PutVarChr MEMORY_FILE2 0 KEY2 short
>PutVarChr MEMORY_FILE2 2 KEY1 short
## Post #704
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-11-18T05:36:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from kokuto
>
> Darko wrote:I applied those in both max scripts (and also the the moded ones  with chrrox corrections<----lol) and I got nothing.
Temporary change: insert assign statements before PutVarChr statements in doa5Udecrypt.bms

>set KEY1 0x1583CE
>PutVarChr MEMORY_FILE2 0 KEY1 threebyte

>set KEY2 0x05E8
>set KEY1 0x845D
>PutVarChr MEMORY_FILE2 0 KEY2 short
>PutVarChr MEMORY_FILE2 2 KEY1 short

Thanks, and how did you get those keys??
## Post #705
- Username: kokuto
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sun Jul 31, 2011 1:26 am
- Post datetime: 2013-11-18T05:59:44+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> how did you get those keys??
for failed tmc/tmcl

tmc/tmcl from memory dump
1. extract tmc/tmcl from memory dump
2. wash the tmc
3. zlib-compress the tmc/tmcl
tmc/tmcl from dlc
1. extract tmc/tmcl from dlc

xor them -> xor "Except as ..." string
## Post #706
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-11-19T15:21:59+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from kokuto
>
> Darko wrote:how did you get those keys??
for failed tmc/tmcl

tmc/tmcl from memory dump
1. extract tmc/tmcl from memory dump
2. wash the tmc
3. zlib-compress the tmc/tmcl
tmc/tmcl from dlc
1. extract tmc/tmcl from dlc

xor them -> xor "Except as ..." string
I forgot to ask, by what value we need to xor??
## Post #707
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-11-19T20:02:31+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from kokuto
>
> Darko wrote:how did you get those keys??
for failed tmc/tmcl

tmc/tmcl from memory dump
1. extract tmc/tmcl from memory dump
2. wash the tmc
3. zlib-compress the tmc/tmcl
tmc/tmcl from dlc
1. extract tmc/tmcl from dlc

xor them -> xor "Except as ..." string

Thanks for explaining that.  I'm still a noob on the zlib stuff.  Is that the actual app name or do I need a utility for that?

Also, what do you mean by wash?
## Post #708
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-11-20T19:53:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

doa5Uarchivarius(v16) you need python from 'python.org' to run this

tough it's for extracting single files, i added a "export all" button, and attention, what this button does, is extracts all the files filtered by the search entry(like you search for kasumi then hit 'export all' and it exports only casumi's files, or you search for some filename extension and export all files of a certain type), and coz i couldn't speed up more the xor/unzip functions, exporting all files will take you a hell a lot of time.

i think some filenames are wrong. i'll fix this tomorow...

please report the files it can't unpack(returning a 'key error'). and, somebody, test the 'swap' function for DLCU costumes

also have anyone tested my script for cleaning the memory dumped tmc files?
## Post #709
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-11-21T00:21:47+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> doa5Uarchivarius(v16) you need python from 'python.org' to run this

tough it's for extracting single files, i added a "export all" button, and attention, what this button does, is extracts all the files filtered by the search entry(like you search for kasumi then hit 'export all' and it exports only casumi's files, or you search for some filename extension and export all files of a certain type), and coz i couldn't speed up more the xor/unzip functions, exporting all files will take you a hell a lot of time.

i think some filenames are wrong. i'll fix this tomorow...

please report the files it can't unpack(returning a 'key error'). and, somebody, test the 'swap' function for DLCU costumes

also have anyone tested my script for cleaning the memory dumped tmc files?

Extracted all the files from the DLC's without any problem. Thanks b0ny ^^. by the way, are you gonna add support for animations in DOA5??
## Post #710
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-11-21T03:38:52+00:00
- Post Title: Re: Dead or Alive series formats and tools

b0ny, you Rock!!!  

I tried it on, Helena's Pop textures and Rachel's sports models and both worked!   I'll keep ya posted if I run across others, that's already a huge plus. 

I did try the unit on Rachel's sports, but the app just closed without any message. I wasn't sure if it was supposed to do that, and I couldn't tell if it modified the file.
## Post #711
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-11-22T08:19:17+00:00
- Post Title: Re: Dead or Alive series formats and tools

[doa5Uarchivarius(v16a)](http://rghost.net/download/50346440/800dd7ac1ff31ccc345d7bcb05e69f1ff1f8a395/doa5Uarchivarius%28v16a%29.7z)

-recovered more names. 
-fixed a few bugs. 
-added a more detailed log, like '*' means that this file is 'encrypted', and '#' means that this file is using an old encryption style, and it could be better to unpack it using the doa5 tools(i mean the original one, not the ultimate).
-did some speed optimizations on key recovering functions

i unpacked all doa5u lnks and a few dlc's i have, and after a hotfix(a really stupid bug), seems like the only file it can't decrypt is 'GENFU_COS_001.TMCL', maybe some one could make a memory dump of it so i could examine, why it doesn't unpack, by recovering the key using kokuto's method...

[reuploaded]

don't forget, it unpacks very slow, it can take a while to unpack...
and if something doesn't work, try restarting the tool.
## Post #712
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-11-22T14:16:44+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks for the latest update! 

I'll try to remember to get that Gen Fu file this weekend. 

Here's a theory question, is it possible to repack a modified tmc / tmcl using the reverse of the unpacking method to overwrite the original file?  Ever since the patches & title update rolled out the usual method of pasting files at the end of the container produces spotty results.  The game will freeze on some modified / uncompressed costumes even if no changes have been made, so there is something that patches are doing to the file or expecting.  If the title update is not active, the exact same pasted costume will work fine.  I've only browsed the title update file, I'm not sure what to look for, so I was curious if it were even possible to re-compress... that is if the process doesn't yield a compressed file with a different size than the original.  

Sorry for changing subjects ...

I was trying to use the Extractor on the Casual DLC textures last night, both versions 1.4 & 1.5 didn't seem to affect the texture I was trying to change.  Do those occasionally need updating for new information based on the DLC?
## Post #713
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-11-22T17:57:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

Doa5Ultimate Archivarius(v16b)

-more recovered names (i think i recovered everything that's possible to recover in here)
-added to archive the libre office document with all the names, and info grabbed from the executable
-warning! it will work wrong with modified files in core lnks, and will work fine with modified files in dlc, coz when working with files from core lnks, it relies on data dumped from the executable, and even if you modify the executable this data remains changed for this tool...

> Reply from Protocol X27
>
> Thanks for the latest update! 

I'll try to remember to get that Gen Fu file this weekend. 

Here's a theory question, is it possible to repack a modified tmc / tmcl using the reverse of the unpacking method to overwrite the original file?  Ever since the patches & title update rolled out the usual method of pasting files at the end of the container produces spotty results.  The game will freeze on some modified / uncompressed costumes even if no changes have been made, so there is something that patches are doing to the file or expecting.  If the title update is not active, the exact same pasted costume will work fine.  I've only browsed the title update file, I'm not sure what to look for, so I was curious if it were even possible to re-compress... that is if the process doesn't yield a compressed file with a different size than the original.that depends on how the xor keys are created, if the key is somehow calculated from the file's parameters like the result size or something than you'll need to know the creation algorithm to create keys, but if it remains unchanged per file then yes, why not, you have just to deflate it and xor with the 'licencekey+shortkey'.

> Reply from Protocol X27
>
> 
Sorry for changing subjects ...

I was trying to use the Extractor on the Casual DLC textures last night, both versions 1.4 & 1.5 didn't seem to affect the texture I was trying to change.  Do those occasionally need updating for new information based on the DLC?you mean the texture extractor? pm me with a link to the file you're trying to inject in, and i'll have a look.

> Reply from Darko
>
> 
... are you gonna add support for animations in DOA5??
 what do you mean by that? importing animations in blender?
## Post #714
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-11-22T21:30:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> Doa5Ultimate Archivarius(v16b)

-more recovered names (i think i recovered everything that's possible to recover in here)
-added to archive the libre office document with all the names, and info grabbed from the executable
-warning! it will work wrong with modified files in core lnks, and will work fine with modified files in dlc, coz when working with files from core lnks, it relies on data dumped from the executable, and even if you modify the executable this data remains changed for this tool...
Protocol X27 wrote:Thanks for the latest update! 

I'll try to remember to get that Gen Fu file this weekend. 

Here's a theory question, is it possible to repack a modified tmc / tmcl using the reverse of the unpacking method to overwrite the original file?  Ever since the patches & title update rolled out the usual method of pasting files at the end of the container produces spotty results.  The game will freeze on some modified / uncompressed costumes even if no changes have been made, so there is something that patches are doing to the file or expecting.  If the title update is not active, the exact same pasted costume will work fine.  I've only browsed the title update file, I'm not sure what to look for, so I was curious if it were even possible to re-compress... that is if the process doesn't yield a compressed file with a different size than the original.  that depends on how the xor keys are created, if the key is somehow calculated from the file's parameters like the result size or something than you'll need to know the creation algorithm to create keys, but if it remains unchanged per file then yes, why not, you have just to deflate it and xor with the 'licencekey+shortkey'.
Protocol X27 wrote:
Sorry for changing subjects ...

I was trying to use the Extractor on the Casual DLC textures last night, both versions 1.4 & 1.5 didn't seem to affect the texture I was trying to change.  Do those occasionally need updating for new information based on the DLC?you mean the texture extractor? pm me with a link to the file you're trying to inject in, and i'll have a look.
Darko wrote:
... are you gonna add support for animations in DOA5??
 what do you mean by that? importing animations in blender?

Yep, just curiosity.
## Post #715
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-11-27T14:00:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

io_import_TPR-GMD.py

blender importer for dead or live 4 format. added support for morphing animation.
and a picture, just to show you where to find the morphing animation in blender.



Darko
oh i didn't get anywhere with the doa5 animation, seems like they pack flags and values all together, and i'm not that smart to unpack these without a live debugging
## Post #716
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-11-27T16:32:07+00:00
- Post Title: Re: Dead or Alive series formats and tools

Someone on coregrafx posted about the possibility of compressing the containers zlib using the key and re-injecting the data. 

I'm willing to test that, but I don't know how to do the compression.  What app do I need to do to accomplish the zlib compression?
## Post #717
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2013-11-27T18:21:38+00:00
- Post Title: Re: Dead or Alive series formats and tools

in python import zlib, then slice the files to chunks of 0x8000 bytes and compress them. there is also some checksumm data like adler or something. you know, maybe this doesn't sound that inspiring but it's a good occasion to learn some python  if you don't understand something, you can google it, and find answers on stackoverflow  , or go to a python forum and ask a clear question, on which you can get a clear answer.

and by the way, who are those guys on coregrafx, try using some of what they say or something to google, and maybe find a different place where they talk and post their researches
## Post #718
- Username: logansan25
- Rank: veteran
- Number of posts: 138
- Joined date: Mon Oct 04, 2010 8:15 am
- Post datetime: 2013-11-29T23:02:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

Where can i find this DLCS?
## Post #719
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-11-30T01:22:39+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from logansan25
>
> Where can i find this DLCS?
Lol

[https://www.google.com.mx/search?q=Dead ... oASVoILwAg](https://www.google.com.mx/search?q=Dead+or+Alive+5+Ultimate+dlc+mediafire&ie=utf-8&oe=utf-8&rls=org.mozilla:es-MX:official&client=firefox-a&gws_rd=cr&ei=Gz2ZUqnnIIbooASVoILwAg)

Where the name of the site is something like xbox360iso...

If this goes against the rules, delete it, anyways ist's just a google search.
## Post #720
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-12-10T19:42:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

Musou Orochi Costumes Available for 360 

[](http://imageshack.us/photo/my-images/826/4e4w.jpg/)

Uploaded with [ImageShack.us](http://imageshack.us)
## Post #721
- Username: THESIERRAMAN
- Rank: n00b
- Number of posts: 16
- Joined date: Wed Jun 06, 2012 4:31 am
- Post datetime: 2013-12-11T04:26:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hello guys I'm the SIERRAMAN and I have a situation for resolve.

I have Dead or Alive 5 Ultimate for XBOX 360 in ISO in my PC. 
I used XBOX BACKUP CREATOR for extract all the elements from the ISO.
And my situation is

¿Do you know how can I get the models (Ayane, Ryu etc.) for 3DS MAX?

I readed the forum and I'm a little confused because I see many programs that you are using and I don't know where and how to begin :S (I'm noob XD).

Thanks for your time for read my message 

PD: I watched a video in youtube called "QuickBMS Dead Or Alive 5 Tutorial" but I don't know where can I get the "LNK export file" for run "QuickBMS" program.
## Post #722
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-12-11T05:10:47+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from THESIERRAMAN
>
>  
Hello guys I'm the SIERRAMAN and I have a situation for resolve.

I have Dead or Alive 5 Ultimate for XBOX 360 in ISO in my PC. 
I used XBOX BACKUP CREATOR for extract all the elements from the ISO.
And my situation is

¿Do you know how can I get the models (Ayane, Ryu etc.) for 3DS MAX?

I readed the forum and I'm a little confused because I see many programs that you are using and I don't know where and how to begin :S (I'm noob XD).

Thanks for your time for read my message 

PD: I watched a video in youtube called "QuickBMS Dead Or Alive 5 Tutorial" but I don't know where can I get the "LNK export file" for run "QuickBMS" program.

Just unpack common_chara.bin and comon_chara.lnk and use doa5Uarchivarius(v16b) to extract evrything and follow the tutorial I posted here to get those models in 3ds max.
## Post #723
- Username: THESIERRAMAN
- Rank: n00b
- Number of posts: 16
- Joined date: Wed Jun 06, 2012 4:31 am
- Post datetime: 2013-12-11T11:17:20+00:00
- Post Title: Re: Dead or Alive series formats and tools

THANKS Darko!!! 
I found your tutorial for move the models for 3ds max (page 38) THANKS 
But I have another question

I downloaded the DLC of DOA5U Musou Orochi 2 (and others) costumes and this archive has this name
05AC8905E0D57D3F9A3ABE70DFE080378FEB91CB4B and whitout extension

¿How can I open these archives and extract the models?

Thanks for your time and for read my question 

PD: I'm reading your tutorial of page 38, Thanks again!!!
## Post #724
- Username: THESIERRAMAN
- Rank: n00b
- Number of posts: 16
- Joined date: Wed Jun 06, 2012 4:31 am
- Post datetime: 2013-12-11T19:03:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hi people!!! 
I have been reading the page 38 (Tutorial for DOA5 models) and I have another situation for resolve :S
¿How can I  import the "tmc's"?
In the import part only have:

collada .dae
motion capture
scalable vector graphics
standford
STL
3D Studio


Thanks for you time and for read my message
## Post #725
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-12-11T21:11:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from THESIERRAMAN
>
> Hi people!!! 
I have been reading the page 38 (Tutorial for DOA5 models) and I have another situation for resolve :S
¿How can I  import the "tmc's"?
In the import part only have:

collada .dae
motion capture
scalable vector graphics
standford
STL
3D Studio


Thanks for you time and for read my message

Use this scripts:

[http://rghost.net/49003974?r=2644](http://rghost.net/49003974?r=2644)
## Post #726
- Username: pkmnmstr
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Sat May 05, 2012 3:55 am
- Post datetime: 2013-12-13T21:21:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

hey guys I cant get my afs explorer to work with DOA4 and DOAX2. What afs extractor are you guys using?
## Post #727
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2013-12-13T21:33:20+00:00
- Post Title: Re: Dead or Alive series formats and tools

OMG it's the great mystic Saiyaman
## Post #728
- Username: THESIERRAMAN
- Rank: n00b
- Number of posts: 16
- Joined date: Wed Jun 06, 2012 4:31 am
- Post datetime: 2013-12-18T20:44:52+00:00
- Post Title: Re: Dead or Alive series formats and tools

THANKS AGAIN Darko!!! 

I have another situation for resolve :S

I downloaded the DLC of DOA5U Musou Orochi 2 and this archive has an strange name

"05AC8905E0D57D3F9A3ABE70DFE080378FEB91CB4B" 

and this archive doesn't have an extension

¿How can I open this archives and extract the models?

Thanks for your time and for read my question
## Post #729
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-12-18T21:48:49+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from THESIERRAMAN
>
> THANKS AGAIN Darko!!! 

I have another situation for resolve :S

I downloaded the DLC of DOA5U Musou Orochi 2 and this archive has an strange name

"05AC8905E0D57D3F9A3ABE70DFE080378FEB91CB4B" 

and this archive doesn't have an extension

¿How can I open this archives and extract the models?

Thanks for your time and for read my question

Read the whole thread please.

Edit: this is worse, you want to rip models from an xbox 360 dlc without knowing how to unpack the files.

Open that file with this program:

[http://digiex.net/downloads/download-ce ... iners.html](http://digiex.net/downloads/download-center-2-0/xbox-360-content/apps-pc/9464-wxpirs-extract-content-xbox-360-demos-video-dlc-arcade-game-containers.html)

Open the bin file with DOA5U archivarious 1.6b by b0ny and you'll get all the tmc¡s and tmcl's.
## Post #730
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2013-12-19T16:44:17+00:00
- Post Title: Re: Dead or Alive series formats and tools

Edit: Well there goes my original post XD

b0ny, you're like a DOA assassin and a psychic.  I had no idea you were working on the compression, and just beat me to by a few hours of contemplating starting to work on one myself.   I'll post results elsewhere.
## Post #731
- Username: migzomgwtf
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sun Feb 27, 2011 8:45 pm
- Post datetime: 2013-12-22T14:15:22+00:00
- Post Title: Re: Dead or Alive series formats and tools

Erm, long-time lurker here. 

But, does anyone still have b0ny's TMC Parser Fix2 Maxscript? It's been deleted and unfortunately handling TMC files on blender 2.69 (blender importer v25) gives me bones with incorrect (local) orientation.  

At the moment I'm porting the head and textures with Blender then the rest of the body and hair purely in Max.
## Post #732
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-12-22T17:39:22+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from migzomgwtf
>
> Erm, long-time lurker here. 

But, does anyone still have b0ny's TMC Parser Fix2 Maxscript? It's been deleted and unfortunately handling TMC files on blender 2.69 (blender importer v25) gives me bones with incorrect (local) orientation.  

At the moment I'm porting the head and textures with Blender then the rest of the body and hair purely in Max.

Here you have
[TMC Praser fix2.rar](https://xentaxbackup.github.io/file/6871_TMC Praser fix2.rar)
## Post #733
- Username: migzomgwtf
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sun Feb 27, 2011 8:45 pm
- Post datetime: 2013-12-22T18:19:35+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> migzomgwtf wrote:Erm, long-time lurker here. 

But, does anyone still have b0ny's TMC Parser Fix2 Maxscript? It's been deleted and unfortunately handling TMC files on blender 2.69 (blender importer v25) gives me bones with incorrect (local) orientation.  

At the moment I'm porting the head and textures with Blender then the rest of the body and hair purely in Max.  

Here you have

Darko, sadly that's tcl's script. b0ny modified it in page 38 of this thread (which coincidentally also has your tutorial on porting to max).
## Post #734
- Username: khanbot
- Rank: beginner
- Number of posts: 29
- Joined date: Tue Dec 13, 2011 6:12 pm
- Post datetime: 2013-12-27T09:46:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

Doa5Ultimate Archivarius(v16b)  how to use this tool?  I have python installed.  do i just run the .py file?  when i do that, a cmd window opens and closes fast.  i think it gives me some syntax error.  is this tool with a gui? plz help 
thanks.

edit: nvm, fixed.  i had old version of python.  i installed python 3 and it work
## Post #735
- Username: aagems
- Rank: advanced
- Number of posts: 75
- Joined date: Thu May 31, 2012 1:07 am
- Post datetime: 2013-12-27T18:44:55+00:00
- Post Title: Re: Dead or Alive series formats and tools

i just wonder,we have tools for doa3,4,5,doa online,even xtreme beach vollyball.but it seems no one bother doa2 dreamcast/ps2 version.does the tools for this game ever exist?if it exist,i hope someone who still have it willing to share it in this wonderful forum
## Post #736
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2013-12-30T14:20:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

resolved
## Post #737
- Username: aagems
- Rank: advanced
- Number of posts: 75
- Joined date: Thu May 31, 2012 1:07 am
- Post datetime: 2013-12-30T20:00:53+00:00
- Post Title: Re: Dead or Alive series formats and tools

Sorry,i had a problem   i still confuse using doa 4 importer for blender(b0ny script),when i import head part,the hair meshes is above head model,this is the same problem i've encourtered with doa paradise importer from fat duck,but since it for 3dsmax,i can solve it,but i dont know how to do it in blender,so the question is how to attach the "flying" hair back to the head model so it join properly with head model,any help will be appreciated
## Post #738
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-01-15T02:50:49+00:00
- Post Title: Re: Dead or Alive series formats and tools

Stupid question, in DOAX2 where's the skeleton and vertex weights for hair?? I mean, in the game the Hair has physics and collisions and according to Mario, the engine itself layers a bunch of joints with vertex weight thata, so the data shoul be stored somewhere.
## Post #739
- Username: Artunia
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Wed Dec 08, 2010 2:12 am
- Post datetime: 2014-01-26T13:22:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hi guys....i have a question concerning the DOA5U

I downloaded (doa5Uarchivarius) by b0ny... and i saw a strange extension (--c, --H and --HL)
Just i want to know how to open that file

Can you help me please?
## Post #740
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-01-28T05:32:30+00:00
- Post Title: Re: Dead or Alive series formats and tools

texture extractor
## Post #741
- Username: blackfoxeye
- Rank: veteran
- Number of posts: 110
- Joined date: Tue Mar 08, 2011 7:03 pm
- Post datetime: 2014-01-28T09:08:17+00:00
- Post Title: Re: Dead or Alive series formats and tools

Is it possible to extract the animation files from DOA-5 ?
## Post #742
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-01-28T23:02:17+00:00
- Post Title: Re: Dead or Alive series formats and tools

i have a question for you guys, is there any need in a doa5u to doa5 converter?

it's not like i have one, but right now i'm dinging into physics and just checking if there could be any reason in such converter.

> Reply from aagems
>
> ... doa 4 ... hair meshes is above head model... you mean doa5? coz in doa4 the hair+head is one model. which model do you have problems with?

> Reply from Darko
>
> ...DOAX2 ... skeleton and vertex weights for hair?? ... can't find any weights for doa4, i thought doax2 uses the same technique. should check mario's findings...

> Reply from blackfoxeye
>
> Is it possible to extract the animation files from DOA-5 ?no
## Post #743
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-01-29T18:59:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

rather a sure fire way
## Post #744
- Username: aagems
- Rank: advanced
- Number of posts: 75
- Joined date: Thu May 31, 2012 1:07 am
- Post datetime: 2014-01-29T20:11:04+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> you mean doa5? coz in doa4 the hair+head is one model. which model do you have problems with? 

Its DOA4,here's the screenshot.

[](http://postimage.org/)

how can i fix this,since i'm not too familiar with blender   sorry if its noob question
## Post #745
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-01-29T20:39:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

ok then i'll concentrate on a ng3 to doa5u converter(not sure if this is doable). are there any ng3 outfits not available officially in doa5(u) yet?

right now i've found that doa5 has 4 kind of physics two of which are similar in some way, and in doa5u they introduced two more physics types.
the chunk names for ACSCLS block are visible in doa5demo. here is the chunks hierarchy but they changed many things for each physic type after the alpha demo.

```
|
+---ACSCLS
	|
	+---ACCESSOR---INFO
	|	|
	|	+---CLOTH _0
	|	|	|
	|	|	+---POINT
	|	|	|	+---POINTINF
	|	|	|		+---CONCRETE
	|	|	|
	|	|	+---EDGE
	|	|	|	+---EDGEINFO
	|	|	|		+---HARD
	|	|	|
	|	|	+---TRIANGLE
	|	|
	|	+---? _4 and _5 for doa5u
	|	|	+---?...
	|	|
	|	+---MIXER _2
	|	|	+---COLUMN
	|	|
	|	+---STRING _3 (_1)
	|		|
	|		+---POINT
	|		|	+---POINTINF
	|		|		+---CONCRETE
	|		|
	|		+---EDGE
	|			+---EDGEINFO
	|				|
	|				+---CONCRETE
	|				|
	|				+---HARD
	|
	+---COLLISIO---INFO
	|
	+---WORK
	|
	+---BONE
```


the mixer(physic type 2) is the simplest one, it has 7 subchunks called "columns" with some vector information for each related bone. i was thinking why there are 7 of them, and my guess is that this is a location(and more) information, a little bit similar like they used for breasts in earlier versions of doa: first case is the default state, then there are 6 states, which result in two most extreme values per each of xyz axis. because of this, physic 2(mixer) doesn't use collision objects. it just links in header the WORK bone for the root, and the BONE bones in "columns" for flexible parts of costume.

i think the easiest way to have fun with physics is to find the value for physical weight and to change it to negative numbers, this way the skirts will attract to the outer space, revealing the panties 

aagems the second head is for the lowpoly or for shadows, just delete it. i guess you need only the highpoly version of the outfit.
## Post #746
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-01-29T21:45:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from aagems
>
> b0ny wrote:you mean doa5? coz in doa4 the hair+head is one model. which model do you have problems with? 

Its DOA4,here's the screenshot.



how can i fix this,since i'm not too familiar with blender   sorry if its noob question

Thats a collision model or a LOD, just erase it, the important thing is the highpoly model.

Regarding DOAX2, any plans to support animations??
## Post #747
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-01-30T04:41:10+00:00
- Post Title: Re: Dead or Alive series formats and tools

all just cosmetics
## Post #748
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-01-30T10:41:20+00:00
- Post Title: Re: Dead or Alive series formats and tools

doa4toO ver01a.7z ~60MB

the lowpoly(LOD) versions of all doa4 outfits for dead or alive online(no physics for clothes yet).
trying to make a decent conversion of doa4 outfits to doao here. experiencing some problems now, like, the joints weight data is empty, and i can't find where is the real one.

the script used for conversion is included. before using it open it in a text editor and edit the paths to the right folders, also you can edit such options like, whether export or not the highpoly or shadow objects.

read the readme for more details...
## Post #749
- Username: Artunia
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Wed Dec 08, 2010 2:12 am
- Post datetime: 2014-01-30T11:11:05+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Artunia
>
> Hi guys....i have a question concerning the DOA5U

I downloaded (doa5Uarchivarius) by b0ny... and i saw a strange extension (--c, --H and --HL)
Just i want to know how to open that file

Can you help me please?

Any answer~??
## Post #750
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-01-30T11:34:00+00:00
- Post Title: Re: Dead or Alive series formats and tools

Artunia
 "--H" + "--HL" are customizable textures for underwears. no idea what "--C" is for.  Lilstormcloud already gave you an answer

Lilstormcloud what i mean by ng3 to doa5 conversion is a conversion for the physics block(ribbons, clothes, ...). in rest the models are mostly compatible. i have no intention in generating extra data like dirt textures, just converting the existing(physics)
## Post #751
- Username: Artunia
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Wed Dec 08, 2010 2:12 am
- Post datetime: 2014-01-31T09:02:17+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> Artunia
 "--H" + "--HL" are customizable textures for underwears. no idea what "--C" is for.  Lilstormcloud already gave you an answer
Sorry, i didn't see him
is it Important files?
## Post #752
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-01-31T11:13:17+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Artunia
>
> b0ny wrote:Artunia
 "--H" + "--HL" are customizable textures for underwears. no idea what "--C" is for.  Lilstormcloud already gave you an answer

Sorry, i didn't see him
is it Important files?
is it important for what? for modding? for extraction? something else?
you can extract the model with your favorite panties.
for modding it is important coz it replaces on loading the textures from the tmc+tmcl file by name, so in theory, you can inject in a --hl container any texture for a replacement in the outfit, like you can have textures with different skin tan or different surface bump/materials/specularity, and change them in the game just by selecting a different variant of this outfit.
## Post #753
- Username: Artunia
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Wed Dec 08, 2010 2:12 am
- Post datetime: 2014-01-31T12:44:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> Artunia wrote:b0ny wrote:Artunia
 "--H" + "--HL" are customizable textures for underwears. no idea what "--C" is for.  Lilstormcloud already gave you an answer

Sorry, i didn't see him
is it Important files?
is it important for what? for modding? for extraction? something else?
you can extract the model with your favorite panties.
for modding it is important coz it replaces on loading the textures from the tmc+tmcl file by name, so in theory, you can inject in a --hl container any texture for a replacement in the outfit, like you can have textures with different skin tan or different surface bump/materials/specularity, and change them in the game just by selecting a different variant of this outfit.

Thanks for your help
## Post #754
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-01-31T14:50:31+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Artunia
>
> b0ny wrote:Artunia
 "--H" + "--HL" are customizable textures for underwears. no idea what "--C" is for.  Lilstormcloud already gave you an answer

Sorry, i didn't see him
is it Important files?

This what is inside KASUMI_COS_004.tmc and KASUMI_COS_004.tmcl



and this is inside KASUMI_COS_004_01.--H and KASUMI_COS_004_01.-HL



Quite the difference, isn't it??

Those packs are intended to store differrent colors of the customzable textures (panties, kasumi's skirt, hitomi's tantop, etc...) and the textures included in the original tmc and tmcl files are low resolution.
## Post #755
- Username: Artunia
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Wed Dec 08, 2010 2:12 am
- Post datetime: 2014-01-31T16:45:02+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> Artunia wrote:b0ny wrote:Artunia
 "--H" + "--HL" are customizable textures for underwears. no idea what "--C" is for.  Lilstormcloud already gave you an answer


This what is inside KASUMI_COS_004.tmc and KASUMI_COS_004.tmcl



and this is inside KASUMI_COS_004_01.--H and KASUMI_COS_004_01.-HL



Quite the difference, isn't it??

Those packs are intended to store differrent colors of the customzable textures (panties, kasumi's skirt, hitomi's tantop, etc...) and the textures included in the original tmc and tmcl files are low resolution.

Wow...Thanks Darko for your help
## Post #756
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-02-01T00:20:09+00:00
- Post Title: Re: Dead or Alive series formats and tools

It's the pantsu  (important)  .
## Post #757
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-02-06T16:47:00+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> It's the pantsu files    of course they're important  .


Fixing the physics will fix the clothes movements so it's all good. I personally understand very little about the ACI block, it would be a big help if you do find a way to convert it.

We're gradually making some progress on the other two issues since they're relevant to normal doaU modding too, it'll all get worked out eventually, just a matter of time.

On a side note there aren't all that many people working on DOA5U at the moment, I hope it doesn't die out, not that there were that many of us to start with anyway.

I'll just echo a couple of things since I've been away for a bit workin on XNAlara stuff over modding.  DLC has me back and ready to tackle some new stuff.    I too hope this doesn't die out either since only a small handful of people so far have taken on some of the heavy stuff.  

@b0ny, thanks for your continued support.  Like LSC said, having a way to inject models for the messed up ones would be awesome.  I did a 2nd test recently, and did get a different unedited model to re-encrypt and work properly, but like before as soon as I did even a texture change it still didn't work compressed & with v1.03 patch.  

Ninja Gaiden models would be awesome still too.  There's still 2 for Ayane, 1 for Ryu and 2-ish for Kasumi if counting the scarf on her default.  As already mentioned the physics are one issue, and in some cases some meshes either cannot be re-injected correctly or choose not to display after removing the blur object. 
---
I've been working on some more advanced swaps and have run into some snags

1) Attempted to change a costume to a character of different body type.  I attempted to switch one of Helena's costumes to Ayane AND switched the body mesh itself so it was Ayane's.  Everything lines up properly in 3dsmax BUT in game there is still a neck gap which is likely due to the skeleton having different bone coordinates.  I tested a few value swaps in the BoneOffsetMatrix, but nothing seemed to make a difference.  Is there a source set of bone coordinates I could try altering? I'm thinking if the upper spine / neck bone were moved to match it may not pull the neck vertices down. 

2) I've asked this one on 360iso, and if I missed an answer I apologize.  Do we know the order / usage of values in vertex buffers after x,y,z,bone Id, and weights.  Rachel has a hidden alt hair style, but is missing a piece. I wanted to switch some meshes on Tina's since they're similar but the mesh groups in question are 44 length yet Rachel's are 40.  I'd need to expand Rachels by 4, but will likely have to put a junk value in and hope it doesn't screw anything up. 

3) Any progress on switching a DXT1 to DXT5? I'd like to get Alpha stuff working on textures currently without Alpha channels.
## Post #758
- Username: leidoa
- Rank: n00b
- Number of posts: 10
- Joined date: Sun Dec 18, 2011 9:53 pm
- Post datetime: 2014-02-06T17:51:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

anyone knows the offset of doa 2 ultimate stages ??? help
## Post #759
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-02-06T21:13:29+00:00
- Post Title: Re: Dead or Alive series formats and tools

2)you have to look for description for flexible vertex format for directx10. these describe what kind of information(data layers) is stored in a vertex and in what kind of format(float, int, ...). you can find them in geodecl chunks for each object. you may try to identify the structure by analyzing the doa5 importer for blender.
3)the swizzled data is not proportional to the unswizzled one. so the only way to transform dxt1 to dxt5 is not only to cut one of the sides of the texture to half but also to change it's type to unswizzled(otherwise it can exceed the allocated size and corrupt the data next to texture). are you good with that? if yes then i'm gonna finish the addition for the archivarius and release it.

[leidoa]
i've lost the links of a forum reversing doa2dreamcast, guys there found the offsets for that game, as i remember the offsets were related to the order of the icons in the "stage select screen", i searched for a video or a screenshot featuring the stage select screen for doa2u but haven't found any. if you'll post a few screenshots with scrolling through stage icons i'll try to restore the right stage indices to find the place where the game decides which stage  is related to which icon.
## Post #760
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-02-06T21:28:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from leidoa
>
> anyone knows the offset of doa 2 ultimate stages ??? help

Lol a question b0ny forgot to aks is if you're talking about DOA2 from Dreamcast or DOA2U from Xbox??
## Post #761
- Username: leidoa
- Rank: n00b
- Number of posts: 10
- Joined date: Sun Dec 18, 2011 9:53 pm
- Post datetime: 2014-02-07T08:25:32+00:00
- Post Title: Re: Dead or Alive series formats and tools

xbox
## Post #762
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-02-07T21:07:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> 2)you have to look for description for flexible vertex format for directx10. these describe what kind of information(data layers) is stored in a vertex and in what kind of format(float, int, ...). you can find them in geodecl chunks for each object. you may try to identify the structure by analyzing the doa5 importer for blender.
3)the swizzled data is not proportional to the unswizzled one. so the only way to transform dxt1 to dxt5 is not only to cut one of the sides of the texture to half but also to change it's type to unswizzled(otherwise it can exceed the allocated size and corrupt the data next to texture). are you good with that? if yes then i'm gonna finish the addition for the archivarius and release it.

2) That level of structure knowledge is still a bit over my head at the moment, so I agree it may be best for me to look at the importers for now. 

3) So do you mean that they different resolutions like 512x512 >> 1024x1024   or something like 512x1024 in which the height and width are mismatched compared to the original? One kind of corruption are we speaking? Enough to make something look incorrect?
## Post #763
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-02-08T00:50:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

tecmo360texturesExtractorV16

added a little 'X' button that will convert dxt1 textures to dxt5(transparent textures).

[Protocol X27]
dxt5 is storing the alpha for each color channel thus it's twice as bigger as dxt1, thus to replace a dxt1 texture with a dxt5 texture you have to divide one of it's sides by two. but with swizzled textures it's even worse, the swizzled data is not proportional to the unswizzled one, thus (afaik) the dxt5 swizzled texture data can be more then 4 times bigger than dxt1 swizzled texture data. but why would you care, just press the little 'X' button and select what side in your opinion is better to keep and which to shorten.

but to enable the transparency correctly in the game, i think you should still edit the material flags or something(not sure about that)
## Post #764
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-02-08T05:11:36+00:00
- Post Title: Re: Dead or Alive series formats and tools


## Post #765
- Username: aagems
- Rank: advanced
- Number of posts: 75
- Joined date: Thu May 31, 2012 1:07 am
- Post datetime: 2014-02-08T12:49:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

B0ny,is tool/blender script or model importer for doa2 dreamcast/doa2 hardcore (PS2) exist?on previous page in this topic(can't remember which page)you share an extractor for *.bin package for doa2 ps2,i wonder if you can make an importer for doa2 model, that would be awesome
## Post #766
- Username: khanbot
- Rank: beginner
- Number of posts: 29
- Joined date: Tue Dec 13, 2011 6:12 pm
- Post datetime: 2014-02-08T17:49:32+00:00
- Post Title: Re: Dead or Alive series formats and tools

hi guys
is it possible to extract stuff from ps3 version of doa5u?  
thanks
## Post #767
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-02-08T21:18:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from aagems
>
> B0ny,is tool/blender script or model importer for doa2 dreamcast/doa2 hardcore (PS2) exist?on previous page in this topic(can't remember which page)you share an extractor for *.bin package for doa2 ps2,i wonder if you can make an importer for doa2 model, that would be awesomethe models format is unknown. not sure if there is a easy way to import models in ps2 version, i'll see what i can do but i'm short in time right now.

> Reply from khanbot
>
> hi guys
is it possible to extract stuff from ps3 version of doa5u?  
thanksafaik, no. i had a look for myself in ps3 models and i didn't like what i've seen, i even couldn't find the vertices to load in blender.
## Post #768
- Username: khanbot
- Rank: beginner
- Number of posts: 29
- Joined date: Tue Dec 13, 2011 6:12 pm
- Post datetime: 2014-02-09T04:46:44+00:00
- Post Title: Re: Dead or Alive series formats and tools

aww 
the game looks better visually on ps3 but idk if thats just me.  but anyways, thanks.
## Post #769
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-02-09T10:53:20+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from khanbot
>
> aww 
the game looks better visually on ps3 but idk if thats just me.  but anyways, thanks.the difference is all about better shaders, they use the same models for both games(afaik)
## Post #770
- Username: aagems
- Rank: advanced
- Number of posts: 75
- Joined date: Thu May 31, 2012 1:07 am
- Post datetime: 2014-02-09T13:06:07+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> the models format is unknown. not sure if there is a easy way to import models in ps2 version, i'll see what i can do but i'm short in time right now.

thanks for your attention on my request b0ny, i'll be patient since i know youre very busy with other project.if dreamcast version is more easier to figure it out,then dreamcast version is okay (since i have both version),also if you need a sample for dreamcast version, i'll be happy to help
## Post #771
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-02-09T18:41:10+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from aagems
>
> b0ny wrote:the models format is unknown. not sure if there is a easy way to import models in ps2 version, i'll see what i can do but i'm short in time right now.

thanks for your attention on my request b0ny, i'll be patient since i know youre very busy with other project.if dreamcast version is more easier to figure it out,then dreamcast version is okay (since i have both version),also if you need a sample for dreamcast version, i'll be happy to help
i have found my old unfinished scripts where i tried to import doa2 for ps2 and dreamcast in blender. i couldn't reverse the formats 
i remember they used some kind of compression for vertices, also strange format for textures and other things i don't remember now..., 
researching on these formats took me a lot of time with zero results
## Post #772
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-02-10T20:18:17+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> 
[Protocol X27]
dxt5 is storing the alpha for each color channel thus it's twice as bigger as dxt1, thus to replace a dxt1 texture with a dxt5 texture you have to divide one of it's sides by two. but with swizzled textures it's even worse, the swizzled data is not proportional to the unswizzled one, thus (afaik) the dxt5 swizzled texture data can be more then 4 times bigger than dxt1 swizzled texture data. but why would you care, just press the little 'X' button and select what side in your opinion is better to keep and which to shorten.

but to enable the transparency correctly in the game, i think you should still edit the material flags or something(not sure about that)

Thanks for the update to this.  I might be doing something incorrect because in Noesis I'm getting a strange tiling with my initial test.  

I have by default a 1024 x 512 DXT1.  I have saved it as a .tga with an alpha channel.  So do I need to save my image with dimensions cut in half?  ie 512x512 for width/yes or 1024 x256 for height/no?
## Post #773
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-02-12T11:12:19+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> 
Thanks for the update to this.  I might be doing something incorrect because in Noesis I'm getting a strange tiling with my initial test.you can't judge by noesis script coz it doesn't handle untilled textures, have you tried it actually in the game?

> Reply from Protocol X27
>
> 
I have by default a 1024 x 512 DXT1.  I have saved it as a .tga with an alpha channel.  So do I need to save my image with dimensions cut in half?  ie 512x512 for width/yes or 1024 x256 for height/no?the dimensions and the format doesn't matter, for alpha you can use tga or png, the injector will transform the image automatically(rescaling it to required dimensions).
## Post #774
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-02-12T16:06:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> Protocol X27 wrote:
Thanks for the update to this.  I might be doing something incorrect because in Noesis I'm getting a strange tiling with my initial test.  you can't judge by noesis script coz it doesn't handle untilled textures, have you tried it actually in the game?

Thanks, no I have not yet. I will try that next, and I'll post screen caps if that doesn't do the trick. I didn't realize there was a variance between Noesis and the end result.

Edit:
Okay, looks like the conversion worked.  On the image I tested the width corrupted something, weird normal / mip map problem, but the height worked just fine.  As you said there is still something else related to the alpha channel to activate transparency  Any chance you know what values relate to that?  If it's stored in the .tmc in the TTX section, I suppose it'd be a trial and error process to test values from one that does have alpha activated :-/
## Post #775
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-02-13T10:42:58+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> ... values relate to that?  If it's stored in the .tmc in the TTX section, ...you have to enable transparency for the materials that use that texture. i could make all the materials, that contain the converted texture, transparent, in the texture extractor itself. but this will kill all the fun, wouldn't it?

TMCmattransparentTemplate.bt

this is a template for a hex editor called "sweetscape 010 editor". run this template on TMC files to hilight the values(material transparency flag) you need to edit.

0. pirate the 010 editor. open both, the tmc file and this template, in it. press <F5> to run the template, and select the right template and the right tmc
1. search for all occurrences of the name of needed texture in the "Template Results" window
2. click on it
3. edit it. you can do this direcly in the hex view, or you can click that little plus button in template results view to expand it and change it's value from 0 to 1
4 save the file



(if this will work i could patch the texture extractor to do this automatically)
## Post #776
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-02-14T03:29:47+00:00
- Post Title: Re: Dead or Alive series formats and tools

Nice,

Well I have a version of that app, I don't know anything about though.  I ran the template against a couple of tmc's and got an error: "*ERROR Line 95: Unsupported custom attribute 'name'. "

It appears to be version 3.1.  Any chance that the version is off, or is it possibly something else?
## Post #777
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-02-14T08:19:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

[Protocol X27]
my bad. i forgot to mention that it's for version 4>

[edit]
doa5ng3_360.py

another noesis script for doa5. handles unswizzled textures. same as in chrox's script it only loads the locations and uvs for meshes. also it uses translation matrices to fix position\orientation for the model objects.

seems that the rpg functions are hungry for ram, and i have a request: can you check the ram consumption for noesis while opening some big doa5 stages with this script.

p.s. bad news i have found that archivarius is unpacking some files incompletely, like "hayabusa boss costume 1 tmcl" and "leifang costume 5 tmcl". there should be more, i haven't tested them all
## Post #778
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-02-15T01:20:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

don't sweat the small stuff
## Post #779
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-02-15T07:05:01+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> This is similar to that post on coregrafx which showed the same process.

assuming that there are no other differences then the next step the coregrafx example showed was a modification in the objinfo block.i need to have a look that post. any chance that you have saved it to your hdd or something?
## Post #780
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-02-16T03:31:15+00:00
- Post Title: Re: Dead or Alive series formats and tools

Here ya
## Post #781
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-02-16T20:27:31+00:00
- Post Title: Re: Dead or Alive series formats and tools

@b0ny, thanks!! 

I tried changing that flag and it didn't seem to have an impact by itself.  The template worked no issue with the newer app at least.  The container I'm using show multiple instances of the same .dds so I tried changing all of them to transparent.  The texture I injected had a completely white alpha channel, just to make sure it's not that.  

That Noesis plugin is awesome.  On the subject of skeleton rotation, any chance the translation can be applied somehow to the 3dsmax script.  One of the mods I really want to do involves a rotated model and replaced one of the meshes from one that is not.  The info on coregrafx at the time was limited as is my knowledge on the 3D structure to know which values needed changing.
## Post #782
- Username: synce
- Rank: n00b
- Number of posts: 12
- Joined date: Tue May 01, 2012 2:26 pm
- Post datetime: 2014-02-17T18:33:26+00:00
- Post Title: Re: Dead or Alive series formats and tools

Can anyone confirm what's inside patch_04_catalog.lnk included in the 1.04 patch? Costumes or Marie Rose?
## Post #783
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2014-02-17T18:53:05+00:00
- Post Title: Re: Dead or Alive series formats and tools

its costumes it says so right on their site.
They are not going to release an arcade only character for a while.
## Post #784
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-02-17T20:33:20+00:00
- Post Title: Re: Dead or Alive series formats and tools

mot doa4to2.py

a python script that will convert doa4 mot files to doao.
you have to open it in a text editor and edit the paths, to doa4 mot folder and to a folder to save the results.
you can watch the doa4 animations by swapping the doao animations with doa4 animations converted by this script. for example to watch cocoro's doa4 intro animations, you should rename cocoro's cinematic animation - "m_hakyo.mot" to "ayane.mot" and replace the original one. then run the game with pyserver, and start watching animations for "ayane" starting with animation 900.

[about doa5 transparency]
i see from these pictures with hex patching, that this guy who made them has found the right values by experimenting. i can't help you without access to the game. you should try to figure it out yourself:
1 find a body with less clothes(like bikini).
2 change all textures to dxt5 with a semitransparent alpha.
3 (draw an owl) try to do that thing from the image. count the amount of bytes from the start of the "objinfo" and edit the values as shown.
4 test it in game. post the results here, maybe together we'll figure out something
## Post #785
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-02-17T20:58:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from synce
>
> Can anyone confirm what's inside patch_04_catalog.lnk included in the 1.04 patch? Costumes or Marie Rose?

A bunch of motions for the new video crap, system balance I guess and 2 riffwave I found and that's all, no meshes inside.
## Post #786
- Username: synce
- Rank: n00b
- Number of posts: 12
- Joined date: Tue May 01, 2012 2:26 pm
- Post datetime: 2014-02-18T12:54:21+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks.. one more month to go I guess
## Post #787
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-02-19T03:49:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> 
[about doa5 transparency]
i see from these pictures with hex patching, that this guy who made them has found the right values by experimenting. i can't help you without access to the game. you should try to figure it out yourself:
1 find a body with less clothes(like bikini).
2 change all textures to dxt5 with a semitransparent alpha.
3 (draw an owl) try to do that thing from the image. count the amount of bytes from the start of the "objinfo" and edit the values as shown.
4 test it in game. post the results here, maybe together we'll figure out something

Yay!! Solved it!! 

There's 3 parts being edited.
1) The transparency flag which your template already does
2) The untiled byte which your extractor/injector does when converting to DXT5
3) Some other information within the ObjInfo for a specific mesh group object.  The trick here is to set a couple bytes like in the last set of the image that LSC posted. It's a matter of setting it for the specific group since all mesh group objects are contained with the ObjInfo block. 

Now the kicker.  I hope someone might have extra info on this, but when a texture with alpha overlays another texture with alpha the bottom texture completely turns invisible.  Not typically a desirable effect.  It's like the DOAX visor trick.  I'm slightly still baffled that it occurs.  Even current costumes cause it to happen in game.  Is this an Xbox 360 issue, or just a common Team Ninja dev practice that still persists?
## Post #788
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-02-19T03:53:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> b0ny wrote:
[about doa5 transparency]
i see from these pictures with hex patching, that this guy who made them has found the right values by experimenting. i can't help you without access to the game. you should try to figure it out yourself:
1 find a body with less clothes(like bikini).
2 change all textures to dxt5 with a semitransparent alpha.
3 (draw an owl) try to do that thing from the image. count the amount of bytes from the start of the "objinfo" and edit the values as shown.
4 test it in game. post the results here, maybe together we'll figure out something

Yay!! Solved it!! 

There's 3 parts being edited.
1) The transparency flag which your template already does
2) The untiled byte which your extractor/injector does when converting to DXT5
3) Some other information within the ObjInfo for a specific mesh group object.  The trick here is to set a couple bytes like in the last set of the image that LSC posted. It's a matter of setting it for the specific group since all mesh group objects are contained with the ObjInfo block. 

Now the kicker.  I hope someone might have extra info on this, but when a texture with alpha overlays another texture with alpha the bottom texture completely turns invisible.  Not typically a desirable effect.  It's like the DOAX visor trick.  I'm slightly still baffled that it occurs.  Even current costumes cause it to happen in game.  Is this an Xbox 360 issue, or just a common Team Ninja dev practice that still persists?

The type of alpha blending??
## Post #789
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-02-19T04:30:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

Very well done.
## Post #790
- Username: zaykho
- Rank: mega-veteran
- Number of posts: 217
- Joined date: Fri Dec 03, 2010 8:20 pm
- Post datetime: 2014-02-19T09:05:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> Very well done.
what you're describing is normal.
here's an example from gamefaqs where they discovered this "glitch"
http://i.imgur.com/B8G35KQ.jpg


Crap ! The pose, those dress and plenty of sakura flower all over them......this picture is like art ! 

> Reply from Lilstormcloud
>
> seems only 1 transparency will be displayed at a time.

About this, I know that "glitch" is here since DOA3, the first episode who really talk about this was the DOAX, with the "X-Ray Visor" !
## Post #791
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-02-19T13:52:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

Here's a thought, even though it's been common to Team Ninja games. Is it an unavoidable issue?  Example:  Hair textures use DXT5 with alpha set to true, but they do not suffer this same effect.  Could be a result of a different property, or possibly because they have dual meshes (one with flipped faces) that may counteract this effect.
## Post #792
- Username: zaykho
- Rank: mega-veteran
- Number of posts: 217
- Joined date: Fri Dec 03, 2010 8:20 pm
- Post datetime: 2014-02-19T14:18:30+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Could be a result of a different property, or possibly because they have dual meshes (one with flipped faces) that may counteract this effect.

Maybe......

But the thing is, why bother to fixing this issue ? if I was a dev I will let this issue there, and as a fan, I'm happy to know that this "glitch" is still here.....
## Post #793
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-02-19T16:48:34+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from zaykho
>
> Protocol X27 wrote:Could be a result of a different property, or possibly because they have dual meshes (one with flipped faces) that may counteract this effect.  


Maybe......

But the thing is, why bother to fixing this issue ? if I was a dev I will let this issue there, and as a fan, I'm happy to know that this "glitch" is still here.....

Um, well as one with intent to make creative trends, its counterproductive to some efforts.  Plus with ability to change it, having such a 'glitch'  is a moot point.  If someone is going to take the time to make a full nude mesh, I don't know why having to see it through a different persons clothing would be all that relevant, lol. 

---

A couple of things I forgot to mention. 

b0ny, that Noesis update is incredible.  Most stages and static items are all positioned correctly.  That's huge for porting stages & items now.     

Also, I take that plugin change handles untiled textures now, since the DXT5's all show up properly now even after modified.
## Post #794
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-02-19T22:46:58+00:00
- Post Title: Re: Dead or Alive series formats and tools

Protocol X27 cool, you did it  
you can try to look what values take these objinfo flags for different transparent objects. 

maybe this is unrelated, but i think i see similarities to doa2xpr, where 1 should mean transparent( i have seen in one place how they use this 1 flag to solve the multiple_transparency problems by converting it to 2 ), and 8 is related to "backface culling"/"triangle winding", in this case 0 should mean "double facing", 1 = normal normals, 2 = inverted normals, 8 = mesh has a superior alpha order and is visible through other transparent objects(this is used for hair). (once again, i can be wrong)

TMCmattransparentTemplate.bt 

here is an updated version of the 010 template. with highlights for transparency in "objinfo" and "objmat".

note: you can search in "010 editor's template results" by pressing <ctrl+F> while the focus being in it.

p.s. the noesis script supports also the ng3 files.
## Post #795
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-02-21T03:11:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks for the tips, b0ny.  I was initially going to skip the current costume since others don't have the same issue, but between your suggestions on the values and some comparison against a hair file, I figured it out.  

It required changing two values.  The value directly below the UBYTE Transparency 8 (the overall ObjInfo value) AND the value beneath the '08' for the specific item within the ObjInfo both need to be set to '01' There were still some minor normal/tiling issues on part of the texture, but at least it wasn't doing the dual transparency thing.  

---

On a different note, yep I did notice the new plugin was working for the ng stuff as well.   Since you figured out the rotation issue.  Is it possible for you to explain where that value is in the tmc and how it affects the vertices?

I want to inject an 'unrotated' mesh into a .tmc that is 'rotated', but that won't work correctly without translating the verts.  If I knew what values to apply to the verts I could right a routine that will do so for all of them.
## Post #796
- Username: gomen
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Thu Feb 10, 2011 8:45 am
- Post datetime: 2014-03-22T03:47:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

hi guys

Is it possible to extract the voice from DOA5U?
## Post #797
- Username: 252gt
- Rank: beginner
- Number of posts: 22
- Joined date: Sun Aug 14, 2011 1:52 am
- Post datetime: 2014-03-25T15:14:34+00:00
- Post Title: Re: Dead or Alive series formats and tools

Any news about Marie Rose

DLC is out   

I extract the file but -_-

How to know the correct one ( TMC and TMCL )
## Post #798
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-03-25T16:32:44+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from 252gt
>
> Any news about Marie Rose

DLC is out   

I extract the file but -_-

How to know the correct one ( TMC and TMCL )

Patch has face, basic costume and hair, and content has "DLC" costumes. For some reasons, Archivariaus doesn't want to decrypt anything from patch, I'm doing it with the old bms scripts >_<'
## Post #799
- Username: 252gt
- Rank: beginner
- Number of posts: 22
- Joined date: Sun Aug 14, 2011 1:52 am
- Post datetime: 2014-03-25T17:05:46+00:00
- Post Title: Re: Dead or Alive series formats and tools

bms script

I don't know how to do it   

I want her 2nd outfit

can you send it for me or explain how bms work ( which I prefer ) ?? 

and 

Thanks Darko
## Post #800
- Username: porimac
- Rank: VIP member
- Number of posts: 109
- Joined date: Wed Sep 08, 2010 11:46 pm
- Post datetime: 2014-03-25T17:22:26+00:00
- Post Title: Re: Dead or Alive series formats and tools

i couldnt decrypt new DLC(marie rose) with doa5Uarchivarius....
[http://www.mediafire.com/view/56cxi3twv ... ncrypt.csv](http://www.mediafire.com/view/56cxi3twv0powrr/Dead_or_Alive_5_Ultimate_Downloadable_Content_-_12_encrypt.csv)
## Post #801
- Username: mikulover39
- Rank: advanced
- Number of posts: 61
- Joined date: Tue Nov 22, 2011 5:55 pm
- Post datetime: 2014-03-25T20:03:33+00:00
- Post Title: Re: Dead or Alive series formats and tools

I edited doa5Uarchivarius.dat to also include Marie Rose and should work for both the patch and dlc so just replace the .dat and it should work.
TMC, TMCL, --H, --HL files will be extracted with names tho I don't think her 2 normal costumes have --H and --HL files but the dlc ones do.

If it doesn't work than tell me, though I tested it and all my files extracted fine have fun :3

(Updated .dat file)
[doa5Uarchivarius.zip](https://xentaxbackup.github.io/file/7134_doa5Uarchivarius.zip)
## Post #802
- Username: porimac
- Rank: VIP member
- Number of posts: 109
- Joined date: Wed Sep 08, 2010 11:46 pm
- Post datetime: 2014-03-25T20:33:55+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mikulover39
>
> I edited doa5Uarchivarius.dat to also include Marie Rose and should work for both the patch and dlc so just replace the .dat and it should work.
TMC, TMCL, --H, --HL files will be extracted with names tho I don't think her 2 normal costumes have --H and --HL files but the dlc ones do.

If it doesn't work than tell me, though I tested it and all my files extracted fine have fun :3
it worked perfect!! thank you so much!
## Post #803
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-03-26T01:08:55+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks, miku, nice update to the .dat file. 

Any chance here COS3 & 4 are in there too?  I believe she should have alternate color / accessory versions of the first two.
## Post #804
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-03-26T03:28:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Thanks, miku, nice update to the .dat file. 

Any chance here COS3 & 4 are in there too?  I believe she should have alternate color / accessory versions of the first two.

This is what I extracted manually from the patch file:



and
## Post #805
- Username: mikulover39
- Rank: advanced
- Number of posts: 61
- Joined date: Tue Nov 22, 2011 5:55 pm
- Post datetime: 2014-03-26T08:14:09+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Thanks, miku, nice update to the .dat file. 

Any chance here COS3 & 4 are in there too?  I believe she should have alternate color / accessory versions of the first two.

Thanks for telling me I didn't realize she had two more costumes lol.
I updated the my original post with the new .dat which should include cos 3&4 and also the --H and --HL files for cos 1&4
## Post #806
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-03-26T16:30:34+00:00
- Post Title: Re: Dead or Alive series formats and tools

Awesome, miku, thanks!  

@Darko, there was duplicates of the santa & school in the patch stuff?  That's a bid odd. 

The patch should have the core stuff like face, hair, default costumes... I thought. 

I found five costumes in the content.bin/.lnk/.blp.    School, Nurse, Cheerleader, Santa & Gym.  

With her 4 defaults, that should put here at 9.  I have to dig up the other file names if those are still needed for the .dat file.
## Post #807
- Username: zaykho
- Rank: mega-veteran
- Number of posts: 217
- Joined date: Fri Dec 03, 2010 8:20 pm
- Post datetime: 2014-04-03T08:45:10+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> 

This is what I extracted manually from the patch file:

Hummmm, yummy  ;3
## Post #808
- Username: andthen619
- Rank: beginner
- Number of posts: 29
- Joined date: Tue May 18, 2010 7:43 pm
- Post datetime: 2014-04-11T13:33:23+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from gomen
>
> hi guys

Is it possible to extract the voice from DOA5U?

I would be down to do some voice replacements if someone can give me the proper tools to extract and inject.
## Post #809
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-04-19T14:53:26+00:00
- Post Title: Re: Dead or Alive series formats and tools

doaXskins to doao converter ver5 (50mb)

a converter to convert "dead or alive extreme beach volleyball" costumes to "dead or alive online"(all necessary costumes and accessories are included)

new in version 5:
improvmets from the last version:
- chest animation
- better physics
- using the right materials
- accessories/shoes/hats/glasses available
- original nails colors and skin tanning
- preview icons for all outfits/accessories
- go read the readme
## Post #810
- Username: logansan25
- Rank: veteran
- Number of posts: 138
- Joined date: Mon Oct 04, 2010 8:15 am
- Post datetime: 2014-04-21T01:19:07+00:00
- Post Title: Re: Dead or Alive series formats and tools

I try open the new files from DLC, with noesis and appear errors.
## Post #811
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-04-21T10:52:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

doa5Uarchivarius(v17b) - for unpacking "Dead or Alive 5 Ultimate" archives. you may need to install python 3 to run this

updated. now it's version 1.7b  (redownload)
new in version 1.7:
-added one more key, to try, if failing at decryption. this solves the keygeneration fail for "GENFU_COS_001.TMCL"
-added support for inflated chunks in the deflated stream. this solves the incomplete files problem, like "HAYABUSA_DLCU_004.TMCL"
-added more names for files that come with patches and are not mentioned in the original file list("Halloween","TROPICAL?","Yaiba")

new in version 1.7b:
-fixed a few files in filelist
-a little bit of a speed improvement

mikulover39 did a great job restoring the filenames for marie's costumes, though he overlooked two costumes that where created by team ninja with much love and only using the <ctrl+c> -<ctrl+v> keys.

also i couldn't reverse the right names for leifang's hair from the halloween set

[edit]

just checked the files integrity, for all tmc/tmcl files from original and dlc lnk, upacked with the version 1.7 - everything seems ok, "CIRCUS.TMCL" is even one byte longer then it's caption says.
these files are for the ps3 version:
ALPHA152_COS_001_A.TMC
EIN_COS_TEST.TMC
LEON_COS_TEST.TMC
MOMIJI_COS_TEST.TMC
RACHEL_COS_TEST.TMC
## Post #812
- Username: mikulover39
- Rank: advanced
- Number of posts: 61
- Joined date: Tue Nov 22, 2011 5:55 pm
- Post datetime: 2014-04-21T11:50:43+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks b0ny, but I seem to be getting "IndexError: list index out of range" whenever I try to extract a TMCL file
## Post #813
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-04-21T13:25:20+00:00
- Post Title: Re: Dead or Alive series formats and tools

The new unpacker is not showing any name, lol.

Lol, never mind, I renamed the file correctly and it Worked. Stupid "U"
## Post #814
- Username: logansan25
- Rank: veteran
- Number of posts: 138
- Joined date: Mon Oct 04, 2010 8:15 am
- Post datetime: 2014-04-21T16:47:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

When i tryed open files .TMC from pack DLC Dead or Alive 5 - Zack Island Stage, appear this:

[http://prntscr.com/3c3o6w](http://prntscr.com/3c3o6w)
## Post #815
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-04-21T22:13:10+00:00
- Post Title: Re: Dead or Alive series formats and tools

so, guys. have you tested the archivarius yet?
any errors to report?

i've found at least one. will fix it later.

logansan25
have you tried to unpack this file with the latest archivarius. the problem could be that the file is incomplete(fixed in latest version). i'll have a look...
## Post #816
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-04-22T00:28:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

Awesome stuff, b0ny.  No wonder you've been quiet lately, 

The new archivarius seems to work fine for the basics. I'll start using that version and report back if I see anything. 

On the note of archivarius, has anyone run across the MPM files for Private Paradise animations.  I'm curious if those would be easy swaps based on the characters.  


Also, b0ny, since you're in between projects, any chance you could help explain the nature of the coordinate transformation for the few models that have odd rotations.  Since you fixed the Noesis script, I was wondering if you understand the nature of the hex to make those changes.  I don't think we'll be seeing an update to the 3dsmax script anytime soon, so I'm thinking it may be possible to manipulate the hex data so the script will import properly.  I'm struggling to get the right questions answered on coregrafx.
## Post #817
- Username: moge1975
- Rank: n00b
- Number of posts: 19
- Joined date: Thu Aug 09, 2012 6:32 pm
- Post datetime: 2014-04-22T06:59:12+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hello, b0ny

 I'm using your [doa5Uarchivarius(17b)] tool.

9114F6154E035B4366604265E28D9048251AC1504B
4250ACFD1B15ED82E17B54580EE3AC43F76232854B

this DLCs all　Character not work

this is bug?   

extract is OK
reimport is not work on 360
not Freezing, but. no loading....Character

other DLC is Perfect works..
## Post #818
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-04-22T14:35:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

Extracted the new dlc (nurse costumes) with the new ectractor and all is working fine.
## Post #819
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-04-22T15:12:00+00:00
- Post Title: Re: Dead or Alive series formats and tools

[moge1975]
this is doa5 dlc1 and dlc2, and it unpacks them both perfectly for me(could be that your archives are corrupted?)
but if you mean the file swap (injection), seems like there is a problems with injection in some costumes in doa5u in general.

i need you to give me more details on your problem...

[Protocol X27]
noesis is computing the transformation matrices on a high level of abstraction. i'm interested in low level(manual) computing for transformation matrices(and also weights) too. i'll need that soon, and if i won't find myself how to do this i think i'll open a thread asking people smarter than me for help.

i intend to do a doa5 to doao converter, and for that i need to set the model to the t-pose, for that i need to apply all the non-applyed matrices, then move the bones in the t-pose(its stored in the tmc file).
## Post #820
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-04-22T15:17:27+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> [moge1975]
this is doa5 dlc1 and dlc2, and it unpacks them both perfectly for me(could be that your archives are corrupted?)
but if you mean the file swap (injection), seems like there is a problems with injection in some costumes in doa5u in general.

i need you to give me more details on your problem...

[Protocol X27]
noesis is computing the transformation matrices on a high level of abstraction. i'm interested in low level(manual) computing for transformation matrices(and also weights) too. i'll need that soon, and if i won't find myself how to do this i think i'll open a thread asking people smarter than me for help.

i intend to do a doa5 to doao converter, and for that i need to set the model to the t-pose, for that i need to apply all the non-applyed matrices, then move the bones in the t-pose(its stored in the tmc file).

Regarding that, How is the DOA4 format going??
## Post #821
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-04-22T17:11:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> 
How is the DOA4 format going??
the million-dollar question is "where are the joints(weights)". the mesh has weight data layers, which are empty by some reason. and the join's block in the cat file is deprecated for doa4. i have no idea what team ninja was really thinking...

also i have converted the mot files. and i think it's possible to convert 'bin' animation files. but i already failed in a way converting doa3 animations to doao, this is even more complex(but possible)

[here you can try zack's outfit](http://rghost.net/download/52976183/d0cfb45606f20f22905fad399fc94eac5b803b2f/zac01.7z). you have to use the loader provided with the "DoAX->DoAO" converter(t's patched to support doa4 files/physics)

here is how doa4 models look in doao now: (why xentax doesn't support hiding spoilers?)
## Post #822
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-04-24T00:47:34+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> 

[Protocol X27]
noesis is computing the transformation matrices on a high level of abstraction. i'm interested in low level(manual) computing for transformation matrices(and also weights) too. i'll need that soon, and if i won't find myself how to do this i think i'll open a thread asking people smarter than me for help.

i intend to do a doa5 to doao converter, and for that i need to set the model to the t-pose, for that i need to apply all the non-applyed matrices, then move the bones in the t-pose(its stored in the tmc file).

Cool, I was thinking that might be helpful to get someone more advanced involved as well.  Thought I'd at least pick your brain first.    Penguin has posted that the process somehow involved multiplying something times the inverse of the matrix.  The problem for me is that I don't understand if vertex location values get multiplied for if the Offset matrix just gets replaced by the inverse or something.  The language barrier has definitely been in the way.  At least if there's more than one person interested maybe that'll improve the chance of getting assistance.  I don't mind writing a script to perform calculations as long as I know which data to adjust.
## Post #823
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-04-24T04:04:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

import_TMC-GMD.py - doa5(u)/ng3 import plugin for bleder

doa5ng3_360.py - doa5(u)/ng3 plugin for noesis

now you can import/preview the models that were "corrupted" before: GENFU_DLCU_002 and the faces for AKIRA/BRAD/JACKY/LEON/RIG/RTM

the dramatic story behind the fix:
i have found that the index for the "vertices_buffer" and the index for the "indices_buffer" is not the same thing. before, the index for the "vertices_buffer" were used for both, but some meshes have one "indices buffer" and multiple "vertices buffers", that was breaking the order and a wrong "vertices buffer" buffer were picked, this resulted in a corrupt mesh. now this is fixed, i have found the right variable for the "vertices_buffer" index.
## Post #824
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-04-24T21:02:46+00:00
- Post Title: Re: Dead or Alive series formats and tools

Holy @#)$*(@#)($*

How do I like spam on the thank you button more than once!?!?!!  That even surpasses the alpha feature as far as usefulness! The ability to extract those other models is huge for XNALara stuff.
## Post #825
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-04-24T22:47:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

Lol This means: Brad Wong, Rig, Jacky and Leon complete models. Thanks.
## Post #826
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-04-25T20:35:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hi bony,
## Post #827
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-04-26T19:09:44+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> ... skipping over zeroed objects and just loading the none zeroed ones ...
i'll do.
but for now you can fix it yourself by adding after this line:
```
    for objidx, objoffs in enumerate(mdlgeoh.offsets):
```

this one:
```
        if objoffs == 0: continue
```
that will do the trick...

also i still use the old script for big models, with the new one that uses rapi methods my pc runs out of memory when loading big models like stages

p.s. ObjGeo = Object_Geometry
## Post #828
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-04-26T20:31:04+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks man
## Post #829
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-04-28T05:26:21+00:00
- Post Title: Re: Dead or Alive series formats and tools

DoAOLoaderC5.7z

here is a loader for the "dead or alive online" game to play with the doax(and doa4) costumes online.(complettely forgot about the online loader when released doax costumes)
here is the download for the doax costumes for doao: viewtopic.php?p=93969#p93969

the doax costumes will still be aviable on this host like for ten days from now(30days total)


[edit]
i just read about tecmo coming to pc: [http://www.doaworld.com/forums/index.ph ... in-pc-r657](http://www.doaworld.com/forums/index.php?/page/index.html/_/doa-news/tecmo-koei-showing-more-interest-in-pc-r657). if this is true i'll stop any work on dead or alive... and destroy everything i already have. this can sound like something bad but i really hope this is true and team ninja will release something officially on pc.
## Post #830
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-04-28T06:52:07+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> DoAOLoaderC5.7z

here is a loader for the "dead or alive online" game to play with the doax(and doa4) costumes online.(complettely forgot about the online loader when released doax costumes)
here is the download for the doax costumes for doao: viewtopic.php?p=93969#p93969

the doax costumes will still be aviable on this host like for ten days from now(30days total)


[edit]
i just read about tecmo coming to pc: http://www.doaworld.com/forums/index.ph ... in-pc-r657. if this is true i'll stop any work on dead or alive... and destroy everything i already have. this can sound like something bad but i really hope this is true and team ninja will release something officially on pc.

You're talking about DOA Online or your blender scripts??
## Post #831
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-04-28T09:03:46+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> b0ny wrote:DoAOLoaderC5.7z

here is a loader for the "dead or alive online" game to play with the doax(and doa4) costumes online.(complettely forgot about the online loader when released doax costumes)
here is the download for the doax costumes for doao: viewtopic.php?p=93969#p93969

You're talking about DOA Online or your blender scripts??
about doa online

the game's executable requires some tweeks to support bigger files and doax skeleton(so it won't look like this [viewtopic.php?p=65901#p65901](http://forum.xentax.com/viewtopic.php?p=65901#p65901)). with the doax pack, i released a loader for offline usage only(forgetting to do an online one).

this old tutorial can help: [viewtopic.php?p=76477#p76477](http://forum.xentax.com/viewtopic.php?p=76477#p76477). only instead of "qLoaderC3" u use "sLoaderC5"(or "qLoaderC5"), and of course the converter's window is a bit different.
wow... i just checked the old "doax to doao pack" and it was downloaded 300 times!
## Post #832
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-04-29T09:19:30+00:00
- Post Title: Re: Dead or Alive series formats and tools

would be nice
## Post #833
- Username: leidoa
- Rank: n00b
- Number of posts: 10
- Joined date: Sun Dec 18, 2011 9:53 pm
- Post datetime: 2014-05-01T04:18:07+00:00
- Post Title: Re: Dead or Alive series formats and tools

for b0ny why some doa3 skins for doao don't work like christie first costume and brad wong too ? 
and is there a xpr version of the skins to run them on xbox ?
## Post #834
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-05-01T04:50:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from leidoa
>
> is there a xpr version of the skins to run them on xbox ?somewhere in this thread i provided a link to some doa3 costumes ready for xbox(xpr+cat+reliable_size)

> Reply from leidoa
>
> for b0ny why some doa3 skins for doao don't work like christie first costume and brad wong too ?you mean with the sLoaderC5 ?

and thanks...
## Post #835
- Username: leidoa
- Rank: n00b
- Number of posts: 10
- Joined date: Sun Dec 18, 2011 9:53 pm
- Post datetime: 2014-05-01T08:32:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> leidoa wrote:is there a xpr version of the skins to run them on xbox ?somewhere in this thread i provided a link to some doa3 costumes ready for xbox(xpr+cat+reliable_size)
leidoa wrote:for b0ny why some doa3 skins for doao don't work like christie first costume and brad wong too ? you mean with the sLoaderC5 ?

and thanks...
they freeze the game some costumes not all of them ...
can you give me the link for the xbox version plz  
and what about modding stages is there any yet .....
## Post #836
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-05-01T17:38:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

[leidoa]
here is the link to the doa3 costumes for doa2u: [viewtopic.php?p=90093#p90093](http://forum.xentax.com/viewtopic.php?p=90093#p90093) but seems like you already have those coz i posted them on your request...

can you please tell me the precise name of the loader you use to run the game(it's something like qLoaderC4).
------------------------------------------------------------------------
doa5ng3_360.py noesis plugin for doa5/ng3

+ original normals instead of generated
+ better transparency (found the variable for dxt1 1bit transparency(mask))
+ handling two-sided meshes
## Post #837
- Username: leidoa
- Rank: n00b
- Number of posts: 10
- Joined date: Sun Dec 18, 2011 9:53 pm
- Post datetime: 2014-05-03T17:45:57+00:00
- Post Title: Re: Dead or Alive series formats and tools

it's sLoaderC1

the doa3 costumes file is deleted
## Post #838
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-05-05T02:11:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

Dang, b0ny, that Noesis plugin keeps improving.  

Regarding the rotation stuff.  I'm guessing that the rotation matrix is always the last entry in the Bone Offset Matrix.  I just performed a costume swap for a mismatched set of characters.  There is a 1:1 ration of bones in the NodeLay to the entries in the BnOfsMtx except BnOfsMtx has an extra entry.  Whenever penguin described the rotation section it was the last section as well.  I don't know if this is new, helpful or old, but at least the data is starting to make a bit more sense to me.  If I knew how to properly do the matrix math and values... XD
## Post #839
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-05-05T07:18:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from leidoa
>
> it's sLoaderC1

the doa3 costumes file is deletedyou should use qLoaderC4, provided with the 'DoA3forDoAO costumes pack'. some of doa3 costumes are using deprecated functions, fixed by me in the qLoaderC4 loader
here are the reuploaded costumes for doa2u: [doa3 skins for doa2u.7z](http://rghost.net/download/54957049/7a7ebce91e5bafebad1564b5cef598b59a727c77/doa3%20skins%20for%20doa2u.7z)

Protocol X27
where can i see that penguin's rotation section description?
## Post #840
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-05-05T23:12:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

The rotation discussion may still be available on the older / lengthy modding post on coregrafx.  If not, I'll try to summarize.  

P posted several matrix images which I don't know how to apply to necessary values. 

[http://i1064.photobucket.com/albums/u37 ... dfba08.jpg](http://i1064.photobucket.com/albums/u375/ProtocolX27/Mods/MatrixMultiplication_zpsfedfba08.jpg)

[http://i1064.photobucket.com/albums/u37 ... cd8e67.png](http://i1064.photobucket.com/albums/u375/ProtocolX27/Mods/InverseFormula_zps5fcd8e67.png)

He also posted a sample of what to change Marie Roses Nurse costume to since it also has a small rotation.

[http://i1064.photobucket.com/albums/u37 ... 3bab30.jpg](http://i1064.photobucket.com/albums/u375/ProtocolX27/Mods/MRInverse_zpsdb3bab30.jpg)

I'm not sure if there was ever a sample for Ayane_DLCU_004, but I recall that the entry he mentioned was 0x17A0 from the start of the BnOfsMtx start which happens to be the last entry.  I think that was the same for Marie Roses as well.  

That's pretty much the sum of what I know at this point.  I understand conceptually that vertices need to have a process applied since as the 3dsmax script demonstrates that some items import in a weird way.  I don't think it's as simple as replacing BnOfsMtx value.  Some form of multiplication needs to be done.... I think ... :-/
## Post #841
- Username: leidoa
- Rank: n00b
- Number of posts: 10
- Joined date: Sun Dec 18, 2011 9:53 pm
- Post datetime: 2014-05-06T15:26:53+00:00
- Post Title: Re: Dead or Alive series formats and tools

thanks b0ny for the costumes   

what about stages offset is there any ?
## Post #842
- Username: raykingnihong
- Rank: mega-veteran
- Number of posts: 179
- Joined date: Mon Apr 07, 2014 3:06 am
- Post datetime: 2014-05-09T02:43:43+00:00
- Post Title: Re: Dead or Alive series formats and tools

Very Thanks for sharing, very good tool, but what can I add an action file, we very much look forward to updates, thank you,I mean, noesis the latest plug-in released in may, now why not, we're really looking forward to updates, the best we can add the bones and motion files.Thank you so much to share
## Post #843
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-05-09T18:32:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from raykingnihong
>
> Very Thanks for sharing, very good tool, but what can I add an action file, we very much look forward to updates, thank you,I mean, noesis the latest plug-in released in may, now why not, we're really looking forward to updates, the best we can add the bones and motion files.Thank you so much to share

For Bones and weights, use the blender script, motions won't be supported by b0ny, He already said that.
## Post #844
- Username: leidoa
- Rank: n00b
- Number of posts: 10
- Joined date: Sun Dec 18, 2011 9:53 pm
- Post datetime: 2014-05-09T18:46:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

is there a tool for mot files
## Post #845
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-05-09T18:48:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from leidoa
>
> is there a tool for mot files

Nope. motions are compressed and he could'nt decompress them.
## Post #846
- Username: raykingnihong
- Rank: mega-veteran
- Number of posts: 179
- Joined date: Mon Apr 07, 2014 3:06 am
- Post datetime: 2014-05-11T17:41:00+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> raykingnihong wrote:Very Thanks for sharing, very good tool, but what can I add an action file, we very much look forward to updates, thank you,I mean, noesis the latest plug-in released in may, now why not, we're really looking forward to updates, the best we can add the bones and motion files.Thank you so much to share

For Bones and weights, use the blender script, motions won't be supported by b0ny, He already said that.
Thank you for your help, my friend
## Post #847
- Username: raykingnihong
- Rank: mega-veteran
- Number of posts: 179
- Joined date: Mon Apr 07, 2014 3:06 am
- Post datetime: 2014-05-11T17:41:39+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from leidoa
>
> is there a tool for mot filesThank you for your help, my friend
## Post #848
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-05-12T06:52:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

about the doa5 mpm animation - seems like there are 2 kind of "raw animation data" types. i can parse one of those types. 

> Reply from leidoa
>
> is there a tool for mot files if by mot files you mean the mot files for doa2/doa3/doa4 games, i don't work on this for a long time, this is what i've achieved so far: [http://rghost.net/55101866](http://rghost.net/55101866) (the video of bass pulling his truck is at the bottom of the page). this video looks so ugly because in the old mot files they are animating only a few bones, using "inverse kinematics" for the rest of the bones(which i couldn't achieve)
## Post #849
- Username: raykingnihong
- Rank: mega-veteran
- Number of posts: 179
- Joined date: Mon Apr 07, 2014 3:06 am
- Post datetime: 2014-05-20T16:36:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> about the doa5 mpm animation - seems like there are 2 kind of "raw animation data" types. i can parse one of those types. 
leidoa wrote:is there a tool for mot files if by mot files you mean the mot files for doa2/doa3/doa4 games, i don't work on this for a long time, this is what i've achieved so far: http://rghost.net/55101866 (the video of bass pulling his truck is at the bottom of the page). this video looks so ugly because in the old mot files they are animating only a few bones, using "inverse kinematics" for the rest of the bones(which i couldn't achieve)Thank you for taking the updated plugin, we look forward to seeing your new work
## Post #850
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-05-21T14:17:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

Tested the new unpacker in the new DLC crap and It's working fine, just rename the only 2 files unrenamed to MaryRose whatever.
## Post #851
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-05-21T16:10:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> Tested the new unpacker in the new DLC crap and It's working fine, just rename the only 2 files unrenamed to MaryRose whatever.i couldn't find it anywhere, pm me with a link if you want it faster.

P.S. and this is a request on my work in progress on mpms: [reverse_mpm.7z](http://rghost.net/download/55518614/321951617e4298016d869103153c67399106f3b5/reverse_mpm.7z) (i really have a vague idea of wtf i'm doing here...)
## Post #852
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-05-21T17:11:47+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> Darko wrote:Tested the new unpacker in the new DLC crap and It's working fine, just rename the only 2 files unrenamed to MaryRose whatever.i couldn't find it anywhere, pm me with a link if you want it faster.

P.S. and this is a request on my work in progress on mpms: reverse_mpm.7z (i really have a vague idea of wtf i'm doing here...)

It's in xbox360iso.com in the jtag downloadable content section.
## Post #853
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-05-21T19:05:20+00:00
- Post Title: Re: Dead or Alive series formats and tools

doa5Uarchivarius.dat - updated with "MARIE_DLCU_006" name.

> Reply from Darko
>
> just rename the only 2 files unrenamed to MaryRose whatever.to find the costume number you look at the second letter in the encrypted name:
R=1 S=2 ... Z=9 Q=10 ...
to find if it's COS or DLCU you open the tmc file and see which fits better the length of the encrypted tmc name(at address 0x50)

[raykingnihong]
ok 

[edit]

[anim try.7z](http://rghost.net/download/55832838/d226ef91e7ed058fcf0f5621b458b411abd96054/anim%20try.7z)
experimental tmc blender importer. that will try to load the "*_SELECT.MPM" file from the same folder as the TMC/TMCL. read the notes for more details. this time i removed the z rotation for shoulders/hips to make it more T-pose like. it's messy but most "select" animations are recognizable... bellow is how you select a different animation in blender
## Post #854
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-05-29T00:42:55+00:00
- Post Title: Re: Dead or Alive series formats and tools

Could anyone catch me up what the utilities / process is for extracting individual containers from the native .afs containers?
## Post #855
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-05-29T01:23:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

Not too related, but basically Iv'e been having fun with bony's script:

[https://www.youtube.com/watch?v=IAr3KZefQoY](https://www.youtube.com/watch?v=IAr3KZefQoY)

Something it wasn¡t possible according to some MMD "masters" I made it posible, use the original rig of the characters   

For bony, I'm trying your scripts in week end man, thanks of the effort and if I have leifang-hitomi winner and intro tag animation, I'll give you a cookie.
## Post #856
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-05-30T11:11:02+00:00
- Post Title: Re: Dead or Alive series formats and tools

[Protocol X27]
"AFS Explorer 3.7" ?

[Darko]
you can look at this script as at a proof of concept. it's working the wrong way, the results are barely usable.

i see hair/clothes physics in your video, how do you do that? where the models exported with collisions/physics?
## Post #857
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-05-30T13:25:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> [Protocol X27]
"AFS Explorer 3.7" ?

[Darko]
you can look at this script as at a proof of concept. it's working the wrong way, the results are barely usable.

i see hair/clothes physics in your video, how do you do that? where the models exported with collisions/physics?

Nope, I set the models physics in pmx editor.

[https://www.youtube.com/watch?v=D1VEfwMoP0](https://www.youtube.com/watch?v=D1VEfwMoP0)

Edit:

This is MMD, the only related thing here is the use of your importers to make animations with doa models and nothing more.

@Lilstormcloud I hate to use xna lara models as a source for other crap, because some of the models are not correctly rigged.
## Post #858
- Username: leidoa
- Rank: n00b
- Number of posts: 10
- Joined date: Sun Dec 18, 2011 9:53 pm
- Post datetime: 2014-06-01T02:39:09+00:00
- Post Title: Re: Dead or Alive series formats and tools

[http://www.youtube.com/watch?v=UIiQ0wB6sps#t=359](http://www.youtube.com/watch?v=UIiQ0wB6sps#t=359)

cool doa3 mod i found in youtube , i wish we have more options and tools for modding doa3
## Post #859
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-06-02T03:03:57+00:00
- Post Title: Re: Dead or Alive series formats and tools

I'm a complete noob
## Post #860
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-06-04T01:11:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks b0ny, 
I'll take a look for that. 

LSC,
Once ya get the process down, maybe a couple of hours depending on the complexity of the model.   Hair, dresses (stuff w/ lots of bones), etc can be time consuming.   The conversion process isn't very automated, so it involveds aligning some UV's, renaming & reparenting bones, possibly weight copying.  Depends on your proficiency with Blender mostly.
## Post #861
- Username: raykingnihong
- Rank: mega-veteran
- Number of posts: 179
- Joined date: Mon Apr 07, 2014 3:06 am
- Post datetime: 2014-06-07T09:42:04+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> doa5Uarchivarius.dat - updated with "MARIE_DLCU_006" name.
Darko wrote:just rename the only 2 files unrenamed to MaryRose whatever.to find the costume number you look at the second letter in the encrypted name:
R=1 S=2 ... Z=9 Q=10 ...
to find if it's COS or DLCU you open the tmc file and see which fits better the length of the encrypted tmc name(at address 0x50)

[raykingnihong]
ok 

[edit]

anim try.7z
experimental tmc blender importer. that will try to load the "*_SELECT.MPM" file from the same folder as the TMC/TMCL. read the notes for more details. this time i removed the z rotation for shoulders/hips to make it more T-pose like. it's messy but most "select" animations are recognizable... bellow is how you select a different animation in blenderThank you very much for your help,My friend
## Post #862
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-06-13T03:45:23+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hopefully some mod traffic headed this way since the current home is choking the life out of interwebs. 

Found some additional info on the TMC Block.  

(Old) The Diffuse TTX index for each mesh group seems to be at 8B bytes from the start of each group. 
(New) Additional TTX indices seem to be at 70 byte intervals after that.  

I haven't confirmed against other containers yet, but the order seems to be...

Diffuse
Wet Texture
Normal
Dusty Texture

I'm not sure where the specular one comes into play.
## Post #863
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-06-13T05:38:07+00:00
- Post Title: Re: Dead or Alive series formats and tools

nice job.
## Post #864
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-06-13T11:43:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hello modding gurus.
I'm finally here at last. I hate Paypal, so it was a struggle. 

------------------------------------------------------------

I realized that Hielay affects the size of breast. (I posted a pic on coregrfx)
I guess the breast should shrink or expand due to difference of the size between BnOfMtx and Hielay.

It can be fixed by copying first 4 lines(16 bytes *4) of each nodes related to breast from the source TMC.
Yeh it might work. but.. I hope to do it for every nodes not only for the breast, even I don't know exactly what that means.
You know.. but it's so annoying thing to do.. if I should do it for every characters.

So I would like to ask for a script for that politely (Including copying values of BnOfMtx function also.)
I may be able to learn it and write it, but if it's not that hard one,
I wish someone could make it for ... not for me but for every modders, lol
## Post #865
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-06-14T00:29:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

LSC, what are the conditions of the normal injection?

I had some blocky stuff when I did a transparency mod, I had trouble resolving that, but it wasn't critical enough.  

ros, nice find.  Does the HieLay stuff match the NodeLay & BnOfstMtx in relation to the order of objects?  That could be really useful.  

---

So, conceivably with the possibility of manipulating ttx objects, it could be possible to inject a body object without holes on a non-body related object.  Could save having work with mismatched body models if a 2nd one that is more complete takes care of some gaps.
## Post #866
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-06-14T01:55:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

protocol,
Yes. Same orders, same numbers.
but different values
## Post #867
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-06-14T02:10:10+00:00
- Post Title: Re: Dead or Alive series formats and tools

Good stuff.  I tried it and sure enough you are right.  

That is probably the missing key to cross body size swapping without having to inject every piece.   If I were to swap Rachel / Ayane, that might fix the boob stretching / squashing that occurred.
## Post #868
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-06-14T07:29:10+00:00
- Post Title: Re: Dead or Alive series formats and tools

Yeh, I want to talk about more about the scripts..
I think we need two scripts for this.

One is about copying BnOfsMtx and Hielay, that I said before,
and another is for copying the values of the neck ring vertices.

Both script should need a TXT file to assign corresponding nodeID or vertexID.
something like this.

```
[Target] 1,2,4,5,6,7,9,10
```

then it will load source and target TMC or TMCL files and copy the values due to the order in TXT file.

This will good for everyone.  ;;;
## Post #869
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-06-14T14:33:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

I'll play around with a concept for BnOfsMtx & Hielay copying, but no promises just yet.  Since the structure would be the same for both it might be beneficial.  

I don't know of an easy way to update the neck verts just yet, unless I misunderstood part of your post.  The neck verts are arbitary numbers and still require a lengthy amount of searching/calculations.
## Post #870
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-06-14T15:11:52+00:00
- Post Title: Re: Dead or Alive series formats and tools

I know little bit of programming, not professional at all,
but I don't know any programming language that can handle HEX edit & file I/O yet..

I'm trying to learn visual basic from the very first for that..
Oh.. If you do that, you can stop me from being a programmer,
and it will be very appreciate.

.... about the neck verts...
Well.. I thought that vertex address could be found by simply calculating vertex ID..
If it's not.. that's gonna be a little trouble  

As I know, what it matter is only "in which object group the neck vertices are taking place" right?

If 'object group' is the only problem in calculating address of neck vertices,
then we could add a "trial and error" function in the script by adding 'object group selecting option'
and it will make "trial and error" much easier with script, I think.

Good luck with your scripts and I'll be waiting for that, lol
## Post #871
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-06-15T00:24:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

a ha found a rabbit hole
## Post #872
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-06-15T10:39:30+00:00
- Post Title: Re: Dead or Alive series formats and tools

That's nice idea. Like you said, it will be better to check it with bone index or UV coordinates.
## Post #873
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-06-15T21:45:09+00:00
- Post Title: Re: Dead or Alive series formats and tools

For the neck, I don't think an approximation will cut it because it has to assume a near value on x,y and z axes.  In some extreme cases the first neck ring verts could be closer to the second neck ring verts of different body type.  The only way I can presently think to do it programmatically is to get the Vertex # of each from both target and source models.  It is possible to calculate where each falls within the TMCL at that point, but it sure would be a lot of grief.  

On the flip side, I started on an app. It shouldn't be too difficult.  I just may have a time shortage over the next few days to finish it. I already have it reading the Ofs,HieLay and NodeLay. I just have to get the comparisons, replacement, and file writing done.  

Ros, C# and Python both have the ability to read & write files.  I don't know Python the way b0ny does, but I know with C# reading and writing files is fairly simple.  If you did want to learn, either language would be recommendation. Python is easier to start with though.
## Post #874
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-06-16T04:57:09+00:00
- Post Title: Re: Dead or Alive series formats and tools

For the neck again, I've check 3 character's UV coordinates in the neck. (MR, Rachel, Momiji)
I could that find they had all same U,V,W whatever their vertex x,y,z are.

This means we can find the vertices we need by UV coordinates.

But there is one problem. They have 2 vertices in one UV map because of the symmetry.
And I could find that Left side of the vertex ID is larger than right side of it.

that means. if you search for the 44 values package of a vertex in TMCL from the first of the file by UV,
the one you can get first is right side of it, and the second is the left side.

In conclusion, we don't need any of TXT file or something like that to get the vertices in the neck.
They can be fully automated.

***********************

Unfortunately, it seems that they have some exceptions on UV coordinates.
I'll soon make a data table for it.
At least they will have same neck UV on one character
[3.jpg](https://xentaxbackup.github.io/file/7482_3.jpg)
## Post #875
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-06-16T06:16:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

oh wait it was a mole
## Post #876
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-06-16T13:37:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

I don't think it will be useful to do it with hands or arms or legs..
There will be so much unexpected problems I think..
Do you Know 10 nails are sharing one UV plane?
Well... you do know.


I think it will be just good to snap the vertices with 3DS MAX.

anyway, for the neck, there is only about 0.001 differences in UV coordinates between the models.
so when the UV coordinate HEX values could be turned into floats, I can guess it will not be difficult to find the vertices by the UV coordinates.

Sometime some other vertices could be near that coordinates, I think it can be filtered by double checking with some other conditions.


******************************

I tried to find out what's UV in 44 bytes.

```
4A 28 3A 53 4B 48 4A 1B 6B 5F B9 84 3B EA 3B DC
34 0A 31 6E 3B EA 3B DC 3B EA 3B DC
```

UV of This vertex is U=0.989 V=0.018.
Well.. I can't read it.

Are they really floats?

*****************
ah.. forget about fully automated bullshits.
I'll try this my own way.
## Post #877
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-06-16T19:39:31+00:00
- Post Title: Re: Dead or Alive series formats and tools

Might not
## Post #878
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-06-17T00:37:53+00:00
- Post Title: Re: Dead or Alive series formats and tools

Edit:

Utility just needs testing, found a bug, but otherwise HieLay & BnOfsMtx seem to work.  I don't think those alone will solve everything, but at least they take care of some of the form.  Meshes still need adjustments if trying to recreate original form.  

***

Good find on tracking down the UV coordinates.  Which values are they in the index buffer.  That will come in handy for eventual rewrites.  I won't have the time to tackle neck stuff just yet, but the closer we get the theory, the easier it will be once we're sure.
## Post #879
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-06-17T12:08:01+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hey what's the neck bone ID?

```
7F 80 00 00 1B 1A 7B 18 20 00 21 CD 38 12 21 CD 38 12
21 CD 38 12 34 DC 24 9A
```

I got it 1B1A
## Post #880
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-06-17T16:52:39+00:00
- Post Title: Re: Dead or Alive series formats and tools

Looks like archivarius will need an update, or at least the reference file.  It doesn't find any of the new containers by default for Phase 4 or the Overalls.
## Post #881
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-06-17T19:54:59+00:00
- Post Title: Re: Dead or Alive series formats and tools

I wonder
## Post #882
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-06-17T20:29:12+00:00
- Post Title: Re: Dead or Alive series formats and tools

Plausible theory considering end values would apply to something that Alpha 152 does not have.  She has a 32 buffer length and does not use UV coordinates.
I'd be curious if the one is actually spec or not w/out it being referenced the same.
## Post #883
- Username: mikulover39
- Rank: advanced
- Number of posts: 61
- Joined date: Tue Nov 22, 2011 5:55 pm
- Post datetime: 2014-06-17T21:35:21+00:00
- Post Title: Re: Dead or Alive series formats and tools

Updated the .dat file to get all the models out for phase 4 and the new dlc costumes.
[doa5Uarchivarius.zip](https://xentaxbackup.github.io/file/7486_doa5Uarchivarius.zip)
## Post #884
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-06-17T21:48:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mikulover39
>
> Updated the .dat file to get all the models out for phase 4 and the new dlc costumes.

Thanks!! 

How u do dat so fast?
## Post #885
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-06-17T22:39:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mikulover39
>
> Updated the .dat file to get all the models out for phase 4 and the new dlc costumes.

Thanks, now Hitomi with the new hot outfit.
## Post #886
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-06-18T03:57:46+00:00
- Post Title: Re: Dead or Alive series formats and tools

I'm almost done with my script too.
I can guess it will be done in 24 hours.

lil, I know you have vertex ID grabber 3dsmax script.
Why don't you share it? That will make this job much easier.

and thanks for the update mikulover 
[e.jpg](https://xentaxbackup.github.io/file/7487_e.jpg)
## Post #887
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-06-18T05:51:15+00:00
- Post Title: Re: Dead or Alive series formats and tools

I thought you had
## Post #888
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-06-18T12:56:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

Nice, Ros!

A couple tidbits I forgot to mention, the information in the HieLay looks like it's the ids of the bones after the 0x40 bytes that we replace.  This could come in handy for reparenting accessory bones.  

Also my initial list of texture type order in the GeoObj was limited.  It looks like the specular is listed in there too. I'm still trying to establish consistency and resolve what some of the other values do.
## Post #889
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-06-18T14:16:09+00:00
- Post Title: Re: Dead or Alive series formats and tools

Yay, it's done.
It's limited to use for 44,44,44.. models only.
If you need to do for some other models, you can do it after some calculations.
This app is quite... manual.
And This might require some .DLL, I hope not.

This app worked with numerically ordered vertex ID references.
It will be very convenient with vertex ID grabbing max script.
But I don't guarantee the results when you did that.
Matching them to corresponding vertex ID source to target 1:1 by vertex position is basic principle.

Anyway, it can be done to 2nd, 3rd neck ring too,

And thanks for the readme.txt prot  

***
Thanks lil for the script. That was really useful.
I packed it too. is it OK?
Anyway i think it will be much more convenient if it shows result in just 3dsmax listener rather than in TXT file.
don't know how to fix it.

***

prot, yes. I think I remember someone made entire bone structure with only hiely in this thread.
## Post #890
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-06-18T18:40:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

don't mind
## Post #891
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-06-18T20:22:11+00:00
- Post Title: Re: Dead or Alive series formats and tools

Nice work on makin' an app, Ros!

What's your method for comparing and finding the match?  Did the UV coordinate thing work, or are you doing a calculation based on the vert position from the start of the Vertex Layer.  

Something got me thinking, if the UV thing did match, or had a very slight tolerance as LSC was sayin', it should be possible to match every vertex and reform the bodies automatically with a reasonable method.   I want to start working on an injector that will build on some stuff I've already done, but the one thing I need to track down is the relationship between the mesh group and the vertex buffer group that it belongs to....   For example, where is the value that identifies a body object as a member of the 44 group.  If I have that I can start doing some automating...


I've revisited attempts to add alpha to an image that utilizes a wet / alt texture, but I still can't figure it out.  I've tried changing a ton of stuff, but haven't found what actually differs between a regular mesh and the others.
## Post #892
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-06-18T22:05:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

This thing does it in simplest way.

The address of vertex buffer starting start position
+Vertex_ID*44

yeh~

It assumes that every vertices are in 44 group.
It checks bone ID so it will not start copying if there's bone ID mismatch in vertex address.

You can do it for another groups something like this.

The address of vertex buffer starting start position
- number of verts that are in 40 group before neck vert* (44-40)
+Vertex_ID*44

So the ref value should be like this.
[12312312 - num*4 ,5466,5467,5468,......]
## Post #893
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-06-19T03:50:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

Ah, nice!

Also awareness of that snap feature is huge.  I'm kicking myself for not bothering to see if 3dsmax had that. I should have known better.  I got most of a torso done within a couple of hours compared to a fraction of that before.  

Most of the new DLC's are full torso's minus Kasumi / Ayane.    They are also getting sneaky with some of the texture stuff.  Some of the back facing textures aren't easy to spot on the texture itself, so setting the alpha requires being thorough in the alpha layer. 

PS: I'm also diggin' the progress made lately w/ out the horrendous ads,
## Post #894
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-06-19T06:20:17+00:00
- Post Title: Re: Dead or Alive series formats and tools

I've checked my app again, but it's strange that it doesn't work with 2nd 3rd neck ring.
It seems that 2nd neck ring vertices don't share identical boneID.

and I forced to copy to 2nd neck ring, but some weights looked corrupted.
I can guess the weight values should be kept as well as bone ID when copying.

I should fix my app and test.

**
I realized that it doesn't need to be done it for 2nd neck ring or more at all.
So the app is just fine.
I've just packed the new script below and added simple guide about it.
**

well, I've changed max script by myself

```
	vCount = $.selectedVerts.count
	fCount = $.selectedfaces.count 
	ref="\n▼▼\nVertex [" + vCount as String +"]\n")
for a = 1 to vCount do
(
	ref = ref + $.selectedVerts[a].index as string
	if(a==vCount) then ref=ref+"\n\nFace ["+ fCount as String +"]\n"
	else ref=ref+","
)
for b = 1 to fCount do
(
	ref = ref +$.selectedfaces[b].index as string
	if(b<fCount) then ref=ref+","
)
ref = ref+"\n▲▲\n\n"
```

This's been just simplified as I wanted

****

prot, your app worked perfectly
and I'm so pleased that I got a really perfect base body of momiji.
thanks.
## Post #895
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-06-20T01:48:57+00:00
- Post Title: Re: Dead or Alive series formats and tools

No prob, Ros! Glad it helped!  Is your script change for just returning selected vert numbers ??

I think the mismatch on the bone id is because a vertex can have up to four bone ids, the closer inward on the body the increased likelihood of having different bone id's.  

***

I cannot for the life of me figure out how to 'alpha out' meshes without dual textures.  I've tried swapping everything unique minus index related values for the Mesh Object, ObjInfo Block, Specific TTX, and no impact for the better.  

Grrr, I'm really hoping that it's not data contained in the .bin or something.  I'm not sure what else to check.  

***

At least I started working on the patterns for the vtx / idx index for the mesh objects.  It's a lil' old / a lil' new, I just forgot to do reference previously for the blue stuff.  The red value seems to be a consistent value based on the vertex buffer grouping even if not actually an index value.
## Post #896
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-06-20T04:29:30+00:00
- Post Title: Re: Dead or Alive series formats and tools

Yes but why? Yet I don't know where to use face index.
So I limited it for vertex index.

**
It's a bad news about the boneID..   
It wasn't simple like that.

**
And that rachel in VR suit looks good.
I'm also planning to make more like that.
I about to make powers rangers lol

**
I uploaded tiled screenshot on core.
Bigger the better.
but you know.. the tiling cannot be done by simply placing the tiles in place.
There happens some kind of distortion between the tiles.
You may need to soften edges and 'warp' in photoshop to fix the distortion and stitch the tiles.

And you may know Y+left stick up allows more zoom when taking photos.
## Post #897
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-06-20T06:18:46+00:00
- Post Title: Re: Dead or Alive series formats and tools

take a ultra large one. print it on a dakimakura cover, listed it on ebay

Profit~~~~~~~~~~ Lol.
## Post #898
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-06-20T13:24:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

Ros, yeah modifying vertices is a beast, it may take a bit to fully tackle that issue.

LSC, Phase 4 has potential, I modded the overalls already, but haven't checked the mesh on the ayane style costumes. We're still at a bit of a deficit, since we don't have proper intel on injecting files back into the patch file correctly which requires encryption.
## Post #899
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-06-20T21:17:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

I saw bunnies around here I swear
## Post #900
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-06-21T07:46:55+00:00
- Post Title: Re: Dead or Alive series formats and tools

I have a question.

Will it be possible to put Lisa's body into this one?

Or taking some part of this costume (hat, backpack or etc) to Lisa's body.
## Post #901
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-06-21T09:04:12+00:00
- Post Title: Re: Dead or Alive series formats and tools

Yup, sure can.
## Post #902
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-06-21T11:33:19+00:00
- Post Title: Re: Dead or Alive series formats and tools

VR suit is a gold mine.
It has really good potential.
I'm workin' on it.

Well.. this has some troubles as well as it's potentials.
***

lil,
That looks good.
Sounds complicated
## Post #903
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-06-22T07:52:51+00:00
- Post Title: Re: Dead or Alive series formats and tools

where can i find some bunnies
## Post #904
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-06-22T19:04:51+00:00
- Post Title: Re: Dead or Alive series formats and tools

LSC, the idea you had earlier about using the UV coordinates to match stuff was genius!!

I started testing two theories this weekend.  The first is matching two different body vert sets based on UV, a Lisa to Christie check found 5,000+ matches.  I rewrote the verts from one to the other.  The only problem  that the UV is mirrored so I need to distinguish the correct x-axis value when doing the re-write.  It worked perfectly on a non-mirrored element like toe nails.  Since I don't understand hex numbers and negatives well enough, is there a way to see which vert is above or below the X-axis?

The second thing I tested was related to that alpha problem.  I Zero'd out the last three values (24 bytes) for each vertex in an object in question and it didn't appear to have any affect on the alpha value.  I have a thought that it might be possible to drop a 44 object down to a 40 and see if that does anything.  The objects with dual layers seem to already be untiled and ignore the alpha layer OR use it for another purpose.  Perhaps if I kick it out of the group that is using the alt texture, maybe I can pull something off.
## Post #905
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-06-22T20:01:29+00:00
- Post Title: Re: Dead or Alive series formats and tools

if you search IEEE754 there'll be documentation
## Post #906
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-06-22T21:20:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

You rock! That's what I needed. 

They are indeed floats.  I mapped a Lisa costume to a Christie Body and it matched about 75% of the verts.  The only stuff that didn't was the wrists, feet and miscellaneous bikini depression areas.  Even if not perfect, it's a ridiculous time saver.  I'll do a test on Marie Rose soon to see how it really works.
## Post #907
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-06-22T22:54:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

Wow... that worked.

I think there's gonna be no problem if you use just transmographer to do it after using script. without identifying floats are below zero or not. only if that is mirrored mesh.

Thinking about toes and nails again... it had been possible to distinguish them by vertex x or y coordinate lol.

********************



111.png (61.46 KiB) Viewed 328 times


Applying MLAA to screen shot.

1. Download Pixel bender as Photoshop plug-in or Standalone, whatever you want.
[http://www.adobe.com/devnet/pixelbender.html](http://www.adobe.com/devnet/pixelbender.html)

2. Download MLAA for pixel bender.
[https://www.adobe.com/cfusion/exchange/ ... id=2230024](https://www.adobe.com/cfusion/exchange/index.cfm?event=extensionDetail&extid=2230024)

3. Run Pixel bender and open the screenshot you want as PNG format and File>Open filter choose MLAA file, and Build>run

4. 0.1, 0, 255 (default?) will be fine.
save it.

5. In stand-alone version, the canvas size might have been expended unwanted.
just load original image in Photoshop and copy over the MLAA filtered image as a layer(not as smart object). that will simply handle the canvas size.

6. After you applied the MLAA filter, the highlight in the eyeball has been a little bit blurred. The highlight in the eye ball is better when it's sharpened. You can simply recover it by erasing that part when the MLAA filtered image's layer is over the original image layer.
## Post #908
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-06-23T04:07:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

Ros, great tips on the image resolution.  Especially for the multi-tiled concept.  It never occurred to me to do something simple and piece them all together.  

Vertex Snap Update: So essentially Lisa > Christie worked mostly, Lisa > Marie Rose will require more adjusting.  Lots of parts like neck, butt, torso and others will have issues, but its still less then the usual amount. 

Tomorrow I'll work on bundling the snapper and the fix vertex buffer stuff which I forgot to do.  

LSC, Hopefully, I'm not working something that will invalidate what you're working on.  Is there anything you would want me to focus on for vertex writing.  I think I should be able to grab any part of the buffer and swap it, based on current method.
## Post #909
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-06-23T07:41:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

nice find on the photoshop plugin.
## Post #910
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-06-23T08:03:53+00:00
- Post Title: Re: Dead or Alive series formats and tools

lil,
For me it looks too advanced to make that process into scripts.
I didn't yet understood any of concepts of inserting part of mesh to another character's TMC & TMCL.
It's just looking that some process of adjusting 'after' inserting meshes & verts.

**
Anyway, if vertex snapper script works, it's gonna be really easier to swap costumes to another's one.
(ex. Azurie to MR, lol)
I think partial morphing  should be quite useful for repairing some unwanted modified parts after using the script.
I'll explain it later.

**
Yeh, mlaa filter is quite nice. but it could be looking a bit blurry then the original image.
original(pixel jaggy) vs mlaa filtered(blurry)
it's your choice. 

And it can't do quit well with 1pixel thin hair lines. (ex mr)
not like SMAA.
## Post #911
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-06-23T08:31:28+00:00
- Post Title: Re: Dead or Alive series formats and tools

It's all good.
## Post #912
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-06-24T02:33:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

Ok, apps packaged.

I may be out of commission for new tech for a couple days on account of some real world stuff. 

Ros, I messed around with Gimp a bit and its Filters to remove some of the anti-aliasing.  One called Van Gogh seemed to help a bit. I'd run that a couple of times and then sharpen.  It's a big wonky, but just another method idea.

Do you feel ready to tackle injecting?  Do you feel comfortable with finding vertex and index groups for specific mesh pieces?  If so we can start explaining some of that methodology.  

LSC, what are you doing to approximate x,y,z?  Are you doing that based on an injected mesh and comparing against the source one? 

I think my next small app project will be to do an auto neck thing for the two top rings.  I think that if all verts were sorted by Z(?) value, I could grab the top 20(ish) verts, compare to their source and then copy over the buffer values. 

After that, I really need to get the auto injector moving.  I can do an injection in 15 minutes, but it's becoming a lot repetition that needs to get cut out.
## Post #913
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-06-24T05:46:07+00:00
- Post Title: Re: Dead or Alive series formats and tools

the rounding take care of minor variances
## Post #914
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-06-24T06:10:54+00:00
- Post Title: Re: Dead or Alive series formats and tools

I tried Body snapper, but unfortunately, it seems to damage source file.

I tried it for lisa004 to same copy of lisa004 but source also damaged and couldn't be opened in 3dsmax and noesis.

Is there any fine samples for testing? I tried to pick some more, but I couldn't open the results.

And thanks anyway.

**

For about mesh injecting, I hope that I can keep it for later.

I've been quite rushing and I feel a little exhausted about understanding concepts, especially with HEXes.
I want to concentrate on doing something with what I know, than learning what I should know, currently.
## Post #915
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-06-24T13:32:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

LSC, thanks, the rounding was what I'd been wondering about since 3dsmax only has a 3 decimal place threshold.  Are you grabbing any data beside the bone weight & id.  Just curious since I think I've done that w/ body shop for other mesh pieces although not the mass copy stuff.

Ros, i mentioned in the instructions that it doesn't use an actual tmc, just a hex file of the verts witha .tmc extension.  I did that since it will eventually implement, tmc reading, and prevent slowing it down when processing a text file. You can find the body verts by using the obj properties info found in 3dsmax.  start & length values need to be converted to hex, save the vertex values to a generic file. Once updated, paste vert data back into the tmcl that they came from.
## Post #916
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-06-24T19:34:51+00:00
- Post Title: Re: Dead or Alive series formats and tools

I haven't had cause.
## Post #917
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-06-25T11:16:19+00:00
- Post Title: Re: Dead or Alive series formats and tools

prot.
Great, that's great. your app worked.
And that will definitely reduce time to make base body.

It seems that it can't handle with nails or toenails, but it's OK. I can handle it full enough.
I will provide a tip for that.

And I have a suggestion for your app.
You know there's only 2 numbers are required to pick out the body vertex buffer from TMCL.

The starting address of body buffer and the vertex count (in object properties).

How about making the app to provide text-box for inputting those 2 numbers for source and target each?
Then the app will do the process with original TMCL files, not with the user-made vertex buffer files.
And that will make the app much more user-friendly.

It will going to have no problem with reading or writing entire size of TMCL as an array or whatever.
or you can make additional '44 * vertex_count length' array to make calculation on your app easier.

***

About the neck seam..
It seems that matching 1st neck ring's material values is not enough for making perfect neck connection.
I could see some weird wrinkle in the 2nd(maybe) neck ring.

So I could guess the weight values of 2nd neck ring should be copied from original for more perfect connection.
or 3rd also maybe.
## Post #918
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-06-26T01:29:23+00:00
- Post Title: Re: Dead or Alive series formats and tools

Cool, Ros glad it worked.  I know I could allow for manual inputs, but I want to focus on getting away from that since my earlier endeavors having been manual heavy.  I want to invest the time into bypassing that so future apps won't even require it.  

I'll try to start on the neck vert thing next.  I'm thinking it'll require exact vert coordinates, so it has something to match on.  The neck verts don't seem to match on UV or bone Id / weight, so they'll need something else.  

LSC, I know dirt can be removed by switching the index to the all black dummy images, but I'm not sure how to actually break the object from thinking it has that multi layering altogether.  :-/
## Post #919
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-06-26T06:53:53+00:00
- Post Title: Re: Dead or Alive series formats and tools

I made a simple tutorial about Morphing & Partial Morphing.
[http://youtu.be/9Ztw3sqybKI](http://youtu.be/9Ztw3sqybKI)

**
[http://youtu.be/5Faq2A8_quQ](http://youtu.be/5Faq2A8_quQ)

**

prot,
yeh, I got your plan and I know you did it on the hielay matching app.
Actually, what I've told is not about what your app should be like,
it's just my personal request.
I'm already almost done with marie with your app, and I'm about to produce base bodies of all, like a factory.
If you are not about to make it automatic right now, I hope you can add that manual option temporarily. that will save my time a lot and you'll see what I've done on google drive also.
## Post #920
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-06-30T03:22:19+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks for the tut, Ros. 

I understand what you're asking.  The downside is that I don't get a lot of time to work on apps, so I'm trying to maximize what little time I get.  If I can I'll see what I can do, but I cannot make any promises just yet.   

***

Had a few minutes today to test some things.  The Ayane/Kasumi body style does not snap very well, it usually messes up the finger nails.  Instead I finally tried using Alpha 152's body as an injection and with buffer adjust options it works just fine.  Although filling with all 00's does negate the wet & dirt I believe.  That will give me reason to attempt some util stuff for the vertex buffer like mentioned before.
## Post #921
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-07-02T20:00:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

hair and faces.
## Post #922
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-07-04T10:33:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

lol.. I tried 'neck seam remover' to multiple length object group with some manual calculation,

I realized that I had wrong concepts about that.

Well.. it seems it's still ok with all 44 group mesh..
but the way to calculate it for multiple length object group I told before was totally wrong.

I think I should do some modifications on the app...

```
44      1607    70708      6926352        6926352 
44      551     24244      6997060        6997060 (Perevious Adress + ln*Vrts)
44      916     40304      7021304        7021304
36      112     4032       7198896        7061608	???
40      160     6400       7202928        7202928	???
44      3120    137280     7061608        7209328	???

```


**
lil, I've seen your Excel macros.
It was so much more complicated than I imagined.
Why didn't you make it as a programming language?

I could sure you had no problem if you made it as C or Python or whatever.
In my case, after learning 'how to read and write files as bytes', it wasn't hard after all.
All it matters were how much I know about TMC & TMCL after that.
## Post #923
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-07-05T08:29:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

I'm just more familiar with them.
## Post #924
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-07-05T10:37:21+00:00
- Post Title: Re: Dead or Alive series formats and tools

I fixed my Neck Seam Remover app.
Previous version has some serious problem..
Please delete it. (Once it worked, files should be ok.)

Now it will work with multiple buffer length objects, like {44,38,40,44} whatever. (But body vertex buffer must be 44.)


 NeckSeamRemover Fix_1.1.zip
(117.34 KiB) Downloaded 101 times



Matching MtrCol was so stressful. because I've checked them in game.
But now I know how to find exact buffer data pretty easily.

****

Can I get some tuto about copying weight values?
I'm about to upgrade my app for weight value synchronizing.
It seems that some unnatural wrinkles appears behind the neck when weight values are not copied.

Let me set an example for that.

```
BC 1F E8 68 3E D7 08 A9  3C 43 FC 44 77 3C 56 A0
00 54 9F 0C 00 1B 1A 06  F7 69 37 1D 25 43 38 08
25 43 38 08 25 43 38 08  34 EF 26 B0

MR DLC 004  [4807]
BC 1F EA 36 3E D7 08 A9  3C 43 FD 30 75 3D 16 74
00 0C A6 4D 00 23 22 21  F6 E9 6B 09 25 43 38 08
25 43 38 08 25 43 38 08  3A F9 36 0C
```

What I want to change is lisa's one.
Two vertices are in same geometrical position.
## Post #925
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-07-07T20:19:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

it's the 5th set
## Post #926
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-07-08T03:37:32+00:00
- Post Title: Re: Dead or Alive series formats and tools

Sorry for the absence, been soooo swamped ... :-/

Will a direct copy of the bone ID work even across same character models though?   Ros, when I get a chance I'll have to get you something to use for that. 

With any of the neck information, did you find values that were an exact match?

Before I got detoured I had the util close for swapping any of the 11 values in the buffer. It'll be a quick finish, but I don't know when I'll get a chance just yet.
## Post #927
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-07-08T06:38:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

Well, I did tried.
Pic's on core.

It doesn't seem to be working with just copying weight values directly.
It got worse.
Do I need additional calculation for that?

I'll take time on that.
help me whenever you feel free.

and.. it seems that bone IDs are 4 bytes right?
Well.. I thought It was just 2.
## Post #928
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-07-08T09:07:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

will look into it if not already resolved by weekend.
## Post #929
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-07-08T17:35:11+00:00
- Post Title: Re: Dead or Alive series formats and tools

Now I got the reason and.. it's pretty simple and quite annoying.
it's about lisa. not momiji.

all lisa's body has been made like that originally.(tina's too)
it's just hardly noticable because of her hair.

just fixing faults was not that hard but,
refining it more naturally was so, so.. annoying.
it seems to be required to replicate 3rd or more neck ring's bones and weight values.

***

I fixed them all.
## Post #930
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-07-11T06:52:10+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hair and ayane face up on google,
## Post #931
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-07-14T00:16:40+00:00
- Post Title: Re: Dead or Alive series formats and tools

Is there any TMC parser working for face weights?
What I have breaks the face like a horror movie.
## Post #932
- Username: zaykho
- Rank: mega-veteran
- Number of posts: 217
- Joined date: Fri Dec 03, 2010 8:20 pm
- Post datetime: 2014-07-14T01:56:21+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Rosalin
>
> Wow... that worked.

I think there's gonna be no problem if you use just transmographer to do it after using script. without identifying floats are below zero or not. only if that is mirrored mesh.

Thinking about toes and nails again... it had been possible to distinguish them by vertex x or y coordinate lol.

********************
111.png
Applying MLAA to screen shot.

1. Download Pixel bender as Photoshop plug-in or Standalone, whatever you want.
http://www.adobe.com/devnet/pixelbender.html

2. Download MLAA for pixel bender.
https://www.adobe.com/cfusion/exchange/ ... id=2230024

3. Run Pixel bender and open the screenshot you want as PNG format and File>Open filter choose MLAA file, and Build>run

4. 0.1, 0, 255 (default?) will be fine.
save it.

5. In stand-alone version, the canvas size might have been expended unwanted.
just load original image in Photoshop and copy over the MLAA filtered image as a layer(not as smart object). that will simply handle the canvas size.

6. After you applied the MLAA filter, the highlight in the eyeball has been a little bit blurred. The highlight in the eye ball is better when it's sharpened. You can simply recover it by erasing that part when the MLAA filtered image's layer is over the original image layer.

Holy shit, what a great plugin !!!!  nice !!
## Post #933
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-07-16T01:51:57+00:00
- Post Title: Re: Dead or Alive series formats and tools

Still fightin' for time. 

The Body Snapper is turning out to be not all that useful since I cannot get around the fact that Lisa's nails keep getting screwed up.  I'm trying to at least one set of fingernails as an isolated mesh group that might correct the problem if they were to have a matching value.  

Looks like there will be new DLC in a couple of weeks.  

Ros, there is a different TMC praser, I'll do my best to get you the utils soon, really been swamped.  

Did you happen to do those training suit mods. I was curious if you could post that texture that has the zipper.
## Post #934
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-07-16T05:52:09+00:00
- Post Title: Re: Dead or Alive series formats and tools

had butter chicken for lunch, just sayin
## Post #935
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-07-16T05:56:20+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Still fightin' for time. 

The Body Snapper is turning out to be not all that useful since I cannot get around the fact that Lisa's nails keep getting screwed up.  I'm trying to at least one set of fingernails as an isolated mesh group that might correct the problem if they were to have a matching value.  

Looks like there will be new DLC in a couple of weeks.  

Ros, there is a different TMC praser, I'll do my best to get you the utils soon, really been swamped.  

Did you happen to do those training suit mods. I was curious if you could post that texture that has the zipper.

If you fix the tmc praser supporting correct uv's and vertex weights, I'm giving you a coockie.
## Post #936
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-07-17T00:21:11+00:00
- Post Title: Re: Dead or Alive series formats and tools

Darko,

Are you referring to the 'TMC Praser for Face' script? Do you have that one or are there other issues that you are referring to?
## Post #937
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-07-17T01:45:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Darko,

Are you referring to the 'TMC Praser for Face' script? Do you have that one or are there other issues that you are referring to?

Yep, I'm refering to that one, not all the faces are weighted correctly and It has none uv's.
## Post #938
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-07-19T13:27:01+00:00
- Post Title: Re: Dead or Alive series formats and tools

(can't find a bunny will settle for this)
## Post #939
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-07-22T03:16:32+00:00
- Post Title: Re: Dead or Alive series formats and tools

Darko, I'm not sure which ones are in question, but the only problem I had was Kasumi and her face actually weighted normally using the standard TMC Praser.  

For those that don't have UV's do you know how to Bone Weight Copy using Blender? That's the only work around I know of, using exported .obj's from Noesis...


LSC, nice! One of these days I have to tackling mirroring.  

Last week when I had time, I finally tested the water texture workaround.  I took a mesh piece which was normally a 44, overwrote / injected over a 40 mesh object, did all of the normal transparency things, and the transparency worked just fine.  Not quite sure if this will work on full on alternate textures that are in different containers, but it's possible.
## Post #940
- Username: leidoa
- Rank: n00b
- Number of posts: 10
- Joined date: Sun Dec 18, 2011 9:53 pm
- Post datetime: 2014-07-22T11:25:20+00:00
- Post Title: Re: Dead or Alive series formats and tools

does anyone know how to open wva file it's the voices files for doa2 ultimate ,
 im thinking about replacing the Japanese voice with the english one from doa2 hardcore
 theres afs voice file im almost finish with it , but still the wva files which is for the story and gameplay voices   

any one can help !
## Post #941
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-07-25T03:31:30+00:00
- Post Title: Re: Dead or Alive series formats and tools

Not sure who would know about classic titles besides b0ny or zayhko. 

Also not sure what kind of detection level TN has been on about the 'creative' communities, but I was not to keen to find out that a ton of my images from our former site ended up being uploaded along with others on a fan facebook page.  I don't need any of this stuff throwing up an red flags, so from here on out, I probably won't be posting samples and will keep stuff to discussion only.
## Post #942
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-07-25T13:38:31+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Not sure who would know about classic titles besides b0ny or zayhko. 

Also not sure what kind of detection level TN has been on about the 'creative' communities, but I was not to keen to find out that a ton of my images from our former site ended up being uploaded along with others on a fan facebook page.  I don't need any of this stuff throwing up an red flags, so from here on out, I probably won't be posting samples and will keep stuff to discussion only.

Are talking about about the warning in TN jap site?? Do you know what exactly it says?? I ended up deleting every mmd video I had along with some models I've uploaded in my DA page.
## Post #943
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-07-29T15:58:35+00:00
- Post Title: Re: Dead or Alive series formats and tools

No, unfortunately, I don't.  No one has offered an accurate translation yet, and there hasn't been an official post for the English sites yet.  I don't know if its serious or not ...

New DLC is out, any chance Miku could update the archivarius file, or at least explain the easy way to match up the files w/ names?
## Post #944
- Username: mikulover39
- Rank: advanced
- Number of posts: 61
- Joined date: Tue Nov 22, 2011 5:55 pm
- Post datetime: 2014-07-29T16:16:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

And like magic there was a archivarius update
[doa5Uarchivarius.zip](https://xentaxbackup.github.io/file/7614_doa5Uarchivarius.zip)
## Post #945
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-07-29T18:11:32+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mikulover39
>
> And like magic there was a archivarius update

Thanks, moar models
## Post #946
- Username: mikulover39
- Rank: advanced
- Number of posts: 61
- Joined date: Tue Nov 22, 2011 5:55 pm
- Post datetime: 2014-07-29T18:38:09+00:00
- Post Title: Re: Dead or Alive series formats and tools

I got a friend of mine to roughly translate that warning. Basically it's saying that they have official in game ways to upload videos and pictures to youtube and facebook and that you should not extract or modify the games content without permission including character models or content made through modifying character models.
## Post #947
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-07-29T19:45:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

wow, scary, lucky we do none of that here then
## Post #948
- Username: 252gt
- Rank: beginner
- Number of posts: 22
- Joined date: Sun Aug 14, 2011 1:52 am
- Post datetime: 2014-07-29T21:27:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

What a DLC   

I want DOA X3  

and people are so stupid to share ports to TN facebook, twitter page
## Post #949
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-07-29T21:39:26+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks, Miku +1 AllStar status,  

Thanks for the translation too.  Guess they finally thought it was time to say something.  :-/

Ros, Momiji progress is looking good. 

Looks like latest additions have full tops for towels.
## Post #950
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-07-29T23:44:21+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mikulover39
>
> I got a friend of mine to roughly translate that warning. Basically it's saying that they have official in game ways to upload videos and pictures to youtube and facebook and that you should not extract or modify the games content without permission including character models or content made through modifying character models.

Lol, I thought the warning was more extrict... hehehe thanks for the info. Their posture is totally lax compared to the ninja-hacker incident, well I imagine meanwhile they're selling virtual clothes and having a huge profit of it, they don't really care. but anyways, we should be cautious.
## Post #951
- Username: paradoxflyer
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sun Aug 05, 2012 10:49 pm
- Post datetime: 2014-07-30T00:59:31+00:00
- Post Title: Re: Dead or Alive series formats and tools

I'm using 3DS Max, I'm still new at editing models, I keep getting this border on the chest, legs, etc. How can I get rid of it?
[Untitled.jpg](https://xentaxbackup.github.io/file/7616_Untitled.jpg)
## Post #952
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-07-30T03:42:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from paradoxflyer
>
> I'm using 3DS Max, I'm still new at editing models, I keep getting this border on the chest, legs, etc. How can I get rid of it?

I recomend to watch Mario's tutorials before using the models for whatever you want:

[https://www.youtube.com/user/mariokart6 ... shelf_id=0](https://www.youtube.com/user/mariokart64n/videos?view=0&sort=dd&shelf_id=0)

Here you have:



and then:



For more references, watch Mario's tutorials.
## Post #953
- Username: paradoxflyer
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sun Aug 05, 2012 10:49 pm
- Post datetime: 2014-07-30T20:29:27+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> paradoxflyer wrote:I'm using 3DS Max, I'm still new at editing models, I keep getting this border on the chest, legs, etc. How can I get rid of it?

I recomend to watch Mario's tutorials before using the models for whatever you want:

https://www.youtube.com/user/mariokart6 ... shelf_id=0

Here you have:



and then:



For more references, watch Mario's tutorials.

Thank you very much, this is very helpful
## Post #954
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-07-31T12:13:23+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hello everyone, I've been absent for a while.
I've been doing something with weight and textures.

I realized that the lisa's weight is a little bit cruder compared to newer characters.
So I felt that I should fix some of them and I'm still working on it.

And.. I brought one another issue.
I saw a picture uploaded by penguin(maybe) on the core.
Then I realized that if you have made marie's body with another character, then you are going to get a weird shade under marie's breasts.


I could guess It's about normal values of vertices.
I guessed that there happens a kind of normal mismatch when bigger breast adjusted to smaller, flat breasts.

And I think it's quite ugly.
I'm thinking about fixing it.

***
Thank you very much miku, about your update.  

***
anyway What is TN?

***

Testing on fixing weight has failed.
It looks more complicated and bigger problem.
but change is small.
I'll do it later.
## Post #955
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-08-04T02:29:43+00:00
- Post Title: Re: Dead or Alive series formats and tools

TN refers to Team Ninja. 

I've seen that weird shading before today, but it never bothered me enough to look in to it, since its minor compared to the amount of projects I keep thinking up. 

I really like using the towel models as some new baseline models, but the shirt ones are an issue since there are only two mesh groups to begin with, lol.  I'm not sure how to do a valid injection without either using Lisa's and scaling it or custom forming some other model.  XD
## Post #956
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-08-04T05:33:33+00:00
- Post Title: Re: Dead or Alive series formats and tools

gone
## Post #957
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-08-04T06:32:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

Don't worry. I'm making progress a little bit by myself.
What's worrying is the result I should get.
## Post #958
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-08-05T03:39:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

Auto snapping is primarily ineffective, so I reverted to snapping the verts manually in 3dsmax, which is getting the job done for MR. 

Good news, I did a test of appending an mesh to the end of an existing mesh group.  Worked fine, one snag.  The first vert of the add group seems to draw weird, so I converted it to FF's in the Index layer.  At that point, it looked fine in Noesis in 3dsmax.  I'm getting some weirdness in game though.  It loads fine on the select screen but never loads for an actual fight.  Trying to narrow it down to a bone issue or something else.

Edit:
Well the addition method is a bit easier than a normal injection + expansion.  Seems to work consistently.  There is a problem with Momiji's Bedtime costume slot.  Nothing wants to load when Player 1 selects the costume, but on the select screen and player 2 everything works fine.  Strange.  At least there is nothing wrong with the method.  Should make combining models a bit simpler.
## Post #959
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-08-06T06:07:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

Nice
## Post #960
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-08-07T02:59:12+00:00
- Post Title: Re: Dead or Alive series formats and tools

I'm not sure how he'd even pull that off unless he has a different injection script which can actually ignore / bypass verts.... OR has something which calculates vert id's effectively to isolate those groups. 

I probably won't focus on that until much later, since at least addition now allows for complete meshes even without bikini depressions.  The only deficits are the extra steps of bone subs on the compressed(hidden) portions and the extra file size which is moot until we have proper encryption working for the goofy costume slots.  :-/ 

The only main difference with additions are...
When adding to an end Mesh group the Indices need to be offset by the total vert count for the group (2C, etc) minus the start index (vert) of the object being appended.  That's what I missed when I attempted it a few months ago.
## Post #961
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-08-07T15:21:57+00:00
- Post Title: Re: Dead or Alive series formats and tools

Can anyone teach me about vertex normal value in hex?

It is made of 4 bytes. in fourth group of every 44 buffers
XX - ZZ - YY - ??
I don't know the last one.
what is that mean?
and how can I manually calculate a single vertex normal direction as hex, if I can see that direction on 3ds max?

I made a script and injected normal values from various models.
The test ended up very very successfully.
I'm feeling great with the result now.

but there was a tiny defect may everyone will neglect.
I want to fix it. Well. it's a game as it is. isn't it?

I may able to fix it by getting how to calculate vertex normal.
It might be ok with just approximation.

*****

Well.. forget about vertex normals.. It doesn't looking that simple to explain in one or two lines..
With older version of plug-in in noesis, the models were shown their shades, as their shape of the model itself, not by the vertex normal information they have.
That means some genius could reset the all normal values of vertices due to shape of the model itself by calculation.

I don't expect that. but I'm just talking about possibilities, lol.

*****
And the normal fix script I've made is very similar to lsc's weight fix excel script.
With only bone index list, I may be able to simply change it into the weight fix script, like lsc's one.
Where did you get the list?
I know how to fix the weight. But I got the bone index value from 3dsmax.
I was only able to check them by counting it.

If I wish to make it as a script, I think I should get the full list of it as text or something like that.
Help me with finding the bone Idx list in TMC or TMCL, please. thx
## Post #962
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-08-08T07:50:09+00:00
- Post Title: Re: Dead or Alive series formats and tools

its magic
## Post #963
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-08-08T09:49:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

Oh, was it same? lol;
I thought it was different.
## Post #964
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-08-08T21:42:23+00:00
- Post Title: Re: Dead or Alive series formats and tools

was that not what you were looking for? lol
## Post #965
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-08-09T01:02:29+00:00
- Post Title: Re: Dead or Alive series formats and tools

Oh.. That was that.
Now I understand. There was another index list in the Nodely.
## Post #966
- Username: hqi2005
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Tue Jun 24, 2014 1:55 am
- Post datetime: 2014-08-10T06:53:37+00:00
- Post Title: Re: Dead or Alive series formats and tools


## Post #967
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-08-10T08:23:02+00:00
- Post Title: Re: Dead or Alive series formats and tools

it's difficult
## Post #968
- Username: hqi2005
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Tue Jun 24, 2014 1:55 am
- Post datetime: 2014-08-10T15:49:49+00:00
- Post Title: Re: Dead or Alive series formats and tools


## Post #969
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-08-10T19:31:39+00:00
- Post Title: Re: Dead or Alive series formats and tools

read stuff
## Post #970
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-08-12T02:28:58+00:00
- Post Title: Re: Dead or Alive series formats and tools

It's usually best to ask specific questions.... like "How do I find ___ value" once you get to understand things better.  Like, lsc said, it's rather complex and will take some personal effort to start moving on that process.

***

Been swamped to do too much.  I tried the addition method on a hair piece.  It worked, but I still got the starfish for the end result.  I had to drop a 44 down to a 40 which should have worked correctly, so I don't know what happened with the modified Index Layer.  

***

I gave some thought to how Penguin was doing MR completions.  The use of the Santa & any other complete model now makes sense... even the use of the body suit to take care of the final holes.  What I don't get though is how those last two holes were UV mapped correctly.  Injected the missing verts from another model would retain the UV.  LSC, do you think that was a process of updating UV values or painstakingly adjusting a texture to match original coordinates?
## Post #971
- Username: hqi2005
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Tue Jun 24, 2014 1:55 am
- Post datetime: 2014-08-12T02:54:34+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thank you!
## Post #972
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-08-12T05:38:32+00:00
- Post Title: Re: Dead or Alive series formats and tools

it on core.
## Post #973
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-08-12T11:25:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

@prot
Aren't all bodies sharing almost same UV shapes?
**

Can I now get a tut for replacing body mesh into another costumes?
## Post #974
- Username: game01er
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Thu Dec 27, 2012 7:05 pm
- Post datetime: 2014-08-12T15:00:21+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hi all
I have a question for the experts to modding of DoA 4 (​​texturemod /Nu*emod). So as I understand it that would have to be possible but also as strongly resemble the models and textures from DoA4 and DoAX2.
Unfortunately, I have absolutely no idea how to proceed there is: should I unpack textures and make it transparent? How do I get the same texture file size? Injecting without any security things like a checksum? Or completly other way?   
Would be nice if someone could help me who knows the matter.
Modding since DoA3, DoAU, DoAX and DoaX2 not really a problem. And i have a jtag.
If it against the rules please delete my post.   

thanks
## Post #975
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-08-12T19:45:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

no idea.
## Post #976
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-08-14T02:46:51+00:00
- Post Title: Re: Dead or Alive series formats and tools

@game, yeah not sure about the older titles here either. I only know stuff about DOA5

@ros, yes bodies do use similar UV's but in the case of MR, her holes were originally bridged with a different piece which had different UV's.   We still don't have a full injection tut yet, but we can handle specifics, we'll get ya there. 

@lsc, thanks, I just checked core. So it looks like he's using body verts although we still don't know how he does exact sets, unless he's got another method like you said.  

There's been some nice stuff posted recently. I'm still envious that we cannot get MR / Phase 4 and other stuff back in without encryption.   

---

Been doing more with the additive injections.  I added a mesh that didn't have the body as the last object, so it had to go in between the 2C's followed by some 28's followed by more 2C's.  The trick is really knowing the verts to offset remaining Idx by.
## Post #977
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-08-14T04:24:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

For other titles, check b0ny's plugins, he also has a russian forum where modding doa tittles can be disccused (at least more openly that here), check the whole thread, he posted the link to his forum more than once.
## Post #978
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-08-14T10:35:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

I could know that mdlgeo has geodec chunks for each model group.
And each geodecl has
<offset,ukn01,ukn02,ukn03,vertex_index,face_count,vertex_count,ukn04,ukn05,ukn06,ukn07,ukn08,ukn09,ukn10,vertex_size,fvf_count>
something like this. I checked in tmc_parser

What I only know about model information is some numbers in the object properties, so I tried to find something like 44(2C) or vertex_count, vertex_buffer_starting_address... stuff like that.
And I was only able to find vertex_count(4 bytes) & sum_of_previous_vertex_count(4 bytes) for each object group. 2C only showed once.
And each object group has four 0x70 long chunks at the end of blocks. I don't know what it is.

I couldn't get the size of each variables and couldn't find face_count or address information in there.

Can I proceed?

***
The process for replacing body object that I could guess is made of 2 major steps...?

1. Extend spaces for inserting body object in TMCL, (if the new body object has larger data)
and after inserting, I should reassign bone ID for weight, as a new bone list in TMC.

2. And I should re-declare the total vertex count and face count of inserted object and changed TMCL address offset information in TMC.

right? and you told me about geodecl because the major information to change is usually located in TMC geodecl, right?
So I hope you to tell me what I should do modify for this please.
## Post #979
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-08-15T00:42:17+00:00
- Post Title: Re: Dead or Alive series formats and tools

(\ /)
( . .)
c(")(")
## Post #980
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-08-15T05:27:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks alot lsc.

But I don't understand about index buffer yet.
What I only know about TMCL is vertex buffer that can be found by {{44,44},{32323,45453}..} something like that.
Can you tell me what index buffer means and ...how can I find it in TMCL?

(And I'm always saving your notes, so be free to erase it or make it bunny, whatever.)
## Post #981
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-08-15T05:57:35+00:00
- Post Title: Re: Dead or Alive series formats and tools

(\ /)
( . .)
c(")(")  the bunnies don't look as good in this format T_T.

btw pro you mean certain slots right. coz there are plenty of slots for MR and Kasumi clone 4 that are viable without encryption.
## Post #982
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-08-15T06:53:31+00:00
- Post Title: Re: Dead or Alive series formats and tools

Yeh, thanks alot.
Copied. (not in my head, into my notepad lol)
Now I'll start to digest it.

**********

Now I think I fully got what you said, lsc.
It seems that I should find index buffer manually by looking at the shape(?) of the hex array.
And... It seems that it is located almost at the end of the file.
And I could find 4bytes offset numbers in the header.

And.... It looks like a quite big game. I feel like that I should make at least 2 apps for this.
One is for changing bone id, another is for adjusting index array.

I'll ask for more if I should get additional questions.  

***********

Oh.. There was starting offset of Index buffer in LHeader.
## Post #983
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-08-16T13:36:10+00:00
- Post Title: Re: Dead or Alive series formats and tools

you don't need to make anything. don't you have that app pro made?
If you don't then you should ask him for it. it takes care of the mass bone ID + index adjustments.
## Post #984
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-08-16T13:50:09+00:00
- Post Title: Re: Dead or Alive series formats and tools

That's just what I was about to ask for!!! 
Yeh I remember the conversation you and prot had.

and.. he seems to be busy.

****

lol. I already had that one. I thought it was snapper.
## Post #985
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-08-17T20:35:47+00:00
- Post Title: Re: Dead or Alive series formats and tools

Yeah, thought I sent you 'body shop' on the more recent one.  Radically different 

Basically the TMCL consists of

Texture Data
Vertex Layer Data
Index Layer Data

b0ny's stuff handles TTX

We need to modify Vertex & Index Stuff in the TMCL,  The primary values can be found in the LHeader of the TMC, or open a TMC in dat one app. 

***

LSC, yep, I know there are plenty of slots that work, but essentially we cannot update Face /Hair or default costumes for Marie Rose & Phase 4.  Some of the defaults I don't care, but I do have mod ideas for changing some hair stuff.  :-/

***

Edit: I've found that container weirdness is not limited to Momiji using the 'append' method. I tinkered with Hitomi's Nurse costume and it only seems to work for Player 1 if the alternate hair style is NOT selected.  It is a costume with alternate textures, so I contemplated wedging a full texture for the undies, but then I noticed that the version of texture extractor I have wouldn't properly dump from H/HL files. Has anyone had any issue with those recently?
## Post #986
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-08-19T23:38:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

New stuff is out, I've found the primary containers, but still don't know how to isolate the alternate texture stuff.  Miku, any chance you're working on that or want to explain how? 

***

Narrowing down append method weirdness.  Definitely is not the costume slot since uncompressed files work fine when unmodified.  Momiji's still has a problem with only verts added and no bone changes made, so there must be an upper cap or something on how many verts there can be before it starts to have a problem.
## Post #987
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-08-20T02:24:57+00:00
- Post Title: Re: Dead or Alive series formats and tools

Does some know how to edit the .dat file for the new dlc??
## Post #988
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-08-20T06:07:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

(\ /)
( . .)
c(")(")
## Post #989
- Username: mikulover39
- Rank: advanced
- Number of posts: 61
- Joined date: Tue Nov 22, 2011 5:55 pm
- Post datetime: 2014-08-20T09:45:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

I didn't even know there was a new one coming out   , well time to get to work on it.

but Lilstormcloud is right thats practically how to do it

Edit: Heres the .dat file for the new dlc
[doa5Uarchivarius.zip](https://xentaxbackup.github.io/file/7683_doa5Uarchivarius.zip)
## Post #990
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-08-21T02:30:44+00:00
- Post Title: Re: Dead or Alive series formats and tools

@miku, Thanks for the update!! 
Question, are you able to extract DLC_014 Alternate textures correctly??

@lsc, Color me slow for a sec.... 
1) The adjustments to the .dat file can be done in notepad too, right? I'm not seeing anything mission critical, unless I'm missing something.

2) I understand how the dat has names substituted, but I'm not clear on how you're finding which file name relates to the translated name.... like 2fblahblahblah 'actual file name' equals  KAS_DLC_001.--H, etc.   I know how to find TMC's / TMCLS, but I'm not seeing how that helps with the other stuff.
## Post #991
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-08-21T05:12:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

thanks alot, miku.
## Post #992
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-08-21T05:21:20+00:00
- Post Title: Re: Dead or Alive series formats and tools

been using hex editor too much, forgot there are other application too lol.

this is going to sound weird

seems like
There's R, S, T, U

R =1, S = 2, T = 3, U = 4,

see 7R, 7S, etc -->

the H and HL will have consistency between names too.

Explained in Miku's post as follows;
## Post #993
- Username: mikulover39
- Rank: advanced
- Number of posts: 61
- Joined date: Tue Nov 22, 2011 5:55 pm
- Post datetime: 2014-08-22T09:16:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Protocol X27, are you talking about the nurse dlc? Yeah I extract the alternate textures fine is there a problem with your one? and you can use notepad to edit the .dat file that's what I use lol

@lsc, your on the right track with the R S T U numbers but don't follow what it says in the --H file. For example in the new maid dlc most of them say KOK_DLCU_017_05_base.dds even tho they aren't for her. to find out who the files are for they follow a rule in the encrypted name lets take Kasumi for example

7R97X@T2121061@8F1S]]J129KRH13176I1S105OG1{TB2161KK71L = KASUMI_DLCU_016_001.--H
BRA7X@T2121061@EG1]T]D129KRH13186AI1S106OG1{TC2161KK71L = KASUMI_DLCU_016_001.--HL

now 7R/BR meaning it's the first alternate texture is correct so that's the first way to identify.
to tell its Kasumis you look on the middle of the name:

J129KRH13176I1S105OG1 for the --H
D129KRH13186AI1S106OG1 for the --HL

this part means it's for Kasumi and you can find the rest by looking at previous files for each character in the .dat file
but also each character has two variants of that part (usually the R one is different and the rest are the same but that's not the case for everyone)

K129LSI13176J1T105PG1 for the --H
E129LSI13186AJ1T106PG1 for the --HL

this is what the S T and U files have in the middle for Kasumi.

It might change in the future when if we hit a 21st dlc to something else, as these parts seem to change after every 10th dlc and that times coming close to Marie Rose since she is at her 9th dlc so it should change at her 11th

I hope i explained this well enough .-.
## Post #994
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-08-22T20:45:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

Got it,
that's very helpful. Thanks.
## Post #995
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2014-08-23T03:51:01+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hey um I've been out of the loop, can someone fill me in on whats going on. 

Where are we in terms of modding ?
## Post #996
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-08-23T06:45:09+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hello. mariokart. Glad to see you again.

Thank you always for your max scripts.
## Post #997
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2014-08-23T13:19:17+00:00
- Post Title: Re: Dead or Alive series formats and tools

I did a bunch of testing in the past, and I was pretty confident that I could re-write the file.. but just didnt have the motivation to create a script of that size... based on the fact there was soo many subblocks

anyway what i'm asking is there already a tool for converting models into the game now?

and what is this stuff i'm reading about new files, dat files, and unknown data?
## Post #998
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-08-23T14:51:31+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Mariokart
Well. I don't know what to say.
I'm the newest one here. I'm barely learning what others know.
Maybe some other members could answer for that.

There are some additional assisting tools by b0ny helping the process now.
But 2 of your max scripts are still the core of the process when putting models into the game.
If you can upgrade your max scripts for more than putting vertex coordinates, well.. that's going to be a great thing.

*****************
@lil @prot
I think I almost got it. I saw prot's guide in other post and that was helping greatly.
But in vertex adjuster, how should I setup the txt files for BoneID arrangement?
I couldn't know what it should be like for Bone Nodes txt file and Bone Index txt files.
## Post #999
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-08-23T20:59:34+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hi man, welcome back. can't believe we're still here after 2 years lol.

We've made progress here and there like learning to making textures transparent (bony helped us with that), but the main change is we can swap objects from one costume onto another.

Still can't delete or add stuff though. 
There isn't a tool for converting models into the game not that we know of, it does look like it by the stuff on core though doesn't it.

*
Ros, 
Search tmc for nodelay, copy starting from nodeobj MOT00 Hip right down to the end but excluding index.
for phase4 DLU 007, start E790 length 69D0

index here: 151C0
## Post #1000
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2014-08-24T01:13:05+00:00
- Post Title: Re: Dead or Alive series formats and tools

on DOA5, there was a checksum that prevented file modification... I commissioned someone to crack the xex to remove it for doa5.. but now what about doa5U?? has someone removed the checksum routine for DOA5U aswell, or is that still present?

if it's still there then I will put up commission postings again for its removal
## Post #1001
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-08-24T01:30:53+00:00
- Post Title: Re: Dead or Alive series formats and tools

No no, DOA5U is fine we've had no problem with it at all. No modification was required.
## Post #1002
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2014-08-24T01:32:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

O_o yeah I guess with the amount of DLC they would have a hard time checksuming it all without a mass dip in performance..

ok sweet, time to start up the doa5u modding engines
## Post #1003
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-08-24T09:08:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

Well.. I think I did make right TXT files..
4 for index and nodes, 1 for vertex buffer.
But it doesn't work.

Node TXT files seem to be needed for taking nodes names..
and each mesh group has its own repective index list, and I took right one and made it into TXT files.

But app is keep crashing.
Am I doing something wrong?

And why does it need a target buffer length type?

***

Anyway, who's MKM?
## Post #1004
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2014-08-24T10:56:21+00:00
- Post Title: Re: Dead or Alive series formats and tools

[https://www.youtube.com/watch?v=UtmQ13y ... e=youtu.be](https://www.youtube.com/watch?v=UtmQ13yVJ7M&feature=youtu.be)

recorded the first video talking about the TMC structure
## Post #1005
- Username: LarsMasters
- Rank: beginner
- Number of posts: 28
- Joined date: Mon Aug 25, 2014 10:30 am
- Post datetime: 2014-08-25T02:36:15+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thx.

I know a person always laugh like Hyena:

Akira-san   

[http://i.ytimg.com/vi/GXYR5e9TJAo/maxresdefault.jpg](http://i.ytimg.com/vi/GXYR5e9TJAo/maxresdefault.jpg)
## Post #1006
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-08-25T06:11:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

lol.. I understood.

I should have known why it requires TXT format..
******
Good, I think I made it quite correctly.
But it didn't ended up perfectly. (pic on coreg)

Some nodes couldn't find corresponding nodes, and the rigging was broken.
and.. what's more serious is there's lack of space for index list in Nodelay T_T
Compared to lisa's body, using all body nodes, bodies in some other costumes doesn't use all of them and so there's missing body nodes, not only missing vertices.

So there's lack of space for additional node index.
Maybe I could enlarge TMC file size and adjust offests for that...

I don't know lil and prot faced this problem already..
But anyway... now we have mariokart here and I'm so sure he could provide a perfect answer for this once he is willing to do.

And his new video seems to be showing offsets for sub-blocks. that will be helping for enlarging TMC file.
I'll ask for help if I can't do this any longer by myself.

****

Anyway, it seems that the app is having maunal substitution list option.
Can anyone tell me how to use it?
I mean the form that the app requires.
I guess I can make it in excel.
## Post #1007
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-08-26T03:22:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

@mario, welcome back,  thought you were completely off the DOA grid, lol.   It is also possible to inject meshes from one costume into another or even append.  Results can vary, but the process is fairly systematic at this point.

@miku, thanks for the explanation.  I'll still have to process what you're saying there, since time is sparse over the next week.  Ya, my nurse containers don't extract.  I think I'm using the .dat file you provided when that pack came out.  If I needed to edit that file what might I need to change?

@ros,   Bone substitutions can be done in notepad.  Start a new line for each substitution.      source_bone_name|target_bone_name
## Post #1008
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-08-27T13:33:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

Well, I made it.
All missing nodes have been added to the index list, and offsets and buffer size were adjusted in each headers correctly.

No more broken weights.
No crash.

Thank you all.


Now I think I'm fully ready for nyotengu release.
## Post #1009
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-08-30T22:37:27+00:00
- Post Title: Re: Dead or Alive series formats and tools

Pro a while back when you put 2 mesh into one object.

The face messed up and you had to separate the two in the index with FF FF.

That's coz they were in sequence.

e.g 10 00 and 10 01

say 10 00 is the end of mesh 1, and 10 01 is the start of mesh 2.

what the index is saying is 10 01 is joined to 10 00, which is wrong, hence you get the face flying off to meet the other face.
## Post #1010
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2014-08-31T08:38:04+00:00
- Post Title: Re: Dead or Alive series formats and tools

had a look at the bone structures in DOA5, and I'm very puzzled about the "BnOfsMtx" block.



HieLay defines a relative matrix4x4 for the skeleton, along with hierarchy info such as the parenting and children
NodeLay Stores the Node Names, and indices in which to assign them to the skeleton
GlblMtx defines a world matrix4x4 for the skeleton
BnOfsMtx Somewhat resembles a skeleton if read as a world matrix4x4.. however the skeleton is deformed? but to what purpose?

the resulting skeleton derived from data of both the NodeLay and GlblMtx blocks are exactly identical. 

tests run on modifying the BnOfsMtx block show that it has a direct affect on how the final skeleton operates in the game....

any thoughts guys? maybe a animation bind pose?
## Post #1011
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-08-31T11:05:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Mariokart
I never knew it was T pose, lol..
As I know.. BnOfsMtx affects in-game model most among 3 of them... maybe

*******

I have a question..
in archivarious .dat file

```

```


what are those numbers in the end of each lines?
1604	E0000017	00005600	71104693.... something like that.


**************

Lol.
Another DOA5 is coming out for XBO/PS4

[http://www.youtube.com/watch?v=ukOO1I5CNXs](http://www.youtube.com/watch?v=ukOO1I5CNXs)

2015 1Q
## Post #1012
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-08-31T13:07:44+00:00
- Post Title: Re: Dead or Alive series formats and tools

another porting operation of existing stuff comes 2015. that's lammmmmmmmeeeeee   

It'll probably be quite similar to what we have now. might even be exactly the same then we open it up and lol "larger textures"

wonder which version to get though. PS4 or X1,

Modifications to GlblMtx does nothing for me, I swapped out the whole block 1 time and can't spot a difference.
## Post #1013
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2014-08-31T19:07:05+00:00
- Post Title: Re: Dead or Alive series formats and tools

..alrighty I have all of the three skeleton's working right now 
I feel stupid because it was a simple thing and I should have spotted it earlier. 

anyway I can rule out Rosalin's theory about the 3 skeleton's controlling breast size. 
you can tweak the skeleton and cause a deformation that would lead the the breasts skewing.. 

however it is not a specific control mechanism for the breast physic's in the game. :/

there are however separate files that seem to handle the physics and collision data, so I wager its in there.
## Post #1014
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-09-01T17:51:44+00:00
- Post Title: Re: Dead or Alive series formats and tools

Maybe we can expect higher resolution, improved lighting effects, 1080p .. that will be enough.

Anyway, nyotengu is going to be released very very soon! 

***

Wow. DOA5LR is going to be released for XBOX360, too
## Post #1015
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2014-09-02T08:47:00+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hello! im starting out new here and I want to learn how to port (obviously lol) I've checked the majority of this thread but im still lost on where to start. Im trying to get a jtagged xbox so i can port dlc's and costumes people haven't yet ported could I have a referral on which page to start on? and possibly some starter files to get me started on my journey? Much appreciated!
## Post #1016
- Username: Naroax
- Rank: beginner
- Number of posts: 30
- Joined date: Sun Aug 31, 2014 1:44 am
- Post datetime: 2014-09-02T10:12:34+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from MisterNatal
>
> Hello! im starting out new here and I want to learn how to port (obviously lol) I've checked the majority of this thread but im still lost on where to start. Im trying to get a jtagged xbox so i can port dlc's and costumes people haven't yet ported could I have a referral on which page to start on? and possibly some starter files to get me started on my journey? Much appreciated!

Check the tutorials section, and look at Maxscript video guide by mariokart64n, it's very usefull.

to port models/dlc you need a script for them, download some few of them around here by chrrox and learn how they're written with a simple format. and every model is stored in an archive so you also need a BMS script to extract them off, there are also 3 guides for quickbms by chroxx!! so I recommend you to check them out, have a nice day.
## Post #1017
- Username: Nyotengu
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Tue Jul 29, 2014 11:05 am
- Post datetime: 2014-09-02T13:51:49+00:00
- Post Title: Re: Dead or Alive series formats and tools

Anyone working on the archiv dat?  dying to get Nyotengu models. XD
## Post #1018
- Username: mikulover39
- Rank: advanced
- Number of posts: 61
- Joined date: Tue Nov 22, 2011 5:55 pm
- Post datetime: 2014-09-02T13:53:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Protocol, well it depends on what is not decrypting properly.
If it's the --h change the end numbers too 110	0000	00000000	0000
If it's the --hl change the end numbers too 400	0000	00000000	0000
in the dat file

@Nyotengu, sure I'm working on it but new characters always take a while
## Post #1019
- Username: Nyotengu
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Tue Jul 29, 2014 11:05 am
- Post datetime: 2014-09-02T14:29:30+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mikulover39
>
> @Protocol, well it depends on what is not decrypting properly.
If it's the --h change the end numbers too 110	0000	00000000	0000
If it's the --hl change the end numbers too 400	0000	00000000	0000
in the dat file

@Nyotengu, sure I'm working on it but new characters always take a while
ok, cool and thanks!  I managed to find the tmc and tmcl of her dlc outfits but the other files like face hair default outfits etc In the patch???.bin whatever didn't decrypt? idk, I'm a noob, sorry. XD
## Post #1020
- Username: mikulover39
- Rank: advanced
- Number of posts: 61
- Joined date: Tue Nov 22, 2011 5:55 pm
- Post datetime: 2014-09-02T15:25:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

The naughty Tengu Princess is here!!!
[doa5Uarchivarius.zip](https://xentaxbackup.github.io/file/7766_doa5Uarchivarius.zip)
## Post #1021
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-09-02T16:24:43+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mikulover39
>
> The naughty Tengu Princess is here!!!

Thank you always.
## Post #1022
- Username: Nyotengu
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Tue Jul 29, 2014 11:05 am
- Post datetime: 2014-09-02T17:09:05+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mikulover39
>
> The naughty Tengu Princess is here!!!
Thanks so much!
## Post #1023
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-09-02T22:55:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

@miku, thanks, I'll have to take a look at the .dat file and get back to you.  Thanks for posting the updated one for Nyotengu

@all, What is the objective with skeletal information? My guess was that animation data and stuff was contained in the bin or MPM files.  Does the GlblMtx affect initial bone positions?  it would seem that or something else would be necessary for re-mapping characters of different body structures. 

*** 

Re: DOA5LR,  I am glad current gen is getting it so it doesn't completely kill creativity until PS4/XBO are useable.  Initially I was thinking this would be advantageous since a new chara_common would mean accessible hair & head files for DLC characters, but since current gen is DLC only it may not change much.  I would also suspect that existing DLC containers won't seen any form of optimization... UNLESS the game itself happens in the form of a complete download and not just a huge page like USFIV did.
## Post #1024
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-09-03T01:44:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

any word on who's body type the new char shares? really really really don't want to make another body model.
## Post #1025
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-09-04T01:05:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

Mid size, Towel one matches Hitomi other than the legs being shorter for the 'sandal' things.
## Post #1026
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-09-04T06:33:05+00:00
- Post Title: Re: Dead or Alive series formats and tools

Nyotengu's costumes work on previous characters.
Splendid.
## Post #1027
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2014-09-04T09:02:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

EDITED: I've extracted the files I want to start with and I get a long list of numbers! 

"B498A5595980886495E0FFD8280D1696367DD9CC4B" 
"4250ACFD1B15ED82E17B54580EE3AC43F76232854B"

these are just known as "File" on my computer how would I go about changing it to bin? or whatever I need to extract the model/data? much appreciated!
## Post #1028
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2014-09-04T17:17:12+00:00
- Post Title: Re: Dead or Alive series formats and tools

Its a signed live container, google for a program called wxpirs
[http://gael360.free.fr](http://gael360.free.fr)

U can use it to unpack the containers
## Post #1029
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2014-09-04T20:51:28+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mariokart64n
>
> Its a signed live container, google for a program called wxpirs
http://gael360.free.fr

U can use it to unpack the containers
Thank you for the reply! I checked the tutorial section for the "How to extract .bin" files and im a little stuck is this the part where I use Noesis because I haven't a a clue where the DOA5U file from this thread goes lol
## Post #1030
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-09-05T00:56:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

I use Horizon still which has worked for everything so far. 

***

I've established that the mesh append method is highly unreliable.  I had a 3rd model take a hit.  Worked fine on the Select & 2nd Player, but choked the first player load.  It has to be some file size or vertex cap since either mesh work fine independently.  Strangely, it's all been with mid size characters, Momiji, Hitomi, Nyotengu.   Rachel & Ayane worked fine.  I guess it doesn't matter now that Nyotengu provided a useable mesh.  :-/
## Post #1031
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2014-09-05T01:49:44+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> I use Horizon still which has worked for everything so far. 

***

I've established that the mesh append method is highly unreliable.  I had a 3rd model take a hit.  Worked fine on the Select & 2nd Player, but choked the first player load.  It has to be some file size or vertex cap since either mesh work fine independently.  Strangely, it's all been with mid size characters, Momiji, Hitomi, Nyotengu.   Rachel & Ayane worked fine.  I guess it doesn't matter now that Nyotengu provided a useable mesh.  :-/
Hey protocol! I'm pretty sure im like a broken record now but after I used the Wxpirs thing Mario directed me to I was left with "Content_data.(bcm/bin/blp and just content_data) how should I go about this from here?
## Post #1032
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-09-05T02:47:40+00:00
- Post Title: Re: Dead or Alive series formats and tools

That's actually what you want. 

Think of the .blp was the container a list of file sizes and the content_data.lnk as the container for individual stuff.  

Those will need to be edited.  The means of doing that is explained in mario's video.  If you can extract a costume from the .lnk and put it back into the .lnk with updated references, you'll have the technique down.  The only difference after that is actually doing 3D & texture modifications.
## Post #1033
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2014-09-05T03:17:44+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> That's actually what you want. 

Think of the .blp was the container a list of file sizes and the content_data.lnk as the container for individual stuff.  

Those will need to be edited.  The means of doing that is explained in mario's video.  If you can extract a costume from the .lnk and put it back into the .lnk with updated references, you'll have the technique down.  The only difference after that is actually doing 3D & texture modifications.
Am I missing something? I have this paranoid feeling I am can you tell me where the file posted by Rosalina goes? it seems important
## Post #1034
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2014-09-05T05:38:32+00:00
- Post Title: Re: Dead or Alive series formats and tools

yeah seems there is a python script that works in conjunction with those dat files that helps with unpacking. 
Since the game files have scrambled names, it seems folk here are recording the proper file names in those dat files

... huh the dat file just appears to be a normal text file with 8 fields
1 ) file id
2 ) LNK file name
3 ) original filename
4 ) new filename
5 ) file size
6 ) file flags
7 ) uncompressed size
8 ) file checksum

example:

```
0x19	chara_dlccos_none	2RB63@1S100@CT1H]71]J1936D10F1QR3N{S651DA81J	ZACK_DLCU_001.TMC	1FF4	E0000001	00008D80	63C8A167
```

Seems like the dat files are basically text representations of the DLC's BLP files   

But anyways you don't need that program to do the unpacking, there is a BMS written by chrrox that will do the unpacking
[viewtopic.php?p=79183#p79183](http://forum.xentax.com/viewtopic.php?p=79183#p79183)
[https://www.youtube.com/watch?v=TZoyg7Od9I0](https://www.youtube.com/watch?v=TZoyg7Od9I0)
## Post #1035
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-09-05T08:37:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Mariokart
Thanks for instructions!!
## Post #1036
- Username: tcl36478655
- Rank: beginner
- Number of posts: 34
- Joined date: Mon Apr 08, 2013 9:22 am
- Post datetime: 2014-09-05T13:46:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mikulover39
>
> The naughty Tengu Princess is here!!!

THX very much!

@Lilstormcloud @Protocol X27
## Post #1037
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-09-05T18:38:20+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from tcl36478655
>
> mikulover39 wrote:The naughty Tengu Princess is here!!!

THX very much!

@Lilstormcloud @Protocol X27
 welcome back
## Post #1038
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2014-09-05T20:44:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

where else does TMC files appear?

DOA4 ?
DOA5
Ninja Gaiden 2?
## Post #1039
- Username: Seifer29
- Rank: n00b
- Number of posts: 14
- Joined date: Sat Dec 24, 2011 7:51 am
- Post datetime: 2014-09-05T20:51:46+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hey guys, kind of off topic I guess, but anyone know how to extract the audio from DoA5?  I tried searching for it, but most discussion is about the 3d models.

Right now I was able to extract the data from the iso.  Inside the folder I have some fairly large .bin files and a few other folders that contain files with strange names like I1D_F80CJKAII@8C0N8OOC]RA3002]S{0DDK.  

Any idea where the audio is located?  Thanks in advance.
## Post #1040
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2014-09-06T02:05:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Seifer29
>
> Hey guys, kind of off topic I guess, but anyone know how to extract the audio from DoA5?  I tried searching for it, but most discussion is about the 3d models.

Right now I was able to extract the data from the iso.  Inside the folder I have some fairly large .bin files and a few other folders that contain files with strange names like I1D_F80CJKAII@8C0N8OOC]RA3002]S{0DDK.  

Any idea where the audio is located?  Thanks in advance.
I always assumed it is in the DOA disk (just plop that sucker into your DVD drive and it should be there)
## Post #1041
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2014-09-06T03:07:31+00:00
- Post Title: Re: Dead or Alive series formats and tools

So i'm more of a hands on/visual learner so im sorry im if being slow or stupid!

heres the steps I have so far:

1: Using Modio extract the DLC from flashdrive in my case Phase 4 outfits, Maid outfits, and the overalls set (im starting with the Maid set because I really want to port them!)
     1A: So it's Downloadble Content - 17 at least for me since im missing out on a bunch of DLC lol "15AAB4B14B239D3621D02A8842868E43EB0E794B4B"
2: Using "Wxpirs" extract the content of the ".File" file
     2A: Now we have four Content_Data files ".Bcm, .Bin, .Blp, .Blp" and the regular conten_data shortcut file
3: Am i supposed to use the BMS unpacker now? im not sure Dx
## Post #1042
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-09-07T08:40:39+00:00
- Post Title: Re: Dead or Alive series formats and tools

Rabbit
## Post #1043
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2014-09-07T21:08:40+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> open the file using this

http://rghost.net/54491830

it'll only have one option.
make sure you've replace the .dat from this program with miku's latest one.

*
v17b
is this one current? I thought we were still on a lower one, or maybe I'm thinking texture extractor.

*
putting some finishing touches on tengu, 
was wondering, blonde hair with white wings, yay or nay?
As a general or matching color scheme with a kimono recolor? either way sounds nice! I was looking at Kasumi's costumes earlier today and I noticed that in the very first DOA game (arcade) Kasumi was a Bluenette and her white ninja suit was her original one which I found surprising

oh and after asking all the porters I knew personally on Deviantart someone was finally kind enough to give me a tutorial and I've extracted Momiji's Maid outfit so far (not the head lol) but thank you for the DL link to the Archvarius (before all I was getting was the .dat and not the python file which was what I needed)
## Post #1044
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2014-09-07T23:31:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

So i got the model extraction part down to editing the MTL so it knows what image type im using "like Nyo_base_001" -> to "Nyo_Base_001.png" so now im wondering how do I get the bones from the game to appear in 3ds max?
## Post #1045
- Username: uiihome
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Mon Sep 08, 2014 2:04 pm
- Post datetime: 2014-09-08T07:57:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

i desperately need the xprbreaker.exe, anyone could help me?
## Post #1046
- Username: tcl36478655
- Rank: beginner
- Number of posts: 34
- Joined date: Mon Apr 08, 2013 9:22 am
- Post datetime: 2014-09-08T14:00:27+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Lilstormcloud
hi~could we rebuild a new skin now?
I want to get bak my momery about my process recently~
## Post #1047
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2014-09-08T18:19:09+00:00
- Post Title: Re: Dead or Alive series formats and tools

Seems there are underground tools that allow for extraction and rebuilding of models. So from what I've read some are swapping model parts to form new characters.

I also uploaded a video on how to vertex edit a model, but no tools for new creation

... However im working on it just wont be anytime soon. Im still trying to solve the unknowns i have

Also and xpr breaker was in the links on the first post.. Might be gone now. Might be on my sky drive?? Xpr breaker was a command line tool so want very popular. Try using Gx explorer or boss afs ninja afs ??
## Post #1048
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-09-09T00:10:26+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from tcl36478655
>
> @Lilstormcloud
hi~could we rebuild a new skin now?
I want to get bak my momery about my process recently~

probably, but haven't tried.

That previous post from penguin seem to indicate inject missing parts from different model. then take texture co-ordinate from lisa 4 if no texture.

I'll have to try this on the weekend or next weekend to know.

*
There's a tool for mass changing of node IDs, weights, and scaling the face index, which were the main issues with swapping model parts.

Not sure about creating new characters though.
## Post #1049
- Username: tcl36478655
- Rank: beginner
- Number of posts: 34
- Joined date: Mon Apr 08, 2013 9:22 am
- Post datetime: 2014-09-09T01:22:35+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Lilstormcloud
if we inject the missing parts of body,shoudn't them use themselves' body texture?
I almost think i have test it and sent you before.
## Post #1050
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-09-09T03:27:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

@mario, did you do any work on extracting from DOAX2?  I got stalled on that earlier since there's been limited knowledge on it. 
What unknowns are you stuck on as far as the modification part?
## Post #1051
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-09-09T05:23:43+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from tcl36478655
>
> @Lilstormcloud
if we inject the missing parts of body,shoudn't them use themselves' body texture?
I almost think i have test it and sent you before.

If you mean the texture co-ordinates then yes probably need to change it.
## Post #1052
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2014-09-09T05:26:12+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> @mario, did you do any work on extracting from DOAX2?  I got stalled on that earlier since there's been limited knowledge on it. 
What unknowns are you stuck on as far as the modification part?

ironically enough the past two days I have been scripting for NG2, DOA4, and DOAX2

...as they use the same format I thought it might be worth while to get a feel for the evolution of their binary format.
seems they created a new foundation for there binary formats in DOAX2, and since then it hasn't changed much carrying it through to DOA5, NG3.....

based on previous work across DOA2U and DOA3, I can see that through DOA4 and DOAX2 they tried to stay true to how they did things in past games.

in past games a generic xbox container was used, back then it was XPR (XboxPackedResource) where they stored static models. they used a secondary file called "CAT", which held all the meaty bits. the skeleton, morph data, physics data, weights etc.. however the way the file was formated was very crazy and extremely difficult to parse. they use ID tables, and no counts. you loop data until a terminator is met.. and it was hard to say what all the data meant.

so now in DOAX2 etc I see the same crap, they AGAIN use XPR. on the 360 its XPR2, but they've cleverly renamed it TPR (TecmoPackedResource) lol
and now we start to seem a glimmer of a structured binary format that eventually appears into DOA5

they store blocks called MdlGeo > ObjGeo > GeoDecl these three blocks work together to describe a model in some messy fashion.

again the CAT file is used for misc stuff, and I can so far confirm it stores the face morphs. but strangely enough the breast morphs are stored back with the TPR, not the CAT.

but have been looking at the CAT file all day and really cant make sense of any of it :\
## Post #1053
- Username: uiihome
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Mon Sep 08, 2014 2:04 pm
- Post datetime: 2014-09-09T08:32:26+00:00
- Post Title: Re: Dead or Alive series formats and tools

@mariokart64n
thanks for your reply.  
i d made some xprs for doau and wana import these xprs to datahdd2.afs, so i need xprbreaker unless anyother tools can also do encryptions.
xprbreaker was not in that toolbox. i ve been searching for it these days...
## Post #1054
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2014-09-09T22:06:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mariokart64n
>
> Protocol X27 wrote:ironically enough the past two days I have been scripting for NG2, DOA4, and DOAX2

when you say NG2 do you mean Ninja Gaiden Sigma 2?
## Post #1055
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2014-09-09T22:29:31+00:00
- Post Title: Re: Dead or Alive series formats and tools

my modded ps3 is broke, so I only have my selection of xbox/xbox360 doa games
## Post #1056
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-09-11T02:12:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

@mario, nice work so far.  I didn't realize you were delving into the previous stuff that much.  I'd love to have access to DOAX2 stuff for extra textures and meshes.  I know it's possible, or at least was at some point.  Is your current objective more utility related, or is this research to expand on DOA5 mods. 

@MisterNatal, Sigma 2 has still been dormant on the modding side.  

@uiihome,  No promises, but I probably still have xprbreaker somewhere.  I'll look when I get a chance in my old stuff.  

***

Not much news from me, I've just been chippin' away at cleaning up near finished stuff on my list, so I can get back to some more advanced stuff. Definitely waiting on some projects now, knowing that some stuff will probably happen in Last Round like the NG stuff & hairstyles.
## Post #1057
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-09-11T07:20:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mariokart64n
>
> my modded ps3 is broke, so I only have my selection of xbox/xbox360 doa gameseveryone who's whining that there are no doa5 mods on ps3 should start a founding campaign to buy him a ps3+doa5+dlc... 

isn't doax2 cat's structure identic to doa4's (similar to doa 2/3/4/x)?
the biggest mistery for me is where they're hidding the joints data. (i stopped furter research on these formats because without joints data the models are useles for me)(or maybe there where nothing more to research on them. i don't really remember  ).

[doa4/x2 cat physics 010template](http://rghost.net/download/57954731/abad0647a866c37e6bb1b558f6d108d31583d58d/CATdoa4Template.ph.bt)
here is my 010editor template for doa4 physics(i even have for it a converter to doao), and surprissingly it also works for doax2...

i think i can help you with the research on the format structure if you're still interested in it... also maybe i could help you with your unknowns on the tpr format(if you tell me what are you stuck on)

found some (old) notes for doa4(doax2) cat:

```
#cat_magic='CAT';   infobase(neveris0);  physicsbase(canbe0); morphbase(canbe0); jointsbase(isalways0); clothbase(canbe0);

#info block: (the hader(pointed by the infobase) is at the end of the block)
#header = null ternimated array of structure format = 'H'+'HL'; terminates when header is 0 (header(1); type(doa4 1-6,8,9; doax2 2,4,5); offsetordata)
#infotypes:
#2-skeleton declaration(bones<->objects linking; for doa4 always starts at 0x18)
#4-material colors(little similarity to colors from doau(doa3?) block)
#5-'apa' declaration(addition for the morphing block)
#1-? (only 'gen01' has it; offsetordata = 1)
#3-? (offsetordata = hex{400,404,406}) (is largelly used)
#6-? (size = 0x18 bytes, structure = B,x,x,x,L,L?,L,L,f )
#8-? (only zac's costumes have it; offsetordata = hex{42,43,45})//what's with team ninja with all this isoteric shit...
#9-? (offsetordata = 0 for hak08 and for others having it = 1)
#10,12 - in doax2 costumes

#physics block:
#header offsets are like in doa3/doau, (physics_type can be {0,1,2,3,5,7,9,e,f,fa,fb,fe} (doax2 has only ptype = 1))(doax2 costumes is tdpack_magic with physics for every girl costume)
#... (?the body shoud be different from doa3/u coz physics bones are declared inside the tpr file?)

#morphing block: #at least for doa4; it also has apa for definition
#mrp_magic='MPV', mconst1, mconst0, characterid, costumeid, pading,pading,pading  //character_ID from game's internal array!
#mppcount, mppoffsets...
#mpp:   mpp_magic, mconst1, mconst0, objidx, hasnorms(hands=2/others=0), morphtargetsnum, ?morphindicesoffset, morphtargetsoffsets[morphtargetsnum]
#morphindices: ?DWORD or WORD_WORD; ends with 0xFFFFFFFF

#clothes block:(?collision for the hair?)
#MULTI_CLOTHmagic[0x10], const2, const0, clothdatacount, clothdataoffsets_offset)
#clothdatas:
#CLOTH_DATAmagic[0x10], const1, nameoffset, unknownoffset, const0)
```
## Post #1058
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2014-09-11T13:49:54+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks b0ny that helps a lot, i was avoiding looking too hard. In doax2 the base body has a really small cat file. I really had no idea why they even bothered having it. They store mostly everything else in the tpr...

And joints are in the tpr under the hie block
## Post #1059
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-09-11T18:39:51+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mariokart64n
>
> ... And joints are in the tpr under the hie block
the hie block is followed by textures headers and headers for indices/vertices buffers, then follows the data block.

here is what i mean by "joints": doa5 has the weights saved inside the vertices, doa2/doa3/doau have the weights saved inside the last block of the cat file(joints_block). but in doa4/doax2 the joints_block is absent in the cat file and also the wheight layer inside the vertices is empty. so i have no idea where to find it...
## Post #1060
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-09-11T19:20:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> mariokart64n wrote:... And joints are in the tpr under the hie block
the hie block is followed by textures headers and headers for indices/vertices buffers, then follows the data block.

here is what i mean by "joints": doa5 has the weights saved inside the vertices, doa2/doa3/doau have the weights saved inside the last block of the cat file(joints_block). but in doa4/doax2 the joints_block is absent in the cat file and also the wheight layer inside the vertices is empty. so i have no idea where to find it...

I don't know if this is usefull, but here some notes of rich about doax2:

[viewtopic.php?f=16&t=3741&start=90](http://forum.xentax.com/viewtopic.php?f=16&t=3741&start=90)

The topic is rather old.
## Post #1061
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2014-09-11T22:40:22+00:00
- Post Title: Re: Dead or Alive series formats and tools

the the TPR was pretty black and white for me, the weights are defined in the GeoDecl block.

But you have to bare in mind that they created their framework around the idea that DOA was to be run as an old-fashioned game with no skinned objects

Only 'some' objects are actually skinned, and the Hie Block acts more as a object position reference rather then a skeleton

so you have to do a lookup on the Hie Block after reading the mapped bones supplied in the MdlInfo Block.. and viola! skinned doa objects




from what I've heard over the years you can conserve processing power and GPU memory by using smaller textures and using static objects over skinned ones. and tecmo hammered that principle down hard for the past 3 generations of their games.
## Post #1062
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-09-12T09:10:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

Darko &  mariokart64n
right, thanks... my problem was that i was copying again and again the code that was broken. something like this:

```
    ...
    for i in range(count2):
        ...
```

oh mein gott. and i was boiling my brains trying to find the error some place else. this is a cruel world - the coding gods were laughing at me all this time...
## Post #1063
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2014-09-12T23:55:44+00:00
- Post Title: Re: Dead or Alive series formats and tools

could I get some help on getting the heads into 3ds max with correct bone-weights? im using the blender method of importing to blender and exporting as .fbx but that isn't working for me :C
## Post #1064
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-09-13T02:53:29+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from MisterNatal
>
> could I get some help on getting the heads into 3ds max with correct bone-weights? im using the blender method of importing to blender and exporting as .fbx but that isn't working for me :C

Are you sure??

I even got Nyo Tengu:

[https://www.youtube.com/watch?v=q9UKV1JJM-Q](https://www.youtube.com/watch?v=q9UKV1JJM-Q)

In any case which character you want??

For bony:

Can you check Nyo Tengu Costume 02?? I used your script but both sleeves bones are missing.
## Post #1065
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-09-13T04:42:01+00:00
- Post Title: Re: Dead or Alive series formats and tools

Some stuff about the index buffer.

Can probably try to delete objects, 

or fill up hollow parts of models:
by pasting in the vertex and manually writing in the index, but seems like a very slow + boring process.

The problem with copy and pasting in mass is that everything is all over the place. One min we're at the foot, next min the index is at the neck. any copy + pasting will probably over write parts you don't want to over write and end up messing up parts.

though the majority seem to be grouped pretty well, but there'll probably still be several splits in the middle of a block of continuous IDs. (Several changes   )
Maybe I'm just being lazy.
## Post #1066
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2014-09-13T09:08:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> MisterNatal wrote:could I get some help on getting the heads into 3ds max with correct bone-weights? im using the blender method of importing to blender and exporting as .fbx but that isn't working for me :C

Are you sure??

I even got Nyo Tengu:

https://www.youtube.com/watch?v=q9UKV1JJM-Q

In any case which character you want??

For bony:

Can you check Nyo Tengu Costume 02?? I used your script but both sleeves bones are missing.well im working on Momiji's Legacy outfit at the moment so that would be greatly appreciated !
## Post #1067
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-09-13T17:34:40+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from MisterNatal
>
> Darko wrote:MisterNatal wrote:could I get some help on getting the heads into 3ds max with correct bone-weights? im using the blender method of importing to blender and exporting as .fbx but that isn't working for me :C

Are you sure??

I even got Nyo Tengu:

https://www.youtube.com/watch?v=q9UKV1JJM-Q

In any case which character you want??

For bony:

Can you check Nyo Tengu Costume 02?? I used your script but both sleeves bones are missing.well im working on Momiji's Legacy outfit at the moment so that would be greatly appreciated !

xna lara in any case??
## Post #1068
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-09-13T17:40:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> MisterNatal wrote:could I get some help on getting the heads into 3ds max with correct bone-weights? im using the blender method of importing to blender and exporting as .fbx but that isn't working for me :C

Are you sure??

I even got Nyo Tengu:

https://www.youtube.com/watch?v=q9UKV1JJM-Q

In any case which character you want??

For bony:

Can you check Nyo Tengu Costume 02?? I used your script but both sleeves bones are missing.
How about using red latex suit and changing texture color to black?
I didn't tried yet but.. well.. I think it will be working.

@lsc
That's wonderful job!
## Post #1069
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-09-13T18:09:46+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Rosalin
>
> Darko wrote:MisterNatal wrote:could I get some help on getting the heads into 3ds max with correct bone-weights? im using the blender method of importing to blender and exporting as .fbx but that isn't working for me :C

Are you sure??

I even got Nyo Tengu:

https://www.youtube.com/watch?v=q9UKV1JJM-Q

In any case which character you want??

For bony:

Can you check Nyo Tengu Costume 02?? I used your script but both sleeves bones are missing.
How about using red latex suit and changing texture color to black?
I didn't tried yet but.. well.. I think it will be working.

@lsc
That's wonderful job!

Yep, I thought about that, It's worth of trying it.
## Post #1070
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2014-09-13T20:25:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> 
xna lara in any case??
yeah Dx atleeast untill i get the whole posing in 3ds max down
## Post #1071
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2014-09-15T05:36:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

didnt get anything done on DOA this weekend, worked a bit on another project which I'm now slamming my head into >_<

I'll get back onto DOA sometime this week, I was planning to make a script designed for constructing new geometry in the game

I'm also looking into maybe adding PS3 support, so we can get models from the Sigma series

in the mean while I thought I would share pics of my collection  I'm missing a few here and there and some were digital only so dont have any fancy cases.

oddly enough I'm missing all of the fatal frame games :'( I would start collecting but there rare and expensive to get not looking like it was found out of a garbage can :\

If you got a collection please share, I would love to see some of the past game cover art and so on
## Post #1072
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-09-15T06:51:49+00:00
- Post Title: Re: Dead or Alive series formats and tools

Lol!
IS that a original Dreamcast DOA2?

Duuuuude
## Post #1073
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-09-15T06:59:34+00:00
- Post Title: Re: Dead or Alive series formats and tools

So much win in Mario's post
## Post #1074
- Username: tcl36478655
- Rank: beginner
- Number of posts: 34
- Joined date: Mon Apr 08, 2013 9:22 am
- Post datetime: 2014-09-15T08:12:33+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> Some stuff about the index buffer.

Can probably try to delete objects, 

or fill up hollow parts of models:
by pasting in the vertex and manually writing in the index, but seems like a very slow + boring process.

The problem with copy and pasting in mass is that everything is all over the place. One min we're at the foot, next min the index is at the neck. any copy + pasting will probably over write parts you don't want to over write and end up messing up parts.

though the majority seem to be grouped pretty well, but there'll probably still be several splits in the middle of a block of continuous IDs. (Several changes   )
Maybe I'm just being lazy.

may use lisa's body then correct the position and bone id of every points be faster...? 

@mario
LLLLLLLLLLLLLLLLOL.........
## Post #1075
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-09-15T09:07:59+00:00
- Post Title: Re: Dead or Alive series formats and tools

Can do that already very easily though, and there's the problem of not enough points on lisa 4 to make the perfect shape.

It's a longer process yes, maybe around 18 modifications for each tmcl.

1) +-18 modifications in target tmcl index + vertex buffer to delete un-needed geometry.
2) +-18 modifications in source tmcl index + vertex buffer to extract required geometry.
reason I say 18 because the model I'm working with has 18 breaks in vertex ID.

e.g 1, 2, 3, 4, 10 11, 12, 40 41, 42, etc....

3) conversion of bone IDs from source to target.

If just use lisa and correct every ID then only have to do "3)"

Might be faster if just write in extra vertex + index into lisa 4 to make the body more detailed.

So far I delete the upper body of phase 4, want to insert a full upper body and make top transparent
## Post #1076
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-09-15T10:05:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

@mario
That means you have at least 7 consoles!  
epic win!
## Post #1077
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2014-09-15T15:44:04+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> Can do that already very easily though, and there's the problem of not enough points on lisa 4 to make the perfect shape.

It's a longer process yes, maybe around 18 modifications for each tmcl.

1) +-18 modifications in target tmcl index + vertex buffer to delete un-needed geometry.
2) +-18 modifications in source tmcl index + vertex buffer to extract required geometry.
reason I say 18 because the model I'm working with has 18 breaks in vertex ID.

e.g 1, 2, 3, 4, 10 11, 12, 40 41, 42, etc....

3) conversion of bone IDs from source to target.

If just use lisa and correct every ID then only have to do "3)"

Might be faster if just write in extra vertex + index into lisa 4 to make the body more detailed.

So far I delete the upper body of phase 4, want to insert a full upper body and make top transparent
Is this still for Kasumi/P4 or another character? because you know, Momiji, Hitomi, Ayane, Kasumi, Phase-4 all have that school girl swimsuit LOL
## Post #1078
- Username: kasake
- Rank: n00b
- Number of posts: 15
- Joined date: Thu Feb 16, 2012 3:03 pm
- Post datetime: 2014-09-16T15:45:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

So I've extracted the Nyotengu debut costumes, but where are you guys getting her face, original costume, and her latex body suit skins? Perhaps I'm doing something wrong? BTW I am using mikulover39's latest doa5Uarchivarius.dat and b0ny's doa5Uarchivarius(17b) files.

This is what I'm getting when I open the .bin file on the nyotengu package:


I'm assuming face and other costumes are the highlighted files? When extracted, those are not useable with Noesis. :/

EDIT: Okay so I just tried getting Phase 4 and Marie Rose's original costume, and I can't find those either... Perhaps I'm opening the wrong .bin files >_>. Could someone point in me the right direction for the original costume and faces for these dlc characters?
## Post #1079
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-09-16T17:52:28+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from kasake
>
> So I've extracted the Nyotengu debut costumes, but where are you guys getting her face, original costume, and her latex body suit skins? Perhaps I'm doing something wrong? BTW I am using mikulover39's latest doa5Uarchivarius.dat and b0ny's doa5Uarchivarius(17b) files.

This is what I'm getting when I open the .bin file on the nyotengu package:


I'm assuming face and other costumes are the highlighted files? When extracted, those are not useable with Noesis. :/

EDIT: Okay so I just tried getting Phase 4 and Marie Rose's original costume, and I can't find those either... Perhaps I'm opening the wrong .bin files >_>. Could someone point in me the right direction for the original costume and faces for these dlc characters?

Extract both bin files, fro Nyotengu there are missing cotumes.
## Post #1080
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-09-17T02:42:13+00:00
- Post Title: Re: Dead or Alive series formats and tools

@kasaka, the Nyotengu defaults are in the patch.bin file. 

@lsc, so what's missing with lisa's geometry if it isn't suitable for modifying? So did you manually null out the P4 top, or is it one of the anomalies that actually has more than one body mesh?

@b0ny, miku or whoever can help.  Is there a newer version of the texture extractor I'm missing?  I still cannot export the --H & --HL versions from v16 or any other version I have.  As far as I know archivarius is dumping them correctly.
## Post #1081
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-09-17T05:38:59+00:00
- Post Title: Re: Dead or Alive series formats and tools

manual delete the correct vertices based on V ID, manually delete the correct Index, scale the index back for each deleted section. rewrite sizes in tmc and L + mod geo dec.

I don't like the lisa body coz it's missing points on the butt and leg to make it round   instead I end up with jaggies   

yea I know i'm just being a spaz. 
Seriously though I think there needs to be at least a few more on the outer thigh in order to make the hip and upper leg look smooth, as it is right now there's a slight triangular protrusion when they are standing up straight, instead of a triangle a few more vertices will make it a curve.

Also there's seems to be a few extra vertices at the knee, it flunking deforms and protrudes every time they bend their knee joints (which drives me up a wall)
## Post #1082
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2014-09-17T21:32:26+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> snip
Do you use 3ds max? I was wondering if you could teach me how to de-triangulate meshes for a better result?
## Post #1083
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-09-18T00:14:00+00:00
- Post Title: Re: Dead or Alive series formats and tools

Anything I say won't really apply to you, since you're doing XNA and I'm talking game modification.
## Post #1084
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2014-09-18T04:33:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> Anything I say won't really apply to you, since you're doing XNA and I'm talking game modification.

My bad, I suppose it was wrong of me to assume you did the modifications in 3ds max really sorry for the assumption
## Post #1085
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-09-18T05:23:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

I did use 3dm, but I have to work in the confines of what I can port into the game.

for XNA, (which mind you I know nothing about), I'm under the impression you can just increase the vertex count and do whatever you like to it and then spit out a .obj, I could be wrong though.
## Post #1086
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-09-18T06:05:38+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> 
yea I know i'm just being a spaz.

You are not a spaz

**********

Anyway, I figured out how to edit skin weight in 3DS max and take that data to TMCL.
There was a table for each vertex weight in 3ds max menu in envelope section.
simple calculation made them hex.
## Post #1087
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-09-18T20:00:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> @kasaka, the Nyotengu defaults are in the patch.bin file. 

@lsc, so what's missing with lisa's geometry if it isn't suitable for modifying? So did you manually null out the P4 top, or is it one of the anomalies that actually has more than one body mesh?

@b0ny, miku or whoever can help.  Is there a newer version of the texture extractor I'm missing?  I still cannot export the --H & --HL versions from v16 or any other version I have.  As far as I know archivarius is dumping them correctly.

you mean you can't export the textures from them?
for ANY and all?
We're talking the pantsu texture right? lol

****************************************************************************
Wooo Ros, high five, we can be perfectionists together Lol.

Nice find on the weight.
## Post #1088
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2014-09-18T21:19:01+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> Protocol X27 wrote:@kasaka, the Nyotengu defaults are in the patch.bin file. 

@lsc, so what's missing with lisa's geometry if it isn't suitable for modifying? So did you manually null out the P4 top, or is it one of the anomalies that actually has more than one body mesh?

@b0ny, miku or whoever can help.  Is there a newer version of the texture extractor I'm missing?  I still cannot export the --H & --HL versions from v16 or any other version I have.  As far as I know archivarius is dumping them correctly.

you mean you can't export the textures from them?
for ANY and all?
We're talking the pantsu texture right? lol

****************************************************************************
Wooo Ros, high five, we can be perfectionists together Lol.

Nice find on the weight.
Panties to my knowledge are in the various other files "H, TMCL, P, and C ect" I use the Tecmo 360 texture extractor for that stuff lol
## Post #1089
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-09-19T02:28:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

@lsc, MisterNatal : I forgot to mention it's the Nurse alt textures only that don't seem to open correctly in the extractor, even after I used miku's updated file to dump them from archivarius.  

@MisterNatal, you can de-triangulate in Blender with Ctrl J (or T?) I think if you're working on porting.  I typically don't do much in 3dsmax for the porting stuff.
## Post #1090
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-09-19T06:45:22+00:00
- Post Title: Re: Dead or Alive series formats and tools

I've had no problems with extracting

hi res tex from tengu nurse dlcu.

in fact that's one I tested on this morning.

2 textures results 1 for pantsu 

1 for wet clothes.

I only tried for alt 1 though
## Post #1091
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2014-09-19T17:05:32+00:00
- Post Title: Re: Dead or Alive series formats and tools

thanks to chrrox for his help understanding the ps3's face compression I was able to import sigma2 models finally ^_^

sadly can't find the UV's :'( still need to look at the PS3 version of DOA5U
## Post #1092
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2014-09-21T04:19:02+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mariokart64n
>
> thanks to chrrox for his help understanding the ps3's face compression I was able to import sigma2 models finally ^_^

sadly can't find the UV's :'( still need to look at the PS3 version of DOA5U
amazing job!
## Post #1093
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2014-09-22T06:08:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

yes textures!!
## Post #1094
- Username: VeiX
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Mon Aug 11, 2014 7:14 pm
- Post datetime: 2014-09-22T08:33:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

Amazing work Mario

She looks ugly but her outfit is good
what about bones, did you manage to get them or only mesh and textures ?!
Although you can rig it based on DOA 5 body which is better
## Post #1095
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2014-09-22T18:17:54+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hm yeah bones etc are all there, didn't bother reading it in though. Just wanted to explore and maybe add it into doa5 later
## Post #1096
- Username: VeiX
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Mon Aug 11, 2014 7:14 pm
- Post datetime: 2014-09-23T00:32:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

That is great
As I remember, we can not export NG II models with bones (rigged)
so if you managed to get models of Sigma 2 rigged, that is really a great achievement
## Post #1097
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-09-23T02:04:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

Lol more models to deal with.
## Post #1098
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-09-23T02:37:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

Incredible work mario, can't wait to work with that stuff later.  

@lsc, Nyotengu's stuff is fine, it's a different container.  The stuff extracted from the actual nurse DLC is not working.  Could you testing those plz? Thanks!

***

New DLC up tomorrow so, early warning for archivarius update, lol.
## Post #1099
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2014-09-23T07:45:34+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Incredible work mario, can't wait to work with that stuff later.  

@lsc, Nyotengu's stuff is fine, it's a different container.  The stuff extracted from the actual nurse DLC is not working.  Could you testing those plz? Thanks!

***

New DLC up tomorrow so, early warning for archivarius update, lol.
If it wasn't for you I would've missed the dlc lol gotta buy some gold to atleast get the catalog <33
## Post #1100
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-09-23T12:32:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from MisterNatal
>
> 
If it wasn't for you I would've missed the dlc lol gotta buy some gold to atleast get the catalog <33

Fyi, the catalogs are free, and xbox live doesn't require gold to download them.  Everyone's free to spend as they please, but I'm more about giving TN the money than, MS, lol.
## Post #1101
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-09-23T15:26:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

For those Maire Rose's fans, her bunny cos torso is complete
## Post #1102
- Username: porimac
- Rank: VIP member
- Number of posts: 109
- Joined date: Wed Sep 08, 2010 11:46 pm
- Post datetime: 2014-09-23T16:05:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

Sexy Bunny DLC encrypt file list

```
2R512@121S1@BG1M]]J193H42DO14G187Q{8H1AODR6181J,80 Byte
2XL63@1S100@CH]]J1735Q1L1EG13FF1B97U1N10{SMB713C1C10,236.77 KB
2XL63@1S100@CN]]J173KQ1M1F4H1G{H1CA8V1MP10GNE713D1D10,80 Byte
2Y052@1S1T1@CG1H]]00824C21H1F1QR988N{S85181H,95.66 KB
2Y052@1S1T1@CG1N]]0082KD210I1G1R87{86OBS5191H,80 Byte
2Y052@1S1T1@CI1I]]K1935DQ1G11RK15NB9{S77181I,203.72 KB
2Y052@1S1T1@CI1N]]K193LEQ13H1R{M170PCAD96191I,80 Byte
2Y151@1S1T1B@T1]]K33K193L62EG1RSH15O{T7511071J,105.03 KB
2Y151@1S1T1B@T1]]Q33K193MM2F3H1S{I16MPET511081K,80 Byte
2Y763@1S1T1@CC1H]]J193500H1K1GF1I1A8QRH18N{S75171M,101.28 KB
2Y763@1S1T1@CC1N]]J193K00I1L1HG15J1A8R{I19AOFS5181M,80 Byte
2Y963@1S1T1@DF1H]]J1935E2164G1QR107NF1{S7216151K,238.20 KB
2Y963@1S1T1@DF1N]]J193KF21064H1R1{07IOH1DS2161416,80 Byte
2Y963@1S1T1@DH]]J1835D644712F1QRN13192{I1S251712,95.59 KB
2Y963@1S1T1@DH]]J1835DI312E1G1QRN1CA71A2{S95191A,206.86 KB
2Y963@1S1T1@DN]]J183KE6441811G1RN{2S1AJ421E241712,80 Byte
2Y963@1S1T1@DN]]J183KEJ3102F1H1RN1{CA71A83DS51A16,80 Byte
2YF63@1S1T1@DI]]K1835D64D1F1QRQN10093610{S861812,237.33 KB
2YF63@1S1T1@DN]]K183LE264E1G1R{RO100A361N0ES61912,80 Byte
7R612@S2123212@6G1R]]J129H4Q3F1P1H199R5H1O{SC61KK913,244 Byte
7R97Y@T2121061@8F1S]]J129KRH13176I1S105OG1{TB2161KK71L,244 Byte
7RF7Y@T2121061@8S]]K128LRG176F1H1SRO10053510{TB61LLA14,244 Byte
7S61S@10T32120@7H1S]]K129I4R3G1Q1I199S5H1P{TC61KK913,244 Byte
7S97Y@10T100U1@9G1T]]K129LSI13176J1T105PG1{UB2161KK71L,244 Byte
7SF7Y@10T100U1@9T]]L128MSH176F1I1TSP10053510{UB61LLA14,244 Byte
7T61S@10T32120@7H1S]]K129I4R3G1Q1I199S5H1P{TC61KK913,244 Byte
7T97Y@10T100U1@9G1T]]K129LSI13176J1T105PG1{UB2161KK71L,244 Byte
7TF7Y@10T100U1@9T]]L128MSH176F1I1TSP10053510{UB61LLA14,244 Byte
7U61S@10T32120@7H1S]]K129I4R3G1Q1I199S5H1P{TC61KK913,244 Byte
7U97Y@10T100U1@9G1T]]K129LSI13176J1T105PG1{UB2161KK71L,244 Byte
7UF7Y@10T100U1@9T]]L128MSH176F1I1TSP10053510{UB61LLA14,244 Byte
BR612@121S1@CG1]0]A183G42DN12F187PQ6G1N{R76171J,7832.00 KB
BR612@S2123212@CG1]S]B129H4Q3F1P1BH1BAR6H1O{SD61KK913,504.00 KB
BRA7Y@T2121061@EG1]T]D129KRH13186AI1S106OG1{TC2161KK71L,464.00 KB
BRF7Y@T2121061@E]T]C128LRG186F1AH1SRO10063510{TC61LLA14,544.00 KB
BS61S@10T32120@DH1]T]C129I4R3G1Q1BI1BAS6H1P{TD61KK913,504.00 KB
BSA7Y@10T100U1@FH1]U]E129LSI13186AJ1T106PG1{UC2161KK71L,464.00 KB
BSF7Y@10T100U1@F]U]D128MSH186F1AI1TSP10063510{UC61LLA14,544.00 KB
BT61S@10T32120@DH1]T]C129I4R3G1Q1BI1BAS6H1P{TD61KK913,504.00 KB
BTA7Y@10T100U1@FH1]U]E129LSI13186AJ1T106PG1{UC2161KK71L,464.00 KB
BTF7Y@10T100U1@F]U]D128MSH186F1AI1TSP10063510{UC61LLA14,544.00 KB
BU61S@10T32120@DH1]T]C129I4R3G1Q1BI1BAS6H1P{TD61KK913,504.00 KB
BUA7Y@10T100U1@FH1]U]E129LSI13186AJ1T106PG1{UC2161KK71L,464.00 KB
BUF7Y@10T100U1@F]U]D128MSH186F1AI1TSP10063510{UC61LLA14,544.00 KB
BXL73@1S100@D]I]B1734Q1L1F1G13FF1B96U1N10{SMB713C1C10,8796.00 KB
BY062@1S1T1@D81]I]00823D212H1F1QR987N{S85181H,7032.00 KB
BY062@1S1T1@DI1]J]C1934EQ12G11RK14NB9{S77181I,6804.00 KB
BY161@1S1T1C@T1]]2K3C193L52F1G1RSH14O{T7511071J,7136.00 KB
BY873@1S1T1@DD1]I]D193400H1K1HF12I1A8QRH17N{S75171M,6768.00 KB
BYA73@1S1T1@EG1]I]D1934F21644G1QR104NF1{S7216151K,7948.00 KB
BYA73@1S1T1@E]I]C1834E6447125F1QRN13152{I1S251712,7208.00 KB
BYA73@1S1T1@E]I]C1834EI312E14G1QRN1CA8182{S95191A,7788.00 KB
BYF73@1S1T1@E]J]C1834E64D14F1QRQN10063610{S861812,7616.00 KB
FRF@3SV4HF1A3@[PP8F1N910J037{XHA,28.34 KB
FXF@S2W3HF1A3@[PPAF1N910J037{EFA,28.34 KB
FYF@1S1UHF1A3@[PP9F1N910J037{FXA,28.34 KB
FYF@1STUIG1B3@[QQ7G1O910K037{CGA,28.34 KB
FYF@S2TVIG1B3@[QQAG1O910K037{]HA,28.34 KB
FYF@T2TUIG1B3@[QQAG1O910K037{EGA,28.34 KB
FYF@U2T3HF1A3@[PPAF1N910J037{XGA,28.34 KB
FYF@VT3VIG1B3@[QQ9G1O910K037{EGA,28.34 KB
FZF@1S1UHF1A3@[PP9F1N910J037{_GA,28.34 KB
FZF@1STUIG1B3@[QQ7G1O910K037{YHA,28.34 KB

```

[Image3.jpg](https://xentaxbackup.github.io/file/7845_Image3.jpg)
## Post #1103
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-09-23T16:47:17+00:00
- Post Title: Re: Dead or Alive series formats and tools

Dang, this is a good week. 

With Sigma 2 models on the horizon, I can punt on the lower poly/res versions from Orochi 3.  Plus the MR model will save me from having to still redo an original version which I've been dragging my feet on for months.
## Post #1104
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-09-23T16:58:46+00:00
- Post Title: Re: Dead or Alive series formats and tools

Enjoy it!!!
[doa5Uarchivarius.rar](https://xentaxbackup.github.io/file/7846_doa5Uarchivarius.rar)
## Post #1105
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-09-23T17:42:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

A little bit offtopic, if you want most of the DLC preview pics in HD, you cand find'em here:

[https://store.sonyentertainmentnetwork. ... %3AADD-ONS](https://store.sonyentertainmentnetwork.com/#!/en-hk/games/dead-or-alive-5-ultimate-core-fighters/cid=JP0106-NPJB00411_00-ASIADOA5UHDDBOOT%3AADD-ONS)

For example:

[https://store.sonyentertainmentnetwork. ... 1080637023](https://store.sonyentertainmentnetwork.com/store/api/chihiro/00_09_000/container/HK/en/999/JP0106-NPJB00411_00-ASIAHELENA00DLCU/nsx/8193/1080637023)

I'm using those sets as wallpapers
## Post #1106
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2014-09-23T18:58:04+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> Enjoy it!!!
All i got was the dat file? do you know how I can get the python file?
## Post #1107
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-09-23T19:21:02+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from MisterNatal
>
> Darko wrote:Enjoy it!!!
All i got was the dat file? do you know how I can get the python file?

I only updated the dat file, just replace the older one from the 17b version.
## Post #1108
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2014-09-23T19:29:11+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> MisterNatal wrote:Darko wrote:Enjoy it!!!
All i got was the dat file? do you know how I can get the python file?

I only updated the dat file, just replace the older one from the 17b version.
thank you very much!!!!
## Post #1109
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-09-24T00:33:12+00:00
- Post Title: Re: Dead or Alive series formats and tools

@ Prot

The Nurse files are not extracted properly by arch. It's not the texture extractors prob.

*

That Marie cos came at just the right time, might test filling the hollow part and create a full body soon as I gather up the motivation.
## Post #1110
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2014-09-24T04:54:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> @ Prot

The Nurse files are not extracted properly by arch. It's not the texture extractors prob.

*

That Marie cos came at just the right time, might test filling the hollow part and create a full body soon as I gather up the motivation.For the love of god please add some pants to her. I know asian lolis' don't know what pants are but I really am curious to she her with pants and not pantyhose on
## Post #1111
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-09-24T09:21:28+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> 
Protocol X27 wrote:@b0ny, miku or whoever can help. Is there a newer version of the texture extractor I'm missing? I still cannot export the --H & --HL versions from v16 or any other version I have. As far as I know archivarius is dumping them correctly.The Nurse files are not extracted properly by arch. It's not the texture extractors prob.the problem for these files is that in this case some "--H" files have the same size, thus can't be detected inside the blp file by size. thus the encryption info can't be extracted from the blp file and is extracte from the "doa5Uarchivarius.dat", but the info in "doa5Uarchivarius.dat" is old/wrong...

one way to fix that is to fix the encryption flag for these "--H" files inside the "doa5Uarchivarius.dat", like this:

```
... AYANE_DLCU_014_003.--H	110	0000	00000000	0000
to:
... AYANE_DLCU_014_003.--H	110	E0000333	00000000	0000
```

doa5Uarchivarius(v18)
an alternative solution, is to use the python file from this new "doa5u archivaruis", and check the appropriate checkbox to forcibly decrypt the files. (open the ".py" file in a text editor to edit the maximum file size or to hide the option)
## Post #1112
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-09-24T10:10:56+00:00
- Post Title: Re: Dead or Alive series formats and tools


## Post #1113
- Username: Esppiral
- Rank: n00b
- Number of posts: 11
- Joined date: Thu Aug 14, 2014 11:39 pm
- Post datetime: 2014-09-24T20:50:15+00:00
- Post Title: Re: Dead or Alive series formats and tools

Is there any tool to extract/modify models from Dead or alive 2 (Ps2 Dreamcast) ?
## Post #1114
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-09-25T03:55:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

@b0ny, awesome!! Thanks, that did the trick.  Now I can attempt to rebuild one of the costumes with a standard res texture in another slot to see if the slot itself is broken. 

@lsc, Daaaaang. Nice, I have a few questions on how your doing that because I'm apparently slow regarding last time you posted notes on that.  Are you manually find each vertex in the face and then somehow tracking down the index for each?
## Post #1115
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-09-25T04:17:31+00:00
- Post Title: Re: Dead or Alive series formats and tools

There are varying degrees of complexity.

if you select 1 element and then export the vertex IDs of that, then there's a high chance they'll be a continuous block of numbers.

e.g
4921	4922	4923	4924	4925	4926
this is the little triangle I showed in the previous screen.

you can find the index by

(vertex ID - 1) convert to Hex = start index (do a Ctrl +F searching backwards into the index)
Find end value same method

It should look. FF FF "Start Number" etc etc etc "end value" etc etc FF FF
copy all values between the two "FF FF"

note that the index sometimes backward or forward reference

0001 0002 0040

followed by

1705 0040 1706

when scaling the index beware of forward and backward referencing values, 
they must equal what they are referencing at all time regardless of how much you're scaling the rest of the block by.


Need to reshape & change weights after done filling the gap.
*Barbie doll* lol
## Post #1116
- Username: tcl36478655
- Rank: beginner
- Number of posts: 34
- Joined date: Mon Apr 08, 2013 9:22 am
- Post datetime: 2014-09-26T02:30:01+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> ......
Bravo!
## Post #1117
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-09-26T06:12:11+00:00
- Post Title: Re: Dead or Alive series formats and tools

I was able to delete some vertices in the knee and fill the hollows in there.

but the result was not enough to fix the knee shape.

so I'm thinking about inserting some vertices using deleted ones.

Sometimes they were uncontrollable. but sometimes it worked. I wouldn't get the differences yet clearly.
## Post #1118
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-09-26T07:22:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

maybe the boneID + weight.

also try moving that particular one upwards. it pops out coz it doesn't move in sync with the rest of the leg.

also try. 
build index and vertex same as what you're copying (slow process)
then match boneID and bone weight.
## Post #1119
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-09-26T08:03:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

I already matched boneID + Weight perfectly using script.

maybe that's because one missing vertex I hope.

***

There's a thin plate on marie's jersey costume.
Using that, I'm thinking about reinforcing textures in some parts.
## Post #1120
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-09-26T09:04:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

I think the one causing the problem is,

1 space down, 1 space left from the one you deleted.

But yea maybe it's missing one beside it, for now I've been just moving it up.
## Post #1121
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-09-26T09:48:02+00:00
- Post Title: Re: Dead or Alive series formats and tools

Is there any way to pick up the multiple Normal values at a time?

I was able to pick one normal value of a vertex by looking at OBJ file.

but, you know vertex Normal ID was different from vertex ID, so I had to matched them one by one manually in 3DSmax.

I couldn't figure out relation between those two IDs.

Converting them to HEND3N was not problem any more.

I wish I could get a list of vertex normals massively in easy way.

something like this

3783 - 0.11 0.32 0.54
3784 - 0.11 0.33 0.67
3785 - 0.12 0.33 0.78
..
## Post #1122
- Username: Esppiral
- Rank: n00b
- Number of posts: 11
- Joined date: Thu Aug 14, 2014 11:39 pm
- Post datetime: 2014-09-26T11:53:55+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> hi guys. i've searched around internet and didn't found any information about the playstation2 version of doa.
and then i've made myself an extractor for the hardcore version. if anyone will be interested i think i can make also an importer, and an extractor for the jap doa2 for ps2(not hardcore) which can be launched on the pcsx2 emulator.

you can take the doa2unpacker here

p.s. maybe the blender importer will work for you guys when i at last will port it to blender 2.63... (and i'm a lamer that works only on windows so i can't guarantee that it will work on linux)

Could you please reupload the unpacker? the file is no longer available.
## Post #1123
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-09-26T16:32:30+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Esppiral
>
> Could you please reupload the unpacker? the file is no longer available.
[doa2hardcore_unpacker.zip](http://rghost.net/download/58218359/36f9b4d2a2e6e36cea06a0a4ac81a3cb22ff871f/doa2hardcore_unpacker.zip)

here you go, along with the source. though, afaik, there are no parsers for ps2 doa files, what are you going to do with the files?
## Post #1124
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-09-26T17:18:47+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> Esppiral wrote:Could you please reupload the unpacker? the file is no longer available.
doa2hardcore_unpacker.zip

here you go, along with the source. though, afaik, there are no parsers for ps2 doa files, what are you going to do with the files?

any advance with DOA5 motions??
## Post #1125
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-09-27T00:20:29+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Rosalin
>
> Is there any way to pick up the multiple Normal values at a time?

I was able to pick one normal value of a vertex by looking at OBJ file.
..etc

..

Not sure I understand what you mean. They're all in order.

Here's Lisa DLC body. 

Looking at this, it seems like it's completely possible to make an app to convert an obj model to tmcl format.
Could be worth testing if can convert a obj model from another game and inserting into doa.

I'm just not so sure how to calculate the vt and vn though.

forget about the face, that's in-order, but not in scale, since it's jumbled with A connected to B connected to A connected to C and crap.
## Post #1126
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-09-27T02:31:39+00:00
- Post Title: Re: Dead or Alive series formats and tools

[Book1.zip](https://xentaxbackup.github.io/file/7859_Book1.zip)
## Post #1127
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-09-27T02:53:15+00:00
- Post Title: Re: Dead or Alive series formats and tools

omg.. dat calculation lol
## Post #1128
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-09-27T10:49:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

When editing vertex structure, especially in lisa04, I realized that I don't need to extend index buffer size.
because I can use previous mesh's index buffer, which is shrunk to 0,0,0 and unused.

also previous vertex buffer can be brought to add more vertices.

This will not going to require much correction in TMC file.
and also I can bring most buffers of previous mesh for for further editing.
They can remain unused.

This doesn't corrupt vertex count vertex ID and vertex structures remained, so Stickitback and Morph-target still work for those edited.
## Post #1129
- Username: tcl36478655
- Rank: beginner
- Number of posts: 34
- Joined date: Mon Apr 08, 2013 9:22 am
- Post datetime: 2014-09-27T14:50:31+00:00
- Post Title: Re: Dead or Alive series formats and tools

Only adding 4 vertex cost a whole night...(╯‵□′)╯︵┻━┻
## Post #1130
- Username: tcl36478655
- Rank: beginner
- Number of posts: 34
- Joined date: Mon Apr 08, 2013 9:22 am
- Post datetime: 2014-09-28T15:00:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

did anyone met this following:

> RACHEL_DLCU_001.TMCL
>
> info offset in 'blp' =  0xf10     <==== must be wrong,should be 0xd94
>
> ftable order in 'blp' = 2257
>
> size in 'blp' = 29024 <blp says that this file is unpacked>
same the SARAH_DLCU_002.TMC
## Post #1131
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-09-29T02:18:39+00:00
- Post Title: Re: Dead or Alive series formats and tools

@tcl, nice edit, Did you add just the missing faces?

Yes, I did see some discrepancies in some of the arch calculations.  I mostly just grab the key if I need it. I've still been doing my offsets and injection manually.

@lsc, Yeah, I definitely see where some complexity comes into play.  I guess I'll stick to the basic questions first.  Which mesh object are you using for the replacement? One of the undies? 

Once you decide on which mesh, (probably repeating myself or forgot) ... Are selecting each vertex in a face and following that process for every single one?
## Post #1132
- Username: tcl36478655
- Rank: beginner
- Number of posts: 34
- Joined date: Mon Apr 08, 2013 9:22 am
- Post datetime: 2014-09-29T02:53:19+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Protocol X27
I did like these below:
1.add the vertexs into body(may lend some from other obj) <TMCL>
2.fix vertexs' opsition\UV\Normal\bone_id<TMCL>
3.fix faces<TMCL>
4.fix body's index<TMC>
  

> RACHEL_DLCU_001.TMCL
>
> info offset in 'blp' = 0xf10 
>
> ftable order in 'blp' = 2257<==== must be wrong,should be 2022
>
> size in 'blp' = 29024 <blp says that this file is unpacked>

Seems that 2022 is not in ftlinkdict.
but if i don't make this words work:

> if filetableindex in ftlinkdict :
everything is great??? why??? OTL...
## Post #1133
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-09-30T08:14:01+00:00
- Post Title: Re: Dead or Alive series formats and tools

"(╯‵□′)╯︵┻━┻"

Lol that's awesome.

*

Pro,
replacing saves time but beware, you still need to write in vertices manually. 

you know how when you close gaps between two parts that are supposed to be attached and move in sync? 
well if the two parts have a mismatch in number of vertices on the edge, a visible gap will open when the part moves.
that's why you still need to write in more, or remove extras.
## Post #1134
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-09-30T12:31:51+00:00
- Post Title: Re: Dead or Alive series formats and tools

@tcl36478655
That's wonderful work.

***

I was able to convert vt(UV) also.
it's based on IEEE 754 and half size of single floating.

[http://en.wikipedia.org/wiki/Half-preci ... int_format](http://en.wikipedia.org/wiki/Half-precision_floating-point_format)


***

When adding extra vertices.. it seems that setting weight is most annoying part.
now normals can be calculated. UV can calculated.
but weight is not only about calculation you know.
well.. I don't want to think about that.
## Post #1135
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-09-30T17:04:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> any advance with DOA5 motions?? nope  

> Reply from Rosalin
>
> 
When adding extra vertices.. it seems that setting weight is most annoying parthow many vertices are we talking here? you can test the weights in blender for example, by setting the weight values and bending the joint to see how it goes.

tcl36478655
this script is a remake of doa5 vanila which is a remake of ninjagaiden3 unpacker. it needs some heavy refactoring, but i'm not that type of person who does this sort of things
## Post #1136
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-09-30T18:40:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny
>
> Darko wrote:any advance with DOA5 motions?? nope  
Rosalin wrote:
When adding extra vertices.. it seems that setting weight is most annoying parthow many vertices are we talking here? you can test the weights in blender for example, by setting the weight values and bending the joint to see how it goes.

tcl36478655
this script is a remake of doa5 vanila which is a remake of ninjagaiden3 unpacker. it needs some heavy refactoring, but i'm not that type of person who does this sort of things

Hehehehe don't worry, thanks for the answer.
## Post #1137
- Username: tcl36478655
- Rank: beginner
- Number of posts: 34
- Joined date: Mon Apr 08, 2013 9:22 am
- Post datetime: 2014-10-01T02:27:53+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Lilstormcloud
 
@Rosalin
THX
@b0ny
You have already gave much more help,thank you 
*
I did a little edit so this script solve my problem.ONLY the problem I care. 
so it may lead to other problem. 
[doa5Uarchivarius edit.rar](https://xentaxbackup.github.io/file/7870_doa5Uarchivarius edit.rar)
## Post #1138
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-10-01T15:33:43+00:00
- Post Title: Re: Dead or Alive series formats and tools

I actually made a script for catching multiple vn from OBJ file and injecting back to TMCL.

It looked it's working. but it didn't worked right for some parts.
especially in some narrow creases. and I couldn't figure out why.

I'm just guessing that they are actually getting normals from some more detailed high polygon models or something like that.

If it worked, I was about to do some hardcore mesh editing based on the script.
But well.. there's something I can do with it still though..

@b0ny
never mind. that was just pointless thinking.
I can actually do for some few in 3dsmax.
## Post #1139
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-10-02T09:16:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

Now I have a serious question.
Can anyone teach me about how index buffer organizes faces?

I was analyzing some parts in body.
but I couldn't understand orders in some parts.

index buffer :
7733 7674 7734 7673 7735 7671 7736 7670 7737

Look around 7735 plz.
they're totally jumping around vertices without following the line.
So if I change 7735 into FFFF (I was about to delete it), then there happens concatenative loss of faces.
What lil told me worked for me. but it seems there're some another rules behind.

Could it be explained in simple ways?
## Post #1140
- Username: tcl36478655
- Rank: beginner
- Number of posts: 34
- Joined date: Mon Apr 08, 2013 9:22 am
- Post datetime: 2014-10-02T10:20:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Rosalin
>
> Now I have a serious question.
Can anyone teach me about how index buffer organizes faces?

I was analyzing some parts in body.
but I couldn't understand orders in some parts.



index buffer :
7733 7674 7734 7673 7735 7671 7736 7670 7737

Look around 7735 plz.
they're totally jumping around vertices without following the line.
So if I change 7735 into FFFF (I was about to delete it), then there happens concatenative loss of faces.
What lil told me worked for me. but it seems there're some another rules behind.

Could it be explained in simple ways?

strange the order which index buffer is don't match that picture.  
the index buffer should means that:
face1:7773 7674 7734
face2:       7674 7734 7673
face3:               7734 7673 7735
...
facen-1:                                          7671 7736 7670
facen:                                                     7736 7670 7737

I also have a question maybe you already know.
Did DOA5U use another zlib for compress?
Because I try to use Quickbms for compressing but error.
## Post #1141
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-10-02T12:15:51+00:00
- Post Title: Re: Dead or Alive series formats and tools

Look at it from the 7674 point of view

7674 is joined to 7734,
7674 is joined to 7673,
7674 is joined to 7735,

Sometimes they like to go over the same area twice, you really have to un-join the whole area and work out when it hits a end or if it's just doing something weird, usually there's some logic to it.

depending on what's connected to what, if you mess with one value you could wreck the whole string making all the faces disappear. The ones that disappear is a good clue as to what area that string is describing and should provide some info on how it's joined.

Also when i was testing initially, when I can't figure out why, I ended up rewriting some of the ones that didn't make sense with what I thought they should be joined to. Half the time it had no effect suggesting some sort of redundancy, not sure if on purpose or if any use or etc.
## Post #1142
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-10-02T14:58:34+00:00
- Post Title: Re: Dead or Alive series formats and tools

Sorry it was my silly mistake. please forget it.
I was able to do it anyway.
## Post #1143
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-10-03T11:04:28+00:00
- Post Title: Re: Dead or Alive series formats and tools

I've figured out simplest way to delete some vertices.

when you try to delete vertex id a from mesh,
then just turn every a into b in the index buffer.

just think about a is moving toward b and snapping to b.
it works like that.
## Post #1144
- Username: tcl36478655
- Rank: beginner
- Number of posts: 34
- Joined date: Mon Apr 08, 2013 9:22 am
- Post datetime: 2014-10-03T13:24:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

...
Never mind.
Solved...
(╯‵□′)╯︵┻━┻
## Post #1145
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-10-05T09:11:02+00:00
- Post Title: Re: Dead or Alive series formats and tools

@b0ny
Can you plz explain about this template?
Is this a template about sub-structures of whole TTX section or just notifying transparent flags?

I wish I could learn more about handling texture and materials.
It looks like it's pretty much helping for that
## Post #1146
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-10-08T03:23:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Ros

That line a couple rows above the important vtx/idx details is a transparency flag.  I've only had cause to change it when trying to change the alpha of a texture, but changing it is only part of the process.  There are some values that also require changing in the MdlInfo / ObjInfo as well.  

My trial ran up for that app, so I switched back to changing the value manually when needed.  If I recall correctly, it was essentially setting the value to true/false.
## Post #1147
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-10-08T04:10:32+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Prot

Thanks for the answer.
Actually what I'm worrying about is not about transparency actually.

What I concern about is exporting or importing meshes including textures that other costumes doesn't have.

I was able to export body mesh without any texture problem, because every costumes have body diffuse and normal maps.

Well.. I don't feel like that I need that much but, I just want to know that I could able to learn that or not.
I looks quite a big deal. because I should handle much things in TMC and TMCL to do that I guess.

***

Anyway, I wish there was a StickitBack for bone nodes coordinates in 3dsmax.
I should have asked for mariokart about it when he was uploading some pictures about that
## Post #1148
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-10-08T04:27:22+00:00
- Post Title: Re: Dead or Alive series formats and tools

I wrote a while back about the TTX block, should be able to refer to that to change texture address and size etc.

it's okay if the target texture slot isn't the same size/shape as the original. 
Just resize (squeeze or stretch) it into the correct shape in photoshop (do not cut, trim or etc, just resize -> stretch image, squeeze image), the texture will still appear correctly after injection. except for a loss in quality if you go too small, for such cases swap the texture reference to a larger one and inject into that slot.
## Post #1149
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-10-09T06:35:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

Well. thanks.

Anyway It seems that morphing doesn't work when indices are edited.
## Post #1150
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-10-10T23:00:54+00:00
- Post Title: Re: Dead or Alive series formats and tools

The new Halloween pack looks good,
new mesh pieces and textures to swap around lol.

time to have bet,
ayane has a full unhollowed body under that halloween costume.

Takers?
## Post #1151
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-10-11T12:28:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

I'm liking the new stuff too. It'll be interesting to see what is 'available'.

I'd like to think full mesh, but I suspect minimal verts may still be missing like w/ Lisa's tropical. Rachels may have potential since I can't tell if the skeleton is a seconday mesh or texture.
## Post #1152
- Username: MarieRose1301
- Rank: veteran
- Number of posts: 97
- Joined date: Sun Oct 12, 2014 5:29 am
- Post datetime: 2014-10-12T09:40:58+00:00
- Post Title: Re: Dead or Alive series formats and tools

Just wanted to ask
Is there a complete .mpm blender script for DOA5U?(I mean which imports face animations and doesn't screw bodies up)
## Post #1153
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-10-14T12:01:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

[Simple UV Calaculator.zip](https://xentaxbackup.github.io/file/7943_Simple UV Calaculator.zip)
## Post #1154
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-10-14T16:48:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

If anyone is working on the archivarius update for the latest content, it seems that half of the stuff already renames, primarily males & VF characters.  

Here's what I had a few minutes to find

> ***

I'll do more later unless someone beats me to it.   So far Kasumi & Tina are the only semi-full upper meshes
## Post #1155
- Username: porimac
- Rank: VIP member
- Number of posts: 109
- Joined date: Wed Sep 08, 2010 11:46 pm
- Post datetime: 2014-10-14T16:54:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

DOA5U Haloween DLC
I coud not decrypt filename, but I tried convert some TMC files manually   

(edit : s-sorry for the mistake!)

```
2SL63@1S1T1@DI]]K1835R1M1FH13GG1B97V1O10{TNB713C1C10 |	NYOTENGU|	.TMC
2SU63@1T1U151@D10I]]K1935Q1EO1H1RS5B9G1Q{A98191K	 |	PHASE4  |	.TMC
2Z052@1S1T1@CG1H]]00824C21H1F1QR988N{S85181H		 |	MILA    |	.TMC
2Z052@1S1T1@CI1I]]K19357110D75F1E1QR007N{S65161I	 |	HELENA  |	.TMC
2Z052@1S1T1@CI1I]]K1935DQ1G11RK15NB9{S77181I		 |	TINA    |	.TMC
2Z052@1S1T1@CN1I]]K1935D00F175QR6K1O{C76171H		 |	LISA    |	.TMC
2Z151@1S1T1@CH]1]1J182H62D10Q1P1H12R4C171OR1{087181I |	CHRISTIE|	.TMC
2Z151@1S1T1B@T1]]K33K193L62EG1RSH15O{T7511071J		 |	AYANE   |	.TMC
2Z763@1S1T1@CC1H]]J193500H1K1GF1I1A8QRH18N{S75171M	 |	LEIFANG |	.TMC
2Z963@1S1T1@DF1H]]J1935E2164G1QR107NF1{S7216151K	 |	KASUMI  |	.TMC
2Z963@1S1T1@DH]]J1835D644712F1QRN13192{I1S251712	 |	HITOMI  |	.TMC
2Z963@1S1T1@DH]]J1835DI312E1G1QRN1CA71A2{S95191A	 |	MOMIJI  |	.TMC
2ZC63@1S1T1@DM1I]81]C1A3681D10DF12QR4C9O{S87181B	 |	RACHEL  |	.TMC
2ZF63@1S1T1@DI]]K1835D64D1F1QRQN10093610{S861812	 |	KOKORO  |	.TMC

BS612@1S1T1@DH1]0]B183H42EO12G187QR6H1O{S76171J		 |	MARIE   |	.TMCL
BSL73@1S1T1@E]J]C1834R1M1G1H13GG1B96V1O10{TNB713C1C10|	NYOTENGU|	.TMCL
BSU73@1T1U151@E10]J]C1934Q1FO12H1RS4B9G1Q{A98191K	 |	PHASE4  |	.TMCL
BZ062@1S1T1@D81]I]00823D212H1F1QR987N{S85181H		 |	MILA    |	.TMCL
BZ062@1S1T1@DI1]J]C19347110E753F1E1QR005N{S65161I	 |	HELENA  |	.TMCL
BZ062@1S1T1@DI1]J]C1934EQ12G11RK14NB9{S77181I		 |	TINA    |	.TMCL
BZ062@1S1T1@DN1]J]C1934E001F175QR6K1O{C76171H		 |	LISA    |	.TMCL
BZ161@1S1T1@D]1]J2B183H52E10Q1P12H13R4C171OR1{087181I|	CHRISTIE|	.TMCL
BZ161@1S1T1C@T1]]2K3C193L52F1G1RSH14O{T7511071J		 |	AYANE   |	.TMCL
BZ263@1S1T1@DM1]71J]C1A3481E100DF12QR4C9O{S87181B	 |	RACHEL  |	.TMCL
BZ873@1S1T1@DD1]I]D193400H1K1HF12I1A8QRH17N{S75171M	 |	LEIFANG |	.TMCL
BZA73@1S1T1@EG1]I]D1934F21644G1QR104NF1{S7216151K	 |	KASUMI  |	.TMCL
BZA73@1S1T1@E]I]C1834E6447125F1QRN13152{I1S251712	 |	HITOMI  |	.TMCL
BZA73@1S1T1@E]I]C1834EI312E14G1QRN1CA8182{S95191A	 |	MOMIJI  |	.TMCL
BZF73@1S1T1@E]J]C1834E64D14F1QRQN10063610{S861812	 |	KOKORO  |	.TMCL

```
## Post #1156
- Username: VeiX
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Mon Aug 11, 2014 7:14 pm
- Post datetime: 2014-10-14T16:59:01+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thank you porimac

Time for some renders
## Post #1157
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-10-14T20:56:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

Updated dat file.

I did'nt know the correspondance of some 7 and b's files (--h and -hl) to which character so I didn't bother with them.
[doa5Uarchivarius.7z](https://xentaxbackup.github.io/file/7945_doa5Uarchivarius.7z)
## Post #1158
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-10-14T21:29:23+00:00
- Post Title: Re: Dead or Alive series formats and tools

Awesome stuff, guys!

Thanks for the file updates & UV calculator, Ros!

Edit: 
So far looks like Kasumi, Ayane, Hitomi, Leifang, Pai, Mila all have options, but nothing 100%.
## Post #1159
- Username: zareef
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Thu Sep 04, 2014 1:27 pm
- Post datetime: 2014-10-15T13:23:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> Updated dat file.

I did'nt know the correspondance of some 7 and b's files (--h and -hl) to which character so I didn't bother with them.

Thanks a lot, man
## Post #1160
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2014-10-18T07:00:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

Could someone help me get the Blender importer for DOA5U?

the one im using has some problems :c like Kasumi's Halloween 2014 costume loads perfectly but when I load her head from 5U it is off to the right but the bones are connected so there isn't much I can do or stuff like Momiji's face won't load, only the "Faceparts" which are eyelashes the mouth/tounge and the eyeshadow load
## Post #1161
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-10-18T15:37:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

-
## Post #1162
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-10-19T01:30:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

Nice stuff, Ros,  the application for the face organizing is still above me, I have to fight a reason to start learning all of that. XD

@MisterNatal.  Unless I overlooked a past script, I didn't know there was a direct import.  The alternate method is to import into 3dsmax, export to mesh.ascii and then use the mesh.ascii importer for Blender

***

I started working on finishing up the Vertex Snapper again.  Doing some tests I found that Alpha's mesh snaps to Ayane's Towel one rather well after being converted to '2C'.  Only a small number of verts didn't shift.  I'm trying to add upper x/y bounds so that areas like feet & fingernails can be ignored.  I still have a few more tests to do, to see if that mesh will convert to other characters halfway decent.

***

Looks like cgfx got spammed into oblivion too...
## Post #1163
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2014-10-19T21:23:46+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Nice stuff, Ros,  the application for the face organizing is still above me, I have to fight a reason to start learning all of that. XD

@MisterNatal.  Unless I overlooked a past script, I didn't know there was a direct import.  The alternate method is to import into 3dsmax, export to mesh.ascii and then use the mesh.ascii importer for Blender

***

I started working on finishing up the Vertex Snapper again.  Doing some tests I found that Alpha's mesh snaps to Ayane's Towel one rather well after being converted to '2C'.  Only a small number of verts didn't shift.  I'm trying to add upper x/y bounds so that areas like feet & fingernails can be ignored.  I still have a few more tests to do, to see if that mesh will convert to other characters halfway decent.

***

Looks like cgfx got spammed into oblivion too...

Well, the only way I know of as of yet is blender 2.49b to XNA but im not certain I can go from .67 to .49 and not lose any important data
## Post #1164
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-10-20T00:04:31+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from MisterNatal
>
> 
Well, the only way I know of as of yet is blender 2.49b to XNA but im not certain I can go from .67 to .49 and not lose any important data

What's your end objective? If you're looking to just work with the mesh & skeleton in a newer version of blender, you can import into 2.49b and then open the .blend file in 2.67.  But if your looking to export to XNALara, as far as I know, the preferred method is still 3dmax > 2.49b > XNALara.
## Post #1165
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-10-20T10:41:23+00:00
- Post Title: Re: Dead or Alive series formats and tools

I'm attempting to inject modifed models to chara_common
using archivarious.

I got deafault.exe form defaut.xex through xextool.

but after I selected file for swapping tmc or tmcl file in archivarous,
it showed me an error messages and it does no swapping jobs.

```
Traceback (most recent call last):
  File "C:\Python34\lib\tkinter\__init__.py", line 1482, in __call__    return self.func(*args)
  File "C:\mod\Chara Common\doa5Uarchivarius.py", line 660, in <lambda>
    Button(optbarframe, text='swap selected', font='sans 11', command=lambda:swapselected(texlist, noteinject.get())).pack(side = 'right')
  File "C:\mod\Chara Common\doa5Uarchivarius.py", line 407, in swapselected    fxex.seek(0xc8d840 + fl.filetableindex*8)
AttributeError: 'cfile' object has no attribute 'filetableindex'
```
and, lnk or blp or default.exe files are not modified at all.

Can anyone please tell me where should I start for this job?

*****

I've looked at the mario's tutorial for this to do in manual way...
and found some lsc's tips on other site.

but. problem was,.. in default-done.xex file, there I could find uncompressed file size, but I couldn't for compressed size and flags for changing them.

this is how normal blp file goes.

> 000000C1 0000B584 E0000097 00030C70 A30D7F6Bthat bold one is uncompressed size. and there's compressed size and a flag.

but in default-done.xex file

> 4E3AC63F 00096000 F06FB763 00019C40 436E5313 0062D000 AF10683B 0000DEF0 D5B03BEB 007D3000 1900589B 00005600 71104693 00004000 1AA06F57I have really no idea around that.
## Post #1166
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-10-21T01:56:40+00:00
- Post Title: Re: Dead or Alive series formats and tools

Ros, 
The process is very similar to the DLC. 

In the chara_common.lnk, do the same stuff as you would for any content.lnk.

Not sure what you mean about getting a .exe.  Even with using xextool, I've only had to encrypt / decrypt.  Sounds like you at least have it decrypted though.  

Within the default.xex, look for the compressed file sizes.  You can use either archivarius to find these or an more manual method of locating the file in the chara_common, and then finding its index entry.  

All of the compressed file sizes are together and are the only parts needing to be changed in the .xex, along with the usual 'E0' compression flags.  

After changing the xex it needs to be re-encrypted and have the first 4590 bytes or so from an unedited .xex pasted back into the modified one.  This always needs to be done after the game starts receiving significant title updates. Vanilla version seem to not need it.
## Post #1167
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-10-21T07:59:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks prot.
I got compressed size from archivarious dat file and 
modifed all compressed size to uncompressed and fixed flags to 0

Maybe I've done with it right with them. files extended and changed size on header etc..
but I'm not sure about re-encrypting and
things related to TU stuffs.
I can't get it clearly at all..

So it crashes or loading forever.


*************
Oh it's terribly confusing. @@
Well... let me check the process from the first.
I'm only trying fix one TMCL file. without tmc.

1. I.. decrypted default.xex file.

2. I got uncompressed size and compressed size of TMCL from archivarious dat file.
and also got E000.... index(?) number with compression flag.

3. In decrypted default.xex file, I changed a compressed size value into uncompressed size,
and changed E000.. to 0000.. 
total two numbers are changed in decrypted default.xex file.

4. In chara_common.lnk, I changed a pair of compressed size to uncompressed size.
And at the end of file, I attached edited TMCL file.
And at the entry of this tmcl file, I changed address of TMCL into new one.

finally I changed total size value in chara_common.lnk header.

5. re-encrypted default.xex file to default-done.xex


After I copied two files into hard disk.. I launched default-done.xex file,

It loaded to title screen safely but some sort of freezing happend after I selected a menu.
I can't do anything more.

But what's most annoying is, If I launch it with un-edited default.xex file,
it doesn't crashes at all and shows me un-edited costume without any troubles.

How this thing can happen?
even there was something wrong with encrypting default-done.xex file,
I edited chara_common costume address entry.
I expected that it crashes or something like that.
I can hardly understand that.

I need some advice plz.
## Post #1168
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-10-21T18:30:00+00:00
- Post Title: Re: Dead or Alive series formats and tools

Rename default done to
default.xex (prob no effect)

copy around the first 40c0 of unmodified default.xex and overwrite the first 40c0 of modified encrypted default.xex.

go to you 360 systems and clear the hard drive cache.
## Post #1169
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-10-22T02:26:43+00:00
- Post Title: Re: Dead or Alive series formats and tools

LSC, beat me to it, If any title update past 1.03 is active than the process he mentioned needs to occur.  

***

I tested snapping Alpha against Christie, and that worked too, just need to see if a mid & large mesh works.
## Post #1170
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-10-23T06:08:20+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thank you so much for the helps.
It's done finally

This simple thing took my 4-days away. T-T

***

I've heard a news about DOA5 LR.
It's going to be released on 02/19/15
## Post #1171
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-10-24T01:35:10+00:00
- Post Title: Re: Dead or Alive series formats and tools

Lot's of awesome news for Last Round today, and some not so awesome.  

Looks like quite a bit of content is withheld for next gen, so not sure how long it'll take before those kind of mods happen.  

At least current gen will still get costumes & characters through an update, but that'll likely mean that DLC character stuff could still reside in the in the patch files and not the core.  

***
Alpha snaps to Lisa minus the finger nails still. Need to find a work around for that.
## Post #1172
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-10-25T01:42:54+00:00
- Post Title: Re: Dead or Alive series formats and tools

Let's see how much time it takes to them to put everything from PS4 and one in a whole DLC for 360 and PS3 versions.
## Post #1173
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-10-25T03:09:33+00:00
- Post Title: Re: Dead or Alive series formats and tools

They'd probably be so lazy that they'll just leave the extra content in and later "add" it via a dlc unlock key.
## Post #1174
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-10-27T02:31:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

That may only work if the digital version has it in the core files, otherwise I don't see core game files being included.  

***

Ros or LSC, can't remember if I missed the response on this last time or didn't get one.  Do we know what all 11 groups are in a single vertex buffer?  (X,Y,Z, ??, Bone Weight, Bone ID, UV ?? , Dirt/Water ?? , Dirt/Water ?? , ?? , ??)

I finally have some of that stuff included for next snapper version, but want to make sure I have the right labels.
## Post #1175
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-10-27T05:33:17+00:00
- Post Title: Re: Dead or Alive series formats and tools

Prot.
As I know, there was 3 UV coordinates in a vertex buffer. they were all identical and first one was one for diffuse map as I could see.
Mario's script brings it for 3rd one, but noesis does it for 1st one. I simply fixed them all when I wanted to change UV. I didn't think about them deeply.


The one after xyz is one for vertex normal.
The one next to bone ID is not UV. It controls textures in someways, but I don't know what it is exactly.
## Post #1176
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-10-29T01:42:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks, Ros

Good to know about the Normal since I wasn't sure which one it was.  Whatever that one between the UV & bone id is, it's still consistent across models for the most part since I was originally using that to find common values.  

Even with replacing bone weights though I still get some verts pulling away from a seam.  Any other possible value in the vertex buff that may influence that?  

Other than some more basic testing, I should have a new version soon.  ( will actually read text files this time, lol)
## Post #1177
- Username: ssringo
- Rank: veteran
- Number of posts: 98
- Joined date: Sat Apr 19, 2014 3:02 pm
- Post datetime: 2014-10-29T05:31:32+00:00
- Post Title: Re: Dead or Alive series formats and tools

Would anyone mind doing a recap of the current tools/process for extraction and getting the models into blender/max? Working backwards through 79 pages of discussion to find the proper tools is rather daunting (and I've tried twice now). Not looking for any hand-holding just the outline. Like, is [https://www.youtube.com/watch?v=TZoyg7Od9I0](https://www.youtube.com/watch?v=TZoyg7Od9I0) still valid or are there newer tools?

Also, from what I've read it seems like you're using DoA5 and DLC and not DoA5U (360 version). Correct? 

I hate coming into something this late in the game. Thanks for any help in getting me up to speed.
## Post #1178
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-10-29T13:27:15+00:00
- Post Title: Re: Dead or Alive series formats and tools

Prot,

I think I saw unwanted seam-breaking even I matched xyz and weight once.
I simply fixed it by undoing what I did, lol. I didn't figure out what it was.
And sometimes very little crack appears on same condition, but I fix it by crossing over vertices.

But if you are talking about seam on the neck, I have another kind of solution.
I'll tell you about it if it is about the neck.

**
Anyway, were you able to find encryptor?
**
And.. that star looks nice.
**
It seems that you are making your snapper to work with txt files. I think it's just good as it is. I'm afraid of getting slower like bodyshop, which is using txt files.
the snapper is very useful just as current version, but if you are trying to upgrade it, I'll be looking forward it.
## Post #1179
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-10-30T22:47:01+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from ssringo
>
> Would anyone mind doing a recap of the current tools/process for extraction and getting the models into blender/max? Working backwards through 79 pages of discussion to find the proper tools is rather daunting (and I've tried twice now). Not looking for any hand-holding just the outline. Like, is https://www.youtube.com/watch?v=TZoyg7Od9I0 still valid or are there newer tools?

Also, from what I've read it seems like you're using DoA5 and DLC and not DoA5U (360 version). Correct? 

I hate coming into something this late in the game. Thanks for any help in getting me up to speed.

At least the good thing about jumping in later is avoiding the delay of waiting for things to be solved.  Here's the nutshell version

Archivarius
- for extracting containers (.blp/.lnk)

Max Scripts
- TMC Praser for importing containers into 3dsmax
- XNALara-XPS import/export for converting to mesh.ascii

Blender Scripts
- mesh.ascii Import & Export scripts

Noesis
- doa/ng python script for exporting .obj needed for UV's that don't export from 3dsmax correctly

The process works for vanilla or ultimate models.  I think most people use ultimate unless they have a preference not to. XD

Ask away if you need elaboration on any of that.    

***
Thanks, Ros, eh the star isn't deserved, I'm still just a noob, lol. 

The seam I have is on the torso between two mesh pieces.  Somehow the weights still cause pull away.  I'll have to try something else.   For some reason it doesn't seem helpful to swap weights 'before' doing the bone subbing with the other one.  Found some snags last night, so running a couple more things down.
## Post #1180
- Username: ssringo
- Rank: veteran
- Number of posts: 98
- Joined date: Sat Apr 19, 2014 3:02 pm
- Post datetime: 2014-10-31T01:30:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thank you for the summary Protocol. Hopefully I can get stuff working this weekend. Only question I have is regarding the XNALara script. Is that the old one that spits out errors but still exports or the new(er) one that mariokart (I believe) released last year (iirc)? 

Also, folks can point other newbies to your post to get them up to speed. Thank you again.
## Post #1181
- Username: zdth648
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Fri Oct 31, 2014 3:48 pm
- Post datetime: 2014-10-31T07:51:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Modman69
>
> Here's what I have 

http://www.filesonic.com/file/579880651/Toolbox.rar
thank u so much.I'm also looking for them.[coque sony xperia z3 pas cher](http://www.etuicoquesamsung.com/category-coque-sony-xperia-z3-496.html) [etui sony xperia z3 haut de qualité](http://www.etuicoquesamsung.com/category-coque-sony-xperia-z3-496.html)
## Post #1182
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-10-31T09:31:40+00:00
- Post Title: Re: Dead or Alive series formats and tools

- Seam on the neck.
Sometimes very thin crack(seam),looking like dotted line, appears on the neck when the neck is bent extremely backward.
It appears even in original models, not only on modded one.

Basically that happens for the difference of weight values between body and face meshes.
Weight value in the face mesh has 0~10.0 value as float.
But the value in the body mesh has 0~FF, just as hex.

So the values in the body mesh cannot be set accurately like face mesh.
For example something like 1/2 and 1/2.
FF(255) cannot be divided into half exactly.
So there can be tiny mismatch.

In that case, the easiest way to fix the seam is to swap numbers.
If the values are set 7F, 80, then try to simply set them all as 80, 7F along the neck-ring.
That would be able to fix the seam on the neck when the neck is bent backward.

Generally the weight values in the neck-ring are set 7F and 80.
## Post #1183
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-11-02T02:38:05+00:00
- Post Title: Re: Dead or Alive series formats and tools

@ssringo, No problem.  Do you mean the 3dsmax exporter?  I'm still using the one I've had for a couple of years.  It does through errors pertaining to the UV layers or something, but still exports fine.  If there is a newer one, I was not aware of it.  

@Rosalin, My seam is usually around the belly button from where a inject a partial torso mesh that still has the legs which then get squashed out of sight.  The original torso gets squashed and leaves the legs.  In certain situations, the seam twists and expands.  That was a good call about overlapping, that seem to improve the appearance if I didn't completely squash the first ring of first of each hidden part.  

The swapping of weights makes sense too.  I'll have to work on a Vertex Finder/Swapper feature on the next run since I'm not motivated enough to find them manually..
## Post #1184
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-11-02T05:04:30+00:00
- Post Title: Re: Dead or Alive series formats and tools

Well.. I can't fully understand what it means. I wish I could see that what it is.

Anyway as I know, there can't be any mismatch of mesh shape if the weight and bone IDs are kept well,. theologically..

I could check it together if you send me that file.
## Post #1185
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-11-05T15:13:52+00:00
- Post Title: Re: Dead or Alive series formats and tools

Applying SMAA to a screenshot.

SMAA is a anti-aliasing algorithm, and an improved version of MLAA.
This is combination of two tools(DirectX image viewer + injectSMAA 1.2)

1. Move your image file to same folder with DirectX image viewer.
2. Width or height of your image should not be bigger than your screen resolution. So rotate it if you need.
And if you set your screen resolution 1280x720, then it will be ideal.
3. Drag and drop your image to DX9IV.exe.
4. Press PrintScreen Key and Alt+F4
5. Then you'll get an anti-aliased  BMP file in the folder.

You can sharpen your image in Photoshop if you think it's blurry.
[DX9IVv1.4 + injectSMAA.zip](https://xentaxbackup.github.io/file/8036_DX9IVv1.4 + injectSMAA.zip)
## Post #1186
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-11-11T02:32:59+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks for the ongoing plugin tests, Ros. 

I keeping looking for ways to smooth out pixelation as well since I know I've seen some clean mods on dA.  It finally dawned on my to try something different.  It would seem that the anti aliasing issue is worse when zoomed out more than torso height.  Close ups don't seem to have as much of an issue.
## Post #1187
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-11-11T08:47:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

hm.. yeh.
SMAA is one of the known best post-processing anti-aliasing algorithm as I know.. so result should be quite nice if you want to deal with jaggies.
And DX9 viewer can be also combined with SweetFX
## Post #1188
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-11-13T03:45:13+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hmmm, 

I must be missing something.  I followed your directions.  Dragged it onto the exe, hit Printscreen, but the .bmp I get still has virtually the same amount of jaggies.   Am I forgetting to do something?  Or could I be missing something display related or for graphics?
## Post #1189
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-11-13T04:56:54+00:00
- Post Title: Re: Dead or Alive series formats and tools

Second one that I uploaded has a sharpen filter in it.
So that might make it look less effective.

If you zoom in the image, there might be changes.
If you have no changes with both of them, well.. that might be problem.

Basically, that requires DX9.
That's all it needs as I know.

You should move your image to tool's folder
And you'll get additional .bmp file after pressing printscreen key.
## Post #1190
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-11-14T02:14:46+00:00
- Post Title: Re: Dead or Alive series formats and tools

Changes might just be subtle and I'm not noticing then. Eh well.  

Thanks to the tip on where to look on cgfx, I finally starting messing with the .bcm.  I don't know how to toggle the glasses or accessories yet, but I've at least some patterns by comparing different bcms and testing smaller ones like with the Intimate DLC pack.  Here's what I've noticed so far.

```
03 : DLC Grouping (Changes After every character release)
00 : ??
02 : Number of Characters
36 : ??

...
Pattern in BCM
XX : Character Identifier
## : Costume Slot
XX : ??
XX : ??
XX : Hair Slot
XX : Face Slot
XX : ??
XX : ??
```
## Post #1191
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-11-14T09:58:09+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Thanks to the tip on where to look on cgfx, I finally starting messing with the .bcm.  I don't know how to toggle the glasses or accessories yet, but I've at least some patterns by comparing different bcms and testing smaller ones like with the Intimate DLC pack.  Here's what I've noticed so far.

have you actually successfully edited a bcm?

if you're interested i could make a template for 010editor to easily distinct the bcm structure.(if you don't have(need/like) 010editor it's possible to use a portable version)
here is my python script i used a while ago to dump bcm files for research purposes:

```

charindices = ['ZACK', 'TINA', 'JANNLEE', 'EIN', 'HAYABUSA', 'KASUMI', 'GENFU', 'HELENA', 'LEON', 'BASS', 'KOKORO', 'HAYATE', 'LEIFANG', 'AYANE',
               'ELIOT', 'LISA', 'ALPHA152', '&17', '&18', 'BRAD', 'CHRISTIE', 'HITOMI', '&22', '&23', 'BAYMAN', '&25', '&26', '&27', '&28', 'RIG',
               'MILA', 'AKIRA', 'SARAH', 'PAI', '&34', '&35', '&36', '&37', '&38', 'MOMIJI', 'RACHEL', 'JACKY', 'MARIE', 'PHASE4', 'NYOTENGU',
               'future_slot45','future_slot46','future_slot47','future_slot48']

def main():
    dirs = [
            r"c:\doa5u\DLC\bcm inspector",
           ]#folders with bcm files

    mydict = []
    for dr in dirs:
        print(dr)
        for filename in os.listdir(dr):
            if filename[-4:].upper() not in (".BCM",): continue #filter only bcm files

            with open(dr + "/" + filename, 'rb') as f:
                bcmver, bcmunknull, bcmcount, bcmchecksumm = f.read(4)
                print('#%x %2x'%(bcmver, bcmchecksumm), filename)
                for bcmi in range(bcmcount):
                    charidx, charcosidx, pantscount, unkcount = f.read(4)
                    slotname = '%s_%d*%x'%(charindices[charidx], charcosidx+1, pantscount)
                    print('%14s'%slotname, end = '  ')
                    for unki in range(unkcount):
                        unk1, unk2 = f.read(2) #unk2 = 0,1,2; unk1 = 0-6 (); ?face/hair variation?
                        #0_0 hair and face included(?); 0_1 = do not use external hair;
                        print('%x_%x'%(unk1, unk2), end = ' ')
                        a = unk1
                        if a not in mydict: mydict.append(a)
                    print()

    print(mydict)

if __name__ == '__main__':
    main()

```
## Post #1192
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-11-16T08:16:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

Was looking for a model with lots of vertices to port to another models I was working on.

Ayane dlu 10 is quite nice, has a high number of vertices on the butt area. ie it'll end up more curved rather than triangular. I checked a few including most of tina and momiji cos 4. and this was the best one I found so far.

anyone interested can probably just fill the small gaps and use it as is.

*

Holy crap I must say tecmo isn't even trying anymore with the last few dlcs.
They're recycling assets left and right, same, the EXACT same fishnet stockings in 3 dlcs in a row, same texture, same model. 
Half the costumes just look like retextured parts of the maid + bunny dlc.

a blue maid with a gun must be a police right? lol
## Post #1193
- Username: porimac
- Rank: VIP member
- Number of posts: 109
- Joined date: Wed Sep 08, 2010 11:46 pm
- Post datetime: 2014-11-18T14:17:55+00:00
- Post Title: Re: Dead or Alive series formats and tools

DOA5U POLICE DLC

```
BQ161S1@131B@S1]]2J3B183K52E1F1QRG14N{S7511071J AYANE_COP.TMCL

2Q763S1@131@BB1G]]I183500G1J1FE1H1A8PQH18M{R75171L LEIFANG_COP.TMC
BQ873S1@131@CC1]H]C183400G1J1GE12H1A8PQH17M{R75171L LEIFANG_COP.TMCL

2Q963S1@131@CE1G]]I1835D2164F1PQ107MF1{R7216151J KASUMI_COP.TMC
BQA73S1@131@DF1]H]C1834E21644F1PQ104MF1{R7216151J KASUMI_COP.TMCL

2Q963S1@131@CG]]I1735C644712E1PQM13192{H1R251712 HITOMI_COP.TMC
BQA73S1@131@D]H]B1734D6447125E1PQM13152{H1R251712 HITOMI_COP.TMCL

2Q963S1@131@CG]]I1735CH312D1F1PQM1CA71A2{R95191A MOMIJI_COP.TMC
BQA73S1@131@D]H]B1734DH312D14F1PQM1CA8182{R95191A MOMIJI_COP.TMCL

2Q052S1@131@BF1G]]00724B21G1E1PQ988M{R85181H MILA_COP.TMC
BQ062S1@131@C71]H]00723C212G1E1PQ987M{R85181H MILA_COP.TMCL

2Q052S1@131@BH1H]]J1835CP1F11QJ15MB9{R77181I TINA_COP.TMC
BQ062S1@131@CH1]I]B1834DP12F11QJ14MB9{R77181I TINA_COP.TMCL

2QF63S1@131@CH]]J1735C64C1E1PQPM10093610{R861812 KOKORO_COP.TMC
BQF73S1@131@D]I]B1734D64C14E1PQPM10063610{R861812 KOKORO_COP.TMCL

2T512@1S1T1@CH10]]J183H42DO1G187QR7H1O{S76171J MARIE_COP.TMC
BT612@1S1T1@DH1]0]B183H42EO12G187QR6H1O{S76171J MARIE_COP.TMCL

2TL63@1S1T1@DI]]K1835R1M1FH13GG1B97V1O10{TNB713C1C10 NYOTENGU_COP.TMC
BTL73@1S1T1@E]J]C1834R1M1G1H13GG1B96V1O10{TNB713C1C10 NYOTENGU_COP.TMCL

```

someone make new doa5Uarchivarius.dat please
## Post #1194
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-11-18T16:52:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from porimac
>
> DOA5U POLICE DLC
Code: Select all2Q151S1@131A@S1]]J33J183K62DF1QRG15N{S7511071J AYANE_COP.TMC
BQ161S1@131B@S1]]2J3B183K52E1F1QRG14N{S7511071J AYANE_COP.TMCL

2Q763S1@131@BB1G]]I183500G1J1FE1H1A8PQH18M{R75171L LEIFANG_COP.TMC
BQ873S1@131@CC1]H]C183400G1J1GE12H1A8PQH17M{R75171L LEIFANG_COP.TMCL

2Q963S1@131@CE1G]]I1835D2164F1PQ107MF1{R7216151J KASUMI_COP.TMC
BQA73S1@131@DF1]H]C1834E21644F1PQ104MF1{R7216151J KASUMI_COP.TMCL

2Q963S1@131@CG]]I1735C644712E1PQM13192{H1R251712 HITOMI_COP.TMC
BQA73S1@131@D]H]B1734D6447125E1PQM13152{H1R251712 HITOMI_COP.TMCL

2Q963S1@131@CG]]I1735CH312D1F1PQM1CA71A2{R95191A MOMIJI_COP.TMC
BQA73S1@131@D]H]B1734DH312D14F1PQM1CA8182{R95191A MOMIJI_COP.TMCL

2Q052S1@131@BF1G]]00724B21G1E1PQ988M{R85181H MILA_COP.TMC
BQ062S1@131@C71]H]00723C212G1E1PQ987M{R85181H MILA_COP.TMCL

2Q052S1@131@BH1H]]J1835CP1F11QJ15MB9{R77181I TINA_COP.TMC
BQ062S1@131@CH1]I]B1834DP12F11QJ14MB9{R77181I TINA_COP.TMCL

2QF63S1@131@CH]]J1735C64C1E1PQPM10093610{R861812 KOKORO_COP.TMC
BQF73S1@131@D]I]B1734D64C14E1PQPM10063610{R861812 KOKORO_COP.TMCL

2T512@1S1T1@CH10]]J183H42DO1G187QR7H1O{S76171J MARIE_COP.TMC
BT612@1S1T1@DH1]0]B183H42EO12G187QR6H1O{S76171J MARIE_COP.TMCL

2TL63@1S1T1@DI]]K1835R1M1FH13GG1B97V1O10{TNB713C1C10 NYOTENGU_COP.TMC
BTL73@1S1T1@E]J]C1834R1M1G1H13GG1B96V1O10{TNB713C1C10 NYOTENGU_COP.TMCL

someone make new doa5Uarchivarius.dat please

I check almost daily doa5u jap site to see if there's more dlc and this took me by surprise. Let work
## Post #1195
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2014-11-18T16:56:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

b0ny, Protocol X27

```
XX : Character Identifier
XX : Costume Slot				
XX : Alternative textures count			01 = no alternative textures
XX : Hairstyle slots count			01 = A; 02 = A,B; etc
XX : Hairstyle slot A - hair/accessories	00 = use included with costume; 01,02..0x = use (CHARACTER)_HAIR_0[01,02..0x] (for Kasumi/Christie/Mila/Tina: 01 = _HAIR_001; 02 = HAIR_001_A; 03 = HAIR_002; etc)
XX : Hairstyle slot A - face			00 = use included with costume; 01 = use default (CHARACTER)_FACE; 02 = use LISA_FACE_MASK/MILA_FACE_BANDAID
XX : Hairstyle slot B - hair/accessories
XX : Hairstyle slot B - face
.....
```
## Post #1196
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-11-18T17:45:53+00:00
- Post Title: Re: Dead or Alive series formats and tools

@b0ny, Yes editing the .bcm is pretty simple. I'll post a sample later if I can.  I'll starting working on the list of character ID's as well.

@lsc, Take a look at Leifang's recent Halloween one, that has some nice form to it. 

@pori, thanks for the jump start. 

@Darko, I usually frequent FSD to keep on news as quickly as possibly.  Folks started noticing indication of this DLC yesterday somehow. 

@sf234, thanks, that is helpful.  I wondered what the pattern was.
## Post #1197
- Username: mikulover39
- Rank: advanced
- Number of posts: 61
- Joined date: Tue Nov 22, 2011 5:55 pm
- Post datetime: 2014-11-18T18:15:21+00:00
- Post Title: Re: Dead or Alive series formats and tools

The new DLC is here!!!!!
[doa5Uarchivarius.zip](https://xentaxbackup.github.io/file/8095_doa5Uarchivarius.zip)
## Post #1198
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-11-19T03:48:09+00:00
- Post Title: Re: Dead or Alive series formats and tools

Awesome, Miku! Thanks! 

```
05	Kasumi
0D	Ayane
15	Hitomi
27	Momiji	
28	Rachel

```


Here's some of the Character indentifiers in the .bcm.  It'll be trial and error to find them, so just need to find the time.   Hopefully the flag for alternate textures in there might make it possible to put costumes without alternate textures into slots that do and vice versa.   I was hoping that the glasses would be an option within, but I don't see how that works if it is possible.  :-/ 

There still has to be something else that controls actual accessories combined with a reference in the .tmc perhaps.  For example: Rachel's School coat.  It's treated as a hair option, but is not actually using  a hair .tmc.
## Post #1199
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2014-11-19T07:56:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

Protocol X27
You can use "charindices = " array in the bony's script to find needed character indentifier.
## Post #1200
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-11-19T16:10:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

the python script for bcm dumping i provided could be helpful to find out the names of costumes in new dlc's... (you still have to match them to the appropriate files)
## Post #1201
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-11-20T03:55:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

@sf234, Ah, I feel like a noob for not noticing that they followed that order. Thanks!

@b0ny, so does the order from the .bcm represent the order of the files or characters in the .bin? 

I was hoping to move a costume over to another character with the right identifier and costume count, but doing that even once jacks up nearly all DLC.  Anyone know if the patch files or some other file contains a tentative list of slots on a per character basis?
## Post #1202
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-11-20T09:53:53+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> @b0ny, so does the order from the .bcm represent the order of the files or characters in the .bin?no, it just gives you the names. tough i have somewhere a script that automatically finds the tmc->tmcl pairs. you guys really should start scripting/coding this helps a lot in automation of the routine processes that you have to repeat many times(and python is a priceless helper for this).

> Reply from Protocol X27
>
> I was hoping to move a costume over to another character with the right identifier and costume count, but doing that even once jacks up nearly all DLC.try leave only one costume in bcm deleting the rest of them(you can post the hex content of the needed bcm here and i'll do this for you). and test if this works and opens only the given costume slot
## Post #1203
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2014-11-21T23:32:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

Protocol X27

```
XX : DLC Grouping				DLC for TU 1.09 works within range 03..06
XX : ??						    always 00 for 5U DLC
XX : Number of costumes				
XX : Checksum					= (char1id*cos1id+char2id*cos2id+..+charNid*cosNid) mod FF

```
## Post #1204
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-11-24T00:48:47+00:00
- Post Title: Re: Dead or Alive series formats and tools

@sf234, Excellent!

A couple of notes pertaining to that find.  I tried modding the checksum to FF, and it still locked out the DLC.  If I did use the formula correctly it did work again.   Since it's limited to 1 byte and some check values exceed FF, it seems that the final check sum value is as follows     ( 0x01 23) >> (01 + 23) >> 0x24

So I did a test with the new DLC with an attempt to move a costume from Tina to Rachel.  Tina now did not have a costume slot, but Rachel did BUT none of Rachel's costumes would load after that.   Is there any other information that may be expecting slots on a per character basis?  

Also, is this the checksum that needs to be edited to get the first three DLC's working again with uncompressed files?

***

@lsc, I started attempting some manual vert injection.  Starting with drawing a face between existing verts.  I added what I thought were the correct indices at the end of the correct index group, but it was drawing a face in a completely different spot.   The mesh group is last in the WGT_body, which is the first 2C group in the costume.  I used the Vert numbers in 3dsmax and converted them.  Any suggestions?
## Post #1205
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-11-24T08:12:26+00:00
- Post Title: Re: Dead or Alive series formats and tools

@prot
simply, use this max script code.

```
vCount = $.selectedVerts[1].index
```

and this excel file.
[Book1.xls](https://xentaxbackup.github.io/file/8138_Book1.xls)
## Post #1206
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-11-24T09:13:13+00:00
- Post Title: Re: Dead or Alive series formats and tools

Try what Roslin suggested,

if not work then let us know some more detail. could just be the wrong spot or miscalc somewhere.

here are a few suggestions in mean time.

1. Blank out other mesh groups that you're not using to single out the place you're working with.

2. If you're getting connections on different vertices than expected, Identify what the IDs are for those connections and compare them with the IDs where they're supposed to be (are you higher or lower). 

a few tests should establish where something has gone wrong, more often than not it's an error somewhere. I had the exact same thing happen to me at the start lol
## Post #1207
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2014-11-24T11:30:47+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Is there any other information that may be expecting slots on a per character basis?
Names in .bin file. For example, if you change slot from 00 to 01 then all names for (CHARACTER)_DLCU_001 must be replaced with (CHARACTER)_DLCU_002. At least it works for .--P (dlicon) file, but the game either crashes or gets stuck on the loading screen when costume in new slot is selected. Seems there is some other data that must be changed.

> Reply from Protocol X27
>
> 
Also, is this the checksum that needs to be edited to get the first three DLC's working again with uncompressed files?
Unlikely.
## Post #1208
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2014-11-24T21:50:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

Does anyone still lurkin' here use MMD? I've seen some great and not so great things done with it but I don't really understand how it works.... :\
## Post #1209
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-11-25T02:19:02+00:00
- Post Title: Re: Dead or Alive series formats and tools

@ros, lsc

I had the values right except the (-1),  I think have more of an issue putting the new values in the correct spot and knowing how many values there should be like the FF FF, etc.  Originally I but the 3 values... 1CD2 1CD4 1CD6 at the end of the index group.  That was drawing a face from the last vert to the others... I then tried adding them after the first occurrence of 1CD2, I think the face is almost in the right spot, but it's still flipped, and I think off by a vert.  How do I know where I should insert values?

@sf234

Would it seem likely that changing a costume from    charA_DLCU_001 to charB_DLCU_001, would have the same effect?
## Post #1210
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-11-25T04:03:54+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from MisterNatal
>
> Does anyone still lurkin' here use MMD? I've seen some great and not so great things done with it but I don't really understand how it works.... :\

Miku Miku Dance?? Are you referring to the videos I've uploaded??

[https://www.youtube.com/watch?v=BE9yq5IuIaI](https://www.youtube.com/watch?v=BE9yq5IuIaI)

I made a tutorial here explaining how to import doa5u models in 3ds max and I'm gonna post a tutorial explaining how to map any biped skeleton character to mmd, It's pretty simple and the process is very similar to what you do in 3d exchange or motion builder.
## Post #1211
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2014-11-25T08:07:22+00:00
- Post Title: Re: Dead or Alive series formats and tools

just a note. this:

```

```
is the version of the file list. you know that inside the 'xbe' file there is a file list that describes the names/sizes/encryption of all files. but with every patch they change this file list by adding/deleting files from it, so after every patch some files get a different position in this list. doa5 vanila had version 0 after first patch it was 1 and after the second patch it got 2, doa5u came with version 3 and so on. you can find the position of a file in a certain version of the file list by looking in the blp file(which contains info about position of containing files inside the file list).
so, if you want to swap a costume in dlc, you should also change it's info inside the blp file, and one of the important parts is it's position in the given file list. you have a chance to find a position relatively to the position you know. like(for example) in blp you have costume_01 at position 500, then you have a look at the existing file list and find that costume_02 is 4 files away from costume_01 and you can presume that costume_02 is at position 504.
so, when swapping costumes(with new costume slots) you have also to guess the new positions in the file table, to fix them in the blp....
## Post #1212
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-11-25T14:14:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Prot

Do you remember what I told you about [CCW-CW-CCW-CW] before?
[download/file.php?id=7968](http://forum.xentax.com/download/file.php?id=7968)
## Post #1213
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-11-26T01:34:27+00:00
- Post Title: Re: Dead or Alive series formats and tools

@b0ny, that's what I was thinkin'. I haven't made any progress with patch stuff yet.  

@ros, Thanks, I tend to forget, if a long time lapses in between working on some stuff.  So I need to switch the values the face itself seems flipped inward, should that be solved be changing them as your image suggests?
## Post #1214
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-11-26T02:34:28+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Prot
exactly.
If you want to start a face with clock wise order indices, for example a,b,c,... then you just make it b,a,b,c...
then it will face right side.
## Post #1215
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2014-11-30T20:31:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

b0ny

> Reply from b0ny
>
> just a note. this:
Code: Select allXX : DLC Grouping				DLC for TU 1.09 works within range 03..06
is the version of the file list.
Well, seems the game reads this value from .bcm only for purpose of filtering old/non-existing DLCs since changing this value within 03..06 range doesn't affect game in any visible way. For example, I changed the "Police" DLC's .bcm from 06 to 03 and it works just fine.
As for the file name position - you're right. Just swapping positions for tmc/tmcl files was enough for the game to load costume in new slot.

Protocol X27

> Reply from Protocol X27
>
> 
Would it seem likely that changing a costume from    charA_DLCU_001 to charB_DLCU_001, would have the same effect?
Didn't tried it yet, but I think effect will be the same.

--------------------

Made a small program for .bcm files editing.
Credit for characters IDs goes to b0ny.
[viewtopic.php?p=101431#p101431](http://forum.xentax.com/viewtopic.php?p=101431#p101431)
## Post #1216
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-12-04T14:28:51+00:00
- Post Title: Re: Dead or Alive series formats and tools

Dead or Alive 5 Last Round is coming to steam in the same release date as nextgen consoles.
## Post #1217
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-12-04T18:53:39+00:00
- Post Title: Re: Dead or Alive series formats and tools

good news, going to totally dig that anti aliasing.
## Post #1218
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-12-04T23:44:47+00:00
- Post Title: Re: Dead or Alive series formats and tools

Now it's not the matter of anti-aliasing.
It's going to be about enb, 1080p, 4k resolution.

I hope TMC, TMCL file structure should stay unchanged.
## Post #1219
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2014-12-05T05:41:11+00:00
- Post Title: Re: Dead or Alive series formats and tools

could be nice with DOF effects for photoes.
Though I'm too skeptical to hope for too much atm.

Wonder if they'll include the new hair and stages, they literally have no excuses not to include them now.
Unlike all that "360/ps3 cant handle new hair styles" bs.
## Post #1220
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-12-05T06:58:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> could be nice with DOF effects for photoes.
Though I'm too skeptical to hope for too much atm.

Wonder if they'll include the new hair and stages, they literally have no excuses not to include them now.
Unlike all that "360/ps3 cant handle new hair styles" bs.

Actually yes, DOA5LR is gonna be available for 360 and PS3 too:

[http://teamninja-studio.com/doa5/lastround/us/top.html](http://teamninja-studio.com/doa5/lastround/us/top.html)
[http://teamninja-studio.com/doa5/lastro ... tInfo.html](http://teamninja-studio.com/doa5/lastround/us/productInfo.html)

Edit, it seems it's not gonna be possible.
## Post #1221
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2014-12-07T10:28:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Made a small program for .bcm files editing.
Credit for characters IDs goes to b0ny.
Updated version are attached to this post. Functionality of "Open" (editing .bcm) is same, while "New" allows to create DLC files for one character/costume from scratch.
Notes on creating DLC:

Minimum necessary set of files are: *.TMC, *.TMCL, *.---C, *.--P. File names are irrelevant. File extensions should strictly follow the example.
Filenames for additional textures should look like this: *1.--H, *1.--HL, *2.--H, etc. Don't forget to change "Add. textures" count when adding these textures.
If your costume with additional textures crashes the game - check *.--H files (they should start with "texch"). Refer to this post: viewtopic.php?p=98718#p98718
Don't forget to change costume slot. Default (0) is likely already used. See "Free slots.txt".

"dlc5u.dat" is DLC section of file names table (for 1.09 version of the game). Interesting notes on it:
Some names for some characters are skipped. Hence the difference in numeration between names table and archivarius' database.
For some characters names of .--P files starts from 2/5/7 instead of 1 for the first file. They are listed with wrong names for the sake of name matching.
Lisa's costume in "Halloween Costume 2014 Set" DLC uses "MILA_DLCU_018" name. Seems, game checks only part of file name (slot number). Maybe it's possible to use other characters' free names. - it was just error in doa5Uarchivarius.dat.
To find file's name position (for .blp entry), use the line number - 1 (converted to hex, of course).

-------------------

Update: "New" now works for several characters.
[5U DLC Tool.7z](https://xentaxbackup.github.io/file/8227_5U DLC Tool.7z)
## Post #1222
- Username: aagems
- Rank: advanced
- Number of posts: 75
- Joined date: Thu May 31, 2012 1:07 am
- Post datetime: 2014-12-09T15:39:58+00:00
- Post Title: Re: Dead or Alive series formats and tools

Can anyone recommend me a link for good DOA online mods,i know b0ny has it in previous page ,but some of the link is dead.Oh, i forgot, does anyone still have this file "DoAOLoaderC5.7z". the link on rghost is deleted. Thanks
## Post #1223
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-12-09T17:49:49+00:00
- Post Title: Re: Dead or Alive series formats and tools

@sf, Hardcore!  Thanks, lookin' forward to checking out the features. 

***

Christmas DLC is up
## Post #1224
- Username: porimac
- Rank: VIP member
- Number of posts: 109
- Joined date: Wed Sep 08, 2010 11:46 pm
- Post datetime: 2014-12-11T14:47:01+00:00
- Post Title: Re: Dead or Alive series formats and tools

```
BS61U@10T100U1@EI1]U]D129J4S3H1R1BJ1BAT6I1Q{UD61KL913 SOMEONE_PANTS.--HL

```

hmm, strange
when try to convert it with tecmo360texturesExtractorV15.py was crashed..but it could convert to dds 

doa5Uarchivarius.dat please...
## Post #1225
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-12-11T15:08:27+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from porimac
>
> Code: Select all7T97S@10TU1210@9T]]K128LSH1765912I1TP19162{J1U251KK914　SOMEONE_PANTS.--H
BS61U@10T100U1@EI1]U]D129J4S3H1R1BJ1BAT6I1Q{UD61KL913 SOMEONE_PANTS.--HL

hmm, strange
when try to convert it with tecmo360texturesExtractorV15.py was crashed..but it could convert to dds 

doa5Uarchivarius.dat please...

I already have it but it's incomplete, I don't know the character's owner of those pants.

Edit:

Hitomi's pantys

Look for the terminanations in the dat file using the search function in notepad++

For example:

J1U251KK914

And note which character is sharing that termination.

The ones I couldn'd find:

> 7RU72@T212104512@710S]]J129KQ1RG1P1I1S3BAH1Q{9A81IKB12
>
> 7SU72@10T1004U12@810T]]K129LR1SH1Q1J1T3BAH1R{9A81IKB12
>
> 7TU72@10T1004U12@810T]]K129LR1SH1Q1J1T3BAH1R{9A81IKB12
>
> 7U160@10S1003T12@710S]]J129KQ1RG1P1I1S3BAI1Q{9A81IKB12
[doa5Uarchivarius.7z](https://xentaxbackup.github.io/file/8246_doa5Uarchivarius.7z)
## Post #1226
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2014-12-11T19:54:54+00:00
- Post Title: Re: Dead or Alive series formats and tools

Darko
You can use dlc5u.dat to find an DLC name (pay attention to the notes): [viewtopic.php?p=101431#p101431](http://forum.xentax.com/viewtopic.php?p=101431#p101431)

```
7SU72@10T1004U12@810T]]K129LR1SH1Q1J1T3BAH1R{9A81IKB12	PHASE4_DLCU_014_002.--H
7TU72@10T1004U12@810T]]K129LR1SH1Q1J1T3BAH1R{9A81IKB12	PHASE4_DLCU_014_003.--H
7U160@10S1003T12@710S]]J129KQ1RG1P1I1S3BAI1Q{9A81IKB12	PHASE4_DLCU_014_004.--H
```
## Post #1227
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-12-11T22:17:00+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Darko
You can use dlc5u.dat to find an DLC name (pay attention to the notes): viewtopic.php?p=101431#p101431
Code: Select all7RU72@T212104512@710S]]J129KQ1RG1P1I1S3BAH1Q{9A81IKB12	PHASE4_DLCU_014_001.--H
7SU72@10T1004U12@810T]]K129LR1SH1Q1J1T3BAH1R{9A81IKB12	PHASE4_DLCU_014_002.--H
7TU72@10T1004U12@810T]]K129LR1SH1Q1J1T3BAH1R{9A81IKB12	PHASE4_DLCU_014_003.--H
7U160@10S1003T12@710S]]J129KQ1RG1P1I1S3BAI1Q{9A81IKB12	PHASE4_DLCU_014_004.--H

Thanks, but... is there gonna be 32 costumes per female character?? that's fucking insane, I'm not surprise that Itadaki complained about what koei-tecmo and tm were doing to the franchise he created.
## Post #1228
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2014-12-12T04:31:27+00:00
- Post Title: Re: Dead or Alive series formats and tools

Darko
I think it's rather future-proof, so they don't need to release title updates (with additional names) for every new DLC. Also, with release of LR, DLCs names very likely to be changed.

-----------------

Here a small tool for converting .blp file entries to doa5Uarchivarius.dat entries (useful for new DLCs, or adding incompleted entries for old ones).
[blp Converter.7z](https://xentaxbackup.github.io/file/8264_blp Converter.7z)
## Post #1229
- Username: JohnHudeski
- Rank: mega-veteran
- Number of posts: 177
- Joined date: Thu Mar 03, 2011 5:38 am
- Post datetime: 2014-12-12T09:33:40+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hi guys Is there any way to check is this is the same File format as DOA?

I have checked the file structure and really don't feel like writing a converter
Thanks
[TEST_BLOOD_A.zip](https://xentaxbackup.github.io/file/8260_TEST_BLOOD_A.zip)
## Post #1230
- Username: JohnHudeski
- Rank: mega-veteran
- Number of posts: 177
- Joined date: Thu Mar 03, 2011 5:38 am
- Post datetime: 2014-12-12T10:03:22+00:00
- Post Title: Re: Dead or Alive series formats and tools

BTW what is swizzling?
## Post #1231
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-12-14T02:16:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

@sf234
You genius!
## Post #1232
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-12-16T01:08:46+00:00
- Post Title: Re: Dead or Alive series formats and tools

Merry Christmas guys   

[http://youtu.be/bZBroiFzLn4](http://youtu.be/bZBroiFzLn4)
## Post #1233
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-12-16T01:23:53+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from JohnHudeski
>
> Hi guys Is there any way to check is this is the same File format as DOA?

I have checked the file structure and really don't feel like writing a converter
Thanks

> Reply from JohnHudeski
>
> BTW what is swizzling?

.xpr's are the older containers used in DOAX2 and Ninja Gaiden.  I recall reading that there are similarities, but I don't know much about them.

Swizzling is the process of rearranging  (or the opposite??)  of an image so that sections are tiled in such a way that they are more easily accessed.  Usually a routine is needed to output them and do the calculation automatically.

***

@sf234... Ummm, wow... wow... wow,  lol

Both the blp editor and the DLC tool are freakin' incredible.
## Post #1234
- Username: JohnHudeski
- Rank: mega-veteran
- Number of posts: 177
- Joined date: Thu Mar 03, 2011 5:38 am
- Post datetime: 2014-12-16T09:38:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

If I pretend as if i understood that would you consider pointing me in the right direction?
I need to convert the textture to bmp, png or tga
## Post #1235
- Username: game01er
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Thu Dec 27, 2012 7:05 pm
- Post datetime: 2014-12-16T14:09:51+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> Merry Christmas guys   

http://youtu.be/bZBroiFzLn4
  Wonderful, i liked

thanks
## Post #1236
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2014-12-18T15:11:09+00:00
- Post Title: Re: Dead or Alive series formats and tools

@sf234
How can I handle hair styles settings of original costumes for Nyotengu?

In DLC 18, there's no bcm file for original 9 costumes.
## Post #1237
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-12-19T02:36:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from JohnHudeski
>
> If I pretend as if i understood that would you consider pointing me in the right direction?
I need to convert the textture to bmp, png or tga

I don't know how swizzling is normally accomplished.  Mariokart had an util that did that, but it still required knowing the dimensions and which format.    

I tried opening the .xpr you posted in b0ny's texture extractor.  Looks like it recognizes the file type, but only as something without an extension.  Unfortunately, I'm not sure what else to try since I haven't worked with anything .xpr related in quite some time.  Where did that file originate? (which game)
## Post #1238
- Username: zaykho
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2014-12-19T03:03:26+00:00
- Post Title: Re: Dead or Alive series formats and tools

UE Viewer is open source now and has xbox 360 tiling code it in (swizzling)
[https://github.com/gildor2/UModel/blob/ ... exture.cpp](https://github.com/gildor2/UModel/blob/master/Unreal/UnTexture.cpp)
## Post #1239
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-12-28T01:29:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

Looks like a collective absence lately. XD

sf's app is coming in really useful for bypassing issue with existing containers.    And for testing NG3 models and auto solving head/hair conflicts.  

I started testing some of the NPC characters, and most need to some basic adjustments like Mizuki, Lovelace, etc.  I'm working on Mizuki, but I'm having a serious issue with getting the thumb working correctly since NG models are T posed whereas DOA models are A posed.  I can fix the arms & legs without issue, but the thumb doesn't want to cooperate even after fixing the HieLay & Bone offsets.   

Anyone know which values that represent bone coordinates in the TMC? 

Edit: Resolved.
## Post #1240
- Username: dick12121
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Tue Jun 26, 2012 10:18 pm
- Post datetime: 2014-12-28T12:14:52+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hi, how do I hide single mesh in the model of DOA5U?

I have change the size of a mesh to zero, but when character moves in game, the updated mesh becomes wired shape.
I'm using "DOA5 Vertex Injector.ms" as the video shows.

[http://s13.zetaboards.com/digiplay/topic/7048488/1/](http://s13.zetaboards.com/digiplay/topic/7048488/1/)
[https://www.youtube.com/watch?v=uXfie1kvVfk](https://www.youtube.com/watch?v=uXfie1kvVfk)

Thanks,
## Post #1241
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2014-12-28T21:02:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from dick12121
>
> Hi, how do I hide single mesh in the model of DOA5U?

I have change the size of a mesh to zero, but when character moves in game, the updated mesh becomes wired shape.
I'm using "DOA5 Vertex Injector.ms" as the video shows.

http://s13.zetaboards.com/digiplay/topic/7048488/1/
https://www.youtube.com/watch?v=uXfie1kvVfk

Thanks,

There are a few of methods to achieve this, Reasons for each could vary.  The reason the mesh pulls out is because the vertices still have the bone weight associated.  If you use the method in the video to compress a shirt with sleeves and hide it inside the body.  The areas with elbow or shoulder bones may still attempt to move relative to their positions.  

Method 1: Hide the mesh group.  Identify the group you compressed in 3dsmax and take note of the number by selecting one of its faces.  

You'll have to find the corresponding ObjGeo object in a hex editor and A) reduce the count of objects for the ObjGeo group and B ) Remove the index for that removed object.  

It should look like changing picture A to B
A)
[](http://s1064.photobucket.com/user/ProtocolX27/media/Tutorial/MeshGroupHideA_zps9d07a8bf.jpg.html)
B)
[](http://s1064.photobucket.com/user/ProtocolX27/media/Tutorial/MeshGroupHideB_zpsdf829a7e.jpg.html)

In the above pictures I found an ObjGeo group and removed the first mesh object. (No idea which one it was)  I changed the number of objects (0E to 0D)  and then removed the first index.  I also had to pad the end of the index entries with 00's so that all other data retained their positions. 

Method 2: Compress mesh group only as necessary.  Using the shirt example again.  If the shirt is scaled down just enough so that it is hidden with a body mesh, it shouldn't poke through during animations as long as most verts are near their original positions.  Usually scaling something about 90% on on three axes can sometimes accomplish this depending on the mesh.  This requires a bit more effort than just compressing everything down to one exact point in the 3D mesh. 

Method 3:  (Conditional) Use transparency to hide a portion of the mesh.  I only explain this in greater detail of the above two do not work.  It can still leave shadows, or will not work if a mesh object has multiple texture layers.  It involves changing the alpha layer of a texture and changing flags, there's been some information on that, but this seems to only be useful under more specific circumstances.

***

Figured out my issue with bones.  I must not have re-imported into 3dsmax after updating offsets.  Still didn't help much with the thumbs which still require some manual vertex adjustment, but beyond that NPC's are of reasonably use-able condition.

[](http://s1064.photobucket.com/user/ProtocolX27/media/Mods/Momiji-MizukiSample_zpsf2be95b6.jpg.html)
## Post #1242
- Username: dick12121
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Tue Jun 26, 2012 10:18 pm
- Post datetime: 2014-12-31T17:49:17+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Protocol, Thank you so much!!
Method 1 worked!
## Post #1243
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-01-04T03:13:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

Awesome, glad to help!
## Post #1244
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-01-23T04:43:05+00:00
- Post Title: Re: Dead or Alive series formats and tools

I assume, folks are waiting for PC, hence the void of activity XD

I finally had a few discoveries for odd problems, not sure if all will be relevant once PC drops or not. 

1) Had a weird shading bug with the skin. Was resolved by not having a white alpha layer for the body texture.  Probably had this one before and forgot.
2) Discovered that the controls for optional items reside in the ---C file.  Haven't solved the full pattern yet, but it somehow works in conjunction with the hair styles and toggles specific ObjGeo objects on or off.
3) Tested putting a different 'toggle-able' clothing item in another via injection, and the concept works great. 

***
I replaced one mesh object with another, but couldn't get the wet texture to line up.  Required several days to isolate it.  It wasn't the scaling, the MdlInfo, ObjGeo, oversized texture corruption.... It ended up being the Vertices. There was a difference in the last 4 vertex groups
Original Vertex Mesh UV's:     1, 2, 1, 1
New Vertex Mesh UV's:  1, 1, 1, 2

The values were similar but had a different pattern, switching the 9th and 11th values for all verts resolved it.  After all that I still couldn't figure out how to deactivate the wet texture altogether unless the UV values all need to be identical.  :-/
## Post #1245
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-01-23T09:54:51+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Protocol X27
Oh, you mean 11th group was also UV.
that sounds annoying.

***

I have a question.
There was multiple texture coordinate data in one vertex data (44).
If I want to get UV map from another byte blocks in 3dsMAX, how should I edit TMC_parser.ms?
Maybe it's only getting UV from 3rd(I don't exactly remember) one.
## Post #1246
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-01-24T05:01:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

Just a theory, but I think the last four vertex groups may be 2 pairs of UV... UV 1/2, UV 1/2

***
I don't know enough about 3dsmax, to use a different UV layer, I would guess, finding where it reads the first layer and replace with the 2nd if possible.  I don't even know how 3dsmax handles multiple layers.  I only saw it be an issue when using the export script to XNALara.
## Post #1247
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-01-24T05:25:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

I'm not talking about handling multiple UV layers in 3ds max.
I just want to edit TMC_Parser.ms to import another UV layer from another byte group, if the last 4 bytes represents another UV layer.
It seems that it can be simply done by editing one offset value. (but I don't know what is it.)

I wish to check the shape of it in 3DSmax, if the last one is also another UV layer.
I'm guessing it is related to dust texture on body.

***

And if the last 4 byte group and 7th group could be calculated, I might be able to put an whole new object into TMCL. [(Something like this)](http://media.moddb.com/images/articles/1/30/29046/auto/render10.jpg)
I figured out 7th group controls normal map in some ways.
ex) Something related to using x-flipped symmetrical normal map.

But I don't know how to calculate that 4 bytes exactly.
## Post #1248
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2015-01-25T07:24:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

Sorry for the inactivity, Can someone help me? I'm trying to learn how to extract DoA4 models because reasons but I haven't a clue on how to extract the data from the game
## Post #1249
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-01-25T14:10:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from MisterNatal
>
> Sorry for the inactivity, Can someone help me? I'm trying to learn how to extract DoA4 models because reasons but I haven't a clue on how to extract the data from the game

Use noesis.
## Post #1250
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2015-01-26T05:30:32+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> MisterNatal wrote:Sorry for the inactivity, Can someone help me? I'm trying to learn how to extract DoA4 models because reasons but I haven't a clue on how to extract the data from the game

Use noesis.
Well yes but how do I get the models from the game though? Dx
## Post #1251
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-01-26T07:29:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from MisterNatal
>
> Darko wrote:MisterNatal wrote:Sorry for the inactivity, Can someone help me? I'm trying to learn how to extract DoA4 models because reasons but I haven't a clue on how to extract the data from the game

Use noesis.
Well yes but how do I get the models from the game though? Dx

Download the blender pack I uploaded here:

[https://onedrive.live.com/?cid=FFBE4E57 ... 49FCBE!281](https://onedrive.live.com/?cid=FFBE4E570949FCBE&id=FFBE4E570949FCBE!281)

It has all bony's scripts and install the python version I uploaded.
## Post #1252
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-01-29T18:56:52+00:00
- Post Title: Re: Dead or Alive series formats and tools

PC versions been delayed
## Post #1253
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-01-30T02:20:20+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> PC versions been delayed

>_<'
## Post #1254
- Username: Baal
- Rank: n00b
- Number of posts: 10
- Joined date: Thu Oct 16, 2014 12:33 am
- Post datetime: 2015-02-09T17:19:47+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hi guys ! 
It feel like a decade since i last posted in a DOA modding thread ^^
With the upcoming PC version, and the probably ton of new persons that will give DOA a try, i was wondering where would we share our progress and tools. Here ? Somewhere else ? Does anybody also thought of that or I'm asking myself useless questions ^^?
Also, it look like coregrafx.info is dead. I wonder if this is just for me, but each time i try to get there i get a "Lolipop" untranslatable screen.
## Post #1255
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-02-10T03:06:34+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hey Baal, 

Good to see ya again.  I noticed you've been keeping up the fight on FSD.  Funny how non-modders think it'll be so easy to overhaul everything about the game, lol.  

I'll still post stuff here once I get a crack at some new data.  I think I got burnt out with the complexity of the more recent mods that I did.  I've been making an effort to work on extraction & stuff for some other games during the wait, but I've just been plain short on time all around.  

PC delay is only an inconvenience.  There will be at least some stuff to mess with during the wait even if 360 doesn't get the full amount of content.  

***

@MisterNatal, past DOA games use to store stuff in .afs containers.  Do you have access to the games RAW data or are you asking how to do that?
## Post #1256
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-02-10T05:43:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

I tried to put normal map back into TMCL but it looks fragmented partly, especially for arms.
It worked before, but It doesn't work for some other models with other textures.


I tried to do it with mario's way, I could untile it, but I couldn't swizzle it back to original image with any options.

I guess it happens because some normal map(Volume Texture) have different file type.
They had same resolution(512x1024) but had different file size.

Is there any solution for that?

```
----

```

This was code for how to untile it.
How can I reverse it?
## Post #1257
- Username: Esppiral
- Rank: n00b
- Number of posts: 11
- Joined date: Thu Aug 14, 2014 11:39 pm
- Post datetime: 2015-02-10T15:09:58+00:00
- Post Title: Re: Dead or Alive series formats and tools

Dead or alive 2 needs more love.
## Post #1258
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-02-11T05:36:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

Oh, I could reverse it by myself.
It was fun to do.
I added at the end.
[swizzle ini.zip](https://xentaxbackup.github.io/file/8639_swizzle ini.zip)
## Post #1259
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-02-14T04:38:38+00:00
- Post Title: Re: Dead or Alive series formats and tools

Well, I've checked the last UV group in 44, yes it was one for the dust texture UV.
But one thing important is, the shape of UV varies with the model, not like other skin textures.
So when you mix the parts or export vertex data to another model, you should think about this.
## Post #1260
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-02-17T22:44:27+00:00
- Post Title: Re: Dead or Alive series formats and tools

Can someone dump blc names pls for the new tittle update?? I already have all momoka's dlc costumes, but patch files are a real mess.
## Post #1261
- Username: porimac
- Rank: VIP member
- Number of posts: 109
- Joined date: Wed Sep 08, 2010 11:46 pm
- Post datetime: 2015-02-17T23:07:17+00:00
- Post Title: Re: Dead or Alive series formats and tools

just honoka bodies..

```
BT062@1S100@CF1]H]B1834D64K14F1PQ31M1D163{R85181H Honoka_Santa.TMCL

2U052@1S100@BE1G]]I1835C64K1F1PQ31M1D193{R85181H Honoka_Cheer.TMC
BU062@1S100@CF1]H]B1834D64K14F1PQ31M1D163{R85181H Honoka_Cheer.TMCL

2V052@1S100@BE1G]]I1835C64K1F1PQ31M1D193{R85181H Honoka_Bunny.TMC
BV062@1S100@CF1]H]B1834D64K14F1PQ31M1D163{R85181H Honoka_Bunny.TMCL

2W052@1S100@BE1G]]I1835C64K1F1PQ31M1D193{R85181H Honoka_Nurse.TMC
BW062@1S100@CF1]H]B1834D64K14F1PQ31M1D163{R85181H Honoka_Nurse.TMCL

2X052@1S100@BE1G]]I1835C64K1F1PQ31M1D193{R85181H Honoka_Maid.TMC
BX062@1S100@CF1]H]B1834D64K14F1PQ31M1D163{R85181H Honoka_Maid.TMCL

```
## Post #1262
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-02-18T01:46:29+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks, pori. 

Ya, I noticed that the blp converter isn't reading anything of Honoka's.  It looks like all of the other stuff is just the included costumes from other DLC's for the regular characters.  I didn't see any of the new costumes automatically updated.  :-/  

***
@Ros, sorry for missing your question on the reversal.  I had a modified swizzle.ini, from way back when, but wasn't sure if it had the resolution you needed. Haven't used that app in a long time.  

***
Looks like Sony is spotty in uploading various DLC, not that it helps much just yet anyway.  :-/
## Post #1263
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-02-18T03:00:33+00:00
- Post Title: Re: Dead or Alive series formats and tools

Well.. she has quite unique structure and... missing lots of vertices.

@prot
Never mind. I was able to do it and it was quite fun.
Anyway, it seems that there's two types of volume texture map(3d normal map) and b0ny's tool can only handle one of it. I could guess there's some sort of bug.
His tool untile the normal map when it's injected. but it's messed up. maybe there's some problem with tilling algorithm or file structure problem.

so I used another method and it worked.
## Post #1264
- Username: migzomgwtf
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sun Feb 27, 2011 8:45 pm
- Post datetime: 2015-02-18T05:50:10+00:00
- Post Title: Re: Dead or Alive series formats and tools

My attempt to contribute something meaningful:

```
B50J2_ADA1221]FB12]]2052OK11DL31EL1E1K43{NF Honoka Face.tmcl
```
## Post #1265
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-02-18T06:43:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

Dat updated, some crap may be missing, not included the --h files, LR costumes renamed as charater_lr_xxx, some old dl crap repeated in one of the files.
[doa5Uarchivarius.7z](https://xentaxbackup.github.io/file/8697_doa5Uarchivarius.7z)
## Post #1266
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-02-18T06:52:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Darko

Thank you so much darko.
## Post #1267
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-02-18T06:57:39+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Rosalin
>
> @Darko

Thank you so much darko.

No problem.
## Post #1268
- Username: porimac
- Rank: VIP member
- Number of posts: 109
- Joined date: Wed Sep 08, 2010 11:46 pm
- Post datetime: 2015-02-18T08:45:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> Dat updated, some crap may be missing, not included the --h files, LR costumes renamed as charater_lr_xxx, some old dl crap repeated in one of the files.
Thanks Darko   but..

line 12641

```

```

probably its TMC file....i could not found 'Marie_LR_002.TMCL' 
and i need pantsu textures
## Post #1269
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-02-18T10:40:30+00:00
- Post Title: Re: Dead or Alive series formats and tools

all old mods seem to still work after update.

The new characters........"new" *cough* characters, wtf with all the recycled moves??????????
## Post #1270
- Username: zareef
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Thu Sep 04, 2014 1:27 pm
- Post datetime: 2015-02-18T12:48:11+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> Dat updated, some crap may be missing, not included the --h files, LR costumes renamed as charater_lr_xxx, some old dl crap repeated in one of the files.

Thank you very much, man
## Post #1271
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-02-18T14:19:43+00:00
- Post Title: Re: Dead or Alive series formats and tools

UV Swapper.zip
(11.12 KiB) Downloaded 83 times


a tool for switching UV order
## Post #1272
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-02-19T00:59:39+00:00
- Post Title: Re: Dead or Alive series formats and tools

Here's updated version of DLC Tool for Last Round support. Dunno what Raidou's ID, so he is not included (although his filenames are already in dlc5u.dat). Updated dlc5u.dat can be used with .blp Converter (note: Honoka/Raidou filenames use "(character)_DLCU_" for compability with DLC Tool).
[viewtopic.php?p=104225#p104225](http://forum.xentax.com/viewtopic.php?p=104225#p104225)

> Reply from Rosalin
>
> @sf234
How can I handle hair styles settings of original costumes for Nyotengu?

In DLC 18, there's no bcm file for original 9 costumes.
Seems like Tecmo uses different ID system for costumes/files with "(character)_COS_" filename (hence strange output in DLC Tool for DLC with new characters (Nyotengu, Last Round update, etc)). Looks like the only way to handle hairstyles for original costumes is to create new DLC (in free slot) with these costumes' files.
## Post #1273
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-02-19T02:39:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks to all for the quick utility updates.   

It really is a surprise that so much was included in the patch especially since it was originally assumed that characters would be included by not the costumes.  

There's some decent meshes included.  Leifang's was almost a winner, lol.  Nothing useful for Honoka... yet.  Hopefully Costume Catalog 1 shows up at some point.  It has all of the pre-order stuff for the current gen stuff, so she should have a could reasonable meshes in there.  

Nice to see that everything else still works too.  Since the costumes are similar, hopefully that suggests other consoles/PC have minimal alterations needed once moddable.
## Post #1274
- Username: foxdemon90210
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Thu Dec 22, 2011 6:12 am
- Post datetime: 2015-02-19T04:23:07+00:00
- Post Title: Re: Dead or Alive series formats and tools

Seems like Marie has 2 outfits in the LR update files BUT the 2nd one doesn't open what so ever. wonder what that can be O_o and same for Rachel she has 2 one that doesn't show in game but  can be opend
## Post #1275
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2015-02-19T06:23:30+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from foxdemon90210
>
> Seems like Marie has 2 outfits in the LR update files BUT the 2nd one doesn't open what so ever. wonder what that can be O_o and same for Rachel she has 2 one that doesn't show in game but  can be opendsome are mis-named, liek Rachel's second one I believe is Pai's and Brad has 2 because one is Bass? i can't remember but i was disappointed to not see Jacky but whateves I should probably ask how to decode the files to be of SOME use..
## Post #1276
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-02-19T07:34:17+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from foxdemon90210
>
> Seems like Marie has 2 outfits in the LR update files BUT the 2nd one doesn't open what so ever. wonder what that can be O_o and same for Rachel she has 2 one that doesn't show in game but  can be opend
I also want to know why.
## Post #1277
- Username: darkagent
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Mon Dec 19, 2005 5:19 am
- Post datetime: 2015-02-19T18:36:01+00:00
- Post Title: Re: Dead or Alive series formats and tools

Honoka's normal map for her body, doesn't fix/match her uv's at all. seems as if she has totally different normal maps. also were is her head located?
## Post #1278
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-02-20T06:56:00+00:00
- Post Title: Re: Dead or Alive series formats and tools

> seems as if she has totally different normal maps.
Normal map texture is just fine. Problem is UV.

There's another UV map in honoka's model.
I'm not sure about the order, but you can find them all by swapping orders.

or if you can edit tmc praser, then you can find it also. (I don't know how.)
## Post #1279
- Username: darkagent
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Mon Dec 19, 2005 5:19 am
- Post datetime: 2015-02-20T08:11:53+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Rosalin
>
> seems as if she has totally different normal maps.
Normal map texture is just fine. Problem is UV.

There's another UV map in honoka's model.
I'm not sure about the order, but you can find them all by swapping orders.

or if you can edit tmc praser, then you can find it also. (I don't know how.)
what is swapping?
## Post #1280
- Username: Baal
- Rank: n00b
- Number of posts: 10
- Joined date: Thu Oct 16, 2014 12:33 am
- Post datetime: 2015-02-20T17:27:17+00:00
- Post Title: Re: Dead or Alive series formats and tools

Do you guys knows where could i post pics of my incoming work ? Coregrafx was perfect but it's dead... And DA is not really the most quiet place of the internet :/
Any idea ?
(Also, since coregrafx is dead, we have no way to follow penguin's work... Such a pity...)
## Post #1281
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-02-20T21:48:19+00:00
- Post Title: Re: Dead or Alive series formats and tools

is it dead or can you just use a vpn
## Post #1282
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-02-20T23:11:13+00:00
- Post Title: Re: Dead or Alive series formats and tools

I guess it's totally dead.

***

> Reply from foxdemon90210
>
> Seems like Marie has 2 outfits in the LR update files BUT the 2nd one doesn't open what so ever. wonder what that can be O_o and same for Rachel she has 2 one that doesn't show in game but  can be opend
I checked and..it seems that there's only one Marie's costume in LR catalog file.
I grabbed all extracted files and searched for "mar_body_base", but it appeared only one time.

seems that dat is linking wrong file.
## Post #1283
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-02-24T01:34:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> Dat updated, some crap may be missing, not included the --h files, LR costumes renamed as charater_lr_xxx, some old dl crap repeated in one of the files.
Corrected version attached to this post.

------------------------

There is a strange bug when extracting files with doa5Uarchivarius while using .blp Converter generated entries in doa5Uarchivarius.dat (for example: KASUMI_DLCU_014.---C/KASUMI_DLCU_014_001.--HL files in "Nurse Costumes" DLC). Seems like doa5Uarchivarius' code have function for auto-search corresponding .blp entries which works even when proper entries are already in doa5Uarchivarius.dat. In the end it finds wrong entry (e.g. LEIFANG_DLCU_014.TMC's entry for KASUMI_DLCU_014.---C file) and either crashes or extracts corrupted files. For now, workaround is either remove or rename content_data.blp file before using doa5Uarchivarius.
[doa5Uarchivarius.7z](https://xentaxbackup.github.io/file/8744_doa5Uarchivarius.7z)
## Post #1284
- Username: porimac
- Rank: VIP member
- Number of posts: 109
- Joined date: Wed Sep 08, 2010 11:46 pm
- Post datetime: 2015-02-24T02:14:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Darko wrote:Dat updated, some crap may be missing, not included the --h files, LR costumes renamed as charater_lr_xxx, some old dl crap repeated in one of the files.
Corrected version attached to this post.

------------------------

There is a strange bug when extracting files with doa5Uarchivarius while using .blp Converter generated entries in doa5Uarchivarius.dat (for example: KASUMI_DLCU_014.---C/KASUMI_DLCU_014_001.--HL files in "Nurse Costumes" DLC). Seems like doa5Uarchivarius' code have function for auto-search corresponding .blp entries which works even when proper entries are already in doa5Uarchivarius.dat. In the end it finds wrong entry (e.g. LEIFANG_DLCU_014.TMC's entry for KASUMI_DLCU_014.---C file) and either crashes or extracts corrupted files. For now, workaround is either remove or rename content_data.blp file before using doa5Uarchivarius.
i wish support more "HONOKA_DLCU_00*.--H/--HL" in content_data.bin...
but thank you, sf234
## Post #1285
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-02-24T16:27:22+00:00
- Post Title: Re: Dead or Alive series formats and tools

porimac
Here's version that should 100% support 5U/LR DLCs (content_data part): [viewtopic.php?p=103946#p103946](http://forum.xentax.com/viewtopic.php?p=103946#p103946)
Just remember:

> Reply from sf234
>
> 
There is a strange bug ... For now, workaround is either remove or rename content_data.blp file before using doa5Uarchivarius.
## Post #1286
- Username: zareef
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Thu Sep 04, 2014 1:27 pm
- Post datetime: 2015-02-24T17:08:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

@sf234
Thank you very much..

[EDIT]: Looks like some TMC/TMCL files are misnamed. The previous version was fine in this regard.
## Post #1287
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-02-24T20:12:07+00:00
- Post Title: Re: Dead or Alive series formats and tools

zareef
Please point out these files.
## Post #1288
- Username: porimac
- Rank: VIP member
- Number of posts: 109
- Joined date: Wed Sep 08, 2010 11:46 pm
- Post datetime: 2015-02-24T20:38:53+00:00
- Post Title: Re: Dead or Alive series formats and tools

i think sf234's dat is correctly
HONOKA_DLCU_001~002 is not available yet...actuality.
## Post #1289
- Username: zareef
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Thu Sep 04, 2014 1:27 pm
- Post datetime: 2015-02-25T00:10:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> zareef
Please point out these files.

Sorry, I got an error when I tried to view a couple of Honoka's models with Noesis, so I thought something was wrong as with Marie Rose previously, but now all files seem to be working fine.. I don't know what happened. Sorry again and thanks a lot for your hard work.
porimac is right, HONOKA_DLCU_001~002 are not in the files, I wonder what they will be.. All her released costumes are already in this DLC.
## Post #1290
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-02-25T01:48:31+00:00
- Post Title: Re: Dead or Alive series formats and tools

Checked out the Ninja DLC today... Nothing too special.  In general costumes are solid, but meshes are average.  

Everything worked from the BLP converted I had except Honoka's.  Was easy to find since it was the only not to convert, but I haven't tried with the new version yet.  

***
I got punk'd today.  I don't think I've modded anything in like a month.  I finish doing an injection sucessfully after feeling rusty, only to find out all of the clothing pieces were merged into one mesh.     

Oh well, glad 360 is getting some stuff until PC drops to pass the time.  Really hope PC get's PS4/XBO's features.

***

Not sure of an alternate posting place.  It depends on how TN reacts to modding.  If they ignore low key stuff, maybe it won't have to all that underground.  Time will tell.
## Post #1291
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-02-25T02:08:59+00:00
- Post Title: Re: Dead or Alive series formats and tools

I feel that I want to build a new flawless body mesh, not a lisa's one, but until we get no information about modeling file structure on PC version, it's going to be a total waste of time and energy.
Because main stage is going to be PC anyway.

About the PC modding, I don't feel that I got any key about it.
Because I have no skill about file analysis and hacking.

I might be able to build a pretty strawberry cake. Because I got a strawberry.
But someone should teach me how to build a cake first.

I'm going to sit back and wait for a hero when the day comes.
## Post #1292
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-02-25T02:13:29+00:00
- Post Title: Re: Dead or Alive series formats and tools

Ros,
I find it doubtful that TN will rebuild the entire data structure to release for PC considering even PS4/XBO models are the same in terms of textures & meshes.  Even for that it appears that lighting and animations were the only stuff to change.  

Unless they do some heavy encryption for the game containers, I don't think there will be much to worry about.  I'm not skilled in that department, but there still seem to be enough motivated people who are.
## Post #1293
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-02-25T04:37:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

Updated version of doa5Uarchivarius.dat: [viewtopic.php?p=104223#p104223](http://forum.xentax.com/viewtopic.php?p=104223#p104223)
## Post #1294
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-02-26T03:00:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

@sf234

Do you know yet if DLC packages will function the same? Now that Honoka & Raidou are out, is there a way to rebuild single costume packages for them?
## Post #1295
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-03-01T11:58:55+00:00
- Post Title: Re: Dead or Alive series formats and tools

Protocol X27
I tested with Honoka's ID - seems to work fine.
## Post #1296
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-03-01T14:22:12+00:00
- Post Title: Re: Dead or Alive series formats and tools

When I use Last Round DLC (#25),
there's a lot of old duplicated costumes in it, and they overlap old modded DLCs.

How can I prevent from this problem?
I tried to use BCM tool and deleted them on the list from DLC #25, but still old DLCs are not working.

Any solutions?
## Post #1297
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-03-03T02:56:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Protocol X27
I tested with Honoka's ID - seems to work fine.

I was referring to the DLC tool, is there anything I can do to update that with here ID as a possible character, same for Raidou?   If you did make an update I already I may have not seen it.  

> Reply from Rosalin
>
> When I use Last Round DLC (#25),
there's a lot of old duplicated costumes in it, and they overlap old modded DLCs.

How can I prevent from this problem?
I tried to use BCM tool and deleted them on the list from DLC #25, but still old DLCs are not working.

Any solutions?

This may be the same situation as when DOA5U released and the vanilla DLC's existed.  The game would pull from the on disc content instead of the DLC files.  Now that the 1GB patch is 'core' data, you may have to change those, if you were using those costume slots.  The old DLC files will be ignored.

***

I got a Honoka mod working minus some bone subs.  Doable under old method combined with the Ninja Clan DLC, haven't messed with the patch file yet.
## Post #1298
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-03-04T17:39:05+00:00
- Post Title: Re: Dead or Alive series formats and tools

Ya.. it looks DLC#25 is working like another chara_common
## Post #1299
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-03-04T20:48:40+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Rosalin
>
> 
I tried to use BCM tool and deleted them on the list from DLC #25, but still old DLCs are not working.
Any solutions?BCM editing only rebuilds .bcm file (without erased characters/slots). To free a particular slot you must also delete according names in .bin file, then change affected offsets in header of .blp/.lnk files. I wanted to implement this (that's why version of DLC Tool still lower than 1.0) but it requires relatively lot of coding.
I tried to rebuild LR update without content_data.* files and then add separately Honoka's DLC costumes but the game hangs on loading, no luck here.

> Reply from Protocol X27
>
> sf234 wrote:
I was referring to the DLC tool, is there anything I can do to update that with here ID as a possible character, same for Raidou?   If you did make an update I already I may have not seen it.Huh, here's version with included Honoka: [viewtopic.php?p=103773#p103773](http://forum.xentax.com/viewtopic.php?p=103773#p103773)
As for Raidou - there is still no DLC with his ID and I'm too lazy to find it manually.

Latest information on free slots: [viewtopic.php?p=104225#p104225](http://forum.xentax.com/viewtopic.php?p=104225#p104225)
## Post #1300
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-03-04T22:38:53+00:00
- Post Title: Re: Dead or Alive series formats and tools

@sf
thanks for testing.
it's a pain with doing that file size..
## Post #1301
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-03-06T02:30:53+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks, sf!

Looks like I did miss that post somehow, XD  Or downloaded, and forgot I did... sheesh.
## Post #1302
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-03-10T15:35:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

I think I saw penguin's work on 2chan.
And it seems that it's not the original source and feels that there's some sort of secret discussion page hidden somewhere in japan.
## Post #1303
- Username: porimac
- Rank: VIP member
- Number of posts: 109
- Joined date: Wed Sep 08, 2010 11:46 pm
- Post datetime: 2015-03-10T16:41:43+00:00
- Post Title: Re: Dead or Alive series formats and tools

dlc ninja costume 2 (not decrypt name, just changed)

```
BR136@1S100@CF1]1]81I3C193481D10000E1PQ3M{R65161I RAIDOU_COS_NINJA.TMCL

```

anyone did found a new "stage" tmc/tmcl?
## Post #1304
- Username: Baal
- Rank: n00b
- Number of posts: 10
- Joined date: Thu Oct 16, 2014 12:33 am
- Post datetime: 2015-03-10T20:43:33+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Rosalin :
Thought this way since DOA5, when I frequently saw his work on 2chan, but not pics that were on Coregrafx. I've been searching around for quite some time since then, but I still can't find it. I'm pretty sure they use a private forum or something...
## Post #1305
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-03-11T00:58:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

Everyone must have a discussion hole somewhere, lol.

No issue with new stuff, looks like mid body characters have semi useable meshes. (Nyotengu, Momiji, Leifang)  It's also cool to have a DOA version of Momiji's naginata.

At least with Raidou in there we can track down his id now too.  I have to find that list again. XD
## Post #1306
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-03-11T09:33:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Baal
Or maybe he is just directly throwing his pics on 2chan.
And.. he might be watching this pages.
## Post #1307
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-03-11T12:56:51+00:00
- Post Title: Re: Dead or Alive series formats and tools

Updated doa5Uarchivarius.dat: [viewtopic.php?p=104652#p104652](http://forum.xentax.com/viewtopic.php?p=104652#p104652)
## Post #1308
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-03-11T13:20:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

And DLC Tool with Raidou.

> Reply from Rosalin
>
> I think I saw penguin's work on 2chan.Sometimes someone posts mod pics in may.2chan's DOA threads. Also, there is this thread: [http://jun.2chan.net/b/res/20175987.htm](http://jun.2chan.net/b/res/20175987.htm)
Other than that, I can't find any discussion in usual places (2ch, jbbs, 2chan), except dead DOAX2 analysis thread.
[5LR DLC Tool.7z](https://xentaxbackup.github.io/file/8819_5LR DLC Tool.7z)
## Post #1309
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-03-15T07:55:54+00:00
- Post Title: Re: Dead or Alive series formats and tools

Well.. there's a way to change DXT1 normal to DXN by fixing some flags.

I should have known this earlier.
## Post #1310
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-03-20T20:49:19+00:00
- Post Title: Re: Dead or Alive series formats and tools

Heard that the PC version is going to be "inferior" to PS4 version in terms of graphics.
Also the new stages have been cut out.

[http://www.eventhubs.com/news/2015/mar/ ... ngine-etc/](http://www.eventhubs.com/news/2015/mar/18/dead-or-alive-5-last-round-pc-minimum-specs-revealed-no-online-3-months-lacks-certain-features-ps4-version-soft-engine-etc/)

"Somewhere between ps3 and ps4" in terms of graphics. (there was a difference to start with??????????   )

and no online till 3 months later, what fighting game doesn't have online these days?? as if I'm going to ask my buddies to come play doa in front of my pc with all my mods enabled LOL
## Post #1311
- Username: Baal
- Rank: n00b
- Number of posts: 10
- Joined date: Thu Oct 16, 2014 12:33 am
- Post datetime: 2015-03-20T21:39:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

Nah the graphics are going to be a lot better.
There will be AA, and 4K support so we can expect something great in that point.

Unfortunately, the optimisation look quite bad by looking at the configuration required.
The main deception are the following :
-No new stages
-No soft engine
-No online at launch (after 1 month delay ? the hell ?)
-No particules effect 

That's why you hear "between PS3 and PS4", but at least the graphics are going to be a lot better. Maybe we can also hope for better stages textures.
## Post #1312
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-03-21T00:57:39+00:00
- Post Title: Re: Dead or Alive series formats and tools

I think it's more like PS3 version.
Things those can be supported by better hardware are only changed, something like screen resolution, AA, shadow resolution... only except hairs.

now there're still things unknown. SSS on the skin and Senran Kagura costume destruction gimmicks on PC version are not informed yet.
## Post #1313
- Username: ShiroiKaze
- Rank: n00b
- Number of posts: 15
- Joined date: Sun Mar 04, 2012 6:14 am
- Post datetime: 2015-03-22T17:31:30+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Rosalin
>
> I think it's more like PS3 version.
Things those can be supported by better hardware are only changed, something like screen resolution, AA, shadow resolution... only except hairs.

now there're still things unknown. SSS on the skin and Senran Kagura costume destruction gimmicks on PC version are not informed yet.

They're saying on twitter that it's based on the arcade build- [https://twitter.com/TeamNINJAStudio/sta ... 2941991936](https://twitter.com/TeamNINJAStudio/status/579184892941991936)

That version runs on the Sega Ring Edge 2... which is an old Nividia GPU, 2 gigs of ram, and an old intel i3 running on Windows 7. Explains why the game is using direct x 9.
## Post #1314
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-03-23T08:05:58+00:00
- Post Title: Re: Dead or Alive series formats and tools

@ShiroiKaze
Yep, I heard of it.
Anyway, it's weird that we can't get any single screenshot of it yet.
## Post #1315
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-03-24T05:05:55+00:00
- Post Title: Re: Dead or Alive series formats and tools

[https://www.youtube.com/watch?v=oo8RGAQOpFo](https://www.youtube.com/watch?v=oo8RGAQOpFo)
I can guess they are 'destroying' costume parts by applying hidden alpha channel to the clothing.
with some effect when hit.

And I can also guess that gimmick will not be added to PC version.
## Post #1316
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-03-24T07:11:01+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Rosalin
>
> https://www.youtube.com/watch?v=oo8RGAQOpFo
I can guess they are 'destroying' costume parts by applying hidden alpha channel to the clothing.
with some effect when hit.

And I can also guess that gimmick will not be added to PC version.

mmm... Soul Calibur IV and V.
## Post #1317
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-03-24T08:03:51+00:00
- Post Title: Re: Dead or Alive series formats and tools

Tecmo dlc usually pretty self contained, doubt the "clothes break" is a core game feature so may work on PC if converted somehow.

Kinda wish soul calibur IV was sorta like soul calibur V and V was more like IV   they could both also be more like soul calibur III.
## Post #1318
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-03-24T08:35:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

@lsc

But you know, it doesn't work on 360/PS3 version.
So I don't expect them on PC.
At best we might be able to get those alpha maps for torn clothing expressions.

But at least, we can get some of new hairs for some characters and I would love it.
## Post #1319
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-03-24T10:46:55+00:00
- Post Title: Re: Dead or Alive series formats and tools

anything we can get into the PC version that tecmo didn't want us to have is going to be alright by me  
Lets make the PC version the best version of doa mwhahaha
## Post #1320
- Username: porimac
- Rank: VIP member
- Number of posts: 109
- Joined date: Wed Sep 08, 2010 11:46 pm
- Post datetime: 2015-03-24T11:47:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

deleted
## Post #1321
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-03-24T13:05:21+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hair models are not inside of costume data.
I can guess catalog is having new hair model files separately.
## Post #1322
- Username: Baal
- Rank: n00b
- Number of posts: 10
- Joined date: Thu Oct 16, 2014 12:33 am
- Post datetime: 2015-03-24T13:14:28+00:00
- Post Title: Re: Dead or Alive series formats and tools

That's bad news, but we were expecting them right ?
It would be cool if they were to give the clothing destruction to PC, but in the end we can still get it, it would just take time.
I saw Japanese discussing the matter on whatever thread it was, saying they were already working on the subject (if my google traduction is right ^^). That said, I don't know how they intend to proceed, but at this stage it can only be on an hypothetical level :p
With destructible cloths, MODs are going to an other level.
## Post #1323
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-03-24T14:52:59+00:00
- Post Title: Re: Dead or Alive series formats and tools

Well.. now it seems they are using alternative costume for destroyed ones. 
I mean.. there should be a pair of it.
## Post #1324
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-03-24T15:25:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Rosalin
>
> Well.. now it seems they are using alternative costume for destroyed ones. 
I mean.. there should be a pair of it.

Checked the models already, there's no submeshes or hidden meshes >_<
## Post #1325
- Username: Baal
- Rank: n00b
- Number of posts: 10
- Joined date: Thu Oct 16, 2014 12:33 am
- Post datetime: 2015-03-24T19:56:33+00:00
- Post Title: Re: Dead or Alive series formats and tools

So basically, the feature to "destroy" is a functionality to swap outfit when taking critical damages below 50HP ?
It can even be better than an actual alpha layer ! Rather than working on one model, we can work on two different ones thus making more details...
Now we have to see how we can use this fonction. I have no fucking idea about the way they did to swap model in-game.
## Post #1326
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-03-25T15:57:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Baal
Yes. I guess so.. at least one costume will contain two meshes for it.
I could see it's more about alpha channel.

If costume destruction gimmick is included in PC version.
then that day is the party day.
## Post #1327
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-03-25T16:41:15+00:00
- Post Title: Re: Dead or Alive series formats and tools

Updated doa5Uarchivarius.dat. 

> Reply from Rosalin
>
> Hair models are not inside of costume data.
I can guess catalog is having new hair model files separately.You was right about using new hairstyles with other costumes. Hair: Ayane "4", Marie "4",  Phase4 "5".
[doa5Uarchivarius.7z](https://xentaxbackup.github.io/file/8886_doa5Uarchivarius.7z)
## Post #1328
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-03-25T18:37:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Updated doa5Uarchivarius.dat. 
Rosalin wrote:Hair models are not inside of costume data.
I can guess catalog is having new hair model files separately.You was right about using new hairstyles with other costumes. Hair: Ayane "4", Marie "4",  Phase4 "5".

Hair modes are inside of patch
## Post #1329
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-03-25T23:30:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Darko
yup, patch_catalog.

And it's very convenient to handle it with BCM tool.
## Post #1330
- Username: Baal
- Rank: n00b
- Number of posts: 10
- Joined date: Thu Oct 16, 2014 12:33 am
- Post datetime: 2015-03-30T09:57:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

Steam version is up today   
Hope it's moddable... I also hope that other modders would be clever enough for restricting their post of nude mods in appropriated place. It's not like there is no dedicated sites for that.
## Post #1331
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-03-30T18:48:39+00:00
- Post Title: Re: Dead or Alive series formats and tools

Files are different (as expected), here's a sample:

[http://www.mediafire.com/download/b1ms0 ... t_Round.7z](http://www.mediafire.com/download/b1ms04uq5nz2918/Dead_or_Alive_5_Last_Round.7z)
## Post #1332
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-03-30T19:00:29+00:00
- Post Title: Re: Dead or Alive series formats and tools

Did it come out with any dlc, in fact how is dlc even handled for the PC version?
## Post #1333
- Username: ShiroiKaze
- Rank: n00b
- Number of posts: 15
- Joined date: Sun Mar 04, 2012 6:14 am
- Post datetime: 2015-03-30T20:16:33+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> Did it come out with any dlc, in fact how is dlc even handled for the PC version?

I got the pre-order DLC with my copy... there's a folder marked DLC. Inside that folder is another one 352150 containing a bcm with the same number and a data folder with a small .bin and .blp with a 58 meg file that I assume must be the costumes... my PC is reading it as a shortcut file.
## Post #1334
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-03-30T23:12:04+00:00
- Post Title: Re: Dead or Alive series formats and tools

"Additionally, as pointed out by DSO Gaming, the Soft Engine effects for advanced boob physics have been disabled for the PC outing of Dead or Alive. This caused quite the ruckus when it was first discovered. However,  it should be pointed out that the Soft Engine physics effects are engine reliant, which means that it's completely possible for modders to dig through the files and re-enable the advanced Soft Engine boob physics. The same would likely apply for the PS3-level particle effects, which most PC gamers would probably prefer if they were turned up to the equivalent (or beyond) of the PS4. "

[http://www.cinemablend.com/games/Dead-O ... 71006.html](http://www.cinemablend.com/games/Dead-Or-Alive-5-PC-Version-Missing-Features-71006.html)

Looks like some one just made a Challenge lol

but wait soft engine was just boob physics???? that's it?
## Post #1335
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-03-30T23:47:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

I don't feel good with skin expression(SSS) on PC version.
It's based on PS3 version.

Actually PC version is pretty OK, but compared to PS4 version, I cannot be that satisfied with it.

[https://www.youtube.com/watch?v=meiU6TxysCg](https://www.youtube.com/watch?v=meiU6TxysCg)
Something like this monkey.
## Post #1336
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-03-30T23:50:30+00:00
- Post Title: Re: Dead or Alive series formats and tools

Just got mine up and running,  and my comp sucks, lol.

As mentioned the DLC has a .lnk file.  The .bcm is located up one folder.  Container files are the same... blp, bin, lnk, bcm.  It looks like all file values are inverted though.  I can never get my big/little endian terminology right, but it looks like lengths & offsets, etc need to be read in reverse.
## Post #1337
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2015-03-31T06:14:55+00:00
- Post Title: Re: Dead or Alive series formats and tools

I was trying to see what DLC files are new in the PC game EXE by comparing the latest file rename list from the console version

has anyone been collecting the encrypted and unencrpyted file names?

I used the name table in doa5Uarchivarius.dat but there is a huge difference in count
the file listing in the PC version is 20757 entries, doa5Uarchivarius.dat only has 12128


here's the spreadsheet
[http://www55.zippyshare.com/v/zKNuAv6o/file.html](http://www55.zippyshare.com/v/zKNuAv6o/file.html)

based on the steam prices tecmo is going to charge an average of $1.00 per every costume

also based on appearances tecmo is selling them in packs of 50 to 80 models which adds to around $60-80 dollar DLC packs... pretty insane
## Post #1338
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-03-31T07:03:11+00:00
- Post Title: Re: Dead or Alive series formats and tools

at the rate they're going they might as well just give the game out for free and start selling packaged dlc....OH WAIT..

they have lol
## Post #1339
- Username: mikulover39
- Rank: advanced
- Number of posts: 61
- Joined date: Tue Nov 22, 2011 5:55 pm
- Post datetime: 2015-03-31T09:36:49+00:00
- Post Title: Re: Dead or Alive series formats and tools

So I got archivarius somewhat working with the pc files. It can only extract the encrypted contents, adding the entries in the dat or using the blp will make it crash. I included example files from the pre order dlc to take a look at, as well as the edited archavarius [http://www.mediafire.com/download/z2a5w ... xample.zip](http://www.mediafire.com/download/z2a5wi9gxcldwwo/example.zip)
## Post #1340
- Username: Esppiral
- Rank: n00b
- Number of posts: 11
- Joined date: Thu Aug 14, 2014 11:39 pm
- Post datetime: 2015-03-31T17:24:33+00:00
- Post Title: Re: Dead or Alive series formats and tools

Ninja ripper works flawlessly with the game
## Post #1341
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-03-31T18:41:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks but:

a)Ninja ripper is not the smartest way to get the models when there's tools to get skinned models.
b)Ninja Ripper won't help to mod doa5lr.
## Post #1342
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-04-01T02:05:07+00:00
- Post Title: Re: Dead or Alive series formats and tools

It looks like uMod is useable for intercepting textures.  Doesn't do much for old school methods, but I guess it's something to pass the time.
## Post #1343
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2015-04-01T02:39:58+00:00
- Post Title: Re: Dead or Alive series formats and tools

its cause doa5rl is running dx9 right? things like 3dripper, ninja ripper, umod which are all dx9 hooking apps should work no prob.

we need to remove file checksum if we want to do some actual editing. I personally want to replace textures with HD textures.

you can see how small and compressed the normal maps are when watching 4K its really bad. 
also noticing alot of problems with the 3d models, like seam breaks and vertex normal issues etc
## Post #1344
- Username: ShiroiKaze
- Rank: n00b
- Number of posts: 15
- Joined date: Sun Mar 04, 2012 6:14 am
- Post datetime: 2015-04-01T04:24:04+00:00
- Post Title: Re: Dead or Alive series formats and tools

Looks like the Senran Kagura DLC is coming to PC- [https://steamdb.info/app/311730/depots/](https://steamdb.info/app/311730/depots/)

It weighs in at 76.83mb... is that the PS3 or PS4 size? I would assume if it has PS4 destruction... it would be a similar filesize

EDIT- so the size of the DLC on Xbox One is 131.72... so looks like no destruction
## Post #1345
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-01T06:09:05+00:00
- Post Title: Re: Dead or Alive series formats and tools

@mariokart64n
Vertex normal problem is solved. It can be calculated by exported out OBJ file and can be re-injected to TMCL.
If the seam what you talking about is neck seam, then it's also solved perfectly.
## Post #1346
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-04-01T19:10:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

Been messing around with GEMFX,
[http://www.twcenter.net/forums/showthre ... sion-1-0-8](http://www.twcenter.net/forums/showthread.php?672484-Generic-GEMFX-Version-1-0-8)

just extract into game directory, open the exe.
open DOALR in a window.
tweak the settings till it looks nice. (granted it's real easy to make it look ugly lol)

Some results
## Post #1347
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-04-02T02:56:47+00:00
- Post Title: Re: Dead or Alive series formats and tools

Yeah, I'm going to be a bit miffed if the SK costumes don't include destruction which is looking to be the case.  They shouldn't be full price if so.

***
I'm inclined to agree with Ros, on the whole check sum thing.  It was never an obstacle with Ultimate or Last Round, it only cropped up with .bcm files which sf234's app took care of for rebuilding DLC packages.   I'm not pro at decryption though.  Even when working with the default.xex it only required re-adding the initial header content, it didn't require any special alterations.

***
I tried Ninja Ripper, since I was never aware of it for extraction.  It's a bit whack though since there are no bones/weights.  Doesn't make it too useful for porting
***

I looked at the .exe for a bit along with the chara_common.  I did a quick check for an existing container based on file size from the console, and it didn't find it, so container sizes may have changed.
## Post #1348
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-02T16:00:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

Well, that actually happened when I used encrypted data in xbox360. (repacking it with XOR keys)
## Post #1349
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-04-02T17:02:58+00:00
- Post Title: Re: Dead or Alive series formats and tools

With the lack of content, enjoy this forbidden love:

[https://www.youtube.com/watch?v=Nuw3aqmfkJc](https://www.youtube.com/watch?v=Nuw3aqmfkJc)
## Post #1350
- Username: deronar
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Sat Sep 04, 2010 10:27 pm
- Post datetime: 2015-04-02T20:29:09+00:00
- Post Title: Re: Dead or Alive series formats and tools

I wrote script to pool DOA models from PC version with bones and weights, someone could confirm they different from console versions? More polygons?
## Post #1351
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-04-02T20:31:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

Is it just me who's missing the paradise swimsuits and the paradise videos for Phase 4, Marie and Honoka   

So where we at for this thing?
We can get the encrypted models, now we need to decrypt them?

deronar
It looks like the same as the 360 version model..................
Which I guess is kinda good in a way since I can just inject all my old stuff from the 360 models. (silver lining)
## Post #1352
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-04-02T20:38:20+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> Is it just me who's missing the paradise swimsuits and the paradise videos for Phase 4, Marie and Honoka   

So where we at for this thing?
We can get the encrypted models, now we need to decrypt them?

deronar
It looks like the same as the 360 version model..................
Which I guess is kinda good in a way since I can just inject all my old stuff from the 360 models. (silver lining)

How did you unpack those files??
## Post #1353
- Username: deronar
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Sat Sep 04, 2010 10:27 pm
- Post datetime: 2015-04-02T20:38:53+00:00
- Post Title: Re: Dead or Alive series formats and tools

Pff, if they are the same like Xbox-360, I can't see any use for me to rip them from the game. Lazy developers xD
## Post #1354
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-02T20:50:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

@deronar
OMG. how did you get that model?
Did you pull it out from the memory?
or decrypted file in the hard disk?
## Post #1355
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-04-03T02:21:17+00:00
- Post Title: Re: Dead or Alive series formats and tools

Fixed version of archivarius (credits to b0ny for original script, also to mikulover39 for adapting it to PC format).
4byte-keys handling not implemented (I have no idea how to do it, at least for now). 
Some files produce errors (although their keys looks legit).
Also some files (in particular KOKORO_DLCU_003_00*H/HL) listed in archivarius database as unencrypted (they are on xbox), but on PC they are encrypted.
Tested with DLC #358140, errors in AYANE_DLCU_002_001.--HL, EIN_DLCU_001.TMCL, MOMIJI_DLCU_002.TMCL, MOMIJI_DLCU_021.TMC.
[viewtopic.php?p=104944#p104944](http://forum.xentax.com/viewtopic.php?p=104944#p104944)
## Post #1356
- Username: tcl36478655
- Rank: beginner
- Number of posts: 34
- Joined date: Mon Apr 08, 2013 9:22 am
- Post datetime: 2015-04-03T13:18:17+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Fixed version of archivarius (credits to b0ny for original script, also to mikulover39 for adapting it to PC format).
4byte-keys handling not implemented (I have no idea how to do it, at least for now). 
Some files produce errors (although their keys looks legit).
Also some files (in particular KOKORO_DLCU_003_00*H/HL) listed in archivarius database as unencrypted (they are on xbox), but on PC they are encrypted.
Tested with DLC #358140, errors in AYANE_DLCU_002_001.--HL, EIN_DLCU_001.TMCL, MOMIJI_DLCU_002.TMCL, MOMIJI_DLCU_021.TMC.

thank you for the py files.

I have compared TMC files(PC version),seems they just in opposite order maybe you have noticed that. 
[right one maybe.png](https://xentaxbackup.github.io/file/8936_right one maybe.png)
## Post #1357
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-03T13:23:34+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks a lot for the new scripts.
I can hardly imagine how it was made.
You are the saviors.
## Post #1358
- Username: Vashey
- Rank: advanced
- Number of posts: 41
- Joined date: Tue Mar 15, 2011 9:47 pm
- Post datetime: 2015-04-03T19:03:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from deronar
>
> Pff, if they are the same like Xbox-360, I can't see any use for me to rip them from the game. Lazy developers xD

Care to share your script meanwhile?
## Post #1359
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-04-03T21:49:17+00:00
- Post Title: Re: Dead or Alive series formats and tools

Maybe the extras are to do with the soft engine that they switched off lol.

in any case it looks like quite the simple conversion. exact same process as converting street fighter mods from PC to 360.
## Post #1360
- Username: mikulover39
- Rank: advanced
- Number of posts: 61
- Joined date: Tue Nov 22, 2011 5:55 pm
- Post datetime: 2015-04-03T21:54:26+00:00
- Post Title: Re: Dead or Alive series formats and tools

updated .dat, I changed it all to what was extracted from the exe by mariokart64n so credits to him for that. This also includes the entries for the 3 DLC's I got using blp converter.
[doa5LRarchivarius.zip](https://xentaxbackup.github.io/file/8937_doa5LRarchivarius.zip)
## Post #1361
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-04-04T01:19:01+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Rosalin
>
> @deronar
OMG. how did you get that model?
Did you pull it out from the memory?
or decrypted file in the hard disk?

> Reply from Vashey
>
> Care to share your script meanwhile?

Pay no attenntion to him, he just shows up to show off what he can do only to never share anything.

***

Meanwhile, awesome stuff guys! I figured PC progress would be faster, but not that fast 

So it looks like there is still some processing in terms of file finding right? I see that some of Ayane's costumes aren't listed, so I'm guessing there's still some conversion differences.  

Hopefully, I'm not just rehashing obvious stuff, but on initial inspection

TTX Removed
TTDM Added
TTDH Added
TTDL Added
Lheader only contains TMCL Length

At at least the Bone Nodes & Indices are intact.  I suppose in the mean time I can start looking into rebuilding my translators/convertors while we're working on other stuff. 
It's going to take a bit to start wrapping my brain around all of the addresses being inverted now.  At least some changes will be minimal with that.

Edit:
Ok, so the TTDL is the lengths and offsets for the Textures which is essentially the entire bulk of the TMCL now.  Ros' comment makes more sense now regarding the index/vtx.  If stuff isn't in the TMCL now there would be no need for the offsets in the LHeader.
## Post #1362
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-04T06:50:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

damn, I want it so badly.


I wish to learn how to build a string like "mesh_data = #(#(44, 44, 44, 44, .." in the max object.
When I right a script, I usually copy and paste that part, but if I can get it from TMC directly, then it's going to be more decent.

Vertex normal part is confirmed.
That 3 of them are vertex normal xyz and now it looks it's not ugly HEND3N anymore.
## Post #1363
- Username: tcl36478655
- Rank: beginner
- Number of posts: 34
- Joined date: Mon Apr 08, 2013 9:22 am
- Post datetime: 2015-04-04T07:11:02+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Rosalin
>
> 
damn, I want it so badly.


I wish to learn how to build a string like "mesh_data = #(#(44, 44, 44, 44, .." in the max object.
When I right a script, I usually copy and paste that part, but if I can get it from TMC directly, then it's going to be more decent.

Vertex normal part is confirmed.
That 3 of them are vertex normal xyz and now it looks it's not ugly HEND3N anymore.

what do you mean about "build a string like mesh_data"? seems they mean Length\Number\Volume...maybe other?
## Post #1364
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-04T07:18:57+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from tcl36478655
>
> what do you mean about "build a string like mesh_data"? seems they mean Length\Number\Volume...maybe other?
You know that in the max object, Object Properties > User Defined.
Length, Count, Offset..

I can hardly read the mario's script @_@
## Post #1365
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2015-04-04T11:23:38+00:00
- Post Title: Re: Dead or Alive series formats and tools

copied the python files needed to run the doa5LRarchivarius script, so that python doesnt have to be installed to run it.

just unpack and double click on "STARTGUI.BAT"

Download: (1.36mb)
[doa5LRarchivarius.7z](http://s000.tinyupload.com/index.php?file_id=93627538027047459106)
## Post #1366
- Username: porimac
- Rank: VIP member
- Number of posts: 109
- Joined date: Wed Sep 08, 2010 11:46 pm
- Post datetime: 2015-04-04T11:53:52+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Pay no attenntion to him, he just shows up to show off what he can do only to never share anything.
i agree with you
he always never share his artifact to anyone other than his bi***es
in even dA not only here

i vote mariokart64n! 

> Reply from mariokart64n
>
> copied the python files needed to run the doa5LRarchivarius script, so that python doesnt have to be installed to run it.

just unpack and double click on "STARTGUI.BAT"

Download: (1.36mb)
doa5LRarchivarius.7z
thank you!!
## Post #1367
- Username: Vashey
- Rank: advanced
- Number of posts: 41
- Joined date: Tue Mar 15, 2011 9:47 pm
- Post datetime: 2015-04-04T14:45:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Pay no attenntion to him, he just shows up to show off what he can do only to never share anything.

Oh ok, I thought I would dig in a script to see how it's done so far.
I'm looking into exporting my own models in the game, I've always been wondering how you would get the hair physics right in the skinning process.
## Post #1368
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-04-04T14:59:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

Talking about soft engine, I don't know why didn't Team-Ninja just applied apex physx in DOA characters:

[https://www.youtube.com/watch?v=zDAJ59WCw8Y](https://www.youtube.com/watch?v=zDAJ59WCw8Y)
## Post #1369
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-04T15:26:49+00:00
- Post Title: Re: Dead or Alive series formats and tools

very simple tool for manual editing.
it will read clipboard and flip short string of HEX and paste it back to clipboard with one click.

ex) 3F7DDF7B 55FF00EA(in your clipboard) → 7BDF7D3F EA00FF55(to your clipboard)
[Tiny Flipper.zip](https://xentaxbackup.github.io/file/8941_Tiny Flipper.zip)
## Post #1370
- Username: SkacikPL
- Rank: advanced
- Number of posts: 53
- Joined date: Tue Oct 28, 2014 2:51 pm
- Post datetime: 2015-04-04T15:46:20+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> Talking about soft engine, I don't know why didn't Team-Ninja just applied apex physx in DOA characters:

https://www.youtube.com/watch?v=zDAJ59WCw8Y
Licensing, works poorly on consoles and requires decent PC programming knowledge to be implemented.
## Post #1371
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-04T17:34:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

I need coregrafx
## Post #1372
- Username: Baal
- Rank: n00b
- Number of posts: 10
- Joined date: Thu Oct 16, 2014 12:33 am
- Post datetime: 2015-04-04T19:06:07+00:00
- Post Title: Re: Dead or Alive series formats and tools

Yeah I miss coregrafx too... There must be a hub where we still can post progress or discus with japs modders, but we've yet to find it... 
Why did they closed it TT^TT
## Post #1373
- Username: porimac
- Rank: VIP member
- Number of posts: 109
- Joined date: Wed Sep 08, 2010 11:46 pm
- Post datetime: 2015-04-04T19:25:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Baal
>
> Why did they closed it TT^TT
"SEXY@gif(coregrafx)"? cause someguy reported to KT...  
and i think there are not Japanese modder...that almost Chinese
## Post #1374
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-04T22:26:59+00:00
- Post Title: Re: Dead or Alive series formats and tools

[https://www.youtube.com/watch?v=d1SwJyOnZbs](https://www.youtube.com/watch?v=d1SwJyOnZbs)
it seems that KT is taking interest in recent mods.
it won't be bad to be careful about that.
You know,.. releasing the real mod will accompany releasing their copyrights(=a pack of DLC).

**
Some people say that they want mods to f**k KT,
but it won't be like that for me.
I really love and respect their jobs.

**

> i think there are not Japanese modder...One of them looked japanese definitely.
I talked to him in japanese and he told me in japanese. (even I used translator   lol )
I heard that he appears on 2chan or 2ch occasionally with his pics.
I can recognize his work.
## Post #1375
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2015-04-05T01:04:54+00:00
- Post Title: Re: Dead or Alive series formats and tools

So I extracted everything from the char file in last round pc port going o get new hairstyles but everything won't open in noesis nor 3dr max/blender
Am I doing something wrong?
## Post #1376
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2015-04-05T01:09:27+00:00
- Post Title: Re: Dead or Alive series formats and tools

is there an easier way to write new DLC packages? or do i need to write a tool for that?
## Post #1377
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-05T02:33:15+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Mariokart
Archivarious supposed to handle that part originally.
I don't know how to read a python code, but it seems that it has some problems with parsing blp file, with new blp format.
## Post #1378
- Username: tcl36478655
- Rank: beginner
- Number of posts: 34
- Joined date: Mon Apr 08, 2013 9:22 am
- Post datetime: 2015-04-05T03:16:09+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Rosalin
>
> @Mariokart
Archivarious supposed to handle that part originally.
I don't know how to read a python code, but it seems that it has some problems with parsing blp file, with new blp format.

@Mariokart
yeah,i want to know how it link blp because it linked wrong offset sometime. So the files maybe packed but tool think they're unpacked.......
## Post #1379
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-05T04:15:30+00:00
- Post Title: Re: Dead or Alive series formats and tools

The process has been so much simpler compared to 360 version.
## Post #1380
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-04-05T05:06:31+00:00
- Post Title: Re: Dead or Alive series formats and tools

blp Converter adapted to PC format.

> Reply from mariokart64n
>
> is there an easier way to write new DLC packages? or do i need to write a tool for that?I'm currently working on DLC Tool.

> Reply from mariokart64n
>
> has anyone been collecting the encrypted and unencrpyted file names?Archivarius' database is only source for this information as far as I know. Note that some files listed there with blank names.
[blp Converter.7z](https://xentaxbackup.github.io/file/8944_blp Converter.7z)
## Post #1381
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-04-05T05:22:34+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Rosalin
>
> Archivarious supposed to handle that part originally.
I don't know how to read a python code, but it seems that it has some problems with parsing blp file, with new blp format.My bad, I disabled the blp parsing part since there is rare error with unpacking files because of it. It's re-enabled in attached version. Swap seems to work fine, although I doesn't tested it with game.
[viewtopic.php?p=104985#p104985](http://forum.xentax.com/viewtopic.php?p=104985#p104985)
> Reply from tcl36478655
>
> yeah,i want to know how it link blp because it linked wrong offset sometime. So the files maybe packed but tool think they're unpacked.......Meanwhile, the workaround is either rename or remove the .blp file before extracting files with archivarius.
## Post #1382
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-04-05T05:26:47+00:00
- Post Title: Re: Dead or Alive series formats and tools

Preset for FX that sharpens and adjusts color a little.
[http://i.imgur.com/P2P4vRB.jpg](http://i.imgur.com/P2P4vRB.jpg)
[https://anonfiles.com/file/393aef894e8c ... cd9ec53f97](https://anonfiles.com/file/393aef894e8c0dbcb0c19bcd9ec53f97)
## Post #1383
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-05T05:44:19+00:00
- Post Title: Re: Dead or Alive series formats and tools

sf234
holy! thanks!

**

it works fine, but it seems that you didn't reversed key values in blp and lnk.
## Post #1384
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2015-04-05T07:18:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> blp Converter adapted to PC format.
mariokart64n wrote:is there an easier way to write new DLC packages? or do i need to write a tool for that?I'm currently working on DLC Tool.
mariokart64n wrote:has anyone been collecting the encrypted and unencrpyted file names?Archivarius' database is only source for this information as far as I know. Note that some files listed there with blank names.
Kind of stupid to ask, but what do I do with the information that i've just "copied to clipboard" insert it into the LR archivarius?
## Post #1385
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-04-05T07:59:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

DLC Tool adapted to PC Format. Apart from previous requirements (listed here: [viewtopic.php?p=101431#p101431](http://forum.xentax.com/viewtopic.php?p=101431#p101431)):
[*]DLC name must be only numerical.
[*]Corresponding entry must be added to steam_api.ini (e.g. for DLC 112233 it would be DLC00*=112233 (* = any free number)).
[viewtopic.php?p=104965#p104965](http://forum.xentax.com/viewtopic.php?p=104965#p104965)

> Reply from Rosalin
>
> sf234it works fine, but it seems that you didn't reversed key values in blp and lnk.I only changed keys search algorithm without looking to other parts of code (handling of endianness was added by mikulover39). Maybe later.

> Reply from MisterNatal
>
> Kind of stupid to ask, but what do I do with the information that i've just "copied to clipboard" insert it into the LR archivarius?Just open doa5LRarchivarius.dat with any text editor and paste it.
## Post #1386
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-05T12:55:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

sf234
I thought DLC_tool was just a tool for changing hairstyles until now.    
Now I've understood.

**

I tried to edit chara_common.
game.exe had some sort of blp part and I editied it.
but with some error, game.exe didn't worked. 

will it be possible to edit game.exe?
## Post #1387
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2015-04-05T16:11:49+00:00
- Post Title: Re: Dead or Alive series formats and tools

yeah I tried also, its steam that returns the error. if it was the game dialog then it would be some kind of security from doa5. but since its steam i think it apart of steam security. probably a server side checksum. I'm curious if anyone's tried using a pirated version if its the same problem?
## Post #1388
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-05T16:19:33+00:00
- Post Title: Re: Dead or Alive series formats and tools

Well.. I got both of them..
It doesn't work even without internet connection.
## Post #1389
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-04-05T17:02:17+00:00
- Post Title: Re: Dead or Alive series formats and tools

Few bug fixes for DLC Tool.
[DLC Tool.7z](https://xentaxbackup.github.io/file/8954_DLC Tool.7z)
## Post #1390
- Username: loriscangini
- Rank: advanced
- Number of posts: 53
- Joined date: Sun Jan 09, 2011 10:45 pm
- Post datetime: 2015-04-05T17:10:52+00:00
- Post Title: Re: Dead or Alive series formats and tools

Maybe I'm missing something, is there a way to open the TMC models from the PC version?
## Post #1391
- Username: SkacikPL
- Rank: advanced
- Number of posts: 53
- Joined date: Tue Oct 28, 2014 2:51 pm
- Post datetime: 2015-04-05T18:20:44+00:00
- Post Title: Re: Dead or Alive series formats and tools

So would it be possible to unpack original textures/models and rework them in higher quality and then put them back in game with current toolset?

Character textures are not that bad, but environments cry for a texture rework.
## Post #1392
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-04-05T18:25:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Rosalin
>
> sf234
I thought DLC_tool was just a tool for changing hairstyles until now.    
Now I've understood.

**

I tried to edit chara_common.
game.exe had some sort of blp part and I editied it.
but with some error, game.exe didn't worked. 

will it be possible to edit game.exe?

Ok, so I tried this as well.  Same problems on & offline.  

I also tried doing a basic offset swap by switching costumes but keeping compressed sizes.  No error codes, but the game crashes.  So in summary, if game.exe is modified OR references files that don't match listed sizes found in the .lnk it chokes.

> Reply from loriscangini
>
> Maybe I'm missing something, is there a way to open the TMC models from the PC version?

> Reply from SkacikPL
>
> So would it be possible to unpack original textures/models and rework them in higher quality and then put them back in game with current toolset?

Character textures are not that bad, but environments cry for a texture rework.

Not yet, both are still a work in progress

Edit:

@sf234

> Reply from sf234
>
> DLC Tool adapted to PC Format. Apart from previous requirements (listed here: viewtopic.php?p=101431#p101431):
[*]DLC name must be only numerical.
[*]Corresponding entry must be added to steam_api.ini (e.g. for DLC 112233 it would be DLC00*=112233 (* = any free number)).
viewtopic.php?p=104965#p104965
Where is the steam_api.ini?  I only have a steam_api.dll
## Post #1393
- Username: SkacikPL
- Rank: advanced
- Number of posts: 53
- Joined date: Tue Oct 28, 2014 2:51 pm
- Post datetime: 2015-04-05T18:58:01+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> 
Where is the steam_api.ini?  I only have a steam_api.dll
That's provided with the less-than-legal versions.
## Post #1394
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-04-06T05:11:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

Fixed in doa5LRarchivarius:
Errors when extracting some files.
Errors when there is .blp file (doesn't need to be renamed/removed now).
Swap function.

> Reply from Protocol X27
>
> Where is the steam_api.ini?  I only have a steam_api.dllAs SkacikPL have said, it's only for cracked steam_api.dll/steam_api.ini.
[doa5LRarchivarius.7z](https://xentaxbackup.github.io/file/8957_doa5LRarchivarius.7z)
## Post #1395
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-04-06T05:48:12+00:00
- Post Title: Re: Dead or Alive series formats and tools

[http://www.sankakucomplex.com/2015/04/0 ... d-exposed/](http://www.sankakucomplex.com/2015/04/06/dead-or-alive-5-last-round-nude-mod-exposed/)

In reference to the final gif.
Congratz
## Post #1396
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-04-06T05:50:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> http://www.sankakucomplex.com/2015/04/0 ... d-exposed/

In reference to the final gif.
Congratz

Lol.
## Post #1397
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2015-04-06T05:51:31+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Fixed in doa5LRarchivarius:
Errors when extracting some files.
Errors when there is .blp file (doesn't need to be renamed/removed now).
Swap function.
Protocol X27 wrote:Where is the steam_api.ini?  I only have a steam_api.dllAs SkacikPL have said, it's only for cracked steam_api.dll/steam_api.ini.
Dx thanks for the update, still can't view anything models from last round, they all come up as an error :\
I'll post the fix if I find it to help others
## Post #1398
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-04-06T06:03:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from MisterNatal
>
> sf234 wrote:Fixed in doa5LRarchivarius:
Errors when extracting some files.
Errors when there is .blp file (doesn't need to be renamed/removed now).
Swap function.
Protocol X27 wrote:Where is the steam_api.ini?  I only have a steam_api.dllAs SkacikPL have said, it's only for cracked steam_api.dll/steam_api.ini.
Dx thanks for the update, still can't view anything models from last round, they all come up as an error :\
I'll post the fix if I find it to help others

Current scripts don't support pc files.
## Post #1399
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-06T09:17:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

Reverse Endian.zip
(9.62 KiB) Downloaded 104 times

Improved version of Tiny Flipper.

Now it can reverse long data.

*edit* changed icon   

> Reply from Lilstormcloud
>
> 
In reference to the final gif.
Congratzlol
## Post #1400
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-04-06T17:12:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

Lol KT is bitching around with DOA modding stuff in youtube.
## Post #1401
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-07T03:55:32+00:00
- Post Title: Re: Dead or Alive series formats and tools

I can see they're interfering with google search.
some of results are getting deleted.
## Post #1402
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-04-07T06:25:01+00:00
- Post Title: Re: Dead or Alive series formats and tools

pfft of all the things they could have cared about. 
Not like they care about anything else, like making a decent game for example? lol

They beat out capcom and EA in worse game company for a while IMO.
## Post #1403
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-07T09:41:22+00:00
- Post Title: Re: Dead or Alive series formats and tools

ObjGeo is too hard to read for me.. 
I'll just use mesh_data string 

**

I need senran kagura, bunny girl, paradise dlc for PC..
## Post #1404
- Username: Vashey
- Rank: advanced
- Number of posts: 41
- Joined date: Tue Mar 15, 2011 9:47 pm
- Post datetime: 2015-04-07T13:54:34+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hey, I'm at loss there.  
I don't follow,  what are we using archivarius script for if it doesn't support PC, and why are you still looking into 360 TMC files?
## Post #1405
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-04-07T15:58:13+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Rosalin
>
> I can see they're interfering with google search.
some of results are getting deleted.

Yep, two of my mmd videos were shutdown, I don't know I they even watched them.
## Post #1406
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-04-08T01:59:21+00:00
- Post Title: Re: Dead or Alive series formats and tools

@LSC, they still have a long way to go to catch up to EA/Activision/Capcom.  

***
I'm not sure if the attention is hampering anyone's preferences on util distribution or not, cuz you can be sure less cautious people are going to repost & upload anything anywhere.  I already saw archivarious posted somewhere else.  

I know it's bound to happen, but my only concern is the amateurs bringing too much attention now that everything is more accessible.  There's no way to keep stuff under the radar like in the past
***

In the meantime, I'm working on automating some aspects that used to be manual like getting the Bone Index/Bone Nodes.  Almost finished with one for the body bone indices, just taking me a bit to get into python mode.
## Post #1407
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-08T02:35:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

I realized that there was a mistake on my every HEN3DN vertex normal calculation..
but luckily, miscalculated part was always cut off during BIT_AND.  
So there was no problem on results.
## Post #1408
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-04-08T05:07:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

I'm leaving this here:

[http://shoryuken.com/2015/04/07/modder- ... ast-round/](http://shoryuken.com/2015/04/07/modder-adds-shenmue-characters-to-dead-or-alive-5-last-round/)
## Post #1409
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-04-08T05:33:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> 
I'm not sure if the attention is hampering anyone's preferences on util distribution or not, cuz you can be sure less cautious people are going to repost & upload anything anywhere.  I already saw archivarious posted somewhere else.
I think it's mainly the mods that are going to draw attention not necessarily the tools.
So long as the tools are available then the other guys making and distributing the mods are the ones who are going to cop the attention.
I mean you don't see an article on "Modders makes toooools for DOALR!! lol", all the focus is on the actual mods being released which means we should be relatively safe.

and besides what are they going to get you for? making a tool for manipulating numbers? could be for anything lol.
## Post #1410
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-08T05:53:52+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> I'm leaving this here:

http://shoryuken.com/2015/04/07/modder- ... ast-round/Jesus Christ, I thought he exported entire model into the game when I first saw that screenshot.
I was nearly about to worship him and it was umod lol.


Well, now I understood how to split the unknown number into 4.
## Post #1411
- Username: Vashey
- Rank: advanced
- Number of posts: 41
- Joined date: Tue Mar 15, 2011 9:47 pm
- Post datetime: 2015-04-08T06:45:12+00:00
- Post Title: Re: Dead or Alive series formats and tools

I'll ask again, don't mean to bother I'm trying to follow up the development.
I've read archivarius script, are you planning to import models through dlc files? is this the idea?
## Post #1412
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-08T07:22:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Vashey
More than that we need to kill the checksum first to get into game.exe.
**
[http://cdn.akamai.steamstatic.com/steam ... 1428452534](http://cdn.akamai.steamstatic.com/steam/apps/358143/ss_45ab9e57ac1b3e8b9638896341dbe70497409432.jpg?t=1428452534)
I envy PS4 skin expression and KT brought PS4 screenshots for steam DLC information?  noway.. I can recognize it.

Anyway, I remember there was SSS setting in MtrCol settings.
I hope I can change something in there.
## Post #1413
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-04-08T09:21:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

Noesis plugin for PC (original script, I believe, was created by chrrox and modified by b0ny). Gives random errors here and there.
[viewtopic.php?p=105190#p105190](http://forum.xentax.com/viewtopic.php?p=105190#p105190)
## Post #1414
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-08T11:55:05+00:00
- Post Title: Re: Dead or Alive series formats and tools

We can't stop mighty sf234.
## Post #1415
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-04-08T13:51:43+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Vashey
>
> I'll ask again, don't mean to bother I'm trying to follow up the development.
I've read archivarius script, are you planning to import models through dlc files? is this the idea?

Sorry, I missed a reply in my last post.

As Ros mentioned, until the check sum is resolved, using DLC containers is the only approach.  It means creating a DLC 'shell' and placing costumes into it.  They can be any type of costume they will just show up in their own slot instead of overriding an existing one.  

Archivarius exists to read game data and extract costume (or other) containers.

***
Holy @#$@#@#  sf234, Amazing progress, you're turning into a rock star!

With Noesis done that only leaves the TMC Praser(3dsmax), Texture injector(py) and Object Rotater(py, unless praser gets updated)

... and my translation stuff which I'm moving out of .NET XD
## Post #1416
- Username: Baal
- Rank: n00b
- Number of posts: 10
- Joined date: Thu Oct 16, 2014 12:33 am
- Post datetime: 2015-04-08T16:13:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

Awesome work sf234 !
This shit is going at lightning speed. I made a bet that we could mod the outfit to our heart content in a week, but I did not expected to be right XD

@ProtocolX27 look forward to your translation tool haha ^^
## Post #1417
- Username: synce
- Rank: n00b
- Number of posts: 12
- Joined date: Tue May 01, 2012 2:26 pm
- Post datetime: 2015-04-09T00:41:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Vashey wrote:I'll ask again, don't mean to bother I'm trying to follow up the development.
I've read archivarius script, are you planning to import models through dlc files? is this the idea?

Sorry, I missed a reply in my last post.

As Ros mentioned, until the check sum is resolved, using DLC containers is the only approach.  It means creating a DLC 'shell' and placing costumes into it.  They can be any type of costume they will just show up in their own slot instead of overriding an existing one.  

Archivarius exists to read game data and extract costume (or other) containers.

***
Holy @#$@#@#  sf234, Amazing progress, you're turning into a rock star!

With Noesis done that only leaves the TMC Praser(3dsmax), Texture injector(py) and Object Rotater(py, unless praser gets updated)

... and my translation stuff which I'm moving out of .NET XD

Just curious when you say costume do you mean texture edits or can you soon import an entire character into the game? (ex from Ninja Gaiden)
## Post #1418
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-09T00:59:23+00:00
- Post Title: Re: Dead or Alive series formats and tools

Character modelings from Ninja Gaiden have different file structure and cannot be imported to DOA5 PC version I guess.
## Post #1419
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2015-04-09T02:50:01+00:00
- Post Title: Re: Dead or Alive series formats and tools

I just quickly wrote this on monday in maxscript, it unpacks the TMC into its block components

[http://pastebin.com/SCbaaFQZ](http://pastebin.com/SCbaaFQZ)

I need to write in the rebuild function, but eventually will be the basis for a second script..
which will assemble a new MDL component block with new idx and vtx buffers. then its easy, we can can then examine the other less important blocks later down the road.

at one point when i was working on the console versions I had nulled a bunch of block components, only a few of them were critical to the model loading. the rest where related to physics, materials, emissions, sweat, etc.. but didnt have to be present to load the model.
## Post #1420
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-04-09T13:25:27+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from synce
>
> Just curious when you say costume do you mean texture edits or can you soon import an entire character into the game? (ex from Ninja Gaiden)
> Reply from Rosalin
>
> Character modelings from Ninja Gaiden have different file structure and cannot be imported to DOA5 PC version I guess.

Well if a 'costume' container has face/body/hair all included it is conceivably possible as in NG3 characters.  It was doable on console, so after the basics of switching to PC format is done, we can focus on converting console objects to pc format.  I suspect there won't be as much interest since PC is looking to have all costumes from the console, but again is possible later.

> Reply from mariokart64n
>
> I just quickly wrote this on monday in maxscript, it unpacks the TMC into its block components

http://pastebin.com/SCbaaFQZ

I need to write in the rebuild function, but eventually will be the basis for a second script..
which will assemble a new MDL component block with new idx and vtx buffers. then its easy, we can can then examine the other less important blocks later down the road.

at one point when i was working on the console versions I had nulled a bunch of block components, only a few of them were critical to the model loading. the rest where related to physics, materials, emissions, sweat, etc.. but didnt have to be present to load the model.

Awesome!! 

Since you are revisiting this, will you be able to address the 20 ObjGeo cap in the original? I think dloman made a workaround the last time since there were the occasional costume that went into 40-60 objects within the ObjGeo.  Also, b0ny had figured out how to fix the rotation matrix, so that everything imported properly on all axes.  If you're able to do this it would reduce having to use a second app prior to importing.      Of course, if already working on this never mind.  XD  I don't understand the struct and geometry code well enough to help, but if you don't have those scripts I can post them.
## Post #1421
- Username: Vashey
- Rank: advanced
- Number of posts: 41
- Joined date: Tue Mar 15, 2011 9:47 pm
- Post datetime: 2015-04-09T17:35:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Rosalin
>
> @Vashey
More than that we need to kill the checksum first to get into game.exe.

> Reply from Protocol X27
>
> As Ros mentioned, until the check sum is resolved, using DLC containers is the only approach.  It means creating a DLC 'shell' and placing costumes into it.  They can be any type of costume they will just show up in their own slot instead of overriding an existing one.

Thank you, that makes sense now.
That looks like a better idea than getting through game.exe, why would you bother do this when you can simply treat your custom model as a dlc file that adds a slot? or is there something I missed?


edit: I just realized you can't use dlc on a steam copy.

> Reply from Protocol X27
>
> I suspect there won't be as much interest since PC is looking to have all costumes from the console, but again is possible later.

PC already has  all the costumes now, those who don't want to buy the dlc (which is understandable) simply bought them from somewhere else than steam
## Post #1422
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-04-09T19:19:32+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Vashey
>
> 
Thank you, that makes sense now.
That looks like a better idea than getting through game.exe, why would you bother do this when you can simply treat your custom model as a dlc file that adds a slot? or is there something I missed?

edit: I just realized you can't use dlc on a steam copy.

PC already has  all the costumes now, those who don't want to buy the dlc (which is understandable) simply bought them from somewhere else than steam

The only 'known' potential issue is that there are limits on costume DLC slots. If someone has all DLC and wants to use custom slots too, the game.exe or something will need to be updated.  Plus DLC only works for costumes, people may want to edit sound, stages and others stuff as well.
## Post #1423
- Username: SkacikPL
- Rank: advanced
- Number of posts: 53
- Joined date: Tue Oct 28, 2014 2:51 pm
- Post datetime: 2015-04-09T20:55:10+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Plus DLC only works for costumes, people may want to edit sound, stages and others stuff as well.
So nobody ever figured out how to repack original content?
I mean, fixing textures alone is a pain to do via uMod.
## Post #1424
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-09T22:17:12+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from SkacikPL
>
> So nobody ever figured out how to repack original content?
I mean, fixing textures alone is a pain to do via uMod.It's been already mentioned in this thread several times.
You didn't catch it.
## Post #1425
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2015-04-10T01:37:21+00:00
- Post Title: Re: Dead or Alive series formats and tools

i'm still not even sure how we repack the DLC files?

can someone give a quick run through of how I can unpack the DLC, replace a costume with a NEW costumes from the DATA folder. then repack it into my DLC.
## Post #1426
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-04-10T02:47:23+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mariokart64n
>
> i'm still not even sure how we repack the DLC files?

can someone give a quick run through of how I can unpack the DLC, replace a costume with a NEW costumes from the DATA folder. then repack it into my DLC.

I thought you were talking about the vertex injector.  

The basics:
Using sf234's DLC tool.  
Find a file location, 
Save a new .bcm
Choose a character, hair style option. 
Add .tmc, .tmcl, --C, ---P files.  Save.  Presto, new DLC package.  
I don't know anything about the steam config stuff though, but it was mentioned somewhere in the last couple of pages. 

Edit:
I forgot to mention. Use archivarius for unpacking tmc/tmcl file content, etc.


***

Here's my Bone Index ripper.  It's not very useful by itself yet, but at least it's a start back toward vert weight translation.  I'll have to use the same process for the Nodes, and then have to revisit the vertex weight code, but for now at least it automates pulling the bone index instead of having to do so manually.  It exports to a text file with the PC ordering.

[https://www.mediafire.com/?8ky41be2jzjn1sb](https://www.mediafire.com/?8ky41be2jzjn1sb)
## Post #1427
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2015-04-11T04:06:44+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Esppiral
>
> Ninja ripper works flawlessly with the game
Is there a plugin for 3ds max 2012?
## Post #1428
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2015-04-11T04:25:15+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks for the archivarius the dlc outfits (preorder) ones are available!
## Post #1429
- Username: amandabyyy
- Rank: beginner
- Number of posts: 22
- Joined date: Mon May 31, 2010 3:08 pm
- Post datetime: 2015-04-11T04:35:57+00:00
- Post Title: Re: Dead or Alive series formats and tools

I'm getting into this now. I looked through about 20 pages and couldn't find anything for the following, but is there anything for:

1. Texture injection (given a tmc and tmcl file).
2. Mesh Object modification (Change how the material behaves or just disable a mesh given a tmc/tmcl file)

Thanks for any help.
## Post #1430
- Username: tcl36478655
- Rank: beginner
- Number of posts: 34
- Joined date: Mon Apr 08, 2013 9:22 am
- Post datetime: 2015-04-11T04:51:55+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> 
Since you are revisiting this, will you be able to address the 20 ObjGeo cap in the original? I think dloman made a workaround the last time since there were the occasional costume that went into 40-60 objects within the ObjGeo.  Also, b0ny had figured out how to fix the rotation matrix, so that everything imported properly on all axes.  If you're able to do this it would reduce having to use a second app prior to importing.      Of course, if already working on this never mind.  XD  I don't understand the struct and geometry code well enough to help, but if you don't have those scripts I can post them.

plz tell me more about " address the 20 ObjGeo cap in the original " maybe I can do something useful. Is that 40-60 not enough for editing? or do you want custom that value?
## Post #1431
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-04-11T04:59:40+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from amandabyyy
>
> I'm getting into this now. I looked through about 20 pages and couldn't find anything for the following, but is there anything for:

1. Texture injection (given a tmc and tmcl file).
2. Mesh Object modification (Change how the material behaves or just disable a mesh given a tmc/tmcl file)

Thanks for any help.
you mean for PC? or 360.
both have ways but the 360 is more comprehensive atm.
## Post #1432
- Username: amandabyyy
- Rank: beginner
- Number of posts: 22
- Joined date: Mon May 31, 2010 3:08 pm
- Post datetime: 2015-04-11T05:04:11+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> amandabyyy wrote:I'm getting into this now. I looked through about 20 pages and couldn't find anything for the following, but is there anything for:

1. Texture injection (given a tmc and tmcl file).
2. Mesh Object modification (Change how the material behaves or just disable a mesh given a tmc/tmcl file)

Thanks for any help.
you mean for PC? or 360.
both have ways but the 360 is more comprehensive atm.

Yeah for PC. I can hex edit and make my way around so I don't need full blown tools. Like if there is research on given files that describes certain bytes (say toggle how a material behaves, enabling/disabling a mesh) in the file that I can toggle via hex editing. Though I imagine I'd need a tool to inject a texture since that changes the offsets of everything else if I inject a texture that's a different size of the current texture.

Thanks 

EDIT: Actually it looks like I can just take a look at the noesis plugin. Sweet.
## Post #1433
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-04-11T14:05:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from tcl36478655
>
> 
plz tell me more about " address the 20 ObjGeo cap in the original " maybe I can do something useful. Is that 40-60 not enough for editing? or do you want custom that value?

The original 'tmc praser' would stop importing ObjGeo meshes after 20, I thought you modified one to loop through a 2nd time so that up to 40 would work.  If it's possible, it should be safe to use 100 if that's simple.  I don't know which model it was, but I thought I saw a Phase 4 model that had somewhat over 60 objects in one mesh.  

> Reply from amandabyyy
>
> 
Yeah for PC. I can hex edit and make my way around so I don't need full blown tools. Like if there is research on given files that describes certain bytes (say toggle how a material behaves, enabling/disabling a mesh) in the file that I can toggle via hex editing. Though I imagine I'd need a tool to inject a texture since that changes the offsets of everything else if I inject a texture that's a different size of the current texture.

Thanks 

EDIT: Actually it looks like I can just take a look at the noesis plugin. Sweet.

If you happen to find anything useful please feel free to share, I never fully understood the TTX block or the image hex for the 360 version.  Now that the containers are more simplified, I wouldn't mind knowing how to properly update address and manually 'paste' images in if need be.
## Post #1434
- Username: tcl36478655
- Rank: beginner
- Number of posts: 34
- Joined date: Mon Apr 08, 2013 9:22 am
- Post datetime: 2015-04-11T14:43:22+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Protocol X27

It should be possible. Because the reason why can't import more than 20 objGeo is the array which mario defined seems only can include 20 maxium parameters. That's why I add another loop for 40 objGeo...  mario should fix it easily maybe...
## Post #1435
- Username: amandabyyy
- Rank: beginner
- Number of posts: 22
- Joined date: Mon May 31, 2010 3:08 pm
- Post datetime: 2015-04-11T18:11:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

I'm learning little by little about the format. I was able to mess with the vertex positions by using noesis and screwing with the python plug-in script.
## Post #1436
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-04-11T20:42:07+00:00
- Post Title: Re: Dead or Alive series formats and tools

I've been studying this video from youtube
[https://www.youtube.com/watch?v=p6KNVKGW-dc](https://www.youtube.com/watch?v=p6KNVKGW-dc)

and I still cannot for the life of me figure out what the crap the "soft engine" is.

is it boobs????
## Post #1437
- Username: Esppiral
- Rank: n00b
- Number of posts: 11
- Joined date: Thu Aug 14, 2014 11:39 pm
- Post datetime: 2015-04-11T20:57:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from MisterNatal
>
> Esppiral wrote:Ninja ripper works flawlessly with the game



Is there a plugin for 3ds max 2012?

I don't know, I use 3dsmax 2015, sorry.
## Post #1438
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2015-04-11T21:55:52+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Esppiral
>
> MisterNatal wrote:Esppiral wrote:Ninja ripper works flawlessly with the game



Is there a plugin for 3ds max 2012?

I don't know, I use 3dsmax 2015, sorry.
Even better! I just downloaded that one, but now the DOA5 Importer isn't working :\ one problem after another
## Post #1439
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-04-12T01:03:59+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from MisterNatal
>
> Esppiral wrote:Ninja ripper works flawlessly with the game




Is there a plugin for 3ds max 2012?

He used ninja ripper, not a maxscript.
## Post #1440
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2015-04-12T05:07:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

right finished the repack function, of the script i posted last week.

[http://pastebin.com/PinzLYcK](http://pastebin.com/PinzLYcK)

its written in maxscript, so you'll need 3dsmax installed to use it.
(any version should work, but using the newest/fully updated 3dsmax is recommened )

script will open a TMC and unpack the block components and write them to a new folder along with a XML.
the xml stores all the unknowns from the header, until the time we can solve them all.
To repack the block components back into a TMC again, just press the repack button on the script gui and select that xml

if you want to add new blocks, you have to edit the XML
example:

```
	<block type=[2,0,0,128]>BIN002.ttd</block>
	<block type=[3,0,0,128]>BIN003.vtx</block>
	<block type=[4,0,0,128]>BIN004.idx</block>

```

add a new line in there like <block type=[-1,0,0,0]>myname.txt</block>

anyway in theory once I write the script to create new geometry components...
they just get written into that unpacked folder... and yeah we repack and it should work.

wish i understood how to get model mods working, this repacking the dlc is flipping confusing
## Post #1441
- Username: Baal
- Rank: n00b
- Number of posts: 10
- Joined date: Thu Oct 16, 2014 12:33 am
- Post datetime: 2015-04-12T08:04:44+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Lilstormcloud : Yeah the soft engine is a physic engine that appli a more realistic effect of gravity and juggling on women chest and males muscles. It behave more like a real chest and not like an airbag. This also imply "deformation" due to the position of the character (cf Nyo lose pose).
IMO it's pretty well done
## Post #1442
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-12T09:22:58+00:00
- Post Title: Re: Dead or Alive series formats and tools

Soft engine is about better SSS and another jiggle physics.
it's not technical naming, it's a some sort of advertising and you don't need to think about that deeply.
**
new index system is really annoying.
## Post #1443
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-04-12T10:33:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

Tool for work with textures (inspired by b0ny's tecmo360texturesExtractor). Drag and drop supported for Open/Swap routines. List's elements have context menu.
Supported formats (+necessary second file): .TMC (.TMCL); .--H (.--HL);  .--P; .SPR (.LTF); .SCN (.TTGL). Saving container back (with changed textures) for now works only for TMC/TMCL.
[viewtopic.php?p=105328#p105328](http://forum.xentax.com/viewtopic.php?p=105328#p105328)
Note: tmcl file have weird alignment (seems to switch between 64/32 bytes), save routine uses only 64byte alignment (which seems to work fine).

> Reply from mariokart64n
>
> can someone give a quick run through of how I can unpack the DLC, replace a costume with a NEW costumes from the DATA folder. then repack it into my DLC.Open DLC Tool. Click New. Select path (must be in <installed game>\DLC\ folder) and file name (e.g. "123" or "25897"). Click Add under Characters section, select target character. Change costume slot number (safe values for now 32 - 39 for main female cast, 5-14 for Sarah/Pai, 5-9 for male cast). Click Add under Files section and select neccessary files (minimum: *.---c, *.--p, *.tmc, *.tmcl = 4 files). Click Save.
Now, if you have cracked steam_api.dll (+steam_api.ini) from any available crack, open steam_api.ini and add new DLC*=<created dlc name> entry (e.g. DLC005=123 or DLC001=25897). When you start game new costume will appear in target character's costume list (most likely at the end of the list).
For non-cracked version you can switch any time to cracked one (and back) just by replacing steam_api.dll in the game folder (then start game without steam). Also, if you have at least one legally bought DLC you can try to create new DLC with it's name (don't forget to backup original files). Note, I didn't test both of these methods.

> Reply from amandabyyy
>
> Like if there is research on given files that describes certain bytes (say toggle how a material behaves, enabling/disabling a mesh) in the file that I can toggle via hex editing.For xbox360 version there is this link (from mariokart64n's signature): [https://docs.google.com/spreadsheet/ccc ... XNTYzlXaUE](https://docs.google.com/spreadsheet/ccc?key=0Aq8EDrYO-76adDd0RzI5dFpETnZwWmw0VXNTYzlXaUE)
## Post #1444
- Username: Esppiral
- Rank: n00b
- Number of posts: 11
- Joined date: Thu Aug 14, 2014 11:39 pm
- Post datetime: 2015-04-12T11:16:29+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> MisterNatal wrote:Esppiral wrote:Ninja ripper works flawlessly with the game



Is there a plugin for 3ds max 2012?

He used ninja ripper, not a maxscript.

Well, you need a maxscript in order to import ninja ripper dumps. 

I thought he was asking for this.
## Post #1445
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-04-12T13:16:09+00:00
- Post Title: Re: Dead or Alive series formats and tools

There's also a noesis script.
## Post #1446
- Username: kokuto
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sun Jul 31, 2011 1:26 am
- Post datetime: 2015-04-12T14:08:31+00:00
- Post Title: Re: Dead or Alive series formats and tools

HITOMI_COS_002(PC edition) has 18 textures.
9 are in TMC, and 9 are in TMCL.
Ref Numb is related in TTDH ('00' flag: in TMC, '01' flag: in TMCL).
## Post #1447
- Username: amandabyyy
- Rank: beginner
- Number of posts: 22
- Joined date: Mon May 31, 2010 3:08 pm
- Post datetime: 2015-04-12T16:38:22+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Tool for work with textures (inspired by b0ny's tecmo360texturesExtractor). Drag and drop supported for Open/Swap routines. List's elements have context menu.
Supported formats (+necessary second file): .TMC (.TMCL); .--H (.--HL);  .--P; .SPR (.LTF); .SCN (.TTGL). Saving container back (with changed textures) for now works only for TMC/TMCL.
http://ryushare.com/2o84to78zcn6/Texture_Tool.7z

The link to the tools seem to be down. Could you attach them to a post?

Thanks for everything!
## Post #1448
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-04-12T19:17:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

@LSC, just to elaborate on what was already explained.  It's 2 parts.  1) part Sub surface scattering for skin 2) part improved animation physics for boobs.  Both parts appear missing from PC unless the extra vert data Ros mentioned somehow applies. 

***

Awesome, stuff @All!  Going to actually take me a bit to catch up on all the resources available. 
***

Here's my next step in the chain for cross costume vertex adjustments.  Bone Node Ripper.  Again, not useful by itself unless someone wants to use the data.  It automates ripping the bone nodes and provides additional info other than the raw hex.  It outputs to a txt with the following info: 
bone index(int)| bone name| bone name(hex string)| node offset in nodeLay (int)| node offset in nodeLay (hex, big(?) endian)

[http://www.mediafire.com/download/ny93m ... Ripper.zip](http://www.mediafire.com/download/ny93m10vhe1h4jz/BoneNodeRipper.zip)

Edit: 
Did some tinkering.  Updated Archivarius & Noesis plugin worked.  Re: mario's repacker.  Looks like it worked, but is there anything that can be done with it yet, or is it still early?
## Post #1449
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-13T01:11:00+00:00
- Post Title: Re: Dead or Alive series formats and tools

There are missing faces under the cover on every honoka's body as I expected.  


 Reverse Endian.zip
(12.26 KiB) Downloaded 81 times

added 2 bytes mode
idxlay cannot be converted just by reversing.


@sf234
holy!! resolution free?
## Post #1450
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-04-13T15:33:57+00:00
- Post Title: Re: Dead or Alive series formats and tools

Fixed Noesis plugin (models with textures in tmc now handled properly). There is still rare bug when material incorrectly flagged as transparent.
[viewtopic.php?p=105194#p105194](http://forum.xentax.com/viewtopic.php?p=105194#p105194)

> Reply from amandabyyy
>
> The link to the tools seem to be down. Could you attach them to a post?I tried to do it in the first place but forum's limit for attached files is 256kb. Link works fine for me.
> Reply from Rosalin
>
> holy!! resolution free?Well, it looks, for me, that there aren't any limits on texture sizes. Tmc textures handling will be implemented in the next update.
## Post #1451
- Username: mikulover39
- Rank: advanced
- Number of posts: 61
- Joined date: Tue Nov 22, 2011 5:55 pm
- Post datetime: 2015-04-13T16:20:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks a lot sf234 for the noesis script and texture extractor!! tho the new noesis script seems to be giving errors on face tmcs

Found the alternate hairs and added them to the .dat some are in chara_common, Kasumi's and Ayane's are in chara_initial


[doa5LRarchivarius.rar](https://xentaxbackup.github.io/file/9016_doa5LRarchivarius.rar)
## Post #1452
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-04-13T17:19:33+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mikulover39
>
> Thanks a lot sf234 for the noesis script and texture extractor!! tho the new noesis script seems to be giving errors on face tmcsFixed.
[doa5pc.7z](https://xentaxbackup.github.io/file/9017_doa5pc.7z)
## Post #1453
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-04-15T00:13:58+00:00
- Post Title: Re: Dead or Alive series formats and tools

Next step is done.  Added a script that will shift 'Index' values (from IdxLay) by a specified value.  This one is useable by itself, but it is currently made for PC format.  It will flip all values to big endian, add/subtract the value, and then reset them to little endian.  It may be annoying that I have two script files, but I'm starting to build up a utility script for frequent operations.  Input format is a text file.  Paste the desired block of hex from the hex editor (with spaces) into a blank txt then make sure to identify that name at the start of the script along with the offset/shift value.  I also made sure to ignore 'FF FF' values.

The utils script function can take a byte array and reverse it based on any interval and even return a byte array with the values grouped by the interval if desired.  Ros, you might  be interested in this since you re-did some of the flipping processes.  Hope I didn't step on any toes by working on something similar to what you've been doing.

*** 
Side Notes
(If I understand correctly)
Console: Big Endian
PC: Little Endian
[IndexShifter.zip](https://xentaxbackup.github.io/file/9025_IndexShifter.zip)
## Post #1454
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-15T12:23:53+00:00
- Post Title: Re: Dead or Alive series formats and tools

I found SSS stuffs in mtrcol section and modified it.
SSS color and depth could be changed but,....

the quality looked never like the PS4 version.. whatever I tried. 
I just was able to change the SSS color and depth(brightness) literally.. 

*****

for now, what's most wanted is senran kagura DLC.
I neeeed neeew haaaairs.
## Post #1455
- Username: SkacikPL
- Rank: advanced
- Number of posts: 53
- Joined date: Tue Oct 28, 2014 2:51 pm
- Post datetime: 2015-04-15T14:02:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Rosalin
>
> I found SSS stuffs in mtrcol section and modified it.
SSS color and depth could be changed but,....

the quality looked never like the PS4 version.. whatever I tried. 
I just was able to change the SSS color and depth(brightness) literally..
Could you possibly make a few screenshots of those changes?
## Post #1456
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-15T14:32:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from SkacikPL
>
> 
Could you possibly make a few screenshots of those changes?
meaningless.
seriously.
Imagine just skin got brightness up and contrast down.

or you can try it yourself.

on any kokoro's TMC
find

```
 R        G        B        depth
```
## Post #1457
- Username: SkacikPL
- Rank: advanced
- Number of posts: 53
- Joined date: Tue Oct 28, 2014 2:51 pm
- Post datetime: 2015-04-15T18:24:53+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Rosalin
>
> SkacikPL wrote:
Could you possibly make a few screenshots of those changes?
meaningless.
seriously.
Imagine just skin got brightness up and contrast down.

or you can try it yourself.

on any kokoro's TMC
find
Code: Select all9A99993E 0000803E CDCC4C3E CDCC4C3E (reversed float)
 R        G        B        depth
If PC version has handling for SSS then possibly other features that are supposedly "not there" can be tweaked too?
## Post #1458
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-04-15T19:48:52+00:00
- Post Title: Re: Dead or Alive series formats and tools

Nice!, you found the "soft engine" lol
## Post #1459
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-15T22:37:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

PS3 and 360 version also had SSS options.
it's been always activated.
and PS4 version has 'better' SSS...
## Post #1460
- Username: Vashey
- Rank: advanced
- Number of posts: 41
- Joined date: Tue Mar 15, 2011 9:47 pm
- Post datetime: 2015-04-15T22:54:10+00:00
- Post Title: Re: Dead or Alive series formats and tools

That would mean they actually tried to implement soft engine.
I don't think the game as it is now can put SSS to use with efficiency anyway.

Call it window dressing.
## Post #1461
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-15T23:06:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

It's a core feature.
it can't be achieved by tweaking TMC.
## Post #1462
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-04-15T23:28:00+00:00
- Post Title: Re: Dead or Alive series formats and tools

It okay, we can all use a bit of window dressing.

from now on we could call all the mods "nude engine"

with the sub text

"makes the skin look more naked than regular tecmo DLC" (but only slightly)

"the nude engine is only available on PC due to hardware constraints"
## Post #1463
- Username: CDD Xtreme
- Rank: beginner
- Number of posts: 38
- Joined date: Mon Jun 14, 2010 3:24 pm
- Post datetime: 2015-04-16T04:35:17+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> It okay, we can all use a bit of window dressing.

from now on we could call all the mods "nude engine"

with the sub text

"makes the skin look more naked than regular tecmo DLC" (but only slightly)

"the nude engine is only available on PC due to hardware constraints"

Wow its been ages since I caught up with the modding community. So what are you guys trying to achieve.

PS. For this sites safety we should probably not use the word "n*de" anywhere lol. Might wanna keep it soft engine I 
like it better ....mmm boobies.
## Post #1464
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-16T05:06:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from CDD Xtreme
>
>  So what are you guys trying to achieve.
We need a genius hacker who can hack into game.exe,
then we will going to a get high resolution textures on the stages without using damn uMods. and furthermore.
## Post #1465
- Username: CDD Xtreme
- Rank: beginner
- Number of posts: 38
- Joined date: Mon Jun 14, 2010 3:24 pm
- Post datetime: 2015-04-16T06:01:02+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Rosalin
>
> CDD Xtreme wrote: So what are you guys trying to achieve.
We need a genius hacker who can hack into game.exe,
then we will going to a get high resolution textures on the stages without using damn uMods. and furthermore.

I see. Well I am a little confused. I don't play DOA for how the stages look, I play it for the girls and I have had more than my fill playing with them....

Based on this clip personally [http://www.siliconera.com/2014/12/24/de ... omparison/](http://www.siliconera.com/2014/12/24/dead-alive-5-last-rounds-soft-engine-comparison/)
The "Soft Engine" shown on left is for the PS4. So am I to assume you guys want this for the PC?

From my experience it definitely is possible to make this hack happen but I am questioning If it is actually a simple switch or something that makes everything look better than why did Team Ninja not enable it in the first place? Could it be a test to see how good our hacker community is or something?
## Post #1466
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-16T06:12:23+00:00
- Post Title: Re: Dead or Alive series formats and tools

@CCD
I don't know what you mean.
## Post #1467
- Username: CDD Xtreme
- Rank: beginner
- Number of posts: 38
- Joined date: Mon Jun 14, 2010 3:24 pm
- Post datetime: 2015-04-16T07:06:11+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Rosalin
>
> @CCD
I don't know what you mean.

Dw, I am a little confused as to why go through all the effort when instead we should be rallying at Team Ninja for a Poor Port to the most powerful system.
## Post #1468
- Username: Vashey
- Rank: advanced
- Number of posts: 41
- Joined date: Tue Mar 15, 2011 9:47 pm
- Post datetime: 2015-04-16T08:49:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

Is it really why we are here for?

> From my experience it definitely is possible to make this hack happen

How?
Tell us more.
## Post #1469
- Username: CDD Xtreme
- Rank: beginner
- Number of posts: 38
- Joined date: Mon Jun 14, 2010 3:24 pm
- Post datetime: 2015-04-16T12:11:30+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Vashey
>
> Is it really why we are here for?
From my experience it definitely is possible to make this hack happen

How?
Tell us more.

From my experience simple texture changes will achieve a similar affect.

Otherwise if this Soft Engine thing is really within the engine and its a switch or something that you can turn on/off you will probably need a hacker to do it. 

The worst case is if the features are actually incomplete (as in maybe the left it out because they never finished it for the PC) and then just left unusable traces....
## Post #1470
- Username: tcl36478655
- Rank: beginner
- Number of posts: 34
- Joined date: Mon Apr 08, 2013 9:22 am
- Post datetime: 2015-04-16T15:09:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
>  Input format is a text file.  Paste the desired block of hex from the hex editor (with spaces) into a blank txt then make sure to identify that name at the start of the script along with the offset/shift value.  I also made sure to ignore 'FF FF' values.

OTL...Help!!!
I opened a txt file. Paste 00000100. Named it 123.txt. Then opened IndexShifter.py. Set fileName = '123.txt' ? Set hexByteShiftValue = 2  or 8???  I'm confused...


> Reply from Protocol X27
>
> 
Here's my next step in the chain for cross costume vertex adjustments.  Bone Node Ripper.  Again, not useful by itself unless someone wants to use the data.  It automates ripping the bone nodes and provides additional info other than the raw hex.  It outputs to a txt with the following info: 
bone index(int)| bone name| bone name(hex string)| node offset in nodeLay (int)| node offset in nodeLay (hex, big(?) endian)

Seems it's PC version? 

> elif(nodeObjLength[0] == 112):
>
>             structFormat = 'cccccccccccccccccccccccccccccccccccccccccccccccc'
>
>             nameLength = 48
Should '112' to be '192'? or just PC version must be 112? I just modified it for xbox version and noticed that.
## Post #1471
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-04-16T20:27:38+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from tcl36478655
>
> 

OTL...Help!!!
I opened a txt file. Paste 00000100. Named it 123.txt. Then opened IndexShifter.py. Set fileName = '123.txt' ? Set hexByteShiftValue = 2  or 8???  I'm confused...
Yep, any file name .txt is fine.
ShiftValue is the number to add or lower.  When inserting a mesh, remaining indices needed to increased.  So if indices needed to be increased by AB, for example, put the int equivalent there.

> Reply from tcl36478655
>
> 
Seems it's PC version?
yes, for now.

> Reply from tcl36478655
>
> 
elif(nodeObjLength[0] == 112):
            structFormat = 'cccccccccccccccccccccccccccccccccccccccccccccccc'
            nameLength = 48
Should '112' to be '192'? or just PC version must be 112? I just modified it for xbox version and noticed that.

I didn't know the proper way to write that, but in case there were bone names that were 3 lines long, I added that.  Since it applies to bone name length, it should be the same for the console.  Let me double check that though when I'm back home.  I can't recall at the moment.

Edit: 
Okay, on the last one I got confused, cuz I was thinking about the Index Shifter.   For the Bone Node Ripper, you shouldn't have to change anything for the console other than the face they're still in PC format for the lengths and stuff.   For the 'if' statements, I read the whole Bone Node  block,  most of them are 0x50 in length (80.) I added the 96 & 112 as int lengths for longer blocks.  The bone node name is always at the end, so I wanted to make sure I got the full name.  Most bone nodes I've seen though are only two lines (0x32) in length though.
## Post #1472
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-04-17T19:34:21+00:00
- Post Title: Re: Dead or Alive series formats and tools

Updated Texture Tool, save now works for --h/--p files. Tmc files with textures now opens correctly, as for save, there seems to be some kind of limit either on subsection (TTDM) size or on whole size of character's tmc file. Model with ~5Mb of textures in tmc works fine, with ~6Mb game crashes. There is an idea to convert such models (for using only tmcl textures).
[http://rghost.net/private/7gLDNKRql/6dc ... 03ef1ea696](http://rghost.net/private/7gLDNKRql/6dc537cda2f9deb21841e603ef1ea696)
## Post #1473
- Username: Vashey
- Rank: advanced
- Number of posts: 41
- Joined date: Tue Mar 15, 2011 9:47 pm
- Post datetime: 2015-04-18T01:28:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

Edit: forget it
## Post #1474
- Username: amandabyyy
- Rank: beginner
- Number of posts: 22
- Joined date: Mon May 31, 2010 3:08 pm
- Post datetime: 2015-04-18T17:14:34+00:00
- Post Title: Re: Dead or Alive series formats and tools

Can we extract the non-DLC tmcs from the regular costumes?  If so, can anyone help me?

Thanks!
## Post #1475
- Username: Vashey
- Rank: advanced
- Number of posts: 41
- Joined date: Tue Mar 15, 2011 9:47 pm
- Post datetime: 2015-04-19T05:08:09+00:00
- Post Title: Re: Dead or Alive series formats and tools

If you mean the default costumes then all you need to do is use archivarius script and extract from chara_common.bin in your game's folder.
remember that this file doesn't have the -P files, use any -P you want from another dlc costume
## Post #1476
- Username: SkacikPL
- Rank: advanced
- Number of posts: 53
- Joined date: Tue Oct 28, 2014 2:51 pm
- Post datetime: 2015-04-19T12:18:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

I apologize for my ignorance here, but i'm totally alien to DOA engine as DOA 5 on PC is my first DOA game.
Can someone kind of write up what needs to be done in order to extract, edit and then repack vanilla costume texture in a kind of systematized way?
## Post #1477
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-04-19T20:15:04+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from SkacikPL
>
> I apologize for my ignorance here, but i'm totally alien to DOA engine as DOA 5 on PC is my first DOA game.
Can someone kind of write up what needs to be done in order to extract, edit and then repack vanilla costume texture in a kind of systematized way?

There is no master tutorial at the moment, since doing basic mods still consists of using a few different utils.  A lot of the regulars have been working with it since Vanilla, so there isn't really a simple jumping in point.  The best thing to do is starting playing around with the utilities to get an understanding and then start honing down questions to be more specific until someone comes along with a more elaborate tutorial.  

For starters: Archivarius is used to unpack .bin files which can hold costume or stage tmc & tmcl files. .bin files exist inside the core game files (like chara_common.bin) or inside DLC folders.  Those can be modified and then injected back into game, but at the moment I think we are still limited to using DLC containers.  In that case, you'll need to use a DLC tool to pack a new dlc package.  There is instructions for this in one of sf234's recent posts. 

For now tmc/tmcl files can only have images edited, or be modified manually via hex.  There is very little automation just yet.

***
And just a general message for anyone new to modding DOA. It will take some patience.  People are still working on solving problems.  It's a community effort.
## Post #1478
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-04-20T00:29:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

If you just want to edit textures then easiest way is probably just umod lol

Its so true though, where do you even begin to explain to people the processes involved now days?
## Post #1479
- Username: SkacikPL
- Rank: advanced
- Number of posts: 53
- Joined date: Tue Oct 28, 2014 2:51 pm
- Post datetime: 2015-04-20T18:47:27+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> If you just want to edit textures then easiest way is probably just umod lol
Umod is a poor choice, it's a pain to use, does not seem to work with fullscreen and it increases load times significantly, and it only goes longer with each texture you replace.
That's why i asked whether a proper solution is available, where we could replace textures inside the archives.

Mass Effect 2 with Texmod replacements for the main cast caused it to boot for solid 2 to 3 minutes depending on your rig.
## Post #1480
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-04-21T00:31:27+00:00
- Post Title: Re: Dead or Alive series formats and tools

Use the texture tool release here.
1 click to extract 2 clicks to inject back in once you mod it in photoshop

Use the tool to open a tmc with the tmcl also in the folder.
select the desired texture from list. right click, extract.

or just select extract all.
Note the path that the extraction is saved to at the top.

modify the texture.

right click the texture to be replaced, select swap.

Press save (probably)

view results in noesis

you should be able to find the tool floating around on other sites too.
## Post #1481
- Username: NebulaUK
- Rank: n00b
- Number of posts: 15
- Joined date: Tue Apr 21, 2015 2:37 am
- Post datetime: 2015-04-21T19:12:31+00:00
- Post Title: Re: Dead or Alive series formats and tools

is it possible to use the models from dead or alive 5 last round on the xbox 360 version with some sort of conversion if so how do i do it.
## Post #1482
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-04-21T19:21:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

Kind of pointless since they're the same models more or less.
## Post #1483
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-21T20:02:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

All right I'll tell you the answer.

Think about that you picked a pair of models, which they are looking exactly same, one from xbox, another from PC.
Then they have vertex information in exactly same order with a little bit of tweak.
That's the key point.
## Post #1484
- Username: NebulaUK
- Rank: n00b
- Number of posts: 15
- Joined date: Tue Apr 21, 2015 2:37 am
- Post datetime: 2015-04-21T20:15:54+00:00
- Post Title: Re: Dead or Alive series formats and tools

thanks for the replies but what is the process from taking the model mods from the pc version to using them on the xbox 360 as i am a noob to all this.
## Post #1485
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-21T20:20:19+00:00
- Post Title: Re: Dead or Alive series formats and tools

find the address, get the data, do some tweak, put back into another file.
that's all.
## Post #1486
- Username: NebulaUK
- Rank: n00b
- Number of posts: 15
- Joined date: Tue Apr 21, 2015 2:37 am
- Post datetime: 2015-04-21T20:33:43+00:00
- Post Title: Re: Dead or Alive series formats and tools

again thank you but as i said i have no idea where to start could you please help me
## Post #1487
- Username: NebulaUK
- Rank: n00b
- Number of posts: 15
- Joined date: Tue Apr 21, 2015 2:37 am
- Post datetime: 2015-04-21T22:03:13+00:00
- Post Title: Re: Dead or Alive series formats and tools

ok so heres what i want to do unpack the pc modded dlc and use it on the xbox 360 which file does it go into and what tools to use to do this

Thanks
## Post #1488
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-22T00:19:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

I'm sorry, that's the worst scenario and there's no tool for each and every steps. 

I can't help with that.
## Post #1489
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-04-22T00:20:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

Why are you so interested to port them to 360 if we just basically said they're exactly the same?? lol

same shape, same vertex count, same.

edit
oooooo
I understand now, you want to use the PC mod on the 360 lol.
That's more complicated than making the mod yourself on the 360.

We can revisit this round 11th of May if you still haven't found a solution by then.
(too busy with work to do anything atm)
## Post #1490
- Username: NebulaUK
- Rank: n00b
- Number of posts: 15
- Joined date: Tue Apr 21, 2015 2:37 am
- Post datetime: 2015-04-22T14:58:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

ok i think i am getting an idea of what to do now how do i extract the pc version dlc to get the tmc and tmcl files out. then how do i add this data onto the end of content_data.lnk and change the values to point to the new TMC and TMCL data in a hex editor.
## Post #1491
- Username: NebulaUK
- Rank: n00b
- Number of posts: 15
- Joined date: Tue Apr 21, 2015 2:37 am
- Post datetime: 2015-04-22T16:23:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

ok i used archivarius to extract the pc dlc but it has weird filename how do i fix this.
## Post #1492
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-04-22T19:43:23+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from NebulaUK
>
> ok i used archivarius to extract the pc dlc but it has weird filename how do i fix this.

Not all files have 'normal' file names.  If some files have encrypted names, you will need the 'blp converter'.  With this tool you open the blp, and it dumps out translated names that need to go into the .dat file for archivarius. 

***

While waiting for a PC 3dsmax importer, I had an idea.... If all of the models are indeed matching in vertex count, it would be possible to make mesh changes to the 360 model, get the verts and then translate the x,y,z coordinates of the PC model to match.  I'm going to see if I can make a util for that in the next couple of days.  Just been trying to resolve some hardware stuff, hence my own slow progress.
## Post #1493
- Username: NebulaUK
- Rank: n00b
- Number of posts: 15
- Joined date: Tue Apr 21, 2015 2:37 am
- Post datetime: 2015-04-22T22:32:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

thanks for your help no how do i get this into the content_data file for the xbox 360
## Post #1494
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-23T00:22:10+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Prot

I guess, the mod he has modified uv, index order, bone size,  vertex normal and tweaked geodecl as well as vertex xyz.
## Post #1495
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-04-23T00:40:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

"Guess"   

Pro,
Is the tool going to inject the xyz or will it convert the whole tmc & l?
reason I ask is most of our 360 stuff are swapped and adjusted in the usual ways so a straight forward xyz injection will be more likely to create a starfish.
## Post #1496
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-04-23T01:08:22+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from NebulaUK
>
> thanks for your help no how do i get this into the content_data file for the xbox 360

You'll need the '.tmc, '.tmcl', '--p' and '--c' files from the costumer you want to use.  Once you have those you can use the 'DLC Tool' to repack them.  Along with most of the links, sf234 included instructions on how to use it.  

However, this is only going to work by using 360 files with the 360.  PC files are not going to work with the 360 or vice versa.

***

> Reply from Rosalin
>
> @Prot

I guess, the mod he has modified uv, index order, bone size,  vertex normal and tweaked geodecl as well as vertex xyz.
So you think there are different values now?  O_0    I know you said there were extra buffer groups, but everything else should  be the same... You must have edited your original post on that subject because I couldn't find it.  

> Reply from Lilstormcloud
>
> 
Pro,
Is the tool going to inject the xyz or will it convert the whole tmc & l?
reason I ask is most of our 360 stuff are swapped and adjusted in the usual ways so a straight forward xyz injection will be more likely to create a starfish.

No time for auto injection just yet, it'll be the old text document approach.  Also, I'll just read against the provided fields for a source and target vert set.  It'll then require pasting back into the original location.  As long as the source & target vert sets match it shouldn't be a problem.
## Post #1497
- Username: Vashey
- Rank: advanced
- Number of posts: 41
- Joined date: Tue Mar 15, 2011 9:47 pm
- Post datetime: 2015-04-23T08:47:22+00:00
- Post Title: Re: Dead or Alive series formats and tools

What are -TMCL and -C files for?
I know TMC contains 3D data and -P is just the picture.

I'm trying to hex edit some files here, but it would help a lot if I could compare a file that I modified in 3Dsmax and the original one.
of course they have to be both TMC files, mariokart64n posted a script before, but the pastbin has been removed, any of you still have the maxscript here?

If not I could also just do trial and error, but how do I recognize a vertex float in the hex editor?
## Post #1498
- Username: NebulaUK
- Rank: n00b
- Number of posts: 15
- Joined date: Tue Apr 21, 2015 2:37 am
- Post datetime: 2015-04-23T11:18:40+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> NebulaUK wrote:thanks for your help no how do i get this into the content_data file for the xbox 360

You'll need the '.tmc, '.tmcl', '--p' and '--c' files from the costumer you want to use.  Once you have those you can use the 'DLC Tool' to repack them.  Along with most of the links, sf234 included instructions on how to use it.  

However, this is only going to work by using 360 files with the 360.  PC files are not going to work with the 360 or vice versa.

I thought the tmc and tmcl files where the same so it's not possible without some kind of conversion.

Where to find the xbox 360 version of dlc tool or is it the same as the pc version. Are there any existing mods for the 360 and where can they be found.
## Post #1499
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-04-23T14:11:27+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Vashey
>
> What are -TMCL and -C files for?
I know TMC contains 3D data and -P is just the picture.

I'm trying to hex edit some files here, but it would help a lot if I could compare a file that I modified in 3Dsmax and the original one.
of course they have to be both TMC files, mariokart64n posted a script before, but the pastbin has been removed, any of you still have the maxscript here?

If not I could also just do trial and error, but how do I recognize a vertex float in the hex editor?

> Reply from NebulaUK
>
> 
I though the tmc and tmcl files where the same so it's not possible without some kind of conversion.

Where to find the xbox 360 version of dlc tool or is it the same as the pc version. Are there any existing mods for the 360 and where can they be found.

Here's the basic file breakdown
360
TMC: contains most data
TMCL: contains textures, vertices, indices

PC:
TMC: contains everything BUT textures
TMCL: only contains textures

Both
---P: contains dlcicon texture (does not exist for standard costumes)
--C: contains configuration information for costume like face / hair / accessory toggling.

***
@Vashey, the script you mentioned only splits the containers into blocks at the moment, I don't know how it's to be implemented.  There was a 360 import script which pulls the mesh and everything into 3dsmax.  

To find vertices, you'll have to look into the 'VtxLay' in the TMC.  Most groups in the TMC, have some basic info, then the list of offsets and sometimes the lengths for the objects in those offsets.  The PC version has different vertex buff lengths, so at the moment I don't know if all vertices are now 64 bytes long for all mesh groups or not.  360 models used to vary between 28 bytes and 44 bytes. It's going to take some self study or more in depth explanation.

@Nebula
When people said they were the same, they meant the costumes, but no, the TMC & TMCL files are radically different enough that there is no easy conversion process this early. Most utils were still in this thread somewhere even for 360, but I don't know of anywhere to find mods.  The community was very small, and most people worked on their own mods.
## Post #1500
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-04-23T19:52:00+00:00
- Post Title: Re: Dead or Alive series formats and tools

For those who want to extract models from 360 version, the new hotgateway dlc is already out, just use the blp converter to update your dat file.
## Post #1501
- Username: NebulaUK
- Rank: n00b
- Number of posts: 15
- Joined date: Tue Apr 21, 2015 2:37 am
- Post datetime: 2015-04-23T22:42:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

are there any existing xbox 360 mods for DOA5LR if so where can i find them?
## Post #1502
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-04-24T03:27:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from NebulaUK
>
> are there any existing xbox 360 mods for DOA5LR if so where can i find them?

That's what I was saying, that there are not any major resources for 360 mods, at least with this community.  You'd have to try 360iso or something.  Unless someone PM's you with some crazy resource, I wouldn't hold your breath.

***
I'm working on getting some DLC stuff prepped for testing.  For some reason the startup_setting.exe does not seem to run, so I can't mess with any of the config settings.  Anyone have any issues or insight into that?

***
I also got the coordinate snapper working, I just need to clean up the code and do an actual test.  Should be able to have it up over the weekend.
## Post #1503
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-04-24T05:27:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from NebulaUK
>
> are there any existing xbox 360 mods for DOA5LR if so where can i find them?

You can find it on pro's usb drive lol, kidding kidding.  

Pro,
for the config google "dead or alive last round fix bat"
## Post #1504
- Username: NebulaUK
- Rank: n00b
- Number of posts: 15
- Joined date: Tue Apr 21, 2015 2:37 am
- Post datetime: 2015-04-24T11:21:57+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks for having a look into this
## Post #1505
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-04-24T12:09:15+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> 
Pro,
for the config google "dead or alive last round fix bat"

Thanks, that did the trick!  Now if only I didn't have to unlock stuff again for the bajillionth time XD
## Post #1506
- Username: SkacikPL
- Rank: advanced
- Number of posts: 53
- Joined date: Tue Oct 28, 2014 2:51 pm
- Post datetime: 2015-04-24T15:43:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Updated Texture Tool, save now works for --h/--p files. Tmc files with textures now opens correctly, as for save, there seems to be some kind of limit either on subsection (TTDM) size or on whole size of character's tmc file. Model with ~5Mb of textures in tmc works fine, with ~6Mb game crashes. There is an idea to convert such models (for using only tmcl textures).
http://rghost.net/private/7gLDNKRql/6dc ... 03ef1ea696
I caught that quite late, but this means that entire texture limit for a single TMC is 5MB? That's quite poor lol.
This throws high res retextures out of the window basically.

Also i have another question about DLC tool.
I've been tinkering about face/hair options. Indexes from 0-9 work fine, but after that the DLC tool only accepts inputs like 23, 34, 45 and so on.
I don't quite get the logic behind this index and i'm just trying blindly, also using indexes above 100 will load actual head meshes for hair.
## Post #1507
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-04-25T17:02:49+00:00
- Post Title: Re: Dead or Alive series formats and tools

Ok, as promised: MeshWarp.  It's still a bit hands on and requires ripping the verts from 360 & PC containers manually for each group, but it does work stand alone.  I've tested it with a model having multiple mesh objects adjusted even of different buffer length.  I included a read me this time.  Use the int value of the vertex buffer & divide by 4, for the buffer length values.

It looks like buffer lengths have been changed differently based on the vertex group.  I still haven't worked on a 32 yet, but 28,40,44's all have different buffer lengths.

360(int)/360(hex) -> PC(int)/PC(hex)

28/1C -> 36/24
40/28 -> 60/3C
44/2C -> 64/40

***
Edit: Resolved DLC Tool / BLP Issues, was missing PC updates.
[MeshWarp.zip](https://xentaxbackup.github.io/file/9105_MeshWarp.zip)
## Post #1508
- Username: Vashey
- Rank: advanced
- Number of posts: 41
- Joined date: Tue Mar 15, 2011 9:47 pm
- Post datetime: 2015-04-25T21:21:07+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks, sounds useful.
How do I run it exactly? I tried with python but it doesn't work, same with noesis.



As for chara_common, I have no problem opening it with archivarius 1.8.
## Post #1509
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-04-25T22:20:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Vashey
>
> Thanks, sounds useful.
How do I run it exactly? I tried with python but it doesn't work, same with noesis.



As for chara_common, I have no problem opening it with archivarius 1.8.

open it in IDLE python GUI

Pro,
Think you're referring to the second to last post. [viewtopic.php?p=104985#p104985](http://forum.xentax.com/viewtopic.php?p=104985#p104985)
It says it requires cracked .ini
## Post #1510
- Username: NebulaUK
- Rank: n00b
- Number of posts: 15
- Joined date: Tue Apr 21, 2015 2:37 am
- Post datetime: 2015-04-25T23:01:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Ok, as promised: MeshWarp.  It's still a bit hands on and requires ripping the verts from 360 & PC containers manually for each group, but it does work stand alone.  I've tested it with a model having multiple mesh objects adjusted even of different buffer length.  I included a read me this time.  Use the int value of the vertex buffer & divide by 4, for the buffer length values.

It looks like buffer lengths have been changed differently based on the vertex group.  I still haven't worked on a 32 yet, but 28,40,44's all have different buffer lengths.

360(int)/360(hex) -> PC(int)/PC(hex)

28/1C -> 36/24
40/28 -> 60/3C
44/2C -> 64/40

***

While working on some stuff a few questions popped up about the utils. Hopefully someone can point me in the direction.

Archivarius PC
1) chara_common did not want to open... anything...  Am I missing an update?
2) Tropical DLC blp did not extract one of the TMC's correctly.  Nyotengu White Swimsuit

BLP Converter
1) Does not read Tropical DLC blp,  is there any update needed for it to read PC files?

can this convert pc to 360 as well.
## Post #1511
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-04-26T00:09:15+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Vashey
>
> Thanks, sounds useful.
How do I run it exactly? I tried with python but it doesn't work, same with noesis.

Yep, LSC explained how to use the actual file.  If you mean how to get the data though, that's a bit more involved with finding vertices in hex and saving them into text files.  Feel free to ask specifics if your still learning that.

> Reply from Lilstormcloud
>
> Thanks, sounds useful.
Pro,
Think you're referring to the second to last post. viewtopic.php?p=104985#p104985
It says it requires cracked .ini

Thanks, looked like I missed that one too.    I thought I had one more recent than that, but looks like its working.  Does the swapping work with the core stuff, or is it still an issue with the game.exe that causes the game to crash?

> Reply from NebulaUK
>
> 
can this convert pc to 360 as well.

No, isn't much advantage right now without having without the ability to edit PC vertices.  If that means happens, it might be easy to adjust it to do so later.
## Post #1512
- Username: zareef
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Thu Sep 04, 2014 1:27 pm
- Post datetime: 2015-04-26T02:55:23+00:00
- Post Title: Re: Dead or Alive series formats and tools

Would anyone be so kind and tell me where to find "blp converter" (for Xbox 360 not PC) ?
I can't find it.. and searching the forum doesn't help..
## Post #1513
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2015-04-26T04:16:38+00:00
- Post Title: Re: Dead or Alive series formats and tools

Does anyone know what page I can find the new importers for 3ds max? because I would love to port some outfits but cannot
## Post #1514
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-04-26T05:23:47+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from zareef
>
> Would anyone be so kind and tell me where to find "blp converter" (for Xbox 360 not PC) ?
I can't find it.. and searching the forum doesn't help..
[viewtopic.php?f=16&t=6392&start=1215](http://forum.xentax.com/viewtopic.php?f=16&t=6392&start=1215)

One of the last posts.

> Reply from MisterNatal
>
> Does anyone know what page I can find the new importers for 3ds max? because I would love to port some outfits but cannot

I don't think there are any new importers yet.  marios unpacker/repacker is within the last 10 pages, I think.
## Post #1515
- Username: MarieRose1301
- Rank: veteran
- Number of posts: 97
- Joined date: Sun Oct 12, 2014 5:29 am
- Post datetime: 2015-04-26T09:51:29+00:00
- Post Title: Re: Dead or Alive series formats and tools

Has anyone updated the x360 archivarius dat?
For some reason,it decrypted only Lisa,Christie and Tina to me :/
## Post #1516
- Username: zareef
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Thu Sep 04, 2014 1:27 pm
- Post datetime: 2015-04-26T10:36:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> zareef wrote:Would anyone be so kind and tell me where to find "blp converter" (for Xbox 360 not PC) ?
I can't find it.. and searching the forum doesn't help..
viewtopic.php?f=16&t=6392&start=1215

One of the last posts.

Wow
Thank you so much   

> Reply from MarieRose1301
>
> Has anyone updated the x360 archivarius dat?
For some reason,it decrypted only Lisa,Christie and Tina to me :/

It is in the attachments.
[doa5Uarchivarius.rar](https://xentaxbackup.github.io/file/9109_doa5Uarchivarius.rar)
## Post #1517
- Username: MarieRose1301
- Rank: veteran
- Number of posts: 97
- Joined date: Sun Oct 12, 2014 5:29 am
- Post datetime: 2015-04-26T11:43:55+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from zareef
>
> MarieRose1301 wrote:Has anyone updated the x360 archivarius dat?
For some reason,it decrypted only Lisa,Christie and Tina to me :/

It is in the attachments.

Oh thank you so much :3
## Post #1518
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-04-28T13:39:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from SkacikPL
>
> sf234 wrote:Also i have another question about DLC tool.
I've been tinkering about face/hair options. Indexes from 0-9 work fine, but after that the DLC tool only accepts inputs like 23, 34, 45 and so on.
I don't quite get the logic behind this index and i'm just trying blindly, also using indexes above 100 will load actual head meshes for hair.
You can refer to this post (which defines BCM character's entries): [viewtopic.php?p=100749#p100749](http://forum.xentax.com/viewtopic.php?p=100749#p100749)
## Post #1519
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-04-28T17:27:07+00:00
- Post Title: Re: Dead or Alive series formats and tools

@sf234
What's your next project? If you aren't in the middle of a big one any chance you convert the object rotater that b0ny made... OR if you ran across the information with the Noesis plugin update, clarify if PC models still have the object rotation matrix issue?  Ayane_DLCU_004 & COS_002 (and others) had issues in the 360 version, and the 3dsmax script was never adjusted to fix the rotation so the app fixed the matrix itself.

If the PC models are still the same just with endian differences, I could probably write and updater based on the 360 model.   Presently, I'm about halfway done with a script that will dump the 'mesh_data' meta, but with index values too this time.  Need to wrap that up first.

Edit: 
Just for kicks, proof of mesh adjustment working. Using 360 to PC comparison method.

[http://i1064.photobucket.com/albums/u37 ... 50rdkg.jpg](http://i1064.photobucket.com/albums/u375/ProtocolX27/Mods/NyotenguMeshSm_zpshj50rdkg.jpg)
## Post #1520
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-04-29T04:45:12+00:00
- Post Title: Re: Dead or Alive series formats and tools

Happy fap time:

[https://www.youtube.com/watch?v=0XpUz0CuXPQ](https://www.youtube.com/watch?v=0XpUz0CuXPQ)
## Post #1521
- Username: nfm
- Rank: advanced
- Number of posts: 45
- Joined date: Sat Dec 04, 2010 8:56 am
- Post datetime: 2015-04-29T06:27:12+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> Happy fap time:

https://www.youtube.com/watch?v=0XpUz0CuXPQcool

I like this rendering a lot of kasumi!!!   : (by Frost_47 on Steam)



one more:


(sorry for offtopic distraction, I'm new to this thread)
## Post #1522
- Username: NebulaUK
- Rank: n00b
- Number of posts: 15
- Joined date: Tue Apr 21, 2015 2:37 am
- Post datetime: 2015-04-29T10:32:29+00:00
- Post Title: Re: Dead or Alive series formats and tools

How far are we away from being able to convert PC models to Xbox 360 models
## Post #1523
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-04-30T03:10:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Darko, Nice, looks like it converted well! XD

***

> Reply from NebulaUK
>
> How far are we away from being able to convert PC models to Xbox 360 models

Depends on how much progress you've made so far.  I think we're running out of polite ways to say this... "Probably not going to happen for a while"  Since 360 is receiving less support there is little incentive to continue support in terms of modding it beyond using it for reference.  I may not be speaking for everyone, but PC is the main focus right now, primarily because
1) it's more supported by TN than last gen.
2) it's an open environment and is likely to draw in more modding support.

Someone may be kind enough to grant your request, but there are a few 360 tools that are being converted for PC format.  That alone takes time.  There is little reason to work the opposite direction because there is a significant difference between 360 & PC files.  So if you REALLY want to see it happen, there is no way around having to roll up your sleeves, get your hands dirty, and start learning the file structure.  The knowledgeable portion of this community is small and has only made advances because of sharing knowledge an people putting time in based on the skills they have or have learned along the way.

***
Aight, data dumper done.  Won't have anything new for a few days, but I'm leaning toward working on Chop Shop features next, probably HieLay & BnOfMtx patcher first, then finally the vertex weight/bone subbing.   Any suggestions to the contrary as far as priority, or any other low level things we need?
## Post #1524
- Username: NebulaUK
- Rank: n00b
- Number of posts: 15
- Joined date: Tue Apr 21, 2015 2:37 am
- Post datetime: 2015-04-30T09:56:21+00:00
- Post Title: Re: Dead or Alive series formats and tools

No need to be rude I know it's more difficult and I appreciate what you are saying I just figured that since 360 models can be converted to PC perhaps the knowledge that you clever guys have learned may make it easier. If you look on the 360ISO site there was loads of interest in this and they succeeded in making mods for it though they refused to share them.
## Post #1525
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-04-30T12:18:11+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from NebulaUK
>
> No need to be rude I know it's more difficult and I appreciate what you are saying I just figured that since 360 models can be converted to PC perhaps the knowledge that you clever guys have learned may make it easier. If you look on the 360ISO site there was loads of interest in this and they succeeded in making mods for it though they refused to share them.
I'm not trying to be rude, not my intent.  My manner is just to the point.  Stuff will happen faster with more people helping than requesting.  Modding is complex and does not happen overnight.  Not everything gets shared all the time because it may be to prevent additional exposure to the wrong parties, or because stuff is so advanced that it would only be more confusing to the novice.  From what I've observed elsewhere there is a seriously skewed ratio of people wanting certain things to people putting in time to get it done.  The more people that help, the more ideas flow, more work gets done, the more the community benefits.
## Post #1526
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-04-30T14:30:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

@NebulaUK
Works in here are not getting done by a few clever guys' simple tricks.
Lots of peoples are doing lots of research and lots of labors for their common interests.
This forum is not working for you. Please remember that.
## Post #1527
- Username: SleepySea
- Rank: n00b
- Number of posts: 18
- Joined date: Sun Apr 26, 2015 12:01 am
- Post datetime: 2015-04-30T14:54:57+00:00
- Post Title: Re: Dead or Alive series formats and tools

I have been silently following this thread for a few days now, and what you guys have been doing is very fascinating.    

I am completely new to the game modding scene, but I have roughly been able to follow the general discussion and have understanding of various discussion topics such as Endianness and so on. 

I think the biggest obstacle for me is that I have little experience in 3D modeling (maybe I shouldn't even be here in the first place), and have little idea what makes up a model object.   I can open up a file in hex editor to see all the binaries, but to get my foot in the door, I need to know what I should be looking for instead of shooting in the dark. 

How does one go about figuring out what goes into a 3D model and what data structure is normally used to hold the information (in regards to byte sizes)?

Any advice to help me get started would be much appreciated.   I am eager to learn, but I understand I am too late to the game, and this is probably not the best place for a novice like me to ask such questions.  

In any case, I have been learning a lot just by reading this discussion and I hope you guys will find success soon.
## Post #1528
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-04-30T17:10:54+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from SleepySea
>
> I have been silently following this thread for a few days now, and what you guys have been doing is very fascinating.    

I am completely new to the game modding scene, but I have roughly been able to follow the general discussion and have understanding of various discussion topics such as Endianness and so on. 

I think the biggest obstacle for me is that I have little experience in 3D modeling (maybe I shouldn't even be here in the first place), and have little idea what makes up a model object.   I can open up a file in hex editor to see all the binaries, but to get my foot in the door, I need to know what I should be looking for instead of shooting in the dark. 

How does one go about figuring out what goes into a 3D model and what data structure is normally used to hold the information (in regards to byte sizes)?

Any advice to help me get started would be much appreciated.   I am eager to learn, but I understand I am too late to the game, and this is probably not the best place for a novice like me to ask such questions.  

In any case, I have been learning a lot just by reading this discussion and I hope you guys will find success soon.

Actually, this is a great place to ask, and that's the right mentality to have.    Everyone has started with limited knowledge and worked up somehow.   There are still plenty of unknowns, but there is still enough shared knowledge to do some really cool things here.  

The best place to start is really just getting the feel for the workflow.  Starting with mario's vertex editing youtube vid is a good starting point.  For now most resources still pertain to Xbox 360, but at least learning the files helps with knowledge of how PC files work.  

You can also, start with Archivarious to learn how to extract models, use Noesis to view them, and then start with various things like changing textures, or even play with the hex to toggle items.  I know more tutorials are starting to pop up. 

A lot of advanced mods involve working vertices, indices, injection and mesh swapping, but it's all doable with time.   Trial and error is a good way to learn, and when you get stuck on a specific issue feel free to ask.  That seems to be a good way to get people moving without dumping a gigantic amount overwhelming information.  

To answer your specific questions, you don't have to know that much about 3D models to work on 360 stuff, just for manual edits.  Start with the basics, and then more discussion can come up regarding more advanced stuff.
## Post #1529
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-04-30T19:32:09+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from NebulaUK
>
> No need to be rude I know it's more difficult and I appreciate what you are saying I just figured that since 360 models can be converted to PC perhaps the knowledge that you clever guys have learned may make it easier. If you look on the 360ISO site there was loads of interest in this and they succeeded in making mods for it though they refused to share them.

Yea those people where us lol
and we refuse because people like you.
## Post #1530
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-04-30T19:54:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> @sf234
What's your next project? If you aren't in the middle of a big one any chance you convert the object rotater that b0ny made... OR if you ran across the information with the Noesis plugin update, clarify if PC models still have the object rotation matrix issue?  Ayane_DLCU_004 & COS_002 (and others) had issues in the 360 version, and the 3dsmax script was never adjusted to fix the rotation so the app fixed the matrix itself.Currently I'm moving my stuff to C#/.NET 4.0, also there is idea to create app for tmc tinkering (e.g. disable reference to particular mesh group or set transparency flag for material). As for object rotater - I never got my hands on the original script. As far as I understand it fixes issues with TMC Praser injection functionality? Then, since there is still no max script for PC, there is no way to test it? Anyway it seems this question is more related to mariokart64n since he is the author of TMC Praser.
## Post #1531
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-04-30T20:06:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Currently I'm moving my stuff to C#/.NET 4.0, also there is idea to create app for tmc tinkering (e.g. disable reference to particular mesh group or set transparency flag for material). As for object rotater - I never got my hands on the original script. As far as I understand it fixes issues with TMC Praser injection functionality? Then, since there is still no max script for PC, there is no way to test it? Anyway it seems this question is more related to mariokart64n since he is the author of TMC Praser.

Nice! Have all those current releases been .NET? Or future ones.  I never looked at the source, so wasn't sure.

I can find the original, and get it to you.  Even though we don't have an importer, just fixing the matrix will be helpful because the vert coordinates from the 360 can be copied into the PC version.  If the matrix is still messed up in the PC version, the 'correctly rotated' verts from the 360 won't line up when displayed in Noesis or in game, of course.
## Post #1532
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-05-01T02:02:59+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Protocol X27 wrote:@sf234
What's your next project? If you aren't in the middle of a big one any chance you convert the object rotater that b0ny made... OR if you ran across the information with the Noesis plugin update, clarify if PC models still have the object rotation matrix issue?  Ayane_DLCU_004 & COS_002 (and others) had issues in the 360 version, and the 3dsmax script was never adjusted to fix the rotation so the app fixed the matrix itself.Currently I'm moving my stuff to C#/.NET 4.0, also there is idea to create app for tmc tinkering (e.g. disable reference to particular mesh group or set transparency flag for material). As for object rotater - I never got my hands on the original script. As far as I understand it fixes issues with TMC Praser injection functionality? Then, since there is still no max script for PC, there is no way to test it? Anyway it seems this question is more related to mariokart64n since he is the author of TMC Praser.

Do you want Mariokart64n scripts??
## Post #1533
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-05-01T03:34:04+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> Do you want Mariokart64n scripts??
It seems that we already had another script translator.
## Post #1534
- Username: NebulaUK
- Rank: n00b
- Number of posts: 15
- Joined date: Tue Apr 21, 2015 2:37 am
- Post datetime: 2015-05-01T10:36:07+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> NebulaUK wrote:No need to be rude I know it's more difficult and I appreciate what you are saying I just figured that since 360 models can be converted to PC perhaps the knowledge that you clever guys have learned may make it easier. If you look on the 360ISO site there was loads of interest in this and they succeeded in making mods for it though they refused to share them.

Yea those people where us lol
and we refuse because people like you.

People like me huh what have I done to deserve this.
## Post #1535
- Username: Seyiji
- Rank: n00b
- Number of posts: 10
- Joined date: Tue Sep 20, 2011 11:37 pm
- Post datetime: 2015-05-01T17:03:30+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from NebulaUK
>
> Lilstormcloud wrote:NebulaUK wrote:No need to be rude I know it's more difficult and I appreciate what you are saying I just figured that since 360 models can be converted to PC perhaps the knowledge that you clever guys have learned may make it easier. If you look on the 360ISO site there was loads of interest in this and they succeeded in making mods for it though they refused to share them.

Yea those people where us lol
and we refuse because people like you.  

People like me huh what have I done to deserve this.These things they take time. Just keep an eye on this thread and when the tools are done and the discoveries are made I'm sure those who are working on it will tell you. Poking you head into the front seat every day asking are we there yet isn't helping anyone.
## Post #1536
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-05-01T20:05:33+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from NebulaUK
>
> Lilstormcloud wrote:NebulaUK wrote:No need to be rude I know it's more difficult and I appreciate what you are saying I just figured that since 360 models can be converted to PC perhaps the knowledge that you clever guys have learned may make it easier. If you look on the 360ISO site there was loads of interest in this and they succeeded in making mods for it though they refused to share them.

Yea those people where us lol
and we refuse because people like you.  

People like me huh what have I done to deserve this.

No idea what you mean, 

I said "people like you"
unless you're implying you're the "people" I'm talking about, I don't see how anything you've done is connected to what I've stated.
## Post #1537
- Username: NebulaUK
- Rank: n00b
- Number of posts: 15
- Joined date: Tue Apr 21, 2015 2:37 am
- Post datetime: 2015-05-01T21:43:47+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> 
No idea what you mean, 

I said "people like you"
unless you're implying you're the "people" I'm talking about, I don't see how anything you've done is connected to what I've stated.

I apologize then I thought you were implying something my mistake.
## Post #1538
- Username: SleepySea
- Rank: n00b
- Number of posts: 18
- Joined date: Sun Apr 26, 2015 12:01 am
- Post datetime: 2015-05-02T03:21:31+00:00
- Post Title: Re: Dead or Alive series formats and tools

I decided to get my hands dirty with some practice projects.   I saw a tutorial over at GVZ on how to convert 360 model vertices to PC model which caught my attention.

It seems like a great way to get started on making some basic mods since 360 tools are more complete.  I have created a GUI tool aimed at converting vertices from 360 to PC TMC and have been able to get some groups of vertices to convert correctly (body mesh seems to work ok).  However, it seems quite error prone since the method described in the tutorial (credit to HarryPalmer) is to use the mesh_data found in the user_Defined section in 3ds Max when a model is opened using mariocart64n's script to find information such as buffer length, number of vertices, starting address and use the first 12 byte (I think this is the x,y,z of the FVF) of information to look up the address in the PC TMC file, but some times there are multiple matches in the file.

Is there a better way to interpret groups of vertices found in the TMCs?  I am very new to the hex editing thing.  I have been trying to follow mariocart64n's script and the neosis's doa5pc plug in to see how its done, but I am not very familiar with either language.   Guess there's no shortcut here.  Time to get back to understanding the TMC file structure.
## Post #1539
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-05-02T04:18:55+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from SleepySea
>
> I decided to get my hands dirty with some practice projects.   I saw a tutorial over at GVZ on how to convert 360 model vertices to PC model which caught my attention.

It seems like a great way to get started on making some basic mods since 360 tools are more complete.  I have created a GUI tool aimed at converting vertices from 360 to PC TMC and have been able to get some groups of vertices to convert correctly (body mesh seems to work ok).  However, it seems quite error prone since the method described in the tutorial (credit to HarryPalmer) is to use the mesh_data found in the user_Defined section in 3ds Max when a model is opened using mariocart64n's script to find information such as buffer length, number of vertices, starting address and use the first 12 byte (I think this is the x,y,z of the FVF) of information to look up the address in the PC TMC file, but some times there are multiple matches in the file.

Is there a better way to interpret groups of vertices found in the TMCs?  I am very new to the hex editing thing.  I have been trying to follow mariocart64n's script and the neosis's doa5pc plug in to see how its done, but I am not very familiar with either language.   Guess there's no shortcut here.  Time to get back to understanding the TMC file structure.

The upside is that working with vertices with 360 & PC are the same in terms of grouping, but the downside is that they have different buffer lengths.  The mesh data is useful for 360, but not PC.  The vertices are stored in the TMCL for 360, but in the TMC for PC.  Finding vertices is a matter of identifying a mesh object in 3dsmax, for example the body or a scarf.  This will at least suggest which number it is in the mesh group (WGT_body) for example.  Once you know that you can use the ObjGeo information to find the number of verts & indices contained in that mesh group. It's slightly more involved, but I'm just describing where to look.  Once you find the info the ObjGeo, and identify which vertex group the object belongs to,  you can move on to either the Vtxlay or IdxLay to find specific vertices or indices.  

Vertices are grouped within the VtxLay by their lengths.  For example, WGT Body (for 360) may have two groups, one for 40 and one for 44, all 40's will be grouped first and then 44's next if stated in that order in the ObjGeo.  The order of the mesh objects inside the ObjGeo, though, may not necessarily be grouped in that order, as evident in the 'mesh_data'   The key difference with the vertex buffers from 360 to PC is that PC has at least 2 to 5 more values.  44's from the 360 are now 64 (5 * 4 bytes), etc.  We still don't know what all values do, but they seem to still have the same order with some of the new values inserted into a couple new locations.  X,Y,Z coordinates are still in the same position, so if you at least know to find the correct start & end of vertex blocks, you should be able to know which values are the coordinates... the first 12 bytes, with each set of 4 being one axis.
## Post #1540
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-05-02T04:21:15+00:00
- Post Title: Re: Dead or Alive series formats and tools

Nice work, welcome.

mesh_data = #(#(44, 44, 44, 44, 44, 44), #(176, 400, 168, 2770, 1367, 5981), #(6123536, 6131280, 6148880, 6156272, 6278152, 6338300), #(), #(), #())

#(#(44, 44, 44, 44, 44, 44): So far you should know that 44 is the length per vertex for each. there are 6, 44s for 6 objects. 

#(176, 400, 168, 2770, 1367, 5981): these are the number of vertices per objects.

#(6123536, 6131280, 6148880, 6156272, 6278152, 6338300): these converted to hex will take you to the start location in the tmcl.

To get to a particular vertex in the tmcl.

Click on it in 3dmax, on the bottom right there'll be a vertex ID

Take that number 9067 and less all the number from the same multiplier (44) of objects that comes before it.
The body is object 6, all objects are 44s, #(#(44, 44, 44, 44, 44, 44)

So we will less the lengths of object 1 to 5.
9067 - (176, + 400 + 168 + 2770 + 1367) - 1 
9067 - 4882 = 4185

The extra -1 is so you jump to the beginning of vertex and not tail end. 

Note that if there multiplier is different, then only less the lengths for the same multiplier, e.g where there is (40, 44, 44) only less the 2 lengths for the 44s.

Now jump to 6338300 in hex for tmcl. (60B6FC)
jump by 4185 x 44 (2CF4C)

This will take you to hex address (638648) which is where the vertex is.
## Post #1541
- Username: SleepySea
- Rank: n00b
- Number of posts: 18
- Joined date: Sun Apr 26, 2015 12:01 am
- Post datetime: 2015-05-02T05:34:53+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks!  A lot of useful tips and stuff to absorb.  I am a complete novice with 3D modeling tool, but I plan on getting myself familiarized with the simple edits first.

It's particularly rewarding after a long session of trial and error (figuring out the buffer size for PC and the stuff that's stored in mesh_data etc), but like you guys said there's no simple A to B conversion.

My tool when applied to all groups of vertices some whacky stuff will show up like the attached picture.

In the mean time I think I am going to try some simple modifications to neck size to try and correct an otherwise perfect model for Leifang.
## Post #1542
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2015-05-02T12:15:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

ok what is this, peeps using my old 360 vertex editor script to edit 360 models then copy and paste the new float range into the pc files lol
## Post #1543
- Username: SkacikPL
- Rank: advanced
- Number of posts: 53
- Joined date: Tue Oct 28, 2014 2:51 pm
- Post datetime: 2015-05-02T14:04:22+00:00
- Post Title: Re: Dead or Alive series formats and tools

So it will soon be possible to load custom models into PC version?
Honestly, i'd just be glad with doing just a smooth-pass on all of the models to bump up the polycount a bit.
## Post #1544
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-05-02T14:40:26+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mariokart64n
>
> ok what is this, peeps using my old 360 vertex editor script to edit 360 models then copy and paste the new float range into the pc files lol
yea lol,
3 years later, they're still as useful and relevant as day one. Proves how great they are.
## Post #1545
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-05-02T15:45:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mariokart64n
>
> ok what is this, peeps using my old 360 vertex editor script to edit 360 models then copy and paste the new float range into the pc files lol

Don't suppose your interested in updating it to PC or making modifications to it?   Like lsc said, both the Parser & the Injector work really well.  Plus I don't think anyone else that has been into DOA modding knows either the 3dmax scripting or your scripts like you do.  It would be a huge asset and time saver if those happened to get a couple of basic tweaks & conversion for PC.  The rest of us have been trapped in app land with crude hex editing / modification / coding methods, 

***
@SleepySea, good stuff, looks like you're getting a good start.
## Post #1546
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-05-02T16:28:55+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mariokart64n
>
> ok what is this, peeps using my old 360 vertex editor script to edit 360 models then copy and paste the new float range into the pc files lol
And you can also make it useless, again.
## Post #1547
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2015-05-02T16:42:57+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Rosalin
>
> mariokart64n wrote:ok what is this, peeps using my old 360 vertex editor script to edit 360 models then copy and paste the new float range into the pc files lol
And you can also make it useless, again.

right... its just I lost steam/motivation when I was looking into creating new models from scratch for 360.

Though in terms of the format research everything should be fine, again just a matter of me not being a lazy bastard i guess

if I'm feelin it maybe I'll try not to make it "useless, again"
## Post #1548
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-05-02T18:13:59+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mariokart64n
>
> 
right... its just I lost steam/motivation when I was looking into creating new models from scratch for 360.

Though in terms of the format research everything should be fine, again just a matter of me not being a lazy bastard i guess

if I'm feelin it maybe I'll try not to make it "useless, again"

Yeah, there were only a few of us that stuck with it, but it already looks like PC may be drawing in some fresh help.  Your skills would be appreciated.  I also wouldn't mind knowing how you fared on that Sigma 2 import progress.  

LoL, I think the 'useless'/ful had better be a typo... XD
## Post #1549
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-05-02T18:20:07+00:00
- Post Title: Re: Dead or Alive series formats and tools

Slightly improved version of BLP Converter (needs .NET Framework 4).

> Reply from Protocol X27
>
> Nice! Have all those current releases been .NET? Or future ones.  I never looked at the source, so wasn't sure.
I can find the original, and get it to you.  Even though we don't have an importer, just fixing the matrix will be helpful because the vert coordinates from the 360 can be copied into the PC version.  If the matrix is still messed up in the PC version, the 'correctly rotated' verts from the 360 won't line up when displayed in Noesis or in game, of course.Old releases was in Delphi 7/XE, the future ones (if there will be any) would use .NET.
My point about b0ny's script conversion is since there is no known examples of issue that it fixes (on PC) there is no way to test if it was converted successfully. And, again, since mariokart64n himself is in this thread it would be more logical to ask him to address this particular issue in his new script.
> Reply from Darko
>
> Do you want Mariokart64n scripts??I was talking about b0ny's "object rotater" script.
[BLP Converter.7z](https://xentaxbackup.github.io/file/9146_BLP Converter.7z)
## Post #1550
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-05-02T22:02:59+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> mariokart64n wrote:
right... its just I lost steam/motivation when I was looking into creating new models from scratch for 360.

Though in terms of the format research everything should be fine, again just a matter of me not being a lazy bastard i guess

if I'm feelin it maybe I'll try not to make it "useless, again"

Yeah, there were only a few of us that stuck with it, but it already looks like PC may be drawing in some fresh help.  Your skills would be appreciated.  I also wouldn't mind knowing how you fared on that Sigma 2 import progress.  

LoL, I think the 'useless'/ful had better be a typo... XD

Yep that timmyc guy's got the right attitude. he reminds me of you guys when you first started *sniffles*   lol
## Post #1551
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-05-03T11:25:10+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mariokart64n
>
> 
right... its just I lost steam/motivation when I was looking into creating new models from scratch for 360.

Though in terms of the format research everything should be fine, again just a matter of me not being a lazy bastard i guess

if I'm feelin it maybe I'll try not to make it "useless, again"
Whatever you say.
You are still helping.
## Post #1552
- Username: SleepySea
- Rank: n00b
- Number of posts: 18
- Joined date: Sun Apr 26, 2015 12:01 am
- Post datetime: 2015-05-04T04:27:39+00:00
- Post Title: Re: Dead or Alive series formats and tools

edited - irrelevant to the discussion
## Post #1553
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-05-05T00:34:26+00:00
- Post Title: Re: Dead or Alive series formats and tools

Conversion is done for the HieLay / BnOfsMtx patcher.  It does both automatically this time.  I didn't see the benefit of splitting the functions for now.   It will update the bone heirachy stuff & bone offset matrix stuff in the source model with that of the target one.  Not much really to explain beyond that.

Haven't had any real time to test adjustments in game yet, so if anyone gets to it before me and runs into any issues, let me know.
[SkeletonPatcher.zip](https://xentaxbackup.github.io/file/9157_SkeletonPatcher.zip)
## Post #1554
- Username: SkacikPL
- Rank: advanced
- Number of posts: 53
- Joined date: Tue Oct 28, 2014 2:51 pm
- Post datetime: 2015-05-05T17:26:20+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> SkacikPL wrote:sf234 wrote:Also i have another question about DLC tool.
I've been tinkering about face/hair options. Indexes from 0-9 work fine, but after that the DLC tool only accepts inputs like 23, 34, 45 and so on.
I don't quite get the logic behind this index and i'm just trying blindly, also using indexes above 100 will load actual head meshes for hair.
You can refer to this post (which defines BCM character's entries): viewtopic.php?p=100749#p100749

Okay i did some tinkering with hex editing BCMs and here's my conclusion.
Indexes are in 1 to 999 range with no exceptions inbetween, however it's the DLC tool that doesn't allow you to input faces/hair indexes like 11/13/15/20, etc.
Not sure who's the author of the DLC tool but i assume it's a bug that it doesn't allow continuous indexes above 9 as clearly they exist.
## Post #1555
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-05-05T18:26:02+00:00
- Post Title: Re: Dead or Alive series formats and tools

SkacikPL 
Hair/face value stored in single byte, so range is 0-255 (0x00-0xFF). Input value checking routine in DLC Tool assumes that this value is single-digit number (as in official DLCs). It's already changed in next version.
## Post #1556
- Username: SkacikPL
- Rank: advanced
- Number of posts: 53
- Joined date: Tue Oct 28, 2014 2:51 pm
- Post datetime: 2015-05-05T19:00:04+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> 
Hair/face value stored in single byte, so range is 0-255 (0x00-0xFF)
Yeah, my bad. I was thinking in laymans terms as i don't hex edit that often. I just oversimplified my thought that the input can be any integer without exceptions. Didn't even think about single byte limitation.

> Reply from sf234
>
> It's already changed in next version.
Is it not yet released or i missed something again?
## Post #1557
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-05-07T03:41:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

Updated DLC Tool (needs .NET Framework 4). Drag and drop now supported for "open bcm"/"add" files.
[viewtopic.php?p=106117#p106117](http://forum.xentax.com/viewtopic.php?p=106117#p106117)

> Reply from SkacikPL
>
> Is it not yet released or i missed something again?Here it is.
## Post #1558
- Username: SkacikPL
- Rank: advanced
- Number of posts: 53
- Joined date: Tue Oct 28, 2014 2:51 pm
- Post datetime: 2015-05-07T10:25:23+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Updated DLC Tool (needs .NET Framework 4). Drag and drop now supported for "open bcm"/"add" files.
SkacikPL wrote:Is it not yet released or i missed something again?Here it is.
Well, i'm an idiot. I totally forgot you attach sources, i could've fixed that myself without bothering you lol.

Nonetheless, your work is appreciated. Thanks.
## Post #1559
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-05-09T22:07:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

Finally bothered to look at other modding sites. Information scattered around net (even japanese community is revived), but for now it looks like there is only discussion about content that's developed in this (and preceding) thread. Also, it turns that this forum now requires donation for new registrations. Which leads me to question: maybe we should decide on, ehm, reserve discussion place that is more friendly to new users that willing to participate?
## Post #1560
- Username: LarsMasters
- Rank: beginner
- Number of posts: 28
- Joined date: Mon Aug 25, 2014 10:30 am
- Post datetime: 2015-05-10T15:11:44+00:00
- Post Title: Re: Dead or Alive series formats and tools

I'd like to ask, was there some other way export to .TMC files after a mesh mod on max or Blender? I swore it still exist somewhere
## Post #1561
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-05-10T15:37:11+00:00
- Post Title: Re: Dead or Alive series formats and tools

Maybe someone is already having TMC_Parser for PC version, personally.
I don't know who he is, but there're a lot of skillful engineers in this forum and it's no strange.
## Post #1562
- Username: SkacikPL
- Rank: advanced
- Number of posts: 53
- Joined date: Tue Oct 28, 2014 2:51 pm
- Post datetime: 2015-05-10T18:35:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Finally bothered to look at other modding sites. Information scattered around net (even japanese community is revived), but for now it looks like there is only discussion about content that's developed in this (and preceding) thread. Also, it turns that this forum now requires donation for new registrations. Which leads me to question: maybe we should decide on, ehm, reserve discussion place that is more friendly to new users that willing to participate?
I was trying to secure some [space and knowledge on reddit](http://www.reddit.com/r/doamods/comments/33q9av/how_to_make_costume_mods_via_dlc_method/).

Mainly whatever i could crystalize from last several pages of this thread, because it's messy as hell and putting everyone who's willing or capable to plow through this thread for needed knowledge/tools is counterproductive.
Besides, i don't think that there are many places/people who are capable/interested in reversing or creating tools for this game, which is why it mostly revolves around what has been created by xentax people.

Leaving that aside, is it me or archivarius plainly does not see certain tmcs? It does not see certain Nyotengu/Honoka costumes.
This is mostly visible with DLC files, where it's capable of extracting most of them, but does not see any for Nyotengu or Honoka.

[Like those from Tropical Paradise set (358142)](http://cdn.akamai.steamstatic.com/steam/apps/358142/ss_0bed58a003e7b231c3795b49ccd7d85d95b116a2.1920x1080.jpg?t=1428452375)

//
Yeah, okay. Problem solved.
I've attached updated .dat for archivarius, which should contain all DLC info as of 10/05/15.
[doa5LRarchivarius.zip](https://xentaxbackup.github.io/file/9186_doa5LRarchivarius.zip)
## Post #1563
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-05-10T19:43:29+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Finally bothered to look at other modding sites. Information scattered around net (even japanese community is revived), but for now it looks like there is only discussion about content that's developed in this (and preceding) thread. Also, it turns that this forum now requires donation for new registrations. Which leads me to question: maybe we should decide on, ehm, reserve discussion place that is more friendly to new users that willing to participate?

Well there's a couple of mixed issues.  I'm open to other sites if there's some active discussion, but if its just a rehash of what we're doing then, this is still a good spot for tech discussion.  The lot of us moved over from xbox360iso because the site became unusable on account of adds.  Plus there really wasn't many who cared to help with and learn the process.  In general there always seems to be a higher ratio of moochers to those working on tools and processes.  Since nude mods have already been released, I suspect that most low interest people are getting there fix and have little effort in investing more time into modding.  Obviously, some more people have stepped up which is a good thing, but I'm less inclined to wade through a site that has more junk than tech.  Opinion, of course.

> Reply from LarsMasters
>
> I'd like to ask, was there some other way export to .TMC files after a mesh mod on max or Blender? I swore it still exist somewhere

So far, unless on some other site, there is still only a way to inject changes back into the xbox 360 version.

> Reply from SkacikPL
>
> 
I was trying to secure some space and knowledge on reddit.

Mainly whatever i could crystalize from last several pages of this thread, because it's messy as hell and putting everyone who's willing or capable to plow through this thread for needed knowledge/tools is counterproductive.
Besides, i don't think that there are many places/people who are capable/interested in reversing or creating tools for this game, which is why it mostly revolves around what has been created by xentax people.

Leaving that aside, is it me or archivarius plainly does not see certain tmcs? It does not see certain Nyotengu/Honoka costumes.
This is mostly visible with DLC files, where it's capable of extracting most of them, but does not see any for Nyotengu or Honoka.

Nice work! Actually making tutorials is a huge thing were missing too.  That would make things easier for new people.  Most of us 'vets' haven't spent the time to do that most of our chat has been more advanced and there has still been a lot to do.

Archivarius reads from the .dat file, so in some cases if the .dat file doesn't have the information for the encrypted name and the plain name.  sf234's BLP converter will actually read the names properly and then provide a string.  That string can be pasted into the .dat for Archivarius.  After that Archivarius should be able to recognize them.
## Post #1564
- Username: SkacikPL
- Rank: advanced
- Number of posts: 53
- Joined date: Tue Oct 28, 2014 2:51 pm
- Post datetime: 2015-05-10T20:38:21+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Archivarius reads from the .dat file, so in some cases if the .dat file doesn't have the information for the encrypted name and the plain name, it won't like they containers are in their.  sf234's BLP converter will actually ready the names properly and then provide a string.  That string can be pasted into the .dat for Archivarius.  After that Archivarius should be able to recognize them.
Ah, yes. Another mystery solved, thank you.
I'll make sure to add appropriate note in the reddit tutorial.

//
I did some tweaks to the BLP converter, added (simple) autoparsing to make things a bit faster, than going copy'n paste manually. Nothing too fancy (like full automation) because i've never touched C# before. However autoparse function will now load any .BLP and save (or append to existing) .dat file, allowing you to automatically add any DLC to existing .dat with ease.
[BLPConverter.zip](https://xentaxbackup.github.io/file/9185_BLPConverter.zip)
## Post #1565
- Username: Vashey
- Rank: advanced
- Number of posts: 41
- Joined date: Tue Mar 15, 2011 9:47 pm
- Post datetime: 2015-05-10T22:48:10+00:00
- Post Title: Re: Dead or Alive series formats and tools

I'd like to help more, but like stated the information is loose and scattered everywhere making it hard to follow up, I respect the work you've done so far and how accessible you made it.
Just now I started learning a bit of reverse engineering, I have no coding experience whatsoever, all I have are some 3D models that I want to import in-game.
I've  seen some screencaps with fully rigged models imported in 3dsmax in previous pages.
How do you import tmc files like this?
## Post #1566
- Username: SkacikPL
- Rank: advanced
- Number of posts: 53
- Joined date: Tue Oct 28, 2014 2:51 pm
- Post datetime: 2015-05-10T22:55:22+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Vashey
>
> I'd like to help more, but like stated the information is loose and scattered everywhere making it hard to follow up, I respect the work you've done so far and how accessible you made it.
Just now I started learning a bit of reverse engineering, I have no coding experience whatsoever, all I have are some 3D models that I want to import in-game.
I've  seen some screencaps with fully rigged models imported in 3dsmax in previous pages.
How do you import tmc files like this?

Mariokart64n made maxscripts for importing TMCs, but i don't think they also cover exporting in PC TMC format.
You could import them, fool around with them and then just put them on shelf, because there's no way to import them back into the game.
## Post #1567
- Username: Vashey
- Rank: advanced
- Number of posts: 41
- Joined date: Tue Mar 15, 2011 9:47 pm
- Post datetime: 2015-05-11T04:04:04+00:00
- Post Title: Re: Dead or Alive series formats and tools

This is the idea, I also want to see the rigging itself.
Do you have this maxscript?
## Post #1568
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-05-12T00:09:15+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from SkacikPL
>
> 
Mariokart64n made maxscripts for importing TMCs, but i don't think they also cover exporting in PC TMC format.
You could import them, fool around with them and then just put them on shelf, because there's no way to import them back into the game.

> Reply from Vashey
>
> This is the idea, I also want to see the rigging itself.
Do you have this maxscript?

Mesh edits can be done.  Since Xbox models can be injected with changes, the coordinates can serve as a reference point for the same vertices in the PC version.  That's what MeshWarp.py is for.  It involves finding the vertices in hex though for both containers.  The script will match the coordinates, and the updated verts will need to be pasted back into the PC version.
## Post #1569
- Username: Vashey
- Rank: advanced
- Number of posts: 41
- Joined date: Tue Mar 15, 2011 9:47 pm
- Post datetime: 2015-05-12T02:29:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

I have this .py script.  
Still if I follow right, you woud have to export an edited tmc file to check the vertices on?

If it was this simple, how come we don't see more mesh edit mods yet?
## Post #1570
- Username: SkacikPL
- Rank: advanced
- Number of posts: 53
- Joined date: Tue Oct 28, 2014 2:51 pm
- Post datetime: 2015-05-12T10:52:35+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> 
Mesh edits can be done.  Since Xbox models can be injected with changes, the coordinates can serve as a reference point for the same vertices in the PC version.  That's what MeshWarp.py is for.  It involves finding the vertices in hex though for both containers.  The script will match the coordinates, and the updated verts will need to be pasted back into the PC version.
Which means i can make characters boobs bigger but i can't make it more detailed, because vertices have to match?

Well, it's better than nothing - ridiculous boob mods inbound.
Though, if i don't have 360 version, it seems like tough luck getting models from that version.
## Post #1571
- Username: urke1000
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Fri Jun 08, 2012 6:50 am
- Post datetime: 2015-05-12T13:03:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

^ So there really is no way to actually increase the poly count on characters and make the models work in the game?
## Post #1572
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-05-12T13:11:30+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Vashey
>
> I have this .py script.  
Still if I follow right, you woud have to export an edited tmc file to check the vertices on?

If it was this simple, how come we don't see more mesh edit mods yet?

Not sure what you mean by export, since a tmc/tmcl is already 'exported' before its edited.  I'll attempt to break down the process more

1) Import Xbox 360 model > 3dsmax using TMCPraser
2) Change Vertices
3) Inject Xbox 360 model > using StickItBack
4) Open Xbox 360 TMCL > hex editor of choice
5) Copy vertices of modified object into a text editor.
6) Open corresponding PC TMC > hex editor
7) Copy vertices of corresponding object into a text editor, be sure to accommodate for PC length
8 ) Open MeshWarp & update necessary variables with paths to 360 & PC vertex text files
9) Use correct vertex buffer length values
10) Run Mesh Warp
11) Open modified PC vertex text file
12) Copy values back into PC TMC

So, to answer your question, although the process is 'simple' the issue is that it still involves knowing how to properly find vertex values for both 360 & PC.  A task that many haven't had interest to learn until the utilities / tools become more refined.  Plus if the changes involve more than one mesh group, those steps need to be completed for each object which is time consuming.

> Reply from SkacikPL
>
> 
Which means i can make characters boobs bigger but i can't make it more detailed, because vertices have to match?

Well, it's better than nothing - ridiculous boob mods inbound.
Though, if i don't have 360 version, it seems like tough luck getting models from that version.

Not sure what to tell you, getting resources is not that difficult, especially if you have an Xbox... Costume data is contained in the catalogs, and getting the game data does not even require having a modded system.

What do you mean between 'bigger' and 'more detailed'?  Vertex edits are vertex edits.  Make all the changes you want and inject back into a 360 model.  Unless your talking about making UV changes, vertex edits are all the same.

> Reply from urke1000
>
> ^ So there really is no way to actually increase the poly count on characters and make the models work in the game?
It would only be possible if you rebuilt a higher poly model and exported it with the correct file structure and then injected it into an existing container.  No one's done it, and it would take a lot of work. Would require knowledge of all vertex buffers, how to create a proper index and how to update all changed values in the container.
## Post #1573
- Username: SkacikPL
- Rank: advanced
- Number of posts: 53
- Joined date: Tue Oct 28, 2014 2:51 pm
- Post datetime: 2015-05-12T13:32:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Not sure what to tell you, getting resources is not that difficult, especially if you have an Xbox... Costume data is contained in the catalogs, and getting the game data does not even require having a modded system.
Well, actually i don't have any console. And as far as i can tell only versions of LR on torrents are the PC version.
Unless Xbox version of any DOA5 will work, then i guess that either i'm out of luck or i'm looking in wrong places.
## Post #1574
- Username: urke1000
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Fri Jun 08, 2012 6:50 am
- Post datetime: 2015-05-12T14:15:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> 
urke1000 wrote:^ So there really is no way to actually increase the poly count on characters and make the models work in the game?
It would only be possible if you rebuilt a higher poly model and exported it with the correct file structure and then injected it into an existing container.  No one's done it, and it would take a lot of work. Would require knowledge of all vertex buffers, how to create a proper index and how to update all changed values in the container.

I see, thanks.
## Post #1575
- Username: SleepySea
- Rank: n00b
- Number of posts: 18
- Joined date: Sun Apr 26, 2015 12:01 am
- Post datetime: 2015-05-12T15:46:52+00:00
- Post Title: Re: Dead or Alive series formats and tools

Edited
## Post #1576
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-05-12T20:03:12+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from SkacikPL
>
> Protocol X27 wrote:Not sure what to tell you, getting resources is not that difficult, especially if you have an Xbox... Costume data is contained in the catalogs, and getting the game data does not even require having a modded system.
Well, actually i don't have any console. And as far as i can tell only versions of LR on torrents are the PC version.
Unless Xbox version of any DOA5 will work, then i guess that either i'm out of luck or i'm looking in wrong places.

Just google 360iso, what you do after that is your business   
models from any 360 doa5 will do, they're all practically identical. at one point even the ninja gaiden RE models worked on doa5.

I get what you're trying to do with the boobs, yes you can write in more vertices to make the shape less blocky, but there's plenty to learn before you can attempt that.
All of you using harrys model on the PC have an example right in front of you lol. He hexed in the geometry for the boob and some other part.
## Post #1577
- Username: SleepySea
- Rank: n00b
- Number of posts: 18
- Joined date: Sun Apr 26, 2015 12:01 am
- Post datetime: 2015-05-12T21:16:23+00:00
- Post Title: Re: Dead or Alive series formats and tools

Edited - Stuff I wrote was irrelevant to this thread
## Post #1578
- Username: SkacikPL
- Rank: advanced
- Number of posts: 53
- Joined date: Tue Oct 28, 2014 2:51 pm
- Post datetime: 2015-05-12T22:09:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

I've got 360 TMCs now, and tmc parser maxscript, though i didn't test whether it's compatible with max 2015.
I still need stick it back script though.

//
Yeah, the script does nothing in max 2015.
Oh well, this is a pain to get through.
## Post #1579
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-05-13T00:35:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

don't worry,

most of us started with little or no 3dmax experience.
I didn't even know how to use gimp and blender when I first started lol.
I still don't   

imo, you'll want 2014.
2015 doesn't work with transmographier, which does symmetry without messing with the vertex IDs, (so you only need to modify half the model and just mirror the other half)

*******************************************

I was floating the idea of Honoka model today,

You probably know that Honoka has got a different model design as well as different textures, might be other key differences as well.

but for the texture there's really no space to add any private parts.
instead I think the texture can be redirected to another objects texture slot.

other than that her DLCU bikini 2 seems like the most appropriate, there are only a few gaps to reconstruct.
## Post #1580
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-05-13T01:30:27+00:00
- Post Title: Re: Dead or Alive series formats and tools

To echo what LSC said, we all started with zero knowledge on that stuff.  I started a few years ago just for the sake of XNALara, but through that Blender which eventually lead into learning 3dsmax for modding.  It just takes time.

I'm still using 3dsmax 2013 for messing around, scripts all work in there.

@LSC, yeah I noticed her mesh was lacking, but I hadn't looked at the textures, did they change up the norm?  Once I get finished with util conversion, I may have to lean on you & Ros to finally learn the index stuff.  I know I should know it by now lol.   I'm about half way done with the vertex subbing at least.  Just have to do bone sub & and a matrix patcher after that.
## Post #1581
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-05-13T04:30:47+00:00
- Post Title: Re: Dead or Alive series formats and tools

@lsc

Yes, you know, in GeoDecl part, there' a value indicating MtrCol index, so by fixing it you can make another object just like skin object.
## Post #1582
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-05-13T07:01:51+00:00
- Post Title: Re: Dead or Alive series formats and tools

I must admit I like honokas texture better. it's got more detail.

I'm trying to get a perfect model but can't decide between using the honoka model for the texture + more detailed chest or the leifang dlcu 19 model for the extra leg verts.
Think I might go with leifang 19, since the blockly triangle on the upper leg has been bugging me since day 1. we're talking years
## Post #1583
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-05-13T07:10:26+00:00
- Post Title: Re: Dead or Alive series formats and tools

Honoka's body is simply a disaster. it's too different from other bodies to use as a master base body.

If anyone wants a better base body than a lisa's one, then the best one should be lei fang's one.

but you know,... there isn't one best thing. so mixing them should be a painful job.
## Post #1584
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-05-14T00:34:58+00:00
- Post Title: Re: Dead or Alive series formats and tools

Yea, it's hard to get the motivation.
It took me 2 hours to write 2 vertices yesterday because I was playing hearthstone in between lol.
## Post #1585
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-05-14T17:45:33+00:00
- Post Title: Re: Dead or Alive series formats and tools

Updated DLC Tool. Fixed few bugs, added Alpha-152, DLC editing state now can be saved/loaded.
[viewtopic.php?p=110728#p110728](http://forum.xentax.com/viewtopic.php?p=110728#p110728)

Protocol X27, SkacikPL
Guess you're right, seems like I overestimated people's interest in modding.
## Post #1586
- Username: SkacikPL
- Rank: advanced
- Number of posts: 53
- Joined date: Tue Oct 28, 2014 2:51 pm
- Post datetime: 2015-05-14T19:27:17+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> 
Protocol X27, SkacikPL
Guess you're right, seems like I overestimated people's interest in modding.
Well, it's a broad term really.
Truth is that the community probably has lots of artists, to create models/textures, but little reverse engineers to provide tools or needed insight.
Not that it means that one side is at fault, but i guess the limited interest is caused by very limited scope of possibility and need to use several tools to achieve the goal.

Interest in modding is always big on PC, but another part of this is that most of the modders are just content creators - not reverse engineers.
Generally i'd blame KT for being a d*ck and making our life harder by adding barriers that sooner or later will be broken either way.

I try to contribute as much as i can within my limited capabilities and that's that. But i suck both as a programmer and artist.

Around 40K people own LR on PC and around 200 seem to be playing it on daily basis.
Getting more people interested in modding does not seem impossible, however getting more capable people to reverse-engineer it is a fat chance.
## Post #1587
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-05-14T22:35:34+00:00
- Post Title: Re: Dead or Alive series formats and tools

Updated Texture Tool (needs .NET Framework 4, also Microsoft Visual C++ 2005 SP1 Redistributable Package for working preview). It's now possible to convert models that have textures in TMC file so they will use only TMCL file for textures (as workaround for TMC textures size limit). Context menu now working also for preview.
[viewtopic.php?p=111557#p111557](http://forum.xentax.com/viewtopic.php?p=111557#p111557)
## Post #1588
- Username: SkacikPL
- Rank: advanced
- Number of posts: 53
- Joined date: Tue Oct 28, 2014 2:51 pm
- Post datetime: 2015-05-15T04:38:29+00:00
- Post Title: Re: Dead or Alive series formats and tools

I've another question.
Is it known what exactly handles character's name? I mean, is it possible to change characters name via costume.
Kind of similar to how first Lisa costume is La mariposa. Is that handled via costume setup or KT hardcoded it?

If it was doable, then perhaps within-body-type moveset swaps would be possible.
## Post #1589
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-05-15T06:14:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

Looks like PC community finally starts giving some results: [http://www.freestepdodge.com/threads/pc ... ost-261350](http://www.freestepdodge.com/threads/pc-community-mod-resources.5565/page-10#post-261350)

> Reply from SkacikPL
>
> I've another question.
Is it known what exactly handles character's name? I mean, is it possible to change characters name via costume.
Kind of similar to how first Lisa costume is La mariposa. Is that handled via costume setup or KT hardcoded it?Tested on costume swap and name stays the same. Also, it's still unknown what handles glasses options.
## Post #1590
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-05-15T07:48:43+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Looks like PC community finally starts giving some results: http://www.freestepdodge.com/threads/pc ... ost-261350
Well.. it seems it doesn't work for me now.
Game goes back to title screen when I select modded costumes.
## Post #1591
- Username: SkacikPL
- Rank: advanced
- Number of posts: 53
- Joined date: Tue Oct 28, 2014 2:51 pm
- Post datetime: 2015-05-15T13:09:13+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Looks like PC community finally starts giving some results: http://www.freestepdodge.com/threads/pc ... ost-261350
SkacikPL wrote:I've another question.
Is it known what exactly handles character's name? I mean, is it possible to change characters name via costume.
Kind of similar to how first Lisa costume is La mariposa. Is that handled via costume setup or KT hardcoded it?Tested on costume swap and name stays the same. Also, it's still unknown what handles glasses options.
So looks like editing existing stuff is a reality now.
I'll try editing stage textures.

//
Yeah it works flawlessy for me
[http://i.imgur.com/QiXTqMd.jpg](http://i.imgur.com/QiXTqMd.jpg)
[http://i.imgur.com/HLmW1fw.jpg](http://i.imgur.com/HLmW1fw.jpg)
## Post #1592
- Username: SleepySea
- Rank: n00b
- Number of posts: 18
- Joined date: Sun Apr 26, 2015 12:01 am
- Post datetime: 2015-05-15T14:46:09+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from SkacikPL
>
> sf234 wrote:
Protocol X27, SkacikPL
Guess you're right, seems like I overestimated people's interest in modding.
Well, it's a broad term really.
Truth is that the community probably has lots of artists, to create models/textures, but little reverse engineers to provide tools or needed insight.
Not that it means that one side is at fault, but i guess the limited interest is caused by very limited scope of possibility and need to use several tools to achieve the goal.

Interest in modding is always big on PC, but another part of this is that most of the modders are just content creators - not reverse engineers.
Generally i'd blame KT for being a d*ck and making our life harder by adding barriers that sooner or later will be broken either way.

I try to contribute as much as i can within my limited capabilities and that's that. But i suck both as a programmer and artist.

Around 40K people own LR on PC and around 200 seem to be playing it on daily basis.
Getting more people interested in modding does not seem impossible, however getting more capable people to reverse-engineer it is a fat chance.

I can feel you pain.

New comers like myself have to figure stuff out as I go without the luxury of having peers to share with and work together.   I have been trying to follow tutorials and various discussion topics posted here (sometimes you have to go waaay back to find stuff you are looking for), but the sad reality is that the nakedness is most people's main motivation to mod the game, and it is already widely available for most of the cast now.  

Those of us who are still sticking with it have to wear many hats (basically have to be an one-man army) to get anywhere.
## Post #1593
- Username: SkacikPL
- Rank: advanced
- Number of posts: 53
- Joined date: Tue Oct 28, 2014 2:51 pm
- Post datetime: 2015-05-15T15:43:10+00:00
- Post Title: Re: Dead or Alive series formats and tools

Anyone ever worked out stages?
They all have a set of files. The system seems to be quite flexible (won't crash no matter what). Though i don't get what some of the files are responsible for.
BCLIP - ???
CAM - Stage selection camera path
MPM - ??? (some sort of motion data for moving objects?)
PHYD - ??? (most likely all additional objects like barrels)
SCN - Postprocess & lighting
TMC(L) - Mesh/Textures ( + sounds?)
TTGL - Some sort of color LUT?
UNDD - Playable bounds/collision mesh

It'd be nice to know what contains stage audio ambience (like birds in the forest).
## Post #1594
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2015-05-15T15:50:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

its the long weekend, I'll see if i can write something in maxscript.

what are you guys wanting to do ?
## Post #1595
- Username: CptRoque
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Sun Apr 12, 2015 7:00 am
- Post datetime: 2015-05-15T16:19:40+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mariokart64n
>
> its the long weekend, I'll see if i can write something in maxscript.

what are you guys wanting to do ?
Newcomer here, right now what I'd like would be an easier way to edit meshes.

I read a bit about the current ways to do it but I currently don't have the time to learn them. Though I'll eventually have time and, if there are no tools by then, I'll just make do with all that hex editing.
## Post #1596
- Username: SkacikPL
- Rank: advanced
- Number of posts: 53
- Joined date: Tue Oct 28, 2014 2:51 pm
- Post datetime: 2015-05-15T19:08:35+00:00
- Post Title: Re: Dead or Alive series formats and tools

So basically, if we could edit meshes now, we'd be right at home.
## Post #1597
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-05-15T22:18:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mariokart64n
>
> its the long weekend, I'll see if i can write something in maxscript.

what are you guys wanting to do ?

if it could include additional functionality like injection of x,z,y based on selection rather than entire model and manipulation of the vertex data other than the 3d co-ordinate it would be a real plus.

example like
Change all selected vertices boneID to user determined value -> inject (for when you want to pin a foreign object to a single point, or when you want to hide objects and don't want it to fly out of its hiding place when moving)

Or match boneID value of vertex selection from model A to Model B based on rounded x,z,y (for when you want to map one model to another, useful for when you want to attach the leg of one model to the sock from another model)

Automation of vertex creation + deletion would seem like an impossible dream, but if you can figure out a way for that, I'll build you a shrine.
## Post #1598
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-05-15T23:48:49+00:00
- Post Title: Re: Dead or Alive series formats and tools

<Stick it back> for the bone x,y,z will bring great possibility in the future.

and it would be also great if I can select which UV to import when I import the mesh.
## Post #1599
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-05-16T15:50:00+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mariokart64n
>
> its the long weekend, I'll see if i can write something in maxscript.

what are you guys wanting to do ?

Good luck and thanks for chipping in again.  To echo previous sentiments, just being able to import & inject PC models again would be a huge asset, so if modified TMC Parser & StickItBack for those would be awesome.  Anything on top of that as mentioned would be gravy.  My only unique request is getting the object rotation resolved on import / inject for the models that aren't centered on the axes.  Most newer models have not had that problem, if they do, I'll still need an equivalent Xbox 360 model to reference right now, and that could be an issue at some point once TN discontinues them.

***
@SkacikPL/SleepySea No one has to worry about being of a limited or different skill set.  It's all about effort, even helping answer questions, writing tutorials and finding new things are all helpful.  
When new people come along it takes a bit of time to see who will stick around versus who shows up for an easy handout.  I don't think most of us have any issue of withholding information, it's just takes a moment to know see who wants to learn and who's just going to be a distraction. 

@sf234 Pretty much what the others said.  Thanks for the new updates!

@SkacikPL Re: Containers.   I'm not sure what all of those do, but TTGL's were the equivalent of TMCL's for Ninja Gaiden 3 models, so not sure if they are similar or re-purposed.  The PHYD is also common to characters as well. I was under the impression it was physics relation, but tests back on vanilla did not yield anything useful for me when I tried swapping them.
## Post #1600
- Username: SkacikPL
- Rank: advanced
- Number of posts: 53
- Joined date: Tue Oct 28, 2014 2:51 pm
- Post datetime: 2015-05-16T15:59:58+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> 
@SkacikPL Re: Containers.   I'm not sure what all of those do, but TTGL's were the equivalent of TMCL's for Ninja Gaiden 3 models, so not sure if they are similar or re-purposed.  The PHYD is also common to characters as well. I was under the impression it was physics relation, but tests back on vanilla did not yield anything useful for me when I tried swapping them.
Opening TTGLs with texture tool makes it seem as if they contained some sort of color lookup table, which would make sense given they work in pair with SCN which handles post processing.
Additionally i think it's possible to add/edit individual lights inside SCN.
## Post #1601
- Username: SleepySea
- Rank: n00b
- Number of posts: 18
- Joined date: Sun Apr 26, 2015 12:01 am
- Post datetime: 2015-05-16T22:46:07+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> 

***
@SkacikPL/SleepySea No one has to worry about being of a limited or different skill set.  It's all about effort, even helping answer questions, writing tutorials and finding new things are all helpful.  
When new people come along it takes a bit of time to see who will stick around versus who shows up for an easy handout.  I don't think most of us have any issue of withholding information, it's just takes a moment to know see who wants to learn and who's just going to be a distraction.

Sorry if my post came off as a complaint or an accusation of people withholding information.  That was not my intent.  

I actually have been enjoying the learning experience quite a bit and have been sharing my discoveries on a certain forum under a different alias (probably not the best place to talk about technical side of things due to the nature of that forum, and it generates next to zero interest anyway).  I think part of the fun is to figure things out myself.   Harry Palmer's tutorial was a great start, and it showed me what can be done with this type of byte level programming when it comes to game modding, which is also completely new and fascinating to me.  I was able to use it as a base to figure out some of the other stuff and start making simple mods for myself, and I enjoy that very much, thanks to some great help here on this forum.  I have recently just discovered how I can attach an object to a vertex so it doesn't fly around wildly in the scene by doing a bit of research on game animation (You won't believe how thrilled I was to have made such a discovery, but its ancient knowledge here   ).  

Although some times I wish I had tools that were already made to do this stuff, I find writing my own programs allows me to gain a better understanding of the whole process.   However, the down side of writing everything yourself is that it is slow, and my tools are tailor made for my own needs (with custom methods  such as "PinThisToThat()"   ).  I think I am just happy that I am slowly making some kind of progress. (hence the "having to wear many hats" part of my original post)

Another thing I am worried about is Tecmo's defensive stance on game modding.  If they start cracking down hard on this stuff, it is bad news for everyone.  I have heard that they have taken some pretty extreme measures to defend their game and IP before.
## Post #1602
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-05-17T00:41:19+00:00
- Post Title: Re: Dead or Alive series formats and tools

I hope soon we will be able to get the additional costumes for PC.
## Post #1603
- Username: SkacikPL
- Rank: advanced
- Number of posts: 53
- Joined date: Tue Oct 28, 2014 2:51 pm
- Post datetime: 2015-05-17T15:59:04+00:00
- Post Title: Re: Dead or Alive series formats and tools

Well, i tried swapping movesets by replacing .mpm files.
Firstly, neither Archivarius nor Ink reshuffle find all .mpm files that are listed in dat file.

Besides that, swapping _SELECT animation works fine (the one which plays when you select given character).
Swapping _INGAME however is not so flexible, even when using same body type it will break the character. Majority of attacks don't play and outright lock the character, others which do play still won't connect. Mostly only throws work in somewhat broken manner.

To me it appears as if the animation/attacks frametimes were hardcoded so swapping the animations for given character breaks everything that relies on said frame data (which happens to be all attacks) (Unless it would work by swapping files that are not currently detected). Idle animation works perfectly,[additionally the character will also rescale to fit source animation (which looks rather well, if you don't mind that little characters can become much bigger)](http://i.imgur.com/UGlCvq4.png).

I guess it would be easier and more cost effective to export model of character X as a costume for character Y as a mean for changing moveset than swapping the animation files.
## Post #1604
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-05-19T14:02:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

@SkacikPL
That's some of the same findings I had in Vanilla, except I got stalled and never revisited.  I swapped the select animation and it worked, but the camera was goofy.  I tried swapping the select cam and that didn't work.  Same for swapping in game stuff as you mentioned.  It didn't help that working on the 360 required updating a 2GB file every time to test.   :-/  

I think characters may have some default properties stored in a .bin or something.  I swapped NPC's with playable characters and their skeletons were off.  Although, I haven't revisited it yet, the skeleton patcher may resolve those issues. 

***
Next DLC is up.  My BLP converter for 360 still doesn't recognize Honoka. Am I using an outdated version, or did we still need manual entries for that?  I know the PC version is working fine for those files.
## Post #1605
- Username: SkacikPL
- Rank: advanced
- Number of posts: 53
- Joined date: Tue Oct 28, 2014 2:51 pm
- Post datetime: 2015-05-19T14:45:29+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Protocol X27

For me swapping _SELECT.cam works just fine, in fact i [did swap both animation and camera for this video](https://www.youtube.com/watch?v=TNqHkWUmK4g).
There's also _INGAME.cam which handles camera movement for moves like throws or power punches.
//
Though i still don't know where are the intro/outro animations kept or what handles the "private paradise" move animations.
## Post #1606
- Username: syasuker
- Rank: beginner
- Number of posts: 24
- Joined date: Sun May 17, 2015 12:49 pm
- Post datetime: 2015-05-21T02:58:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

[https://www.youtube.com/watch?v=uXfie1kvVfk](https://www.youtube.com/watch?v=uXfie1kvVfk)

sorry a silly question,who can give me the tool of tex form1?
## Post #1607
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-05-21T06:30:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

That's a 360 problem, you don't need it. the textures in PC shouldn't be scrambled.
Plus the 360 texture extractor had it built in.
## Post #1608
- Username: SkacikPL
- Rank: advanced
- Number of posts: 53
- Joined date: Tue Oct 28, 2014 2:51 pm
- Post datetime: 2015-05-21T20:20:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

Looking at freestepdodge forums, i've noticed somebody has dug out unused Alpha 152 ninja outfit (which got reused in 3rd ninja clan pack on consoles lol).
This also made me curious about costumes for alpha. As the game seems very picky about them, loading any costume that was not made for use with alpha will crash the game when loading a stage (or selecting the costume). My first guess is either abundance of textures (alpha ones have only two, one is white and other one is tint color) or alpha (as in transparency). Perhaps her shader does not also work very well with normal mapping (even better guess).

Same applies for hair. Using hair meshes from other costumes will crash the game.

I'll poke around and see whether i can come up with an answer.

//
---C seems to be some sort of shader file, using non-alpha costume with non-alpha ---C will work, however using alpha shader with non-alpha costume will crash the game.
It doesn't seem to be a problem with opacity as i tried replacing all textures with ones used in alphas costumes. Not sure about normal maps as i don't know how are materials setup in this game, perhaps they're also handled by ---C.

Last resort would really be that alpha costumes are just allowed to have 2 textures (L_0 and L_1) but that's hard to test without ability to strip textures from TMC(L).

//
Her hair seems to have transparency mask in separate file but i don't think it's actually used.
Using alpha shader on other characters seems to have no effect, that would mean that shader is predefined per actual character rather than costume itself. Not sure what would be the role of ---C file, perhaps just some sort of shader config?
## Post #1609
- Username: syasuker
- Rank: beginner
- Number of posts: 24
- Joined date: Sun May 17, 2015 12:49 pm
- Post datetime: 2015-05-22T08:19:40+00:00
- Post Title: Re: Dead or Alive series formats and tools

by diedaodemao
## Post #1610
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2015-05-23T00:47:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

eh sorry i said i was gonna write some stuff up last week, but then got hooked playing the witcher3. i still havent forgotten. modding should be easy just needs someone to doe the coding eh
## Post #1611
- Username: amandabyyy
- Rank: beginner
- Number of posts: 22
- Joined date: Mon May 31, 2010 3:08 pm
- Post datetime: 2015-05-23T06:46:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hey everyone,

Started working on some code to import/export TMC model data. Just looking through the 64 byte sized vertex data, I can see the following:

fvfdata key -> vertex data

0x2 maps to the vertex position
0x30002 maps to the normal vector
0x5000B maps to the UV coordinate

I can't quite seem to figure out 
0x1000D - This is 4 bytes. It could be the bone indices?
0x60003 - This is a vector since the 3 components' magnitude is 1 and the fourth value is 1.0. Is this the bitangent?
0x20005 - This is 4 bytes like 0x1000D. This could be bone indices.
0x105000B - This is 8 bytes. I honestly don't have any clue what this could be.

What I'm sorely missing are the blend weights which I'm assuming are 4 floats (16 bytes). If anyone could help me with these values I can't seem to figure out, I'd greatly appreciate it.
## Post #1612
- Username: syasuker
- Rank: beginner
- Number of posts: 24
- Joined date: Sun May 17, 2015 12:49 pm
- Post datetime: 2015-05-27T06:20:44+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from amandabyyy
>
> Hey everyone,

Started working on some code to import/export TMC model data. Just looking through the 64 byte sized vertex data, I can see the following:

fvfdata key -> vertex data

0x2 maps to the vertex position
0x30002 maps to the normal vector
0x5000B maps to the UV coordinate

I can't quite seem to figure out 
0x1000D - This is 4 bytes. It could be the bone indices?
0x60003 - This is a vector since the 3 components' magnitude is 1 and the fourth value is 1.0. Is this the bitangent?
0x20005 - This is 4 bytes like 0x1000D. This could be bone indices.
0x105000B - This is 8 bytes. I honestly don't have any clue what this could be.

What I'm sorely missing are the blend weights which I'm assuming are 4 floats (16 bytes). If anyone could help me with these values I can't seem to figure out, I'd greatly appreciate it.

0x105000B = 0x00105000B = 01 05 00 0B
01 declLayer
05 declUsage D3DDECLUSAGE    [https://msdn.microsoft.com/en-us/librar ... 85%29.aspx](https://msdn.microsoft.com/en-us/library/windows/desktop/bb172534%28v=vs.85%29.aspx)
00 always 0?
0B declType

by diedaodemao
## Post #1613
- Username: SkacikPL
- Rank: advanced
- Number of posts: 53
- Joined date: Tue Oct 28, 2014 2:51 pm
- Post datetime: 2015-05-27T06:28:23+00:00
- Post Title: Re: Dead or Alive series formats and tools

Game got updated today - no patch notes.
I expect a mod cock-block.
//
DLC mods seem to work, however hair indexes have been shifted - i guess that they needed to code-in some space for new costumes and that's that.
Though obviously ink reshuffle won't work on the new executable.
## Post #1614
- Username: amandabyyy
- Rank: beginner
- Number of posts: 22
- Joined date: Mon May 31, 2010 3:08 pm
- Post datetime: 2015-05-28T01:48:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from syasuker
>
> amandabyyy wrote:Hey everyone,

Started working on some code to import/export TMC model data. Just looking through the 64 byte sized vertex data, I can see the following:

fvfdata key -> vertex data

0x2 maps to the vertex position
0x30002 maps to the normal vector
0x5000B maps to the UV coordinate

I can't quite seem to figure out 
0x1000D - This is 4 bytes. It could be the bone indices?
0x60003 - This is a vector since the 3 components' magnitude is 1 and the fourth value is 1.0. Is this the bitangent?
0x20005 - This is 4 bytes like 0x1000D. This could be bone indices.
0x105000B - This is 8 bytes. I honestly don't have any clue what this could be.

What I'm sorely missing are the blend weights which I'm assuming are 4 floats (16 bytes). If anyone could help me with these values I can't seem to figure out, I'd greatly appreciate it.

0x105000B = 0x00105000B = 01 05 00 0B
01 declLayer
05 declUsage D3DDECLUSAGE    https://msdn.microsoft.com/en-us/librar ... 85%29.aspx
00 always 0?
0B declType

by diedaodemao

oh crap that helps a lot. thanks!
## Post #1615
- Username: b0ny
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Sat May 22, 2010 5:10 pm
- Post datetime: 2015-05-28T18:54:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

hi folks. i'm a bit off track of what you're doing here, also not shure what is the current state of archivarius, still, here is a version ported by you guys with some modifications by me.

doa5LRarchivarius (some, not shure, very last, b0ny+folks edition):

added a keybank funtion to store all the keys to a file, so for now you could spare your time by unpacking with keys found by someone else, the keys are added to the keybank once, and used next time from there. also reversed some filenames.

stage modding anyone, i was intrigued to see the debug stages(suported by provided archivarius), have anyone tried to hack the way the stages are loaded to load different stages(cinematic and debug), debug stages could be a good tutorial on materials and things...
## Post #1616
- Username: amandabyyy
- Rank: beginner
- Number of posts: 22
- Joined date: Mon May 31, 2010 3:08 pm
- Post datetime: 2015-05-29T05:10:28+00:00
- Post Title: Re: Dead or Alive series formats and tools

Just wanted to say thanks syasuker! I can now import arbitrary meshes on top of TMCs. I have a lot of cleaning up to do though now
## Post #1617
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-05-29T05:59:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

@b0ny

good to see you again b0ny.
## Post #1618
- Username: syasuker
- Rank: beginner
- Number of posts: 24
- Joined date: Sun May 17, 2015 12:49 pm
- Post datetime: 2015-05-29T07:06:09+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from amandabyyy
>
> Just wanted to say thanks syasuker! I can now import arbitrary meshes on top of TMCs. I have a lot of cleaning up to do though now

good news

and all from diedaodemao.

I'm just a porter
## Post #1619
- Username: jacksh
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Sun Feb 19, 2012 1:30 pm
- Post datetime: 2015-05-29T13:20:34+00:00
- Post Title: Re: Dead or Alive series formats and tools

Can provide doa5Uarchivarius.dat for X360 ver.(Fighter Force Costumes)? or where to find the updated.
## Post #1620
- Username: LarsMasters
- Rank: beginner
- Number of posts: 28
- Joined date: Mon Aug 25, 2014 10:30 am
- Post datetime: 2015-05-29T16:03:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

I'm having a trouble on DLC Tool Head Swap & it gives me an error on some head. Example: Jacky with Jann Lee's face & hair
## Post #1621
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-05-29T16:48:40+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from jacksh
>
> Can provide doa5Uarchivarius.dat for X360 ver.(Fighter Force Costumes)? or where to find the updated.

Use the blp converter for 360 version and update your own dat files, it's easy, the only issue is that male characters won't be updated.
## Post #1622
- Username: jacksh
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Sun Feb 19, 2012 1:30 pm
- Post datetime: 2015-05-30T07:11:47+00:00
- Post Title: Re: Dead or Alive series formats and tools

Worked! baby! kiss you!
## Post #1623
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-05-30T21:52:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

Had this weird dream where I swapped out the dolphin on the Zack island stage with Donovan, then all you see was this masked guy in a suit flipping in and out of the water. 
This all happened while a familiar music track played in the background, but I can't seem to recall what it was.
## Post #1624
- Username: artworkplay
- Rank: veteran
- Number of posts: 116
- Joined date: Thu Oct 06, 2011 4:40 am
- Post datetime: 2015-06-02T00:47:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hi all, I'm trying to find the right xbox360 doa5U lnk and bin extractor from all the replies in the thread, the one that can be used with quickbms to get the tmc/tmcl files but I keep getting .dec files from the .dat files when I tried the versions I downloaded. If anyone could kindly point me to the right direction it would help a lot.

EDIT Silly me, it was staring me at the face all this time.
## Post #1625
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-06-03T20:52:38+00:00
- Post Title: Re: Dead or Alive series formats and tools

Fail Update: I've been having some distraction issues with W3 as well and some computer spec issues, so I'm trying to get back into the right mode.

I know have a couple of PM's to catch up and utils to finish.  :-/
## Post #1626
- Username: navmesh
- Rank: beginner
- Number of posts: 24
- Joined date: Mon Mar 12, 2012 10:04 am
- Post datetime: 2015-06-06T14:53:53+00:00
- Post Title: Re: Dead or Alive series formats and tools

hi , may i ask for 3dsmax script that import doa5LR TMC (PC version) ? 
i googled and found DOA5 Importer , maxsciprt for doa5 research,DOA5 Vertex Injector but none works 
thanks
## Post #1627
- Username: SkacikPL
- Rank: advanced
- Number of posts: 53
- Joined date: Tue Oct 28, 2014 2:51 pm
- Post datetime: 2015-06-08T07:06:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from navmesh
>
> hi , may i ask for 3dsmax script that import doa5LR TMC (PC version) ? 
i googled and found DOA5 Importer , maxsciprt for doa5 research,DOA5 Vertex Injector but none works 
thanks
There are no automated tools for editing meshes in any way on PC.
## Post #1628
- Username: casnova
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Mon Jun 08, 2015 4:05 pm
- Post datetime: 2015-06-08T08:11:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks, in advance, for any info.
Very interesting. thanks for sharing.    











ที่วางในคาสิโนต่างๆ มาเล่นในคอมพิวเตอร์ หรืออุปกรณ์ต่างๆเช่น มือถือและแท็บเล็ต ได้ที่นี่ [royal1688 สล็อต](https://www.royal-1688.net/royal1688-%E0%B8%AA%E0%B8%A5%E0%B9%87%E0%B8%AD%E0%B8%95)
## Post #1629
- Username: amandabyyy
- Rank: beginner
- Number of posts: 22
- Joined date: Mon May 31, 2010 3:08 pm
- Post datetime: 2015-06-09T01:21:52+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from SkacikPL
>
> navmesh wrote:hi , may i ask for 3dsmax script that import doa5LR TMC (PC version) ? 
i googled and found DOA5 Importer , maxsciprt for doa5 research,DOA5 Vertex Injector but none works 
thanks
There are no automated tools for editing meshes in any way on PC.

I'm close to finishing mine up. I've gotten a few important things done:

1. importing objs.
2. exporting and then reimporting meshes from TMCs
3. growing vertex buffers and triangle strips within a mesh.

I have a few more things to work on, but this allows any mesh to be imported. The only limiting factors are the number of sub meshes and their vertex sizes, but that probably isn't too much a problem for most uses.
## Post #1630
- Username: Errotie
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Tue Jun 09, 2015 10:14 am
- Post datetime: 2015-06-09T02:22:59+00:00
- Post Title: Re: Dead or Alive series formats and tools

I'm new here. Love the site, and keep on keeping on!  [etui Galaxy Star 2](http://www.coquegalaxystar2.com/category-etui-coque-pour-galaxy-star-2-cuir-3.html) [housse protection Galaxy Star 2](http://www.coquegalaxystar2.com)
## Post #1631
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-06-09T07:59:04+00:00
- Post Title: Re: Dead or Alive series formats and tools

@amandabyyy
Sounds like you are shifting this game to tip of the end at a time.
Amazing.
When you import the OBJ file into TMC, are you able to get weight values and tangent vectors for new meshes?
You know OBJ don't have those ones.
## Post #1632
- Username: artworkplay
- Rank: veteran
- Number of posts: 116
- Joined date: Thu Oct 06, 2011 4:40 am
- Post datetime: 2015-06-09T13:18:07+00:00
- Post Title: Re: Dead or Alive series formats and tools

Actually wondering as well why .obj format?
## Post #1633
- Username: LarsMasters
- Rank: beginner
- Number of posts: 28
- Joined date: Mon Aug 25, 2014 10:30 am
- Post datetime: 2015-06-09T14:12:22+00:00
- Post Title: Re: Dead or Alive series formats and tools

Perhaps because its very simple, yeah?
## Post #1634
- Username: amandabyyy
- Rank: beginner
- Number of posts: 22
- Joined date: Mon May 31, 2010 3:08 pm
- Post datetime: 2015-06-09T15:11:13+00:00
- Post Title: Re: Dead or Alive series formats and tools

Yeah, obj because it's simple for now. You could import any format as long as it has the data. I could write an import script into blender or whatever which would then allow you to change the weights/bone indices, but it's not really on my roadmap yet. I kind of just do things as I need them. I guess I'll end up doing it.

For now, I just use the closest vertex in the mesh already to get the bone indices/weights. It's not all that great, but all I'd need to do is just export weights/etc and it'd be done.
## Post #1635
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-06-09T16:58:10+00:00
- Post Title: Re: Dead or Alive series formats and tools

Yes actually that would be enough.
Painting weights is also annoying job to do even if we can get weight values from a new mesh.  

It could be difficult to get vertex tangent for normal maps, but I know it's not that essential requirement for mesh creating. 

Anyway, I can guess there's going to be various problems when the sub-mesh importing is automated.

for example, missing bones, matching textures and materials for multiple sub-meshes, dust UV difference due to difference of dust texture map. etc..

But it's going to be fully wonderful only with vertex &
index buffer extending functions, at least for me now.
## Post #1636
- Username: amandabyyy
- Rank: beginner
- Number of posts: 22
- Joined date: Mon May 31, 2010 3:08 pm
- Post datetime: 2015-06-10T00:12:27+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Rosalin
>
> Yes actually that would be enough.
Painting weights is also annoying job to do even if we can get weight values from a new mesh.  

It could be difficult to get vertex tangent for normal maps, but I know it's not that essential requirement for mesh creating. 

Anyway, I can guess there's going to be various problems when the sub-mesh importing is automated.

for example, missing bones, matching textures and materials for multiple sub-meshes, dust UV difference due to difference of dust texture map. etc..

But it's going to be fully wonderful only with vertex &
index buffer extending functions, at least for me now.

Yeah I'll work to make texture references easier. It's pretty easy. Right now I calculate the bitangents. not sure if there right though since I haven't actually tested that part. Missing bones is def a  problem. I think it's possible to just merge skeletons but I might be wrung about that. I might give that a go if I really want some bones.
## Post #1637
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-06-10T15:17:43+00:00
- Post Title: Re: Dead or Alive series formats and tools

@amandabyyy
Well, then the only problem left should be about difference between OBJ and TMC format.
You know, TMC cannot have multiple UV coordinates or normal vector for one vertex, not like OBJ files.
So it's going to be a bit annoying when people cut UV maps when they create OBJ files.
I can guess they should cut the actual meshes to cut UV and re-unify vertex normal to refined the surfaces, unless there's a good automated OBJ exporting tools.
I'm afraid it can also cause some tangent vector miscalculation around the disconnected UV. But I don't have exact concept of tangents so I can't actually sure about that.

I already had some concepts about importing OBJ files, but I never imagined someone could bring these things all at once.
I'll be waiting for your amazing tool.
## Post #1638
- Username: SleepySea
- Rank: n00b
- Number of posts: 18
- Joined date: Sun Apr 26, 2015 12:01 am
- Post datetime: 2015-06-10T15:58:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

I have a basic OBJ (from noesis export) to TMC import working (like I can shrink Lisa's bikini and export it back to TMC from blender), but I didn't spend much time on it due to the rather limiting data format for what I have been trying to do in terms of modding.

OBJ is an easy format to work with due to its simplicity (easy to parse etc), but the same benefit (at least in my usage) also limits its potential in terms of the type of mods I have seen people create, but Amanda's tool appears to be a much more comprehensive version of what I had attempted.
## Post #1639
- Username: artworkplay
- Rank: veteran
- Number of posts: 116
- Joined date: Thu Oct 06, 2011 4:40 am
- Post datetime: 2015-06-10T16:21:59+00:00
- Post Title: Re: Dead or Alive series formats and tools

You've got to forgive my ignorance but isn't .obj an incredibly limited format since it doesn't support weights and bones (both of which would be useful for modding)?
## Post #1640
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-06-10T16:31:21+00:00
- Post Title: Re: Dead or Alive series formats and tools

You are right but you can handle weights by simply assigning object to a bone or copying values from nearest vertex.

Anyway I wish to try amanda's tool with extending buffer size.
I know how to export sub-meshes but extending buffersize is most annoying job for me to do manually, so I tried it only once long ago.
## Post #1641
- Username: amandabyyy
- Rank: beginner
- Number of posts: 22
- Joined date: Mon May 31, 2010 3:08 pm
- Post datetime: 2015-06-11T00:22:53+00:00
- Post Title: Re: Dead or Alive series formats and tools

Obj doesn't limit anything. It's there to see pieces of my code work. I use it because exporters already exist for it and it's super easy to parse. It's pointless to use anything else until I or someone else writes an import script so you know what bones exist. Only then is it worth while using another format in which case I'd just write my own easy to read format rather than using anything else.

Let me expand on the obj issue a bit:
1. Exporting is free.
2. Importing takes about 5-10 minutes to write code for.
3. It allows you to test vertices, normals, uvs, and triangle indices.
4. It allows you to test your triangle stripper and how you write data to the TMC files.

The total "lost cost" of using an obj is found in step #2. You read the file, store the data in memory. If you want to support a different format, you parse that file and store the data in memory exactly the same way you did for obj. The work for #3 and #4 is not lost at all.

@rosalin you can just dupe a vertex in your code with different UV or normal.
## Post #1642
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-06-11T01:38:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

@amanda
Great idea. I never tried to think in that way.
## Post #1643
- Username: Habeeb
- Rank: n00b
- Number of posts: 12
- Joined date: Mon Sep 20, 2010 12:25 am
- Post datetime: 2015-06-11T03:01:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from artworkplay
>
> isn't .obj an incredibly limited format
It is. I'm not even sure it can support multiple UV maps.
## Post #1644
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-06-11T05:17:27+00:00
- Post Title: Re: Dead or Alive series formats and tools

Multiple UV is not that important thing.

In most cases, three UV maps in a TMC are just same and 4th thing is an unique UV map for dust texture.
Every sub mesh in a TMC shares one dust texture so there are no available UV spaces for custom meshes usually.

So it's a fine idea to just set first three UV as identical ones and blank the 4th UV to all (0,0).

And you can also control every UV maps separately by using exported OBJ files.
## Post #1645
- Username: Habeeb
- Rank: n00b
- Number of posts: 12
- Joined date: Mon Sep 20, 2010 12:25 am
- Post datetime: 2015-06-11T14:48:35+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Rosalin
>
> Multiple UV is not that important thing.
It kind of is. Just like the tangents. The model will be degraded needlessly, especially if you just want to do a couple of minor edits.
Also, dirt textures don't always come last and noesis only exports one uv layer.
## Post #1646
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-06-11T15:26:11+00:00
- Post Title: Re: Dead or Alive series formats and tools

Sounds like you want everything is automated.
## Post #1647
- Username: Habeeb
- Rank: n00b
- Number of posts: 12
- Joined date: Mon Sep 20, 2010 12:25 am
- Post datetime: 2015-06-11T15:41:13+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Rosalin
>
> Sounds like you want everything is automated.
Ideally, sure.
But here I'm just pointing out issues that amandabyyy might have missed, so he doesn't waste too much time on things that are pretty much broken by design.
## Post #1648
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-06-11T16:23:01+00:00
- Post Title: Re: Dead or Alive series formats and tools

I've been using OBJ files to edit TMC files lots of times, not in my imagination.
So I can tell what's enough and not enough. and what's broken and what's not broken.

I can hardly understand just sitting and complaining like you.
If someone calls an overachieved thing as a broken one, then it's going to look ridiculous to me.
## Post #1649
- Username: Habeeb
- Rank: n00b
- Number of posts: 12
- Joined date: Mon Sep 20, 2010 12:25 am
- Post datetime: 2015-06-11T16:40:19+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Rosalin
>
> I can hardly understand just sitting and complaining like you.
What are you even talking about
## Post #1650
- Username: amandabyyy
- Rank: beginner
- Number of posts: 22
- Joined date: Mon May 31, 2010 3:08 pm
- Post datetime: 2015-06-12T00:35:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Habeeb
>
> Rosalin wrote:Sounds like you want everything is automated.
Ideally, sure.
But here I'm just pointing out issues that amandabyyy might have missed, so he doesn't waste too much time on things that are pretty much broken by design.
Once again I'm not wasting time on anything. I've said obj is there for testing. It takes five minutes to parse. Replace the parser and that's all you need to do. Of course obj doesn't give all the info but it's easy to switch to a different format.

Trust me i know exactly what I'm doing with regards to formats.

I'll just modify the obj exporter and add bones/weights/tangents to it and modify my parser to read it in. So zero work is lost.
## Post #1651
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-06-12T10:22:23+00:00
- Post Title: Re: Dead or Alive series formats and tools

Anyway, while modding TMC files manually , some vertices can be excluded from indices of triangles.
Then the vertices will be fragmented.

The fragmented vertices will cause a little problem with OBJ.
Actually, it's the matter of 3DS Max.

While importing OBJ file to Max, fragmented vertices will be deleted, and the index of vertices will be contracted by excluding fragmented vertices. (it doesn't happen while exporting OBJ files)
Then it will cause problem with synchronizing TMC vertex indices, you know, numbers and orders of vertex is very important while modifying TMC.

Zbrush can keep those vertices while importing.
But I couldn't do it in 3DS max.
## Post #1652
- Username: casnova
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Mon Jun 08, 2015 4:05 pm
- Post datetime: 2015-06-12T10:54:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

That's great news!
very nice!i love it.    










โปรโมชั่นสุดแรง สมัครสมาชิกใหม่ วันนี้รับโบนัสฟรีทันที 10% และรับอีก 5% [สมัคร royal1688](https://www.royal-1688.net/%E0%B8%AA%E0%B8%A1%E0%B8%B1%E0%B8%84%E0%B8%A3-royal1688)
## Post #1653
- Username: Habeeb
- Rank: n00b
- Number of posts: 12
- Joined date: Mon Sep 20, 2010 12:25 am
- Post datetime: 2015-06-12T11:27:46+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from amandabyyy
>
> I'll just modify the obj exporter and add bones/weights/tangents to it and modify my parser to read it in. So zero work is lost.
I guess it makes sense for testing. But I thought you would want to write a TMC importer for blender or max or whatever software you are using instead. No intermediaries this way and you'll be able to import much more info eventually, once more of the format is known.
## Post #1654
- Username: amandabyyy
- Rank: beginner
- Number of posts: 22
- Joined date: Mon May 31, 2010 3:08 pm
- Post datetime: 2015-06-12T14:49:15+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Habeeb
>
> amandabyyy wrote:I'll just modify the obj exporter and add bones/weights/tangents to it and modify my parser to read it in. So zero work is lost.
I guess it makes sense for testing. But I thought you would want to write a TMC importer for blender or max or whatever software you are using instead. No intermediaries this way and you'll be able to import much more info eventually, once more of the format is known.

Of course. You'd have to have a TMC importer for one of those to get bone information and what not. But I'm not even touching bones right now. It's too easy to write an obj file to ignore right now. I think I have enough knowledge to write a TMC importer now actually. 

At least I have enough knowledge to import the weights/bones along with all the typical stuff which is good enough for now. I'll actually probably start working on that next.
## Post #1655
- Username: SleepySea
- Rank: n00b
- Number of posts: 18
- Joined date: Sun Apr 26, 2015 12:01 am
- Post datetime: 2015-06-12T14:58:57+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Rosalin
>
> Anyway, while modding TMC files manually , some vertices can be excluded from indices of triangles.
Then the vertices will be fragmented.

The fragmented vertices will cause a little problem with OBJ.
Actually, it's the matter of 3DS Max.

While importing OBJ file to Max, fragmented vertices will be deleted, and the index of vertices will be contracted by excluding fragmented vertices. (it doesn't happen while exporting OBJ files)
Then it will cause problem with synchronizing TMC vertex indices, you know, numbers and orders of vertex is very important while modifying TMC.

Zbrush can keep those vertices while importing.
But I couldn't do it in 3DS max.

I also noticed the loss of vertices when using Noesis exporting tool as well which makes mapping OBJ to TMC quite troublesome.
## Post #1656
- Username: amandabyyy
- Rank: beginner
- Number of posts: 22
- Joined date: Mon May 31, 2010 3:08 pm
- Post datetime: 2015-06-12T15:11:19+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Rosalin
>
> Anyway, while modding TMC files manually , some vertices can be excluded from indices of triangles.
Then the vertices will be fragmented.

The fragmented vertices will cause a little problem with OBJ.
Actually, it's the matter of 3DS Max.

While importing OBJ file to Max, fragmented vertices will be deleted, and the index of vertices will be contracted by excluding fragmented vertices. (it doesn't happen while exporting OBJ files)
Then it will cause problem with synchronizing TMC vertex indices, you know, numbers and orders of vertex is very important while modifying TMC.

Zbrush can keep those vertices while importing.
But I couldn't do it in 3DS max.

The Blender obj importer keeps all vertices. It can also keep order and export in the same order. Max is much better software, but hey Blender is free.
## Post #1657
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-06-12T17:52:19+00:00
- Post Title: Re: Dead or Alive series formats and tools

That's a bad idea.
Then TMC should need to be fixed for Max.

By simply linking isolated vertices.

Well.. never mind.
it's just my opinion because I'm too familiar with stuffs around the 3ds Max.


------
Anyway,.. Noesis OBJ exporter never worked right for me.
I always did it through 3DS max.
## Post #1658
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-06-13T23:22:10+00:00
- Post Title: Re: Dead or Alive series formats and tools

Had an interesting issue from FSD, trying to make body object transparent.

The usual transparency procedure doesn't work on the body object, figure there must be something else that needs to be changed since when the body mesh is swapped to another object it works fine.
I've never ran into this issue before since it's pretty much the first time anyone's tried to make the body see through.

I think there was some documentation of this issue, waaaay back from the 360iso days.
anyone recall anything or had experience with this?
## Post #1659
- Username: Habeeb
- Rank: n00b
- Number of posts: 12
- Joined date: Mon Sep 20, 2010 12:25 am
- Post datetime: 2015-06-14T01:00:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> The usual transparency procedure doesn't work on the body object, figure there must be something else that needs to be changed
Should be inside the matecp section. Material/texture/shader parameters go there normally.
## Post #1660
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-06-14T02:07:11+00:00
- Post Title: Re: Dead or Alive series formats and tools

I checked that Noesis OBJ exporter definitely drops fragmented vertices.
total V count has decreased.

And it even sometimes distorts order of vertices, I don't know reason why.

And it also drops some part of meshes too.


I think it would be a good idea to parse a new OBJ exporter for this.


OBJ is fine. Because I tested a lot with it.
But I seriously doubt the Noesis.
## Post #1661
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-06-14T08:30:46+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Habeeb
>
> Lilstormcloud wrote:The usual transparency procedure doesn't work on the body object, figure there must be something else that needs to be changed
Should be inside the matecp section. Material/texture/shader parameters go there normally.

you're right, it was there.

many thanks.
## Post #1662
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-06-14T12:06:55+00:00
- Post Title: Re: Dead or Alive series formats and tools

Oh I was also having similar issue.
I tried to make another object into skin object, but something was missing and caused troble.
And matecp seems to be the answer.

But there are so many entries in matecp and I couldn't find any linkage between the object.
any tutorial?

***
I visited FSD for that.

is he trying to make swimsuit transparent?
I guess it will reveal the broken body parts under the swimsuit lol.
## Post #1663
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-06-14T19:22:15+00:00
- Post Title: Re: Dead or Alive series formats and tools

He was trying to make more costumes for alpha 123. wanted to make the skin see through.

It's like objgeo @matecp, you can jump to a block but I can't seem to find an index to tell me which is for the skin object. (most of them look exactly the same)
I just tested turning them off till I found the right one. In my case it was entry 1D, but the texture number was 18, object was 8. maybe there's a link in geodecl, haven't checked.

The skin entry seem to just mean EF FE 53 EB, since the rest is pretty much the same as everything else.
I tested ctrl+f the skin entry on one more costume and it's the same, maybe same for every costume. 

Not sure what the set of numbers mean, make any change at all to the numbers and the skin turn transparent, don't even need to put AD 48 65 D6, change even one of those to 01 or something else and same thing happens. (maybe something else happens too, but i didn't see difference prob because skin was too faded)

not sure what other uses can be made from this.
maybe can take hitomi ghost costume and turn her to real ghost
## Post #1664
- Username: Habeeb
- Rank: n00b
- Number of posts: 12
- Joined date: Mon Sep 20, 2010 12:25 am
- Post datetime: 2015-06-14T19:58:07+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> It's like objgeo @matecp, you can jump to a block but I can't seem to find an index to tell me which is for the skin object. (most of them look exactly the same)
The itable section has that.
The main offsets are for objects. Then you have the number of submeshes followed by the customp index for each submesh.

For MARIE_DLCU_001.TMC you have:
69 74 61 62 6C 65 00 00 00 00 01 01 30 00 00 00
90 00 00 00 02 00 00 00 02 00 00 00 00 00 00 00
30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
40 00 00 00 80 00 00 00 00 00 00 00 00 00 00 00
0E 00 00 00 05 00 00 00 05 00 00 00 04 00 00 00
04 00 00 00 04 00 00 00 01 00 00 00 03 00 00 00
03 00 00 00 0D 00 00 00 00 00 00 00 0C 00 00 00
0D 00 00 00 0D 00 00 00 07 00 00 00 00 00 00 00
01 00 00 00 0D 00 00 00 00 00 00 00 00 00 00 00
## Post #1665
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-06-16T17:24:27+00:00
- Post Title: Re: Dead or Alive series formats and tools

Interesting finds on the material stuff.  So is the matecp it's own block? I don't recall noticing it before.  I would have only though to check in the mtrcol. 

I tried making the body transparent a long time ago, but cannot remember for what purpose.  Obviously never solved it back then. XD

***

In other news, Deception DLC is available, although I still can't seem to get certain costumes to be read in the BLP tool for 360 specifically Raidou, Honoka, etc... Anyone else have this issue?

Still no destruction alt of course, but Nyotengu does have a complete pelvis mesh between upper legs & waist should anyone find that useful.
## Post #1666
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-06-17T09:04:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

Yay, black haired marie
## Post #1667
- Username: syasuker
- Rank: beginner
- Number of posts: 24
- Joined date: Sun May 17, 2015 12:49 pm
- Post datetime: 2015-06-19T02:17:35+00:00
- Post Title: Re: Dead or Alive series formats and tools

OK,the new DLC add 3 hair.
so we can add new hair to DLCmod?
## Post #1668
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-06-21T02:26:40+00:00
- Post Title: Re: Dead or Alive series formats and tools

I don't think that's possible yet... It can be added, but whether the game will handle it correctly, or have the costume reference it properly is another story. 

***

I've updated a couple of scripts to work for 360 now.  I'm working on my first injection test.  If anyone has already done this and has any shortcuts I'm all ears.  I have to mock everything up by making the mod for the 360, do the same thing for the PC and then match the first from the 360 mod to the PC mod.  Very time consuming... I'll post updated scripts once I can confirm that everything's working upon success of a completed mod.

Injecting into PC is slightly different since Verts & Indices are in the TMC now, that means all addresses at the beginning of the container need to be updated for anything after the IdxLay. 

***

I ran into more issues with the BLP Converter (1.0 PC) / updated archivarious (1.8 PC) ... The BLP converter seems to recognize everything in the SK pack beside saying '6 unknown' files.  I copied the data into the dat for archivarius.  Archivarius still can't find most of the content in the .bin.  Even if I compare the file names manually from what the BLP Converter generated, the file names don't seem to match.  Anyone else run into anything like this?
## Post #1669
- Username: syasuker
- Rank: beginner
- Number of posts: 24
- Joined date: Sun May 17, 2015 12:49 pm
- Post datetime: 2015-06-21T07:18:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> I don't think that's possible yet... It can be added, but whether the game will handle it correctly, or have the costume reference it properly is another story. 

***

I ran into more issues with the BLP Converter (1.0 PC) / updated archivarious (1.8 PC) ... The BLP converter seems to recognize everything in the SK pack beside saying '6 unknown' files.  I copied the data into the dat for archivarius.  Archivarius still can't find most of the content in the .bin.  Even if I compare the file names manually from what the BLP Converter generated, the file names don't seem to match.  Anyone else run into anything like this?

The 1.02A With other ways of encrypted file name and add _1 at the back.
so the  BLP Converter and dlctool have to update.
sorry my En.
## Post #1670
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-06-24T12:14:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

I tested buffer extending and made a simple index shifter for my own use.
You can simply open multiple windows for multitasking.


 Index Shifter.zip
(23.45 KiB) Downloaded 67 times



Edit : I think I've made it totally wrong way in 2 byte mod. I hope it's fixed now.
## Post #1671
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-06-29T06:19:20+00:00
- Post Title: Re: Dead or Alive series formats and tools

new vertex porting tool.

[http://c.2ch.net/test/-/pinkcafe/1434531576/560](http://c.2ch.net/test/-/pinkcafe/1434531576/560)

seems like an automation of the basic model swap process.
It doesn't seem to rewrite tmc size and address though, which is the most annoying part
## Post #1672
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-06-30T00:50:28+00:00
- Post Title: Re: Dead or Alive series formats and tools

^ Good find. 

What exactly did they change? I cannot tell by the screen shots, just one of the costumes without the stockings? 

Maybe I'm missing something, but I couldn't figure out how to download the files, it just seemed like circular links. 

***
I'm one step away from getting the bone sub script done.  Got an unexpected error, I'm trying to resolve.  I've only had a few minutes a day on weekdays to actually work on stuff, so it's been taking longer than expected.
## Post #1673
- Username: navmesh
- Rank: beginner
- Number of posts: 24
- Joined date: Mon Mar 12, 2012 10:04 am
- Post datetime: 2015-06-30T03:53:04+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> ^ Good find. 

What exactly did they change? I cannot tell by the screen shots, just one of the costumes without the stockings? 

Maybe I'm missing something, but I couldn't figure out how to download the files, it just seemed like circular links. 

***
I'm one step away from getting the bone sub script done.  Got an unexpected error, I'm trying to resolve.  I've only had a few minutes a day on weekdays to actually work on stuff, so it's been taking longer than expected.

Here is the tool
[http://www.mediafire.com/download/pb62z ... ol_0.2.zip](http://www.mediafire.com/download/pb62z7dtby7x6pq/TMC_Polygon_Insert_Tool_0.2.zip)
[http://www.mediafire.com/download/s3dya ... ol_0.4.zip](http://www.mediafire.com/download/s3dyaz7d78my7me/TMC_Polygon_Tool_0.4.zip)
but i don't know how it works, i hope someone 'll make a tut how to use it
Thanks
## Post #1674
- Username: LarsMasters
- Rank: beginner
- Number of posts: 28
- Joined date: Mon Aug 25, 2014 10:30 am
- Post datetime: 2015-07-01T13:32:10+00:00
- Post Title: Re: Dead or Alive series formats and tools

[https://www.mediafire.com/folder/9zi2gt8dyllaj/doa5mod](https://www.mediafire.com/folder/9zi2gt8dyllaj/doa5mod)
## Post #1675
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-07-01T16:54:10+00:00
- Post Title: Re: Dead or Alive series formats and tools

I used it and it's very powerful tool.
## Post #1676
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-07-02T02:01:07+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks for posting the links, guys! 

Injection Update: I have successfully done a mesh injection (extend an existing mesh), but for some reason the 2nd mesh has alpha transparency issues.  I tried adding Nyotengu's towel body into her Senran Kagura costume.  The inject worked along with the proper bone subs, but portions of the Towel body mesh still seem transparent.  I don't yet know if its a PC factor, differences in the Vertex Buffers or even the Obj Info...  Even Noesis shows this transparency as well, so it's something I'm not familiar with.

Unrelated Fun Fact: The initial pointer values at the start of the TMC have a misleading one.  I think the 2nd to last entry is an 8 byte value since it went 4 then 4 00's and then the ACLCS offset after that.  I had the original test near finished, but it was crashing the game just because there was another offset that didn't get updated.
## Post #1677
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-07-02T05:39:01+00:00
- Post Title: Re: Dead or Alive series formats and tools

The body is transparent? body as in the skin?

So you extended the nyotengu tmc and swapped the towel tmc body/skin model onto it, and now it's partially transparent, like some parts are visible or are most parts transparent and only some "sprinkles" of opacity sort of like dust.
## Post #1678
- Username: Habeeb
- Rank: n00b
- Number of posts: 12
- Joined date: Mon Sep 20, 2010 12:25 am
- Post datetime: 2015-07-02T11:15:27+00:00
- Post Title: Re: Dead or Alive series formats and tools

If you add new submeshes (materials) you probably also will need to update the matecp and mcapack sections, and copy the submesh info from the MdlInfo section.

Null offsets mean the section is skipped.
## Post #1679
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-07-03T01:49:29+00:00
- Post Title: Re: Dead or Alive series formats and tools

Ok, I can clarify...  Just to make sure it wasn't something with the Senran Kagura model, I tried again on the Cop costume. This process worked on both 360 models back in the day, so it should be doable.  

Since the cop costume does not have a conflicting mesh it's easier to notice.  Essentially the normals (faces?) are flipped.  if looking straight on at the model, the front is transparent and the back is visible through the chest.  I was going to post a screen shot but photobucket is being a turd at the moment, so I'll have to try that again later.  

@Habeeb, the confusing part is that all I'm doing is extending an existing mesh.  So one mesh now contains pieces from two to create one longer mesh.  I know you helped with a transparency issue before.  Since this is something we didn't have to deal with for the Xbox, I may need a quick course in what exactly those two control blocks are now doing differently.
## Post #1680
- Username: Habeeb
- Rank: n00b
- Number of posts: 12
- Joined date: Mon Sep 20, 2010 12:25 am
- Post datetime: 2015-07-03T02:42:33+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Essentially the normals (faces?) are flipped.
Try writing indexes in a reverse order (inverse the winding of triangles). Or maybe duplicate the first index to flip all normals.
## Post #1681
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-07-03T19:19:57+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Habeeb
>
> Protocol X27 wrote:Essentially the normals (faces?) are flipped.
Try writing indexes in a reverse order (inverse the winding of triangles). Or maybe duplicate the first index to flip all normals.

Very plausible theory   

Ok, so I doubled checked my index shifter script, and everything still works properly in there, so I don't think that's 'accidentally' flipping stuff in any way that it shouldn't be.  

Suggestion 1: I could inverse the order, but I still struggle w/ how that buffer works even w/ a couple explanations I had.  If I were to flip every 4 values would that do the trick?

Suggestion 2: Now when you say duplicate the first, do you mean the first of the original mesh? or first of the 2nd mesh that has been appended.  I theoretically would be adding 1 index (2 bytes) after the first mesh, but before the 2nd mesh and then adjusting all lengths & offsets accordingly to accommodate the added value.
## Post #1682
- Username: Habeeb
- Rank: n00b
- Number of posts: 12
- Joined date: Mon Sep 20, 2010 12:25 am
- Post datetime: 2015-07-03T21:08:29+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Suggestion 2
It's by submesh (material), normally.
For Suggestion 1 I'd try writing faces with a different winding (ABC --> ACB).

It's weird though, maybe you can upload the tmc+tmcl to see what's up.
## Post #1683
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-07-03T22:27:54+00:00
- Post Title: Re: Dead or Alive series formats and tools

first you need to understand this.

[360] 01 02 03 FF 04 05 06

[PC] 01 02 03 03 04 04 04 05 06


but in this case

[360] 01 02 03 04 FF 05 06 07

[PC] 01 02 03 04 04 05 05 06 07
## Post #1684
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-07-04T01:52:43+00:00
- Post Title: Re: Dead or Alive series formats and tools

Ok, I sorta get it, but don't. My brain is stuck in old school DOA from when penguin first explained the vertex/index buffer lengths.  Since an index is only 2 bytes the messes me up because a face would then technically be 6 bytes.

But, with the shorthand I understand that redundant values are omitted.  Assume, I don't know anything about what the indices are.  How do I establish the pattern with which values need to be flipped?  From Ros' explanation I would look at that and think that it's talking about 9 different vertices... I'm not quite sure what I'm trying to change.

I'll upload the WIP model later too.
## Post #1685
- Username: SleepySea
- Rank: n00b
- Number of posts: 18
- Joined date: Sun Apr 26, 2015 12:01 am
- Post datetime: 2015-07-04T02:05:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Ok, I sorta get it, but don't. My brain is stuck in old school DOA from when penguin first explained the vertex/index buffer lengths.  Since an index is only 2 bytes the messes me up because a face would then technically be 6 bytes.

But, with the shorthand I understand that redundant values are omitted.  Assume, I don't know anything about what the indices are.  How do I establish the pattern with which values need to be flipped?  From Ros' explanation I would look at that and think that it's talking about 9 different vertices... I'm not quite sure what I'm trying to change.

I'll upload the WIP model later too.

Sorry if I am not understanding the issues correctly, but if you are just moving mesh objects from PC to PC, wouldn't dumping the entire index buffer (with proper adjustments) from one to another work without doing any post processing?
## Post #1686
- Username: Habeeb
- Rank: n00b
- Number of posts: 12
- Joined date: Mon Sep 20, 2010 12:25 am
- Post datetime: 2015-07-04T02:35:31+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> But, with the shorthand I understand that redundant values are omitted.
It's a triangle strip. If you duplicate the first index, the normals for each face would be flipped.
But that might not the issue actually, if only some parts are transparent.
## Post #1687
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-07-04T02:50:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

let's say alphabets are index of vertices.

when abc makes a face,

aabc makes a fliped face.

aaabc makes a face like abc

aaaabc makes a flipped face like aabc

aaabc　 aabc
10101　 1010 when abc has 101 it will be ok, but 010 then it will be flipped.


so when you connect 2 faces, abc and jkl, it's not like abc FFFF jkl anymore.

```
10101010
```
but this is wrong.
abc is 101. but jkl is 010. it will be flipped.

```
101010101
```

now jkl has 101. this is right.

that kind of 101010101... will be reset with start of new index buffer.
## Post #1688
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-07-04T06:48:58+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from SleepySea
>
> Protocol X27 wrote:Ok, I sorta get it, but don't. My brain is stuck in old school DOA from when penguin first explained the vertex/index buffer lengths.  Since an index is only 2 bytes the messes me up because a face would then technically be 6 bytes.

But, with the shorthand I understand that redundant values are omitted.  Assume, I don't know anything about what the indices are.  How do I establish the pattern with which values need to be flipped?  From Ros' explanation I would look at that and think that it's talking about 9 different vertices... I'm not quite sure what I'm trying to change.

I'll upload the WIP model later too.

Sorry if I am not understanding the issues correctly, but if you are just moving mesh objects from PC to PC, wouldn't dumping the entire index buffer (with proper adjustments) from one to another work without doing any post processing?

yea you're right, all it requires is a number shift across the board for PC to PC.
## Post #1689
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-07-04T15:48:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> SleepySea wrote:

Sorry if I am not understanding the issues correctly, but if you are just moving mesh objects from PC to PC, wouldn't dumping the entire index buffer (with proper adjustments) from one to another work without doing any post processing?

yea you're right, all it requires is a number shift across the board for PC to PC.

Conceptually, yes.  That's how it worked on 360, and should on PC, just not sure why faces are inverted when the only thing different is a value added to 'all' indices.

@Habeeb, ok, that makes more sense combined with Ros's explanation.  You're saying duplicate the first vertex of 'every' triangle.   Yes, the entire section of the mesh has normals flipped.  Body: (mesh A & mesh B)  mesh A is looks correct, 'All' faces belonging to mesh B though are flipped.

@Ros, ok that is starting to make a bit more sense, I'm going to take a sec to digest that.
## Post #1690
- Username: mralex
- Rank: n00b
- Number of posts: 13
- Joined date: Thu Jun 18, 2015 1:07 am
- Post datetime: 2015-07-04T21:08:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hi to everyone, i'm new in this page  I have a question, i wanna make a custom dlc for xbox 360 with new costumes, but when i put it in the xbox, DOA5LR says that the costume doesn't upload :/

(sorry for my bad english)
## Post #1691
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-07-05T00:29:36+00:00
- Post Title: Re: Dead or Alive series formats and tools

what did you make the dlc with, xlast? le fluffie?
## Post #1692
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-07-05T00:34:33+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Lilstormcloud wrote:SleepySea wrote:

Sorry if I am not understanding the issues correctly, but if you are just moving mesh objects from PC to PC, wouldn't dumping the entire index buffer (with proper adjustments) from one to another work without doing any post processing?

yea you're right, all it requires is a number shift across the board for PC to PC.

Conceptually, yes.  That's how it worked on 360, and should on PC, just not sure why faces are inverted when the only thing different is a value added to 'all' indices.

@Habeeb, ok, that makes more sense combined with Ros's explanation.  You're saying duplicate the first vertex of 'every' triangle.   Yes, the entire section of the mesh has normals flipped.  Body: (mesh A & mesh B)  mesh A is looks correct, 'All' faces belonging to mesh B though are flipped.

@Ros, ok that is starting to make a bit more sense, I'm going to take a sec to digest that.

yea I had a look at the attachment, the whole chest area and some of the other are flipped, it's most likely the index, you can tell because when you look at it from the inside you should see nothing, instead you see what's meant to be outward facing, facing inward.

actually if I'm not mistaken, the parts that look correct belongs to the original model because you haven't shrank them yet, that means your entire injected model is inverted, probably just means your index conversion had a single error somewhere. 

Did you apply what Ros was saying about the index order between the old body model and the new one.
## Post #1693
- Username: mralex
- Rank: n00b
- Number of posts: 13
- Joined date: Thu Jun 18, 2015 1:07 am
- Post datetime: 2015-07-05T02:21:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> what did you make the dlc with, xlast? le fluffie?

Le fluffie, there's another program to do it?
## Post #1694
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-07-05T23:11:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

Welcome, mralex.   Yep it's technically the MS Xbox SDK that creates xlast files. 

***

@Habeeb, Ros:  Thanks for the explanations.  Your combined explanations helped make more sense.  So per Habeeb's suggestion I removed 2 bytes, to prevent changing lengths and offsets, I padded the end of the index group with 00 00.  The only remaining issue is that there is still a connecting face between the two groups.  This was always common during an injection on the 360 so I always replaced the first face with FF FF FF FF FF FF.  I've played around with replacing a couple of the first indices with FF FF, but depending on the quantity it can invert the faces & remove the remainder face OR leave the remainder face & show the faces correctly.   How might I resolve that correctly?
## Post #1695
- Username: Habeeb
- Rank: n00b
- Number of posts: 12
- Joined date: Mon Sep 20, 2010 12:25 am
- Post datetime: 2015-07-05T23:24:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> The only remaining issue is that there is still a connecting face between the two groups.
Did you remove all the FFs?

At 0x16de90 I have (buffer is 2 bytes shorter):
DE 28 BE 28 DD 28 BC 28 DC 28 BB 28 DB 28 DB 28
E2 28 E2 28 E3 28 E3 28 E3 28 E4 28 E5 28 E5 28

Instead of:
DE 28 BE 28 DD 28 BC 28 DC 28 BB 28 DB 28 FF FF
FF FF FF FF E2 28 E3 28 E3 28 E3 28 E4 28 E5 28

This doesn't seem to give me an extra face.
## Post #1696
- Username: mralex
- Rank: n00b
- Number of posts: 13
- Joined date: Thu Jun 18, 2015 1:07 am
- Post datetime: 2015-07-06T00:09:59+00:00
- Post Title: Re: Dead or Alive series formats and tools

I made the dlc with 5LR DLCTOOL (Xbox360 ver.) I create a package with le fluffie and i put it with horizon, now when i enter the game the costume said that the costume wasn't downloaded (like a catalog data)
now my question is, i need a program to unlocked it?
## Post #1697
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-07-06T01:02:21+00:00
- Post Title: Re: Dead or Alive series formats and tools

yea dlclicense.exe
## Post #1698
- Username: mralex
- Rank: n00b
- Number of posts: 13
- Joined date: Thu Jun 18, 2015 1:07 am
- Post datetime: 2015-07-06T01:19:05+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> yea dlclicense.exe

where i can get it? there is not in google :/
## Post #1699
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-07-06T02:50:59+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mralex
>
> Lilstormcloud wrote:yea dlclicense.exe

where i can get it? there is not in google :/

it's part of the 360 sdk so unless you donwload the entire 360 sdk you won't get it.
## Post #1700
- Username: mralex
- Rank: n00b
- Number of posts: 13
- Joined date: Thu Jun 18, 2015 1:07 am
- Post datetime: 2015-07-06T03:18:39+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> mralex wrote:Lilstormcloud wrote:yea dlclicense.exe

where i can get it? there is not in google :/

it's part of the 360 sdk so unless you donwload the entire 360 sdk you won't get it.

Ok, Thanks!
## Post #1701
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-07-06T20:13:33+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Habeeb
>
> Protocol X27 wrote:The only remaining issue is that there is still a connecting face between the two groups.
Did you remove all the FFs?

At 0x16de90 I have (buffer is 2 bytes shorter):
DE 28 BE 28 DD 28 BC 28 DC 28 BB 28 DB 28 DB 28
E2 28 E2 28 E3 28 E3 28 E3 28 E4 28 E5 28 E5 28

Instead of:
DE 28 BE 28 DD 28 BC 28 DC 28 BB 28 DB 28 FF FF
FF FF FF FF E2 28 E3 28 E3 28 E3 28 E4 28 E5 28

This doesn't seem to give me an extra face.

Ok, so it looks like this did the trick.  I changed the values you mentioned, but WAS still getting the face.  When you said the index buffer was 2 bytes shorter, I thought you meant the entire block of index values. I went to the mesh object properties and subtracted 1 from the total index count and the index count for the 40 (d64) and then it removed the extra face. 

So, guessing the extra face was a result of the very last face being attached to something else and not the face in between the two meshes.  Either way, still a bit fuzzy on it, but it's at least working.    Time to get the rest of the meshes adjusted, and scripts tested... then we may finally have PC injection success... (at least beyond a swap standpoint)

Edit:
Grrr... bugs... minor octupus syndrome still with the bone subs...
## Post #1702
- Username: mralex
- Rank: n00b
- Number of posts: 13
- Joined date: Thu Jun 18, 2015 1:07 am
- Post datetime: 2015-07-09T00:37:26+00:00
- Post Title: Re: Dead or Alive series formats and tools

I want to swap Chara_common.lnk (xbox360 ver.) with doa archivarius, i made the default.exe file, but when i try to swap the file the program said :

"AttributeError: 'cfile' object has no attribute 'filetableindex'

there's has some of solution? :/
[Sin título.jpg](https://xentaxbackup.github.io/file/9406_Sin título.jpg)
## Post #1703
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-07-09T02:29:09+00:00
- Post Title: Re: Dead or Alive series formats and tools

@mralex, are you using the older Xbox 360 specific Archivarius,  or the newer PC version?

****
Ok, the promised and frequently delayed Bone Sub Utility.  Updates all  vertex bone Ids in a mesh from one container to another. Bone substitution is possible as well for hidden mesh portions.  Covers basic functionality provided in the old Body Shop Vertex Sub except does not yet display missing data or scale vertex buffer lengths. 

Advantages over old Body Shop
- No more manual bone index, or bone node ripping!!!!

I've also included the QuickOps script which is the current work around for the calculators in Body Shop (.NET).  It doesn't have the clipboard copy button, but at least auto calculates a whole array of values like for Vertex & Index Layer offset/length adjustments.

I have successfully injected a mesh and subbed at this point with minor fixes involving other methods already discussed with utilities.

Cheers
[BodyShopToolkitV0.5.zip](https://xentaxbackup.github.io/file/9407_BodyShopToolkitV0.5.zip)
## Post #1704
- Username: mralex
- Rank: n00b
- Number of posts: 13
- Joined date: Thu Jun 18, 2015 1:07 am
- Post datetime: 2015-07-09T02:47:51+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> @mralex, are you using the older Xbox 360 specific Archivarius,  or the newer PC version?

I'm using the 360 ver. i wanna swap the new marie's hairstyle but the archivarius has that error, there's another program or another version of 360 archivarius ?
## Post #1705
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-07-10T01:37:01+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mralex
>
> Protocol X27 wrote:@mralex, are you using the older Xbox 360 specific Archivarius,  or the newer PC version?

I'm using the 360 ver. i wanna swap the new marie's hairstyle but the archivarius has that error, there's another program or another version of 360 archivarius ?

I'm not sure of a way to swap hers, Nyotengu's or Phase 4's.  Unfortunately, all of theirs is contained in DLC files either via their original character DLC or in the Last Round mega patch.  For some reason, I think we were always missing either the original references, or couldn't ever get the compression working to put them back into their respective lnk's.
## Post #1706
- Username: mralex
- Rank: n00b
- Number of posts: 13
- Joined date: Thu Jun 18, 2015 1:07 am
- Post datetime: 2015-07-10T03:01:29+00:00
- Post Title: Re: Dead or Alive series formats and tools

> I'm not sure of a way to swap hers, Nyotengu's or Phase 4's. Unfortunately, all of theirs is contained in DLC files either via their original character DLC or in the Last Round mega patch. For some reason, I think we were always missing either the original references, or couldn't ever get the compression working to put them back into their respective lnk's.

I swap the ayane hair creating a new dlc and put in the patch that contain the hair, now i wanna swap some file (hair or costume) in the chara_common, i used archivariusarchivarius18 ver. (x360) but the program has that error 
also i used xextool to make the default.exe but nothing happens (Really i'm new with swap things in the xbox360 ver.) That's why i wanna do something
## Post #1707
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-07-14T00:42:43+00:00
- Post Title: Re: Dead or Alive series formats and tools

Unfortunately, I don't know much about swapping things using archivarius.  There is a more manual method in which you could paste an uncompressed version into the chara_common and then update it's information and the information in the default.xex.   Do you want the swapped hair to permanently replace one, or do you only want to use it for a specific costume?

***
I updated the Toolkit, I don't think I uploaded the correct Utils script last time, so the Vertex Subber may have choked.  That is hopefully fixed now.  

I also updated the MeshWarp script to now include upper and lower bounds.  This is useful for snapping vertices in a specific region in case you don't want to snap the entire mesh.  I commonly only snap the torso and not the legs, so I'll limit the bounds for the y axis.
[BodyShopToolkitV0.6.zip](https://xentaxbackup.github.io/file/9419_BodyShopToolkitV0.6.zip)
## Post #1708
- Username: mralex
- Rank: n00b
- Number of posts: 13
- Joined date: Thu Jun 18, 2015 1:07 am
- Post datetime: 2015-07-14T06:13:15+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Unfortunately, I don't know much about swapping things using archivarius.  There is a more manual method in which you could paste an uncompressed version into the chara_common and then update it's information and the information in the default.xex.   Do you want the swapped hair to permanently replace one, or do you only want to use it for a specific costume?

I want to put a hair permanently in all costumes, i extracted the ayane's senran kagura hair and i want to put into ayane hairstyle
## Post #1709
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-07-14T16:37:22+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mralex
>
> 
I want to put a hair permanently in all costumes, i extracted the ayane's senran kagura hair and i want to put into ayane hairstyle

If you're comfortable with hex, I can explain how to manually insert it into the chara_common.  For starters you need to know how to find the file size of both the TMC & TMCL files.  You can always find the file size in Windows > Convert to Hex and then find that value in the first or second row of bytes.   You'll have to do that for the hair style you want to replace first.  With those values you can find their locations in the chara_common.   General explanation is this,

1) Find uncompressed value in chara_common.  Will always be at the first column when found, be careful of possible duplicates.
2) Use the offset of this value to search in the index table in the chara_common(beginning)  when you find this you'll find the compressed size of the same file.
3) Use the compressed sizes to find the values in the default xex.  Remove the compression flag and change to the uncompressed values of the containers you're replacing.
4) Paste the uncompressed files into the end of the chara_common.  Keep track of the offsets.
5) Replace the entries in the chara_common index table for the old files with the new offsets and the uncompressed file sizes.  

Save, copy over to Xbox .... and wait XD

Oh, and the default.xex needs to be decrypted... edited then re-encrypted when making changes.
## Post #1710
- Username: mralex
- Rank: n00b
- Number of posts: 13
- Joined date: Thu Jun 18, 2015 1:07 am
- Post datetime: 2015-07-14T18:03:09+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> mralex wrote:
I want to put a hair permanently in all costumes, i extracted the ayane's senran kagura hair and i want to put into ayane hairstyle

If you're comfortable with hex, I can explain how to manually insert it into the chara_common.  For starters you need to know how to find the file size of both the TMC & TMCL files.  You can always find the file size in Windows > Convert to Hex and then find that value in the first or second row of bytes.   You'll have to do that for the hair style you want to replace first.  With those values you can find their locations in the chara_common.   General explanation is this,

1) Find uncompressed value in chara_common.  Will always be at the first column when found, be careful of possible duplicates.
2) Use the offset of this value to search in the index table in the chara_common(beginning)  when you find this you'll find the compressed size of the same file.
3) Use the compressed sizes to find the values in the default xex.  Remove the compression flag and change to the uncompressed values of the containers you're replacing.
4) Paste the uncompressed files into the end of the chara_common.  Keep track of the offsets.
5) Replace the entries in the chara_common index table for the old files with the new offsets and the uncompressed file sizes.  

Save, copy over to Xbox .... and wait XD

Oh, and the default.xex needs to be decrypted... edited then re-encrypted when making changes.

The default.xex has to decrypt with xex tool ?

So, i need to find the uncompressed value of ayane_hair003 and the ayane_hair004 and change in chara_common the ayane_hair003 value isn't it?

Edit
---------------------------------------------

more or less what I have to do, but do not understand much about hex editing :/
## Post #1711
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-07-21T16:07:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

New Tamakiki dlc has some good resources for modding:
## Post #1712
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-07-22T01:15:49+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mralex
>
> 

The default.xex has to decrypt with xex tool ?

So, i need to find the uncompressed value of ayane_hair003 and the ayane_hair004 and change in chara_common the ayane_hair003 value isn't it?

Edit
---------------------------------------------

more or less what I have to do, but do not understand much about hex editing :/

Yes, default.xex has to be decrypted then reencrypted after you are done editing.  

For starters you only need to fine values for ayane_hair003.TMC and ayane_hair003.TMCL.  Try just one hair set first to get the hang of it 

Hex is just a different numbering system.  You can use the basic windows calculator in Programmer mode to convert values between Decimal & Hex.  I'd recommend HxD if you haven't started working with a hex editor yet.

****
Hah, Darko you beat me to it.  I just hopped on here once I discovered that.  Momiji & Nyotengu have full torso/pelvis as well.  Lisa too has full torso, but that's old news.  Still needing a Honoka mesh.
## Post #1713
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-07-22T02:39:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> mralex wrote:

The default.xex has to decrypt with xex tool ?

So, i need to find the uncompressed value of ayane_hair003 and the ayane_hair004 and change in chara_common the ayane_hair003 value isn't it?

Edit
---------------------------------------------

more or less what I have to do, but do not understand much about hex editing :/

Yes, default.xex has to be decrypted then reencrypted after you are done editing.  

For starters you only need to fine values for ayane_hair003.TMC and ayane_hair003.TMCL.  Try just one hair set first to get the hang of it 

Hex is just a different numbering system.  You can use the basic windows calculator in Programmer mode to convert values between Decimal & Hex.  I'd recommend HxD if you haven't started working with a hex editor yet.

****
Hah, Darko you beat me to it.  I just hopped on here once I discovered that.  Momiji & Nyotengu have full torso/pelvis as well.  Lisa too has full torso, but that's old news.  Still needing a Honoka mesh.

Yep, they haven't released any complete model of honoka.
## Post #1714
- Username: VeiX
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Mon Aug 11, 2014 7:14 pm
- Post datetime: 2015-07-22T03:04:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

With TW DLC now we can have a complete base models for Momiji, Nyotengu, Marie and Helena
All we need is a slight adjustment or swap chest area from other models

I already made Momiji before and this is no difference than what I have done
Anyway, time to update her to the final version  and working on Nyotengu base
## Post #1715
- Username: mralex
- Rank: n00b
- Number of posts: 13
- Joined date: Thu Jun 18, 2015 1:07 am
- Post datetime: 2015-07-22T17:17:15+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Yes, default.xex has to be decrypted then reencrypted after you are done editing. 
>
> 
>
> For starters you only need to fine values for ayane_hair003.TMC and ayane_hair003.TMCL. Try just one hair set first to get the hang of it 
>
> 
>
> Hex is just a different numbering system. You can use the basic windows calculator in Programmer mode to convert values between Decimal & Hex. I'd recommend HxD if you haven't started working with a hex editor yet.

I used HxD to modify the DOA5LR for pc, also for xbox360, another thing is when i put some mods 360ver. and choose tag team with costume modding, crash the game :/ 
for now i only play with the mods in single player mode and sometimes also crash the game.
## Post #1716
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-07-23T01:33:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

what they're doing with clothes break only for x1 and p4 is so annoying. if could get hands on X1 clothes break model can probably just port the thing to PC.

problem is getting hands on the model.
## Post #1717
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-07-23T17:10:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

Well, hitomi got really great one on new DLC.
Others are not that new.
## Post #1718
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-07-24T02:21:09+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mralex
>
> 

I used HxD to modify the DOA5LR for pc, also for xbox360, another thing is when i put some mods 360ver. and choose tag team with costume modding, crash the game :/ 
for now i only play with the mods in single player mode and sometimes also crash the game.

If it works normally or in versus, than you probably did it right.  I did see that happen before in survival or something where it could still crash.  It is possibly that overriding hair is having a conflict with other costumes.  Some containers had collision data, so if the AI uses a costume that has a conflict with that hair as a default it might crash.  

Either way, nice job if you figured it out. 

> Reply from Lilstormcloud
>
> what they're doing with clothes break only for x1 and p4 is so annoying. if could get hands on X1 clothes break model can probably just port the thing to PC.

problem is getting hands on the model.

Yeah, I'm more hopeful of PS4, but either way, who knows how long it'll take for those to be cracked.  I like how PC got some visual improvements, but hate how it's missing some stuff too.  :-/

***

Starting to get the hang of injection.  It is faster with stuff available minus the unneeded extra step of having to modify the 360 files first.  Would be nice if someone could finish a PC importer/exporter   

I'm thinking about how to make an auto injector happen, no promises on a delivery time, etc, but it should be possible...
## Post #1719
- Username: syasuker
- Rank: beginner
- Number of posts: 24
- Joined date: Sun May 17, 2015 12:49 pm
- Post datetime: 2015-07-25T23:39:58+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> mralex wrote:

I used HxD to modify the DOA5LR for pc, also for xbox360, another thing is when i put some mods 360ver. and choose tag team with costume modding, crash the game :/ 
for now i only play with the mods in single player mode and sometimes also crash the game.

If it works normally or in versus, than you probably did it right.  I did see that happen before in survival or something where it could still crash.  It is possibly that overriding hair is having a conflict with other costumes.  Some containers had collision data, so if the AI uses a costume that has a conflict with that hair as a default it might crash.  

Either way, nice job if you figured it out. 
Lilstormcloud wrote:what they're doing with clothes break only for x1 and p4 is so annoying. if could get hands on X1 clothes break model can probably just port the thing to PC.

problem is getting hands on the model.

Yeah, I'm more hopeful of PS4, but either way, who knows how long it'll take for those to be cracked.  I like how PC got some visual improvements, but hate how it's missing some stuff too.  :-/

***

Starting to get the hang of injection.  It is faster with stuff available minus the unneeded extra step of having to modify the 360 files first.  Would be nice if someone could finish a PC importer/exporter   

I'm thinking about how to make an auto injector happen, no promises on a delivery time, etc, but it should be possible...
[http://www.mediafire.com/download/7e1kb ... er_0.1.zip](http://www.mediafire.com/download/7e1kb5w916egpee/for_Blender_tmcmesh_Importer-Exporter_0.1.zip)
there are "for Blender tmcmesh Importer-Exporter"
## Post #1720
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-07-26T17:28:51+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from syasuker
>
> 
http://www.mediafire.com/download/7e1kb ... er_0.1.zip
there are "for Blender tmcmesh Importer-Exporter"

Thanks, that's awesome.  I didn't know one existed.   I guess now is how do I get it to work? Which version of Blender is this for? 

I'm using Blender 2.74 as a release candidate.  I dropped the files into a scripts folder and pointed to that folder in settings, but I don't understand what's next since the notes are JP.   I went into Add-ons and Import-Export, but the scripts or options for tmcmesh are not showing.
## Post #1721
- Username: navmesh
- Rank: beginner
- Number of posts: 24
- Joined date: Mon Mar 12, 2012 10:04 am
- Post datetime: 2015-07-27T01:09:17+00:00
- Post Title: Re: Dead or Alive series formats and tools

Some tmc (dead or alive 5 last round pc) can't be extracted by archivarius2 , such as momiji dlcu 021.tmc (358140.lnk)
Please tell me is there anyway to extract it ?
Thanks
## Post #1722
- Username: Ghost1705
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Thu Dec 09, 2010 8:54 pm
- Post datetime: 2015-07-28T10:48:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

I loaded the latest Version of Blender. Think its Version 2.75. Works great.

I dont have expierience with Blender, so i tried export to different Format like obj or fbx to use in 3dsmax. But this gives me Problems with the Scale Format of the Mesh. Then i export the TMCMesh directly from Noesis as obj. Now i got the right Scale Format. Modifed an Swimsuit and used the Tmc Tools to insert the Mesh back. Looks great in Noesis. But Ingame its just an Static Mesh that follow the Pelvis Area 

In another Forum i read that i have to transfer the vertex weights. But how?
## Post #1723
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-07-28T16:00:35+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Ghost1705
>
> I loaded the latest Version of Blender. Think its Version 2.75. Works great.

I dont have expierience with Blender, so i tried export to different Format like obj or fbx to use in 3dsmax. But this gives me Problems with the Scale Format of the Mesh. Then i export the TMCMesh directly from Noesis as obj. Now i got the right Scale Format. Modifed an Swimsuit and used the Tmc Tools to insert the Mesh back. Looks great in Noesis. But Ingame its just an Static Mesh that follow the Pelvis Area 

In another Forum i read that i have to transfer the vertex weights. But how?

The tutorial is in this thread, I made it.
## Post #1724
- Username: Vashey
- Rank: advanced
- Number of posts: 41
- Joined date: Tue Mar 15, 2011 9:47 pm
- Post datetime: 2015-07-29T16:27:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

For some reason every time I try to use a plugin on Blender, I end up having trouble making it run.
The plugin doesn't work here, I extracted it in scripts/addon as the readme said.

It doesn't import anything when I select a .tmc to import.

How did you manage to make it work?
## Post #1725
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-07-29T17:02:21+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Vashey
>
> For some reason every time I try to use a plugin on Blender, I end up having trouble making it run.
The plugin doesn't work here, I extracted it in scripts/addon as the readme said.

It doesn't import anything when I select a .tmc to import.

How did you manage to make it work?

Download this crap:

[https://mega.co.nz/#!ipYlwB5R!6ZbAziN1c ... AyvISi3bko](https://mega.co.nz/#!ipYlwB5R!6ZbAziN1cc7mBmhxp_PlPnhYRVvDjQTqKAyvISi3bko)

It's the blender version I use with all the plugins I have

And download this python version:

[http://www.python.org/ftp/python/3.2.3](http://www.python.org/ftp/python/3.2.3)
## Post #1726
- Username: Vashey
- Rank: advanced
- Number of posts: 41
- Joined date: Tue Mar 15, 2011 9:47 pm
- Post datetime: 2015-07-29T17:42:52+00:00
- Post Title: Re: Dead or Alive series formats and tools

Your version is to import the 360 models ?
Because I'm trying to import the PC models with the plugin  syasukey just dropped here.
And that version doesn't allow this plugin nor does it let me import PC models.

I just realized i'm having the same problem protocol X27 has, so if he figured out a way to make it work please let me know.
## Post #1727
- Username: Ghost1705
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Thu Dec 09, 2010 8:54 pm
- Post datetime: 2015-07-29T19:57:30+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> Ghost1705 wrote:I loaded the latest Version of Blender. Think its Version 2.75. Works great.

I dont have expierience with Blender, so i tried export to different Format like obj or fbx to use in 3dsmax. But this gives me Problems with the Scale Format of the Mesh. Then i export the TMCMesh directly from Noesis as obj. Now i got the right Scale Format. Modifed an Swimsuit and used the Tmc Tools to insert the Mesh back. Looks great in Noesis. But Ingame its just an Static Mesh that follow the Pelvis Area 

In another Forum i read that i have to transfer the vertex weights. But how?

The tutorial is in this thread, I made it.

Thanx Darko. Found your Tutorial at Page 38. Here are to many Pages for all this Stuff, lol. I will try this if i got some Time at Weekend  

@Vashey: This Script is for .tmcmesh Format,which is used with the Tmc Polygon Tools. Not an .tmc importer itself.
## Post #1728
- Username: syasuker
- Rank: beginner
- Number of posts: 24
- Joined date: Sun May 17, 2015 12:49 pm
- Post datetime: 2015-07-30T00:48:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

I'm sorry, I'm just a porter  

I don't really understand Japanese

says:we need the blender 2.75a or UP
and [http://w11.zetaboards.com/SFxT_Mods/topic/11221937/1/](http://w11.zetaboards.com/SFxT_Mods/topic/11221937/1/)

that‘s all!
## Post #1729
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-07-31T00:55:58+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks @all either way! It's good to have multiple people chip in to help answer questions.  

It looks like there's still a while to go yet before we have actual PC importing.  It's good to know that at least there are some more user friendly tools though.  

I did get the plugins to import into Blender, but as suggested it doesn't seem like they are importers just yet.

I'm going to forge ahead on on the script injector at least.
## Post #1730
- Username: Ghost1705
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Thu Dec 09, 2010 8:54 pm
- Post datetime: 2015-07-31T11:28:21+00:00
- Post Title: Re: Dead or Alive series formats and tools

Is there a Way for your Coders, to convert the Data of the Python Script to an Max Script? I mean the TmcMesh import/export Script. That would Things make much easier for me.
## Post #1731
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-08-01T16:09:57+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Ghost1705
>
> Is there a Way for your Coders, to convert the Data of the Python Script to an Max Script? I mean the TmcMesh import/export Script. That would Things make much easier for me.

Unfortunatley, I have no knowledge of 3dsmax scripting, and I have minimal knowledge of how towork with raw resources.  Our waning community here seems to be limited in 3dsmax support.

***
 This may be a question for Habeeb/Ros/SleepySea.  

I did a different injection with Nyotengu's SK model.  Duplicating the first/end indices where the two were joined still didn't fix the face issue, so I added a 3rd face and that fixed it.  For the sake of automatically resolving that.  Is there a way to calculate how many faces might be needed?
## Post #1732
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-08-01T20:30:49+00:00
- Post Title: Re: Dead or Alive series formats and tools

doa x3 is announced apparently lol.

I'm predicting it's going to be free to play.
but include 3 characters with 4 costumes each.

+ hundreds of DLC.
## Post #1733
- Username: savinpvtmike
- Rank: n00b
- Number of posts: 15
- Joined date: Tue Aug 11, 2015 5:07 pm
- Post datetime: 2015-08-11T09:12:27+00:00
- Post Title: Re: Dead or Alive series formats and tools

can i have a link to the doa4 tools plus i cant seem to find any tool for any of the games i looked all over the site youtube and google all are dead links i just want to por to 3ds max
## Post #1734
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-08-11T13:05:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from savinpvtmike
>
> can i have a link to the doa4 tools plus i cant seem to find any tool for any of the games i looked all over the site youtube and google all are dead links i just want to por to 3ds max

Best chance may be to PM the original poster.  Many of the DOA5 crew have not spent much time on DOA4.  

***

Hot summer costumes are up. Looks like Honoka finally has a useable top!! Has some strap issues though.   Also most costumes have optional accessories, that's useful.  Once PC ever gets this stuff, lol.

***

Got an Auto injector working.  I have some touch ups to do, may have to add some UI. 

PS: Where has everyone been working on stuff lately? Or has involvement dropped off?  This place has been dead.
## Post #1735
- Username: savinpvtmike
- Rank: n00b
- Number of posts: 15
- Joined date: Tue Aug 11, 2015 5:07 pm
- Post datetime: 2015-08-11T15:52:43+00:00
- Post Title: Re: Dead or Alive series formats and tools

wel how can i get the texturs thats all i need to know now i found some stuff for blender
## Post #1736
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-08-11T19:58:44+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> savinpvtmike wrote:can i have a link to the doa4 tools plus i cant seem to find any tool for any of the games i looked all over the site youtube and google all are dead links i just want to por to 3ds max

Best chance may be to PM the original poster.  Many of the DOA5 crew have not spent much time on DOA4.  

***

Hot summer costumes are up. Looks like Honoka finally has a useable top!! Has some strap issues though.   Also most costumes have optional accessories, that's useful.  Once PC ever gets this stuff, lol.

***

Got an Auto injector working.  I have some touch ups to do, may have to add some UI. 

PS: Where has everyone been working on stuff lately? Or has involvement dropped off?  This place has been dead.

Got side tracked playing hearthstone too much   
might patch up the holes on the helena last get away costume and work on a transparent version of that this weekend.

I wonder when they're going to release these costumes for PC, I sort of want to just port them, but at the same time I wonder if they're going to just release them later so, it's sort of like a waste of time.
## Post #1737
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-08-12T02:56:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from savinpvtmike
>
> wel how can i get the texturs thats all i need to know now i found some stuff for blender

Archivarius might be able to access the containers, I don't remember since I didn't spend much time on it.  

***

@LSC, all good.  Lulls in activity have been normal anyway right   I know there's been some good progress, I just wasn't sure if it was a xentax thing or presently or low activity thing.  I read that TN reiterated that they're still working on PC, so I think we'll still see more, they just need to fulfill obligations with the online first.
## Post #1738
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-08-13T00:32:54+00:00
- Post Title: Re: Dead or Alive series formats and tools

It's low activity everywhere.
or at least quite a bit lower than before.

still "working" lol, if we can port dlc from 360 to PC in a matter of minutes then TN must be able to do it in half that time.
## Post #1739
- Username: Ghost1705
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Thu Dec 09, 2010 8:54 pm
- Post datetime: 2015-08-13T04:01:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

Finally i got my first modified Mesh working ingame. Just some changes on Hitomi.

Its way easier to transfer the Wights in Blender. Here you can see how to do:

[http://www.freestepdodge.com/threads/pc ... 65/page-46](http://www.freestepdodge.com/threads/pc-community-mod-resources.5565/page-46)
## Post #1740
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-08-13T18:16:35+00:00
- Post Title: Re: Dead or Alive series formats and tools

@LSC, Cool, I can see there's progress on the custom front, but since I avoid some sites, I wasn't sure if I was overlooking any key activity.  Has there been direct 360 injection outside of custom obj's so far?   

The util I'm working on so far, is functional in inserting PC > PC or 360 > 360, only requires inputing the files, the obj group index & mesh index, and it'll do insertion, subbing, index shifts, etc.   I think it would be possible to do 360 > PC injects, but I don't know what those extra vertex buffer values do.  Is that a known topic yet?  I haven't had the time to do a test if a 360 mesh were added with all 00's in those new sections.  I'm also still missing the old scaling ability to use meshes of different buffer lengths.  I'll at least post a crude version hopefully soon if tests work across a few different models.

***

@Ghost, nice work.  It's awesome to know that custom weight support is working.
## Post #1741
- Username: skawars1983
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Fri Aug 14, 2015 2:05 am
- Post datetime: 2015-08-13T18:17:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> Vashey wrote:For some reason every time I try to use a plugin on Blender, I end up having trouble making it run.
The plugin doesn't work here, I extracted it in scripts/addon as the readme said.

It doesn't import anything when I select a .tmc to import.

How did you manage to make it work?

Download this crap:

https://mega.co.nz/#!ipYlwB5R!6ZbAziN1c ... AyvISi3bko

It's the blender version I use with all the plugins I have

And download this python version:

http://www.python.org/ftp/python/3.2.3

The only way i have been able to open TMC's in Blender is to first convert it to a tmcmesh using the TMC Polygon tool, then importing the tmcmesh file into Blender.
You also need Recalc Vertex Normals plugin for Blender as far as i know. hope that helps someone
## Post #1742
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-08-13T20:10:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> @LSC, Cool, I can see there's progress on the custom front, but since I avoid some sites, I wasn't sure if I was overlooking any key activity.  Has there been direct 360 injection outside of custom obj's so far?   

The util I'm working on so far, is functional in inserting PC > PC or 360 > 360, only requires inputing the files, the obj group index & mesh index, and it'll do insertion, subbing, index shifts, etc.   I think it would be possible to do 360 > PC injects, but I don't know what those extra vertex buffer values do.  Is that a known topic yet?  I haven't had the time to do a test if a 360 mesh were added with all 00's in those new sections.  I'm also still missing the old scaling ability to use meshes of different buffer lengths.  I'll at least post a crude version hopefully soon if tests work across a few different models.

***

@Ghost, nice work.  It's awesome to know that custom weight support is working.

Haven't seen anything for the 360, but I haven't been looking either.
most people are working on the PC I think.
## Post #1743
- Username: savinpvtmike
- Rank: n00b
- Number of posts: 15
- Joined date: Tue Aug 11, 2015 5:07 pm
- Post datetime: 2015-08-14T05:14:23+00:00
- Post Title: Re: Dead or Alive series formats and tools

so no one knows how to get the textures from doa4? i was referd to this web site from this video 
[https://www.youtube.com/watch?v=sjvnZ4fVXY8](https://www.youtube.com/watch?v=sjvnZ4fVXY8)
and i managed to find things for blender and idk how to get the textures ik there is a way just all links that have the tools are dead or i cant connect to them. some one on this thread told me to contact the original poster but he was band
## Post #1744
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-08-14T19:16:43+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from savinpvtmike
>
> so no one knows how to get the textures from doa4? i was referd to this web site from this video 
https://www.youtube.com/watch?v=sjvnZ4fVXY8
and i managed to find things for blender and idk how to get the textures ik there is a way just all links that have the tools are dead or i cant connect to them. some one on this thread told me to contact the original poster but he was band

tecmo textures extractor by bunny:

[https://onedrive.live.com/?id=FFBE4E570 ... BE&group=0](https://onedrive.live.com/?id=FFBE4E570949FCBE!177&cid=FFBE4E570949FCBE&group=0)

I made it an exe so it can be easier to excute.
## Post #1745
- Username: savinpvtmike
- Rank: n00b
- Number of posts: 15
- Joined date: Tue Aug 11, 2015 5:07 pm
- Post datetime: 2015-08-15T00:02:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> savinpvtmike wrote:so no one knows how to get the textures from doa4? i was referd to this web site from this video 
https://www.youtube.com/watch?v=sjvnZ4fVXY8
and i managed to find things for blender and idk how to get the textures ik there is a way just all links that have the tools are dead or i cant connect to them. some one on this thread told me to contact the original poster but he was band

tecmo textures extractor by bunny:

https://onedrive.live.com/?id=FFBE4E570 ... BE&group=0

I made it an exe so it can be easier to excute.
thx man your awsome
## Post #1746
- Username: Ghost1705
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Thu Dec 09, 2010 8:54 pm
- Post datetime: 2015-08-16T09:58:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

Finally there is an PC Version of the TMC Importer for Blender. Support Bones

[https://www.mediafire.com/folder/9zi2gt8dyllaj/doa5mod](https://www.mediafire.com/folder/9zi2gt8dyllaj/doa5mod)
## Post #1747
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-08-18T01:08:38+00:00
- Post Title: Re: Dead or Alive series formats and tools

Merry Christmas!

[http://www.mediafire.com/download/cf22f ... itV1.0.zip](http://www.mediafire.com/download/cf22fod72ejalfm/BodyShop+ToolkitV1.0.zip)

Auto Injector Base Version Complete!! 

Hex free, Blender free, works for PC & Xbox 360, preserves model so it's still visible in Noesis, cuts former method of hours into seconds.  

Included a few utils
1) MeshInjectorDual: Will inject or overwrite a mesh from one costume to another.  Some buffer groups are limited for now, intend to fix in a future version. No longer requires extracting vertices, bone id's or bone weights.  Automatically updates all values.  May require a couple tests, hence the 'patchValue'  when injecting instead of replacing.

2) VertexBoneSubSingle: Allows the ability to sub bones of a mesh piece against a sub list without requiring an overwrite or injection.

3) MeshWarpAuto: (PC Only) Works much like previous version, snaps vertices of a PC version to a matching Xbox version, but no longer requires ripping verts.  Only needs group & mesh index just like MeshInjector.  

Tried to document input values as well as I could. Will be updating features once I have time.  Drop questions here, if anything is unclear.
## Post #1748
- Username: mralex
- Rank: n00b
- Number of posts: 13
- Joined date: Thu Jun 18, 2015 1:07 am
- Post datetime: 2015-08-18T05:29:35+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Merry Christmas!

http://www.mediafire.com/download/cf22f ... itV1.0.zip

Auto Injector Base Version Complete!! 

Hex free, Blender free, works for PC & Xbox 360, preserves model so it's still visible in Noesis, cuts former method of hours into seconds.  

Included a few utils
1) MeshInjectorDual: Will inject or overwrite a mesh from one costume to another.  Some buffer groups are limited for now, intend to fix in a future version. No longer requires extracting vertices, bone id's or bone weights.  Automatically updates all values.  May require a couple tests, hence the 'patchValue'  when injecting instead of replacing.

2) VertexBoneSubSingle: Allows the ability to sub bones of a mesh piece against a sub list without requiring an overwrite or injection.

3) MeshWarpAuto: (PC Only) Works much like previous version, snaps vertices of a PC version to a matching Xbox version, but no longer requires ripping verts.  Only needs group & mesh index just like MeshInjector.  

Tried to document input values as well as I could. Will be updating features once I have time.  Drop questions here, if anything is unclear.

What This tool is for ? :/
## Post #1749
- Username: syasuker
- Rank: beginner
- Number of posts: 24
- Joined date: Sun May 17, 2015 12:49 pm
- Post datetime: 2015-08-18T07:26:20+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Merry Christmas!

http://www.mediafire.com/download/cf22f ... itV1.0.zip

Auto Injector Base Version Complete!! 

Hex free, Blender free, works for PC & Xbox 360, preserves model so it's still visible in Noesis, cuts former method of hours into seconds.  

Included a few utils
1) MeshInjectorDual: Will inject or overwrite a mesh from one costume to another.  Some buffer groups are limited for now, intend to fix in a future version. No longer requires extracting vertices, bone id's or bone weights.  Automatically updates all values.  May require a couple tests, hence the 'patchValue'  when injecting instead of replacing.

2) VertexBoneSubSingle: Allows the ability to sub bones of a mesh piece against a sub list without requiring an overwrite or injection.

3) MeshWarpAuto: (PC Only) Works much like previous version, snaps vertices of a PC version to a matching Xbox version, but no longer requires ripping verts.  Only needs group & mesh index just like MeshInjector.  

Tried to document input values as well as I could. Will be updating features once I have time.  Drop questions here, if anything is unclear.

For a long time don't know how to use your tools.
Maybe we need a tutorial
## Post #1750
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-08-18T15:05:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from mralex
>
> 
What This tool is for ? :/

It replaces or appends a mesh piece from one costume to another.  Like say a bikini top, it can completely replace one from same or different character with that of another. I know the newer Blender issues can do this as well, but this also automatically updates bones, does not require weight transferring and still allows viewing in Noesis plus can be done without 3D support IF you know the ObjGeo & index values of the item you want to swap.  It can be really quick.

> Reply from syasuker
>
> 
Maybe we need a tutorial
Sorry, I know my stuff tends to be more advanced.  If you have an example of what you want to try to do, I could try explaining how to use it.

Edit:
I did spot a bug in the VertexBoneSubSingle, I'll try to upload the fix tonight.
## Post #1751
- Username: Neostatos4
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Tue Aug 18, 2015 10:55 pm
- Post datetime: 2015-08-18T17:02:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hello, I'm new on this forum and tried to figure out what is useful to learn to get the character 3d model of DOA5 pc steam version, my computer is 64 bit with window 8.1(Nvidia card, corei7), so I have some little ask if someone can help it would be great:

-I have to use python 3.2.3 and not 3.2.4? I don't use the lastest version of python for x64 window?
-How many plugins is there to get for python to understand all I'm supposed to ask him to do to get the models? The plugins: "file.py" are to be installed in the folder Tools/Scripts of the folder of the Python version installed right?
-I should use the blender version for x64 as well and not the x32 right?
-I found Uarchivarius 1.6b and Uarchivarius 1.7b, and read about the Tools Quickbms and all the scripts(so many...) and hum, are those tool still useful and able to extract the thing from the archive character_common.bin and .lnk? When I run Uarchivarius(in the game folder) 1.6b or 1.7b and try to open char**common.bin the cmd window display: "multiple lnk archives not supported", I didn't found explanation about this on this topic, there's lot of page, if there is a better unpacker or a tutorial very easy for noob like me, give me a link please, if you want a screenshot about this error feel free to ask me.
-And all the QuickBms and simple doa5 unpacker are useless for pc version?
-Does all the DLC have to be owned in order to make your tools work?
I have Noesis, I didn't found the LNK script of the video tutorial about QuickBms.
I also saw the tutorial of Darko page 38 but it's not helping me either yet. Because I cannot unpack the archive yet. I would know how please.

I just would edit some model on 3dsmax, thank you for reading, will hope for soon reply and wish you a nice day while waiting.
## Post #1752
- Username: Ghost1705
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Thu Dec 09, 2010 8:54 pm
- Post datetime: 2015-08-18T17:34:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

These Phyton Scripts makes me confusing.How i can use this in generell? Lets say i would extract an Mesh in Noesis without Wight and Bones. I would modified this Mesh and bring it back to the TMC. What have i to do with your Tools? I miss an UI. I known these things work without an UI, but dont understand really how to use.
## Post #1753
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-08-18T18:02:27+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Ghost1705
>
> These Phyton Scripts makes me confusing.How i can use this in generell? Lets say i would extract an Mesh in Noesis without Wight and Bones. I would modified this Mesh and bring it back to the TMC. What have i to do with your Tools? I miss an UI. I known these things work without an UI, but dont understand really how to use.

These scripts can read and edit TMC's.  Unfortunately, they don't handle custom meshes, but if you want to move a piece that already exists you can.  You do not have to extract anything first, you can go directly from one costume to the next.

Basic concepts.  TMC's have a group of objects called 'ObjGeo' or Object Geometry.  These are usually groups of individual mesh pieces.  Nyotengu's wings have their own ObjGeo, usually character bodies are part of an ObjGeo.  Sweat, Accessories often exist in an ObjGeo, but within each ObjGeo are the individual meshes.  I'll use Nyotengu's towel costume.  It has several ObjGeo's wings, fan, towel, body,  etc.     Her 'WGT_Body' ObjGeo has 3 mesh pieces, 1 for the panties, 1 for the body, 1 for the shoes.  This does not require hex, but you can use a Hex Editor or can import the xbox model into 3dsmax to find these values.  Even the TMC utils may help find these numbers.

So...

If you open MeshInjectorDual and edit the variables, you can move one mesh piece from one costume to another.  You have to provide the number of the group (ObjGeo) and the mesh (the item inside of the ObjGeo)    There are variables that need the names of the files, so if you have those python scripts in the same location as your file, you can just update  sourceFileName = 'MyCostume_01.TMC' (update to actual name of course)  for the source and target files.  Provide the other correct numbers, and it's ready to run.  

I use IDLE to run these scripts, so once you edit it, press F5 to run it.  If done correctly with no errors, the script will output a new copy of the TMC & TMCL which should be visible in Noesis.

Let me know if this helps

> Reply from Neostatos4
>
> 
-I have to use python 3.2.3 and not 3.2.4? I don't use the lastest version of python for x64 window?
-How many plugins is there to get for python to understand all I'm supposed to ask him to do to get the models? The plugins: "file.py" are to be installed in the folder Tools/Scripts of the folder of the Python version installed right?
-I should use the blender version for x64 as well and not the x32 right?
-I found Uarchivarius 1.6b and Uarchivarius 1.7b, and read about the Tools Quickbms and all the scripts(so many...) and hum, are those tool still useful and able to extract the thing from the archive character_common.bin and .lnk? When I run Uarchivarius(in the game folder) 1.6b or 1.7b and try to open char**common.bin the cmd window display: "multiple lnk archives not supported", I didn't found explanation about this on this topic, there's lot of page, if there is a better unpacker or a tutorial very easy for noob like me, give me a link please, if you want a screenshot about this error feel free to ask me.
-And all the QuickBms and simple doa5 unpacker are useless for pc version?
-Does all the DLC have to be owned in order to make your tools work?
I have Noesis, I didn't found the LNK script of the video tutorial about QuickBms.
I also saw the tutorial of Darko page 38 but it's not helping me either yet. Because I cannot unpack the archive yet. I would know how please.

I just would edit some model on 3dsmax, thank you for reading, will hope for soon reply and wish you a nice day while waiting.

- I think any near recent version of Python 3 should be good.
- Python plugins not sure for Blender
- Blender x64/x32 may not matter as long as the plugins do run
- Archivarius is the best unpacker that I know of, make sure you have the PC version, I thought it was 1.8, but I could be wrong.  
- The Quickbms methods were mostly for vanilla DOA5 on Xbox, I don't think those methods are up to date
- There are a few scripts for Noesis that go in the plugins/python folder to allow viewing of TMC's  I don't recally which onces but they are named doa5.py or something similar
## Post #1754
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-08-18T19:55:38+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks for the tools,

Very useful for those of us who know what's going on behind the scenes.

casual users will have to learn why they're performing a certain function rather than just relying on pressing a few buttons.
## Post #1755
- Username: navmesh
- Rank: beginner
- Number of posts: 24
- Joined date: Mon Mar 12, 2012 10:04 am
- Post datetime: 2015-08-19T04:50:04+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Updated DLC Tool (needs .NET Framework 4). Drag and drop now supported for "open bcm"/"add" files.
viewtopic.php?p=106117#p106117
SkacikPL wrote:Is it not yet released or i missed something again?Here it is.
Thanks for the DLC tool
is it possible to have feature like move mods / up down on the "character" listbox (on the left) for easily organize mods
and open folder that contain mod files in "files" box(on the right ) ? (or copy mods directory's path)
## Post #1756
- Username: SleepySea
- Rank: n00b
- Number of posts: 18
- Joined date: Sun Apr 26, 2015 12:01 am
- Post datetime: 2015-08-19T05:16:02+00:00
- Post Title: Re: Dead or Alive series formats and tools

The current generation of modders are too accustomed to the comfort GUI provides and convenient scripts that import/export stuff with a few clicks I think. 

To the metal stuff is where the real fun is.  Thanks for this cool tool.
## Post #1757
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-08-19T14:05:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Lilstormcloud
>
> Thanks for the tools,

Very useful for those of us who know what's going on behind the scenes.

casual users will have to learn why they're performing a certain function rather than just relying on pressing a few buttons.

> Reply from SleepySea
>
> The current generation of modders are too accustomed to the comfort GUI provides and convenient scripts that import/export stuff with a few clicks I think. 

To the metal stuff is where the real fun is.  Thanks for this cool tool.

No prob, glad to help. 

I wouldn't consider anyone casual just because they're not advanced (yet).  Keep in mind, thanks to better advancement in tools with PC, new people are already doing cooler stuff than we were ever able to do with Xbox due to lack of support.  After 2 plus years we still couldn't insert foreign meshes, now anyone can hop in and do that without hex knowledge, and we're less than six months into PC modding.  If anything it's good stuff that helps expand the community. 

***
I wasn't able to get the bug fix uploaded last night, to make up for it the next release will have support for all vertex buffer lengths AND progress has gone even better with vertex scaling so hopefully any size vertex group should be able to inject/overwrite any other size if all new bugs get hammered out.
## Post #1758
- Username: Neostatos4
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Tue Aug 18, 2015 10:55 pm
- Post datetime: 2015-08-19T16:08:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks for the reply to my ask, 
so if I follow the last recent story for get the 3d character models\animations\textures\bones, I saw:
p101: [viewtopic.php?f=16&t=6392&start=1500](http://forum.xentax.com/viewtopic.php?f=16&t=6392&start=1500) (MeshWarp)
p102: [viewtopic.php?f=16&t=6392&start=1515](http://forum.xentax.com/viewtopic.php?f=16&t=6392&start=1515) (Uarchivarius.dat update)
p105: [viewtopic.php?f=16&t=6392&start=1560](http://forum.xentax.com/viewtopic.php?f=16&t=6392&start=1560) 
doa5LRarchivarius.dat + Blpconverter update
p106: [viewtopic.php?f=16&t=6392&start=1575](http://forum.xentax.com/viewtopic.php?f=16&t=6392&start=1575)
update Texture Tool + DLC Tool
p107: [viewtopic.php?f=16&t=6392&start=1590](http://forum.xentax.com/viewtopic.php?f=16&t=6392&start=1590) 
speak about the lnk reshuffle
p108:[viewtopic.php?f=16&t=6392&start=1605](http://forum.xentax.com/viewtopic.php?f=16&t=6392&start=1605)
update doa5LRarchivarius28May2015
p112: [viewtopic.php?f=16&t=6392&start=1665](http://forum.xentax.com/viewtopic.php?f=16&t=6392&start=1665)
[https://www.mediafire.com/folder/9zi2gt8dyllaj/doa5mod](https://www.mediafire.com/folder/9zi2gt8dyllaj/doa5mod)
newvertex porting tools + index shifter + doa5mod mediafire folder and tmc tools...
p114: [viewtopic.php?f=16&t=6392&start=1695](http://forum.xentax.com/viewtopic.php?f=16&t=6392&start=1695)
bodyshop toolkitv0.5
p115:[viewtopic.php?f=16&t=6392&start=1710](http://forum.xentax.com/viewtopic.php?f=16&t=6392&start=1710)
Blender tmcmesh Importer-Exporter" + Blender&Python from Darko
p116: [viewtopic.php?f=16&t=6392&start=1725](http://forum.xentax.com/viewtopic.php?f=16&t=6392&start=1725)
[http://w11.zetaboards.com/SFxT_Mods/topic/11221937/1/](http://w11.zetaboards.com/SFxT_Mods/topic/11221937/1/)
[https://onedrive.live.com/?id=FFBE4E570 ... BE&group=0](https://onedrive.live.com/?id=FFBE4E570949FCBE!177&cid=FFBE4E570949FCBE&group=0)
p117:[viewtopic.php?f=16&t=6392&start=1740](http://forum.xentax.com/viewtopic.php?f=16&t=6392&start=1740)
bodyshoptoolkitv1.0
If I forgot an important step in the chronology correct me.
So, hum, if you could make a tutorial to understand how to get the 3d model with the pc version of doa5 it would be like that:?
-install python 3 and blender 2.67
-put the files included in the archive of the most recent doa5archivarius(p108 of this thread I think?) in the \DOA5 steam game folder
-run archivarius with python and open character_common.bin or .lnk
-and get the 3d model after running the app in the same folder? (I will try this soon, but it could help me to know what there are to do more than that to get the model and in what formats I get them, tmc is not texture files??)

And sorry very much for the delay time that I had to answer. I just would have a step list to follow such as a cooking recipe to know how to use those tools well if possible please.
## Post #1759
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-08-19T17:19:53+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Neostatos4

There's a lot of information there, and some items may be old, so I'll just reference the basics.   Take it one step at a time.  

First Step: Extracting TMC & TMCL containers.   TMC stands for Tecmo Memory Container.    It includes a costumes vertices, textures, and other related geometry information.  

Start with installing python.  Once you've done that put the most recent version of Archivarius, chara_common.lnk & .bin (possibly the .exe as well) all in the same folder.  Does not have to be the steam directory, but it can be.

Open the .lnk with Archivarius, look for files with .TMC & .TMCL extensions.  One pair will usually represent a face, hair or costume.  Once you reach that point then we can talk about Noesis and other things.
## Post #1760
- Username: syasuker
- Rank: beginner
- Number of posts: 24
- Joined date: Sun May 17, 2015 12:49 pm
- Post datetime: 2015-08-19T23:45:33+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> @Neostatos4

There's a lot of information there, and some items may be old, so I'll just reference the basics.   Take it one step at a time.  

First Step: Extracting TMC & TMCL containers.   TMC stands for Tecmo Memory Container.    It includes a costumes vertices, textures, and other related geometry information.  

Start with installing python.  Once you've done that put the most recent version of Archivarius, chara_common.lnk & .bin (possibly the .exe as well) all in the same folder.  Does not have to be the steam directory, but it can be.

Open the .lnk with Archivarius, look for files with .TMC & .TMCL extensions.  One pair will usually represent a face, hair or costume.  Once you reach that point then we can talk about Noesis and other things.

thx,I know how to use you tool.  

A Question .
Whether most clothes don't need to action file?
Please look at the necklace and skirt.
They look just a short bones.I don't think Tecmo can give each bone production action file.
Maybe they are driven by gravity?
so...
If can I think I can transfer this part of the bone?
Or the custom?  



Looking forward to your VertexBoneSubSingle tools the next version.
Let me see what can do great things  

good luck!





------------------------------------------------
Sorry for my poor english.
[2015-08-20_073258.png](https://xentaxbackup.github.io/file/9577_2015-08-20_073258.png)
## Post #1761
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-08-20T03:47:12+00:00
- Post Title: Re: Dead or Alive series formats and tools

Aight, we're back in action. 

Toolkit updated!

[http://www.mediafire.com/download/8a3ns ... itV1.2.zip](http://www.mediafire.com/download/8a3ns5h36s481vp/BodyShop+ToolkitV1.2.zip)

Fixed the problem with VertexBoneSubSingle.   

Added Vertex Scaling for MeshInjectorDual.  That mean's any mesh should be able to overwrite or be appended to any other costume mesh piece regardless of original vertex buffer length.    

Keep me posted on questions & bugs. 

***
@syasuker

Hopefully I understand your question correctly.  Bones are contained in each costume container, so if a costume is missing bones for accessories.  There won't be any way to animate something that had bones in a different costume, but doesn't have the bones in the next costume.

***

@LSC, when you get a chance plz send me that one file.  I'd like to see if I can get 360 to PC support working in one of the next revisions.
## Post #1762
- Username: syasuker
- Rank: beginner
- Number of posts: 24
- Joined date: Sun May 17, 2015 12:49 pm
- Post datetime: 2015-08-20T06:49:29+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Aight, we're back in action. 

Toolkit updated!

http://www.mediafire.com/download/8a3ns ... itV1.2.zip

Fixed the problem with VertexBoneSubSingle.   

Added Vertex Scaling for MeshInjectorDual.  That mean's any mesh should be able to overwrite or be appended to any other costume mesh piece regardless of original vertex buffer length.    

Keep me posted on questions & bugs. 

***
@syasuker

Hopefully I understand your question correctly.  Bones are contained in each costume container, so if a costume is missing bones for accessories.  There won't be any way to animate something that had bones in a different costume, but doesn't have the bones in the next costume.

***

@LSC, when you get a chance plz send me that one file.  I'd like to see if I can get 360 to PC support working in one of the next revisions.


yep,thx!the new one!
so I think that: The control clothing bone is special.
xDDDDD
## Post #1763
- Username: Neostatos4
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Tue Aug 18, 2015 10:55 pm
- Post datetime: 2015-08-20T07:57:34+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks Protocol X27, so:(location are optional I know)
-I installed Python3.4.3
-Made a new folder on desktop and put in it the copy of the files
character_common.bin and character_common.lnk and
and the two exe file in game folder: game.exe & startup_setting.exe
(and I guess for the dlc just require the same process with the archive in dlc folder)
-I extracted the archive of the lastest doa5archivarius(p108) in the folder
-Then I run doa5archivarius, open character_common.bin/lnk
-Then all the files are displayed, I extract selected or extract all in a new output folder on desktop
-Then I have a bunch of Tmc and Tmcl files in a folder and it seem great
-So we can talk about Noesis? What do I do next please?
## Post #1764
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-08-20T12:18:51+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from syasuker
>
> 
yep,thx!the new one!
so I think that: The control clothing bone is special.
xDDDDD

Correct.  There is an option.  Not a perfect one, but an option.  If you use a base costume that has a shirt with bones, you could have the bones from the mesh shirt be substituted with the current shirt bones.  Kasumi's sailor costume might be a good choice.  

I don't know how well this will work with the TMC / Blender import method, but by using a substitution list in MeshInjectorDual, it should be possible if bones were properly compared.

> Reply from Neostatos4
>
> Thanks Protocol X27, so:(location are optional I know)
//snip//
-Then I have a bunch of Tmc and Tmcl files in a folder and it seem great
-So we can talk about Noesis? What do I do next please?

Good job!   Okay, so up next is finding & installing Noesis.  You'll have to find the plugins people have made available for the PC version and put them in the proper Noesis folder.  I think sf234 may have made the last known update. 

Noesis will allow you to view TMC files so you know which costumes you are working with.  It can also export to .obj, extract 'some' textures and a few other things, but for now we just need it to view stuff.  

If you already have the TMC's you technically can start editing either through a hex editor like HxD, scripts, or even some utitlities like sf234's texture tool.
## Post #1765
- Username: syasuker
- Rank: beginner
- Number of posts: 24
- Joined date: Sun May 17, 2015 12:49 pm
- Post datetime: 2015-08-21T01:19:22+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> syasuker wrote:
yep,thx!the new one!
so I think that: The control clothing bone is special.
xDDDDD

Correct.  There is an option.  Not a perfect one, but an option.  If you use a base costume that has a shirt with bones, you could have the bones from the mesh shirt be substituted with the current shirt bones.  Kasumi's sailor costume might be a good choice.  

I don't know how well this will work with the TMC / Blender import method, but by using a substitution list in MeshInjectorDual, it should be possible if bones were properly compared.
Neostatos4 wrote:Thanks Protocol X27, so:(location are optional I know)
//snip//
-Then I have a bunch of Tmc and Tmcl files in a folder and it seem great
-So we can talk about Noesis? What do I do next please?

Good job!   Okay, so up next is finding & installing Noesis.  You'll have to find the plugins people have made available for the PC version and put them in the proper Noesis folder.  I think sf234 may have made the last known update. 

Noesis will allow you to view TMC files so you know which costumes you are working with.  It can also export to .obj, extract 'some' textures and a few other things, but for now we just need it to view stuff.  

If you already have the TMC's you technically can start editing either through a hex editor like HxD, scripts, or even some utitlities like sf234's texture tool.

bad news.I don't understand your tools.
Can you write a tutorial how to transfer the bones?
If you have the time
## Post #1766
- Username: bbbmods
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Aug 21, 2015 10:40 am
- Post datetime: 2015-08-21T03:19:35+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Protocol X27

hey, 

Curious about your recent tool. I read the description you gave, but not quite sure I fully understand. It sounds similar to the tmc polygon tools which can swap and append parts without the use of blender or renaming. The only exception is special animated parts like skirts and scarfs and stuff cant swap properly if the tmc doesn't have those bones. does your tool swap the animated parts as well? also, by append, do you mean the same way tmc polygons tool appends, which adds a mesh to an existing slot without removing the original, or does it create a new slot? (eg. tmc has only wgt_body, wgt_body_1, wgt_body_2. will it create a wgt_body_3 along with a new texture slot?)

@all -

does anyone have dlc tool 0.10.3 in English? I only have the Japanese version of it.
## Post #1767
- Username: navmesh
- Rank: beginner
- Number of posts: 24
- Joined date: Mon Mar 12, 2012 10:04 am
- Post datetime: 2015-08-21T07:02:30+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from bbbmods
>
> @Protocol X27
@all -
does anyone have dlc tool 0.10.3 in English? I only have the Japanese version of it.

does anyone know what's changed in 0.10.3 version ?
## Post #1768
- Username: syasuker
- Rank: beginner
- Number of posts: 24
- Joined date: Sun May 17, 2015 12:49 pm
- Post datetime: 2015-08-21T11:10:49+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from navmesh
>
> bbbmods wrote:@Protocol X27
@all -
does anyone have dlc tool 0.10.3 in English? I only have the Japanese version of it.

does anyone know what's changed in 0.10.3 version ?

maby Alpha-152
## Post #1769
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-08-21T13:02:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from syasuker
>
> 
bad news.I don't understand your tools.
Can you write a tutorial how to transfer the bones?
If you have the time

Sure, that's fairly easy.  If you already figured out how to use MeshInjectorDual ...  there is an option for the 'boneSubFile', set it to a text file of your choice...

boneSubFile = 'myBoneSubs.txt'

Inside of that text file add all of the substitutions you want to make.  For example, if your source model has a wrist bone and the target model does not you may want to assign it to the bone that does exist.  For all of these place them each on a new line in your .txt so that it looks something like this.  Place the source bone followed by a pipe '|' then the target bone name.

OPT_L_Wrist_A|OPT_Left_Hand_Root
OPT_R_Wrist_A|OPT_Right_Hand_Root
OPT_whatever|MOT00_Hips

So you will need to know that actual bone names in order to replace them.  

> Reply from bbbmods
>
> @Protocol X27
Curious about your recent tool. I read the description you gave, but not quite sure I fully understand. It sounds similar to the tmc polygon tools which can swap and append parts without the use of blender or renaming. The only exception is special animated parts like skirts and scarfs and stuff cant swap properly if the tmc doesn't have those bones. does your tool swap the animated parts as well? also, by append, do you mean the same way tmc polygons tool appends, which adds a mesh to an existing slot without removing the original, or does it create a new slot? (eg. tmc has only wgt_body, wgt_body_1, wgt_body_2. will it create a wgt_body_3 along with a new texture slot?)

Welcome to Xentax 

In a sense, my util sounds like it's doing the same stuff as the other one, but it can remap bones if similar bones are available.  I have no idea/if when we'll reach the point of inserting bones so for now, a target costume with accessory bones can have original accessory bones updated to the new ones without weight painting.  Since the names are so generic/numbered though, it could be time consuming still to identify  skirt1A > coat72z.

I guess I wasn't aware that tmc polygon tool appends as well.  Yes, when appending it will add the mesh the end of the current one, so wgt_body 8 will have it's original mesh plus the new piece.

I'm not sure what's needed to add a new slot. I attempted it once and kept Noesis from crashing, but I didn't find everything needed to make it work properly.

Edit: 
Ummm #$%#%$@%$@#$ ... I think I just figured out how to insert a 'new' mesh object.      
Thought, I'd try it again since it's been months, fresh eyes, and more knowledge of the containers.  It took a bit, but I think I found all of the values.  Only tried with the Xbox, so far but I got it work in Noesis.  Now the trick'd be to automate the process.  Just don't have much time over the next three weeks.
## Post #1770
- Username: syasuker
- Rank: beginner
- Number of posts: 24
- Joined date: Sun May 17, 2015 12:49 pm
- Post datetime: 2015-08-22T00:37:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> syasuker wrote:
bad news.I don't understand your tools.
Can you write a tutorial how to transfer the bones?
If you have the time 

Sure, that's fairly easy.  If you already figured out how to use MeshInjectorDual ...  there is an option for the 'boneSubFile', set it to a text file of your choice...

boneSubFile = 'myBoneSubs.txt'

Inside of that text file add all of the substitutions you want to make.  For example, if your source model has a wrist bone and the target model does not you may want to assign it to the bone that does exist.  For all of these place them each on a new line in your .txt so that it looks something like this.  Place the source bone followed by a pipe '|' then the target bone name.

OPT_L_Wrist_A|OPT_Left_Hand_Root
OPT_R_Wrist_A|OPT_Right_Hand_Root
OPT_whatever|MOT00_Hips

So you will need to know that actual bone names in order to replace them.

Thank you for your instructions for me to try again.

 VertexBoneSubSingle out of the tmc&tmcl is right?
I thought I would be a TXT.
## Post #1771
- Username: syasuker
- Rank: beginner
- Number of posts: 24
- Joined date: Sun May 17, 2015 12:49 pm
- Post datetime: 2015-08-22T02:09:59+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Edit: 
>
> Ummm #$%#%$@%$@#$ ... I think I just figured out how to insert a 'new' mesh object.      
>
> Thought, I'd try it again since it's been months, fresh eyes, and more knowledge of the containers.  It took a bit, but I think I found all of the values.  Only tried with the Xbox, so far but I got it work in Noesis.  Now the trick'd be to automate the process.  Just don't have much time over the next three weeks.
   
LOL
good luck!
## Post #1772
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-08-22T02:18:30+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from syasuker
>
> 
Thank you for your instructions for me to try again.

 VertexBoneSubSingle out of the tmc&tmcl is right?
I thought I would be a TXT.

No prob!

Sorry, I'm not understanding your current question.  I'll give an example of what VertexBoneSubSingle is for.   If you have a mesh, but want to hide only part of it, you could hide vertices somewhere like the torso.  If you substitute all bones for those hidden vertices to MOT00_Hips or MOT01_Chest it could keep those vertices from flying all over the place when animated.  They would only move when the torso moves.

It reads the TMC & TMCL to get the information it needs for bones and then updates the mesh you want and creates a copy of the TMC & TMCL.   It only uses a TXT file to read bone substitutions.
## Post #1773
- Username: syasuker
- Rank: beginner
- Number of posts: 24
- Joined date: Sun May 17, 2015 12:49 pm
- Post datetime: 2015-08-22T06:21:57+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> syasuker wrote:
Thank you for your instructions for me to try again.

 VertexBoneSubSingle out of the tmc&tmcl is right?
I thought I would be a TXT. 

No prob!

Sorry, I'm not understanding your current question.  I'll give an example of what VertexBoneSubSingle is for.   If you have a mesh, but want to hide only part of it, you could hide vertices somewhere like the torso.  If you substitute all bones for those hidden vertices to MOT00_Hips or MOT01_Chest it could keep those vertices from flying all over the place when animated.  They would only move when the torso moves.

It reads the TMC & TMCL to get the information it needs for bones and then updates the mesh you want and creates a copy of the TMC & TMCL.   It only uses a TXT file to read bone substitutions.

It is I the wrong meaning,Thank you for your instructions
## Post #1774
- Username: syasuker
- Rank: beginner
- Number of posts: 24
- Joined date: Sun May 17, 2015 12:49 pm
- Post datetime: 2015-08-22T08:25:17+00:00
- Post Title: Re: Dead or Alive series formats and tools

[http://nasu.bbspink.com/test/read.cgi/p ... 803453/351](http://nasu.bbspink.com/test/read.cgi/pinkcafe/1439803453/351)

insert new tex

Let me test
## Post #1775
- Username: Neostatos4
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Tue Aug 18, 2015 10:55 pm
- Post datetime: 2015-08-22T10:59:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thank you Protocol X27, I'll ask more if needed, now that I have a bunch of .obj files, I have what I wanted)).
Will ask more if needed, it's awesome so have a nice day!
## Post #1776
- Username: Leifang
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Sat Aug 22, 2015 7:40 pm
- Post datetime: 2015-08-22T12:23:57+00:00
- Post Title: Re: Dead or Alive series formats and tools

Is it possible to  merge/combine  1 hairstyle + 1 costume to obtain an   all-in-one pack (new outfit + new hairstyle) ?

I mean something like this : 

[](http://imageshack.com/a/img661/7659/Y9rFNH.png) [](http://imageshack.com/a/img540/9504/OwwQ2N.jpg) (DOA5U Warriors Orochi 3 Ultimate Wang Yuanji Costume for Ayane)


If not, could a tool be created to do this ?
A tool that allows you to  merge/combine   hairstyle files, accessory files and costume files (textures and animations unaltered)
## Post #1777
- Username: bbbmods
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Aug 21, 2015 10:40 am
- Post datetime: 2015-08-22T20:41:22+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> 

Welcome to Xentax 

In a sense, my util sounds like it's doing the same stuff as the other one, but it can remap bones if similar bones are available.  I have no idea/if when we'll reach the point of inserting bones so for now, a target costume with accessory bones can have original accessory bones updated to the new ones without weight painting.  Since the names are so generic/numbered though, it could be time consuming still to identify  skirt1A > coat72z.

I guess I wasn't aware that tmc polygon tool appends as well.  Yes, when appending it will add the mesh the end of the current one, so wgt_body 8 will have it's original mesh plus the new piece.

I'm not sure what's needed to add a new slot. I attempted it once and kept Noesis from crashing, but I didn't find everything needed to make it work properly.

Edit: 
Ummm #$%#%$@%$@#$ ... I think I just figured out how to insert a 'new' mesh object.      
Thought, I'd try it again since it's been months, fresh eyes, and more knowledge of the containers.  It took a bit, but I think I found all of the values.  Only tried with the Xbox, so far but I got it work in Noesis.  Now the trick'd be to automate the process.  Just don't have much time over the next three weeks.

Thanks 

ah okay, I get it now. thanks for the reply 

also glad your figuring out extra slot issue. its currently the biggest limitation in modding right now
## Post #1778
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-08-22T23:17:20+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Aight, we're back in action. 

@LSC, when you get a chance plz send me that one file.  I'd like to see if I can get 360 to PC support working in one of the next revisions.

Aww crap I forgot, thanks for reminding.
Been torn between playing FF type zero, an old DS game and Hearthstone on my phone.

*
pm'ed it to ya.

*
Not sure if anyone's had a look at double transparent objects, i.e. that problem that happens when a transparent object goes over a transparent object and the second one disappears. I used a fix on it for one of the costumes I was working on months ago. unfortunately I forgot to document it (Again    )



In any case, it's in the objinfo section, the highlighted values are the ones you need to change, (just the top one and the entry for the object you want),
I don't remember but you change it to 2 or something (or maybe it was that there was no value there and you just put a 01 there). compare a normal costume to kasumi hair tmc for that area and you'll see the difference.
## Post #1779
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-08-23T01:32:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Neostatos4, glad to help. Good Luck! 

@syasuker, glad to help. Thanks for the link.  That's a good step forward as well if we can add new textures.  

Does anyone know if overwriting current textures with high resolution ones is possible.  I thought discussion came up with early PC modding, but I don't recall what the process was, or if the Texture tool automatically allowed and updated stuff.

@bbb, no prob. Thanks for asking the question.  Glad it gave me the idea to try that again.  With recent progress, I at least had more utilities at my disposal to cut down the workload / testing.

@lsc, Thanks for sending.  Transparency stuff looks right.  Were you questioning the one spot or just remaking a tutorial for it?

@Leifang, Presently the only way to accomplish this would involve changing a costume with a hair style in it, like the one you posted.  I don't think it will be possible right away to add a complete hair set into a costume without one.  If I get mesh object addition working then it will be a step in the right direction, but there is still more learning needed to add the necessary chunks that would all accommodate hair, glasses, other toggleable items in addition to the costume itself.   Even if that is possible, the biggest negative will be the lack of phones.  Even if items like hair are added, if they don't have the necessary bones, there won't be animation.  

***

I started on the injection util.  To get it done sooner, I'm simplifying part of it.  I'm only going to allow an insert of new mesh object into the WGT_body ObjGeo and only add one of vertex buffer 64 length.  This will cut down on the amount of dynamic code I have to write to find different buffer lengths, finding which code to copy and determining where to put it.  So if anyone has any arguments / suggestions as to why this is a disadvantage please let me know.
## Post #1780
- Username: syasuker
- Rank: beginner
- Number of posts: 24
- Joined date: Sun May 17, 2015 12:49 pm
- Post datetime: 2015-08-23T06:02:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> @Neostatos4, glad to help. Good Luck! 

@syasuker, glad to help. Thanks for the link.  That's a good step forward as well if we can add new textures.  

Does anyone know if overwriting current textures with high resolution ones is possible.  I thought discussion came up with early PC modding, but I don't recall what the process was, or if the Texture tool automatically allowed and updated stuff.

@bbb, no prob. Thanks for asking the question.  Glad it gave me the idea to try that again.  With recent progress, I at least had more utilities at my disposal to cut down the workload / testing.

@lsc, Thanks for sending.  Transparency stuff looks right.  Were you questioning the one spot or just remaking a tutorial for it?

@Leifang, Presently the only way to accomplish this would involve changing a costume with a hair style in it, like the one you posted.  I don't think it will be possible right away to add a complete hair set into a costume without one.  If I get mesh object addition working then it will be a step in the right direction, but there is still more learning needed to add the necessary chunks that would all accommodate hair, glasses, other toggleable items in addition to the costume itself.   Even if that is possible, the biggest negative will be the lack of phones.  Even if items like hair are added, if they don't have the necessary bones, there won't be animation.  

***

I started on the injection util.  To get it done sooner, I'm simplifying part of it.  I'm only going to allow an insert of new mesh object into the WGT_body ObjGeo and only add one of vertex buffer 64 length.  This will cut down on the amount of dynamic code I have to write to find different buffer lengths, finding which code to copy and determining where to put it.  So if anyone has any arguments / suggestions as to why this is a disadvantage please let me know.
high resolution textures will have some problem I am trying to look for patterns.
## Post #1781
- Username: bbbmods
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Aug 21, 2015 10:40 am
- Post datetime: 2015-08-23T09:28:53+00:00
- Post Title: Re: Dead or Alive series formats and tools

@LSC -

I had tried that transparency method before, but I only seem to have got it working when the 2 overlapping transparent meshed where in the same object slot. when they were in two different ones, I couldn't get it working :/

@Protocol X27

I haven't had any issues upping textures to 1024X1024 with the texture tool, but trying 2048X2048 one time caused infinite loading in game
## Post #1782
- Username: Lilstormcloud
- Rank: mega-veteran
- Number of posts: 162
- Joined date: Mon Aug 05, 2013 4:39 am
- Post datetime: 2015-08-23T12:26:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

bbb,
Strange, I had it on two separate objects on kasumi dlcu10  

pro
Just making a note of it so the info can float around, since I'm gradually shifting away from doa lol - as you can probably tell.
## Post #1783
- Username: abcdefh
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Tue Dec 28, 2010 11:22 pm
- Post datetime: 2015-08-23T14:57:44+00:00
- Post Title: Re: Dead or Alive series formats and tools

@ bbbmods
Sorry for automatic translation.
Like memory restrictions suffering from 1.02A, it wants an infinite load the file size is too large.
I think that it can be loaded if at 1.02.
## Post #1784
- Username: bbbmods
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Aug 21, 2015 10:40 am
- Post datetime: 2015-08-23T17:07:19+00:00
- Post Title: Re: Dead or Alive series formats and tools

@LSC -

guess I must have done something wrong, I will give it another try eventually.

@abcdefh -

ah okay. well too much good is in 1.02A to go back to 1.02. Thanks for the response
## Post #1785
- Username: th0rough
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Fri Aug 14, 2015 7:03 am
- Post datetime: 2015-08-24T23:32:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

I have what appear to be TMC/TMCL files extracted but I can't open them in anything (I think they're in the old console format where the TMCL holds almost everything). I should be able to manually separate out meshes and textures, right?

edit: Turns out I can't decrypt these TMCL files with any version of the doa5udecrypt.bms found in this thread. I either get 0 files found, or an error which says "Error: the compressed zlib/deflate input is wrong or incomplete (-3)" and "Error: there is an error with the decompression the returned output size is negative (-1)"
## Post #1786
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-08-25T01:08:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from bbbmods
>
> 
@Protocol X27

I haven't had any issues upping textures to 1024X1024 with the texture tool, but trying 2048X2048 one time caused infinite loading in game

Good to know, I think there are a couple 512's that I at least could upgrade then.

> Reply from Lilstormcloud
>
> 
pro
Just making a note of it so the info can float around, since I'm gradually shifting away from doa lol - as you can probably tell.

Fair enough, I guess there has to be cap on mod ideas at some point, right?  

> Reply from th0rough
>
> I have what appear to be TMC/TMCL files extracted but I can't open them in anything (I think they're in the old console format where the TMCL holds almost everything). I should be able to manually separate out meshes and textures, right?

edit: Turns out I can't decrypt these TMCL files with any version of the doa5udecrypt.bms found in this thread. I either get 0 files found, or an error which says "Error: the compressed zlib/deflate input is wrong or incomplete (-3)" and "Error: there is an error with the decompression the returned output size is negative (-1)"

The bms script is mostly for the original Xbox containers.  You can use archivarius to get new or PC stuff.  You can then use Noesis to extract .obj's for either Xbox or PC.  There are also TMC exporters for individual meshes, but I think those are PC only.   b0ny's or sf234's texture extractors will be the best options for pulling textures, either xbox or PC depending on which format you're working with.

****
Has anyone extracted the newer hairstyles from Last Round ?  I just noticed that Archivarius and Blp converter don't seem to detect them.  Anyone know of a work around?
## Post #1787
- Username: th0rough
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Fri Aug 14, 2015 7:03 am
- Post datetime: 2015-08-25T02:11:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

> The bms script is mostly for the original Xbox containers.  You can use archivarius to get new or PC stuff.  You can then use Noesis to extract .obj's for either Xbox or PC.  There are also TMC exporters for individual meshes, but I think those are PC only.   b0ny's or sf234's texture extractors will be the best options for pulling textures, either xbox or PC depending on which format you're working with.

These are xbox files (supposedly the new dlc). I had to use an unpacker script instead of archivarius because archvarius wouldn't open the files. The bms scripts work on everything except for the TMCL files - is there a reason for this?
## Post #1788
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-08-25T13:34:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from th0rough
>
> 
These are xbox files (supposedly the new dlc). I had to use an unpacker script instead of archivarius because archvarius wouldn't open the files. The bms scripts work on everything except for the TMCL files - is there a reason for this?

Then what you need is the BLP Converter for Xbox.  It'll read the new file information and provide a copy of details that need to be pasted into Archivarius .dat file.  It worked fine for me on the new DLC.  I don't know of anyone that is still using the bms stuff even for modern DLC, so I don't know of any suggestions as to how/why it's having issues.
## Post #1789
- Username: th0rough
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Fri Aug 14, 2015 7:03 am
- Post datetime: 2015-08-25T20:29:32+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Then what you need is the BLP Converter for Xbox.  It'll read the new file information and provide a copy of details that need to be pasted into Archivarius .dat file.  It worked fine for me on the new DLC.  I don't know of anyone that is still using the bms stuff even for modern DLC, so I don't know of any suggestions as to how/why it's having issues.

Ok, thanks. I've gotten the data out of the blp file for Archivarius to work with, but opening the .bin/.lnk files gives me an error (attached). I have what I think is the most recent release of Archivarius (28 May 2015).
[dlc error.png](https://xentaxbackup.github.io/file/9629_dlc error.png)
## Post #1790
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-08-26T01:09:54+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from th0rough
>
> 
Ok, thanks. I've gotten the data out of the blp file for Archivarius to work with, but opening the .bin/.lnk files gives me an error (attached). I have what I think is the most recent release of Archivarius (28 May 2015).

Which DLC did your try? The Hot Summer?

Also make sure there are now spaces/break returns in between the original .dat data and the new stuff pasted.  Make sure there's no empty lines afterward either.    Ie, open the .dat file, go to the last line, press enter once to start a new line, paste the new data, save then close.

Oh, and that latest version may be the PC version of archivarius.  I think 1.7 may have been the last console version.
## Post #1791
- Username: th0rough
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Fri Aug 14, 2015 7:03 am
- Post datetime: 2015-08-26T01:41:11+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Which DLC did your try? The Hot Summer?

Also make sure there are now spaces/break returns in between the original .dat data and the new stuff pasted.  Make sure there's no empty lines afterward either.    Ie, open the .dat file, go to the last line, press enter once to start a new line, paste the new data, save then close.

Oh, and that latest version may be the PC version of archivarius.  I think 1.7 may have been the last console version.

Yeah, turns out I was using the PC version. Hope the new version has a check box or something, it would be a little less confusing.

Thanks for all the help.
## Post #1792
- Username: syasuker
- Rank: beginner
- Number of posts: 24
- Joined date: Sun May 17, 2015 12:49 pm
- Post datetime: 2015-08-28T10:01:39+00:00
- Post Title: Re: Dead or Alive series formats and tools

hi
Doutoku's DLC Tool 日本語版.3
I translated it.
May bring convenient DLC encapsulation.

thx sf234
[DLC Tool_EN.zip](https://xentaxbackup.github.io/file/9646_DLC Tool_EN.zip)
## Post #1793
- Username: bbbmods
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Aug 21, 2015 10:40 am
- Post datetime: 2015-08-29T03:01:55+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from syasuker
>
> hi
Doutoku's DLC Tool 日本語版.3
I translated it.
May bring convenient DLC encapsulation.

thx sf234

I get an error trying to download it :/
## Post #1794
- Username: syasuker
- Rank: beginner
- Number of posts: 24
- Joined date: Sun May 17, 2015 12:49 pm
- Post datetime: 2015-08-29T09:10:32+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from bbbmods
>
> syasuker wrote:hi
Doutoku's DLC Tool 日本語版.3
I translated it.
May bring convenient DLC encapsulation.

thx sf234

I get an error trying to download it :/
[https://userscloud.com/g4rjh8zq4ow4](https://userscloud.com/g4rjh8zq4ow4)
maby that
## Post #1795
- Username: navmesh
- Rank: beginner
- Number of posts: 24
- Joined date: Mon Mar 12, 2012 10:04 am
- Post datetime: 2015-08-29T09:50:39+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from syasuker
>
> navmesh wrote:bbbmods wrote:@Protocol X27
@all -
does anyone have dlc tool 0.10.3 in English? I only have the Japanese version of it.

does anyone know what's changed in 0.10.3 version ?

maby Alpha-152
Thanks for the English tool, please tell me more detail ,is there any problem with alpha-152 in earlier version ?
Thanks
## Post #1796
- Username: bbbmods
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Aug 21, 2015 10:40 am
- Post datetime: 2015-08-29T18:06:54+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from syasuker
>
> bbbmods wrote:syasuker wrote:hi
Doutoku's DLC Tool 日本語版.3
I translated it.
May bring convenient DLC encapsulation.

thx sf234

I get an error trying to download it :/
https://userscloud.com/g4rjh8zq4ow4
maby that

same thing, I get this error when I click download :/
## Post #1797
- Username: navmesh
- Rank: beginner
- Number of posts: 24
- Joined date: Mon Mar 12, 2012 10:04 am
- Post datetime: 2015-09-04T05:49:47+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from syasuker
>
> hi
Doutoku's DLC Tool 日本語版.3
I translated it.
May bring convenient DLC encapsulation.

thx sf234
could you please share the source code ?
Thanks alot
## Post #1798
- Username: waldmeister
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Wed Feb 25, 2015 11:15 pm
- Post datetime: 2015-09-08T22:40:46+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hey everybody! This is my first post here. First of all I want to thanks everybody who is contributing these useful tools and scripts here. I have a question about modding the Xbox 360 version of DOA5 Last Round (ie DOA5 Ultimate plus LR title update):

About a small mod changing Hitomi's hair color from brown to blond. It does work on DOA 5 Ultimate 1.0 vanilla version.

The way it worked was to use doa5Uarchivarius(v18) to get the TMC and TMCL files extracted and then tecmo360texturesExtractorV15 to extract the textures contained within HITOMI_HAIR_004.TMCL... then modifying them from brown to blond and then adjusting the compressed and uncompressed size of the entries in HITOMI_HAIR_004.TMC via a HEX editor in the default.xex.

I think the modified HITOMI_HAIR_004.TMCL and HITOMI_HAIR_004.TMC were appended to the chara_common.lnk (1.73 GB big file which contains the non-DLC models and hairstyles if I remember correctly) and the file was then also modified regarding the hex value of the new total file size etc. The reason for appending is: swapping TMC and TMCL files using archivarius for the stock chara_common.lnk and .bin doesn't work for some reason and gives a long error message.

I also know that starting with a certain Update of DOA5 Ultimate (1.03 or so?) HEX range 0x000-0x45c0 from default.xex(original) has to be replaced in the modified default.xex...

Now it has been quite some time so I don't remember exactly... but as I said it works on the DOA5 Ultimate 1.0 vanilla version when removing any title updates and using a fixed default.xex.

After updating to the most recent version DOA 5 Last Round 1.04 there is an error: "VERSION MISMATCH - This game has been updated to an incompatible version."
So does anybody of you have an idea why this method suddenly stopped working?
## Post #1799
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-09-18T13:45:54+00:00
- Post Title: Re: Dead or Alive series formats and tools

Welcome, waldmeister.

Apologies for the lack in response timing.  Unfortunately, many have moved on to PC modding, or out of modding altogether.   I haven't worked on anything for Xbox since Last Round first released, so I'm not sure about anything that 1.4 may have done to the game.  

Archivarius has not been updated in a while, but there still might be the possibility of adding files manually to the chara_common.lnk and manually updating the default.xex.  That's the only other work around I know of potentially, but if the default.xex got tampered with, you may be out of luck unless someone else is actively working on the Xbox version. 

***
ObjGeo Injector update: My busy weeks have come and gone, so I've been finishing up the util.  First version is don't but still buggy, so I'm hammering that stuff out. Just need to isolate problems and test a few costumes for stability before moving on to a release.

***
Looks like PC DLC in the works, so hopefully more opportunities in the future for stuff to mess with.
## Post #1800
- Username: navmesh
- Rank: beginner
- Number of posts: 24
- Joined date: Mon Mar 12, 2012 10:04 am
- Post datetime: 2015-09-19T16:08:39+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> 



***
ObjGeo Injector update: My busy weeks have come and gone, so I've been finishing up the util.  First version is don't but still buggy, so I'm hammering that stuff out. Just need to isolate problems and test a few costumes for stability before moving on to a release.

Thank you, that means we can add as much mesh slots as we want ,right ? if it is , i think it will break the modding limit 
sorry for bad english :p
## Post #1801
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-09-21T01:59:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from navmesh
>
> 
Thank you, that means we can add as much mesh slots as we want ,right ? if it is , i think it will break the modding limit 
sorry for bad english :p

Good question,   If you hadn't asked I probably wouldn't have considered it just yet.  I don't know what the limit is for file size, but based on your idea I didn't limit the additions to only 1.

***

Ok, this ought to do it    

I haven't had the time to fully stress test it, but I have done multiple tests with different buffer groups on various characters like Nyotengu, Alpha 152 and Rachel.  Please let me know if anyone runs across issues.  I also keep moving my files around, so if I forgot to update any file references when updating utilities, let me now on those too.

BodyShopToolkitV2.0 : New Utility > MeshReactorPC
- [http://www.mediafire.com/download/7960d ... itV2.0.zip](http://www.mediafire.com/download/7960dhvmhr9vdmv/BodyShopToolkitV2.0.zip)

Requires the ObjGeo Index & ObjGeo Mesh item index.  The script will then clone the necessary information and add it to the end of the indicated ObjGeo Block.  It is possible to add multiple items even of different buffer lengths, but it will only do one at a time.  To do multiples you'll have to execute once, and then update the file name to the new output file or keep moving files around to each consecutive file.  You're also on your own in terms of assigning images.  If you clone the body object, but don't want the body texture you'll still have to manually point the new ObjGeo Mesh item to different textures that are available.  

***
On a different note, for an upcoming project, I really want to be able to pull Xbox meshes directly, so if anyone (Rosalin!! etc) knows the proper conversion for values in the vertex buffer that are different between Xbox and PC and can explain the conversion (either by code or theory) it would be greatly appreciated.  Thanks
## Post #1802
- Username: bbbmods
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Aug 21, 2015 10:40 am
- Post datetime: 2015-09-21T06:02:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> navmesh wrote:
Thank you, that means we can add as much mesh slots as we want ,right ? if it is , i think it will break the modding limit 
sorry for bad english :p

Good question,   If you hadn't asked I probably wouldn't have considered it just yet.  I don't know what the limit is for file size, but based on your idea I didn't limit the additions to only 1.

***

Ok, this ought to do it    

I haven't had the time to fully stress test it, but I have done multiple tests with different buffer groups on various characters like Nyotengu, Alpha 152 and Rachel.  Please let me know if anyone runs across issues.  I also keep moving my files around, so if I forgot to update any file references when updating utilities, let me now on those too.

BodyShopToolkitV2.0 : New Utility > MeshReactorPC
- http://www.mediafire.com/download/7960d ... itV2.0.zip

Requires the ObjGeo Index & ObjGeo Mesh item index.  The script will then clone the necessary information and add it to the end of the indicated ObjGeo Block.  It is possible to add multiple items even of different buffer lengths, but it will only do one at a time.  To do multiples you'll have to execute once, and then update the file name to the new output file or keep moving files around to each consecutive file.  You're also on your own in terms of assigning images.  If you clone the body object, but don't want the body texture you'll still have to manually point the new ObjGeo Mesh item to different textures that are available.  

***
On a different note, for an upcoming project, I really want to be able to pull Xbox meshes directly, so if anyone (Rosalin!! etc) knows the proper conversion for values in the vertex buffer that are different between Xbox and PC and can explain the conversion (either by code or theory) it would be greatly appreciated.  Thanks

Thanks  Will give it a try when I start modding again. mgsv currently has me distracted
## Post #1803
- Username: arch3r
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Mon Sep 21, 2015 2:49 pm
- Post datetime: 2015-09-21T07:24:28+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> 

BodyShopToolkitV2.0 : New Utility > MeshReactorPC
- http://www.mediafire.com/download/7960d ... itV2.0.zip

Requires the ObjGeo Index & ObjGeo Mesh item index.

i never used an python script ,so please tell me what steps i did wrong ,thank you
i want to inject Objgeo and i use Protocol X27 's MeshReactorPC script

i install python34 and create a bat file in the parent folder of python (which is "E:\mods" ,i put this in the the bat file 

```

```

Then i put KOKORO_DLCU_004.TMC and KOKORO_DLCU_004.TMCL into that folder ("E:\mods" , which is the folder that contain the .BAT file ) 

then i edit the MeshReactorPC.py like this

```
#User Input
###########


targetFileName = 'E:\mods\KOKORO_DLCU_004.TMC'

#Manually input these until UI is added
targetObjGeo = 1
targetObjGeoMesh = 1
################################

```


Then i run the .BAT file, but nothing happens

Thanks

p/s : new DLC info has been added
[https://steamdb.info/app/311730/depots/](https://steamdb.info/app/311730/depots/)
## Post #1804
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-09-21T12:33:51+00:00
- Post Title: Re: Dead or Alive series formats and tools

@bbb that tends to happen during the long haul that is DOA modding, lol

@arch3r

You don't have to use a .bat file.  If you already have python installed and working you can edit the .py file with IDLE.  If you have it open with IDLE you can hit F5 to run it after you've saved your changes.

There is a hurdle that I haven't fixed yet and forgot to mention.  Try putting the tmc files in a subfolder, so the targetFileName should look like '/mods/subfolderName/KOKORO_DLCU_004.tmc'

I usually do not put the full path for the .tmc so just use something relative to your script location.

/mods/pythonScript.py
/mods/someSubFolder/costumeFile.tmc
## Post #1805
- Username: arch3r
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Mon Sep 21, 2015 2:49 pm
- Post datetime: 2015-09-21T14:26:43+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Protocol X27 : Thank you so much, it works now ,its really awesome
i will try importing some mesh into new created meshslot and make a feedback later
## Post #1806
- Username: navmesh
- Rank: beginner
- Number of posts: 24
- Joined date: Mon Mar 12, 2012 10:04 am
- Post datetime: 2015-09-21T17:52:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Protocol X27 : Thank you for releasing this great script
## Post #1807
- Username: abcdefh
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Tue Dec 28, 2010 11:22 pm
- Post datetime: 2015-09-22T00:15:04+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Protocol X27
Thank you for a great tool.

Replication of itable in MeshReactorPC it does not conduct
Would not it be better to duplicate because such as those present few minutes Obj?

I'm sorry in English of the automatic translation.
## Post #1808
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-09-22T04:08:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

@navmesh, Glad to help. 

@abcdefh, I'm sorry, the auto translate is not quite working.  I do not understand your question.  If you can phrase it differently, I might be able to help.
## Post #1809
- Username: abcdefh
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Tue Dec 28, 2010 11:22 pm
- Post datetime: 2015-09-22T06:31:49+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Protocol X27
I'm sorry.

Example：AYANE_DLCU_001
1.Mesh in first ObjGeo is copied.(WGT_body)
2.The number of subobject of ObjGeo will be 3.(Green part)

In this case.
The number of subobject in itable is made 3.
The index number of cutomp is also copied.(index 0)

A boundary adjustment is needed by a case.

Was it transmitted with this?
[2015-09-22_135559_.png](https://xentaxbackup.github.io/file/9769_2015-09-22_135559_.png)
## Post #1810
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-09-22T19:27:15+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from abcdefh
>
> @Protocol X27
I'm sorry.

Example：AYANE_DLCU_001
1.Mesh in first ObjGeo is copied.(WGT_body)
2.The number of subobject of ObjGeo will be 3.(Green part)

In this case.
The number of subobject in itable is made 3.
The index number of cutomp is also copied.(index 0)

A boundary adjustment is needed by a case.

Was it transmitted with this?

I will test with the model and post screenshots once I get a chance.

To answer your question.  No, the itable does not get updated.  The customp also does not get updated.

Return question.  What are itable and customp used for?
## Post #1811
- Username: abcdefh
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Tue Dec 28, 2010 11:22 pm
- Post datetime: 2015-09-22T22:55:54+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> abcdefh wrote:@Protocol X27
I'm sorry.

Example：AYANE_DLCU_001
1.Mesh in first ObjGeo is copied.(WGT_body)
2.The number of subobject of ObjGeo will be 3.(Green part)

In this case.
The number of subobject in itable is made 3.
The index number of cutomp is also copied.(index 0)

A boundary adjustment is needed by a case.

Was it transmitted with this?

I will test with the model and post screenshots once I get a chance.

To answer your question.  No, the itable does not get updated.  The customp also does not get updated.

Return question.  What are itable and customp used for?
You can use the alpha channel of texture as a specular map, it seems to manage to use as a transparent.
## Post #1812
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-09-23T07:35:51+00:00
- Post Title: Re: Dead or Alive series formats and tools

Well..sorry, long time no see.

I've been playing as harry palmer on somewhere else, and I was able to make or get most of things that I wanted about these stuffs before.
so I was losing most of interest.
Only thing that left is that I feel I didn't make enough notes about that.

first, these are tools I made.


I got major hints from prot's codes for some tools.
And I was able to make b0ny's rotation tool for PC version also.

***

Converting vertex buffer(PC-360) requires understandings of how numbers are stacked in each 4 bytes .
Normal vector requires three float numbers and tangent vector requires 4 float numbers.
In PC version, each numbers are placed in each 4 bytes independently. (so pc version has longer vertex buffer.)
but in 360 version, 3 normal vectors and 4 tangent vectors are stacked in a each 4 byte block in a complicated way.

This is code from b0ny's rotation.py.
I hope this helps.

```
X	Y	Z	N	W	B	T	U	U	U	U
[PC]
X	Y	Z	N	N	N	W	B	T	T	T	T	U	U	U	U

class HEND3N(BigEndianStructure):          #Normal Vector
    _fields_ = [('z',        c_int, 10), #/511
                ('y',        c_int, 11), #/1023
                ('x',        c_int, 11)] #/1023
class DEC4N(BigEndianStructure):           #Tangent Vector
    _fields_ = [('w',        c_int, 2),  #/1
                ('z',        c_int, 10), #/511
                ('y',        c_int, 10), #/511
                ('x',        c_int, 10)] #/511

def HenD3NToFloat3(I):          #Normal Vector
    x = tosigned(I       & 0x7FF, 0x400) / 1023
    y = tosigned(I >> 11 & 0x7FF, 0x400) / 1023
    z = tosigned(I >> 22        , 0x200) / 511
    return (x,y,z)

def Dec4NToFloat4(I):           #Tangent Vector
    x = tosigned(I       & 0x3FF, 0x200) / 511
    y = tosigned(I >> 10 & 0x3FF, 0x200) / 511
    z = tosigned(I >> 20 & 0x3FF, 0x200) / 511
    w = tosigned(I >> 30        ,   2  ) /  1
    return(x,y,z,w)

```

4bytes are 32 bits.
take a look how each part of bits is making a float number.

just tell me if you want something more detailed.
***

Anyway, when making skeleton patcher, I think it's good to copy all three skeletons for any good reasons. you know we were copying Hielay and BnOfsMtx only. another one is GlblMtx.
## Post #1813
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-09-23T16:12:39+00:00
- Post Title: Re: Dead or Alive series formats and tools

Ros! Amazing, good to see ya again! I figured you'd been working on stuff elsewhere, but didn't know if you were still active.  I know activity has dropped off for some people.  

You've made some serious progress.  The fact you finished the Rotator will save me some time, since I was going to use a lame method copy from Xbox to PC since I don't know all the math for the conversion.  

I know you made some vertex conversion stuff already, but I want to understand how it works, so I can actually integrate the process into some current tools.   Thanks for explaining the breakdown.  I may need a little extra help on what you posted.  So if I pass the Xbox Normal or Tangent values into their respective functions, I'll get a value in the proper PC bytes right?

Thanks for the tip on the GlblMtx as well, I don't know that was necessary, but based on recent mods, I can see some costumers still weren't full matching the character they originally came from.  Is there any trick to it? I remember that matching the HieLay was only the first 0x40 bytes or something like that.

*** 
> Reply from abcdefh
>
> 
You can use the alpha channel of texture as a specular map, it seems to manage to use as a transparent.

If you are able to explain which values should be changed to, I could see what I might able to fix.  

Since I don't know how these sections work, could you show an example of the difference between one using the alpha as specular vs one using the alpha as transparency?
## Post #1814
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-09-23T16:27:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

I almost quit this league actually.
I just sometimes wanted to look back what I didn't explained enough about what I've done.

***

I think matching only 2 skeletons will be fine as we did.
I don't know about exceptions.

But reason why I suggested something for GblMtx is, a japanese modder made a tool about 'bone and weight' based on GblMtx shapes.
that's all.

***

And I happened to know that using skeleton matching tool with object rotation tool at a time can cause unwanted coordinate distortion.
I couldn't figure out the reason why.
## Post #1815
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-09-23T20:50:47+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Rosalin
>
> I almost quit this league actually.
I just sometimes wanted to look back what I didn't explained enough about what I've done.

So are you done for good? Freeloaders tick you off, or are there no more challenges for you?

Guess I had best ask anything technical while I can.  

Here's what I figured how to assemble based on your suggestion. 

```

def tosigned(unsigned, signflag):
    return unsigned - (0 if unsigned < signflag else signflag*2)

def HenD3NToFloat3(I):          #Normal Vector
    x = tosigned(I       & 0x7FF, 0x400) / 1023
    y = tosigned(I >> 11 & 0x7FF, 0x400) / 1023
    z = tosigned(I >> 22        , 0x200) / 511
    return (x,y,z)

def Dec4NToFloat4(I):           #Tangent Vector
    x = tosigned(I       & 0x3FF, 0x200) / 511
    y = tosigned(I >> 10 & 0x3FF, 0x200) / 511
    z = tosigned(I >> 20 & 0x3FF, 0x200) / 511
    w = tosigned(I >> 30        ,   2  ) /  1
    return(x,y,z,w)

i = 0xE6ABFCFE
hResult = HenD3NToFloat3(i)

print('Xbox - E6 AB FC FE')
print('PC1 - F2 C6 40 BF')
print('Result1: ' + hex(struct.unpack('<I', struct.pack('<f', hResult[0]))[0]))
print('PC2 - F9 7A 20 BF')
print('Result2: ' + hex(struct.unpack('<I', struct.pack('<f', hResult[1]))[0]))
print('PC3 - B4 B4 4C BE')
print('Result3: ' + hex(struct.unpack('<I', struct.pack('<f', hResult[2]))[0]))


```


```
#Xbox Vertex
#3F 15 9A A4
#BD 7A 2B 1C
#3C 68 D7 B0
#E6 AB FC FE   <<
#00 00 00 FF
#00 00 00 24
#6C 85 6F 32
#37 EC 3A 6F
#37 EC 3A 6F
#37 EC 3A 6F
#3B 35 36 6E

#PC Vertex
#A4 9A 15 3F
#1C 2B 7A BD
#B0 D7 68 3C
#F2 C6 40 BF  <<
#F9 7A 20 BF  <<
#B4 B4 4C BE  <<
#FF 00 00 00
#24 00 00 00
#Clipped


```


I compared an Xbox Vertex & PC Vertex to see how close they were.  It looks like the first 2 Bytes are exact, but the last two bytes in each result are not.  Is this normal? Is my conversion back to hex correct? I'm not sure if there's a different pack/unpack method I should be using.

Result

```
PC1 - F2 C6 40 BF
Result1: 0xbf40b02c
PC2 - F9 7A 20 BF
Result2: 0xbf20681a
PC3 - B4 B4 4C BE
Result3: 0xbe4c6633
```
## Post #1816
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-09-24T09:23:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

it's looking that you've done rightly.

and yes. that's normal.
It's not going to be exactly same usually. that's the way float works.
## Post #1817
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-09-24T12:41:57+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Rosalin
>
> it's looking that you've done rightly.

and yes. that's normal.
It's not going to be exactly same usually. that's the way float works.

Awesome, thanks!!    Okay, so it sounds like it's just a rounding issue then.  That's a huge help to one of my last major projects.

I finally had a chance to look at some of your utilities last night. I had no idea how far along you were with those.  The UI is really nice.  Regarding one tool, the Vertex Matcher, I think... So does that affect materials & normals too?  Besides the neck issue, I still have issues when using different character bodies.  Even after updating the MtrCtl, I think there were still issues, so it looks that tool corrects that right?  If you had mentioned that in the past I forgot since I had gone a long time without making progress.

There's been so much progress with the PC version compared to the Xbox version it's awesome.    Even the stuff with .obj injection editing by others opened up a lot of potential for custom inserts.  Other than the means of copying, adding, or re-parenting bones from other costumes, the sky is essentially the limit.

***
I just got a successful vertex converter written.  Other than those rounding issues, the output looks good.  I now see what you were saying about some information being stored weird.  The tangent & UV coordinates aren't just endian flipped.  A endian flip for UV would normally be [A,B,C,D] to [D,C,B,A] but for some reason to match PC it needs to be [B,A,D,C]...  oh well, easy to fix. 

This got me to thinking though.  Do the Xbox Indices require a special expansion conversion as well?  

Edit: nvm, I think I solved it.
## Post #1818
- Username: abcdefh
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Tue Dec 28, 2010 11:22 pm
- Post datetime: 2015-09-27T03:27:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> 
abcdefh wrote:
You can use the alpha channel of texture as a specular map, it seems to manage to use as a transparent.

If you are able to explain which values should be changed to, I could see what I might able to fix.  

Since I don't know how these sections work, could you show an example of the difference between one using the alpha as specular vs one using the alpha as transparency?
Example：AYANE_DLCU_001
Two of mesh in first ObjGeo is copied.(WGT_body、WGT_body_1)

・itable
1.The number of subobject is changed to 4 from 2.(Green part)
2.Copy source divides the index number of customp which was referring.(Blue part and Purple part)
3.boundary adjustment is performed.(Orange part)
4.Shift the offset of WGT_sweat_chest.(Light-blue part)

・matecp
1.Shift the offset of each customp.
2.The block size of matecp is increased.

・cpf
The block size of cpf is increased.
[2015-09-27_101554_.png](https://xentaxbackup.github.io/file/9793_2015-09-27_101554_.png)
## Post #1819
- Username: SleepySea
- Rank: n00b
- Number of posts: 18
- Joined date: Sun Apr 26, 2015 12:01 am
- Post datetime: 2015-09-27T19:48:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

Wow, Ros is back.   Ros has helped me a great deal in writing my own converter (and basically inspired me to get into this type of game modding).  I hope you have had a chance to try the tool I sent you.  It probably doesn't work as well as you'd like, but it's my first novice attempt at DOA5 modding, lol.  

@ProtocolX27: Your tools and patience in helping me have been such indispensable resource as well.   In fact my very first attempt at converting a model from 360 to PC was partially based on one of your earlier tools.  

I managed to add some more stuff to my own converter such as allowing people to edit any of the four UVs, fix corrupted normal vectors/seams, and some other fixes/enhancements, but I kind of lost steam as of late as well.   Good to see that tools are getting more and more advanced by the day.
## Post #1820
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-09-29T12:22:09+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Spleey
I didn't test it  because it looked it's working good enough.
it looked it's working good more than I imagined. maybe I can ask for the code about it for my tools.
and second, I didn't actually needed it with normal problems. I was working on nothing about it, I just wanted to inform about that issue.

And there was another issue with the vertex normal also.
It's not a general problem. it's just something about my mods only.

In my mods, the vertex normals on additional meshes doesn't always follow the shape of the mesh for better expressions.
So if you 'recalculate' the vertex normal depending on mesh shapes, those will be lost anyway.

for example, I know there are some people who prefers earlier version of my mods. (you know about the caps on the breast)
It has very complicated mesh shapes on the tip of the center, so if you initialize the vertex normal of the mesh, you will see ugly cracks or overshadings on there.
It will never be easy to refine the meshes. I used some tricks to get the clean vertex normal of that cap meshes.
so I made 'refined' version for that for easier handling.

It's kind of tricky parts to explain so I didn't informed about it actually..
You'll notice changes on the shades, with the meshes I added, after you recalculate the vertex normals.


@prot
Good to see that you made it m8
## Post #1821
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-09-29T14:44:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

@abcdefh Thanks for posting the explanation.  After I tackle some more stuff, I'll look into updating the Reactor some more.  Next thing I have to do is get the Xbox to PC automater working, so I unforunately have to suggest manual updates until then.  

@Sleepy, glad that we've been able to help and that you've been learning!  Sorry, that I've been too busy to give you valid feedback as well.  I tend to be linear focused and work on one project at a time, but I really need to dive into yours since, I've noticed some normals on my own stuff that could use some adjustments. 

@Ros, Thanks! Your info was huge! I have only written methods so far.  Next I need to implement them and do some actual tests.  

***

Made some light but important changes.  No one wants to spend time doing the monotonous stuff so I keep trying to find ways to cut out the repeat stuff.

Toolkit Update: V2.3

MeshReactorDual replaces PC Version:  Now works with Xbox files as well, so that theoretically a modified PC file can be 'Mesh Warped' to a modified Xbox file when combined with ...

MeshWarpAuto: Added the ability to process multiple ObjGeo mesh items at once.  This saves a ton of time instead of processing, change value, copy/paste output, process, change value, copy/paste, etc.  Now provide an array of mesh pieces like [1,2,3] instead of 1.

[https://www.mediafire.com/?kx7wkcf8ed6qdkr](https://www.mediafire.com/?kx7wkcf8ed6qdkr)
## Post #1822
- Username: SleepySea
- Rank: n00b
- Number of posts: 18
- Joined date: Sun Apr 26, 2015 12:01 am
- Post datetime: 2015-09-30T00:41:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Ros -  

Yes I noticed the strange shading after I attempted to get the "correct" normal vectors for your models and realized that you managed to hide certain imperfections with normal vectors, but it really is already very good and the imperfections are very hard to tell even without hiding them.

This is such a neat a trick that I ended up employing in some of my stuff later on.  It's a convenient way to make a complex/high density parts look smooth and hide "dark spots" on models.    I've had to use it to smooth out some high density nipples by "borrowing" normal vectors.  

@Prot - 

Sorry I didn't read your previous post carefully, so I am not sure if this stuff is still relevant - I had some experience dealing with UV while writing my converter.  The UV representation in TMC file for each UV coordinate is a short float (16 bit half precision floating point format) in four groups, so to convert Endianness you would need to just flip 2 bytes at a time.  This unfamiliar data type problem gave me a bit of an issue as if I type-cast it to a short and then to a float, it would be a very large number as opposed to a decimal.  If you don't need the actual UV coordinates, this probably isn't an issue.

As Ros mentioned earlier, it's totally normal to lose some precision when casting/converting floating points, so typically in 3D applications people do a "close enough" match as opposed to exact match when determining equality of two floating points.   In 3DS MAX, when outputting to OBJ format, it actually drops a lot of precision and use only 4 decimal places (can be adjusted to a higher number).  It appears to be good enough for this particular application.

Thanks again for the updated tool!
## Post #1823
- Username: th0rough
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Fri Aug 14, 2015 7:03 am
- Post datetime: 2015-10-02T02:20:11+00:00
- Post Title: Re: Dead or Alive series formats and tools

I have the new dlc files, but archivarius isn't decrypting them properly. What gives?
## Post #1824
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-10-03T21:23:19+00:00
- Post Title: Re: Dead or Alive series formats and tools

Updated DLC Tool.
[viewtopic.php?p=111891#p111891](http://forum.xentax.com/viewtopic.php?p=111891#p111891)

Added optional compression of files (thanks to immi  from FSD for bit flags information). Use it with caution.
"---C"/"--P" files now can be skipped (if they are not added built-in stubs will be used instead).
Hairstyles now limited to 8("H") per character/slot (9+ crashes the game).
dlc5lr.dat updated to match 1.04 version of the game (some entries are changed, so former version (and DLCs built with it) is not fully compatible with the current game version).
## Post #1825
- Username: bbbmods
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Aug 21, 2015 10:40 am
- Post datetime: 2015-10-04T07:19:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Updated DLC Tool.
http://rghost.net/private/6cXpqKQrT/cd2 ... b7b527e49a

Added optional compression of files (thanks to immi  from FSD for bit flags information). Use it with caution.
"---C"/"--P" files now can be skipped (if they are not added built-in stubs will be used instead).
Hairstyles now limited to 8("H") per character/slot (9+ crashes the game).
dlc5lr.dat updated to match 1.04 version of the game (some entries are changed, so former version (and DLCs built with it) is not fully compatible with the current game version).

Thanks for the update  . I noticed the swimsuit dlc still can't be opened. any chance for a fix for that? I would like to add the missing hair styles to it.
also, for point 4, not sure I understand. does that mean dlc packs made with the older dlc tool wont work with 1.04? I have not updated to 1.04 yet because I do not wish to lose lnk_reshuffle.
## Post #1826
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-10-04T15:53:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

Updated doa5LRarchivarius.dat (should support all DLCs except 358142g).
[viewtopic.php?p=110757#p110757](http://forum.xentax.com/viewtopic.php?p=110757#p110757)

Free/used costume slots information.
[viewtopic.php?p=111057#p111057](http://forum.xentax.com/viewtopic.php?p=111057#p111057)

th0rough
Try to replace doa5LRarchivarius.dat with the version linked in this post.

bbbmods
DLC 358142 uses some strange character/slot definition for first 12 entries. You can use attached version to make changes that you want, then copy hex (from offset 0x8 to the end) into original file (at offset 0x20).
As for 1.04, they changed some entries in names table, e.g. MARIE_DLCU_018.TMC was listed in previous version as

```
2Y512@1S1T1@CH10]]J183H42DO1G187QR7H1O{S76171J
```
and now become
```
2S512@1S161L1T1@DI1S11]]L1B3J42GQ1I187RS7A1K1R1R{J981Y1A1N]1
```
There is bunch of similar changes, but everything else remains same. In the end, some combinations of character/slot will work with both versions, and others will work only with one of them. If you want to stay on 1.02 then just use old dlc5lr.dat.
[358142.zip](https://xentaxbackup.github.io/file/9832_358142.zip)
## Post #1827
- Username: bbbmods
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Aug 21, 2015 10:40 am
- Post datetime: 2015-10-04T20:25:55+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Updated doa5LRarchivarius.dat (should support all DLCs except 358142g).
-deleted-

Free/used costume slots information.
http://rghost.net/private/8GFsKcYJh/688 ... 7ea5c28d1b

th0rough
Try to replace doa5LRarchivarius.dat with the version linked in this post.

bbbmods
DLC 358142 uses some strange character/slot definition for first 12 entries. You can use attached version to make changes that you want, then copy hex (from offset 0x8 to the end) into original file (at offset 0x20).
As for 1.04, they changed some entries in names table, e.g. MARIE_DLCU_018.TMC was listed in previous version as
Code: Select all2Y512@1S1T1@CH10]]J183H42DO1G187QR7H1O{S76171Jand now becomeCode: Select all2S512@1S161L1T1@DI1S11]]L1B3J42GQ1I187RS7A1K1R1R{J981Y1A1N]1There is bunch of similar changes, but everything else remains same. In the end, some combinations of character/slot will work with both versions, and others will work only with one of them. If you want to stay on 1.02 then just use old dlc5lr.dat.

Thanks it worked  So I guess its the hot getaway costumes that are the problem since they are the only ones I couldn't edit, but fortunately those ones already had all their main styles, so only a couple special ones are missing for those like senran ayane, headband hitomi, rad band pigtail leifang. but no biggie 

So if I understand correctly, certain costumes that had their names changed, that we used in custom dlc before wont work in 1.04? but the official packs that had them would still work?

also, one more question. would it be possible to open up official dlc packs with dlc tool and delete certain costumes? I ask this because I made a pack of all nyotengu costumes to have no wings, and have glasses instead of her mask. i replaced her original with lnk_reshuffle, but for dlc, I had to make a new pack for them, so I have 2 versions of those costumes in my game, and have ran out of nyotengu slots to include wingless versions of the new dlc. so I wish to remove the original wing version which I don't use, to have free slots and no unnecessary duplicates.
## Post #1828
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-10-04T22:11:11+00:00
- Post Title: Re: Dead or Alive series formats and tools

Updated link for doa5LRarchivarius.dat:
[http://rghost.net/private/6CLSCrcBM/86a ... 72c0300c0a](http://rghost.net/private/6CLSCrcBM/86a2459c7ce23a899bf12a72c0300c0a)

> Reply from bbbmods
>
> So if I understand correctly, certain costumes that had their names changed, that we used in custom dlc before wont work in 1.04? but the official packs that had them would still work?As far as I can see name entries was changed for costumes from new DLCs (that was released together with 1.04 patch, also for Kagura Costume Set (MARIE_DLCU_018's new name used here)). Names that used in old DLCs, and that not used at all, remained same.
I should mention that changes for Kagura Costume Set, that most likely was made in 1.02A patch, are not reflected in previous dlc5lr.dat version (it was dumped from version 1.02). So those names/slots are not available if you will use previous version.
> Reply from bbbmods
>
> also, one more question. would it be possible to open up official dlc packs with dlc tool and delete certain costumes? I ask this because I made a pack of all nyotengu costumes to have no wings, and have glasses instead of her mask. i replaced her original with lnk_reshuffle, but for dlc, I had to make a new pack for them, so I have 2 versions of those costumes in my game, and have ran out of nyotengu slots to include wingless versions of the new dlc. so I wish to remove the original wing version which I don't use, to have free slots and no unnecessary duplicates.You can use archivarius' "swap selected" function and just swap needed models in original DLCs, just don't forget to backup them. As for deleting characters from existing DLC (also adding new characters, changing costume slot, etc) - maybe it will be implemented in future releases. The thing is that there is no easy way to do it. And I'm just lazy.
## Post #1829
- Username: bbbmods
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Aug 21, 2015 10:40 am
- Post datetime: 2015-10-04T23:22:26+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Updated link for doa5LRarchivarius.dat:
http://rghost.net/private/6CLSCrcBM/86a ... 72c0300c0a
bbbmods wrote:So if I understand correctly, certain costumes that had their names changed, that we used in custom dlc before wont work in 1.04? but the official packs that had them would still work?As far as I can see name entries was changed for costumes from new DLCs (that was released together with 1.04 patch, also for Kagura Costume Set (MARIE_DLCU_018's new name used here)). Names that used in old DLCs, and that not used at all, remained same.
I should mention that changes for Kagura Costume Set, that most likely was made in 1.02A patch, are not reflected in previous dlc5lr.dat version (it was dumped from version 1.02). So those names/slots are not available if you will use previous version.bbbmods wrote:also, one more question. would it be possible to open up official dlc packs with dlc tool and delete certain costumes? I ask this because I made a pack of all nyotengu costumes to have no wings, and have glasses instead of her mask. i replaced her original with lnk_reshuffle, but for dlc, I had to make a new pack for them, so I have 2 versions of those costumes in my game, and have ran out of nyotengu slots to include wingless versions of the new dlc. so I wish to remove the original wing version which I don't use, to have free slots and no unnecessary duplicates.You can use archivarius' "swap selected" function and just swap needed models in original DLCs, just don't forget to backup them. As for deleting characters from existing DLC (also adding new characters, changing costume slot, etc) - maybe it will be implemented in future releases. The thing is that there is no easy way to do it. And I'm just lazy.

when I click the swap selected button in the archavarious, I always get this error
## Post #1830
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-10-04T23:45:21+00:00
- Post Title: Re: Dead or Alive series formats and tools

bbbmods
Which file in which dlc? What version of archivarius you use? Latest is either [this](http://forum.xentax.com/viewtopic.php?p=106452#p106452) or [this](http://forum.xentax.com/viewtopic.php?p=104985#p104985).
The logic behind BLP entries detection (which is used in swap function) usually fail on small files (---C/--P/--H), but it should work for TMC/TMCL. Anyway, I didn't spent too much time fixing/testing swap function, and looks like b0ny himself didn't touch it either.
## Post #1831
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-10-05T02:04:30+00:00
- Post Title: Re: Dead or Alive series formats and tools

@sf234, thanks for the updates.

Good to see new DLC has generated some activity, lol.  

My project list is now a mile long with all of the things I'd like to work on.  Still working on streamlining while creating some mods.  

BSTV2.5: [https://www.mediafire.com/?b73bz12d7279osc](https://www.mediafire.com/?b73bz12d7279osc)

Fixed something I broke with my last update.  MeshReactor wasn't updating file length properly for PC.  No biggie, until MeshWarp attempted to use the file.   

Only 'slight' feature: New flag to allow overwrite of the target file instead of copying to the 'out' folder.  Can speed up frequent changes on the same object.
## Post #1832
- Username: bbbmods
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Aug 21, 2015 10:40 am
- Post datetime: 2015-10-05T02:13:29+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> bbbmods
Which file in which dlc? What version of archivarius you use? Latest is either this or this.
The logic behind BLP entries detection (which is used in swap function) usually fail on small files (---C/--P/--H), but it should work for TMC/TMCL. Anyway, I didn't spent too much time fixing/testing swap function, and looks like b0ny himself didn't touch it either.

Thanks, tried the first one and the tmc/tmcl swapping was sucessful  I do have edited --P files that don't have wings, but that's not really important, but its unfortunate I can't swap the ---C files since I have those edited on every costume to have glasses available on all hair styles. 

edit-

also, NYOTENGU_DLCU_014 in 358140 crashes the game when swapped
## Post #1833
- Username: navmesh
- Rank: beginner
- Number of posts: 24
- Joined date: Mon Mar 12, 2012 10:04 am
- Post datetime: 2015-10-05T08:25:47+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hello, please help
is it possible to change the mesh slot become toggleable (toggle by .---C file) like the NyoTengu wgt_mask ,we can toggle it on or off through hairstyle (which is set by .---C file )?
for more clearly i have a static mesh slot (normal mesh slot ) i want to change it to toggleable 
Thanks
## Post #1834
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-10-08T01:19:28+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from navmesh
>
> Hello, please help
is it possible to change the mesh slot become toggleable (toggle by .---C file) like the NyoTengu wgt_mask ,we can toggle it on or off through hairstyle (which is set by .---C file )?
for more clearly i have a static mesh slot (normal mesh slot ) i want to change it to toggleable 
Thanks

It's a bit more than the config file, not sure if anyone knows how to do that yet.  

***

@abcdefh

I started looking into your notes. I think I understand what I have to change.  I had a successful test, so I will attempt to update when I have the time.  

Do you know what all of the customp options do?   Some are to remove objects, some are for alpha?  What others are inside of customp blocks?
## Post #1835
- Username: Bagserk
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sun Oct 02, 2011 9:50 am
- Post datetime: 2015-10-08T02:44:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

Any ideas on why when I try to open any bin/lnk file with Archivarius it tells me this?

"multiple lnk archives not supported"

EDIT: Nevermind, this version fixed it: [viewtopic.php?p=104985#p104985](http://forum.xentax.com/viewtopic.php?p=104985#p104985)
## Post #1836
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-10-09T18:22:02+00:00
- Post Title: Re: Dead or Alive series formats and tools

@abcdefh: Done!

BodyShopToolkitV2.8: [https://www.mediafire.com/?7bzmarabc0kgz3d](https://www.mediafire.com/?7bzmarabc0kgz3d)

Updated MeshReactorDual to update the matecp & itable blocks when an ObjGeoMeshItem is cloned.  

***
I need to finish the Xbox to PC project, but I have a few distracting ideas to look into first.  I would like to be able to potentially add ObjGeo Blocks, Nodes, Bones or even alternate texture files.  If anyone has any thoughts or tips they'd be appreciated, especially if anyone has any useful knowledge on how the --H & --HL files are referenced by the TMC
## Post #1837
- Username: abcdefh
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Tue Dec 28, 2010 11:22 pm
- Post datetime: 2015-10-10T00:44:02+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Protocol X27

Thank you for update.

I found a "MeshReactorDual" problems.

Does not seem to be the boundary adjustment of IdxLay, it shifts the subsequent position.

Also, it seems correct ObjInfo is not be copied.
I've copied the first submesh, but last ObjInfo had been copied.
In this case, you should copy the first ObjInfo.

> Reply from Protocol X27
>
> 

@abcdefh

I started looking into your notes. I think I understand what I have to change.  I had a successful test, so I will attempt to update when I have the time.  

Do you know what all of the customp options do?   Some are to remove objects, some are for alpha?  What others are inside of customp blocks?
I don't know other what kind of roles there are.
## Post #1838
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-10-10T10:26:43+00:00
- Post Title: Re: Dead or Alive series formats and tools

I made my own skeleton patcher and I uploaded it on the mega link I said before.

Clothing simulation was broken when it's synced 2 bones only.

But I could check it works more naturally with 3 bones sync.
[Skeleton Patcher.7z](https://xentaxbackup.github.io/file/9844_Skeleton Patcher.7z)
## Post #1839
- Username: SleepySea
- Rank: n00b
- Number of posts: 18
- Joined date: Sun Apr 26, 2015 12:01 am
- Post datetime: 2015-10-10T19:48:11+00:00
- Post Title: Re: Dead or Alive series formats and tools

In the spirit of sharing, I've also released my tool here [http://www.loverslab.com/topic/50997-do ... ?p=1346825](http://www.loverslab.com/topic/50997-doa5lr-timmys-private-stash-tool-updated-101015-added-tool-section/?p=1346825)

It allows easy handling of normal vectors and UV maps among other mathematically interesting things.  I've tried my best to explain the key features in that post.  I hope some people will find it useful.   

Any feedback and/or bug reports are welcome.
## Post #1840
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-10-13T05:03:44+00:00
- Post Title: Re: Dead or Alive series formats and tools

After a week of binge coding an alternative for Archivarius is finally done.
Archive Tool 1.0:
[viewtopic.php?p=111368#p111368](http://forum.xentax.com/viewtopic.php?p=111368#p111368)

Some tips:
Archive can be opened by drag-and-dropping the BIN file to the program's window (instead of clicking "Open").
Single file can be extracted either by using "Extract" from the context menu (uses dialog), pressing "Extract Selected" (which will extract file to the specified path), or by drag-and-dropping file to the target folder (e.g. Desktop).
To do the same for multiple files use checkboxes (next to the file index). Note: when at least one file selected by this way "Extract Selected" and drag-and-drop functions doesn't count highlighted file as selected.
After extracting files with drag-and-drop sometimes either temporary "DragNDropFile" file remains visible or extracted files doesn't appear in the target folder - refresh by pressing "F5" (or from context menu) should solve this.
"Swap" function works only for DLC archives that have "<archive name>.blp" file. Use it from the context menu or by selecting target file and drag-and-dropping source file to the program's window.

file5lr.dat is simplified version of Archivarius' doa5LRarchivarius.dat.
Entry format: <Encrypted Name>(Tab)<Decrypted Name>(Tab)<File Flags>(Tab)<File Indexes>. Indexes and flags can be skipped.
Types of flags: "E0"/"C0" - file encrypted and compressed, "40" - file compressed, "00" - file stored in archive as-is. "Force/Disable" overrides source flag.
"Update DB" function theoretically should allow to automatically apply any changes from future patches. Decrypted names for new/changed (after the update) entries of course must be entered manually.
Since all DLC names are already in the DB and BLP parsing routine should found correct flags for them - BLP Converter (or "Archivarius fix2" and similar DB edits) is no more needed. 

Credits:
b0ny for decryption routine.
immi for key calculation routine.

> Reply from bbbmods
>
> also, NYOTENGU_DLCU_014 in 358140 crashes the game when swappedTry this program. Also, swap now should work for any files (e.g. "---C", "--P").
## Post #1841
- Username: navmesh
- Rank: beginner
- Number of posts: 24
- Joined date: Mon Mar 12, 2012 10:04 am
- Post datetime: 2015-10-13T06:27:02+00:00
- Post Title: Re: Dead or Alive series formats and tools

@sf234 : Thank you ,this tool is great
## Post #1842
- Username: bbbmods
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Aug 21, 2015 10:40 am
- Post datetime: 2015-10-13T06:43:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> After a week of binge coding an alternative for Archivarius is finally done.
Archive Tool 1.0:
http://rghost.net/private/7Bq6d6pHy/6f0 ... c909d6a667

Some tips:
Archive can be opened by drag-and-dropping the BIN file to the program's window (instead of clicking "Open").
Single file can be extracted either by using "Extract" from the context menu (uses dialog), pressing "Extract Selected" (which will extract file to the specified path), or by drag-and-dropping file to the target folder (e.g. Desktop).
To do the same for multiple files use checkboxes (next to the file index). Note: when at least one file selected by this way "Extract Selected" and drag-and-drop functions doesn't count highlighted file as selected.
After extracting files with drag-and-drop sometimes either temporary "DragNDropFile" file remains visible or extracted files doesn't appear in the target folder - refresh by pressing "F5" (or from context menu) should solve this.
"Swap" function works only for DLC archives that have "<archive name>.blp" file. Use it from the context menu or by selecting target file and drag-and-dropping source file to the program's window.

file5lr.dat is simplified version of Archivarius' doa5LRarchivarius.dat.
Entry format: <Encrypted Name>(Tab)<Decrypted Name>(Tab)<File Flags>(Tab)<File Indexes>. Indexes and flags can be skipped.
Types of flags: "E0"/"C0" - file encrypted and compressed, "40" - file compressed, "00" - file stored in archive as-is. "Force/Disable" overrides source flag.
"Update DB" function theoretically should allow to automatically apply any changes from future patches. Decrypted names for new/changed (after the update) entries of course must be entered manually.
Since all DLC names are already in the DB and BLP parsing routine should found correct flags for them - BLP Converter (or "Archivarius fix2" and similar DB edits) is no more needed. 

Credits:
b0ny for decryption routine.
immi for key calculation routine.
bbbmods wrote:also, NYOTENGU_DLCU_014 in 358140 crashes the game when swappedTry this program. Also, swap now should work for any files (e.g. "---C", "--P").

Thanks  that costume swapped successfully. now there are no traces of wings in my game 

only tested it with that same dlc pack so far, the --p and ---c of NYOTENGU_DLCU_014 went okay, and the --c of NYOTENGU_DLCU_013 went okay, but with the --p of NYOTENGU_DLCU_013, I got this message.

Error: BLP index for this file is unknown. (Note: Swap works only for DLC archives.)
## Post #1843
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-10-13T15:05:55+00:00
- Post Title: Re: Dead or Alive series formats and tools

Updated free/used costume slots information:
[viewtopic.php?p=112401#p112401](http://forum.xentax.com/viewtopic.php?p=112401#p112401)

bbbmods
DLC 358140? DLC archive files were original or already swapped with Archivarius?
## Post #1844
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-10-13T20:33:55+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from abcdefh
>
> @Protocol X27

Thank you for update.

I found a "MeshReactorDual" problems.

Does not seem to be the boundary adjustment of IdxLay, it shifts the subsequent position.

Also, it seems correct ObjInfo is not be copied.
I've copied the first submesh, but last ObjInfo had been copied.
In this case, you should copy the first ObjInfo.

The IdxLay boundary has never been adjusted in any utils I've made for the past couple of years.  Everything has functioned normally.  If there's a technical reason to do so I can look into it, but it's not a high priority otherwise. 

As for the ObjInfo, I'll take a look when I get some time.  

***
@sf234, Sleepy Sea
Thanks for the updates!! 

***

I decided to hold off on new concepts until I get the Xbox converter finished. I'm already close, I just need to force myself to finish it. 

***

From the sound of things, this latest batch is the last that the Xbox & PS3 well get, but on the flip side at least the PC got the DLC release at the same time.

***

@Ros, what's the scoop on the Skeleton Patcher?  Does it do anything additional beside the HieLay & BnOfsMtx?  Just curious as to what scenarios you created it for.
## Post #1845
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-10-13T21:15:46+00:00
- Post Title: Re: Dead or Alive series formats and tools

Can someone update the blp converter for 360 files pls?? It has no problems to decrypt female files, but I doesn't decrypt any new male files.
## Post #1846
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2015-10-14T02:31:26+00:00
- Post Title: Re: Dead or Alive series formats and tools

Sorry if the question has already been asked but I haven't found an answer so I was wondering if there was an update for the BLP Converter because when I load the Halloween set it says "Unsupported file format"
## Post #1847
- Username: bbbmods
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Aug 21, 2015 10:40 am
- Post datetime: 2015-10-14T04:00:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Updated free/used costume slots information:
http://rghost.net/private/6rGSgW9XN/7c9 ... d840d3d3b2

bbbmods
DLC 358140? DLC archive files were original or already swapped with Archivarius?

yeah, I used it on a pack that i swapped already with archavarious. tried it again on a clean version and it worked, also worked on every other nyotengu costume in every other pack, thanks
## Post #1848
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-10-14T05:13:55+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Next DLC is up.  My BLP converter for 360 still doesn't recognize Honoka. Am I using an outdated version, or did we still need manual entries for that?  I know the PC version is working fine for those files.
> Reply from Darko
>
> Can someone update the blp converter for 360 files pls?? It has no problems to decrypt female files, but I doesn't decrypt any new male files.
Here latest xbox360 dlc5u.dat (for both BLP Converter and DLC Tool). Some names still missing and, strange enough, I can't find them in the patched xex (though I didn't dig too deep). They can be found in doa5LRarchivarius 28may15's doa5LRarchivarius.dat and just copy-pasted from there.

MisterNatal
PC or Xbox version?
[dlc5u.zip](https://xentaxbackup.github.io/file/9854_dlc5u.zip)
## Post #1849
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2015-10-14T21:38:44+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Protocol X27 wrote:Next DLC is up.  My BLP converter for 360 still doesn't recognize Honoka. Am I using an outdated version, or did we still need manual entries for that?  I know the PC version is working fine for those files.Darko wrote:Can someone update the blp converter for 360 files pls?? It has no problems to decrypt female files, but I doesn't decrypt any new male files.
Here latest xbox360 dlc5u.dat (for both BLP Converter and DLC Tool). Some names still missing and, strange enough, I can't find them in the patched xex (though I didn't dig too deep). They can be found in doa5LRarchivarius 28may15's doa5LRarchivarius.dat and just copy-pasted from there.

MisterNatal
PC or Xbox version?
I just recently found out there was more than one xD I'm not sure 360 I believe
## Post #1850
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-10-15T07:47:05+00:00
- Post Title: Re: Dead or Alive series formats and tools

"LNK_ReShuffle v3" that should support the 1.04 game version:
[http://rghost.net/private/6cM8FjbyH/784 ... c13a0ce4aa](http://rghost.net/private/6cM8FjbyH/784c6962b331d18f5e0825c13a0ce4aa)
Since this is not my code - no warranties or support. Just temporary solution until immi releases the update.

MisterNatal
You need to unpack DLC with Le Fluffie or Wxpirs.
## Post #1851
- Username: navmesh
- Rank: beginner
- Number of posts: 24
- Joined date: Mon Mar 12, 2012 10:04 am
- Post datetime: 2015-10-15T08:07:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thank you , sf234 , i hope we can add more costume, hair and face slot in the future , i don't have enough slot for female now :p
## Post #1852
- Username: abcdefh
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Tue Dec 28, 2010 11:22 pm
- Post datetime: 2015-10-16T14:02:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> 
The IdxLay boundary has never been adjusted in any utils I've made for the past couple of years.  Everything has functioned normally.  If there's a technical reason to do so I can look into it, but it's not a high priority otherwise.
Example:
AYANE_DLCU_001
targetObjGeo = 1
targetObjGeoMesh = 1

In this case.
Offset of MtrCol after IdxLay becomes 0x4E.
It performs the last 2 bytes added to boundary adjustment of IdxLay, do you should not be with the 0x50 offset of MtrCol?
[2015-10-16_224705_.png](https://xentaxbackup.github.io/file/9862_2015-10-16_224705_.png)
## Post #1853
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2015-10-17T05:09:00+00:00
- Post Title: Re: Dead or Alive series formats and tools

I figured it out thanks everyone! it was 5U mod tools I needed :3
## Post #1854
- Username: bbbmods
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Aug 21, 2015 10:40 am
- Post datetime: 2015-10-17T20:52:38+00:00
- Post Title: Re: Dead or Alive series formats and tools

@sf234-

would it be an easy thing to implement the ability to change costume slot numbers of official dlc for dlc tool so we can organize them in specific orders?
## Post #1855
- Username: cnm123
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Sun Oct 18, 2015 9:14 am
- Post datetime: 2015-10-18T01:36:15+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hello ,everyone.
I 'm a newer of this forum.
I wish someone would help me.
## Post #1856
- Username: syasuker
- Rank: beginner
- Number of posts: 24
- Joined date: Sun May 17, 2015 12:49 pm
- Post datetime: 2015-10-18T03:36:57+00:00
- Post Title: Re: Dead or Alive series formats and tools

[https://userscloud.com/njdgcvrin1sm](https://userscloud.com/njdgcvrin1sm)

lnk_reshuffle-v3_1.04.rar

update 
leifang C4
hitomi C4
MILA_COS_002_v2
## Post #1857
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-10-18T22:48:53+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from bbbmods
>
> @sf234-

would it be an easy thing to implement the ability to change costume slot numbers of official dlc for dlc tool so we can organize them in specific orders?
> Reply from sf234
>
> As for deleting characters from existing DLC (also adding new characters, changing costume slot, etc) - maybe it will be implemented in future releases. The thing is that there is no easy way to do it. And I'm just lazy.
## Post #1858
- Username: bbbmods
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Aug 21, 2015 10:40 am
- Post datetime: 2015-10-18T23:47:53+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> bbbmods wrote:@sf234-

would it be an easy thing to implement the ability to change costume slot numbers of official dlc for dlc tool so we can organize them in specific orders?sf234 wrote:As for deleting characters from existing DLC (also adding new characters, changing costume slot, etc) - maybe it will be implemented in future releases. The thing is that there is no easy way to do it. And I'm just lazy.

whoops, missed that part sorry
## Post #1859
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-10-19T01:09:52+00:00
- Post Title: Re: Dead or Alive series formats and tools

bbbmods
No problem. Also, there is column sorting (for "option where you alphabetizes the characters in the DLC").
## Post #1860
- Username: bbbmods
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Aug 21, 2015 10:40 am
- Post datetime: 2015-10-19T04:08:38+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> bbbmods
No problem. Also, there is column sorting (for "option where you alphabetizes the characters in the DLC").

ah, didn't realize the new dlc tool had that option, thanks  didn't know you visit zetaboards
## Post #1861
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-10-19T04:39:33+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Protocol

Basically, the tool I made is rip off of yours,
there are two main reasons I made it.
First one is, you can see clothing or, tail or some sort of physics simulations is completely getting wrecked with only 2 bone sync.
I didn't check every cases, try your tool with Helena's cat woman costume. (with the tail)
You will see a crazy dancing of the tail.
When I synced GblMtx additionally, I could see tail is stabled and it's shaking just normally.

Second, a japanese modder made a tool for importing tmc(not a tmcmesh) to blender.
And it shows bones shapes, too.( even if we can't edit it.)
But his tools shows the bones based on the GblMtx not based on BnofsMtx or Hielay.
So I made another version which can go with it.
you know, I used your tool for my mods and it shows always Lisa's bone with his script in blender, whatever the character is. Because it didn't handled GblMtx.

I hope that I didn't violate copyright  .
That's all
## Post #1862
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-10-19T05:41:28+00:00
- Post Title: Re: Dead or Alive series formats and tools

Does anyone know how to handle ACSCLS part?

I want to inject hair collision options without intterupting other clothing simulation stuffs. you know, short haired character like lisa or tina doesn't have hair collision features in their TMC file. So hairs pass through the body when I give it to long haired characters.

I was able to replace entire ACSCLS part with other character with long hair, and that made hair collisions working but, it might have killed other physics stuffs.
I hope to know just how to add it.
## Post #1863
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-10-19T13:17:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from abcdefh
>
> 
Example:
AYANE_DLCU_001
targetObjGeo = 1
targetObjGeoMesh = 1

In this case.
Offset of MtrCol after IdxLay becomes 0x4E.
It performs the last 2 bytes added to boundary adjustment of IdxLay, do you should not be with the 0x50 offset of MtrCol?

Even though MtrCol does not appear at position 0x0 the TMC still points to MtrCol properly, so the game still functions correctly.  I have not seen this break the game yet, so it is something that is a priority for me to fix yet.  

> Reply from Rosalin
>
> @Protocol

Basically, the tool I made is rip off of yours,
there are two main reasons I made it.
First one is, you can see clothing or, tail or some sort of physics simulations is completely getting wrecked with only 2 bone sync.
I didn't check every cases, try your tool with Helena's cat woman costume. (with the tail)
You will see a crazy dancing of the tail.
When I synced GblMtx additionally, I could see tail is stabled and it's shaking just normally.

Second, a japanese modder made a tool for importing tmc(not a tmcmesh) to blender.
And it shows bones shapes, too.( even if we can't edit it.)
But his tools shows the bones based on the GblMtx not based on BnofsMtx or Hielay.
So I made another version which can go with it.
you know, I used your tool for my mods and it shows always Lisa's bone with his script in blender, whatever the character is. Because it didn't handled GblMtx.

I hope that I didn't violate copyright  .
That's all

> Reply from Rosalin
>
> Does anyone know how to handle ACSCLS part?

I want to inject hair collision options without intterupting other clothing simulation stuffs. you know, short haired character like lisa or tina doesn't have hair collision features in their TMC file. So hairs pass through the body when I give it to long haired characters.

I was able to replace entire ACSCLS part with other character with long hair, and that made hair collisions working but, it might have killed other physics stuffs.
I hope to know just how to add it.
Ok, nice. I didn't realize that GlblMtx needed to be updated.  I can look into that after finishing current projects, but it won't be for a while.  I have no problem that you used my code.  If I were concerned, I would not have made it available.  

I do not know anything about the ACSCLS... yet... But collectively it seems like we're getting close to understanding most of what the TMC does.  I have to finish rebuilding some of my code for my current project which will treat the TMC like a class.  This will help access sections of the TMC better for reading and writing.  At least this way once we know how the ACSCLS does work it may make it easier to manipulate. 

***

In other news, I got the Xbox injector working and tested, but so far only for DOA5 core costume files work.  Demo & NG files don't work because the file structure is slightly altered and my noob hack-ish methods aren't restructed well.  This prompted to re-write the TMC class better which will help solve this problem AND help with the process of inserting items for GeoDecl, NodeLay, anything needed to add an object.  So I'm basically treating everything like a structure somewhat similar to the unfinished approach that mariokart had with the initial PC stuff.  I should have an update for the MeshInjector soon.

@bbb this means I'm finally getting close to automatically pulling over the NG Ayane costume(s).    Although, I'll still need to handle bone insertion and stuff to make it truly accurate which will still take a bit.  If I do figure that out though at least we could get some animations working on those missing costumes.
## Post #1864
- Username: cnm123
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Sun Oct 18, 2015 9:14 am
- Post datetime: 2015-10-19T23:17:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

If anyone know how to transfer a XPS model into doa5lr mod-file?
## Post #1865
- Username: bbbmods
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Aug 21, 2015 10:40 am
- Post datetime: 2015-10-20T04:57:26+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> abcdefh wrote:
Example:
AYANE_DLCU_001
targetObjGeo = 1
targetObjGeoMesh = 1

In this case.
Offset of MtrCol after IdxLay becomes 0x4E.
It performs the last 2 bytes added to boundary adjustment of IdxLay, do you should not be with the 0x50 offset of MtrCol?

Even though MtrCol does not appear at position 0x0 the TMC still points to MtrCol properly, so the game still functions correctly.  I have not seen this break the game yet, so it is something that is a priority for me to fix yet.  
Rosalin wrote:@Protocol

Basically, the tool I made is rip off of yours,
there are two main reasons I made it.
First one is, you can see clothing or, tail or some sort of physics simulations is completely getting wrecked with only 2 bone sync.
I didn't check every cases, try your tool with Helena's cat woman costume. (with the tail)
You will see a crazy dancing of the tail.
When I synced GblMtx additionally, I could see tail is stabled and it's shaking just normally.

Second, a japanese modder made a tool for importing tmc(not a tmcmesh) to blender.
And it shows bones shapes, too.( even if we can't edit it.)
But his tools shows the bones based on the GblMtx not based on BnofsMtx or Hielay.
So I made another version which can go with it.
you know, I used your tool for my mods and it shows always Lisa's bone with his script in blender, whatever the character is. Because it didn't handled GblMtx.

I hope that I didn't violate copyright  .
That's all
Rosalin wrote:Does anyone know how to handle ACSCLS part?

I want to inject hair collision options without intterupting other clothing simulation stuffs. you know, short haired character like lisa or tina doesn't have hair collision features in their TMC file. So hairs pass through the body when I give it to long haired characters.

I was able to replace entire ACSCLS part with other character with long hair, and that made hair collisions working but, it might have killed other physics stuffs.
I hope to know just how to add it.
Ok, nice. I didn't realize that GlblMtx needed to be updated.  I can look into that after finishing current projects, but it won't be for a while.  I have no problem that you used my code.  If I were concerned, I would not have made it available.  

I do not know anything about the ACSCLS... yet... But collectively it seems like we're getting close to understanding most of what the TMC does.  I have to finish rebuilding some of my code for my current project which will treat the TMC like a class.  This will help access sections of the TMC better for reading and writing.  At least this way once we know how the ACSCLS does work it may make it easier to manipulate. 

***

In other news, I got the Xbox injector working and tested, but so far only for DOA5 core costume files work.  Demo & NG files don't work because the file structure is slightly altered and my noob hack-ish methods aren't restructed well.  This prompted to re-write the TMC class better which will help solve this problem AND help with the process of inserting items for GeoDecl, NodeLay, anything needed to add an object.  So I'm basically treating everything like a structure somewhat similar to the unfinished approach that mariokart had with the initial PC stuff.  I should have an update for the MeshInjector soon.

@bbb this means I'm finally getting close to automatically pulling over the NG Ayane costume(s).    Although, I'll still need to handle bone insertion and stuff to make it truly accurate which will still take a bit.  If I do figure that out though at least we could get some animations working on those missing costumes.

That's great news  Curious though, if you get the ng costume automatically converted, will you be able to enable the stuff that isn't in ninja gaiden like the sweat and dirt effects to be in the costume too? also when I was converting the tropical sailor kasumi, I had to use an original doa skin since her NG skin had a different UV/texture, so to keep the sweat, I needed to use doa skin. so I'm guessing the same will need to be done here, or paint the sweat/normal/dirt according to the NG skin UV
## Post #1866
- Username: Follardo
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Sat Jul 18, 2015 10:01 pm
- Post datetime: 2015-10-20T11:06:39+00:00
- Post Title: Re: Dead or Alive series formats and tools

I have this "Archive Tool" issue when I try to open the Halloween DLC 443350 after installing several costume mods. If I want to swap another costume, I have to start to swap costumes in the default DLC. What does the error message?



Costume mods I installed before are my own mods you can download from here:

[http://www.loverslab.com/topic/45578-do ... ap/page-28](http://www.loverslab.com/topic/45578-doa5lf-dead-or-alive-5-last-fap/page-28)
## Post #1867
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-10-20T11:59:10+00:00
- Post Title: Re: Dead or Alive series formats and tools

Follardo
This happens when the first file in the archive is swapped. Archive file stays normal (non-corrupt), just Archive Tool can't read it anymore.
It's already fixed in the next version which hopefully will be released in the next few days.
## Post #1868
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-10-20T12:29:57+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from bbbmods
>
> 
That's great news  Curious though, if you get the ng costume automatically converted, will you be able to enable the stuff that isn't in ninja gaiden like the sweat and dirt effects to be in the costume too? also when I was converting the tropical sailor kasumi, I had to use an original doa skin since her NG skin had a different UV/texture, so to keep the sweat, I needed to use doa skin. so I'm guessing the same will need to be done here, or paint the sweat/normal/dirt according to the NG skin UV

I'm not sure how those systems work for NG.  The NG containers have added stuff that DOA5 doesn't have like the blood and blur models. DOA has its blur models in separate containers.  DOA5 on Xbox had some issues trying to recognize those other blocks due to structure difference.  So, yep for now it's pretty much a matter of reusing DOA textures until more is know about the other containers.  The initial goal is just to get the vertices and indexes up and running first and then move on to some more advanced stuff from there.
## Post #1869
- Username: navmesh
- Rank: beginner
- Number of posts: 24
- Joined date: Mon Mar 12, 2012 10:04 am
- Post datetime: 2015-10-21T04:53:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

i update to 1.04 hotfixv3 from 1.02 (not 1.02A) (before update ,i use patch 1.02  reshuffle v3 by immi and DInput8.dll of 1.02)
it seems that lnk_reshuffle-v3_1.04 by sf234 not works with my old reshuflle config mod ( of dll 1.02 and lnk_reshuffle v3)
 it crash the game in character selection screen
The swap works fine ,if i delete all the old config and do the swap, it runs fine
## Post #1870
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-10-21T12:46:46+00:00
- Post Title: Re: Dead or Alive series formats and tools

navmesh
This incompatibility stems from the mod.config design, if you try to upgrade to 1.02A (and use original "LNK_ReShuffle v3")  you will face same problems.
Either do all your swaps again, or wait for the next version of Archive Tool.
## Post #1871
- Username: navmesh
- Rank: beginner
- Number of posts: 24
- Joined date: Mon Mar 12, 2012 10:04 am
- Post datetime: 2015-10-21T13:42:16+00:00
- Post Title: Re: Dead or Alive series formats and tools

@sf234 : Thank you, i see
## Post #1872
- Username: cnm123
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Sun Oct 18, 2015 9:14 am
- Post datetime: 2015-10-21T23:17:14+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Updated DLC Tool.
http://rghost.net/private/6cXpqKQrT/cd2 ... b7b527e49a

Added optional compression of files (thanks to immi  from FSD for bit flags information). Use it with caution.
"---C"/"--P" files now can be skipped (if they are not added built-in stubs will be used instead).
Hairstyles now limited to 8("H") per character/slot (9+ crashes the game).
dlc5lr.dat updated to match 1.04 version of the game (some entries are changed, so former version (and DLCs built with it) is not fully compatible with the current game version).
Thank you for the tool,but  i met an issue.
There's an endless loading in the game when i select slot 27 to paket a TMC file of KOKORO by using Dlc tool 1.0(not 0.9.1).What's wrong ?
## Post #1873
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-10-22T04:18:52+00:00
- Post Title: Re: Dead or Alive series formats and tools

Archive Tool 1.1:
[viewtopic.php?p=111428#p111428](http://forum.xentax.com/viewtopic.php?p=111428#p111428)

Changes:

"Swap" now works for any game archives. DLC variant of this function uses old-school method (writing at the end of archive and changing the header info), basic game files variant uses LNK_ReShuffle method (credit for this method goes to immi).
"Update DB" now rebuilds DB ("file5lr.dat") to match the source game.exe version. Apart from updating to the new versions this can be useful if you use an older version of the game. To make sure that DB matches your game.exe version run "Update DB" on it until you get "New information not found." message.
File flags in DB now stored in full format (e.g. "E0001E6E"). Meaning of the first two letters is described in the previous release post.
Additional categories were added to the "Show" filter. "Swaps" shows swapped entries, "Unknown" shows entries that are not in the DB (can be a sign that DB needs update), "Unused" shows entries that is not used by the current game version (either obsolete entries that was deleted with the game update (happened with 1.02A update), or newer entries that is not exist in the current game version (if DB was updated with the older version of the game)).
Background color for special entries: green for swapped entries, red for unknown entries, blue for unused entries.

More details about "Swap" function:
To swap the basic game files "dinput8.dll" must be present in the game folder (same as with LNK_ReShuffle).
File "mod_at.config" is created in the archive directory after swapping a file. It contains information about the swapped files that is used to identify them (for filtering or resetting changes). Additional "mod.config" file is created after swapping the basic game files (used by the "dinput8.dll").
If LNK_ReShuffle was already used with the game (files "dinput8.dll" and "mod.config" are already exists in the game folder) Archive Tool will automatically import all needed information after opening any archive. Note that after importing "mod.config" for the first time program doesn't read it anymore (only writes to it), so if you make some swaps with LNK_ReShuffle (instead of Archive Tool) you will need to delete "mod_at.config" (this will trigger importing routine).
"Reset" function from context menu cancels changes made by "Swap" function. Note that LNK_ReShuffle can have multiple entries pointing to single file name (Archive Tool uses unique file names for each entry) and resetting one of these entries will delete file that is used by other entries.
Game updates usually break changes that was made for the basic game files. If DB was updated to match the new game version, program should detect this and ask if config file should be updated too (upon opening any archive). If you choose "Cancel" to disable this check, file "dis_chk" will be created in the game directory. Delete this file if you want to re-enable config check.

Here is an example of the last point: [viewtopic.php?p=111333#p111333](http://forum.xentax.com/viewtopic.php?p=111333#p111333). Proper usage of Archive Tool in this situation will be: 1.) Use "Update DB" on the 1.02 version of the game.exe (since DB by default is matched to the 1.04 version). 2.) Open any archive in the game folder (this will trigger import of the "mod.config" contents into the "mod_at.config"). 3.) Use "Update DB" on the 1.04 version of the game.exe. 4.) Open any archive and choose "Yes" when program asks about updating config file.

cnm123
Kokoro's slot 27 is used in Wakaki Costume Set (403062). Try different slot, e.g. something within 31-39 range.
## Post #1874
- Username: Farphignougen
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Fri Oct 23, 2015 1:35 pm
- Post datetime: 2015-10-23T05:50:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Archive Tool 1.1:
[*]If LNK_ReShuffle was already used with the game (files "dinput8.dll" and "mod.config" are already exists in the game folder) Archive Tool will automatically import all needed information after opening any archive. Note that after importing "mod.config" for the first time program doesn't read it anymore (only writes to it), so if you make some swaps with LNK_ReShuffle (instead of Archive Tool) you will need to delete "mod_at.config" (this will trigger importing routine).

If I open, for instance, chara_common.bin with no mod_at.config present and a pre-existing mod.config from previous lnk_reshuffle usage, Archive Tool creates a mod_at file with size zero. Is it supposed to populate mod_at with the contents of the mod.config file it should be finding at this point? If I'm not misunderstanding what the program's supposed to be doing, this may be a bug.
## Post #1875
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-10-23T07:28:51+00:00
- Post Title: Re: Dead or Alive series formats and tools

Farphignougen
Yes, if existing "mod.config" is found in the target folder program should import its contents to the "mod_at.config".  Use any text editor and check contents of both of these files. If "mod.config" contains something and "mod_at.config" is empty try to delete "mod_at.config" and see if it will be empty after recreating.

bbbmods
Can you provide a sample of TMC/TMCL pair that doesn't work in Texture Tool after changing it with "TMC Polygon Tool"/"TMC Polygon Insert Tool"? I would be much obliged.
## Post #1876
- Username: Amaso
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Mon Jul 13, 2015 10:29 pm
- Post datetime: 2015-10-23T08:46:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

@sf234

For some reason I can't swap Leifang_Hair_004 using Archive tool v1.1, I had this issue also with lnk_reshuffle .
To be more precise I swap it but no change occurs in-game .

Can you please look into it ?
## Post #1877
- Username: Farphignougen
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Fri Oct 23, 2015 1:35 pm
- Post datetime: 2015-10-23T09:19:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Yes, if existing "mod.config" is found in the target folder program should import its contents to the "mod_at.config".  Use any text editor and check contents of both of these files. If "mod.config" contains something and "mod_at.config" is empty try to delete "mod_at.config" and see if it will be empty after recreating.

When I start Archive Tool with no "mod_at.config" present and open one of the content packs in the game's base directory (where "mod.config" is located), the resulting "mod_at" is empty. The log in the tool just says

> Info: Loading DB...
>
> Info: Opening archive...
>
> Warning: Parsing of "mod_at.config" resulted in an error. File will be overwritten.
>
> Info: Archive "chara_common" is successfully opened.

Also, if you use Archive Tool to swap a file and then revert that swap, it will overwrite "mod.config" with the current contents of "mod_at.config." Luckily, I had a backup copy.
[Properties.png](https://xentaxbackup.github.io/file/9904_Properties.png)
## Post #1878
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-10-23T09:50:43+00:00
- Post Title: Re: Dead or Alive series formats and tools

Farphignougen
If you don't mind send me your "mod.config".
==========
The problem is in leading zeros for file index value. I will update program to handle this.

> Reply from Farphignougen
>
> Also, if you use Archive Tool to swap a file and then revert that swap, it will overwrite "mod.config" with the current contents of "mod_at.config." Luckily, I had a backup copy.
> Reply from sf234
>
> Note that after importing "mod.config" for the first time program doesn't read it anymore (only writes to it)
Amaso
There is possibility that this hair have updated version somewhere in "patch*" files. Anyway, if program works for other files it's unlikely that this is program's bug.
==========
It's in "patch_02_catalog".
## Post #1879
- Username: Amaso
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Mon Jul 13, 2015 10:29 pm
- Post datetime: 2015-10-23T10:36:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> 
Amaso
There is possibility that this hair have updated version somewhere in "patch*" files. Anyway, if program works for other files it's unlikely that this is program's bug.
==========
It's in "patch_02_catalog".

Thanks ^_^ it worked .
## Post #1880
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-10-23T11:37:46+00:00
- Post Title: Re: Dead or Alive series formats and tools

Archive Tool 1.2:
[viewtopic.php?p=112146#p112146](http://forum.xentax.com/viewtopic.php?p=112146#p112146)

Fixed: problem with importing "mod.config" that contains indexes with leading zeros.
## Post #1881
- Username: bbbmods
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Aug 21, 2015 10:40 am
- Post datetime: 2015-10-24T03:59:55+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Farphignougen
Yes, if existing "mod.config" is found in the target folder program should import its contents to the "mod_at.config".  Use any text editor and check contents of both of these files. If "mod.config" contains something and "mod_at.config" is empty try to delete "mod_at.config" and see if it will be empty after recreating.

bbbmods
Can you provide a sample of TMC/TMCL pair that doesn't work in Texture Tool after changing it with "TMC Polygon Tool"/"TMC Polygon Insert Tool"? I would be much obliged.

I have been trying to recreate this issue with several costumes, but it seems to be always working now :/ perhaps this was solved with the newer versions of the texture tool. oldest version I have on my computer is 1.0, maybe it was a 0.9 issue. I'll try to look into this more
## Post #1882
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2015-10-25T04:16:33+00:00
- Post Title: Re: Dead or Alive series formats and tools

So many noob questions, so little time.

How do you guys and gals import Last Round tmc files (specifically mods) into 3ds max? the original one doesn't seem to work for me..



EDIT: I get this error "-- Unable to conver: undefined to type: Float"
## Post #1883
- Username: bbbmods
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Aug 21, 2015 10:40 am
- Post datetime: 2015-10-26T02:58:59+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Farphignougen
Yes, if existing "mod.config" is found in the target folder program should import its contents to the "mod_at.config".  Use any text editor and check contents of both of these files. If "mod.config" contains something and "mod_at.config" is empty try to delete "mod_at.config" and see if it will be empty after recreating.

bbbmods
Can you provide a sample of TMC/TMCL pair that doesn't work in Texture Tool after changing it with "TMC Polygon Tool"/"TMC Polygon Insert Tool"? I would be much obliged.

found one with Hitomi's face tmc. I included the edited face tmc that works in game, and the one with a new texture swapped to it that crashes the game. 

[http://www.mediafire.com/download/bzc98 ... p+error.7z](http://www.mediafire.com/download/bzc982xbb9b6m0b/texture+swap+error.7z)
## Post #1884
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-10-26T07:05:12+00:00
- Post Title: Re: Dead or Alive series formats and tools

Texture Tool 1.2:
[viewtopic.php?p=111744#p111744](http://forum.xentax.com/viewtopic.php?p=111744#p111744)

Changes:

Texture now can be extracted by drag-and-dropping.
Two different IDs now displayed for textures. "AbsID" (absolute) shows texture ID that is used in mesh properties ("TMCsuke" shows and allows to edit this ID (Tx1-Tx4)). "RelID" (relative) shows texture ID that indicates container ("M_" for TMC, "L_" for TMCL) and index of texture file inside it ("Noesis" shows this ID in textures/materials properties).
Textures now can be inserted in TMC/TMCL. "Add Textures" uses file dialog (allows select multiple files). "Add" inserts default texture (to swap it later).
"Move from TMC to TMCL" now doesn't save/reopen file automatically - to apply changes use "Save". Purpose of this function described in this and this posts.Note: if you have "Tao.DevIl.dll" (from last release) you can delete it.

bbbmods
Apparently "TMC Polygon Tool"/"TMC Polygon Insert Tool" version that was used on these files doesn't bother to write changed tmc size to the main header. This size is used in the Texture Tool for copying contents of the source file, hence the output file is corrupt. Looks like this was fixed: "TMC Polygon Tool 0.5.5"/"TMC Polygon Insert Tool 0.3.14" properly writes changed size (also they can't open "before" version).
## Post #1885
- Username: bbbmods
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Aug 21, 2015 10:40 am
- Post datetime: 2015-10-27T02:11:17+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Texture Tool 1.2:
https://www.mediafire.com/folder/ec6hz31s15fof/5LRTools

Changes:

Texture now can be extracted by drag-and-dropping.
Two different IDs now displayed for textures. "AbsID" (absolute) shows texture ID that is used in mesh properties ("TMCsuke" shows and allows to edit this ID (Tx1-Tx4)). "RelID" (relative) shows texture ID that indicates container ("M_" for TMC, "L_" for TMCL) and index of texture file inside it ("Noesis" shows this ID in textures/materials properties).
Textures now can be inserted in TMC/TMCL. "Add Textures" uses file dialog (allows select multiple files). "Add" inserts default texture (to swap it later).
"Move from TMC to TMCL" now doesn't save/reopen file automatically - to apply changes use "Save". Purpose of this function described in this and this posts.Note: if you have "Tao.DevIl.dll" (from last release) you can delete it.

bbbmods
Apparently "TMC Polygon Tool"/"TMC Polygon Insert Tool" version that was used on these files doesn't bother to write changed tmc size to the main header. This size is used in the Texture Tool for copying contents of the source file, hence the output file is corrupt. Looks like this was fixed: "TMC Polygon Tool 0.5.5"/"TMC Polygon Insert Tool 0.3.14" properly writes changed size (also they can't open "before" version).

Ah, so it was a problem with the older versions. the face tmc files can only be opened in TMC Polygon Tool 0.5.1"/"TMC Polygon Insert Tool 0.2.1 and below
## Post #1886
- Username: syasuker
- Rank: beginner
- Number of posts: 24
- Joined date: Sun May 17, 2015 12:49 pm
- Post datetime: 2015-10-27T03:01:03+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Texture Tool 1.2:
https://www.mediafire.com/folder/ec6hz31s15fof/5LRTools

Changes:

Texture now can be extracted by drag-and-dropping.
Two different IDs now displayed for textures. "AbsID" (absolute) shows texture ID that is used in mesh properties ("TMCsuke" shows and allows to edit this ID (Tx1-Tx4)). "RelID" (relative) shows texture ID that indicates container ("M_" for TMC, "L_" for TMCL) and index of texture file inside it ("Noesis" shows this ID in textures/materials properties).
Textures now can be inserted in TMC/TMCL. "Add Textures" uses file dialog (allows select multiple files). "Add" inserts default texture (to swap it later).
"Move from TMC to TMCL" now doesn't save/reopen file automatically - to apply changes use "Save". Purpose of this function described in this and this posts.Note: if you have "Tao.DevIl.dll" (from last release) you can delete it.

bbbmods
Apparently "TMC Polygon Tool"/"TMC Polygon Insert Tool" version that was used on these files doesn't bother to write changed tmc size to the main header. This size is used in the Texture Tool for copying contents of the source file, hence the output file is corrupt. Looks like this was fixed: "TMC Polygon Tool 0.5.5"/"TMC Polygon Insert Tool 0.3.14" properly writes changed size (also they can't open "before" version).

Texture Tool_1.2.7z
[https://userscloud.com/bv21exty59k4](https://userscloud.com/bv21exty59k4)

I don't know whether you know this version.
Maybe can help you.
## Post #1887
- Username: bbbmods
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Aug 21, 2015 10:40 am
- Post datetime: 2015-10-27T04:38:46+00:00
- Post Title: Re: Dead or Alive series formats and tools

@sf234-

I have noticed an issue with adding additional textures and costumes that use --H files. when adding a new texture, it all works well in noesis, but in game, it uses the underwear texture, and also changes underwear texture when detail is changed. when additional textures is set to 1 in dlc tool, it then uses the proper texture. this was done with kokoro's tifa looking costume. don't know if its all --H costumes, or just hers that has this issue.
## Post #1888
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-10-27T05:37:21+00:00
- Post Title: Re: Dead or Alive series formats and tools

syasuker
Actually I know about this version which originated here: [http://nasu.bbspink.com/test/read.cgi/p ... 803453/351](http://nasu.bbspink.com/test/read.cgi/pinkcafe/1439803453/351). It have similar functionality for adding textures to TMC/TMCL and also allows delete textures (which I didn't implement since it makes little practical sense). Code for saving TMC/TMCL is completely different from my version. I didn't bother to read it completely -  it's complicated and uses different concept.
On a side note, it would be good practice to rename the fork version. Like Doutoku/道徳 did when he added "日本語版" to the title of his DLC Tool fork.

bbbmods
Not sure if I understand correctly, but if you talk specifically about textures that have an alternative version in H/HL, it would be normal behaviour. Usually TMC/TMCL contains low-res version for these and hi-res version (which is used in game) is stored in those H/HL files. Whole mechanism that decides which texture can have alternative version is still unknown (at least as far as I know).
## Post #1889
- Username: bbbmods
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Aug 21, 2015 10:40 am
- Post datetime: 2015-10-27T06:11:53+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> syasuker
Actually I know about this version which originated here: http://nasu.bbspink.com/test/read.cgi/p ... 803453/351. It have similar functionality for adding textures to TMC/TMCL and also allows delete textures (which I didn't implement since it makes little practical sense). Code for saving TMC/TMCL is completely different from my version. I didn't bother to read it completely -  it's complicated and uses different concept.
On a side note, it would be good practice to rename the fork version. Like Doutoku/道徳 did when he added "日本語版" to the title of his DLC Tool fork.

bbbmods
Not sure if I understand correctly, but if you talk specifically about textures that have an alternative version in H/HL, it would be normal behaviour. Usually TMC/TMCL contains low-res version for these and hi-res version (which is used in game) is stored in those H/HL files. Whole mechanism that decides which texture can have alternative version is still unknown (at least as far as I know).

I mean, in texture tool, I add new texture slots (not replacing existing ones). then with tmcsuke, I reassign a mesh to use the new texture slots I added. in noesis, they are fine, but if --H files are enabled, the game uses the underwear texture from the --H files for some reason, but if I don't enable --H files, it uses the new texture slots like its supposed to.
## Post #1890
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-10-27T12:07:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

bbbmods
Well, it's still about the alternative textures mechanism (which is unknown).
## Post #1891
- Username: abcdefh
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Tue Dec 28, 2010 11:22 pm
- Post datetime: 2015-10-27T15:36:21+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> 
Actually I know about this version which originated here: http://nasu.bbspink.com/test/read.cgi/p ... 803453/351. It have similar functionality for adding textures to TMC/TMCL and also allows delete textures (which I didn't implement since it makes little practical sense). Code for saving TMC/TMCL is completely different from my version. I didn't bother to read it completely -  it's complicated and uses different concept.
On a side note, it would be good practice to rename the fork version. Like Doutoku/道徳 did when he added "日本語版" to the title of his DLC Tool fork.
I'm sorry in automatic translation.
It is the thing which created the texture tool.
Sorry would be arbitrarily raise the version.
That here was modification I want to be specified properly.
## Post #1892
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-10-28T04:49:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

abcdefh
No problem.
## Post #1893
- Username: cnm123
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Sun Oct 18, 2015 9:14 am
- Post datetime: 2015-10-28T08:57:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Archive Tool 1.1:
viewtopic.php?p=111428#p111428

cnm123
Kokoro's slot 27 is used in Wakaki Costume Set (403062). Try different slot, e.g. something within 31-39 range.

 To be precise I removed all the others DLC from doa5lr before copying my own dlc 

pakage to the folder ,and then crashed with an endless loading.It only happens 

with the version 1.0 of DLC tool.
## Post #1894
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-10-28T10:55:00+00:00
- Post Title: Re: Dead or Alive series formats and tools

cnm123
If it works with DLC Tool 0.9.1 then, most likely, your game is not updated to the version 1.04.

> Reply from sf234
>
> Updated DLC Tool.

dlc5lr.dat updated to match 1.04 version of the game
> Reply from sf234
>
> If you want to stay on 1.02 then just use old dlc5lr.dat.
## Post #1895
- Username: arch3r
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Mon Sep 21, 2015 2:49 pm
- Post datetime: 2015-10-29T19:06:02+00:00
- Post Title: Re: Dead or Alive series formats and tools

i have no idea why tecmo not set the hairstyle and glass to be random when we select random costume or random character at character selection screen
when i choose "random" (random character or random costume) at character selection screen, it seems that the hairstyle is always the first hairstyle which we set in DLC tool
i have no idea how to make the hair appears random,except this method :setting different  hairstyle in the first hairslot (dlc tool)
for example the hairstyle available for character are 1,2,3,4,5 , i set in dlc tool
slot 22 : hair 1,2,3,4,5 
slot 23 : hair 2,1,3,4,5
slot 24 : hair 3,2,1,4,5
and so on
but it will cause messy and it takes more time to select the hairstyle that we want in game 

please tell me if you know any other way to set hairstyle to random
Thanks
## Post #1896
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-10-30T14:42:28+00:00
- Post Title: Re: Dead or Alive series formats and tools

Texture Tool 1.3:
[https://www.mediafire.com/folder/ec6hz31s15fof/5LRTools](https://www.mediafire.com/folder/ec6hz31s15fof/5LRTools)

Changes:

TNF/TNFL files now can be opened.
TMC files changed with old versions of "TMC Polygon Tool (/Insert Tool)" now should be saved correctly.
Textures now can be inserted in H/HL files.

Costumes that have additional textures (H/HL files) require additional steps to work properly after adding textures:

Open H file in a hex editor and look at the offset 0x34. Here should be offset of the textures table (stored in little-endian format). Navigate to this offset, or just scroll down until you see bunch of "FF"'s.
Each four bytes in this table refers to the texture in the TMC file. First four bytes sets the texture with "AbsID" 0, second four bytes sets the texture with "AbsID" 1, etc. "FF FF FF FF" means that texture doesn't have alternatives in this H/HL file. A number refers to the "AbsID" of alternative texture inside the H/HL file.
If texture was added to the TMC file then all of H files needs to be edited. Set "FF FF FF FF" for the added texture or alternative texture with "AbsID" 0 will be used instead.
If texture was added to the H file then don't forget to change target texture's bytes from "FF FF FF FF" to the "AbsID" of the added texture.
Illustration: [http://www.mediafire.com/view/07os7rzjh6jafi8/h.png](http://www.mediafire.com/view/07os7rzjh6jafi8/h.png). In this example new skin texture ("AbsID" 20) was added in the AYANE_COS_002.TMC, also new alternative texture for the dress ("AbsID 3") was added in the AYANE_COS_002_001.--H.
Note that only female characters can have alternative textures. Also, preview at the character selection screen doesn't show changes for the selected "Detail" (H/HL file).

arch3r
If this wasn't implemented in the game's code it's unlikely that we can do anything at all. Theoretically, memory editing can help (e.g. with "Cheat Engine").
## Post #1897
- Username: bryciekai
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Mon Jul 06, 2015 4:41 am
- Post datetime: 2015-10-30T15:41:51+00:00
- Post Title: Re: Dead or Alive series formats and tools

can somebody reply with links to most of the tools. Im especially looking for mot files, and any other filetypes for doa that you guys can find.
## Post #1898
- Username: Amaso
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Mon Jul 13, 2015 10:29 pm
- Post datetime: 2015-10-30T16:24:29+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Texture Tool 1.3:
https://www.mediafire.com/folder/ec6hz31s15fof/5LRTools

Changes:

TNF/TNFL files now can be opened.
TMC files changed with old versions of "TMC Polygon Tool (/Insert Tool)" now should be saved correctly.
Textures now can be inserted in H/HL files.

Costumes that have additional textures (H/HL files) require additional steps to work properly after adding textures:

Open H file in a hex editor and look at the offset 0x34. Here should be offset of the textures table (stored in little-endian format). Navigate to this offset, or just scroll down until you see bunch of "FF"'s.
Each four bytes in this table refers to the texture in the TMC file. First four bytes sets the texture with "AbsID" 0, second four bytes sets the texture with "AbsID" 1, etc. "FF FF FF FF" means that texture doesn't have alternatives in this H/HL file. A number refers to the "AbsID" of alternative texture inside the H/HL file.
If texture was added to the TMC file then all of H files needs to be edited. Set "FF FF FF FF" for the added texture or alternative texture with "AbsID" 0 will be used instead.
If texture was added to the H file then don't forget to change target texture's bytes from "FF FF FF FF" to the "AbsID" of the added texture.
Illustration: http://www.mediafire.com/view/07os7rzjh6jafi8/h.png. In this example new skin texture ("AbsID" 20) was added in the AYANE_COS_002.TMC, also new alternative texture for the dress ("AbsID 3") was added in the AYANE_COS_002_001.--H.
Note that only female characters can have alternative textures. Also, preview at the character selection screen doesn't show changes for the selected "Detail" (H/HL file).

arch3r
If this wasn't implemented in the game's code it's unlikely that we can do anything at all. Theoretically, memory editing can help (e.g. with "Cheat Engine").

Although It can open TNF/TNFL files, 
They can only be opened through Drag & Drop
## Post #1899
- Username: bbbmods
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Aug 21, 2015 10:40 am
- Post datetime: 2015-10-31T05:13:31+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Texture Tool 1.3:
https://www.mediafire.com/folder/ec6hz31s15fof/5LRTools

Changes:

TNF/TNFL files now can be opened.
TMC files changed with old versions of "TMC Polygon Tool (/Insert Tool)" now should be saved correctly.
Textures now can be inserted in H/HL files.

Costumes that have additional textures (H/HL files) require additional steps to work properly after adding textures:

Open H file in a hex editor and look at the offset 0x34. Here should be offset of the textures table (stored in little-endian format). Navigate to this offset, or just scroll down until you see bunch of "FF"'s.
Each four bytes in this table refers to the texture in the TMC file. First four bytes sets the texture with "AbsID" 0, second four bytes sets the texture with "AbsID" 1, etc. "FF FF FF FF" means that texture doesn't have alternatives in this H/HL file. A number refers to the "AbsID" of alternative texture inside the H/HL file.
If texture was added to the TMC file then all of H files needs to be edited. Set "FF FF FF FF" for the added texture or alternative texture with "AbsID" 0 will be used instead.
If texture was added to the H file then don't forget to change target texture's bytes from "FF FF FF FF" to the "AbsID" of the added texture.
Illustration: http://www.mediafire.com/view/07os7rzjh6jafi8/h.png. In this example new skin texture ("AbsID" 20) was added in the AYANE_COS_002.TMC, also new alternative texture for the dress ("AbsID 3") was added in the AYANE_COS_002_001.--H.
Note that only female characters can have alternative textures. Also, preview at the character selection screen doesn't show changes for the selected "Detail" (H/HL file).

arch3r
If this wasn't implemented in the game's code it's unlikely that we can do anything at all. Theoretically, memory editing can help (e.g. with "Cheat Engine").

Thanks for the update  what are tnf/tnfl files btw? don't recall coming across those files before.
## Post #1900
- Username: Amaso
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Mon Jul 13, 2015 10:29 pm
- Post datetime: 2015-10-31T06:27:15+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from bbbmods
>
> sf234 wrote:Texture Tool 1.3:
https://www.mediafire.com/folder/ec6hz31s15fof/5LRTools

Changes:

TNF/TNFL files now can be opened.
TMC files changed with old versions of "TMC Polygon Tool (/Insert Tool)" now should be saved correctly.
Textures now can be inserted in H/HL files.

Costumes that have additional textures (H/HL files) require additional steps to work properly after adding textures:

Open H file in a hex editor and look at the offset 0x34. Here should be offset of the textures table (stored in little-endian format). Navigate to this offset, or just scroll down until you see bunch of "FF"'s.
Each four bytes in this table refers to the texture in the TMC file. First four bytes sets the texture with "AbsID" 0, second four bytes sets the texture with "AbsID" 1, etc. "FF FF FF FF" means that texture doesn't have alternatives in this H/HL file. A number refers to the "AbsID" of alternative texture inside the H/HL file.
If texture was added to the TMC file then all of H files needs to be edited. Set "FF FF FF FF" for the added texture or alternative texture with "AbsID" 0 will be used instead.
If texture was added to the H file then don't forget to change target texture's bytes from "FF FF FF FF" to the "AbsID" of the added texture.
Illustration: http://www.mediafire.com/view/07os7rzjh6jafi8/h.png. In this example new skin texture ("AbsID" 20) was added in the AYANE_COS_002.TMC, also new alternative texture for the dress ("AbsID 3") was added in the AYANE_COS_002_001.--H.
Note that only female characters can have alternative textures. Also, preview at the character selection screen doesn't show changes for the selected "Detail" (H/HL file).

arch3r
If this wasn't implemented in the game's code it's unlikely that we can do anything at all. Theoretically, memory editing can help (e.g. with "Cheat Engine").

Thanks for the update  what are tnf/tnfl files btw? don't recall coming across those files before.

You can say TNF/TNFL files are Font files 
They contain Textures for Characters (Letters and numbers) , they can be found in common.bin .

Also scn and spr files can be opened now 
I have no idea what the scn files are , but spr files contain things related to UI like words in the menus, backgrounds , etc .
## Post #1901
- Username: arch3r
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Mon Sep 21, 2015 2:49 pm
- Post datetime: 2015-10-31T14:29:00+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thank you very much sf234
## Post #1902
- Username: Amaso
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Mon Jul 13, 2015 10:29 pm
- Post datetime: 2015-10-31T16:03:49+00:00
- Post Title: Re: Dead or Alive series formats and tools

@sf234 
When I swap KASUMI_DLC_011 (The training suit)  nothing changes , I checked all the patch_xx_catalog.bin files but it's not there.
## Post #1903
- Username: bbbmods
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Aug 21, 2015 10:40 am
- Post datetime: 2015-11-01T03:29:04+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Amaso
>
> @sf234 
When I swap KASUMI_DLC_011 (The training suit)  nothing changes , I checked all the patch_xx_catalog.bin files but it's not there.

there are 2, one is the training dummy, one is the normal one. you might be swapping with the training dummy by mistake. try swapping kasumi COS_008 instead

@sf234-

just tested out the new texture tool, with the hex editing and it solves my previous issue, thanks 

@protocolx27 -

finally got around to using MeshReactorDual.py and managed to successfully duplicate a slot  but I seem to be having an issue. I can only manage to duplicate 1 slot from each group (example. MILA_DLCU_016.TMC had wgt_body_0 and 1, and WGT_shouts_0 and 1. I and able to create wgt_body_2 and wgt_shouts_2, but when creating wgt_body_3 and wgt_shouts_3, both noesis and in game crashes)

edit -

seems it was a problem with that particular costume. tried again with leifang_dlcu_001 and it did not have this problem. although that one had an issue with being unable to delete the cloned mesh, but this was easily solved by deleting the source mesh before cloning, then reinserting it back
## Post #1904
- Username: Amaso
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Mon Jul 13, 2015 10:29 pm
- Post datetime: 2015-11-01T14:09:01+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from bbbmods
>
> Amaso wrote:@sf234 
When I swap KASUMI_DLC_011 (The training suit)  nothing changes , I checked all the patch_xx_catalog.bin files but it's not there.

there are 2, one is the training dummy, one is the normal one. you might be swapping with the training dummy by mistake. try swapping kasumi COS_008 instead

Thank you , it works now.
Apparently KASUMI_DLC_011 is not used for anything...
## Post #1905
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-11-04T01:14:17+00:00
- Post Title: Re: Dead or Alive series formats and tools

Since it looks like jumping on the WPF bandwagon can take indefinite amount of time here's a partial update.
DLC Tool 1.1:
[https://www.mediafire.com/folder/ec6hz31s15fof/5LRTools](https://www.mediafire.com/folder/ec6hz31s15fof/5LRTools)

Changes:
"file5lr.dat" is now used as DB. It's same file that is used by Archive Tool. This allows to make DLC for different game versions (by using Archive Tool's "Update DB" function).
Compression now should be safe to use (enabled by default).
Note: if you have "Ionic.Zlib.dll" or "dlc5lr.dat" (from last release) you can delete it.
## Post #1906
- Username: Leifang
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Sat Aug 22, 2015 7:40 pm
- Post datetime: 2015-11-04T17:19:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

Here are some tools and things we still miss that would give us many more customization possibilities :

✗  A software like TMC Polygon Insert Tool, but that allows you either
to add as many WGT slots (e.g. WGT_body, WGT_body2, WGT_hair, WGT_hair_1…) as you like.
to transfer WGT slots from one .TMC file to another.
to merge .TMC files.

✗  A way to transfer missing weights to a .TMC file so that there are no more animation glitches.
It's possible thanks to Blender but TMC Polygon Insert Tool only replaces the missing one with MOT00_Hips.
This could be useful for scarves, jackets, accessories, long hairstyles…


✗  A way to transfer the shine of clothes or metals (piercing, glasses).


Will that ever be possible ?
## Post #1907
- Username: bbbmods
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Aug 21, 2015 10:40 am
- Post datetime: 2015-11-05T03:54:54+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Leifang
>
> Here are some tools and things we still miss that would give us many more customization possibilities :

✗  A software like TMC Polygon Insert Tool, but that allows you either
to add as many WGT slots (e.g. WGT_body, WGT_body2, WGT_hair, WGT_hair_1…) as you like.
to transfer WGT slots from one .TMC file to another.
to merge .TMC files.

✗  A way to transfer missing weights to a .TMC file so that there are no more animation glitches.
It's possible thanks to Blender but TMC Polygon Insert Tool only replaces the missing one with MOT00_Hips.
This could be useful for scarves, jackets, accessories, long hairstyles…


✗  A way to transfer the shine of clothes or metals (piercing, glasses).


Will that ever be possible ?

you can add more wgt slots with protocolx27s script

[http://www.mediafire.com/download/7bzma ... itV2.8.zip](http://www.mediafire.com/download/7bzmarabc0kgz3d/BodyShopToolkitV2.8.zip)
## Post #1908
- Username: Leifang
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Sat Aug 22, 2015 7:40 pm
- Post datetime: 2015-11-05T09:35:20+00:00
- Post Title: Re: Dead or Alive series formats and tools

WOW ! 
Thank you so much, this is awesome !   

How to install the .py files and how to use them ? Is the tool for Blender ?
## Post #1909
- Username: bbbmods
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Aug 21, 2015 10:40 am
- Post datetime: 2015-11-06T05:35:05+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Leifang
>
> WOW ! 
Thank you so much, this is awesome !   

How to install the .py files and how to use them ? Is the tool for Blender ?

1. put the tmc and tmcl into the bodyshop folder

2. open MeshReactorDual.py in notepad++

3.  in notepad type

targetFileName = 'your tmc file.TMC'

targetObjGeo = # (put the number of the mesh group, eg, you want to copy wgt_cap, and the order is wgt_body, wgt_cap< wgt_skirt. cap is the second, so put 2)
targetObjGeoMesh = # (put the number of the mesh with in the group. you want to copy wgt_cap_2, you will put the number 3, since the order is wgt_cap, wgt_cap_1, wgt_cap_2)

then save

4. right click MeshReactorDual.py and click open with. navigate to lnk_reshuffle-v3\python34\python.exe. then double click MeshReactorDual.py and you should have a new mesh slot.
## Post #1910
- Username: syasuker
- Rank: beginner
- Number of posts: 24
- Joined date: Sun May 17, 2015 12:49 pm
- Post datetime: 2015-11-07T09:14:26+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from bbbmods
>
> Leifang wrote:WOW ! 
Thank you so much, this is awesome !   

How to install the .py files and how to use them ? Is the tool for Blender ?

1. put the tmc and tmcl into the bodyshop folder

2. open MeshReactorDual.py in notepad++

3.  in notepad type

targetFileName = 'your tmc file.TMC'

targetObjGeo = # (put the number of the mesh group, eg, you want to copy wgt_cap, and the order is wgt_body, wgt_cap< wgt_skirt. cap is the second, so put 2)
targetObjGeoMesh = # (put the number of the mesh with in the group. you want to copy wgt_cap_2, you will put the number 3, since the order is wgt_cap, wgt_cap_1, wgt_cap_2)

then save

4. right click MeshReactorDual.py and click open with. navigate to lnk_reshuffle-v3\python34\python.exe. then double click MeshReactorDual.py and you should have a new mesh slot.

thanks a lot
Do you know the news about bone? about BodyShopToolkitV2.8?

sorry my poor english.
## Post #1911
- Username: bbbmods
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Aug 21, 2015 10:40 am
- Post datetime: 2015-11-08T21:16:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from syasuker
>
> bbbmods wrote:Leifang wrote:WOW ! 
Thank you so much, this is awesome !   

How to install the .py files and how to use them ? Is the tool for Blender ?

1. put the tmc and tmcl into the bodyshop folder

2. open MeshReactorDual.py in notepad++

3.  in notepad type

targetFileName = 'your tmc file.TMC'

targetObjGeo = # (put the number of the mesh group, eg, you want to copy wgt_cap, and the order is wgt_body, wgt_cap< wgt_skirt. cap is the second, so put 2)
targetObjGeoMesh = # (put the number of the mesh with in the group. you want to copy wgt_cap_2, you will put the number 3, since the order is wgt_cap, wgt_cap_1, wgt_cap_2)

then save

4. right click MeshReactorDual.py and click open with. navigate to lnk_reshuffle-v3\python34\python.exe. then double click MeshReactorDual.py and you should have a new mesh slot.

thanks a lot
Do you know the news about bone? about BodyShopToolkitV2.8?

sorry my poor english.

sorry, don't understand what you mean by "news about bone"
## Post #1912
- Username: Farphignougen
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Fri Oct 23, 2015 1:35 pm
- Post datetime: 2015-11-09T09:50:15+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Since it looks like jumping on the WPF bandwagon can take indefinite amount of time here's a partial update.
DLC Tool 1.1:
https://www.mediafire.com/folder/ec6hz31s15fof/5LRTools

Changes:
"file5lr.dat" is now used as DB. It's same file that is used by Archive Tool. This allows to make DLC for different game versions (by using Archive Tool's "Update DB" function).
Compression now should be safe to use (enabled by default).
Note: if you have "Ionic.Zlib.dll" or "dlc5lr.dat" (from last release) you can delete it.

I think the compression algorithm isn't as safe as you thought. With compression on, having a costume saved in Alpha-152 slot 19 (ALPHA152_DLCU_020) causes a crash when selecting one of the Kokoro costumes from DLC pack 358142. I'm not sure what slot number it is, but it's the blue bikini with the hand print design, KOKORO_DLC_010.

This occurs in game version 1.02a, with the file5lr.dat file created when that version's game.exe was fed to Archive Tool.
## Post #1913
- Username: navmesh
- Rank: beginner
- Number of posts: 24
- Joined date: Mon Mar 12, 2012 10:04 am
- Post datetime: 2015-11-09T10:09:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Farphignougen
>
> 

I think the compression algorithm isn't as safe as you thought. With compression on, having a costume saved in Alpha-152 slot 19 (ALPHA152_DLCU_020) causes a crash when selecting one of the Kokoro costumes from DLC pack 358142. I'm not sure what slot number it is, but it's the blue bikini with the hand print design, KOKORO_DLC_010.

This occurs in game version 1.02a, with the file5lr.dat file created when that version's game.exe was fed to Archive Tool.
does it crash with compression off ?
## Post #1914
- Username: Farphignougen
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Fri Oct 23, 2015 1:35 pm
- Post datetime: 2015-11-09T10:45:39+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from navmesh
>
> Farphignougen wrote:

I think the compression algorithm isn't as safe as you thought. With compression on, having a costume saved in Alpha-152 slot 19 (ALPHA152_DLCU_020) causes a crash when selecting one of the Kokoro costumes from DLC pack 358142. I'm not sure what slot number it is, but it's the blue bikini with the hand print design, KOKORO_DLC_010.

This occurs in game version 1.02a, with the file5lr.dat file created when that version's game.exe was fed to Archive Tool.
does it crash with compression off ?
It works properly with compression off.
## Post #1915
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-11-09T15:40:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Farphignougen
>
> I think the compression algorithm isn't as safe as you thought. With compression on, having a costume saved in Alpha-152 slot 19 (ALPHA152_DLCU_020) causes a crash when selecting one of the Kokoro costumes from DLC pack 358142. I'm not sure what slot number it is, but it's the blue bikini with the hand print design, KOKORO_DLC_010.

This occurs in game version 1.02a, with the file5lr.dat file created when that version's game.exe was fed to Archive Tool.Well, I tested this and get same result. The problem is in the "358142.blp". In the game DB "ALPHA152_DLCU_020.TMC" have "E0001A3F" flags and "KOKORO_DLC_010.TMC" have "E0001A49" flags. In the "358142.blp" KOKORO_DLC_010.TMC have "E0001A3F" flags. Unless I don't know something, if we ever get a new official DLC with costume for Alpha-152 in this slot it will break another official DLC (358142) in the same way.
I guess I'll just disable compression completely in the next release.
Also, Archive Tool doesn't properly updates DB from 1.04 to 1.02a.
## Post #1916
- Username: Farphignougen
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Fri Oct 23, 2015 1:35 pm
- Post datetime: 2015-11-09T19:27:55+00:00
- Post Title: Re: Dead or Alive series formats and tools

I wouldn't say this warrants disabling compression entirely. I can just not use that Alpha-152 slot, and the compression option cuts the final DLC size in half.
## Post #1917
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-11-10T22:45:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

Archive Tool 1.2.1:
[https://www.mediafire.com/folder/ec6hz31s15fof/5LRTools](https://www.mediafire.com/folder/ec6hz31s15fof/5LRTools)

"Update DB" function now should support updating DB in case of updating from the game version "1.04"  to "1.02A".
Also, DLC Tool recieved small update that disables compression by default.

Farphignougen
It's not issue with the single costume slot, here's overlapping list (I didn't check all files in the "358142" DLC, only those that have "_DLC_" name):
Alpha-152 [16] -> TINA_DLC_010
Alpha-152 [17] -> KASUMI_DLC_010
Alpha-152 [18] -> HELENA_DLC_010
Alpha-152 [19] -> KOKORO_DLC_010
Alpha-152 [20] -> LEIFANG_DLC_010
Now, there is no guarantee that other DLCs don't have similar issues or that future updates won't bring new issues. Hence, compression will always be unsafe. For now it will be just disabled by default (like before).

> Reply from Amaso
>
> Although It can open TNF/TNFL files, 
They can only be opened through Drag & DropYes, I forgot to change the dialog properties.
## Post #1918
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-11-11T21:16:47+00:00
- Post Title: Re: Dead or Alive series formats and tools

@All, thanks for keeping the progress moving forward.

@bbb, Thanks for answering the questions about the scripts.   I also saw your question about the Mila costume.  Have you been able to work through all other instances? I know there are some meshes that don't cooperate, but they are usually few.  Has it been an issue with raw containers or those that have already been edited through Blender/TMC insertion?  I've had almost no issue with raw containers, so far.

***
I apologize for delays on my previous promise, I wasn't expecting my next update to take a few weeks.  I got slammed to the point I could only work on stuff a few minutes a night and then starting having issues getting each format of injection working.  Fix one thing, break another, that kind of stuff, but I've at least been consistently working on stuff when I can. I do have a single working script now that allows Xbox > PC, and I've tested with Standard, a Demo and a NG format.  So far so good.  I'm going to do a bit more testing and verify my notes THEN I should be set.

***
With all the flurry of tools and links, what's the latest tool / process for inserting texture slots into a container.  It's likely that I'll need to use one in the process of converting some of the NG containers if they have more textures.  I know I saw one a long time ago, but thought I'd check for recent one first, Thanks!
## Post #1919
- Username: navmesh
- Rank: beginner
- Number of posts: 24
- Joined date: Mon Mar 12, 2012 10:04 am
- Post datetime: 2015-11-12T00:12:30+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> @All, thanks for keeping the progress moving forward.
With all the flurry of tools and links, what's the latest tool / process for inserting texture slots into a container.  It's likely that I'll need to use one in the process of converting some of the NG containers if they have more textures.  I know I saw one a long time ago, but thought I'd check for recent one first, Thanks!

Thank you Protocol, here is the latest texture tool by sf234, we can insert texture slot through add/move command 

> Reply from sf234
>
> Texture Tool 1.3:
https://www.mediafire.com/folder/ec6hz31s15fof/5LRTools

Changes:

TNF/TNFL files now can be opened.
TMC files changed with old versions of "TMC Polygon Tool (/Insert Tool)" now should be saved correctly.
Textures now can be inserted in H/HL files.

Costumes that have additional textures (H/HL files) require additional steps to work properly after adding textures:

Open H file in a hex editor and look at the offset 0x34. Here should be offset of the textures table (stored in little-endian format). Navigate to this offset, or just scroll down until you see bunch of "FF"'s.
Each four bytes in this table refers to the texture in the TMC file. First four bytes sets the texture with "AbsID" 0, second four bytes sets the texture with "AbsID" 1, etc. "FF FF FF FF" means that texture doesn't have alternatives in this H/HL file. A number refers to the "AbsID" of alternative texture inside the H/HL file.
If texture was added to the TMC file then all of H files needs to be edited. Set "FF FF FF FF" for the added texture or alternative texture with "AbsID" 0 will be used instead.
If texture was added to the H file then don't forget to change target texture's bytes from "FF FF FF FF" to the "AbsID" of the added texture.
Illustration: http://www.mediafire.com/view/07os7rzjh6jafi8/h.png. In this example new skin texture ("AbsID" 20) was added in the AYANE_COS_002.TMC, also new alternative texture for the dress ("AbsID 3") was added in the AYANE_COS_002_001.--H.
Note that only female characters can have alternative textures. Also, preview at the character selection screen doesn't show changes for the selected "Detail" (H/HL file).
## Post #1920
- Username: bbbmods
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Aug 21, 2015 10:40 am
- Post datetime: 2015-11-12T07:12:44+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> 
@bbb, Thanks for answering the questions about the scripts.   I also saw your question about the Mila costume.  Have you been able to work through all other instances? I know there are some meshes that don't cooperate, but they are usually few.  Has it been an issue with raw containers or those that have already been edited through Blender/TMC insertion?  I've had almost no issue with raw containers, so far.

I haven't tried the other instances, I only tested it with 2 from both object groups. the tmc was modded with texture swapping and a minor blender edit to increase the nail length, but that wasn't the instance I attempted to copy though. although the 2 extra slots I was able to create for that tmc was enough for me since I combined a few objects.
## Post #1921
- Username: Farphignougen
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Fri Oct 23, 2015 1:35 pm
- Post datetime: 2015-11-13T10:11:38+00:00
- Post Title: Re: Dead or Alive series formats and tools

After I grabbed that updated DLC Tool, it doesn't start for me anymore. I don't even get to the user permission prompt, and I wind up with three "DLC Tool.exe" processes in the Task Manager that can't be killed in Windows 7. Is it just me, or has anyone else had this happen?
## Post #1922
- Username: hulkspidey
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Thu Aug 20, 2015 10:16 am
- Post datetime: 2015-11-14T06:09:47+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Farphignougen
>
> After I grabbed that updated DLC Tool, it doesn't start for me anymore. I don't even get to the user permission prompt, and I wind up with three "DLC Tool.exe" processes in the Task Manager that can't be killed in Windows 7. Is it just me, or has anyone else had this happen?
I got the same issue but not all the time. Same case with the latest Archive Tool as well.
## Post #1923
- Username: Farphignougen
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Fri Oct 23, 2015 1:35 pm
- Post datetime: 2015-11-14T06:46:47+00:00
- Post Title: Re: Dead or Alive series formats and tools

Archive Tool 1.2 works properly for me, but the updated DLC Tool 1.1 has never started.
## Post #1924
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-11-14T20:40:00+00:00
- Post Title: Re: Dead or Alive series formats and tools

DLC Tool 1.1.2:
[https://www.mediafire.com/folder/ec6hz31s15fof/5LRTools](https://www.mediafire.com/folder/ec6hz31s15fof/5LRTools)

Changes:
Since version 1.1 of DLC Tool if new DLC wasn't saved completely its target folder will be automatically deleted with all contents. This was implemented to prevent game from crashing (which happens when it tries to load incomplete DLC files). Such approach is rather unsafe - as was pointed out in bbspink's discussion. From now only ".bcm" file will be automatically deleted, which should be enough to prevent the game from crashing.
Farphignougen,  hulkspidey
I can't replicate this. Tested on Win7 x64 with .NET 4.5.2 under user account and on WinXP SP3 with .NET 4 Client Profile in VirtualBox. Everything works fine.
The only major change that was made between these releases is that old ones was compiled with the Visual Studio 2010 SP1 and latest ones is compiled with the Visual Studio 2013 Update 5.
## Post #1925
- Username: hulkspidey
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Thu Aug 20, 2015 10:16 am
- Post datetime: 2015-11-15T16:45:38+00:00
- Post Title: Re: Dead or Alive series formats and tools

@sf234

Don't know why, but both Archive Tool and DLC Tool work fine now, no more stuck during launching. And it's same too for DLC Tool v1.1.2. Thank you.
## Post #1926
- Username: Farphignougen
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Fri Oct 23, 2015 1:35 pm
- Post datetime: 2015-11-16T05:36:26+00:00
- Post Title: Re: Dead or Alive series formats and tools

I get the same result, but it's most likely something on my end, and version 1.0 works just fine.
## Post #1927
- Username: Mimoji
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Fri Feb 18, 2011 8:07 am
- Post datetime: 2015-11-17T12:25:52+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hi
I was soo busy in the last days.
so I was not see a new posts here.
I have a small problem!

in DOA5U, I downloaded the game for X360 and using Xbox Backup Creator to extract (lnk and bin), and extract (tmc tmcl).
About DLC, I was download Jtag files and extract (bin, lnk) from it.

But now, I'm confused. I want to extract (bin, lnk) from DOA5LR, but I don't know how.
And what are programs should I use to do it. Also for DLC, whare can I download it to extract (bin, lnk)

I have seen many people ported DOA5LR DLC costumes!!

Can anyone help me please.
## Post #1928
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-11-17T16:11:13+00:00
- Post Title: Re: Dead or Alive series formats and tools

Updated fil5lr.dat and costume slots info:
[https://www.mediafire.com/folder/ec6hz31s15fof/5LRTools](https://www.mediafire.com/folder/ec6hz31s15fof/5LRTools)

Farphignougen
You can check if there is something in Application/System event logs with Event Viewer.

hulkspidey
I didn't made any changes, so your problem can reappear any time I guess. It's quite strange in the first place that program works sometimes.

Mimoji
If you mean xbox's 5LR, use [doa5Uarchivarius18](http://forum.xentax.com/viewtopic.php?f=16&t=6392&p=98718#p98718) with this [doa5Uarchivarius.dat](http://forum.xentax.com/viewtopic.php?f=16&t=6392&p=104652#p104652). Note, that it doesn't support few latest DLCs.
## Post #1929
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2015-11-17T20:45:08+00:00
- Post Title: Re: Dead or Alive series formats and tools

BodyShop Toolkit Update

[http://www.mediafire.com/download/6w34s ... itV3.0.zip](http://www.mediafire.com/download/6w34s3l90atw6t2/BodyShopToolkitV3.0.zip)

What's New:
OptionReactor: Built this a while back per request, it will add an item in the nodecp and add a toggle-able option.  This doesn't fully help add new ObjGeo blocks or automatically make the item optional, BUT if a costume already has an ObjGeo that you want to toggle, you can point it to the new option added by this util.  I'll have to explain better later.

MeshInjectorAdvanced replaces MeshInjectorDual:  I've done a few tests and it 'seems' stable.  It can now inject xbox/demo/ng meshes into PC. I had to do some extra rebuilding, but if you find issues please let me know.  I get less time to fully test / mod these days.

Misc: Added DataBlock, TMC, TMCUtility files.  I apologize for the surplus files right now.  My coding methods are improving, but I don't have the time to completely clean everything up.  I've updated some stuff to pave the way for ObjGeo injection, so some of these will help with that and made the Xbox > PC happen.

***

@sf234 Thanks for the update.  Good timing because I didn't know what the new method was without using the BLP Converter.  XD

@Mimoji If you're trying to get the core game files you may need to use a 360 utility to get the ISO, if you're only working with the DLC files then you can use an app like Horizon.  I've heard LeFluffie works similar as well.
## Post #1930
- Username: hulkspidey
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Thu Aug 20, 2015 10:16 am
- Post datetime: 2015-11-18T02:05:00+00:00
- Post Title: Re: Dead or Alive series formats and tools

@sf234
I notice in recent version of Archive Tool you don't include the file "dinput8.dll" anymore, does it mean that we don't need it anymore or you simply forget to include the file?

EDIT: Nvm about this, as immi has released his lnk_reshuffle-v4.
## Post #1931
- Username: Cghde
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Thu Nov 19, 2015 5:41 pm
- Post datetime: 2015-11-19T09:50:32+00:00
- Post Title: Re: Dead or Alive series formats and tools

Just a nice topic [etui protection samsung galaxy a3](http://www.coquegsm.com/category-accessoires-samsung-galaxy-a3-17.html) [housse galaxy a3](http://www.coquegsm.com/category-accessoires-samsung-galaxy-a3-17.html)
## Post #1932
- Username: navmesh
- Rank: beginner
- Number of posts: 24
- Joined date: Mon Mar 12, 2012 10:04 am
- Post datetime: 2015-11-30T04:24:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

Doutoku's tmc object tool [https://www.mediafire.com/folder/9zi2gt8dyllaj/doa5mod](https://www.mediafire.com/folder/9zi2gt8dyllaj/doa5mod) can toggle object groups to be hidden/visible ,but it can't toggle a specific object

> For example all objects with the name WGT_Body_xx will be toggleable , but you can't make only WGT_Body_01 toggleable

 Is it possible to add/clone an object group (like Protocol X27's tool which allow us to clone meshslot to TMC) and inject the meshslot -that we want to make it toggleable- into that group, so that we can toggle any mesh we want ?
## Post #1933
- Username: navmesh
- Rank: beginner
- Number of posts: 24
- Joined date: Mon Mar 12, 2012 10:04 am
- Post datetime: 2015-12-06T10:28:49+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from sf234
>
> Texture Tool 1.3:
https://www.mediafire.com/folder/ec6hz31s15fof/5LRTools

Changes:

Textures now can be inserted in H/HL files.

  I have a problem when swapping texture in .--H files ,the texture i use to swap is the texture i extract from that .--H file  itself 
(CHRISTIE_COS_003_001.--H)

Thanks
## Post #1934
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2015-12-17T01:57:02+00:00
- Post Title: Re: Dead or Alive series formats and tools

Updated costume slots info:
[https://www.mediafire.com/folder/ec6hz31s15fof/5LRTools](https://www.mediafire.com/folder/ec6hz31s15fof/5LRTools)

Protocol X27
BLP Converter is already deprecated.

hulkspidey
I just forgot to add dlls.
They are now included, together with updated file5lr.dat.

navmesh
I'll look into this, although don't know when.
## Post #1935
- Username: navmesh
- Rank: beginner
- Number of posts: 24
- Joined date: Mon Mar 12, 2012 10:04 am
- Post datetime: 2015-12-18T02:40:34+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thank you very much sf234
## Post #1936
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-12-29T11:29:12+00:00
- Post Title: Re: Dead or Alive series formats and tools

It seems 403351 has some another sort of encryption.

any solutions? I can't see the TMC.
## Post #1937
- Username: navmesh
- Rank: beginner
- Number of posts: 24
- Joined date: Mon Mar 12, 2012 10:04 am
- Post datetime: 2015-12-29T17:49:50+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Rosalin
>
> It seems 403351 has some another sort of encryption.

any solutions? I can't see the TMC.
i use archive tool latest version and it works fine with me
## Post #1938
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2015-12-31T13:23:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

@navmesh

Oh, thank you :):):):):)
## Post #1939
- Username: navmesh
- Rank: beginner
- Number of posts: 24
- Joined date: Mon Mar 12, 2012 10:04 am
- Post datetime: 2015-12-31T15:09:09+00:00
- Post Title: Re: Dead or Alive series formats and tools

@rosalin : you are welcome  
and happy new year
## Post #1940
- Username: bbbmods
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Aug 21, 2015 10:40 am
- Post datetime: 2016-01-23T20:39:43+00:00
- Post Title: Re: Dead or Alive series formats and tools

Any way of extracting the new dlc? I have a tengu to de-wing.

EDIT- nvm, lnk_reshuffle can do it
## Post #1941
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2016-01-24T18:01:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from bbbmods
>
> Any way of extracting the new dlc? I have a tengu to de-wing.

EDIT- nvm, lnk_reshuffle can do it

What's the scoop on lnk_reshuffle?  I'm not sure how to do so using that.  I think I have 4.2.7...
## Post #1942
- Username: bbbmods
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Aug 21, 2015 10:40 am
- Post datetime: 2016-01-24T19:32:27+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> bbbmods wrote:Any way of extracting the new dlc? I have a tengu to de-wing.

EDIT- nvm, lnk_reshuffle can do it

What's the scoop on lnk_reshuffle?  I'm not sure how to do so using that.  I think I have 4.2.7...

lnk_reshuffle is on 4.4 now which supports the latest update.

features it includes.

-adding new hairstyles/faces without sacrificing an existing one.
-swap an existing file in game, dlc and non dlc.
-enables the ability to see the detail toggle in the select screen.
-option to enable glasses on costumes that have them disabled, or on characters that don't have them at all.
-any change done in lnk_reshuffle can be reverted to default with a click.

here is the latest version

[http://w11.zetaboards.com/SFxT_Mods/topic/11420722/1/](http://w11.zetaboards.com/SFxT_Mods/topic/11420722/1/)

here is a guide to adding new hairstyles/faces

[http://www.freestepdodge.com/threads/pc ... ost-288333](http://www.freestepdodge.com/threads/pc-modding-tutorials.5818/#post-288333)

for dlc swapping, the post says you need to do a trick, but you don't need to. to swap dlc, you just have to do it the same way as adding a new hair by replacing it with an obsolote before swapping.

also, I'm not sure if you are aware, but your MeshReactorDual feature has been included in tmc object tool. just have to right click the mesh and choose add. it will automatically duplicate it and makes it empty.

[http://www.mediafire.com/download/78y07 ... 0.12.0.zip](http://www.mediafire.com/download/78y07nzn2bdn4bs/TMC+Object+Tool+0.12.0.zip)
## Post #1943
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2016-01-24T20:55:22+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks, bbb!

Good to know about the mesh reactor includes.  I think tool creator's have surpassed my knowledge by far, so it's actually a good thing that I can free up time for other projects I'm working on.  After about 3 years straight of doa modding, I'm due for a small break, lol.  I'm working on some porting projects in the mean time which is indirectly related anyway to getting some models to put into the game.  After those are done hopefully I can get back to looking into skeleton inserts... that is unless that's already been done too XD (edit: gee, looks like it has XD, guess I should spend more time on sfxt)

Edit:
I'm missing one thing, I tried to extract the new stuff, but it doesn't seem to recognize the new pack.  Is there are reference file that needs to be updated like with older apps?
## Post #1944
- Username: bbbmods
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Aug 21, 2015 10:40 am
- Post datetime: 2016-01-24T22:24:25+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Thanks, bbb!

Good to know about the mesh reactor includes.  I think tool creator's have surpassed my knowledge by far, so it's actually a good thing that I can free up time for other projects I'm working on.  After about 3 years straight of doa modding, I'm due for a small break, lol.  I'm working on some porting projects in the mean time which is indirectly related anyway to getting some models to put into the game.  After those are done hopefully I can get back to looking into skeleton inserts... that is unless that's already been done too XD (edit: gee, looks like it has XD, guess I should spend more time on sfxt)

Edit:
I'm missing one thing, I tried to extract the new stuff, but it doesn't seem to recognize the new pack.  Is there are reference file that needs to be updated like with older apps?

in lnk_reshuffle 4.4, just click on the file, then click extract



it should show up in the out folder in the lnk_reshuffle folder.

did you install the latest doa patch 1.4.4 hotfix? or did you copy the new dinput8.dll in the game folder?
## Post #1945
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2016-01-24T23:36:28+00:00
- Post Title: Re: Dead or Alive series formats and tools

Mine would not let me extract, and it is likely because I don't have the hot fix.  It hasn't been updated since hotfix 3.  I tried lookin on sfxt, but didn't know which thread I was lookin for.
## Post #1946
- Username: bbbmods
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Aug 21, 2015 10:40 am
- Post datetime: 2016-01-24T23:52:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Mine would not let me extract, and it is likely because I don't have the hot fix.  It hasn't been updated since hotfix 3.  I tried lookin on sfxt, but didn't know which thread I was lookin for.
[http://w11.zetaboards.com/SFxT_Mods/top ... 94/32/#new](http://w11.zetaboards.com/SFxT_Mods/topic/11172794/32/#new)
## Post #1947
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2016-01-25T00:41:48+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks, that did it.  Modding sure is easier on PC, but keeping up with apps & updates is a pain compared to the Xbox days, lol.  Back then it was just get the DLC and wait for someone to post the Title Update XD
## Post #1948
- Username: weetold
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Sat Dec 05, 2015 9:30 pm
- Post datetime: 2016-02-13T02:06:28+00:00
- Post Title: Re: Dead or Alive series formats and tools

Anyone still have the tools for extractors Dead or Alive 4, or Xtreme 2 models?
## Post #1949
- Username: SleepySea
- Rank: n00b
- Number of posts: 18
- Joined date: Sun Apr 26, 2015 12:01 am
- Post datetime: 2016-02-15T08:05:54+00:00
- Post Title: Re: Dead or Alive series formats and tools

How's everyone doing?  

I recently got interested in DOA5 modding again after a long hiatus and made a character transformer tool out of curiosity that turned into a few days of coding frenzy.   I've finally made it work pretty well, and it seems to be in a relatively stable state to be used as a fun tool or supplement in modding.

Here's the link to my post with instructions and stuff: [http://www.loverslab.com/topic/50997-do ... ?p=1460252](http://www.loverslab.com/topic/50997-doa5lr-timmys-private-stash-tips-tools-updated-021416-transformer-v017-converter-v040/?p=1460252)
or (if it is down, which happens quite often )
[https://www.undertow.club/threads/doa5l ... ost-115749](https://www.undertow.club/threads/doa5lr-timmys-private-stash-tips-tools-02-14-16-transformer-0-1-7-converter-0-4-0.3239/page-4#post-115749)

It basically allows one to take any female's costume and transform it to fit any other female body type with a few clicks.   I've made it so that it has very good performance with a simple user interface that is easy to understand and use.  Please let me know if you have any questions.  I have pretty detailed instructions and update logs in the link above.

I've also updated my OBJ converter to deal with "rotated" (transformed) objects.  It can now accurately show where objects should be, and it can put all the changes back in after editing it in an editor like 3ds max without having to reset their transformation matrices.  I figured there must still be a few people who prefer doing things in 3ds max, and this tool of mine could find a niche market 

my converter can be found here [http://www.loverslab.com/topic/50997-do ... ?p=1346825](http://www.loverslab.com/topic/50997-doa5lr-timmys-private-stash-tips-tools-updated-021416-transformer-v017-converter-v040/?p=1346825)
or
[https://www.undertow.club/threads/doa5l ... ost-114712](https://www.undertow.club/threads/doa5lr-timmys-private-stash-tips-tools-02-14-16-transformer-0-1-7-converter-0-4-0.3239/page-2#post-114712)

I've added a section called "TMC post processing" which includes functionality to recalculate normal vectors (if they are broken for some reason), smooth seams (that is the same as the current version to remove seams/gaps on models) and now it can automatically fix neck vertices for you after using the recompute normal vectors to remove neck seam.    The recompute normal vector functionality calculates normal vectors while taking into account neighboring triangles to achieve the same kind of smoothness you see in things like 3ds max.  Please let me know if you have any questions.
## Post #1950
- Username: TeridaxXD001
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sun Jun 28, 2015 12:12 am
- Post datetime: 2016-02-18T06:27:35+00:00
- Post Title: Re: Dead or Alive series formats and tools

I'm interested in the DOA2 Arcade/Dreamcast models, if anyone can take a look at those.
## Post #1951
- Username: syasuker
- Rank: beginner
- Number of posts: 24
- Joined date: Sun May 17, 2015 12:49 pm
- Post datetime: 2016-02-19T13:20:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from SleepySea
>
> How's everyone doing?  

I recently got interested in DOA5 modding again after a long hiatus and made a character transformer tool out of curiosity that turned into a few days of coding frenzy.   I've finally made it work pretty well, and it seems to be in a relatively stable state to be used as a fun tool or supplement in modding.

Here's the link to my post with instructions and stuff: http://www.loverslab.com/topic/50997-do ... ?p=1460252
or (if it is down, which happens quite often )
https://www.undertow.club/threads/doa5l ... ost-115749

It basically allows one to take any female's costume and transform it to fit any other female body type with a few clicks.   I've made it so that it has very good performance with a simple user interface that is easy to understand and use.  Please let me know if you have any questions.  I have pretty detailed instructions and update logs in the link above.

I've also updated my OBJ converter to deal with "rotated" (transformed) objects.  It can now accurately show where objects should be, and it can put all the changes back in after editing it in an editor like 3ds max without having to reset their transformation matrices.  I figured there must still be a few people who prefer doing things in 3ds max, and this tool of mine could find a niche market 

my converter can be found here http://www.loverslab.com/topic/50997-do ... ?p=1346825
or
https://www.undertow.club/threads/doa5l ... ost-114712

I've added a section called "TMC post processing" which includes functionality to recalculate normal vectors (if they are broken for some reason), smooth seams (that is the same as the current version to remove seams/gaps on models) and now it can automatically fix neck vertices for you after using the recompute normal vectors to remove neck seam.    The recompute normal vector functionality calculates normal vectors while taking into account neighboring triangles to achieve the same kind of smoothness you see in things like 3ds max.  Please let me know if you have any questions.
  tim!
## Post #1952
- Username: MarieRose1301
- Rank: veteran
- Number of posts: 97
- Joined date: Sun Oct 12, 2014 5:29 am
- Post datetime: 2016-02-20T20:36:02+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hello does anyone have a link for valentines day dlc fro pc yet?
## Post #1953
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2016-02-22T00:58:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from MarieRose1301
>
> Hello does anyone have a link for valentines day dlc fro pc yet?

Here:

[http://w11.zetaboards.com/SFxT_Mods/topic/11172794/1/](http://w11.zetaboards.com/SFxT_Mods/topic/11172794/1/)
## Post #1954
- Username: zaykho
- Rank: mega-veteran
- Number of posts: 217
- Joined date: Fri Dec 03, 2010 8:20 pm
- Post datetime: 2016-02-22T10:19:26+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> MarieRose1301 wrote:Hello does anyone have a link for valentines day dlc fro pc yet?

Here:

http://w11.zetaboards.com/SFxT_Mods/topic/11172794/1/

Tagging that !
## Post #1955
- Username: MarieRose1301
- Rank: veteran
- Number of posts: 97
- Joined date: Sun Oct 12, 2014 5:29 am
- Post datetime: 2016-02-23T18:11:52+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> MarieRose1301 wrote:Hello does anyone have a link for valentines day dlc fro pc yet?

Here:

http://w11.zetaboards.com/SFxT_Mods/topic/11172794/1/

Thank you so much
I've got an other question though. Can Texture Tool extract textures with their real names instead of Lxx.dds?
## Post #1956
- Username: hulkspidey
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Thu Aug 20, 2015 10:16 am
- Post datetime: 2016-02-24T01:17:26+00:00
- Post Title: Re: Dead or Alive series formats and tools

@sf234:
The current Archive Tool 1.2.1 with the latest updated dat file (got from [here](http://www.mediafire.com/download/0a9eddrfijdvu3z/file5lr.7z)) seems can't open the Tatsunoko DLC pack correctly (nearly all files have pink color gibberish names), but all other DLC packs including the latest Valentine DLC can be open just fine.

Will you provide an update for the tool and the dat file?

Thank you.
## Post #1957
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2016-02-25T18:30:19+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from SleepySea
>
> How's everyone doing?  
I recently got interested in DOA5 modding again after a long hiatus and made a character transformer tool out of curiosity that turned into a few days of coding frenzy.   I've finally made it work pretty well, and it seems to be in a relatively stable state to be used as a fun tool or supplement in modding.

I know them feels, I definitely needed a couple months off.  Thankfully tool support has advanced to the point, I don't need to do much and focus on mods at least for the items I want to make still

> Reply from weetold
>
> Anyone still have the tools for extractors Dead or Alive 4, or Xtreme 2 models?

I know that AFSExplorer works for Xtreme 2, if you cannot find it let me know.  Noesis works fine for exporting .tpr's once you have them extracted from the afs.


I'm trying to get into some different stuff for mods.  This is probably best a question for @zaykho or @Darko or anyone who's more versed on the classic games.  I have the DOAX2 data I pulled from my 360, I can open  werone.afs and extract costumes & items fine, but it seems that the afs file only has about half of the costumes.  Does anyone know if I'm missing a file, or if AFSExplorer may not be reading it correctly?  Any solutions'd be helpful.  Thanks.
## Post #1958
- Username: zaykho
- Rank: mega-veteran
- Number of posts: 217
- Joined date: Fri Dec 03, 2010 8:20 pm
- Post datetime: 2016-02-26T15:40:51+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> 
weetold wrote:Anyone still have the tools for extractors Dead or Alive 4, or Xtreme 2 models?

I know that AFSExplorer works for Xtreme 2, if you cannot find it let me know.  Noesis works fine for exporting .tpr's once you have them extracted from the afs.


I'm trying to get into some different stuff for mods.  This is probably best a question for @zaykho or @Darko or anyone who's more versed on the classic games.  I have the DOAX2 data I pulled from my 360, I can open  werone.afs and extract costumes & items fine, but it seems that the afs file only has about half of the costumes.  Does anyone know if I'm missing a file, or if AFSExplorer may not be reading it correctly?  Any solutions'd be helpful.  Thanks.

If anyone want a tool related to the classic DOA, they can go into my signature (Mediafire folder).

For your case about DOAX2, I don't think it's a problem related to AFSExplorer, but more about other sub .afs that can contain more costumes.

I don't have DOAX2 near me, but more info would be great, how many costumes did you extracted ?
## Post #1959
- Username: ToonLink
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Sat Feb 27, 2016 9:19 am
- Post datetime: 2016-02-27T01:30:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

hi there,

-I'm new in moding but now i can use mods and put them in the game
but when i was searching for good mods i saw beautiful mods, i tried to put them in the
game but i didn't know how?!
- i found someone's account on mediafire contains mods which i was talking about
you can check it here: [https://www.mediafire.com/folder/h7gie9t2l198w/DOA5](https://www.mediafire.com/folder/h7gie9t2l198w/DOA5)

as you see the files are extracted  so what i want is to know how to use them with the easiest way
## Post #1960
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2016-02-27T02:21:29+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks, zaykho,   about half.  I'm missing a file from what I've gathered by doing some googling.  

Hi ToonLink, 
There's a couple of different solutions.  You can either use a tool called LNK Reshuffle which will replace files in the core game files, or you can use a DLC Tool to re package custom DLC files.  There are tutorials out there.  I've seen a fair matter of resources floating around either the SFxT mod site, or on a DOA site called FreeStepDodge.  You could take a gander around those for some more in depth info.
## Post #1961
- Username: ToonLink
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Sat Feb 27, 2016 9:19 am
- Post datetime: 2016-02-27T15:30:39+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> 

Hi ToonLink, 
There's a couple of different solutions.  You can either use a tool called LNK Reshuffle which will replace files in the core game files, or you can use a DLC Tool to re package custom DLC files.  There are tutorials out there.  I've seen a fair matter of resources floating around either the SFxT mod site, or on a DOA site called FreeStepDodge.  You could take a gander around those for some more in depth info.
i know this ways..but what i mean is the files are extracted like this
## Post #1962
- Username: SleepySea
- Rank: n00b
- Number of posts: 18
- Joined date: Sun Apr 26, 2015 12:01 am
- Post datetime: 2016-02-28T22:20:32+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> 
I know them feels, I definitely needed a couple months off.  Thankfully tool support has advanced to the point, I don't need to do much and focus on mods at least for the items I want to make still

Good to see you back!

I got into a bit of a coding frenzy and decided to update all of my tools to relatively bug free states, lol.      I know the existence of some bugs, and they have been bugging me for quite some time, but I never really bothered to fix them up until now.

I think my transformer is in a relatively stable state now
Here's the link to my post with instructions and stuff: [http://www.loverslab.com/topic/50997-do ... ?p=1460252](http://www.loverslab.com/topic/50997-doa5lr-timmys-private-stash-tips-tools-updated-022116-transformer-v022-converter-v040a-updated-giftwrap-set-for-nyohelena/?p=1460252)



My OBJ to TMC converter is now all fixed up to read vertex/index buffer from TMC instead of relying on what object info tells me, so this should get rid of most "starfish" problems during conversion, lol, and it now does a bit more than just converting to/fro TMC/OBJ.     The unreferenced vertices used to give my tool a hard time, but now all seems well again.

Also, my converter now has a group of post processing controls that allows the users to fix broken normal vectors and seams by recalculating normal vectors and smoothing seams.  I've also added another feature to correct vertices around neck rings (since recomputing normals kind of destroy these normals) so they can be used together to correct models that are otherwise broken. 

my converter can be found here [http://www.loverslab.com/topic/50997-do ... ?p=1346825](http://www.loverslab.com/topic/50997-doa5lr-timmys-private-stash-updated-101015/?p=1346825)
## Post #1963
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2016-03-04T02:19:56+00:00
- Post Title: Re: Dead or Alive series formats and tools

@SleepySea, nice job.  Sounds like those are handy.   Hopefully this doesn't come as a buzz kill unless that ends up being a more efficient method.  Do you use your tools in conjunction with Blender and/or the tmcmesh import/export method?  Some of the existing scripts / plugins may overlap some functionality.  Once I realized they surpassed my scripts it made me realize there were already some easier ways to do stuff.  

@ToonLink.  It looks like you have an XNALara model which is not a functioning mod.  You can use the XNALara model, but you still need a DOA costume and then manually have to replace parts in that costume with the parts from the XNALara model.  That is a much more in depth discussion.  It'd be easier to start with learning how to manipulate an existing costume and then work your way up to a full edit like that.

***
Well, out of pure convenience I got another Util written almost accidentally.  I was helping someone with some material questions while working on some stuff of my own.  Managed to write a material swapper within a couple of hours thanks to doing the groundwork correctly with some of my scripts last year.  Combined with information from TMC Object Tool, it's fairly easy to identify which materials to swap. Will pull values from Xbox containers as well.

MaterialSwapper: [http://www.mediafire.com/download/13dfc ... erV1.0.zip](http://www.mediafire.com/download/13dfce8pztdgc0i/MaterialSwapperV1.0.zip)

1) Place the scripts in the same folder as two costume containers
2) Edit Material Swapper in a python Editor such as IDLE.
3) Change the needed values for the costumes and values to swap
4) Press F5 to Run
## Post #1964
- Username: sf234
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Oct 28, 2014 1:32 am
- Post datetime: 2016-03-06T11:29:11+00:00
- Post Title: Re: Dead or Alive series formats and tools

Updated file5lr.dat:
[https://www.mediafire.com/folder/ec6hz31s15fof/5LRTools](https://www.mediafire.com/folder/ec6hz31s15fof/5LRTools)

Unless there will be some cardinal changes in game's db format anyone can update file5lr.dat like this:
1. Copy current file5lr.dat somewhere.
2. Use "Update DB" function in Archive Tool.
3. Compare updated file5lr.dat with its copy (I use notepad++ with compare plugin for this).
You'll see what was changed and which names should be copied to updated file.
Dunno how it will be with the release of new character though. Most likely I won't provide any future updates.
## Post #1965
- Username: SleepySea
- Rank: n00b
- Number of posts: 18
- Joined date: Sun Apr 26, 2015 12:01 am
- Post datetime: 2016-03-07T04:40:52+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> @SleepySea, nice job.  Sounds like those are handy.   Hopefully this doesn't come as a buzz kill unless that ends up being a more efficient method.  Do you use your tools in conjunction with Blender and/or the tmcmesh import/export method?  Some of the existing scripts / plugins may overlap some functionality.  Once I realized they surpassed my scripts it made me realize there were already some easier ways to do stuff.

Thanks for the new tool!  This will surely come in handy.

You are absolutely right that some of the functionalities of my converter tool are already outdated (have been for a while actually lol) as there is a very complete suite of tools/scripts to support Blender.  I started out learning 3ds max (I am by no means an expert at any of this stuff - just an amateur who knows how to write some simple code, lol) so the converter works perfectly there.     Like you, I made enhancements to my tools for the sake of completion and learning.  I don't really actively mod the game much anymore, but I do enjoy working on my tools and learning how things are done behind the scenes.  

Recently I added a new functionality that allows the entire TMC to be exported as one object complete with full support of normal vector management which I think can still come in handy.   I didn't think to implement this functionality until I discussed with Harry Palmer (who goes by a different name here ), and he encouraged me to add it in.  Now, thanks to him, I see the value in having the ability to edit an entire TMC as one OBJ file.  It is really quite convenient.  This was also a great opportunity for me to learn how to properly handle index and vertex buffers so that the entire TMC can be output as one OBJ.

I also fixed issues with "transformed/rotated" object handling found in v0.4.2.  I don't know much about Blender at all, but, based on my limited understanding, it's normal vector management is a bit lacking and a pain to make right in Blender.    My converter with its set of "TMC Post Processing" functionalities can be used to easily repair broken normal vectors, seams and stuff, so there might still be some use for it 

It's updated here [http://www.loverslab.com/topic/50997-do ... ?p=1346825](http://www.loverslab.com/topic/50997-doa5lr-timmys-private-stash-tips-tools-updated-031616-converter-v045-transformer-v025-updated-tutorial-texture-pack/?p=1346825)

A quick how to guide and what's new in this version [http://www.loverslab.com/topic/50997-do ... ?p=1490009](http://www.loverslab.com/topic/50997-doa5lr-timmys-private-stash-tips-tools-updated-030616-transformer-v024c-converter-v043-updated-lod-test-pack/?p=1490009)
## Post #1966
- Username: pram3010
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Tue Mar 08, 2016 2:34 pm
- Post datetime: 2016-03-14T06:06:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hi, thank for the wonderful post. i really very much fond of the game "Dead and Alive" i played almost all versions/updates & have referred this game a lot in my circle & we all are playing it very interestingly... actually, i just love the graphics & the missions i used to get done. can anyone help me to know the what is the basic minimum requirements for the game as few of my friends are not able to install & have fun.... Regards ([www.microburbs.com.au](http://www.microburbs.com.au))
## Post #1967
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2016-03-30T07:19:46+00:00
- Post Title: Re: Dead or Alive series formats and tools

Can someone update the dat file for the latest dlc of DOA5LR pc version pls??
## Post #1968
- Username: mralex
- Rank: n00b
- Number of posts: 13
- Joined date: Thu Jun 18, 2015 1:07 am
- Post datetime: 2016-04-18T00:06:44+00:00
- Post Title: Re: Dead or Alive series formats and tools

i found the voices ingame, but it has a XWS file extension (just like NG3, but are not the same)

here is a example

[https://www.youtube.com/watch?v=3hgZb86PHBs](https://www.youtube.com/watch?v=3hgZb86PHBs)

my question is, how can we extract those files?
## Post #1969
- Username: ganjul
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Nov 16, 2011 11:21 pm
- Post datetime: 2016-04-23T16:47:04+00:00
- Post Title: Re: Dead or Alive series formats and tools

Are b0ny's Blender importers gone? The links seem dead.
There's a mirror here but they seem old [https://sourceforge.net/projects/team-n ... rce=navbar](https://sourceforge.net/projects/team-ninja-tools/files/?source=navbar)
## Post #1970
- Username: gta1211
- Rank: beginner
- Number of posts: 24
- Joined date: Thu Apr 14, 2011 2:30 am
- Post datetime: 2016-05-23T19:57:33+00:00
- Post Title: Re: Dead or Alive series formats and tools

Any ETA for a DOAX3 support ?
## Post #1971
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2016-05-24T00:45:41+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from gta1211
>
> Any ETA for a DOAX3 support ?

There's no way to get PS4 files yet.
## Post #1972
- Username: gta1211
- Rank: beginner
- Number of posts: 24
- Joined date: Thu Apr 14, 2011 2:30 am
- Post datetime: 2016-05-24T14:52:31+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Darko
>
> There's no way to get PS4 files yet.

Damned ! I thought the PS4 game structure was already known. Projects will have to wait.

Thanks for the info !
## Post #1973
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2016-05-26T15:57:49+00:00
- Post Title: Re: Dead or Alive series formats and tools

Vita models are extractable.  

I was able to get a model imported into Blender using the TMC Importer, but there are some snags.  The Noesis script does not work, and even with what I figured out there are still some index issues similar to our old console starfish problems.  Something is misaligned with the indices.  



Here's what I know so far.  The vertex & index data blocks are now inside a .tmcm file, and it looks like that is all that is in there.  In order to make it function like the PC format I moved each of those blocks into the VtxLay & IdxLay respectively.  Local position offsets needed to be updated as well as the overall location offsets and file length of course.  That at least arrived at the above result.  My guess is one of two things.  Indices are altered either in the MdlGeo/ObjGeo and may need some tweaking or I still somehow screwed something up which is of course a possibility, but I did verify all of my address updates.

So if anyone more knowledgeable of the file from a structure standpoint has a chance to take a look at them, you might discover what I'm missing.
## Post #1974
- Username: raidergale
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sun Aug 15, 2010 12:52 am
- Post datetime: 2016-05-26T16:07:19+00:00
- Post Title: Re: Dead or Alive series formats and tools

[Here's](http://www.mediafire.com/download/hvya9ngy82kbfrk/NYO.rar) a sample if anybody wants to try their hand at it
## Post #1975
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2016-05-28T06:29:12+00:00
- Post Title: Re: Dead or Alive series formats and tools

That really is an amazing news.

Never imagined that it's possible to get doax3 data from whatever it is.

*******************

it is pretty much inevitable, but
it seems that vita version definitely got low-poly version of modeling

[https://i.imgur.com/EQCRoGf.jpg](https://i.imgur.com/EQCRoGf.jpg) 
I was looking forward to converting them.


*********************
It can be possible to use that .mpm motion data file in DOA5 PC.

doutoku figured out how to modify mpm file and now it is possible to import them in Blender through his tool.

But yet no one but doutoku tried that tool seriously.  

[https://i.imgur.com/toUhtbU.webm](https://i.imgur.com/toUhtbU.webm) this is his sample and there's nothing else
## Post #1976
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2016-05-29T16:42:23+00:00
- Post Title: Re: Dead or Alive series formats and tools

Yeah, it is a bummer that they are low poly, but it's better than nothing until we see the PS4 resources made available which I still suspect will be a while.  

Animation is a tough bit as it is, so perhaps it was too intimidating. I don't know anything about the motion data.  The only advantage I see out of the X3 stuff is to possibly simulate some of the soft engine animations or replacing the paradise stuff especially if his tool already allows free form animations.
## Post #1977
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2016-05-29T19:54:21+00:00
- Post Title: Re: Dead or Alive series formats and tools

Stupid question, is there a way to fix the pc archive extractor?? because it's no compatible with all the new pc dlc files.
## Post #1978
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2016-05-30T03:49:33+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Darko
if you are talking about this.
[http://www.mediafire.com/download/747ab ... 468190.txt](http://www.mediafire.com/download/747ab2nvkq8uuvl/468190.txt)


@Prot
Anyway, where can I get rest of others?
I got vita and doax3 but don't know how to extract it.
## Post #1979
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2016-05-30T14:45:24+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Rosalin
>
> @Darko
if you are talking about this.
http://www.mediafire.com/download/747ab ... 468190.txt


@Prot
Anyway, where can I get rest of others?
I got vita and doax3 but don't know how to extract it.

yep thanks, also can you make a dat for the new character dlc pls??
## Post #1980
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2016-05-30T14:50:20+00:00
- Post Title: Re: Dead or Alive series formats and tools

@Darko

I hope this works
[file5lr.7z](https://xentaxbackup.github.io/file/10985_file5lr.7z)
## Post #1981
- Username: wardialer6000
- Rank: n00b
- Number of posts: 11
- Joined date: Thu Jun 09, 2016 2:05 am
- Post datetime: 2016-07-03T04:57:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

if anyone managed to grab b0ny's 'anim try.7z' blender import script, i'd love to get a copy of it.  original link is dead.

thx
## Post #1982
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2016-09-14T05:20:49+00:00
- Post Title: Re: Dead or Alive series formats and tools

[http://www.xbox360iso.com/pc-general-ch ... dead+alive](http://www.xbox360iso.com/pc-general-chat/781256-doa5-round-pc-dlcs-mods-13-09-2016-a.html?highlight=dead+alive)

Mai, her Debut set, and the KoF costumes are here (ported from the 360 version I believe) I forgot how to update my stuff to port Mai myself though lol
## Post #1983
- Username: xperiagenerator
- Rank: n00b
- Number of posts: 14
- Joined date: Wed Dec 17, 2014 8:10 pm
- Post datetime: 2016-09-15T08:20:30+00:00
- Post Title: Re: Dead or Alive series formats and tools

please
can someone work on doax3 venus tmc files? i cant manage to view them on noesis either mod them
## Post #1984
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2016-09-29T14:19:01+00:00
- Post Title: Re: Dead or Alive series formats and tools

I've tried working on the x3 files a couple of times.  I actually did another test again today on a different costume hoping that maybe I overlooked something a few months ago. 

I ended up with the same 'starfish' like result with an Ayane costume when importing into Blender.  Noesis still cannot open the file due to the texture layout being different.  I suspect that the indices are different much like the difference between Xbox & PC, each index group may need to be processed individually.  Otherwise I don't know what to change and will have to defer to anyone else's expertise to make them useable.
## Post #1985
- Username: Espio
- Rank: n00b
- Number of posts: 18
- Joined date: Mon Jan 08, 2007 7:47 am
- Post datetime: 2016-10-05T22:56:44+00:00
- Post Title: Re: Dead or Alive series formats and tools

Is there any command line tool or BMS script to just decrypt/encrypt extracted files? Archive Tool is cool, but GUI is not always an option.
## Post #1986
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2016-10-10T20:08:54+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Espio
>
> Is there any command line tool or BMS script to just decrypt/encrypt extracted files? Archive Tool is cool, but GUI is not always an option.

I don't think there has been command line only since Xbox versions of 5/5U.  Mostly apps have been designed for user friendliness over speed.

LNK Reshuffle can extract from 5LR on PC, but it's still GUI based.  Might I ask what need there would be to batch dump all files at once?
## Post #1987
- Username: ryijun
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Wed Nov 16, 2016 12:30 pm
- Post datetime: 2016-11-23T05:01:43+00:00
- Post Title: Re: Dead or Alive series formats and tools

Good day to all. I am trying to unpack Ninja Gaiden Sigma 2 Plus ps vita. The files can be opened .spr? Texture tool 1.3 files will not open.
P.S. Unpacking files using the Archive tool.
[screen.JPG](https://xentaxbackup.github.io/file/11947_screen.JPG)
## Post #1988
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2017-01-09T00:38:30+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hey I'm writing a maxscript for DOA5LR on the PC

I'm just having problems understanding the MCAPACK, cpf and ACSCLS blocks, can anyone give me some pointers?

```
	(*.Tmc) File                                       	//	PC Version, Little Endian
		Header                                          	//	Bound Box, File Name, Block Info
		o	MdlGeo                                     	//	Defines a Model
				ObjGeo                                 	//	Meshes within the Model
					GeoDecl                           	//	Mesh Struct
						VERTEX_DEF                	//	Vertex Struct
					ObjMat                             //	Mesh Materials
						MatTex                        	//	Shader Info, including Texture Assignment
		o	TTDM                                       	//	Texture Data
				TTDH                                   	//	Texture Order
					INFO                                	//	Texture Info
				TTDL                                    	//	Texture Container Data (TMLC)
					SIZE                                 	//	Texture Sizes (TMLC)
					ADDRESS                          	//	Texture Locations (TMLC)
		o	VtxLay                                      	//	Vertex Data
				BUFFER                                	//	Vertex Buffer
		o	IdxLay                                     	//	Index Data
				BUFFER                                	//	Index Buffer
		o	MtrCol                                     	//	?	Material Data
				COLOURS                             	//	?	Material Colours
		o	MdlInfo                                     	//	Model Info
				ObjInfo                                 	//	Sub Mesh Bounding Boxes, and draw ordering
		o	HieLay                                     	//	Hierarchy Data
				Hie                                     	//	Node Linking Info
		o	LHeader                                   	//	Linked File
				TMCL_INFO                           	//	TMCL Hash
		o	NodeLay                                   	//	Node Names
				NodeObj                                	//	Node Properties
					BoneMap                           	//	Bone Indicies Used in Object
		o	GlblMtx                                     	//	Bone Transform Data 1
				WORLD_MATRIX                    	//	World/Global Matrices
		o	BnOfsMtx                                 	//	Bone Transform Data 2
				LOCAL_MATRIX                      	//	Relative/Local Matrices
		o	cpf                                          	//	?	Sweat Material ???
				nodecp                                 	//	?	
					customp                           	//	?	
				matecp                                 	//	?	
					itable                                	//	?	
					customp                            	//	?	
		o	MCAPACK                                	//	?	
				MCAINDEX                            	//	?	
				MCAMTRL                             	//	?	
					MCAPARAM                      	//	?	
		o	RENPACK                                 	//	?	
		o	ACSCLS                                 	//
				BLOCK01                              	//	Collision Boxes
				BLOCK02                              	//	?	Data is Dynamic????
				BLOCK03                              	//	?	Index Table
				BLOCK04                              	//	?	Index Table

```

Edit - Jan 18 2017
"MtrCol" Block
In the ObjGeo I edited the MtrCol index to 0 so that only the first MtrCol entry was indexed by each object.
I was then able to play around with the MtrCol block during runtime.

This is what I found so far, there just guesses though;

```
RGBA	Diffuse
RGB	Specular
A	Glossiness
RGBA	???
RGBA	???
RGBA	???
R	???
G	Glow1
B	Glow2
A	???
RGBA	??? Emissive
RGBA	??? Duplicates Previous, but doesnt do anything?
RGBA	??? Diffuse
RGBA	??? Specular
RGBA	???
RGBA	??? not floats?
```


One oddity is that they have more values there then I was hoping for, after the standard ambient, diffuse, spec, I get stuff which I have a hard time understanding. I'm just thinking that there is a mix of power and colour values for some custom shader they are using. However poking these values mostly does nothing, which is odd cause the game stores values there. The second strange thing is that I am applying these material values to all the objects but not all the objects look the same. 

For Example, the hands are red, as the shirt is white but will glow during game play.
I assume there may be more to discover in the ObjGeo and possibly MCAPACK block


Edit - Jan 19 2017
There is a 32bit uint that I thought controlled the shader type applied to the material.
So in the previous MtrCol experiment I changed this to a value that was assumed not use any textures.
However the strange artifacts I had are actually from the texture count and addresses I had left in the file.

My concern is that this shader hash code determines the values found in the MtrCol block :/ I'm hoping not...

For that matter the Shader Hash Codes I'm just collecting as I test from model to model.
It would be nice if someone could disassemble the exe, it would save me time documenting all this.

Anyway here is what i documented so far, it is based on visual understanding of the textures present in the material.
Keep in mind the texture count appears to be flexible, we can have less or more then a given shader needs.
...It's just crazy how many different shaders they have holy! just imagine all the material combinations you could have!

```
0x00880000	0	nothing				
0x10000000	1	Diffuse/Alpha				
0x10000010	1	Diffuse/Alpha				
0x10001000	1	Diffuse/Alpha				
0x10001000	1	Diffuse/Alpha				
0x10001010	1	Diffuse/Alpha				
0x10400000	1	Diffuse/Alpha				
0x10400010	1	Diffuse/Alpha				
0x10401000	1	Diffuse				
0x10426000	2	Diffuse	Reflection			
0x10426002	2	Diffuse	Reflection			
0x10427000	2	Diffuse	Reflection			
0x10800000	1	Diffuse				
0x10800010	1	Diffuse				
0x10810000	2	Diffuse	Reflection			
0x10826000	2	Diffuse	Reflection			
0x10826001	3	Diffuse	Specular	Reflection		
0x10880000	1	Diffuse				
0x10880010	1	Diffuse/Alpha				
0x10c00000	1	Diffuse/Alpha				
0x10c00800	2	Diffuse	Normal			
0x10c00810	2	Diffuse	Specular			
0x10c10000	2	Diffuse	Reflection			
0x10c80000	1	Diffuse				
0x10c80010	1	Diffuse/Alpha				
0x10c80800	2	Diffuse/Alpha	Diffuse?			
0x10c90000	2	Diffuse/Specular	Reflection			
0x145a6000	3	Diffuse/Alpha	Normal	Reflection		
0x145a7000	3	Diffuse/Alpha	Normal	Reflection		
0x14980000	2	Diffuse/Alpha	Normal			
0x14980010	2	Diffuse/Alpha	Normal			
0x14990000	3	Diffuse	Normal	Reflection		
0x14d80000	2	Diffuse	Normal			
0x14d80010	2	Diffuse/Alpha	Normal			
0x14d80800	3	???	???	???	// Used for the animating sweat, textures are all black	
0x14d80800	3	Diffuse	Normal	Specular		
0x14d80810	3	Diffuse/Alpha	Normal	Specualer/Mask?		
0x14d90000	3	Diffuse	Normal	Reflection		
0x14d90800	4	Diffuse	Normal	Specular	Reflection	
0x14da6800	4	Diffuse	Normal	Specular	Reflection	
0x14da6804	4	Diffuse	Normal	Specular	Reflection	
0x14da7800	4	Diffuse	Normal	Specular	Reflection	
0x14da7804	4	Diffuse	Normal	Specular	Reflection	
0x20000000	2	Nomral?	Diffuse?/Specular?			
0x20001000	2	Diffuse/Alpha	???/Reflection			
0x20400000	2	Diffse	Occlusion			
0x20426000	3	Diffuse	Occlusion	Reflection		
0x20426001	3	Diffuse	Occlusion	Reflection		
0x20426002	3	Diffuse	Occlusion	Reflection		
0x20800000	2	Diffuse	Occlusion			
0x20826001	4	Diffuse	Occlusion	Specular	Reflection	
0x20c00000	2	Diffuse	Occlusion			
0x20c00010	2	Diffuse/Alpha	Specular?			
0x20c00800	4	Diffuse	Occlusion?	Normal	Diffuse?	
0x20c00800	3	Diffuse	Occlusion	Specular		
0x20c10800	4	Diffuse	Occlusion	Specular	Reflection	
0x20c26000	2	Diffuse	Occlusion			
0x20c26800	4	Diffuse/Alpha	Occlusion	Specular	Reflection	
0x20c26801	4	Diffuse/Alpha	Occlusion	Specular	Occlusion?	
0x20c26804	4	Diffuse	Occlusion	Specular	Reflection	
0x20c26814	4	Diffuse/Alpha	Occlusion	Specular	Reflection	
0x24980000	3	Diffuse/Alpha	Normal			
0x24980010	3	Diffuse/Alpha	Specular	Normal		
0x24d80000	3	Diffuse	Specular	Normal		
0x24d80010	3	Diffuse/Alpha	Specular	Normal		
0x24d80010	3	Diffuse/Alpha	Specular	Normal		
0x24d80800	4	Diffuse/Alpha	Sweat/Alpha	Normal	Specular	
0x24d80800	4	Diffuse	Wet	Normal	Specular	
0x24d80810	4	Diffuse/Alpha	Specular	Normal	Specular?	
0x24d90000	4	Diffuse	Specular	Normal	Reflection	
0x24d90800	5	Diffuse	Occlusion	Normal	Diffuse?	Reflection
0x34981000	4	Diffuse/Alpha	Animated???/Alpha	Occlusion	Normal

```
## Post #1989
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2017-01-27T04:33:06+00:00
- Post Title: Re: Dead or Alive series formats and tools

This thread's been dead for a while since people have been operating from different forums. 

Do you have personal reason for doing a 3dsmax script?  There have been nearly complete Blender tools for almost a year now for importing TMC's and even more recently animations.  They're quite thorough other than perhaps texture importing which hasn't been all that necessary for modding.  The Object tool is quite detailed too for rearranging tons of the details your mentioning. 

Most have been made by doutoku, lots of links either on the SFxT mod forums or loverslab, I think.

Edit: or this

[https://www.mediafire.com/folder/9zi2gt8dyllaj/doa5mod](https://www.mediafire.com/folder/9zi2gt8dyllaj/doa5mod)

I don't know anything about the content of the scripts, but the Blender stuff may yield info if you still need structure data for 3dsmax.
## Post #1990
- Username: moge1975
- Rank: n00b
- Number of posts: 19
- Joined date: Thu Aug 09, 2012 6:32 pm
- Post datetime: 2017-01-30T22:16:38+00:00
- Post Title: Re: Dead or Alive series formats and tools

I need VITA DOAX3 *.TMC importing script..
## Post #1991
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2017-01-31T08:24:45+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hey thanks for the info, yes I had looked at the blender scripts but that wasn't too helpful. 
Since from years ago I was already able to import model data, so mesh importing is not an issue.

I also had a look at the "object tool" source and from what I understand it does not create a new TMC, but rather it can modify an existing one. So my guess here is that the data I'm looking at was never figured out, so that's why these tools only "Edit" or "Inject" stuff.

Honestly I'm not sure whats going on in this dudes code, he reads the shader hash as the MaterialType but then I think nothing? he does somehow calculate a thing he calls TexType, but you can't freely change it. In some cases I'd have 20 items in the TexType drop down, then in others I'd have like 3.


My feeling here is that he leaves the shader hash or material type alone. But is editing some other info that I had missed which is texture type data.
## Post #1992
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2017-01-31T15:40:40+00:00
- Post Title: Re: Dead or Alive series formats and tools

Yes I also was interested in changing object's material types. (or texture types whatever it's called)
As I know, current 'TMC Object tool' only allows to switch material-type within the existing types inside a TMC file, and cannot add a new one.
(Sometimes it causes error even with it.)

And Doutoku already said that he doesn't understand the structure of the TMC file 100%.
Maybe that's why he didn't make a tool for 'creating' a whole new TMC file.

But anyway, that tool was very useful for me in many many ways. 
Maybe it's going to be nice if that tool can also handle the list of data you said above.
## Post #1993
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2017-01-31T21:12:04+00:00
- Post Title: Re: Dead or Alive series formats and tools

Thanks that verifies what I had thought was going on with the Object Tool, strange that he didn't allow that field in the GUI so you could just edit it.

Anyway the shader codes I collected need to be review, depending on how dynamic these shader id's are this might be troublesome, otherwise easy and we can take advantage of the games many shaders. For example I'm worried if I insert a certain Shader ID, then data in the "cpf" or "MCAPACK" will need to be present. I had a look into the MtrCol and it seems very linear, I don't think it will be an issue.
## Post #1994
- Username: Rosalin
- Rank: mega-veteran
- Number of posts: 187
- Joined date: Fri Jun 13, 2014 6:38 pm
- Post datetime: 2017-02-01T05:10:37+00:00
- Post Title: Re: Dead or Alive series formats and tools

ah.. yes shader. why I didn't see that word.

Anyway, I don't think changing shader will be a simple job.
If that was easy, switching shader option in TMC Object Tool should have worked normally, but it didn't.
They will bring lots of extra parameters need to be adjusted, I believe.

So modders who want use a shader from another object usually duplicate that object with that tool.
Then they get another object with same shader.


One thing I noticed was the parameters in GeoDecl.
they were differed by their shader what they're using.
I'm not 100% sure about this..
## Post #1995
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2017-02-03T18:53:39+00:00
- Post Title: Re: Dead or Alive series formats and tools

Not sure how much help I am, I still don't know anything about the cpf or MCAPack.  Since doutoku released & updated tools, I haven't done much research in a long time. 

Like Ros said, in most cases people just replicate objects and import the parameters they want from other materials or costumes.  Really the ability to create costumes from scratch already exists if at least working from a core skeleton and by mixing parts from essentially any mesh with matching vertex groups.  

In terms of TexType, are you looking to change the shader method to something other than Diffuse, Normal, Spec, etc?   As far as I know the 0 1 2 3 represents the use of the texture.  0 = Diffuse or Wet/Dirt(?),  1 = Normal, 2 = Spec and 3 = Env.  New Materials can be added, but as the editor suggests what all the values do still aren't listed.  

Since people are visiting again. 

Is there a way to import Ninja Gaiden 2 with weights in anyway possible?
## Post #1996
- Username: eduardowsad
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Fri Jun 12, 2015 5:50 am
- Post datetime: 2017-02-26T23:41:02+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hi, finally i can import the animation from blender to 3dmax
## Post #1997
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2017-04-03T13:53:52+00:00
- Post Title: Re: Dead or Alive series formats and tools

Heh, 

Well this topic is dead, lol.  May as well zombify it for a second.  I have written a couple of utilities for assistance with DOAX3 Vita content. 

[http://www.mediafire.com/file/3ad1x1gpi ... r_V1.0.zip](http://www.mediafire.com/file/3ad1x1gpidsgd5i/DOAX3_Vita_GXT_Ripper_V1.0.zip)

[http://www.mediafire.com/file/iextc19lk ... r_V1.0.zip](http://www.mediafire.com/file/iextc19lkc88n94/DOAX3_Vita_Suit_Helper_V1.0.zip)

GXT Ripper is for getting the textures.  Suit Helper is for extracting container data.  If you place the data in Hex2Obj correctly, you can extract the .objs from the containers.  No weights, but everything appears scaled correctly, so if you have any experience with the PC files & Blender, applying weights takes minimal work.  

Many thanks to xperiagenerator for GXT explanation  and to raidergale & dazzy for explaining how to use Hex2Obj.  

Good luck!
## Post #1998
- Username: RobhG
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Wed Jun 21, 2017 11:24 pm
- Post datetime: 2017-06-21T15:29:40+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> Heh, 

Well this topic is dead, lol.  May as well zombify it for a second.  I have written a couple of utilities for assistance with DOAX3 Vita content. 

http://www.mediafire.com/file/3ad1x1gpi ... r_V1.0.zip

http://www.mediafire.com/file/iextc19lk ... r_V1.0.zip

GXT Ripper is for getting the textures.  Suit Helper is for extracting container data.  If you place the data in Hex2Obj correctly, you can extract the .objs from the containers.  No weights, but everything appears scaled correctly, so if you have any experience with the PC files & Blender, applying weights takes minimal work.  

Many thanks to xperiagenerator for GXT explanation  and to raidergale & dazzy for explaining how to use Hex2Obj.  

Good luck!

Any idea how to extract the models from the DOA2 PS2 or Dreamcast?. Obj?
## Post #1999
- Username: Protocol X27
- Rank: ultra-veteran
- Number of posts: 341
- Joined date: Thu Dec 15, 2011 12:46 am
- Post datetime: 2017-06-23T15:19:30+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from RobhG
>
> 
Any idea how to extract the models from the DOA2 PS2 or Dreamcast?. Obj?

My knowledge only goes as far back as DOA2U on Xbox, but even then I've forgotten alot and only got as far as swapping textures a decade ago.   I'm not sure who'd be the leading expert on that.  I remember it involved AFS files and some xpr breaker utility.
## Post #2000
- Username: RobhG
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Wed Jun 21, 2017 11:24 pm
- Post datetime: 2017-06-23T15:50:01+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from Protocol X27
>
> RobhG wrote:
Any idea how to extract the models from the DOA2 PS2 or Dreamcast?. Obj?

My knowledge only goes as far back as DOA2U on Xbox, but even then I've forgotten alot and only got as far as swapping textures a decade ago.   I'm not sure who'd be the leading expert on that.  I remember it involved AFS files and some xpr breaker utility.

But the dead or alive 2 PS2, has an extractor that removes all the files of the original format, I even got to host these files in this link, analyzed the files and follows below on them:
[http://www.mediafire.com/file/x6alwwt03 ... re+ps2.rar](http://www.mediafire.com/file/x6alwwt035qxi10/DOA2+Model+++texture+ps2.rar)

Aya00.psp is the 3D model!
Aya00.tgs is the textures!

Conclusion note of analysis: analyzing models, stages, sounds, needed to verify which file was the texture and which was the 3d model, then it was enough to verify the phases, since the stages can not have bones, only the mesh and the textures, was then Which I confirmed, in the phase folder contains only 2 files, .tgs and .psp, although I have hosted only the ayane model as extraction test.
## Post #2001
- Username: spartanmark6
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Sat May 28, 2016 9:11 am
- Post datetime: 2017-09-20T16:43:13+00:00
- Post Title: Re: Dead or Alive series formats and tools

Does anyone know how to import models from Dead Or Alive Paradise on the PSP? I have used the BMS script by Fatduck (RIP) and tried to use his Fatimporter script for 3DS Max. Unfortunately, I am unable to import a majority of the models since the script was really never finished way back when. I keep getting errors even when using a really old version of 3DS Max. All I really want is to have Rio's model since she was the only one exclusive to Paradise. If anyone knows how to fix the script or has the models on his/her HD I would be grateful if he/she could send them to me. If there is also a working Noesis script to import the models, I would be perfectly content with that as well. I am not even sure if I care if the models are rigged or not. I just want them in a t-pose since I cannot figure out how to do that in Ninja Ripper. I have been struggling with this for almost a week now and I would be happy if this could be resolved. I know that Xentax and this thread is pretty much dead now, but hopefully I can get some real help instead of the vague and unhelpful responses that I got previously. 

Thanks,
spartanmark6
## Post #2002
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2017-09-24T20:36:40+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from spartanmark6
>
> Does anyone know how to import models from Dead Or Alive Paradise on the PSP? I have used the BMS script by Fatduck (RIP) and tried to use his Fatimporter script for 3DS Max. Unfortunately, I am unable to import a majority of the models since the script was really never finished way back when. I keep getting errors even when using a really old version of 3DS Max. All I really want is to have Rio's model since she was the only one exclusive to Paradise. If anyone knows how to fix the script or has the models on his/her HD I would be grateful if he/she could send them to me. If there is also a working Noesis script to import the models, I would be perfectly content with that as well. I am not even sure if I care if the models are rigged or not. I just want them in a t-pose since I cannot figure out how to do that in Ninja Ripper. I have been struggling with this for almost a week now and I would be happy if this could be resolved. I know that Xentax and this thread is pretty much dead now, but hopefully I can get some real help instead of the vague and unhelpful responses that I got previously. 

Thanks,
spartanmark6

Using fat duck's max script.
## Post #2003
- Username: Farphignougen
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Fri Oct 23, 2015 1:35 pm
- Post datetime: 2019-03-05T09:12:53+00:00
- Post Title: Re: Dead or Alive series formats and tools

Dead or Alive 6 came out a few days ago, and I'm the one dredging up this thread. Does that mean no one with know-how is interested in picking apart the new game?
## Post #2004
- Username: GDL
- Rank: veteran
- Number of posts: 150
- Joined date: Fri Jul 09, 2010 11:54 pm
- Post datetime: 2019-03-05T22:28:43+00:00
- Post Title: Re: Dead or Alive series formats and tools

It seems that someone at the LL forum already developed a tool to extract the *.rdb files to start analyzing the contents
## Post #2005
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2019-03-06T13:28:18+00:00
- Post Title: Re: Dead or Alive series formats and tools

[https://zenhax.com/viewtopic.php?f=9&t=10982](https://zenhax.com/viewtopic.php?f=9&t=10982)
## Post #2006
- Username: Sreliata
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Tue Jun 30, 2015 3:04 am
- Post datetime: 2019-03-11T15:37:38+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hello Hello! 

I was wondering if anyone (by any chance!) still has the tools to get the models from 'Dead or Alive online'?  
Or maybe even DoAX2? With files? I always hoped to get those models at one point, and sadly can't find anything online anymore.
## Post #2007
- Username: zhelatinobambino
- Rank: Moderator
- Number of posts: 1671
- Joined date: Fri Jul 27, 2012 12:06 am
- Post datetime: 2020-09-10T20:41:04+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny ↑Sat Sep 27, 2014 12:32 am at Sat Sep 27, 2014 12:32 am
>
> 
Esppiral wrote:Could you please reupload the unpacker? the file is no longer available.
doa2hardcore_unpacker.zip

here you go, along with the source. though, afaik, there are no parsers for ps2 doa files, what are you going to do with the files?

Hello. Do someone have a copy of "doa2hardcore_unpacker.zip" and can share it with me? 
Previous link is dead.
## Post #2008
- Username: zhelatinobambino
- Rank: Moderator
- Number of posts: 1671
- Joined date: Fri Jul 27, 2012 12:06 am
- Post datetime: 2020-09-16T12:33:00+00:00
- Post Title: Re: Dead or Alive series formats and tools

Dead or Alive 2 Hardcore PS2 quickbms script by BloodRaynare
(ROM_00.BIN extractor). Download below
[https://drive.google.com/file/d/1xmO3Hn ... sp=sharing](https://drive.google.com/file/d/1xmO3HnhqHv9mbF1O08kpc62Bsnd54CJI/view?usp=sharing)

Check also my english text extractor for DOA2 Hardcore 
[https://github.com/bartlomiejduda/Tools ... 02%20(PS2)](https://github.com/bartlomiejduda/Tools/tree/master/NEW%20Tools/Dead%20or%20Alive%202%20%28PS2%29)
## Post #2009
- Username: terios
- Rank: n00b
- Number of posts: 11
- Joined date: Sat Aug 14, 2010 10:24 am
- Post datetime: 2021-10-02T13:20:42+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny ↑Fri Aug 03, 2012 2:33 am at Fri Aug 03, 2012 2:33 am
>
> 
sagesau wrote:I'm not sure how you can get poses from the first frame but have difficulty for the rest, but either way if you know something about the animation format, tell me. I might make it myself.
here is a tool for logging all the animation from the mot file to a text file + the source code you can look in. just put it in a folder with a mot file and it will log a full dump of all animations in "mylog2.log"(except for some tricky technique using precalculated sinus values), and just the first frames from each animation in "mylog3.log".
mylog2.log:
1e2c(0) //offset in the mot file (offset of the pointer in the mot header)
#0:      //totally, there are 44 animation blocks for each body part, for position and rotation, in each animation chunk
1-34[33]	4(0.0063, -0.000900269, -0.00121307) //frames from "1" to 
"34", totally "[33]" frames for this key frame; keyframe type = "4(", 'main value' = "0.0063,", 'specific(unknown) values' for this keframe = " -0.000900269, -0.00121307)"
...		0(-0.0004)$ // "..." means the last frame in this animation block, and the 'main value' = (-0.0004), the end character(debugging) = "$"

in mylog3.log you see the name of the limb and it's global coordinates, the suffix "_xyz" means the position, everything else is rotation:
pelvis_xyz   0,          0.935,       0       //pelvis position x=0, y=0.935, z=0
pelvis   	8.89343, 288.578, 339.142 //pelvis rotation(in degrees) x=8.89343, y=288.578, z=339.142


i have a problem - i don't know how to set the global position of a child bone while in pose mode in blender(with the inverse kinematics turned on), i need just to set the global xyz coordinates for the palm or for the foot, but blender is giving me some relative shit, related to the parent bone.
Does anyone have this file? A [DOA2 Dreamcast beta leaked containing extra files](https://hiddenpalace.org/Dead_or_Alive_2_%28Jan_27,_2000_prototype%29) for a character we've never seen before. Problem is her files are an older format or something and not exactly compatible with the current game engine so it crashes or bugs out and you can't really see much of her outside an idle stance and a few moves (6K, F+KK, P+K, 4K, 2K, 1K, 3K, 3P). Could really use some help restoring her or viewing her.
## Post #2010
- Username: Brekkez
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Thu Oct 06, 2016 12:56 am
- Post datetime: 2022-07-08T00:06:13+00:00
- Post Title: Re: Dead or Alive series formats and tools

Does anyone know where the doa4/x2 weight data for the hair is stored? The obj doesnt have any weights, is there a way to extract the tpr file with weights lmk
## Post #2011
- Username: Aibo223
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Thu Mar 16, 2023 1:46 pm
- Post datetime: 2023-03-16T05:56:55+00:00
- Post Title: Re: Dead or Alive series formats and tools

Does anyone know where can I find or how can I rip the old models of the old DOA games (DOA2, DOA3, DOA4)?
## Post #2012
- Username: terios
- Rank: n00b
- Number of posts: 11
- Joined date: Sat Aug 14, 2010 10:24 am
- Post datetime: 2023-06-27T01:14:01+00:00
- Post Title: Re: Dead or Alive series formats and tools

> Reply from b0ny ↑Sat Mar 30, 2013 3:56 am at Sat Mar 30, 2013 3:56 am
>
> 
tecmo360texturesExtractor.py

tecmo360texturesExtractor will extract textures from xbox360 tecmo texture container files such as:
doa5=TMC,SPR,--P,--H,TNF; ng3=TNF,TTG,IBL,GMD,EFFMC; doa4=TPR,XPR,C,CT; doax2=TPR;

this script requires python 3.2.3 installed on your computer(at least for me 3.3.0 didn't work):http://www.python.org/download/releases/3.2.3/

you can need a good dds viewer, here you can find one http://www.nvidia.ru/object/windows_texture_viewer.html, it's called "windows texture viewer"
Did anyone back this up by chance?

Edit: [https://sourceforge.net/projects/team-n ... p/download](https://sourceforge.net/projects/team-ninja-tools/files/tecmo360texturesExtractorV15.zip/download)

Couple other old tools backed up from this thread: [https://sourceforge.net/projects/team-n ... ols/files/](https://sourceforge.net/projects/team-ninja-tools/files/)
## Post #2013
- Username: xperiagenerator
- Rank: n00b
- Number of posts: 14
- Joined date: Wed Dec 17, 2014 8:10 pm
- Post datetime: 2023-07-06T07:57:05+00:00
- Post Title: Re: Dead or Alive series formats and tools

Hi,
I'm trying to decrypt doa5lr ps4 version.
I cant extract files from bin/lnk archive and I think that the decryption method is different...
can someone help?
here there is a screenshot of the first bytes of the first file in chara_common.lnk
[Capture.PNG](https://xentaxbackup.github.io/file/24026_Capture.PNG)
