## Post #1
- Username: hardx36
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Tue Feb 28, 2012 12:49 pm
- Post datetime: 2012-07-05T23:53:03+00:00
- Post Title: .BPE compression for svr series

i recently find the source code of the original bpe compressing method you can found it here 
[http://www.csse.monash.edu.au/cluster/R ... ress/bpe.c](http://www.csse.monash.edu.au/cluster/RJK/Compress/bpe.c) i compiled it and the compressor seems to work but the problem is that in some parts is different from the bpe from the svr game in some parts the bytes are placed in wrong places like in the image(the left is the svr bpe and the right is the bpe generated by the original compressor)

[](http://imgboot.com/user/hardx36/images/dibujo.jpg)

as you can see the bytes are the same just colacated in different places

[](http://imgboot.com/user/hardx36/images/dibujo2.jpg)

and in some parts are different

i was using these setting

bpe 4e20 4e202.bpe 8994 8192 200 3 

(where bpe is the name of the exe, 4e20 is the uncompressed file with no extension, 4e20.bpe is the output file, 8994 is the blocksize, 8192 is the hash size, 200 is the maxchars and 3 is the THRESHOLD)

BTW the header on the svr game bpe works this way 
the first four bytes "BPE " are the extension, the next four are the version of the bpe i suppose i doesnt matter it always are "00 01 00 00" the next four bytes are the size of the compressed data starting from offset 0x10 and the final four bytes are the uncompressed size

her are the files i used and the compiled code [http://www.mediafire.com/?thihkq8y896w8d3](http://www.mediafire.com/?thihkq8y896w8d3)

so if any body can take a look to the code and fix it , it would be great
## Post #2
- Username: aluigi
- Rank: VVIP member
- Number of posts: 1916
- Joined date: Thu Dec 08, 2005 7:26 pm
- Post datetime: 2012-07-06T09:23:58+00:00
- Post Title: .BPE compression for svr series

the algorithm is different.
the correct decompression algorithm is in quickbms\src\yuke_bpe.c
I don't have the compression one.
