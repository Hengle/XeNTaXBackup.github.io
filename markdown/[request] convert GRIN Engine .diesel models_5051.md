## Post #1
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2010-09-17T05:09:47+00:00
- Post Title: [request] convert GRIN Engine .diesel models

[UPDATED]
2011.01.15 - re-uploaded all samples

This engine have several very interesting games, but model format are still not knowing.

Interesting game:

Bionic Commando
[](http://i076.radikal.ru/1009/f3/2bf1aefe6ed5.jpg) [](http://s61.radikal.ru/i171/1009/21/8fc14d8f975e.jpg) 
[](http://s51.radikal.ru/i131/1009/bb/6e6b93fde44a.jpg) [](http://i074.radikal.ru/1009/94/60dfdae57613.jpg)

[sample files](http://www.mediafire.com/?gajofa651dl0ixx)
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Terminator Salvation
[](http://s001.radikal.ru/i195/1009/58/30a732e7c2d8.jpg) [](http://s47.radikal.ru/i115/1009/39/0b8040239e95.jpg)
[](http://i082.radikal.ru/1009/d8/507ed7d2c34e.jpg) [](http://s03.radikal.ru/i176/1009/2f/f3d2b51a5162.jpg)

[sample files](http://www.mediafire.com/?04layh9vzi1luti)
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Wanted: Weapons of Fate
[](http://s50.radikal.ru/i127/1009/83/a8019a48c1f5.jpg) [](http://s54.radikal.ru/i143/1009/a1/bfdac42d120a.jpg) 
[](http://s001.radikal.ru/i195/1009/e4/d68f93239e93.jpg) [](http://s002.radikal.ru/i197/1009/c8/a190e476d157.jpg)

[sample files](http://www.mediafire.com/?03c00n0tu8w97bz)
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Lead and Gold: Gangs of the Wild West
[](http://s49.radikal.ru/i125/1009/e4/31b3f2944110.jpg) [](http://s53.radikal.ru/i139/1009/6c/74fbbb89491d.jpg)
[](http://s58.radikal.ru/i160/1009/92/85d0f3515458.jpg) [](http://s47.radikal.ru/i115/1009/d6/c6b6444e1fe9.jpg)

[sample files](http://www.mediafire.com/?piu27qir3xe9y)
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Actually i opened .diesel files in hex editor and find something interesting stuff, such as names of joints, names of materials and other.

p.s.: i hope somebody can help me to convert models to something like dae/fbx/smd
p.p.s.: if i find other games on GRIN Engine i will post them here
## Post #2
- Username: SLIFallen
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Sep 28, 2010 11:26 pm
- Post datetime: 2010-10-18T12:06:27+00:00
- Post Title: [request] convert GRIN Engine .diesel models

I've been able to capture Wanted assets with 3DRipper in game, so it's better than nothing but it would be nice to extract/convert the models individually (and not have to correct the D.O.F. angles, which admittedly are so slight it's almost non-existent, but I digress...)   

These other GRIN games would be cool to look at as well....

EDIT:

So, a programmer I AM NOT. But I am just starting the quickbms tuts and am looking at the wanted .bundle files with Hex Workshop and as stated above I am seeing some filenames (the stream.bundle looks to be all the sounds) so I assume the quick.bundle are the models and textures and stuff. (at leat the ascii part shows filenames! so now I just have to learn to decipher the hex and then try to follow the scripting tuts but this might be a good start....

EDIT 2:

AlphaTwentyThree's "generic" wav scanner script works beautifully on the stream.bundle file. Extracts all the wav sound files!

Here:  
[viewtopic.php?f=13&t=4450](http://forum.xentax.com/viewtopic.php?f=13&t=4450)

Thanks Alpha!! 

Now on to the textures and models (the hard one!)
## Post #3
- Username: SLIFallen
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Sep 28, 2010 11:26 pm
- Post datetime: 2010-12-19T18:17:26+00:00
- Post Title: [request] convert GRIN Engine .diesel models

Tosyk,

The sample files link (for Wanted in particular) are no longer valid. 

I am ASSUMING you figured out how to uncompress the quick.bundle (2gb) file? in order to provide samples? (This file is what contains the models I believe)

As I said, 3D ripper does work well with this game but it would be nice tho be able to get "proper" models directly.

BTW off topic, thank you so much for the nice tutorial on your blog for Max Payne 2! Just picked it up on digital download (microsoft live games I think) was on sale for 99 cents.  lol    And your tutorial/tools works great!    

EDIT: I got the bundle archive uncompressed. Watto's Game extractor does the job!

Now, as you said the .diesel (model) files themselves....
## Post #4
- Username: omfgpota
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Apr 13, 2010 9:52 pm
- Post datetime: 2011-01-14T08:39:14+00:00
- Post Title: [request] convert GRIN Engine .diesel models

@slifallen, 

what game have you've been successful with? i'm assuming that you've only tried it with "wanted" anyway,
have you tried 3dripper with bionic commando? i have tried every version of 3dripper at my disposal, nothing seems to work on bionic commando for me, btw i'm on win 7 64 ultimate, thanks!
## Post #5
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2011-01-14T12:04:01+00:00
- Post Title: [request] convert GRIN Engine .diesel models

SLIFallen
I'm used [this tool](http://www.ghostrecon.net/files2/index.php?act=view&id=323)
thanks for watching my blog  

omfgpota
i have same system as yours, and 3dripper doesn't work with those games for me too
## Post #6
- Username: SLIFallen
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Sep 28, 2010 11:26 pm
- Post datetime: 2011-01-14T18:24:53+00:00
- Post Title: [request] convert GRIN Engine .diesel models

> Reply from omfgpota
>
> @slifallen, 

what game have you've been successful with? i'm assuming that you've only tried it with "wanted" anyway,
have you tried 3dripper with bionic commando? i have tried every version of 3dripper at my disposal, nothing seems to work on bionic commando for me, btw i'm on win 7 64 ultimate, thanks!

I dont have Bionic Commando so I cant tell you if it works or not. I've only done it with Wanted. What I CAN tell you is this: I maintain a WinXP 32bit box *SOLELY* for 3DRipper use. It's really unfortunate that there is no DX10/64bit support for this app (I've openly offered Hax money for this, but oh well..) So I just have to install games twice (once to play on my main Vista64 bit system, and once on the XP box for 3Dripper) if I want to try to use 3dripper with it.

@ Tosyk:

I'm a bit confused on your comment (about that link to the GRAW bundle extractor) I already have been sucessful in extracting the .bundle files from Wanted using Watto's Game Extractor. I was just hoping to be able to do something with the .diesel model files within there to get them into a format a 3d app can use.
## Post #7
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2011-01-15T03:28:20+00:00
- Post Title: [request] convert GRIN Engine .diesel models

> Reply from SLIFallen
>
> I'm a bit confused on your comment (about that link to the GRAW bundle extractor) I already have been sucessful in extracting the .bundle files from Wanted using Watto's Game Extractor. I was just hoping to be able to do something with the .diesel model files within there to get them into a format a 3d app can use.

i'm misunderstanding with this, sorry

> Reply from SLIFallen
>
> I am ASSUMING you figured out how to uncompress the quick.bundle (2gb) file?

I don't like much watto extractor, for me it's work to strange..
and, for now we can't nothing to do with *.diesel models.

btw, i will uploading all files presented as a samples above today.

ADD:
Re-uploaded all samples.
## Post #8
- Username: luxox18
- Rank: mega-veteran
- Number of posts: 176
- Joined date: Sat Jul 30, 2011 4:18 am
- Post datetime: 2011-09-17T01:09:30+00:00
- Post Title: [request] convert GRIN Engine .diesel models

than later! LOL!!


please check this link from my facepunch thread.    

[http://www.facepunch.com/threads/1123609](http://www.facepunch.com/threads/1123609)   (bionic commando)
## Post #9
- Username: SLIFallen
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Sep 28, 2010 11:26 pm
- Post datetime: 2011-09-19T14:12:37+00:00
- Post Title: [request] convert GRIN Engine .diesel models

> Reply from luxox18
>
> than later! LOL!!


please check this link from my facepunch thread.    

http://www.facepunch.com/threads/1123609   (bionic commando)

Nice! so where is the tool or the procedure that was used to extract/convert these models? (so we can attempt to use/modify for the various diesel engine games)

Thanks for sharing!
## Post #10
- Username: luxox18
- Rank: mega-veteran
- Number of posts: 176
- Joined date: Sat Jul 30, 2011 4:18 am
- Post datetime: 2011-09-19T20:49:50+00:00
- Post Title: [request] convert GRIN Engine .diesel models

> Reply from SLIFallen
>
> luxox18 wrote:than later! LOL!!


please check this link from my facepunch thread.    

http://www.facepunch.com/threads/1123609   (bionic commando)

Nice! so where is the tool or the procedure that was used to extract/convert these models? (so we can attempt to use/modify for the various diesel engine games)

Thanks for sharing!

I use Gameassassin tool, I could not find any other tool.
## Post #11
- Username: XLAX
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Tue Oct 04, 2011 8:18 am
- Post datetime: 2011-10-15T01:10:36+00:00
- Post Title: [request] convert GRIN Engine .diesel models

any news with this?
## Post #12
- Username: Szkaradek123
- Rank: mega-veteran
- Number of posts: 292
- Joined date: Thu May 06, 2010 3:21 am
- Post datetime: 2011-10-17T16:06:58+00:00
- Post Title: [request] convert GRIN Engine .diesel models

Blender249 importer for Bionic models from samples:
-import geometry and uv
-open script in Blender249 text editor

```
#BIONIC BLENDER249 IMPORTER(.DIESEL MODEL)
#GEOMETRY+UV
#PRESS ALT+P TO RUN SCRIPT AND SELECT DIESEL MODEL

import bpy,struct,os
import Blender
from Blender import *
from struct import *
from Blender.Mathutils import *
import math


def find_0(): 
    s=''
    while(True):
        litera =  struct.unpack('c',plik.read(1))[0]
        if  litera=='\x00':
            break
        else:
            s+=litera
    return s


def word(long): 
   s=''
   for j in range(0,long): 
       lit =  struct.unpack('c',plik.read(1))[0]
       if ord(lit)!=0:
           s+=lit
           if len(s)>100000:
               break
   return s


def b(n):
    return struct.unpack(n*'b', plik.read(n))
def B(n):
    return struct.unpack(n*'B', plik.read(n))
def h(n):
    return struct.unpack(n*'h', plik.read(n*2))
def H(n):
    return struct.unpack(n*'H', plik.read(n*2))
def i(n):
    return struct.unpack(n*'i', plik.read(n*4))
def f(n):
    return struct.unpack(n*'f', plik.read(n*4))


def vertexuv():
    mesh.vertexUV = 1
    for m in range(len(mesh.verts)):
        mesh.verts[m].uvco = Vector(uvlist[m])
    mesh.update() 
    mesh.faceUV = 1
    for fc in mesh.faces: fc.uv = [v.uvco for v in fc.verts];fc.smooth = 1
    mesh.update() 

def drawmesh(name):
        global mesh 
        mesh = bpy.data.meshes.new(name)
        mesh.verts.extend(vertexlist)
        mesh.faces.extend(faceslist,ignoreDups=True)
        if len(uvlist)!=0:
                vertexuv()
        scene = bpy.data.scenes.active
        obj = scene.objects.new(mesh,name)
        mesh.recalcNormals()
        Redraw()

def parser():
    global vertexlist,faceslist,uvlist
    print 
    data = H(10);print data
    plik.seek(12)
    for m in range(data[4]):
        print '-'*20,m,
        var0 = i(2);print var0,plik.tell()
        seek = i(1)[0]#;print 'seek',seek
        back = plik.tell()
        if var0[0]==1012162716:
            print find_0() 
        if var0[0]==268226816:
            print find_0() 
        if var0[0]==2058384083:
            vertexlist = []
            uvlist = []
            num = i(1)[0];print 'num =',num
            var = i(1)[0];print 'var =',var
            if   var == 5:i(10)
            elif var == 2:i(4) 
            elif var == 4:i(8) 
            elif var == 7:i(14) 
            elif var == 8:i(16) 
            elif var == 9:i(18) 
            elif var == 10:i(21)
            else: 
                print i(10)
                break 
            for n in range(num):
                vertexlist.append(f(3))
            for n in range(num):
                uvlist.append([f(1)[0],-f(1)[0]])
            print plik.tell()
            #print f(10) 
        if var0[0]==1280342547:
            faceslist = []
            var = i(2);print var
            for n in range(var[1]/var[0]):
                faceslist.append(H(3))
            drawmesh('model-'+str(m))
        plik.seek(back)
        plik.seek(seek,1)
    
    
def openfile(filename):
    global plik
    print sys.basename(filename)
    plik = open(filename,'rb')  
    parser()
    
Window.FileSelector(openfile)   
```
## Post #13
- Username: Szkaradek123
- Rank: mega-veteran
- Number of posts: 292
- Joined date: Thu May 06, 2010 3:21 am
- Post datetime: 2011-10-18T18:21:34+00:00
- Post Title: [request] convert GRIN Engine .diesel models

The contents of this post was deleted because of possible forum rules violation.
## Post #14
- Username: pixellegolas
- Rank: ultra-veteran
- Number of posts: 423
- Joined date: Tue Aug 12, 2008 6:30 am
- Post datetime: 2011-10-18T22:03:09+00:00
- Post Title: [request] convert GRIN Engine .diesel models

skills! nice
## Post #15
- Username: luxox18
- Rank: mega-veteran
- Number of posts: 176
- Joined date: Sat Jul 30, 2011 4:18 am
- Post datetime: 2011-10-18T22:08:10+00:00
- Post Title: [request] convert GRIN Engine .diesel models

great! but how to extract the contents of the .fcl files?

I'm looking for this particular model (bionic commando) 

[](http://imageshack.us/photo/my-images/21/grunt003pngjpgcopy1.jpg/)

maybe this within the system files since it is not in the game
## Post #16
- Username: Szkaradek123
- Rank: mega-veteran
- Number of posts: 292
- Joined date: Thu May 06, 2010 3:21 am
- Post datetime: 2011-10-19T15:41:18+00:00
- Post Title: Re: [request] convert GRIN Engine .diesel models

The contents of this post was deleted because of possible forum rules violation.
## Post #17
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2011-10-19T16:34:59+00:00
- Post Title: Re: [request] convert GRIN Engine .diesel models

The contents of this post was deleted because of possible forum rules violation.
## Post #18
- Username: luxox18
- Rank: mega-veteran
- Number of posts: 176
- Joined date: Sat Jul 30, 2011 4:18 am
- Post datetime: 2011-10-19T18:43:01+00:00
- Post Title: Re: [request] convert GRIN Engine .diesel models

I just checked that in the files .bundle are not all models and textures (in the case of some games)

your work is genial Szkaradek123 

thanks
## Post #19
- Username: SLIFallen
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Sep 28, 2010 11:26 pm
- Post datetime: 2011-10-20T09:45:27+00:00
- Post Title: Re: [request] convert GRIN Engine .diesel models

Thanks for helping w/some old requests. Jsut because it's old doesent mean it's not useful or appreciated! Thanks!
## Post #20
- Username: demolos
- Rank: advanced
- Number of posts: 65
- Joined date: Mon Mar 12, 2007 10:38 pm
- Post datetime: 2011-10-22T08:57:44+00:00
- Post Title: Re: [request] convert GRIN Engine .diesel models

Hi Szkaradek123
Can you try to read this .DIESEL files it's from an old game Bandit Phoenix Rising ?
## Post #21
- Username: rmezatang
- Rank: advanced
- Number of posts: 40
- Joined date: Mon Jun 21, 2010 10:32 am
- Post datetime: 2012-05-20T04:16:02+00:00
- Post Title: Re: [request] convert GRIN Engine .diesel models

MP Model and Weapons
## Post #22
- Username: rmezatang
- Rank: advanced
- Number of posts: 40
- Joined date: Mon Jun 21, 2010 10:32 am
- Post datetime: 2012-05-20T18:52:39+00:00
- Post Title: Re: [request] convert GRIN Engine .diesel models

BioMech and Spencer (retro outfit) from Single Player Campaign
## Post #23
- Username: dragbody
- Rank: veteran
- Number of posts: 126
- Joined date: Tue Sep 20, 2011 11:33 am
- Post datetime: 2012-05-20T20:16:46+00:00
- Post Title: Re: [request] convert GRIN Engine .diesel models

Those models look good, but if you didn't know, luxox18 has already extracted the models from that game.
## Post #24
- Username: XLAX
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Tue Oct 04, 2011 8:18 am
- Post datetime: 2012-07-21T16:07:46+00:00
- Post Title: Re: [request] convert GRIN Engine .diesel models

3dripper 1.5a works fine with this game
## Post #25
- Username: dragbody
- Rank: veteran
- Number of posts: 126
- Joined date: Tue Sep 20, 2011 11:33 am
- Post datetime: 2012-09-15T14:07:04+00:00
- Post Title: Re: [request] convert GRIN Engine .diesel models

The blender script by Szkaradek123 works great for these samples. How about the textures? What format do they come in?
## Post #26
- Username: luxox18
- Rank: mega-veteran
- Number of posts: 176
- Joined date: Sat Jul 30, 2011 4:18 am
- Post datetime: 2012-09-16T03:05:45+00:00
- Post Title: Re: [request] convert GRIN Engine .diesel models

> Reply from dragbody
>
> The blender script by Szkaradek123 works great for these samples. How about the textures? What format do they come in?

dds format , with the specular maps in the diffuse map (alpha channel )
## Post #27
- Username: SoldierTODD
- Rank: beginner
- Number of posts: 35
- Joined date: Sat Oct 25, 2014 5:15 am
- Post datetime: 2014-10-25T07:54:35+00:00
- Post Title: Re: [request] convert GRIN Engine .diesel models

> Reply from Szkaradek123
>
> Blender249 importer for Bionic models from samples:
-import geometry and uv
-open script in Blender249 text editor
Code: Select all#MARIUSZ SZKARADEK GLOGOW POLAND 2011-10-17
#BIONIC BLENDER249 IMPORTER(.DIESEL MODEL)
#GEOMETRY+UV
#PRESS ALT+P TO RUN SCRIPT AND SELECT DIESEL MODEL

import bpy,struct,os
import Blender
from Blender import *
from struct import *
from Blender.Mathutils import *
import math


def find_0(): 
    s=''
    while(True):
        litera =  struct.unpack('c',plik.read(1))[0]
        if  litera=='\x00':
            break
        else:
            s+=litera
    return s


def word(long): 
   s=''
   for j in range(0,long): 
       lit =  struct.unpack('c',plik.read(1))[0]
       if ord(lit)!=0:
           s+=lit
           if len(s)>100000:
               break
   return s


def b(n):
    return struct.unpack(n*'b', plik.read(n))
def B(n):
    return struct.unpack(n*'B', plik.read(n))
def h(n):
    return struct.unpack(n*'h', plik.read(n*2))
def H(n):
    return struct.unpack(n*'H', plik.read(n*2))
def i(n):
    return struct.unpack(n*'i', plik.read(n*4))
def f(n):
    return struct.unpack(n*'f', plik.read(n*4))


def vertexuv():
    mesh.vertexUV = 1
    for m in range(len(mesh.verts)):
        mesh.verts[m].uvco = Vector(uvlist[m])
    mesh.update() 
    mesh.faceUV = 1
    for fc in mesh.faces: fc.uv = [v.uvco for v in fc.verts];fc.smooth = 1
    mesh.update() 

def drawmesh(name):
        global mesh 
        mesh = bpy.data.meshes.new(name)
        mesh.verts.extend(vertexlist)
        mesh.faces.extend(faceslist,ignoreDups=True)
        if len(uvlist)!=0:
                vertexuv()
        scene = bpy.data.scenes.active
        obj = scene.objects.new(mesh,name)
        mesh.recalcNormals()
        Redraw()

def parser():
    global vertexlist,faceslist,uvlist
    print 
    data = H(10);print data
    plik.seek(12)
    for m in range(data[4]):
        print '-'*20,m,
        var0 = i(2);print var0,plik.tell()
        seek = i(1)[0]#;print 'seek',seek
        back = plik.tell()
        if var0[0]==1012162716:
            print find_0() 
        if var0[0]==268226816:
            print find_0() 
        if var0[0]==2058384083:
            vertexlist = []
            uvlist = []
            num = i(1)[0];print 'num =',num
            var = i(1)[0];print 'var =',var
            if   var == 5:i(10)
            elif var == 2:i(4) 
            elif var == 4:i(8) 
            elif var == 7:i(14) 
            elif var == 8:i(16) 
            elif var == 9:i(18) 
            elif var == 10:i(21)
            else: 
                print i(10)
                break 
            for n in range(num):
                vertexlist.append(f(3))
            for n in range(num):
                uvlist.append([f(1)[0],-f(1)[0]])
            print plik.tell()
            #print f(10) 
        if var0[0]==1280342547:
            faceslist = []
            var = i(2);print var
            for n in range(var[1]/var[0]):
                faceslist.append(H(3))
            drawmesh('model-'+str(m))
        plik.seek(back)
        plik.seek(seek,1)
    
    
def openfile(filename):
    global plik
    print sys.basename(filename)
    plik = open(filename,'rb')  
    parser()
    
Window.FileSelector(openfile)
I beg your pardon. 
This script can import an animation from the game Terminator Salvation? 


P.S. Sorry for my English. I use a translator.
