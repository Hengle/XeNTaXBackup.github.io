## Post #1
- Username: DaveRipper
- Rank: n00b
- Number of posts: 14
- Joined date: Sat Feb 11, 2017 10:58 am
- Post datetime: 2018-01-23T07:02:32+00:00
- Post Title: Awesomenauts encryption

Hello! I'm trying to translte 'Awesomenauts' into Korean.

[https://github.com/Nodja/AwesomenautsFileDumper](https://github.com/Nodja/AwesomenautsFileDumper)

Then, I found out this program.

Decrypting files with that program working really well.

BUT encrypting files does not work well.

Encrypt/Compress functions are in that program, but not work.

From what the author of that program discovered, This game uses a modified AES-128 crypto. He said just key expansion was modified.

Encrypt function is included at animolite\crypto\operations.py.

Encrypt function is works as a CFB encryption graph, which in this link.    [https://en.wikipedia.org/wiki/Block_cip ... _operation](https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation)

But it not works well.

Are Key and IV wrong? They are generated by file size and relative path, Is it because of relative path?

I've been trying to make encrypt function work for a month.

I'm super noob in crypto. SOMEBODY SAVE ME PLEASE...


Sorry for super bad English 


Localization file: [https://www.datafilehost.com/d/d1d816ba](https://www.datafilehost.com/d/d1d816ba)
## Post #2
- Username: Nodja
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Sat Jul 07, 2018 2:38 am
- Post datetime: 2018-07-06T18:55:11+00:00
- Post Title: Awesomenauts encryption

There's 2 reasons the encryption isn't working.
1. My code was missing a step of trimming the end of the block stream. File size is used in the decryption algorithm so the file ends up invalid.
2. The game does a checksum of files and doesn't load them if they don't match what it's supposed to be, you'll need to change game code for this to not happen.

But you're in luck, I recently made a new a game modder for a friend.

[https://github.com/Nodja/NautsFileModder](https://github.com/Nodja/NautsFileModder)

Dump the localization files, edit them however you want and place them inside the mods folder.

Then create a text file with the extension .nfm inside the mods folder with these contents

```
replace_with = mods\Localization.settings

[file=Data\Localization\LocalizationAUTO.settings]

Since english doesn't seem to be your native language it's likely you'll also have to tell where you have your game installed, edit nfm.cfg to match where you have the game installed.
replace_with = mods\LocalizationAUTO.settings

[file=Data\Localization\LocalizationIDS.settings]
replace_with = mods\LocalizationIDS.settings

[file=Data\Localization\LocalizationPC.settings]
replace_with = mods\LocalizationPC.settings
```


Then start the modder and your localization should be modded into the game.

Since english doesn't seem to be your native language it's likely you'll also have to tell where you have your game installed, edit nfm.cfg to match where you have the game installed.
## Post #3
- Username: DaveRipper
- Rank: n00b
- Number of posts: 14
- Joined date: Sat Feb 11, 2017 10:58 am
- Post datetime: 2018-07-26T10:49:45+00:00
- Post Title: Awesomenauts encryption

> Reply from Nodja
>
> There's 2 reasons the encryption isn't working.
1. My code was missing a step of trimming the end of the block stream. File size is used in the decryption algorithm so the file ends up invalid.
2. The game does a checksum of files and doesn't load them if they don't match what it's supposed to be, you'll need to change game code for this to not happen.

But you're in luck, I recently made a new a game modder for a friend.

https://github.com/Nodja/NautsFileModder

Dump the localization files, edit them however you want and place them inside the mods folder.

Then create a text file with the extension .nfm inside the mods folder with these contents
Code: Select all[file=Data\Localization\Localization.settings]
replace_with = mods\Localization.settings

[file=Data\Localization\LocalizationAUTO.settings]

Since english doesn't seem to be your native language it's likely you'll also have to tell where you have your game installed, edit nfm.cfg to match where you have the game installed.
replace_with = mods\LocalizationAUTO.settings

[file=Data\Localization\LocalizationIDS.settings]
replace_with = mods\LocalizationIDS.settings

[file=Data\Localization\LocalizationPC.settings]
replace_with = mods\LocalizationPC.settings

Then start the modder and your localization should be modded into the game.

Since english doesn't seem to be your native language it's likely you'll also have to tell where you have your game installed, edit nfm.cfg to match where you have the game installed.

OMG!! I didn't know you would answer me!! Thank you soooooo much!
But I keep get this error :/

```
  File "E:\NautsFileModder.v1.2-standalone\NautsFileModder\animo\patcher.py", line 54, in patch_game
    search_and_patch(address)
  File "E:\NautsFileModder.v1.2-standalone\NautsFileModder\animo\patcher.py", line 50, in search_and_patch
    raise PatchError("Patching failed. No signature found.")
animo.patcher.PatchError: Patching failed. No signature found.
```


How can I solve it? I'm sorry to keep asking you
## Post #4
- Username: Nodja
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Sat Jul 07, 2018 2:38 am
- Post datetime: 2018-07-28T09:34:38+00:00
- Post Title: Awesomenauts encryption

Version 1.3 should fix that.

That was my fault, the config file only matches one specific version of the game. Added pattern matching that should match all future versions, unless I missed something again.
## Post #5
- Username: DaveRipper
- Rank: n00b
- Number of posts: 14
- Joined date: Sat Feb 11, 2017 10:58 am
- Post datetime: 2018-07-29T06:35:55+00:00
- Post Title: Awesomenauts encryption

IT WORKS VERRRRRRRRRRY WELL!!!

Thank you very very very much for helping !!
