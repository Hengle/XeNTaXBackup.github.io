## Post #1
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-01-11T11:41:16+00:00
- Post Title: Test Drive Unlimited 2 [2011/BNK]

Deleted for violation of rules.
## Post #2
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-01-13T07:30:31+00:00
- Post Title: Test Drive Unlimited 2 [2011/BNK]

Guess no one is interested at the moment. 60 Views and 4 downloads on the samples.  

I guess till the game is released then something I can only imagine.
## Post #3
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2011-01-13T07:39:57+00:00
- Post Title: Test Drive Unlimited 2 [2011/BNK]

Nothing changes from about half year in researching of *.bnk from TDU2, i think you can posting this sample files on zmodeler2.com forums, maybe Oleg can help, but i think he will want help with this only when the game will be released.
## Post #4
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-01-13T09:11:14+00:00
- Post Title: Test Drive Unlimited 2 [2011/BNK]

Nah Oleg only knows about the *.2DM  .3DD  .3DG* which are inside these BNK files. He waited for BNK extractors last time before looking at it.

=---------------------------=

Within HEX Editor I compared the two, they both are very similar but after all it is same BNK.

Ferrari 599 GTO  (TDU2)  comparing with the Jaguar XK Coupe (TDU1)

[](http://img198.imageshack.us/img198/1726/77800480.jpg)

=---------------------------=

Ferrari 612 Scaglietti (TDU2)  Comparing with Ferrari 612 Scaglietti (TDU1) 

[](http://img268.imageshack.us/img268/3024/35067740.jpg)

=---------------------------=
## Post #5
- Username: GamerSuper
- Rank: advanced
- Number of posts: 42
- Joined date: Thu Sep 09, 2010 7:36 pm
- Post datetime: 2011-01-13T19:49:02+00:00
- Post Title: Test Drive Unlimited 2 [2011/BNK]

Do you have a whole alpha/beta of the game (with executables), or only same resources?

which platform?
## Post #6
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-01-13T20:01:24+00:00
- Post Title: Test Drive Unlimited 2 [2011/BNK]

> Reply from GamerSuper
>
> Do you have a whole alpha/beta of the game (with executables), or only same resources?

which platform?

Its the PC.  I don't have the actual game but I received car files and others from someone who I shall remain Anonymous, this person has the copy. They didn't tell me much other then that, so I even don't know that much.
## Post #7
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-10T10:01:09+00:00
- Post Title: Test Drive Unlimited 2 [2011/BNK]

Hello everyone, i had created a script in 3DS max for TDU a couple of years ago but the forum i had uploaded them seems to be lost, i contacted the admin and the files don't seem to be anywhere so i'll have to build that script again. too bad i've lost the script myself after weeks of research! i know about 3DG files (at least for TDU1) 3DD and generally the stuff in a .bnk file.

But it seems now that all those are packed in -encrypted- .big files, followed by .map files with offset info and stuff, but it's not that useful if we don't know how to decrypt and extract the .big files! i mean, looking at the .big with a hex editor, i don't see anything looking like a .bnk file

any encryption .big file gurus that can make this first step? i so want to build this script from the beginning! (btw, i don't remember anything like .obj format into the 3DG files. looked more like .X to me.

please someone help extract these .big files!
## Post #8
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2011-02-10T10:15:32+00:00
- Post Title: Test Drive Unlimited 2 [2011/BNK]

> Reply from vagos21
>
> Hello everyone
Hi, vagos21, i remember you   Nice work by the way on that script, but with one issue: it not supporting several UV-channels  I attached your script here, maybe it can be helpful for you.
[TDU_mesh_extractor.rar](https://xentaxbackup.github.io/file/3891_TDU_mesh_extractor.rar)
## Post #9
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-10T10:24:47+00:00
- Post Title: Test Drive Unlimited 2 [2011/BNK]

u got to be kidding me!!! where did you find that??!?? jesus i've been looking for it for more than a year thanks mate!!     (where's that beer icon..?)  lol
what was your nickname on that forum? lol
## Post #10
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2011-02-10T10:52:03+00:00
- Post Title: Test Drive Unlimited 2 [2011/BNK]

> Reply from vagos21
>
> u got to be kidding me!!! where did you find that??!?? jesus i've been looking for it for more than a year thanks mate!!     (where's that beer icon..?)  lol
what was your nickname on that forum? lol
I have same nickname all the time   Hope you make great researching here in "game -> maxscript" and as far as possible I will help you
## Post #11
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-10T11:23:45+00:00
- Post Title: Test Drive Unlimited 2 [2011/BNK]

i will as soon as someone decrypts and makes an extractor for those darn .big files!  i have no idea on this subject lol

cars look really great this time!
## Post #12
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-10T12:52:25+00:00
- Post Title: Test Drive Unlimited 2 [2011/BNK]

> Reply from toolieo
>
> Nah Oleg only knows about the *.2DM  .3DD  .3DG* which are inside these BNK files. He waited for BNK extractors last time before looking at it.

=---------------------------=

Within HEX Editor I compared the two, they both are very similar but after all it is same BNK.

Ferrari 599 GTO  (TDU2)  comparing with the Jaguar XK Coupe (TDU1)



=---------------------------=

Ferrari 612 Scaglietti (TDU2)  Comparing with Ferrari 612 Scaglietti (TDU1) 



=---------------------------=

can you post a TDU1 bnk file so i can compare it to the TDU2 files too? krom's bnk extractor doesn't seem to work with the new bnk files so i'll see if i can make an extractor myself and go on with the files from there with the script.
## Post #13
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2011-02-10T13:20:43+00:00
- Post Title: Test Drive Unlimited 2 [2011/BNK]

Yes, here you are:

* snip *

for decompress files from xbox360 dlc you can use this string ([source](http://forum.xentax.com/viewtopic.php?p=43908#p43908)):

```
c:\offzip\offzip.exe -a -1 -z -15 C:\CarPack.big C:\ext 0x0
```
and you can find [offzip here](http://dl.dropbox.com/u/9919707/blogs/xentax.com/offzip.zip)

add: also i have all "not-ripped-yet" xbox dlc for TDU1
## Post #14
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-10T15:26:01+00:00
- Post Title: Test Drive Unlimited 2 [2011/BNK]

yep, those new bnk files have more stuff in there, heaps of havok physics and stuff, and header has changed no wonder krom's bnk extractor isn't working. i'll manually extract the new ones from let's say.... CCXR and see what's in there
## Post #15
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-10T17:43:39+00:00
- Post Title: Test Drive Unlimited 2 [2011/BNK]

i don't know why i can't upload more than one jpg... anyway, i'll just post this one texture out of the CCXR bnk file. the maxscript converts them all successfully!  i also made my own bnk extractor but can't figure out how to get the correct file names from there yet!



CCXR dds texture (converted to jpg) tex01.jpg (112.32 KiB) Viewed 1382 times
## Post #16
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2011-02-10T18:02:03+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Oh wow  so you unpack this files yeah? or..

it's my files, or it's from tdu2 *.big files? i don't get it
## Post #17
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-02-10T19:13:17+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

If this can get extracted, I will upload all the cars .bnk files as I do have them.  (Just like the samples)


However, I want to also know about the .big which they are actually in, I was lucky enough to get sent the .BNK's but how they got it out of the .BIG is another question.
## Post #18
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-10T19:19:52+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

yes i unpacked the CCXR bnk file. if i see krom i'll ask him how he does the file name thingy hehe, that's the only part missing right now from the extractor.

some geometry coming up, there are a couple of changes here and there in the meshes format but i'm working on it, these are some parts of the MEDIUM resolution of the CCXR. low and high are also available in the files. nice to see 3 LODS for every car!  



CCXR.jpg (84.29 KiB) Viewed 461 times
## Post #19
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-02-10T19:22:38+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

@vagos21: Excellent progress.   

So what about the .big?   Sorry for nagging, I just want to know if you do have any info about it.
---------

Oleg creator of Zmodeler, there is a thread there so he could maybe get a import for it. If you gave him the 3D model files what you've managed to get he could create a import and maybe even export.

He did it for TDU1.   

[http://forum.zmodeler2.com/viewtopic.php?t=5060](http://forum.zmodeler2.com/viewtopic.php?t=5060)
## Post #20
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-10T19:30:27+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

the problem is with the .big files, i extracted the bnk but no idea how u got your bnk files! maybe the guy can give them all to you, but distributing bnk files all over the place so other ppl can convert them too is, AFAIK, highly illegal! bad idea...
## Post #21
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-02-10T19:34:46+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from vagos21
>
> distributing bnk files all over the place so other ppl can convert them too is, AFAIK, highly illegal! bad idea...

Exactly, However in this case I am willing too if it helps.  Is what I was trying to say.  
=-=-=-=-==-=-=-=-==-=-=-=-==-=-=-=-==-=-=-=-==-=-=-=-==-=-=-=-==-=-=-=-==-=-=-=-==-=-=-=-=

Here is the file preview and how its setup.





Like ive said, I was sent the files by someone as they knew I modded TDU1.  They never gave any info on how they opened the .big format or anything. Which is sad because I would of loved to share the info here.
## Post #22
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-11T00:09:14+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

hi-res king's egg!
more research into the new geomtry format, it's getting more and more complicated as some meshes have different properties than others thus i cannot parse them with the same piece of code. after a lot of cleaning and moving around, here's a preview of the hi-res version of the car, with a couple of nice renders too    it's killing me! u can see the details on the back, none of these has textures in it    it's around 22K triangles hehe



hires_CCXR.jpg (197.46 KiB) Viewed 441 times
## Post #23
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-02-11T11:31:30+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Could you please post the whole extracted contents out of the .bnk?   That way some of us could poke around in it.  
-------

May I suggest since the model files are (.3dg .2dm .3dd) try putting them into Zmodeler, as I said before Zmodeler can open TDU1 geometry format so since TDU2 uses the same files it could possibly work.

If you don't have zmodeler I could do it for you.
## Post #24
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2011-02-11T12:30:21+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

```
this is the file table size"right after RULEZPADDING "
then there is 4bytes that are not needed might be an id.
Then each entry is 0x14 bytes long
this is a sample
C0 04 00 00 #Offset
90 8D 00 00 #Size
C3 2A 9D 02 #?
61 E8 69 72  #?
10 00 00 00 #always 10?
then the headers of each file are fairly easy to read.
```
## Post #25
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-11T12:33:29+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

that's what i've already done for the bnk, but the hard part is to get the right file names for each file, they're a few bytes below but they're kind of mixed up with folder paths...
## Post #26
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-11T16:38:36+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from toolieo
>
> Could you please post the whole extracted contents out of the .bnk?   That way some of us could poke around in it.  
-------

May I suggest since the model files are (.3dg .2dm .3dd) try putting them into Zmodeler, as I said before Zmodeler can open TDU1 geometry format so since TDU2 uses the same files it could possibly work.

If you don't have zmodeler I could do it for you.

no zmodeler does nothing upon loading the 3dg file and the rest in place. jesus, $60 to do that? maybe i should start selling my maxscript too?    lol
## Post #27
- Username: RoadTrain
- Rank: advanced
- Number of posts: 54
- Joined date: Thu Dec 13, 2007 12:57 am
- Post datetime: 2011-02-12T00:19:15+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from vagos21
>
> toolieo wrote:Could you please post the whole extracted contents out of the .bnk?   That way some of us could poke around in it.  
-------

May I suggest since the model files are (.3dg .2dm .3dd) try putting them into Zmodeler, as I said before Zmodeler can open TDU1 geometry format so since TDU2 uses the same files it could possibly work.

If you don't have zmodeler I could do it for you.  

no zmodeler does nothing upon loading the 3dg file and the rest in place. jesus, $60 to do that? maybe i should start selling my maxscript too?    lol
 I've expected zm won't import TDU2's 3dg since it supports only TDU1 (and nobody said it supports TDU2). Why to wonder?
## Post #28
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-12T09:21:56+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Toolieo can you post some more tdu2 bnk files? i'm trying to make the extractor work, unfortunately i'll have to hard-code some file types, so please post a couple of rims and buildings files so i can cover as many file types as possible. till now we have
3dg (geometry)
3dd (scene organization)
2db (textures)
2dm (materials)
xsb (?)
anm (animation)
dhk (havok physics data)
xmb (?)

so i want to make the bnk extractor as complete as it can get. cheers!
## Post #29
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-02-12T11:09:32+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

No problem. I don't have buildings etc as I was only given the main car files.    Sorry.

-------------------------
This (.rar) includes:

-2 Rims < Veyron Super Sport & Koenigsegg CCXR
-1 High LOD Interior < Corvette C1 Interior
-1 High LOD Model < Aston Martin One-77
-1 Medium LOD model < Koenigsegg CCXR
-1 Low Poly LOD Model < Koenigsegg CCXR
-Common Car.bnk  << Contains every car shared file (Cubemaps, carbon, etc etc)

haha, this reminds me of a food order..   
----------------------------

Link:[http://www.mediafire.com/file/w7y47663b ... lePack.rar](http://www.mediafire.com/file/w7y47663bgpjaw7/TDU2SamplePack.rar)
## Post #30
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-02-12T22:25:46+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

there's no filenames in big+map files, only hashes.
so, the extracted content will be looked like this:

```
bigfile_RU_4\4E9218214174451F
bigfile_RU_4\4F532D0594B7EC68
bigfile_RU_4\04F09307C423DCA0
bigfile_RU_4\5A7B3ABD26D0800B
bigfile_RU_4\5A7B3ABD26D1800B
bigfile_RU_4\5A7B3ABD26D2800B
bigfile_RU_4\5A7B3ABD26D3800A
bigfile_RU_4\5A7B3ABD26D3800B
bigfile_RU_4\5A7B3ABD26D5800B
bigfile_RU_4\5CE1102FBF670EE9
bigfile_RU_4\5E49E11033ED69D2
bigfile_RU_4\5EBE7EB1DE78C9A6
bigfile_RU_4\5EBE7EB1DE79CFB5
bigfile_RU_4\6A95A40BC40F74B7
bigfile_RU_4\6A95A40BC43C6EB3
bigfile_RU_4\6A95A40BC43C69B5
bigfile_RU_4\6A5603F0CA39099F
bigfile_RU_4\7A0B131D64CAB236
bigfile_RU_4\7D7497F83C1C3BCD
...

```

unless we got the filelist
1675 files in only one archive...
most of them have that "KNAB" signature at offset 0x08
## Post #31
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-12T23:03:48+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

ok the only new thing in the files you posted are sound files (.wav) so the extractor will be able to take out all this data and if there's someone who can bring out more bnks from big files it will be nice so i can make a complete extractor with the correct file names and types
## Post #32
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-02-12T23:40:17+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from vagos21
>
> ok the only new thing in the files you posted are sound files (.wav) so the extractor will be able to take out all this data and if there's someone who can bring out more bnks from big files it will be nice so i can make a complete extractor with the correct file names and types
bnks with hashes instead of names is ok?
## Post #33
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-02-13T08:05:24+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from vagos21
>
> ok the only new thing in the files you posted are sound files (.wav) so the extractor will be able to take out all this data and if there's someone who can bring out more bnks from big files it will be nice so i can make a complete extractor with the correct file names and types

File names like this:  "612_sessanta.bnk"

Or the path name like this: "C:\Program Files (x86)\Atari\TDU2\Euro\Bnk\Vehicules\High"

I am to believe its exactly like the path I just posted.   Reason?  TDU2 has a "Euro" folder just like TDU1, tdu2 is reading the videos and shaders from this "euro" folder within its main directory. Makes me believe this game can be extracted from the .big and run with a type of "Loose" option, something like NFS Shift modding.  You can extract Shift files and run the game with "-loose" on the end of the shortcut.

Which would also explain why Atari doesn't let you run TDU2 from the main .exe and requires the TDU2 Launcher.
## Post #34
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-13T09:52:59+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from qwerty
>
> vagos21 wrote:ok the only new thing in the files you posted are sound files (.wav) so the extractor will be able to take out all this data and if there's someone who can bring out more bnks from big files it will be nice so i can make a complete extractor with the correct file names and types  
bnks with hashes instead of names is ok?

i wouldn't mind if it's hashes instead of names, it's the content we're interested in anyway, would be just harder to find. there's probably a db with all the names too, maybe it's in the exe itself. but the point is what's inside the bnk files. i don't see anything looking like a normal bnk file in the .big file, it's all encrypted. there's no 3DG, 3DD and stuff. if you extract them the way you say will they come back to normal too?
## Post #35
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-02-13T13:27:49+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

ok, here is my script to extract all contents from big+map. 99% of these files are bnks
tested on multi2 (Russian/English) version of the game, with quickbms v0.4.8a

```
Open FDDE big 1
Endian big
GetDString DUMMY 12
Get OFFS long
GoTo OFFS
Get DUMMY long
Get NUMHASHES long
Get HASHOFFSET long
Math HASHOFFSET += OFFS
Get NUMFILEREC long
Get FILERECOFFSET long
Math FILERECOFFSET += OFFS
If NUMHASHES != NUMFILEREC
  CleanExit
EndIf
For I = 0 < NUMHASHES
  GoTo HASHOFFSET
  Get HASH1 long
  Get HASH2 long
  String NAME p= "%08X%08X.bin" HASH1 HASH2
  SavePos HASHOFFSET
  GoTo FILERECOFFSET
  Get FILESIZE long
  Get DUMMY long # compression?
  Get FILEOFFSET long
  SavePos FILERECOFFSET
  Math MEMSIZE = FILESIZE
  Math MEMSIZE x 4
  Log MEMORY_FILE FILEOFFSET MEMSIZE 1
  If MEMSIZE != FILESIZE
    Math MEMSIZE -= 4
    GetVarChr TMP MEMORY_FILE MEMSIZE long
    Math TMP ^= 0xD7A8E2D4
    PutVarChr MEMORY_FILE MEMSIZE TMP long
  EndIf
  FileXOR "\xD7\xA8\xE2\xD4"
  Log NAME 0 FILESIZE MEMORY_FILE
  FileXOR ""
Next I
```
## Post #36
- Username: SandroX
- Rank: beginner
- Number of posts: 34
- Joined date: Tue Apr 20, 2010 3:43 am
- Post datetime: 2011-02-13T14:48:32+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from qwerty
>
> ok, here is my script to extract all contents from big+map. 99% of these files are bnks
tested on multi2 (Russian/English) version of the game, with quickbms v0.4.8a

And what need to do with this?

p.s. I know how quickbms use
## Post #37
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2011-02-13T14:54:46+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from SandroX
>
> qwerty wrote:ok, here is my script to extract all contents from big+map. 99% of these files are bnks
tested on multi2 (Russian/English) version of the game, with quickbms v0.4.8a


And what need to do with this?

p.s. I know how quickbms use
if you know, why you asking him what to do?
## Post #38
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-02-13T15:05:25+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

save script to bms file, open it with quickbms, select .map file when asked the input file to extract.
## Post #39
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-02-13T15:21:37+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Cheers qwerty for the BMS script.


I have to say once unpacked its just confusing as all hell, I wouldn't even know where or what to start looking at.
## Post #40
- Username: SandroX
- Rank: beginner
- Number of posts: 34
- Joined date: Tue Apr 20, 2010 3:43 am
- Post datetime: 2011-02-13T16:51:23+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Tosyk
>
> if you know, why you asking him what to do?
If I know how to use quickbms I must know what I need do to with this script? Ты серьезно!?


qwerty, thank you!
## Post #41
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-13T16:54:09+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from toolieo
>
> Cheers qwerty for the BMS script.


I have to say once unpacked its just confusing as all hell, I wouldn't even know where or what to start looking at.


yep, that created one sweet big mess of files, but still it's a start. thanks for the script qwerty, good work!
## Post #42
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-13T16:56:06+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from SandroX
>
> Tosyk wrote:if you know, why you asking him what to do?
If I know how to use quickbms I must know what I need do to with this script? Ты серьезно!?


qwerty, thank you!

he already told you what to do...!!  

"save script to bms file, open it with quickbms, select .map file when asked the input file to extract."
 just make sure you have a recent quickbms version, i got a Invalid operator p but then downloaded the latest and it worked perfectly, even on win7
## Post #43
- Username: SandroX
- Rank: beginner
- Number of posts: 34
- Joined date: Tue Apr 20, 2010 3:43 am
- Post datetime: 2011-02-13T16:59:19+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

vagos21, what a hell!? I was asking something from you?
## Post #44
- Username: Kane
- Rank: n00b
- Number of posts: 13
- Joined date: Tue Dec 28, 2010 5:50 pm
- Post datetime: 2011-02-13T17:03:42+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

And any option to repack, or start the game with unpacked data?
## Post #45
- Username: bigBear
- Rank: mega-veteran
- Number of posts: 183
- Joined date: Fri Oct 09, 2009 2:51 am
- Post datetime: 2011-02-13T17:12:30+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from SandroX
>
> vagos21, what a hell!? I was asking something from you?
Wtf are you brabbling, man?
No need to act like.
be happy he atleast made an extractor.
Most of us would very appreciate that.
And you come here to bash with "wut da hell iz waz askin u sumtin?"
Just a tip, scroll a bit above till you see qwerty his post.
Read it, read it slowly and read it very very focused.
Try to use all the braincells you have and do what he said.
It cant be so hard, right?

Maybe the Power with you, LOL


@vagos, Im impressed you already have TDU2 car in 3DS max.
You work so fast!
It seems the TDU2 vehicles are more detailed.
Would you mind to make a screenshot of a wireframe of exterior and interior?
Im kinda curious.
## Post #46
- Username: speedycars
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Sat Sep 04, 2010 3:34 am
- Post datetime: 2011-02-13T17:53:34+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Nice job, qwerty!   

Could it be possible to modify the script so it could identify the file type? Now all files are bins, and you have to manually open them one by one to figure out what's in it... 

I'm interested in text files, so I could translate the game in my language (bulgarian by the way).

Good luck in exploring TDU2 formats!  I'll watch this thread.
## Post #47
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-13T18:40:23+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

bigBear, thanks for saving my sanity with that lol

for anyone planning to extract the big files using that script, i'm using my -under development- bnk extractor to see what kind of MESH filenames (3dg) exist in these bin-bnk files, and in which big files you can find them.

for example, you can use these text files to search for "veyron" and the line above the search results will tell you in which file geometry relative to veyron exists. that's another good step in the mess i guess...

in general, this is what's in the big files, as far as 3D models is concerned:

bigfile_RU_1 :  avatars, human bodies, jewels clothes accessories and stuff
bigfile_RU_2 :  islands sectors
bigfile_RU_3 :  more island sectors...
bigfile_RU_4 :  even more island sectors!
bigfile_RU_5 :  finally, what we've all been waiting for, CARS! all car files, traffic files etc!


text files are coming soon, it takes some time to generate them...
## Post #48
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-13T19:34:01+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

here they are!

for speedycars, i decided to include all filenames from all bnk files so good luck finding your language text files 

so now everyone knows which files are into which bins. have fun! i'm already listening to some wav soundtracks  


 bigfile_RU_1.zip
(178.42 KiB) Downloaded 223 times
## Post #49
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-13T19:36:39+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

bigfile_RU_2&3.zip
(181.96 KiB) Downloaded 154 times
## Post #50
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-13T19:37:53+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

bigfile_RU_4&5.zip
(142.12 KiB) Downloaded 225 times
## Post #51
- Username: bigBear
- Rank: mega-veteran
- Number of posts: 183
- Joined date: Fri Oct 09, 2009 2:51 am
- Post datetime: 2011-02-13T19:44:16+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

@vagos, no problem lol.
Someone needed to teach that guy a lesson for being an ultimate prick LOL

Its great to see you made time in craking these files.
Even its incomplete.
That game is just a few days out and you already pounded it in the ass haha.
Would it be possible to import the vehicles in 3DS?
And the textures, they seems to be 2db formats.
Can they be converted into dds or needs the model get imported first?

Cheers for the job, one you might know the full game formats, one day lol
And happy coding.
## Post #52
- Username: besweeet
- Rank: n00b
- Number of posts: 19
- Joined date: Mon Feb 14, 2011 4:10 am
- Post datetime: 2011-02-13T20:18:27+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

This is probably a very n00b question (hence my "ultra-noob" title), but how would one extract the contents out of the .bin files that are extracted from quickBMS? I just want to get the radio stations .
## Post #53
- Username: Kane
- Rank: n00b
- Number of posts: 13
- Joined date: Tue Dec 28, 2010 5:50 pm
- Post datetime: 2011-02-13T21:30:36+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Oh my GOD!   

Atari did a lot of useless compressions, the game is still huge but "compressed" twice.
## Post #54
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-13T22:01:22+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

@besweet: you can take the files out of the bin (bnk) files using a bnk extractor that i'm about to complete, if someone helps me that had already done this for TDU1, but he's not interested anymore. i extract the files correctly but their names are wrong for now, i wish i could fix it but... we'll see when i have more time

@bigBear: yes the 2db files are converted to dds automatically by the script i'm making to import the meshes into 3DS, but since the new format has a lot of different flavours inside it, it will take days until i realise what's going on in there. the CCXR screenshot you saw was pure luck that it worked, for some parts of the car it works for others not yet. as soon as i have something solid i'll post the script

cheers!
## Post #55
- Username: besweeet
- Rank: n00b
- Number of posts: 19
- Joined date: Mon Feb 14, 2011 4:10 am
- Post datetime: 2011-02-13T22:08:12+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from vagos21
>
> @besweet: you can take the files out of the bin (bnk) files using a bnk extractor that i'm about to complete, if someone helps me that had already done this for TDU1, but he's not interested anymore. i extract the files correctly but their names are wrong for now, i wish i could fix it but... we'll see when i have more time

cheers!

Thanks! Any ETA? Or is it possible now? I just want the radio stations.
## Post #56
- Username: atagonis
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Mon Feb 14, 2011 4:08 am
- Post datetime: 2011-02-13T22:49:20+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from besweeet
>
> vagos21 wrote:@besweet: you can take the files out of the bin (bnk) files using a bnk extractor that i'm about to complete, if someone helps me that had already done this for TDU1, but he's not interested anymore. i extract the files correctly but their names are wrong for now, i wish i could fix it but... we'll see when i have more time

cheers!

Thanks! Any ETA? Or is it possible now? I just want the radio stations.

I wrote a tool that extracts the music from the .bin files.

just do tdu2musicextract.exe <path to .bin files> <path to directory to put the music in>
[tdu2musicextract.rar](https://xentaxbackup.github.io/file/3910_tdu2musicextract.rar)
## Post #57
- Username: besweeet
- Rank: n00b
- Number of posts: 19
- Joined date: Mon Feb 14, 2011 4:10 am
- Post datetime: 2011-02-14T00:27:51+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Problem:


I initially extracted "bigfile_RU_5.map/.big" first, and all went well. The above error happens when trying to extract the first file.

Any ideas?
## Post #58
- Username: atagonis
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Mon Feb 14, 2011 4:08 am
- Post datetime: 2011-02-14T02:32:09+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

You only want the music right?

do quickbms.exe tdu2.bms F:\Games\Atari\TDU2\bigfile_RU_1.map F:\Games\Atari\TDU2\out
(assuming tdu2.bms is the name of the script file)

then use my tool

tdu2musicextract.exe F:\Games\Atari\TDU2\out F:\tdu2music
(you must create the tdu2music dir first ofc.)

You will then have all the music track files from the game. I got 47 files.
## Post #59
- Username: besweeet
- Rank: n00b
- Number of posts: 19
- Joined date: Mon Feb 14, 2011 4:10 am
- Post datetime: 2011-02-14T02:46:44+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from atagonis
>
> You only want the music right?

do quickbms.exe tdu2.bms F:\Games\Atari\TDU2\bigfile_RU_1.map F:\Games\Atari\TDU2\out
(assuming tdu2.bms is the name of the script file)

then use my tool

tdu2musicextract.exe F:\Games\Atari\TDU2\out F:\tdu2music
(you must create the tdu2music dir first ofc.)

You will then have all the music track files from the game. I got 47 files.

That's what I was going to do, but I can't get QuickBMS to extract the files from the first big file (giving QuickBMS the .map).
## Post #60
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-02-14T09:13:52+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from besweeet
>
> That's what I was going to do, but I can't get QuickBMS to extract the files from the first big file (giving QuickBMS the .map).
which version of the game you have? what's exact size (in bytes) of the bigfile_RU_1.big? can you attach your bigfile_RU_1.map file?
## Post #61
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-14T09:19:59+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from bigBear
>
> @vagos, no problem lol.
Someone needed to teach that guy a lesson for being an ultimate prick LOL

Its great to see you made time in craking these files.
Even its incomplete.
That game is just a few days out and you already pounded it in the ass haha.
Would it be possible to import the vehicles in 3DS?
And the textures, they seems to be 2db formats.
Can they be converted into dds or needs the model get imported first?

Cheers for the job, one you might know the full game formats, one day lol
And happy coding.

here are the textures of the mp4-12c converted by the maxscript, the only thing missing is the correct names...     

 mp4-12C.rar
(228.69 KiB) Downloaded 117 times
## Post #62
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-02-14T11:15:18+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

That one was pretty hard to write 

```
Set NAME string ""
Log MEMORY_FILE 0 0
PutVarChr MEMORY_FILE 0 4 long
GetDString DUMMY 8
GetDString ID 4
If ID != "KNAB"
  CleanExit
EndIf
GoTo 0x28
Get NUMFILES long
Get DUMMY long
Get FATOFFSET long
Math FATOFFSET += 8
Get DUMMY long
Get NAMESOFFSET long
Math NAMESOFFSET += 8
Get FILESORDER long
Math FILESORDER += 8
PutVarChr MEMORY_FILE 0 FILESORDER long
GoTo NAMESOFFSET
If NUMFILES != 0
  CallFunction Parser
EndIf

StartFunction Parser
  Get NAMESZ byte
  If NAMESZ > 0x7F
    String FULLNAME += NAME
    String FULLNAME += \
    Get FOLDERS byte
	If FOLDERS > 0x7F
	  Get TMP byte
	  Math TMP < 7
	  Math FOLDERS & 0x0000007F
	  Math FOLDERS | TMP
#	  Print %FOLDERS%
	EndIf
    Math NAMESZ ^= 0xFF
    Math NAMESZ += 1
    GetDString NAME NAMESZ
    For I = 0 < FOLDERS
      CallFunction Parser
    Next I
  Else
    GetDString BASENAME NAMESZ
    String FULLNAME += BASENAME
    String FULLNAME += NAME
#   Print %FULLNAME%
	SavePos NAMESOFFSET
	GetVarChr FILESORDER MEMORY_FILE 0 long
	GoTo FILESORDER
	If NUMFILES > 0x100
	  Get FILENUMBER word
	Else
	  Get FILENUMBER byte
	EndIf
	SavePos FILESORDER
	PutVarChr MEMORY_FILE 0 FILESORDER long
	Math FILENUMBER *= 0x14
	Math FATOFFSET += FILENUMBER
	GoTo FATOFFSET
	Get OFFSET long
	Get SIZE long
	GetDString DUMMY 12
    Log FULLNAME OFFSET SIZE
	GoTo NAMESOFFSET
  EndIf
EndFunction Parser
```

use this script to extract content from the .bins (or .bnks, if you like).
this is not the final version, it will crash if there is more than 256 files of same type in one dir (not including subdirs, only current dir) and, maybe, in some other cases 
I'm still working on this...
UPD: the issue with 256 files is fixed now
UPD2: one more small fix - empty .bnk files are now handled correctly
## Post #63
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-02-14T11:42:53+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Works flawless with car .bnk files so far.   


With this its way easy to convert .2db files with "Djey's Modding Tools" to convert the textures to .dds
## Post #64
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-02-14T12:39:50+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I've updated the script in previous post, now it should correctly unpack dirs with many files (in previous version maximum was 128 files, not even 256)
## Post #65
- Username: Koce
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Wed Apr 14, 2010 11:33 am
- Post datetime: 2011-02-14T13:13:34+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Sorry for question.For this to work do i need to change something in script or i just paste it in bms file.

I manage to make it.The problem was i load big file not map.
## Post #66
- Username: besweeet
- Rank: n00b
- Number of posts: 19
- Joined date: Mon Feb 14, 2011 4:10 am
- Post datetime: 2011-02-14T14:19:09+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from qwerty
>
> besweeet wrote:That's what I was going to do, but I can't get QuickBMS to extract the files from the first big file (giving QuickBMS the .map).
which version of the game you have? what's exact size (in bytes) of the bigfile_RU_1.big? can you attach your bigfile_RU_1.map file?

According to UpLauncher, it's "TDU2 QA v069 build 1". File sizes ("size", not "size on disk"):
bigfile_RU_1.big: 3,281,574,196 bytes
bigfile_RU_1.map: 77,184 bytes

Attached is the .map file.
[bigfile_RU_1.map.zip](https://xentaxbackup.github.io/file/3916_bigfile_RU_1.map.zip)
## Post #67
- Username: bigBear
- Rank: mega-veteran
- Number of posts: 183
- Joined date: Fri Oct 09, 2009 2:51 am
- Post datetime: 2011-02-14T15:56:37+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from vagos21
>
> bigBear wrote:@vagos, no problem lol.
Someone needed to teach that guy a lesson for being an ultimate prick LOL

Its great to see you made time in craking these files.
Even its incomplete.
That game is just a few days out and you already pounded it in the ass haha.
Would it be possible to import the vehicles in 3DS?
And the textures, they seems to be 2db formats.
Can they be converted into dds or needs the model get imported first?

Cheers for the job, one you might know the full game formats, one day lol
And happy coding.

here are the textures of the mp4-12c converted by the maxscript, the only thing missing is the correct names...     mp4-12C.rar

Amazing job!
Textures are no problem at all asides from the names.


At anyone who plays the game.
How is it?
Did they improved it or has it bugs and unlikeley things?
Is the handling improved?
Last time I tried TDU1 and it was a crappy shitgame.
Cars are like stones on wheels.
Since then, I removed that game.
## Post #68
- Username: yurtaev
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Tue Feb 15, 2011 12:30 am
- Post datetime: 2011-02-14T17:13:44+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from besweeet
>
> qwerty wrote:besweeet wrote:That's what I was going to do, but I can't get QuickBMS to extract the files from the first big file (giving QuickBMS the .map).
which version of the game you have? what's exact size (in bytes) of the bigfile_RU_1.big? can you attach your bigfile_RU_1.map file?

According to UpLauncher, it's "TDU2 QA v069 build 1". File sizes ("size", not "size on disk"):
bigfile_RU_1.big: 3,281,574,196 bytes
bigfile_RU_1.map: 77,184 bytes

Attached is the .map file.

The same problem:
bigfile_RU_1.big: 3 281 575 936 bytes
bigfile_RU_1.map: 77 824 bytes
## Post #69
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-02-14T17:18:35+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I have the opposite problem. I can extract .big files from both P2P (multi2) and RLD(multi5) releases, but I can't extract any .bin files (using the second script). quickBMS says "0 files found" and I think I have the latest ver 0.4.8a.

My RU_1 filesizes are the same as besweeet's
## Post #70
- Username: yurtaev
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Tue Feb 15, 2011 12:30 am
- Post datetime: 2011-02-14T18:39:16+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

We just need a OST, as someone put together, please give links
## Post #71
- Username: Nobby
- Rank: veteran
- Number of posts: 109
- Joined date: Thu May 13, 2010 7:35 am
- Post datetime: 2011-02-14T18:48:28+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from bigBear
>
> At anyone who plays the game.
How is it?
Did they improved it or has it bugs and unlikeley things?
Is the handling improved?
Last time I tried TDU1 and it was a crappy shitgame.
Cars are like stones on wheels.
Since then, I removed that game.

Bigbear, its worse than the first game BY MILES.  TDU1 was actually a decent game for what it was. its wasn't meant to be a serious racing simulator, more of an arcade cruiser.. when you played the game on hardcore mode with a decent wheel and pedals it played really well ( i used a logitec G25 )

ok TDU2.. the game servers aren't even working ATM so no online mode, only offline profiles ( which is different to the online ) so any cars you win in offline, you cannot use in online when they servers are back on again. 
No proper support for steering wheels, clutch support doesn't work very well, you get a choice between manual or auto gears, but manual is sequential gears, so no using the H shifter on the g25 now. 
Overall handing is a little worse. The only real bonus points TDU2 has over TDU1 is you have slightly higher quality cars, slightly better looking GFX and you get 2 islands to play on, you start on the Spanish island of Ibiza and once you reach level 10 you have access to Hawaii ( so thats probably the same map as you had in TDU1 )
I openly admit to going pirate with TDU1 and i wished is hadn't, as i missed out on the online mode. for TDU2 i should have gone pirate and saved my money. In all honesty, to anyone thinking of buying this game, really i wouldn't... you would be much better converting all the cars from tdu 2 over to tdu1 and enjoying a much better game. Oh one more thing, i had to take my cd back to the store and get it swapped coz the first copy i got had a broken install  half way through the install it said one of the files was corrupt   

BTW bigbear.. just so you know, there have been MANY community based improvements done for TDU1 including a heck of a lot of custom cars being built, the ability to tweak the performance of the car, improved gfx ranging from better quality textures, to being able to switch the whole game over to " winter mode" and various game fixes to improve stability issues.
## Post #72
- Username: besweeet
- Rank: n00b
- Number of posts: 19
- Joined date: Mon Feb 14, 2011 4:10 am
- Post datetime: 2011-02-14T18:51:57+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I like TDU2. There's something about TDU1 that has me leaning towards that one, but TDU2 is still very fun to cruise around with. Handling isn't a problem for me, as I play with a gamepad. Servers are having issues. Sometimes you can connect, sometimes you can't. Offline profiles are separate from online profiles. Overall, I like it. Cruising around Ibiza is fun. I'm a huge fan of TDU1, and you get the best of both worlds with TDU2.
## Post #73
- Username: bigBear
- Rank: mega-veteran
- Number of posts: 183
- Joined date: Fri Oct 09, 2009 2:51 am
- Post datetime: 2011-02-14T20:36:25+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Nobby
>
> bigBear wrote:At anyone who plays the game.
How is it?
Did they improved it or has it bugs and unlikeley things?
Is the handling improved?
Last time I tried TDU1 and it was a crappy shitgame.
Cars are like stones on wheels.
Since then, I removed that game.

Bigbear, its worse than the first game BY MILES.  TDU1 was actually a decent game for what it was. its wasn't meant to be a serious racing simulator, more of an arcade cruiser.. when you played the game on hardcore mode with a decent wheel and pedals it played really well ( i used a logitec G25 )

ok TDU2.. the game servers aren't even working ATM so no online mode, only offline profiles ( which is different to the online ) so any cars you win in offline, you cannot use in online when they servers are back on again. 
No proper support for steering wheels, clutch support doesn't work very well, you get a choice between manual or auto gears, but manual is sequential gears, so no using the H shifter on the g25 now. 
Overall handing is a little worse. The only real bonus points TDU2 has over TDU1 is you have slightly higher quality cars, slightly better looking GFX and you get 2 islands to play on, you start on the Spanish island of Ibiza and once you reach level 10 you have access to Hawaii ( so thats probably the same map as you had in TDU1 )
I openly admit to going pirate with TDU1 and i wished is hadn't, as i missed out on the online mode. for TDU2 i should have gone pirate and saved my money. In all honesty, to anyone thinking of buying this game, really i wouldn't... you would be much better converting all the cars from tdu 2 over to tdu1 and enjoying a much better game. Oh one more thing, i had to take my cd back to the store and get it swapped coz the first copy i got had a broken install  half way through the install it said one of the files was corrupt   

BTW bigbear.. just so you know, there have been MANY community based improvements done for TDU1 including a heck of a lot of custom cars being built, the ability to tweak the performance of the car, improved gfx ranging from better quality textures, to being able to switch the whole game over to " winter mode" and various game fixes to improve stability issues.

Thanks for your review.
It seems I will not get the game again.
I readed about a lot of bugs/glitches and such.
But worse than TDU1, thats some serious shit.
And yeah, better pirating broken games than bringing them back to the store.
The graphics looks nice, but if it has issues, then I think I do not get the game.
Im only interested in these vehicles because of the details.

And what about the handling?
They perform even worse I guess.
I have seen the trailers of that slipping car, it looked like a hard shit slding.
No fraction, no gears.
## Post #74
- Username: besweeet
- Rank: n00b
- Number of posts: 19
- Joined date: Mon Feb 14, 2011 4:10 am
- Post datetime: 2011-02-14T21:02:59+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I'm still having problems extracting the files from the first 4 .big/.map files using the below BMS script:

```
Open FDDE big 1
Endian big
GetDString DUMMY 12
Get OFFS long
GoTo OFFS
Get DUMMY long
Get NUMHASHES long
Get HASHOFFSET long
Math HASHOFFSET += OFFS
Get NUMFILEREC long
Get FILERECOFFSET long
Math FILERECOFFSET += OFFS
If NUMHASHES != NUMFILEREC
  CleanExit
EndIf
For I = 0 < NUMHASHES
  GoTo HASHOFFSET
  Get HASH1 long
  Get HASH2 long
  String NAME p= "%08X%08X.bin" HASH1 HASH2
  SavePos HASHOFFSET
  GoTo FILERECOFFSET
  Get FILESIZE long
  Get DUMMY long # compression?
  Get FILEOFFSET long
  SavePos FILERECOFFSET
  Math MEMSIZE = FILESIZE
  Math MEMSIZE x 4
  Log MEMORY_FILE FILEOFFSET MEMSIZE 1
  If MEMSIZE != FILESIZE
    Math MEMSIZE -= 4
    GetVarChr TMP MEMORY_FILE MEMSIZE long
    Math TMP ^= 0xD7A8E2D4
    PutVarChr MEMORY_FILE MEMSIZE TMP long
  EndIf
  FileXOR "\xD7\xA8\xE2\xD4"
  Log NAME 0 FILESIZE MEMORY_FILE
  FileXOR ""
Next I
```


The 5th big file is still the only one that extracts normally. The .bin files are also extracted normally using the script somewhere on this 5th page.
## Post #75
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-02-14T21:52:06+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from besweeet
>
> I'm still having problems extracting the files from the first 4 .big/.map files using the below BMS script:
The 5th big file is still the only one that extracts normally. The .bin files are also extracted normally using the script somewhere on this 5th page.
Your .map file is identical to mine, size of .big file is the same. Have no idea why script crashes. Try to open it with "quickbms.exe", not "quickbms64_test.exe"
## Post #76
- Username: bigBear
- Rank: mega-veteran
- Number of posts: 183
- Joined date: Fri Oct 09, 2009 2:51 am
- Post datetime: 2011-02-14T22:05:48+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Offtopic,

I just have found out this game has alot of missing cars.
Especially Lamborghini, the only car I loved.
But, it has a very short car list.
So definiteley NOT worth to buy this game, even not to pirate it.

For after 5 years I do expect it a lot more better game and bigger car list.
But its worse.

Like most of the comments, no Lamborghini=no buy.
Here the car list

[http://www.youtube.com/watch?v=08dT56N3 ... r_embedded](http://www.youtube.com/watch?v=08dT56N33gM&feature=player_embedded)
## Post #77
- Username: besweeet
- Rank: n00b
- Number of posts: 19
- Joined date: Mon Feb 14, 2011 4:10 am
- Post datetime: 2011-02-15T01:33:11+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from qwerty
>
> besweeet wrote:I'm still having problems extracting the files from the first 4 .big/.map files using the below BMS script:
The 5th big file is still the only one that extracts normally. The .bin files are also extracted normally using the script somewhere on this 5th page.
Your .map file is identical to mine, size of .big file is the same. Have no idea why script crashes. Try to open it with "quickbms.exe", not "quickbms64_test.exe"

It's working! Thanks. No wonder the x64 version is considered a "test" .


> Reply from bigBear
>
> Offtopic,

I just have found out this game has alot of missing cars.
Especially Lamborghini, the only car I loved.
But, it has a very short car list.
So definiteley NOT worth to buy this game, even not to pirate it.

For after 5 years I do expect it a lot more better game and bigger car list.
But its worse.

Like most of the comments, no Lamborghini=no buy.
Here the car list

http://www.youtube.com/watch?v=08dT56N3 ... r_embedded

While there are a lot of pros and cons to the game, I still find it enjoyable for cruising, which is all I really did in TDU1. The lack of Lamborghini's are quick disappointing, but they'll probably come in the forum of a DLC. Most people are jizzing over the Bugatti Veyron's, which I'm not pleased with. The Koenigsegg is better IMO.
## Post #78
- Username: besweeet
- Rank: n00b
- Number of posts: 19
- Joined date: Mon Feb 14, 2011 4:10 am
- Post datetime: 2011-02-15T01:40:22+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Okay, new problem. QuickBMS crashes when selecting all of the .bin files (over 3,000 of them). Wasn't this supposed to be fixed? Manually extracting 256 .bin files at a time will become quite annoying .
## Post #79
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-02-15T02:35:09+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

use

```
quickbms.exe -o tdu2_bnk.bms d:\input_folder_with_all_bins d:\output_folder
```

and have patience... 
ps: I've done small fix in the script, so it won't crash on empty bnks. save it once again from original post.
## Post #80
- Username: besweeet
- Rank: n00b
- Number of posts: 19
- Joined date: Mon Feb 14, 2011 4:10 am
- Post datetime: 2011-02-15T03:19:55+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from qwerty
>
> use
Code: Select allquickbms.exe -o tdu2_bnk.bms d:\input_folder_with_all_bins d:\output_folder
and have patience... 
ps: I've done small fix in the script, so it won't crash on empty bnks. save it once again from original post.

Works .
## Post #81
- Username: besweeet
- Rank: n00b
- Number of posts: 19
- Joined date: Mon Feb 14, 2011 4:10 am
- Post datetime: 2011-02-15T03:31:34+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

It turns out that this game has A LOTTTTTTTTTTT of files. WAY more than any other game I've ever seen!  I wonder if the game would perform better if they would organized/optimized things a bit? Or does the amount of files not mean much in terms of performance?
## Post #82
- Username: besweeet
- Rank: n00b
- Number of posts: 19
- Joined date: Mon Feb 14, 2011 4:10 am
- Post datetime: 2011-02-15T04:33:48+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I have every single file extracted. If anybody needs anything, let me know.
## Post #83
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-02-15T10:44:08+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from besweeet
>
> It turns out that this game has A LOTTTTTTTTTTT of files. WAY more than any other game I've ever seen!  I wonder if the game would perform better if they would organized/optimized things a bit? Or does the amount of files not mean much in terms of performance?
This game have only 5 data files (bigfile_RU_1.big - bigfile_RU_5.big). And thats you have "A LOTTTTTTTTTTT of files" after unpacking it twice. So the game is pretty optimized 

> Reply from besweeet
>
> I have every single file extracted. If anybody needs anything, let me know.
If anybody needs anything, he can extract it by himself now. Just like you are. When there are 2 scripts in public access, there is nothing particular that you can extract all the files.
## Post #84
- Username: Stainless
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Tue Feb 15, 2011 7:02 pm
- Post datetime: 2011-02-15T12:11:14+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Well extracting is done. But its only the half of a work. Is there a way to replace original files in big-files with new ones?
## Post #85
- Username: LikeSun
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Tue Feb 15, 2011 8:42 pm
- Post datetime: 2011-02-15T12:54:48+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Hi guys, i use quickbms for extract TDU2 files, but i can't, i have error.

i use this script:

```
Open FDDE big 1
Endian big
GetDString DUMMY 12
Get OFFS long
GoTo OFFS
Get DUMMY long
Get NUMHASHES long
Get HASHOFFSET long
Math HASHOFFSET += OFFS
Get NUMFILEREC long
Get FILERECOFFSET long
Math FILERECOFFSET += OFFS
If NUMHASHES != NUMFILEREC
  CleanExit
EndIf
For I = 0 < NUMHASHES
  GoTo HASHOFFSET
  Get HASH1 long
  Get HASH2 long
  String NAME p= "%08X%08X.bin" HASH1 HASH2
  SavePos HASHOFFSET
  GoTo FILERECOFFSET
  Get FILESIZE long
  Get DUMMY long # compression?
  Get FILEOFFSET long
  SavePos FILERECOFFSET
  Math MEMSIZE = FILESIZE
  Math MEMSIZE x 4
  Log MEMORY_FILE FILEOFFSET MEMSIZE 1
  If MEMSIZE != FILESIZE
    Math MEMSIZE -= 4
    GetVarChr TMP MEMORY_FILE MEMSIZE long
    Math TMP ^= 0xD7A8E2D4
    PutVarChr MEMORY_FILE MEMSIZE TMP long
  EndIf
  FileXOR "\xD7\xA8\xE2\xD4"
  Log NAME 0 FILESIZE MEMORY_FILE
  FileXOR ""
Next I
```


And i use last version of quickbms from here [http://aluigi.org/papers/quickbms.zip](http://aluigi.org/papers/quickbms.zip)

i start quickbms, choose script file, choose bigfile_RU_1.map, choose directory and then i have this error:
[](http://img692.imageshack.us/i/55113989.jpg/)


anybody can help? I just want to get all music from game.
## Post #86
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-02-15T15:23:51+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Chipicao
>
> I have the opposite problem. I can extract .big files from both P2P (multi2) and RLD(multi5) releases, but I can't extract any .bin files (using the second script). quickBMS says "0 files found" and I think I have the latest ver 0.4.8a.

My RU_1 filesizes are the same as besweeet's
Solved! I just had to run everything from the command prompt instead of opening quickbms.exe.

@LikeSun create the output folder first
## Post #87
- Username: LikeSun
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Tue Feb 15, 2011 8:42 pm
- Post datetime: 2011-02-15T15:41:00+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Chipicao
>
> 
@LikeSun create the output folder first

See picture, i do this.
## Post #88
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-02-15T16:46:29+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Sorry, but I don't see it in your picture...

I mean make the folder yourself, mkdir D:\TDU2BIG1
## Post #89
- Username: LikeSun
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Tue Feb 15, 2011 8:42 pm
- Post datetime: 2011-02-15T17:15:52+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Chipicao
>
> Sorry, but I don't see it in your picture...

I mean make the folder yourself, mkdir D:\TDU2BIG1
[](http://img821.imageshack.us/i/70535033.jpg/)

I already make it. When i trying to extract, in this directory created 0018BE63A1ECAFE0.bin file with 0 bytes.
## Post #90
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-15T20:52:16+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

maxscript slowly begins to work well for cars, unfortunately the vertex types are endless and i have to manually build them looking at the hex files. today i started coding all this, and the exterior of 2 cars i tested are imported correctly, all geometries from the files. for the next days i'll look into object hierarchy and materials, stay tuned!

here's a little teaser, unlike the CCRX you can see all objects imported (even though i deleted the windshield)



SLR.jpg (193.38 KiB) Viewed 99 times
## Post #91
- Username: besweeet
- Rank: n00b
- Number of posts: 19
- Joined date: Mon Feb 14, 2011 4:10 am
- Post datetime: 2011-02-15T21:10:53+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from vagos21
>
> maxscript slowly begins to work well for cars, unfortunately the vertex types are endless and i have to manually build them looking at the hex files. today i started coding all this, and the exterior of 2 cars i tested are imported correctly, all geometries from the files. for the next days i'll look into object hierarchy and materials, stay tuned!

here's a little teaser, unlike the CCRX you can see all objects imported (even though i deleted the windshield)
SLR.jpg

Nice! So all of this will eventually lead to being able to fully bring the cars into modeling programs, right?
## Post #92
- Username: SandroX
- Rank: beginner
- Number of posts: 34
- Joined date: Tue Apr 20, 2010 3:43 am
- Post datetime: 2011-02-15T21:33:49+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

vagos21, awesome, many thanks for your work!
## Post #93
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-15T23:02:56+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

just made the script work for rims too (no, tyres are not included in the rim files unfortunately so u have to add them on your own)

here's a nice render of the zonda roadster with the rims on. UV mapping on them and the inside works 

will try for interiors later!



zonda.jpg (232.5 KiB) Viewed 165 times
## Post #94
- Username: besweeet
- Rank: n00b
- Number of posts: 19
- Joined date: Mon Feb 14, 2011 4:10 am
- Post datetime: 2011-02-15T23:10:46+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from vagos21
>
> just made the script work for rims too (no, tyres are not included in the rim files unfortunately so u have to add them on your own)

here's a nice render of the zonda roadster with the rims on. UV mapping on them and the inside works 

will try for interiors later!

A Zonda inside of a church? 

Anyway, back to my radio station hunt... Does anyone know if there's a file that tells the game what .wav files (for commercials, music, etc) to play, in what order, and when?
## Post #95
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-16T00:25:48+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

ok guys now i really need your help... any direct3D gurus in here who know what FVF is (flexible vertex format) and how their flags are numerically set? the vertex buffer headers have info for that kind of thing but i can't figure out what's going on, and i really don't wanna hard code dozens of possible combinations i'm stuck! looks like this till now:

position =                                       #(2816,512,0,3072,5888,2816,4352,0,0,0,0,4160)
position&UV, normal =                       #(2817,512,0,3073,5888,2816,4352,0,0,0,0,4160)
position, normal&color =                    #(2817,513,0,3072,5888,2816,4352,0,0,0,0, 320)
position, normal&color =                    #(2817,513,0,3072,5888,2816,4352,0,0,0,0,4160)
position, normal&color&UV=                #(2817,513,0,3073,     0,     0,4352,0,0,0,0, 320)
position, normal&color&UV =               #(2817,513,0,3073,5888,2816,4352,0,0,0,0, 320)
position&UV, normal&color =               #(2817,513,0,3073,5888,2816,4352,0,0,0,0,4160)
position, normal&color&UV&qqqq  =      #(2817,513,0,3073,5889,2817,4352,0,0,0,0, 320)
position&UV, normal&color&qqqq =       #(2817,513,0,3073,5889,2817,4352,0,0,0,0,4160)
position, normal&color&UV1&UV2 =       #(2817,513,0,3074,5888,2816,4352,0,0,0,0, 320)
position, normal&color&UV1&UV2&qq=   #(2817,513,0,3074,5889,2816,4352,0,0,0,0, 320)
position&UV1&UV2, normal&color=        #(2817,513,0,3074,5888,2816,4352,0,0,0,0,4160)
position, normal&color&UV&qqqqqq=     #(2817,513,0,3074,5889,2817,4352,0,0,0,0, 320)
position, normal&color&UV1&UV2&qqqq=#(2817,513,0,3074,5889,2817,4352,0,0,0,0, 320)
position&UV&qq, normal&color&qqqq=    #(2817,513,0,3074,5889,2817,4352,0,0,0,0,4160)
position&UV1&UV2, normal&color&qqqq=#(2817,513,0,3074,5889,2817,4352,0,0,0,0,4160)
position&UV&qqqq, normal&color =        #(2817,513,0,3075,5888,2816,4352,0,0,0,0,4160)

vertices come in sets, i separate them by commas, so if we have 30 vertices, position, normal&color means i'll first have 30 positions, and then 30normals and colors together. q is a 32bit long that i haven't figured out yet.

so, anyone got a clue how these numbers work? as you can see the combinations can go on forever...
## Post #96
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-02-16T08:07:50+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Since the export of bnk's and the .big, those who own zmodeler 'Oleg' over at Zmodeler forums is working on a TDU2 Import too.  

This is what he posted and done so far. 

The thread for zmodeler users is here
## Post #97
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-16T09:20:10+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

would oleg mind sharing with us that little DXVB header info?
## Post #98
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-16T13:31:51+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

materials and all objects from test car (zonda) are now all imported correctly and automatically. they're also placed on the right positions and sub-materials work as they should. also working dummies which define hierarchy. here's the full zonda as imported by the script (only deleted med and low versions)

only thing left now is to understand how these endless vertex buffer headers work!!



zonda_new.jpg (206.93 KiB) Viewed 138 times
## Post #99
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-16T14:11:48+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

and the 599 GTO too.... cars with soft tops and interiors are not yet supported, i hope i won't have to type a bunch of definitions...



599GTO.jpg (180.67 KiB) Viewed 136 times
## Post #100
- Username: SandroX
- Rank: beginner
- Number of posts: 34
- Joined date: Tue Apr 20, 2010 3:43 am
- Post datetime: 2011-02-16T15:15:49+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

vagos21, what about texture coordinates, are they ok after import in max?
## Post #101
- Username: Ares722
- Rank: veteran
- Number of posts: 154
- Joined date: Thu Jul 15, 2010 9:15 pm
- Post datetime: 2011-02-16T16:39:10+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

wow, the quality of the mesh is really great!!
## Post #102
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-02-16T17:38:02+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Oleg has released his TDU2 Filter for Zmodeler.   

For a image to show, I imported the Veyron SuperSports Interior.
[](http://img89.imageshack.us/img89/5707/101og.jpg)
## Post #103
- Username: Nobby
- Rank: veteran
- Number of posts: 109
- Joined date: Thu May 13, 2010 7:35 am
- Post datetime: 2011-02-16T17:44:10+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from besweeet
>
>  Most people are jizzing over the Bugatti Veyron's, which I'm not pleased with. The Koenigsegg is better IMO.

I dont know why they would be getting so excited over those cars we have had those in TDU 1 for quite a long time. And the versions that were for tdu 1 i believe came from higher quality sources than the TDU2 cars anyway.

The only real new thing this game brings that TDU 1 didnt have is a new island, they was supposed to be adding MORE things into the control options, but instead they have taken things away.  they was supposed to be giving us usable turn signals ( like all the AI cars in tdu1 had) but they didnt do that, they take things away from the controllers , such as being able to use a H gate shifter. the G25 wheel is pretty pointless now for TDU2 as most of its great features cannot be used in the game. apart from that the only new things we have are slightly better GFX and slightly better car quality.  and that took how long to make.....  They should have just used the TDU1 base code and added more stuff to it, rather than rewriting the whole thing again and cutting out all the good things that made the game what it was.  I so wish i could return the game to the store, but unfortunately " its sh#t " just does not qualify for a refund.
## Post #104
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-16T18:59:14+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from SandroX
>
> vagos21, what about texture coordinates, are they ok after import in max?

yes they're ok for the cars that work (look at that 599 taillights), only thing u have to do is load the textures yourself because the names in the bnks aren't that close to the real names. but the textures are not too many and the material editor tells you what textures it's expecting (diffuse, specular etc) so it shouldn't be too difficult to locate them

anyone said something about interiors?      ~40K triangles, sick detail!



interior_srt10.jpg (126.31 KiB) Viewed 97 times
## Post #105
- Username: OrangeC
- Rank: double-veteran
- Number of posts: 868
- Joined date: Sun Apr 20, 2008 9:58 am
- Post datetime: 2011-02-16T23:03:06+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

The contents of this post was deleted because of possible forum rules violation.
## Post #106
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-16T23:39:17+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

maxscript working perfectly on these cars (i give them with folder code so you can find it easier in the bnks)

2_eleven
8c_competizione
300_sl
599_gto
612_sessanta
c8_aileron
camaro_1lt (pic!)
charger_srt8_police
clk_63_amg_black_series
fxx_evoluzione
hotrod
mf3_roadster
mustang_fastback_68
mustang_shelby_gt500
r8_v10
range_rover_sport_hse
sls_amg
superlight_r500
type_d
type_e
v8_vantage
v12_vantage
veyron_16_4
viper_srt10
viper_srt10_acr  INTERIOR
viper_srt10_police
zonda_f_roadster


it's NOT working yet for the following cars:
599_gtb_fiorano
ac_427
db9_volante
delta_integrale_evo_2
rs6_avant
slr_mclaren_722s_roadster
tt_rs_cab

there are still dozens of cars to test it on, interiors and rims and apparently i don't have THAT much time to import the whole game using the script lol, so, what do u think i release what works so far and you report back cars that do not work, or interiors and stuff?

i guess u already know how to use this since the older TDU1 maxscript? 

cars that don't import correctly will obviously throw an error somewhere in the script. i recommend opening the script listener window (F11) so you can see what's going on with textures conversion and scene importing. if it says something about "unknown fvf" and throws an error, give me the name of that car and i'll see what i can do!


 TDU2_mesh_import.zip
(6.61 KiB) Downloaded 282 times
## Post #107
- Username: besweeet
- Rank: n00b
- Number of posts: 19
- Joined date: Mon Feb 14, 2011 4:10 am
- Post datetime: 2011-02-17T01:24:22+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Man, I wish I could do some Zmodeler 2 action, but I'm not paying $60 just to play with some models from TDU2.
## Post #108
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-17T09:21:25+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from besweeet
>
> Man, I wish I could do some Zmodeler 2 action, but I'm not paying $60 just to play with some models from TDU2.

i'm making this script for the same reason  and i'm not gonna sell it, i believe modding should be a free case, since there's a bit of "illegality" in it hehe
anyone want some instructions on how to get a car fast into max from the big file? i'm thinking about making a tutorial video on youtube
## Post #109
- Username: SandroX
- Rank: beginner
- Number of posts: 34
- Joined date: Tue Apr 20, 2010 3:43 am
- Post datetime: 2011-02-17T09:43:47+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from vagos21
>
> i guess u already know how to use this since the older TDU1 maxscript?
I dont know... help!
## Post #110
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-17T12:58:01+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

ok here are the steps:

TO IMPORT TDU 2 CAR TO 3DS MAX
1. Fire up max (script was made in 2010 but commands used should work on max 9 all higher versions)
2. Maxscript -> Listener   Or F11  (So we can see what's going on)
3. Maxscript -> Open script...   (select the script)
4. Tools -> Evaluate All.  Or Ctrl+E   (Compiles the script, we can see that in the listener window. as long as things are blue it's all good. hit Ctrl+E for 3-4 times, sometimes it needs this to work i guess it's a bug)
5. Customize -> Customize User Interface ->Toolbars tab -> Category -> select "myscripts"
you'll see TDU, drag and drop it anywhere on the UI, let's say next to the MOVE button, it will create a button called "TDU". Close this window we're ready to import! also close the script code window, but keep the listener window open.
6. Hit the TDU button, select your extracted car folder (eg. apollo_sport) (it's the one that has the maps folder inside, also 3dg 3dd and 2dm files.)
7. For first run we might want to convert 2db textures to dds so we click YES...
8. Wait until they're converted and the scene imported. If there are no errors, congrats you have your car   

TO CLEAN UP THE CAR MESH (keep only hi-res mesh)
1. Select all helpers and delete them
2. There are some rectangular volume meshes used for headlights and other effects, delete those.
3. Select BODY_MR and BODY_LR and move them away to the right. through hierarchy they'll take away other objects that are their children. now select them from the top view and delete them.
4. Select also every mesh starting with the %. character and delete them. these are lights used for effects or low-poly versions of the car. 
5. There might be a couple more low-version meshes around but these are the ones for most cars so we're done here.

TO CHOOSE MATERIALS AND LOAD TEXTURES
1. Open Material Editor, click on pick material tool button, click on a mesh you like. It will load the mesh materials as submaterials. you'll get used to the strange names, (e.g. PAINT is the body material)
2. Materials that use textures will have them in the "maps" list, and you can manually load the dds files. Many of them (like leather, grates and most interiors) are in the "common_car" bnk so you might want to convert all of them and keep them somewhere, unless you want to use your own textures. 
3. Even if you don't load the textures in max you can still export your cars and they'll carry the material properties and UV mapping with them. For example, i exported to OBJ, and through octane render i got this nice little render....



front.jpg (166.34 KiB) Viewed 721 times


OTHER TIPS
1. It's useful to keep the maxscript listener window open before we hit the script button so we can see if all went well through the import.
2. Evaluate the script every time you close and open max again (another maxscript strange thing?)
## Post #111
- Username: Koce
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Wed Apr 14, 2010 11:33 am
- Post datetime: 2011-02-17T13:15:33+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Thank you very much.I like your script for now every thing works.Now we will have more cars for World racing 2
## Post #112
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-02-17T14:02:44+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Thank you to everyone who contributed for extracting .bnk & .big/.map files, I hope sometime in the future we can try and learn to put new cars into TDU2.   


I thought it would be nice to show you how these models perform in another gaming engine.   



*If image is too large let me know, I will switch it to a thumbnail.
## Post #113
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-17T14:37:32+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Koce
>
> Thank you very much.I like your script for now every thing works.Now we will have more cars for World racing 2

You're very welcome  here i post the cars i've tested it and work perfectly, and those that don't work for sure (yet, they'll be fixed sometime soon)

as for importing cars to TDU2, i don't think many will be interested this time with the messy physics hehe,
i'm a big fan of WR too! have fun converting them 



maxscript list.gif (33.83 KiB) Viewed 708 times
## Post #114
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-02-17T14:40:42+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from vagos21
>
> 
as for importing cars to TDU2, i don't think many will be interested this time with the messy physics hehe,

I know the person who made TDU:Performance Editor, he made it from scratch.  If you could narrow down where the physics are I can pass them onto him and then see what he thinks.
## Post #115
- Username: besweeet
- Rank: n00b
- Number of posts: 19
- Joined date: Mon Feb 14, 2011 4:10 am
- Post datetime: 2011-02-17T15:03:32+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Thanks Vagos! I'll try and get some sexy pics later. I think I'll also try converting some for use in San Andreas (in MTA).
## Post #116
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-17T18:17:57+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from toolieo
>
> vagos21 wrote:
as for importing cars to TDU2, i don't think many will be interested this time with the messy physics hehe,


I know the person who made TDU:Performance Editor, he made it from scratch.  If you could narrow down where the physics are I can pass them onto him and then see what he thinks.

it's all the dhk files in the bnks of each car, they contain havok physics data
## Post #117
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-17T18:19:03+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from besweeet
>
> Thanks Vagos! I'll try and get some sexy pics later. I think I'll also try converting some for use in San Andreas (in MTA).

remember when we were kids and used to look at those exotic machines sticking our noses on the window? hehe

308GTS model with interior replaced by the hi-res one, with some random textures. unbelievable how much detail has made it to real-time games   



308interior.jpg (183.83 KiB) Viewed 687 times
## Post #118
- Username: SandroX
- Rank: beginner
- Number of posts: 34
- Joined date: Tue Apr 20, 2010 3:43 am
- Post datetime: 2011-02-17T18:59:29+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

vagos21, many thanks, all work well!      I hope you will update your script to make possible to import Ariel Atom.
## Post #119
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-17T21:26:23+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

TIRES!!!

what are wheels without tires? lol...
I guess everyone would need them sooner or later, here is the updated script that imports them too. to import them follow these steps:

1. Using quickbms extract the common bnk (named 3759F594E15AE951)
2. make a new folder somewhere, let's call it tires
3. copy tire.3dg tire.2dm and tire.3dd into that folder.
4. Run the script and select the tire folder
5. select NO to convert textures since there aren't any copied
6. all tires are now imported! yes they're all nicely centered in the same position. which one do you need to choose for your car? no idea yet...lol
7. Their textures are in the extracted common bnk folder. They use names like tire, lr_ambocc

have fun!



tires.jpg (168.29 KiB) Viewed 671 times
## Post #120
- Username: besweeet
- Rank: n00b
- Number of posts: 19
- Joined date: Mon Feb 14, 2011 4:10 am
- Post datetime: 2011-02-17T21:54:31+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Oh damn... 3DS Max is over 4GB~. I'll skip out on this stuff. Don't want to download that just to play with some cars.
## Post #121
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-17T22:47:44+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from besweeet
>
> Man, I wish I could do some Zmodeler 2 action, but I'm not paying $60 just to play with some models from TDU2.

> Reply from besweeet
>
> Oh damn... 3DS Max is over 4GB~. I'll skip out on this stuff. Don't want to download that just to play with some cars.

So what are you expecting here if you don't do either?
## Post #122
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-02-17T23:12:46+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from besweeet
>
> Oh damn... 3DS Max is over 4GB~. I'll skip out on this stuff. Don't want to download that just to play with some cars.
Didn't you downloaded 6.5 Gb game "just to play with some cars"?
## Post #123
- Username: besweeet
- Rank: n00b
- Number of posts: 19
- Joined date: Mon Feb 14, 2011 4:10 am
- Post datetime: 2011-02-18T00:32:23+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from qwerty
>
> besweeet wrote:Oh damn... 3DS Max is over 4GB~. I'll skip out on this stuff. Don't want to download that just to play with some cars.
Didn't you downloaded 6.5 Gb game "just to play with some cars"?

The game's a lot more than just playing around with cars... 

It's a pretty massive program, and all I plan on doing with it is opening cars from TDU2.

Oh well.
## Post #124
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-02-18T18:23:53+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Has anyone investigated the TDU2 rims more? Because there is some rims that don't have textures in the .bnk  ive spent so far 1 day trying to figure out where the textures are for those.

For example the Bugatti Veyron SuperSports is missing the textures but has the model files there.
## Post #125
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-18T21:47:03+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from toolieo
>
> Has anyone investigated the TDU2 rims more? Because there is some rims that don't have textures in the .bnk  ive spent so far 1 day trying to figure out where the textures are for those.

For example the Bugatti Veyron SuperSports is missing the textures but has the model files there.

is this what you're looking for? 



veyronRim.jpg (71.92 KiB) Viewed 136 times



hehe, it's easy to lose track of the files if you extract them all in the same folder. extract your rim bnk in its own folder and you'll notice that the textures are not in the rims folder, but in the car folder. in this case: d_\eden-prog\games\testdrive2\resources\5prepared\pc\euro\vehicules\cars\bugatti\veyron_grand_sport\maps\veyron_16_4_grand_sport_2008_rim.2db
## Post #126
- Username: bigBear
- Rank: mega-veteran
- Number of posts: 183
- Joined date: Fri Oct 09, 2009 2:51 am
- Post datetime: 2011-02-18T22:30:06+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Does anyone knows where the global textures could be stored?
In the game the HQ interiors have leathers on them mapped.
But when imported it into zmodeler, it has just dark grey material.
So no leather and no stitches.


Offtopic, Those Atari Jackasses cant do good job on these many many folders.
You have to doubleclick several to get that freaking file, at the end, you didnt found what you want.
It drives me nuts lol
## Post #127
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-18T23:10:14+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from bigBear
>
> Does anyone knows where the global textures could be stored?
In the game the HQ interiors have leathers on them mapped.
But when imported it into zmodeler, it has just dark grey material.
So no leather and no stitches.

Offtopic, Those Atari Jackasses cant do good job on these many many folders.
You have to doubleclick several to get that freaking file, at the end, you didnt found what you want.
It drives me nuts lol

They're all in a file with common car stuff. textures like tire textures, leather, car bottoms, all in there. filename: 3759F594E15AE951.bin

Yep totally agree with the huge paths! lol
## Post #128
- Username: AMG63
- Rank: n00b
- Number of posts: 17
- Joined date: Sat Feb 19, 2011 7:17 pm
- Post datetime: 2011-02-19T11:51:30+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Hey guys, where did u download the script for QuickBMS. I read over 9 pages and didnt find any links
## Post #129
- Username: bigBear
- Rank: mega-veteran
- Number of posts: 183
- Joined date: Fri Oct 09, 2009 2:51 am
- Post datetime: 2011-02-19T11:54:17+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from AMG63
>
> Hey guys, where did u download the script for QuickBMS. I read over 9 pages and didnt find any links
Copy the script, paste it in Notepad, and Save it as TDU2.bms
## Post #130
- Username: AMG63
- Rank: n00b
- Number of posts: 17
- Joined date: Sat Feb 19, 2011 7:17 pm
- Post datetime: 2011-02-19T12:14:29+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I have a problem, i can save it as txt only
## Post #131
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-19T12:49:14+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from AMG63
>
> I have a problem, i can save it as txt only

save it as something.txt and then rename it to something.bms...  ofcourse you'll need to turn off "hiding known format extensions" in your folder options, orelse it will become something.bms.txt
## Post #132
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-02-19T13:22:12+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

@vagos21:  Nope, that's the gran sport, which has its textures in its BNK, The Bugatti Veyron SuperSports doesn't have textures in its BNK however.
## Post #133
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-19T15:25:51+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from toolieo
>
> @vagos21:  Nope, that's the gran sport, which has its textures in its BNK, The Bugatti Veyron SuperSports doesn't have textures in its BNK however.

importing the rim with my script didn't show any textures used at the materials
and after looking at the materials file myself with the hex editor, there are no textures used, only a reflection map. so i guess it's plain chrome?
## Post #134
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-02-19T21:01:52+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from vagos21
>
> 
there are no textures used, only a reflection map. so i guess it's plain chrome?

Nope, can't be...  Unless eden games are really stupid and think chrome is orange.   


Here is the rims in TDU2:


I am guessing there is a possibility that since the Veyron SuperSports is a PreOrder car, maybe when you enter the serial to activate it ingame it downloads some of the other files for it?
## Post #135
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-19T21:21:34+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

i just meant there's no texture. could be orange, blue, white, pink, whatever, you pick the color. isn't zmodeler importing the color for your rim?
## Post #136
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-19T22:01:23+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Hello everyone,

Here is the latest version of the maxscript, shorter, simpler, faster. imports everything but does not work perfectly yet so in some cabrio cars you'll get a fuzzy mesh called "HANIM_S" it's something about the hard top closing and opening, i hope you don't need that yet, i'll hopefully fix it in the future. If there's anything else wrong you find, please report!


 TDU2_mesh_import v2.zip
(5.59 KiB) Downloaded 185 times
## Post #137
- Username: SandroX
- Rank: beginner
- Number of posts: 34
- Joined date: Tue Apr 20, 2010 3:43 am
- Post datetime: 2011-02-20T00:01:06+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from vagos21
>
> but does not work perfectly yet so in some cabrio cars you'll get a fuzzy mesh called "HANIM_S" it's something about the hard top closing and opening

It's "HANIM_S" - can be a suspension? Atom dont have a suspension...
## Post #138
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-20T00:35:15+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from SandroX
>
> vagos21 wrote:but does not work perfectly yet so in some cabrio cars you'll get a fuzzy mesh called "HANIM_S" it's something about the hard top closing and opening

It's "HANIM_S" - can be a suspension? Atom dont have a suspension...

i don't know yet, haven't played the atom in the game, how does it look in the game? can you show me a screenshot?
## Post #139
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-02-20T04:05:42+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

It relates to anything animated, roofs in case of cabrios, suspension in case of the Atom (it does have one).


Would it be possible to decrypt the shader files in \TDU2\Euro\Shaders? They seem to have the same header as the .map files
## Post #140
- Username: SandroX
- Rank: beginner
- Number of posts: 34
- Joined date: Tue Apr 20, 2010 3:43 am
- Post datetime: 2011-02-20T09:51:39+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from vagos21
>
> can you show me a screenshot?

Here you go:



TestDrive2 2011-02-20 11-48-01-44.jpg (131.61 KiB) Viewed 109 times
## Post #141
- Username: AMG63
- Rank: n00b
- Number of posts: 17
- Joined date: Sat Feb 19, 2011 7:17 pm
- Post datetime: 2011-02-20T10:17:05+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Guys, how to extract .big files?
## Post #142
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-20T10:50:21+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from AMG63
>
> Guys, how to extract .big files?

This whole thread is about extracting big and bnk files so i'd first look at the rest of the posts before i ask something like that. take a look at page 3 for example
## Post #143
- Username: Koce
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Wed Apr 14, 2010 11:33 am
- Post datetime: 2011-02-20T10:57:00+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Thanks for the Script.
[](http://www.imagebam.com/image/8a3219120331899) [](http://www.imagebam.com/image/234581120331923)
## Post #144
- Username: AMG63
- Rank: n00b
- Number of posts: 17
- Joined date: Sat Feb 19, 2011 7:17 pm
- Post datetime: 2011-02-20T11:00:35+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I read the thread before about 3 times... but didnt find the answer to my question
## Post #145
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-20T11:53:16+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from AMG63
>
> I read the thread before about 3 times... but didnt find the answer to my question

you download a nice little prog called quickbms,  copy-paste that script into notepad, save it as something.bms, then run quickbms, select the script, then select the map file you want to extract, then the output folder.


by the way, question for everyone! what does this look like?  



terra.jpg (171.12 KiB) Viewed 95 times
## Post #146
- Username: SandroX
- Rank: beginner
- Number of posts: 34
- Joined date: Tue Apr 20, 2010 3:43 am
- Post datetime: 2011-02-20T12:42:48+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from vagos21
>
> by the way, question for everyone! what does this look like?

Part of island?
## Post #147
- Username: AMG63
- Rank: n00b
- Number of posts: 17
- Joined date: Sat Feb 19, 2011 7:17 pm
- Post datetime: 2011-02-20T14:45:07+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I tried to use the script, but it says that something is wrong [http://rghost.ru/4458978.view](http://rghost.ru/4458978.view)
P.S i copied the script for .big/.map files from page 3
## Post #148
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-20T15:13:13+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from AMG63
>
> I tried to use the script, but it says that something is wrong http://rghost.ru/4458978.view
P.S i copied the script for .big/.map files from page 3

yes, because you must select the map file, not the big file
## Post #149
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-02-20T16:10:30+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I successfully unpacked archives (*.big files) of game TDU2, and also unpack *.bin files  [QuickBMS + 2 scripts]

Look at the image:
[](http://pics.i-knyazev.ru/share-E568_4D613B63.html)

2ds - textures (in maps folder)
3dg - 3d-models
right?

Who questions:
1. What are formats *.2dm and *.3dd?
2. What do they contain?

Sorry for my bad english.

Thanks
## Post #150
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2011-02-20T16:16:37+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Knyazev
>
> Who questions:
1. What are formats *.2dm and *.3dd?
2. What do they contain?

it's models and textures
## Post #151
- Username: besweeet
- Rank: n00b
- Number of posts: 19
- Joined date: Mon Feb 14, 2011 4:10 am
- Post datetime: 2011-02-20T16:26:31+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

So what's the recommended program for opening models from TDU2, playing with them, and exporting them?
## Post #152
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-02-20T17:40:35+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

found, that some files, extracted from big+map are encrypted. their headers usually are

```
or
63 6F B5 51 81 22 42 12
```

they can be decrypted by aluigi's [tdudec](http://aluigi.altervista.org/papers.htm#tdudec), that was written for tdu1.
this files contains some game physics values and all localized strings, so getting this files are starting point for fan localization.
also .cpr files from game folder can be decrypted.
here is list of encrypted files, that i found in bigfile_RU_1

```
2231E58A30911186.bin - xml
8498C869158D60FE.bin - xmb with all english strings
8498C869158D67F8.bin - xmb with all russian strings in utf-8 encoding
D6A460BCA2172216.bin - xmb
DABB2E4779AD93B4.bin - xml
DEF763019D59FAF9.bin - xml
F08BB2F77E4524F7.bin - xml with vehicle braking physics?

```

ps: for example:

```
tdudec.exe d 8498C869158D60FE.bin 8498C869158D60FE.xmb 1
```
## Post #153
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-02-20T18:59:50+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

vagos21

It isn't run a your Max Script (import tdu2 mesh). I run it (Max Script -> Run Script...) , and occurs nothing (
Maybe I something not so do?

I use two versions of 3ds Max: 2009 and 2010.
## Post #154
- Username: warheadx2
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Mon Feb 21, 2011 2:54 am
- Post datetime: 2011-02-20T19:17:58+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Hi, can someone tell me what i'm doing wrong with these .bin files ?
I tried extracting them using the script on page 5, but i always get this :



It's like it never finds anything worth extracting. I use Win7, also used quickbms.exe with admin rights.
Tried to extract file by file, same result.

Can someone help please ?

LATE EDIT : Np, it works now, i was trying to unpack an updated version of TDU2. I reinstalled the game, and didn't patch and it works. Thanks.
## Post #155
- Username: SandroX
- Rank: beginner
- Number of posts: 34
- Joined date: Tue Apr 20, 2010 3:43 am
- Post datetime: 2011-02-20T19:19:02+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Knyazev
>
> vagos21

It isn't run a your Max Script (import tdu2 mesh). I run it (Max Script -> Run Script...) , and occurs nothing (
Maybe I something not so do?

I use two versions of 3ds Max: 2009 and 2010.

Read this post [viewtopic.php?p=49482#p49482](http://forum.xentax.com/viewtopic.php?p=49482#p49482) all here, thanks to vagos21 again
## Post #156
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-20T19:33:18+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Knyazev
>
> I successfully unpacked archives (*.big files) of game TDU2, and also unpack *.bin files  [QuickBMS + 2 scripts]

Look at the image:


2ds - textures (in maps folder)
3dg - 3d-models
right?

Who questions:
1. What are formats *.2dm and *.3dd?
2. What do they contain?

Sorry for my bad english.

Thanks

3dg is for meshes/models
2dm is for material properties
3dd is how the model is structured. if you import the scene without the 3dd, it's a bit of mess, this places the right number of each object into the right position, sets hierarchy and stuff

there's also another bunch of file types that have yet to be discovered, i wish i could find which files tell how and where all the trees are placed - even though i might believe it's a texture not some data, but it's too early to know, i'm still fighting to import island sectors into max, it's going well so far!
## Post #157
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-02-20T19:39:02+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Thank you very much 

My first work:
Pagani Zonda Tricolore
[](http://pics.i-knyazev.ru/share-B8BA_4D6172F7.html) [](http://pics.i-knyazev.ru/share-7CF5_4D6172F7.html) [](http://pics.i-knyazev.ru/share-5F68_4D6172F7.html)
Temporarily without textures)
## Post #158
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-20T20:04:35+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Knyazev
>
> Thank you very much 

My first work:
Pagani Zonda Tricolore
  
Temporarily without textures)

Try picking the materials and setting the textures slowly, it will begin to look really cool 
i'm glad the script is working for everyone! here's a little teaser from the island sectors importing progress



sector0-3-4-5.jpg (173.86 KiB) Viewed 577 times
## Post #159
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-02-20T20:20:37+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

vagos21

Great work! 
_______

And I perhaps, will suffer with textures. I didn't use 3ds Max for a long time. Has forgotten it is a little
## Post #160
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-20T21:16:15+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I guess this little tool will make everyone's life easier, instead of searching in txt files i posted early in this thread for filenames contained in the big files, you can now use this little prog to locate where your files should be. Only prerequisite (vs2008 vb.net) is .net framework 2 or something like that.

Usage is simple, you'll get the grip fast. You can even select all of the bin files extracted by a big file and do a search of those. the screenshot speaks for itself:



bin-bnk-explorer.gif (23.83 KiB) Viewed 567 times



and since i can only have one attachment, the download is right in the next post
## Post #161
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-20T21:17:37+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

here it is! enjoy  


 TDU2 Bnk file locator.zip
(10.28 KiB) Downloaded 205 times
## Post #162
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-02-20T21:35:10+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

new version of big+map script. now it gives extracted file extension based on its header, so may be inaccurate sometimes.
it support .bnk, .wav, .xmb (2 types), .2db, .ige, which are 99% of all extracted files. all other are still .bin

```
Open FDDE big 1
Endian big
GetDString DUMMY 12
Get OFFS long
GoTo OFFS
Get DUMMY long
Get NUMHASHES long
Get HASHOFFSET long
Math HASHOFFSET += OFFS
Get NUMFILEREC long
Get FILERECOFFSET long
Math FILERECOFFSET += OFFS
If NUMHASHES != NUMFILEREC
  CleanExit
EndIf
For I = 0 < NUMHASHES
  GoTo HASHOFFSET
  Get HASH1 long
  Get HASH2 long
  Set EXT string ".bin"
  SavePos HASHOFFSET
  GoTo FILERECOFFSET
  Get FILESIZE long
  Get DUMMY long # compression?
  Get FILEOFFSET long
  SavePos FILERECOFFSET
  Math MEMSIZE = FILESIZE
  Math MEMSIZE x 4
  Log MEMORY_FILE FILEOFFSET MEMSIZE 1
  If MEMSIZE != FILESIZE
    Math MEMSIZE -= 4
    GetVarChr TMP MEMORY_FILE MEMSIZE long
    Math TMP ^= 0xD7A8E2D4
    PutVarChr MEMORY_FILE MEMSIZE TMP long
  EndIf
  
  GetVarChr HEADER MEMORY_FILE 0 long
  Math HEADER ^= 0xD7A8E2D4
  If HEADER == 0x584D4246
    Set EXT string ".xmb"
  ElseIf HEADER == 0x49474532
    Set EXT string ".ige"
  Else
    GetVarChr HEADER MEMORY_FILE 8 long
    Math HEADER ^= 0xD7A8E2D4
    If HEADER == 0x4B4E4142
      Set EXT string ".bnk"
    ElseIf HEADER == 0x57415645
      Set EXT string ".wav"
    Else
      GetVarChr HEADER MEMORY_FILE 12 long
      Math HEADER ^= 0xD7A8E2D4
      If HEADER == 0x2E324442
        Set EXT string ".2db"
      ElseIf HEADER == 0x584D4246
        Set EXT string ".xmb2"
      EndIf
    EndIf
  EndIf
  
  String NAME p= "%08X%08X%s" HASH1 HASH2 EXT
  FileXOR "\xD7\xA8\xE2\xD4"
  Log NAME 0 FILESIZE MEMORY_FILE
  FileXOR ""
Next I
```


vagos21, great work! we keep this topic alive.
## Post #163
- Username: OrangeC
- Rank: double-veteran
- Number of posts: 868
- Joined date: Sun Apr 20, 2008 9:58 am
- Post datetime: 2011-02-20T21:45:06+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Hey is it possible you can edit it for alone in the dark? another eden game?

topic is here.

[viewtopic.php?f=21&t=6099](http://forum.xentax.com/viewtopic.php?f=21&t=6099)
## Post #164
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-02-20T21:48:14+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

vagos21
Nice tool  Thanks)

Necessary to create universal TDU2-unpacker (music/cars/locations, etc...) 
with GUI understandable for users 

good idea, isn't it?

_______________________

vagos21, Textures are imposed on 3d-model after import? or no? (using your MaxScript)
[textures, which converted from maps folder, 2ds -> dds]

Where to find these textures? (Look at the picture)
[](http://pics.i-knyazev.ru/share-C56E_4D61B3BF.html)

Thanks 

_______________

qwerty

sorry, I was mistaken a script. F*ck my brain 

Nice script. Extract all at once in bnk's files.
## Post #165
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-02-21T00:59:00+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Knyazev
>
> qwerty
you a new quickbms script doesn't work
you should extract files from map+big with this script. you've got files with extensions instead of bin's.
i updated this script just because not all bin files are bnks.
## Post #166
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-02-21T01:03:13+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from qwerty
>
> Knyazev wrote:qwerty
you a new quickbms script doesn't work 

you should extract files from map+big with this script. you've got files with extensions instead of bin's.
i updated this script just because not all bin files are bnks.

Yes. Yes. I was mistaken a script *PARDON*
Sorry.

752 bnk files extracted from bigfile_RU_5.big / (map)


Thanks for the new script
## Post #167
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-21T11:02:46+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Knyazev
>
> 


vagos21, Textures are imposed on 3d-model after import? or no? (using your MaxScript)
[textures, which converted from maps folder, 2ds -> dds]

Where to find these textures? (Look at the picture)

Thanks

you'll find them in the same folder as the 2db textures called "maps". in your case, the path to them is
.../zonda_tricolore/maps/

for qwerty's new script, here's the updated version of the names finder, which used to open bin files, now opens all kind of files. it automatically recognizes bnk files so u can still select them all and not worry about that 


 TDU2 Bnk finder.zip
(8.37 KiB) Downloaded 148 times



@qwerty: yes it's nice working as a team for the same thing hehe, do you think we should make a gui extractor like Knyazev said?
## Post #168
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2011-02-21T13:24:48+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

vagos21, hi  
i don't know how to use your tdu2-files-explorer tool  

1 - i unpacked all files from bigfile_RU_1.big to bigfile_RU_1 folder
2 - opening your tool.. and what i should do next?

thanks
## Post #169
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-21T15:06:33+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Tosyk
>
> vagos21, hi  
i don't know how to use your tdu2-files-explorer tool  

1 - i unpacked all files from bigfile_RU_1.big to bigfile_RU_1 folder
2 - opening your tool.. and what i should do next?

thanks

i think you missed the screenshot on the previous version post.
1. Type the name of the object you wish to find in the first box. for example "viper"
2. Type the extension type in the second box. for cars at least, 3dg will be fine
3. Click the button and select the thousands of files you want to search into... and then magic!

it will list all the files that contain anything with "viper". car names, interiors, rims... test it to see u'll get the grip easily
## Post #170
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2011-02-21T15:18:11+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from vagos21
>
> it will list all the files that contain anything with "viper". car names, interiors, rims... test it to see u'll get the grip easily
omg , so we don't have any list of files? we need just guess?
## Post #171
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-21T16:51:02+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Tosyk
>
> vagos21 wrote:it will list all the files that contain anything with "viper". car names, interiors, rims... test it to see u'll get the grip easily
omg , so we don't have any list of files? we need just guess?

ofcourse you have a list of the files, i've posted the list with all the files included in bnks from all 5 big files, they're on page 4 of this thread. this tool will only help you find them quicker. if you want to just browse, be my guest and download the txt file with the list
## Post #172
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2011-02-22T01:14:31+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from vagos21
>
> ofcourse you have a list of the files, i've posted the list with all the files included in bnks from all 5 big files, they're on page 4 of this thread. this tool will only help you find them quicker. if you want to just browse, be my guest and download the txt file with the listvagos21, i just wanna say thank you for your work, everything is very simple, quick and professionally, i just re-read all the topic and save all "statements", will try all at home
## Post #173
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-22T02:18:06+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

@Tosyk: thank you, i love doing this for pleasure and not for work hehe

@qwerty: i've been looking around the quickbms command line options, i didn't find what i need. I'm making a new version of that little tool which will extract files through gui so users will do it easier, it's all done now works perfectly but has one little problem:
how can i remove the "press return to quit" thing after the extracting is done? something like silent mode... i'm successfully calling it and does its job perfectly, but i must press enter for every file that is extracted, and this can get really annoying for many files... is there something you can add to the end of the script to make it automatically exit?

here's a screenshot of what i've done so far:



gui-extractor.gif (31.45 KiB) Viewed 222 times
## Post #174
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-02-22T07:57:01+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

It seems, that quickbms decides to show this message or not by itself. And there is no silent mode, as I know, but when I launch it from console window or from cmd file with parameters, the message is not displayed.

Portion of good news:
[filelist.rar](https://xentaxbackup.github.io/file/3967_filelist.rar)
## Post #175
- Username: aluigi
- Rank: VVIP member
- Number of posts: 1916
- Joined date: Thu Dec 08, 2005 7:26 pm
- Post datetime: 2011-02-22T08:49:46+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

qwerty let me know if there is something to add (a feature) or to fix in quickbms (latest version is 0.4.8b)
## Post #176
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-22T10:39:09+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from aluigi
>
> qwerty let me know if there is something to add (a feature) or to fix in quickbms (latest version is 0.4.8b)

it's really great having you here supporting everything with your creation (quickbms). what i was wishing for is like an option to make quickbms close on its own when the extracting is done, and not wait for "enter" to exit, like this image:



exit.gif (4.82 KiB) Viewed 196 times



i'm running it as a process from vb.net to make a simple gui for an easier automated extractor, and i have to hit enter in every file so that it moves to the next one, it would be great if quickbms exits after extracting  

thank you very much for your time!

Edit: i removed the "overwrite files" wish, i remembered it's the -o flag
## Post #177
- Username: aluigi
- Rank: VVIP member
- Number of posts: 1916
- Joined date: Thu Dec 08, 2005 7:26 pm
- Post datetime: 2011-02-22T10:44:56+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

@qwerty
I have seen that post in which you say that the game files of tdu2 can be decrypted with tdudec, correct?
so only the savegames can't be decrypted yet?
## Post #178
- Username: bigBear
- Rank: mega-veteran
- Number of posts: 183
- Joined date: Fri Oct 09, 2009 2:51 am
- Post datetime: 2011-02-22T21:35:50+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

The animated objects has been fixed in Zmodeler.
Animated objects like of the roadster.
So the roadster you want to import it, will work.
But in this case of 3DS Max, I dont know.

@vagos, any fix for your TDU2 importer?


/offtopic, its amazing how detailed the TDU2 cars are!
Those interiors looks awesome!
This game would be complete if they will add BMW's and Lamborghini's.
## Post #179
- Username: PeteTripper
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Sun Oct 10, 2010 2:00 am
- Post datetime: 2011-02-23T04:34:01+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Great work guys! Your time and efforts are appreciated.

vagos, I'm having troubles getting the common textures to convert, could you make a stand alone converter for the 2db files or some how get it to use an additional search path to get to the common textures?

Thank you!
## Post #180
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-02-23T04:46:26+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from aluigi
>
> @qwerty
I have seen that post in which you say that the game files of tdu2 can be decrypted with tdudec, correct?
so only the savegames can't be decrypted yet?
Yes, the .cpr files, both from the game folder and extracted from .big, can be decrypted using your tool. Thanks for that. 
But savegames, configs and in-game photos can not. 
The attached archive is my profile folder with encrypted files, can you look at them?
These files have some sort of "header", but at the end of file.

Finally, I have game exe, which writes a string with hash+name in log file each time this hash is generated from name. In theory it is possible now to build a complete filelist with all hashes and write GUI unpacker for big+map.
But... this is in theory. For doing that filelist we must drive every road on every island, drive every car, every race, enter every spot on map (car dealers, houses, etc), listen all radio tracks and all sounds (on different languages) and more and more... The game should access to every resource file it have (9151 files total in 5 .bigs). It's just impossible to do this by only one person.
So, anyone wants to help? I'll give this exe with only one condition: you should upload your generated filelist.log to this forum. 
[TDU2_Profile.rar](https://xentaxbackup.github.io/file/3974_TDU2_Profile.rar)
## Post #181
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-02-23T11:09:05+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

@qwerty: As much as not many would like to wait, however... If you give the game enough time there will be a 100% saved game eventually.


Edit: Infact I know someone who has completed all the tournaments in TDU2.  Only thing is I play online with TDU2 so loading a save game from my TDU2 from someone else is a bad idea as I don't want to be banned from online.
## Post #182
- Username: P@S@f
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Wed Feb 23, 2011 7:33 pm
- Post datetime: 2011-02-23T11:40:59+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Hi all!  
I need cursor from this game. Is there any way to find it?
## Post #183
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-02-23T12:10:15+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from toolieo
>
> @qwerty: As much as not many would like to wait, however... If you give the game enough time there will be a 100% saved game eventually.


Edit: Infact I know someone who has completed all the tournaments in TDU2.  Only thing is I play online with TDU2 so loading a save game from my TDU2 from someone else is a bad idea as I don't want to be banned from online.
it is not problem to find 100% save in the internet, but that's not enough. hash value is calculated from name each time the game accesses its resources, so even if you discover the location of all car dealers (for example) game will not load resources for all of them when you load your profile, but load when you enter the specific shop. With modified exe hash and filename is writed to text file. This file can be used to get original filenames from hashes when unpacking big+map instead of names like "375451E366C81826".
PS: attachment in prev. post is only related to first part of that post (addressed to aluigi) and has absolutely no relation to second half of message about game completion.
## Post #184
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-23T15:13:36+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I've been away for a couple of days and now i'm back.

@PeteTripper: i'm adding this new function to the script soon, it will convert any 2db file it finds in any sub-folders of the selected folder, so all you have to do is select the common files folder and it will do the rest. just be patient i'll post it as soon as its finished.

as for the suspensions parts, i'll try to see what's going on in there if i have more time.

anyone interested in grabbing some island parts? this is area-0-3 of ibiza, containing 33 smaller sectors. The whole island is really huge, and this bit is onlly 6km long! 4.3Mil triangles. I don't think anyone will ever be able to import the whole island in max at that resolution hehe



area-0-3.jpg (230.01 KiB) Viewed 367 times
## Post #185
- Username: PeteTripper
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Sun Oct 10, 2010 2:00 am
- Post datetime: 2011-02-23T15:46:42+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Thanks vagos, I got them converted for now by dumping all the common textures into the car's folder. 

For the island parts, I guess there will have to be extra scripting for that? I couldn't get it to work with v2.
## Post #186
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-23T16:18:37+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from PeteTripper
>
> Thanks vagos, I got them converted for now by dumping all the common textures into the car's folder. 

For the island parts, I guess there will have to be extra scripting for that? I couldn't get it to work with v2.

sorry for having u do all this mess with the common textures, here's the finished version of the script that does this by itself. all you have to do is select the common folder, it will convert all textures in all sub-folders also. i also removed the annoying .2db.dds that was happening, so now the result is better and cleaner.

yes for island sectors it's far too complicated, what you see is only the island geometry, with no objects on it. there are also more file definitions for trees and everything but that would take a while to figure out.


 TDU2_mesh_import v2.1.zip
(5.75 KiB) Downloaded 154 times
## Post #187
- Username: PeteTripper
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Sun Oct 10, 2010 2:00 am
- Post datetime: 2011-02-23T16:28:19+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from vagos21
>
> 


sorry for having u do all this mess with the common textures, here's the finished version of the script that does this by itself. all you have to do is select the common folder, it will convert all textures in all sub-folders also. i also removed the annoying .2db.dds that was happening, so now the result is better and cleaner.

yes for island sectors it's far too complicated, what you see is only the island geometry, with no objects on it. there are also more file definitions for trees and everything but that would take a while to figure out.
TDU2_mesh_import v2.1.zip Please don't be sorry  It was no trouble for me to do that, you have done more than enough. Without people like you we would not be able to do anything. 

Thank you for the new script!
## Post #188
- Username: Anton
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Fri Feb 25, 2011 8:15 pm
- Post datetime: 2011-02-25T16:19:39+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

tried to use MAX script at 2009 SP1 max at Win7 x64
tried to import pagani zonda tricolore (saw at forum someone did it) and after some seconds got error from script:

```
-- Error occurred in anonymous codeblock; filename: C:\Program Files (x86)\Autodesk\3dsMax8\Scripts\TDU2_mesh_import v2.mcr; position: 1467
--  Frame:
--   modelpath: "C:\3gp\cars\pagani\zonda_tricolore"
--   loadMeshes: undefined
--   buildScene: undefined
--   convertTex: false
--   convertTextures: undefined
--   loadMaterials: undefined
>> MAXScript MacroScript Error Exception: -- Type error: Call needs function or class, got: undefined <<

```


Tried different cars, no one works. Who knows why it happened? Used latest scripts.
## Post #189
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-26T01:47:47+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Anton
>
> tried to use MAX script at 2009 SP1 max at Win7 x64
tried to import pagani zonda tricolore (saw at forum someone did it) and after some seconds got error from script:
Code: Select all"C:\3gp\cars\pagani\zonda_tricolore"
-- Error occurred in anonymous codeblock; filename: C:\Program Files (x86)\Autodesk\3dsMax8\Scripts\TDU2_mesh_import v2.mcr; position: 1467
--  Frame:
--   modelpath: "C:\3gp\cars\pagani\zonda_tricolore"
--   loadMeshes: undefined
--   buildScene: undefined
--   convertTex: false
--   convertTextures: undefined
--   loadMaterials: undefined
>> MAXScript MacroScript Error Exception: -- Type error: Call needs function or class, got: undefined <<

Tried different cars, no one works. Who knows why it happened? Used latest scripts.

what happens is that max connects the script in the button only with the main function of the whole script. the bad fix for that is, you can open the script again and compile it. now it will run normally. this happens every time you close and open 3DS MAX. script created and tested on win7 x64, max2010x64 working ok
## Post #190
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-02-26T15:15:34+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

so, nobody wants to help with building game filelist as there are no replies to [my post](http://forum.xentax.com/viewtopic.php?p=49817#p49817).
ok, then there will be no user-friendly extractor tool.
## Post #191
- Username: bErEMoT
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Sat Feb 26, 2011 11:45 pm
- Post datetime: 2011-02-26T16:50:09+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Guys good job! Thanks for the research, but I have a question. I've read all the posts here, but I didn't find a single word about how to pack modified resorces back. Is there any method?
## Post #192
- Username: RickPost
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sun Feb 27, 2011 9:02 pm
- Post datetime: 2011-02-27T15:22:53+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Hi guys im new here.
Good job.
I want to try to swap the normal veyron with the supersports.
I don't know if this is possible?
Is there a way to pack big files back so we can mod and then save it to use it ingame?
Something that confused me is. how many bin files is a car?
For example I want the supersports from how many bin files is it build up? it's really confusing to see all these bin files.
I hope you guys understand what i mean. sorry for my bad english it's really difficult to explain what i mean.

Keep up the good work
## Post #193
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-02-27T15:33:06+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

as much as i know, there are no tools yet for packing files back to TDU2, this whole thing goes back to TDU1 and the whole thing is complicated, i don't know if someone is working on such a tool, but i guess this is the biggest thread around for TDU2.
## Post #194
- Username: xudo
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Tue Feb 22, 2011 10:42 pm
- Post datetime: 2011-02-27T19:19:21+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from qwerty
>
> so, nobody wants to help with building game filelist as there are no replies to my post.
ok, then there will be no user-friendly extractor tool.

I can contribute to that as I have no skills for other stuff here.   I assume it will work running the game in offline mode for that? I have the retail game, so I want to stay out of trouble.

I tried tdudec for a few .cpr files, no problem there, but is there a working method for the .xmb files in the game root folder? The .map files seem to have the same header (XMBF), so it might be a just a trivial thing of adjusting the script a bit.

Edit: I lost my train of though a bit there. The .xmb files seem to be presets for detected controllers, the settings used are probably then saved in KEYMAP and maybe some on OPTIONS in savegame\PLAYERSAVE folder. Maybe it helps for decrypting the save files.
## Post #195
- Username: RickPost
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sun Feb 27, 2011 9:02 pm
- Post datetime: 2011-02-28T19:39:50+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Hi guys,
im new to this kind of thing.
I tried to open veyron_super_sport.3dg in Zmodeler, but it doesn't really look like it has imported a 3d model.
Can somebody help me out please?
## Post #196
- Username: bigBear
- Rank: mega-veteran
- Number of posts: 183
- Joined date: Fri Oct 09, 2009 2:51 am
- Post datetime: 2011-03-02T00:29:20+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from RickPost
>
> Hi guys,
im new to this kind of thing.
I tried to open veyron_super_sport.3dg in Zmodeler, but it doesn't really look like it has imported a 3d model.
Can somebody help me out please?

Is that a roadster car?
## Post #197
- Username: RickPost
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sun Feb 27, 2011 9:02 pm
- Post datetime: 2011-03-02T13:06:06+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from bigBear
>
> RickPost wrote:Hi guys,
im new to this kind of thing.
I tried to open veyron_super_sport.3dg in Zmodeler, but it doesn't really look like it has imported a 3d model.
Can somebody help me out please? 

Is that a roadster car?

Nope it isn't
## Post #198
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-02T14:02:25+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

RickPost, did you hide every object except for "D_CAR"? What does "it doesn't really look like it has imported a 3d model" mean anyway? Be more specific, provide a screenshot.

> Reply from xudo
>
> is there a working method for the .xmb files in the game root folder? The .map files seem to have the same header (XMBF), so it might be a just a trivial thing of adjusting the script a bit.
Bump  There are other files with the same header as well, like shader files. Decrypting those might help in modding the game graphics.
## Post #199
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-03-02T14:18:18+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Hello all,

Myself and a friend did a test with .big & .map files.  

Turns out TDU2 will read any .big & .map file.

bigfile_EU_5.big
bigfile_EU_5.map 

Rename them to:
test1.big
test1.map

TDU2 reads the test.big & .map which loaded all the cars without issues;  the up launcher does not search these files.  This also means we can still go online with custom cars mods if we could repack and make our own.

The Up Launcher only checks perimeter files only, I believe to prevent cheating.
## Post #200
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-03-02T17:10:13+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Chipicao
>
> Bump  There are other files with the same header as well, like shader files. Decrypting those might help in modding the game graphics.
it looks like xmbf is some sort of database - it may contain any type of data in it (described in header) - numbers, strings, files (in case of map+big) and others. so it impossible to just "unpack" any of the xmb.

> Reply from toolieo
>
> 
TDU2 reads the test.big & .map which loaded all the cars without issues;  the up launcher does not search these files.  This also means we can still go online with custom cars mods if we could repack and make our own.

The Up Launcher only checks perimeter files only, I believe to prevent cheating.
Yes, game load all the files with no specific order, and there is a field in .map that indicates "version" or "priority" of that .map - the new .map files, released in patches, has higher priority, so the game knows that it should use some files from this .map instead of the original ones. it makes possible to build a map+big with some mod, set to it higher priority and keep original big+map untouched 
even more, i'm sure that if you place unpacked (and modified) file with right name in \euro\bnk\ folder the game will load it instead one from big+map. that's the reason why i want the extractor from big+map with original filenames to be made.
## Post #201
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-02T17:17:43+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from qwerty
>
> even more, i'm sure that if you place unpacked (and modified) file with [b wrote:right name[/b] in \euro\bnk\ folder the game will load it instead one from big+map. that's the reason why i want the extractor from big+map with original filenames to be made.

what if you extract all the files from map, and then extract the bnks too (bnks at first step), since they have full file paths will they be ok for TDU2 to read them, or does it work only with packed bnks?
## Post #202
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-03-02T17:28:54+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from vagos21
>
> what if you extract all the files from map, and then extract the bnks too (bnks at first step), since they have full file paths will they be ok for TDU2 to read them, or does it work only with packed bnks?
files in bnks (with fullnames) are accessed by game as <HDD>D:\Eden-Prog\Games... (name starts with <HDD>), so files unpacked from bnks will not be loaded directly, until you patch the game.
## Post #203
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-03-02T17:41:46+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

So...

It's like this?

C:\Program Files (x86)\Atari\TDU2\Euro\Vehicules\cars\citroen\2cv\2cv.bnk

Or

C:\Program Files (x86)\Atari\TDU2\Euro\Vehicules\cars\citroen\2cv.bnk
## Post #204
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-02T18:35:27+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from qwerty
>
> 
even more, i'm sure that if you place unpacked (and modified) file with right name in \euro\bnk\ folder the game will load it instead one from big+map. that's the reason why i want the extractor from big+map with original filenames to be made.
OK, send me that modified executable add I'll start exploring. I can do all houses/garages, shops and cars. Afterwards maybe I can start on the map and missions.
## Post #205
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-03-02T19:10:42+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

i start a game with a couple of unpacked (and slightly modified) files placed to euro\bnk\ with original names, and it has no effect. so i was wrong - game don't load files from that folder by default, maybe it load them only if they not exist in big+map?.. 

ok, there is my exe and answers to some questions, you may ask about it...
[Mirror 1](http://www.zshare.net/download/87297480af12564f/) or [Mirror 2](http://www.sendspace.com/file/j8mxl6)
password: XeNTaX

> -Can you tell me what is involved? I want to help you but I don't want to risk getting banned from tdu2, please forgive my lack of knowledge in this area, but I just want to make sure I will be safe.
>
> -I get nodvd for the game (because it has protection removed from it), and modify hash-generating function that it writes hash and filename into text file "filelist.log" in game folder. If you afraid to be banned from online, you can create new offline profile in game and play from it, or even disable your internet connection during gameplay. It is no matter you play online or offline - filelist.log is generated when you play with this modified exe. There is no any cheating applied in this exe, but I used exe v069 (the very first one) and now there are 2 or 3 patches released by developers, so you may be unable to play online with this older version (I didn't check this). But you can save this modified exe with different name (TestDrive2_filelist.exe, for example) and run it when you want to play offline and contribute into filelist building; when you want to play online - run your game with UpLauncher.exe and it will be 100% untouched (but hashes will not be added to filelist.log during gameplay). filelist.log is plain text file, you can view it with any text editor (notepad, wordpad, etc) and it contains NO information about your profile or any other personal information - just names of game resource files (that every copy of game have) and hashes from this names.
>
> 
>
> -Should I buy a car or a house for getting its name in filelist?
>
> -No. You may test drive a car at car dealer and game will load resource files for that car and thats will be enough. With houses you may do a virtual tour to the house from real estate. Thats will be enough too. But roads... Drive as much as possible, try to not teleport to objects, already opened on your map.  
>
> 
>
> -Ok, I have played a lot, this filelist.log file is pretty big now, what should I do now?
>
> -Pack it with zip or rar, give it a name like filelist-your_nick-date_of_upload.zip (for easier sorting of this files) and upload somewhere, or attach to post on forum. I (or anyone else) download them, merge into 1 file, clean up duplicate strings and post it here. And please, give a short description of what areas, cars and other data may be in your filelist, on which language you played, so other players may explore another areas and cars. After uploading you may delete filelist.log in your game folder and start to build another one
## Post #206
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-02T20:03:40+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I tried that and it crashes. Perhaps it needs a parameter like the "-loose" used with Shift.
## Post #207
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-03-03T05:01:19+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Now I have ~1800 known hashes from over 9000. There are some Ibiza areas, few houses and cars, no Hawaii areas yet. So, it's a lot of work to do
## Post #208
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-03T10:23:04+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

If you already started ibiza, should I do Hawaii?

EDIT: Damn, after about half an hour of gameplay I found out I need to run it as admin, otherwise it can't create the log file
## Post #209
- Username: xudo
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Tue Feb 22, 2011 10:42 pm
- Post datetime: 2011-03-03T13:33:48+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Ok, here's some, didn't mess in the game that much yet. The modified .exe works good, no problems there. I got around 6500 lines, but cleaned it to unique lines of 890. I didn't check yet if cycling through all the clothes, styles and colors is really necessary, they might be loaded when you enter the place. 

```

Lotus S3

Used car shop
------------
Alfa Romeo MiTo Quadrifoglio Verde
Lancia Delta
Hummer H3
Ford Mustang Fastback Cruise-O-Matic

European cars (north)
-------------------
VW Golf GTi
VW Touareg
RUF RK Spyder
RUF Rt 12
RUF Rturbo
RUF RGT

European cars (south)
---------------------
Spyker D8
Spyker C12
Koenigsegg CCXR
Bugatti Veyron 16.4
Bugatti Veyron 16.4 Grand Sport

Shops
-----
B-Miami all clothes previewed

Hairdresser all styles / colors

Stickers shop [south]

Missions
---------
Drop off at the offroad school
```

[filelist_xudo_2011-03-03_1325_cleaned.rar](https://xentaxbackup.github.io/file/4003_filelist_xudo_2011-03-03_1325_cleaned.rar)
## Post #210
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-03-04T03:30:05+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I tried to start unpacked game, as a result game was crashed.

Whether probably to start unpacked game?
## Post #211
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-03-04T05:28:45+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

what exactly you do? unpacked just map+big or bnks too? big+maps are remains in game dir, or you removed them after unpacking?
## Post #212
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-03-04T07:59:28+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

1. I removed files *.big + *.map
2. I removed files *.big

All unpacked files in "Euro" folder.

result: game crashes.
## Post #213
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-03-04T08:09:12+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Yeah, we already figured that out.   


I don't think the game can run a type of "loose" option like NFS Shift can.  So I think we may have to try and figure out how to repack.
## Post #214
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-04T09:46:46+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Here's what I've done so far:

Hawaii

Airport
All houses (42) including garages and furniture
All car dealers (15)
All car washes (5)
All sticker shops (4)
Airport
Casino

Walk-in closet
Clothes shop]
Track
Slot machines
Poker room
VIP area
Rouette
Cars

All dealer cars (74)
All pre-order exclusives (10)
All DLC cars (5)
All treasure hunt cars (6)
All cup reward (3)
All casino cars (2)
All police cars (4)
All duel reward cars (5)
All club cars (4)
Hot Rod
Atom 500 V8
Spyker C8 Aileron
Audi R8 quattro R tronic
CLK 63 AMG Black Series "Outlaw"
[filelist_filtered.zip](https://xentaxbackup.github.io/file/4009_filelist_filtered.zip)
## Post #215
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-04T16:54:51+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Hello everyone,

i just made this little prog that will open anyone's filelist.log and rename and build the file structures, so you can already see what you've done and what you're missing.

Steps are easy:
1. Using qwerty's script (xmbf) and quickbms, decompress all big map files (1,2,3,4,5) into one folder
2. Open up the tool and select your filelist.log, then
3. Select your extracted bin files folder
Hit Start to let it do the magic. in the end, you'll be having folders with the renamed files in them, all in the correct structure. the files converted are removed from their original position.

4 the more you play, more lines are added into the filelist.log. That's ok, you can still open the same file, the tool will skip these lines next time you use it 

This way, anyone can download anybody's log file and do the process, so we can all know what files are already passed and no need to do them again   


 TDU2 Bin Renamer.zip
(8.78 KiB) Downloaded 111 times



info: like all other small pieces of vb.net software i make, it requires .net framework 3!
## Post #216
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-04T17:24:45+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Thanks vagos21! I think I found a way to automate driving through roads via a built-in function of the game. I'm still testing it and will let you know if it's any good.

I'm already at 11816 unique hashes and I'm not even done with Hawaii.
## Post #217
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-04T19:23:07+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Chipicao
>
> Thanks vagos21! I think I found a way to automate driving through roads via a built-in function of the game. I'm still testing it and will let you know if it's any good.

I'm already at 11816 unique hashes and I'm not even done with Hawaii.

11816?!? i just extracted all 5 big files, all i got is 9151 files.... am i missing something?

can you upload your latest filelist.log so i can process the files and see which ones are missing?  or see if you've consumed a whole of the big files
## Post #218
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-03-04T19:26:53+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Chipicao
>
> Here's what I've done so far:

Hawaii

Airport
All houses (42) including garages and furniture
All car dealers (15)
All car washes (5)
All sticker shops (4)
Airport
Casino

Walk-in closet
Clothes shop]
Track
Slot machines
Poker room
VIP area
Rouette
Cars

All dealer cars (74)
All pre-order exclusives (10)
All DLC cars (5)
All treasure hunt cars (6)
All cup reward (3)
All casino cars (2)
All police cars (4)
All duel reward cars (5)
All club cars (4)
Hot Rod
Atom 500 V8
Spyker C8 Aileron
Audi R8 quattro R tronic
CLK 63 AMG Black Series "Outlaw"

Wow! Thats really huge progress! Thanks! 
Meanwhile, I start sorting all the unpacked files and found that game sometimes trying to access to non-existing files and this hashes are going to filelist too. For example, we have 2 lines in filelist:

```
FFD4F6F234CBDF76 "islands/ibiza/level/area-4/area-4-4/sector-4-4-0-0.bnk"
```

but only file with hash D8B9EFC4D1C4FE14 is exist in unpacked files. Thats why in filelist more lines, then files in archives. This happens because these names are generated using some masks and not stored anywhere in game exe.
For sorting all bin files i used simple cmd script:

```
for /F "tokens=1*" %%A in (filelist.log) do move %%A.bin %%B
```

if you want to see the progress we already achieved:

unpack all big+map into 1 folder using first version of the script. it's important to use first version, so all files have bin extension.
copy your (or my) filelist.log into folder with unpacked files
save filelist.cmd to this folder and run it.
after few seconds you've got files sorted (but also an empty folders for files that are present in filelist.log but not on your drive, you may delete those empty folders)
ps: in filelist 4287 lines, but sorted are only 3643 files.
[filelist.rar](https://xentaxbackup.github.io/file/4012_filelist.rar)
## Post #219
- Username: xudo
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Tue Feb 22, 2011 10:42 pm
- Post datetime: 2011-03-04T19:47:54+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Good job guys.   I guess I stick to exploring Ibiza as Chipicao has got Hawaii going pretty good. I noticed that in clothes shops you need to go through the clothes and just entering the shop won't be enough.  

Was just going to wonder about the high hash count Chipicao got. Thanks qwerty for explanation, I was bit confused what was causing it as I checked  a few .bin and the uncompressed filenames weren't being logged.
## Post #220
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-03-04T20:01:09+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

ok, I typed my previous post few hours ago, before vagos21's posted his tool, but then get distracted and forgot to post the message 
so, my script does exactly the same work as vagos21's tool.
every car in game exists in high-, med- and low- res models. almost all hi-res cars are now sorted, but med-res and low-res are not.
Chipicao, can you lower your graphic settings and drive unsorted cars once again?   Especially the cars that are not available in car dealers. (DLC, club, rewards, etc)
also, about clothes and haircuts - it seems that game have different resources for male and female avatars (and may be even for different races). so everyone may visit clothes shops and may try different haircuts so we get more hashes:)
and the last one question. is there non-english players? many sounds and few textures are exist in different languages. it would be great if you can discover some of them.
## Post #221
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-04T20:58:04+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I just noticed myself that med cars are't loaded when you visit the dealers, but they are loaded when you encounter opponents on the street. I'll try viewing them again with lower settings, hope it works.

Good news: the trick I was talking about earlier about driving automatically works.
Great news: we don't need it!  It seems that just looking at the map at the highest zoom level loads all files. I went through both islands and then I drove for a while; no additional hashes were added.

I was already planning on loading the game in russian, so I guess I can also do that. But there's one thing that I can't access: Clubs. Can anyone help with that?
## Post #222
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-04T20:59:18+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

has anyone worked on the xmb files and made a viewer or something?  some of them have little endian byte order and others big endian...

@chipicao, yes max zoom level equals to the high-detail terrain sectors that the island is using, amazing isn't it
## Post #223
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-04T21:09:18+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Yeah, I was afraid I would have to leave the game running all night just to load all road files. 

EDIT: Here's an update

Ibiza
Airport
All houses (12)
All car dealers (15)
All car washes (3)
All sticker shops (2)
All tuner shops (5)
All clothes shops (4)
All Hairdressers (2)
All real estates (2)
Cosmetic clinic
Viewed the entire map at all zoom levels

Hawaii
Airport
All houses (42) including garages and furniture
All car dealers (15)
All car washes (5)
All sticker shops (4)
All tuner shops (7)
All clothes shops (8)
All Hairdressers (4)
All real estates (4)
Cosmetic clinic
Viewed the entire map at all zoom levels

Casino

Walk-in closet
Clothes shop
Track
Slot machines
Poker room
VIP area
Rouette

Cars

All dealer cars (74)
All pre-order exclusives (10)
All DLC cars (5)
All treasure hunt cars (6)
All cup reward (3)
All casino cars (2)
All police cars (4)
All duel reward cars (5)
All club cars (4)
Hot Rod
Atom 500 V8
Spyker C8 Aileron
Audi R8 quattro R tronic
CLK 63 AMG Black Series "Outlaw"

I got 16263 unique hashes, out of which only 6158 were any good. This means there are 2993 files left.

TODO
- radio songs and commercials; I'll leave the game running tonight, that should take care of it
- med care files;
- rim files; it seems that getting into the car is not enough, you have to browse through all rims
- racing school licenses and cars
- russian language
- female character (speech and clothes); does anyone know if you have to view all clothes or is it enough to just enter the shop?
- events (championships, duels, instant challenge, random characters, treasure hunt, photographs...)
- Clubs - I can't go into clubs
- Casino - there's a room I can't access, and also 3 prizes (clothes, furniture and stickers)

Please let me know if I missed something.
[filelist3_filtered.zip](https://xentaxbackup.github.io/file/4013_filelist3_filtered.zip)
## Post #224
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-05T00:07:26+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

It works!   I unpacked all bin files and renamed with the hashes I have so far. Moved them all inside the game folder, deleted all .map and .bin files and started the game. Everything loaded just fine!

As expected, when you try to load something that hasn't been renamed, the game crashes.
## Post #225
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-03-05T09:57:33+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Chipicao
>
> It works!   I unpacked all bin files and renamed with the hashes I have so far. Moved them all inside the game folder, deleted all .map and .bin files and started the game. Everything loaded just fine!

As expected, when you try to load something that hasn't been renamed, the game crashes.

Excuse my slight stupidity.

I tried that and it crashed, so what did you do that I may of missed?   I used vagos21 tool to rename them, put those into the TDU2 "Euro" folder. Got rid of the bigfile_EU_5.big+map but crashed.
## Post #226
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-05T10:26:27+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

i'm afraid each exe generates its own hashcodes for some files, while others are common. for example, i guess we all have C583C423C24C2B5B which is an island sector, but from chipacao's list i don't have FEDC084A0CBBBCBC "euro/shaders/edrender_pfx_blur.sob", and i don't in fact have any of the shader files included in his log file. so this method is not the best as it will only work on the game of the one who made the logfile? i renamed everything too but there's still about 2993 files that need to be done, after using my own filelist.log it renamed another 500 files.

so, any ideas on the unique hashnames?
## Post #227
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-05T12:17:47+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

@toolieo that's all I did, renamed them and moved them in the game folder. But I used the cmd commands to rename the files.

@vagos21 That can't be because we're all using the same exe, the one from qwerty. And it doesn't matter if you don't have any shader hashes, the files don't exist in the .big archives anyway.
That's actually how I realized moving the extracted files in the euro folder should work, because all shader files are already there. Have you tried that yet?
## Post #228
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-03-05T12:46:21+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Chipicao
>
> @toolieo that's all I did, renamed them and moved them in the game folder. But I used the cmd commands to rename the files.

@vagos21 That can't be because we're all using the same exe, the one from qwerty. And it doesn't matter if you don't have any shader hashes, the files don't exist in the .big archives anyway.
That's actually how I realized moving the extracted files in the euro folder should work, because all shader files are already there. Have you tried that yet?

Ah see I didn't use Qwerty's .exe because I want to remain online as I brought the game and would like to keep it that way for sometime.    Anyways thanks for the info.
## Post #229
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-05T14:03:10+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

i just tried it, using qwerty's cmd and with my exe, in both cases the game crashes to desktop while loading the main menu, not even before loading the game. i guess there's something important in those 2500 files not renamed yet, but funny thing they're not in anyone's log file, not even mine...!
## Post #230
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-05T14:07:23+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

@toolieo That's strange, why would the cracked exe work differently in this regard? It's only supposed to remove activation protection, isn't it? Btw, I tried running the partially unpacked game with the latest Skidrow crack and it works.
One more thing I forgot to mention, I also removed the map and big files added by updates (TDU2v082/83/86). Could you please try again?

@vagos21 One quick way to check if we have the same hashes would be for you to rename all your bins with my filelist.log and see if you get 6158 files.
Try removing the update files I mentioned, that could be the issue.
## Post #231
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-05T14:31:57+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

@chipicao, YES!!! it was the update big and map files that caused the crash, i deleted them too and now it's loading and driving nicely (until it meets an unknown hash i guess haha)

so, what are we after now? here's a modified prog i'd made a few weeks ago that lists all the filenames that are included in a bin file (only if it's a bnk), so anyone can use it to see what's in these remaining mystery bin files, and get an idea of what we're missing. give it a shot! took almost a min to analyse all 2500 bin files on my system.


 TDU2 bnk guts viewer.zip
(7.89 KiB) Downloaded 104 times



as always, net framework 3
## Post #232
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-05T14:38:01+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

2500 is too much, I'm gonna keep playing the parts I know I haven't logged yet. After that we should only have a couple hundred unknown bins and we'' analyze those to see what's missing.

> TODO
>
> - view cars in all camera modes to laod gauges
>
> - chase cops
>
> - radio songs and commercials - one radio station done
>
> - med care files
>
> - rim files - done
>
> - racing school licenses and cars
>
> - russian language
>
> - female character (speech and clothes); does anyone know if you have to view all clothes or is it enough to just enter the shop?
>
> - events (championships, duels, instant challenge, random characters, treasure hunt, photographs...)
>
> - Clubs - I can't go into clubs
>
> - Casino - there's a room I can't access, and also 3 prizes (clothes, furniture and stickers)
## Post #233
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-05T14:46:02+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

we also need to switch all cameras in a car so it will load plenty of files like 

EC5C1024A8147B90.bin
	hud.ini
	needle.2db
	ext_rpm.2db
	int_kmh.2db
	int_mph.2db
	int_rpm.2db
	audi_s5.2dm

which i suppose contain the needles and dashboards for places like bonnet cameras 
and maybe sound the horn too! hehe
## Post #234
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-05T15:00:05+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Yeah, forgot about those, thanks!

I think the horn sound is loaded automatically along with other car sounds (engine, door open/close, windows up/down...) when you enter the car. I remember testing that but I'm not 100% sure.

EDIT: I started the game and drove a few cars (including the Audi S5) with all cameras activated. No new hashes were generated, I already had all gauges or needles just by entering cars in the dealer. But it's weird that EC5C1024A8147B90 is nowhere to be found in my list of hashes, yet it seems to contain relevant car files...
## Post #235
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-05T16:03:01+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Chipicao
>
> 
EDIT: I started the game and drove a few cars (including the Audi S5) with all cameras activated. No new hashes were generated, I already had all gauges or needles just by entering cars in the dealer. But it's weird that EC5C1024A8147B90 is nowhere to be found in my list of hashes, yet it seems to contain relevant car files...

maybe unused files? this game's a huge mess, there are duplicated files inside bnks too, especially some widely used textures. what a headache...  i wonder what's in your bin leftovers!
## Post #236
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-05T16:49:06+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Scratch that, I didn't filter the hashes properly. Excel is driving me nuts, any other way to remove duplicate lines?
## Post #237
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-05T17:45:52+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

i don't remove or filter duplicate lines, i just keep my whole log and rename with the program, which just drops the files that have already been renamed, and i noticed qwerty's cmd does the exactly same thing.


it sounded like a good exercise though, so here's another little tool that will do it for you in a few seconds. will take any log file and keep only unique filenames   you can then save them to a new text file.
let me know if it works properly, seems ok here  


 uniqueLogs.zip
(8.12 KiB) Downloaded 49 times
## Post #238
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-05T18:12:39+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Thank you very much, it works perfectly!
## Post #239
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-03-05T19:20:17+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Chipicao
>
> @toolieo That's strange, why would the cracked exe work differently in this regard? 
One more thing I forgot to mention, I also removed the map and big files added by updates (TDU2v082/83/86). Could you please try again?

I'm not talking about a crack, I own the game so I have the original .exe    

I also removed the updates and did it again and still crashes.  I hope in the future when all this gets finished etc that there is a TDU2 Tool that does all this to save most people.
## Post #240
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-05T19:50:17+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I know, I was saying it's strange the crack allows you to run the game unpacked while the original exe doesn't.
## Post #241
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-03-06T07:51:56+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Ohhh I see now.  Okay well I guess I can just disconnect from my internet and try the crack then.
## Post #242
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-06T09:56:17+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Here's another update:
- all car gauges
- all med car files (I hope)
- all radio songs and most commercials
- all rim files
- intro male and female (toyed around with Tess and the others to make them spew out all their lines)
- viewed all female clothes (including outlaw outfit)
- most introductory speech (descriptions for map icons, menu and some other stuff)
- C1 license

Still ~2300 files left. I'll try to redo all championships and events, but it might take some time.
[filelist5_filtered.zip](https://xentaxbackup.github.io/file/4016_filelist5_filtered.zip)
## Post #243
- Username: RickPost
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sun Feb 27, 2011 9:02 pm
- Post datetime: 2011-03-06T17:21:15+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Hey guys, I started the game with the unpacked bigfiles correctly.
I thought I wanted the Supersport instead of the Veyron 16.4. so i swapped all the files i could find but i still have the veyron 16.4 instead of the supersports. Can somebody help me out?
## Post #244
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-06T18:12:19+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from RickPost
>
> Hey guys, I started the game with the unpacked bigfiles correctly.
I thought I wanted the Supersport instead of the Veyron 16.4. so i swapped all the files i could find but i still have the veyron 16.4 instead of the supersports. Can somebody help me out?

so you thought of renaming the car files to get one instead of another? i don't know if that would work, since the 3dg, 3dd, 2dm and the rest of the files inside the bnks have their own names too. but did you delete the big and map files from the TDU2 folder? just unpacking them doesn't work you also have to remove them from there (i would transfer them instead of deleting them, since deleting such big files instantly sends them to outer space)
## Post #245
- Username: RickPost
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sun Feb 27, 2011 9:02 pm
- Post datetime: 2011-03-06T18:34:35+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from vagos21
>
> RickPost wrote:Hey guys, I started the game with the unpacked bigfiles correctly.
I thought I wanted the Supersport instead of the Veyron 16.4. so i swapped all the files i could find but i still have the veyron 16.4 instead of the supersports. Can somebody help me out? 

so you thought of renaming the car files to get one instead of another? i don't know if that would work, since the 3dg, 3dd, 2dm and the rest of the files inside the bnks have their own names too. but did you delete the big and map files from the TDU2 folder? just unpacking them doesn't work you also have to remove them from there (i would transfer them instead of deleting them, since deleting such big files instantly sends them to outer space)

Well it worked in the old game, and yes I have deleted the big files but I have made a backup of them.
## Post #246
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-06T18:49:29+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

i just tried it out, yes renaming the bnk works, but keep in mind that the interior/physics/hud will be the same as the previous car, unless you rename all of them too. i ended up driving the TT RS with the bodywork of the hotrod haha, funny stuff!
## Post #247
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-06T18:53:49+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Chipicao
>
> 
Still ~2300 files left. I'll try to redo all championships and events, but it might take some time.

mind if i do those? i had my savegame corrupted, and began doing every championship from the beginning, i'm now over @A4 on hawaii, and have recorded everything in my log since the very beginning of the game.
## Post #248
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-06T19:16:17+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Yes PLEASE! Doing those all over again would have driven me nuts  I'm not sure but I think you have to fail a few times in racing school and "random character" events in order to get all speech files.

I'm gonna do some police chases with all car brands, since there are different speech sounds for each one, and then start the game in Russian.

> Reply from toolieo
>
> Ohhh I see now.  Okay well I guess I can just disconnect from my internet and try the crack then.
When you tried to start the game online, with the original exe, didn't the launcher re-download those update files?
## Post #249
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-03-06T19:31:04+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

@Chipicao:  No as I took out my Ethernet cable.  Disconnecting me from the internet.
## Post #250
- Username: RickPost
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sun Feb 27, 2011 9:02 pm
- Post datetime: 2011-03-06T19:37:38+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from vagos21
>
> i just tried it out, yes renaming the bnk works, but keep in mind that the interior/physics/hud will be the same as the previous car, unless you rename all of them too. i ended up driving the TT RS with the bodywork of the hotrod haha, funny stuff!

I don't know why but for some reason it doesn't work for me
## Post #251
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-03-06T20:35:23+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Does anyone know what are .ig2 used for? We have alot of these files unsorted, but no idea for what they used and how to access them in game.
## Post #252
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-06T21:58:50+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

No idea.. there's also an ig2 folder with bnk files which contain textures and 2dm files. I can't remember if I ever saw those textures, but they look like in-game messages.
Euro\Bnk\frontend\allres\mapscreens\ig2
## Post #253
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-06T22:23:45+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

@qwerty: funny thing i was just investigating that.  ig2 files are mission/race files... if you look at their lower part they have the CHK2 string, it contains info about the checkpoints. there's also a matrix in there about each checkpoint

@chipicao: the textures and materials in the /ig2/ folder contain only what you see on the map about that mission/race.  i guess it's the icon that displays on each race? i haven't viewed it yet to see what it is just a guess  

Edit: byte order - big endian
## Post #254
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-06T23:26:08+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

i set this for thought:

A76ADA6B1DB5BC40.bin: tts_f_04.3dg
A76ADA6B1DB5BC41.bin: tts_f_05.3dg
A76ADA6B1DB5BC42.bin: tts_f_06.3dg
A76ADA6B1DB5BC45.bin: tts_f_01.3dg
A76ADA6B1DB5BC47.bin: tts_f_03.3dg

i've deliberately entered the audi cars store in hawaii and cycled through this car's rims many times, and the log file shows only loading tts_f_02!!

instead it cycled 6 times through the same file
A76ADA6B1DB5BC46 "euro/bnk/vehicules/rim/audi/tts_f_02.bnk"
A76ADA6B1DB5BC46 "euro/bnk/vehicules/rim/audi/tts_f_02.bnk"
A76ADA6B1DB5BC46 "euro/bnk/vehicules/rim/audi/tts_f_02.bnk"
A76ADA6B1DB5BC46 "euro/bnk/vehicules/rim/audi/tts_f_02.bnk"
A76ADA6B1DB5BC46 "euro/bnk/vehicules/rim/audi/tts_f_02.bnk"
A76ADA6B1DB5BC46 "euro/bnk/vehicules/rim/audi/tts_f_02.bnk"

if chipicao has gone through all of the rims, and my try with this one failed, we're missing something somewhere...actually we're missing a lot of files this way. only with rims it's about 60 files, maybe for a similar reason the rpm hud dials never show up in our list? maybe they're not recorded by the modified exe to the logfile?

what do you think?


Edit: an attached image of the 4th rim in 3ds max, it's exactly the same as the 4th rim in game.



rim4.jpg (48.67 KiB) Viewed 51 times
## Post #255
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-07T00:23:53+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Well this sucks... 
The sound files from 14 cars were also not loaded, and I drove them all...
## Post #256
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-03-07T01:38:28+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

guys, in log writed exactly the same names/hashes that game takes access.
i entered the audi shop, tried to buy the tts and cycled through available rims (in reverse order - from last to first) - in log i got next lines:

```
2CD273CAAB6AFFF4 "euro/bnk/vehicules/rim/audi/q7_v12_f_03.bnk"
2CD273CAAB6AFFF4 "euro/bnk/vehicules/rim/audi/q7_v12_f_03.bnk"
2CD273CAAB6AFFF4 "euro/bnk/vehicules/rim/audi/q7_v12_f_03.bnk"
2CD273CAAB6AFFF4 "euro/bnk/vehicules/rim/audi/q7_v12_f_03.bnk"
2CD273CAAB6AFFF4 "euro/bnk/vehicules/rim/audi/q7_v12_f_03.bnk"
2CD273CAAB6AFFF4 "euro/bnk/vehicules/rim/audi/q7_v12_f_03.bnk"
2CD273CAAB6AFFF1 "euro/bnk/vehicules/rim/audi/q7_v12_f_06.bnk"
2CD273CAAB6AFFF1 "euro/bnk/vehicules/rim/audi/q7_v12_f_06.bnk"
2CD273CAAB6AFFF1 "euro/bnk/vehicules/rim/audi/q7_v12_f_06.bnk"
2CD273CAAB6AFFF1 "euro/bnk/vehicules/rim/audi/q7_v12_f_06.bnk"
2CD273CAAB6AFFF1 "euro/bnk/vehicules/rim/audi/q7_v12_f_06.bnk"
2CD273CAAB6AFFF1 "euro/bnk/vehicules/rim/audi/q7_v12_f_06.bnk"
2CD273CAAB6AFFF2 "euro/bnk/vehicules/rim/audi/q7_v12_f_05.bnk"
2CD273CAAB6AFFF2 "euro/bnk/vehicules/rim/audi/q7_v12_f_05.bnk"
2CD273CAAB6AFFF2 "euro/bnk/vehicules/rim/audi/q7_v12_f_05.bnk"
2CD273CAAB6AFFF2 "euro/bnk/vehicules/rim/audi/q7_v12_f_05.bnk"
2CD273CAAB6AFFF2 "euro/bnk/vehicules/rim/audi/q7_v12_f_05.bnk"
2CD273CAAB6AFFF2 "euro/bnk/vehicules/rim/audi/q7_v12_f_05.bnk"
A76ADA6B1DB5BC46 "euro/bnk/vehicules/rim/audi/tts_f_02.bnk"
A76ADA6B1DB5BC46 "euro/bnk/vehicules/rim/audi/tts_f_02.bnk"
A76ADA6B1DB5BC46 "euro/bnk/vehicules/rim/audi/tts_f_02.bnk"
A76ADA6B1DB5BC46 "euro/bnk/vehicules/rim/audi/tts_f_02.bnk"
A76ADA6B1DB5BC46 "euro/bnk/vehicules/rim/audi/tts_f_02.bnk"
A76ADA6B1DB5BC46 "euro/bnk/vehicules/rim/audi/tts_f_02.bnk"
6A584D4876DF6211 "euro/bnk/vehicules/rim/audi/s3_f_01.bnk"
6A584D4876DF6211 "euro/bnk/vehicules/rim/audi/s3_f_01.bnk"
6A584D4876DF6211 "euro/bnk/vehicules/rim/audi/s3_f_01.bnk"
6A584D4876DF6211 "euro/bnk/vehicules/rim/audi/s3_f_01.bnk"
6A584D4876DF6211 "euro/bnk/vehicules/rim/audi/s3_f_01.bnk"
6A584D4876DF6211 "euro/bnk/vehicules/rim/audi/s3_f_01.bnk"
```

this means that game uses for tts rims from other cars. don't know if it's a bug or feature.
now you can open in max q7_v12_f_03 and i bet, it will be the same as last tts rim in game. and first tts rim is identical to first s3 rim (s3_f_01.bnk)
once again: i have checked my exe - it does exactly what it should - writes to log names to which game accesses.
## Post #257
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-07T09:37:23+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

yes i confirm that the TTS is using rims from the other audis.

so now the question is, how will we know if among the 2500 files left, which ones are really loaded and which ones are not? we need to make a clean-up sometime if we're to find all of the names. so i guess the game does carry around hundreds of duplicated useless files , let's make a lite version, like windowsXP black edition
## Post #258
- Username: RickPost
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sun Feb 27, 2011 9:02 pm
- Post datetime: 2011-03-07T14:53:14+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from vagos21
>
> i just tried it out, yes renaming the bnk works, but keep in mind that the interior/physics/hud will be the same as the previous car, unless you rename all of them too. i ended up driving the TT RS with the bodywork of the hotrod haha, funny stuff!
which file did you replace? 'cuz it doesn't work for me  and I would like to have it working so I can mess around with it
## Post #259
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-07T15:00:30+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from RickPost
>
> 
which file did you replace? 'cuz it doesn't work for me  and I would like to have it working so I can mess around with it

replace any bnk with any other bnk lol.... /euro/bnk/vehicules/high  if you're using the highest detail cars in your options. but remember, it will look and feel ugly.


for the time being, i'm using this ugly piece of software i just made to start renaming (almost manually) known files that are not loaded by the game, such as rims from the screenshot you see. ofcourse it's not as easy as it looks, i have to add each car path myself inside the rims path, but still it's faster than searching the files one by one in explorer, looking into them, and typing the whole path myself  



manualRename.gif (39.89 KiB) Viewed 236 times
## Post #260
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-07T20:21:27+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

guys i'm sorry i'm out of this project for a while, i'm really mentally and psychologically down something bad happened to me so

i give you all i have till now, the tools i made and used, the logs of files i manually renamed and the program itself, i wish i could explain how it works but i'm really not in the right position to do that. the gauges are just a test i don't know if the paths/names are right. the lower part of the extractor does not work it was a testing thing that failed a while ago. also the first 2 rims, i don't know which cars they belong to.

take care and good luck to all


 all.zip
(91.12 KiB) Downloaded 119 times
## Post #261
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-07T21:06:39+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I'm sorry for your situation, hope you'll pull through.
Thanks for everything, and don't worry we'll figure it out.

Good luck to you too!
## Post #262
- Username: mordax
- Rank: beginner
- Number of posts: 21
- Joined date: Mon Feb 21, 2011 5:52 am
- Post datetime: 2011-03-08T17:35:21+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

hi. does any1 know where are the carphysics located ?
also it seems that this script is not working. i tried to decrypt and/or extract bigfile_EU_5.big, but no luck.
first i tried to extract it directly using quickbms and script, didnt work. said 0 extracted
then i decrypted it using tdudec and then tried same using quickbms and the script taken from here, same results. whats going on?
i have found Physics.cpr which contains base physics for all cars but thts not what im after. i want to see each cars physics
## Post #263
- Username: Alyshiatdu2
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Tue Mar 08, 2011 1:24 pm
- Post datetime: 2011-03-08T20:27:09+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from mordax
>
> hi. does any1 know where are the carphysics located ?
also it seems that this script is not working. i tried to decrypt and/or extract bigfile_EU_5.big, but no luck.
first i tried to extract it directly using quickbms and script, didnt work. said 0 extracted
then i decrypted it using tdudec and then tried same using quickbms and the script taken from here, same results. whats going on?
i have found Physics.cpr which contains base physics for all cars but thts not what im after. i want to see each cars physics
                                                                                                                                                                                             I have the same problem, there is no way to open the pyhsics for each car. I did enjoy tdu 1 after I was able to mod the speed etc. of each car. In tdu 2 the only program I no to use is the tdudec, I did try to mod. the pyhsics.cpr file and that does not change anything in game.
## Post #264
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-03-09T06:55:25+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Physics are within the BNK files of cars.  Under the format called  .hdk

1. We cannot edit them.
2. There is not any type of program that can.
3. You would need to repack the .bnk file in order for it to work.

So if you figure those things, sure.   
-----------------


Btw does anyone know if its possible to just have the car files extracted (.big/.map) and have those working extracted only? Because I am only interested in loading the all the car files unpacked.
## Post #265
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-09T21:04:12+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I stopped russian gameplay for now (only went through the intro, most introductory/descriptive speech and C1 license) and I'm concentrating on finishing the game (again) in english. If there are any russian players that could redo all events it would be really helpful.

I'm almost finished with Ibiza, 1960 files to go.
[filelist7_filtered.zip](https://xentaxbackup.github.io/file/4029_filelist7_filtered.zip)
## Post #266
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-09T22:49:13+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

is it me or is this euro/bnk/physics/tires.bnk is new file? that's what i expected, game physics (tires and cars) have to be somewhere else, definitely not in the dhk files. i did a small research, dhk files are a small extension to the havok physics files, hkx. if you look at any hkx file it's the same thing, with a few differences and additions to the TDU physics files. and actually i've concluded that the dhk files contain nothing that we're actually interested in, only the physics system setup which is basically shapes of the cars and springs and stuff like that. so, no torque curves in dhk files, no horsepower and stuff, these have got to be somewhere else. and this physics/tires.bnk is a good start, i hope more files like that can be found soon!
## Post #267
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-09T23:02:17+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I found individual car physics a long time ago. It's one of the bin files and you have to decrypt it with tdudec. Let me see if I can find it again...

EDIT: F08BB2F77E4524F7.bin is the file, but I'm not sure if it's what I thought it was. It was logged as euro/bnk/database/aiconfig.cpr but it contains data for braking, turning, acceleration and probably top speed. Each car has its own ID in numeric format. I'm attaching the list, can't post it because it's too big.
## Post #268
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-09T23:15:19+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Chipicao
>
> I found individual car physics a long time ago. It's one of the bin files and you have to decrypt it with tdudec. Let me see if I can find it again...

is it the physics.cpr in the main TDU2 folder? i didn't manage to decompress that correctly with tdudec, it was supposed to come out as a normal text file right? i had text at the beginning but after some point it was just rubbish characters
## Post #269
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-09T23:24:05+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

No, it's not that one, I edited my previous post.

physics.cpr was decrypted just fine in my case. Did you remember to add the "1" flag for non-savegame files (tdudec.exe d Physics.cpr Physics.cpr.txt 1)?
I'm attaching my file in case you're curious...
[Physics.cpr.zip](https://xentaxbackup.github.io/file/4031_Physics.cpr.zip)
## Post #270
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-09T23:41:41+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Chipicao
>
> No, it's not that one, I edited my previous post.

physics.cpr was decrypted just fine in my case. Did you remember to add the "1" flag for non-savegame files (tdudec.exe d Physics.cpr Physics.cpr.txt 1)?
I'm attaching my file in case you're curious...

yes you're right it works, it was the db_data.cpr that wasn't working. well even if we get the car IDs right, this is pretty disappointing, just 4 parameters per vehicle won't help make handling better. it's like a jellyfish built this physics system setup! haha

Edit: maybe each car's min and max xmb contain some useful data, the ones included if you extract any of the /vehicules/hires/*.bnk

last edit: i've looked more into this, xmb from TDU1 has to do with pitching sound mapping according to engine rpm or something like that, so i guess i was on the wrong track

WTH are the real physics????
## Post #271
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-09T23:46:41+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Maybe there are more files that we haven't found yet...
But then again, TDU2 physics does look like it was built by a jellyfish )
## Post #272
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-10T00:00:18+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Chipicao
>
> Maybe there are more files that we haven't found yet...
But then again, TDU2 physics does look like it was built by a jellyfish )

yep, pretty disappointing, how the evolution of TDU became this mobile-phone-physics racing game. did a car delivery of the R8, god it was worse than any classic car! must have been a monkey testing it lol
## Post #273
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-03-10T00:41:16+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I've generated hashes for some russian files (guessed from us analogs), this filelist sort many "sound" and "scenarics" files. Now I've got 1216 files left unsorted.
vagos21, I'm glad to see you back. I hope you can solve your problems and continue our research. 
Chipicao, did you read my PM?
[filelists_sounds_scenarics.rar](https://xentaxbackup.github.io/file/4033_filelists_sounds_scenarics.rar)
## Post #274
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-10T10:27:14+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

wqerty can you upload your logfile with all the files? i seem to have a lot of stuff in mine, added some lines of my own renaming stuff i could like you did with the russian language and sounds. i have 885 files here left unsorted!
## Post #275
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-03-10T11:38:42+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I make list of my sorted files, then generate hashes for all of them, so there are no garbage hashes in this list (files, that are not existed, but game trying to access them). 8244 lines - 8244 files should get sorted 
And updated script for sorting them - faster and not creates empty folders 

```
for /F "tokens=1*" %%A in (filelist.log) do if exist %%A.bin ( md "%%~pB" & move %%A.bin %%B)
```

many ig2, some clothes (female), some sounds and many files, related to online features (clubs, casino, multiplayer races, reward stickers) are still unsorted. so if anyone may help in this direction (especially online) it would be great!
[filelist-2011-03-10.rar](https://xentaxbackup.github.io/file/4037_filelist-2011-03-10.rar)
## Post #276
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-10T14:04:06+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Thanks for the updated sorting script, it's just what I wanted. I tried use an "if exist" condition the other day but I guess I placed it in the wrong place 

I managed to get 154 more race-related files, mostly ig2. Including your manually sorted files and everything from vagos, there are only 816 files left unsorted.
[filelist8_filtered.zip](https://xentaxbackup.github.io/file/4038_filelist8_filtered.zip)
## Post #277
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-10T15:57:50+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

in case i had mistakes in some of my previous listings, i took the latest mission ig2 files from chipicao and all the rest from qwerty, and am now working on the rest of the files again.

i'm remaking the list of the rest of the clothes, will go on with the rims again.
files now down to 650!
we definitely need someone playing online to help, files like EDE93E2D392D5C13.bin include online club interiors

Edit: there's also these 2 files
EDE054821A070908.bin
EDE0548210030C0E.bin
looking inside them i've absolutely no idea what they could be! lol
## Post #278
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-10T16:13:41+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I don't understand why there are still missing clothes, I went through all fo them, male and female. Could it be that they are NPC clothes, not available to the player?
## Post #279
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-03-10T16:46:49+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

@Chipicao: You forget that pre order specials came with special jackets/clothing.
## Post #280
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-10T17:05:28+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I didn't even know that... I hate pre-order exclusives 

@vagos I'm pretty sure I can find the names and paths of club-related bnk files and qwerty should be able to generate hashes with them. I'm just waiting for his reply...

EDIT: there are 2 possibilities for EDE93E2D392D5C13.bin
euro\bnk\islands\hawai\exterior\gch_hb.bnk
euro\bnk\islands\ibiza\exterior\gch_hb.bnk
## Post #281
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-10T17:46:08+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Chipicao
>
> I didn't even know that... I hate pre-order exclusives 

@vagos I'm pretty sure I can find the names and paths of club-related bnk files and qwerty should be able to generate hashes with them. I'm just waiting for his reply...

EDIT: there are 2 possibilities for EDE93E2D392D5C13.bin
euro\bnk\islands\hawai\exterior\gch_hb.bnk
euro\bnk\islands\ibiza\exterior\gch_hb.bnk

i vote for hawai 

(from the hex of some paths in the file)
decors..hawai..objects..furnitures..

so, if this is right, this and the rest are:

```
EDE93E2D392D5C13 "euro/bnk/islands/hawai/exterior/gch_hb.bnk"
EDE93E2D392D5D12 "euro/bnk/islands/ibiza/exterior/gch_ic.bnk"
EDE93E2D392D5D13 "euro/bnk/islands/ibiza/exterior/gch_ib.bnk"
```



down to 580 files... here are the rest of my today's findings!


 myrest.zip
(4.5 KiB) Downloaded 33 times



Edit: can someone look for the right path of these few files?
it's the /us OR ru/ part that i can't figure out yet

```
5DDD408BDE105642 "euro/bnk/sound/voices/us OR ru/hs/HSMAP_02.bnk"
5DDD408BDE105643 "euro/bnk/sound/voices/us OR ru/hs/HSMAP_03.bnk"
5DDD408BDE105644 "euro/bnk/sound/voices/us OR ru/hs/HSMAP_04.bnk"
5DDD408BDE105645 "euro/bnk/sound/voices/us OR ru/hs/HSMAP_05.bnk"
5DDD408BDE105646 "euro/bnk/sound/voices/us OR ru/hs/HSMAP_06.bnk"
5DDD408BDE105647 "euro/bnk/sound/voices/us OR ru/hs/HSMAP_07.bnk"
5DDD408BDE105648 "euro/bnk/sound/voices/us OR ru/hs/HSMAP_08.bnk"
5DDD408BDE105649 "euro/bnk/sound/voices/us OR ru/hs/HSMAP_09.bnk"
5DDD408BDE105740 "euro/bnk/sound/voices/us OR ru/hs/HSMAP_10.bnk"
5DDD408BDE105741 "euro/bnk/sound/voices/us OR ru/hs/HSMAP_11.bnk"
5DDD408BDE105742 "euro/bnk/sound/voices/us OR ru/hs/HSMAP_12.bnk"
5DDD408BDE105743 "euro/bnk/sound/voices/us OR ru/hs/HSMAP_13.bnk"
5DDD408BDE105744 "euro/bnk/sound/voices/us OR ru/hs/HSMAP_14.bnk"
18B3BFE45B8853A9 "euro/bnk/sound/voices/us OR ru/hs/HSFR_voice_10_b.bnk"
290D2630BC5D210A "euro/bnk/sound/voices/us OR ru/hs/HSTUT_02.bnk"
290D2630BC5D210B "euro/bnk/sound/voices/us OR ru/hs/HSTUT_03.bnk"
290D2630BC5D210C "euro/bnk/sound/voices/us OR ru/hs/HSTUT_04.bnk"
290D2630BC5D2109 "euro/bnk/sound/voices/us OR ru/hs/HSTUT_01.bnk"
706B7472208A12CE "euro/bnk/sound/voices/us OR ru/hs/HSSP_11b.bnk"
D55377E54821A8D2 "euro/bnk/sound/voices/us OR ru/hs/HSMAP_14.bnk"
D55377E54821A8D4 "euro/bnk/sound/voices/us OR ru/hs/HSMAP_12.bnk"
D55377E54821A8D5 "euro/bnk/sound/voices/us OR ru/hs/HSMAP_13.bnk"
D55377E54821A8D6 "euro/bnk/sound/voices/us OR ru/hs/HSMAP_10.bnk"
D55377E54821A8D7 "euro/bnk/sound/voices/us OR ru/hs/HSMAP_11.bnk"
D55377E54821A9D0 "euro/bnk/sound/voices/us OR ru/hs/HSMAP_06.bnk"
D55377E54821A9D1 "euro/bnk/sound/voices/us OR ru/hs/HSMAP_07.bnk"
D55377E54821A9D2 "euro/bnk/sound/voices/us OR ru/hs/HSMAP_04.bnk"
D55377E54821A9D3 "euro/bnk/sound/voices/us OR ru/hs/HSMAP_05.bnk"
D55377E54821A9D4 "euro/bnk/sound/voices/us OR ru/hs/HSMAP_02.bnk"
D55377E54821A9D5 "euro/bnk/sound/voices/us OR ru/hs/HSMAP_03.bnk"
D55377E54821A9D7 "euro/bnk/sound/voices/us OR ru/hs/HSMAP_01.bnk"
D55377E54821A9DE "euro/bnk/sound/voices/us OR ru/hs/HSMAP_08.bnk"
D55377E54821A9DF "euro/bnk/sound/voices/us OR ru/hs/HSMAP_09.bnk"
E48F953D6966BB71 "euro/bnk/sound/voices/us OR ru/hs/HSFR_voice_10_b.bnk"
F8E5431CB6BBED58 "euro/bnk/sound/voices/us OR ru/hs/HSSP_11b.bnk"
```
## Post #282
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-03-10T18:06:09+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

```
5A2F562389C2F9B2 "euro/bnk/islands/ibiza/exterior/gch_hb.bnk"
```

nope. i think it should be interiors, not exteriors, maybe in euro/bnk/interior/...

all 4 files are club related, maybe interiors of different clubs... with only 1 or 2 letters different in filenames 

```
EDE93E2D392D5C13.bin
EDE93E2D392D5D12.bin
EDE93E2D392D5D13.bin
```
## Post #283
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-10T18:10:34+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

yea i think they should be interiors too, i can't be sure though, opening one of them in MAX shows an interior space


Edit: can someone check these paths too? 134 files are just... club logos!

```
90550A68062FD247 "euro/bnk/frontend/allres/clublogos/29.bnk"
90550A68062FD248 "euro/bnk/frontend/allres/clublogos/26.bnk"
```
## Post #284
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-03-10T18:19:06+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

according to hashes in myrest.log from vagos21's post - many of them are correct, but some are not. generated hashes from your filenames in attachment. you can compare it with your file, or just sort files using corrected list 
[myrest.rar](https://xentaxbackup.github.io/file/4040_myrest.rar)
## Post #285
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-10T18:20:21+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from qwerty
>
> nope. i think it should be interiors, not exteriors, maybe in euro/bnk/interior/...

Yeah, you're probably right. I think it's actually the garage part of the club.
I tested a few house files from euro/bnk/interior/; those starting with gph_ are garages, and those starting with lph_ are interiors.

P.S. Did you get my PM?
## Post #286
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-10T18:29:53+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from qwerty
>
> according to hashes in myrest.log from vagos21's post - many of them are correct, but some are not. generated hashes from your filenames in attachment. you can compare it with your file, or just sort files using corrected list

can you tell me which files were wrong? the hashnames are correct, i don't generate them i just explore the ones already existing. the filenames were wrong, the stickers for example i see now, i forgot to delete the hashes at the end of their names.
for example,
219D370C33C1EE19 "euro/bnk/scenarics/packs/stickers/st_fun01_7FE02EC68F574BD4.bnk"
should be
219D370C33C1EE19 "euro/bnk/scenarics/packs/stickers/st_fun01.bnk"

can you check that?

Edit: i see what you meant by duplicates, yes some were wrong,
i believe this one is right: 

 myrest.zip
(4.49 KiB) Downloaded 34 times
## Post #287
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-03-11T07:36:49+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Finally got my game to work all extracted. 

So ok, what everyone who has participated in cracking TDU2 formats done so far from what I know is.


1. Ability to export the .map & .big files
2. Ability to run the game unpacked << Still WIP really <<
2. Ability to export .bnk file contents
3. Ability to import TDU2 models in 3ds max & Zmodeler


So overall does anyone think putting files back into .bnk's or even make our own is somewhat possible?
## Post #288
- Username: diablojin
- Rank: n00b
- Number of posts: 15
- Joined date: Mon Nov 30, 2009 4:24 am
- Post datetime: 2011-03-11T12:37:29+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Hey guys,

Just would like to show you what I have managed to pull out of the mesh in terms of rendering. The mesh was excellent and had great detail,I have gone ahead and cleaned it as well as adding more detail to bring it upto a photo real mesh.

She has been shaded, textured and lit and rendered, let me know what you think.

Thanks again to vagos and all the other guys efforts, really appreciated

[http://img850.imageshack.us/i/slsinterior.jpg/](http://img850.imageshack.us/i/slsinterior.jpg/)
## Post #289
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-03-11T13:20:23+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

@diablojin: Holy ......    That looks amazing.   How long did that take you to do all that?
## Post #290
- Username: diablojin
- Rank: n00b
- Number of posts: 15
- Joined date: Mon Nov 30, 2009 4:24 am
- Post datetime: 2011-03-11T13:27:49+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from toolieo
>
> @diablojin: Holy ......    That looks amazing.   How long did that take you to do all that?

I have been working solidly for a week on it, and sent her for render last night and finished compositing this morning!

This also includes the car mesh as well 

[http://img860.imageshack.us/f/mesh.jpg/](http://img860.imageshack.us/f/mesh.jpg/)
## Post #291
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-03-11T14:04:10+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Have you done any more? or just the one?
## Post #292
- Username: diablojin
- Rank: n00b
- Number of posts: 15
- Joined date: Mon Nov 30, 2009 4:24 am
- Post datetime: 2011-03-11T14:14:33+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from toolieo
>
> Have you done any more? or just the one?

No this is my first one! 

I plan to have a bash with one of the ferrari's soon
## Post #293
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-11T17:25:06+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Using the very smart function from qwerty, here is my latest filelist, all checked all the files the hashnames are correct and they exist as bin files, so every single entry in this log is correct. i'm glad the club logos are all right!


 myrest.zip
(4.75 KiB) Downloaded 42 times
## Post #294
- Username: matt1314
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Sat Mar 12, 2011 1:20 am
- Post datetime: 2011-03-11T21:04:35+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Hey, guys!

Well, you did a great job on getting these DLC cars into the game without paying a cent. But I got a little problem: The text is not showing up in the game when I start TDU2 in the unpacked mode with filelist.exe. The car shows up, but there are no writings at all. Could anybody help me?

Picture:



And what car should I replace to get the Gumpert Apollo into my garage? Will it also have its correct physics if I e.g. replace the Enzo with the Apollo?
## Post #295
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-11T21:49:10+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Replacing bnk files is not the best way to change the cars in your garage. You have to edit a lot more files to also change handling, car data, car name, and who knows what more.

I finished every single challenge in Ibiza, including championships, random character events, treasure hunt and photographs.
I also completed all random character events in Hawaii and got the C1 license, so we should have some more ig2 files.
## Post #296
- Username: matt1314
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Sat Mar 12, 2011 1:20 am
- Post datetime: 2011-03-11T21:59:43+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Yeah, that's true. But how do you know which files to change? 

I have also completed every race, championship etc. I just need some photos (only 4 left) and 6 or so random character events. But what's that C1 license? Where did you get it? I have also plently of ig2 files, but how do these affect the cars in the garage? I want to get the Apollo into my garage correctly, like you did in your Hot Rod video. Can you teach me (or us) how to do that? I thought exchanging bnk files is the only way to do that...

Edit: I fixed the problem with the text. I had to change the language to English to let it work correctly. I had German set before.
## Post #297
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-11T23:08:02+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Sorry, I meant C3 in Hawaii.
ig2 files are not related to cars but events such as races. Are you logging game files? If so, why don't you post your progress, maybe you can add something to our list.

I don't know which files to edit and frankly I don't care.  Even if you found out, it would still mean that only you can see the replaced cars (presuming you can go online afterwards).
The best way is to edit the game's memory addresses (there are 3 of them) which contain the ID of the car you are driving and replace it with the ID of any car.

Another quick way that only works in offline mode, and you have to start a new profile, is to edit gamePC.cpr. There are sections to change the default houses in which you start (Ibiza and Hawaii) and also the cars in their garages (again by numeric ID).
## Post #298
- Username: matt1314
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Sat Mar 12, 2011 1:20 am
- Post datetime: 2011-03-11T23:37:42+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Logging game files? I don't have a clue of what you mean by that...

Game Memory addresses? Wow, that sounds complicated, how should we know what ID to replace and where it is...

How do you edit these .cpr files? I guess Notepad wouldn't work, right? 
How did you actually get the Apollo inside your garage in your Hot Rod video? It showed the correct data and the car model with its wheels etc. looked very fine.
## Post #299
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-12T11:06:27+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from matt1314
>
> Logging game files? I don't have a clue of what you mean by that...

Game Memory addresses? Wow, that sounds complicated, how should we know what ID to replace and where it is...

How do you edit these .cpr files? I guess Notepad wouldn't work, right? 
How did you actually get the Apollo inside your garage in your Hot Rod video? It showed the correct data and the car model with its wheels etc. looked very fine.

about logging game files, read qwerty's posts on page 14 and u'll see. simply, it's a modified exe that you use instead of the original exe to log all the files it's loading while you play in a file called filelist.log. but that's no use right now, u'll have to redo everything to have the files logged, but in case you want to try it from now on, here's the link [http://www.zshare.net/download/87297480af12564f/](http://www.zshare.net/download/87297480af12564f/)
## Post #300
- Username: mordax
- Rank: beginner
- Number of posts: 21
- Joined date: Mon Feb 21, 2011 5:52 am
- Post datetime: 2011-03-12T14:05:28+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

regarding car physics, somebody said that you cant blabla.
ok np, but can somebody tell me exactly, how i can get to see them ?
like extract, decrypt ?!
in which file and how do i open it ? i have tried to decrypt and extract, but nothing works. i want to see car physics.
## Post #301
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-12T19:20:57+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from mordax
>
> regarding car physics, somebody said that you cant blabla.
ok np, but can somebody tell me exactly, how i can get to see them ?
like extract, decrypt ?!
in which file and how do i open it ? i have tried to decrypt and extract, but nothing works. i want to see car physics.

did you read the previous pages?

> Reply from chipacao
>
> I found individual car physics a long time ago. It's one of the bin files and you have to decrypt it with tdudec. Let me see if I can find it again...
EDIT: F08BB2F77E4524F7.bin is the file, but I'm not sure if it's what I thought it was. It was logged as euro/bnk/database/aiconfig.cpr but it contains data for braking, turning, acceleration and probably top speed. Each car has its own ID in numeric format. I'm attaching the list, can't post it because it's too big.

though i'm not happy with the result, just setting data for braking turning and acceleration is not what we are looking for, so i guess this is just the max values that you can give the AI to drive their own cars, depending on which care they're driving. so definitely this is not the physics of the cars we drive! i've no idea where they're hidden... maybe part of the exe?
## Post #302
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-12T19:37:00+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

chipicao and qwerty, i've been working all day today on the rest of the files, but there are about 85 ig2 mission files i haven't got in my logs. do you have all the missions completed so i can add them too? without these i'm down to 248 files left!!

all the latest files i've worked on are checked with the hash generator and are correct and exist as bin files so... i guess we're close to having them all!
## Post #303
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-12T22:01:51+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Like I said I finished everything in Ibiza. Sorry I forgot to post the filelist in my previous post, but I'm attaching my latest log now.
I also finished every random character event in Hawaii, C3 and C3 high championships, found all treasure hunt cars and most photographs. That just leaves B3, A5,4,3,2,1 championships and the final cup event.
[filelist11_filtered.zip](https://xentaxbackup.github.io/file/4050_filelist11_filtered.zip)
## Post #304
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-03-12T22:31:21+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

made some lucky guesses about club files, interiors, exteriors, for example...

```
461B9413300DEC8B "euro/bnk/frontend/medres/club.bnk"
F0F2DBB85113E472 "euro/bnk/frontend/lowres/club.bnk"
485EF63B79FCDA95 "euro/bnk/interior/ich_ha.bnk"
485EF63B79FCDA96 "euro/bnk/interior/ich_hb.bnk"
485EF63B79FCDA97 "euro/bnk/interior/ich_hc.bnk"
485EF63B79FCDB95 "euro/bnk/interior/ich_ia.bnk"
485EF63B79FCDB96 "euro/bnk/interior/ich_ib.bnk"
485EF63B79FCDB97 "euro/bnk/interior/ich_ic.bnk"
```

all them included in filelist

and there are 22 identical by content bnk files, each 2048 bytes long, they are "empty" bnks (with 0 files inside), so game may never access them. and I have no idea on how to get their names. 

```
18ACFF7744051D82.bin; 192B0B600945A5B9.bin;
314FA339AF1F9B8C.bin; 40F2059E9FE07842.bin;
4B3FB52529EC7A7B.bin; 4D2D7E1F82CA5282.bin;
4F0F8025948E5815.bin; 513B906A747A08D3.bin;
52959C4F5B28D389.bin; 567D3A55CB01FFDE.bin;
6F71AA3AE44C0DD6.bin; 795F3833D22036E6.bin;
92DCD2578F3E2CA7.bin; A532D59502C42627.bin;
A7102BAF14802CB0.bin; AACF502E09AA0670.bin;
DF05648700934644.bin; DF0564870A974342.bin;
EDE0548210030C0E.bin; EDE054821A070908.bin

```


vagos, post your latest filelist too 
[filelist_2011-03-13.rar](https://xentaxbackup.github.io/file/4051_filelist_2011-03-13.rar)
## Post #305
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-12T22:41:31+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Has anyone looked at the file db_data.cpr?
It is updated in every patch, and it seems to contain all the names of bnk files.

The problem is that even after you decrypt it with tdudec, you still can't read it properly because it's one of those XMBF formats.
## Post #306
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-13T00:36:43+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

qwerty please don't forget to check you PM. I sent you 2 messages with possible bnk names.
## Post #307
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-13T00:50:44+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Hello everyone

1. lucky you qwerty, i've been working all day today for the cleanest list i could do!
so here it is, all i got, it also includes all a7 a6 a5 a4 a3 a2 a1 championships and some others that chipicao missed. unfortunately i could only get 7 extra ig2 files from the whole list i got from chipicao, but anyway! here is the latest list i have, each line is
unique
hash generated by filename
generated hash checked that it really exists in the bin files
sorted according to filename
file contains 8837 entries, so 9151-8837 = 314 files left for me
i had to remove some of the lines that stated filenames that didn't exist as bin, if you want to double check, i've included them too as missing.log  

2. yes these tiny files that contain a lot of crap and no info, i don't know what we're gonna do about them, thank god they're not too many!

3. qwerty, mind if i post the prog i made to check the filenames? it will have to include your dll...


 filelist_CLEAN.zip
(79.39 KiB) Downloaded 44 times



Edit: my filelist already contains those filenames from you, i'd found them too 2 days ago, i believe the same way you did? looking into the files with a hex editor for some paths hehe
## Post #308
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-13T00:56:07+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

vagos, can you please try to generate hashes for these filenames?

> Reply from vagos21
>
> 314 files left for meAfter your latest filelist I'm left with 275 files. I also used the all filelists from qwerty.
[todo2.zip](https://xentaxbackup.github.io/file/4055_todo2.zip)
## Post #309
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-13T01:31:34+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

here is the list with the filenames that passed all tests

not many, but it's still a good start. can u send me your latest log so i can see how many more i can add? i was down to 280 but lost some of my files, i hope they're in your logs 


 checked.zip
(486 Bytes) Downloaded 34 times
## Post #310
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-13T01:37:23+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Chipicao
>
> Has anyone looked at the file db_data.cpr?
It is updated in every patch, and it seems to contain all the names of bnk files.

The problem is that even after you decrypt it with tdudec, you still can't read it properly because it's one of those XMBF formats.

yes it DOES contain all filenames and all frontend screens data,
i'm also finally sure that THIS file contains the car physics!! you can see stuff like gear ratios, slip angles, lateral friction percentages and stuff,
the one who makes an XMBF editor will be the star of TDU2! hehe
## Post #311
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-13T01:38:47+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Thanks! My latest log is the one I posted earlier, after that I started browsing through the remaining bins to see if I can find any more filenames.
## Post #312
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-13T02:03:07+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

actually i don't think there is a xbmf editor.... but an extractor maybe? there have to be thousands of files in there with their own structure too! the XMBF exists in those .map files and resembles their format, maybe with a little modification to the script that extracts the big files we'll be able to get those too?
can you give it a shot qwerty? i wish i knew how to script bms but i'm completely new and will have to start from the beginning   

here is the merged filelist of all our 3 lists, i only removed these lines that don't exist, due to language limitations. should i put them back?

```
8498C869158D72E8 "euro/bnk/database/db_ge.cpr"
8498C869158D7CF9 "euro/bnk/database/db_it.cpr"
8498C869158D65E1 "euro/bnk/database/db_pl.cpr"
8498C869158D66FD "euro/bnk/database/db_sp.cpr"
45526C13FE731262 "euro/bnk/scenarics/cinematics/offroad/stb_b4__fr.bnk"
45526C13FE731375 "euro/bnk/scenarics/cinematics/offroad/stb_b4__ge.bnk"
45526C13FE731D64 "euro/bnk/scenarics/cinematics/offroad/stb_b4__it.bnk"
45526C13FE73047C "euro/bnk/scenarics/cinematics/offroad/stb_b4__pl.bnk"
45526C13FE730760 "euro/bnk/scenarics/cinematics/offroad/stb_b4__sp.bnk"
```


8862 unique existing entries. 289 left


 filelist_clean_2.zip
(78.44 KiB) Downloaded 30 times
## Post #313
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-13T02:07:35+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

More guesses:

```
euro\bnk\scenarics\cinematics\island\press_start_hawaii_cin.bnk

euro\bnk\sound\voices\us\hs\hsfr_voice_24.bnk
euro\bnk\sound\voices\us\hs\hsfr_voice_25.bnk
euro\bnk\sound\voices\us\hs\hsfr_voice_26.bnk

euro\bnk\sound\voices\ru\hs\hsfr_voice_10_b.bnk
euro\bnk\sound\voices\ru\hs\hsfr_voice_24.bnk
euro\bnk\sound\voices\ru\hs\hsfr_voice_25.bnk
euro\bnk\sound\voices\ru\hs\hsfr_voice_26.bnk
euro\bnk\sound\voices\ru\hs\hssp_11b.bnk
euro\bnk\sound\voices\ru\hs\hstut_01.bnk
euro\bnk\sound\voices\ru\hs\hstut_02.bnk
euro\bnk\sound\voices\ru\hs\hstut_03.bnk
euro\bnk\sound\voices\ru\hs\hstut_04.bnk

euro\bnk\vehicules\rim\arbath\puntoabarth_f_01.bnk
euro\bnk\vehicules\rim\farboud\faroub_f_01.bnk

```
## Post #314
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-13T02:42:53+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

only these two pass the test. i'd already done some of the others that i lost, i'll redo them tomorrow, it's 4am lol, goodnight everybody!

706B7472208A12CE "euro/bnk/sound/voices/ru/hs/hssp_11b.bnk"
18B3BFE45B8853A9 "euro/bnk/sound/voices/ru/hs/hsfr_voice_10_b.bnk"
## Post #315
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-03-13T03:50:15+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from vagos21
>
> actually i don't think there is a xbmf editor.... but an extractor maybe? there have to be thousands of files in there with their own structure too! the XMBF exists in those .map files and resembles their format, maybe with a little modification to the script that extracts the big files we'll be able to get those too?
can you give it a shot qwerty? i wish i knew how to script bms but i'm completely new and will have to start from the beginning   

here is the merged filelist of all our 3 lists, i only removed these lines that don't exist, due to language limitations. should i put them back?
Code: Select all8498C869158D73FF "euro/bnk/database/db_fr.cpr"
8498C869158D72E8 "euro/bnk/database/db_ge.cpr"
8498C869158D7CF9 "euro/bnk/database/db_it.cpr"
8498C869158D65E1 "euro/bnk/database/db_pl.cpr"
8498C869158D66FD "euro/bnk/database/db_sp.cpr"
45526C13FE731262 "euro/bnk/scenarics/cinematics/offroad/stb_b4__fr.bnk"
45526C13FE731375 "euro/bnk/scenarics/cinematics/offroad/stb_b4__ge.bnk"
45526C13FE731D64 "euro/bnk/scenarics/cinematics/offroad/stb_b4__it.bnk"
45526C13FE73047C "euro/bnk/scenarics/cinematics/offroad/stb_b4__pl.bnk"
45526C13FE730760 "euro/bnk/scenarics/cinematics/offroad/stb_b4__sp.bnk"

8862 unique existing entries. 289 left
filelist_clean_2.zip
these files are from the first game patch (TDU2v082.map). patch is one for all language versions of the game, so it contains some extra files. i unpacked all 8 map+big from game folder - 5 original and 3 patches, so these files exist for me and was sorted. you can delete these filenames if you want, or save them in separate file.
## Post #316
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-13T04:23:42+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

small update... 249 files left (after sorting with all our lists)
[filelist12.zip](https://xentaxbackup.github.io/file/4059_filelist12.zip)
## Post #317
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-13T10:59:36+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Hello again,

i think it's time to share this little prog that quickly checks the validity of the filenames we find, now that we're having too few files we'll need help from anyone to help find which they are. so, how it works:
first extract all big files to one directory
run the prog, make sure you keep the dll with it!
set the path of the bins you extracted
then you can type your names-in-research,
or you can load them from a text file, for example like i do now checking our whole list. hash codes will be generated based on these names, and if they exist the text will appear as GREEN on the right, if they don't exist it will be RED. simple as that! there's also a button to save only the green ones in a log file, those that exist that is  really simple!

Tip: files appearing as uppercase in a hexeditor, they should be lowercase, so if you find something like HSRF, make sure you type it as hsrf

yes i confirm that filelist12 is all green, but you're missing about a thousand files, it only has 7581 entries... something happened during a copy-paste?


 tdu2HashGen.zip
(11.75 KiB) Downloaded 76 times


a big thank you from everyone to qwerty for making that magical function!!!

Edit: it's really annoying that we can't find the path of the puntoabarth rim, and also the duplicate beetle1973 rim, which is already renamed as a different filename!   

Edit 2: i also noted that only about 50 files left are bnks, 117 wave files (no idea how to get these names...)  20 of these small unknown files, and the rest (about 80) are ig2 mission files
## Post #318
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-13T11:44:21+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Thanks for the tool vagos! And thanks qwerty for the dll!

My latest log has only 7581 entries because it doesn't include your lists or the ones from qwerty. If you add those you'll get 8902 unique and existing hashes.

I was just in the precess of separating the remaining 249 bins into bnks, empty files, WAVs...
Are you sure there are 50 bnks? I only found 25. The method I used was rather rudimentary but I think effective. I used qwerty's bin/bnk script to extract all remaining files into separate directories, then I filtered out empty directories. Maybe the other 25 bnks are empty?
## Post #319
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-13T12:27:11+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Chipicao
>
> Thanks for the tool vagos! And thanks qwerty for the dll!

My latest log has only 7581 entries because it doesn't include your lists or the ones from qwerty. If you add those you'll get 8902 unique and existing hashes.

I was just in the precess of separating the remaining 249 bins into bnks, empty files, WAVs...
Are you sure there are 50 bnks? I only found 25. The method I used was rather rudimentary but I think effective. I used qwerty's bin/bnk script to extract all remaining files into separate directories, then I filtered out empty directories. Maybe the other 25 bnks are empty?

yes i think the "empty" bnks are the tiny 2kb files that qwerty said too contain no kind of files in there. i use another tool i made that reads inside the bnk files that's how i counted them.
## Post #320
- Username: Gamer boy
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sat Jul 31, 2010 1:23 pm
- Post datetime: 2011-03-13T13:13:15+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

hello guys, iam trying to unpack 5th big file with below BMS Script

```
Open FDDE big 1
Endian big
GetDString DUMMY 12
Get OFFS long
GoTo OFFS
Get DUMMY long
Get NUMHASHES long
Get HASHOFFSET long
Math HASHOFFSET += OFFS
Get NUMFILEREC long
Get FILERECOFFSET long
Math FILERECOFFSET += OFFS
If NUMHASHES != NUMFILEREC
  CleanExit
EndIf
For I = 0 < NUMHASHES
  GoTo HASHOFFSET
  Get HASH1 long
  Get HASH2 long
  String NAME p= "%08X%08X.bin" HASH1 HASH2
  SavePos HASHOFFSET
  GoTo FILERECOFFSET
  Get FILESIZE long
  Get DUMMY long # compression?
  Get FILEOFFSET long
  SavePos FILERECOFFSET
  Math MEMSIZE = FILESIZE
  Math MEMSIZE x 4
  Log MEMORY_FILE FILEOFFSET MEMSIZE 1
  If MEMSIZE != FILESIZE
    Math MEMSIZE -= 4
    GetVarChr TMP MEMORY_FILE MEMSIZE long
    Math TMP ^= 0xD7A8E2D4
    PutVarChr MEMORY_FILE MEMSIZE TMP long
  EndIf
  FileXOR "\xD7\xA8\xE2\xD4"
  Log NAME 0 FILESIZE MEMORY_FILE
  FileXOR ""
Next I

```

and iam facing with this strange error. 

[](http://img291.imageshack.us/i/errorlyu.png/)

Uploaded with [ImageShack.us](http://imageshack.us) 

So can any one tell me the solution of my problem? thanks in advance.
## Post #321
- Username: ludo1
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sat Mar 12, 2011 7:56 pm
- Post datetime: 2011-03-13T13:28:56+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

i've got the same error guys.. could anyone tell me how to extract correctly .big files?..i've read all the pages of this topic but i misunderstood. I'd like to insert new cars in TDU (like bugatti veyron ss..audi rs5 and so on)..please help me..
Thank you
## Post #322
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-13T13:39:18+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

@Gamer boy & ludo1 The input file is not the .big file, but the .map file. Also I think it's best to run it from the command prompt, using GUI mode might not work well.
Example: quickbms.exe -o script.bms D:\Games\TDU2\bigfile_RU_5.map D:\Games\TDU2\BIN

Found some more files after completing B3 championship. I think most of the remaining ig2 files are from instant challenges - haven't done any of those yet.

```
1410097BE723E6A7 "euro/bnk/ig2/chb3a05t.ig2" 
1410097BE723E1A7 "euro/bnk/ig2/chb3a02t.ig2" 
1410097BE723E5A1 "euro/bnk/ig2/chb3a06r.ig2" 
1410097BE723E0A1 "euro/bnk/ig2/chb3a03r.ig2" 
1410097BE723E7A1 "euro/bnk/ig2/chb3a04r.ig2" 
1410097BE423E0A1 "euro/bnk/ig2/chb3b03r.ig2" 
1410097BE423E1A7 "euro/bnk/ig2/chb3b02t.ig2" 
1410097BE423E6A7 "euro/bnk/ig2/chb3b05t.ig2" 
1410097BE423E7A1 "euro/bnk/ig2/chb3b04r.ig2" 
1410097BE423E2A1 "euro/bnk/ig2/chb3b01r.ig2" 
D2BF0BB0CC7382A2 "euro/bnk/sound/voices/us/pc_20_duel_chris.wav" 
419A15C434816EA1 "euro/bnk/ig2/duelb3a.ig2" 
```
## Post #323
- Username: ludo1
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sat Mar 12, 2011 7:56 pm
- Post datetime: 2011-03-13T14:42:39+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

@Chipicao thank you for the reply..i did that but an error appared:
[](http://www.imagebam.com/image/a1e015123394322)
but what about the prompt command method??
## Post #324
- Username: ludo1
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sat Mar 12, 2011 7:56 pm
- Post datetime: 2011-03-13T15:04:44+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

This is the error if i open it using the cmd:
[](http://www.imagebam.com/image/8c375f123397374) 
p.s. sorry for double post..and..pure curiosity..are you also register in the kot's chop shop??????..
## Post #325
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-03-13T17:19:03+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

a little notice i made about ig2 files:
for example:

```
^^^^^^^^
zzyyxwwv
```

zz='ch' - challenge
yy='b3' - car class
x='b' - gold challenge, 'a' for standart challenges
ww='03' - race number from 01 to 08 in some challenges
v='r' - race type - r=race or eliminator; t=time; s=speed; a=speedtrap
similar patterns for racing schools (rs*.ig2), events (evi*.ig2 for ibiza and evh*.ig2 for hawaii, i suppose), cups (ci1* fo ibiza and, presumably, ch1* and ch2* for hawaii), and multiplayer races (rm* or cm*, i suppose)
vagos21, i'm just generated some names using this presumption and checked them in your great tool  all green!
this should be A1 standart and gold challenges (note, that a1b02 is missed, but a1b09 is existed )

```
048EBE6D47E62720 "euro/bnk/ig2/cha1a02r.ig2"
048EBE6D47E62620 "euro/bnk/ig2/cha1a03r.ig2"
048EBE6D47E62120 "euro/bnk/ig2/cha1a04r.ig2"
048EBE6D47E62026 "euro/bnk/ig2/cha1a05t.ig2"
048EBE6D47E62333 "euro/bnk/ig2/cha1a06a.ig2"
048EBE6D47E62221 "euro/bnk/ig2/cha1a07s.ig2"
048EBE6D47E62D20 "euro/bnk/ig2/cha1a08r.ig2"
048EBE6D44E62420 "euro/bnk/ig2/cha1b01r.ig2"
048EBE6D44E62620 "euro/bnk/ig2/cha1b03r.ig2"
048EBE6D44E62120 "euro/bnk/ig2/cha1b04r.ig2"
048EBE6D44E62033 "euro/bnk/ig2/cha1b05a.ig2"
048EBE6D44E62321 "euro/bnk/ig2/cha1b06s.ig2"
048EBE6D44E62220 "euro/bnk/ig2/cha1b07r.ig2"
048EBE6D44E62D26 "euro/bnk/ig2/cha1b08t.ig2"
048EBE6D44E62C20 "euro/bnk/ig2/cha1b09r.ig2"

```

ludo1, copy script to file from the first symbol, not second
## Post #326
- Username: ludo1
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sat Mar 12, 2011 7:56 pm
- Post datetime: 2011-03-13T18:01:13+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

sorry i missed it..   ..but now I have got a new problem..   
[](http://www.imagebam.com/image/71b8f8123423722)
## Post #327
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-13T18:32:29+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

You have to manually create the extract folder (E:\Estrazione)
Yes, I'm from KCS 

@qwerty Great find!
## Post #328
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-13T20:11:47+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

@ludo, try to download another version of quickbms, even though i never reported it, i had the same problem but solved it this way. so i have one quickbms exe that works with the big/map files, and another one to extract the bnk files. funny isn't it?    

@qwerty, that's great! keep it green, save the planet
## Post #329
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-13T21:42:54+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I started going through the remaining wav files (about 100). These are generally phonecalls which I have missed, police chatter and ambient sound/music. There should be a location on the map where you can hear music, like in a club. Anyone knows where it is?

I also found a lot of extra introductory tutorials. There are 2 woman voices, one british and one with an asian accent. I'm guessing these are leftovers which we might never encounter in-game.

Here's a list with what I found so far:

```
1E98950756FF06FA "euro/bnk/sound/voices/us/pc_31_classic_champ.wav"
324417C1B2D78486 "euro/bnk/sound/voices/ru/pc_31_classic_champ.wav"
29875CCF5DED313E "euro/bnk/sound/voices/us/pc_09_tuner.wav"
A1096BA1CBDCCEA8 "euro/bnk/sound/voices/ru/pc_09_tuner.wav"
9C202DA2218FFF9E "euro/bnk/sound/voices/us/pc_25_surgery_hawai.wav"
B0FCAF64C5A77DE2 "euro/bnk/sound/voices/ru/pc_25_surgery_hawai.wav"
A2DABE9F6865AB7C "euro/bnk/sound/voices/us/pc_34_treasure_hunt.wav"
8E063C598C4D2900 "euro/bnk/sound/voices/ru/pc_34_treasure_hunt.wav"
7590B8BABD3AB8C0 "euro/bnk/sound/voices/us/police/helico11.wav"
7590B8BABD3AB8C3 "euro/bnk/sound/voices/us/police/helico12.wav"
7590B8BABD3AB8C2 "euro/bnk/sound/voices/us/police/helico13.wav"
858FE7A18DCF878B "euro/bnk/sound/voices/ru/police/helico11.wav"
858FE7A18DCF8788 "euro/bnk/sound/voices/ru/police/helico12.wav"
858FE7A18DCF8789 "euro/bnk/sound/voices/ru/police/helico13.wav"
87FBB985C087953B "euro/bnk/sound/voices/us/police/roadblock01.wav"
87FBB985C0879538 "euro/bnk/sound/voices/us/police/roadblock02.wav"
87FBB985C0879539 "euro/bnk/sound/voices/us/police/roadblock03.wav"
7BC7935CF2697DE3 "euro/bnk/sound/voices/ru/police/roadblock01.wav"
7BC7935CF2697DE0 "euro/bnk/sound/voices/ru/police/roadblock02.wav"
7BC7935CF2697DE1 "euro/bnk/sound/voices/ru/police/roadblock03.wav"
```
## Post #330
- Username: kukis1983
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Mon Mar 14, 2011 4:54 am
- Post datetime: 2011-03-13T22:00:12+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Off Topic

Anyone knows how to add own music? I know music file format is wav. How to add your own radio station? I use a translator and sry for bad english.
## Post #331
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-13T22:08:59+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

For that we need a way to re-pack bnk files.
## Post #332
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-03-13T23:20:54+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Chipicao
>
> There should be a location on the map where you can hear music, like in a club.
Yeah, I've tried to find this out too. Listening this wav and thinking exactly the same. 
There is "Pacha" nightclub on ibiza, I drove near it for some time, but no result (not hearing any music, nor getting new hash in filelist). Maybe music plays only on some hours in game (on evening and night?), or maybe it plays in absolutely different place.
## Post #333
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-14T01:27:51+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I think it's only at night. I'll have too look for it when I have the patience to wait for time to advance in game 

Meanwhile I remembered that db_data.cpr, although not fully decrypted/unpacked, still has readable filenames. So I started searching for remaining phonecalls:

```
BEFED2BE17B75EDB "euro/bnk/sound/voices/us/pc_10_reward_car.wav"
9914E47BCFFCCCD9 "euro/bnk/sound/voices/us/pc_11_chase_intro_ibiza.wav"
F3683BFBA0578ED0 "euro/bnk/sound/voices/us/pc_12_chase_intro_hawai.wav"
C44554922364B14E "euro/bnk/sound/voices/us/pc_29_hair_dresser.wav"
A9FD34D50F7E1660 "euro/bnk/sound/voices/us/pc_35_photograph_end.wav"
CFF554E53C42CDF7 "euro/bnk/sound/voices/ru/pc_05_hawai.wav"
B0B6386EE888492B "euro/bnk/sound/voices/ru/pc_10_reward_car.wav"
33A217A8A45B35D8 "euro/bnk/sound/voices/ru/pc_11_chase_intro_ibiza.wav"
59DEC828CBF077D1 "euro/bnk/sound/voices/ru/pc_12_chase_intro_hawai.wav"
38797E4B118A5996 "euro/bnk/sound/voices/ru/pc_29_hair_dresser.wav"
2CF9C0D9027D7F4C "euro/bnk/sound/voices/ru/pc_35_photograph_end.wav"

```


EDIT: more

```

B60EF3E6FB3ACD28 "euro/bnk/sound/voices/us/police/car1011.wav"
B60EF3E6FB3ACD2B "euro/bnk/sound/voices/us/police/car1012.wav"
B60EF3E6FB3ACD2A "euro/bnk/sound/voices/us/police/car1013.wav"
B60EF3E6FB3ACD2D "euro/bnk/sound/voices/us/police/car1014.wav"
B60EF3E6FB3ACD2C "euro/bnk/sound/voices/us/police/car1015.wav"
B60EF3E6F83ACD28 "euro/bnk/sound/voices/us/police/car2011.wav"
B60EF3E6F83ACD2B "euro/bnk/sound/voices/us/police/car2012.wav"
B60EF3E6F93ACD28 "euro/bnk/sound/voices/us/police/car3011.wav"
BDD33EDF8A185898 "euro/bnk/sound/voices/ru/police/car1011.wav"
BDD33EDF8A18589B "euro/bnk/sound/voices/ru/police/car1012.wav"
BDD33EDF8A18589A "euro/bnk/sound/voices/ru/police/car1013.wav"
BDD33EDF8A18589D "euro/bnk/sound/voices/ru/police/car1014.wav"
BDD33EDF8A18589C "euro/bnk/sound/voices/ru/police/car1015.wav"
BDD33EDF89185898 "euro/bnk/sound/voices/ru/police/car2011.wav"
BDD33EDF8918589B "euro/bnk/sound/voices/ru/police/car2012.wav"
BDD33EDF88185898 "euro/bnk/sound/voices/ru/police/car3011.wav"
```


170 files left - 24 bnk and 57 wav files; the rest are mostly ig2
## Post #334
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-03-14T04:53:55+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

only 3 files...

```
D025B440C4A9EC60 "euro/bnk/islands/casino/scenarics/press_start.bnk"
1BCA25FA163BA3FF "euro/bnk/islands/hawai/scenarics/press_start.bnk"

```
## Post #335
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-14T06:12:04+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Some xmb files also contain filenames (ex. euro\bnk\islands\hawai\sound\ambience\ambiences.xmb)

```
1DF71FE5F11B2830 "euro/bnk/islands/hawai/sound/ambience/industrie.wav"

```


there are 55 wave files remaining
44 with english speech but different accents - these are probably not used
9 menu/background music - possibly from club houses
2 ambient sounds
## Post #336
- Username: ludo1
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sat Mar 12, 2011 7:56 pm
- Post datetime: 2011-03-14T14:43:51+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from vagos21
>
> @ludo, try to download another version of quickbms, even though i never reported it, i had the same problem but solved it this way.
For example wich one???
## Post #337
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-14T16:43:42+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from ludo1
>
> vagos21 wrote:@ludo, try to download another version of quickbms, even though i never reported it, i had the same problem but solved it this way.
For example wich one???

i'd already have typed this if i knew which one it was   but the exe doesn't have any version in it, they all appear as 0.0.0.0... try to download a few and see what happens 

 @chipicao! u're the give-me-a-tool-and-i-show-you-what-i-can-do guy!!
## Post #338
- Username: aluigi
- Rank: VVIP member
- Number of posts: 1916
- Joined date: Thu Dec 08, 2005 7:26 pm
- Post datetime: 2011-03-14T16:48:57+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

eh???
I'm the author of quickbms so if you have found a problem in the latest version (0.4.10b) I would like to know it, thanx
## Post #339
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-14T17:12:25+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from aluigi
>
> eh???
I'm the author of quickbms so if you have found a problem in the latest version (0.4.10b) I would like to know it, thanx

don't worry, i finally downloaded your latest version 0.4.1 and it could run every script, it was in the beginning that i had problems, yes the latest is ok now
## Post #340
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-03-14T21:23:16+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

@aluigi: I am sure by now you know that your TDUDec decrypts  (.cpr) files within TDU2.  

However, there is one .cpr file that cannot be decrypted using TDUDec. Is it possible you could look at the .cpr file and see whats different?

[http://www.gamefront.com/files/20127175/db_dataCPR.rar](http://www.gamefront.com/files/20127175/db_dataCPR.rar)
## Post #341
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-14T22:35:14+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Chipicao
>
> Has anyone looked at the file db_data.cpr?
... even after you decrypt it with tdudec, you still can't read it properly because it's one of those XMBF formats.tdudec does work, it's just that this particular file is not in plain text format like the other cprs, it has the XMBF header found in .map, .xmb and .sob (shader) files.

So we need to "unpack" it somehow after it's decrypted, if that is even possible:

> Reply from qwerty
>
> it looks like xmbf is some sort of database - it may contain any type of data in it (described in header) - numbers, strings, files (in case of map+big) and others. so it impossible to just "unpack" any of the xmb.
## Post #342
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-14T22:41:20+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

exactly, like chipicao said, an xmb unpacker will not help in this case, maybe more of a "viewer", which is something i'm working on right now...
## Post #343
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-14T23:46:24+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

These are the hashes the game uses for Abarth Punto

> D6DA7F2558F4A1AC "euro/bnk/vehicules/rim/abarth/punto_abarth_f_01.bnk"
>
> BB8CFB9620E6639E "vehicules/rim/abarth/punto_abarth_f_01.bnk"
Unfortunately neither of them exists, so I guess 1B85524B4324A7B3.bin (the file that actually contains those rims) is just a leftover that we can ignore.

Found some more hashes:

```
CCF7A9D6F5B8C133 "euro/bnk/vehicules/med/touareg_v8_tdi_low.bnk"
5A87273A90A4D341 "euro/bnk/vehicules/med/generic_traffic_low.bnk"
47570BBE2A0DA145 "euro/bnk/scenarics/world_aircrafts.bnk"
786F447DC48C0840 "euro/bnk/scenarics/world_boats.bnk"

005959A60F33F355 "euro/bnk/ig2/ch1n1a5t.ig2"
005959A60C30F553 "euro/bnk/ig2/ch1n2b3r.ig2"
005959A60D33F340 "euro/bnk/ig2/ch1n3a5a.ig2"
005959A60A30F555 "euro/bnk/ig2/ch1n4b3t.ig2"
005959A60B33F352 "euro/bnk/ig2/ch1n5a5s.ig2"
005959A60833F253 "euro/bnk/ig2/ch1n6a4r.ig2"
005959A60933F253 "euro/bnk/ig2/ch1n7a4r.ig2"
005959A60633F255 "euro/bnk/ig2/ch1n8a4t.ig2"
112644A6AF343552 "euro/bnk/ig2/ch2n1c3r.ig2"
112644A6AC363552 "euro/bnk/ig2/ch2n2a3r.ig2"
112644A6AD363541 "euro/bnk/ig2/ch2n3a3a.ig2"
112644A6AA343554 "euro/bnk/ig2/ch2n4c3t.ig2"
112644A6AB363452 "euro/bnk/ig2/ch2n5a2r.ig2"
112644A6A8363453 "euro/bnk/ig2/ch2n6a2s.ig2"
112644A6A9363754 "euro/bnk/ig2/ch2n7a1t.ig2"
112644A6A6363754 "euro/bnk/ig2/ch2n8a1t.ig2"

056F147B472622A0 "euro/bnk/ig2/cha3a01r.ig2"
056F147B472621A6 "euro/bnk/ig2/cha3a02t.ig2"
056F147B472620A6 "euro/bnk/ig2/cha3a03t.ig2"
056F147B472627A0 "euro/bnk/ig2/cha3a04r.ig2"
056F147B472626A0 "euro/bnk/ig2/cha3a05r.ig2"
056F147B472625A1 "euro/bnk/ig2/cha3a06s.ig2"
056F147B472624B3 "euro/bnk/ig2/cha3a07a.ig2"
056F147B442622A0 "euro/bnk/ig2/cha3b01r.ig2"
056F147B442621A0 "euro/bnk/ig2/cha3b02r.ig2"
056F147B442620A0 "euro/bnk/ig2/cha3b03r.ig2"
056F147B442627B3 "euro/bnk/ig2/cha3b04a.ig2"
056F147B442626A0 "euro/bnk/ig2/cha3b05r.ig2"
056F147B442625A6 "euro/bnk/ig2/cha3b06t.ig2"
056F147B442624A1 "euro/bnk/ig2/cha3b07s.ig2"

```
## Post #344
- Username: PeteTripper
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Sun Oct 10, 2010 2:00 am
- Post datetime: 2011-03-16T07:39:25+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Thanks for all the work you guys have put in, I did plan to help get filelists but you are just to efficient! Every time I looked up you had done more and more and I just didn't know where to start so I left it for you to sort out.

I do have a question for vagos, are you going to look into doing more work on the max script? I am wanting to get the terrain files out, I have tried the existing script but it just brings up flat planes and no elevations. 

If you do go ahead with a script, would be you able to make it so you can just start at the base directory for the areas? for example, start the script in 'level\hawai\area-1' and it will go through all the sub folders and load up the whole area? It would be good to start at 'level\hawai' but I think that would just be too much for a system to handle.
## Post #345
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-16T09:57:35+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from PeteTripper
>
> Thanks for all the work you guys have put in, I did plan to help get filelists but you are just to efficient! Every time I looked up you had done more and more and I just didn't know where to start so I left it for you to sort out.

I do have a question for vagos, are you going to look into doing more work on the max script? I am wanting to get the terrain files out, I have tried the existing script but it just brings up flat planes and no elevations. 

If you do go ahead with a script, would be you able to make it so you can just start at the base directory for the areas? for example, start the script in 'level\hawai\area-1' and it will go through all the sub folders and load up the whole area? It would be good to start at 'level\hawai' but I think that would just be too much for a system to handle.

I've already made a script that does exactly what you say, you select an area or sub-area and it imports all terrain pieces into max and fits them together nicely, texturing them too. in theory you can load the whole island, but the sector detail is huge really and it would make any system crash, that's why it's handled like "google earth" in the game. so i left the project and the script where it was on page 13, i see you were following the subject back then. anyway, in case you still want it, here's the script, select an areaX-X (for example area-2-4) for the beginning and u'll see how heavy it is. for now it imports only the terrain, without the roads and objects on it.

what would u like to do with the terrain? 


 ImportTerra.zip
(3.63 KiB) Downloaded 54 times
## Post #346
- Username: PeteTripper
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Sun Oct 10, 2010 2:00 am
- Post datetime: 2011-03-16T16:53:41+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from vagos21
>
> 

I've already made a script that does exactly what you say, you select an area or sub-area and it imports all terrain pieces into max and fits them together nicely, texturing them too. in theory you can load the whole island, but the sector detail is huge really and it would make any system crash, that's why it's handled like "google earth" in the game. so i left the project and the script where it was on page 13, i see you were following the subject back then. anyway, in case you still want it, here's the script, select an areaX-X (for example area-2-4) for the beginning and u'll see how heavy it is. for now it imports only the terrain, without the roads and objects on it.

what would u like to do with the terrain? Thanks vagos. 

I just want to check the terrain out for rnd. Is there something you want done with it?
## Post #347
- Username: Speeder
- Rank: n00b
- Number of posts: 15
- Joined date: Sat Mar 05, 2011 4:17 am
- Post datetime: 2011-03-17T19:49:15+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Hello there!  
One of my dude showed me a picture with HotRoad... online. 
So I deduce we can mod savegames or add vehicles online...?

[http://Newo.myriapulse.com/Data/hotrod1.bmp](http://Newo.myriapulse.com/Data/hotrod1.bmp)
[http://Newo.myriapulse.com/Data/hotrod2.bmp](http://Newo.myriapulse.com/Data/hotrod2.bmp)
[http://Newo.myriapulse.com/Data/hotrod3.bmp](http://Newo.myriapulse.com/Data/hotrod3.bmp)

I'm trying to get more about it, 'cause in every cases, this is an interesting thing to know!  
Seeya!
## Post #348
- Username: SoniKalien
- Rank: beginner
- Number of posts: 27
- Joined date: Sun Mar 13, 2011 11:02 am
- Post datetime: 2011-03-17T20:34:16+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Hi all,

I've been following this thread with interest. I wish I could do something to help but it looks like the pros have got it sussed  I'm not much good with scripting etc but anyway - here's a shot of the Bugatti GS interior as best as I could get it. Most of the map names are correct although a few are obscure, I've sussed out most of them. The only thing is - bump maps don't seem to be the usual normal maps - can someone please tell me how to use them properly? I've tried loading the map into a normal map slot which goes into the bump map slot ie bump map bitmap > Normal Map > Bump[material].. in the normal map slot there are settings for mapping - tangent, world etc.. so not sure which to use. Most normal maps are blue/green coloured but TDU@ normal maps (bump) are pink... and have alpha transparency just to add to the confusion...

The only other thing is, rims don't seem to be to scale. I've loaded a few cars and all of the rims are too small. That's not really a problem cos I just look up the correct dimensions and scale to suit, but it could be a problem if people are going to export the models to other sims 

Anyway here's the shot rendered in Max. I'll do exterior shots when I've finished tweaking...
[BugGSint.jpg](https://xentaxbackup.github.io/file/4075_BugGSint.jpg)
## Post #349
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-17T21:44:38+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Speeder
>
> Hello there!  
One of my dude showed me a picture with HotRoad... online. 
So I deduce we can mod savegames or add vehicles online...?

http://Newo.myriapulse.com/Data/hotrod1.bmp
http://Newo.myriapulse.com/Data/hotrod2.bmp
http://Newo.myriapulse.com/Data/hotrod3.bmp

I'm trying to get more about it, 'cause in every cases, this is an interesting thing to know!  
Seeya!

i would read some of the previous pages before i go on asking the same thing that's been asked many times already. but once again, no it's not possible yet. this car is from the game it's not a mod
## Post #350
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-18T03:58:30+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I finished every offline aspect of the game and 131 bins still remain. I think it's safe to assume that most of these are unused, but some of them are wav or ig2 files related to clubs and the community racing center. There's nothing more I can do about those, but maybe someone else can help.

I'm attaching a combined filelist with all hashes from qwerty, vagos and me.
[9031.rar](https://xentaxbackup.github.io/file/4082_9031.rar)
## Post #351
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-18T05:53:55+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

New update is out (097), the following files are replaced/added:

```
8498C869158D72E8 "euro/bnk/database/db_ge.cpr"
8498C869158D7CF9 "euro/bnk/database/db_it.cpr"
8498C869158D65E1 "euro/bnk/database/db_pl.cpr"
8498C869158D67F8 "euro/bnk/database/db_ru.cpr"
8498C869158D66FD "euro/bnk/database/db_sp.cpr"
8498C869158D60FE "euro/bnk/database/db_us.cpr"
203308282D94FDDB "euro/bnk/ig2/rsa3t04.ig2"
AD5EF7D28549CF6E "euro/bnk/interior/gph_l0c.bnk"
D6A460BCA2172216 "euro/bnk/database/db_data.cpr"

8498C869158D76E5 "euro/bnk/database/db_ch.cpr" 
8498C869158D76F7 "euro/bnk/database/db_cz.cpr"
8498C869158D7FEC "euro/bnk/database/db_ja.cpr"
8498C869158D7EE2 "euro/bnk/database/db_ko.cpr"

```
## Post #352
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-19T14:43:03+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Here are the hashes for fr, de, it and es languages in MULTI5.
[multi5.rar](https://xentaxbackup.github.io/file/4083_multi5.rar)
## Post #353
- Username: mordax
- Rank: beginner
- Number of posts: 21
- Joined date: Mon Feb 21, 2011 5:52 am
- Post datetime: 2011-03-19T18:13:59+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

uhm vagos21, i dont have any .bin files, so im guessing i have to extract them, but from where ?
as i have said before, nothing seem to work for me.
this thread is too long and messy, this thing needs a guide
## Post #354
- Username: SoniKalien
- Rank: beginner
- Number of posts: 27
- Joined date: Sun Mar 13, 2011 11:02 am
- Post datetime: 2011-03-19T21:55:04+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from mordax
>
> uhm vagos21, i dont have any .bin files, so im guessing i have to extract them, but from where ?
as i have said before, nothing seem to work for me.
this thread is too long and messy, this thing needs a guide

Dude, it's not that hard - you just have to pay attention 

From page 15 of this thread:

> Reply from vagos21
>
> Hello everyone,

i just made this little prog that will open anyone's filelist.log and rename and build the file structures, so you can already see what you've done and what you're missing.

Steps are easy:
1. Using qwerty's script (xmbf) (see page 11 -SoniK) and quickbms, decompress all big map files (1,2,3,4,5) into one folder
2. Open up the tool and select your filelist.log, then
3. Select your extracted bin files folder
Hit Start to let it do the magic. in the end, you'll be having folders with the renamed files in them, all in the correct structure. the files converted are removed from their original position.

4 the more you play, more lines are added into the filelist.log. That's ok, you can still open the same file, the tool will skip these lines next time you use it 

This way, anyone can download anybody's log file and do the process, so we can all know what files are already passed and no need to do them again

Use QuickBMS and the script on page 5 to extract the files out of the .bnk files

Tutorial for import into 3ds max is on page 8 of this thread.
## Post #355
- Username: caws
- Rank: veteran
- Number of posts: 120
- Joined date: Sun Mar 02, 2008 2:57 am
- Post datetime: 2011-03-19T23:00:28+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

There's been quite an awesome progress on this game!

Does anyone here knows where are the text files?
## Post #356
- Username: SoniKalien
- Rank: beginner
- Number of posts: 27
- Joined date: Sun Mar 13, 2011 11:02 am
- Post datetime: 2011-03-19T23:02:46+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Chipicao
>
> I finished every offline aspect of the game and 131 bins still remain. I think it's safe to assume that most of these are unused, but some of them are wav or ig2 files related to clubs and the community racing center. There's nothing more I can do about those, but maybe someone else can help.

I'm attaching a combined filelist with all hashes from qwerty, vagos and me.

Awesome   Thanks!

Although I have 139 bins left...
## Post #357
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-20T08:09:01+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

@SoniKalien do you by any chance have the original game?
## Post #358
- Username: mordax
- Rank: beginner
- Number of posts: 21
- Joined date: Mon Feb 21, 2011 5:52 am
- Post datetime: 2011-03-20T14:50:43+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

i have read this over and over, but quickBMS and script does not work for me.
i choose the script, input, output and then it just shows 0 extracted, press enter to quit.
why is this happening?
## Post #359
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-20T15:39:35+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

If there's an error, quickbms doesn't just show "0 extracted"; you should have posted a screenshot.

Did you select a .map file as input?
## Post #360
- Username: SoniKalien
- Rank: beginner
- Number of posts: 27
- Joined date: Sun Mar 13, 2011 11:02 am
- Post datetime: 2011-03-20T21:11:52+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Chipicao
>
> @SoniKalien do you by any chance have the original game?

you mean original as in unpatched v1.0? or as in TDU1? or...? :p
## Post #361
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-21T04:24:16+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Original as in legal, not cracked 
I ask because that might be a reason for you to have more unidentified files.
## Post #362
- Username: SoniKalien
- Rank: beginner
- Number of posts: 27
- Joined date: Sun Mar 13, 2011 11:02 am
- Post datetime: 2011-03-21T08:23:10+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Oh yea, in that case - nah not original
## Post #363
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-21T08:58:18+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Could you please send me a list of those files? Just open a command prompt window where the remaining bin files are and run this:

```
dir >filelist.txt
```
## Post #364
- Username: SoniKalien
- Rank: beginner
- Number of posts: 27
- Joined date: Sun Mar 13, 2011 11:02 am
- Post datetime: 2011-03-21T22:46:36+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

No probs 
[leftovers.rar](https://xentaxbackup.github.io/file/4090_leftovers.rar)
## Post #365
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-22T07:46:31+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I checked the list, and your 8 extra files are not supposed to be unsorted

```
3F743D5DF00BBD2F "euro/bnk/sound/radio/music/a astronauts - classic.bnk"
B72270C2222B607B "euro/bnk/sound/radio/music/a astronauts - oblivion.bnk"
1CD95150500DC5AD "euro/bnk/sound/radio/music/atari hiphop - 10.bnk"
BD43F5576EBFEB79 "euro/bnk/sound/radio/music/dmitry fyodrov - wolf brigade.bnk"
A4A7BB10859F6ABE "euro/bnk/sound/radio/music/fort knox five - insight.bnk"
95371D4118DFF481 "euro/bnk/sound/radio/music/sohodolls - right and right again.bnk"
A30174B11B6BDEBA "euro/bnk/sound/radio/music/the x why - down2yourlow.bnk"

```

They are included in my latest log, so what went wrong? Try sorting them again (just the remaining files)...
## Post #366
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-03-22T14:33:31+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Yesterday I have decrypted a file GamePC.cpr from TDU2

Lines 379-382 in file.

```
//DefaultGarageConfig 371 //204 317 313 310 244 298
DefaultGarageConfig 379 //204 317 313 310 244 298
DefaultGarageConfig2 326 379 371 348 383 117 370
```


Question: Who knows all cars IDs in game? Hot Road and DLC cars for example.

Where they can be found?

Thanks 

____________
Update:

Very interesting looks a decrypted file: SystemPC.cpr  (lines 110-113)
[GamePC.cpr_decrypted.rar](https://xentaxbackup.github.io/file/4092_GamePC.cpr_decrypted.rar)
## Post #367
- Username: RacingFreak
- Rank: veteran
- Number of posts: 136
- Joined date: Fri Feb 11, 2011 5:44 pm
- Post datetime: 2011-03-22T18:15:32+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Knyazev, very nice find! Very interesting are these lines for me:

```


//DefaultCarConfig      "Alfa Romeo"        "GT"					"V6"
//DefaultCarConfig      "Alfa Romeo"        "8C"

//DefaultCarConfig 		"Aston Martin"		"AMV8"  
//DefaultCarConfig		"Aston Martin"      "DB4"
//DefaultCarConfig		"Aston Martin"      "DB9"
//DefaultCarConfig		"Aston Martin"      "DB9"		"volante"

//DefaultCarConfig		"Camarro"			"Z23"

//DefaultCarConfig 		"Caterham"			"Superlight"			"R500"

//DefaultCarConfig 		"Dodge"				"Viper"					"SRT 10" 
//DefaultCarConfig        "Dodge"           "Viper"					"Coupe"

//DefaultCarConfig 		"Ducati"			"Monster"				"S4R"

DefaultCarConfig 		"Ferrari"			"F430"					"Scuderia"
//DefaultCarConfig 		"Ferrari"			"Enzo"   
//DefaultCarConfig      "Ferrari"			"250 GTO"
//DefaultCarConfig      "Ferrari"			"575M"

//DefaultCarConfig      "Ford"				"Cobra"
//DefaultCarConfig 		"Ford"				"GT" 
//DefaultCarConfig 		"Ford"				"Mustang"				"coupe"  
//DefaultCarConfig      "Ford"              "Shelby"				"Cobra concept 2004"

//DefaultCarConfig 		"Honda"				"CBR 600"				"RR"

//DefaultCarConfig      "Jaguar"			"XKR"					"Convertible"
//DefaultCarConfig      "Jaguar"			"Type E"				"Coupe"

//DefaultCarConfig      "Koenigsegg"        "CC"					"R"

//DefaultCarConfig 		"Lamborghini"		"Murciellago"			"roadster"
//DefaultCarConfig 		"Lamborghini"		"Murciellago"			"coupe"
//DefaultCarConfig 		"Lamborghini"		"Gallardo"				"coupe"

//DefaultCarConfig 		"Lotus"				"Elise"					"111R"
//DefaultCarConfig 		"Lotus"				"Exige"					"240r"

//DefaultCarConfig 		"Mercedes-Benz"		"SLK"					"55 AMG"
//DefaultCarConfig 		"Mercedes-Benz"		"SLR"     
//DefaultCarConfig 		"Mercedes-Benz"		"SL 300"				"Gullwing"
//DefaultCarConfig 		"Mercedes-Benz"		"CLK"					"55 AMG"

//DefaultCarConfig      "Nissan"            "350 Z"					"coupe"
//DefaultCarConfig      "Nissan"            "Skyline"				"GTR34"

//DefaultCarConfig		"Noble"             "M12"					"GTO-3R"

//DefaultCarConfig 		"Pagani"			"Zonda"					"C12S"           
//DefaultCarConfig 		"Pagani"			"Zonda"					"C12S Roadster"

//DefaultCarConfig      "Pontiac"            "transam"					

//DefaultCarConfig		"Ruf"	            "Rt12"

//DefaultCarConfig      "Saleen"            "S7"					"Twin-Turbo"

//DefaultCarConfig      "Shelby"            "Daytona"               "coupe"

//DefaultCarConfig      "Volkswagen"        "W12"					"coupe"
//DefaultCarConfig      "Volkswagen"        "W12"					"roadster"

```

In fact, I think it`s TDU2`s main game script.
## Post #368
- Username: mordax
- Rank: beginner
- Number of posts: 21
- Joined date: Mon Feb 21, 2011 5:52 am
- Post datetime: 2011-03-22T18:45:56+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Chipicao
>
> If there's an error, quickbms doesn't just show "0 extracted"; you should have posted a screenshot.

Did you select a .map file as input?

selecting .map file as input:

```
Error: invalid operator 'x'
```


selecting .big file as input:

```
- 0 files found in 0 seconds
```


there is NOTHING more to see on screenshot, this is exactly what it says.



> Very interesting looks a decrypted file: SystemPC.cpr  (lines 110-113)

yes i know, i found that long ago.

AddBannedKey "A52C-EKNZ-L539-DU7T"
AddBannedKey "7ADW-EDYX-7WH9-5GU7"
AddBannedKey "D524-C5YR-YQA9-4WP9"
AddBannedKey "WJZV-SSRW-7M9F-DSMP"

these are the cd-keys posted out in public, google and you'll see, they're all over the internet. what idiotic way to ban cd-keys


can somebody plz post HOW do you extract .big and/or .map files? i have read through this topic many times and that script posted here does not work.
## Post #369
- Username: SoniKalien
- Rank: beginner
- Number of posts: 27
- Joined date: Sun Mar 13, 2011 11:02 am
- Post datetime: 2011-03-22T19:08:56+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Chipicao
>
> I checked the list, and your 8 extra files are not supposed to be unsorted

They are included in my latest log, so what went wrong? Try sorting them again (just the remaining files)...

Tried again, still have 138 left. FYI I extracted the big files after patch 3 I think it was, using the bin file renamer tool and your 9031.log file.

@Mordax: just making sure of some things:
- Are you using the script on page 11 to extract the .big files? Not the other one that extracts the .bin/.bnk ?
- Sometimes using a batch file or command line helps
- make sure the directory you are extracting to exists first
- maybe running as administrator might help...
- It might also help to use an unpatched (no updates) version of the game
## Post #370
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-22T19:30:35+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

anyone got any news on these xmb files?
## Post #371
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-03-22T19:37:46+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I will start to search cars IDs using TSearch utility. [Memory Scanner]

but. Somebody has runned the unpacked game? Who?

Sorry for my bad english.

__________________

in GamePC.cpr :

```
//DEFAULTSTARTPOSITION 18432 0 12288
```


maybe future new island
## Post #372
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-03-22T19:44:38+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from vagos21
>
> anyone got any news on these xmb files?
[http://www.fileinfo.com/extension/xmb](http://www.fileinfo.com/extension/xmb) - full info about xmb files.

But I think, it not that is necessary to you.

Look xmb files in HexEditor.
## Post #373
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-03-22T20:19:43+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

mordax, get the latest quickbms version.
## Post #374
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-22T20:59:09+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

@SoniKalien Try using qwerty's cmd script to rename the files.

> Reply from qwerty
>
> for /F "tokens=1*" %%A in (filelist.log) do if exist %%A.bin (md "%%~pB" & move %%A.bin %%B)
## Post #375
- Username: qwerty
- Rank: advanced
- Number of posts: 54
- Joined date: Wed Mar 31, 2010 6:00 am
- Post datetime: 2011-03-22T21:38:46+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

so, only 4 or 5 players have participated in filelist making.
the major part of filelist was logged by only 2 of them - vagos21 and Chipicao.
all others are only wanted to get this or that without any efforts. 
there was NO response to ask for help with online-related files. 
so i stop all tdu2 researching for now - NO bnk repacking, NO big+map repacking, NO xmb unpacking/editing.  

@vagos21, chipicao: big thanks for your contribution. sorry, my decision maybe unfair regarding you, but when you are making something, and others are only asking for more and more without any will to help... there is no more my will to help them...

@all others, who asking for something: you've got bms scripts - reverse file formats and do packers by yourself
## Post #376
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-03-22T23:00:10+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I am now busy by change *.cpr files 

I succesfuly decrypted many main *.cpr files (placed in root folder TDU2)
## Post #377
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-22T23:54:42+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Sorry to hear that qwerty... maybe if we manage to find all filenames you will resume researching?
Either way, thank you very much for everything you've done!

@Knyazev Old news
## Post #378
- Username: Weegill
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Fri Feb 25, 2011 9:27 pm
- Post datetime: 2011-03-23T05:38:48+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I've been following this thread for quite some time but never actually posted anything. So heres my first post.
I was going to post something about how the launcher checks the md5 hash of all the files in the tdu2 game folder but later discovered it only checks some of the main files after changing some hashes myself to see how the launcher would react, only to contradict what i was going to post, so i ended up not posting at all.. I tried to change the hash tags in the file that the launcher looks to for said md5's but no luck as the launcher seems to also check the md5 of that file. 
I was then going to post how if we could somehow change the tdu2 exe to not require the launcher then we could edit the files freely without the launcher redownloading them, but this was already acomplished.
What we need is a new launcher so that it doesnt check exsisting files but mearly downloads new ones when a patch has been released.
I can however say that i have found a way to get edited files working online but i've never really got stuck in to see what is really possible. Big Thanks for the QuickBMs scripts btw, big help and i think everyone will agree. I find that one of the usefull things that has been found so far from running the game unpacked is the file location hashes. Althou from a modding perspective, i cant see people extracting their whole game. But I think we should be moving towards a program to pack the files back up.  I've already found that renaming all the main bigfile_xx_N.big to something else doesnt effect the game in anyway. And the way this game gets patched, new .big files just dropped into the game folder, shows us that if we can make our own .big files with .map counterparts then modding this game will be fairly easy. Well i say 'fairly easy', im not a modder myself so i wouldnt know.

On another note i have a fairly solid list of cars i believe will be in this game untill there is a next major patch.
RacingFreak posted a snippet of GamePC.cpr that shows only some of the cars that aren't actually in game. But the data from that file backs up the list i have currently, which includes 19 new car manufacturers and 7 bike manufacturers which are not in the game currently.

@Knyazev - There is already a full car list with id's

@Qwerty - Fair enough, your doing most of the work and not getting much back in terms of help. I dont however think thats a good reason to stop work on this project. If you've got the know how then dont keep it to yourself. If it means only telling certain people that have helped you so far with what you've been doing then thats perfectly fair. The number of people who ask stupid question without reading the thread shouldn't expect help or more work from anyone if they cant contribute. I can see why you've made your decision but i would like to see more work on this from yourself and others that have contributed. I for one would like to be of help in anyway i can.
## Post #379
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-03-23T09:45:06+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Weegill

Realy? I don't found this car IDs list in the internet, maybe you help me with them? 
I will be very grateful to you)


Chipicao I know. I have been very occupied.
I try to connect the joystick to game. (Game not finds joystick in the system)
## Post #380
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-23T10:29:49+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Knyazev
>
> vagos21 wrote:anyone got any news on these xmb files?
http://www.fileinfo.com/extension/xmb - full info about xmb files.
But I think, it not that is necessary to you.
Look xmb files in HexEditor.

hahaha i've known for a couple of weeks that this tdu2 file exists nowhere else yet, i've already done work with it, was just asking if someone else got their hands in it, i've been on this forum since the beginning. can anyone help with this:?

"euro/bnk/database/camerasreplaycustoms-1.xmb"

```
------------------------------------------------------------------------
                                        VALUE NAME    TYPE    FLAG
------------------------------------------------------------------------
                                              NAME       6       0
                                                PX       4       0
                                                PY       4       0
                                                PZ       4       0
                                                TX       4       0
                                                TY       4       0
                                                TZ       4       0
                                       SECTOR_ID_1       2       0
                                       SECTOR_ID_2       2       0
                                       SECTOR_ID_3       2       0
                                       SECTOR_ID_4       2       0
                              ENABLE_TARGET_ON_CAR       0       0
                                          ROTATION       4       0
                                               FOV       4       0
                                               NUM       2       0
                                          MAX_DIST       2       0
                                CameraReplayCustom       8       0
                                CameraReplayCustom       8       0
                                CameraReplayCustom       8       0
                                CameraReplayCustom       8       0

VALUES:
------------------------------------------------------------------------
196	63830.34	4.394908	48521.74	63830.21	4.255889	48521.26	10	7	2	7	1	0	55	1	300	
215	64949.86	112.5275	47196.14	64958.38	110.0777	47142.6	10	7	4	5	0	10	55	1	150	
234	64902.24	134.7728	47615.49	64902.08	134.4992	47615.02	10	7	4	5	0	0	58	2	200	
253	62106.17	22.01377	49742.57	62106.57	21.91971	49742.28	10	8	0	0	1	0	55	1	0

VARIABLE DEFINITIONS:
----------------------------------------
FLAG1   FLAG2   VARIABLE TYPE
----------------------------------------
2       0       CLASS_BOOL
3       1       CLASS_S16
10      2       CLASS_FLOAT
12      2       CLASS_STRING
257     24      AUTOGEN_CLASS_0
64      98      AUTOGEN_CLASS_1
```


@ qwerty:  yea i understand your frustration it's happening to me too. i'm getting IMs with the same questions we've answered again and again on this thread, i mean PPL, read the f***** thread before asking something for the 10th time!
## Post #381
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-03-23T10:43:35+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Knyazev
>
> Weegill

Really? I don't found this car IDs list in the internet, maybe you help me with them?

> 102 - AC Cobra 427
>
> 105 - Alfa Romeo 8C Competizione
>
> 411 - Alfa Romeo 8C Spider
>
> 389 - Alfa Romeo Brera Italia Independent
>
> 408 - Alfa Romeo MiTo Quadrifoglia verde
>
> 635 - Alfa Romeo MiTo Quadrifoglia verde Racing School Asphalt
>
> 345 - Ariel Atom 300 Supercharged
>
> 424 - Ariel Atom 500 V8
>
> 385 - Ascari A10
>
> 427 - Ascari KZ1 R Limited Edition
>
> 395 - Aston Martin DB9 Coupe
>
> 110 - Aston Martin DB9 Volante
>
> 655 - Aston Martin DBS Carbon Black Edition
>
> 386 - Aston Martin DBS Coupe
>
> 431 - Aston Martin One-77
>
> 390 - Aston Martin V12 Vantage
>
> 656 - Aston Martin V12 Vantage Carbon Black Edition
>
> 112 - Aston Martin V8 Vantage
>
> 623 - Aston Martin V8 Vantage Racing School Asphalt
>
> 604 - Audi Q7 V12 "Chris"
>
> 638 - Audi Q7 V12 Racing School Dirt
>
> 348 - Audi Q7 V12 TDI quattro
>
> 657 - Audi Q7 V12 TDI quattro - TDU2 Inuit Edition
>
> 442 - Audi R8 Coupe 5.2 FSI quattro
>
> 343 - Audi R8 Quattro R Tronic
>
> 432 - Audi R8 Spyder 5.2 FSI quattro
>
> 660 - Audi RS5 Coupe
>
> 393 - Audi RS6 Avant
>
> 374 - Audi S3
>
> 350 - Audi S5 Coupe
>
> 622 - Audi S5 Racing School Asphalt
>
> 379 - Audi TT RS Roadster
>
> 322 - Audi TTS Coupe
>
> 353 - Bugatti Veyron 16.4
>
> 370 - Bugatti Veyron 16.4 Grand Sport
>
> 650 - Bugatti Veyron 16.4 Grand Sport Sang Bleu
>
> 651 - Bugatti Veyron Centenaire
>
> 661 - Bugatti Veyron Super Sport
>
> 314 - Buggy V8
>
> 420 - Caterham CSR 260
>
> 71 - Caterham Superlight R500
>
> 378 - Chevrolet Camaro 1LT
>
> 621 - Chevrolet Camaro 1LT Racing School Classic
>
> 405 - Chevrolet Camaro 2SS
>
> 659 - Chevrolet Camaro Synergy Special Edition
>
> 242 - Chevrolet Corvette C1 1957
>
> 421 - Citroen 2 CV
>
> 321 - Dodge Charger SRT8
>
> 440 - Dodge Charger SRT8 Police Hawaii
>
> 392 - Dodge Charger SRT8 Police Ibiza
>
> 114 - Dodge Viper SRT10
>
> 441 - Dodge Viper SRT10 Police Hawaii
>
> 412 - Dodge Viper SRT10 Police Ibiza
>
> 639 - Dodge Viper SRT10 Racing School Asphalt
>
> 298 - Ferrari 308 GTS Quattrovalvole
>
> 633 - Ferrari 308 GTS Quattrovalvole Racing School Classic
>
> 369 - Ferrari 430 Scuderia
>
> 396 - Ferrari 430 Scuderia Spider 16M
>
> 391 - Ferrari 458 Italia
>
> 625 - Ferrari 458 Italia Racing School Asphalt
>
> 317 - Ferrari 599 GTB Fiorano
>
> 652 - Ferrari 599 GTB Fiorano China Edition
>
> 434 - Ferrari 599 GTO
>
> 1027 - Ferrari 612 Scaglietti
>
> 663 - Ferrari 612 Sessanta
>
> 387 - Ferrari California
>
> 326 - Ferrari Dino 246 GTS
>
> 1030 - Ferrari Enzo
>
> 436 - Ferrari FXX "Evoluzione"
>
> 117 - Ford GT
>
> 371 - Ford Mustang Fastback
>
> 601 - Ford Mustang Fastback "Miami"
>
> 502 - Ford Mustang Fastback Racing School Classic
>
> 443 - Ford Mustang GT
>
> 662 - Ford Mustang Shelby GT500
>
> 384 - Ginetta F400
>
> 365 - Gumpert Apolo sport
>
> 367 - Hot Rod
>
> 311 - Hummer H3
>
> 388 - Jaguar D-type
>
> 219 - Jaguar E-Type Coupe
>
> 631 - Jaguar E-Type Coupe Racing School Classic
>
> 397 - Jaguar XKR
>
> 653 - Jaguar XKR Speed Pack and Black Pack
>
> 383 - Koenigsegg CCXR Edition
>
> 609 - Koenigsegg CCXR Edition "Solar Crown"
>
> 626 - Koenigsegg CCXR Edition Racing School Asphalt
>
> 355 - Lancia Delta integrale evoluzione
>
> 500 - Lancia Delta integrale Racing School Classic
>
> 376 - Land Rover Range Rover Sport HSE
>
> 634 - Land Rover Range Rover Sport HSE Racing School Dirt
>
> 400 - Lotus 2-Eleven
>
> 380 - Lotus Esprit S3
>
> 501 - Lotus Esprit S3 Racing School Classic
>
> 402 - Lotus Evora
>
> 607 - Lotus Evora "Solar Crown"
>
> 430 - McLaren MP4-12C
>
> 206 - Mercedes-Benz 300 SL Gullwing
>
> 608 - Mercedes-Benz 300 SL Gullwing "Solar Crown"
>
> 381 - Mercedes-Benz CLK 63 AMG Black Series
>
> 606 - Mercedes-Benz CLK 63 AMG Black Series "Outlaw"
>
> 503 - Mercedes-Benz CLK 63 AMG Black Series Racing School Asphalt
>
> 375 - Mercedes-Benz ML 63 AMG
>
> 637 - Mercedes-Benz ML 63 AMG Racing School Dirt
>
> 204 - Mercedes-Benz SLK 55 AMG
>
> 603 - Mercedes-Benz SLK 55 AMG "Tess"
>
> 415 - Mercedes-Benz SLR McLaren Roadster
>
> 605 - Mercedes-Benz SLR McLaren Roadster 722s "Stuart"
>
> 410 - Mercedes-Benz SLR McLaren Stirling Moss
>
> 401 - Mercedes-Benz SLS AMG
>
> 404 - Nissan 370Z
>
> 658 - Nissan 370Z Optional Parts
>
> 403 - Nissan GT-R
>
> 624 - Nissan GT-R Racing School Asphalt
>
> 115 - Pagani Zonda C12S Roadster
>
> 413 - Pagani Zonda Cinque
>
> 368 - Pagani Zonda F
>
> 630 - Pagani Zonda F Racing School Asphalt
>
> 414 - Pagani Zonda Roadster F
>
> 654 - Pagani Zonda Tricolore
>
> 425 - RUF RGT
>
> 426 - RUF RK Spyder
>
> 428 - RUF Rt 12
>
> 423 - RUF Turbo
>
> 216 - Shelby Cobra Daytona Coupe
>
> 361 - Spyker C12 Zagato
>
> 429 - Spyker C8 Aileron
>
> 437 - Spyker C8 Aileron Spyder
>
> 351 - Spyker D8 Peking-to-Paris
>
> 332 - Subaru Impreza WRX STI
>
> 207 - TVR Sagaris
>
> 422 - Volkswagen Beetle
>
> 372 - Volkswagen Golf 6
>
> 323 - Volkswagen Touareg V10 TDI
>
> 602 - Volkswagen Touareg V10 TDI "Ryan"
>
> 636 - Volkswagen Touareg V10 TDI Racing School Dirt
>
> 280 - Wiesmann Roadster MF3

I would link the source but the site does contain "Warze" and Xentax rules state no warze.
## Post #382
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-23T11:52:38+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

@Knyazev check your PM
@toolieo that's my list, it was posted here a while ago. Someone just took it and reposted it. 
Anyway, I'm attaching it again, including all IDs for unreleased cars.
[carIDs.rar](https://xentaxbackup.github.io/file/4096_carIDs.rar)
## Post #383
- Username: SoniKalien
- Rank: beginner
- Number of posts: 27
- Joined date: Sun Mar 13, 2011 11:02 am
- Post datetime: 2011-03-23T19:50:51+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Chipicao
>
> @SoniKalien Try using qwerty's cmd script to rename the files.
qwerty wrote:for /F "tokens=1*" %%A in (filelist.log) do if exist %%A.bin (md "%%~pB" & move %%A.bin %%B)

How do I use that? batch file or cmd line?

Anyway, if you want, I could re-extract the unpatched big files then do a sort from there - see if that makes any difference although I can't see it - if the files names are the same, then they should get renamed right?

> Reply from vagos21
>
> can anyone help with this:?
"euro/bnk/database/camerasreplaycustoms-1.xmb"

What do you need help with? If these xmb's contain the replay data, then.. we should be able to save them and do things like watch them in our houses... 

On a side note - I have just about got all the maps sussed in 3DS. Some materials have a specular map which is also the diffuse map, but I'm pretty darn sure they should be reflection (amount) maps when used in a proper raytrace material. Also, bump maps work best (I think) when hooked up to a normal map operator with red flipped and set to local XYZ. I may be wrong I have still have to experiment properly... 

The only issue I have left is stickers. For example the Yellow 370z has a black sticker on the sides of the body. I have looked at mapping and there isn't any for these so I think stickers are mapped differently from the rest of the bitmaps (eg lights etc) and I suspect the "370z" sticker is treated like the rest of the stickers you buy and apply in the shop, and as such in the game you can't add or change stickers on cars that already have them eg Audi Q7 V12 "Chris" (or Ryan or whoever I stole it off ) . I've tried to apply my own simple mapping without much success...

Basically I'm just trying to create a "raw" car file for export into other games maybe...

Here is the hotrod...the tyres are a quick knock-up by moi because the game ones suck lol (note- not rendered in-game   )
[hotrod.jpg](https://xentaxbackup.github.io/file/4099_hotrod.jpg)
## Post #384
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-23T20:19:44+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Insert it in a batch file and place it in your game dir along with filelist.log and all remaining bin files. You don't have to extract all files all over again.
If you don't sort this out, the game might crash when it tries to load those missing files...

Nice render, too bad the wheels in TDU2 are crap...
## Post #385
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-23T20:58:44+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

That's not a girl and that trainer doesn't exist/work, it's all a scam

Hope you're not spamming...
## Post #386
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-23T21:00:57+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from MellorIsAPedophile
>
> I saw a girl that hacked this game http://www.youtube.com/watch?v=acLkCHO7bOM i think you guys could be interested in this.

She has all the cars that you cant get in the house are now in the house like 4 cop cars and all dlc stuff as well as club cars like the gumpert.

we're actually trying to make real mods with new cars here, not just messing with the game's memory changing stuff around, that's for kids lol, get cheatengine and try it out yourself, it's really easy to get a couple of millions to buy all the game's cars

@SoniKalien, this is just some of the contents of the xmb file, which means this is where i'm stuck, i don't know where to go next. and the big database file is an xmb, so if anyone can help go on with it would be nice. the problem is that 

```
PZ       4       0
```


PY and PZ are for example floats, so we have to find a way to connect this

```
10      2       CLASS_FLOAT
```

with the number 4. and the rest of the value types with the variable types. any ideas?

i know about the maxscript, it only imports one uv map set and i don't intend to put more effort on the script for little details.
## Post #387
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-24T09:49:53+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from MellorIsAPedophile
>
> What program do i need to extract all the files in the big file could someone please help?

did you even try reading some of the previous pages??
## Post #388
- Username: Golfman560
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Fri Mar 18, 2011 4:05 am
- Post datetime: 2011-03-24T15:39:42+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

It says it almost once a page. The script to use it I believe is somewhere on the 7th page or so. Theres a few others flying around that may be better but I know that the first one works. Make sure to copy it exactly.

And would anyone know why one of my bins isn't extracting? I would post it but I'm not on the right computer at this point. It should be the R8 Spyder or whatever it is from the casino but it dumps files without extensions on them.
## Post #389
- Username: xGTRacer128
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Fri Mar 25, 2011 12:26 am
- Post datetime: 2011-03-24T16:29:55+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Hey, i read all of previous pages and not understand  
What program you guys using to decrypt TDU2 files like cpr?
## Post #390
- Username: mordax
- Rank: beginner
- Number of posts: 21
- Joined date: Mon Feb 21, 2011 5:52 am
- Post datetime: 2011-03-24T20:05:44+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

@xGTRacer128
tdudec to decrypt and QuickBMS to extract
both are made by Luigi Auriemma @ aluigi.org

i agree, its a big mess in here. i spent like 2 days searching for specific things out of here and when i ask, ppl are like "read the thread". i understand their frustration tho. no offense you have done good work here. it is just mess because of the long researching.
i found this maybe it will help somebody
[http://sethioz.co.uk/mediawiki/index.ph ... nd_Modding](http://sethioz.co.uk/mediawiki/index.php5/Test_Drive_Unlimited_2_%28TDU2_/_TDU_2%29_-_Hacks,_Hacking_and_Modding)
## Post #391
- Username: SoniKalien
- Rank: beginner
- Number of posts: 27
- Joined date: Sun Mar 13, 2011 11:02 am
- Post datetime: 2011-03-24T20:47:33+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

noobs: page 24 of this thread, 9th post down. Read. If you don't understand then give up.
## Post #392
- Username: bigBear
- Rank: mega-veteran
- Number of posts: 183
- Joined date: Fri Oct 09, 2009 2:51 am
- Post datetime: 2011-03-24T20:58:11+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

When a game got cracked and investigated, people start asking such questions.
Instead of asking, they even wont bother reading the whole topic.
If they dont, they'll miss a lot of interesting things.
## Post #393
- Username: SoniKalien
- Rank: beginner
- Number of posts: 27
- Joined date: Sun Mar 13, 2011 11:02 am
- Post datetime: 2011-03-24T21:00:16+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Chipicao
>
> Insert it in a batch file and place it in your game dir along with filelist.log and all remaining bin files. You don't have to extract all files all over again.
If you don't sort this out, the game might crash when it tries to load those missing files...

OK done and I now have 130 left 

> Reply from vagos21
>
> 
@SoniKalien, this is just some of the contents of the xmb file, which means this is where i'm stuck, i don't know where to go next. and the big database file is an xmb, so if anyone can help go on with it would be nice. the problem is that ... we have to find a way to connect this
Code: Select all10      2       CLASS_FLOAT
with the number 4. and the rest of the value types with the variable types. any ideas?

I see your point... and the database is encrypted, right?

> i know about the maxscript, it only imports one uv map set and i don't intend to put more effort on the script for little details.

Fair enough and thanks for what you've done  My main intent is to export to other sims.. but we'll see how that goes...
## Post #394
- Username: xGTRacer128
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Fri Mar 25, 2011 12:26 am
- Post datetime: 2011-03-24T21:03:21+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

why this tdu dec not works? black console appears for 0.01 sec.. how to use it?
## Post #395
- Username: Weegill
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Fri Feb 25, 2011 9:27 pm
- Post datetime: 2011-03-25T01:39:32+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

@noobs - either read the thread and contribute or gtfo...

@xGTRacer128 - use command promt, not that hard

@Chipicao - Big ty for the updated list, backs up my prediction of cars expected in tdu2

Thanks Toolieo, was being lazy
## Post #396
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-25T08:19:49+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Stop running your mouth like that...
Everything was explained on the 3rd page. 

> Reply from qwerty
>
> ok, here is my script to extract all contents from big+map.

> Reply from qwerty
>
> save script to bms file, open it with quickbms, select .map file when asked the input file to extract.

I know it's difficult to go through a 27-page thread, but if you won't even read the first few pages then don't be surprised when people start calling you a noob...
## Post #397
- Username: xGTRacer128
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Fri Mar 25, 2011 12:26 am
- Post datetime: 2011-03-25T15:45:13+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

How to decrypt and edit this .cpr files? can someone tell me steps of it?
## Post #398
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-03-25T16:21:43+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from xGTRacer128
>
> How to decrypt and edit this .cpr files? can someone tell me steps of it?
 Once again.... Please browse through the thread this has been answered so many times.
## Post #399
- Username: mordax
- Rank: beginner
- Number of posts: 21
- Joined date: Mon Feb 21, 2011 5:52 am
- Post datetime: 2011-03-25T16:26:54+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from xGTRacer128
>
> How to decrypt and edit this .cpr files? can someone tell me steps of it?

are you able to read at all ? your question was answered like 2 times already and you ask that again, what is wrong with you?

why are you ppl not reading the article that sethioz have written on his wiki?? its all there and i posted the link already and here you are asking again. one thing is asking because topic is too long but other thing is being stupid when your question is anwered and you ask again.


@whoever had problem with quickBMS not extracting
its same problem i had. get NEWEST version of quickbms @ aluigi.org



==========================================

i have taken look into carphysics. to me it seems like this file is double encrypted.
first part is clear to me. NUL seperated specificators. like so

gearratio1NULgearratio2NULgearratio3NUL

but what i cant find is the actual gear ratio values. it should say something like this

1.200NUL1.403NUL1.699NUL

so my guess is that those values are in the middle of that file where is a big unreadable mess. like bunch of HEX values which are not readable in text

can anyone check if it is double encrypted?

im talking about db_data.cpr
## Post #400
- Username: xGTRacer128
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Fri Mar 25, 2011 12:26 am
- Post datetime: 2011-03-25T17:03:23+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

aaahh, ok, i decrypted the gamepc.cpr, but it not decrypt to english, tdudec created this: (file attached)
how to decrypt it to normal english?
[Decrypted CPR.rar](https://xentaxbackup.github.io/file/4101_Decrypted CPR.rar)
## Post #401
- Username: Golfman560
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Fri Mar 18, 2011 4:05 am
- Post datetime: 2011-03-25T20:01:33+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

If they are .bin files they need to be extracted again with another script. Its somewhere in the thread.

And yeah the newest version of quicBMS (I think 4.1b or something) fixed my issue of a corrupt file. Not really sure what would cause it but I was using the version I had for TDU1 so it was a wee bit outdated.
## Post #402
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-03-25T20:32:59+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I already dream about TDU2 SDK (Source Development Kit) 

Now I'm engaged in file research - TestDrive2.exe
I have looked at him in the Hex-editor and something has found out.
In this file contains hidden class (or function) which deciphers (XMBF) *.xmb files and then they I think will be converted to format XML.

[](http://rghost.ru/4931294/image.png) [](http://s004.radikal.ru/i207/1103/1e/35f53380dd56.jpg)

I will try to receive source code from this file.
Then him to use in other purposes. For example: for creation of utility - XMB decrypter.

edXMB - class (or function) hidden in exe-file.

File is written on Visual C++.

I have all necessary tools, for extraction source code from this exe-file: TestDrive2.exe

____________________________________________

For example: TDU2\Euro\Bnk\sound\radio\setup.xmb - first 4 bytes of file: XMBF. I want to decrypt him.

[](http://s59.radikal.ru/i163/1103/50/840de99b4f32.jpg)


______________________

Game uses a Havok engine. All options of this engine are stored in xml files.
## Post #403
- Username: xGTRacer128
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Fri Mar 25, 2011 12:26 am
- Post datetime: 2011-03-25T20:35:58+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Help me pls! tdudec decrypting file to text like 7$qнmЮљ-пкК^
how to make it decrypting to english?
## Post #404
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-25T21:38:05+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Knyazev are you sure you can make a dll with the function that converts xmb to xml or something like that? i you do that i can make a nice gui like the hash generator that used qwerty's dll. for now, some fiddling through the xmb gives me this info, without reading any values. i've made a little prog that reads the headers and structure, all i need to do is connect these two parts together (the hard case) and then i'll be done. anyway...

```
                                        VALUE NAME    TYPE    FLAG
------------------------------------------------------------------------
                                            Tracks       4       1
                                          Duration      18       0
                                           Markers      18       1
                                         LoopStart      18       0
                                           LoopEnd      18       0
                                              Name      20       0
                                          Hashcode      22       0
------------------------------------------------------------------------



----------------------------------------
FLAG1   FLAG2   VARIABLE TYPE
----------------------------------------
16      4       ProjectExport
96      14      TrackExport
10      2       Single
13      0       String
4       2       Int32

```
## Post #405
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-03-25T21:47:33+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I will try anyway. 

I already have hacked UpLauncher.exe (source code), now on turn TestDrive2.exe
## Post #406
- Username: PeteTripper
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Sun Oct 10, 2010 2:00 am
- Post datetime: 2011-03-26T00:02:17+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Thanks again for all the hard work guys. 

vagos, It's no big issue but there is a problem with the dds, they don't open in rfactor, I needed to resave them. I looked at them in a hex editor and noticed the second lines between the original and the one I resaved were different. I thought maybe it had something to do with the converter you made? It's the same thing with both the terrain and the cars.


qwerty, I'm sorry you feel this way, I appreciate your work, even though I can't help because its beyond me. I tried to help but failed, my skills are elsewhere.
Here is some eye candy to brighten up the mood. 
[gumpert.jpg](https://xentaxbackup.github.io/file/4104_gumpert.jpg)
## Post #407
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-03-26T01:12:58+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I found a example of structure of many game settings, which contain Havok engine.

I think, that these crypted *.xmb files have the same structure. 100%. 


For example:

```
<hkpackfile classversion="7" contentsversion="Havok-7.1.0-r1">

	<hksection name="__types__">

		    <hkobject name="#0004" class="hkClass" signature="0x14425e51">
               <hkparam name="name">hkBaseObject</hkparam>
               <hkparam name="parent">null</hkparam>
               <hkparam name="objectSize">4</hkparam>
               <hkparam name="numImplementedInterfaces">1</hkparam>
               <hkparam name="declaredEnums" numelements="0"></hkparam>
               <hkparam name="declaredMembers" numelements="0"></hkparam>
               <hkparam name="flags">0</hkparam>
               <hkparam name="describedVersion">0</hkparam>
           </hkobject>

	</hksection>

</hkpackfile>
```


in TestDrive2.exe I found these lines:
[](http://pics.i-knyazev.ru/share-7BF1_4D8D3CFB.html)

Havok PC Content Tools supported xml files.
All settings from games which contain a Havok Engine are stored in xml files.
[](http://pics.i-knyazev.ru/share-7021_4D8D3CFB.html)

But, Eden Games crypted them (crypted *.xmb files) =\

Now it is necessary to decrypt them
## Post #408
- Username: SoniKalien
- Rank: beginner
- Number of posts: 27
- Joined date: Sun Mar 13, 2011 11:02 am
- Post datetime: 2011-03-26T07:14:41+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Mellor, obviously you're in way over your head. Give up and go away will ya? You've ruined this thread.
## Post #409
- Username: xGTRacer128
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Fri Mar 25, 2011 12:26 am
- Post datetime: 2011-03-26T09:02:02+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Help me pls! How to decrypt cpr file to english!???
[Decrypted CPR.rar](https://xentaxbackup.github.io/file/4107_Decrypted CPR.rar)
## Post #410
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-03-26T12:32:30+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

MellorIsAPedophile

I think to you anybody any more won't help. You spoiled this topic!
## Post #411
- Username: Jessica
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Mar 26, 2011 9:49 pm
- Post datetime: 2011-03-26T13:54:15+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

OK i am trying to help everyone that are having problem hopefully with my post it should help out other noobs like me  

OBJECTIVE: to extract all the files into the right folder with the right file names so i could play this game fully extracted.

Step 1.
My first step is use this dos command in a batch file and rename this batch file extract.bat 

```
quickbms.exe -o tdu2.bms "c:\Program Files (x86)\Steam\steamapps\common\test drive unlimited 2" "c:\Users\Jessica\Desktop\quickbms\test" 
```

with this code (file name containing this code is tdu2.bms)

```
Open FDDE big 1
Endian big
GetDString DUMMY 12
Get OFFS long
GoTo OFFS
Get DUMMY long
Get NUMHASHES long
Get HASHOFFSET long
Math HASHOFFSET += OFFS
Get NUMFILEREC long
Get FILERECOFFSET long
Math FILERECOFFSET += OFFS
If NUMHASHES != NUMFILEREC
  CleanExit
EndIf
For I = 0 < NUMHASHES
  GoTo HASHOFFSET
  Get HASH1 long
  Get HASH2 long
  Set EXT string ".bin"
  SavePos HASHOFFSET
  GoTo FILERECOFFSET
  Get FILESIZE long
  Get DUMMY long # compression?
  Get FILEOFFSET long
  SavePos FILERECOFFSET
  Math MEMSIZE = FILESIZE
  Math MEMSIZE x 4
  Log MEMORY_FILE FILEOFFSET MEMSIZE 1
  If MEMSIZE != FILESIZE
    Math MEMSIZE -= 4
    GetVarChr TMP MEMORY_FILE MEMSIZE long
    Math TMP ^= 0xD7A8E2D4
    PutVarChr MEMORY_FILE MEMSIZE TMP long
  EndIf
 
  GetVarChr HEADER MEMORY_FILE 0 long
  Math HEADER ^= 0xD7A8E2D4
  If HEADER == 0x584D4246
    Set EXT string ".xmb"
  ElseIf HEADER == 0x49474532
    Set EXT string ".ige"
  Else
    GetVarChr HEADER MEMORY_FILE 8 long
    Math HEADER ^= 0xD7A8E2D4
    If HEADER == 0x4B4E4142
      Set EXT string ".bnk"
    ElseIf HEADER == 0x57415645
      Set EXT string ".wav"
    Else
      GetVarChr HEADER MEMORY_FILE 12 long
      Math HEADER ^= 0xD7A8E2D4
      If HEADER == 0x2E324442
        Set EXT string ".2db"
      ElseIf HEADER == 0x584D4246
        Set EXT string ".xmb2"
      EndIf
    EndIf
  EndIf
 
  String NAME p= "%08X%08X%s" HASH1 HASH2 EXT
  FileXOR "\xD7\xA8\xE2\xD4"
  Log NAME 0 FILESIZE MEMORY_FILE
  FileXOR ""
Next I

```

It extracted all the map files to one folder with hashed file names which looks like this.

Folder name: 
```
c:\Users\Jessica\Desktop\quickbms\test
```
 

Extracted File Names:



If I use the script with quickbms in gui mode it says cant find the files or wrong file type then it spat out 0 file found.

Step 2.

Make a new batch file by calling it extract2.bat and edit it by adding the following command:

```
quickbms.exe -o binunpackerscript.bms "c:\Users\Jessica\Desktop\quickbms\test" "c:\Users\Jessica\Desktop\quickbms\test"
```


This is the code to use to further decrypt the bin files that were extracted from the map files in step 1:[/color]

```
Set NAME string ""
Log MEMORY_FILE 0 0
PutVarChr MEMORY_FILE 0 4 long
GetDString DUMMY 8
GetDString ID 4
If ID != "KNAB"
  CleanExit
EndIf
GoTo 0x28
Get NUMFILES long
Get DUMMY long
Get FATOFFSET long
Math FATOFFSET += 8
Get DUMMY long
Get NAMESOFFSET long
Math NAMESOFFSET += 8
Get FILESORDER long
Math FILESORDER += 8
PutVarChr MEMORY_FILE 0 FILESORDER long
GoTo NAMESOFFSET
If NUMFILES != 0
  CallFunction Parser
EndIf

StartFunction Parser
  Get NAMESZ byte
  If NAMESZ > 0x7F
    String FULLNAME += NAME
    String FULLNAME += \
    Get FOLDERS byte
   If FOLDERS > 0x7F
     Get TMP byte
     Math TMP < 7
     Math FOLDERS & 0x0000007F
     Math FOLDERS | TMP
#     Print %FOLDERS%
   EndIf
    Math NAMESZ ^= 0xFF
    Math NAMESZ += 1
    GetDString NAME NAMESZ
    For I = 0 < FOLDERS
      CallFunction Parser
    Next I
  Else
    GetDString BASENAME NAMESZ
    String FULLNAME += BASENAME
    String FULLNAME += NAME
#   Print %FULLNAME%
   SavePos NAMESOFFSET
   GetVarChr FILESORDER MEMORY_FILE 0 long
   GoTo FILESORDER
   If NUMFILES > 0x100
     Get FILENUMBER word
   Else
     Get FILENUMBER byte
   EndIf
   SavePos FILESORDER
   PutVarChr MEMORY_FILE 0 FILESORDER long
   Math FILENUMBER *= 0x14
   Math FATOFFSET += FILENUMBER
   GoTo FATOFFSET
   Get OFFSET long
   Get SIZE long
   GetDString DUMMY 12
    Log FULLNAME OFFSET SIZE
   GoTo NAMESOFFSET
  EndIf
EndFunction Parser
```






EDIT: If I ran quickbms with 2nd code in a batch file command it seemed to be doing something.

```
quickbms.exe -o binunpackerscript.bms "c:\Users\Jessica\Desktop\quickbms\test" "c:\Users\Jessica\Desktop\quickbms\test"
```


This seemed to be doing something it made a folder called c
```
:\Users\Jessica\Desktop\quickbms\test\D_\Eden-Prog\Games\TestDrive2
```
 (around 679Mb and 6358 files)

Step 3. (This is where I am stuck sorry folks I can't go further until I too get help lol)

Now my silly question is (after reading the very messy thread) how do i rename the files that were extracted from *.Map files and move them to the right folder?

I used a tool from Vegos to rename files but it didn't do anything   All his programs doesn't work for me even though I could see the GUI and the APP seemed to be running ok but it just doesn't want to rename and move files to the right folder!!

My system is Windows 7 64 bit Ultimate with all the latest updates.

Thank you in advance.[/color]
## Post #412
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-26T14:54:31+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

ok, that's a better polite way of asking for some help, so here is the process, one last time, for running the game with the extracted files, not needing the big/map ones

here are some useful working files:


 stuff.zip
(90.66 KiB) Downloaded 189 times



and here's the process:

1. download the latest version of quickbms (0.4.1b) found [here](http://aluigi.altervista.org/papers.htm#quickbms)

2. make a folder somewhere (with enough disk space to extract all files).

3. drop in there quickbms and all the files included in the zip file.

4. right-click extractAll.bat and select Edit. the commands will pop up, which extract all big files.
a line is like this:
quickbms.exe xmbf.bms "c:\Program Files (x86)\Atari\TDU2\bigfile_RU_1.map" .
all you need to change (if needed) is the path to your map files ->  "c:\Program Files (x86)\Atari\TDU2\bigfile_RU_1.map" 
for example if you have TDU2 installed in "c:\games\TDU2", it will become "c:\games\TDU2\bigfile_RU_1.map"
save the changes and then run the extractAll.bat. this will take a while, extracting all big files into the folder you have created.

5. now your folder is full of bin files, with strange names like "01B65ABC1748B7E5.bin"

6. run filelist.cmd. this will rename all the bin files and build the folders with the right structure to be used by TDU2. after it's finished, you'll have a folder called "euro", and a few bin files left. since the process is still in development, we ignore them for now they don't seem to be in use yet.

7. move your "euro" folder to your TDU2 installed dir. actually you'll see that there's already a Euro folder in the TDU2 directory, so you'll want to MERGE them.

8. after this you're ready to play TDU2 with the extracted files. all you have to do now is MOVE your big and map files to another place, i don't suggest deleting them since they're too big for the default recycle bin size, so they'll be permanently deleted and if you mess up you'll have to re-install the game.

9.  you can now run the game with the extracted files working.

that's all someone needs to do, if you can't follow this then i'm sorry there's nothing more i can do. and before going on asking questions like "how do i do this, how do i add that", this is ALL the progress that's been made, the game cannot be modded yet, hopefully if more ppl help it will happen soon too. this means there's NO packing files back to big/map files. this thread is about files modding and researching, not memory hacking the exe to get more money or changing positions and stuff like that. clear enough now?

good luck everybody.
## Post #413
- Username: Jessica
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Mar 26, 2011 9:49 pm
- Post datetime: 2011-03-26T14:59:44+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from vagos21
>
> ok, that's a better polite way of asking for some help, so here is the process, one last time, for running the game with the extracted files, not needing the big/map ones

here are some useful working files:
stuff.zip

and here's the process:

1. download the latest version of quickbms (0.4.1b) found here

2. make a folder somewhere (with enough disk space to extract all files).

3. drop in there quickbms and all the files included in the zip file.

4. right-click extractAll.bat and select Edit. the commands will pop up, which extract all big files.
a line is like this:
quickbms.exe xmbf.bms "c:\Program Files (x86)\Atari\TDU2\bigfile_RU_1.map" .
all you need to change (if needed) is the path to your map files ->  "c:\Program Files (x86)\Atari\TDU2\bigfile_RU_1.map" 
for example if you have TDU2 installed in "c:\games\TDU2", it will become "c:\games\TDU2\bigfile_RU_1.map"
save the changes and then run the extractAll.bat. this will take a while, extracting all big files into the folder you have created.

5. now your folder is full of bin files, with strange names like "01B65ABC1748B7E5.bin"

6. run filelist.cmd. this will rename all the bin files and build the folders with the right structure to be used by TDU2. after it's finished, you'll have a folder called "euro", and a few bin files left. since the process is still in development, we ignore them for now they don't seem to be in use yet.

7. move your "euro" folder to your TDU2 installed dir. actually you'll see that there's already a Euro folder in the TDU2 directory, so you'll want to MERGE them.

8. after this you're ready to play TDU2 with the extracted files. all you have to do now is MOVE your big and map files to another place, i don't suggest deleting them since they're too big for the default recycle bin size, so they'll be permanently deleted and if you mess up you'll have to re-install the game.

9.  you can now run the game with the extracted files working.

that's all someone needs to do, if you can't follow this then i'm sorry there's nothing more i can do. and before going on asking questions like "how do i do this, how do i add that", this is ALL the progress that's been made, the game cannot be modded yet, hopefully if more ppl help it will happen soon too. this means there's NO packing files back to big/map files. this thread is about files modding and researching, not memory hacking the exe to get more money or changing positions and stuff like that. clear enough now?

good luck everybody.

OMG Kiss I love you thank you so much going to do it now 

have a nice week end 

PS would it be possible to pin your post onto the first page please it wil make it so much better for quick reference and tutorial?
## Post #414
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-26T15:06:00+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Jessica
>
> 
This is the code to use to further decrypt the bin files that were extracted from the map

no you don't need to go that far, extracting bnks is not needed and will actually make things not work. just follow the instructions above and u'll get it all set.
 P.S. the script to extract the big files is not the right one, i have the working one in the zip file attached
## Post #415
- Username: Jessica
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Mar 26, 2011 9:49 pm
- Post datetime: 2011-03-26T15:36:37+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from vagos21
>
> Jessica wrote:
This is the code to use to further decrypt the bin files that were extracted from the map 

no you don't need to go that far, extracting bnks is not needed and will actually make things not work. just follow the instructions above and u'll get it all set.
 P.S. the script to extract the big files is not the right one, i have the working one in the zip file attached
You instructions worked perfectly thank you so much!!

but there is only 1 problem, after moving and merging the euro folders to tdu2 main folder as well as moving away big and map files, game launcher wont launch 

Now all it does is CTD Crash to desktop after launcher tries to launch the game.

Oh well thanks anyway...
## Post #416
- Username: Mr.Mouse
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2011-03-26T16:13:58+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Mellor was deleted.
## Post #417
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-03-26T16:28:27+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Jessica

To avoid check of game files, I advise to you to use my version of a TDU2 light launcher 
This launcher don't check the game files. 

Version: 0.1. Perfectly works for me)

Install: 
Unpack TDU2 Light Launcher_en.exe file to your TDU2 folder.
Run him.
[TDU2 Light Launcher_en.rar](https://xentaxbackup.github.io/file/4111_TDU2 Light Launcher_en.rar)
## Post #418
- Username: Jessica
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Mar 26, 2011 9:49 pm
- Post datetime: 2011-03-26T16:32:33+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Knyazev
>
> Jessica

To avoid check of game files, I advise to you to use my version of a TDU2 light launcher 
This launcher don't check the game files.

Thank you so much  am going to try it now  

Jess.
xoox

EDIT: PS can't use it i got steam version  do you have a version that will work with steam please?

I even tried renaming the file and launch it by steam but steam detected it and refused to launch the game.
## Post #419
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-03-26T16:37:48+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Jessica
>
> Knyazev wrote:Jessica

To avoid check of game files, I advise to you to use my version of a TDU2 light launcher 
This launcher don't check the game files. 

Thank you so much  am going to try it now  

Jess.
xoox

EDIT: PS can't use it i got steam version

sorry, I don't knew(

I will try create a new "TDU2 Light Launcher" which support a steam version)

Sorry for my bad english.
## Post #420
- Username: Jessica
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Mar 26, 2011 9:49 pm
- Post datetime: 2011-03-26T16:39:21+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Knyazev
>
> Jessica wrote:Knyazev wrote:Jessica

To avoid check of game files, I advise to you to use my version of a TDU2 light launcher 
This launcher don't check the game files. 

Thank you so much  am going to try it now  

Jess.
xoox

EDIT: PS can't use it i got steam version 

sorry, I don't knew(

I will try to create a new "TDU2 Light Launcher" which support a steam version)

You're teh best  thanks so much !!!

Do you need my steam tdu2 game launcher?
## Post #421
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-03-26T16:45:53+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

All games from steam are started with parameters in shortcut: -steam appid XXX (where XXX - number)

TDU2 steam id - 9930 ? Right?

I will try to hack original UpLauncher.exe in which I disconnect the check of game files)


All launchers (PC and Steam) are identical 

______________________


But I am afraid that you will be banned in VAC =(


______________________

Mr.Mouse

Thank you very much 


_______________________

Check the files of game is carried out through the server.
I think, if to forbid access to this server - checks of files won't be.

Source code of UpLauncher.exe contains the next servers:

> testdriveunlimited2.com/launchernews/
>
> patchserver.testdriveunlimited2.com/final/
>
> clientstats.testdriveunlimited2.com/final/
>
> stun.testdriveunlimited2.com

I think, it is necessary to forbid access to this server -> [http://clientstats.testdriveunlimited2.com/final/](http://clientstats.testdriveunlimited2.com/final/)
## Post #422
- Username: mordax
- Rank: beginner
- Number of posts: 21
- Joined date: Mon Feb 21, 2011 5:52 am
- Post datetime: 2011-03-26T18:22:26+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from xGTRacer128
>
> Help me pls! tdudec decrypting file to text like 7$qнmЮљ-пкК^
how to make it decrypting to english?

file you have attached is NOT decrypted, i dont know what are you doing, but you are not following this thread. i have posted link to Sethioz's wiki article where everything is explained in detail, if you cant even follow that, you should not try to mod/hack games and spamming one questions like 3 times will not help, as you can see im the only person not ignoring you.


@Jessica: if you have steam version, be careful what you doing. i know this is offtopic, but steam says VAC is enabled on tdu2. it seems impossible and bullshit to me, but never know. as far as i know steams VAC can only ban you from STEAM VAC ENABLED SERVERS, but tdu2 doesnt even use steam servers. i dont understand this.
what i do is quit steam like Sethioz suggests on his forum (kill steam.exe after launching game using task manager).

as about launcher, its possible to launch tdu2 directly from launcher. steam is only needed to validate it, not start it. you can directly click on launcher and start it while steam is running. however im not going to use launcher yet

@Knyazev
if you are correct, this can be done using firewall or proxocket or any other 3rd party program
## Post #423
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-03-26T19:21:39+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

mordax

I know. I this already made. Launcher hangs =\

_________________

Results of hacking UpLauncher:
Cracked UpLauncher.exe changes on original if the server is accessible...
The original file is downloaded from server and replaces the cracked file....

I will try to fix it.
## Post #424
- Username: Jessica
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Mar 26, 2011 9:49 pm
- Post datetime: 2011-03-26T19:47:29+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Knyazev
>
> All games from steam are started with parameters in shortcut: -steam appid XXX (where XXX - number)

TDU2 steam id - 9930 ? Right?

I will try to hack original UpLauncher.exe in which I disconnect the check of game files)


All launchers (PC and Steam) are identical 

______________________


But I am afraid that you will be banned in VAC =(


______________________

Mr.Mouse

Thank you very much 


_______________________

Check the files of game is carried out through the server.
I think, if to forbid access to this server - checks of files won't be.

Source code of UpLauncher.exe contains the next servers:
testdriveunlimited2.com/launchernews/
patchserver.testdriveunlimited2.com/final/
clientstats.testdriveunlimited2.com/final/
stun.testdriveunlimited2.com
I think, it is necessary to forbid access to this server -> http://clientstats.testdriveunlimited2.com/final/

Thank you very much for the hack launcher  it worked on my non steam version (I forgot i had a non steam version on another folder) !!!!

Thank you heaps.

xoox



> Reply from Knyazev
>
> mordax

I know. I this already made. Launcher hangs =\

_________________

Results of hacking UpLauncher:
Cracked UpLauncher.exe changes on original if the server is accessible...
The original file is downloaded from server and replaces the cracked file....

I will try to fix it.
How do i bypass physic.cpr check ? lol they are now disabling any acceleration if anyone edit this file.

@Jessica: if you have steam version, be careful what you doing. i know this is offtopic, but steam says VAC is enabled on tdu2. it seems impossible and bullshit to me, but never know. as far as i know steams VAC can only ban you from STEAM VAC ENABLED SERVERS, but tdu2 doesnt even use steam servers. i dont understand this.
what i do is quit steam like Sethioz suggests on his forum (kill steam.exe after launching game using task manager).

I am not playing  it not using steam any more lol thanks though. Now ummm i am still trying to play with all extracted files I think i am doing something wrong because when trying to play with extracted files the launcher launchers the game then i see black screen but then it crashes back to desktop.

I think it's trying to find a file to launch but cant find it therefore i am thinking something is missing from the file move and rename.
## Post #425
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-03-26T19:55:45+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Jessica
>
> How do i bypass physic.cpr check ? lol they are now disabling any acceleration if anyone edit this file.

Original launcher checks following game files:
all *.big and *.map files.
GamePC.cpr

It while everything, that I know.
UpLauncher doesn't check a Physics.cpr file.

My Light Launcher perfectly works on non-steam version of TDU2 
(Light Launcher without checks of game files)

I decrypt original Physics.cpr file. I publish him here.
[Physics.cpr_decrypted.rar](https://xentaxbackup.github.io/file/4112_Physics.cpr_decrypted.rar)
## Post #426
- Username: Jessica
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Mar 26, 2011 9:49 pm
- Post datetime: 2011-03-26T20:11:18+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Knyazev
>
> Jessica wrote:How do i bypass physic.cpr check ? lol they are now disabling any acceleration if anyone edit this file.

Original launcher checks following game files:
all *.big and *.map files.
GamePC.cpr

It while everything, that I know.
UpLauncher doesn't check a Physics.cpr file.

My Light Launcher perfectly works on non-steam version of TDU2 
(Light Launcher without checks of game files)

Have you tried to edit the physic.cpr then try to playwith your launcher? Some how the game server disables my acceleration even if i only replaced 1 character in the comment section of the physic.cpr file.

If what you are saying is correct then it must be server sided checking for physic parameters.


> Reply from xGTRacer128
>
> Help me pls! How to decrypt cpr file to english!???


1. Create a new folder on the desktop
2. copy the physic.cpr to the new folder you had just created
3. Create a new file called decrypt.bat (you will need to enable the folder properties to see file extension in order to change the last 3 character of your new file to bat)
4. edit decrypt.bat and add this line into it: 
```
tdudec d Physics.cpr Physics.txt 1
```

5. Save it
6. Double click on Decrypt.bat file (this should decrypt your Physics.cpr to a new file called Physics.txt)
7. Double click on Physics.txt to read it and do what you like to it.
[/color]
## Post #427
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-03-26T20:17:19+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Jessica
>
> Knyazev wrote:Jessica wrote:How do i bypass physic.cpr check ? lol they are now disabling any acceleration if anyone edit this file.

Original launcher checks following game files:
all *.big and *.map files.
GamePC.cpr

It while everything, that I know.
UpLauncher doesn't check a Physics.cpr file.

My Light Launcher perfectly works on non-steam version of TDU2 
(Light Launcher without checks of game files)

Have you tried to edit the physic.cpr then try to playwith your launcher? Some how the game server disables my acceleration even if i only replaced 1 character in the comment section of the physic.cpr file.

If what you are saying is correct then it must be server sided checking for physic parameters.

I put to myself the changed file Physics.cpr, game was successfully started through mine Light Launcher. And in game all worked perfectly.
Acceleration and others characteristics of cars are stored in other files. For each car - the own file with characteristics (acceleration, the maximum speed, controllability, brakes , etc)

File Physics.cpr comprises the general behavior of cars on road or other covering (a grass, gravel).
He can't affect characteristics of cars in any way. (acceleration, etc...)

My video -> [http://www.youtube.com/watch?v=BHNqjs2KM4g](http://www.youtube.com/watch?v=BHNqjs2KM4g) (in offline, but in online -> similarly)
## Post #428
- Username: Jessica
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Mar 26, 2011 9:49 pm
- Post datetime: 2011-03-26T20:22:30+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

i will try your physics file maybe i messed up mine ( I have even tried to use the original to decrypt and edit)
Thank you for checking it though!!!

May i use your edited physic file please? I think mine is corrupted some how.


EDIT: LOL I am such an idiot instead of using "e" for encryptig i have mistakenly type "d" lol

My stupid Encrypting Command Error that's why it messed up hwhehhehehehe

```
tdudec d Physics.txt Physics.cpr 1
```
## Post #429
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-03-26T20:32:30+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Jessica
>
> 
i will try your physics file maybe i messed up mine ( I have even tried to use the original to decrypt and edit)
Thank you for checking it though!!!

May i use your edited physic file please? I think mine is corrupted some how.


EDIT: LOL I am such an idiot instead of using "e" for encryptig i have mistakenly type "d" lol

My stupid Encrypting Command Error that's why it messed up hwhehhehehehe
Code: Select alltdudec d Physics.txt Physics.cpr 1

Sorry, I delete a edited Physics.cpr (
I have only a original(

Your command to decryption is wrong.

Right command to decription:

```
tdudec d original_encrypted.cpr decrypted.cpr 1
```

Right command to encryption:

```
tdudec e decrypted.cpr encrypted_new.cpr 1
```
## Post #430
- Username: Jessica
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Mar 26, 2011 9:49 pm
- Post datetime: 2011-03-26T20:36:33+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Knyazev
>
> Jessica wrote:
i will try your physics file maybe i messed up mine ( I have even tried to use the original to decrypt and edit)
Thank you for checking it though!!!

May i use your edited physic file please? I think mine is corrupted some how.


EDIT: LOL I am such an idiot instead of using "e" for encryptig i have mistakenly type "d" lol

My stupid Encrypting Command Error that's why it messed up hwhehhehehehe
Code: Select alltdudec d Physics.txt Physics.cpr 1

Sorry, I delete a edited Physics.cpr (
I have only a original(

Your command to decryption is wrong.

Right command to decription:
Code: Select alltdudec d original_encrypted.cpr decrypted.cpr 1
Right command to encryption:
Code: Select alltdudec e decrypted.cpr encrypted_new.cpr 1
yes thank you  so much  it worked now lol......

Do you k now which line i should edit to get top speed and faster brakes? this is my stat i dont know if anyone think it is wrong or right to enter everything to 0

```
//	TireModelParam			TireName	=	Max SlipRatio		Max SlipAngle		StartLooseLateral	MaxLossLateral	ResistiveCoefLongitudinal	LateralResistiveCoefLongitudinal

TireFrictionParam			Classic1		=	0.0					0.0					99.4					
TireModelParam				Classic1		=	0.0					0.0					0.0					0.0				0.0							0.0
```


[/color]
## Post #431
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-03-26T20:57:28+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

To you has carried. I have found file of physics about which spoke earlier. I used him, at recording of that video the link on which I have published in the previous message.

The author of this physics - EnSlaVe. (Not I)

```
Features of this physics: the car can reach maximum speed on any covering (road, grass or gravel)
```

Download this file: [here](http://i-knyazev.ru/uploads/TDU2_New_Physics.rar) (from my personal blog)

____________________________

Fairly, I yet wasn't engaged in studying of this file. (Physics.cpr)

But I well know files GamePC.cpr и SystemPC.cpr
## Post #432
- Username: Jessica
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Mar 26, 2011 9:49 pm
- Post datetime: 2011-03-26T22:18:13+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Knyazev
>
> To you has carried. I have found file of physics about which spoke earlier. I used him, at recording of that video the link on which I have published in the previous message.

The author of this physics - EnSlaVe. (Not I)
Code: Select allFeatures of this physics: the car can reach maximum speed on any covering (road, grass or gravel)
Download this file: here (from my personal blog)

____________________________

Fairly, I yet wasn't engaged in studying of this file. (Physics.cpr)

But I well know files GamePC.cpr и SystemPC.cpr

Love you thank you so much !!!

Do you how to make gamepc create a female character and choose my owh yatch as a default house?

I wonder what these numbers refer to:

```
AVATAR_NB_FOR_GM 2 8
```


[/color]
xoxoxoxoox
## Post #433
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-03-27T01:01:15+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Jessica
>
> Knyazev wrote:To you has carried. I have found file of physics about which spoke earlier. I used him, at recording of that video the link on which I have published in the previous message.

The author of this physics - EnSlaVe. (Not I)
Code: Select allFeatures of this physics: the car can reach maximum speed on any covering (road, grass or gravel)
Download this file: here (from my personal blog)

____________________________

Fairly, I yet wasn't engaged in studying of this file. (Physics.cpr)

But I well know files GamePC.cpr и SystemPC.cpr 

Love you thank you so much !!!

Do you how to make gamepc create a female character and choose my owh yatch as a default house?

I wonder what these numbers refer to:
Code: Select allAVATAR_NB_FOR_GM 2 8

[/color]
xoxoxoxoox

Houses IDs:
EPH_L5Y_0362I - Yacht // Ibiza 
EPH_L5Y_6360 - Yacht // Hawaii

About the character I know nothing, unfortunately
## Post #434
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-27T01:01:51+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Jessica
>
> 

Do you how to make gamepc create a female character and choose my owh yatch as a default house?

I wonder what these numbers refer to: 
Code: Select allAVATAR_NB_FOR_GM 2 8

[/color]
xoxoxoxoox

now this reminds me of someone else that was asking exactly the same thing around here...
## Post #435
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-03-27T13:57:35+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I'm now occupied by studying of file DevicesPC.cpr. I want to connect the joystick to the game.
## Post #436
- Username: Weegill
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Fri Feb 25, 2011 9:27 pm
- Post datetime: 2011-03-27T14:00:00+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Ty Knyazev for the new launcher. Starting to get annoyed at the standard one due to the fact ive got to put in the edited files after the launcher has done it checks.
Out of interest, does this one of your's check for updates? 

I've also noticed i cant run tdu2.exe directly anymore, well with the launcher running of course. The game will load but it wont ever seem to actually log in. I've tried it with older versions of the exe but all of them seem to do it. But if run through the launcher it'll work first time. Not sure whats been changed as there are no additional launch parameters. Then again its not very important...

Nice tutorials there folks, should help some people out
## Post #437
- Username: eNsLaVe
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Thu Mar 10, 2011 9:04 pm
- Post datetime: 2011-03-27T14:02:05+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Jessica
>
> Knyazev wrote:All games from steam are started with parameters in shortcut: -steam appid XXX (where XXX - number)

TDU2 steam id - 9930 ? Right?

I will try to hack original UpLauncher.exe in which I disconnect the check of game files)


All launchers (PC and Steam) are identical 

______________________


But I am afraid that you will be banned in VAC =(


______________________

Mr.Mouse

Thank you very much 


_______________________

Check the files of game is carried out through the server.
I think, if to forbid access to this server - checks of files won't be.

Source code of UpLauncher.exe contains the next servers:
testdriveunlimited2.com/launchernews/
patchserver.testdriveunlimited2.com/final/
clientstats.testdriveunlimited2.com/final/
stun.testdriveunlimited2.com
I think, it is necessary to forbid access to this server -> http://clientstats.testdriveunlimited2.com/final/

Thank you very much for the hack launcher  it worked on my non steam version (I forgot i had a non steam version on another folder) !!!!

Thank you heaps.

xoox


Knyazev wrote:mordax

I know. I this already made. Launcher hangs =\

_________________

Results of hacking UpLauncher:
Cracked UpLauncher.exe changes on original if the server is accessible...
The original file is downloaded from server and replaces the cracked file....

I will try to fix it.
How do i bypass physic.cpr check ? lol they are now disabling any acceleration if anyone edit this file.

@Jessica: if you have steam version, be careful what you doing. i know this is offtopic, but steam says VAC is enabled on tdu2. it seems impossible and bullshit to me, but never know. as far as i know steams VAC can only ban you from STEAM VAC ENABLED SERVERS, but tdu2 doesnt even use steam servers. i dont understand this.
what i do is quit steam like Sethioz suggests on his forum (kill steam.exe after launching game using task manager).

I am not playing  it not using steam any more lol thanks though. Now ummm i am still trying to play with all extracted files I think i am doing something wrong because when trying to play with extracted files the launcher launchers the game then i see black screen but then it crashes back to desktop.

I think it's trying to find a file to launch but cant find it therefore i am thinking something is missing from the file move and rename.

I seriously doubt that VAC will ban for editing that physics file, if VAC would be active then ALL TDU2 PC copies would use steam...

```


// Km/h - LinearDamping			
// Off-road vehicles
OffRoadDirtLinearDamping		= 	
OffRoadGrassLinearDamping		= 	

// Not off-road vehicles
NotOffRoadDirtLinearDamping		= 	
NotOffRoadGrassLinearDamping	= 	


OffRoadAngularDamping			= 	

SecureAngularDamping			= 	
SportAngularDamping			= 	
HyperSportAngularDamping		= 	


//___________________ Braking control _________________________________________________________________________________
// Km/h


TractionControlActivation		=	
TractionControlVelocityMin		=	
TractionControlVelocityMax		=	



//___________________ Steering control _________________________________________________________________________________
// Km/h-Deg/s						
SteeringVelocity				= 	

// Km/h-Deg				                
//						        
SteeringMaxAngle				=	

// Km/h-Sensitivity					
SteeringSensitivity			=	

// Force feed-back					velocity	% at stop		% at velocity
BasicSteeringFeedbackFriction	=	
PowerSteeringFeedbackFriction	=	
SteeringFeedbackSpring			=	

// Vibration						rubber		pavement
SteeringVibration				=	

```


and these are the only editable parameters in the physics.cpr file.  they work ONLINE and OFFLINE
## Post #438
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-03-27T14:27:27+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Weegill

My "Light Launcher" don't checks the updates.
## Post #439
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-27T16:57:13+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Here's an even faster way to unpack the game. Just extract [this archive](http://www.mediafire.com/?jsrojbw6uvfx2bs) to your game folder and run the cmd, which will automatically  do the following:
- extracts all .big archives, including updates, regardless of their name (RU, EU...)
- renames all resulting .bin files and moves each one in its corresponding folder (us, ru, fr, de, it, es languages are supported)
- moves all .big and .map files to a backup folder (otherwise the game will crash)
- moves all remaining .bin files to an unused folder (most of these are not even used by the game, but some are related to online aspects ex. clubs)

Important note: The game launcher will re-download the updated .big and .map files if they are not found, resulting in a CTD. To overcome this you can simply block it from your firewall or use Knyazev's launcher.


I for one am done wasting time with this pathetic excuse for a game. Sorry vagos, I know I said I'll help you "crack" that XMBF format, but I just don't see the point anymore. I think it will always have arcade handling and poor physics no matter how much we tweak it.

For those of you interested in what you can do by editing GamePC.cpr, here's my list of "tweaks" [link](http://s1.zetaboards.com/Kottons_Chop_Shop/topic/4137775/1/) (requires registration).
## Post #440
- Username: eNsLaVe
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Thu Mar 10, 2011 9:04 pm
- Post datetime: 2011-03-27T17:09:55+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

That is sad news Chipicao   
oh well....  lets go back to the atariboards and complain some more lol
## Post #441
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-03-27T17:14:33+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Chipicao

Thank you very much for all)
## Post #442
- Username: mordax
- Rank: beginner
- Number of posts: 21
- Joined date: Mon Feb 21, 2011 5:52 am
- Post datetime: 2011-03-28T15:30:29+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

dont want to break it to you guys, but you are making mess here.
it took me nearly week to figure out HOW THE FUCK does this fucking "bin" renamer work or better yet, WHY doesn't it work for me. and ofc ppl are ignoring my questions and saying read again, well i fucking did read the whole thing and tested EVERY tool, so here's explanation IN DETAIL why it doesnt work for me.

that GUI bin renamer..
well first of all. WHY THE FUCK is it called BIN renamer??? i dont understand why BIN?? where are you getting this from?
there are no freaking bins when i extract the files, i have .wav/.bnk/.ige few are .bin and some others, so where are you getting those BIN files from? once extracted, only few of them are BIN files. like WTF?

so another thing in that filelist.log that you guys made. here is one specific example:

```
0A5A4511C4F31831 "euro/bnk/ig2/tesseven.ig2"
```

i just took a look into it and found out that my file is called "0A5A4511C4F31831.ige"
who was the smartass and tought that its a really good idea to rename .ige to .ig2 ????
i mean like .???@!@? !@??! ??
so it should be:

```
0A5A4511C4F31831.ige "euro/bnk/ig2/tesseven.ige"
```


execpt that this stupid tool does not read anything but .bin
in order to get it working, i had to rename "0A5A4511C4F31831.ige" >to> "0A5A4511C4F31831.bin"
and then tool renamed it to 0A5A4511C4F31831.ig2 and moved into euro/bnk/ig2/ folder.

why not simply make it rename any file WITHOUT the extension? its not like those numbers repeat anyway.
0A5A4511C4F31831 > it exists only once, so why not make it rename 0A5A4511C4F31831.ANY, where ANY means any extension?

ugh im so frustrated over those false posts ... i keep like fucking testing and all this time i tought that im the one doing something wrong

EDIT:
almost forgot, i used .cmd file and replaced .bin with .xxx
where .xxx is the file extension i wanted to rename and move ... a simple thing made SO HARD ! why? just to piss readers off or scare them away?
## Post #443
- Username: mordax
- Rank: beginner
- Number of posts: 21
- Joined date: Mon Feb 21, 2011 5:52 am
- Post datetime: 2011-03-28T16:19:42+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

i got them renamed with my own method but i still have about 2200 files left
how did you made filelist.log? where did you got it from?
once again, i did read and i did not understand. ppl just saying that drive and files will load, load where?
i have discovered 100% of both islands i also have clothes, furniture and all cars

i would help you out with updated list if i would know how
## Post #444
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-28T16:25:03+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

before flaming over the goddamn process that's been explained so many times, you could read my post on page 28 and get ALL your answers like jessica did. and don't tell me you can't follow these SIMPLE STEPS, with ALL THE FILES AND SCRIPTS IN THERE! it's all explained CLEARLY and in STEPS!

JESUS people use your brains! i never imagined i'd read a post like this after the clear explanation i wrote! damnit i won't set foot on this thread again! and when i say BINARY values i mean BINARY floats, not values in ASCII text! am i speaking english or what?
## Post #445
- Username: Jessica
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Mar 26, 2011 9:49 pm
- Post datetime: 2011-03-28T16:34:27+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

just follow page 28, even a noob like me understand the instruction.

i couldnt get those tools to work either but the instructions vegos gave me on page 28 is the best one and it worked just make sure you move every single .big and .map files into a spare folder or a new folder.

Thanks Vagos it worked for me, i found out why i got ctd it was because i didn't move away every single .big and.map files.

Knyazev'S launcher is awesome  saves me from copying over the cpr files after the launcher.

Has anyone got the id for clothings yet?
## Post #446
- Username: mordax
- Rank: beginner
- Number of posts: 21
- Joined date: Mon Feb 21, 2011 5:52 am
- Post datetime: 2011-03-28T16:38:00+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

```
5. now your folder is full of bin files, with strange names like "01B65ABC1748B7E5.bin"
```


you are not talking about binary, you are talking about .bin files. as SAID BEFORE, i have downloaded all and tested. i just downloaded again your stuff.rar just so you stop suggesting shit to me
filelist.cmd contains the following:

```
for /F "tokens=1*" %%A in (filelist.log) do if exist %%A.bin ( md "%%~pB" & move %%A.bin %%B)
```


this renames and moves ONLY fucking.bin files NOT .bnk or .wav or .xmb  ...etc

so NO you are not speaking english. i do not understand where are you getting those .bin files!!! i do not have more than 50 .bin files. i have total of 10621 files and only like 50 are .bin files!!!
im not blaming, but telling me to use brains. even monkey can read out that this command only renames .bin files.
look in the fucking filelist.cmd file, it says .bin there and it only works on .bin and there is NO EXPLANATION whatsoever that you need to replace .bin with .wav (.bnk ..etc) in order to get it working with other files.

> what about renaming .ige into .ig2 ? whats up with that?


@Jessica, i dont think you understand what i mean. i was talking about renaming and moving those extracted .bnk / .wav / .2db / .ige / .xmb / .xmb2 files into right folders.
## Post #447
- Username: Jessica
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Mar 26, 2011 9:49 pm
- Post datetime: 2011-03-28T16:45:04+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from mordax
>
> Code: Select all5. now your folder is full of bin files, with strange names like "01B65ABC1748B7E5.bin"

you are not talking about binary, you are talking about .bin files. as SAID BEFORE, i have downloaded all and tested. i just downloaded again your stuff.rar just so you stop suggesting shit to me
filelist.cmd contains the following:
Code: Select all@echo off
for /F "tokens=1*" %%A in (filelist.log) do if exist %%A.bin ( md "%%~pB" & move %%A.bin %%B)

this renames and moves ONLY fucking.bin files NOT .bnk or .wav or .xmb  ...etc

so NO you are not speaking english. i do not understand where are you getting those .bin files!!! i do not have more than 50 .bin files. i have total of 10621 files and only like 50 are .bin files!!!
im not blaming, but telling me to use brains. even monkey can read out that this command only renames .bin files.
look in the fucking filelist.cmd file, it says .bin there and it only works on .bin and there is NO EXPLANATION whatsoever that you need to replace .bin with .wav (.bnk ..etc) in order to get it working with other files.

> what about renaming .ige into .ig2 ? whats up with that?


@Jessica, i dont think you understand what i mean. i was talking about renaming and moving those extracted .bnk / .wav / .2db / .ige / .xmb / .xmb2 files into right folders.

OK Let's start Over !!!

Delete all the extracted files you got and delete all the tools you got as well (they didn't work for me either worse of all they were the source of so much more confusion).

See the quote I am posting below? Just follow that 

I cant attach the file for stuff.zip but go to page 28 to get the download link.

Lastly after you followed his instructions, don't forget to move all the .big and .map files (and i mean ALL) away to a new folder on a desktop or somewhere safe for backup.



> Reply from vagos21
>
> ok, that's a better polite way of asking for some help, so here is the process, one last time, for running the game with the extracted files, not needing the big/map ones

here are some useful working files:
<a href="http://forum.xentax.com/download/file.php?id=4110&sid=0f74f3e764baf069276f433ac2535024">stuff.zip</a>

and here's the process:

1. download the latest version of quickbms (0.4.1b) found here

2. make a folder somewhere (with enough disk space to extract all files).

3. drop in there quickbms and all the files included in the zip file.

4. right-click extractAll.bat and select Edit. the commands will pop up, which extract all big files.
a line is like this:
quickbms.exe xmbf.bms "c:\Program Files (x86)\Atari\TDU2\bigfile_RU_1.map" .
all you need to change (if needed) is the path to your map files ->  "c:\Program Files (x86)\Atari\TDU2\bigfile_RU_1.map" 
for example if you have TDU2 installed in "c:\games\TDU2", it will become "c:\games\TDU2\bigfile_RU_1.map"
save the changes and then run the extractAll.bat. this will take a while, extracting all big files into the folder you have created.

5. now your folder is full of bin files, with strange names like "01B65ABC1748B7E5.bin"

6. run filelist.cmd. this will rename all the bin files and build the folders with the right structure to be used by TDU2. after it's finished, you'll have a folder called "euro", and a few bin files left. since the process is still in development, we ignore them for now they don't seem to be in use yet.

7. move your "euro" folder to your TDU2 installed dir. actually you'll see that there's already a Euro folder in the TDU2 directory, so you'll want to MERGE them.

8. after this you're ready to play TDU2 with the extracted files. all you have to do now is MOVE your big and map files to another place, i don't suggest deleting them since they're too big for the default recycle bin size, so they'll be permanently deleted and if you mess up you'll have to re-install the game.

9.  you can now run the game with the extracted files working.

that's all someone needs to do, if you can't follow this then i'm sorry there's nothing more i can do. and before going on asking questions like "how do i do this, how do i add that", this is ALL the progress that's been made, the game cannot be modded yet, hopefully if more ppl help it will happen soon too. this means there's NO packing files back to big/map files. this thread is about files modding and researching, not memory hacking the exe to get more money or changing positions and stuff like that. clear enough now?

good luck everybody.

This thread is really messy because the original poster is too lazy to edit his post and add all the links and tutorials I think i will create another thread because adding to this thread is not a good idea due to the original poster's laziness and lack of care. 

[/color]
## Post #448
- Username: mordax
- Rank: beginner
- Number of posts: 21
- Joined date: Mon Feb 21, 2011 5:52 am
- Post datetime: 2011-03-28T17:05:30+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

no Jessica, it doesnt work 
because i do not have .bin files, this is what i tried to explain like 10 times, but nobody listens to me. i have .bnk .wav and such. if quickBMS script was changed to extract as .bin, why no1 said so? also why make mess why not extract original files. as .bnk .wav .xmb .xmb2 .ige ..etc and add few more lines into .cmd file to rename them too? instead of .bin only. i dont understand why take long way, but i guess "why take short way, if there is long way"
long way FTW  ... i guess

also no1 answered why it is good idea to change .ige into .ig2?

anyway forget about it how can you get filelist.log? i want to update your list here becuz i have discovered 100%
## Post #449
- Username: Jessica
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Mar 26, 2011 9:49 pm
- Post datetime: 2011-03-28T17:16:27+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from mordax
>
> no Jessica, it doesnt work 
because i do not have .bin files, this is what i tried to explain like 10 times, but nobody listens to me. i have .bnk .wav and such. if quickBMS script was changed to extract as .bin, why no1 said so? also why make mess why not extract original files. as .bnk .wav .xmb .xmb2 .ige ..etc and add few more lines into .cmd file to rename them too? instead of .bin only. i dont understand why take long way, but i guess "why take short way, if there is long way"
long way FTW  ... i guess

also no1 answered why it is good idea to change .ige into .ig2?

anyway forget about it how can you get filelist.log? i want to update your list here becuz i have discovered 100%

Like i said start over (forget the tools you have downloaded before forget the bin files forget the bank files) this has nothing to do with a bin files ok? forget the bin files and forget the bank files all together.

The thread is a whole load of mess and confusions unstructured. You are not the only one that got led astrayed  but forget everything just unclog your mind. 


Unclog your mind with what you have read,  take a deep breath and exhale. 

Now follow the quote i gave you previously.
## Post #450
- Username: mordax
- Rank: beginner
- Number of posts: 21
- Joined date: Mon Feb 21, 2011 5:52 am
- Post datetime: 2011-03-28T17:32:37+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

@Jessica
no i wont delete anything becuz i got it working using my method

this still does not eplain how .ige becomes .ig2
original file is .ige, but renamer makes it .ig2 i had to replace all .ig2 with .ige inside of filelist.log in order to get correct results.
i think this is why some ppl had issues with running game with "open" files, because game tries to load .ige while this stupid filelist.log makes it .ig2 so game cant find it and crashes.

any ideas on how to make my own filelist.log?
## Post #451
- Username: vagos21
- Rank: veteran
- Number of posts: 128
- Joined date: Thu Feb 10, 2011 5:48 pm
- Post datetime: 2011-03-28T17:42:47+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

jessica did it, if you follow the same process you'll do it, and not YOUR OWN scripts, the scripts i have in MY zip file work perfectly and make BIN files, not ige and wav and whatever your brain's stuck into. if you followed the instructions you'd get it all right, but all you did was blame us that the instructions were wrong. well done thank you!
## Post #452
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-28T17:45:09+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

@mordax There are 2 (two) scripts in this thread that unpack .big archives. One that results in .bin files, and one that tries to determine the actual file type (.wav, .bnk...)
USE THE FIRST ONE, it's attached in both my archive and the one from vagos.

If you still have 2200 files left it's because the filelist.log from vagos doesn't cover the language files from MULTI5 release.

If you find it hard to follow so many instructions just use my alternative method which does everything for you. Did you miss my post? It's on the previous page, right before you posted!
1. Download
2. Extract
3. Double click
4. ??
5. Profit

> Reply from mordax
>
> this still does not eplain how .ige becomes .ig2
original file is .ige, but renamer makes it .ig2 i had to replace all .ig2 with .ige inside of filelist.log in order to get correct results.
i think this is why some ppl had issues with running game with "open" files, because game tries to load .ige while this stupid filelist.log makes it .ig2 so game cant find it and crashes.
Let me explain it to you mister smarty pants: ig2 is the correct extension! Like I said, the second script from qwerty tries to determine the file type, and it does this based on their headers. A file's header is not necessarily the same as it's extension, qwerty said himself that the script is not fullproof.
filelist.log is not stupid, all names are generated from the actual game executable, so you can't argue their accurateness. The reason why some people had issues with running the game unpacked was that they couldn't find/follow simple instructions.
## Post #453
- Username: mordax
- Rank: beginner
- Number of posts: 21
- Joined date: Mon Feb 21, 2011 5:52 am
- Post datetime: 2011-03-28T18:34:31+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

@Chipicao thx for explanation, now it wasnt so hard, was it ?
a simple, yet short explanation, instead of mess
## Post #454
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2011-03-28T20:04:22+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

The problem is this explanation will also get buried in useless posts. The OP should edit his first post with full instructions.
## Post #455
- Username: Jessica
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Mar 26, 2011 9:49 pm
- Post datetime: 2011-03-28T20:52:49+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Chipicao
>
> The problem is this explanation will also get buried in useless posts. The OP should edit his first post with full instructions.

Since he wont do it i had to make a new thread that wont get burried with useless posts. So please post your instructions there too
## Post #456
- Username: mordax
- Rank: beginner
- Number of posts: 21
- Joined date: Mon Feb 21, 2011 5:52 am
- Post datetime: 2011-03-28T23:55:11+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

problem is that there have been fake/non working scripts in earlier posts. if somebody starts reading from page 1 then he/she will end up doing it wrong.
usually topic evolves, but in this one there are false things. so first they will end up with .bnk. wav..etc files (like what happend to me) and then they do not realize why it isnt working because it was said to work, but they dont realize that in further posts it has been fixed without any reference to old one not working properly.


as this topic is a big mess already can somebody tell me how to make that filelist.log? or where is it taken from.
i have steam version and i have about 2000 files left to sort

what about db_data.cpr. vagos said that do hex research which doesnt really explain anything. there is nothing to research in plain hex. 1234567890ABCDEF byte by byte
hex is simple as ascii or dec to me
vagos did you meant converting values into hex and other way around?
veyron has 1001hp by default and i cant find 1001 in db_data.cpr
i tried converting into hex but still nothing
## Post #457
- Username: Jessica
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Mar 26, 2011 9:49 pm
- Post datetime: 2011-03-30T09:37:06+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

How do i get bikini glitch on pc version?
## Post #458
- Username: Jessica
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Mar 26, 2011 9:49 pm
- Post datetime: 2011-03-31T22:12:04+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

What would be a good setting for EMP?

EmpDuration = 999.00
EmpLoadDuration =10.00
EmpDistance = 9999.00
EmpCooldown = 1.0

???

What numeric figures would you guys put there?
## Post #459
- Username: alissonsvier
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Sat Apr 09, 2011 7:32 am
- Post datetime: 2011-04-09T00:18:18+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Hi everyone. Somebody explain me how I can extract the bnk file? I've searched a lot (including in this topic), but don´t find how....I'm sorry about my english
## Post #460
- Username: overkill
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Sat Apr 16, 2011 9:36 pm
- Post datetime: 2011-04-16T17:31:49+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Followed this topic from start to finish and I have the tdu2 models extracted, however they are in a new .bnk format and they cannot be opened with tdu1 mod tools? How do I break open the car .bnk's are they encrypted or something???

Even zmodeler2 needs the .3dg file from the bnk file.???

Am I supposed to run tdudec on the bnk file and if so how ..please help
## Post #461
- Username: kertakos
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Fri Apr 08, 2011 7:01 pm
- Post datetime: 2011-04-20T16:01:59+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Same problem, the .big files have been extracted (I see all the .bnk files), spite of this fact I can't export the texture and mesh files from the .bnk files.

P L E A S E   H E L P  U S ! ! !
## Post #462
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2011-04-20T16:16:35+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from kertakos
>
> Same problem, the .big files have been extracted (I see all the .bnk files), spite of this fact I can't export the texture and mesh files from the .bnk files.

P L E A S E   H E L P  U S ! ! !

complete all from [this post](http://forum.xentax.com/viewtopic.php?p=51651#p51651), then use [bms script](http://dl.dropbox.com/u/9919707/blogs/xentax.com/tdu2-pc/tools/tdu2-pc-bnk-unpacker.bms) for unpack *.bnk files
## Post #463
- Username: DevilZ
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Mon Apr 25, 2011 3:02 am
- Post datetime: 2011-04-24T21:13:36+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Ok people,

I tried to change the rims of the cars and it worked for some cars. I put the Veyron Sang Bleu rims on my Land Rover.
I first tried to put the Sang Bleu rims on the Audi RS6, didn't work in game so I tried to open the bnk files with TDU Bnk Editor 1.0 - By Jeffrey and, I couldn't open the RS6 bnk, then i tried to open the Sang Bleu bnk and I was successful. I also tried to open the Land Rover bnk and was also successful. So I put the Sang Bleu rims on the Land Rover and it was working. Do u get what I'm trying to say?   If it's possible to open the bnk with Jeffreys Bnk Editor then it's also possible to change the rims to different cars. Thats just a theory cause I haven't tried it yet with all cars and rims. 

If you people are interessted I'll make a list with possible rim swaps.  

[](http://de.xfire.com/profile/bmw750ie38/screenshots/?view#113349029)
## Post #464
- Username: overkill
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Sat Apr 16, 2011 9:36 pm
- Post datetime: 2011-04-24T23:25:42+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Tosyk
>
> kertakos wrote:Same problem, the .big files have been extracted (I see all the .bnk files), spite of this fact I can't export the texture and mesh files from the .bnk files.

P L E A S E   H E L P  U S ! ! !

complete all from this post, then use bms script for unpack *.bnk files


EDIT Got it to work using Jessica decrypt bin files script, (only your not decrypting the bin your decrypting the bnk car files !!!)

xx
## Post #465
- Username: SWORDS
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Mon Mar 07, 2011 4:04 pm
- Post datetime: 2011-04-27T20:38:58+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

@Chipicao 

 Thanks for your package for playing the game extracted 
 it s less time consuming than the first method and extracted all the necessary files...

  @Jessica

 I m interresting and search for a swap or another  workaround for make the bikini suit playable
in TDU 1 there was no 3D model for the swuimsuit just a slot. Now there are clothes for npc with a w_pn_t_swimsuit_01.bnk one for the top and a w_pn_b_swimsuit_01.bnk for the lower part of the swuimsuit I presume. I want to decompress the bnk to find what clothe is more compatable for a swap or an alteration of the files inside a playable clothe.
 Using BNK editor 1.0 can repack some bnk files or not in TDU2 it s the question.
## Post #466
- Username: acbx
- Rank: n00b
- Number of posts: 11
- Joined date: Sat Mar 05, 2011 10:25 pm
- Post datetime: 2011-05-02T04:39:05+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

tried out rim swapping as devilz was talking about.
[](http://imgur.com/SzOpR)
tried one on vantage v8 and the ruf rgt they both seem to work, although running the game unpacked seemed to give me a bit of a performance hit, prob just me.
swapping sounds also seems to work, car swapping also seems to work, in general everything that involves swapping works, but I'm pretty sure someone has already said that a long time ago.  
[](http://imgur.com/Cr6Rr)
normalviper w/ viper acr and lotus 2 eleven rims.
I'm running the game unpacked using steam along with light launcher supplied here awhile back works online just fine.

and yeah thanks chipcao(and the rest who helped in developing it)  
hopefully someday we'll be able to tinker with the real handling/physics file(aside from the physics.cpr in the main folder),
## Post #467
- Username: Speeder
- Rank: n00b
- Number of posts: 15
- Joined date: Sat Mar 05, 2011 4:17 am
- Post datetime: 2011-05-03T16:25:54+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Clothes swap doesn't work unfortunately (you get an invisible clothe lol   ) but you can repack some clothes yes, but I dunno if it works.
## Post #468
- Username: acbx
- Rank: n00b
- Number of posts: 11
- Joined date: Sat Mar 05, 2011 10:25 pm
- Post datetime: 2011-05-04T05:51:14+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I haven't tried swapping clothes yet, but I'm guessing it would be better to find the ids and swap clothes using tsearch instead?  

It seems the wheelbase is integrated in the handling file for each car? It seems that way when I tried swapping cars like ford/ruf on ccxr, etc.
## Post #469
- Username: mordax
- Rank: beginner
- Number of posts: 21
- Joined date: Mon Feb 21, 2011 5:52 am
- Post datetime: 2011-05-06T03:37:55+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

since this has gone so much offtopic already, does somebody have testdrive2.exe older version? one before "exploration pack" update?
reason why i need this, is that there was a way to change cars into anything, even into traffic cars, but they patched it with explo pack. i want to get older version of testdrive2.exe, do the hacks and then put it all back. i still have all cars i changed before, except HotRod. now that there are loads of new cars, i want them all! such as Corvette ZR1, Viper ACR ..etc
## Post #470
- Username: Speeder
- Rank: n00b
- Number of posts: 15
- Joined date: Sat Mar 05, 2011 4:17 am
- Post datetime: 2011-05-06T14:26:21+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I found this there: [http://s1.zetaboards.com/Kottons_Chop_S ... &t=4138720](http://s1.zetaboards.com/Kottons_Chop_Shop/single/?p=552375&t=4138720)
Tutorial to get news cars, as the 599XX, SL65, ZR1...
## Post #471
- Username: DevilZ
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Mon Apr 25, 2011 3:02 am
- Post datetime: 2011-05-06T22:10:25+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Speeder
>
> I found this there: http://s1.zetaboards.com/Kottons_Chop_S ... &t=4138720
Tutorial to get news cars, as the 599XX, SL65, ZR1...

Could you please copy and paste it here cause you have to register on this site...
Btw saw today a guy with the ZR1 and SL65 AMG Black Series and Viper ACR
## Post #472
- Username: Reventon09
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sun Mar 06, 2011 7:15 am
- Post datetime: 2011-05-06T22:32:11+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Speeder
>
> I found this there: http://s1.zetaboards.com/Kottons_Chop_S ... &t=4138720
Tutorial to get news cars, as the 599XX, SL65, ZR1...
mmhh...
I have tested this method but don't work to me 
someone gets this to work?
## Post #473
- Username: DevilZ
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Mon Apr 25, 2011 3:02 am
- Post datetime: 2011-05-06T23:12:17+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Reventon09
>
> Speeder wrote:I found this there: http://s1.zetaboards.com/Kottons_Chop_S ... &t=4138720
Tutorial to get news cars, as the 599XX, SL65, ZR1...  
mmhh...
I have tested this method but don't work to me 
someone gets this to work?

I don't know how it is explained on the linked site above but I will show you an other link.
[http://sethioz.co.uk/mediawiki/index.ph ... _available](http://sethioz.co.uk/mediawiki/index.php5/Test_Drive_Unlimited_2_-_Hacks,_Hacking_and_Modding#Cars_-_all_cars_available)

[](http://de.xfire.com/profile/bmw750ie38/screenshots/?view#113750828)
## Post #474
- Username: Reventon09
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sun Mar 06, 2011 7:15 am
- Post datetime: 2011-05-07T10:38:19+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Now it's ok 
Thanks
## Post #475
- Username: mordax
- Rank: beginner
- Number of posts: 21
- Joined date: Mon Feb 21, 2011 5:52 am
- Post datetime: 2011-05-08T15:30:21+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

have anyone figured out what kind of protection they have added? why it is not possible to change any values using memory tools?
## Post #476
- Username: diablojin
- Rank: n00b
- Number of posts: 15
- Joined date: Mon Nov 30, 2009 4:24 am
- Post datetime: 2011-05-11T16:35:18+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Hey guys, does anyone know if the nissan skyline r34 has made it into TDU2?
## Post #477
- Username: DevilZ
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Mon Apr 25, 2011 3:02 am
- Post datetime: 2011-05-15T18:19:53+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from diablojin
>
> Hey guys, does anyone know if the nissan skyline r34 has made it into TDU2?

Nope, I dont think so, it's not on the ID list of teh cars...
## Post #478
- Username: MRick33
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Wed May 18, 2011 3:19 pm
- Post datetime: 2011-05-18T07:23:59+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Bnk repacker............     pleassssssssse !!
## Post #479
- Username: Scumbag
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Tue May 24, 2011 7:30 am
- Post datetime: 2011-05-23T23:36:12+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Knyazev
>
> Jessica

To avoid check of game files, I advise to you to use my version of a TDU2 light launcher 
This launcher don't check the game files. 

Version: 0.1. Perfectly works for me)

Install: 
Unpack TDU2 Light Launcher_en.exe file to your TDU2 folder.
Run him.

Thank you so much for creating this thing, I have been looking for about a month to get my game online.
I really appreciate that you are sharing this with people who have no idea how to make something like this.

Sander
## Post #480
- Username: V8W7
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Fri Apr 01, 2011 2:29 am
- Post datetime: 2011-05-25T09:52:52+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Greetings to all! At once I am sorry for my bad English!
Whether it will be correct, if I in a file unpack.cmd change from
> ren TDU2DLCEXPLOv017.map TDU2vDLC1.map
>
> ren TDU2DLCEXPLOv017.big TDU2vDLC1.bigto
> ren TDU2DLCEXPLOv017.map TDU2vDLC1.map TDU2DLCEXPLOv023.map
>
> ren TDU2DLCEXPLOv017.big TDU2vDLC1.big TDU2DLCEXPLOv023.big?
Thanks!
Very much I wait BNK Editor for TDU2
## Post #481
- Username: DevilZ
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Mon Apr 25, 2011 3:02 am
- Post datetime: 2011-05-28T10:27:27+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

So I successfully replaced a texture with texmod by a tutorial from Tool831.
[](http://de.xfire.com/profile/bmw750ie38/screenshots/?view#114407058)
## Post #482
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-05-28T12:12:44+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from DevilZ
>
> So I successfully replaced a texture with texmod by a tutorial from Tool831.

Well 

[](http://pics.i-knyazev.ru/share-4009_4DE0808D.html)
Vinyl from Need for Speed: Shift 2 Unleased.
## Post #483
- Username: DevilZ
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Mon Apr 25, 2011 3:02 am
- Post datetime: 2011-05-28T14:01:14+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

WOW   

Have you tried to change other textures? Rims, plate??
## Post #484
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-05-28T14:49:20+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Similarly as well as with stickers)
## Post #485
- Username: ko2123
- Rank: Banned
- Number of posts: 9
- Joined date: Mon Feb 21, 2011 4:26 am
- Post datetime: 2011-05-30T20:48:52+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

[](http://radikal.ru/F/s11.radikal.ru/i183/1105/e3/29200c6c1b48.jpg.html)[](http://radikal.ru/F/s49.radikal.ru/i123/1105/ac/83a6b4d4dcc4.jpg.html)[](http://radikal.ru/F/s008.radikal.ru/i303/1105/b6/a7b82684d35e.jpg.html)

[](http://radikal.ru/F/s44.radikal.ru/i105/1104/e5/65c48b99521c.jpg.html)[](http://radikal.ru/F/s48.radikal.ru/i119/1104/ce/09202a04ac60.jpg.html)
[](http://radikal.ru/F/s46.radikal.ru/i114/1104/0a/bb6d50c73649.jpg.html)[](http://radikal.ru/F/s015.radikal.ru/i333/1104/4f/c9338b93a9f6.jpg.html)

[](http://radikal.ru/F/s48.radikal.ru/i119/1104/ee/6f1ef5c2cf34.jpg.html)[](http://radikal.ru/F/s14.radikal.ru/i187/1104/d4/459bbdb6dda7.jpg.html)[](http://radikal.ru/F/s60.radikal.ru/i170/1104/8f/28b399aa1172.jpg.html)

[](http://radikal.ru/F/s001.radikal.ru/i195/1104/4d/0f214c0fc1c0.jpg.html)[](http://radikal.ru/F/i037.radikal.ru/1104/bc/bea20b797e08.jpg.html)
[](http://radikal.ru/F/s49.radikal.ru/i125/1104/13/7af9213f68aa.jpg.html)[](http://radikal.ru/F/s42.radikal.ru/i097/1104/d3/c160427ccf6e.jpg.html)

[](http://radikal.ru/F/s015.radikal.ru/i331/1104/68/8cf54ecb54b5.jpg.html)[](http://radikal.ru/F/s40.radikal.ru/i088/1104/de/fe710da51b4a.jpg.html)[](http://radikal.ru/F/s011.radikal.ru/i318/1104/7d/3050561cab7e.jpg.html)
[](http://radikal.ru/F/s015.radikal.ru/i332/1104/39/2395adc7c0de.jpg.html)[](http://radikal.ru/F/i018.radikal.ru/1104/96/b69b33d1b499.jpg.html)[](http://radikal.ru/F/i005.radikal.ru/1104/17/80c2c2aa05fa.jpg.html)
## Post #486
- Username: ko2123
- Rank: Banned
- Number of posts: 9
- Joined date: Mon Feb 21, 2011 4:26 am
- Post datetime: 2011-05-31T23:34:14+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

[](http://radikal.ru/F/s013.radikal.ru/i322/1105/ba/b9e8f3b1308a.jpg.html)[](http://radikal.ru/F/s59.radikal.ru/i163/1105/6c/38de178c2a9e.jpg.html)[](http://radikal.ru/F/i071.radikal.ru/1105/99/36abd8be746c.jpg.html)
## Post #487
- Username: Erdo4
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Wed Jun 01, 2011 10:31 pm
- Post datetime: 2011-06-01T14:40:34+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Post edited by admin for corrupted images
## Post #488
- Username: Jessica
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Mar 26, 2011 9:49 pm
- Post datetime: 2011-06-02T12:07:29+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Wow could you give me this car please i love your texture so much.
## Post #489
- Username: Jessica
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Mar 26, 2011 9:49 pm
- Post datetime: 2011-06-02T12:08:22+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Knyazev
>
> DevilZ wrote:So I successfully replaced a texture with texmod by a tutorial from Tool831.


Well 


Vinyl from Need for Speed: Shift 2 Unleased.

Wow could you show me how to do that please?
## Post #490
- Username: yakuzar
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Thu Jun 02, 2011 11:23 pm
- Post datetime: 2011-06-02T16:45:06+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

so where is a working big extractor script now? i tried the ones i found in this thread, and it says 
"signature doesnt match the one expected by the script
this one "u?oE"
expected: "XMBF"
0 files found in 0 secs. 
press return to quit
## Post #491
- Username: Jessica
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Mar 26, 2011 9:49 pm
- Post datetime: 2011-06-03T12:47:59+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Cant extract new version / new patch big files  cant run this game extracted anymore  Atari put an end to it.
## Post #492
- Username: zuckbin
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Fri Jun 03, 2011 6:53 pm
- Post datetime: 2011-06-03T14:34:02+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

hi

i come too late ?  it doesn't work anymore ?

Maybe someone already found it for the new version
## Post #493
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-06-03T19:02:52+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

The contents of this post was deleted because of possible forum rules violation.
## Post #494
- Username: Jessica
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Mar 26, 2011 9:49 pm
- Post datetime: 2011-06-03T20:41:06+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Wow that was quick thank you so much !!!!
## Post #495
- Username: Jessica
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Mar 26, 2011 9:49 pm
- Post datetime: 2011-06-04T18:20:39+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

The contents of this post was deleted because of possible forum rules violation.
## Post #496
- Username: zuckbin
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Fri Jun 03, 2011 6:53 pm
- Post datetime: 2011-06-05T12:17:28+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

hi

What are the unused_bin folder ?

For the next update; what is the proceed to use to play online with last update ?
(are we extract all files again; or will be an extract of the update file list ?)

Have you succeed to use a "custom" car winch is not in the game ? (think about lambo...)

Thanks a lot
Bye
## Post #497
- Username: ko2123
- Rank: Banned
- Number of posts: 9
- Joined date: Mon Feb 21, 2011 4:26 am
- Post datetime: 2011-06-05T22:51:56+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Not released car ( but u can drive on it) :
Spyker Alieron
Audi R8 R tronic
Mers SL65 Black Series
Nissan 370Z Nismo
Corvette ZR-1
Dodge Viper ACR
Ferrari 599XX
Ford Mustang V6 Premium ( but it hasnt normal wheels )

[](http://radikal.ru/F/s39.radikal.ru/i083/1106/c7/0aa4abe50f44.jpg.html)[](http://radikal.ru/F/s010.radikal.ru/i313/1106/17/e6be79e9dfd3.jpg.html)[](http://radikal.ru/F/s44.radikal.ru/i106/1106/8b/ef660e1469b4.jpg.html)
[](http://radikal.ru/F/s53.radikal.ru/i139/1106/51/85d6b44291fe.jpg.html)[](http://radikal.ru/F/i011.radikal.ru/1106/9f/c48d7e0c95c1.jpg.html)[](http://radikal.ru/F/s52.radikal.ru/i138/1106/53/a4f8f1430ac9.jpg.html)
[](http://radikal.ru/F/s009.radikal.ru/i307/1106/d7/de5f1b01f3fb.jpg.html)[](http://radikal.ru/F/s41.radikal.ru/i094/1106/9f/ddcbd7934069.jpg.html)[](http://radikal.ru/F/s57.radikal.ru/i156/1106/6e/9346d44997e8.jpg.html)
[](http://radikal.ru/F/s010.radikal.ru/i312/1106/97/85e79651c2f6.jpg.html)[](http://radikal.ru/F/s43.radikal.ru/i099/1106/b3/8cd6d1e31db7.jpg.html)[](http://radikal.ru/F/s001.radikal.ru/i193/1106/8a/b7f05e296ece.jpg.html)
## Post #498
- Username: Nobby
- Rank: veteran
- Number of posts: 109
- Joined date: Thu May 13, 2010 7:35 am
- Post datetime: 2011-06-06T18:27:55+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Hey Vagos, first wanted to say AWSOME SCRIPT DUDE.. i was wondering if you could help me out for a second please.
Im trying to have a go at importing some of the island sections but something is going horribly wrong.

I know the script itself is working as ive imported a couple of cars and its half importing island sections too but something isnt right..

i decided to try loading the same section as you posted images for ( back on page 11 ) section 0-3-4-5. This is what it looks like....

As you can see things didnt go quite like yours. the landscape seems to have no detail whatsoever just a couple of flat sheets,If you look in the bottom right corner of the image there seems to be some buildings but they are all mashed up together.

This is what it said in my MAXscript listener window...

> "D:\Game Model Ripping\TDU2\euro\level\ibiza\area-0\area-0-3\sector-0-3-4-5"
>
> "Meshes loaded!"
>
> "49 materials found."
>
> "Materials Loaded!"
>
> -- Error occurred in i loop; filename: D:\Graphix\Autodesk\3ds Max 2010\Scripts\TDU2_mesh_import v2.mcr; position: 7039; line: 241
>
> --  Frame:
>
> --   i: 83
>
> --   called in buildScene(); filename: D:\Graphix\Autodesk\3ds Max 2010\Scripts\TDU2_mesh_import v2.mcr; position: 7082; line: 242
>
> --  Frame:
>
> --   INSAsize: 16336
>
> --   insanum: 84
>
> 
>
> --   hierarchy: #((hierarchytable name:"DYNAMIC" offset:23536 parent:undefined parentoffset:0 level:1 matrix:(matrix3 [1,0,0] [0,1,0] [0,0,1] [0,0,0])), (hierarchytable name:"BLOCK" offset:23568 parent:"DYNAMIC" parentoffset:23536 level:2 matrix:(matrix3 [1,0,0] [0,1,0] [0,0,1] [0,0,0])), (hierarchytable name:"NETWORK" offset:23600 parent:"DYNAMIC" parentoffset:23536 level:2 matrix:(matrix3 [1,0,0] [0,1,0] [0,0,1] [0,0,0])), (hierarchytable name:"SPECIFIC" offset:23632 parent:"DYNAMIC" parentoffset:23536 level:2 matrix:(matrix3 [1,0,0] [0,1,0] [0,0,1] [0,0,0])), (hierarchytable name:"SB_BG_I" offset:25616 parent:"SPECIFIC" parentoffset:23632 level:3 matrix:(matrix3 [-0.521744,0,0.853102] [-0.0318873,0.999301,-0.0195018] [-0.852506,-0.0373781,-0.521379] [387.421,2.03839,495.09])), (hierarchytable name:"SB_BG_J" offset:25552 parent:"SPECIFIC" parentoffset:23632 level:3 matrix:(matrix3 [0.242552,0,0.970138] [0,1,0] [-0.970138,0,0.242552] [395.776,2.41525,466.434])), (hierarchytable name:"SB_BG_C" offset:25744 parent:"SPECIFIC" parentoffset:23632 level:3 matrix:(matrix3 [-0.792871,0,0.609389] [0,1,0] [-0.609389,0,-0.792871] [187.39,2.08566,685.454])), (hierarchytable name:"—F_WSETA" offset:26192 parent:"SPECIFIC" parentoffset:23632 level:3 matrix:(matrix3 [0,0,0.930703] [0,0.930703,0] [-0.930703,0,0] [311.955,25.4789,762.563])), (hierarchytable name:"˜F_WSETA" offset:26224 parent:"SPECIFIC" parentoffset:23632 level:3 matrix:(matrix3 [-1,0,0] [0,1,0] [0,0,-1] [272.261,25.4478,762.392])), (hierarchytable name:"FU_SBOTA" offset:24880 parent:"SPECIFIC" parentoffset:23632 level:3 matrix:(matrix3 [0.560812,-0.0235261,-0.827609] [-0.0927652,0.991517,-0.0910459] [0.82273,0.127833,0.553872] [376.54,0.121651,486.296])), (hierarchytable name:"¥…SBOTA" offset:24848 parent:"SPECIFIC" parentoffset:23632 level:3 matrix:(matrix3 [-0.214905,-0.0129004,-0.97655] [-0.125895,0.991936,0.0146015] [0.968487,0.126081,-0.214796] [387.338,1.76624,468.751])), (hierarchytable name:"¥…‘SBOTA" offset:24816 parent:"SPECIFIC" parentoffset:23632 level:3 matrix:(matrix3 [-0.270812,-0.113118,-0.955963] [-0.181193,0.981311,-0.0647879] [0.945426,0.155668,-0.286247] [377.259,0.668373,218.752])), (hierarchytable name:"FU_SBOTB" offset:24784 parent:"SPECIFIC" parentoffset:23632 level:3 matrix:(matrix3 [1,0,0] [0,1,0] [0,0,1] [367.473,-0.0882887,440.065])), (hierarchytable name:"¥…SBOTB" offset:24656 parent:"SPECIFIC" parentoffset:23632 level:3 matrix:(matrix3 [0.29687,0,-0.954918] [0,1,0] [0.954918,0,0.29687] [335.814,-0.0882887,189.474])), (hierarchytable name:"SB_BG_G" offset:25520 parent:"SPECIFIC" parentoffset:23632 level:3 matrix:(matrix3 [0.556675,0,0.830731] [0,1,0] [-0.830731,0,0.556675] [387.678,1.98923,446.106])), (hierarchytable name:"”F_WSETC" offset:26128 parent:"SPECIFIC" parentoffset:23632 level:3 matrix:(matrix3 [-0.00801966,0.0886389,0.996032] [0.000713663,0.996064,-0.088636] [-0.999968,0,-0.00805135] [256.434,25.3849,721.94])), (hierarchytable name:"•F_WSETC" offset:25776 parent:"SPECIFIC" parentoffset:23632 level:3 matrix:(matrix3 [0.989386,0.145312,0] [-0.145312,0.989386,0] [0,0,1] [348.491,25.488,697.113])), (hierarchytable name:"–F_WSETC" offset:25904 parent:"SPECIFIC" parentoffset:23632 level:3 matrix:(matrix3 [0.99974,0.0227914,0] [-0.0227914,0.99974,0] [0,0,1] [319.69,23.5591,697.076])), (hierarchytable name:"•¥ˆSETC" offset:25808 parent:"SPECIFIC" parentoffset:23632 level:3 matrix:(matrix3 [0.985087,-0.0148461,-0.171417] [0.0146263,0.99989,-0.00254515] [0.171436,0,0.985195] [280.688,23.5319,697.027])), (hierarchytable name:"–¥ˆSETC" offset:25936 parent:"SPECIFIC" parentoffset:23632 level:3 matrix:(matrix3 [0.999886,-0.0151186,0] [0.0151186,0.999886,0] [0,0,1] [300.246,23.1158,697.076])), ...)
>
> 
>
> --   path: #("D:\Game Model Ripping\TDU2\euro\level\ibiza\area-0\area-0-3\sector-0-3-4-5\sector-0-3-4-5-o.3dd", "D:\Game Model Ripping\TDU2\euro\level\ibiza\area-0\area-0-3\sector-0-3-4-5\sector-0-3-4-5.3dd")
>
> --   maxLevel: 6
>
> --   type: "HIEA"
>
> --   filename: "D:\Game Model Ripping\TDU2\euro\level\ibiza\area-0\area-0-3\sector-0-3-4-5"
>
> --   f: <BinStream:D:\Game Model Ripping\TDU2\euro\level\ibiza\area-0\area-0-3\sector-0-3-4-5\sector-0-3-4-5-o.3dd>
>
> 
>
> --   instances: #((instancestable name:"BLOCK" offset:7376 matrix:(matrix3 [1,0,0] [0,1,0] [0,0,1] [0,0,0]) materialsoffset:32 meshname:"BLOCK"), (instancestable name:"DYNAMIC" offset:7200 matrix:(matrix3 [1,0,0] [0,1,0] [0,0,1] [0,0,0]) materialsoffset:undefined meshname:undefined), (instancestable name:"SB_BG_C" offset:13360 matrix:(matrix3 [-0.792871,0,0.609389] [0,1,0] [-0.609389,0,-0.792871] [187.39,2.08566,685.454]) materialsoffset:1824 meshname:"›B_BG_C_"), (instancestable name:"SB_BG_G" offset:12656 matrix:(matrix3 [0.556675,0,0.830731] [0,1,0] [-0.830731,0,0.556675] [387.678,1.98923,446.106]) materialsoffset:1296 meshname:"›B_BG_G_"), (instancestable name:"SB_BG_I" offset:13008 matrix:(matrix3 [-0.521744,0,0.853102] [-0.0318873,0.999301,-0.0195018] [-0.852506,-0.0373781,-0.521379] [387.421,2.03839,495.09]) materialsoffset:1616 meshname:"›B_BG_I_"), (instancestable name:"SB_BG_J" offset:12832 matrix:(matrix3 [0.242552,0,0.970138] [0,1,0] [-0.970138,0,0.242552] [395.776,2.41525,466.434]) materialsoffset:1456 meshname:"›B_BG_J_"), (instancestable name:"NETWORK" offset:7552 matrix:(matrix3 [1,0,0] [0,1,0] [0,0,1] [0,0,0]) materialsoffset:160 meshname:"NETWORK"), (instancestable name:"—F_WSETA" offset:14240 matrix:(matrix3 [0,0,0.930703] [0,0.930703,0] [-0.930703,0,0] [311.955,25.4789,762.563]) materialsoffset:2080 meshname:"—¥§WSETA"), (instancestable name:"˜F_WSETA" offset:14416 matrix:(matrix3 [-1,0,0] [0,1,0] [0,0,-1] [272.261,25.4478,762.392]) materialsoffset:2144 meshname:"˜¥§WSETA"), (instancestable name:"FU_SBOTA" offset:17056 matrix:(matrix3 [0.560812,-0.0235261,-0.827609] [-0.0927652,0.991517,-0.0910459] [0.82273,0.127833,0.553872] [376.54,0.121651,486.296]) materialsoffset:1104 meshname:"¥_SBOTA"), (instancestable name:"¥…SBOTA" offset:16880 matrix:(matrix3 [-0.214905,-0.0129004,-0.97655] [-0.125895,0.991936,0.0146015] [0.968487,0.126081,-0.214796] [387.338,1.76624,468.751]) materialsoffset:1104 meshname:"¥_SBOTA"), (instancestable name:"¥…‘SBOTA" offset:11952 matrix:(matrix3 [-0.270812,-0.113118,-0.955963] [-0.181193,0.981311,-0.0647879] [0.945426,0.155668,-0.286247] [377.259,0.668373,218.752]) materialsoffset:1104 meshname:"¥_SBOTA"), (instancestable name:"˜F_WSETB" offset:10368 matrix:(matrix3 [-0.589527,0,0.807749] [0,1,0] [-0.807749,0,-0.589527] [755.887,52.0563,420.063]) materialsoffset:704 meshname:"˜¥§WSETB"), (instancestable name:"FU_SBOTB" offset:16704 matrix:(matrix3 [1,0,0] [0,1,0] [0,0,1] [367.473,-0.0882887,440.065]) materialsoffset:896 meshname:"¥_SBOTB"), (instancestable name:"¥…SBOTB" offset:11248 matrix:(matrix3 [0.29687,0,-0.954918] [0,1,0] [0.954918,0,0.29687] [335.814,-0.0882887,189.474]) materialsoffset:896 meshname:"¥_SBOTB"), (instancestable name:"SPECIFIC" offset:7728 matrix:(matrix3 [1,0,0] [0,1,0] [0,0,1] [0,0,0]) materialsoffset:undefined meshname:undefined), (instancestable name:"”F_WSETC" offset:13888 matrix:(matrix3 [-0.00801966,0.0886389,0.996032] [0.000713663,0.996064,-0.088636] [-0.999968,0,-0.00805135] [256.434,25.3849,721.94]) materialsoffset:1984 meshname:"”¥§WSETC"), (instancestable name:"•F_WSETC" offset:13536 matrix:(matrix3 [0.989386,0.145312,0] [-0.145312,0.989386,0] [0,0,1] [348.491,25.488,697.113]) materialsoffset:1888 meshname:"•¥§WSETC"), (instancestable name:"–F_WSETC" offset:13712 matrix:(matrix3 [0.99974,0.0227914,0] [-0.0227914,0.99974,0] [0,0,1] [319.69,23.5591,697.076]) materialsoffset:1936 meshname:"–¥§WSETC"), (instancestable name:"•¥ˆSETC" offset:20576 matrix:(matrix3 [0.985087,-0.0148461,-0.171417] [0.0146263,0.99989,-0.00254515] [0.171436,0,0.985195] [280.688,23.5319,697.027]) materialsoffset:1888 meshname:"•¥§WSETC"), ...)
>
> 
>
> --   MBNAsize: 2192
>
> --   OBJAsize: 3616
>
> --   called in anonymous codeblock; filename: D:\Graphix\Autodesk\3ds Max 2010\Scripts\TDU2_mesh_import v2.mcr; position: 1603; line: 40
>
> --  Frame:
>
> --   modelpath: "D:\Game Model Ripping\TDU2\euro\level\ibiza\area-0\area-0-3\sector-0-3-4-5"
>
> --   convertTex: false
>
> >> MAXScript MacroScript Error Exception: -- No "">"" function for undefined <<

i know that last line is regarding hierarchy which would probably explain why the buildings are all mashed in the corner together, if the hierarchy has failed in some way it doesnt know how to distribute the objects anymore. while it would be nice to get that sorted too my main concern is the landscape not loading with any kind of detail.  

If you have any idea what could be happening or how i can get around this, then the help would be greatly appreciated.

Cheers in advance Nobby
## Post #499
- Username: madmax
- Rank: n00b
- Number of posts: 16
- Joined date: Tue Jun 07, 2011 3:45 pm
- Post datetime: 2011-06-07T07:57:45+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

The contents of this post was deleted because of possible forum rules violation.
## Post #500
- Username: Nobby
- Rank: veteran
- Number of posts: 109
- Joined date: Thu May 13, 2010 7:35 am
- Post datetime: 2011-06-07T16:36:39+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Madmax, its the .Map files you need to tell it to unpack, yes i know the .big files are the large archives, but it seems like the .map files are kinda like an archive list or something , its the .map file it reads to know how to unpack the .big files.
## Post #501
- Username: zuckbin
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Fri Jun 03, 2011 6:53 pm
- Post datetime: 2011-06-07T17:27:16+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Madmax,

Just put all files in root folder game and just launch unpack.cmd....that's all

Wait and enjoy.

After that you need to launch game with the TDU2 Light Launcher from Knyazev

Bye
## Post #502
- Username: madmax
- Rank: n00b
- Number of posts: 16
- Joined date: Tue Jun 07, 2011 3:45 pm
- Post datetime: 2011-06-07T18:50:55+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Holy cow! It worked and the game also starts with no problem! 
Thank you so much!

Now I need to figure out how to edit weather & atmosphere files (.bnk)
Something like in here I guess:
C:\Program Files (x86)\Atari\TDU2\Euro\Bnk\islands\hawai\fx
There are also some XMB files, but they cannot be edited directly (unreadable source code).  

Oahu's atmosphere has too strong fog which makes it kind of ugly. There was much better (close to realistic) atmosphere in TDU1.

EDIT:
TDU Modding Tools 1.16 and Bnk File Editor both are unable to open TDU2 .bnk files. How can I open them and edit contents?
## Post #503
- Username: acbx
- Rank: n00b
- Number of posts: 11
- Joined date: Sat Mar 05, 2011 10:25 pm
- Post datetime: 2011-06-08T02:01:08+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

There are hud files which are openable with the BNK File editor, don't remember if it could extract it and/or repack it. 

It is not possible yet to open and edit tdu2 bnk files, yet. Probably not anytime soon though.
## Post #504
- Username: madmax
- Rank: n00b
- Number of posts: 16
- Joined date: Tue Jun 07, 2011 3:45 pm
- Post datetime: 2011-06-08T07:27:32+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

All I found is .bnk files everywhere (excl. those few cpr and xmb files), no hud files.
If TDU2 bnk files cannot be edited, then how did they edit graphics as shown in earlier posts here?

At least disabling traffic works well, just like it worked in TDU1 (prior v1.66), rename \TDU2\Euro\Bnk\islands\hawai\vehicules\traffic folder to _traffic for example, and voila! I guess it works in ibiza folder as well.
It's very useful if you're sick and tired of being hit by those stupid AI cars that just turn without "looking around" first. Now it's much easier to squeeze the maximum out of Veyron and Koeningsegg. 

I also managed to decrypt, edit, and encrypt .cpr files successfully. I disabled those 2 movie clips which are quite annoying when starting the game. There are many settings to mess around with (physics settings too). Unfortunately I didn't find anything regarding to bloom and fog in these files yet...
## Post #505
- Username: acbx
- Rank: n00b
- Number of posts: 11
- Joined date: Sat Mar 05, 2011 10:25 pm
- Post datetime: 2011-06-08T13:05:41+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

The stickers edited during earlier posts are done using texmod.  

BNKfileeditor can open some tdu2 bnk files, HUD files which are in frontend>hires>guages

Never knew about the traffic, probably never gonna use it but it's nice to know.  

There are some .cpr files which you can't extract correctly like some of the files in the database folder(like the values db_data which is most likely is the physics) apart from aiconfig, but this has been explained a long time ago why it doesn't work.

Have you checked fx.ini in the FX folder inside the islands(hawaii/ibiza folder) They seem to contain some values which you can modify the weather a bit with, assuming it's the same way as it was in TDU1.

edit; I've tried modifying some values with it in the glow-ingame section, doesn't seem to have an effect in game.
## Post #506
- Username: madmax
- Rank: n00b
- Number of posts: 16
- Joined date: Tue Jun 07, 2011 3:45 pm
- Post datetime: 2011-06-08T14:46:50+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from acbx
>
> Have you checked fx.ini in the FX folder inside the islands(hawaii/ibiza folder) They seem to contain some values which you can modify the weather a bit with, assuming it's the same way as it was in TDU1.

edit; I've tried modifying some values with it in the glow-ingame section, doesn't seem to have an effect in game.
Yeah I've already tried that. No visible changes, unfortunately. There's only a few settings anyway, there must be much more somewhere else.
For example, where does the sky get it's color/gradient from? I'd love to improve the sky color, especially sunsets; it's a bit dark and unreal by default.
More beautiful environment gives me better feeling/mood, I hope I'm not the only one.  
Anyway, that fog (oahu) is most annoying at this point.

TDU1 weather file is different, there's motherload of params and settings. Editing worked well though. 2 files, one contains zillion numbers and params for every weather type (mostly lighting fx and fog), the other just conrols what weather settings (by name) to apply, where and when.
## Post #507
- Username: acbx
- Rank: n00b
- Number of posts: 11
- Joined date: Sat Mar 05, 2011 10:25 pm
- Post datetime: 2011-06-09T01:46:46+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Weather settings similar to tdu1 (weather.ini and so on), is probably in one of the .bnk files(weatherfx.bnk?), just have to wait until someone makes a bnkfileeditor for tdu2.

If the sky is a texture(which I doubt it) you could try using texmod cycle through and see if you can find it.

You're not the only one, I still believe that tdu2 has a better atmosphere/feeling(while still looking a bit cartoonish) than tdu1, unfortunately that's about it and the same cannot be said for physics and ffb.
## Post #508
- Username: madmax
- Rank: n00b
- Number of posts: 16
- Joined date: Tue Jun 07, 2011 3:45 pm
- Post datetime: 2011-06-09T07:56:59+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from acbx
>
> If the sky is a texture(which I doubt it) you could try using texmod cycle through and see if you can find it.
MS Flight Sim. X was really easy to mod, there was a 32x32 .bmp image file (gradient) for every sky condition and time. Filtering (I guess) made it super smooth in game. And GTA has RGB values for skies, a bit harder to mod.

I guess we'll have to wait until someone will create a bnk editor for tdu2. There's a lot of things that can be improved, including those too-green-trees which make the game look even more cartoonish. I have been doing this kind of stuff more than 6 years by now, making environmental graphics/looks better, mostly for GTA though.
## Post #509
- Username: acbx
- Rank: n00b
- Number of posts: 11
- Joined date: Sat Mar 05, 2011 10:25 pm
- Post datetime: 2011-06-10T02:03:38+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Well I've been cycling through textures in texmod and I didn't find any for the sky but clouds, rain and so on were there. Got bored and tried replacing textures too like the road(well, simple darkening and sharpening, couldn't be bothered to find one on the net or make one my own).
[](http://imgur.com/dlRm6)
Unfortunately it seems texmod in tdu2 only loads like 1 random texture that's in a package(unless of course texmod works that way? I dunno lol), like say I have a texture for highway and two lane roads and it chooses one, so I'll be able to see modified two lane roads but not modified highway roads.

So you've worked on some gta texture mods? What mod specifically because there's a bunch of them. As for the colorful trees, tried using enbseries(for colorcorrection) see if I could make it a bit less colorful or maybe a near to black and white look but doesn't seem to work with tdu2, odd considering it has worked for nearly all the games that I've used it on.
## Post #510
- Username: madmax
- Rank: n00b
- Number of posts: 16
- Joined date: Tue Jun 07, 2011 3:45 pm
- Post datetime: 2011-06-10T08:45:38+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I think that sky gets it's color from RGB values cycling around (day/night) just like GTA. The same thing must be with fog. It has to be somewhere in text format (editable).
For example, in GTA4 I managed to remove bloom effect completely and made atmosphere look fresh and clean. I started with Vice City (in early 2005) and continued with San Andreas which had horrible sky color, after that (Dec/2006) I improved FSX skies to look more natural, closer to real life.

I found another interesting file: aiconfig.cpr (in Euro\Bnk\database folder)
Since I'm playing with keyboard I got stuck on A1 High challenge (Oahu). It's just too fast for keyboard, and I'm not a great gamer either. Then I modified aiconfig a little so the other racers became slower (similar to TDU1) and winning was easy.
<LowerCoef>0.10</LowerCoef> (original value was 0.60)
<HigherCoef>0.30</HigherCoef> (original value was 1.60)
I guess it works equally on every level (A#, B#, C#), I've not tested it yet.

It's also possible to force certain weather conditions (offline of course) in GamePC.cpr file. For example, I needed rain for Oahu, but it's always sunny there.

Update:
I copied game_weathers.xmb
from
TDU2\Euro\Bnk\islands\ibiza\fx\
to
TDU2\Euro\Bnk\islands\hawai\fx\
and the result is fantastic! Honolulu is actually beautiful, especially around 6-7 pm. No blueish fog anymore. Only mountains and very distant objects are a little blueish like in real life. Feels like summer. 

Unfortunately, the contents of game_weathers.xmb is encrypted or something. There are some understandable words, but the rest is unreadable crap.
Sky color comes from that file.

I made a video with new atmosphere (stolen from ibiza, lol)
[http://www.youtube.com/watch?v=oM8PNCLkQAA](http://www.youtube.com/watch?v=oM8PNCLkQAA)
## Post #511
- Username: Slique
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Mon Jun 13, 2011 1:30 am
- Post datetime: 2011-06-12T17:40:56+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Another interesting bit:

In offline play, if you are unhappy that it always begins at the same time, consider this trick. It will relieve part of the annoyance by allowing you to experience a full day/night cycle in a much shorter period of real time. The effect is a little like time-lapse photography, especially if you use a very short period like a five-minute day. It greatly facilitates taking multiple screen captures in the right place and at the right time.


Edit your decrypted GamePC.cpr file and add a line for FORCED_OFFLINE_DAYLENGTH from the examples below. (I added them between the weather and the [Flash] section.)

...
...
...
//FORCED_OFFLINE_WEATHER = 0

//Parameter equals seconds of real time per one in-game day
FORCED_OFFLINE_DAYLENGTH = 300 //5-minute day - one 288th real time (try it!)
//FORCED_OFFLINE_DAYLENGTH = 600 //10-minute day - one 144th real time
//FORCED_OFFLINE_DAYLENGTH = 1800 //30-minute day - one 48th real time
//FORCED_OFFLINE_DAYLENGTH = 3600 //60-minute day - one 24th real time
//FORCED_OFFLINE_DAYLENGTH = 86400 //144-minute day - one-tenth real time (normal for offline)

[Flash]
...
...
...

Multiple GamePC.cpr files i.e., GamePC5.cpr, GamePC10.cpr, GamePC30.cpr, etc., and multiple batch files that rename them at startup, enable short game sessions by choice. Works for me.
## Post #512
- Username: madmax
- Rank: n00b
- Number of posts: 16
- Joined date: Tue Jun 07, 2011 3:45 pm
- Post datetime: 2011-06-12T18:30:46+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Yes, this works fine, I tried that 2 days ago. If you put there 300 or less, it goes nuts, the sun and shadows are moving super fast, not to mention clouds hahaha!
But it's just the speed of time... if anyone could figure out how to change (offline) start time (Oahu: 8 am, Ibiza: 2 pm), well that would be cool. I haven't found it yet.
## Post #513
- Username: acbx
- Rank: n00b
- Number of posts: 11
- Joined date: Sat Mar 05, 2011 10:25 pm
- Post datetime: 2011-06-12T22:16:59+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Update:
>
> I copied game_weathers.xmb
>
> from
>
> TDU2\Euro\Bnk\islands\ibiza\fx\
>
> to
>
> TDU2\Euro\Bnk\islands\hawai\fx\
>
> and the result is fantastic! Honolulu is actually beautiful, especially around 6-7 pm. No blueish fog anymore. Only mountains and very distant objects are a little blueish like in real life. Feels like summer. 
>
> 
>
> Unfortunately, the contents of game_weathers.xmb is encrypted or something. There are some understandable words, but the rest is unreadable crap.
>
> Sky color comes from that file.
>
> 
>
> I made a video with new atmosphere (stolen from ibiza, lol)
>
> http://www.youtube.com/watch?v=oM8PNCLkQAA
That actually looks pretty good. Gonna try it right now.

Been trying to mess with the shadows (you can see the shadows fade in and out and it's really irritating). There's a mod that fixes this but it also decreases shadow quality, and the decreased shadow quality makes it look like GTA4 on medium shadows, literally. I got it to what I want right now, but shadows still look pretty crap so I'm gonna mess with it some more.
## Post #514
- Username: madmax
- Rank: n00b
- Number of posts: 16
- Joined date: Tue Jun 07, 2011 3:45 pm
- Post datetime: 2011-06-13T08:24:54+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from acbx
>
> Been trying to mess with the shadows (you can see the shadows fade in and out and it's really irritating).
I agree, the fading point is also too close and too noticeable. It can be seen in the video too, although I had max quality settings.
However, I'm afraid that HQ shadows (if fading at longer distance) will decrease performance. 

I tried to add more grass, but then I lost quite a few fps. I don't understand how does TDU1 have so much more grass compared to TDU2 and still perform very very good...
## Post #515
- Username: acbx
- Rank: n00b
- Number of posts: 11
- Joined date: Sat Mar 05, 2011 10:25 pm
- Post datetime: 2011-06-13T20:17:42+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

So uh, hawaii with ibizas weather.
[](http://imgur.com/WoCiF)[](http://imgur.com/PIkFs)
Ibiza with hawaii weather
[](http://imgur.com/g8soI)
 lol 

modified shadows doesn't decrease that much in performance, well at least on mine it doesn't. However I'm using medium settings(for env quality) everything else is on very high, 1920x1080 4xaa. If I put environment quality to very high all hell breaks loose. 

Must be that grass you're talking about.
## Post #516
- Username: madmax
- Rank: n00b
- Number of posts: 16
- Joined date: Tue Jun 07, 2011 3:45 pm
- Post datetime: 2011-06-13T21:19:07+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Hawaii looks better that way, doesn't it? 
And Ibiza is uglier now... lol
I really enjoy driving in Oahu now.

How did you manage to open these in-game photos? I can't open any of those jpg files, they're encrypted. The only way I'm able to make screenshots is with using fraps.

I can't use AA, I have HD4850 and I'm playing @ 1920x1200, 30-40fps with "high" env. setting, and 20-30fps with "very high". AA works well in TDU1, but I get only 20 fps max in TDU2 with 2xAA (4xAA = 3-5 fps!!!)
When it's rainy I got 40-50 fps with "very high" settings, although rain particles should slow it down... It's strange.
It must be those shadows, I didn't notice them on a "rainy day". But it's just a guess.

Looks like there's nothing more to do about the sky and atmosphere until someone cracks those xmb files open. At least the atmosphere looks almost perfect (almost!). Sunset looks really fake though, especially because of the sky color. 
Eden guys should have looked at the sky more often! 

My next goal is textures (some trees and ground that doesn't look like real at all). Some textures were much better in TDU1.
I just need a working editor for tdu2 that allows me to extract any textures and import new textures back to game.......
It sucks that TDU2 is so hard to mod. GTA on the other hand was very easy to edit, most non-gfx files are in plain text format and not encrypted.
## Post #517
- Username: acbx
- Rank: n00b
- Number of posts: 11
- Joined date: Sat Mar 05, 2011 10:25 pm
- Post datetime: 2011-06-14T02:08:29+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Weird, because I have a 4850, along with a e7300 @ 3ghz, 2gb of ram and I can run it at 1920x1080, 4xaa, everything else on very high aside from env, which is on medium.
I could put it on high but eh stutters a bit sometimes, on very high it just goes to around 5 fps.

I wasn't able to open the photos, screened them with fraps then resized them to a smaller size because of how crappy my internet is(I upload more than 1.5 mb it just sh*ts itself.)

It's possible to change textures using texmod, you can try it.
## Post #518
- Username: quadcoremax
- Rank: n00b
- Number of posts: 11
- Joined date: Sun Jan 30, 2011 8:33 pm
- Post datetime: 2011-06-14T17:58:23+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Ok, since I'm creating stuff for Racer (G25) & as most of you might know, TDU 2 is just crap with it   

Can some1 just PM me & pack all the TDU 2 cars as dae/obj/zd3 ?

I only want/need to get the cars...
Thx for your comprehension !
## Post #519
- Username: ko2123
- Rank: Banned
- Number of posts: 9
- Joined date: Mon Feb 21, 2011 4:26 am
- Post datetime: 2011-06-14T20:46:26+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

[](http://radikal.ru/F/i082.radikal.ru/1106/51/c4c2e3f8ffe4.jpg.html)[](http://radikal.ru/F/s56.radikal.ru/i153/1106/f1/cacb4d2916f1.jpg.html)
[](http://radikal.ru/F/s016.radikal.ru/i337/1106/1f/48e6570f67ed.jpg.html)[](http://radikal.ru/F/s008.radikal.ru/i305/1106/2b/3ca1974c7402.jpg.html)
[](http://radikal.ru/F/i002.radikal.ru/1106/91/d2e687cb18d8.jpg.html)[](http://radikal.ru/F/s013.radikal.ru/i322/1106/1a/0a48c6b18b72.jpg.html)
[](http://radikal.ru/F/i034.radikal.ru/1106/df/727b2673d204.jpg.html)[](http://radikal.ru/F/i043.radikal.ru/1106/1f/905c908ef5da.jpg.html)
## Post #520
- Username: ko2123
- Rank: Banned
- Number of posts: 9
- Joined date: Mon Feb 21, 2011 4:26 am
- Post datetime: 2011-06-14T20:50:07+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from quadcoremax
>
> Ok, since I'm creating stuff for Racer (G25) & as most of you might know, TDU 2 is just crap with it   

Can some1 just PM me & pack all the TDU 2 cars as dae/obj/zd3 ?

I only want/need to get the cars...
Thx for your comprehension !

HERE TDU 2 cars - CARS FROM TDU2
## Post #521
- Username: quadcoremax
- Rank: n00b
- Number of posts: 11
- Joined date: Sun Jan 30, 2011 8:33 pm
- Post datetime: 2011-06-14T22:43:34+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Thanx Ko !   

Links are down atm, maybe some1 could mirror them...I'll retry later.
Thanks to all who made this project possible, I'll do some screenshots of TDU 2 cars in Racer asap.
## Post #522
- Username: madmax
- Rank: n00b
- Number of posts: 16
- Joined date: Tue Jun 07, 2011 3:45 pm
- Post datetime: 2011-06-15T11:13:10+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I tried to desaturate those trees, I don't know if anybody can see a difference or not.  I also added slight blur to clouds and added more fine detail to asphalt. (Blue fog still removed.)
[](http://imageshack.us/photo/my-images/861/testdrive22011061513393.png/) [](http://imageshack.us/photo/my-images/30/testdrive22011061513381.png/) [](http://imageshack.us/photo/my-images/638/testdrive22011061513370.png/) [](http://imageshack.us/photo/my-images/848/testdrive22011061513364.png/) [](http://imageshack.us/photo/my-images/696/testdrive22011061513340.png/)
I haven't figured out how to change ground color. For example, see that mountain on the 1st pic, it's too yellow and light. It must be a bit greener and darker (as many other mountains in the game). Ground texture was quite green already, so I have no clue... I also noticed some red and pink+blue textures, but I'm not familiar with that format. The original (blueish) atmosphere made distant textures look more greenish, but it also made game look worse in general, especially in Honolulu.

EDIT:

I don't know why, but I think texmod doesn't work...
First time it seemed to replace textures, but the next attempt was weird - only one or two textures were replaced. Some other textures went back to original.  Third time it did nothing at all. No changes whatsoever. I did everything as described here: [http://tduforums.com/thread-2280.html](http://tduforums.com/thread-2280.html)
## Post #523
- Username: acbx
- Rank: n00b
- Number of posts: 11
- Joined date: Sat Mar 05, 2011 10:25 pm
- Post datetime: 2011-06-15T21:59:11+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Yea, at least now I know that problem just isn't myself.  And I don't think there's a fix for it. Some of those screens do look good, reminds me of just cause 2.

ENB would be much more suited to what you're after(desaturating) using colorcorrection, unfortunately like I said a page back it doesn't seem to work with tdu2, oddly enough. 

Disabling wheel blur does wonders though.
## Post #524
- Username: madmax
- Rank: n00b
- Number of posts: 16
- Joined date: Tue Jun 07, 2011 3:45 pm
- Post datetime: 2011-06-16T08:31:40+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from acbx
>
> Disabling wheel blur does wonders though.
What do you mean?
I haven't noticed anything else besides removing blur fx from spinning wheels.
## Post #525
- Username: acbx
- Rank: n00b
- Number of posts: 11
- Joined date: Sat Mar 05, 2011 10:25 pm
- Post datetime: 2011-06-16T22:35:07+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Exactly.

I hate the wheel blur.
## Post #526
- Username: DevilZ
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Mon Apr 25, 2011 3:02 am
- Post datetime: 2011-06-21T08:45:27+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from acbx
>
> 

Disabling wheel blur does wonders though.

Would you be kind enough to tell how to do it please?   The wheel blur is really fugly
## Post #527
- Username: madmax
- Rank: n00b
- Number of posts: 16
- Joined date: Tue Jun 07, 2011 3:45 pm
- Post datetime: 2011-06-21T09:32:34+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

You'll need to decrypt GamePC.cpr and edit this file, then encrypt it again. I don't remember where did I get tdudec from, but that's the program you need to decrypt/encrypt cpr files.
There's a line: MV_RADIAL_BLUR = 1, change it's value to 0 (zero).
## Post #528
- Username: DevilZ
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Mon Apr 25, 2011 3:02 am
- Post datetime: 2011-06-21T10:51:17+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Mhhhhhh   I thought it would look like in TDU1.
Why did they put this ugly wheel blur in game
## Post #529
- Username: madmax
- Rank: n00b
- Number of posts: 16
- Joined date: Tue Jun 07, 2011 3:45 pm
- Post datetime: 2011-06-21T11:00:10+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from DevilZ
>
> Why did they put this ugly wheel blur in game
There's a lot of shit in TDU2 and missing several great features, not to mention that stupid encryption on game files. The 1st TDU was better though. Now I'm playing TDU1 again lol.
## Post #530
- Username: zuckbin
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Fri Jun 03, 2011 6:53 pm
- Post datetime: 2011-06-21T11:56:36+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Hi,

Is someone can edit bnk files or not again ?

Bye
## Post #531
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-06-25T23:19:25+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Use my Universal launcher for TDU2   

NEW VERSION!

TDU2: Universal Launcher v1.0
// by Knyazev
12 July, 2011

  Universal launcher for game start in two modes on a choice, online/offline without check for game files/updates.
  Written in C++. Requires [.NET Framework 4.0!](http://bit.ly/cS3GmQ)

  How to use?
1. Unpack TDU2_Universal_Launcher.exe file in any folder.
2. Run TDU2_Universal_Launcher.exe
3. Select the necessary game mode for you: Online or Offline.
4. Click on "Run Game!".
5. Game will be started in few seconds.

 P.S: Select the "Texmod", if you want to run game from Texmod utility.

Screenshots:
[](http://pics.i-knyazev.ru/share-E582_4E1C6029.html) [](http://pics.i-knyazev.ru/share-B609_4E1C6029.html) [](http://pics.i-knyazev.ru/share-745C_4E1C6029.html)

Download:
Mirror #1: [http://rghost.ru/14309401](http://rghost.ru/14309401)
Mirror #2: [http://j.mp/pSMiDL](http://j.mp/pSMiDL)


 TDU2_Universal_Launcher_v1.0.rar
TDU2: Universal Launcher v1.0 [by Knyazev] (57.85 KiB) Downloaded 47 times


How to launch TDU2 from Texmod, using Universal Launcher?
1. Run TDU2: Universal Launcher (next - UL)
2. Select the game mode (Online or Offline)
3. Select the check on "Texmod"
4. Click on "Create Mutex!" button
5. Click on "Launch Texmod" button *
7. Run TDU2 from Texmod utility.
At all don't close UL!

* - if in settings have path to Texmod.exe file

In new v1.0 version:
v1.0 - 12 July 2011
* Changed the algorithm of launching TDU2
* Now launcher doesn't change a main game registry key
* Launcher uses own registry keys for storing settings
## Post #532
- Username: Weegill
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Fri Feb 25, 2011 9:27 pm
- Post datetime: 2011-06-28T03:41:41+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Wow i was surprised when i saw this thread was still going...

Nice update on the launcher there Knyazev, will test it later on.
I have to say thou i've not been on TDU2 in over a month or so now. Might start up again if it becomes more moddable
## Post #533
- Username: Coco
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Thu Mar 10, 2011 5:17 am
- Post datetime: 2011-07-07T23:01:51+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I'm still impressed, how it's going on here. 
Great stuff, Knyazev and all the others. 

What I, and I guess many others, still need is a new bnk-(re)packer.
Unfortunately I'm an absolutly noob in programming.   
Does somebody know about an updated version able to handle tdu2 bnks?
## Post #534
- Username: Xarlith
- Rank: beginner
- Number of posts: 20
- Joined date: Tue May 17, 2011 8:32 am
- Post datetime: 2011-07-11T17:19:35+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

We all are waiting for a bnk packer . It is possible to write such BMS script since we have an unpacker but it will be much harder for a programmer.  We also need a script to decrypt/unpack some config files which are not supported by tdudec.

@Knyazev Is it possible in future Universal Launcher releases to select desired TestDrive2.exe without modifying registry key? For example if somebody have both unpacked and packed game in different directories and he wants to run packed game with the help of original TDU2 launcher to check for updates he have to re-edit registry key. With light launcher there was no such problem.
## Post #535
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-07-11T19:54:48+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Xarlith
>
> We all are waiting for a bnk packer . It is possible to write such BMS script since we have an unpacker but it will be much harder for a programmer.  We also need a script to decrypt/unpack some config files which are not supported by tdudec.

@Knyazev Is it possible in future Universal Launcher releases to select desired TestDrive2.exe without modifying registry key? For example if somebody have both unpacked and packed game in different directories and he wants to run packed game with the help of original TDU2 launcher to check for updates he have to re-edit registry key. With light launcher there was no such problem.

Okay. In the next version I will do this. Thanks)
Will be created a new registry key ( HKLM\\SOFTWARE\\Atari\\TDU2 - "GameFolder" line ), ok?

and then U.L will be use this new registry key. it's good)
without change the main registry key of the game!
## Post #536
- Username: Xarlith
- Rank: beginner
- Number of posts: 20
- Joined date: Tue May 17, 2011 8:32 am
- Post datetime: 2011-07-12T14:16:32+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I think this will be better. Thanks!
## Post #537
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-07-12T15:10:52+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Xarlith
>
> I think this will be better. Thanks!

Finished!   
New version is available now!

This version of launcher (v1.0) will be very useful to those who uses two and more versions of game! (packed/unpacked/without patches)

[More...](http://forum.xentax.com/viewtopic.php?p=55839#p55839)

> v1.0 / 12 July 2011
>
> * Changed the algorithm of launching TDU2
>
> * Now launcher doesn't change a main game registry key
>
> * Launcher uses own registry keys for storing settings

Works on "Game updates" section finished on 30%.
## Post #538
- Username: Koce
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Wed Apr 14, 2010 11:33 am
- Post datetime: 2011-07-21T15:08:52+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I was try to convert Jaguar XKR Black and uv map of body is wrong and i can't put vinyl on side.Did any one have same problem?
## Post #539
- Username: Koce
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Wed Apr 14, 2010 11:33 am
- Post datetime: 2011-07-22T12:33:53+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I found problem it was UVmap.TDU 2 have 2 on this car.
## Post #540
- Username: Taka
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Sun Jul 24, 2011 3:17 am
- Post datetime: 2011-07-24T21:37:40+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I've got a problem now. It worked fine but suddenly it stopped working after a while.
It comes up with a msg when I try to import the file. Even though it's the same file I imported earlier.
--Type error: Call needs function or class, got: undefined

			readVB f geoms.prims[j].vboffset geoms.prims[j].numverts varr UVWarr
I'm using the TDU2_mesh_import v2.1
## Post #541
- Username: Sa3ana3a
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Thu Aug 11, 2011 6:37 pm
- Post datetime: 2011-08-11T18:24:41+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Good day gentlemans,

Me and a friend of mine are doing some research here and we would be happy if you help us with these:

We have put the game in smaller files using QuickBMS and Knyazev instructions. We have decrypted and play a bit with the Physics.cpr and GamePC.cpr.
We have opened the car .bnk files with hex editor looking for power and speed values, but uncertain results, could somebody tell us exact value or at least point us to the right direction.

Also what is the new number of Chevrolet Corvette ZR1, did somebody was able to map it from the gold bomb mission?

Thank you for your kind help!
## Post #542
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-08-12T18:45:04+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Chevrolet Corvette ZR1
ID: 269
## Post #543
- Username: Xarlith
- Rank: beginner
- Number of posts: 20
- Joined date: Tue May 17, 2011 8:32 am
- Post datetime: 2011-08-18T03:55:20+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Could someone re-upload exe for generating filelist.log? Old links are dead.

I found many new bnks filenames for polish language version (by unpacking bins and comparing them with ru bnks), but now I can't match more.
## Post #544
- Username: AndyShow
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Sun Aug 21, 2011 7:08 am
- Post datetime: 2011-08-21T01:32:41+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

i'm Modified Mustang and the Beetle rim, too the engine Sound, and nothing for bug or error,I work with cars mods for the game GTA4, anyone know how to package a file BNK? i can modifies the engine? How? thanks,and sorry for my bad english. 

see my YOUTUBE video with the rim and sound modding.

[http://www.youtube.com/watch?v=hGQIPIdyzhI](http://www.youtube.com/watch?v=hGQIPIdyzhI)
## Post #545
- Username: Graty
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Sun Aug 28, 2011 4:20 am
- Post datetime: 2011-08-29T15:53:29+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Hello!
Could someone tell me please how to convert the 2DB file in dds file?
I opened the files 2DB with Total Commander using  gaup_pro.wcx  plugin...
" Click  on the 2db file then Control+Page Down... then I copied the dds file outside from 2db file.
But I can not open dds files in 3d max or in Photoshop. 
In photoshop for example I got the error "Could not complete your request because of a disk error"
In 3d max  I got this error "Invalid Image File Header"
I tried to open 2db with "TDUModdingTools-1.2" and save it as dds but even so it does not work.
I searched for "2DB To DDS Converter" but I can't find nowhere....
Thanks in advance !
I would like to thank vagos21... and others, shows that he likes making this things.
I think you see numbers" 2817,513,0,3074...... 01 00 74..." with eyes closed . I know the feeling
I've modded some games but light stuff no hard stuff like you. And it's not easy to work with so many numbers...
Why not try to make a game !? Make a team with 4 or 5 people and voila... would be the century game!
I try to do something in unity 3d but it is very difficult for one man, especially the script parts where to schedule the game...

A pleasant day for all!
## Post #546
- Username: Graty
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Sun Aug 28, 2011 4:20 am
- Post datetime: 2011-08-29T20:36:18+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Graty
>
> Hello!
Could someone tell me please how to convert the 2DB file in dds file?
I opened the files 2DB with Total Commander using  gaup_pro.wcx  plugin...
" Click  on the 2db file then Control+Page Down... then I copied the dds file outside from 2db file.
But I can not open dds files in 3d max or in Photoshop. 
In photoshop for example I got the error "Could not complete your request because of a disk error"
In 3d max  I got this error "Invalid Image File Header"
I tried to open 2db with "TDUModdingTools-1.2" and save it as dds but even so it does not work.
I searched for "2DB To DDS Converter" but I can't find nowhere....
Thanks in advance !
I would like to thank vagos21... and others, shows that he likes making this things.
I think you see numbers" 2817,513,0,3074...... 01 00 74..." with eyes closed . I know the feeling
I've modded some games but light stuff no hard stuff like you. And it's not easy to work with so many numbers...
Why not try to make a game !? Make a team with 4 or 5 people and voila... would be the century game!
I try to do something in unity 3d but it is very difficult for one man, especially the script parts where to schedule the game...

A pleasant day for all!
Re: for those who want to draw textures from 2db, with PTXTool_21b can save  2db as BMP or TGA with alpha....
 then, with this plugin for Photoshop, you can open TGA and save as dds "DXT5"

Only better!
## Post #547
- Username: tomsolo
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Sep 17, 2011 3:33 am
- Post datetime: 2011-09-19T12:12:35+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Hello,

I'm play unpacked game with hxd  , and succesfully replace any challenge with a custom crc track. 

Create new races (time-trials, normal races with bots), and bomb missions:  jolt, driving, and convoy misssions (driving, timed, extreme - with any car), and: multiplayer challenges. The latter was successfully tested with friends - need shared with the files to work - was very funny (replace Dangeroute with a 40km lenght track) . (I don't really understand why it was left out of these options in the game.)

I started writing a tutorial - a bit complicated, but not much harder than replacing the id of cars in memory   - when I finished it and here is somebody who is interested, i will publish here too.
## Post #548
- Username: Xarlith
- Rank: beginner
- Number of posts: 20
- Joined date: Tue May 17, 2011 8:32 am
- Post datetime: 2011-09-23T03:21:03+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Great job, we would be interested in your tutorial.
Do you do this in CE, or what?

No one wanted to help me with polish filelist, but i managed to accomplish it by myself and now I'm having fun with bnk's. I was able to modify engine sounds, images (such as car plate) and music within bnk files - so it's possible to write a repacker. Maybe if I could find a willingness I would try to write it...
## Post #549
- Username: tomsolo
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Sep 17, 2011 3:33 am
- Post datetime: 2011-09-23T09:41:34+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Thx Xarlith, the polished filelist.log interesting  for me. 

On this weekend be here few screenshot - how to save the crc trck as IGE2 file. 

And here is two sample file, just extraxt and replace with the unpacked game files in IG2 folder.

rsa2t08.ig2 - This a modified Oahu A3-A2 licens Racing School track (8. Circuit) file, - replace time trial with hard race task.



rmz1ra08.ig2 - This a modified Oahu Multiplayer Challenge : Dangeroute track, only play TEST RUN - the program freeze in start if two player have different track in one challenge - or Create Private Mach and  invite your friend who also has this modified ig2 file too.
[customtrack.zip](https://xentaxbackup.github.io/file/4726_customtrack.zip)
## Post #550
- Username: tomsolo
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Sep 17, 2011 3:33 am
- Post datetime: 2011-09-23T09:50:18+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Im trying build and  add new bomb missions - but is very difficult because the main database file (data.cpr) an xmb file - binary xml format (like android binary xml file in apk) -  and not simple task parsing.
## Post #551
- Username: Xarlith
- Rank: beginner
- Number of posts: 20
- Joined date: Tue May 17, 2011 8:32 am
- Post datetime: 2011-09-27T12:11:50+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

@tomsolo It's not polished filelist, but filelist with support for Polish language files   . I made a mistake because I should write it with a capital letter.

Here is the file, maybe someone will need it.
[filelist.zip](https://xentaxbackup.github.io/file/4744_filelist.zip)
## Post #552
- Username: tomsolo
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Sep 17, 2011 3:33 am
- Post datetime: 2011-09-27T16:16:44+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Impressive list thanx!  131 files left - 22 KNAB file.
## Post #553
- Username: Speeder
- Rank: n00b
- Number of posts: 15
- Joined date: Sat Mar 05, 2011 4:17 am
- Post datetime: 2011-09-28T08:41:12+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

TDU2 database isn't hard to edit at all. 

You can edit club level, options, clothes, paints...

Some example of clothes editing: 
[](http://www.servimg.com/image_preview.php?i=47&u=13492127)
[](http://www.servimg.com/image_preview.php?i=48&u=13492127) 
[](http://www.servimg.com/image_preview.php?i=49&u=13492127)
[](http://www.servimg.com/image_preview.php?i=50&u=13492127)
[](http://www.servimg.com/image_preview.php?i=51&u=13492127)
## Post #554
- Username: tomsolo
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Sep 17, 2011 3:33 am
- Post datetime: 2011-09-28T10:52:54+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Speeder
>
> TDU2 database isn't hard to edit at all. 

You can edit club level, options, clothes, paints...

Hmm... you don't want share for us a file such modified data_db.cpr?  (Or send as PM?) 
For example, the Spyker C8, let have a valid car for Pc and waiting for me in the European Cars salon?
## Post #555
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-09-30T11:06:31+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I personally want to get into "db_data.cpr" but when using TDUDec it won't work.   Anyone got ideas? Or is there something I am missing?
## Post #556
- Username: Speeder
- Rank: n00b
- Number of posts: 15
- Joined date: Sat Mar 05, 2011 4:17 am
- Post datetime: 2011-09-30T17:15:56+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I use TDUdec to decrypt the .cpr (w/ a bat and the basic line "tdudec.exe d db_data.cpr db_data.cpr.txt 1"). And then go with a HexEditor.

For your request I tried but idk why it freezes or doesn't change anything when I try to go to the spot. 
But the database is a kind of xmb like the camera moves or the textures scale on the island: you can edit it, but you must do it manual for the moment.
## Post #557
- Username: Xarlith
- Rank: beginner
- Number of posts: 20
- Joined date: Tue May 17, 2011 8:32 am
- Post datetime: 2011-09-30T20:09:15+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

TDUDec is decrypting well. The problem is that decrypted file is in xmb format which is kind of database format, and there is no tool for opening that.

@Speeder Have you managed to do something with those xmb files? Nice, can we get an example?
## Post #558
- Username: Sburn250
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Sun Oct 02, 2011 4:19 pm
- Post datetime: 2011-10-02T08:35:06+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Hey guys, I've tried various commands to make the game session start at another time than 2pm in offline mode but nothing works. Since the time scale and weather selection can be tinkered with in the GamePC.cpr file that's where I focused my effort but no go. Any idea?
## Post #559
- Username: HankMoody47200
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Mon Oct 03, 2011 6:00 pm
- Post datetime: 2011-10-03T10:09:56+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Hi everyone

I've been working on BNK file format for years now, (since mid-2008 to be precise). And many of you should already guess who I really am   

just so you know, I'm currently addressing full unpack/repack of BNK format (TDU1 / TDU2 as they are very much like the same).

Since I'm getting pretty good results in repacking so far and testing is in progress, I will share with you BNK specs and a tool in a few days.

Next step is to provide that XMB editor.

ciao!
## Post #560
- Username: madmax
- Rank: n00b
- Number of posts: 16
- Joined date: Tue Jun 07, 2011 3:45 pm
- Post datetime: 2011-10-03T12:35:29+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from HankMoody47200
>
> I will share with you BNK specs and a tool in a few days.

Next step is to provide that XMB editor.
That would be awesome
## Post #561
- Username: tomsolo
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Sep 17, 2011 3:33 am
- Post datetime: 2011-10-03T17:03:31+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from HankMoody47200
>
> Hi everyone

Next step is to provide that XMB editor.

ciao!

Hmm sounds, interesting
## Post #562
- Username: Speeder
- Rank: n00b
- Number of posts: 15
- Joined date: Sat Mar 05, 2011 4:17 am
- Post datetime: 2011-10-03T18:46:10+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from HankMoody47200
>
> Hi everyone

I've been working on BNK file format for years now, (since mid-2008 to be precise). And many of you should already guess who I really am   

just so you know, I'm currently addressing full unpack/repack of BNK format (TDU1 / TDU2 as they are very much like the same).

Since I'm getting pretty good results in repacking so far and testing is in progress, I will share with you BNK specs and a tool in a few days.

Next step is to provide that XMB editor.

ciao!

Nice to hear ****!
## Post #563
- Username: HankMoody47200
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Mon Oct 03, 2011 6:00 pm
- Post datetime: 2011-10-04T09:45:42+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

XMB topic and specs are in the way !
## Post #564
- Username: tomsolo
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Sep 17, 2011 3:33 am
- Post datetime: 2011-10-04T13:24:59+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Okay, I promised the very simply IGE tutorial, here is 

How to save any crc, challenge or track to IGE2 file.

a, Making a crc, start Test Drive - Pause game. (Recommended the gmedesigner)
b, Start testing or racing any challenge - Pause game. 
c, Start a crc challenge - Pause game

Open TestDrive2 process with a hexeditor like Hxd, search this Hex array below:

```
00 00 49 47 45 32 00 00
```

(00 00 I G E 2 00 00)

In the memory, the IGE file begins with IGE2 string (similar in the file .ig format) and ends, before begin the "car_pos_mat" string. Just scroll far and make selection and copy.
((IGE") 49 47 45 32 < - > FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF)

Create a new hex file and paste selection here. If you want to use this file, in memory save as *.igm. Was easy 

If you want save as .ig2, search and replace this hex array:

```
41 A0
```

to

```
40 E0
```

but only one value, in the end of file.

Then last 32 byte look similar:

```
FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF
```

to

```
FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF
```


Save as *.ig2.

Replacing, editing tracks in memory
This is only work, if you are making in progress an crc, and test driving (pause).
To replace whole challenge, is possible only restriction the two file size be same.

In other situation, just replace those segments, which you need to change, in game return the editor, test drive again and taaa-daaam, race is changed 

Usability and some tips
Create new races (time-trials, normal races with bots), and bomb missions: jolt, driving, and convoy misssions (driving, timed, extreme - with any car!), and: multiplayer challenges. The latter was successfully tested with friends - need shared with the files to work - was very funny (replace Dangeroute with a 40km lenght track) . (I don't really understand why it was left out of these options in the game, feeling of cruise my friends was flawless.) 

Just replace any existing *.ig2 challenge file with modified by you, but if is an multiplayer challenge, the first checkpoint data must be the original file, because the lobby spot can't placed automatically in first checkpoint - is definied in the spotworld.bin file. (This file is contains all spot places in IGE2 formats, like a list, but i don't recommend to change anything.) 

Some value overriding by program/database - eg. car type in the shcool  license task, and bot types in cups - but is very funny imho.

Opening .ige2 files
If enabled the GMEDESIGNER - in the GamePC.cpr file -, and you have extracted game, the my challenges menu list all *.ig2 files wich place is in the euro/bnk/ig2 folder (all challenges and your custom ig2 files too.) Some functions disabled in designer - eg save - and drop an error message for all operations, but still useful. 

I wrote a simple list the ige format params, which does what. (still incomplete but i think usefull.) See below.

```
MDSC		20 bytes		- 
gmth		8 bytes		- Game mode last two byte per type(TimeTrial(00), RaceSolo(03), Speed(0A), Trap(01), EVENT(07) etc)
gmpm		8 bytes		-
isla		8 bytes		- Island
leme		8 bytes		- Mixed datas, eg Laps etc
TEST		8 bytes		* Test TRUE/FALSE?
offR		8 bytes		-
OrMd		8 bytes		- Penalty Mode (Driving, Extrem, Jolt etc)
PeCr		8 bytes		- Penalty Value
dPeLv 	 8 bytes		- Penalty Level
CvBr		12 bytes		- Convoy Vehicle Brand only last one byte (Alfa Romeo = 03 04 00 08 00 00 00 00 00 00 00 02 = 02 )
CvMo		8 bytes		- Convoy Vehicle model use only last 2 bytes (Ascari A10 = 03 04 00 04 00 01 81 = (01 81) = 385
CCol		8 bytes		* Disallow Collison?
forc		8 bytes		- Waymarked path
ChNC		8 bytes		-
SP2R		8 bytes		-
tras		8 bytes		-		
SPPG		8 bytes		-
timG		8 bytes		- Basetime 
ChCD		8 bytes		- Challenge has time limit
CtDw		8 bytes		- Countdown time
ChBo		8 bytes		- Time bonus of chekpoint
next		8 bytes		- Display all checkpoint
ChSD		8 bytes		-
FiMi		8 bytes		-
FiMa		8 bytes		-
FiCG		8 bytes		-
CarB		12 bytes		- 
CarM		8 bytes		-
ChKD		8 bytes		* Check Distance?
CkMi		8 bytes		- Minimal Distance
CkMa		8 bytes		- Maximum Distance
ChTR		8 bytes		- Traffic enabled
trat		8 bytes		- Traffic value
nblp		8 bytes		-
ChCO		8 bytes		- COPS
cops		8 bytes		- COPS Level
Cgli		8 bytes		-
Gmin		8 bytes		* Maybe Time Limit Countdown?
Gmax		8 bytes		* Maybe Time Limit? 
ChSL		8 bytes		-
SLMl		8 bytes		-
SLMi		8 bytes		-
SLML		8 bytes		-
SLMa		8 bytes		-
SLTr		8 bytes		-
SLT2		8 bytes		-
Hcap		8 bytes		* Handicap TRUE/FALSE (maybe work only in bomb mission )
Hwsc		8 bytes		* Handicap type (no windscreens)
Hhlg		8 bytes		* Handicap type (no headlights)
Hbrk		8 bytes		* Handicap type (no break)
Chse		8 bytes		-
Cmid		8 bytes		-
Cdlm		8 bytes		-
ChCB		12 bytes		* Chase Opponent Car Brand? (Maybe as moving obstacles)
ChCM		8 bytes		* Chase Opponent Car Model? (Maybe as moving obstacles)
DmMi		8 bytes		* Chase Minimal Distance
DmMa		8 bytes		* Chase Maximum Distance
MDTL		8 bytes		-
DiCh		8 bytes		-
NbIA		8 bytes		- Number of AI player 
IASA		8 bytes		- 
IASB		12 bytes		* MaybeCar Brand of Ai player
IASC		12 bytes		* MaybeCar Model of AI Car player
IASD		8 bytes		* 
IASI		8 bytes		* Maybe AI License restriction
IASJ		8 bytes		* Maybe AI License restriction
NbCp		8 bytes		-		
CpTs		??? bytes		- Checkpoint Times
Cock		8 bytes		- CockPit View Only (maybe not working)
ChGP		8 bytes		- Use GPS help
Cwwa		8 bytes		- Gps Wrong Way allowed
VSpe		8 bytes		- Restriction Vehicle Specification 
VBra		12 bytes		- Restriction Vehicle Brand
VBrM		12 bytes		- Restriction Vehicle Brand Model
VMod		8 bytes		- Restriction Vehicle Model
Vlt2		8 bytes		- Restriction Licens type (A,B,C)
Vli2		8 bytes		- Restriction Licens category (A1, A2, A3)
fee1		8 bytes		* Maybe fee?
rewm		8 bytes		
dscr		8 bytes		- Display Trajectory
rsl1		8 bytes		- Place of test (Road, School)
rsl2		8 bytes		- Test Type (turn, mixed, etc)
rswh		8 bytes		- Required Water (Sun, Rain, Night) - The missing fetaure when u making a crc
nbtm		11 bytes		* 11? Or nbtm = 11 + '#' + 8 = 20 bytes?
#			8 bytes		- Loop Track
mnme		68 bytes		- Challenge Name, start to @ sign (40) (Max char for name: 64 bytes?) - some challenges have own filename as challenge name (eg. CHA2A05R)
DesC		68 bytes		- Challenge Description, start to @ sign (Max char for description: 124?)
lcpi		8 bytes		-
dbna		8 bytes		* Maybe entry a DBEvents table in the main database.
dbd1		8 bytes		* Maybe entry a DBEvents table in the main database.
ENTI		8 bytes		- Number of Checkpoints, Obstacles and others
CHK2		120 bytes/checkpoint	- Chekpoint data (Maybe use only 76 bytes, the position yxz and rotation.)
VEHI		???	bytes	- Moving obstacle (car) data

```


*Update: add some tipps, and place params list inline.

Cheers
## Post #565
- Username: Speeder
- Rank: n00b
- Number of posts: 15
- Joined date: Sat Mar 05, 2011 4:17 am
- Post datetime: 2011-10-04T14:33:43+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Nice tut!
## Post #566
- Username: HankMoody47200
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Mon Oct 03, 2011 6:00 pm
- Post datetime: 2011-10-05T11:32:35+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from tomsolo
>
> Okay, I promised the very simply IGE tutorial, here isI have some information about IGE format for TDU1 (that are user created challenges for TDU1's Drive'Ins, solo and multi race tracks as well). Maybe useful even though a few things might have changed for TDU2.

You should open a dedicated topic for that imo
## Post #567
- Username: tomsolo
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Sep 17, 2011 3:33 am
- Post datetime: 2011-10-05T14:08:02+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

If you want to share any information of the ige files, just drop here or send a pm  
( Imho does not need a separate topic)

I am  interested in how can rotate an checkpoint.
## Post #568
- Username: HankMoody47200
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Mon Oct 03, 2011 6:00 pm
- Post datetime: 2011-10-05T15:15:29+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

simple,
- If I send a PM, nothing guarantees other people would get the benefits of the info   
- posting here will make info to be lost in a moment (so as your tuto), isn't this topic just to be about BNK format ?

Sure a wiki would be the best way to share knowledge, but it still has to be created.
## Post #569
- Username: tomsolo
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Sep 17, 2011 3:33 am
- Post datetime: 2011-10-05T15:37:43+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> posting here will make info to be lost in a moment (so as your tuto)
[I don't think so](http://www.google.hu/search?q=IGE2+file+how+to) 

> isn't this topic just to be about BNK format ?

I don't think so, because currently we can just extract .map, .big, .bin, and .bnk files with quick bms .
## Post #570
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2011-10-05T16:46:06+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

tomsolo
Thanks for the "ig2" tutorial 

Soon will be released TDU Modding Tools II (Creator: Djey)
This set of tools will be support games: Test Drive Unlimited and Test Drive Unlimited 2.
More information here: [http://j.mp/ouWsIf](http://j.mp/ouWsIf)

_______________-

I will try soon to release a new version of my TDU2 Universal Launcher
## Post #571
- Username: tomsolo
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Sep 17, 2011 3:33 am
- Post datetime: 2011-10-05T19:48:31+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Add some tipps, and place inline the params list.

@Kanyezev: D*** was here
## Post #572
- Username: Fuzzehh
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Thu Oct 06, 2011 4:43 pm
- Post datetime: 2011-10-06T08:48:26+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I bought the game but there's only 1 corrupt BIG file, the 1st one ! 
Do i need to extract it or something ? 
i really searched every forum with my question but no answers.. 
please help me !
## Post #573
- Username: tomsolo
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Sep 17, 2011 3:33 am
- Post datetime: 2011-10-10T05:34:13+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Fuzzehh
>
> I bought the game but there's only 1 corrupt BIG file, the 1st one ! 
Do i need to extract it or something ? 
i really searched every forum with my question but no answers.. 
please help me !

Try, delete the corrupted .big and .map file and DownloadCahche folder, and UPlauncher download these files again.
## Post #574
- Username: HankMoody47200
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Mon Oct 03, 2011 6:00 pm
- Post datetime: 2011-10-10T12:57:16+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Hi,

beta version of Mini BNK Manager (TDUMT2)  is available for advanced users, send me a PM to participate. 
it can handle unpack and repack of TDU1/TDU2 bnk files.

[http://forum.tdu-central.com/threads/26 ... ta-amp-WIP](http://forum.tdu-central.com/threads/26531-Djey-TDU-Modding-Tools-II-Beta-amp-WIP)

 (j/k)
## Post #575
- Username: tomsolo
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Sep 17, 2011 3:33 am
- Post datetime: 2011-10-10T13:23:20+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

nice, i subscribe...
## Post #576
- Username: tomsolo
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Sep 17, 2011 3:33 am
- Post datetime: 2011-10-10T15:17:52+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Yesterday I played with CHK2 datas of the ig2 files and tried rotate one checkpoint. 

Was succesfull - by designer gui, just drop many chekpoints on offroad ground use magnet, and delete one inner chekpoint then automatically changed one cp direction (display an arrow sign). I compare the before-after status of this cp, and seems contain two points coordinates...
## Post #577
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-11-08T14:43:19+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Anyone know where wheel/tire positions could be? 


Oleg has released his TDU2 exporter and we can now get cars into TDU2, though Zmodeler does not control the tire positions.
## Post #578
- Username: mgtmg
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Wed Feb 23, 2011 3:43 pm
- Post datetime: 2011-11-09T05:25:48+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

It's possible to change wheel positions but this was done through memory editing so its quite unorthodox.


[](http://www.imagebam.com/image/bcddbc158270948) [](http://www.imagebam.com/image/aa32fb158270949) [](http://www.imagebam.com/image/b8a1d6158270951) [](http://www.imagebam.com/image/dc34ac158270955)
[](http://www.imagebam.com/image/ae4ead158274130) [](http://www.imagebam.com/image/a761f5158274133)
## Post #579
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2011-11-09T08:59:51+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Thanks,

What value did you have to find exactly?
## Post #580
- Username: HankMoody47200
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Mon Oct 03, 2011 6:00 pm
- Post datetime: 2011-11-09T10:53:17+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from mgtmg
>
> It's possible to change wheel positions but this was done through memory editing so its quite unorthodox.Hi mgtmg , 
there are chances that data in memory to be similarly structured as their file system counterparts. So, if you could provide us location of this data in RAM may help us with finding it in the database or physics files   

Thanks !
## Post #581
- Username: HankMoody47200
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Mon Oct 03, 2011 6:00 pm
- Post datetime: 2011-11-10T19:31:33+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

News !

wheels can be moved from ZModeler properly, not an issue anymore
## Post #582
- Username: Power1291
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Fri Nov 11, 2011 7:55 am
- Post datetime: 2011-11-13T07:28:33+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Hello, I'm new. Can somebody send me the Ferrari 458 Italia? 
My friend is trying convert it over to Grand Theft Auto: San Andreas. If anybody is nice enough to send over the folder to me. It's for Autodesk 3ds Max.
## Post #583
- Username: Nobby
- Rank: veteran
- Number of posts: 109
- Joined date: Thu May 13, 2010 7:35 am
- Post datetime: 2011-12-27T22:38:53+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from ko2123
>
> Some waffling bollocks
How stupid do you have to be to post stuff about forza in a tdu2 thread ?
## Post #584
- Username: Иван
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Mon Mar 05, 2012 6:45 pm
- Post datetime: 2012-03-07T10:40:18+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Help change a lot of cars in tdu2 skinte or link to this topic
## Post #585
- Username: Nobby
- Rank: veteran
- Number of posts: 109
- Joined date: Thu May 13, 2010 7:35 am
- Post datetime: 2012-04-11T22:44:15+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Well get ready to start all this over again tomorrow. DLC 2 is being released 12th april ( morning ) so you will need to repack your game before you can update. then we will need the new id numbers and names for all the new parts so it can be extracted again.....
## Post #586
- Username: Xarlith
- Rank: beginner
- Number of posts: 20
- Joined date: Tue May 17, 2011 8:32 am
- Post datetime: 2012-04-12T02:06:11+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

The easiest way to get new filenames would be to adapt DLC2 executable to old dll function made by qwerty. Who will be able do do that?
## Post #587
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2012-04-12T12:42:31+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Xarlith
>
> The easiest way to get new filenames would be to adapt DLC2 executable to old dll function made by qwerty. Who will be able do do that?

I have the old dll - tdu2.dll with one function: HashGenerator.

It's right dll?
## Post #588
- Username: Axsis
- Rank: advanced
- Number of posts: 48
- Joined date: Fri Oct 21, 2011 7:55 pm
- Post datetime: 2012-04-12T19:30:05+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

GenerateHash function is used for generating hash from known (or guessed) filename. Also there is modified TestDrive2.exe that writes in log all filenames and hashes to which game accesses. For filenames that are impossible to guess it is the only way to get them. To do such modified exe it must be unprotected (without securom). So if there will be such exe for DLC2 - logging version may also appear.
## Post #589
- Username: Mr.Mouse
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2012-04-12T21:40:54+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

[viewtopic.php?f=28&t=1270](http://forum.xentax.com/viewtopic.php?f=28&t=1270)
Please review the new forum rules.
## Post #590
- Username: Xarlith
- Rank: beginner
- Number of posts: 20
- Joined date: Tue May 17, 2011 8:32 am
- Post datetime: 2012-04-13T01:25:50+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Some valid new filenames:

```
0AA80BB2BB86B867 "euro/bnk/interior/myhouse/t4sofaua.bnk"
0AA80BB2BB86FC67 "euro/bnk/interior/myhouse/t4sofa1a.bnk"
00B1E8063A133B1A "euro/bnk/interior/myhouse/s2chbaa.bnk"
0F4E15D6462431A0 "euro/bnk/interior/myhouse/s4tvhaua.bnk"
0F9F1792745027E8 "euro/bnk/avatar/clothes/eden/m_ed_helmet_open_01.bnk"
0FEE94965C7FBE5A "euro/bnk/avatar/clothes/streetwear/m_sw_b_pant_03.bnk"
1DB30F4C60ACD9D2 "euro/bnk/scenarics/cinematics/casino/spt_hawai_departure__ja.bnk"
1F7F01593D670251 "euro/bnk/avatar/clothes/fashion/w_fh_h_hat_04.bnk"
C8BE1F710F3BCF33 "euro/bnk/sound/vehicles/599xx_high.bnk"
C5ABE226A2C1A570 "euro/bnk/interior/myhouse/t7tbdove.bnk"
02EEEBEA325AB55E "euro/bnk/avatar/clothes/highlife/w_hl_b_pant_02.bnk"
```

Just unpack DLC2 big, then unpack unknown bnks and try to guess. After that check your guesses with validator. Doing it together will be much faster, so post your guesses on forum.

EDIT:

I've added 356 new filenames. Check the attachment  . 

Remaining files:
16 bnk, 30 ig2, 2 xml, 1 xmb and 2 unknown

EDIT2:
One bnk more (motors dealership):

```
CC3E075C8F325A47 "euro/bnk/interior/ibd_cla.bnk"
```


EDIT3:
Added some more bnks (6 left). Later I'll try to guess non bnk files.

Im not sure about this file, cause I guessed filename by hash,so...

```
DCC6C6C69B167B65 "euro/bnk/interior/myhouse/t4tbdyaa.bnk"
```

[filelistDLC2.7z](https://xentaxbackup.github.io/file/5302_filelistDLC2.7z)
## Post #591
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2012-04-14T09:28:20+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Xarlith
>
> 
Im not sure about this file, cause I guessed filename by hash,so...
Code: Select allDCC6C6C69B167B65 "euro/bnk/interior/myhouse/t4tbdyaa.bnk"
That one is DCC6C6C69B167B65 "euro/bnk/interior/myhouse/t4tbdova.bnk"

I've been finding out the files names; more then setting up the extract log list. So here it goes... This may or may not help you.   I edited the quickbms script, instead of .bin I made them come out as BNK's so I open them with the BNK editor "Djey" created. 

What ive found for names - Only just started so list is very small I wasn't going by your loglist Xarlth I just started at random; many you'd most likely have.

```
0A0D322A0F4BE001 - m_at_t_sweat_02.bnk
0A0D322A0F4BE002 - m_at_t_sweat_01.bnk
0AA80BB2BB86B467 - lm_t2sofaya.bnk
0AA80BB2BB86B867 - lm_t4sofaua.bnk
0AA80BB2BB86FC67 - lm_t4_sofa1a.bnk
0B804CC161223FF2 - st_spykerc12.bnk
0B14116E7120CA76 - spt_hawai_departure.bnk 
1C97E314F30589F5 - delta_integrale_evo_2_high.bnk
7D89DAD30DEC2095 - gamblinhall.bnk
4C3642FAE12B2B89 - viper_srt10_acr_high.bnk
587D91785EB4B11D - dashbrd.bnk
5E21FF6F40BA6BF0 - diavel_i.bnk
1B05B4515E03324B - skidmarks.bnk

```


If you every want to find out a name or aren't sure, just post it here I should be able to track it down.
## Post #592
- Username: Xarlith
- Rank: beginner
- Number of posts: 20
- Joined date: Tue May 17, 2011 8:32 am
- Post datetime: 2012-04-14T10:09:50+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from toolieo
>
> Xarlith wrote:
Im not sure about this file, cause I guessed filename by hash,so...
Code: Select allDCC6C6C69B167B65 "euro/bnk/interior/myhouse/t4tbdyaa.bnk"
That one is DCC6C6C69B167B65 "euro/bnk/interior/myhouse/t4tbdova.bnk"
No, because hash is not valid then .

> Reply from toolieo
>
> 
What ive found for names - Only just started so list is very small.
Code: Select all00B1E8063A133B1A - s2chbaa.bnk - already found by me
0A0D322A0F4BE001 - m_at_t_sweat_02.bnk - existing in old filelist
0A0D322A0F4BE002 - m_at_t_sweat_01.bnk - existing in old filelist
0AA80BB2BB86B467 - lm_t2sofaya.bnk - hash not valid (t4sofaya.bnk is proper cause its on my list)
0AA80BB2BB86B867 - lm_t4sofaua.bnk - hash not valid (t4sofaua.bnk is proper cause its on my list)
0AA80BB2BB86FC67 - lm_t4_sofa1a.bnk - hash not valid (t4sofa1a.bnk is proper cause its on my list)
0B804CC161223FF2 - st_spykerc12.bnk - nope (euro/bnk/sound/vehicles/c8_aileron_high.bnk this one is from old filelist...)
0B14116E7120CA76 - spt_hawai_departure.bnk - existing in old filelist 
1C97E314F30589F5 - delta_integrale_evo_2_high.bnk - existing in old filelist 
7D89DAD30DEC2095 - gamblinhall.bnk - existing in old filelist 
4C3642FAE12B2B89 - viper_srt10_acr_high.bnk - already found by me
587D91785EB4B11D - dashbrd.bnk - existing in old filelist 
5E21FF6F40BA6BF0 - diavel_i.bnk - already found by me
Advice - first run filelist.bat with old filelist, then run it with my filelistDLC2, and then try to guess names 

As for extracting bnk. I've wrote simple batch script to unpack each bnk to separate folder (pure bms, without djey tool)

EDIT:
Oh, sorry I have not read your sentence about not checking my list. But you should check old filelist anyway.

Something new (those 2 files were in previous builds, but nobody added it to the filelist):

```
B0CA1C6F6AEAD9B9 "euro/bnk/database/aicmac_training.xml"
```
## Post #593
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2012-04-14T13:35:11+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

After mucking around with old and new EXE Files, you are able to buy all cars ingame and unlocked without any tokens. This does exclude motorbikes though.

---------------------
Remember to backup your newest EXE! somewhere so you can put it back when you're done.

**Ingame cash you do need**

1. Grab a old .exe of TDU2
2. Put it into your TDU2 file and replace the new one
3. Go ingame and go to showrooms that contain the new cars (Avoid Motorbike's! This will crash the game)
4. Once you own what you want, save and exit the game
5. Put back the latest .exe and enjoy.
## Post #594
- Username: Xarlith
- Rank: beginner
- Number of posts: 20
- Joined date: Tue May 17, 2011 8:32 am
- Post datetime: 2012-04-14T15:13:47+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Solve this puzzle for me. 
Why file "euro/bnk/frontend/allres/mapscreens/spots/ecd_ital_3210.bnk" in previous builds had proper hash (54596F35E55626A3) but the new "ecd_ital_3210.bnk" which is identical in every bit has different, invalid hash (54596F35E55121A7)?
## Post #595
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2012-04-14T15:23:16+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Xarlith
>
> Solve this puzzle for me. 
Why file "euro/bnk/frontend/allres/mapscreens/spots/ecd_ital_3210.bnk" in previous builds had proper hash (54596F35E55626A3) but the new "ecd_ital_3210.bnk" which is identical in every bit has different, invalid hash (54596F35E55121A7)?

I think it's connected with the problem of t4tbdyaa.bnk(t4tbdova.bnk).

I believe there was a similar issue with the old extractor, there was invalid (Aka: Unused BNK's) and TDU2 has double bnk's sometimes. This is why the "unused bin" was created when extracting TDU2. I'd have to go pages way back for me to find where it was talked about.

If that makes sense?
## Post #596
- Username: Xarlith
- Rank: beginner
- Number of posts: 20
- Joined date: Tue May 17, 2011 8:32 am
- Post datetime: 2012-04-14T16:59:05+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from toolieo
>
> If that makes sense?Maybe  

Anyway, the main priority is to find a way to get names of IG2 files (without modified exe it would be hard). In those IG2 are new tracks, that's why game crashes while entering race. Everything else seems to work as before. All i know is that IG2 should be in this directory: euro/bnk/ig2/
## Post #597
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2012-04-14T17:20:20+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Xarlith
>
> toolieo wrote:If that makes sense?  Maybe  

Anyway, the main priority is to find a way to get names of IG2 files (without modified exe it would be hard). In those IG2 are new tracks, that's why game crashes while entering race. Everything else seems to work as before. All i know is that IG2 should be in this directory: euro/bnk/ig2/

What about the new database? I've noticed using your extractor, what you have updated in the log it hasn't loaded any new cars or the actual new showroom locations etc.    

Could you post your newest one here? Just so I ain't missing anything.
## Post #598
- Username: Xarlith
- Rank: beginner
- Number of posts: 20
- Joined date: Tue May 17, 2011 8:32 am
- Post datetime: 2012-04-14T17:40:41+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Strange, new cars are in filelist above... Try this. It's all in one. Old filelist with polish language support which I updated long time ago + new DLC2.

I cant find anything helpful in db.
[filelist.7z](https://xentaxbackup.github.io/file/5304_filelist.7z)
## Post #599
- Username: toolieo
- Rank: veteran
- Number of posts: 123
- Joined date: Sun Mar 21, 2010 9:16 pm
- Post datetime: 2012-04-14T18:53:41+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Xarlith
>
> Strange, new cars are in filelist above... Try this. It's all in one. Old filelist with polish language support which I updated long time ago + new DLC2.

Thanks, did a complete new extract still the same.  I think something is missing or either that not extracting. I'll try and figure it out but all I know is it's still staying the same as "DLC1" and not DLC2 cars added or the features.


Edit: Figured it out, somehow your extractor log list is skipping or not replacing the old "db_data.cpr" causing it to extract the older one and not the newer one.

D6A460BCA2172216 "euro/bnk/database/db_data.cpr" 

Maybe move the extraction of database files to the bottom to be last extracted? Might fix it. Either way that's what made mine not work until I found it in "Unused bin" and renamed it and put it in.
## Post #600
- Username: Xarlith
- Rank: beginner
- Number of posts: 20
- Joined date: Tue May 17, 2011 8:32 am
- Post datetime: 2012-04-14T19:42:52+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

List is all right for me. Something with your directories messed it up, or you have different filelist.bat, or... Good that you figured it out  .
## Post #601
- Username: Axsis
- Rank: advanced
- Number of posts: 48
- Joined date: Fri Oct 21, 2011 7:55 pm
- Post datetime: 2012-04-14T20:36:52+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Hash is calculated for filename string, not for file contents. Files with the same content but different names will have different hashes. And files with different content but with same name (from updates, DLCs) will have same hash. So you must unpack updates in chronological order and overwrite files with same names with newer ones.

> Why file "euro/bnk/frontend/allres/mapscreens/spots/ecd_ital_3210.bnk" in previous builds had proper hash (54596F35E55626A3) but the new "ecd_ital_3210.bnk" which is identical in every bit has different, invalid hash (54596F35E55121A7)?
Just because it has different name.
## Post #602
- Username: tomsolo
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Sep 17, 2011 3:33 am
- Post datetime: 2012-04-16T07:37:10+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Xarlith
>
> toolieo wrote:If that makes sense?  Maybe  

Anyway, the main priority is to find a way to get names of IG2 files (without modified exe it would be hard). In those IG2 are new tracks, that's why game crashes while entering race. Everything else seems to work as before. All i know is that IG2 should be in this directory: euro/bnk/ig2/

Some ige files contain own name in description params.
## Post #603
- Username: Xarlith
- Rank: beginner
- Number of posts: 20
- Joined date: Tue May 17, 2011 8:32 am
- Post datetime: 2012-04-16T12:46:49+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I know, but not those from DLC2. The only things I managed to get with a little help of CE are the names of races but this knowledge is useless. For example name of track 21B950BA2039CE92.ig2 is "2 wheels" (Ibiza).
Tomsolo, you are the master of this file format. Help us  . Qverty abandoned TDU2, so unfortunately we can't count on him.
## Post #604
- Username: Chipicao
- Rank: ultra-veteran
- Number of posts: 476
- Joined date: Thu Feb 03, 2011 6:18 pm
- Post datetime: 2012-04-16T14:23:16+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Xarlith
>
> Solve this puzzle for me. 
Why file "euro/bnk/frontend/allres/mapscreens/spots/ecd_ital_3210.bnk" in previous builds had proper hash (54596F35E55626A3) but the new "ecd_ital_3210.bnk" which is identical in every bit has different, invalid hash (54596F35E55121A7)?
That's because the filename is wrong. Yes, I know that if you extract 54596F35E55121A7.bin you get a folder called ecd_ital_3210, but the actual bnk name is ecd_ital_3564.bnk.
It's the same thing with that t4tbdyaa.bnk. Eden works in mysterious ways 

I had some free time today and I decided to check the new DLC contents. I was able to figure out the names and paths of 364 new files, but sadly I still have a bunch of unknown bnk, ig2, xml and xmbf files (44 files in total). And guessing their names is pretty much impossible. I did't see you guys were already working on it, guess I'm too late...
## Post #605
- Username: Nobby
- Rank: veteran
- Number of posts: 109
- Joined date: Thu May 13, 2010 7:35 am
- Post datetime: 2012-04-21T18:47:35+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Am i right in thinking the file list creation is still in progress? In other words still not fully extractable. I saw a few people have logged a lot of new files but from my understanding there are still some files not done yet?
## Post #606
- Username: Xarlith
- Rank: beginner
- Number of posts: 20
- Joined date: Tue May 17, 2011 8:32 am
- Post datetime: 2012-04-22T03:15:45+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Nobby
>
> Am i right in thinking the file list creation is still in progress?Kind of. Unfortunately we are stuck for now.
> Reply from Nobby
>
> In other words still not fully extractable. I saw a few people have logged a lot of new files but from my understanding there are still some files not done yet?Even before DLC2 filelist wasn't fully completed, but game was 100% playable. From the practical point of view, we just need to find names of ig2 files but it's very hard without modified exe- like reading in complete darkness  . Other files that we do not have are not so important. For example my suspicion is that all remaining bnk's are not used by the game.

Here is a link for an actual version of the unpacker which I'm constantly updating - [http://www.mediafire.com/?9z1sk5qzawvihcz](http://www.mediafire.com/?9z1sk5qzawvihcz).
## Post #607
- Username: tomsolo
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Sep 17, 2011 3:33 am
- Post datetime: 2012-04-22T20:31:07+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Xarlith
>
> From the practical point of view, we just need to find names of ig2 files but it's very hard without modified exe- like reading in complete darkness  .

All ig2 filenames included the db_data database, just search filenames without extension and compare the existing files ig2 files. What remains, well, they are the missing files - online bike challenges.  If you remember the ig filenames a have a simple logic: eg. evha3ce1 = event hawai sector 3 ... or something similar.

Just a tipp, how to try identify, (difficult but maybe not impossible):

1. Start game without extraction.
2. Select an online challenge -> test run
3. Find memory this IGE2 file. Select a CP point block.
4. Search this array in remain ig2 files (with most hexeditor can be searched this.) You gut one hit.
5. Now we know what challenge what hashedname.ig2 file.
6. Choose one in the remain file names and try with extracted game. If no freeze == profit.
## Post #608
- Username: Xarlith
- Rank: beginner
- Number of posts: 20
- Joined date: Tue May 17, 2011 8:32 am
- Post datetime: 2012-04-22T22:01:26+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Very good tip. I was trying to do similar thing. I know which race has what hash... but the idea with eliminating known filenames - that might work  .

EDIT:
Haha. I got it! 14 new tracks in first attempt . New filelist tomorrow because it's late here. Thanks tomsolo.

```
E5E56F7526A27EB7 "euro/bnk/ig2/amz2dlc1.ig2"
21B950BA2039CE92 "euro/bnk/ig2/rmidlcm1.ig2"
21B950BA2039CE91 "euro/bnk/ig2/rmidlcm2.ig2"
21B950BA2039CE90 "euro/bnk/ig2/rmidlcm3.ig2"
21B950BA2039CE97 "euro/bnk/ig2/rmidlcm4.ig2"
21B950BA2039CE96 "euro/bnk/ig2/rmidlcm5.ig2"
21B950BA2039CE94 "euro/bnk/ig2/rmidlcm7.ig2"
D16C5BBA403A8E92 "euro/bnk/ig2/rmhdlcm1.ig2"
D16C5BBA403A8E91 "euro/bnk/ig2/rmhdlcm2.ig2"
D16C5BBA403A8E90 "euro/bnk/ig2/rmhdlcm3.ig2"
D16C5BBA403A8E97 "euro/bnk/ig2/rmhdlcm4.ig2"
D16C5BBA403A8E96 "euro/bnk/ig2/rmhdlcm5.ig2"
D16C5BBA403A8E95 "euro/bnk/ig2/rmhdlcm6.ig2"
D16C5BBA403A8E9B "euro/bnk/ig2/rmhdlcm8.ig2"
08858B3B67A102A5 "euro/bnk/ig2/smidlcm1.ig2"
F850803B07A242A5 "euro/bnk/ig2/smhdlcm1.ig2"
```

All DLC2 tracks, and one more. Same link for unpacker as before: [http://www.mediafire.com/download.php?9z1sk5qzawvihcz](http://www.mediafire.com/download.php?9z1sk5qzawvihcz). Have fun.
## Post #609
- Username: tomsolo
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Sep 17, 2011 3:33 am
- Post datetime: 2012-04-23T16:18:11+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Good work i will try 

How many files left in unused folder ?
## Post #610
- Username: Knyazev
- Rank: advanced
- Number of posts: 40
- Joined date: Sun Feb 20, 2011 8:24 am
- Post datetime: 2012-04-23T17:47:26+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from tomsolo
>
> Good work i will try 

How many files left in unused folder ?

21 files.
## Post #611
- Username: Xarlith
- Rank: beginner
- Number of posts: 20
- Joined date: Tue May 17, 2011 8:32 am
- Post datetime: 2012-04-23T19:01:35+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

For me and my friends it is 146 files left. But maybe we have another version of the game. Ahh I understand 21 unknown from DLC2. But there are 3 files which were unknown before, unused IG2 files and unused BNK. Maybe one of those bnk is used somewhere.
## Post #612
- Username: tomsolo
- Rank: beginner
- Number of posts: 23
- Joined date: Sat Sep 17, 2011 3:33 am
- Post datetime: 2012-04-23T22:32:30+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

These bnks is the hidden casino spots (Hairdresser and Surgery:

```
781F78236EE255E6.bin -> interior/icas_sur.bnk

```
## Post #613
- Username: chronicle
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Thu May 17, 2012 10:24 am
- Post datetime: 2012-05-17T07:19:49+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

guys, can anyone help extract files from .bnk files game Alone In The Dark? I tryed script but it's don't help.
And I need all structure files, all directories when they put in. I hope somebody help me with this.
## Post #614
- Username: madmax
- Rank: n00b
- Number of posts: 16
- Joined date: Tue Jun 07, 2011 3:45 pm
- Post datetime: 2012-05-22T14:31:10+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I haven't played the game this year, and now I tried to play it, and it won't start.
I'm using "TDU2 Light Launcher.exe", and I see the black screen with a white loading icon (bottom right) for a few seconds and then it just closes and I'm back in Windows. No error messages anywhere. I even re-installed TDU2 and unpacked .big files again, but nothing changed, it still closes after 2 seconds.  


Any ideas?
## Post #615
- Username: Cypher
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Sun Feb 12, 2012 10:20 pm
- Post datetime: 2012-05-29T10:09:26+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

I've opened the bnk files !

but how I can open the Files in it !!!!?

like = 3DD,3DG,2DM,2DB   !

can anyone help me out plz :/
## Post #616
- Username: madmax
- Rank: n00b
- Number of posts: 16
- Joined date: Tue Jun 07, 2011 3:45 pm
- Post datetime: 2012-05-29T10:23:09+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Cypher
>
> I've opened the bnk files !
How did you do it?   
Would you mind telling us?
## Post #617
- Username: Nobby
- Rank: veteran
- Number of posts: 109
- Joined date: Thu May 13, 2010 7:35 am
- Post datetime: 2012-06-03T16:54:44+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from madmax
>
> Cypher wrote:I've opened the bnk files !
How did you do it?   
Would you mind telling us?

Id imagine he used the mini bnk manager to open the bnk's. Its part of the tdu modding tools package.

Also.... you can open the models using the scripts posted back on p8 ( i think it was page 8 )
## Post #618
- Username: headrushmayor
- Rank: beginner
- Number of posts: 28
- Joined date: Mon Nov 29, 2010 12:03 pm
- Post datetime: 2012-09-02T10:05:51+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

hi all i been trying work outhow get audio out file i just try Dragon unpackerv5.6.2 it will take 1 or 2 files out of file and make them in to mp1 format 1 mono ch, 44.1 khz, 16bit 30mili sec long
## Post #619
- Username: Nobby
- Rank: veteran
- Number of posts: 109
- Joined date: Thu May 13, 2010 7:35 am
- Post datetime: 2012-10-05T23:19:50+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from headrushmayor
>
> hi all i been trying work outhow get audio out file i just try Dragon unpackerv5.6.2 it will take 1 or 2 files out of file and make them in to mp1 format 1 mono ch, 44.1 khz, 16bit 30mili sec long

Again just use the MiniBNK manager. Its designed specifically to open TDU2 BNK's.. any bnk's all bnk's.. Doesnt matter if its Game models, Game textures, sound effects or music. They ALL work exactly the same.. Just... Load bnk, unpack, edit file, Repack. Run game.

Some of us have already played with the sounds. i created 3 new GPS sound mods ( that american female voice was annoying ) I also changed all the commercials that get played on the radio and several people have done new car sound mods, so the cars have better engine noise and such.
## Post #620
- Username: Ekey
- Rank: M-M-M-Monster veteran
- Number of posts: 1823
- Joined date: Wed Mar 31, 2010 1:54 pm
- Post datetime: 2013-01-28T19:51:29+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Well about unpacked files from BIG DLC's - seems encrypted. Anyway i can't check because every time if i try run game i get error - TDU2 QA V097 has stopped working. I do not know how to fix it.

PS: Sorry for necroposting
## Post #621
- Username: Axsis
- Rank: advanced
- Number of posts: 48
- Joined date: Fri Oct 21, 2011 7:55 pm
- Post datetime: 2013-01-30T23:59:08+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Ekey, tried on TDU2v082 - all extracted files are different by size, but all equal by content.
it seems like something wrong with offset calculation in your program. 
it's not an encryption - all files extracted with bms script are normal.
## Post #622
- Username: Ekey
- Rank: M-M-M-Monster veteran
- Number of posts: 1823
- Joined date: Wed Mar 31, 2010 1:54 pm
- Post datetime: 2013-01-31T23:31:48+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Axsis
>
> Ekey, tried on TDU2v082 - all extracted files are different by size, but all equal by content.
it seems like something wrong with offset calculation in your program.

Download: See below.
## Post #623
- Username: neurocrash
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Wed Jun 26, 2013 4:49 pm
- Post datetime: 2013-06-28T01:00:15+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Hi,

I'm new here, but have spent several hours trying to determine how to use these tools for customization.  I have a few questions and hope that someone can help:

1. Is the current revision of the game possible to unpack and customize?
2. Which region will work with these tools (I understand the Steam version is not recommended)?
3. Which version or user created scripting is most current? (I have experimented with two different QuickBMS packages, which either don't work with my region or version)?

As with TDU1, I wish to remove traffic, customize some graphics, etc.

I would greatly appreciate your assistance
--
Edit

I've tried the Quickbms and scripting packages from here and here:

From Vagos21

[viewtopic.php?f=10&t=5747&p=51651&hilit ... bms#p51651](http://forum.xentax.com/viewtopic.php?f=10&t=5747&p=51651&hilit=Test+Drive+Unlimited+2+quickbms#p51651)

From Chipicao

[viewtopic.php?f=10&t=5747&p=51760#p51760](http://forum.xentax.com/viewtopic.php?f=10&t=5747&p=51760#p51760)

as well as the Bigunpacker from Ekey above.

Unfortunately none of these seem to work with the current update of TDU2.  If any of the following are present, even as unpacked contents, it crashes to desktop.

TDU2DLC2v025.big
TDU2DLC2v026.big
TDU2DLC2v028.big
TDU2DLC2v031.big
TDU2DLCEXPLOv017.big
TDU2DLCEXPLOv023.big
TDU2DLCEXPLOv024.big
TDU2DLCEXPLOv027.big
TDU2v082.big
TDU2v083.big
TDU2v086.big
TDU2v097.big

I guess the only option is to run completely unpatched?

Thanks
## Post #624
- Username: Nobby
- Rank: veteran
- Number of posts: 109
- Joined date: Thu May 13, 2010 7:35 am
- Post datetime: 2013-07-29T23:31:12+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Yes its possible with the current build version of the game.

Personally i would recommend following [THIS](http://www.tdumods.com/e107_plugins/forum/forum_viewtopic.php?601) guide..
This requires you have the None steam "rest of world" version of TDU2. you can tell which version you have.....
There will be one of the .Big files with a name like "bigfile_EU_1.big" or "bigfile_RUS_1.big"  One is Russian one is Euro/rest of world.
You need to have the Euro/ROW version. ( if you dont have that version you do not need to worry) If you have a legit retail version on disc or from steam, you can DL a pirate copy ( as a digital backup) and use your cd key with it. I had to DL a pirate copy because my cd wouldnt install ( even after they changed it at the shop ) You just have to remember NOT to apply any cd crack included, you dont need it if you have a legit code.. ( if you are already running pirate, then im sure you already know what to do.. )
I would recommend using the RELOADED version as that is known to be the Euro version..

There are several things that cause people problems when unpacking.... If you have the game installed on your system drive (usually C: ) Then 99-100 times you will need to disable UAC ( user account control ) in windows. You will probably also need to run the unpacker in Admin mode. And regarding Crashing to desktop...  You cannot have Both packed and unpacked data present in the game folder at the same time. You either have the .Big and .Map files in the main install folder ( the same one as the EXE ) Orrrrr you have the Unpacked data which resides in your tdu/euro/bnk folder. if you have the data unpacked you MUST move the .big and.map files to another folder ( even if you create a folder called Backup in your install folder and put them in there) but you cannot have both the packed .big files in your install folder and the unpacked data in the euro/bnk folder at the same time, it always crashes the game.

If you are interested in unpacking, modding, changing files. then there are 2 good sites you should look up. 
The first is the link i gave above [TduMods.com](http://www.tdumods.com) thats a site i help run, we have tutorials explaining all sorts of cool things and even a few exclusive mods, like new GPS mods, Teleport anywhere..
And the second is.. TDU Central aka [TurboDuck](http://forum.turboduck.net/forum.php) They have been around since way before TDU1 that was the site that created the original TDUmodding tools which let you change almost any aspect of a car and was the biggest resource for tdu modding..

I know this reply is about a month too late, but im sure people are still asking questions about this.
## Post #625
- Username: neurocrash
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Wed Jun 26, 2013 4:49 pm
- Post datetime: 2013-07-29T23:56:35+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Ok, maybe I have the wrong region of the game disc.  I just ordered what appears to be a European release since it has a PEGI rating.  I'll try that and report back.

Thanks for the reply!
## Post #626
- Username: Nobby
- Rank: veteran
- Number of posts: 109
- Joined date: Thu May 13, 2010 7:35 am
- Post datetime: 2013-08-10T23:55:12+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from neurocrash
>
> Ok, maybe I have the wrong region of the game disc.  I just ordered what appears to be a European release since it has a PEGI rating.  I'll try that and report back.

Thanks for the reply!

why buy/order as second copy.. You can legally download a pirate copy from the internet.. You own a copy of the game ( you have a disc) so you have a cd/ serial code.. Just download a euro version of the game ( we recommend the RELOADED copy) and when it asks for a cd key give it the one you already have..

Any game, movie or music you own on cd/dvd, you can legally have a digital backup in case it gets damaged.

I can confirm the euro version has a Pegi rating.. Well my box does anyway and im in england
## Post #627
- Username: neurocrash
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Wed Jun 26, 2013 4:49 pm
- Post datetime: 2013-08-11T00:11:11+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

> Reply from Nobby
>
> 
Any game, movie or music you own on cd/dvd, you can legally have a digital backup in case it gets damaged.

Hi,

I tried downloading one, but the image that I got unpacked incorrectly after updating, so it probably wasn't the correct region.  Also, the code I have is from my copy on Steam, and while it works, I would like to prevent an association with that license causing problems on Steam.  I don't mind spending another $20 if I can play this game without traffic.  They should have made that a DLC!



Also, in the US, fair use rights conflict with copyright privileges, such that copyright holders win.  While on one hand we are supposed to have the right to have backups, the DMCA says that anything that interferes with or circumvents copy protection is illegal, rendering the fair use rights meaningless.  This would probably include the creation or use of protected disk images, transferring license codes, and so on.  The program used to create backup images of protected CDs or DVDs, for example, is illegal.  It seems that in this country, we don't own any of the media that we buy, we are just granted permission to rent it on their terms.

Thanks!
## Post #628
- Username: Nobby
- Rank: veteran
- Number of posts: 109
- Joined date: Thu May 13, 2010 7:35 am
- Post datetime: 2013-08-15T18:06:12+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

But you are NOT circumventing anything.. thats the point.. If you bought the game, from steam or from a store you have a serial key, THAT allows you to play any version, pirate or legit, without needing to bypass any sort of protection. Also while tdu can be bought and therefore linked to steam, there is nothing from the game that talks to steam.  People used to worry a lot about modding/cheating/hacking the game and getting a possible VAC ban. It has never happened and we know this because it was found out quite early that the game doesnt actually talk to steam, other than to say the exe is running, which i guess steam does by knowing what games to look for in your list. 
The images are not protected and the programs used to create them are standard commercial disk image programs that anyone can buy and use.. ( if you have a thousand photos from your life, instead of packing them into a rar file you can just pack them all in an ISO image) so no the image creation programs are not illegal and making the disk image is as simple as putting a cd in your drive and then loading the program and clicking "create image" it's no harder than creating a rar file, so its really not protected at all. You are also NOT transferring licence codes.  you have a paid for the right to use TDU2,  you are using TDU2, regardless where you got it from, if its using your code you got when you bought the game, then it is your game..

But there is nothing illegal about downloading something if you have already paid for it. If you give away your copy or sell it, thats illegal,because someone who has not paid for it is getting it. but as long as you hold the original game, you can keep the copy..

I know several people that bought the game on steam, but got the wrong version, so downloaded the game from somewhere else and used the serial they got with the steam copy, they can go online and drive with the rest of us, they can do everything anyone else can do to the game modding wise and they have never had any issues with steam or even the game complaining about they version of the game. Or be needing to use something to get past the game protection or anything like that, its completely fine... When you use your legit serial number on a regular install version, it lets you add it to securerom ( which is what the crack dodges) securerom removes the need to use a disk to play the game. so your game runs perfectly fine and normal you can still get updates and all aspects of the game are fully useable. There really is no issue.. As long as you have a legit version of the game..


ANYWAY this is taking the thread way of point.  all i was trying to say originally is that its fine to use a downloaded copy that works better for the purpose of modding, if you own a copy of the game, thus having a legit and unique cd key..

Back to the point of the thread, Yes the game is still unpackable and still moddable just as easy as it always has been.
## Post #629
- Username: neurocrash
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Wed Jun 26, 2013 4:49 pm
- Post datetime: 2013-08-15T21:55:29+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Regarding the other stuff, I was reacting partially to the discussions in this thread about VAC and not wanting my key to get disabled or anything like that.  I personally have no interest in playing online, but activation will be necessary if I'm installing and uninstalling to try and get things working.  I'll be glad if this isn't a problem.

I'll try it this weekend.  In my previous attempt, the unpacking process did not work properly after the game had been updated, so I am currently running the unpatched version which is missing added cars, missions, motorcycles, whatever.  I hope this was related to having the wrong region installed.

Thanks!
## Post #630
- Username: Ekey
- Rank: M-M-M-Monster veteran
- Number of posts: 1823
- Joined date: Wed Mar 31, 2010 1:54 pm
- Post datetime: 2014-03-18T15:13:54+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Updated.

```
* Fixed small problem while unpacking files, when unpacker create empty folders.
* Fixed problem while work with large archives.
* Base names updated. Added ~3000 filenames and moved in one single file.
```


[TDU2BIGUnpacker_0.0.2b_r7.7z](https://xentaxbackup.github.io/file/7107_TDU2BIGUnpacker_0.0.2b_r7.7z)
## Post #631
- Username: John1990
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Wed Mar 16, 2016 1:28 am
- Post datetime: 2016-03-16T12:06:58+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Hello1 I'm new here and i could use some help. I usecd the tdu2 big unpacket to extract the .map files and now i have a bnk files. How do i extract the content of the .bnk file?
## Post #632
- Username: kmixlol
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Sat Nov 17, 2018 5:44 am
- Post datetime: 2018-11-17T01:41:20+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

you have to open tdu modding tools tdu mt 2 made by djey
## Post #633
- Username: AxelNoir
- Rank: mega-veteran
- Number of posts: 247
- Joined date: Sat Feb 03, 2018 4:24 am
- Post datetime: 2021-04-23T15:19:31+00:00
- Post Title: Re: Test Drive Unlimited 2 [2011/BNK]

Has anyone managed to get Tess Wintory's model by any chance?
