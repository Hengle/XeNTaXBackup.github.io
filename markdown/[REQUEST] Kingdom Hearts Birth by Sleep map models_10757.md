## Post #1
- Username: ErryK
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Mon May 13, 2013 4:01 am
- Post datetime: 2013-09-06T03:25:14+00:00
- Post Title: [REQUEST] Kingdom Hearts Birth by Sleep map models

Hi, I'm new to Xentax and I have searched all over the forum for a solution to this; I want to be able to view the maps from Birth by Sleep, however there is no .pmp viewer and I'm able to unpack the .pmo files through Keytotruth's modding station however I want to be able to have the entire map in one piece. Is that possible at all besides extracting each .pmo from the .pmp and converting it into a filetype I can use with a 3D modeling program?

Thanks for any help. And if this has been answered, could you link me to it?
## Post #2
- Username: shakotay2
- Rank: MEGAVETERAN
- Number of posts: 4300
- Joined date: Fri Apr 20, 2012 4:24 pm
- Post datetime: 2013-09-06T19:21:00+00:00
- Post Title: [REQUEST] Kingdom Hearts Birth by Sleep map models

Welcome to the forum!   You should provide more input. Maybe upload a map sample.

Search for "Kingdom Hearts" in this forum. There are some hits.
## Post #3
- Username: ErryK
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Mon May 13, 2013 4:01 am
- Post datetime: 2013-09-08T01:58:05+00:00
- Post Title: [REQUEST] Kingdom Hearts Birth by Sleep map models

The closest example I can get is something like this:
[http://i.imgur.com/Tlelson.png](http://i.imgur.com/Tlelson.png)

This is the KH2 map of Agrabah in a map viewer. However KH2 maps have a .map extension which is viewable in these kinds of programs, but BBS maps need to be decompiled, converted or rebuilt in a 3D model viewer. What I'm asking is if there has been a method or way found to view these maps from their native .pmp files or if there's another way.
## Post #4
- Username: shakotay2
- Rank: MEGAVETERAN
- Number of posts: 4300
- Joined date: Fri Apr 20, 2012 4:24 pm
- Post datetime: 2013-09-08T05:23:51+00:00
- Post Title: [REQUEST] Kingdom Hearts Birth by Sleep map models

> Reply from ErryK
>
> What I'm asking is if there has been a method or way found to view these maps from their native .pmp files or if there's another way.I'm not aware of a method but could you upload a (small) .pmp map and one or two .pmos from it, please?
## Post #5
- Username: ErryK
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Mon May 13, 2013 4:01 am
- Post datetime: 2013-09-08T19:30:13+00:00
- Post Title: [REQUEST] Kingdom Hearts Birth by Sleep map models

[https://www.dropbox.com/s/505b07g068w0be5/rg_14.pmp](https://www.dropbox.com/s/505b07g068w0be5/rg_14.pmp)

Here is the smallest Radiant Garden map. I know that somewhere there are viewable maps but I just haven't found them, searching here and through Google, bring up no results but attempts on getting the maps.
## Post #6
- Username: shakotay2
- Rank: MEGAVETERAN
- Number of posts: 4300
- Joined date: Fri Apr 20, 2012 4:24 pm
- Post datetime: 2013-09-09T12:46:48+00:00
- Post Title: [REQUEST] Kingdom Hearts Birth by Sleep map models

Thx. 
Seems there's some index table at the end-of-file but I don't know how to use it.

So due to the lack of some face indices I created them like this f 1 2 3, f 4 5 6
Gives some structures but they don't look like "maps":
[](http://www.pic-upload.de/view-20671000/PMOs.jpg.html)

(Maybe the sphere being the sky?)

Your unpacked PMOs containing some indices?
## Post #7
- Username: ErryK
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Mon May 13, 2013 4:01 am
- Post datetime: 2013-09-11T06:19:32+00:00
- Post Title: [REQUEST] Kingdom Hearts Birth by Sleep map models

I can get you the separate pmos of the map but I don't know if that'll do anything. The sphere is the skymap of the area, afaik.
## Post #8
- Username: shakotay2
- Rank: MEGAVETERAN
- Number of posts: 4300
- Joined date: Fri Apr 20, 2012 4:24 pm
- Post datetime: 2013-09-11T08:26:22+00:00
- Post Title: [REQUEST] Kingdom Hearts Birth by Sleep map models

> Reply from ErryK
>
> I can get you the separate pmos of the map but I don't know if that'll do anything.Well, if you want a solution, it will be required (but maybe not sufficient).

But that's upon your decision. 2 or three pmos would be enough (as I wrote some posts above).

If the pmos are just a 1-to-1 copy from the map file, well, then you would be right.
(But hopefully they contain some helpful indices.)
## Post #9
- Username: ErryK
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Mon May 13, 2013 4:01 am
- Post datetime: 2013-09-13T01:28:06+00:00
- Post Title: [REQUEST] Kingdom Hearts Birth by Sleep map models

[https://www.dropbox.com/s/kjj7imfxb9ni4x6/rg_09.rar](https://www.dropbox.com/s/kjj7imfxb9ni4x6/rg_09.rar)

Here is a few .pmo files from a map (.pmp).
## Post #10
- Username: shakotay2
- Rank: MEGAVETERAN
- Number of posts: 4300
- Joined date: Fri Apr 20, 2012 4:24 pm
- Post datetime: 2013-09-13T09:56:03+00:00
- Post Title: [REQUEST] Kingdom Hearts Birth by Sleep map models

thx, but there's no access due to "too much traffic". Could you please upload it elsewhere (maybe [http://www.uploadmb.com](http://www.uploadmb.com))?
## Post #11
- Username: ErryK
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Mon May 13, 2013 4:01 am
- Post datetime: 2013-09-13T18:19:56+00:00
- Post Title: [REQUEST] Kingdom Hearts Birth by Sleep map models

[https://mega.co.nz/#!4hsy1RiT!MnkK2UpeE ... 31imqZG0j0](https://mega.co.nz/#!4hsy1RiT!MnkK2UpeE0nQcscnmbL61V7PO2Uuy3g0y31imqZG0j0)

That should work.
## Post #12
- Username: shakotay2
- Rank: MEGAVETERAN
- Number of posts: 4300
- Joined date: Fri Apr 20, 2012 4:24 pm
- Post datetime: 2013-09-13T19:10:52+00:00
- Post Title: [REQUEST] Kingdom Hearts Birth by Sleep map models

Thx again. 2.pmo seems to contain some kind of index table (but no vertices). 

I don't see a chance to get the "indices riddle" solved theoretically (except by using a debugger).

An approach would be to replace groups of indices for example in rg_14.pmp (from 0x62400 to 0x62C8F) by zeroes and see what happens ingame to get a clue what the indices mean.
## Post #13
- Username: FirstNameBasis
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Thu Sep 22, 2016 11:38 am
- Post datetime: 2016-09-23T04:57:41+00:00
- Post Title: [REQUEST] Kingdom Hearts Birth by Sleep map models

> Reply from shakotay2
>
> Thx again. 2.pmo seems to contain some kind of index table (but no vertices). 

I don't see a chance to get the "indices riddle" solved theoretically (except by using a debugger).

An approach would be to replace groups of indices for example in rg_14.pmp (from 0x62400 to 0x62C8F) by zeroes and see what happens ingame to get a clue what the indices mean.

I Wanna test this tomorrow even though im kinda new to hex editing. It seems highly worth a shot, Considering the odds, to see if there's a way to get maps to display like OP asked.

Even though its been 3 years it's still difficult to find such programs, if they even exist.

I assume they dont.

Yet.
## Post #14
- Username: Acewell
- Rank: Moderator
- Number of posts: 719
- Joined date: Tue Jul 06, 2010 3:55 am
- Post datetime: 2016-09-23T07:27:51+00:00
- Post Title: [REQUEST] Kingdom Hearts Birth by Sleep map models

I took a quick look. It's best off to just tell us what platform the files come from. I'm going to assume PS2 by looking at the data.

Anyway shakotay2 is correct. You must re-generate face indices based on face draw direction flags included in the vertices. The flags seem to be the most common ones used across various PS2 games (0x40, 0x80). I would suggest taking a look at Chrrox's Time Splitters 2 Xbox Noesis importer. The same code should work.

Edit: Nevermind, seems I'm looking at the wrong files and the links are broken (too much traffic).
Cheers.
## Post #15
- Username: FirstNameBasis
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Thu Sep 22, 2016 11:38 am
- Post datetime: 2016-09-26T04:56:13+00:00
- Post Title: [REQUEST] Kingdom Hearts Birth by Sleep map models

> Reply from Gh0stBlade
>
> I took a quick look. It's best off to just tell us what platform the files come from. I'm going to assume PS2 by looking at the data.

Anyway shakotay2 is correct. You must re-generate face indices based on face draw direction flags included in the vertices. The flags seem to be the most common ones used across various PS2 games (0x40, 0x80). I would suggest taking a look at Chrrox's Time Splitters 2 Xbox Noesis importer. The same code should work.

Edit: Nevermind, seems I'm looking at the wrong files and the links are broken (too much traffic).
Cheers.

I havent had time to test what he said but i can reupload some suspected map models that are still compressed/encrypted tomorrow if your still interested.
Its also for the psp, as far as ive been reading people have always had trouble breaking psp games because of the encryption format.
## Post #16
- Username: FirstNameBasis
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Thu Sep 22, 2016 11:38 am
- Post datetime: 2016-09-28T15:03:04+00:00
- Post Title: Re: [REQUEST] Kingdom Hearts Birth by Sleep map models

Well here's one area from the Castle of Dreams Level, every level is separated into their load zones (Probably) in the data dump so i chose the biggest file.

[https://mega.nz/#!i9ZXHKoB!aiqnH0U0P05U ... NcoJdv5bmE](https://mega.nz/#!i9ZXHKoB!aiqnH0U0P05UItrmcDZbpmK3PQpFs24poNcoJdv5bmE)

Edit:
Looking at the hex while taking a break looking for the BG Music files i found some recognizable words after the initial "PMO" and a lot of lines of symbols.

PMO *Other Symbols and Dots*
cd01_bg01 *Other Symbols and Dots*
cd01_sky00 *Other Symbols and Dots*
*Other Symbols and Dots*

After extracting the files using KeyToTruth's program it gives a folder with pmo's and a .cmp file, i tried opening it with Noesis but it did not work even with the multiple kingdom hearts plug ins.
After looking a the hex for the .cmp file it seems to just be a bunch of info for The modding station to reference when locating and putting the file(s) [.pmo(s)] back together.

Looking at the extracted .pmo(s) separately works fine with noesis and the BBS plug-in but that's not the goal of the thread, the goal is to see them all compiled together like the KH2 map op posted earlier. c:

Edit again:
Comparing the first bit of hex info i found with the extracted .pmo(s), The First .pmo file labeled "1.pmo" shows the skybox mentioned earlier in hex but im unsure about what the bg01 is since i assume all of that hex info from earlier is supposed to be from the first encountered .pmo.
I didnt count how many .pmo(s) that were in the .pmp hex to compare with the extracted .pmo(s) but it rust the program did what it says it does correctly so maybe the bg01 is music or another background file?

Edit once more:
I keep looking through the hex code for the initial .pmp file and with every PMO header in it there are sub file names like;

cd01_hs00
cd01_fl00
cd01_fl01
cd01_wl02

And so on. These files are not shown when the .pmo(s) are extracted but i hypothesize that they are either assets embedded to be used for each .pmo like textures and stuff or the chance that they just arnt being extracted at all.
## Post #17
- Username: shakotay2
- Rank: MEGAVETERAN
- Number of posts: 4300
- Joined date: Fri Apr 20, 2012 4:24 pm
- Post datetime: 2016-09-28T16:57:35+00:00
- Post Title: Re: [REQUEST] Kingdom Hearts Birth by Sleep map models

> Reply from FirstNameBasis
>
> Looking at the extracted .pmo(s) separately works fine with noesis and the BBS plug-in but that's not the goal of the thread, the goal is to see them all compiled together like the KH2 map op posted earlier. c:
[...]
I didnt count how many .pmo(s) that were in the .pmp hex to compare with the extracted .pmo(s)50 4D 4F 00 ("PMO", 0) is contained 147 times in the pmp file.

From my experience your infos are to vague to arouse interest, just my two cents. What is the contence of the cmp file, for example?
You also could show one or two extracted pmos at least (where you said it works with Noesis).

It would be interesting how Noesis builds the face indices.
My attempt with autocreated ones:



cd_01-pmp.jpg (87.94 KiB) Viewed 160 times
## Post #18
- Username: FirstNameBasis
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Thu Sep 22, 2016 11:38 am
- Post datetime: 2016-10-04T01:58:26+00:00
- Post Title: Re: [REQUEST] Kingdom Hearts Birth by Sleep map models

> Reply from shakotay2
>
> FirstNameBasis wrote:Looking at the extracted .pmo(s) separately works fine with noesis and the BBS plug-in but that's not the goal of the thread, the goal is to see them all compiled together like the KH2 map op posted earlier. c:
[...]
I didnt count how many .pmo(s) that were in the .pmp hex to compare with the extracted .pmo(s)50 4D 4F 00 ("PMO", 0) is contained 147 times in the pmp file.

From my experience your infos are to vague to arouse interest, just my two cents. What is the contence of the cmp file, for example?
You also could show one or two extracted pmos at least (where you said it works with Noesis).

It would be interesting how Noesis builds the face indices.
My attempt with autocreated ones:
The attachment cd_01-pmp.jpg is no longer available

Sorry about that, here are screenshots of multiple things!



This is whats inside of the .cmp File from the Hex editor, Noesis does not recignise it as a mesh or texture of any kind and it seems to just hold information for where all the files are located for inserting. But im not 100% on it. Screenshot (442).png (123.19 KiB) Viewed 150 times



And here's a link to the extraction program you can use to extract the .pmp i sent earlier, i cant upload the already extracted contents because its too many. The only thing that does not work (For me at least) is the Animation Extractor but ive only been using the .pmo, .pmp, and the initial .DAT extractors anyways but it has many functions that work other than those.

[https://www.dropbox.com/sh/83276imhjk09 ... ZvbXa?dl=0](https://www.dropbox.com/sh/83276imhjk095fk/AAA6w7DiakiSeFRJbn3cZvbXa?dl=0)

the only thing you'd have to update the Noesis Program included in the package for it to run better, its 3 years old.


This is what i believe to be what your program tried to render, it's a Sky Box and the first .pmo in the extracted Folder.
[https://mega.nz/#!e4YEGDJY!kc85ZluPGB5f ... AAeA6SOCt8](https://mega.nz/#!e4YEGDJY!kc85ZluPGB5fQcCPy54mzq4fjarDmXB0GAAeA6SOCt8)

These are just other Examples of Rendered Assets from Noesis. (I wouldve used Photobuckt but it runs extremely slow on my Pc for whatever reason.)
[https://mega.nz/#!rxQiTTiD!A-4-ejszexLQ ... xfzlvlX33k](https://mega.nz/#!rxQiTTiD!A-4-ejszexLQYJbp5FOnnmO47Zwm7y8kpxfzlvlX33k)
[https://mega.nz/#!DtBFiIJK!m5ea78eHzV48 ... pQwKfAKgI0](https://mega.nz/#!DtBFiIJK!m5ea78eHzV48uQ_HZUqxQYBn1ht1PXgRUpQwKfAKgI0)
[https://mega.nz/#!T9JCBJqR!BYBVAWh-nLeN ... eNw3E3jTzE](https://mega.nz/#!T9JCBJqR!BYBVAWh-nLeNA14dtYaGiCK0mGN6qcfOyeNw3E3jTzE)
## Post #19
- Username: shakotay2
- Rank: MEGAVETERAN
- Number of posts: 4300
- Joined date: Fri Apr 20, 2012 4:24 pm
- Post datetime: 2016-10-08T08:02:52+00:00
- Post Title: Re: [REQUEST] Kingdom Hearts Birth by Sleep map models

> Reply from FirstNameBasis
>
> And here's a link to the extraction program you can use to extract the .pmpExtract.exe crashes in my Win7.

> the only thing you'd have to update the Noesis Program included in the package for it to run better, its 3 years old.Does this "Noesis Program included in the package" have a name?

Guess you're talking of the kingdom_hearts-dlls?

The kingdom_hearts_bbs source I have is from November 2010.
Also I'd need a pmo that fails in Noesis, since your Extract.exe doesn't work for me.
## Post #20
- Username: FirstNameBasis
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Thu Sep 22, 2016 11:38 am
- Post datetime: 2016-10-08T23:54:20+00:00
- Post Title: Re: [REQUEST] Kingdom Hearts Birth by Sleep map models

> Reply from shakotay2
>
> Extract.exe crashes in my Win7.

Does this "Noesis Program included in the package" have a name?

You have to download everything in the dropbox as a Zip file and then once you extract the contents all into one folder you have to run the Modding Station.exe and go about your extracting and Inserting that way. The other programs like Extract.exe and Insert.exe are only ran by the Modding Station.exe.
Inside the EXTRA Folder are other programs that are used only by the Modding Station, Some .txt files that are for describing what some files are and a How to use file that will help with extracting stuff, A resource folder that empty for reasons I was never told, and the Folder labeled Noesis.
Inside of the Noesis Folder is the noesis program i was talking about that needs to be updated and a bunch of plug ins, Inside of a plug ins folder, Including the kingdom_hearts_bbs.dll and other kingdom hearts plug ins.

> Reply from shakotay2
>
> 
The kingdom_hearts_bbs source I have is from November 2010.
Also I'd need a pmo that fails in Noesis, since your Extract.exe doesn't work for me.

A .pmo that Fails to open in Noesis? uumm...I guess without the BBS plug in for noesis it should fail to open if thats what your asking.
Other than that Noesis will open any Model/Texture file With that BBS Plug-in for BBS files.
The unextracted map files are the .pmp Files and those are the ones Noesis cant open but the Modding station can Extract the Model Contents into Readable .pmo Files.

I'd Upload a screenshot of what the Program looks like but the file is too big, probably because of the programs Background picture detail.
And As far as i know the Modding Station only works with the Japanese Final Mix Version of BBS but there's an english patched version you can get that was patched by the same guy who made this mod tool. im unsure about the policy on linking to Iso's even out of print so ill refrain from doing that unless stated otherwise i suppose.
## Post #21
- Username: shakotay2
- Rank: MEGAVETERAN
- Number of posts: 4300
- Joined date: Fri Apr 20, 2012 4:24 pm
- Post datetime: 2016-10-09T09:30:23+00:00
- Post Title: Re: [REQUEST] Kingdom Hearts Birth by Sleep map models

> Reply from FirstNameBasis
>
> A .pmo that Fails to open in Noesis?upps, sry, seems I've lost the track.

The goal was to get the pmos compiled together into one map, as you wrote before.

Did you try the batch process in Noesis? (menu tools)
You could create a bunch of obj files this way.

(for blender there's a py script to import those obj files then all together)
