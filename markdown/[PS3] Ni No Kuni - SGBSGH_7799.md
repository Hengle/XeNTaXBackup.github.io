## Post #1
- Username: Droolie
- Rank: veteran
- Number of posts: 114
- Joined date: Fri Aug 19, 2005 11:31 pm
- Post datetime: 2011-12-03T00:21:15+00:00
- Post Title: [PS3] Ni No Kuni - SGB/SGH

Hey there,

I am ripping music from the new Japanese game Ni No Kuni (developed by Level-5 working with Studio Ghibli) and it uses SGB/SGH files. I know what they should be and that they should be playable in VGMStream, but they aren't - looks like they're a bit different.
Here are some samples: [http://www.box.com/s/5u71lv61vb9npndzske8](http://www.box.com/s/5u71lv61vb9npndzske8)
Can anyone take a look please?

Thanks!
Droolie.
## Post #2
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2011-12-30T05:05:35+00:00
- Post Title: [PS3] Ni No Kuni - SGB/SGH

Did you get this fixed yet? I am currently working on extracting all assets from ni no kuni. Looks like you are extracting data from the wrong offsets... so my guess is your ripper is bad. That first line of the first file is not the start of an audio file. Look at offset 0x55A52F90 of hd01.adat. That is the start of bg0000. Yours doesn't start out like that. If you used offzip, you may have to merge some files generated by offzip since ni no kuni compresses its data in 64 KB chunks.
## Post #3
- Username: Droolie
- Rank: veteran
- Number of posts: 114
- Joined date: Fri Aug 19, 2005 11:31 pm
- Post datetime: 2011-12-30T10:12:11+00:00
- Post Title: [PS3] Ni No Kuni - SGB/SGH

> Reply from howfie
>
> Did you get this fixed yet? I am currently working on extracting all assets from ni no kuni. Looks like you are extracting data from the wrong offsets... so my guess is your ripper is bad. That first line of the first file is not the start of an audio file. Look at offset 0x55A52F90 of hd01.adat. That is the start of bg0000. Yours doesn't start out like that. If you used offzip, you may have to merge some files generated by offzip since ni no kuni compresses its data in 64 KB chunks.
I don't think my ripper's bad at all... the file bg0000.sgh starts at the offset you mean, the file bg0000.sgb is what follows.
Are the files playable for you then?

Thanks for the reply, though. I was starting to think nobody would even bother.
## Post #4
- Username: snakemeat
- Rank: advanced
- Number of posts: 45
- Joined date: Wed Jan 28, 2009 12:00 am
- Post datetime: 2012-01-17T02:45:51+00:00
- Post Title: [PS3] Ni No Kuni - SGB/SGH

These are SGH/SGB files with AC3 data.  I'm pretty sure that support hasn't been added to VGMStream yet though.  For now, rename the *.SGB files to *.AC3 to listen and use an AC3 plugin or whatever.  Unfortunately, the loop info will be lost without the info from the .SGH files.
## Post #5
- Username: Droolie
- Rank: veteran
- Number of posts: 114
- Joined date: Fri Aug 19, 2005 11:31 pm
- Post datetime: 2012-01-17T09:53:49+00:00
- Post Title: [PS3] Ni No Kuni - SGB/SGH

Thank you so much!  AC3 is indeed the correct format.
The loop data being lost isn't such a big problem to me, I'll try to determine the loop points myself. ^^
