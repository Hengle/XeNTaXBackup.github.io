## Post #1
- Username: Gruselgurke
- Rank: advanced
- Number of posts: 72
- Joined date: Sat Mar 31, 2012 1:15 am
- Post datetime: 2012-08-14T21:49:52+00:00
- Post Title: [REQ] Darksider II (PC)

Seems like they used a new format for the sequel.
.upak (heavy zlib compression) for most game files and .pck for sound files (no zlib).

E: Seems like pck is a common container for audio files. Sleeping Dogs has the same file format as do several other games: [viewtopic.php?f=17&t=8638&hilit=.pck&start=15](http://forum.xentax.com/viewtopic.php?f=17&t=8638&hilit=.pck&start=15)
But seems like there is no real unpacker so far that works (except file searchers like Ravioli). The xbox script doesn't work with these PC files.
## Post #2
- Username: oveja
- Rank: beginner
- Number of posts: 23
- Joined date: Thu Feb 24, 2011 4:35 am
- Post datetime: 2012-08-14T21:56:44+00:00
- Post Title: [REQ] Darksider II (PC)

1 more extract zlib.
## Post #3
- Username: Gruselgurke
- Rank: advanced
- Number of posts: 72
- Joined date: Sat Mar 31, 2012 1:15 am
- Post datetime: 2012-08-14T22:44:02+00:00
- Post Title: [REQ] Darksider II (PC)

what?
## Post #4
- Username: maicomzoio
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Fri Apr 27, 2012 3:13 pm
- Post datetime: 2012-08-14T23:03:54+00:00
- Post Title: [REQ] Darksider II (PC)

There is no script to extract this file?
## Post #5
- Username: brendan19
- Rank: ultra-veteran
- Number of posts: 389
- Joined date: Thu Aug 12, 2010 3:15 pm
- Post datetime: 2012-08-15T11:58:27+00:00
- Post Title: [REQ] Darksider II (PC)

Darksiders II uses Wwise Vorbis for its audio as far as I know.
## Post #6
- Username: MrSnail
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Wed Aug 15, 2012 9:00 pm
- Post datetime: 2012-08-15T13:03:12+00:00
- Post Title: [REQ] Darksider II (PC)

Hey, totally new to the forum, but I found your discussion and have been trying some of this myself, as the Darksiders II soundtrack is missing some music. 

I used Ravioli to extract the sounds from the core.pck, however they're all in .wav and can't play any of them. Should I try renaming the extension to .ogg if it's a Vorbis format as someone above suggested?

Update: Renaming didn't work and no converter I've found is able to recognize the .wav format used on these files. Not sure what to do next.
## Post #7
- Username: Gruselgurke
- Rank: advanced
- Number of posts: 72
- Joined date: Sat Mar 31, 2012 1:15 am
- Post datetime: 2012-08-15T13:18:01+00:00
- Post Title: [REQ] Darksider II (PC)

@MrSnail
Look at the first page of the link I posted in the first post.
## Post #8
- Username: MrSnail
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Wed Aug 15, 2012 9:00 pm
- Post datetime: 2012-08-15T13:29:00+00:00
- Post Title: [REQ] Darksider II (PC)

> Reply from Gruselgurke
>
> @MrSnail
Look at the first page of the link I posted in the first post.

Ah I see. What codex would I need for these .ogg files? I was under the impression VLC had .ogg codecs, but none that support these .ogg files.

Also, with the drag and drop .bat, is there no way to convert all of them at once?
## Post #9
- Username: Gruselgurke
- Rank: advanced
- Number of posts: 72
- Joined date: Sat Mar 31, 2012 1:15 am
- Post datetime: 2012-08-15T13:41:31+00:00
- Post Title: [REQ] Darksider II (PC)

You have to convert them with the posted command with wav2ogg then you should be able to play them
But thats off-topic if you need help with that format make a thread in the Audio Forum. This is only about the archive formats used in the game.
## Post #10
- Username: JonhOliver
- Rank: beginner
- Number of posts: 20
- Joined date: Sat Mar 12, 2011 12:10 am
- Post datetime: 2012-08-15T15:40:35+00:00
- Post Title: [REQ] Darksider II (PC)

Any news about extracting the texts? I'm dreaming of a translation of this game.
## Post #11
- Username: TaylorMouse
- Rank: ultra-veteran
- Number of posts: 348
- Joined date: Mon Sep 26, 2011 7:51 pm
- Post datetime: 2012-08-16T10:25:24+00:00
- Post Title: [REQ] Darksider II (PC)

use OffZip to open the archives

[http://aluigi.org/search.php?src=offzip](http://aluigi.org/search.php?src=offzip)
## Post #12
- Username: Gruselgurke
- Rank: advanced
- Number of posts: 72
- Joined date: Sat Mar 31, 2012 1:15 am
- Post datetime: 2012-08-17T12:48:02+00:00
- Post Title: [REQ] Darksider II (PC)

deleted
no idea how that got posted here
## Post #13
- Username: WRS
- Rank: ultra-veteran
- Number of posts: 603
- Joined date: Fri Nov 06, 2009 7:13 am
- Post datetime: 2012-08-17T15:18:53+00:00
- Post Title: [REQ] Darksider II (PC)

i can parse the pc.mnfst file, but there aren't enough strings to be the entire filesystem

attached is my 010 script for anyone interested
[darksiders2_Wrs.zip](https://xentaxbackup.github.io/file/5681_darksiders2_Wrs.zip)
## Post #14
- Username: mono24
- Rank: Moderator
- Number of posts: 955
- Joined date: Mon Mar 28, 2011 3:42 am
- Post datetime: 2012-08-17T15:56:23+00:00
- Post Title: [REQ] Darksider II (PC)

> Reply from WRS
>
> i can parse the pc.mnfst file, but there aren't enough strings to be the entire filesystem

attached is my 010 script for anyone interested

Could you please make a script for this big archives for x360?
## Post #15
- Username: mono24
- Rank: mega-veteran
- Number of posts: 280
- Joined date: Wed Mar 02, 2011 4:34 am
- Post datetime: 2012-08-17T18:49:21+00:00
- Post Title: [REQ] Darksider II (PC)

WRS, where prelen.bt?
## Post #16
- Username: WRS
- Rank: ultra-veteran
- Number of posts: 603
- Joined date: Fri Nov 06, 2009 7:13 am
- Post datetime: 2012-08-17T19:06:47+00:00
- Post Title: Re: [REQ] Darksider II (PC)

> Reply from Haoose
>
> WRS, where prelen.bt?

sorry, here it is:

```
//--- 010 Editor v3.2.2 Binary Template
//
// File:      prelen.bt
// Author:    WRS
// Revision:  v0.01
// Purpose:   Reading strings of known length
//--------------------------------------

// Supported lengths
enum prelenType
{
  slen32,
  slen16,
  slen8
};

// String structure (with length)
struct prelenStr( prelenType t )
{
  switch(t)
  {
    case slen32 : uint len;   break;
    case slen16 : ushort len; break;
    case slen8  : ubyte len;  break;
    default:
      Assert(false, "Unknown prelenType");
  }
  if(len>0)char val[len];
};

// Typedef
typedef prelenStr str <read=strRead>;

// Read function
string strRead(str &t)
{
  string s = "<empty>";
  if( t.len > 0 ) SPrintf(s, "%s", t.val);
  return s;
};

// EOF

```
## Post #17
- Username: Gruselgurke
- Rank: advanced
- Number of posts: 72
- Joined date: Sat Mar 31, 2012 1:15 am
- Post datetime: 2012-08-18T00:11:19+00:00
- Post Title: Re: [REQ] Darksider II (PC)

@offzip solution
It's possible to extract stuff with it but that doesn't help much if you don't have the correct file name and extensions and a way to put the file back into the archive if the game doesn't run with plain files.
## Post #18
- Username: Sir Kane
- Rank: veteran
- Number of posts: 104
- Joined date: Mon Aug 06, 2012 11:14 am
- Post datetime: 2012-08-23T08:21:30+00:00
- Post Title: Re: [REQ] Darksider II (PC)

Finished my extractor for this. It doesn't do a lot of validation so it might crash if a file is corrupted or something.

The download comes with its source.
[http://sktest.aruarose.com/DS2Extract.rar](http://sktest.aruarose.com/DS2Extract.rar)
## Post #19
- Username: Gruselgurke
- Rank: advanced
- Number of posts: 72
- Joined date: Sat Mar 31, 2012 1:15 am
- Post datetime: 2012-08-23T10:12:28+00:00
- Post Title: Re: [REQ] Darksider II (PC)

Awesome! I will test that later
## Post #20
- Username: amzerof6
- Rank: advanced
- Number of posts: 57
- Joined date: Sat Oct 23, 2010 10:50 pm
- Post datetime: 2012-08-23T11:12:51+00:00
- Post Title: Re: [REQ] Darksider II (PC)

> Reply from Sir Kane
>
> Finished my extractor for this. It doesn't do a lot of validation so it might crash if a file is corrupted or something.

The download comes with its source.
http://sktest.aruarose.com/DS2Extract.rar

Awesome! that great job,thanks a lot.  have any tools can export darksiders1's .oppc file? 
I try many ways ,just offzip can export bodfile  but sadly there's no any textures. anyway DS2Extract is a  great tools,thanks again
## Post #21
- Username: Herdell
- Rank: veteran
- Number of posts: 103
- Joined date: Mon Dec 14, 2009 3:35 am
- Post datetime: 2012-08-23T12:59:26+00:00
- Post Title: Re: [REQ] Darksider II (PC)

> Reply from Sir Kane
>
> Finished my extractor for this. It doesn't do a lot of validation so it might crash if a file is corrupted or something.

The download comes with its source.
http://sktest.aruarose.com/DS2Extract.rar
Any chance for a repacker?
## Post #22
- Username: Sir Kane
- Rank: veteran
- Number of posts: 104
- Joined date: Mon Aug 06, 2012 11:14 am
- Post datetime: 2012-08-23T17:38:08+00:00
- Post Title: Re: [REQ] Darksider II (PC)

I think there are too many unknowns for that right now, especially the hashes in the OBPK data.
## Post #23
- Username: WRS
- Rank: ultra-veteran
- Number of posts: 603
- Joined date: Fri Nov 06, 2009 7:13 am
- Post datetime: 2012-08-23T19:30:32+00:00
- Post Title: Re: [REQ] Darksider II (PC)

how on earth did you figure out that hashing stuff? is it a known algorithm?

you also have an interesting coding style
## Post #24
- Username: Sir Kane
- Rank: veteran
- Number of posts: 104
- Joined date: Mon Aug 06, 2012 11:14 am
- Post datetime: 2012-08-23T20:35:54+00:00
- Post Title: Re: [REQ] Darksider II (PC)

Found most of the info including the hash stuff, which appears to be CRC64, by reverse engineering/debugging the game.
## Post #25
- Username: Keksautomat
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Fri Feb 17, 2012 11:39 pm
- Post datetime: 2012-10-06T10:03:10+00:00
- Post Title: Re: [REQ] Darksider II (PC)

Is it possible with this to get this game to work with English Audio (for example) but a different subtitle language ? (In my case german)

Greetings
## Post #26
- Username: mono24
- Rank: mega-veteran
- Number of posts: 280
- Joined date: Wed Mar 02, 2011 4:34 am
- Post datetime: 2012-10-06T12:34:09+00:00
- Post Title: Re: [REQ] Darksider II (PC)

Keksautomat
Possible. I have seen - the English voice and Russian text.
## Post #27
- Username: Keksautomat
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Fri Feb 17, 2012 11:39 pm
- Post datetime: 2012-10-06T12:52:34+00:00
- Post Title: Re: [REQ] Darksider II (PC)

> Reply from Haoose
>
> Keksautomat
Possible. I have seen - the English voice and Russian text.

To you happen to know how? If no, do you remember where you've seen it? (Can you link it ? Maybe the guy gave some instructions)
## Post #28
- Username: Teg
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Thu Nov 10, 2011 2:56 pm
- Post datetime: 2012-10-08T09:05:15+00:00
- Post Title: Re: [REQ] Darksider II (PC)

Hey guys/gals (=

I'm just wondering if anyone know which files contain the dungeon/area maps for the game and is there a 3rd party program that can be used to open/view these maps?

Thanks!
## Post #29
- Username: Beefsteak
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Sun Sep 22, 2013 5:58 am
- Post datetime: 2013-09-21T22:25:52+00:00
- Post Title: Re: [REQ] Darksider II (PC)

whenever I run the darksiders2.bms and select the media.upak i get "signature of 4 bytes at offset 0x00000000000000000 doesn't match the one expect by e script" i see other threads using offzip to open this but i cant figure it out, anyone care to help? thanks!
## Post #30
- Username: blinkey
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Fri Sep 16, 2011 3:07 am
- Post datetime: 2013-10-16T02:57:30+00:00
- Post Title: Re: [REQ] Darksider II (PC)

Yo guys, i am on a re-texture project to this game and i wanna know if anyone got lucky on repacking the freaking .upak files or manage the game to run and read the "loose" files, any help will be much appreciated
## Post #31
- Username: Duskwyvern
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Fri Jun 30, 2023 10:39 pm
- Post datetime: 2023-06-30T14:42:04+00:00
- Post Title: Re: [REQ] Darksider II (PC)

> Reply from Sir Kane ↑Thu Aug 23, 2012 4:21 pm at Thu Aug 23, 2012 4:21 pm
>
> 
Finished my extractor for this. It doesn't do a lot of validation so it might crash if a file is corrupted or something.

The download comes with its source.
http://sktest.aruarose.com/DS2Extract.rar
I know I'm necro-ing the hell out of this post (like 11 years at this point), but how do I use this? Is it through Command Prompt or? (I'm on windows)
## Post #32
- Username: mono24
- Rank: Moderator
- Number of posts: 1671
- Joined date: Fri Jul 27, 2012 12:06 am
- Post datetime: 2023-07-01T07:02:51+00:00
- Post Title: Re: [REQ] Darksider II (PC)

> how do I use this? Is it through Command Prompt or? (I'm on windows)

Yes, it's command line tool. The usage is:

```
DS2Extract.exe <source dir> [/o:outputdir] [/v] [/nz]
```


And the example from readme:

```
DS2Extract.exe "C:\Steam\steamapps\common\Darksiders 2\media"  "/o:C:\DS2Out"
```
