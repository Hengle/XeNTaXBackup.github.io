## Post #1
- Username: Tiptoe
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Tue Sep 16, 2008 12:49 am
- Post datetime: 2009-05-03T07:32:26+00:00
- Post Title: Nmaxtoolbox-Importer for Drakensang and other Nebula2 games

Hi, I thought this might be useful for somebody  . 

I'm playing the game Drakensang and I think the models are really well done. I read that there was a 3DS Max importer/exporter called nmaxtoolbox available, but I couldn't find it anywhere.

Anyway, to make a long story short, I eventually found it on some Russian site. I had to jump through all sorts of hoops to download it, but I finally got it.

So to save anybody else the trouble, I've uploaded it to here: [http://www.4shared.com/file/102601739/6 ... _max9.html](http://www.4shared.com/file/102601739/6d5adce0/Nmaxtoolbox_for_max9.html)

This version is for Max 9 (not 2009) I don't know if it works for the other Max versions. There is an installer for it, but I couldn't get it to copy the files to the right directories (I'm not very good with computers   ) so I ended up just extracting the files and doing a manual install. I've included the extracted files in the download for anybody who doesn't want to use the installer.

Anyway, I've tested it and it works a treat:



Hope you enjoy it.
## Post #2
- Username: pixellegolas
- Rank: ultra-veteran
- Number of posts: 423
- Joined date: Tue Aug 12, 2008 6:30 am
- Post datetime: 2009-05-03T11:24:20+00:00
- Post Title: Nmaxtoolbox-Importer for Drakensang and other Nebula2 games

good stuff tiptoe, usuallu max9 plugins works with 2008 at least. I will try it later
## Post #3
- Username: CMihai
- Rank: veteran
- Number of posts: 131
- Joined date: Sun Jul 05, 2009 7:58 pm
- Post datetime: 2009-08-02T20:53:26+00:00
- Post Title: Nmaxtoolbox-Importer for Drakensang and other Nebula2 games

Any other ways to import models ? I don't have Max 9 ( or 2009 )
## Post #4
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2010-04-26T16:53:11+00:00
- Post Title: Nmaxtoolbox-Importer for Drakensang and other Nebula2 games

I installed nmaxtoolbox and try to import the model, the geometry is no problem, but the uv coordinates are not imported, somebody can help solve this problem?
## Post #5
- Username: Szkaradek123
- Rank: mega-veteran
- Number of posts: 292
- Joined date: Thu May 06, 2010 3:21 am
- Post datetime: 2010-05-29T18:14:22+00:00
- Post Title: Nmaxtoolbox-Importer for Drakensang and other Nebula2 games

The contents of this post was deleted because of possible forum rules violation.
[salina.jpg](https://xentaxbackup.github.io/file/3083_salina.jpg)
## Post #6
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2010-05-29T20:39:34+00:00
- Post Title: Nmaxtoolbox-Importer for Drakensang and other Nebula2 games

The contents of this post was deleted because of possible forum rules violation.
## Post #7
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2010-05-30T00:15:26+00:00
- Post Title: Nmaxtoolbox-Importer for Drakensang and other Nebula2 games

sorry for double post, but why don't have skinning or weight data?
## Post #8
- Username: Szkaradek123
- Rank: mega-veteran
- Number of posts: 292
- Joined date: Thu May 06, 2010 3:21 am
- Post datetime: 2010-05-30T05:21:20+00:00
- Post Title: Nmaxtoolbox-Importer for Drakensang and other Nebula2 games

Models have weight data
[salina.jpg](https://xentaxbackup.github.io/file/3085_salina.jpg)
## Post #9
- Username: AceAngel
- Rank: veteran
- Number of posts: 115
- Joined date: Mon Feb 09, 2009 12:45 am
- Post datetime: 2010-05-30T13:30:14+00:00
- Post Title: Nmaxtoolbox-Importer for Drakensang and other Nebula2 games

If you're having problem is 'managing' the models in Blender, export the models and bones as FBX or DAE format and import them in application of your choice.

Also, thanks Szkaradek123. The original importers are a total arse to use, simple and indeed because, they require the much older versions of Max.
## Post #10
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2010-05-30T16:43:10+00:00
- Post Title: Nmaxtoolbox-Importer for Drakensang and other Nebula2 games

> Reply from AceAngel
>
> If you're having problem is 'managing' the models in Blender, export the models and bones as FBX or DAE format and import them in application of your choice.

Also, thanks Szkaradek123. The original importers are a total arse to use, simple and indeed because, they require the much older versions of Max.

Can you guide me how to export models in fbx or collada? Because I try to export models to them, but get fail.
If i export to fbx in 3d max i get no bones, if i export in collada in 3d max i get bones and mesh, but without weight data.

I use:

3d max 2008 64x + official fbx importer/exporter v2010.2 + open collada v1.3.0.rc + standart max collada
blender v2.49 + python v2.6.2
## Post #11
- Username: AceAngel
- Rank: veteran
- Number of posts: 115
- Joined date: Mon Feb 09, 2009 12:45 am
- Post datetime: 2010-05-30T18:04:12+00:00
- Post Title: Nmaxtoolbox-Importer for Drakensang and other Nebula2 games

When you import the model, simply press 'A' on your Keyboard. Everything you select should have 'pink' outline now. If not, press A again.

(NOTE: The A button in Blender acts like a 'Select All' button and 'Deselect All' button. Very useful.)

Select File, Export and FBX. Now import it in Max and voila, bones and all ready.

I also use the same version of Max and Blender, so everything I said should be the same for you too.
## Post #12
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2010-05-30T18:16:08+00:00
- Post Title: Nmaxtoolbox-Importer for Drakensang and other Nebula2 games

The contents of this post was deleted because of possible forum rules violation.
## Post #13
- Username: AceAngel
- Rank: veteran
- Number of posts: 115
- Joined date: Mon Feb 09, 2009 12:45 am
- Post datetime: 2010-05-30T20:14:32+00:00
- Post Title: Nmaxtoolbox-Importer for Drakensang and other Nebula2 games

Um, wow, I don't know. There is no weight Data in Blender, the 'Dummy' root works, but the bone themselves don't.

Is this happening to all the models? I cannot test it myself with the 'original packages' since I don't have my game PC near me, but I if it's happening to ALL the models, maybe you set the paths wrong? Or maybe Szkaradek123 uploaded another Blend file?

I don't know, I'm sure Szkaradek123 will know more.
## Post #14
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2010-05-31T00:07:39+00:00
- Post Title: Nmaxtoolbox-Importer for Drakensang and other Nebula2 games

> Reply from AceAngel
>
> Um, wow, I don't know. There is no weight Data in Blender, the 'Dummy' root works, but the bone themselves don't.

Is this happening to all the models? I cannot test it myself with the 'original packages' since I don't have my game PC near me, but I if it's happening to ALL the models, maybe you set the paths wrong? Or maybe Szkaradek123 uploaded another Blend file?

I don't know, I'm sure Szkaradek123 will know more.

Maybe I wrong install file .blend and .py files? I put all .py files in my:

```
C:\Program Files (x86)\Blender Foundation\Blender\.blender\scripts
```

directory. 
And i use .blend file separately from .py files.
## Post #15
- Username: AceAngel
- Rank: veteran
- Number of posts: 115
- Joined date: Mon Feb 09, 2009 12:45 am
- Post datetime: 2010-05-31T13:46:07+00:00
- Post Title: Nmaxtoolbox-Importer for Drakensang and other Nebula2 games

Well, I don't know. I don't have the game with me now, so I can't test anything.

However, from your post, it looks like everything is correct.
## Post #16
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2010-06-05T06:51:14+00:00
- Post Title: Re: Nmaxtoolbox-Importer for Drakensang and other Nebula2 games

> Reply from Szkaradek123
>
> Models have weight data

I don't know how to get weighting data  

What i do:

1. copying .py and .blend files to

```
D:\Games\Drakensang\pack_npk
```
2. starting Blender v2.49b (python v2.6.2 + PyFFI v2.1.4.win32)
3. i open the file

```
D:\Games\Drakensang\pack_npk\nebula.blend
```
4. changing

```
     root="c:/Program Files/Drakensang/pack.npk"+os.sep
```
to

```
     root="D:/Games/Drakensang/pack_npk"+os.sep
```
5. saving .blend and executing it
6. loading ogre.n2 from

```
D:\Games\Drakensang\pack_npk\gfxlib\characters
```
7. "chose character ogre window" shows up
8. i choosing simply ogre and press ok
9. loading all bones and models
10. press A (for all selecting)
11. file -> export -> fbx/dae
12. no matter in what i exporting, result are the same: bones and models without skin modifier.

p.s.: i don't know how to use Blender, but i think something wrong happen 6 step (above). Can you help me with this issue? 

upd:

I'm noticced that my blender create .pyc files with same name as .py. Maybe issue in this?
[](http://s60.radikal.ru/i170/1006/6b/92c9a2dbad8c.jpg)
## Post #17
- Username: Szkaradek123
- Rank: mega-veteran
- Number of posts: 292
- Joined date: Thu May 06, 2010 3:21 am
- Post datetime: 2010-06-05T11:59:14+00:00
- Post Title: Re: Nmaxtoolbox-Importer for Drakensang and other Nebula2 games

Please try this method:
1.right mouse button(RMB) select  object(mesh)
2.shift + RMB select next objects(all meshes)
3.ctrl + J - joint selected objects(only meshes)
4.shift +RMB select armature
5.ctrl + P - make parent objects => choose "don't create groups"
6.meshes and armature must be selected
7.paste script "export_half-life_smd.py" in ...\.blender\scripts
8.choose - File => Export half-life 2 => choose static
9.3ds max import smd => http:///www.wunderboy.org or import smd in milkshape

Problem is names of bones and names of vertexgroups. Sorry for this. I'll try to fix that.
[export_half-life_smd.zip](https://xentaxbackup.github.io/file/3113_export_half-life_smd.zip)
## Post #18
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2010-06-05T12:37:01+00:00
- Post Title: Re: Nmaxtoolbox-Importer for Drakensang and other Nebula2 games

> Reply from Szkaradek123
>
> Please try this method:
1.right mouse button(RMB) select  object(mesh)
2.shift + RMB select next objects(all meshes)
3.ctrl + J - joint selected objects(only meshes)
4.shift +RMB select armature
5.ctrl + P - make parent objects => choose "don't create groups"
6.meshes and armature must be selected
7.paste script "export_half-life_smd.py" in ...\.blender\scripts
8.choose - File => Export half-life 2 => choose static
9.3ds max import smd => http:///www.wunderboy.org or import smd in milkshape

Problem is names of bones and names of vertexgroups. Sorry for this. I'll try to fix that.
I try your way, so i get weight data, but something wrong with it. Please check my .smd below

[smd](http://www.sendspace.com/file/yloq9b)

upd:
And [here](http://www.sendspace.com/file/rrc0mb) .blend file with ogre. I make him by your tutorial, i think he with bad envelopes. But why...
## Post #19
- Username: Szkaradek123
- Rank: mega-veteran
- Number of posts: 292
- Joined date: Thu May 06, 2010 3:21 am
- Post datetime: 2010-06-06T17:12:45+00:00
- Post Title: Re: Nmaxtoolbox-Importer for Drakensang and other Nebula2 games

Try it.
1.run script and select  - ...\characters\oger\skins\oger\characters\oger.n2 or other
2.run script one more time and select - characters\oger\skeleton.n2
[import nebula.zip](https://xentaxbackup.github.io/file/3116_import nebula.zip)
## Post #20
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2010-06-06T18:26:40+00:00
- Post Title: Re: Nmaxtoolbox-Importer for Drakensang and other Nebula2 games

> Reply from Szkaradek123
>
> Try it.
1.run script and select  - ...\characters\oger\skins\oger\characters\oger.n2 or other
2.run script one more time and select - characters\oger\skeleton.n2
Doesn't work  I use you guide, but always get bad skining:

[](http://s04.radikal.ru/i177/1006/e9/4a80573b262b.jpg)

where i need place this files:

```
importn2v1.6.py
importnvx2.py
ncharacter3skinshapenode.py
nparticleskinshapenode.py
nshadowskinshapenode.py
nshapenode.py
nskinanimator.py
nskinshapenode.py
word.py
```
?
## Post #21
- Username: Szkaradek123
- Rank: mega-veteran
- Number of posts: 292
- Joined date: Thu May 06, 2010 3:21 am
- Post datetime: 2010-06-06T18:41:38+00:00
- Post Title: Re: Nmaxtoolbox-Importer for Drakensang and other Nebula2 games

It should work.
Unzip - import nebula.zip to new folder.
In new folder open nebula.blend 
Run script.
## Post #22
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2010-06-06T18:48:23+00:00
- Post Title: Re: Nmaxtoolbox-Importer for Drakensang and other Nebula2 games

> Reply from Szkaradek123
>
> It should work.
Unzip - import nebula.zip to new folder.
In new folder open nebula.blend 
Run script.I'll reinstall all my blend tools right now, and try one more time, report to you is already on the way 

upd:
Now i get an error from 7 line:

```
from nskinanimator import nskinanimator
```
upd2:
[Video](http://www.sendspace.com/file/nwui9f)
## Post #23
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2010-08-09T14:06:01+00:00
- Post Title: Re: Nmaxtoolbox-Importer for Drakensang and other Nebula2 games

Sorry for Double-Post

I can export with right weight data in smd (i handled with oger  ):eek: But some model gives me an error when i try to export it in smd:

```
Can not Multi-Fold meshes (Edges used by more than 2 faces)
```
So i trying export models in FBX and DAE and here is no problem, but when i import it into 3ds max they import without skin modifier. So how can i solved this issue? Maybe you can help me?
