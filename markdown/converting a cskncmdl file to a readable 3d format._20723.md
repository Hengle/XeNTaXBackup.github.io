## Post #1
- Username: kuriatsu
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Mon Jun 24, 2019 6:56 pm
- Post datetime: 2019-06-24T11:24:05+00:00
- Post Title: converting a cskn/cmdl file to a readable 3d format.

Hi, 

not sure if this is the right place to go, but I usually try to troubleshoot before I ask for help.
I was wondering if I could get pointed anywhere specific about how to convert a cskn file or a cmdl file to an obj or similar format so I can view them in a 3d modeling program, such as blender.

I found a working title fight, which is a prototype of Playstation all stars battle royale, and I was hoping that since most threads on google originate here, in regards to cskn or cmdl, that someone may have an idea of what I can do.
Theres files for the eucadian, and even a ctxr map for him. The eucadian is a character noones ever seen before in a reliable format. Yes, there are pictures, but they're about the size of a dime because they were solely from the original trailer in 2011/2012 or icons.

Would anyone be able to assist with this? I'm not asking for the files themselves, or the retail game, or anything of the sort, I already have the files I'm looking for, I just need to convert them, but google hasn't been too helpful.
I'm just wanting to load these files in blender or something so I can show it in a video, because I can't get his files working by themselves for lack of certain key files, the game doesn't acknowledge his presence anyway, but the files do exist.

what I've tried:

I've tried using a cmdl viewer for metroid prime, I didn't think it was going to work, but it didn't give any limitations, but it didn't work, saying the file is not supported, and running in administrator mode.
I've tried noesis, and administrator mode, as well as the vita plugin, which complains that its not a vita file and doesn't work.
I've tried looking for other cmdl converters and found 2, both I need to compile. I opened them with two different code compilers(code blocks and MS ultimate visual studio, both with administration mode on) and neither compiled and gave errors.
I've tried using a donkey kong cmdl file converter, and again it didn't work.
I finally got a fix for the ctxr files and it turns out that they are already in a gtf format sort of so converting them to dds worked fine, I tried that type of thing as a last ditch effort.


edit: my apologies, do I need to give a file sample for this?
## Post #2
- Username: shakotay2
- Rank: MEGAVETERAN
- Number of posts: 4300
- Joined date: Fri Apr 20, 2012 4:24 pm
- Post datetime: 2019-06-24T13:18:05+00:00
- Post Title: converting a cskn/cmdl file to a readable 3d format.

> Reply from kuriatsu ↑Mon Jun 24, 2019 7:24 pm at Mon Jun 24, 2019 7:24 pm
>
> edit: my apologies, do I need to give a file sample for this?Yes.
## Post #3
- Username: kuriatsu
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Mon Jun 24, 2019 6:56 pm
- Post datetime: 2019-06-25T01:01:42+00:00
- Post Title: converting a cskn/cmdl file to a readable 3d format.

Sorry 
Here are some samples of each file format:
[https://app.box.com/s/kh5lf9ud6izbirsd1bh1tw2rl9rcp16y](https://app.box.com/s/kh5lf9ud6izbirsd1bh1tw2rl9rcp16y)
[https://app.box.com/s/5dd4vm0aet24m6r1k2i9cc20f10q9ptt](https://app.box.com/s/5dd4vm0aet24m6r1k2i9cc20f10q9ptt)
## Post #4
- Username: shakotay2
- Rank: MEGAVETERAN
- Number of posts: 4300
- Joined date: Fri Apr 20, 2012 4:24 pm
- Post datetime: 2019-06-25T07:47:35+00:00
- Post Title: converting a cskn/cmdl file to a readable 3d format.

well that's a piece of a cake but I don't have the time to search for the face indices (autogenerated ones don't look very well):
.



cake-point-cloud.png (10.96 KiB) Viewed 172 times
## Post #5
- Username: kuriatsu
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Mon Jun 24, 2019 6:56 pm
- Post datetime: 2019-06-25T08:50:14+00:00
- Post Title: converting a cskn/cmdl file to a readable 3d format.

how would I be able to do it? if you can explain it, then I might be able to do it on my own.
If I can do it, I want to. Is there a program that I can do this with?
## Post #6
- Username: shakotay2
- Rank: MEGAVETERAN
- Number of posts: 4300
- Joined date: Fri Apr 20, 2012 4:24 pm
- Post datetime: 2019-06-25T09:45:26+00:00
- Post Title: converting a cskn/cmdl file to a readable 3d format.

> Reply from kuriatsu ↑Tue Jun 25, 2019 4:50 pm at Tue Jun 25, 2019 4:50 pm
>
> 
how would I be able to do it? if you can explain it, then I might be able to do it on my own.
If I can do it, I want to. Is there a program that I can do this with?The program is hex2obj (view link in my sig). If I knew how to get the face indices here I'd have told it.
I'm too busy too care for them so you'll have to wait until someone gets an idea about them.
.



cake.png (24.61 KiB) Viewed 168 times


Press the 'tut' button to get an understand how to use the tool.

Have a look at the tutorials of Bigchillghost.
## Post #7
- Username: kuriatsu
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Mon Jun 24, 2019 6:56 pm
- Post datetime: 2019-06-25T11:00:58+00:00
- Post Title: converting a cskn/cmdl file to a readable 3d format.

Thank you, I'll give it a try.
## Post #8
- Username: akderebur
- Rank: double-veteran
- Number of posts: 640
- Joined date: Fri Jul 08, 2011 5:36 pm
- Post datetime: 2019-06-25T12:15:11+00:00
- Post Title: converting a cskn/cmdl file to a readable 3d format.

> Reply from shakotay2 ↑Tue Jun 25, 2019 5:45 pm at Tue Jun 25, 2019 5:45 pm
>
> 
If I knew how to get the face indices here I'd have told it.
They are probably using EDGE compressed face indices. I know you would have spotted them otherwise   

I think chrrox made a Noesis script for this game, but I am not sure.
## Post #9
- Username: kuriatsu
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Mon Jun 24, 2019 6:56 pm
- Post datetime: 2019-06-25T12:39:00+00:00
- Post Title: converting a cskn/cmdl file to a readable 3d format.

They did, but only for the vita version as far as I know
## Post #10
- Username: shakotay2
- Rank: MEGAVETERAN
- Number of posts: 4300
- Joined date: Fri Apr 20, 2012 4:24 pm
- Post datetime: 2019-06-25T12:56:24+00:00
- Post Title: converting a cskn/cmdl file to a readable 3d format.

> Reply from akderebur ↑Tue Jun 25, 2019 8:15 pm at Tue Jun 25, 2019 8:15 pm
>
> 
They are probably using EDGE compressed face indices. I know you would have spotted them otherwise   

I think chrrox made a Noesis script for this game, but I am not sure.Ah, yeah, that damned edge compression, didn't expect it in a cmdl file.
rapi.decompressEdgeIndices(edgeData, indexCount)
Sadly the underlying algorithm is burried in the Noesis.exe or dll.

This is very annoying because you can't track problems/errors with edge decompression when start of edge buffer, its size and count of indices are guess work:

```
  File "X:\Noesis\plugins\python\fmt_PS_AllStarcmdl.py", line 59, in noepyLoadModel
    rapi.rpgCommitTriangles(edgeDecomp, noesis.RPGEODATA_USHORT, indexCount, noesis.RPGEO_TRIANGLE, 1)
RuntimeError: Position buffer would have been read out of bounds by provided indices.

```


Afair Loomy was the only one to reveal some secrets of (Sony's) edge decompression:
[https://forum.xentax.com/viewtopic.php? ... 15#p136137](https://forum.xentax.com/viewtopic.php?f=16&t=15693&hilit=edge&start=15#p136137)

Long, long ago I had some success here (based on the script from kovalevich007):
[https://forum.xentax.com/viewtopic.php? ... skn#p99276](https://forum.xentax.com/viewtopic.php?f=16&t=12070&hilit=cskn#p99276)
