## Post #1
- Username: Zerox
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-06-09T10:06:34+00:00
- Post Title: Spotlight: Señor Casaroja's Noesis

Noesis supports models from lots of games, including universal formats for Playstation Portable and Dreamcast, and specific games like Resident Evil 5, Tekken 6, and many others. You can get it here:
[http://oasis.xentax.com/index.php?content=downloads](http://oasis.xentax.com/index.php?content=downloads)

This thread is a central place for anyone who wants to talk about this program for any conceivable reason.

In the year 2014:
Xentax has stopped hosting Noesis due to bandwidth and stuff, so it's on [richwhitehouse.com](http://www.richwhitehouse.com/) now. I stopped adding support for newer games a while ago, since I got kind of tired of finding the same data in a different package over and over again, and people that want to rip models from newer games are usually 600-800% more horrible. I now primarily add and maintain features for people who are actually using Noesis to some reasonably-productive end. I've released a lot of things over the years, and some of them have seen millions of downloads. Noesis is the most obscure piece of software I've spent more than a few months on, and it's been interesting to see how people leverage it to their own ends in the context of this community and other similar communities. Some of you guys are pretty great, and others I'd like to see burned alive and/or eaten by kittens. So, in the end, this project made me just a little bit more bitter toward humanity, and I guess a good number of you can suck it. Thanks, assholes! And thanks, non-assholes.

In the year 2017:
I'm still working on this thing. Unbelievable. Build automation has come a long way, here's a site that tracks everything and displays documentation for the latest build:
[http://richwhitehouse.com/noesis/nms/in ... ent=readme](http://richwhitehouse.com/noesis/nms/index.php?content=readme)
## Post #2
- Username: firsak
- Rank: advanced
- Number of posts: 64
- Joined date: Wed Dec 16, 2009 7:32 pm
- Post datetime: 2010-06-09T13:10:21+00:00
- Post Title: Spotlight: Señor Casaroja's Noesis

This tool is so amazing!   
As far as I understand it is mesh2rdm, but with a nice GUI, right?
I couldn't find any references of Noesis on mesh2rdm website and vice versa.
Which of you guys is in charge? Señor Casaroja (MrAdults) or Rich Whitehouse? Or are you both the same guy?
I'm asking this, because I don't understand who I should turn to, in case I want to leave a feedback, or suppose a programmer that hacked some archive or model format wants to offer a support of a new file format and discuss things privately and so on. 

Also, are you by any chance considering adding plugin support, so that people could write their own plugins for viewing models/extracting archives? I think that unification is cool and it would be very convenient if there was just one awesome tool that did all the job.  

P.S.
I also see Kyrie in a certain pose on the main page. In the game she is in that pose floating in some jar when you fight Angelo Agnus. So i was wondering if it plays DMC4/RE/LP animations already? Or did you pose her manually?
## Post #3
- Username: rosciak
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Sun Jun 14, 2009 2:25 am
- Post datetime: 2010-06-09T13:41:25+00:00
- Post Title: Spotlight: Señor Casaroja's Noesis

Hi. I'm a guy from a team which working on Battlestations Midway and Pacific mods. We released some - just ask google for "Battlestations Midway Modders Mappack" and you will see our job. Since a year we trying to break unknown for us 3D fileformat called .MMOD.

Is this possible for creators of Noasis to take a look for this fileformat ? I can send files and also some of our discoveries.
## Post #4
- Username: mono24
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2010-06-09T17:27:30+00:00
- Post Title: Spotlight: Señor Casaroja's Noesis

Brilliant tool, MrAdults.
## Post #5
- Username: noazett
- Rank: advanced
- Number of posts: 55
- Joined date: Mon Dec 14, 2009 8:09 am
- Post datetime: 2010-06-09T18:26:34+00:00
- Post Title: Spotlight: Señor Casaroja's Noesis

Awesome!
## Post #6
- Username: firsak
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-06-09T20:53:30+00:00
- Post Title: Spotlight: Señor Casaroja's Noesis

> Reply from firsak
>
> This tool is so amazing!   
As far as I understand it is mesh2rdm, but with a nice GUI, right?
I couldn't find any references of Noesis on mesh2rdm website and vice versa.
Which of you guys is in charge? Señor Casaroja (MrAdults) or Rich Whitehouse? Or are you both the same guy?
The author prefers to remain anonymous.  (haha, yeah right, I messed that one up early on)

But suffice to say that all questions/comments pertaining to the program should go here, and I'll be happy to address them.

> Reply from firsak
>
> 
Also, are you by any chance considering adding plugin support, so that people could write their own plugins for viewing models/extracting archives? I think that unification is cool and it would be very convenient if there was just one awesome tool that did all the job.
I totally am considering that. I'm a bit torn on the approach though. I have a great flexible and easy to use interface for feeding/converting geometry that I could expose through C++ DLL's. I also hugely prefer to work in native platform binary with a native platform debugger when I'm dissecting file formats. The problem is, though, that changes to the interface will then be breaking old plugins all the time, and it's easy to make a big terrible mess that way.

The other option is to expose plugins via a scripting language. This makes them far easier to manage. However, I hate working with scripts, and replicating native platform debugging functionality in a script debugger, to the extent that the script becomes as convenient to work with as native platform binary, is a ton of work.

So I've not settled on anything there yet. If only a few people were gonna use it, I'd go with DLL's hands down. But I'm very cautious of creating a situation where 10 people are making plugins, and then I want to change the central interface and have to either implement a ton of horrible hacks or break all of the old plugins.

> Reply from firsak
>
> 
P.S.
I also see Kyrie in a certain pose on the main page. In the game she is in that pose floating in some jar when you fight Angelo Agnus. So i was wondering if it plays DMC4/RE/LP animations already? Or did you pose her manually?
She's actually in that pose already in another model of her in the game.  I can't recall which file that was, though.

> Reply from rosciak
>
> Hi. I'm a guy from a team which working on Battlestations Midway and Pacific mods. We released some - just ask google for "Battlestations Midway Modders Mappack" and you will see our job. Since a year we trying to break unknown for us 3D fileformat called .MMOD.

Is this possible for creators of Noasis to take a look for this fileformat ? I can send files and also some of our discoveries.
It's probably best to start a thread about it over in the 3D models forum (if there isn't one). If you post all of your discoveries there, everyone can freely contribute more findings, which is much more productive than just one guy like me working on it. 

> Reply from Mr.Mouse
>
> Brilliant tool, MrAdults.
Thank you, Mr.Mouse.
## Post #7
- Username: basil
- Rank: beginner
- Number of posts: 21
- Joined date: Mon Mar 29, 2010 3:00 am
- Post datetime: 2010-06-10T01:23:55+00:00
- Post Title: Spotlight: Señor Casaroja's Noesis

I agree that plugin support would be totally sweet, and that's all there is to be said about that.

Also, is the data editor supposed to be working yet? I tried tweaking some bone stuff, but the changes only appeared on the first time an animation was played (load model, make changes, start animation), and they didn't show up in the exported DAE.

P.S.:

"Casa roja," huh.
## Post #8
- Username: mono24
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-06-10T03:55:56+00:00
- Post Title: Spotlight: Señor Casaroja's Noesis

> Reply from ukurereh
>
> I agree that plugin support would be totally sweet, and that's all there is to be said about that.

Also, is the data editor supposed to be working yet? I tried tweaking some bone stuff, but the changes only appeared on the first time an animation was played (load model, make changes, start animation), and they didn't show up in the exported DAE.

P.S.:

"Casa roja," huh.
Fancy meeting you here! 

The data editor is indeed working, but once you start playing animations, the matrices you're editing are no longer being used for any purpose. The rendered matrices are then the ones being transformed for the animation, which aren't based at all on the base pose matrices. Skinning transforms aren't based on them either, they are based on the inverse base pose matrices, but that data isn't exposed in the data viewer presently.  You can reset your view (F12 or middle mouse) to reset the animation state as well, which will go back to using the base bone mats.

The export process is totally separate from the preview too (you can export models not open in preview mode), so the changes made to the data in the preview model are just completely separate by nature. If the data viewer/editor ends up getting built up a lot more and made more useful, though, I'll probably go ahead and add an "export from open preview" option. I probably ought to do that anyway, since it's a rather obvious step. (preview data is already in the exact same form that exported data likes to take)
## Post #9
- Username: valvoga
- Rank: advanced
- Number of posts: 67
- Joined date: Sat May 01, 2010 10:03 am
- Post datetime: 2010-06-10T05:51:35+00:00
- Post Title: Spotlight: Señor Casaroja's Noesis

MrAdults thank you very much noesis is pure epic awesomeness tool
Oh yeah MrAdults will you add .pmo file support too for this tool
.pmo file is a 3d model file of kingdom heart birth by sleep
I hope you gonna make a .pmo file support for this tool because it will be awesome
if the tool can extract kingdom heart birth by sleep model
MrAdults this is an amazing tools
Oh yeah MrAdults you can extract soul eater battle resonance model too because
the model is in gmo
MrAdults for this amazing tools you deserve a cookie

And thanks a lot MrAdults for your help
## Post #10
- Username: brienj
- Rank: VIP member
- Number of posts: 288
- Joined date: Mon May 02, 2005 8:48 pm
- Post datetime: 2010-06-10T06:14:26+00:00
- Post Title: Spotlight: Señor Casaroja's Noesis

What the heck, I'll be like the typical person that irritates myself, when it pertains to my hacks, asking questions before finding out on their own.  But anyway, I was busy working on my SvR hack, so I don't have time to download the program just to see what it supports, but by any chance does it support any of the Yukes game models?  Like Rumble Roses, Wrestle Kingdom, Smackdown Vs. Raw, or UFC?  The Xbox 360 versions specifically.  All of their model formats are very similar, yet too different to interchange.  I am good at hacking, except when it comes to models, but it would make my day if you knew how to work with the Yukes models and make it possible to convert each type of model into another game, or make it so people could make their own models to use in each game.  I would love you in a non-gay way forever, because this is the very last piece I need to make the best Ultra Hack on SvR 2010.  

Here is a link to an existing topic on the board, so far only an importer for 3dsMax has been made:
[viewtopic.php?f=16&t=3903](http://forum.xentax.com/viewtopic.php?f=16&t=3903)

Here is my website, where I have models in the SvR2010 v2.0 section as well as all the files for that particular hack, if you are interested in it:
[http://brienj.home.insightbb.com/](http://brienj.home.insightbb.com/)

Edit: Actually, I just remembered that the models on my site are all the modified ones for the hack.  If you would like unaltered models for the SvR games, as well as any other Yukes game, I can send you links in your PM Box.  I also forgot to mention that the PAC files for the models contain compressed files within them, that are compressed with a special BPE format.  aluigi's tool with a correct BMS script can extract them, or I can send you uncompressed data if you need it.

Thanks for any help you can give me.
## Post #11
- Username: Wudan
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Tue Oct 13, 2009 11:44 pm
- Post datetime: 2010-06-10T14:03:11+00:00
- Post Title: Spotlight: Señor Casaroja's Noesis

It's a pretty cool tool MrAdults.

I got my first taste of messing with model formats on the Jedi Knight II and sequel games.  When I saw the renderer I spotted a familiar model and thought, oh, somebody else has worked on those formats (esp. seeing the skeleton) and now when I read this thread it makes sense.

Really cool stuff, really strange to be bumping in to you so many years later.

I've been working on the RE:5 models (which the format is used in all of capcom's MT engine games, following the many threads here on that.

Really, just cool, thanks for sharing with the world.
## Post #12
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2010-06-10T14:23:18+00:00
- Post Title: Spotlight: Señor Casaroja's Noesis

Ok, i try make quick request. MrAdults, can you add support of assassin's creed 1/2 and Prince of Persia (assassins same engine) with weight data and bones? I think Turfster ([site](http://assassin.turfster.be/)) can help handle with this games.

Thank for megatool by the way.
## Post #13
- Username: wyllman
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Mon Mar 29, 2010 4:32 am
- Post datetime: 2010-06-10T18:11:13+00:00
- Post Title: Spotlight: Señor Casaroja's Noesis

Hi,

 does noeis open .sgbin files(cities xl model)???

byes.
## Post #14
- Username: brienj
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-06-10T22:20:01+00:00
- Post Title: Spotlight: Señor Casaroja's Noesis

These are the supported formats as of the last release.

```
.md5mesh - md5mesh (Doom 3, Prey, etc.)
.md5anim - md5anim (Doom 3, Prey, etc.)
.ase - 3D Studio Max ASE
.bsp - Quake 3 BSP
.bsp - Quake 1/Half-Life BSP
.animlist - Animlist
.lzs - FF7 PSX Battle Model
.proc - Doom 3 Engine Proc File
.glm;.gla - GHOUL2 Model or Animation
.rdm - RDM (model)
.rda - RDA (anim)
.smd - Valve SMD
.png - Heightmap
.raw - FF7 Crisis Core Model
.gmo - GMO Model/Animation
.ymo - YMO Model
.trb - FF13 Model
.tp;.tpr;.gmd - DOAX2/NG2 Model
.pac - Sword of the Berserk Model
.mld - Skies of Arcadia Model
.nj - Ninja Chunk Model
.dae - COLLADA
.rdmfrank - RDM Frankenstein
.bin - Hokuto Musou Model
.nmd - SC4 Model
.mod - DMC4/RE5/LP Model
.3ds - 3D Studio Max Binary
.ply - Stanford PLY
.map - Half-Life .map
.rim - RIM Image
.dds - DDS Image
.tex - DMC4/RE5/etc. Tex Image
.pvr - Ninja-style PVR Image
.tm2 - TIM2 Image
.gim - GIM Image
.tim - TIM Image
.tga - TGA Image
.png - PNG Image
.arc - ARC2.0 container
.fpk - FPK container
.pbp - PBP container
.bnd - BND container
.bnd - BND305 container
.thfs - THFS container
.hed - HED/WAD container
.xpk - XPK container
.dll - Windows Portable Executable
.ftr - FTR container
.arc - ARC container
.arc - ARC zlib/xmem container
.pak - Quake/Half-Life PAK container
.ni - NI/NA container
.tbd - TBD container
.dat - DAT/.1 container
.x360.bin - FF13 container
.zarc - ZARC container
.iso - ISO container
.afs - AFS container
```
## Post #15
- Username: brienj
- Rank: VIP member
- Number of posts: 288
- Joined date: Mon May 02, 2005 8:48 pm
- Post datetime: 2010-06-10T22:53:29+00:00
- Post Title: Spotlight: Señor Casaroja's Noesis

Awesome, thanks for posting what it supports, just bummed no Yukes models are in there.  If you ever want to help me with the Yukes model formats, just let me know.
## Post #16
- Username: basil
- Rank: beginner
- Number of posts: 21
- Joined date: Mon Mar 29, 2010 3:00 am
- Post datetime: 2010-06-11T01:02:13+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

MrAdults: When you talk about "replicating native platform debugging functionality in a script debugger," that sounds like you're thinking of creating a new scripting language instead of using an existing one. Tools like SWIG can create bindings between C++ code and existing scripting languages like Python or Perl, which come with their own debuggers. If you're still planning on it, good luck maintaining your API.
## Post #17
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-06-11T03:57:43+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Yeah, the problem there is that neither of those languages facilitate direct memory access and debugging in native (e.g. Windows process) address space, and I think that is really vital in effectively discerning binary data in an all-in-one sort of workflow. I know lots of people do this stuff with nothing but hex editors, but really, I think a nice debugger makes the difference between cracking a format in a day and cracking it in a month. So debugging with full access to the underlying memory in all of your data structures and the file being observed, with the ability to cast any and all of that memory to language-native structures at runtime, is just a must-have here. Something like Python is very high-level and easy to understand, but it just does not lend itself to that kind of flexibility.

So...this led me to thinking along the lines of something like Quake 3 VM's, but anything like that would likely need a proprietary debugger. And once it was all up and running it would be awesome - a totally flexible sandbox with optional model-oriented language intrinsics and direct "native" memory casting/access is about the most you could ask for in terms of reversing model formats. But getting there probably isn't really worth the work, considering other things I could put all that work toward instead. 

So, I've kind of settled back on native DLL's, but using a "soft" pointer-based interface with some trickery to make it behave and work like a class, but the class can be extended and changed radically without busting old plugins. I'm still playing with things a bit in finding a balance between exposing interfaces directly and wrapping them behind sure-fire API's for compatibility's sake, but I think it'll work out fine in the end.
## Post #18
- Username: Wudan
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Tue Oct 13, 2009 11:44 pm
- Post datetime: 2010-06-11T13:54:38+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Well, I would recommend python for plugins.  It is an easy to learn and easy to read language and many of the barriers to deciphering a file format just aren't as big a deal.  I guess the next best thing would be like a python (any mesh) to collada converter and then displaying this in Noesis would work.

(yes I have googled and found pycollada, investigating ...)
## Post #19
- Username: ReeceMix
- Rank: advanced
- Number of posts: 64
- Joined date: Sat Nov 10, 2007 10:01 pm
- Post datetime: 2010-06-11T20:16:19+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

MrAdults are you the program author of Noesis, and if so did you figure out all of the model formats yourself ? 

I noticed there are a few japanese style game formats and was wondering if you could incorporate the 'Shenmue.MT5 Dreamcast Model format? (over at the [http://www.shenmuedojo.net](http://www.shenmuedojo.net) forums) We already have a 'slightly' 50% working program so a lot of the initial work has already been done and the sources are open for anyone to look at here [http://github.com/yazgoo/mt5_extraction_tools](http://github.com/yazgoo/mt5_extraction_tools) 

Personally this is very important to me and I and a few others would be willing to 'donate' money for a fully working program, If you can please help us.
## Post #20
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-06-11T23:40:20+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from Wudan
>
> Well, I would recommend python for plugins.  It is an easy to learn and easy to read language and many of the barriers to deciphering a file format just aren't as big a deal.  I guess the next best thing would be like a python (any mesh) to collada converter and then displaying this in Noesis would work.

(yes I have googled and found pycollada, investigating ...)I don't agree that python is good for this purpose, but you're more than welcome to implement your own python hooks via the native DLL plugin system!  Another benefit of native binary - it's flexible enough that anyone can do whatever the hell they want with it, including laying interpreted languages on top of it.

> Reply from ReeceMix
>
> MrAdults are you the program author of Noesis, and if so did you figure out all of the model formats yourself ?Not all, there are plenty of formats in Noesis that have specs publicly available. I only re-invent the wheel when I have to (e.g. people don't release any specs or source).

> Reply from ReeceMix
>
> I noticed there are a few japanese style game formats and was wondering if you could incorporate the 'Shenmue.MT5 Dreamcast Model format? (over at the http://www.shenmuedojo.net forums) We already have a 'slightly' 50% working program so a lot of the initial work has already been done and the sources are open for anyone to look at here http://github.com/yazgoo/mt5_extraction_tools

Personally this is very important to me and I and a few others would be willing to 'donate' money for a fully working program, If you can please help us.For this and all other support-this-format-please requests, I think it's probably apparent just based on the number of requests in this thread thus far that I can't afford to allocate time to go after all of these formats myself on the request of others. That's what the whole of Xentax is for - start threads in the appropriate forums sharing all of your code/info, and let everyone contribute, rather than selectively asking people to help out. I'm also far more likely to help out in those circumstances, when I see someone has already started a thread on something with everything out in the open. However, I'm juggling a bunch of projects right now, and Noesis is taking a lower priority for a little while until I clear more of my plate off, which means I'll be even less active/able to take requests than usual.

I also would never accept any money for any of this. I do it purely for educational/recreational purposes. 

Edit: Just so everyone's aware, I'm actually gonna be taking a programmer retreat for a week or two starting tomorrow, to deal with some of those other project issues I mentioned. Kind of a spontaneous decision, fueled by my utter lack of productivity in my "professional" work for the past several months. So I'll probably appear to be dead during that time. Feel free to continue posting and leaving feedback on Noesis here in the mean time! (and try not to send PM's/e-mails, the most depressing thing in the world after a productive retreat is coming back to 50 e-mails that are expecting a reply)
## Post #21
- Username: shadowmoy
- Rank: veteran
- Number of posts: 153
- Joined date: Sat Feb 21, 2009 9:29 pm
- Post datetime: 2010-06-12T18:49:24+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

hi there , really nice app mradult !
some things that could be added :

in the opendialog, the file filter may contain the platform and  the game name i think
something like :
[PC]Resident evil5 Model | *.mod
[xb360]Resident evil5 Model | *.mod

etc...
i already encountered several games using the same extension but not the same format/byte order on different hardwares,
it may be more convinient to know what filter to use for what game no ?

also adding a scripting  support in it would be very nice, i hate dlls :p , and maybe chroxx and me can add some new models support to the large list you already have ^^
## Post #22
- Username: firsak
- Rank: advanced
- Number of posts: 64
- Joined date: Wed Dec 16, 2009 7:32 pm
- Post datetime: 2010-06-12T22:45:18+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

2Mr.Adults

Don't know if this issue is game specific (Tekken 6) or concerns some other games.

```
.dae - COLLADA
Detected file type: SC4 Model
Writing 'C:\Documents and Settings\Firsak\Desktop\New Folder\ntxr000.dds'.
Writing 'C:\Documents and Settings\Firsak\Desktop\New Folder\ntxr000.dds'.
Writing 'C:\Documents and Settings\Firsak\Desktop\New Folder\ntxr000.dds'.
Cleaned 8.00MB (in 2 pools).
```


As you can see, files overwrite each other. This only occurs with NMD files that contain textures only.
Is there a workaround for this at the moment?   Maybe some command it would be wise to use?

Speaking of commands (advanced options). The only way that I found to get a list of commands was to launch mesh2rdm.
## Post #23
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2010-06-13T02:51:01+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

On the program's page i see version changing every time when i come. Where can i find change list?

Tekken6: when i convert other characters (backgrounds) i can't get weight data.
## Post #24
- Username: alvincx
- Rank: n00b
- Number of posts: 11
- Joined date: Tue Nov 24, 2009 7:15 pm
- Post datetime: 2010-06-13T11:35:53+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

thanks for the tool MrAdults, you're awesome!!

i'm just thinking if you could make that amazing tool like a posing program so that whenever we export the pose is already made..well just an opinion but hoping you could make it
## Post #25
- Username: basil
- Rank: beginner
- Number of posts: 21
- Joined date: Mon Mar 29, 2010 3:00 am
- Post datetime: 2010-06-13T15:12:57+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from shadowmoy
>
> in the opendialog, the file filter may contain the platform and  the game name i think
something like :
[PC]Resident evil5 Model | *.mod
[xb360]Resident evil5 Model | *.mod
I'm pretty sure the Open dialog only allows filtering by filename or extension, so I'm afraid this is not possible. Besides, to check files' types without relying on the extension, you would have to open and read at least a part of each file.
## Post #26
- Username: FEATHER
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Jun 13, 2010 1:47 pm
- Post datetime: 2010-06-13T21:54:01+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

it's AMAZING    because works fine in the win 64 bit version
## Post #27
- Username: AceAngel
- Rank: veteran
- Number of posts: 115
- Joined date: Mon Feb 09, 2009 12:45 am
- Post datetime: 2010-06-14T02:10:51+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

I know you guys said specifically 'No Requests' and that the tool will be updated overtime, but I really need to ask this much and forgive me.

Please put up a History/Format tab so that we may know what things are available in the tool. Thank you.
## Post #28
- Username: basil
- Rank: beginner
- Number of posts: 21
- Joined date: Mon Mar 29, 2010 3:00 am
- Post datetime: 2010-06-14T02:44:07+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

I think by "no requests" he mainly meant no asking to add specific 3D model formats. And also that he'll be gone for two weeks-- obviously, he can't take requests of any sort until he gets back. Unless he's psychic or something. You never know with these guys.
## Post #29
- Username: NMCM
- Rank: n00b
- Number of posts: 19
- Joined date: Wed Apr 15, 2009 2:02 pm
- Post datetime: 2010-06-16T18:57:43+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Maybe I'm the only one so far with a problem...but when I open the program it crashes before I could do anything. Windows Help and Support says it is Data Execution Prevention. I've tried adding it to the exception list but I got this: This program must run with data execution protection enabled. You cannot turn off (DEP) for this program.
## Post #30
- Username: basil
- Rank: beginner
- Number of posts: 21
- Joined date: Mon Mar 29, 2010 3:00 am
- Post datetime: 2010-06-17T00:08:17+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from NMCM
>
> but when I open the program it crashes before I could do anything. Windows Help and Support says it is Data Execution Prevention.
I just enabled Data Execution Prevention on my end, but Noesis still works fine. (That's Noesis v1.31 on Windows 7.) Maybe you can enable DEP for Windows services/programs only instead of for all programs. Or maybe you should do a virus/malware check in case there's something else going on. (Rather vague suggestions, sorry.)
## Post #31
- Username: NMCM
- Rank: n00b
- Number of posts: 19
- Joined date: Wed Apr 15, 2009 2:02 pm
- Post datetime: 2010-06-18T04:36:50+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from ukurereh
>
> NMCM wrote:but when I open the program it crashes before I could do anything. Windows Help and Support says it is Data Execution Prevention.
I just enabled Data Execution Prevention on my end, but Noesis still works fine. (That's Noesis v1.31 on Windows 7.) Maybe you can enable DEP for Windows services/programs only instead of for all programs. Or maybe you should do a virus/malware check in case there's something else going on. (Rather vague suggestions, sorry.)

I've tried all of the above, but no luck. I'm not sure what its...I am running on windows Vista Home Premium.
## Post #32
- Username: epopoe
- Rank: advanced
- Number of posts: 56
- Joined date: Thu Feb 11, 2010 9:22 am
- Post datetime: 2010-07-08T07:35:59+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from firsak
>
> 2Mr.Adults

Don't know if this issue is game specific (Tekken 6) or concerns some other games.
Code: Select allOutput extension has set output file type to:
.dae - COLLADA
Detected file type: SC4 Model
Writing 'C:\Documents and Settings\Firsak\Desktop\New Folder\ntxr000.dds'.
Writing 'C:\Documents and Settings\Firsak\Desktop\New Folder\ntxr000.dds'.
Writing 'C:\Documents and Settings\Firsak\Desktop\New Folder\ntxr000.dds'.
Cleaned 8.00MB (in 2 pools).

As you can see, files overwrite each other. This only occurs with NMD files that contain textures only.
Is there a workaround for this at the moment?   Maybe some command it would be wise to use?

Speaking of commands (advanced options). The only way that I found to get a list of commands was to launch mesh2rdm.


Same problem here.

files overwrite each other, so I cant get all texture files.

Some tip I have. Use 3dvia capture on Noesis .
## Post #33
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2010-07-11T01:48:50+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

2Mr.Adults

1. Can you add batch convert option?
2. Can you add support for Silent Hill: Homecoming to convert in .smd with bones and weight data?
## Post #34
- Username: hiryu64
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Tue May 11, 2010 5:40 am
- Post datetime: 2010-07-26T19:06:41+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Hey, this is a fantastic tool you've made here. I've been using it on the FFXIII models and it's quite nice. However, I believe I've encountered a bug when exporting to the SMD format. When I export to DAE, I get all the bones and weights in the proper places, but when I export as SMD, some of the bones move to the wrong place, stacking up on others and copying their weights. That is, the bones lose their original weighting and take on the weighting of the bone that they now overlap. Interestingly, they are still parented properly.

I've attached a photo showing what I mean. The DAE import is on the left, and the SMD import is on the right. You can look at her cape and right hand in the DAE shot and see that the bones are arranged normally, but in the SMD shot they appear to be missing. In this case, the cape bones are all on the root bone and the finger bones have all stacked on each other. It's bizarre.

Hopefully you get this and (if you have time) are able to do something about it. You can PM me for more info if you need to. As far as I know, everything else works great. If I encounter more bugs, I'll be sure to let you know. Thanks! 

(For reference, I'm using 3ds Max 2011, converting the file "c001_x360.trb" via Noesis -- see [this thread](http://forum.xentax.com/viewtopic.php?f=16&t=4069) for more info. For both I used the Rotate option, and for advanced options, I used -scale 40 for the SMD and -scale 101.5 for the DAE. I used OpenCOLLADA and Wunderboy's SMD Importer.)

EDIT
I've been testing it out on some of the other TRBs, and it seems that the issue only crops up if a model has over a certain number of bones. I can confirm that two of the models with lower bone counts (specifically f085 and c595, Frocobo and Vanille without clothing (yeah yeah, whatever...I chose this one because fewer clothes equals fewer bones)) appear to export with skeletons intact (though I'm not completely sure about c595). Their bone counts are 28 and 156, respectively. Lightning there (c001) has 251 bones, and her skeleton definitely screws up on export, as does c005 (Vanille with clothing), clocking in at 218.

I wonder if it may be an overflow issue or something. I'm not terribly knowledgeable on the subject, but maybe if too many bones are present the SMD export algorithm fails because of how memory is allocated or something...shot in the dark there, but hopefully I narrowed it down a bit. Thanks again, and hope to hear from ya soon!
[lightning_comp.png](https://xentaxbackup.github.io/file/3273_lightning_comp.png)
## Post #35
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-08-17T22:35:00+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Sorry for disappearing for a couple months longer than expected there. I had a lot of stuff to do, and now I've got to find another job before I go broke. So I don't really have the personal resources to devote to Noesis, but I'm still interested in adding to and fixing it in the long term, if I don't become a hobo. For those of you having any kind of crashes or hangs, I would ask if you can:

A) Provide reliable steps to reproduce.
B) Give me the details of your system (graphics card, CPU, etc.)
C) Super bonus points if you can manage this: Break the process into a debugger and give me the value of EIP (instruction pointer) for each thread, as well as registers for each thread and super bonus points if you can get the surrounding stack dump.
D) PM this info over to me.

There is an in-progress version with various bugfixes that I will try to get up sometime soonish. I haven't touched the project in over 2 months, now, so I've gotta clear some time to sit back down with it.

Regarding import/export bugs that only happen with specific format, just keep posting them here and I will deal with them as I get to them.
## Post #36
- Username: firsak
- Rank: advanced
- Number of posts: 64
- Joined date: Wed Dec 16, 2009 7:32 pm
- Post datetime: 2010-08-18T15:57:11+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Bug: textures are always referenced as PNGs in DAE when exported, even if texture output was set to TGA or DDS, so one has to manually edit DAEs with a text editor
Bug: crash on export if texture output is set to PNG or TGA with certain files ([sample](http://www.mediafire.com/?97o1e6jamt62pmt))
Bug: [Problem](http://forum.xentax.com/viewtopic.php?p=39511#p39511) with some of Tekken 6 NMDs that contain textures ([sample](http://www.mediafire.com/?yjo4zf8of4o3teb))
Bug: crash on opening certain SMDs ([sample](http://www.mediafire.com/?lmmtvmostk5yc50))
Bug: application sometimes takes a lot of time to open for no apparent reason (usually if you open a Noesis associated file type directly)
Request: FFXIV support ([samples](http://www.mediafire.com/?k8r11yduu45123k)). Some say that the format is almost identical to FFXIII and even can be opened with Noesis if the files are hexed properly
Request: remember the last export settings
Request: export to PSK/PSA (a good replacement for SMD, which, unfortunately, doesn't have reliable importers)
Request: help button in export dialog that, when pressed, pops up a window with a list of available commands
Request: ability to load files on top of already opened files to export as a whole (again, Tekken 6 would be a good example - you open someone's torso, then open legs, head and so on and export the result as one model)
## Post #37
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-08-22T07:30:44+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Edit: Oops, double-posted. It's taking me literally 2-5 minutes to view forum pages at the moment for some reason.
## Post #38
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-08-22T07:52:06+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Ok, I devoted a couple hours tonight to sitting down and addressing some of this stuff.

First, hiryu64, I'm sorry to have to say it's a bug in Wunderboy's SMD importer. Check out the SMD imported back into Noesis, and you'll see the skeleton is preserved perfectly. I have found similar bugs in that importer in SMD files not exported from Noesis, too. It's rather annoying to me, as it's also the SMD importer I use for Max.

And now...

> Reply from firsak
>
> Bug: textures are always referenced as PNGs in DAE when exported, even if texture output was set to TGA or DDS, so one has to manually edit DAEs with a text editorHm, I think this depends on your importer and suite. For me, Max 9 seems to automatically load the right file regardless of extension, as long as the path is right (using the OpenCOLLADA importer). But I can look into stripping or correcting extensions on import sometime, probably not for the next version though.

> Reply from firsak
>
> Bug: crash on export if texture output is set to PNG or TGA with certain files (sample)Fixed for next release.

> Reply from firsak
>
> Bug: Problem with some of Tekken 6 NMDs that contain textures (sample)Has been fixed for a long time, but haven't gotten around to making a release with the fix yet.

> Reply from firsak
>
> Bug: crash on opening certain SMDs (sample)Fixed, but that SMD is really screwed. Bad normals, bad weighting (lots of weightless verts).

> Reply from firsak
>
> Bug: application sometimes takes a lot of time to open for no apparent reason (usually if you open a Noesis associated file type directly)Cannot reproduce, but I would venture a guess that you are opening a file somewhere deep in a folder hierarchy, so it takes the MFC shell viewer a while to load that path up (due to the recursive nature of the thing). That's kinda out of my control, unless I want to start digging into Microsoft's control code and making my own overrides to optimize it, and I don't. 

> Reply from firsak
>
> Request: FFXIV support (samples). Some say that the format is almost identical to FFXIII and even can be opened with Noesis if the files are hexed properlyFF14 files from some alpha/beta a while ago all opened just fine with no modification, allowing such horrible abominations as [this](http://img535.imageshack.us/i/chocorapture.jpg/) to be created. If they changed the format, I'm not gonna bother following along. Maybe once the game's final, which will also lessen the chance of SE getting pissed off and throwing C&D's at poor Mr. Casaroja.

> Reply from firsak
>
> Request: remember the last export settingsMaybe some day.

> Reply from firsak
>
> Request: export to PSK/PSA (a good replacement for SMD, which, unfortunately, doesn't have reliable importers)I'm generally not opposed to new formats, but I don't really like PSK as an export format. It lacks support for vertex normals, and only supports per-triangle smoothing groups (which often translate from vertex normals inefficiently). Unless there is an updated spec that I am not aware of. In any case, I think there are far more deserving (and more flexible) formats that ought to come before PSK.

> Reply from firsak
>
> Request: help button in export dialog that, when pressed, pops up a window with a list of available commandsBeen done for a while. 

> Reply from firsak
>
> Request: ability to load files on top of already opened files to export as a whole (again, Tekken 6 would be a good example - you open someone's torso, then open legs, head and so on and export the result as one model)Maybe some day, but it's extremely low priority.

Next version will be up on the Oasis at some point in the coming days.
## Post #39
- Username: Acewell
- Rank: VIP member
- Number of posts: 1330
- Joined date: Wed Nov 05, 2008 7:16 pm
- Post datetime: 2010-08-22T09:16:02+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Bug(?): It has trouble reading all objects within non-character(vehicles, weapons etc) .glm files, some parts are missing from these when imported.
## Post #40
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-08-22T10:07:43+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from AceWell
>
> Bug(?): It has trouble reading all objects within non-character(vehicles, weapons etc) .glm files, some parts are missing from these when imported.
That's probably not a bug, and is just the default GHOUL2 behavior. Most GHOUL2 implementations (like in Raven's Jedi Knight games) have "tag" and "off" surfaces invisible by default. Since that path was written before the advent of surface toggling via the data viewer, it just excludes those surfaces entirely by default on import.

However, you can keep them intact when exporting, with these "advanced options" flags.

```
-g2exporttag - exports tag surfaces for ghoul2.
```
## Post #41
- Username: Acewell
- Rank: VIP member
- Number of posts: 1330
- Joined date: Wed Nov 05, 2008 7:16 pm
- Post datetime: 2010-08-23T01:32:03+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from MrAdults
>
> That's probably not a bug, and is just the default GHOUL2 behavior. Most GHOUL2 implementations (like in Raven's Jedi Knight games) have "tag" and "off" surfaces invisible by default. Since that path was written before the advent of surface toggling via the data viewer, it just excludes those surfaces entirely by default on import.

However, you can keep them intact when exporting, with these "advanced options" flags.
Code: Select all-g2exportoff - exports off surfaces for ghoul2.
-g2exporttag - exports tag surfaces for ghoul2.

Thanks for replying but it didn't work, i'm aware of those objects not meant to be visible but parts of the actual model which are meant to be seen are not being imported(or read at all) and are not exported even using the advanced options, this doesn't seem to be an issue with the character models which import and export fine.
For example; if I import a weapon then the scope geometry will not be imported etc.

If you need to see some examples then I can send them to you.
## Post #42
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-08-23T02:05:30+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from AceWell
>
> If you need to see some examples then I can send them to you.
If it's an actual bug, you would need to send some examples then, yeah. Can't fix what I can't see!

You mention a "scope" on a weapon so does this mean you are working with SoF2 glm's, JK2's disruptor, or what? Never did test any of those SoF2 models. I'm not sure if the format was changed there at all. It had the whole WRAITH system internally, but I'm pretty sure that was just a ridiculous and unnecessary API abstraction for animation-related crap.
## Post #43
- Username: hiryu64
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Tue May 11, 2010 5:40 am
- Post datetime: 2010-08-23T03:25:12+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from MrAdults
>
> First, hiryu64, I'm sorry to have to say it's a bug in Wunderboy's SMD importer. Check out the SMD imported back into Noesis, and you'll see the skeleton is preserved perfectly. I have found similar bugs in that importer in SMD files not exported from Noesis, too. It's rather annoying to me, as it's also the SMD importer I use for Max.
D'oh, I didn't even think of testing it out that way. I'm sorry I ever doubted you! *bow* I'M NOT WORTHY! I'M NOT WORTHY! 

I'll shoot Wunderboy an email alerting him of the problem, and hopefully he'll address the issue. DAE suits my purposes fine for now, but SMD is nice because of the whole one-mesh, one-smoothing group thing. Anyway, keep up the good work, and hopefully things begin to work out for you in the real world. Cheers!
## Post #44
- Username: hiryu64
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-08-24T19:07:27+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from hiryu64
>
> I'll shoot Wunderboy an email alerting him of the problem, and hopefully he'll address the issue. DAE suits my purposes fine for now, but SMD is nice because of the whole one-mesh, one-smoothing group thing. Anyway, keep up the good work, and hopefully things begin to work out for you in the real world. Cheers!
Cool, I hope he gets around to fixing it.

By the way, new Noesis is out: [http://oasis.xentax.com/index.php?content=downloads](http://oasis.xentax.com/index.php?content=downloads)

> ===============
>
> What's New
>
> ===============
>
> Version 1.6:
>
>  -New "Special Thanks" section in ReadMe, as I realized I was being a thankless bastard for all of the awesome people on XeNTaX.
>
>  -Fixed a .glm import bug, which would cause some surfaces to be missed entirely. (thanks to AceWell for submitting this bug)
>
>  -Added global JPEG reading/writing. (did this mainly to have auto-loading for JK2 model textures)
>
>  -Fixed another .glm bug, where path to .gla would be treated as working-directory-relative instead of file-relative.
>
>  -Made scene lighting not rotate with model when changing the base rotation axis.
>
>  -Added read support for very old RenderWare (I think) DFF format. (used in Sub-Culture for Windows/PC)
>
>  -Added limited BMP read/write support. (24bpp with no RLE)
>
>  -Fixed bad interface state when drag-and-dropping anims to apply to open models.
## Post #45
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-09-01T09:14:57+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

And now 0.7 is out! As usual, latest file can be downloaded at [http://oasis.xentax.com/index.php?content=downloads](http://oasis.xentax.com/index.php?content=downloads)

> ===============
>
> What's New
>
> ===============
>
> Version 1.7:
>
>  -Generic vertex morph handling. Only implemented so far for Sub Culture's DFF format, DOAX2/NG2, and MD3. Preserves vertex morphs on export (to some formats) and displays them in previewer as animations.
>
>  -Quake 3 MD3 import and export. (useful for exporting those morph target meshes, though there is usually precision loss in the format)
>
>  -Fixed a path bug, which might've shown up in situations where a file is processed in a working-directory-relative path.
>
>  -Support for converting skeletal models+animations to pure vertex morph animations, via the MD3 path. Bone-based tags are also supported. (see -md3tbone advanced option)
Boobie morphs seen in DOAX2/NG2 can be played as animations, but they are really meant as reference frames, so when you play them at the default framerate you will just see some hyperboobie jittering.
## Post #46
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2010-09-01T20:46:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

Great to see you back into the site  Nice update.
## Post #47
- Username: shadowmoy
- Rank: veteran
- Number of posts: 153
- Joined date: Sat Feb 21, 2009 9:29 pm
- Post datetime: 2010-09-03T10:11:24+00:00
- Post Title: Re: Señor Casaroja's Noesis

found a bug   
so trying to export a gmo to smd merge the groups in one global group
i tried in obj and it worked fine but no bones (obj sucks lol)
also gmo materials names seems in fact to be the texture name without the extension (ie: generally tm2 files)

seems gmo based games use ttd packages to store the tim2 textures 
could it be possible to auto load/extract ttd files when loading a gmo ?
basically you got filenames like this :
0000.gmo (model+ skeleton)
0000.ttd (texture package) to extract
0000.mot (animations)

also if you can add support for the mot file it could be nice ^^

thanks for this great app 

here is the sample files :
[http://www.mediafire.com/?5sgrrctyew8pkc8](http://www.mediafire.com/?5sgrrctyew8pkc8)
## Post #48
- Username: firsak
- Rank: advanced
- Number of posts: 64
- Joined date: Wed Dec 16, 2009 7:32 pm
- Post datetime: 2010-09-10T17:46:01+00:00
- Post Title: Re: Señor Casaroja's Noesis

[](http://img259.imageshack.us/i/attackh.png/)
The Noesis website is blacklisted, also being blocked by Avast.
## Post #49
- Username: Mr.Mouse
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2010-09-10T17:55:59+00:00
- Post Title: Re: Señor Casaroja's Noesis

Noted, I have informed MrAdults to clean it.
## Post #50
- Username: carbint
- Rank: n00b
- Number of posts: 10
- Joined date: Sun Sep 12, 2010 1:25 am
- Post datetime: 2010-09-11T17:27:35+00:00
- Post Title: Re: Señor Casaroja's Noesis

I have a .iso for Disk 1 of FFXIII. Please explain in great detail what I have to do to get models from it! I am desperate for models!  Please help asap  Thanks in advance!
## Post #51
- Username: Novax
- Rank: n00b
- Number of posts: 16
- Joined date: Tue Jan 29, 2008 5:41 pm
- Post datetime: 2010-09-11T20:26:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

I was curious by chance if you could add support to view Xenosaga Ep. III (and the other 2 episodes) models and extract them. I believe Ep. III and II use a .CHR format if correct. I hear Ep. I uses something different, not sure. My question is, can you add support for these games? Nice work though with everything you've done.
## Post #52
- Username: carbint
- Rank: n00b
- Number of posts: 10
- Joined date: Sun Sep 12, 2010 1:25 am
- Post datetime: 2010-09-12T13:03:19+00:00
- Post Title: Re: Señor Casaroja's Noesis

I have figured out how to extract FFXIII models, but a feature that is missing when you export is the feature to write to a folder that doesn't exist yet - I mean, can we please be able to type to export to, for example, C:\Models\Final Fantasy\Vanille, when that folder doesn't exist, and then the program makes the folder for us? It would speed it up so I don't have to create each folde manually
## Post #53
- Username: DMorrone
- Rank: Moderator
- Number of posts: 4
- Joined date: Sun Aug 29, 2010 12:01 am
- Post datetime: 2010-09-12T19:36:28+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Mr.Mouse
>
> Noted, I have informed MrAdults to clean it.

I've taken a look and removed what I could find.  All other pages in his directory are clean.
## Post #54
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-09-13T02:00:57+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from DMorrone
>
> Mr.Mouse wrote:Noted, I have informed MrAdults to clean it.

I've taken a look and removed what I could find.  All other pages in his directory are clean.

Oh, thanks for that. I just re-uploaded the whole site from my clean local copy. Sorry I couldn't get to it sooner, as I was away on a bit of a vacation.
## Post #55
- Username: garnetfanatico
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Mon Sep 13, 2010 7:40 am
- Post datetime: 2010-09-13T19:36:02+00:00
- Post Title: Re: Señor Casaroja's Noesis

I try to import the model from noesis 1.7 in format SMD but I have problems to see 
the model since the bones are too big such you see it is a problem on scale maybe?

[http://img831.imageshack.us/img831/8982/example2s.jpg](http://img831.imageshack.us/img831/8982/example2s.jpg)

The model works fine but the bones are huge O_o

how I can solve this problem from noesis? For reference, I'm using 3ds Max 2010
and plugin Wunderboy's SMD Importer.
## Post #56
- Username: firsak
- Rank: advanced
- Number of posts: 64
- Joined date: Wed Dec 16, 2009 7:32 pm
- Post datetime: 2010-09-13T21:15:22+00:00
- Post Title: Re: Señor Casaroja's Noesis

garnetfanatico,
-scale 100 command will give you the proper scale.
## Post #57
- Username: Novax
- Rank: n00b
- Number of posts: 16
- Joined date: Tue Jan 29, 2008 5:41 pm
- Post datetime: 2010-09-13T23:49:58+00:00
- Post Title: Re: Señor Casaroja's Noesis

I still keep getting the page blocked due to it being a malicious site. Also, is there any chance to support .CHR files in the future? This would help in ripping Xenosaga models very greatly.
## Post #58
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-09-14T02:15:29+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Novax
>
> I still keep getting the page blocked due to it being a malicious site.
That site is clean, it just needs to be registered under Google's webmaster tools to force a re-check of it. I don't know how long that takes, and I haven't yet been bothered to go through with the process. But you can still view it in the mean time with nothing to fear. Although I've noticed Firefox does not load it quite properly due to whatever "precautions" it's taking.

Also, just to note, people have been PM'ing me left and right and asking me to look at this and that, and I can't even promise to give things a look anymore because the todo list for this project has grown too much. So, sorry, but I'll probably have to keep ignoring requests until I can get time to work on Noesis again. I'm busy again trying to get job/money stuff sorted out at the moment. Please do keep reporting crashes/bugs, though. I'm always interested in those. Also, Wunderboy's SMD importer has a variety of issues, and people keep contacting me and blaming Noesis for said bugs. Please stop that!  If you're having a bug with something exported from Noesis and then imported into something else, first see if Noesis imports it properly. If Noesis does import it properly, chances are the problem isn't with Noesis.
## Post #59
- Username: Novax
- Rank: n00b
- Number of posts: 16
- Joined date: Tue Jan 29, 2008 5:41 pm
- Post datetime: 2010-09-14T03:44:37+00:00
- Post Title: Re: Señor Casaroja's Noesis

Alright, thanks for replying and I apologize if I offended you. I just suggested a possible .CHR viewer as I know obtaining Xenosaga models can be quite a pain and that this would make it a bit easier on alot of people. Again, thank you for responding and for your updates.
## Post #60
- Username: greywaste
- Rank: n00b
- Number of posts: 10
- Joined date: Fri Jul 30, 2010 5:10 am
- Post datetime: 2010-09-14T07:26:54+00:00
- Post Title: Re: Señor Casaroja's Noesis

This tool is pure awesome, thank you very much for all your work on it. I'm not too bothered about getting hellgate london models smoothly anymore since Noesis imports and exports the RE5 models so beautifully, no messed up faces and no lods *cheer*.  Thanks again!
## Post #61
- Username: garnetfanatico
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Mon Sep 13, 2010 7:40 am
- Post datetime: 2010-09-14T15:05:24+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from firsak
>
> garnetfanatico,
-scale 250 command will give you the proper scale.
Thank you firsak it works perfect now
## Post #62
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-09-14T23:05:46+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Novax
>
> Alright, thanks for replying and I apologize if I offended you. I just suggested a possible .CHR viewer as I know obtaining Xenosaga models can be quite a pain and that this would make it a bit easier on alot of people. Again, thank you for responding and for your updates.
It takes a whole lot to offend me these days, so you don't have to worry about that.  I just wanted people to know that I can't afford the time to keep taking special requests. Often times when I ignore people there, they get angry at me because they don't seem to understand that they are but one of many people that want something from me, and that I'm trying to juggle dozens of responsibilities outside of the particular project that they have interest in. I understand both sides pretty well, since I know it also sucks to want something in some popular piece of software and be totally ignored by the software's author. That's happened to me plenty of times. I can imagine that I might not empathize with it as well, if I didn't have 15 years of experience making free shit and getting everything from unreasonable feature requests to blatant hate-mail in response to my efforts. In any case, though, yeah. I'm just doing this stuff because it's fun, in the end, and that's why it's free. So thanks for the thanks. 

I've also requested a site review from Google now, so that should probably be cleared up soon. Maybe. I still have no idea how long these things usually take.
## Post #63
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-09-18T09:29:45+00:00
- Post Title: Re: Señor Casaroja's Noesis

Noesis v1.8 is up now on the [usual place](http://oasis.xentax.com/index.php?content=downloads). Of course, it contains nothing but stuff most of you will not care about at all. 

> -Made MD3 export path handle NULL UV's.
>
>  -Added import and export support for Heretic 2 .m8 textures.
>
>  -Added import support for Heretic 2 .fm models. Vertex animations are handled, but reference/node/skeletal data is not.
>
>  -Added support for paletted images in PNG and TGA loaders.
>
>  -Added support for SiN variant of Quake PAK format.
>
>  -Added import support for SiN SBM/SAM model/frame data.
>
>  -New support for ".noesis" scene files. This is a text-based format which allows custom scenes to be crafted with simulated physics, but functionality is still limited. Two scenes are included, one of which references an implementation of the ODE physics library.
The scene/physics simulation stuff is partially for an unrelated research project (monkeys and limbs) and Noesis just happened to be a nice platform to experiment for it. There is some crude auto-ragdolling functionality so that you can plug any skeletal model into a scene and watch it ragdoll. But of course, the constraints are fixed and it creates a simulated body for every single bone on the model. (but it does try to be intelligent about whether it fills gaps with capsules or caps off bone hierarchies with spheres) So with really complex skeletons it will probably bring the program to a crawl. Making the default bone radius too big is also a pretty bad idea. (unsolvable joint overlaps mean the physics engine will go to hell)

It's also possible to use this system in the future to get physics data decoded for games, though. It's implemented with a generic plugin interface, allowing any physics engine to be adapted without modifying Noesis itself.
## Post #64
- Username: tyb51
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Sun Oct 03, 2010 4:08 am
- Post datetime: 2010-10-02T20:11:52+00:00
- Post Title: Re: Señor Casaroja's Noesis

2Mr. Adult

I have a question i got models from FFXIII and if i export them i get like 15 texture files. Isnt it possible to make that some textures less because it gets realy difficult and time consuming to get all the textures on the right place (i didn't succees till know).

Probably you won't be able to do something about it but I could always ask.
## Post #65
- Username: firsak
- Rank: advanced
- Number of posts: 64
- Joined date: Wed Dec 16, 2009 7:32 pm
- Post datetime: 2010-10-02T20:25:12+00:00
- Post Title: Re: Señor Casaroja's Noesis

MrAdults,

When loading certain DAEs ([sample](http://www.mediafire.com/download.php?6ush5nest4mtc81)) Noesis won't read some meshes, and if you re-export this file through Noesis - those meshes disappear completely. Check out the eyes (object1, object2).

Probably not a bug and you just didn't hack the format completely: Crisis Core skeletons are screwed (bone positions are wrong). 

Regarding the previous "non-power-of-two DXT-compressed images to non-DXT formats" bug. Noesis now simply skips those images. Could you make it export those image in their default format, rather than simply skip them?

Thanks for listening.
## Post #66
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-10-02T23:45:29+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from tyb51
>
> I have a question i got models from FFXIII and if i export them i get like 15 texture files. Isnt it possible to make that some textures less because it gets realy difficult and time consuming to get all the textures on the right place (i didn't succees till know).
That's just how the models are broken up and textured. I don't think it would be worth making a texture-combine+uv-compensation export option.

> Reply from firsak
>
> When loading certain DAEs (sample) Noesis won't read some meshes, and if you re-export this file through Noesis - those meshes disappear completely. Check out the eyes (object1, object2).
Those meshes are not registered as triangle meshes, so as you will see on export, "Warning: Only pure triangle meshes are supported for conversion." Although they appear to be 3-sided polygons anyway, so it's kind of silly that they are not just triangle meshes. I'm currently too lazy to implement non-triangle primitives for import, but maybe one day.

> Reply from firsak
>
> Probably not a bug and you just didn't hack the format completely: Crisis Core skeletons are screwed (bone positions are wrong).
The skeleton data is not entirely contained in those models, only the hierarchy is. So the orientations are filled in based on weights. Most likely the proper skeletal data is in the same file as the animations, and I never bothered to locate it. Nor did the other guy that was working on the format with me. I can't say it's likely I'll ever get back to it, as the data is long gone from my HD, and it's pretty unlikely I will ever be motivated to re-rip my UMD. 

> Reply from tyb51
>
> Regarding the previous "non-power-of-two DXT-compressed images to non-DXT formats" bug. Noesis now simply skips those images. Could you make it export those image in their default format, rather than simply skip them?
Just set the image export target to "Default" if you want them in their "default format".  I didn't feel like modifying my software DXT decoder to handle non-block-aligned dimensions (I made some assumptions there when writing it, my bad), and re-targeting the export target at that point in the pipeline is out of the way, so crash prevention is the best you're gonna get.
## Post #67
- Username: ultimaespio
- Rank: mega-veteran
- Number of posts: 267
- Joined date: Thu Apr 15, 2010 2:55 am
- Post datetime: 2010-10-04T18:26:03+00:00
- Post Title: Re: Señor Casaroja's Noesis

Are the battle fields in FF7 viewable or is it just the character models?
## Post #68
- Username: pixellegolas
- Rank: ultra-veteran
- Number of posts: 423
- Joined date: Tue Aug 12, 2008 6:30 am
- Post datetime: 2010-10-05T15:06:10+00:00
- Post Title: Re: Señor Casaroja's Noesis

adults, while you are looking for a job and money you could at least place a donate button on your homepage and that might generate at least a small sum to pay for food
## Post #69
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-10-09T01:02:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from pixellegolas
>
> adults, while you are looking for a job and money you could at least place a donate button on your homepage and that might generate at least a small sum to pay for food
I'm not doing that badly.  At least, I should have another few grand coming in from my recently-released game soon. I should really still be looking for a job in advance, but I've been too lazy lately. Can't stop playing Harmony of Despair. And Aion. My will to actually work and/or live has been at a minimum lately.

Most of my expense is in my mortgage, which I don't think paypal donations would come anywhere close to covering. So it's not really worth it, because I fundamentally don't like to ask people for money pertaining to my hobby projects. Largely because I do them for fun, and because I can't promise I'd spend any more time on them even if people were throwing a few bucks at me every now and then. It would just make life more horrible if people were giving me 5 dollar donations and feeling entitled to 500 dollars worth of my time as a contract programmer in return. 

Also, never looked at any FF7 model other than the PSX battle models (because they were staring me in the face right there on the disc and I wanted them for direct reference in AVALANCHE). So if the formats are not identical, it's likely no other FF7 models are supported.
## Post #70
- Username: firsak
- Rank: advanced
- Number of posts: 64
- Joined date: Wed Dec 16, 2009 7:32 pm
- Post datetime: 2010-10-20T01:05:22+00:00
- Post Title: Re: Señor Casaroja's Noesis

MrAdults,
Could you fix the bug with incorrect bone orientations in Lost Planet/Resident Evil 5? 
From what I understand you're using Surveyor's code. His mod2max originally had this bug:



But you have fixed it for Devil May Cry 4:



Can you do the same for LP/RE5 models?
## Post #71
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-10-20T07:36:07+00:00
- Post Title: Re: Señor Casaroja's Noesis

Noesis's .mod format module is itself written from scratch, and the bone stuff I had to decypher from scratch too (I couldn't find usable info on it in the code posted by Surveyor and revelation, but maybe I missed something), so any mutual bugs are just coincidental I guess.

The format is treated exactly the same between DMC4/LP/RE5 as well. So you'd have to tell me which model(s) specifically you see a problem with. All of the models I've checked out from all 3 games have perfectly correct skeletons, so I don't actually have the slightest idea what you're talking about.
## Post #72
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2010-10-20T20:14:54+00:00
- Post Title: Re: Señor Casaroja's Noesis

I think he is using the wrong dae plugin in max.
## Post #73
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-10-21T11:46:41+00:00
- Post Title: Re: Señor Casaroja's Noesis

Ah, yeah, that would explain it. You can verify that by whether it looks correct in the Noesis preview, though.

Also, I just stuck 1.9 up. Didn't get a chance to finish a lot of stuff I've been meaning to work on, but here's what's there.

> -Corrected a texture load path bug with .noesis files.
>
>  -Added support for extracting GCF (Valve) files. Tested with format version 1.6, support for other versions is questionable.
>
>  -Added import support for Valve VTF textures. Only supports a limited set of image types, and was only tested with v7.1 images.
>
>  -Added import support for Source MDL models. Only tested with format version 44.
>
>  -Added import support for Quake MDL.
>
>  -Added import support for FF8 battle models/animations.
>
>  -Made HL .map support actually work again. (loads halflife.wad if it's in the working directory, to generate proper texcoords)
>
>  -Changed default coordinate system for Heretic 2, SiN, and Q3A models.
## Post #74
- Username: firsak
- Rank: advanced
- Number of posts: 64
- Joined date: Wed Dec 16, 2009 7:32 pm
- Post datetime: 2010-10-21T13:14:04+00:00
- Post Title: Re: Señor Casaroja's Noesis

The contents of this post was deleted because of possible forum rules violation.
## Post #75
- Username: ultimaespio
- Rank: mega-veteran
- Number of posts: 267
- Joined date: Thu Apr 15, 2010 2:55 am
- Post datetime: 2010-10-21T14:37:06+00:00
- Post Title: Re: Señor Casaroja's Noesis

Thanks for the FF8 support  

I've noticed that it crashes when trying to load Zell's weapons:

d1w008.dat
d1w009.dat
d1w0010.dat
d1w0011.dat

Quistis' weapons appear a little mangled:

[](http://s85.photobucket.com/albums/k61/ultima_espio/?action=view&current=chainwhip.png)

d3w018.dat
d3w019.dat
d3w020.dat
d3w021.dat
## Post #76
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-10-21T15:47:08+00:00
- Post Title: Re: Señor Casaroja's Noesis

It all looks fine with the PSX assets. Maybe your data is corrupt from bugs in whatever LZS decompression tool you used. (PSX data is not LZS-compressed)
## Post #77
- Username: ultimaespio
- Rank: mega-veteran
- Number of posts: 267
- Joined date: Thu Apr 15, 2010 2:55 am
- Post datetime: 2010-10-21T15:48:57+00:00
- Post Title: Re: Señor Casaroja's Noesis

Ah, I got it from the PC version. I used Mirex's old Unmass tool. I'll have a look at the psx data.

EDIT: Erm, how do I get the data from the PSX version? :/

Is there any other tool to get them from the pc version? I only know of Unmass but i'm sure there's others.
## Post #78
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-10-21T17:27:08+00:00
- Post Title: Re: Señor Casaroja's Noesis

I'm not actually sure, I just figured there was probably something well-known that did it. Although the actual file table is stored in the binary, and the offsets and contents are different for different regions, so being able to get at it reliably is a little bit of a bitch too.

If there's nothing that does it the right way, you can use Noesis to do it. Although it's a bit haphazard, and just bruteforces through the image looking for models.

Are there any other programs that handle FF8 battle models? All I could find is Biturn, which has them totally broken and doesn't seem to even recognize non-monster battle models, and some tool a Russian guy made that has busted bone orientations. And I couldn't find any specs on the animation data at all, so I got to have fun disassembling FF8's binary to figure that one out. During that process, I cursed the Russian man repeatedly for not releasing source.
## Post #79
- Username: ultimaespio
- Rank: mega-veteran
- Number of posts: 267
- Joined date: Thu Apr 15, 2010 2:55 am
- Post datetime: 2010-10-21T18:59:46+00:00
- Post Title: Re: Señor Casaroja's Noesis

There's only Biturn and that Russian viewer. If you remember Koral was working on one, but stopped working on it for personal reasons. Koral didn't release any source either.

Dunno if this is related to it, but I've been looking at the animations, and it seems that only Squall and Zell use their victory animations.
## Post #80
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-10-21T22:03:23+00:00
- Post Title: Re: Señor Casaroja's Noesis

As far as I know, koral was only looking at the field models. But that's only going off of the thread google found when I was looking to see if anyone had done my work for me.

That's normal. Not all animations are provided in the same files (breakpointing the "load battle file" assembly function I found seems to reveal new battle data being loaded in once the battle ends and before fanfare begins, presumably victory animations), and some files contain an extra sequence or two in other non-standard sections which tend to house weird one-off anims every now and then.
## Post #81
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2010-10-23T15:42:45+00:00
- Post Title: Re: Señor Casaroja's Noesis

MrAdults, can you implement support of V3O model format in Noesis? This format is totally understandable and looks like obj. I want convert models from Desperados 2/Helldorado.

I noticed that same engine ([Vision Game Engine](http://www.trinigy.net)) use by other [game titles](http://www.trinigy.net/en/clients/game-customers), but unfortunately from game to game model format heavily different.

I attached samples from [Desperados 2](http://www.mediafire.com/?fj2of9notw501a2) and [Lula 3D](http://www.mediafire.com/?447ui3xq95g27yb).
In addition i attached source code for Zmodeler 2 filter, maybe it help somehow.

Thank you.
[zmod2_v3o_filter_src.rar](https://xentaxbackup.github.io/file/3548_zmod2_v3o_filter_src.rar)
## Post #82
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-10-27T06:21:44+00:00
- Post Title: Re: Señor Casaroja's Noesis

Version 2.0 is now up. This is kind of a huge release, fitting for a 2.0 I suppose.

```
 -Plugin SDK is now included in pluginsource.zip. Each plugin project compiles in MS Visual Studio 2005, and they probably compile fine with the free Express Edition.
 -Quake II MD2 import support added via plugin. Source code is included.
 -PCX image import and export support added via plugin. Source code is included.
 -Inter-Quake Model import and export support added via plugin. Source code is included.
 -Added new control over scene lights. Highlight them in the data viewer to rotate them with the left mouse in the model view. Their pivot point and distance to pivot can also be adjusted directly in the data viewer.
 -Added support for extracting LithTech REZ files. (thanks to aluigi's bms script for the spec)
```


The new format plugin API is pretty vast, and I've tried to expose just about everything I could think of to make life easier for adding new formats, for all types of media. (models, textures, animations, and archives) The source code for the IQM plug-in demonstrates pretty much everything you'd need to import or export any skeletal model+animation format.

I've also tried to pad out all of the shared structures and interfaces a lot, and either use clever tricks to make sure I don't break old plugins with internal changes, or just leave plenty of room in the given structure so that I don't need to bust anything with future changes. There is also a plugin API extension interface in place (like OpenGL extensions), although it doesn't do anything yet since there are not yet any post-plugin-Noesis releases for which to add extensions.

If anyone decides to actually try writing plugins, feel free to let me know about any problems you run into. It would make me pretty happy to see third-party Noesis plugins actually start to flourish.

Edit: And now 2.1 is up! 

```
 -Fixed a general archive bug, which was causing quite a few archive file types to not be correctly recognized.
 -Added another RAPI interface function (for plugins) which performs all commandline-specified transforms on a set of animation matrices. (plugins previously had no way to obey -rotate, -posoffset, etc. command line options for anim data)
 -Fixed a variety of transform (rotate/scale/offset) bugs, as some transform behavior was still format-dependent and it no longer is.

```

The bundled SDK has been updated slightly. (doesn't break old plugins, though, on the off chance that anyone's working on any)
## Post #83
- Username: Cloud452
- Rank: veteran
- Number of posts: 91
- Joined date: Sat Oct 23, 2010 9:50 pm
- Post datetime: 2010-10-30T06:03:12+00:00
- Post Title: Re: Señor Casaroja's Noesis

Wow, 2.0 (and 2.1!) will support plugins? Quite a nice feature for a 2.0 release. I can't wait to see what people come up with.  I've been using Noesis to view various models in an attempt to get a better understanding of them, and it's been quite helpful.
## Post #84
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-11-01T04:16:18+00:00
- Post Title: Re: Señor Casaroja's Noesis

2.2:

```
 -Fixed a bug causing extra vertex weights to sometimes not be initialized with NMSHAREDFL_FLATWEIGHTS_FORCE4.
 -Unified the way that model-with-builtin-animation export is handled. (the IQM plugin code has been updated accordingly)
 -Over 15 new RAPI functions for plugin development, exposing lots of new functionality, from tokenized text parsing to image resampling and combining. (see pluginshare.h, >= 2.2 API functions are commented)
 -Added -mdlavoidfb command line option to avoid fullbright colors when exporting Quake MDL skins.
 -Added -mdlskinsize command line option to explicitly set output dimensions of Quake MDL skins.
```

I mainly wanted to get this out as a bug fix, as all the new stuff lately had accumulated in breaking a few things, and the plugin interface had a couple oddities and things that weren't exposed that I'd meant to expose. I also wanted to round out support for import+export of MDL, MD2, MD3, and MD5. The MD2 plugin code has been updated with the new exporter, and will serve as another good example for prospective plugin writers.

I think the plugin interface is pretty damn solid and robust now as well. At least, when working in plugin land, I haven't found myself hitting any more snags or wishing I'd exposed something that I didn't. Although it would be much easier to refine if I had third parties working in it and giving me suggestions. 

This will hopefully be the last standard-feature-update/fix release for a bit, as I'm planning to get back to finally working on new formats now that the base is back to feeling pretty sturdy.
## Post #85
- Username: CMihai
- Rank: veteran
- Number of posts: 131
- Joined date: Sun Jul 05, 2009 7:58 pm
- Post datetime: 2010-11-03T00:09:45+00:00
- Post Title: Re: Señor Casaroja's Noesis

Do I am doing something wrong or ? Noesis doesn't see .mod files ( RE5/DMC4 ), doesn't recognize containers etc... from all those types/containers work only for around 30% of them, No idea what could be the problem...
## Post #86
- Username: Cloud452
- Rank: veteran
- Number of posts: 91
- Joined date: Sat Oct 23, 2010 9:50 pm
- Post datetime: 2010-11-03T15:59:10+00:00
- Post Title: Re: Señor Casaroja's Noesis

I wanted to view the maps for Crisis Core, via the RAW's but found that while nice, RINOA_v0.51 displayed them far too small.

Noesis can't seem to handle them, I get a "This file type cannot be previewed, but is exportable. Would you like to export?" message, so I try it and then this happens:

```
.obj - WaveFront OBJ
Detected file type: FF7 Crisis Core Model
Warning: Only 8bpp is currently supported for texture output.
Warning: Only 8bpp is currently supported for texture output.
Warning: Only 8bpp is currently supported for texture output.
Warning: Only 8bpp is currently supported for texture output.
Warning: Only 8bpp is currently supported for texture output.
Warning: Only 8bpp is currently supported for texture output.
Warning: Only 8bpp is currently supported for texture output.
Warning: Only 8bpp is currently supported for texture output.
Warning: Only 8bpp is currently supported for texture output.
Warning: Only 8bpp is currently supported for texture output.
Warning: Only 8bpp is currently supported for texture output.
Warning: Only 8bpp is currently supported for texture output.
Warning: Only 8bpp is currently supported for texture output.
Warning: Only 8bpp is currently supported for texture output.
Warning: Only 8bpp is currently supported for texture output.
Warning: Only 8bpp is currently supported for texture output.
Warning: Only 8bpp is currently supported for texture output.
Warning: Only 8bpp is currently supported for texture output.
Warning: Only 8bpp is currently supported for texture output.
Warning: Only 8bpp is currently supported for texture output.
Warning: Only 8bpp is currently supported for texture output.
Warning: Only 8bpp is currently supported for texture output.
Warning: Only 8bpp is currently supported for texture output.
Unexpected primitive attribute size in display list (pos 1, uv 2).
Cleaned 8.00MB (in 2 pools).
```
,  and no file exported.

So I exported it via RINOA, got an OBJ and a bunch of texture files.... but something wasn't right, I found they were "swizzled".

In trying to find a way to correct this, I found: [http://www.richwhitehouse.com/index.php?postid=48](http://www.richwhitehouse.com/index.php?postid=48) But I'm not entirely sure what to do with it. Although I should note, I have PNG's, not GIM's.... since that is what RINOA exported the textures as, along with the OBJ and a MTL file. And through a bit of searching, I've found that the textures are in TIM2 format?

As you can see I think the textures are indeed "swizzled":

[http://img183.imageshack.us/img183/4586 ... awtex0.png](http://img183.imageshack.us/img183/4586/02242rawtex0.png)

I could use this, and the other maps for references. At the moment, there's a bit of a debate about the Emerald Weapon showing up in the background, or it being a new Weapon (I recall somewhere it mentioned they created a new one), but given what I saw ([despite the screwed up textures](http://img828.imageshack.us/img828/4057/3dsmaxbanoracavernsemer.png)), it appears they just used the original Emerald Weapon model (albeit chopped up). However if I was going to use this information, showing a properly textured screencap of that area would be much better, right?

MrAdults, if there is a way to unswizzle these textures and have Noesis export them along with the model, I would be very grateful!
## Post #87
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-11-03T21:47:58+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from CMihai
>
> Do I am doing something wrong or ? Noesis doesn't see .mod files ( RE5/DMC4 ), doesn't recognize containers etc... from all those types/containers work only for around 30% of them, No idea what could be the problem...
Containers not being recognized properly was a bug in some old versions, should be fine in 2.2. Not being able to see .mod files has never been a bug, though. Maybe you accidentally selected a specific type on the filetype filter.

As for FF7CC maps, they aren't supported. I never actually looked at them, and I don't think I have the data anywhere easily accessible anymore. It's worth noting that the PNG's RINOA spat out may be pre-untiled, but wrongly, which would make a normal untiling algorithm fail on them. I don't know though, I've never actually used RINOA. So you're on your own there.
## Post #88
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2010-11-04T17:58:37+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hey mr Adults, is there a way you can add support for sfiv and ssfiv files??
## Post #89
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-11-04T23:59:15+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Darko
>
> Hey mr Adults, is there a way you can add support for sfiv and ssfiv files??
There are tools for those formats already, right? Are the specs public?

Anyone who knows the specs (I don't, I would have to re-invent the wheel if they are not public) could pretty easily write a Noesis plugin for them, which I would be quite happy to see happen.
## Post #90
- Username: lex3a
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Sat May 15, 2010 5:11 am
- Post datetime: 2010-11-05T14:32:27+00:00
- Post Title: Re: Señor Casaroja's Noesis

[http://sf4viewer.sourceforge.net/](http://sf4viewer.sourceforge.net/)
Maybe this will help you.

Also:
Do you plan to add SMD Animation Export?
## Post #91
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-11-05T22:37:55+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from lex3a
>
> http://sf4viewer.sourceforge.net/
Maybe this will help you.
Nice to know that the specs are out there. But this provides even less reason for me to be the one to implement it. 

> Reply from lex3a
>
> Also:
Do you plan to add SMD Animation Export?
Last I checked, I couldn't find a Max 9 importer that handles sequence-only SMD's correctly. Wunderboy's had issues. But I'll probably get around to it one day.
## Post #92
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-11-07T13:01:37+00:00
- Post Title: Re: Señor Casaroja's Noesis

Well, 2.3 is up:

```
 -Bayonetta model import support. Source code is included in the plugin SDK.
 -Sped model preview load up slightly. Probably won't be noticeable, this was mainly a forward-looking optimization.
 -Added vertex morph frame items for the data viewer. Highlighting a frame will render the model in that frame in the active preview.
 -Now sorting the file type mask in alphabetical order.
 -Various new plugin API functions, including some useful procedural animation functionality. (use it to test your bone weights)
 -Fixed another container bug that was causing .iso and .afs to not be correctly recognized.
 -Added CPK container extraction support. Thanks to hcs for releasing source code that describes this format! This implementation should run around 10-20 times faster than cpk_unpack.exe.

```

Some notes about Bayonetta:

1) Some models look messed up, but they really aren't. They just contain overlapping LOD meshes, and I haven't been able to find a LOD index or a flag that dictates something is a LOD.
2) Some models look messed up, because they are! There are some weird vertex strides occasionally and other random trouble with face indexing.
3) Haven't started on animation data yet. If anyone else has, let me know.
4) The code is right there and compilable/debuggable in Noesis. Feel free to help me out!

And speaking of helping me out, I'll probably be ceasing work on Noesis again for a little while. I've been a complete failure and neglected everything in pretty much every other facet of my life since I began this Noesis-binge. So I kindly request that you send some of those "can you add support for x" requests to some other capable programmers who can write some third-party Noesis plugins.

This latest release makes life as a plugin author even easier, and Bayonetta shows how relatively easy the task of adding 360/big-endian files can be. There's also some newly-exposed functionality for testing out your bone weights. This pretty much streamlines the whole process of reverse-engineering models and puts 0 obstructions between your debugger/data-analysis and your runtime evaluation of your results. I really suggest giving it a try. I can also tell you how to set yourself up to launch your plugin+model+Noesis directly out of MS Visual Studio, if you aren't familiar with that sort of thing. (you probably are, if you've ever made a Half-Life/Quake3/etc. mod)
## Post #93
- Username: Cloud452
- Rank: veteran
- Number of posts: 91
- Joined date: Sat Oct 23, 2010 9:50 pm
- Post datetime: 2010-11-07T18:59:14+00:00
- Post Title: Re: Señor Casaroja's Noesis

2.3 already?! Nice progress MrAdults!

I hope some coders take the initiative and create various plugins. I personally hope for an directx format exporter.
## Post #94
- Username: CMihai
- Rank: veteran
- Number of posts: 131
- Joined date: Sun Jul 05, 2009 7:58 pm
- Post datetime: 2010-11-09T18:19:08+00:00
- Post Title: Re: Señor Casaroja's Noesis

Damn man, that's pure epic, GJ there ! 

I still hope that someday someone will rip Golden Axe Beast Rider  chroxx did some progress from what I remember...
## Post #95
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-11-10T15:08:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

UberBlack informed me that Vanquish uses almost the same format as Bayonetta, so I made a small update to support it, and fixed Bayonetta support in the process. (most models now load without trouble, but some are still kind of broken)

```
 -Fixed Bayonetta support up, and added Vanqish support in the same plugin module. (the formats are similar)
 -Fixed broken path names for FPK extraction, made TTD's auto-load with GMO's. (when applicable)
```

Vanquish uses a different material system from Bayonetta, and uses global texture identity references. And unlike Bayonetta, there are many shared texture resource pools, rather than having each .dat file typically bundled with the mesh and its unique texture bundle. So a lot of models will show up textureless in default preview, though models that have a corresponding .dtt file will typically load textures correctly.

Also, as far as I can tell, the only way to correctly figure out which reference is to normal maps is to disassemble the pixel shader referenced by the model (pixel shader references were added in some new data that doesn't seem to appear in Bayonetta). But because that is crazy, I just hacked some checks in to hardcode offsets based on a few possible shader references. It covers most character/enemy models, but not all of them. If you see weird black specks on the model, it probably grabbed the wrong normal map, so you'll have to turn off lighting or per pixel lighting (in the data viewer's model root branch) to view it normally. I've only come across one of those so far, which I just couldn't be bothered to fix. (the model appears like 5-10 times, and looks fine in other instances)

Also, after I noticed that Bleach model thread, I fixed FPK support and made the GMO path auto-load TTD files if they're present. (this allows you to export textures from them as well, along with the model)
## Post #96
- Username: Cloud452
- Rank: veteran
- Number of posts: 91
- Joined date: Sat Oct 23, 2010 9:50 pm
- Post datetime: 2010-11-10T18:08:57+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Also, after I noticed that Bleach model thread, I fixed FPK support and made the GMO path auto-load TTD files if they're present. (this allows you to export textures from them as well, along with the model)
Great! I had been having trouble using the fpk unpacker.

Question though, when I extract and view the gmo, it appears to have two models merged into one:

[](http://img844.imageshack.us/img844/6559/ikkakudoublehands.png)

I recall that there was a similar issue with the Dissidia model for Ceil, [](http://img835.imageshack.us/img835/209/cecildarkpaladin.png) and there was a command that separated them... is there something similar I can do here?


Btw, when you said 
> Reply from MrAdults
>
> I don't think I have the data anywhere easily accessible anymore. when it came to the Crisis Core map files, if it would be of any use, I could provide you with the RAW map file?
## Post #97
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-11-10T21:11:03+00:00
- Post Title: Re: Señor Casaroja's Noesis

They aren't multiple models, they're just surfaces within the model. You can toggle them off and/or delete them after export. However, I had the GMO exporter defaulting to batching all surfaces which share the same material, and that's a problem for cases like this.

I just put 2.36 up which contains nothing but a switch to non-grouped by default. (instead it's grouped by the surface name and material, so things like the hand models are properly separated) If you want to get the old grouping functionality now, you can use -gmogroup.

Also, I'm seriously going to stop updating this thing for a while now. Until more glaring issues catch my eye, and I'm helplessly pulled back into the codebase like some kind of infected sore that I can't stop picking at.
## Post #98
- Username: revelation
- Rank: mega-veteran
- Number of posts: 183
- Joined date: Tue May 13, 2008 12:15 am
- Post datetime: 2010-11-12T13:33:50+00:00
- Post Title: Re: Señor Casaroja's Noesis

MrAdults,
Are multiple calls to rpgBegin/rpgEnd formed into sub-meshes automatically within a model, or do they override one another?
## Post #99
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-11-12T19:46:20+00:00
- Post Title: Re: Señor Casaroja's Noesis

Sweet, someone's actually taken a look at the plugin SDK! 

All triangles get auto-batched into surfaces by material+name, which means multiple rpgBegin/rpgEnd and CommitTriangles (depending on whether you want to use immediate or buffered methods) can end up as a single surface. If you want to ensure certain geometry is batched into certain buckets without redundantly setting the material, you can use rpgSetName.
## Post #100
- Username: revelation
- Rank: mega-veteran
- Number of posts: 183
- Joined date: Tue May 13, 2008 12:15 am
- Post datetime: 2010-11-12T20:28:33+00:00
- Post Title: Re: Señor Casaroja's Noesis

ah, ok.  Do multiple calls within the same model have to have the same data layout?  So if the first batch contains vertex colors, the following need them as well?
## Post #101
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-11-12T20:56:55+00:00
- Post Title: Re: Señor Casaroja's Noesis

It does in theory handle drawing multiple primitives with differing available data, e.g. one Begin/End batch with vertex colors and another without. If you don't separate those surfaces by name, though, it's possible they could get batched together, and you'd end up with the corresponding vertex data zero'd out in part of the surface. Which in some cases might be fine, or desirable. Separating the surfaces by setting the name, however, will allow you to eliminate that possibility. Since each end-result surface has its own locally-mapped vertex data.
## Post #102
- Username: revelation
- Rank: mega-veteran
- Number of posts: 183
- Joined date: Tue May 13, 2008 12:15 am
- Post datetime: 2010-11-12T21:00:56+00:00
- Post Title: Re: Señor Casaroja's Noesis

Ok, i will try that.

Now another question.  Are texture references cleared when the context is destroyed?

i am getting crashes related to textures.  i was following the example whereby a context is created with each model.  The difference being this format has multiple models that share the same texture list.  So i created the textures before the model contexts are created.  i am finding that the second model seems to have valid materials but invalid textures.  So would it be better to create a single context and simply make the multiple rpgConstructModel calls in the same manner instead?
## Post #103
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-11-12T21:12:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

Texture references stick around once the context is destroyed, but referencing the same textures between multiple model instances might get you in trouble. It's funny that you've run into this issue, because I just happened to be thinking about it in the shower this morning and wondering if it would break. I've never actually run into a situation before where I wanted to share a single texture set between multiple models. Since the texture set gets freed along with the model, pointing to the same texture data on two models could be a bad thing.

However, that would only be a problem once the data is freed, in theory. That doesn't happen until you totally close out of the preview or load another model into the preview. Destroying the rpg context has nothing to do with it, and making multiple rpgConstructModel calls under one context won't save you from crashing. The work-around would be to duplicate the texture data, but that's pretty nasty too.

If you don't mind, can you send me the plugin and the necessary data? Adding a reference count to the material data counter should fix the fundamental problem I'm thinking of (and I can handle that internally by detecting the references to a given material data set, so the plugin author doesn't have to change anything), but there's probably another problem I'm not even aware of if it's crashing outright for you.
## Post #104
- Username: revelation
- Rank: mega-veteran
- Number of posts: 183
- Joined date: Tue May 13, 2008 12:15 am
- Post datetime: 2010-11-12T21:21:08+00:00
- Post Title: Re: Señor Casaroja's Noesis

My guess is that it is crashing during destruction, as it happens once you load another model or close the application.  But in either case the texture references in any model but the first show nothing when accessed in the data viewer.  Does setting shouldFreeData or making calls to Noesis_GetMatDataFromLists have anything to do with how the internal texture data is handled or released?  i will send you the information shortly.  i may just be using things incorrectly since i kind of just hacked things into an existing plugin's code from the tool i had written in another thread.
## Post #105
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-11-12T21:29:53+00:00
- Post Title: Re: Señor Casaroja's Noesis

Ah, ok, that's a good sign, then. It means the only thing going wrong is probably what I think is going wrong. 

Setting shouldFreeData causes Noesis to free the texture data, if you've allocated it with the Noesis_UnpooledAlloc function. (the Noesis heap) But if you've used Noesis_PooledAlloc function, you don't have to worry about setting that bool. If you're allocating it with malloc, new, or something that uses your module-local heap, then that's also bad. It means you'll end up with a memory leak (since Noesis doesn't have access to your module's local heap), or a potential crash if you set shouldFreeData, as Noesis will then try to free the data on its own heap.

So that could be a problem too, if you didn't change your code over to use the Noesis memory alloc functions. But I suspect the main problem is still on my end. It's also worth noting that the only data you need to worry about there is the pixel data itself. Everything else is pool-allocated for textures and materials, to avoid this whole mess.  I'd also be happy to hear any suggestions you might have for making the use of these interfaces a little less obtuse or generally more obvious/friendly. I haven't gotten any good feedback on it yet, and am really very happy that you're messing around with it.
## Post #106
- Username: revelation
- Rank: mega-veteran
- Number of posts: 183
- Joined date: Tue May 13, 2008 12:15 am
- Post datetime: 2010-11-12T21:35:44+00:00
- Post Title: Re: Señor Casaroja's Noesis

Yeah, i converted things to using the UnpooledAlloc, as i was using the bayonetta plugin as a base (was going to ask you for the file names of some of the models you say were messing up).

Does the pixel data get deallocated at some point possibly between when i am passing the data again to the next model?  Or should i possibly be calling Noesis_GetMatDataFromLists only once for use by both models?

File should be incoming to your email shortly.
## Post #107
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-11-12T21:43:00+00:00
- Post Title: Re: Señor Casaroja's Noesis

Cool. That last update fixed most of the Bayonetta models, I just hadn't been paying attention to the primitive type value or the vertex offset on the batches. There is still one that's totally insane though, its vertex offset is way into the file instead of the usual 128/160, and the vertex stride is 48 instead of the usual 32. I'll try to find it again, I still haven't actually gotten around to investigating that one in-depth. And it might be corrupted entirely, as it could be a remnant of when I was fiddling around with the CPK decompression.

Yeah, you'll definitely want to only call Noesis_GetMatDataFromLists once for both models. At least with the way I'm about to fix it to set things up. I'm planning to add a reference count to the noesisMatData_t, so that multiple models can reference that. But multiple noesisMatData_t's referencing the same textures will still be a problem.

I suppose alternatively, you could use PooledAlloc for your texture data and not set shouldFreeData, and it'd clear the whole mess up. Since the texture data would then just be freed as part of the normal instance pool.
## Post #108
- Username: revelation
- Rank: mega-veteran
- Number of posts: 183
- Joined date: Tue May 13, 2008 12:15 am
- Post datetime: 2010-11-12T21:51:38+00:00
- Post Title: Re: Señor Casaroja's Noesis

Ok, i will try setting the material and texture call once and see if that helps with the PooledAlloc.  The issue i may have with that is that i may have to change the way i am setting up materials.  This format can include a diffuse color either per-vertex or for the entire mesh block.  It unfortunately does not have traditional listing of materials, thus i may end up having to do a full pass over the mesh data and collate all the matching diffuse colors into single material references.  i have simply been ignoring the diffuse colors so far as it was not entirely necessary for proper viewing of the data.

Will have to see.

EDIT:
Oh and does the same thing apply for rpgSetExData_Bones as it does for rpgSetExData_Materials, as far as setting it only once if they share the same list?
## Post #109
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-11-12T22:03:23+00:00
- Post Title: Re: Señor Casaroja's Noesis

Interesting. I'm not sure the noesisMaterial_t's diffuse member is even used for the preview, either.  I stuck it in there figuring I'd eventually run across something that needed it, and implement it on the rendering side at that point. That's something I can fix on my end too, though, if you just fill in the data on your end. But if it doesn't look like it's working, that's why.

For all the SetExData stuff, yeah, you only need to set it once per rpgContext.

In terms of the actual sharing of bones, they're all pool-allocated, so you won't run into memory sharing/freeing issues there. The only potential issue might be in conjunction with animation, using the same bone data structures could end up causing transform bugs. Or not, since I think the preview structures for transform caches and such are totally separate from the actual bone structure. So I think it should work without issue. But if it doesn't, let me know. Could very easily be another bug on my end.

Edit: Oh, I did implement it. But then I broke it, haha. Will be fixed in the next version. (once you send me your plugin and I fix any related bugs, I'll go ahead and push a new version out for you right away)
## Post #110
- Username: revelation
- Rank: mega-veteran
- Number of posts: 183
- Joined date: Tue May 13, 2008 12:15 am
- Post datetime: 2010-11-12T22:22:31+00:00
- Post Title: Re: Señor Casaroja's Noesis

Oh, also, not sure if you noticed it, but i don't think Bayonetta/Vanquish has rotation in its skeleton info.  They are relative and absolute positions for the joints.  Vanquish also has its material index in a different location (its the uint16 value in the location before the uint8 value Bayonetta uses).
## Post #111
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-11-13T00:08:41+00:00
- Post Title: Re: Señor Casaroja's Noesis

Yeah, I was just assuming there all along. I only noticed when I actually looked at the bone axes the other day that the axes weren't really oriented properly, which led me to go "Oh..."  I still haven't gotten around to looking more in-depth at Bayonetta's animation data, either. I'm not sure how similar it is to the format in Vanquish. I noticed they use different file extensions for the actual motion data, but haven't even gotten as far as opening a Vanquish anim in a hex editor.
## Post #112
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2010-11-13T03:41:37+00:00
- Post Title: Re: Señor Casaroja's Noesis

even if the formats are identical its not worth looking into vanquish every single movie is pre rendered so the only anims in the game will be generic dodge and shoot animations.
## Post #113
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-11-14T00:59:37+00:00
- Post Title: Re: Señor Casaroja's Noesis

I've been sneaking Noesis updates out incrementally, mainly for testing and fixes related to the plugin revelation has made. It's up to 2.38 which also continues some minor feature additions, like the ability to specify a transform modifier for a bone in the data viewer. But mainly, you'll want to have at least 2.38 to be able to use revelation's plugin when he releases it. Older versions will not load the plugin. (or they'll possibly crash, if you're using 2.36 or 2.37)
## Post #114
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2010-11-15T22:50:50+00:00
- Post Title: Re: Señor Casaroja's Noesis

are there any examples of loading zlib compressed data with a plugin? or having the program read files from a zip archive?
That would give it a huge advantage over max script for me.
## Post #115
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-11-15T23:54:18+00:00
- Post Title: Re: Señor Casaroja's Noesis

That's an aspect of plugins that I actually hadn't even thought of yet. I'll add exposure for a bunch of compression functions in the next release. I think I've built up a pretty sizable repository of them at this point.
## Post #116
- Username: Zerox
- Rank: mega-veteran
- Number of posts: 186
- Joined date: Mon Aug 09, 2010 10:50 am
- Post datetime: 2010-11-16T05:02:32+00:00
- Post Title: Re: Señor Casaroja's Noesis

I don't know if this has ever been suggested before, but I wouldn't mind the ability to set default settings for exporting models.

For example I'm using .smd, .tga, Flip UV's, and Rotate 90 degrees altogether often recently. And I don't know how hard it would be to implement but it'd be great if we could save preferred settings somewhere as default or maybe even just having the export function remember what was last used during the same session would be good.
## Post #117
- Username: Cloud452
- Rank: veteran
- Number of posts: 91
- Joined date: Sat Oct 23, 2010 9:50 pm
- Post datetime: 2010-11-18T05:08:30+00:00
- Post Title: Re: Señor Casaroja's Noesis

I noticed what appeared to be Crisis Core maps on the download page, so checked out the download section, and I see v2.5 is up. I'm exceedingly happy to see you've implemented support for the maps.
## Post #118
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-11-18T17:02:27+00:00
- Post Title: Re: Señor Casaroja's Noesis

You got me. I was hesitant to even do it, knowing that granting a format-related request usually means getting an avalanche of 50 related requests in return. But my unending need to make things suck less got the better of me. I also wrote a pkg extractor for 2.51, which attempts to append correct extensions and changes the FF7CC model extension to .ff7ccmodel. I was getting sick of .raw files always showing up in the viewer just because it was the extension given to FF7CC models by the dumper some guy on the qhimm forums wrote.

But the more significant thing in 2.5 is the exposure of compression functions and an example plugin for the Metroid Prime .pak format. (all 3 variants of it, thanks to revelation)
## Post #119
- Username: Cloud452
- Rank: veteran
- Number of posts: 91
- Joined date: Sat Oct 23, 2010 9:50 pm
- Post datetime: 2010-11-19T08:54:50+00:00
- Post Title: Re: Señor Casaroja's Noesis

I thank you once more for implementing it, and I'm sure if I ever become interested in Metroid, I'll be thanking you at that point.

Out of curiosity, I noticed Noesis created a "motion" folder, when I extracted the pkg file for Crisis Core. All the files are in 'mot' format, which my computer associates with LightWave 3D 9.6. I assume these are the motion files associated with either the maps, or the models? If so, is there a way to make use of them? I've always wondered what it would take to enable the map to act similarly to how it would (ie. glowing/moving mako) in some program (unfortunately I am not as knowledgeable as yourself, or I would have tried to create such a program...).
## Post #120
- Username: falconcool
- Rank: veteran
- Number of posts: 105
- Joined date: Tue Jun 16, 2009 11:41 am
- Post datetime: 2010-11-20T04:36:50+00:00
- Post Title: Re: Señor Casaroja's Noesis

Bug report~or not:P
I can't extract psx's ff8 img container,,,i've tried previous noesis versions.none of them work.
It always crashs when i try to extract img container.Is it only for PC version?
Any idea?
## Post #121
- Username: ultimaespio
- Rank: mega-veteran
- Number of posts: 267
- Joined date: Thu Apr 15, 2010 2:55 am
- Post datetime: 2010-11-20T14:01:59+00:00
- Post Title: Re: Señor Casaroja's Noesis

Thanks for the CC map support. I've had a look through, and there are some that are missing big chunks of geometry. The Chocobo Farm File2166 is missing most of the map, I could only tell that it was the Farm by looking at the textures.
## Post #122
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-11-20T22:02:54+00:00
- Post Title: Re: Señor Casaroja's Noesis

falconcool: Well, works for me. You're probably trying it on disc from a different region, and it's crashing on an unexpected case. You'll have to send me a proper crash dump. Or at minimum, the loaded base address of noesis.dll and the context info (or at least value of EIP) for every thread at the time of crash. Also, make sure you retrieve the crash info from Noesis 2.53 and not an earlier version.

ultimaespio: Many map models will not display correctly without disabling face culling, and many maps are split up into multiple models so that they do not appear whole unless layered. Additionally, many pieces of the map are instanced/tiled at runtime, and so in the actual model geometry will appear off in the middle of nowhere. The mako cannon map is a good example of instancing, and you can see the base instance models in lots of other maps. That's something you're just going to have to deal with. Instance info is probably not in the model files themselves. (though I can't say I really looked) That said, though, there was an actual bug causing it to miss large chunks of geometry in a few models. That's fixed in 2.53.
## Post #123
- Username: falconcool
- Rank: veteran
- Number of posts: 105
- Joined date: Tue Jun 16, 2009 11:41 am
- Post datetime: 2010-11-20T23:18:34+00:00
- Post Title: Re: Señor Casaroja's Noesis

Mr adult~  Thanks for your help
I was trying to extrat the img container from ntsc-j psx disks~that's probablly the reason.
This is the stuff i found in the error message,not sure if they are the stuff you need.
(yes,,i used noesis 2.53 this time).please tell if i sent wrong ones~.
[http://www.megaupload.com/?d=TY5XF99D](http://www.megaupload.com/?d=TY5XF99D)
And please check your pm,,i've an useful information for you~:)
## Post #124
- Username: Zerox
- Rank: mega-veteran
- Number of posts: 186
- Joined date: Mon Aug 09, 2010 10:50 am
- Post datetime: 2010-11-21T02:40:12+00:00
- Post Title: Re: Señor Casaroja's Noesis

Well good news I decided to try out your Batch Process in Noesis. I must say it's quite handy. I've figured out many commands. Though I'm curious, are there any commands to export each converted model to its own folder based on the name of the original model? As right now it seems to only dump it out into the folder it was already in. I would also like to know if there is a command I can use to set the texture export type to .tga rather than .png.

Thank you for the wonderful tool! I appreciate it.
## Post #125
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-11-21T02:48:20+00:00
- Post Title: Re: Señor Casaroja's Noesis

falconcool: That's just a copy of the DLL renamed as .tmp, and a summary of the modules. Doesn't have any info about the crash. You can Google about how to get proper crash info for whatever version of Windows you're using. Regarding your PM, Noesis already supported FF14 at some point. Still does unless they changed the format. I don't have FF14 and don't plan to pick it up, as it's a trainwreck of a game. So unless it manages to get patched into sucking a lot less, I have no plans to add it to Noesis. Well, maybe one day for series-completion's sake, but I'd treat 9/10/11/12 with higher priority.

Zerox: Sure, just modify the command text yourself. I'm sure there are plenty of semi-decent text editors that would let you replace every other instance of the path string with whatever you want, without having to manually go through and do it for each line.
## Post #126
- Username: falconcool
- Rank: veteran
- Number of posts: 105
- Joined date: Tue Jun 16, 2009 11:41 am
- Post datetime: 2010-11-21T06:34:25+00:00
- Post Title: Re: Señor Casaroja's Noesis

Sorry i didn't send the correct files.
I'll upload again once i figure out the correct stuff you need.
(ram dumping data?)  
Yes,FF14 is a shitty game now,we know about it.
But it's character design is not as bad as it's system.haha,,that's why i pm you.
## Post #127
- Username: ultimaespio
- Rank: mega-veteran
- Number of posts: 267
- Joined date: Thu Apr 15, 2010 2:55 am
- Post datetime: 2010-11-22T12:47:38+00:00
- Post Title: Re: Señor Casaroja's Noesis

That's ok. The only problem I had was with big chunks of the model missing. The instancing can be fixed/hidden outside of Noesis, so it's no problem.
## Post #128
- Username: yy4cmm
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Thu Oct 07, 2010 4:39 am
- Post datetime: 2010-11-24T09:09:33+00:00
- Post Title: Re: Señor Casaroja's Noesis

i have a problem opening md5anim files and md5mesh files directly from file explorer since they dont appear, only way i can open them is associating the md5 files to Noesis and double clicking the files so they open up perfectly but i cant export them since i dont have them selected (because they not appearing on file explorer and have nothing to select) its a bug or im doing something wrong?


EDIT: nevermind, even tho the file doesnt appear while even selecting "all known formats" i just saw the "all Files" option too, and selecting it the files appears now, guess theres a problem with the filetype recognition or something but once allowing it to recognize all fileypes they just pop up and u can click them and they open just fine
## Post #129
- Username: yy4cmm
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Thu Oct 07, 2010 4:39 am
- Post datetime: 2010-11-24T17:15:00+00:00
- Post Title: Re: Señor Casaroja's Noesis

Ok i managed to extract the animation, the only proper animation format to save as is the .rda, now my question is: do i need some converter or plugin or something to open these .rda animations in for example 3dsmax so i can apply these animations to other meshes and edit the animation itself? or i need specific software to open .rda and be able to edit them?
## Post #130
- Username: lex3a
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Sat May 15, 2010 5:11 am
- Post datetime: 2010-11-24T19:39:03+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from yy4cmm
>
> Ok i managed to extract the animation, the only proper animation format to save as is the .rda, now my question is: do i need some converter or plugin or something to open these .rda animations in for example 3dsmax so i can apply these animations to other meshes and edit the animation itself? or i need specific software to open .rda and be able to edit them?
How about Collada (*.DAE)? 
Just export your animation to this format, but don't use standard 3ds Max Importer for Collada because it has several problems.
## Post #131
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-11-27T20:44:04+00:00
- Post Title: Re: Señor Casaroja's Noesis

I was bored and stuffed full of dead things yesterday, so I sat down and wrote some math classes for the plugin system. Then I refined them a bit today. 2.62 has that stuff, along with integrating the math classes into the existing 3 model plugins. I don't think I've done anything non-plugin-authors will care about, though. (or I forgot, which will tend to happen when I start going more than a week or two without a release)

The classes are a lot friendlier than the existing C-based math library interface, and they mostly just encapsulate that. Although I did end up writing a decent bit of original functionality into them as well. But mainly, I was just getting sick of not having operator overrides for my vectors.
## Post #132
- Username: ultimaespio
- Rank: mega-veteran
- Number of posts: 267
- Joined date: Thu Apr 15, 2010 2:55 am
- Post datetime: 2010-11-27T21:30:38+00:00
- Post Title: Re: Señor Casaroja's Noesis

I know you don't like feature requests, but is there a chance of getting a "group meshes by texture" option? It would be so much easier for some models, like some maps and the KHBBS models. For some reason  models have 53+ different meshes.
## Post #133
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-11-27T22:32:48+00:00
- Post Title: Re: Señor Casaroja's Noesis

Grouping is generally done by material, surface name, and vertex attributes. KHBBS models, from what I gather (based primarily on discussions with revelation), are made up of many different geometry strips with differing vertex attributes. Because the vertex attributes are regularly changing as the model is drawn, it gets broken up a lot. That's just the way it goes.

Although I could probably make it batch more effectively by sorting by material+name+attributes instead of just material+name, I expect you're still going to end up with a fairly decent number of meshes. But I'm not quite sure why you care - if you don't want separate meshes, just merge them in whichever modeling app you're using.
## Post #134
- Username: ultimaespio
- Rank: mega-veteran
- Number of posts: 267
- Joined date: Thu Apr 15, 2010 2:55 am
- Post datetime: 2010-11-27T22:55:50+00:00
- Post Title: Re: Señor Casaroja's Noesis

I feel a little stupid now...I was trying to attach all of the models together, and that caused them to lose their skeletal data. I didn't realise that I could use the group modifier on them.

Thanks anyway lol.
## Post #135
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-11-27T23:28:36+00:00
- Post Title: Re: Señor Casaroja's Noesis

Well, I'd actually already written the functionality in my optimization path for interleaved vertex output, as it turns out. So I just exposed it on an option independent of that, -combinemeshes. No guarantee that it works, since it hasn't really been tested. Except for processing the production assets in my iPhone game, which is a relatively small data set.
## Post #136
- Username: Zerox
- Rank: mega-veteran
- Number of posts: 186
- Joined date: Mon Aug 09, 2010 10:50 am
- Post datetime: 2010-11-29T06:13:00+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hey Mr. Adults, I hate to bug you with a request of any sort, but you mentioned that with GMO models at least Noesis auto-groups anything that uses the same material. But with some models such as the models in Bleach Heat the Soul 7 they have multiple hand mesh groups that get grouped into the same one and are a bother to separate by hand after exporting. I found that I could prevent the other hands and such from rendering while viewing in Noesis but upon exporting I still had them all grouped together.

This may sound opposite to what ultimaespio just asked but could you add a option to not group mesh groups by material or any method and just leave them separate?
## Post #137
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-11-29T06:54:22+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Zerox
>
> But with some models such as the models in Bleach Heat the Soul 7 they have multiple hand mesh groups that get grouped into the same one and are a bother to separate by hand after exporting.

They don't. Tested exporting them to DAE. If you're exporting to a format that doesn't properly support surface separation on export, well, that's just what you get.
## Post #138
- Username: Zerox
- Rank: mega-veteran
- Number of posts: 186
- Joined date: Mon Aug 09, 2010 10:50 am
- Post datetime: 2010-11-29T07:11:49+00:00
- Post Title: Re: Señor Casaroja's Noesis

So is .SMD one of the formats that would be such as they're always combined upon export to that.
## Post #139
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-11-29T09:36:17+00:00
- Post Title: Re: Señor Casaroja's Noesis

I don't believe there is a SMD importer in existence which groups triangles by anything other than material name. Nor should there be, as it seems the core spec does not contain the ability to insert object markers:

[http://developer.valvesoftware.com/wiki/Studiomdl_Data](http://developer.valvesoftware.com/wiki/Studiomdl_Data)

...and the generally accepted form is for each triangle to specify its own material. I believe I also parse SMD's by throwing triangles into material buckets. So, like, use a different format, man. Duh! Also, Leslie Nielsen is dead, so I'm watching the Naked Gun trilogy while drinking heavily. I'm well into 2 1/2 which means I should be very well wasted by now, and the numb sensation in my brain would indicate that's the case.
## Post #140
- Username: Nexus Elite ns
- Rank: beginner
- Number of posts: 20
- Joined date: Mon Nov 09, 2009 1:11 am
- Post datetime: 2010-12-01T03:28:47+00:00
- Post Title: Re: Señor Casaroja's Noesis

Would it be possible to have noesis support lost planet 2 file?
## Post #141
- Username: Heartache
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Sun Nov 21, 2010 4:30 am
- Post datetime: 2010-12-02T14:57:38+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hello I have a question. I want to export some objects from the Game Tekken 6 with Noesis. Now there is a problem with one texture ( i dont know if it is the only texture which makes problems, or not)....well i want to export a texture. so i go to File=>Export: Additional texture output: .jpg ( i also tried all the others). choose the folder for the textures and then push ok and then it starts to write and at some textures there is this text: Cannot export non-power-of-2 DDS:
Can anyone help me? i need those textures -.-
## Post #142
- Username: Zerox
- Rank: mega-veteran
- Number of posts: 186
- Joined date: Mon Aug 09, 2010 10:50 am
- Post datetime: 2010-12-02T21:12:34+00:00
- Post Title: Re: Señor Casaroja's Noesis

Textures usually come in sizes of 256x256 or 512x512. Sounds to me like it isn't one of those or a derivative of them. So you'sll need to resize it. You could just download Gimp and its free dds plug-in. Then you could resize it and save to any format you want.

To my knowledge though,  I don't believe Noesis supports dds textures.
## Post #143
- Username: firsak
- Rank: advanced
- Number of posts: 64
- Joined date: Wed Dec 16, 2009 7:32 pm
- Post datetime: 2010-12-03T00:31:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Heartache
>
> i need those textures -.-
Set texture output to default and you'll have those textures as DDS.
This issue has been discussed in this topic already.
## Post #144
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-12-04T10:45:14+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from firsak
>
> Set texture output to default and you'll have those textures as DDS.
This issue has been discussed in this topic already.
What he said. But to further clarify, Noesis can import DDS and export DDS, but it cannot export non-DDS to DDS, and it cannot export non-power-of-two DDS to non-DDS. So if you have non-power-of-two DDS files that you need to dump, just leave the texture output to "default" and let it directly write the DDS's, as mentioned.
## Post #145
- Username: Heartache
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Sun Nov 21, 2010 4:30 am
- Post datetime: 2010-12-05T17:44:00+00:00
- Post Title: Re: Señor Casaroja's Noesis

thank you so much to all of you
## Post #146
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-12-14T21:14:45+00:00
- Post Title: Re: Señor Casaroja's Noesis

2.7:

```
 -Added ActorX PSA (animation) import+export. Plugin source is included.
 -Added md5anim export.
 -Added support for animation sequences. Sequences can be viewed in isolation by selecting them in the data viewer.
 -Added "export from preview" option, which exports data directly from the preview model, incorporating any changes made by the data viewer.
 -Added BNR+U8 container support.
 -Exposed generic un-lzss function, which accepts many different decompression parameters.
```

Protip: Drag-and-drop an animation file on top of a loaded model (click "No" for the prompt that comes up), and it'll apply that animation (if the bone counts and/or names match) to the preview model. You can that use "export from preview" to export the combined model+anim into a format that supports it. (like COLLADA)

Edit: It's also worth noting that PSK/PSA are really shitty formats. I implemented them due to popular demand, but they only support 1 unparented (root) bone, and no vertex normals. (only smoothing groups)

On PSK export I do not even bother trying to generate smoothing groups from edge normals, since it's impossible to preserve artist-tweaked normals to begin with, and auto-generating smoothing groups from normals is just a shitty solution to have to go with. I do obey smoothing groups on import. Also, when a model has more than one root bone, its subsequent root bones are childed to the first root bone, and the animation matrices (when applicable) are compensated.

Generally, PSK+PSA are horrible formats for correctly preserving model data.

Edit 2: New version with a bunch of changes/fixes, as there were even more PSK/PSA limitations which I was unaware of. I also made a pretty broad change regarding the way normals are calculated for models that don't provide them.
## Post #147
- Username: FEATHER
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Jun 13, 2010 1:47 pm
- Post datetime: 2010-12-17T01:58:08+00:00
- Post Title: Re: Señor Casaroja's Noesis

Thanks for your tool MrAdults

Persona 3 PSP use GMO, but when i preview the files in Noesis I just see some random stuff (Like some object and not characters)  with out texture... i cant export nothing of this game, i think the GMO files of this game are a little different than the standar GMO or maybe i'm wrong...

Take your time bro' and merry christmas for you!!
## Post #148
- Username: shadowmoy
- Rank: veteran
- Number of posts: 153
- Joined date: Sat Feb 21, 2009 9:29 pm
- Post datetime: 2010-12-17T11:06:11+00:00
- Post Title: Re: Señor Casaroja's Noesis

mrAdult>do you know any way to unswizzle ps2 tim2/tim3 textures ? (i can send you some samples if needed)
## Post #149
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-12-17T14:40:06+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from FEATHER
>
> Thanks for your tool MrAdults

Persona 3 PSP use GMO, but when i preview the files in Noesis I just see some random stuff (Like some object and not characters)  with out texture... i cant export nothing of this game, i think the GMO files of this game are a little different than the standar GMO or maybe i'm wrong...

Take your time bro' and merry christmas for you!!
I haven't seen those files directly, but they're probably only animations. A lot of games don't store geometry or textures in their GMO's, or sometimes vice versa. (like Fate/Unlimited and Bleach) If you can't find any usable geometry in the GMO's, it's probably in a different format.

> Reply from shadowmoy
>
> mrAdult>do you know any way to unswizzle ps2 tim2/tim3 textures ? (i can send you some samples if needed)
I never have come across a PS2 hardware-twiddled TM2. I would like to add generic decoding support for it to Noesis, so feel free to send over some samples. (a variety of resolutions and pixels modes would be best) I do have a generic PSP hardware untwiddling routine that works for all strides and pixel modes, but I'm guessing PS2 hardware twiddling is different.
## Post #150
- Username: shadowmoy
- Rank: veteran
- Number of posts: 153
- Joined date: Sat Feb 21, 2009 9:29 pm
- Post datetime: 2010-12-17T17:18:16+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> 
shadowmoy wrote:mrAdult>do you know any way to unswizzle ps2 tim2/tim3 textures ? (i can send you some samples if needed)
I never have come across a PS2 hardware-twiddled TM2. I would like to add generic decoding support for it to Noesis, so feel free to send over some samples. (a variety of resolutions and pixels modes would be best) I do have a generic PSP hardware untwiddling routine that works for all strides and pixel modes, but I'm guessing PS2 hardware twiddling is different.

ok so for starting here is a bunch of ps2 TIM3 (swizzled tim2 basically with same header , just the magic is different but also apply to TM2 magic)

[http://www.mediafire.com/?cbbdixf9bxvr9zi](http://www.mediafire.com/?cbbdixf9bxvr9zi)

i found some "generic explanation on the net , it seems sony choose to use a generic ps2 swizzling :

> Swizzled textures (all formats) are stored as blocks of 16 bytes X 8 rows. (so 32-bit texture data is swizzled into 4x8 blocks)
and this code snippet :

```
{
	if (log2_w <= 4)
		return offset;
 
	unsigned w_mask = (1 << log2_w) - 1;
 
	unsigned mx = offset & 0xf;
	unsigned by = offset & (~7 << log2_w);
	unsigned bx = offset & ((w_mask & 0xf) << 7);
	unsigned my = offset & 0x70;
 
	return by | (bx >> 3) | (my << (log2_w - 4)) | mx;
}

```

so if i understand well you need to convert it to rgba 32 bit texture then unswizzle the data ?
## Post #151
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-12-18T15:38:17+00:00
- Post Title: Re: Señor Casaroja's Noesis

At first I was confused, because your quote describes exactly the PSP's texture twiddling. Then I Googled it and was not so confused anymore, as it turns out you got your quote from the *PSP* dev section of the ps2dev forums. 

I got your TM3's loading, and will look into how to untwiddle them next time I get a chance. May be a little bit, as I just got a Kinect that I'm about to start playing around with.
## Post #152
- Username: shadowmoy
- Rank: veteran
- Number of posts: 153
- Joined date: Sat Feb 21, 2009 9:29 pm
- Post datetime: 2010-12-18T16:51:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

yup it was on the psp one but the files are from ps2, also thanks for sharing your free time (also hope you will share some code snippet to increase my knowledge, i got it "partially" unswizzled but i think the ps2 swizzling may require some additionnal code here and there to fully work.
## Post #153
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-12-19T03:57:45+00:00
- Post Title: Re: Señor Casaroja's Noesis

I meant that your quote refers to PSP and not PS2, yeah, so it's not at all applicable. As I've found, hardware texture twiddling is totally different between the two platforms.

Anyway, looks like PCSX2's code has everything you need already.
[http://pcsx2.net/downloads.php](http://pcsx2.net/downloads.php)
Just keep in mind that it's under GNU GPL. You'll want to look primarily at gslocalmemory.cpp/h, and gstables.cpp.
## Post #154
- Username: Ulquiorra
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sun Dec 19, 2010 10:58 pm
- Post datetime: 2010-12-20T07:59:50+00:00
- Post Title: Re: Señor Casaroja's Noesis

yes, hello there, I just picked up noesis and bleach heat the soul 7 the other day and when i try to preview a gmo file from there it gives me an error stating "file could not be previewed" it doesnt work with any of the gmo files from that game for some reason, am I doing something wrong? do i have to have a plugin to see .gmo files from this game? if it helps im trying to view ulquiorras gmo which i believe is 0000.gmo in chr/ulk/chr file.

Edit: nevermind I got it, the problem was the fpk extractor i was using.
## Post #155
- Username: Andrakann
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-12-22T07:29:06+00:00
- Post Title: Re: Señor Casaroja's Noesis

2.8 is up, which features the results of my Kinect madness:

[http://www.youtube.com/watch?v=zpbuzz7g5FQ](http://www.youtube.com/watch?v=zpbuzz7g5FQ)

If you wanna get this going for yourself, you're pretty much on your own, as it's all very much in an experimental state. Here's a pretty simple/straightforward guide on how to set your Kinect up under Windows, found via Google:

[http://www.cleoag.ru/2010/12/10/kinect-openni/](http://www.cleoag.ru/2010/12/10/kinect-openni/)

And attached are some Kinect bone maps for a few models that I happened to make. (from Bayonetta, Vanquish, Gundam Battle Royale, and Sword of the Berserk)
[kinectmaps.zip](https://xentaxbackup.github.io/file/3705_kinectmaps.zip)
## Post #156
- Username: shadowmoy
- Rank: veteran
- Number of posts: 153
- Joined date: Sat Feb 21, 2009 9:29 pm
- Post datetime: 2010-12-22T11:18:39+00:00
- Post Title: Re: Señor Casaroja's Noesis

awasome MrAdult !! do you plan to add some motion recording or something like this ?
## Post #157
- Username: SLIFallen
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Sep 28, 2010 11:26 pm
- Post datetime: 2010-12-22T11:45:17+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from shadowmoy
>
> awasome MrAdult !! do you plan to add some motion recording or something like this ?

INDEED!  This is precicely what I am after. Mo-Cap for the masses. A way to create mo-cap animation files to apply to game modding that can be read into "most" modeling apps. (.bms probably?)

Still. Even at this early stage MOST EXCELLENT WORK!  BRAVO! 

Edit: and rumors abound that Kinect will get an firmware update that will allow more precice tracking (640x480) which will be enough resolution for individual finger tracking as well. (apparently they intentionally limited the camera(s) to 320x240 as to not oversaturate the USB bus as there may have been other devices hooked to it as well. (like my HD-DVD player...DOH!)
## Post #158
- Username: Andrakann
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-12-22T17:24:46+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from shadowmoy
>
> awasome MrAdult !! do you plan to add some motion recording or something like this ?
It's already there.  You can set a start delay, duration, and frames per second to record animation on the Kinect interface dialog. Then hit record and go at it - it records your motion as generic animation data and attaches it to the preview model, and you can export it to any format supported by Noesis using the "Export from preview" option after you finish recording.
## Post #159
- Username: FEATHER
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Jun 13, 2010 1:47 pm
- Post datetime: 2010-12-22T23:36:21+00:00
- Post Title: Re: Señor Casaroja's Noesis

As i said in other forum about the Kinetic: Maybe this is the end( or just the Beginning of The End ) of the motion capture enterprises, Mo-Cap for all!
## Post #160
- Username: Zerox
- Rank: mega-veteran
- Number of posts: 186
- Joined date: Mon Aug 09, 2010 10:50 am
- Post datetime: 2010-12-23T07:08:01+00:00
- Post Title: Re: Señor Casaroja's Noesis

Daaaaaang Kinetic motion capture for animations! That's wicked sick now I want to get Kinetic just to try that out.

Very Cool Mr. Adults.

Mr. Adults I know that you were able to easily add the Metroid Prime PAK format when revelation gave you full info on the format, and I was curious if you could do the same for me?

Here is a full documentation on the MDX format used by Warcraft 3: [http://home.magosx.com/index.php?topic=20.0](http://home.magosx.com/index.php?topic=20.0)

The format is capable of mesh data and skeletal animation. If it isn't too much to ask I would love it if you were able to add support to Noesis for importing and even better would be exporting models with animations to that format.

I believe all the info you would need is documented right there without anything about the format left out for you to still discover. I'd be most grateful if you did add support for it, but if you'd rather not waste your time with it then I'll be okay with accepting that you won't do it. I just think it's a good opportunity for an easy plug-in for Noesis.
## Post #161
- Username: ultimaespio
- Rank: mega-veteran
- Number of posts: 267
- Joined date: Thu Apr 15, 2010 2:55 am
- Post datetime: 2010-12-23T16:45:25+00:00
- Post Title: Re: Señor Casaroja's Noesis

I'm amazed  

I wonder if Playstation Move can do something similar.

That is really amazing
## Post #162
- Username: lex3a
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Sat May 15, 2010 5:11 am
- Post datetime: 2010-12-26T12:03:11+00:00
- Post Title: Re: Señor Casaroja's Noesis

MrAdult, it's awesome! Thanks for making it.
Does it support Dissidia models?
## Post #163
- Username: SLIFallen
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Sep 28, 2010 11:26 pm
- Post datetime: 2010-12-27T17:32:15+00:00
- Post Title: Re: Señor Casaroja's Noesis

Here is another (Japenese) Kinect mo-cap app (and you can download the whole thing and play with it yourself. Only posting here as a (possible) help to Mr Mouse's efforts is all. Dont meant to take this OT too much!

[http://miku-challenge.up.seesaa.net/ima ... nslate.htm](http://miku-challenge.up.seesaa.net/image/mmd_translate.htm)

Edit: Looks like the Kinect plugin for this app is here: [http://www.geocities.jp/higuchuu4/index_e.htm](http://www.geocities.jp/higuchuu4/index_e.htm) (DxOpenNI) Sorry.
## Post #164
- Username: Andrakann
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-12-28T14:46:44+00:00
- Post Title: Re: Señor Casaroja's Noesis

2.82:

> -Fixed animation matrices not being stored properly for identity-based Kinect recording setups. (added in 2.82)
>
>  -Integrated ODE+IK support for Kinect recordings. (added in 2.82)
>
>  -Fixed a possible timing issue with Kinect recordings. (added in 2.82)
Here's me screwing around with hinge-boobs: [http://www.youtube.com/watch?v=hNAXVs8rydU](http://www.youtube.com/watch?v=hNAXVs8rydU)
(scene/ragdoll/IK info is being parsed out of .noesis and .noerag files)
## Post #165
- Username: SLIFallen
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Sep 28, 2010 11:26 pm
- Post datetime: 2010-12-28T17:22:25+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> 2.82:
 -Fixed animation matrices not being stored properly for identity-based Kinect recording setups. (added in 2.82)
 -Integrated ODE+IK support for Kinect recordings. (added in 2.82)
 -Fixed a possible timing issue with Kinect recordings. (added in 2.82)
Here's me screwing around with hinge-boobs: http://www.youtube.com/watch?v=hNAXVs8rydU
(scene/ragdoll/IK info is being parsed out of .noesis and .noerag files)

Oh....my....god. That is just wrong on so many levels. I love it!
## Post #166
- Username: Cloud452
- Rank: veteran
- Number of posts: 91
- Joined date: Sat Oct 23, 2010 9:50 pm
- Post datetime: 2010-12-30T05:10:31+00:00
- Post Title: Re: Señor Casaroja's Noesis

Wow, I must say that implementing Kinect for motion capture is quite an intriguing feature! Pretty much want to go get one myself, if only for this purpose.

That aside, I find I'm having an odd error. I'm currently at my girlfriend's house, and trying to do some work while here. Except, I can't seem to export anything. I select the model I want, and hit 'export'. Nothing happens, and the program seems to freeze (if I click anywhere on the window, I get the annoying windows beep). Her computer is a bit... odd, but it works for her (so she says). It's running Windows 7 64-bit, and the strange thing is, I didn't have this problem before (I had been using some files I brought from home on usb drive... didn't bring it with me this time). I'm using an older version of Noesis (2.5) from a friend who had the old copy. Why am I using an outdated version? Because I currently need to work with the raw's from Crisis Core, and don't have the means available to create a fresh extraction from the Crisis Core data, to use the FF7CC model extension.

Any ideas?

I should mention, I downloaded 2.82, and when I attempt to open 'About Noesis', it also seems to freeze up.

I'm well aware it may just be her problematic computer, but I figured it couldn't hurt to ask.

*edit*

Well this is interesting, I gave it a go in safe-mode, and I was able to extract a model. Not sure what makes the difference, but as I suspected.... it's the damn computer.
## Post #167
- Username: firsak
- Rank: advanced
- Number of posts: 64
- Joined date: Wed Dec 16, 2009 7:32 pm
- Post datetime: 2010-12-30T10:18:44+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Cloud452
>
> don't have the means available to create a fresh extraction from the Crisis Core data, to use the FF7CC model extension.
run > 
```
ren *.raw *.ff7ccmodel
```
## Post #168
- Username: Cloud452
- Rank: veteran
- Number of posts: 91
- Joined date: Sat Oct 23, 2010 9:50 pm
- Post datetime: 2010-12-30T18:39:04+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from firsak
>
> run > Code: Select allren *.raw *.ff7ccmodel

*insert facepalm moment here* Thanks for that, not sure why/how I forgot about that little trick.

Still wish I knew why this computer had so many issues, and why I have to enter safe-mode to export the models when using Noesis.
## Post #169
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2010-12-31T06:44:08+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hanging on the about dialog, huh? Could be spyware, or just a case of a horrible mess being made of your Windows core/control DLL's. Or both.
## Post #170
- Username: Cloud452
- Rank: veteran
- Number of posts: 91
- Joined date: Sat Oct 23, 2010 9:50 pm
- Post datetime: 2011-01-01T02:14:23+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Hanging on the about dialog, huh? Could be spyware, or just a case of a horrible mess being made of your Windows core/control DLL's. Or both.

I'm going to assume it's the latter, as I ran a thorough scan via Spybot S&D on her computer recently and it didn't find anything too nasty (one or two advertising tracking cookies). Oh well, not the first time this computer has given me or others trouble... but then what do you expect from a computer built by an ex. ;p

And as it nears that hour here on the East Coast, I'd like to wish you and all the other members here a Happy New Year.
## Post #171
- Username: Zerox
- Rank: mega-veteran
- Number of posts: 186
- Joined date: Mon Aug 09, 2010 10:50 am
- Post datetime: 2011-01-01T09:20:00+00:00
- Post Title: Re: Señor Casaroja's Noesis

I hate to be that one guy but I was curious for models such as Dissidia's Gmo models the only way to view the Ex-Mode alternate models is in the animated battle models as the other models that start in their unanimated poses don't have the Ex-Mode models.

So my question is this, is it possible to export an animated GMO model so that it defaults to it's unanimated stance as opposed to exporting it and rearranging the model to be exported in just the current frame of animation?
## Post #172
- Username: ultimaespio
- Rank: mega-veteran
- Number of posts: 267
- Joined date: Thu Apr 15, 2010 2:55 am
- Post datetime: 2011-01-01T16:33:29+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Zerox
>
> I hate to be that one guy but I was curious for models such as Dissidia's Gmo models the only way to view the Ex-Mode alternate models is in the animated battle models as the other models that start in their unanimated poses don't have the Ex-Mode models.

So my question is this, is it possible to export an animated GMO model so that it defaults to it's unanimated stance as opposed to exporting it and rearranging the model to be exported in just the current frame of animation?

You mean like in it's T-pose?
## Post #173
- Username: Zerox
- Rank: mega-veteran
- Number of posts: 186
- Joined date: Mon Aug 09, 2010 10:50 am
- Post datetime: 2011-01-01T19:09:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

That's exactly what I mean. Except with Dissidia models it appears their arms are at their side which is fine too.
## Post #174
- Username: eycaramba
- Rank: veteran
- Number of posts: 86
- Joined date: Wed Sep 02, 2009 8:52 pm
- Post datetime: 2011-01-04T12:48:17+00:00
- Post Title: Re: Señor Casaroja's Noesis

Wow, awesome tool! 
Would it be possible to add support for Monster Hunter Portable *.TMH (extract and back convert)?
A format analysis is found here already: [viewtopic.php?f=16&t=3807&p=41451](http://forum.xentax.com/viewtopic.php?f=16&t=3807&p=41451)

Thanks and keep the good work up!
## Post #175
- Username: serenedays9
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Fri Dec 31, 2010 7:43 am
- Post datetime: 2011-01-05T08:33:00+00:00
- Post Title: Re: Señor Casaroja's Noesis

I see Noesis has support for Renderware DFF, though the dropdown says (very old version), meaning it most likely doesn't support RW 3.7 files.

After some Google'ing, [this seemingly dead project](http://sourceforge.net/projects/rwsreader/) might be of some use to update support for it, unless it was brought up in another thread and declined, then I apologize.

My reason for bringing it up, was that various DFF tools do not work on the DFFs I'm trying to open/import/view, which seem to be for games built on pre-3.7 RW

Why, Noesis? For viewing/exporting and Kinect mocap purposes
## Post #176
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-01-06T04:31:39+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from serenedays9
>
> I see Noesis has support for Renderware DFF, though the dropdown says (very old version), meaning it most likely doesn't support RW 3.7 files.

After some Google'ing, this seemingly dead project might be of some use to update support for it, unless it was brought up in another thread and declined, then I apologize.

My reason for bringing it up, was that various DFF tools do not work on the DFFs I'm trying to open/import/view, which seem to be for games built on pre-3.7 RW

Why, Noesis? For viewing/exporting and Kinect mocap purposes
It actually isn't really officially RW. The only game I know of the format being used in is Sub Culture. It was made before RenderWare officially existed, by some of the same guys that went on to make RenderWare. I think it was their very first experimental step in that direction, since the format uses some similar structural themes and internal "terminology". For most practical purposes, though, it's probably very different from modern RW DFF incarnations.

I wouldn't mind supporting new versions of DFF at some point, though. Or if anyone else capable wanted to make a Noesis plugin for one or more of the format variants, that would be great. I'm tied up in all kinds of things at the moment, so I can't say I'll get to the format myself any time soon.
## Post #177
- Username: Zerox
- Rank: mega-veteran
- Number of posts: 186
- Joined date: Mon Aug 09, 2010 10:50 am
- Post datetime: 2011-01-10T07:57:58+00:00
- Post Title: Re: Señor Casaroja's Noesis

I absolutely love Noesis's Ultra Shot feature it's very useful. In fact I'd love to use it more than I already do but I can't as any model that isn't some game format that Noesis already reads with it's texture doesn't ever seem to load and display the texture on the model.

I would be ecstatic if anyone could tell me how I can get Noesis to load say for example, a .obj model with the textures it requires in the same folder as the .obj model. As currently I can't find anyway to do this.

Edit: Nevermind it appears I got it to work just a bit of a pain to do so. Thanks anyway.
## Post #178
- Username: ultimaespio
- Rank: mega-veteran
- Number of posts: 267
- Joined date: Thu Apr 15, 2010 2:55 am
- Post datetime: 2011-01-17T23:00:01+00:00
- Post Title: Re: Señor Casaroja's Noesis

I dunno if your interested in FF9, but I just found some stuff about the model formats.

http://zidane_games.webhost.ru/formats_FFIX.doc

File extractor:
http://zidane_games.webhost.ru/FF9_TOOLS.rar

As well as a battle scene viewer and source:
http://zidane_games.webhost.ru/FF9_TOOLS.rar

http://zidane_games.webhost.ru/FFIX_BattleScene_viewer_final_+_SRC.rar
## Post #179
- Username: darkcloudl
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Thu Dec 30, 2010 3:52 pm
- Post datetime: 2011-01-19T21:16:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

hello, if someday you can add support for the psp 3rd birthday (parasite eve 3)  game i will be eternally grateful to you, keep your great work with noesis
## Post #180
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2011-01-20T00:27:16+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Zerox
>
> I absolutely love Noesis's Ultra Shot feature it's very useful. In fact I'd love to use it more than I already do but I can't as any model that isn't some game format that Noesis already reads with it's texture doesn't ever seem to load and display the texture on the model.

I would be ecstatic if anyone could tell me how I can get Noesis to load say for example, a .obj model with the textures it requires in the same folder as the .obj model. As currently I can't find anyway to do this.

Edit: Nevermind it appears I got it to work just a bit of a pain to do so. Thanks anyway.

Really? How did you get multiple textures to map to the same OBJ in Noesis?
## Post #181
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-01-24T22:00:35+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Mirrorman95
>
> Really? How did you get multiple textures to map to the same OBJ in Noesis?
Textures are loaded by material name if they don't get referenced in the source model itself. If your obj model references material "mymaterial01", Noesis tries to load mymaterial01.png, mymaterial01.tga, and so on for every supported image format.
## Post #182
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2011-01-25T00:09:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Mirrorman95 wrote:Really? How did you get multiple textures to map to the same OBJ in Noesis?
Textures are loaded by material name if they don't get referenced in the source model itself. If your obj model references material "mymaterial01", Noesis tries to load mymaterial01.png, mymaterial01.tga, and so on for every supported image format.

Thank you. That will help. But why can't Noesis view this image? [http://www.brickshelf.com/gallery/mirro ... g27_03.png](http://www.brickshelf.com/gallery/mirrorman95/Zatth/g27_03.png)

Also, every time I try to view an OBJ or DDS exported from 3D Ripper DX, it says it won't load it. Why is that?
## Post #183
- Username: Sniperello
- Rank: n00b
- Number of posts: 10
- Joined date: Sat Jan 08, 2011 7:26 am
- Post datetime: 2011-02-15T03:08:28+00:00
- Post Title: Re: Señor Casaroja's Noesis

Please add Crytek Cry engine 1,2,3 formats
## Post #184
- Username: poofacetherisen
- Rank: n00b
- Number of posts: 16
- Joined date: Tue Jan 25, 2011 12:02 pm
- Post datetime: 2011-02-18T02:02:33+00:00
- Post Title: Re: Señor Casaroja's Noesis

EDIT:
Can I request a function? When you drop a texture over a model and use export from preview, can you make it so it exports the texture mapped to the model. So that when you open the exported model it loads the texture as well.

Also is it a bug, if you cannot edit the Texture value in the "data viewer?"
## Post #185
- Username: Andrakann
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-03-09T02:59:32+00:00
- Post Title: Re: Señor Casaroja's Noesis

New in 2.9:

```
 -Added support for FFX disc image extraction. Handles decompression and sorting files into folders. Thanks to revelation once again for the filesystem info!
 -Added support for The Bouncer's .tex, .fe. and .sk files. Thanks to shadowmoy for basic info on sk geometry!
 -Added support for The Bouncer's bouncer.bin, extracts .bin files recursively.
 -Added a "Create device image" option to the tools menu. Uses wnaspi32.dll to create a raw sector rip of the selected device. Will also continue reading beyond the device's reported size, if possible.
 -Added model/texture import support for TC:RS .ndp3 files. (skeleton+models+textures supported, but still a WIP)
 -Added extraction support for TC:RS .pac files.
 -Added T3B .pack model/texture import support. (note: not all .pack files contain model or texture data, and so some .pack files will not be recognized)
 -CommitTriangles can now be called with NULL data, which will automatically build an ordered list up to the number of indices given.
 -Made CPK extractor handle encrypted UTF data seen in Hyperdimensional Neptunia. Thanks to tpu for posting the decryption routine.
 -Added noesisExtTexRef_t with Noesis_AllocTexRefs for plugin developers. External texture reference objects can be attached to materials.
 -Added NMATFLAG_TWOSIDED and RPGEO_TRIANGLE_STRIP_FLIPPED for plugin developers.
 -Various new primitive types for plugin developers. Some of them aren't correctly implemented, though. If you use one and it doesn't work, let me know and I'll fix it for you.
 -This release marks over 100 unique file formats supported by Noesis. Truly, I have too much time on my hands.
```
## Post #186
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2011-03-09T04:05:03+00:00
- Post Title: Re: Señor Casaroja's Noesis

Excellent. More Final Fantasy compatibility. I see Revelation is still helping you with PS2 models. Hopefully we'll see a third third-party plugin soon.
## Post #187
- Username: Andrakann
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-03-09T11:30:58+00:00
- Post Title: Re: Señor Casaroja's Noesis

Several new plugins from revelation now on the plugins page:

[http://oasis.xentax.com/index.php?content=plugins](http://oasis.xentax.com/index.php?content=plugins)
## Post #188
- Username: shadowmoy
- Rank: veteran
- Number of posts: 153
- Joined date: Sat Feb 21, 2009 9:29 pm
- Post datetime: 2011-03-09T11:33:49+00:00
- Post Title: Re: Señor Casaroja's Noesis

mrAdult>nice work , glad to see you ported the bouncer one quickly , also i hope to fix the mvsc3 faces indices in a near futur, still currently studying some mesh to found out the trick they use in the face offseting
## Post #189
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2011-03-09T12:54:51+00:00
- Post Title: Re: Señor Casaroja's Noesis

Nice-nice, glad to see the big step.
## Post #190
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2011-03-09T16:36:22+00:00
- Post Title: Re: Señor Casaroja's Noesis

I hope he's still going to release the KH2 plugin. I glad he's still making plugins, though.
## Post #191
- Username: The Chief
- Rank: veteran
- Number of posts: 101
- Joined date: Fri Oct 09, 2009 10:44 am
- Post datetime: 2011-03-09T18:48:08+00:00
- Post Title: Re: Señor Casaroja's Noesis

Nice work Mr Aults,this is really awesome , also i test the plugins for avp and uinleashed and they work
great.  

Edit: Its works also on Unleashed 2 models.
## Post #192
- Username: revelation
- Rank: mega-veteran
- Number of posts: 183
- Joined date: Tue May 13, 2008 12:15 am
- Post datetime: 2011-03-09T20:30:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from The Chief
>
> Nice work Mr Aults,this is really awesome , also i test the plugins for avp and uinleashed and they work
great.  

Edit: Before any one ask the plugin dont work for unleashed 2 models.

Please make sure you have properly decompressed the files for TFU2 before claiming the plugin doesn't work for them.  If this is truly the case afterwards, let me know.  As they have been tested.

I'll see if i can add decompression for the files as well.
## Post #193
- Username: The Chief
- Rank: veteran
- Number of posts: 101
- Joined date: Fri Oct 09, 2009 10:44 am
- Post datetime: 2011-03-09T21:52:03+00:00
- Post Title: Re: Señor Casaroja's Noesis

Its working now , dont know why but when i test the first time just tellme that 
the file couldnt be opened and yea i decompress the file first, any way many
thanks for the unleashed and avp plugins.
## Post #194
- Username: jaden
- Rank: mega-veteran
- Number of posts: 209
- Joined date: Sat Feb 05, 2011 8:41 am
- Post datetime: 2011-03-10T03:35:47+00:00
- Post Title: Re: Señor Casaroja's Noesis

Senor casaroja you're truly a genius
Also revelation you're fantastic and Thanks a lot

Senor casaroja and revelation i wonder what did you eat to become such a great coder and programmer ??   

Senor casaroja thanks a lot for sharing your heavenly work with us

revelation any chance you're gonna release kh 2 plugin for noesis ?

Senor casaroja any chance you're gonna create a model extractor for bloody roar 4 (ps2game) and Metal gear solid 4 cause i see on other forum chrrox has been able to figure out the mesh 

Many thanks to senor casaroja and revelation for their fantastic work
I really appreciate your hardwork thank you
## Post #195
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2011-03-10T05:11:49+00:00
- Post Title: Re: Señor Casaroja's Noesis

I've been having a reoccurring problem with Noesis. First, it can't view DDS images at all. Second, I cannot load any OBJ that has any "f #/# #/# #/#" lines whose #s are negative numbers. This makes it difficult to load anything in Noesis that was taken with 3D Ripper DX. I tried removing all the minuses from the f lines, but then it only loaded the first mesh and screwed it up very badly. I tried removing 5 of the 6 minuses in each line, but then Noesis only loaded a series of points outlining the model, and P3d0 screwed it up even worse.

Is there a way to fix the OBJ plugin, like to give it a routine that allows it to handle "f -#/-# -#/-# -#/-#" on every f line?
## Post #196
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-03-10T14:27:56+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Mirrorman95
>
> I've been having a reoccurring problem with Noesis. First, it can't view DDS images at all. Second, I cannot load any OBJ that has any "f #/# #/# #/#" lines whose #s are negative numbers. This makes it difficult to load anything in Noesis that was taken with 3D Ripper DX. I tried removing all the minuses from the f lines, but then it only loaded the first mesh and screwed it up very badly. I tried removing 5 of the 6 minuses in each line, but then Noesis only loaded a series of points outlining the model, and P3d0 screwed it up even worse.

Is there a way to fix the OBJ plugin, like to give it a routine that allows it to handle "f -#/-# -#/-# -#/-#" on every f line?

I've never come across a DDS or OBJ that doesn't work. You'll have to upload some samples.

> revelation any chance you're gonna release kh 2 plugin for noesis ?
One such plugin is in fact now on the plugins page, courtesy of revelation.
## Post #197
- Username: The Chief
- Rank: veteran
- Number of posts: 101
- Joined date: Fri Oct 09, 2009 10:44 am
- Post datetime: 2011-03-10T22:06:01+00:00
- Post Title: Re: Señor Casaroja's Noesis

MrAdults and revelation i have a dude abuth avp models , i mean i have the pc version 
but i cant open any of the files , the files dont have any type of termination but i check
that the plugin only opens hskl and rscf files rename the files to any of those terminations
dont work , or the plugin its for 360/ps3 version?.
## Post #198
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-03-10T23:06:02+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from The Chief
>
> MrAdults and revelation i have a dude abuth avp models , i mean i have the pc version 
but i cant open any of the files , the files dont have any type of termination but i check
that the plugin only opens hskl and rscf files rename the files to any of those terminations
dont work , or the plugin its for 360/ps3 version?.
Do you have any widechar names (e.g. folder names containing Japanese or other wchar-language characters) on the path to the file?
## Post #199
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2011-03-11T00:10:29+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Mirrorman95 wrote:I've been having a reoccurring problem with Noesis. First, it can't view DDS images at all. Second, I cannot load any OBJ that has any "f #/# #/# #/#" lines whose #s are negative numbers. This makes it difficult to load anything in Noesis that was taken with 3D Ripper DX. I tried removing all the minuses from the f lines, but then it only loaded the first mesh and screwed it up very badly. I tried removing 5 of the 6 minuses in each line, but then Noesis only loaded a series of points outlining the model, and P3d0 screwed it up even worse.

Is there a way to fix the OBJ plugin, like to give it a routine that allows it to handle "f -#/-# -#/-# -#/-#" on every f line?

I've never come across a DDS or OBJ that doesn't work. You'll have to upload some samples.
revelation any chance you're gonna release kh 2 plugin for noesis ?
One such plugin is in fact now on the plugins page, courtesy of revelation.

KH2 Plugin Amazing!

A DDS at [http://www.brickshelf.com/gallery/mirro ... 622021.dds](http://www.brickshelf.com/gallery/mirrorman95/3D/7a622021.dds)
And an OBJ [http://www.brickshelf.com/gallery/mirro ... .30.28.obj](http://www.brickshelf.com/gallery/mirrorman95/3D/frame_14.02.2011_18.30.28.obj)

The trouble with the OBJ is likely in the f #/# lines.
These are all just taken from 3D Ripper DX.
## Post #200
- Username: Andrakann
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-03-11T03:14:48+00:00
- Post Title: Re: Señor Casaroja's Noesis

So you meant non-s3tc DDS images. I've been lazy about trying to support all of the image formats, because I've not encountered them in any of the games I want to support. But I went ahead and made it load generic RGBA images. It'll probably break on YUV and other FOURCC==0 formats that don't fall into the rgba/argb/abgr/etc. category though.

Anyway, 2.95 is up.

```
 -2.95 - Made Noesis_AllocTexRefs automagically handle the "-texpre" option.
 -2.95 - Made COLLADA and obj exporters properly differentiate between material and external texture reference names.
 -2.95 - Fixed up unicode support a bit, allowing models on unicode paths to be previewed
 -2.95 - Made some non-s3tc DDS files load. Thanks to Mirrorman95 for example files.
 -2.95 - Fixed relative-indexing in the obj loader. Thanks to Mirrorman95 for example files.
 -2.95 - Added SetPreviewOption for plugin authors.
```
## Post #201
- Username: The Chief
- Rank: veteran
- Number of posts: 101
- Joined date: Fri Oct 09, 2009 10:44 am
- Post datetime: 2011-03-11T04:55:58+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> The Chief wrote:MrAdults and revelation i have a dude abuth avp models , i mean i have the pc version 
but i cant open any of the files , the files dont have any type of termination but i check
that the plugin only opens hskl and rscf files rename the files to any of those terminations
dont work , or the plugin its for 360/ps3 version?.
Do you have any widechar names (e.g. folder names containing Japanese or other wchar-language characters) on the path to the file?

well the name of the folder its "Aliens vs Predator" the files dont have any termination:
[](http://img854.imageshack.us/i/avpsnap.png/)
also i tried to use the asura.bms file that come with the plugin but when i want to use that just givme an error, i extract
the asr file with other tool.
## Post #202
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2011-03-11T06:13:44+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> So you meant non-s3tc DDS images. I've been lazy about trying to support all of the image formats, because I've not encountered them in any of the games I want to support. But I went ahead and made it load generic RGBA images. It'll probably break on YUV and other FOURCC==0 formats that don't fall into the rgba/argb/abgr/etc. category though.

Anyway, 2.95 is up.
Code: Select all -2.95 - New functionality for materials in pluginshare.h.
 -2.95 - Made Noesis_AllocTexRefs automagically handle the "-texpre" option.
 -2.95 - Made COLLADA and obj exporters properly differentiate between material and external texture reference names.
 -2.95 - Fixed up unicode support a bit, allowing models on unicode paths to be previewed
 -2.95 - Made some non-s3tc DDS files load. Thanks to Mirrorman95 for example files.
 -2.95 - Fixed relative-indexing in the obj loader. Thanks to Mirrorman95 for example files.
 -2.95 - Added SetPreviewOption for plugin authors.

Wow. My username is actually on the readme. Glad I could make some input. Well, the files work now. But there is one PMO I cannot load because Noesis for some reason crashes upon trying to handle this image: [http://www.brickshelf.com/gallery/mirro ... g27_03.png](http://www.brickshelf.com/gallery/mirrorman95/Zatth/g27_03.png)
## Post #203
- Username: Cloud452
- Rank: veteran
- Number of posts: 91
- Joined date: Sat Oct 23, 2010 9:50 pm
- Post datetime: 2011-03-11T09:17:03+00:00
- Post Title: Re: Señor Casaroja's Noesis

Nice updates/improvements on 2.95!

This isn't so much a request, since I've asked before... but more a question. While I presently don't have the skill, or know-how to do so, could anyone manage to give me some tips as to how to start work on a plugin, that would allow Noesis to understand the animation data in Crisis Core, so that models (and perhaps any map/level animations, unless that's handled by the game exclusively) could go through their various animations like the Dissidia models can?
## Post #204
- Username: pixellegolas
- Rank: ultra-veteran
- Number of posts: 423
- Joined date: Tue Aug 12, 2008 6:30 am
- Post datetime: 2011-03-11T12:03:47+00:00
- Post Title: Re: Señor Casaroja's Noesis

I have a small question about where to see compatability. I did a quick check yesterday evening in the readme but perhaps I missed where all the list is. I mostly want to know witch game-stages are compatible. The maps so to say
## Post #205
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2011-03-11T15:41:11+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from pixellegolas
>
> I have a small question about where to see compatability. I did a quick check yesterday evening in the readme but perhaps I missed where all the list is. I mostly want to know witch game-stages are compatible. The maps so to say

Which game's maps?
## Post #206
- Username: SoftIce
- Rank: veteran
- Number of posts: 98
- Joined date: Sun Jan 23, 2011 12:31 pm
- Post datetime: 2011-03-12T00:25:27+00:00
- Post Title: Re: Señor Casaroja's Noesis

Thank you very much to Mr Adults for sharing his program and to Revelation for the KH/KH2/BBS plugins!
## Post #207
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2011-03-12T01:47:11+00:00
- Post Title: Re: Señor Casaroja's Noesis

Is there any way to modify the KH2 plugin so the textures have transparency?
## Post #208
- Username: pixellegolas
- Rank: ultra-veteran
- Number of posts: 423
- Joined date: Tue Aug 12, 2008 6:30 am
- Post datetime: 2011-03-12T03:05:21+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Mirrorman95
>
> pixellegolas wrote:I have a small question about where to see compatability. I did a quick check yesterday evening in the readme but perhaps I missed where all the list is. I mostly want to know witch game-stages are compatible. The maps so to say 

Which game's maps?

That is my question. Is there a list where I can see witch games have support for stages i noesis. I see some examples on the homepage
## Post #209
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-03-12T19:03:12+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Cloud452
>
> This isn't so much a request, since I've asked before... but more a question. While I presently don't have the skill, or know-how to do so, could anyone manage to give me some tips as to how to start work on a plugin, that would allow Noesis to understand the animation data in Crisis Core, so that models (and perhaps any map/level animations, unless that's handled by the game exclusively) could go through their various animations like the Dissidia models can?
Well, most likely that data is in the mot files that Noesis extracts from the game's package. I haven't even looked at them myself yet, so I have no idea how hard it would be to get at the data. But if you are not familiar with the process of reverse-engineering animation data, you probably aren't going to have any luck with it. If you are, well, you can get a copy of Microsoft Visual Studio 2005 Express Edition, load up a Noesis plugin (solutions and projects are included with Noesis in pluginsource.zip) and modify it to do what you want. The IQM plugin demonstrates how to get animation data to Noesis, although it does it in a somewhat unusual manner. If you wanted to feed pure animation data back from your plugin instead of model+animation data, you would use rapi->Noesis_AllocModelContainer(NULL, animData, 1); instead of the typical rpgConstructModel interface.

> Reply from pixellegolas
>
> That is my question. Is there a list where I can see witch games have support for stages i noesis. I see some examples on the homepage
There isn't really a list of games where stage models versus character models are supported. In many games, the formats for characters and stages is exactly the same or only slightly different. So you'll just have to look around in the data for supported games and see what you come up with.
## Post #210
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2011-03-12T20:28:46+00:00
- Post Title: Re: Señor Casaroja's Noesis

Is there any way to fix the KH2 plugin to show transparency?

Also, why can't Noesis view [http://www.brickshelf.com/gallery/mirro ... g27_03.png](http://www.brickshelf.com/gallery/mirrorman95/Zatth/g27_03.png) ?
## Post #211
- Username: Cloud452
- Rank: veteran
- Number of posts: 91
- Joined date: Sat Oct 23, 2010 9:50 pm
- Post datetime: 2011-03-13T07:08:27+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Well, most likely that data is in the mot files that Noesis extracts from the game's package. I haven't even looked at them myself yet, so I have no idea how hard it would be to get at the data. But if you are not familiar with the process of reverse-engineering animation data, you probably aren't going to have any luck with it. If you are, well, you can get a copy of Microsoft Visual Studio 2005 Express Edition, load up a Noesis plugin (solutions and projects are included with Noesis in pluginsource.zip) and modify it to do what you want. The IQM plugin demonstrates how to get animation data to Noesis, although it does it in a somewhat unusual manner. If you wanted to feed pure animation data back from your plugin instead of model+animation data, you would use rapi->Noesis_AllocModelContainer(NULL, animData, 1); instead of the typical rpgConstructModel interface.

Presently not at all familiar with any of it. Quite frankly, without Noesis, I'd be up you-know-what creek without a paddle. However, despite this I'm more than willing to learn... even if it takes a good amount of time to have a decent understanding, and anything come out of it.
## Post #212
- Username: poofacetherisen
- Rank: n00b
- Number of posts: 16
- Joined date: Tue Jan 25, 2011 12:02 pm
- Post datetime: 2011-03-13T09:00:37+00:00
- Post Title: Re: Señor Casaroja's Noesis

Can Noesis support animation data for FF7 with some sort of plugin? I figure if that is possible then modding all the battle animations would be much less like stick figure pivot animator.

Either way, keep up the great work!

EDIT:

> Reply from Mirrorman95
>
> Is there any way to modify the KH2 plugin so the textures have transparency?
I don't know, but Xnview can perform batch image processing on most formats I use. [http://www.xnview.com/](http://www.xnview.com/)
## Post #213
- Username: ultimaespio
- Rank: mega-veteran
- Number of posts: 267
- Joined date: Thu Apr 15, 2010 2:55 am
- Post datetime: 2011-03-13T12:57:21+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Mirrorman95
>
> Is there any way to modify the KH2 plugin so the textures have transparency?

I'm sure you can live without a bit of transparency until Revelation updates. It gives you alpha when you export anyway so it's not a problem.
## Post #214
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2011-03-13T15:33:30+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from ultimaespio
>
> Mirrorman95 wrote:Is there any way to modify the KH2 plugin so the textures have transparency?

I'm sure you can live without a bit of transparency until Revelation updates. It gives you alpha when you export anyway so it's not a problem.

It does? Well then, okay.
## Post #215
- Username: SoftIce
- Rank: veteran
- Number of posts: 98
- Joined date: Sun Jan 23, 2011 12:31 pm
- Post datetime: 2011-03-14T20:32:14+00:00
- Post Title: Re: Señor Casaroja's Noesis

I'm most comfortable with the dds file format and max/maya, so for KH models, I usually grab the textures first with 3dripper and yaz0r's viewer, and use those and tell noesis to not export textures. 

And on another topic, I don't know if this would help anyone else, but I found a nifty little dae text editor that a prgorammer named Remi Arnaud created here:
[https://github.com/RemiArnaud/DAE-notepad](https://github.com/RemiArnaud/DAE-notepad)

Sure, you can just edit them in wordpad, but it still is nice to have on hand, for me anyway.
## Post #216
- Username: Player
- Rank: n00b
- Number of posts: 15
- Joined date: Tue Mar 15, 2011 5:38 pm
- Post datetime: 2011-03-15T10:06:55+00:00
- Post Title: Re: Señor Casaroja's Noesis

Predator model from the game Aliens vs Predator look with errors


thanks so much for Noesis
## Post #217
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-03-15T23:09:33+00:00
- Post Title: Re: Señor Casaroja's Noesis

Those are just degenerate triangles from the strips that only show up when drawing triangle outlines for the model. Quite harmless really.
## Post #218
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2011-03-17T04:38:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

q to MrAdults:
1 - can you implementing support of FBX format (i think most stable and optimal format to storing model/animation data)
2 - can i use noesis in command line "mode" (i want to convert models recursively through the folders)
3 - there is any way to disable left-side tree-menu (i'd love to use noesis like simple viewer, but this menu loading tree for all of my deep-deep thousands folders)
## Post #219
- Username: jaden
- Rank: mega-veteran
- Number of posts: 209
- Joined date: Sat Feb 05, 2011 8:41 am
- Post datetime: 2011-03-17T13:35:30+00:00
- Post Title: Re: Señor Casaroja's Noesis

MrAdults any chance you're gonna add noesis support for marvel vs capcom 3 ??
## Post #220
- Username: Cloud452
- Rank: veteran
- Number of posts: 91
- Joined date: Sat Oct 23, 2010 9:50 pm
- Post datetime: 2011-03-18T19:21:34+00:00
- Post Title: Re: Señor Casaroja's Noesis

Maybe I've done something I was unware of in 3Ds max, but so far when I import an exported model, I have to reassign all the textures:

[](http://img16.imageshack.us/img16/2604/lazardofficenotexture.png)

Unless I'm somehow recalling incorrectly and it never did what I imagine it had.
## Post #221
- Username: SoftIce
- Rank: veteran
- Number of posts: 98
- Joined date: Sun Jan 23, 2011 12:31 pm
- Post datetime: 2011-03-18T20:34:55+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Cloud452
>
> Maybe I've done something I was unware of in 3Ds max, but so far when I import an exported model, I have to reassign all the textures:


Unless I'm somehow recalling incorrectly and it never did what I imagine it had.

Check the dae file in wordpad. Exported dae files link the materials as material00 instead of material00.png/bmp/jpg/etc, so that's probably why max is unable to find them. If you go and add the extension it should be able to find them.

Or maybe that's just a problem on my end.

> Reply from Tosyk
>
> q to MrAdults:
1 - can you implementing support of FBX format (i think most stable and optimal format to storing model/animation data)
2 - can i use noesis in command line "mode" (i want to convert models recursively through the folders)
3 - there is any way to disable left-side tree-menu (i'd love to use noesis like simple viewer, but this menu loading tree for all of my deep-deep thousands folders)

Dumb solution, but you can resize the left sidebar by squishing it... doesn't get rid of it but it makes it much smaller. 
I'd also love fbx but dae is great since it works with max and maya (I found the opencollada import/export plugin works the best though, it's also free.)
I think Noesis has a batch mode, where you can batch convert models. Not exactly command line, but still easier than doing a bunch individually if you have a ton you want to convert.
## Post #222
- Username: firsak
- Rank: advanced
- Number of posts: 64
- Joined date: Wed Dec 16, 2009 7:32 pm
- Post datetime: 2011-03-18T21:54:19+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from SoftIce
>
> dae is great
DAE sucks.
## Post #223
- Username: Cloud452
- Rank: veteran
- Number of posts: 91
- Joined date: Sat Oct 23, 2010 9:50 pm
- Post datetime: 2011-03-18T22:19:31+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from SoftIce
>
> Cloud452 wrote:Maybe I've done something I was unware of in 3Ds max, but so far when I import an exported model, I have to reassign all the textures:


Unless I'm somehow recalling incorrectly and it never did what I imagine it had. 

Check the dae file in wordpad. Exported dae files link the materials as material00 instead of material00.png/bmp/jpg/etc, so that's probably why max is unable to find them. If you go and add the extension it should be able to find them.

Or maybe that's just a problem on my end.

Figured it out! For whatever reason it was looking for "ffccdif_63.png.png", the extra file extension tag screwed things up.

Also, for whatever reason it's looking for "ffccdif_65535.png".... but there is no such file with that name. o_O
## Post #224
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2011-03-19T01:20:06+00:00
- Post Title: Re: Señor Casaroja's Noesis

I have the same problem with Noesis DAE and Blender. The texture files are recognized into Blender, but not mapped to the character. OBJ works fine, though.
## Post #225
- Username: Ventrue
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Tue Feb 23, 2010 9:28 pm
- Post datetime: 2011-03-19T14:47:05+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hi!

I'm really sorry, if this has been answered before, but I'd like to know why does Noesis export Ninja Gaiden 2 .gmds without boneweights?
## Post #226
- Username: Andrakann
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-03-21T01:31:13+00:00
- Post Title: Re: Señor Casaroja's Noesis

I've been off in PS2 land for a while now, writing a R5900 cpu emulator (it will be in the next Noesis, for extracting data from at least one PS2 game by executing its own decompression routines and dumping the data from the R5900's memory - an approach I plan to use a lot in the future on PS2 games that are kind enough to retain symbol tables and give me reliable offsets for executing specific decompression/unencryption routines), and trying to figure out various PS2 model formats. revelation has kindly given me some specs/schooling on VIFcode as well. I don't know when I will get a new Noesis out, since I'm still in the middle of all that, but to address some things in the mean time:

> Reply from Ventrue
>
> I'm really sorry, if this has been answered before, but I'd like to know why does Noesis export Ninja Gaiden 2 .gmds without boneweights?
I never found the correct skeleton for those models, as I'm pretty sure it's in the motion data or something. If someone figured that out, feel free to send me the specs. I haven't looked at it in months. Possibly years now. I don't know where Surveyor left off either.

> Reply from Cloud452
>
> Figured it out! For whatever reason it was looking for "ffccdif_63.png.png", the extra file extension tag screwed things up.

Also, for whatever reason it's looking for "ffccdif_65535.png".... but there is no such file with that name. o_O
FF7CC is kind of a legacy format that doesn't go through any of the new interfaces, so it's not too surprising to hear about this. I'll try to remember to look at it before the next release. 65535 means the surface must have had no texture. (this is valid in some cases, as many vertex-colored surfaces in FF7CC have no texture or UV's) You can probably safely ignore it, or just make make a white square texture and name it that or something.

> Reply from jaden
>
> MrAdults any chance you're gonna add noesis support for marvel vs capcom 3 ??
It was in there for a while, but it only worked with the strip format models, and it was half-assed support so I just disabled it. If anyone figures out the non-strip index format for those models, I'll be happy to finish support for the game and re-enable it. I revisited it myself last week but still could not completely make sense of it. Multiple sources have led me to believe the data is encoded with the PS3 Edge library, though, and if anyone could tell me how it encodes data, I'm pretty sure it would provide the key for MVC3's index data. The other option is if someone cracks the compression on the 360 ver, as I'm pretty sure its models don't use this index format, and they probably just use strip lists exclusively instead.

> Reply from Tosyk
>
> q to MrAdults:
1 - can you implementing support of FBX format (i think most stable and optimal format to storing model/animation data)
2 - can i use noesis in command line "mode" (i want to convert models recursively through the folders)
3 - there is any way to disable left-side tree-menu (i'd love to use noesis like simple viewer, but this menu loading tree for all of my deep-deep thousands folders)
1) Some day, when I'm not busy with other things and not being lazy. Both of those things rarely happen in conjunction, though.
2) The batch processing option is the closest thing to it, located under the tools menu.
3) Not currently. That probably would be good to add at some point, though, I agree. Since the MFC tree view is a slow son of a bitch.

Also regarding FF9: It has been on my list of games to support for a long time now, since as you may have noticed, I have a thing for the FF series. However, I have no idea when I'll get around to actually looking at the data. Probably sometime soonish, but it depends on how things go in my PS2-related ventures.
## Post #227
- Username: maniacoloco
- Rank: advanced
- Number of posts: 49
- Joined date: Sat Mar 05, 2011 10:19 pm
- Post datetime: 2011-03-21T07:44:15+00:00
- Post Title: Re: Señor Casaroja's Noesis

Just a little request:

Is there a way to not export hidden meshes in Noesis?? and the second thing, hope you consider supporting NG Sigma 2.
## Post #228
- Username: fpunch
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Tue Mar 22, 2011 5:59 am
- Post datetime: 2011-03-21T22:06:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hi, I'm new to this kind of thing and to this program especially.

My question is that is it possible to export a model with skeleton bound and weighted to mesh, and then open it in Maya for example? Or at least export the skeleton? I'm looking at a .gmo file in noesis and it contains skeleton also but can't figure if it's possible to export it.

Thanks
## Post #229
- Username: maniacoloco
- Rank: advanced
- Number of posts: 49
- Joined date: Sat Mar 05, 2011 10:19 pm
- Post datetime: 2011-03-22T06:30:21+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from fpunch
>
> Hi, I'm new to this kind of thing and to this program especially.

My question is that is it possible to export a model with skeleton bound and weighted to mesh, and then open it in Maya for example? Or at least export the skeleton? I'm looking at a .gmo file in noesis and it contains skeleton also but can't figure if it's possible to export it.

Thanks

With noesis, yes it's possible only if you have an importer supported for the formats supported of Noesis (psk, dae, m5mesh, smd, etc...). There's a collada plugin for maya.
## Post #230
- Username: Krisan Thyme
- Rank: advanced
- Number of posts: 49
- Joined date: Sat Jan 15, 2011 4:04 am
- Post datetime: 2011-03-23T04:26:47+00:00
- Post Title: Re: Señor Casaroja's Noesis

While batch processing files and working with a format like GMO, is there any way to define what format animations and textures are converted to? And for that matter, is there a command to rotate 90 the model\anims in the batch processor? If not, these would be a really useful features. (On another note, -ignoreroot doesn't seem to be working from what I've tested.)
## Post #231
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-03-25T20:00:11+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from maniacoloco
>
> fpunch wrote:Hi, I'm new to this kind of thing and to this program especially.

My question is that is it possible to export a model with skeleton bound and weighted to mesh, and then open it in Maya for example? Or at least export the skeleton? I'm looking at a .gmo file in noesis and it contains skeleton also but can't figure if it's possible to export it.

Thanks

With noesis, yes it's possible only if you have an importer supported for the formats supported of Noesis (psk, dae, m5mesh, smd, etc...). There's a collada plugin for maya.

There are two collada plugins for maya, I have them both, they both work VERY poorly. Bone weights are often lost, or texture UV data, or both, or the bones don't import at all. I have never successfully imported animations from collada period.

If FBX were to be supported at some point, that would be very helpful.

...but I don't care for collada much due to my issues with it.
## Post #232
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2011-03-26T00:49:03+00:00
- Post Title: Re: Señor Casaroja's Noesis

I have another major problem in Noesis.

I have a Collada DAE model that looks fine in other model viewers, but in Noesis the textures are vertically flipped.
The link to this model and all 100 of textures is at [http://www.3dvia.com/3dsearch/Content/8 ... wnloader=2](http://www.3dvia.com/3dsearch/Content/8051ABB6889AACBE.dae.zip?Downloader=2)
## Post #233
- Username: Krisan Thyme
- Rank: advanced
- Number of posts: 49
- Joined date: Sat Jan 15, 2011 4:04 am
- Post datetime: 2011-03-26T01:10:05+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Satoh
>
> There are two collada plugins for maya, I have them both, they both work VERY poorly. Bone weights are often lost, or texture UV data, or both, or the bones don't import at all. I have never successfully imported animations from collada period.

If FBX were to be supported at some point, that would be very helpful.

...but I don't care for collada much due to my issues with it.
OpenCOLLADA seems to have issues on Maya.. It works (mostly*) fine in Max, but for some reason it's bugged as all hell when it comes to Maya. I can confirm all of these problems, as they're what ultimately forced me to give up on using Maya for stuff like this.

*The actual size of the DAE model when imported into Max (or perhaps the problem lies when exported from Noesis?) is inconsistent with the size of the model in other formats. A good example of this would be to export a model at -scale 100 as an OBJ, then do the same as a DAE.. Then import them both into the same scene in Max. The OBJ will be the correct (larger) size, whereas the DAE model will be quite a bit smaller..

> Reply from Mirrorman95
>
> I have another major problem in Noesis.

I have a Collada DAE model that looks fine in other model viewers, but in Noesis the textures are vertically flipped.
The link to this model and all 100 of textures is at http://www.3dvia.com/3dsearch/Content/8 ... wnloader=2
The model is probably standing on its Z-Axis, though I can't check to confirm. (link isn't working) Noesis seems to default to Y-Up for most formats, unless they're notorious for being Z-Up (like PSK). You should be able to just click on the axis toggle button inside the viewer to get it looking right..

> Reply from Krisan Thyme
>
> While batch processing files and working with a format like GMO, is there any way to define what format animations and textures are converted to? And for that matter, is there a command to rotate 90 the model\anims in the batch processor? If not, these would be a really useful features. (On another note, -ignoreroot doesn't seem to be working from what I've tested.)
I should note I have yet to test -ignoreroot on anything other than a GMO yet, but it definitely isn't working on those at least. Also if a command can't be issued for what type of format anims are converted to, there should at least be an intelligent system that decides the format based on the type of model it's converting to. (For example, if converting to PSK in batch processing, default to PSA for animation.. At the moment, it uses RDA for animations regardless of anything else, unless the format you're converting to is DAE.)
## Post #234
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2011-03-26T19:53:46+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Krisan Thyme
>
> Mirrorman95 wrote:I have another major problem in Noesis.

I have a Collada DAE model that looks fine in other model viewers, but in Noesis the textures are vertically flipped.
The link to this model and all 100 of textures is at http://www.3dvia.com/3dsearch/Content/8 ... wnloader=2
The model is probably standing on its Z-Axis, though I can't check to confirm. (link isn't working) Noesis seems to default to Y-Up for most formats, unless they're notorious for being Z-Up (like PSK). You should be able to just click on the axis toggle button inside the viewer to get it looking right..
I don't understand. How will axis toggle flip the textures? The thing is, the DAE would work, if I flipped a hundred textures with a jpg editor. But the textures are supposed to be the way they are, so if they don't load, I'm guessing there's a problem with Noesis. An axis flip would only rotate the model, wouldn't it?
## Post #235
- Username: Krisan Thyme
- Rank: advanced
- Number of posts: 49
- Joined date: Sat Jan 15, 2011 4:04 am
- Post datetime: 2011-03-26T21:12:36+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Mirrorman95
>
> I don't understand. How will axis toggle flip the textures? The thing is, the DAE would work, if I flipped a hundred textures with a jpg editor. But the textures are supposed to be the way they are, so if they don't load, I'm guessing there's a problem with Noesis. An axis flip would only rotate the model, wouldn't it?
Oh, I misread. The textures.. Sorry, I've been going on so little sleep lately. Yeah, that happens to me too with certain DAE models. I know WHY it happens, but it's hard to explain. It's definitely a bug with Noesis though. I've personally given up on using DAE myself, given all the problems there are in importing them correctly into Max/Maya.
## Post #236
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-03-26T22:55:37+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from maniacoloco
>
> Just a little request:
Is there a way to not export hidden meshes in Noesis?? and the second thing, hope you consider supporting NG Sigma 2.
Nope. And...not on the priority list. I probably will revisit NG2 one day, though, to look further into skeletal+motion data. But not any day very soon.

> Reply from Krisan Thyme
>
> While batch processing files and working with a format like GMO, is there any way to define what format animations and textures are converted to? And for that matter, is there a command to rotate 90 the model\anims in the batch processor? If not, these would be a really useful features. (On another note, -ignoreroot doesn't seem to be working from what I've tested.)
Yes. -animoutex ".ext", same works with images using "-imageoutex". Although those commands aren't documented as I intend to change the way it works internally at some point.

> Reply from Mirrorman95
>
> I have another major problem in Noesis.

I have a Collada DAE model that looks fine in other model viewers, but in Noesis the textures are vertically flipped.
The link to this model and all 100 of textures is at http://www.3dvia.com/3dsearch/Content/8 ... wnloader=2
That doesn't sound very major! Noesis assumes no uv v flip. If you want to flip a model's uv's just export it with the uv flip option.

> Reply from Satoh
>
> There are two collada plugins for maya, I have them both, they both work VERY poorly. Bone weights are often lost, or texture UV data, or both, or the bones don't import at all. I have never successfully imported animations from collada period.

If FBX were to be supported at some point, that would be very helpful.

...but I don't care for collada much due to my issues with it.
Noesis uses FCollada for import and export, and typically OpenCOLLADA has been very good about maintaining compatibility there. My Max OpenCOLLADA importer/exporter plugins work great with all of my Noesis files. Not sure why Maya's OC-based plugin would have issues.

> Reply from Krisan Thyme
>
> *The actual size of the DAE model when imported into Max (or perhaps the problem lies when exported from Noesis?) is inconsistent with the size of the model in other formats. A good example of this would be to export a model at -scale 100 as an OBJ, then do the same as a DAE.. Then import them both into the same scene in Max. The OBJ will be the correct (larger) size, whereas the DAE model will be quite a bit smaller..
Noesis doesn't do a thing to scales.

> Reply from Krisan Thyme
>
> The model is probably standing on its Z-Axis, though I can't check to confirm. (link isn't working) Noesis seems to default to Y-Up for most formats, unless they're notorious for being Z-Up (like PSK). You should be able to just click on the axis toggle button inside the viewer to get it looking right..
Noesis doesn't do a thing to axis orientation either, unless you tell it to, but it does occasionally change the default preview axis. This does not affect the axis on the exported data, even if you export from preview.

> Reply from Krisan Thyme
>
> I should note I have yet to test -ignoreroot on anything other than a GMO yet, but it definitely isn't working on those at least.
-ignoreroot is a legacy option that probably doesn't work with anything other than some md5 files. It was implemented only for my personal content pipeline.

> Reply from Krisan Thyme
>
> Yeah, that happens to me too with certain DAE models. I know WHY it happens, but it's hard to explain. It's definitely a bug with Noesis though. I've personally given up on using DAE myself, given all the problems there are in importing them correctly into Max/Maya.
It isn't a bug with Noesis. Noesis doesn't do a thing to UV's either! (at least where COLLADA is concerned) You might call the lack of obeying uv scales/flips on a per-material basis a missing feature, though.

Ok then, back to drinking large quantities of beer.
## Post #237
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2011-03-27T01:25:21+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Mirrorman95 wrote:I have another major problem in Noesis.

I have a Collada DAE model that looks fine in other model viewers, but in Noesis the textures are vertically flipped.
The link to this model and all 100 of textures is at http://www.3dvia.com/3dsearch/Content/8 ... wnloader=2
That doesn't sound very major! Noesis assumes no uv v flip. If you want to flip a model's uv's just export it with the uv flip option.
I tried that. When I exported it as an OBJ with UV flip, it still looked screwed up. When I exported it as an OBJ without UV flip, and as another DAE with UV flip, the textures didn't map at all.
## Post #238
- Username: Krisan Thyme
- Rank: advanced
- Number of posts: 49
- Joined date: Sat Jan 15, 2011 4:04 am
- Post datetime: 2011-03-27T06:21:23+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Yes. -animoutex ".ext", same works with images using "-imageoutex". Although those commands aren't documented as I intend to change the way it works internally at some point.
I appreciate this a lot.. Thanks.

> Reply from MrAdults
>
> Noesis doesn't do a thing to scales.
Then this is an issue with OpenCollada, or the DAE format in general. Just compare a scaled model exported from Noesis as both an OBJ and a DAE in Max, you'll notice they're NOT the same size. I don't know why. This caused me some problems when working with multiple formats.

> Reply from MrAdults
>
> Noesis doesn't do a thing to axis orientation either, unless you tell it to, but it does occasionally change the default preview axis. This does not affect the axis on the exported data, even if you export from preview.
I didn't mean to imply it did do anything to the orientation, just that it displays the "standard" of Y-Up by default, and that.. Yeah, a Z-Up DAE model will look wrong in Noesis, but it doesn't effect anything at all you're right.

> Reply from MrAdults
>
> -ignoreroot is a legacy option that probably doesn't work with anything other than some md5 files. It was implemented only for my personal content pipeline.
That would explain it. >_>
You should probably hide the option from the help text, or change the wording so that it's clearer it only works with MD5. I kept trying to make it work, but it never seemed to do anything. I actually wasted a good bit of time fooling with it before I concluded I wasn't doing something wrong.

> Reply from MrAdults
>
> It isn't a bug with Noesis. Noesis doesn't do a thing to UV's either! (at least where COLLADA is concerned) You might call the lack of obeying uv scales/flips on a per-material basis a missing feature, though.

Ok then, back to drinking large quantities of beer.
Curious.. I hope you aren't taking my observations too personally, as I do love and adore this software.. The textures match the appropriate UV's when displayed in.. say.. Max, for example though. It's just in Noesis it shows them as if the UV's were incorrect, when they're actually not. I definitely know what Mirrorman is referring to anyway.. So if it's not technically an issue with Noesis, then it must be a problem with the DAE format itself.
## Post #239
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2011-03-27T14:35:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

The contents of this post was deleted because of possible forum rules violation.
## Post #240
- Username: Andrakann
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-03-29T03:25:55+00:00
- Post Title: Re: Señor Casaroja's Noesis

2.99:

> -Started writing a CPU emulator for the R5900. It can be invoked within Noesis to run native PS2 game code for specific tasks. The R5900 core will be exposed to plugin developers when it is more complete.
>
>  -Added support for unpacking Bujingai's compressed .bin files. (the main AFS containers have already been supported by Noesis for a long time) This uses the R5900 core to decompress data, and find package index tables inside the game's ELF. I used symbol offsets in determining my points of code execution, so hopefully this will also work on different distributions of the game, but I make no guarantees.
>
>  -Added import support for Bujingai models and textures. Praise be to Gackt! Materials will probably be messed up for most models, though, and level bits don't get snapped into place. And some stuff may just not work at all. Who knows. Animations are also loaded, but arm/leg bones are usually screwed up, because I'm not handling IK joints correctly.
>
>  -Fixed COLLADA exporter bug where models that use multiple materials under the same name would only export a single material.
>
>  -Fixed COLLADA vertex alphas not being imported.
>
>  -Fixed problems with exporting to COLLADA with non-normalized vertex weights.
>
>  -Added "No browse to target" option under the view menu. This prevents Noesis from browsing to the path of the loaded file in the shell folder view, as well as from browsing to the last selected folder on startup.
>
>  -Added "Don't apply on drag" option under the view menu. This removes the prompt asking if you'd like to apply the model to the existing scene (if a scene is already open), and defaults to always loading the drag-and-dropped item as a new scene.
>
>  -Now printing vertex indices next to individual triangles in data viewer.
>
>  -Now printing bone indices, if applicable, next to individual vertices in data viewer.
>
>  -Exposed Noesis_UntwiddlePS2 for plugin authors.
I was stuck on Bujingai for damn near a week, which was unexpected. I'm taking a break now, in order to recover from the frustration and torment it inflicted upon me.

Did we always have this convenient quote button on the reply page? It seems like a newish (like within the last few months, anyway) thing. Well, if someone added it, then nice job! Or maybe I was thinking of another forum that lacked quote functionality.

> Reply from chrrox
>
> Noesis has an issue with kens rage for meshes that use the vertex size 0x70 bytes long.
I have uploaded 2 pictures to show how the mesh should look and how it looks in noesis.
you can see he is missing the long hair and it shows up around his waist as a clump of verts.
I still haven't looked into this, so I have no real idea about what's up with it. But I suspect, as you probably do, that it's got some special physics properties associated with it. (which may not even be in the same file as the model/skeleton) That might help in knowing where to weight it. Or maybe that vert type is so big because it contains some extra morph/positional data.

> Reply from Krisan Thyme
>
> Then this is an issue with OpenCollada, or the DAE format in general. Just compare a scaled model exported from Noesis as both an OBJ and a DAE in Max, you'll notice they're NOT the same size.
They're the same size for me, tested with a skeletal model from FFX. Sounds to me like you're probably just importing the scene units from the DAE, so don't do that.

> Reply from Krisan Thyme
>
> You should probably hide the option from the help text, or change the wording so that it's clearer it only works with MD5.
2.99 contains a special disclaimer at the top of the "Advanced commands" list, so that you may sleep more soundly from now on.

> Reply from Krisan Thyme
>
> Curious.. I hope you aren't taking my observations too personally, as I do love and adore this software..
Shut up. I'm sick of your abuse. You never wanted this software for anything but its models. You never wanted to build a life with it, and you couldn't even be bothered to flip your UV's for it when it was at its most vulnerable. This software doesn't need "love" like yours. Go to hell. And sorry, but I'm suing for custody. It's what my lawyer thinks is best.

> Reply from Krisan Thyme
>
> The textures match the appropriate UV's when displayed in.. say.. Max, for example though. It's just in Noesis it shows them as if the UV's were incorrect, when they're actually not. I definitely know what Mirrorman is referring to anyway.. So if it's not technically an issue with Noesis, then it must be a problem with the DAE format itself.
Like I said, Noesis will not obey material UV deforms. But most likely that is not even your issue. To flip or not to flip is an age old question, and I've run into it in more modeling packages and formats than I can count. There are even other COLLADA importers/exporters which change the default UV flip. I'll take no part in it, and refuse to change the default to flip, because I know it would cause even more confusing fuckups. I'm sure half of the .3ds files in the world appear to have wrongly flipped UV's too, even though I flip there by default as per the old Max standard. Just flip the UV's yourself if they are not right for your target package/viewer/format/game/etc. It's naive to say it's "broken" in any given package, though, because it's simply a matter of conflicting/absent standards.

> Reply from Mirrorman95
>
> I tried that. When I exported it as an OBJ with UV flip, it still looked screwed up. When I exported it as an OBJ without UV flip, and as another DAE with UV flip, the textures didn't map at all.
The losing material names on export bug has been fixed in 2.99.
## Post #241
- Username: firsak
- Rank: advanced
- Number of posts: 64
- Joined date: Wed Dec 16, 2009 7:32 pm
- Post datetime: 2011-03-29T04:36:33+00:00
- Post Title: Re: Señor Casaroja's Noesis

The contents of this post was deleted because of possible forum rules violation.
## Post #242
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2011-03-29T05:49:54+00:00
- Post Title: Re: Señor Casaroja's Noesis

I have another DDS file that Noesis cannot interpret. It's from a Wii iso, and it loaded just fine on GIMP.
[http://www.brickshelf.com/gallery/mirro ... een_01.dds](http://www.brickshelf.com/gallery/mirrorman95/3D/mickeysplashscreen_01.dds)

Also, does Noesis support LDraw .dat files?
## Post #243
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-03-29T21:24:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

Doesn't openCOLLADA have an import scale option? Does it really make so much difference if you have to change the import scale once in a while?
## Post #244
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-03-29T23:04:08+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Satoh
>
> Doesn't openCOLLADA have an import scale option? Does it really make so much difference if you have to change the import scale once in a while?
Yeah, most importers will have an option to import scene units from the file. This naturally changes the scale and does not import the geometry using your existing scene scale. If you want to have the DAE geometry be the same scale as, say, some OBJ geometry that you've already imported, then...don't import the scene units from the DAE!

On a partially related note, I do get annoyed at people bringing up issues with Noesis that are really just issues with them not understanding The Way Things Work. If you are going to use a free program and be gung-ho about bug reports, that's great, and it helps everyone, but at least know what you are doing before submitting user error, other-importer/exporter-error, or standards-mess (e.g. most, but not all, COLLADA issues) scenarios as bugs in that program.

I like to improve this program, but I do not like to be your personal tutor, and I do not like having to explain to you repeatedly why your problem is not something that should be fixed on my end. On this front, I will be more patient with you if you actually contribute meaningful things to Xentax (e.g. something more than just ripping off models with other peoples' tools and sending, or even worse, selling them to other people), but if you're only here to trade models, make terrible youtube videos of them, and/or whatever else that involves no meaningful Xentax community contribution whatsoever, then I see no reason why I should be holding your hand here. I don't see a reason that I should entertain your feature requests either. It seems to me that most of you who are so eager to make requests have not put forth anything meaningful into this community, donated to help Mr.Mouse with hosting, or really done anything that could be considered giving back.

This forum was not founded around the idea of stealing game content with other peoples' tools. I can't speak for exactly what it was founded around, but I do know it wasn't that. I would guess it was probably something a bit more noble and dedicated to the actual act of reverse engineering data. There are some great and talented people here, and being surrounded by a bunch of selfish leeches only forces those people to be more private and cut off from the community itself, which is a loss for everyone. So be a little bit more self-aware, and consider actually contributing rather than just taking, even though you have your convenient veil of pseudo-anonymity which otherwise allows you to be an unapologetically selfish bastard. You might also just be too young to know what the hell you're doing, in which case, now is your chance to begin learning the skill of introspection.

And while I'm ranting, try to make a clearer distinction between feature requests and bugs. Some of the people who have submitted "bugs" for this program remind me of QA testers I've had to work with who would submit things like "Player move speed feels a bit slower than it should be, imo" as a "bug". I can barely stomach them even when I'm being paid to.

Ok then, carry on. With all that on mind.
## Post #245
- Username: firsak
- Rank: advanced
- Number of posts: 64
- Joined date: Wed Dec 16, 2009 7:32 pm
- Post datetime: 2011-03-30T01:26:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

I just tried other apps like Blender, Softimage. I exported models from them into OBJ and DAE and imported them into MAX with OpenCollada. DAEs were always much larger than OBJs, so this is an OpenCollada bug.
## Post #246
- Username: Krisan Thyme
- Rank: advanced
- Number of posts: 49
- Joined date: Sat Jan 15, 2011 4:04 am
- Post datetime: 2011-03-30T08:42:54+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> They're the same size for me, tested with a skeletal model from FFX. Sounds to me like you're probably just importing the scene units from the DAE, so don't do that.
I.. Might be. Damn, it never even occurred to me to check for this. Sigh~
Thanks. (I have faith in DAE again)

> Reply from MrAdults
>
> 2.99 contains a special disclaimer at the top of the "Advanced commands" list, so that you may sleep more soundly from now on.
Cool beans.

> Reply from MrAdults
>
> Like I said, Noesis will not obey material UV deforms. But most likely that is not even your issue. To flip or not to flip is an age old question, and I've run into it in more modeling packages and formats than I can count. There are even other COLLADA importers/exporters which change the default UV flip. I'll take no part in it, and refuse to change the default to flip, because I know it would cause even more confusing fuckups. I'm sure half of the .3ds files in the world appear to have wrongly flipped UV's too, even though I flip there by default as per the old Max standard. Just flip the UV's yourself if they are not right for your target package/viewer/format/game/etc. It's naive to say it's "broken" in any given package, though, because it's simply a matter of conflicting/absent standards.
I get what you're saying, and yeah, that's kinda what I thought was happening too from my observations when importing\exporting. I wasn't sure why Noesis didn't compensate for it, though, but what you say makes 100% sense, and I agree.. It's better off left as it is. Also you're right that "broken" was probably a bad word to use, too. I guess I should choose my words more carefully!

> Reply from MrAdults
>
> Yeah, most importers will have an option to import scene units from the file. This naturally changes the scale and does not import the geometry using your existing scene scale. If you want to have the DAE geometry be the same scale as, say, some OBJ geometry that you've already imported, then...don't import the scene units from the DAE!
I think this was an oversight of mine for one simple reason.. Most importers I've dealt with in the past do not default to this kind of behavior. You can often specify to import the model based on the scene, but that's not generally the default behavior. Not in my experience at least, but then I've never used DAE until recently either. (Likewise, OpenCollada doesn't appear to prompt me for options in Max when I import, so it wasn't difficult to overlook.) It was an oversight though, and you're completely correct it was an issue of ignorance on my part.

> Reply from MrAdults
>
> On a partially related note, I do get annoyed at people bringing up issues with Noesis that are really just issues with them not understanding The Way Things Work.
Well I hope I didn't seem that way myself. I do appreciate the work put into this software, and I rather enjoy its capabilities. I admit I make mistakes though, oversights, but I think we all do at some point or another. The most I can think of to do is say "Thank you" and "Sorry" ~

EDIT:

> Reply from firsak
>
> I just tried other apps like Blender, Softimage. I exported models from them into OBJ and DAE and imported them into MAX with OpenCollada. DAEs were always much larger than OBJs, so this is an OpenCollada bug.
If this IS a bug with OpenCollada, and not just an oversight on my part.. I feel a little better. I'll find out soon enough I guess.
## Post #247
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-04-01T01:55:22+00:00
- Post Title: Re: Señor Casaroja's Noesis

Having messed around with the Unity game engine recently, I've noticed that OBJ's and DAE's import at vastly different sizes. I think in the end is it simply an issue with the intercompatibility of the two formats. 

For instance, when I wrote an exporter for FF9's geometry data (you don't want it, trust me it's crap, which is why I forwarded the FF9 info to MrAdults here) I had to decide whether to use floats or integers for the vertex coordinates.

In the end, they both export to the same configuration, but if I use an int, the vertex is 255 units off this axis, but in float form, it's only 1 unit offset from the axis. (That's due to it using what appear to be 8bit floats, which are essentially ints divided by 256 iirc)

So, considering OBJ seems to use floats, and generally in numbers lower than 100.0 (at least in every file I've seen) it's likely that OBJ's will always import smaller than DAE's unless the scale is corrected on import.
## Post #248
- Username: Trishty
- Rank: advanced
- Number of posts: 63
- Joined date: Mon Jul 05, 2010 9:37 pm
- Post datetime: 2011-04-02T10:46:13+00:00
- Post Title: Re: Señor Casaroja's Noesis

Can you add import support for 3dr(3D Ripper Dx), 3dxml(3DVia) and Obj(GameAssassin) MrAdults?
## Post #249
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2011-04-02T16:08:57+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Trishty
>
> Can you add import support for 3dr(3D Ripper Dx), 3dxml(3DVia) and Obj(GameAssassin) MrAdults?

He recently updated Noesis to support the OBJs and DDSs that 3D Ripper DX produces based on samples I sent him. 3DXML can be converted to DAE by uploading them on their website, which can be viewed in Noesis (albeit with the UVs flipped). I'm pretty sure whatever OBJ Game Assassin produces should be viewable, and if not, you should link to it here so he can take a look at it if he has the time and energy to do so. He can't really update anything without a sample file, so if you want a chance of anything you can't view in Noesis to be compatible with it, you have to upload it and link it somewhere in this post. Of course, there are probably still a few OBJs and certainly a few DDSs that can't be viewed in Noesis, only in other programs, like the Wii DDS that I uploaded from my Epic Mickey disk a few days ago, and it can't generate or import the MTL files of OBJs, since it uses material names to find analogous textures.

If you really want to convert those formats to a form Noesis understands, you should just research them and download programs that export them to more common 3D formats.
## Post #250
- Username: Trishty
- Rank: advanced
- Number of posts: 63
- Joined date: Mon Jul 05, 2010 9:37 pm
- Post datetime: 2011-04-02T19:33:18+00:00
- Post Title: Re: Señor Casaroja's Noesis

The contents of this post was deleted because of possible forum rules violation.
## Post #251
- Username: S0UZ
- Rank: advanced
- Number of posts: 40
- Joined date: Tue Apr 05, 2011 6:46 pm
- Post datetime: 2011-04-05T10:51:17+00:00
- Post Title: Re: Señor Casaroja's Noesis

Can u add support for pkb file format?It is Shadow hearts format.
## Post #252
- Username: onelove1210
- Rank: advanced
- Number of posts: 75
- Joined date: Thu Apr 07, 2011 7:06 pm
- Post datetime: 2011-04-07T11:09:28+00:00
- Post Title: Re: Señor Casaroja's Noesis

The contents of this post was deleted because of possible forum rules violation.
## Post #253
- Username: SoftIce
- Rank: veteran
- Number of posts: 98
- Joined date: Sun Jan 23, 2011 12:31 pm
- Post datetime: 2011-04-08T00:37:20+00:00
- Post Title: Re: Señor Casaroja's Noesis

For dae scale issues you can try typing -scale 250 in the advanced options area in the export box for Noesis.
## Post #254
- Username: threelancelot
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Fri Mar 11, 2011 12:12 am
- Post datetime: 2011-04-08T02:02:08+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from fpunch
>
> Hi, I'm new to this kind of thing and to this program especially.

My question is that is it possible to export a model with skeleton bound and weighted to mesh, and then open it in Maya for example? Or at least export the skeleton? I'm looking at a .gmo file in noesis and it contains skeleton also but can't figure if it's possible to export it.

Thanks

Hi....  

Im new in the forum but I'm succsefull import models in maya... its a little bit tricky but this are the steps

what you need

a) Maya
b) Milkshape 3d (optional)
c) Noesis
d) DT SMD importer for maya you can download here [http://www.megaupload.com/?d=CR5HHIZ7](http://www.megaupload.com/?d=CR5HHIZ7)

1.- Export model in noesis as smd (check the flip UV's option this way you can load the textures right in maya)
1.1.- Optional some times the model can't bind well to skeleton if it is not in (T) position then in Milkshape you can put  the model in this standar position and save de smd model
2.- Import smd model using the plugin in maya. (follow the instructions and select the correct texture file)
3.- Save the scene as maya.. and enjoy
## Post #255
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-04-08T08:02:30+00:00
- Post Title: Re: Señor Casaroja's Noesis

3.0:

```
 -Added support for DQ&FF in Itadaki Street Special JOB files. This is through the Saint Seiya plugin as the formats are very similar.
 -Added "Image_LoadTIM2" extension for plugin authors. See the ssthehades_gmi plugin for example usage.
 -Added a new option for SetPreviewOption - "noTextureLoad". Allows a plugin to disable auto-loading additional textures based on filenames for preview mode.
 -Added Noesis_AnimFromAnims and Noesis_AnimFromAnimsList functions for plugin authors. Combines multiple animations and sequences into a single animation with a sequence list.

```

I'll probably be starting a contract job very soon, which will be possibly followed by a fulltime job for another company, so updates are likely to be very infrequent in the coming months. So if you have more "can you support x" requests, that's what pluginsource.zip is for!
## Post #256
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-04-10T01:09:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

Oh nnnoooo... I'll have to write the FF9 stuff myself?!
## Post #257
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-04-10T09:00:13+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Satoh
>
> Oh nnnoooo... I'll have to write the FF9 stuff myself?!
Well... I guess we'll see what I can do between now and when my first contract starts up. I don't know when that will actually be though, it could be tomorrow or a week. I'm currently feeling no motivation at all, though, so I have to be honest and say I'm probably just going to be a lazy pile of crap and watch TV for the rest of the night. I'll see if I can summon motivation to finally look at FF9 tomorrow, though, cause that had been first in my queue before I got distracted with Bujingai (I was watching a dorama with Gackt in it, couldn't help myself) and went on a PS2 kick.

By the way, who is responsible for all those specs you PM'd me a while back? I would like to give credit to the correct individuals if possible, but I don't recall seeing any individual names on the qhimm wiki either.
## Post #258
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-04-10T20:47:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

Unfortunately the wiki page seems to be down at the moment, but I recall Zidane2 and Zande are the two who did a large majority of the work on FF9. I according to a PM I got, Qhimm started writing a model viewer but gave up on it, and the source code was released... looking through it it seems to be almost nothing close to a runnable file nonetheless a viewer... Then again C++ isn't my forte...

But if I had to put money on it, I'd weigh my bets on Zande and Zidane mostly.

I hope that helps.
## Post #259
- Username: ultimaespio
- Rank: mega-veteran
- Number of posts: 267
- Joined date: Thu Apr 15, 2010 2:55 am
- Post datetime: 2011-04-10T21:17:55+00:00
- Post Title: Re: Señor Casaroja's Noesis

Chev did some stuff too, although I think he mostly just started writing a model viewer

[http://forums.qhimm.com/index.php?topic=8781.0](http://forums.qhimm.com/index.php?topic=8781.0)

He's on here too.
## Post #260
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-04-12T18:06:21+00:00
- Post Title: Re: Señor Casaroja's Noesis

The FF9 stuff is freaking awesome, but I'm having an issue with export.

Take a look at this data from the OBJ export of Freya

```
v  -185.781647 -412.432251 65523.082031
v  -225.771103 -424.573151 65495.613281

```


The Z axis coord is REALLY big... I'm betting it's supposed to be something more like -41 rather than 65494

I've confirmed the same issue with DAE export of the files as well. I first noticed it because Blender wasn't importing the data, or it seemed like it wasn't... In actuality it was far beyond the camera clipping plane. 

Also, I get the feeling these negative values are supposed to be positives, as the majority of the values in both files are negative, which seems odd.

Are these accidental issues with the FF9 import or the entire export function? I don't have access to any other models on this computer so I can't test it...

Edit: It seems that the number 65494 (0xFFD6) should be 214 (0x00D6) or -40 (also 0xFFD6)
## Post #261
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-04-12T21:02:19+00:00
- Post Title: Re: Señor Casaroja's Noesis

Looks like the bone length is signed 16-bits and not 24-bits as those specs would suggest. That is causing the root bone on that particular model to shoot way off on a single axis. I'll get a fix up in a moment.
## Post #262
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2011-04-13T01:13:41+00:00
- Post Title: Re: Señor Casaroja's Noesis

I tried to download Noesis 3.13 on oasis.xentax.com a few minutes ago, but it gave me this error:

"This page is generated by Parallels Plesk Panel, the leading hosting automation software. You see this page because there is no Web site at this address."
## Post #263
- Username: Devilot
- Rank: ultra-veteran
- Number of posts: 443
- Joined date: Tue Sep 07, 2010 5:12 pm
- Post datetime: 2011-04-15T13:39:56+00:00
- Post Title: Re: Señor Casaroja's Noesis

could you integrate in the Noesis GUI the possibility for renaming/deleting files directly from the program?

EDIT: thumbs up for the Necron Model on the main page.

EDIT: some GMO models appear to have some of their animations incorrect. in Dissidia 012 gmo 1662886312_16 and others have the animations of the cape incorrectly rendered, stiffer than in-game.
I also got this [](http://img859.imageshack.us/i/sinmodelerror.jpg/)
I'm not sure wheter this is a bug of the program or not, but I thought I'd post it here, to be on the safe side.
## Post #264
- Username: jinakanishi
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Tue Aug 10, 2010 4:20 am
- Post datetime: 2011-04-17T04:53:25+00:00
- Post Title: Re: Señor Casaroja's Noesis

theres a fatal flaw in the newer versions of the program anything above version 2.63 will corrupt dae files when you try to export or convert
## Post #265
- Username: Sniperello
- Rank: n00b
- Number of posts: 10
- Joined date: Sat Jan 08, 2011 7:26 am
- Post datetime: 2011-04-17T15:13:59+00:00
- Post Title: Re: Señor Casaroja's Noesis

Please add Ninja BLADE plugin
## Post #266
- Username: JakeGreen
- Rank: mega-veteran
- Number of posts: 164
- Joined date: Mon Aug 23, 2010 5:14 am
- Post datetime: 2011-04-17T22:26:26+00:00
- Post Title: Re: Señor Casaroja's Noesis

The contents of this post was deleted because of possible forum rules violation.
## Post #267
- Username: S0UZ
- Rank: advanced
- Number of posts: 40
- Joined date: Tue Apr 05, 2011 6:46 pm
- Post datetime: 2011-04-18T16:49:10+00:00
- Post Title: Re: Señor Casaroja's Noesis

Could you mind add support for Bloody Roar 3 plz?
## Post #268
- Username: Zerox
- Rank: mega-veteran
- Number of posts: 186
- Joined date: Mon Aug 09, 2010 10:50 am
- Post datetime: 2011-04-18T17:24:13+00:00
- Post Title: Re: Señor Casaroja's Noesis

The contents of this post was deleted because of possible forum rules violation.
## Post #269
- Username: S0UZ
- Rank: advanced
- Number of posts: 40
- Joined date: Tue Apr 05, 2011 6:46 pm
- Post datetime: 2011-04-19T08:12:27+00:00
- Post Title: Re: Señor Casaroja's Noesis

Oh sorry but if i have some skill in coding, I will do it by my self and not make you teaching me like that Zerox, and i know my request make somebody take their time for that but that because i see noesis is the good extracter and more it can animate,no need for other program,may be i will wait for Señor Casaroja him self for teaching how to reverse engineer.
## Post #270
- Username: Devilot
- Rank: ultra-veteran
- Number of posts: 443
- Joined date: Tue Sep 07, 2010 5:12 pm
- Post datetime: 2011-04-20T06:56:17+00:00
- Post Title: Re: Señor Casaroja's Noesis

and yet MrAdults found the time to release a small update. such greatness.
## Post #271
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-04-20T11:00:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

Thanks for that, Zerox. 

Here is the closest thing you're going to get out of me in terms of "teaching how to reverse engineer": [http://www.richwhitehouse.com/index.php?postid=63](http://www.richwhitehouse.com/index.php?postid=63)
As it mentions, the practices are vast and varied, and you really just need to start doing it and learning. It's not something you can find a simple tutorial on, and any tutorial that seriously taught you how to reverse data would probably end up being more of a novel than a tutorial. First things to do would probably be... learning how to implement the type of data you want (if you want 3D models, learn how to make a 3D engine that renders 3D models, and observe common/best practices - this gives you a better idea of what to look for in someone else's data), learning IDA Pro (probably the most valuable tool in reverse engineering) as well as learning how to read the flavor of assembly for your target platform, and in my opinion, learning how to use Visual Studio and its debugger. That last bit is not necessary, but it accelerates the hell out of my own work.

So, those things I just mentioned are but a few core things to concern yourself with before you get started on reversing data, and they're all an undertaking on their own. Of course, the necessary level of complexity and involvement will also very greatly, and sometimes just knowing how to see some floats in some binary is enough to scrape by on.

Well then, I'm off to play Mortal Kombat for some ridiculous number of hours, then work.
## Post #272
- Username: beos
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Mon Mar 07, 2011 11:29 pm
- Post datetime: 2011-04-22T10:47:28+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hey,

is it possible to convert the maps from AVP 3? They are saved as "Env.RSCF"

Noeisis can read this format, but it says thats not able to load it into the preview window. So is there any way to load the maps? Would be awesome!
## Post #273
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-04-24T02:39:41+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> 
So, those things I just mentioned are but a few core things to concern yourself with before you get started on reversing data, and they're all an undertaking on their own.

lol that's quite a lot...

I'll probably just start with something simple, like figuring out how to extract PSP GMO's from games that have already been extracted and then just run that through neosis so I only have to focus on extracting data....I think.

Then maybe go from there.
Can I assume all GMO's are the same?
## Post #274
- Username: Devilot
- Rank: ultra-veteran
- Number of posts: 443
- Joined date: Tue Sep 07, 2010 5:12 pm
- Post datetime: 2011-04-24T09:28:25+00:00
- Post Title: Re: Señor Casaroja's Noesis

Happy Easter to the creator of a most revolutionary tool, and to all the readers of this thread
## Post #275
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-04-29T20:11:37+00:00
- Post Title: Re: Señor Casaroja's Noesis

I was browsing through one the kingdom hearts thread and noticed some people had problems with getting noesis to recognize the plugins.

I had no issues with the plugin until I recently reformatted my computer and then when I loaded noesis again, those particular plugins weren't being loaded lol (and similarly, all of the other plugins are loaded just fine)

There were a couple posts about how people solved their problem. I've tried them but to no avail.
So I'll probably mess around and see if I figure out what the problem might be. Unless anyone wants to suggest a list of things to check?
## Post #276
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-04-29T23:25:14+00:00
- Post Title: Re: Señor Casaroja's Noesis

Well, off the top of my head:

1) Make sure you have the latest version of Noesis from the official site. Most plugins will refuse to load if the version of Noesis is less than when they were compiled.
2) Load the plugin DLL in [http://www.dependencywalker.com/](http://www.dependencywalker.com/) and make sure no errors show up and that it can load any dependencies it may have.
3) Don't put Noesis in the Program Files (x86 or otherwise) folder, you may end up running into virtual filesystem problems, which could prevent Noesis from finding plugin DLL's.
4) Under Vista or 7, right-click and use the Run as Administrator option to start the program.

Other than that, I dunno.
## Post #277
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-04-30T00:08:50+00:00
- Post Title: Re: Señor Casaroja's Noesis

MSVCR80.DLL comes up as a big question mark, saying it wasn't found.
That's rather odd. The other plugins don't complain even when they use it.

So I tried copying them over to the plugins folder and noesis comes up with a runtime error saying an application tried to load a library incorrectly. Well, it still went through, but the three plugins are still unrecognized lol

This seems generic and useless:

"Error: The Side-by-Side configuration information for "D:\game tools\noesis\plugins\KINGDOM_HEARTS.DLL" contains errors. The application has failed to start because its side-by-side configuration is incorrect. Please see the application event log for more detail (14001).
"
## Post #278
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-04-30T16:30:04+00:00
- Post Title: Re: Señor Casaroja's Noesis

I can't see a reason that only the KH plugin would have a problem with the MSVC80 runtime dependency and other plugins wouldn't. That's pretty weird. Looking at the KH plugin DLL on my system with dependency walker, also, it has no problem with that dependency.

Maybe try reinstalling the runtime libs? (don't put them in your plugins folder, either, as you should never need to do that) [http://www.microsoft.com/downloads/en/d ... laylang=en](http://www.microsoft.com/downloads/en/details.aspx?FamilyID=32bc1bee-a3f9-4c13-9c99-220b62a191ee&displaylang=en)
I have no idea what kind of horror this could inflict on your system. Hopefully none. Just saying, though.
## Post #279
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2011-05-02T18:45:18+00:00
- Post Title: Re: Señor Casaroja's Noesis

why noesis killing additional UV-channels?
## Post #280
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-05-04T02:43:54+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> 
Maybe try reinstalling the runtime libs? (don't put them in your plugins folder, either, as you should never need to do that) http://www.microsoft.com/downloads/en/d ... laylang=en
I have no idea what kind of horror this could inflict on your system. Hopefully none. Just saying, though.

So after doing some google searches and seeing dozens of people complaining about the same error (side-by-side config error on vista for various libraries) I came across all sorts of links for the runtime packages in each thread. And it seems like a lot of them were different as well.

In the end after installing 3-4 packages this one seems to have worked out

[http://www.microsoft.com/downloads/en/d ... laylang=en](http://www.microsoft.com/downloads/en/details.aspx?familyid=766A6AF7-EC73-40FF-B072-9112BAB119C2&displaylang=en)

So if anyone has trouble with this just go through each package and hope one of them works
## Post #281
- Username: szfzafa
- Rank: advanced
- Number of posts: 56
- Joined date: Sun Feb 27, 2011 6:46 pm
- Post datetime: 2011-05-11T12:41:16+00:00
- Post Title: Re: Señor Casaroja's Noesis

Sorry to bother u MrAdults, but i've got a problem, Noesis normally reads GMO well but not this case - Noesis Error-reading GMO models extracted from PSP (i've already made a post here [viewtopic.php?f=16&t=6597](http://forum.xentax.com/viewtopic.php?f=16&t=6597))
i wonder if the GMO reading algorithm/sourcecode is avaliable? hoping you could help look into this case, thanks~ 

> Reply from MrAdults
>
> ...
## Post #282
- Username: Cloud452
- Rank: veteran
- Number of posts: 91
- Joined date: Sat Oct 23, 2010 9:50 pm
- Post datetime: 2011-05-12T10:22:41+00:00
- Post Title: Re: Señor Casaroja's Noesis

Is there something in particular I have to do so that a model from Bujingai looks like:

[http://oasis.xentax.com/images/snap63_l.jpg](http://oasis.xentax.com/images/snap63_l.jpg)

and not:

[http://imageshack.us/m/24/5518/bujingailau.png](http://imageshack.us/m/24/5518/bujingailau.png) or [http://imageshack.us/m/17/8572/bujingaigackt.png](http://imageshack.us/m/17/8572/bujingaigackt.png)
## Post #283
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-05-12T21:54:17+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Cloud452
>
> Is there something in particular I have to do so that a model from Bujingai looks like:

http://oasis.xentax.com/images/snap63_l.jpg

and not:

http://imageshack.us/m/24/5518/bujingailau.png or http://imageshack.us/m/17/8572/bujingaigackt.png

Try flipping the UV's when you're exporting the model.
## Post #284
- Username: Cloud452
- Rank: veteran
- Number of posts: 91
- Joined date: Sat Oct 23, 2010 9:50 pm
- Post datetime: 2011-05-13T05:49:24+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from finale00
>
> Cloud452 wrote:Is there something in particular I have to do so that a model from Bujingai looks like:

http://oasis.xentax.com/images/snap63_l.jpg

and not:

http://imageshack.us/m/24/5518/bujingailau.png or http://imageshack.us/m/17/8572/bujingaigackt.png

Try flipping the UV's when you're exporting the model.

Gave it a go, still an odd mess:

[http://img687.imageshack.us/img687/9058/plylaubase.png](http://img687.imageshack.us/img687/9058/plylaubase.png)

(I also have to select the plyBase.bjp file or the model is even more borked when I use "plyLau.bjp": [http://img19.imageshack.us/img19/2494/pllaulau.png](http://img19.imageshack.us/img19/2494/pllaulau.png)).
## Post #285
- Username: Trishty
- Rank: advanced
- Number of posts: 63
- Joined date: Mon Jul 05, 2010 9:37 pm
- Post datetime: 2011-05-14T06:37:39+00:00
- Post Title: Re: Señor Casaroja's Noesis

I have see Saber from Fate unlimited codes PS2 here
[http://oasis.xentax.com/images/snap21_l.jpg](http://oasis.xentax.com/images/snap21_l.jpg)
I extract Fate unlimited codes and i have .dff file but cant be view with noesis. How do you make it can be view with noesis?
Fate unlimited codes is new RenderWare .dff right?
But noesis just support old RenderWare .dff, so how to convert new RenderWare .dff to old RenderWare .dff and can be view with noesis?
Thanks!

Sr for my bad eng
## Post #286
- Username: szfzafa
- Rank: advanced
- Number of posts: 56
- Joined date: Sun Feb 27, 2011 6:46 pm
- Post datetime: 2011-05-14T08:51:16+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Trishty
>
> Sr for my bad eng
[viewtopic.php?f=16&t=4350](http://forum.xentax.com/viewtopic.php?f=16&t=4350)
Read this topic & u'll find the MaxScript.
## Post #287
- Username: Trishty
- Rank: advanced
- Number of posts: 63
- Joined date: Mon Jul 05, 2010 9:37 pm
- Post datetime: 2011-05-15T08:29:57+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from szfzafa
>
> Trishty wrote:Sr for my bad eng
viewtopic.php?f=16&t=4350
Read this topic & u'll find the MaxScript.

I know the maxscript, but if i can open dff file with noesis i can export the character bone
## Post #288
- Username: szfzafa
- Rank: advanced
- Number of posts: 56
- Joined date: Sun Feb 27, 2011 6:46 pm
- Post datetime: 2011-05-15T11:52:10+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Trishty
>
> 
I know the maxscript, but if i can open dff file with noesis i can export the character bone
  maybe u can use PSWAnalyzer with the dff files and write a plugin on your own.
## Post #289
- Username: RoxasKennedy
- Rank: beginner
- Number of posts: 21
- Joined date: Tue May 17, 2011 6:39 pm
- Post datetime: 2011-05-17T12:12:12+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hello! I have a fairly simple problem with Noesis:
It can't read .fpk files! But the .fpk format is shown in the extensions tab:
## Post #290
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2011-05-17T12:16:37+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from RoxasKennedy
>
> Hello! I have a fairly simple problem with Noesis:
It can't read .fpk files! But the .fpk format is shown in the extensions tab:
i think your fpk have same extension (as compatible with noesis), but different storing of data inside the file
## Post #291
- Username: RoxasKennedy
- Rank: beginner
- Number of posts: 21
- Joined date: Tue May 17, 2011 6:39 pm
- Post datetime: 2011-05-17T12:20:55+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Tosyk
>
> 
i think your fpk have same extension (as compatible with noesis), but different storing of data inside the file

I don't really know, I haven't tried Noesis with other games. Is it extractable anyways?
## Post #292
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2011-05-17T12:39:12+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from RoxasKennedy
>
> Tosyk wrote:
i think your fpk have same extension (as compatible with noesis), but different storing of data inside the file

I don't really know, I haven't tried Noesis with other games. Is it extractable anyways?
what the name of your game?
## Post #293
- Username: RoxasKennedy
- Rank: beginner
- Number of posts: 21
- Joined date: Tue May 17, 2011 6:39 pm
- Post datetime: 2011-05-17T12:43:49+00:00
- Post Title: Re: Señor Casaroja's Noesis

Fullmetal Alchemist: Prince Of The Dawn for Wii
## Post #294
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2011-05-17T12:57:18+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from RoxasKennedy
>
> Fullmetal Alchemist: Prince Of The Dawn for Wii
try [this tools](http://dl.dropbox.com/u/9919707/blogs/xentax.com/fpk-tools.zip)
## Post #295
- Username: RoxasKennedy
- Rank: beginner
- Number of posts: 21
- Joined date: Tue May 17, 2011 6:39 pm
- Post datetime: 2011-05-17T13:14:49+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Tosyk
>
> 
try this tools

Are there any instructions on how to use them, beacuse they kinda don't work? FPK extractor gave the error "can't open the file", and fpk tool didn't show any errors.
## Post #296
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2011-05-17T13:25:48+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from RoxasKennedy
>
> Tosyk wrote:
try this tools

Are there any instructions on how to use them, beacuse they kinda don't work? FPK extractor gave the error "can't open the file", and fpk tool didn't show any errors.
give me small file, i'll try too
## Post #297
- Username: RoxasKennedy
- Rank: beginner
- Number of posts: 21
- Joined date: Tue May 17, 2011 6:39 pm
- Post datetime: 2011-05-17T13:35:33+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Tosyk
>
> 
give me small file, i'll try too

Here are the ones I'm trying to extract.
## Post #298
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2011-05-17T13:50:17+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from RoxasKennedy
>
> Tosyk wrote:
give me small file, i'll try too
Here are the ones I'm trying to extract.
ok, rename tool "FPK extractor.exe" to FPKextractor.exe, than place your fpk files and fpkextractor.exe in one folder and start fpkextractor.exe
## Post #299
- Username: RoxasKennedy
- Rank: beginner
- Number of posts: 21
- Joined date: Tue May 17, 2011 6:39 pm
- Post datetime: 2011-05-17T14:00:01+00:00
- Post Title: Re: Señor Casaroja's Noesis

It works! Now I have to figure out how to open the extracted files, but that's probably easy if I search enough. Thanks!
## Post #300
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2011-05-17T14:07:20+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from RoxasKennedy
>
> It works! Now I have to figure out how to open the extracted files, but that's probably easy if I search enough. Thanks!
[http://dl.dropbox.com/u/9919707/blogs/x ... v1_3_1.zip](http://dl.dropbox.com/u/9919707/blogs/xentax.com/brresviewer_v1_3_1.zip) use this tool to unpack bress files
## Post #301
- Username: Rysis
- Rank: n00b
- Number of posts: 12
- Joined date: Wed Jul 28, 2010 5:50 am
- Post datetime: 2011-05-17T18:08:02+00:00
- Post Title: Re: Señor Casaroja's Noesis

I Saw this image on your Oasis site and was curious did you get Ippo from Shounen Magazine vs. Shounen Sunday (PSP)? 
Or the hajime no ippo (PSP) game. I Could be need those models, im wondering how did you get the archives or containers opened or did you use hex editor or what
## Post #302
- Username: RoxasKennedy
- Rank: beginner
- Number of posts: 21
- Joined date: Tue May 17, 2011 6:39 pm
- Post datetime: 2011-05-17T20:58:13+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Tosyk
>
> 
http://dl.dropbox.com/u/9919707/blogs/x ... v1_3_1.zip use this tool to unpack bress files

I know I kinda go int off-topic teritorry, but I was wondering how do convert model with textures applied to the model, beacuse when I import the model into blender (after converting it to .psk), it isn't textured.
## Post #303
- Username: jaden
- Rank: mega-veteran
- Number of posts: 209
- Joined date: Sat Feb 05, 2011 8:41 am
- Post datetime: 2011-05-22T01:02:44+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from RoxasKennedy
>
> Tosyk wrote:
http://dl.dropbox.com/u/9919707/blogs/x ... v1_3_1.zip use this tool to unpack bress files

I know I kinda go int off-topic teritorry, but I was wondering how do convert model with textures applied to the model, beacuse when I import the model into blender (after converting it to .psk), it isn't textured.

You need to assign the texture yourself
## Post #304
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-05-27T16:53:35+00:00
- Post Title: Re: Señor Casaroja's Noesis

Is there a way to retain original names and stuff when exporting?
For ex, original bone names, mesh names, etc.

If it already does that, maybe I'm not doing something right.
## Post #305
- Username: sedante
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Sat Jul 03, 2010 8:29 pm
- Post datetime: 2011-05-29T07:47:15+00:00
- Post Title: Re: Señor Casaroja's Noesis

I have a problem when trying to export files from portal 2, when I tried export any xxx.mdl file Noesis say that this file cannnot be previewed, but is exportable, but if I trie export this happend
Output extension has set output file type to:
.obj - WaveFront OBJ
Detected file type: Source MDL
WARNING: MDL version is not 44. Still proceeding, but loader might explode.
Failed to open 'G:\ARCHIVOS 3D VIDEOJUEGOS\MODELOS PARA NOESIS\Nueva carpeta\root\models\player\bot_assembly\player/bot_assembly/finger_arms_root.sw.vtx'.
ERROR: Could not load paired VTX.Cleaned 8.00MB (in 2 pools).
Any help? I've also tried to export mdl file with quick3D and says it is not a valid file.
thanks and sorry for my english
## Post #306
- Username: firsak
- Rank: advanced
- Number of posts: 64
- Joined date: Wed Dec 16, 2009 7:32 pm
- Post datetime: 2011-06-01T21:38:34+00:00
- Post Title: Re: Señor Casaroja's Noesis

The latest Noesis v3.23 crashes on loading any T6/SC4 nmds that have both textures and geometry (files that have only textures or just geometry are OK).
## Post #307
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-06-02T00:01:23+00:00
- Post Title: Re: Señor Casaroja's Noesis

Send me an example file, then. I don't have the data readily accessible anymore.

Edit: Nevermind, don't bother. I found some nmd's I'd kept on the archive drive.

Edit 2: Fixed build is up.
## Post #308
- Username: Rysis
- Rank: n00b
- Number of posts: 12
- Joined date: Wed Jul 28, 2010 5:50 am
- Post datetime: 2011-06-11T19:23:10+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Send me an example file, then. I don't have the data readily accessible anymore.

Edit: Nevermind, don't bother. I found some nmd's I'd kept on the archive drive.

Edit 2: Fixed build is up.
Can you reply to my question on last page please.
## Post #309
- Username: Cloud452
- Rank: veteran
- Number of posts: 91
- Joined date: Sat Oct 23, 2010 9:50 pm
- Post datetime: 2011-06-17T07:11:47+00:00
- Post Title: Re: Señor Casaroja's Noesis

Out of curiosity, is there a way to somehow 'preserve'/export what I can only refer to as the "lighting effect/environment" that Noesis displays, so that it will be present in other 3D applications?

In Noesis:

[http://img13.imageshack.us/img13/2930/r ... effect.png](http://img13.imageshack.us/img13/2930/reflectiveflooreffect.png)

In an application like 3DSMax (or MMD):

[http://i.imgur.com/VAyLG.jpg](http://i.imgur.com/VAyLG.jpg)
## Post #310
- Username: jaden
- Rank: mega-veteran
- Number of posts: 209
- Joined date: Sat Feb 05, 2011 8:41 am
- Post datetime: 2011-06-20T09:13:37+00:00
- Post Title: Re: Señor Casaroja's Noesis

Wow awesum 
MrAdults your work is always blinding the neighborhood

Oh yeah senor if you have time can you please add noesis support for shadow heart 2 covenant too,cause i think the format is almost the same with shadow heart,shadow heart 2 use .pack format too but i can't open it with noesis 

Thanks a lot for you concern senor

Mucha gracias
## Post #311
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-06-21T11:42:30+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Cloud452
>
> Out of curiosity, is there a way to somehow 'preserve'/export what I can only refer to as the "lighting effect/environment" that Noesis displays, so that it will be present in other 3D applications?

In Noesis:

http://img13.imageshack.us/img13/2930/r ... effect.png

In an application like 3DSMax (or MMD):

http://i.imgur.com/VAyLG.jpg
Yeah, those are vertex colors. OBJ/SMD don't support vertex colors as part of format spec, but COLLADA does. So if you use that you should be fine. But the COLLADA importer you're using might not handle them right, then, if you still don't see them. But they're definitely there. (as you can see if you load the dae back up in Noesis)
## Post #312
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2011-06-21T18:09:08+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Cloud452 wrote:Out of curiosity, is there a way to somehow 'preserve'/export what I can only refer to as the "lighting effect/environment" that Noesis displays, so that it will be present in other 3D applications?

In Noesis:

http://img13.imageshack.us/img13/2930/r ... effect.png

In an application like 3DSMax (or MMD):

http://i.imgur.com/VAyLG.jpg
Yeah, those are vertex colors. OBJ/SMD don't support vertex colors as part of format spec, but COLLADA does. So if you use that you should be fine. But the COLLADA importer you're using might not handle them right, then, if you still don't see them. But they're definitely there. (as you can see if you load the dae back up in Noesis)

Gosh yes! Now I can export the colorful Birth By Sleep models with the colorings intact!
## Post #313
- Username: Cloud452
- Rank: veteran
- Number of posts: 91
- Joined date: Sat Oct 23, 2010 9:50 pm
- Post datetime: 2011-06-22T03:40:51+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> 
Yeah, those are vertex colors. OBJ/SMD don't support vertex colors as part of format spec, but COLLADA does. So if you use that you should be fine. But the COLLADA importer you're using might not handle them right, then, if you still don't see them. But they're definitely there. (as you can see if you load the dae back up in Noesis)

Thanks for the reply!

The import I'm using is OpenCollada v1.3.0, for 3DS Max.

Alright, now they show up: [http://i.imgur.com/WoPhH.png](http://i.imgur.com/WoPhH.png) Although the textures don't seem to be loading.....

*edit* Had to open the DAE file and change the location from Noesis' present location, to the folder I exported the model to, now textures load no problem.

I guess the next step for me to take is to figure out why even though Pandasoft's X Exporter has a checkbox for "vertex colors", when I load the X file into MMD it no longer shows the vertex colors (which I assume is either due to the X file not properly exporting the vertex color data, or MMD being far too limited to work with that data). But this is just something I have to figure out, not something you need to address, Mr. Adults.
## Post #314
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-06-22T13:02:48+00:00
- Post Title: Re: Señor Casaroja's Noesis

As I recall, to get vertex colors showing in Max from OpenCOLLADA-imported models, you have to set the material up so that the diffuse channel on one of the layers is referencing the "vertex paint" data. Or something like that. It's been years since I messed around with it.

Also, yeah, FCollada does that "put the current module (Noesis) path in all of the texture things" by itself. I find it pretty annoying, but I'd have to recompile FCollada myself to fix it and have no idea what I did with the source code for the distribution Noesis is linking to. It's probably around here somewhere.
## Post #315
- Username: viperzerofsx
- Rank: veteran
- Number of posts: 95
- Joined date: Thu May 27, 2010 12:07 pm
- Post datetime: 2011-06-23T03:54:03+00:00
- Post Title: Re: Señor Casaroja's Noesis

noesis no longer starts for me. I downloaded a version on 6/13 but then it froze and crashed and would no longer do anything I downloaded a newer version on the 21st and it failed as well. I deleted both and tried restarting and re-downloading but it failed as well. what can I do?
## Post #316
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-06-24T00:41:39+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from viperzerofsx
>
> noesis no longer starts for me. I downloaded a version on 6/13 but then it froze and crashed and would no longer do anything I downloaded a newer version on the 21st and it failed as well. I deleted both and tried restarting and re-downloading but it failed as well. what can I do?
What was the last version that worked for you? 3.0 and later are still on the Noesis site, just change the download url of the zip to the appropriate version number.
## Post #317
- Username: LUBDAR
- Rank: veteran
- Number of posts: 95
- Joined date: Wed Jun 08, 2011 2:14 pm
- Post datetime: 2011-06-29T05:59:19+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hi Mr Adults, 
  my name is Lubdar, I just wanted to introduce myself and provide you with information (hopefully the right information) that might help assess my problem.
   I've run into a problem with how the texture files are applied to models for FF8 models in Noesis.  I was working with the Irvine model, I exported him as .OBJ and selected Flip UVs, and left the rest of the settings as default.
Here is a picture of the model in Noesis
[http://2.bp.blogspot.com/-zrcnk2uEc_w/T ... Noesis.png](http://2.bp.blogspot.com/-zrcnk2uEc_w/Tgq8nDWvXkI/AAAAAAAAAKo/_ItE69cHgoU/s1600/irvine_in_Noesis.png)
and then once I brought him into 3dsmax and applied the textures
[http://4.bp.blogspot.com/-fCwiT8whJW8/T ... 3dsmax.png](http://4.bp.blogspot.com/-fCwiT8whJW8/Tgq8mgeVc8I/AAAAAAAAAKk/jK6ebt_C6qY/s1600/irvine_as+obj+in+3dsmax.png)
It appears that the "inside of his coat" has been placed on the outside of his coat.

I've attached an archive with some file information for Irvine.  


 Irvine.rar
Irvine's file (136.22 KiB) Downloaded 23 times


Let me know if you need anything more.
If you get a chance to work on this, I'd appreciate it.  It's low on the Totem pole.

Has anyone else exported the FF8 models and ended up with weird texture issues?
## Post #318
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2011-06-29T06:15:08+00:00
- Post Title: Re: Señor Casaroja's Noesis

just change the material to double sided
## Post #319
- Username: LUBDAR
- Rank: veteran
- Number of posts: 95
- Joined date: Wed Jun 08, 2011 2:14 pm
- Post datetime: 2011-06-29T22:25:31+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from chrrox
>
> just change the material to double sided 
THanks for  helping me out, I appreciate it.
## Post #320
- Username: viperzerofsx
- Rank: veteran
- Number of posts: 95
- Joined date: Thu May 27, 2010 12:07 pm
- Post datetime: 2011-06-30T16:07:19+00:00
- Post Title: Re: Señor Casaroja's Noesis

sorry this took so long i had an issue to resolve. any way i gave 3.0 a shot along with 3.31 and got nothing, but I think the issue is on my end perhaps my settings? I run as an administrator but I might be missing something. it does work on my family pc
## Post #321
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-07-04T22:11:20+00:00
- Post Title: Re: Señor Casaroja's Noesis

I have a question about noesis' format auto-detection (or at least, I think that's how it works).
How does it best determine what format a model is? It seems to get it right most of the time.

Does it read the first couple bytes and then determine where it goes afterwards?
If so, some models have 3-byte headers, other have 4-byte headers, some have even more. How is this dealt with?

I can't think of too many ways to try to detect format for some arbitrary file.
## Post #322
- Username: Dinoguy1000
- Rank: Site Admin
- Number of posts: 786
- Joined date: Mon Sep 13, 2004 8:55 am
- Post datetime: 2011-07-05T01:25:13+00:00
- Post Title: Re: Señor Casaroja's Noesis

I can't speak for Noesis' particular method, and anything I say is strictly the opinion of someone who has never worked on format auto-detection, but it seems to me that the most trivial way to detect a file's format would be to simply try to read it as various formats, and see which (if any) allow the file to be successfully read; this would require almost no additional programming beyond the file I/O programming the program should already have, but it's going to be terribly slow for large files or complex formats. The easiest way to then increase the speed would be adding some simple heuristics based on file extension and the first few bytes of a file, and possibly the directory a file that is being loaded is in.

Surprisingly, I'm not finding much at all on Google about format auto-detection; most of it is related to using or disabling auto-detect functionality in various programs. If we were to write a good guide on format auto-detection theory, we might get a bit of attention for that. =D
## Post #323
- Username: shadowmoy
- Rank: veteran
- Number of posts: 153
- Joined date: Sat Feb 21, 2009 9:29 pm
- Post datetime: 2011-07-05T18:26:21+00:00
- Post Title: Re: Señor Casaroja's Noesis

the more reliable way is the "fourcc" also known as "magic" chars in the begining of the header but, lot of games don't use this trick and we need to found another way to identify the binary file, sometime just extension, sometime some part of the header, sometime something else and finally the last but weirdest possibility is to ask the user to select a mesh format and try  each remaining one in some case, else it can lead to crash the app if the format don't match....

also in the case of noesis , the problem is that it begin to support more and more formats from various platform, using the same extensions , etc... etc ...
## Post #324
- Username: LUBDAR
- Rank: veteran
- Number of posts: 95
- Joined date: Wed Jun 08, 2011 2:14 pm
- Post datetime: 2011-07-08T06:20:32+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hiya there,
   I just thought I'd get a feel and ask if anyone else has been using the -decim option and found an optimal value they're using that they'd care to share...
 thanks for your time,
 Lubdar

different forum, potentially different group of people...
## Post #325
- Username: McCuñao
- Rank: veteran
- Number of posts: 101
- Joined date: Sat Apr 22, 2006 8:49 pm
- Post datetime: 2011-07-08T22:48:30+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hello there, I managed to extract all the files from BOUNCER.BIN from The Bouncer, but I'm not able to see the .bin files inside so I can check out the models. What am I doing wrong?
## Post #326
- Username: Sniperello
- Rank: n00b
- Number of posts: 10
- Joined date: Sat Jan 08, 2011 7:26 am
- Post datetime: 2011-07-15T11:25:57+00:00
- Post Title: Re: Señor Casaroja's Noesis

Please add to your program *BMO psp format
Here is samples files and textures[http://www.mediafire.com/?6ocoykev276otkp](http://www.mediafire.com/?6ocoykev276otkp)
## Post #327
- Username: likebutter
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Tue Jul 19, 2011 9:46 am
- Post datetime: 2011-07-19T03:12:41+00:00
- Post Title: Re: Señor Casaroja's Noesis

I've been trying to view the DMC4 models in noesis but they are all separate pieces, the body, head, and hair are not connected. Also their faces are a bit off as well, as shown in the picture. How do I make them into a complete model? Thanks! c:
[nerohead.jpg](https://xentaxbackup.github.io/file/4510_nerohead.jpg)
## Post #328
- Username: maniacoloco
- Rank: advanced
- Number of posts: 49
- Joined date: Sat Mar 05, 2011 10:19 pm
- Post datetime: 2011-07-19T05:57:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from likebutter
>
> I've been trying to view the DMC4 models in noesis but they are all separate pieces, the body, head, and hair are not connected. Also their faces are a bit off as well, as shown in the picture. How do I make them into a complete model? Thanks! c:

Dont' bother with that, that's the ingame lowpoly model.

The highpoly models are in:

x/(folder where you installed the game)/nativepc/id/libra.

For "building" the model you have to place the "root" bone where it has to be... I'm gonna do a tutorial tomorrow explainning how to do that.
## Post #329
- Username: likebutter
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Tue Jul 19, 2011 9:46 am
- Post datetime: 2011-07-20T21:31:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

Oh thanks! Now the only problem is connecting the parts, I still dont understand how to do that.
## Post #330
- Username: firsak
- Rank: advanced
- Number of posts: 64
- Joined date: Wed Dec 16, 2009 7:32 pm
- Post datetime: 2011-07-25T08:56:31+00:00
- Post Title: Re: Señor Casaroja's Noesis

The contents of this post was deleted because of possible forum rules violation.
## Post #331
- Username: shadowmoy
- Rank: veteran
- Number of posts: 153
- Joined date: Sat Feb 21, 2009 9:29 pm
- Post datetime: 2011-07-25T19:33:12+00:00
- Post Title: Re: Señor Casaroja's Noesis

The contents of this post was deleted because of possible forum rules violation.
## Post #332
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-07-26T00:24:15+00:00
- Post Title: Re: Señor Casaroja's Noesis

The contents of this post was deleted because of possible forum rules violation.
## Post #333
- Username: TheWatcher
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Tue Jul 26, 2011 8:23 am
- Post datetime: 2011-07-26T01:12:07+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hi to everybody in this community,

1. Being new here and not yet knowing who's who (with just one exception below  ), I guess this is best be addressed to MrAdults -- I think it will be a near perfect hit:

Seems like Noesis 3.33 sometimes fails to display simple BMP's correctly if they have odd sizes like in the following screenie taken under my XP Pro Sp3 on a 2.2GHz Intel Core2 Duo w/ GeForce 8600 + newest drivers installed:


XP.jpg (56.68 KiB) Viewed 167 times

The original picture size is 659x342 pixels -- I can't attach it here as the forum doesn't permit me a second attachment. I think something may be wrong with BMP scanline padding to DWORD boundary in this AfxFrameOrView100su window's code. Incorrect padding usually produces visible distortion of that kind for arbitrarily-sized bitmaps uncommon to the honorable 3D community.

2. Codeman sonny boy, do drop in at home at least once in a while, will ya'?
## Post #334
- Username: TheWatcher
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Tue Jul 26, 2011 8:23 am
- Post datetime: 2011-07-26T01:38:15+00:00
- Post Title: Re: Señor Casaroja's Noesis

This is how this picture looks properly textured on a plane:


Textured.jpg (163.21 KiB) Viewed 167 times
## Post #335
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-07-26T20:06:51+00:00
- Post Title: Re: Señor Casaroja's Noesis

Scanlines weren't being padded to a 32-bit boundary for import or export. New release is up that fixes it. BMP support is pretty halfassed anyway though, and only supports 24-bit non-rle images.
## Post #336
- Username: jaden
- Rank: mega-veteran
- Number of posts: 209
- Joined date: Sat Feb 05, 2011 8:41 am
- Post datetime: 2011-07-27T09:22:26+00:00
- Post Title: Re: Señor Casaroja's Noesis

Yo MrAdults any chance you're gonna make noesis support shadow heart covenant model too ??
## Post #337
- Username: TheWatcher
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Tue Jul 26, 2011 8:23 am
- Post datetime: 2011-07-27T23:09:02+00:00
- Post Title: Re: Señor Casaroja's Noesis

Thanks for the input MrAdults,

Why wouldn't you bundle Noesis with the DevIL pack -- I think it could've been a perfect match. Of course, with just a few exceptions of the rare texture formats that DevIL doesn't support yet but which can easily be added directly to Noesis.
## Post #338
- Username: LUBDAR
- Rank: veteran
- Number of posts: 95
- Joined date: Wed Jun 08, 2011 2:14 pm
- Post datetime: 2011-07-28T05:10:39+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hi Mr. Adults,
   I was browsing your other website and found out how to  properly (a year late, but I am now a little wiser none the less).  

I've noticed that for the most part Noesis can handle alot of the Final Fantasy games, but FF12 is missing from that list.  I was just curious if those models require more time than you've got.  Or if there is just too many issues with these models? Or if they are even in your interest in the foreseeable future?

Either way, I appreciate all the effort you've put into Noesis, keep up the great work.
## Post #339
- Username: Andrakann
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-07-29T08:31:58+00:00
- Post Title: Re: Señor Casaroja's Noesis

I've never looked at FF12's data, so as far as I know it could take a day or a week. No idea. It's been on the list of games to eventually look at for a very long time. Unfortunately I don't have a lot of time these days to look at new games, between work and other active hobby projects, so it's become rare for me to work on Noesis at all outside of quick bug fixes and simple variant-format additions. (like the recent update to include Record of Lodoss War formats, they're mostly just njcm containers and a custum pvr-format texture header)

I would be happy if someone else made a plugin for FF12, but so far revelation is still the only other person to manage to produce a Noesis plugin. This is despite the fact that I continue to see standalone native-Windows-binary model viewers, which in those particular cases makes it seem like people are just being weird about wanting to make everything "theirs". I can't think of another reason you'd want to code your own viewer/export frameworks from scratch, when you could implement the given format in Noesis with about 200 lines of code instead.
## Post #340
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-07-29T14:06:00+00:00
- Post Title: Re: Señor Casaroja's Noesis

Is there a way to do batch exports with noesis?
I must've missed the instructions for working in command-line somewhere.

Also, in the event that two plugins conflict with each other somehow (like when trying to auto-detect format), how does noesis handle it?
## Post #341
- Username: firsak
- Rank: advanced
- Number of posts: 64
- Joined date: Wed Dec 16, 2009 7:32 pm
- Post datetime: 2011-07-29T16:49:51+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Stuck 3.34 up with a quick fix.
Thank you very much, but I'm afraid that a new bug kicked in. 
When converting from certain formats to other formats, Noesis adds a lot of underscores to the bone names for some reason. 



Attached to this post is a PSK file that, if converted to DAE, gets underscores added to bone names.
[test.zip](https://xentaxbackup.github.io/file/4553_test.zip)
## Post #342
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-07-29T18:59:50+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from finale00
>
> Is there a way to do batch exports with noesis?
I must've missed the instructions for working in command-line somewhere.

Also, in the event that two plugins conflict with each other somehow (like when trying to auto-detect format), how does noesis handle it?
You did indeed miss the instructions for working in command-line somewhere. Try looking in the ReadMe.txt where it says "Command Line Mode".  And of course there is also a batch export tool in the Tools menu. Also, if two plugins are both looking for the same data *and* extension, whichever plugin is loaded first will be the one to get priority.

firsak: New bug? This has been the behavior forever. Your PSK has a shitload of spaces after the bone names. FCollada just doesn't like spaces in scene joints (for some reason) so it converts them to underscores.
## Post #343
- Username: firsak
- Rank: advanced
- Number of posts: 64
- Joined date: Wed Dec 16, 2009 7:32 pm
- Post datetime: 2011-07-29T19:30:33+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> This has been the behavior forever.
Never noticed it before for some reason...
That PSK was exported by me from 3dsmax with the [official tool](http://udn.epicgames.com/Two/ActorX.html#3DS%20Max%20Exporter%20Plugins) and it didn't have any spaces in bone names. It also imports back using Gildor's ActorX Importer and there are no spaces as well. So it should still be a bug in Noesis.

I think all the 0x20s if not followed by something else should be simply ignored in case of PSK format.
## Post #344
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-07-29T19:41:04+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> 
You did indeed miss the instructions for working in command-line somewhere. Try looking in the ReadMe.txt where it says "Command Line Mode".  And of course there is also a batch export tool in the Tools menu. Also, if two plugins are both looking for the same data *and* extension, whichever plugin is loaded first will be the one to get priority.

I think command-line instructions should come first 
Anyways I guess I can play with the plugin template some time. Hopefully it's a matter of just filling in a parser function.
## Post #345
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-07-29T21:16:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from firsak
>
> MrAdults wrote:This has been the behavior forever.
Never noticed it before for some reason...
That PSK was exported by me from 3dsmax with the official tool and it didn't have any spaces in bone names. It also imports back using Gildor's ActorX Importer and there are no spaces as well. So it should still be a bug in Noesis.

I think all the 0x20s if not followed by something else should be simply ignored in case of PSK format.
Just look at your PSK in a hex editor, you can clearly see the bone names are followed by tons of spaces before the terminating character. I've exported PSK's with the official ActorX plugin from Max before too, and it does not add spaces to my bone names.

If you can find me an official PSK spec doc that confirms trailing spaces should be ignored, I'll implement that functionality. Otherwise I'm going to leave it as is.

Edit: Hm, Googled it and found "- improved compatibility with Epic's ActorX Exporter (dropping trailing spaces from bone names)" in Gildor's changelog. That's weird. I'm exporting a test scene with ActorX right now and it is not giving me trailing spaces. Although my ActorX plugin is probably years old now. I guess I'll add it with a -pskkeepspace option or some shit to go back to old behavior. I also don't see why it's only padding out to 32 bytes with spaces in your file, when the bone names are 64 bytes long.
## Post #346
- Username: Dinoguy1000
- Rank: Site Admin
- Number of posts: 786
- Joined date: Mon Sep 13, 2004 8:55 am
- Post datetime: 2011-07-30T06:48:11+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from firsak
>
> MrAdults wrote:This has been the behavior forever.
Never noticed it before for some reason...
That PSK was exported by me from 3dsmax with the official tool and it didn't have any spaces in bone names. It also imports back using Gildor's ActorX Importer and there are no spaces as well. So it should still be a bug in Noesis.

I think all the 0x20s if not followed by something else should be simply ignored in case of PSK format.
Just a reminder (since this surely isn't new information to you  ), 0x20 is the encoding for a space in ASCII and Unicode (and probably about a zillion other character encodings/code pages).
## Post #347
- Username: Sn1pe
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Mon Aug 01, 2011 6:49 am
- Post datetime: 2011-07-31T22:56:47+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hey!, I'm new here and I'm not even sure if this is the right place for this post but I've been trying to extract a character's model/textures for private/animation use from a PS2 game called God Hand as I am a huge fan of that game/it's protagonist Gene -
*This guy*
 

and I was wondering if this is anywhere near possible with Noesis *as I heard PS2 3D data extraction is near impossible*

I've personally tried everything to get the model but no luck whatsoever so I figure I'd ask for help on this forum/the creator of the program *I do not know who he is and he has no contact/email method listed on the site* as I noticed on the webpage that you've been successful in ripping models from all sorts of console games.

I would personally pay you to get Gene's model/textures and forever be in your debt if this can be done. 

Thank you very much for reading this post!
## Post #348
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-08-07T08:47:14+00:00
- Post Title: Re: Señor Casaroja's Noesis

Here, have some random 32x-antialiased 1080p/720p stereo renders in .jps format. [http://www.richwhitehouse.com/otherfiles/3dpix.zip](http://www.richwhitehouse.com/otherfiles/3dpix.zip) (viewable with nVidia 3D Vision Photo Viewer)
## Post #349
- Username: Andrakann
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-08-19T01:50:03+00:00
- Post Title: Re: Señor Casaroja's Noesis

Noesis 3.46 is now up with Python support. There's included documentation, an example script that exports geometry+weights+skeletal anims+vertex morphs to a made-up format and re-imports it, and numerous other scripts including one that handles importing Bullet Witch models+textures.
## Post #350
- Username: LUBDAR
- Rank: veteran
- Number of posts: 95
- Joined date: Wed Jun 08, 2011 2:14 pm
- Post datetime: 2011-08-20T19:13:22+00:00
- Post Title: Re: Señor Casaroja's Noesis

I'm not sure if this is a trivial comment or not, but I'd like to thank you for including the "Making Plugins" section! 

I really appreciate it, It will help me learn how to start making my own Noesis plugins.
## Post #351
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-08-21T16:25:51+00:00
- Post Title: Re: Señor Casaroja's Noesis

Great, python  
It seems like it only registers the extension. What else can we register?
## Post #352
- Username: zahori
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Fri Aug 19, 2011 5:50 am
- Post datetime: 2011-08-22T20:57:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

Mr Casarojas, i would like to say that the latest 348 Noesis, i canot see models
## Post #353
- Username: LUBDAR
- Rank: veteran
- Number of posts: 95
- Joined date: Wed Jun 08, 2011 2:14 pm
- Post datetime: 2011-08-22T23:27:10+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from zahori
>
> Mr Casarojas, i would like to say that the latest 348 Noesis, i canot see models

You might want to be more specific (List which game models you're not able to see), I'm running 3.48 and it is working just fine
## Post #354
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2011-08-22T23:30:23+00:00
- Post Title: Re: Señor Casaroja's Noesis

MrAdults wont be able to respond for a little while anyway he is in the process of moving.
## Post #355
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-08-23T20:59:30+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from chrrox
>
> MrAdults wont be able to respond for a little while anyway he is in the process of moving.
Indeed. I expect this will be my last post for a while, the hotel I'm staying at for a while has no reliable internet access.

Anyway, yeah, don't be vague on bug reports, it doesn't help anyone. State the model(s) you're trying to view, what game(s) they're for, and provide a sample if possible. If the problem you're having is on a broad scale (e.g. no support model format is viewable for you now), consult the "Trouble!" section of the ReadMe.txt and follow its suggestions. If any of the suggestions help remedy your problem, please report back here and state what you had to do to fix the issue. (no one ever seems to do this, they just disappear once they privately resolve their issue, which is a bit selfish and not helpful to anyone else who might be having the same problem)

> Reply from finale00
>
> Great, python  
It seems like it only registers the extension. What else can we register?
Not sure if you understand the way things work - you only need to register a single handle for a given format, then you attach various handlers to the format handle. The different kinds of handlers attached to the format handle are used to support various different kinds of data, like reading/writing models, textures, or archives. See the example .py files and/or the list of handler calls (setHandler*) in __npreadme.txt file for more information.
## Post #356
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-08-27T22:17:21+00:00
- Post Title: Re: Señor Casaroja's Noesis

As a bit of a stroke of luck I have actually managed to find all of the tools and information I needed to separate, decrypt, decompress, and in some cases view... all(assumedly) of the files from Star Ocean: First Departure and would like to have a plugin for Noesis to process them...

As it stands I've looked through about 6000 of them manually, (opening them in GGD and lining up the pixels 'til they form an intelligible image) but since there are about 15000 and likely a few sprites or maps I'll/'ve miss/ed, I'd like to batch process them into something more useful...

However, I'm absolutely inexperienced with C++ and novice at best with Python...

So I'd like to ask if anyone could either write a plugin if I provide the documentation, or lead me  to a few tutorials that would be relevant to reading and writing files and Noesis plugins...

I could possibly write a program to do some of the work in C#... but C# and C++ are fairly...different.

So, any advice?

EDIT: I should mention I'm only really interested in the texture and image data, there's little 3D data in the game to even worry about anyway.
## Post #357
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2011-08-27T23:32:05+00:00
- Post Title: Re: Señor Casaroja's Noesis

post the samples and the code here and someone can try to help.
## Post #358
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-08-28T00:02:52+00:00
- Post Title: Re: Señor Casaroja's Noesis

As for code, I'd only be able to create a program the is self contained, and I could only then load the file data, but not view it or process it (mainly because I don't have the specs for other files to use as an output)

However, one thing I can say I fully understand is the format of this particular file, which is a character portrait....There are about a thousand of these things, all of them 65kb, beginning with an 8bit RGBA palette and then immediately followed by pixels drawing from that palette, forming an image of dimensions 256x256.

One of the main problems I have is how to turn it into a proper windows compatible image (like png or TGA) that will preserve transparency/alpha.

However there are issues with other types of file as well, all of the files use the .unslz extension due to the method of extraction, and nearly none of them have properly labeled headers as to what type of extension they should have. 

I'm still investigating the headers of the sprite files, as they are what I'm truly after, and they don't seem to have a uniform width.

Anyway, the attached file is 256x256 linear ordered image utilizing a 256 color RGBA palette.

So lets start with that shall we?
[ripped__ 72575169_ 8668.rar](https://xentaxbackup.github.io/file/4669_ripped__ 72575169_ 8668.rar)
## Post #359
- Username: Andrakann
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-08-28T01:45:24+00:00
- Post Title: Re: Señor Casaroja's Noesis

Whee, the internet is randomly working!

Here's a quick script to allow importing of that .unslz file you posted. It has no image info in it at all so you have to hardcode the dimensions/palette size.

```
import noesis
import rapi

def registerNoesisTypes():
	handle = noesis.register("Star Ocean image", ".unslz")
	noesis.setHandlerTypeCheck(handle, soiCheckType)
	noesis.setHandlerLoadRGBA(handle, soiLoadRGBA)
	return 1
imgWidth = imgHeight = 256
def soiCheckType(data):
	if len(data) != (imgWidth*imgHeight)+1024:
		return 0
	return 1
def soiLoadRGBA(data, texList):
	srcPal = data[0:1024]
	srcPix = data[1024:]
	dstPix = bytearray(imgWidth*imgHeight*4)
	for i in range(0, imgWidth*imgHeight):
		dstPix[i*4 + 0] = srcPal[srcPix[i]*4 + 0]
		dstPix[i*4 + 1] = srcPal[srcPix[i]*4 + 1]
		dstPix[i*4 + 2] = srcPal[srcPix[i]*4 + 2]
		dstPix[i*4 + 3] = srcPal[srcPix[i]*4 + 3]
	texList.append(NoeTexture("soetex", imgWidth, imgHeight, dstPix, noesis.NOESISTEX_RGBA32))
	return 1

```

Just save it in a file with a .py extension in your plugins\python folder, then Tools->Reload plugins. (or restart Noesis) With this script, you can export the images to any other existing export-supported image format (like tga, png, etc) through all the usual means. That is, through File->Export, the batch exporter tool, or command-line mode.
## Post #360
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-08-28T03:10:51+00:00
- Post Title: Re: Señor Casaroja's Noesis

You amaze me... are you the Doctor? You always seem to show up at just the right moment...

Thanks for the script, I'll use it as a base to try bashing together some stuff for the other image formats once I understand their headers... though I'll probably be back for help.

And to clarify, the other image files I refer to do have headers, unlike the image I uploaded. The one I uploaded was just really simple to understand.

I'm rambling. Anyway, thanks for the help, I'll be back... when I need to be I guess.
## Post #361
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-08-28T03:14:07+00:00
- Post Title: Re: Señor Casaroja's Noesis

I just put a new build up as well, cause I figured it would be useful to have the color-format-string functionality for paletted images as well as for raw image decoding. If you upgrade to Noesis 3.51, you can chop that script down to this:

```
def registerNoesisTypes():
	handle = noesis.register("Star Ocean image", ".unslz")
	noesis.setHandlerTypeCheck(handle, noeCheckGeneric)
	noesis.setHandlerLoadRGBA(handle, soiLoadRGBA)
	return 1
def soiLoadRGBA(data, texList):
	imgWidth = imgHeight = 256
	pix32 = rapi.imageDecodeRawPal(data[1024:], data[:1024], imgWidth, imgHeight, 8, "r8g8b8a8")
	texList.append(NoeTexture("soetex", imgWidth, imgHeight, pix32, noesis.NOESISTEX_RGBA32))
	return 1

```
## Post #362
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-08-28T19:13:28+00:00
- Post Title: Re: Señor Casaroja's Noesis

Will do!

On the header exploration, they seem to be pretty straight forward, however there aren't any identifiers as to what type of file is what, data-wise. (I can obviously tell by opening them in a raw image viewer like GGD and messing around some.)

Some files contain a group header that routes to multiple subfile headers, while some files simply jump straight into the subfile header... Also the presence of the group header changes the file header format slightly, causing an extra line of data to be a part of it...

I'm not certain how to go about writing the logic to differentiate automatically between whether it is a multifile type or a simple 1 file type. I'll post a few examples of files along with the data I've gathered.


Files tagged Fight or Run are player battle files, Ene are enemy battle files, and NPC are field map sprites.

They appear slightly different graphically but seem to have the same header setup. 

Any suggestions as to how I might make the computer recognize one header type form another?

To better explain:
a grouped file which contains an extra set of headers, could be followed to the end of the offsets and find the graphical data, but to do the same on a non grouped, single image file, it would be fewer header jumps and in a different order, I need to know how to differentiate whether to jump 4 times... or say, 1 time, by having the computer identify what type of file header it is currently reading... I'm not sure how to do that.


EDIT: For people who don't want to download and will trust my observations, here is the spec

```

Dealing with group headers and by proxy their file header part 1 counterparts may be a bit of trouble


Group header (Battle sprites seem to lack this and jump straight to the file header part 2)
Offset	Size		Description
0x00	1dword		Number of files
0x04	1dword		absolute offset to a sub header
0x08	1dword		absolute offset to a sub header
...	1dword		absolute offset to a sub header
0x3C	1dword		absolute offset to a sub header


File header part 1
0x00	1dword		always 0x01??
0x04	1dword		unknown
0x08	1dword		unknown
0x0C	1dword		unknown
		Leads directly to a file header part 2 after this

File header part 2
0x00	1dword		relative offset to some part of this header from 0x00 (0x00 of the part 1 if there is one)
0x04	1dword		relative offset to some part of this header from 0x00 (0x00 of the part 1 if there is one)
0x08	1dword		relative offset to animation header starting from 0x00 of this header
0x0C	1dword		relative offset to sprite header from 0x00

Animation header
		To come later... not terribly important for image exporting...

sprite header
0x00	1dword		relative offset to palette header start, counting from 0x00
0x04	1dword		relative offset to image data, counting from 0x00
0x08	1word		0x02 for field sprites 0x04 for battle?
0x0A	1word		Number of image frames in the sprite data

		0x02 files have this format
0x0C	5bytes		Nothing here...?
...
0x11	1byte		width in pixels of first image frame
0x12	1byte		height in pixels of first image frame
0x13	pad?		0x00
0x14	1byte?		???
0x15	pad?		0x00
0x16	1byte?		???
0x17	pad?		0x00
0x18	5bytes		more padding...?
...
0x1D	1byte		second frame's width
0x1E	1byte		second frame's height...
		And so on like this for offset [0x0A]'s number of times...
		
		0x04's have this one
0x0C	6bytes		Nothing here...?
0x10	2bytes		nothing...?
0x12	1word		width in pixels of first image frame
0x14	1word		height in pixels of first image frame
0x16	1word		???
0x18	1dword		???
0x1C	1dword		???
0x20	2bytes		Nothing...?
0x22	1word		second frame's width
0x24	1word		second frame's height...
		And so on like this for offset [0x0A]'s number of times...

		until reaching.....

Palette header
0x00	1dword?		Seems to be a relative offset to the last palette for this file
0x04	24bytes		Nothing apparently... always seems to be 0x00
...
0x10	16words		palette, 16bit ABGR 5bit color 1bit alpha

		Directly after the last palette, is the beginning of image data.
```


EDIT2: with NoeBitStream, do the read functions have explicit bitsize types? for instance a readInt16() readInt32() readInt64() etc? I notice the example uses readBytes(#) a lot to cover space (which I tend to do likewise) and for arbitrary lengths of data, is there a single readByte or would I need to use readBytes(1)?

would I need to define special byte length readInt()'s? 

I don't see (obviously) all of the datatypes explained in the Noepy documents. [Edit:] Which is understandable; the man of red houses is a programmer, not a technical documenteer.
[data.rar](https://xentaxbackup.github.io/file/4670_data.rar)
## Post #363
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-08-29T03:16:23+00:00
- Post Title: Re: Señor Casaroja's Noesis

Sorry for the double post, but this is more pertaining to the code I'm (slightly blindly) writing to read the files.

```
def registerNoesisTypes():
	handle = noesis.register("Star Ocean sprite", ".unslz")
	noesis.setHandlerTypeCheck(handle, noeCheckGeneric)
	noesis.setHandlerLoadRGBA(handle, sosiLoadBGRA)
	return 1
def sosiLoadBGRA(data, texList):
	bs = NoeBitStream(data)
	
	//groupedFile = some test I haven't figured out yet that returns boolean 
	
	
	
	if groupedFile:
		numFiles = bs.readInt()
		for i in range(0, numFiles):
			fileHeaderOffset[i] = bs.readInt32()
		
	spriteMode = bs.readInt32()
	
	for i in range(0, numSprites):
		if spriteMode == 2:
			imgWidth[i] = bs.readByte()
			imgHeight[i] = bs.readByte()
		else if spriteMode == 4:
			imgWidth[i] = bs.readInt16()
			imgHeight[i] = bs.readInt16()
		imgPix[i] = rapi.imageDecodeRaw(imgPix[i], imgWidth[i], imgHeight[i], "a1b5g5r5")
		texList.append(NoeTexture("soetex"+i, imgWidth[i], imgHeight[i], pix32, noesis.NOESISTEX_RGBA32))
```


This is obviously unfinished, but it occurred to me that I might be able t use a try...except to determine whether the files are grouped or singular...

or rather than "determine" it, just execute the code for one, and when it fails, execute the code for the other... 

However, this strikes me as a bit of a hack rather than the proper method of handling the issue... and with the possibility of horrendous errors in the event that a single file manages to open as a grouped one, and ends up presenting a pile of graphical garbage...

But I figured since I'm asking so many questions, I should at least show that I am, in fact, working on it.

Then again I also have no idea whether what I'm doing is even viable, as I don't use python much and I've never written a plugin for anything, or in fact, any piece of code that wasn't entirely from scratch for a single purpose, and by that token, everything I've ever written is somewhat inflexible and not extensible.

So if anyone has any experience, could you at least tell me if I'm going in the right direction?
## Post #364
- Username: Dinoguy1000
- Rank: Site Admin
- Number of posts: 786
- Joined date: Mon Sep 13, 2004 8:55 am
- Post datetime: 2011-08-29T03:28:27+00:00
- Post Title: Re: Señor Casaroja's Noesis

Keeping in mind I've never done any work with file format identification, the only conclusion I've ever been able to come to is that the only surefire, 100% guaranteed way to correctly identify a file's format anywhere near 100% of the time is to just try opening it as that format (there is a very slim chance that a file of one format will open as another format, but that should be mind-bogglingly rare, and even if it did happen, any output would almost certainly be garbage) - extensions and magic numbers can both be changed or faked, and MIME types rely on one or both of those. If trying to actually read the file fails, though, it means either the format is unsupported, or it's based on a supported format, but has been modified in some way - e.g. a new or changed field, or encryption used in the file header/metadata, etc.

On the other hand, if someone else who knows better says otherwise, you should of course ignore what I've just said and listen to them instead. =)
## Post #365
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-08-29T13:14:36+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Satoh
>
> 
This is obviously unfinished, but it occurred to me that I might be able t use a try...except to determine whether the files are grouped or singular...

or rather than "determine" it, just execute the code for one, and when it fails, execute the code for the other...

That's usually how one would go about trying different approaches if one or another fails.

Of course, as you've pointed out, you might end up with garbage cause it just happens to not throw an exception in a previous try clause, but if you already had a way to check which one to use you wouldn't need a try/except for that purpose.

If that's what you're referring to as whether "it is viable" or not.
## Post #366
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-08-29T18:39:01+00:00
- Post Title: Re: Señor Casaroja's Noesis

[EDIT: Sorry to get ahead of myself, let me thank you all for the help you've volunteered so far first. Thanks, it is appreciated. Also if there's a better forum for this, despite the code being specific to Noesis, let me know and I'll move it there.]

Ok so obviously I've done a bit more on this...
1: I figured out a more reliable check for file type... grouped files almost never have more than 6 individual files, which is the first byte, and single files are almost always referencing 0x40 in the first byte, so I used a check for that byte to differentiate... potential for error... low to moderate I think.

2: I've tested this and it certainly does...something... but not what I need, so, I can't say what's going wrong, but I have a guess. 
My guess is that rapi.imageDecodeRaw() works the way I'm trying to use it.
I solved my issues with explicit data types by reading the inc_noesis.py file, in case anyone needs more info on the Noepy functions, you can find a few of them there.
Problem is, I didn't see the rapi functions, likely due to them not being part of noepy (duh)
Also, I have no idea how the image functions work, so I'm sort of bashing my head at them and hoping. (which so far hasn't worked) I'm thinking, since my image is obviously not "RGBA32" the other image functions won't work either, not that I understand how they work...

Anyway, this is the current state of my code... I could really use some help at this point...

```
def registerNoesisTypes():
	handle = noesis.register("Star Ocean sprite", ".unslz")
	noesis.setHandlerTypeCheck(handle, noeCheckGeneric)
	noesis.setHandlerLoadRGBA(handle, sosiLoadBGRA)
	return 1
def sosiLoadBGRA(data, texList):
	bs = NoeBitStream(data)
	check=bs.readInt()
	if (check >= 0x40):
		groupedFile = False
	else:
		groupedFile = True
	bs.seek(0,0)
	if groupedFile:
		numFiles = bs.readInt()
		for h in range(0, numFiles):
			fileHeaderOffset = []
			spriteHeaderOffset = []
			paletteOffset = []
			imgDataOffset = []
			spriteMode = []
			numSprites = []
			fileHeaderOffset.append(bs.readInt())
			bs.seek(fileHeaderOffset[h]+0x1C,0)
			spriteHeaderOffset.append(bs.readInt())
			bs.seek(spriteHeaderOffset[h]-0x20,1)
			paletteOffset.append(bs.readInt())
			imgDataOffset.append(bs.readInt())
			spriteMode.append(int(bs.readUShort()))
			numSprites.append(int(bs.readUShort()))
			imgPal = []
			imgWidth = []
			imgHeight = []
			imgPix = []
			for i in range(0, numSprites[
				if spriteMode[h] == 2:
					bs.readBytes(
					imgPal.append(int(bs.readByte()))
					imgWidth.append(int(bs.readByte()))
					imgHeight.append(int(bs.readByte()))
					bs.readBytes(5)
				elif spriteMode[h] == 4:
					bs.readBytes(4)
					imgPal.append(int(bs.readUShort()))
					imgWidth.append(int(bs.readUShort()))
					imgHeight.append(int(bs.readUShort()))
					bs.readBytes(
			#for i in palettes do: palette[i] read palettes...? dunno how to do 
			#imgPal = rapi.imageGetPalette(imgPix, imgWidth, imgHeight, 256, 0, 1)
			for i in range(0, numSprites[h]-1):
				imgPix = rapi.imageDecodeRaw(imgPix, imgWidth[i], imgHeight[i], "a1b5g5r5") #I think this is wrong for this application
				texList.append(NoeTexture("soetex"+"."+h+"."+i, imgWidth[i], imgHeight[i], pix32, noesis.NOESISTEX_RGBA32)) #No idea how this works
```
## Post #367
- Username: KnightDragon
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Wed Jul 13, 2011 7:01 pm
- Post datetime: 2011-08-30T00:19:15+00:00
- Post Title: Re: Señor Casaroja's Noesis

The contents of this post was deleted because of possible forum rules violation.
## Post #368
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-08-30T00:33:39+00:00
- Post Title: Re: Señor Casaroja's Noesis

The contents of this post was deleted because of possible forum rules violation.
## Post #369
- Username: KnightDragon
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Wed Jul 13, 2011 7:01 pm
- Post datetime: 2011-08-30T00:45:47+00:00
- Post Title: Re: Señor Casaroja's Noesis

The contents of this post was deleted because of possible forum rules violation.
## Post #370
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-08-30T01:02:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

The contents of this post was deleted because of possible forum rules violation.
## Post #371
- Username: nitekrawler1285
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Wed Aug 24, 2011 2:47 am
- Post datetime: 2011-08-31T01:10:56+00:00
- Post Title: Re: Señor Casaroja's Noesis

Howdy there MrAdults. I was hoping you could answer a question for me. I was trying to extract the models from MVC3 using Noesis 3.49 and recently v 3.51.  When I try to export the PS3 models Noesis crashes as in wont respond to any input and must be closed via a task manager. I tried two different 360 versions and it says that it doesn't recognize the compression and wont export the arcs for me to get at the models.
## Post #372
- Username: Orohu
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Wed Aug 31, 2011 1:51 pm
- Post datetime: 2011-08-31T07:12:41+00:00
- Post Title: Re: Señor Casaroja's Noesis

I'd eventually like to see support for the XPPS files used in inFamous 2.

p.s. About the earlier post I deleted, I fixed the problem by restarting my computer. XD
## Post #373
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-08-31T16:22:07+00:00
- Post Title: Re: Señor Casaroja's Noesis

Well, after a series of very industry standard bash-your-head-into-the-computer-until-it-works techniques, I succeeded... eh-mostly.

I can properly read and output NPC images... I can read enemy and battle images as well... but the palettes are a bit off...

the only -problem- is the little ghost that keeps asking for it's long lost integer... (I seriously can't find any place that is missing an integer)
[SO1Sprite_351.rar](https://xentaxbackup.github.io/file/4678_SO1Sprite_351.rar)
## Post #374
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-08-31T21:38:27+00:00
- Post Title: Re: Señor Casaroja's Noesis

That message is caused by not returning a 1 or 0 from your handler to indicate success or failure. I'd comment on more of this, but I'm on my phone and typing on this thing is like water torture.
## Post #375
- Username: viperzerofsx
- Rank: veteran
- Number of posts: 95
- Joined date: Thu May 27, 2010 12:07 pm
- Post datetime: 2011-08-31T23:12:56+00:00
- Post Title: Re: Señor Casaroja's Noesis

this new version works for me I don't know what was done differently but it solved my problem of it not starting
## Post #376
- Username: Dinoguy1000
- Rank: Site Admin
- Number of posts: 786
- Joined date: Mon Sep 13, 2004 8:55 am
- Post datetime: 2011-09-01T01:41:23+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> That message is caused by not returning a 1 or 0 from your handler to indicate success or failure. I'd comment on more of this, but I'm on my phone and typing on this thing is like water torture.

And yet, clearly not so torturous as to prevent you from commenting on just how torturous it is. =D
## Post #377
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-09-01T01:50:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> That message is caused by not returning a 1 or 0 from your handler to indicate success or failure. I'd comment on more of this, but I'm on my phone and typing on this thing is like water torture.

Brilliant! I completely forgot about that!

I'll have to fix that promptl-uhh... more like when I'm less exhausted from dealing with a language I don't even know using a bunch of proprietary functions that, while excellent, I have ne'er used before!

But all that aside, I can effin' export my sprites! and that was my goal, so I feel that, while I didn't do it with much elegance or fluency, I did it nonetheless. The errors I need to iron out now are simply loop or offset errors due to anomalous file data discrepancies between different versions of files.

I am thrilled! and totally wrecked from a week solid of programming!

thanks for your help Doctor Adults, as always.


@Dinoguy: Obviously he's in his TARDIS being all asynchronous to the time stream.
## Post #378
- Username: Andrakann
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-09-01T03:26:53+00:00
- Post Title: Re: Señor Casaroja's Noesis

Indeed. No matter how annoyed I am, I'm never too annoyed to bitch about how annoyed I am, even when bitching about being annoyed is annoying me.

So, some info on the functions I saw you using in your script there:

rapi.imageGetPalette - This does the opposite of what I think you thought it did. It doesn't actually convert a paletted image. It takes a 32-bit RGBA32 (r8g8b8a8) input, and gives you a byte array of palette entries based on the parameters. It uses a median cut algorithm to generate the palette. So you only want to use this function if you need to take a full-color image and export it to a format that uses a palette.

imgPix = rapi.imageDecodeRaw(imgPix, imgWidth, imgHeight, "a1b5g5r5") - This is saying "Ok, imgPix is an image with a1b5g5r5 pixels, so convert those to r8g8b8a8 and shove it back into imgPix"

texList.append(NoeTexture("soetex"+"."+h+"."+i, imgWidth, imgHeight, pix32, noesis.NOESISTEX_RGBA32)) #No idea how this works - You would want pix32 here to be imgPix instead. The parameters are image width, image height, image data, and image type. Because you just converted imgPix to rgba32 with the call above, that's the appropriate Noesis texture type. Those parameters are being used to construct a NoeTexture object, and that NoeTexture is getting shoved into the texture list. The texture list is what Noesis reads from once the handler exits - it allows the script to load more than one texture if it wants to. (when you have more than 1 image in a handler, they'll all be exported on export, or you can use the data viewer to preview them individually)

The Python libraries really need some real documentation. I gave general descriptions of what they all do and their input parameters in __NPReadMe.txt, but it's mostly pretty vague and doesn't provide example usage for most functions. Hopefully I can get to that sometime. There's a lot of very useful functionality in there that I suspect no one is actually aware of.
## Post #379
- Username: Dinoguy1000
- Rank: Site Admin
- Number of posts: 786
- Joined date: Mon Sep 13, 2004 8:55 am
- Post datetime: 2011-09-01T04:48:16+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Indeed. No matter how annoyed I am, I'm never too annoyed to bitch about how annoyed I am, even when bitching about being annoyed is annoying me.
I believe you've just achieved meta-bitchiness/annoyedness. =D
## Post #380
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-09-01T05:36:22+00:00
- Post Title: Re: Señor Casaroja's Noesis

I think the biggest problems I had with the texList.append and imgDecodeRawPal were in this range:

I was misunderstanding the imgDecodeRawPal as imgDecodeRaw due to the fact that I had not seen the RAW version in the documentation (it's there, I just overlooked it) until the newest version which included the RAW PAL version of the function, and read them to be the same. Which was my error.

However, the constant references to 'must be RGBA32' confused me a little, as it seemed that there was no way to get non RGBA32 data into noesis without doing it manually byte by byte (which I did try doing for a short while, albeit failing miserably)

This again stems from me reading the documentation wrong.

I did however learn quite a bit about what noepy can do by reading the def 's in inc_noesis.py.
Anyone attempting to write a Noepy plugin with little Noesis experience (or in general) should skim through it to see what some of the base functions are and do, I wouldn't have even gotten through reading bytes if I hadn't had that to look through... I daresay I actually learned a bit more about reading raw bytearrays and programming in the process of writing this script.

For instance, filling an array with a [beginindex : endindex] call... true brilliance I didn't know was possible.

I must say I love the getOffset() function... C# doesn't have that as I recall... (it required you to create a ULong and set it to be equal to the PCline number or something)

but in the end I made my script work, despite even my own self-expectations. (It's still imperfect and doesn't output the proper palettes for a few files, but for the largest group of files I wrote it for, it works.)

tl;dr
The documentation is a bit lacking, but the code is more than capable and deserves praise, and I got my thingy doin the stuff I wanted.


ON A SEPARATE MATTER!:
Is there a way to have Noesis iterate through the texList, visually?
By this I mean either displaying a different texture every few seconds, or creating some sort of grid that shows multiple pictures at a time?

I admit I'm still a little fuzzy on what Noesis does with the files AFTER I read them... or how to create user interface options and such. (I assume that's possible, in order to get user input and such)

I think if I write another plugin I'd like it to be something along the lines of 'Open As' to basically tell Neosis to -try- parsing a file that doesn't meet all of the test criteria (IE  a file that noesis doesn't recognize) as another type of file. Possibly with the option of having the user fill in some data like where to look for a header, in the case of files that are 'slightly modified' filetypes or files that have padding...

... or perhaps a plugin to export multiple textures tiled into to a single image file... but that sounds hard...

Anyway, I love the addition of Noepy, even if I'm still coming down from my headache =p
## Post #381
- Username: philip92dk
- Rank: advanced
- Number of posts: 78
- Joined date: Mon Jul 26, 2010 3:52 am
- Post datetime: 2011-09-02T23:42:03+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hey mr Adults,can you add support for 3ds and mtl files??
## Post #382
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-09-04T05:54:44+00:00
- Post Title: Re: Señor Casaroja's Noesis

Aren't MTL just a component file that supplements an OBJ? Doesn't Noesis(hereafter Ns) write these automatically already??

Though 3DS support might be nice... but with the rate that autodesk and previously discreet update their software and formats, I don't see this one happening easily...

I'm half tempted to try my hand at the MTL issue, if there in fact is one... But I'm not sure I could tackle it... and I don't want to start something I know I might not finish... I've disappointed too many people that way already...

But seriously, I thought Ns already imported and exported those MTLs...
## Post #383
- Username: Andrakann
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-09-04T16:37:01+00:00
- Post Title: Re: Señor Casaroja's Noesis

To view individual textures in the texList in Noesis, Tools->Data viewer->Model 1->Textures, then select the textures individually to see them in the preview pane.

There are a few ways to get info from the user. I try to avoid popups if possible, because if you want to batch process a set of files, you don't want the user being prompted for stuff for every single file in the batch if that can be avoided. That said, there is rapi.loadPairedFile (or rapi.loadPairedFileOptional if you don't want Noesis to raise an exception on failure) to prompt the user for a given file type and get back the raw data contents of the file they've selected. Typically when I use this, if possible, I'll try an automated solution for finding the data I need first. There's a good use of this in the Duke3D ART Python script. It tries to load the PALETTE.DAT on the same path as the input file, and if it can't find it there, it prompts the user for it with rapi.loadPairedFile.

The best way to allow the user to feed data in is via the noesis.addOption stuff. This allows you to add extra advanced/command line options, with arguments optional. If you want multiple arguments, you just have to parse them yourself out of the string it hands back. There's a good example of adding and checking command line options in fmt_sof1pc_m32.py. The reason this is a better idea than actually bringing up prompts to get optional data/parameters from the user is that it works out nicely with batch exports. They can set those options up in their batch generation if they want, so they can get that functionality without actually being bothered to manually enter data for each file.

Noesis has supported .3ds files since version 1. If you meant .max files, then no, probably not. That seems to be a continually-changing format, and it isn't worth supporting when there are already formats that are meant to be open and convey just as much data (that is, in terms of what Noesis would even care about), like COLLADA.

I've never supported .mtl files in Noesis. I just write obj files out with the diffuse texture name in the material entry, which most obj parsers (like the one in Max) handle fine. Probably wouldn't be a lot of work to handle .mtl files, but it's not a priority for me at the moment.

Edit: I just put 3.52 up, it has a good number of global Python refinements, but nothing that should break anything anyone might've already written. There's also a Quake 2 BSP script which is a good example of how to handle lightmaps or other multipass rendering needs in Python.
## Post #384
- Username: philip92dk
- Rank: advanced
- Number of posts: 78
- Joined date: Mon Jul 26, 2010 3:52 am
- Post datetime: 2011-09-05T17:16:52+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> To view individual textures in the texList in Noesis, Tools->Data viewer->Model 1->Textures, then select the textures individually to see them in the preview pane.

There are a few ways to get info from the user. I try to avoid popups if possible, because if you want to batch process a set of files, you don't want the user being prompted for stuff for every single file in the batch if that can be avoided. That said, there is rapi.loadPairedFile (or rapi.loadPairedFileOptional if you don't want Noesis to raise an exception on failure) to prompt the user for a given file type and get back the raw data contents of the file they've selected. Typically when I use this, if possible, I'll try an automated solution for finding the data I need first. There's a good use of this in the Duke3D ART Python script. It tries to load the PALETTE.DAT on the same path as the input file, and if it can't find it there, it prompts the user for it with rapi.loadPairedFile.

The best way to allow the user to feed data in is via the noesis.addOption stuff. This allows you to add extra advanced/command line options, with arguments optional. If you want multiple arguments, you just have to parse them yourself out of the string it hands back. There's a good example of adding and checking command line options in fmt_sof1pc_m32.py. The reason this is a better idea than actually bringing up prompts to get optional data/parameters from the user is that it works out nicely with batch exports. They can set those options up in their batch generation if they want, so they can get that functionality without actually being bothered to manually enter data for each file.

Noesis has supported .3ds files since version 1. If you meant .max files, then no, probably not. That seems to be a continually-changing format, and it isn't worth supporting when there are already formats that are meant to be open and convey just as much data (that is, in terms of what Noesis would even care about), like COLLADA.

I've never supported .mtl files in Noesis. I just write obj files out with the diffuse texture name in the material entry, which most obj parsers (like the one in Max) handle fine. Probably wouldn't be a lot of work to handle .mtl files, but it's not a priority for me at the moment.

Edit: I just put 3.52 up, it has a good number of global Python refinements, but nothing that should break anything anyone might've already written. There's also a Quake 2 BSP script which is a good example of how to handle lightmaps or other multipass rendering needs in Python.
what I meant was if you could add support for export 3ds. is there is a way to import 3d models with texture from Noesis to Google SketchUp
## Post #385
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-09-05T17:46:10+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from philip92dk
>
> what I meant was if you could add support for export 3ds. is there is a way to import 3d models with texture from Noesis to Google SketchUp
[http://sketchup.google.com/support/bin/ ... wer=140408](http://sketchup.google.com/support/bin/answer.py?answer=140408)

For chrrox:

```

def registerNoesisTypes():
	handle = noesis.register("ALO Archive", ".alo")
	noesis.setHandlerExtractArc(handle, aloExtractArc)
	return 1

def aloExtractArc(fileName, fileLen, justChecking):
	if fileLen < 37:
		return 0
	with open(fileName, "rb") as f:
		hdrBytes = f.read(37)
		srcSize = noeUnpackFrom("<i", hdrBytes, 16)[0]
		if srcSize+36 != fileLen or hdrBytes[36] != 0x78:
			return 0
		if justChecking: #it's valid
			return 1
		f.seek(36, 0)
		srcBytes = f.read(srcSize)
		decompSize = rapi.getInflatedSize(srcBytes)
		decompData = rapi.decompInflate(srcBytes, decompSize)
		dstName = rapi.getExtensionlessName(rapi.getLocalFileName(rapi.getInputName())) + "_decomp.bin"
		print("Writing", dstName)
		rapi.exportArchiveFile(dstName, decompData)
	return 1

```
## Post #386
- Username: philip92dk
- Rank: advanced
- Number of posts: 78
- Joined date: Mon Jul 26, 2010 3:52 am
- Post datetime: 2011-09-05T19:31:27+00:00
- Post Title: Re: Señor Casaroja's Noesis

missing textures-
E:\3d\Noesis\texture000
E:\3d\Noesis\texture001
E:\3d\Noesis\texture002
E:\3d\Noesis\texture003
E:\3d\Noesis\texture004
## Post #387
- Username: xinyingho
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Sat Sep 10, 2011 1:37 am
- Post datetime: 2011-09-09T17:40:07+00:00
- Post Title: Re: Señor Casaroja's Noesis

Can any upload the tool in a mirror site? I cannot download it from [http://oasis.xentax.com/](http://oasis.xentax.com/) as I always get a corrupt file...
Thanks!
## Post #388
- Username: BakameExcalibur
- Rank: advanced
- Number of posts: 68
- Joined date: Wed Feb 02, 2011 8:02 am
- Post datetime: 2011-09-12T20:30:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

Am I the only one so far to note how it's a bit odd how there's a plugin for Ninja Gaiden 2/DOAX2, yet nothing for stuff like Dead or Alive Ultimate? If I could write code, I'd do it myself (I can barely even write HTML >_>;), but yeah.
## Post #389
- Username: m4tias
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Tue Sep 13, 2011 2:54 pm
- Post datetime: 2011-09-13T07:06:55+00:00
- Post Title: Re: Señor Casaroja's Noesis

is posible extract models from "KOF Maximum IMPACT Regulation A" with noesis????
 the players got extension .pak
## Post #390
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-09-13T19:14:04+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from m4tias
>
> is posible extract models from "KOF Maximum IMPACT Regulation A" with noesis????
 the players got extension .pak

Noesis opens multiple types of files labeled .pak . You should look through the list and try each, if they don't load or export properly then the answer is no.

I see a lot of people asking questions like this, and honestly I don't know how they expect to get a simple answer. MrAdults programmed Noesis, with the exception of a few of the plugins, but he doesn't know what format a file is simply by hearing the name of the game or the extension on the file.

Just as the man who creates a wrench doesn't know which size you need for your washing machine simply because you told him where you bought it...

Noesis is a tool, and a good one, one that takes away most of the user's need to be involved, but there is still a small amount of common sense that says a user must be there to start it up and test it out on things.

EDIT: Said xentax, meant noesis.
## Post #391
- Username: Trishty
- Rank: advanced
- Number of posts: 63
- Joined date: Mon Jul 05, 2010 9:37 pm
- Post datetime: 2011-09-14T04:23:00+00:00
- Post Title: Re: Señor Casaroja's Noesis

I want to ask this. How to extract summon model of FF8? everyone told me it in .exe
## Post #392
- Username: LUBDAR
- Rank: veteran
- Number of posts: 95
- Joined date: Wed Jun 08, 2011 2:14 pm
- Post datetime: 2011-09-14T08:10:49+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Trishty
>
> I want to ask this. How to extract summon model of FF8? everyone told me it in .exe

In the "Battle" folder you can find a couple of the summoned monsters which you had to battle against: Brothers, Bahamut, Ifrit, Diabolos, Cerberus.

> Reply from Satoh
>
> 

I see a lot of people asking questions like this, and honestly I don't know how they expect to get a simple answer. MrAdults programmed Noesis, with the exception of a few of the plugins, but he doesn't know what format a file is simply by hearing the name of the game or the extension on the file.

Just as the man who creates a wrench doesn't know which size you need for your washing machine simply because you told him where you bought it...

Noesis is a tool, and a good one, one that takes away most of the user's need to be involved, but there is still a small amount of common sense that says a user must be there to start it up and test it out on things.

I thought this was a great analogy!! Whatever happened to peoples sense of adventure to look at all available resources and just try things out?
## Post #393
- Username: Trishty
- Rank: advanced
- Number of posts: 63
- Joined date: Mon Jul 05, 2010 9:37 pm
- Post datetime: 2011-09-14T09:17:53+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from LUBDAR
>
> 
In the "Battle" folder you can find a couple of the summoned monsters which you had to battle against: Brothers, Bahamut, Ifrit, Diabolos, Cerberus.
I talk about Phoenix, Leviathan, Alexander,... -.-!
## Post #394
- Username: LUBDAR
- Rank: veteran
- Number of posts: 95
- Joined date: Wed Jun 08, 2011 2:14 pm
- Post datetime: 2011-09-14T16:35:33+00:00
- Post Title: Re: Señor Casaroja's Noesis

Those I'm not sure about, the textures are in the same folder though
## Post #395
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-09-14T18:41:18+00:00
- Post Title: Re: Señor Casaroja's Noesis

Well I'm not sure they're in the exe, it seems like a possibility, but the PSX game uses the same file formats for most of the things the PC does, so that means they'd have to be in the PSX's program as well, but that seems a bit strange.

I think most likely the summons are in the magic folder.
## Post #396
- Username: invisghost
- Rank: advanced
- Number of posts: 55
- Joined date: Wed Jul 14, 2010 2:16 am
- Post datetime: 2011-09-18T20:11:37+00:00
- Post Title: Re: Señor Casaroja's Noesis

I've had this idea for a general 3d file exploration tool for some time now but I haven't found the right person to talk to about it. Hopefully this will at least put me on the right track. What the feature would do is pretty simple but would speed things up tremendously. You would select a file and it would treat the file as a array of xyz vectors. Then it would draw a bunch of points to a viewport where you could orbit around the points, zoom in and out and just see if there is anything that looks like a model. You could set the beginning and end offset where the program would get the vectors from and see real time updates in the viewport. I know there's a tool that can dump a file to 3ds max but it wouldn't be as easy to find where the model's points start compared to this. I've previously made my own simple program that does this to see if it would work and it does. There could be more features to this but I'll explain those later. If you need me to elaborate on anything feel free to ask, tell me what you think!
## Post #397
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2011-09-18T20:37:53+00:00
- Post Title: Re: Señor Casaroja's Noesis

you can already do that with noesis he supports python just code up a script to look at 3d points.
## Post #398
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-09-18T21:39:25+00:00
- Post Title: Re: Señor Casaroja's Noesis

@chrrox, I believe you once wrote a script that viewed 3D points as dots did you not? it was specifically for the Xenosaga III models that I recall it... or am I confusing you with some other very code-capable person?

Anyway
@invisighost, what chrrox said is correct, in fact I'm considering it myself, but I'm not fluent in python or in fact -viewing things code-.

If you(or me or even MrAdults) decide to undertake such a module for Noesis, I suggest having an option to start at a specific offset (as perhaps the relevant bytes are not aligned perfected with 0 or by 4's), an option to dictate a byte-stride or pattern (again, the bytes may be one byte XYZ, or could be 16bit X Y and Z, or could even be plain text, as in OBJ, though unlikely)

and a separation option, for instance it could be XYZ[ ][ ]XYZ or XYZ[ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]XYZ.

It's not necessarily for finding specific formatting, but if there is extraneous data between points, such as bone weight data, vertex color information, dummy info, polygon strip ID's, etc, the points may not line up as expected, and it will likely cause data that should be XYZ to be interpreted as 'YZU ZUV UVX VXY' for example.

Also, a way to track the position of a point on the screen would be good, as it could lead to finding not only a file that has model data, but -where- in the file the vertex pool is.

Aside from tracking each vertex to an offset, just drawing the points at a certain stride and separation based on user input, should theoretically be easy... once you learn the Noesis API.
## Post #399
- Username: invisghost
- Rank: advanced
- Number of posts: 55
- Joined date: Wed Jul 14, 2010 2:16 am
- Post datetime: 2011-09-19T21:45:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from chrrox
>
> you can already do that with noesis he supports python just code up a script to look at 3d points.
Having some control over it other than just dumping the entire file is the main purpose of it. Satoh gets the idea, being able to change things like stride or offset easily is the key feature.

I'm willing to try and make the module but as Satoh said, I need to know the Noesis API which I don't. I would also like to chat with someone who works on Noesis and be able to ask questions while working on it but I haven't been able to get in contact with anyone.
## Post #400
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-09-19T22:18:24+00:00
- Post Title: Re: Señor Casaroja's Noesis

Noesis can take user input, however, as it is mostly customized to batch processing, I think the user input properties available in the api are probably lacking.

That said, I think it's still possible with the functions supported. If you need a crash course in the API, it's a bit of a steep learning curve this way, but you can check out the __NPExample.txt and a list of some functions is in __NPReadme.txt. You should also check out inc_noesis.py for a more comprehensive list of python functions and what they do... (Literally what they do, as it contains the method definitions for them)

If you want to use something other than python for it... I couldn't even begin to give advice. I can't even get a DLL that's already fully written and set up in a solution to compile properly...

@MrAdults, I've written a plugin for some Xenosaga3 XTX images, (it's only partial, as it doesn't read the swizzeled versions. It does have a check for them however.)

A problem I'm having, however, is that since the textures it is designed to work on are -not- power of two dimensions, the textures in the Noesis preview window appear white. They export properly, however they cannot be appropriately previewed. 
This is an issue in 3.51 and earlier, you may have fixed it with the newest updates, but I'm only just now updating.

Still it's something I thought you should be aware of.

EDIT: Ahm... also, is there any simple way to deal with 128 (0x80) length Alpha values? These files have 0x80 as their max alpha value, rather than 0xFF.
## Post #401
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-09-20T01:36:17+00:00
- Post Title: Re: Señor Casaroja's Noesis

You could do whatever you want if you wrote it as a native plugin DLL. Being a native binary would allow you to embed your own dialog resources and use them to prompt/display whatever you want.

In a Python script, there are a few options. You could just hardcode the parameters as variable defines at the top of the .py file so you can easily modify them, seeing as it's just a text file after all. You could also use the addOption stuff to get the options in the form of commandline parameters, but that wouldn't be very convenient. You may also be able to try using something like Tkinter with the Noesis Python implementation, but I've never tried that and won't really know what to tell you if/when you run into trouble with Tkinter.

Satoh: You should be able to use the PS2 untwiddle function on those files pretty easily. For expanding the alpha channel, you could do something like r8g8b8a7p1 instead of r8g8b8a8. That way it will only use the fist 7 bits of the alpha and expand from 127 to 255 automatically. Kind of a hack but it's probably the easiest solution.

Non-power of 2 textures being white is caused by your graphics drivers/hardware not supporting the non-power texture extension. I could resize before uploading in that case, I suppose. What kind of GPU do you have? You may find a driver upgrade automagically adds non-PoT texture support for you. [Edit: Went ahead and made a new build to do the resize before GL texture uploads if GL_ARB_texture_non_power_of_two isn't supported.]
## Post #402
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-09-20T03:03:11+00:00
- Post Title: Re: Señor Casaroja's Noesis

My GPU is probably the most unfortunate thing I've ever seen on a modern computer... An Intel something-or-other chipset that has minimal support for even standard windows OGL stuff... (which it complains to me about in more than one program I've had to give up on lately) Though things with software renderers, seem to be mostly unaffected, like Maya and 3DS Max, which run fine (though with possible errors I've not noticed)

Unfortunately there is no other drivers for this particular computer than the ones made in like '99... it is an office laptop that is basically a bare minimum replacement for my old one (R.I.P.) since I have about -4 USD to my name.

However, I had the same white texture problem on the computer I was borrowing until recently. Oddly the issue only appears in Noesis' preview window... but that may just be due to all my other 3D applications using software rendering methods or something...

I hadn't considered it was my computer that was a problem, but it is a definite possibility I suppose. If you add a quickfix for it that would be nice, but I suppose it is probably more my responsibility in that case, so I won't hold my breath or test my luck. After all, you're one of the last people I want to be on the bad side of.

I tried using the variations of a7p1, p1a7, and such but that produced a few strange, but logical results on export. The problems with that method are that it actually uses 8bits for the alpha channel, but it never goes higher than 128 (0b10000000 0x80) whereas 7 bits is capped at 127 (0x7F, 0b1111111) leading 0x80 to be treated as 0 since the only bit that's on is out of range, or leading some values like 1 to being treated like 0...

I did manage to cobble together a remedy by loading the bytes into an array and manually changing every fourth one to be roughly 2*byte & 0xFF... Which works and is probably about as close to accurate as I can figure out how to make it.

I also tested out the various unswizzle and untwiddle functions on some of the files that are obviously twiddled or swizzled (as per the xenosaga 3 thread in 3d/2d board for more detail)
but they don't seem to be the right format, which I expected anyway. (Though it could also be that I used them wrong, since I have absolutely no understanding of swizzles or twiddles.)

Then loading it into the raw decoder.

This is the script, it doesn't work on all XTX's as some are swizzled, like I said, so whether or not to upload it is your prerogative. If I figure out how the swizzle in question works and understand it well enough I'll probably attempt to add it to here. However, since it DOES do what I intended it to do, and there may be other who want to process these images, I'm posting it here (mainly because it's noesis related, I'll be quoting it into the Xenosaga thread as well)

If anyone sees something I did stupidly, give me a suggestion and I can certainly fix it... or you can...


```
import noesis
import rapi

def registerNoesisTypes():
	handle = noesis.register("Xenosaga XTX Texture", ".xtx")
	noesis.setHandlerTypeCheck(handle, xtxCheckType)
	noesis.setHandlerLoadRGBA(handle, xtxGetRGBA)
	return 1
	
XTX_TAG = 0x00585458 # XTX.
	
def xtxCheckType(data):
	if len(data) < 0x50:#If the file is smaller than the header size, quit.
		return 0
	bs = NoeBitStream(data)

	if bs.readInt() != XTX_TAG:#if the header tag is wrong, quit.
		return 0
		
	return 1

def xtxGetRGBA(data, texList):
	bs = NoeBitStream(data)
	
	#tag
	bs.readInt()
	#start of pixels
	imageOffset = int(bs.readByte())
	
	#unknown
	bs.readBytes(11)
	
	#width
	w = int(bs.readUShort())
	#swizzel indicator...?
	swiz = int(bs.readUShort())
	#height
	h = int(bs.readUShort())
	
	imgPix = data[imageOffset:]
	
	if (swiz != 0x04):#if this is not 0x04, the only value I've found that is raw RGBA32, quit.
		return 0
	
	#This next loop takes care of the half size alpha channel. The files max alpha at 0x80 instead of 0xFF
	#this is here to spread the values so they max at 0xFF for fully opaque
	#if there is a better way to do this, let me know.
	
	for i in range(0,w*h):#For each pixel
		if imgPix[((i+1)*4)-1] > 0:#if the alpha is not 0 (this is needed due to overflow of 0 - 1 = FF)
			imgPix[((i+1)*4)-1] = ((imgPix[((i+1)*4)-1] * 2)-1)&0xFF #Every fourth byte, perform operations to roughly double the value, then cap it to 8 bits
	
	pix32 = rapi.imageDecodeRaw(imgPix, w, h, "r8g8b8a8")
	
	texList.append(NoeTexture("xtx", w, h, pix32, noesis.NOESISTEX_RGBA32))
	return 1
```


Sorry for the size, Xentax could really use a spoiler bbcode...

EDIT: Also thanks for getting back to me on the aforementioned things, and I'll test out the new Noesis in a sec, thanks again.

EDIT_DOS: Thanks for the internal power of two fix MrAdults, it works beautifully! Much appreciated!
## Post #403
- Username: Andrakann
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-09-20T05:58:28+00:00
- Post Title: Re: Señor Casaroja's Noesis

Oh, right. Yeah, I've come across a lot of textures with a 0-128 alpha range on PS2. I went ahead and added some stuff and put another build up:

 -3.58 - Added base orientation change option to anim-only preview mode.
 -3.58 - Added an optional new flags parameter to imageDecodeRaw/imageDecodeRawPal in the Python API. See the DECODEFLAG_* values listed in __NPReadMe.txt.
 -3.58 - Added imageScaleRGBA32 to the Python API.

noesis.DECODEFLAG_PS2SHIFT is usable with imageDecodeRawPal now. If you use it as the last param it will shift the palette index to compensate for the native hardware palette ordering. (a good number of games do that as well)

In your case the new scale function would be used like pix = rapi.imageScaleRGBA32(pix, (1.0, 1.0, 1.0, 2.0), pixWidth, pixHeight), although it wouldn't really benefit you much to use other than being faster since it's in native code.

I can't test your script since I don't have Xenosaga 3 (or its data), but I think that last pix32 = rapi.imageDecodeRaw(imgPix, w, h, "r8g8b8a8") you have in there is unnecessary, since imgPix already appears to be in rgba32 format. You could just pass imgPix right into the texture constructor, instead.

Oh, and did you actually find r8g8b8a8 textures in Xenosaga 3 that are twiddled? If so, I could use some for testing, as I've never come across any before.
## Post #404
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-09-23T05:07:00+00:00
- Post Title: Re: Señor Casaroja's Noesis

I finally got around to looking at the TXY when I couldn't get back to sleep before work this morning. Kind of a weird one, but par for the course on PS2:

```
def registerNoesisTypes():
	handle = noesis.register("Xenosaga TXY Image", ".txy")
	noesis.setHandlerTypeCheck(handle, txyCheckType)
	noesis.setHandlerLoadRGBA(handle, txyLoadRGBA)
	return 1

def txyGetImageCut(texPage, pageWidth, pageHeight, ofsX, ofsY, width, height):
	r = bytes()
	for i in range(0, pageHeight):
		imgOfs = ofsY*pageWidth + i*pageWidth + ofsX
		r += texPage[imgOfs:imgOfs+width]
	return r

def txyRetile8(pix, pixW, pixH):
	dst = bytearray(pixW*pixH)
	for y in range(0, pixH):
		for x in range(0, pixW):
			blockOfs = (y & ~15)*pixW + (x & ~15)*2
			sw = (((y+2)>>2) & 1) * 4
			ofsY = (((y & ~3)>>1) + (y & 1)) & 7
			colOfs = ofsY*pixW*2 + ((x+sw) & 7) * 4
			ofsX = ((y>>1) & 1) + ((x>>2) & 2)
			dst[blockOfs+colOfs+ofsX] = pix[y*pixW + x];
	return dst

class TXYFile:
	def __init__(self, reader):
		self.reader = reader

	def loadImageInfo(self):
		reader = self.reader
		if reader.dataSize <= 20:
			return 0
		id = reader.readInt()
		ver = reader.readInt()
		fsize = reader.readInt()
		if id != 0x797874 or ver != 1 or fsize > reader.dataSize:
			return 0
		reader.seek(16, NOESEEK_ABS)
		self.infoOfs = reader.readInt()
		if self.infoOfs <= 0 or self.infoOfs >= reader.dataSize:
			return 0
		reader.seek(self.infoOfs, NOESEEK_ABS)
		self.hx = reader.readInt()
		self.bd = reader.readInt()
		self.pageW = reader.readInt()
		self.pageH = reader.readInt()
		reader.seek(4, NOESEEK_REL)
		self.numSlices = reader.readInt()
		self.numBlocks = reader.readInt()
		if self.numSlices <= 0 or self.numBlocks <= 0:
			return 0
		reader.seek(4, NOESEEK_REL)
		self.slicesOfs = reader.tell()
		return 1

	def loadPage(self):
		reader = self.reader
		slices = bytes()
		slicesH = 0
		self.bitsPP = 8
		for i in range(0, self.numSlices):
			reader.seek(self.slicesOfs + i*32, NOESEEK_ABS)
			pixOfs = reader.readInt()
			rofs = reader.readInt()
			sliceW = reader.readInt() * 2
			sliceH = reader.readInt() * 2
			reader.seek(pixOfs+32, NOESEEK_ABS)
			imgSize = sliceW*sliceH if self.bitsPP >= 8 else (sliceW*sliceH)//2
			pix = reader.readBytes(imgSize)
			pix = rapi.imageUntwiddlePS2(pix, sliceW, sliceH, self.bitsPP)
			for j in range(0, sliceH):
				row = pix[j*sliceW:j*sliceW + sliceW]
				row += bytes([0])*(self.pageW-sliceW)
				slices += row
			slicesH += sliceH
		self.pageH = slicesH
		self.texPage = slices

	def getPaletteBlock(self, palX, palY):
		pal = bytearray(1024)
		idxCut = txyGetImageCut(self.texPage, self.pageW, self.pageH, palX, palY, 32, 32)
		return rapi.imageScaleRGBA32(txyRetile8(idxCut, 32, 32), (1.0, 1.0, 1.0, 2.0), 16, 16)

	def loadTextures(self, texList):
		reader = self.reader
		reader.seek(self.infoOfs+288, NOESEEK_ABS)
		texInfos = []
		for i in range(0, self.numBlocks):
			texInfo = {}
			texInfo["ofsa"] = reader.readInt()
			texInfo["na"] = reader.readInt()
			texInfo["width"] = reader.readInt()
			texInfo["height"] = reader.readInt()
			texInfo["ofsx"] = reader.readInt()
			texInfo["ofsy"] = reader.readInt()
			texInfo["ofsb"] = reader.readInt()
			reader.seek(4, NOESEEK_REL)
			texInfo["palx"] = reader.readInt()*2
			texInfo["paly"] = reader.readInt()*2
			reader.seek(24, NOESEEK_REL)
			texInfo["name"] = noeStrFromBytes(reader.readBytes(32))
			texInfos.append(texInfo)
		for texInfo in texInfos:
			pal = self.getPaletteBlock(texInfo["palx"], texInfo["paly"])
			idxCut = txyGetImageCut(self.texPage, self.pageW, self.pageH, texInfo["ofsx"], texInfo["ofsy"], texInfo["width"], texInfo["height"])
			pix = rapi.imageDecodeRawPal(idxCut, pal, texInfo["width"], texInfo["height"], self.bitsPP, "r8g8b8a8", noesis.DECODEFLAG_PS2SHIFT)
			texList.append(NoeTexture(texInfo["name"], texInfo["width"], texInfo["height"], pix, noesis.NOESISTEX_RGBA32))
			

def txyCheckType(data):
	txy = TXYFile(NoeBitStream(data))
	if txy.loadImageInfo() == 0:
		return 0
	return 1

def txyLoadRGBA(data, texList):
	txy = TXYFile(NoeBitStream(data))
	if txy.loadImageInfo() == 0:
		return 0

	txy.loadPage()
	txy.loadTextures(texList)
	return 1

```


Hard to tell if some of those values are right since you only uploaded a couple of files. The page width value may not really be page width, but worst case you could calculate that from the max ofs+width of the textures from the texture list. If there are 4bpp textures you'd also have to change some numbers around for that. But it should be enough for you to go on, anyway.

Basically they're broken up into what I called "slices", and if you untile each slice into a single page you end up with this:
[](http://imageshack.us/photo/my-images/17/txyraw.jpg/)
The garbled-looking data is actually the palette data. Each texture has an actual page-space x/y offset for its palette. So you grab the rect for each texture and apply the appropriate palette using the texture entry and get the final image.
[](http://imageshack.us/photo/my-images/12/txydec.jpg/)
## Post #405
- Username: LUBDAR
- Rank: veteran
- Number of posts: 95
- Joined date: Wed Jun 08, 2011 2:14 pm
- Post datetime: 2011-09-23T05:11:08+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> I finally got around to looking at the TXY when I couldn't get back to sleep before work this morning.

YESS!!!! I love that, sometimes I get "Active Brain" and just can't sleep cuz I'm messing around with stuff.
## Post #406
- Username: Acewell
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-09-23T05:23:24+00:00
- Post Title: Re: Señor Casaroja's Noesis

Oh yeah, swizzle vs. twiddle. I've decided that swizzle should be used exclusively to refer to the process of swapping/re-ordering components of a fragment/pixel. The word swizzle is widely used to describe that process in the graphics world. Twiddle should be reserved for describing a byte-level and/or whole-fragment-level re-ordering/tiling of data. In other words, re-ordering things on a component-agnostic basis. The first time I personally saw twiddling used to describe tiling into GPU memory was in the Dreamcast SDK, though I'm sure it existed for quite some time before then. Many official docs since then have described a similar tiling process as swizzling, but I guess that's just how it goes when engineers are pulling words out of their asses to describe things which end up describing subtly different techniques in the same general area of work.

So there's that. I always try to stick to calling them appropriately, although sometimes I slip up in conversations when other people keep calling them the wrong thing.
## Post #407
- Username: BakameExcalibur
- Rank: advanced
- Number of posts: 68
- Joined date: Wed Feb 02, 2011 8:02 am
- Post datetime: 2011-09-23T05:28:49+00:00
- Post Title: Re: Señor Casaroja's Noesis

It's a good thing I still dual-boot with Windows, because apparently Noesis no longer works with Wine (I dual-boot with Ubuntu 11.04, latest Wine version installed through PPA). Which is odd, considering it used to work just fine in Wine.   

Times like this I wonder why Noesis isn't multiplatform... oh well.
## Post #408
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-09-23T05:58:51+00:00
- Post Title: Re: Señor Casaroja's Noesis

Latest version still works just fine for me in whatever ancient version of darwine I've got on my osx partition. Reasons for not making non-Windows builds are numerous, including the fact that there's absolutely no reason it shouldn't run in wine (and has never failed on any version I've tried - it's very generic, runs on ancient versions of Windows, and no version of wine has any excuse to NOT run it), and the fact that it's just not worth the effort to maintain, when I'm already maintaining multiple API layers and native plugins.
## Post #409
- Username: BakameExcalibur
- Rank: advanced
- Number of posts: 68
- Joined date: Wed Feb 02, 2011 8:02 am
- Post datetime: 2011-09-23T06:10:35+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Latest version still works just fine for me in whatever ancient version of darwine I've got on my osx partition. Reasons for not making non-Windows builds are numerous, including the fact that there's absolutely no reason it shouldn't run in wine (and has never failed on any version I've tried - it's very generic, runs on ancient versions of Windows, and no version of wine has any excuse to NOT run it), and the fact that it's just not worth the effort to maintain, when I'm already maintaining multiple API layers and native plugins.
Eh, that's fine, I'm mostly curious as to why Wine suddenly decided to stop cooperating with it. I do get some sort of output in terminal when trying to run it, so I was wondering if you had any idea what it means or whatever:

```
fixme:heap:HeapSetInformation (nil) 1 (nil) 0
fixme:shell:SetCurrentProcessExplicitAppUserModelID L"Casaroja.Noesis.1000": stub
philip@philip-Dell-DXP061:~$ 

```


I did once get a much more detailed output, but I forgot to report it earlier. Still hope this is of some use to you.
## Post #410
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-09-23T17:52:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

The contents of this post was deleted because of possible forum rules violation.
## Post #411
- Username: BakameExcalibur
- Rank: advanced
- Number of posts: 68
- Joined date: Wed Feb 02, 2011 8:02 am
- Post datetime: 2011-09-23T21:36:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

I managed to get a detailed debugging output of Noesis' crash under Wine, I hope this is of use to you, MrAdults: [here ya go.](http://pastebin.com/v2979QFm)
## Post #412
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-09-24T01:34:28+00:00
- Post Title: Re: Señor Casaroja's Noesis

Looks like a crash in __PyVerify_fd (Python library) based on the address. That function is Python-native and is just trying to validate a file handle. It's rather disgusting and makes assumptions about what the CRT is doing, and I'm sure Wine is doing something it doesn't expect. Arguably Wine should be doing what it expects, though, since the objective there should be to emulate the Microsoft CRT's faithfully.

Figures that the first thing to break Wine compatibility would be a thirdparty library that otherwise boasts cross-platform compatibility in its uncompiled state. If you want to avoid the crash you can just rename/delete NoesisPython.dll from your plugins folder, though of course that will mean you can't use Python scripts. Maybe I'll make the effort to find a Wine distribution that crashes it and see about recompiling Python to do something less terrible for validating file handles, since you (unlike 99% of my anonymous asshole users) went the extra mile to provide meaningful info on your crash.

Satoh: I may get around to looking at that eventually, though I honestly don't personally care.  I just looked at the TXY to give you a starting point and demonstrate how to handle tiled PS2 data. I tend to be helpful with people when they're actually making a demonstrable effort in figuring things out for themselves. (this is, again, unlike behaviors exhibited by 99% of my anonymous asshole users)
## Post #413
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-09-24T01:38:08+00:00
- Post Title: Re: Señor Casaroja's Noesis

Well in that case your work is much appreciated. As I said I wasn't asking, nor was I expecting.

I'll keep looking, eventually I'll get it, right? At least that's the idea...
## Post #414
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-09-24T17:28:52+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Satoh
>
> Well in that case your work is much appreciated. As I said I wasn't asking, nor was I expecting.

I'll keep looking, eventually I'll get it, right? At least that's the idea...
That's usually how it goes. In the case of PS2 stuff, at least there's a lot of documentation on the hardware workings floating around the internet.

I uploaded a build with some Wine fixes last night. I compiled the CRT into the Python library which fixed the main crash with file handle validation. (since it was the Wine CRT implementation that was fucking it) Then I ran into another crash in 1.3.29 where something was fucking up when Python tried to create the stdout stream, so I made it handle that and write to null if that happens. Seems to only happen when you launch in a Wineskin debug shell, though, oddly enough.

I also couldn't even get the piece of shit to give me a module list (it kept running into an error in the very act of echoing it) so I couldn't easily determine the non-relative address of my own crashes on there. Things seem all around horribly broken in both 1.2.3 and 1.3.29 as compared to my old version of Darwine where shit actually just worked as expected straight away. Apparently they've never tried testing an app with a native implementation of Python in it, either. It crashes outright on initialization for the vanilla Python 3.2.1 binary, and I would imagine any version of Python containing the MSVC 2005 CRT hacks. (linking statically to the CRT's typically isn't done and is generally ill-advised and makes your binary significantly larger, but in this case it's the only way you'd miss this crash)

I would be tempted to fix some of these issues in Wine, if the fact that half of the development-related things I want to do in any given distribution of Linux also result in running into more blatantly fucking broken shit, and if you think Windows has dependency problems, you obviously have never tried create a universal Linux binary. And no, you stupid fucks, never distributing fucking binaries for anything isn't a good fucking solution for your problem there. Linux development for anyone that actually cares about trying to make something work is a slippery slope that leads to a cliff and at the bottom of the cliff is only despair and a new-found lack of faith in any kind of collective human endeavor not driven by direct material profit, where all of the fat lazy Linux nerds sit around stuffing cheetos in their faces and making excuses for how broken their software is, having already filled up on enough self-validation through their development efforts thus far to feel justified in sitting on their mountain of broken garbage and calling it a completely viable alternative to Windows.

(yeah, I've been having a lot of issues with Linux lately)
## Post #415
- Username: BakameExcalibur
- Rank: advanced
- Number of posts: 68
- Joined date: Wed Feb 02, 2011 8:02 am
- Post datetime: 2011-09-25T01:23:31+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Satoh wrote:Well in that case your work is much appreciated. As I said I wasn't asking, nor was I expecting.

I'll keep looking, eventually I'll get it, right? At least that's the idea...
That's usually how it goes. In the case of PS2 stuff, at least there's a lot of documentation on the hardware workings floating around the internet.

I uploaded a build with some Wine fixes last night. I compiled the CRT into the Python library which fixed the main crash with file handle validation. (since it was the Wine CRT implementation that was fucking it) Then I ran into another crash in 1.3.29 where something was fucking up when Python tried to create the stdout stream, so I made it handle that and write to null if that happens. Seems to only happen when you launch in a Wineskin debug shell, though, oddly enough.

I also couldn't even get the piece of shit to give me a module list (it kept running into an error in the very act of echoing it) so I couldn't easily determine the non-relative address of my own crashes on there. Things seem all around horribly broken in both 1.2.3 and 1.3.29 as compared to my old version of Darwine where shit actually just worked as expected straight away. Apparently they've never tried testing an app with a native implementation of Python in it, either. It crashes outright on initialization for the vanilla Python 3.2.1 binary, and I would imagine any version of Python containing the MSVC 2005 CRT hacks. (linking statically to the CRT's typically isn't done and is generally ill-advised and makes your binary significantly larger, but in this case it's the only way you'd miss this crash)

I would be tempted to fix some of these issues in Wine, if the fact that half of the development-related things I want to do in any given distribution of Linux also result in running into more blatantly fucking broken shit, and if you think Windows has dependency problems, you obviously have never tried create a universal Linux binary. And no, you stupid fucks, never distributing fucking binaries for anything isn't a good fucking solution for your problem there. Linux development for anyone that actually cares about trying to make something work is a slippery slope that leads to a cliff and at the bottom of the cliff is only despair and a new-found lack of faith in any kind of collective human endeavor not driven by direct material profit, where all of the fat lazy Linux nerds sit around stuffing cheetos in their faces and making excuses for how broken their software is, having already filled up on enough self-validation through their development efforts thus far to feel justified in sitting on their mountain of broken garbage and calling it a completely viable alternative to Windows.

(yeah, I've been having a lot of issues with Linux lately)
Eh, at least Noesis works again. And IMO, Linux wouldn't be suck a clusterfuck if people could just agree on standards for development. Instead, we get crap like GStreamer, PulseAudio, JACK, ALSA, OSS... and that's just sound architectures. Good thing Linux is very modular, else we wouldn't even have half-working distributions nowadays.
## Post #416
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-09-26T20:54:26+00:00
- Post Title: Re: Señor Casaroja's Noesis

wow thats nuts, would have never figured any of that out. thats crazy that the palette is in one of the texture offsets O_O

I have to get around to writing up specs for the PXY format.. I think me and chrrox pretty much killed it, but I'm having problems with the bone ids.. they seem to work on some models, but not others, so sadly the weights are messed.

I also did a bone test last night in the emu and was shocked to findout that the game does not have any parenting what so ever O_O
if you move the root bone, normally the entire mesh moves with it. just as an example I showed how a model in max without parenting looks.. same as in the emu.. sucky
## Post #417
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-09-27T01:24:44+00:00
- Post Title: Re: Señor Casaroja's Noesis

Flattened skeletons are very common, particularly in the PSX-PS2 eras. No hierarchical transforms required at runtime. Lots of games still flatten the skeleton across specific hierarchies while retaining hierarchy where necessary for procedural joints too. The only real downside to doing it that way is that you may have less compressable data, but that doesn't matter anyway if you're just storing flat lists for every frame.
## Post #418
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-09-27T04:15:39+00:00
- Post Title: Re: Señor Casaroja's Noesis

could you have a look at xenosaga3's TXY they seem to be slightly different


 C3kosmos00.rar
(112.31 KiB) Downloaded 39 times
## Post #419
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2011-09-27T10:50:21+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Flattened skeletons are very common, particularly in the PSX-PS2 eras. No hierarchical transforms required at runtime. Lots of games still flatten the skeleton across specific hierarchies while retaining hierarchy where necessary for procedural joints too. The only real downside to doing it that way is that you may have less compressable data, but that doesn't matter anyway if you're just storing flat lists for every frame.
Yeah it seems they developed thier own compression based on lzss that they used on the stage and animation files.
## Post #420
- Username: deltaone
- Rank: beginner
- Number of posts: 37
- Joined date: Sat Feb 19, 2011 8:18 am
- Post datetime: 2011-10-01T22:39:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

Please look at this archive, why not loading texture stored in .mtl ? 

model here [http://rghost.net/23849071](http://rghost.net/23849071)

P.S. Support .fbx would be nice
## Post #421
- Username: Bagserk
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sun Oct 02, 2011 9:50 am
- Post datetime: 2011-10-02T02:00:30+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hey guys, I stumbled upon this tool after searching everywhere for a .PAC extractor with no luck.

It says it supports .PAC files from the Sword of the Berserk game for Dreamcast. Is it possible to update it so it can open .PAC files from the PS2 Berserk game?

I have said game, if the .PAC files themselves are needed.

Thanks.
## Post #422
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-10-02T22:30:28+00:00
- Post Title: Re: Señor Casaroja's Noesis

Sword of the Bersek .pac models were basically NJCM models and PVR VQ (for the most part) textures, which are very Dreamcast-specific formats. I'd bet good money that any PS2 Berserk games would use very different file formats, even if they happen to have the same file extension.

So, basically, adding support for those files would not be made any easier by the fact that files from the Dreamcast game are already supported.
## Post #423
- Username: Bagserk
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sun Oct 02, 2011 9:50 am
- Post datetime: 2011-10-03T10:33:34+00:00
- Post Title: Re: Señor Casaroja's Noesis

Oh, well. I really had no idea.

Could you check a .PAC then, if I upload it? Although it seems to be a pack of archives. However none of the available PAC unpackers worked so far.
## Post #424
- Username: DOTAPRINCE
- Rank: veteran
- Number of posts: 133
- Joined date: Tue May 17, 2011 1:17 pm
- Post datetime: 2011-10-03T11:15:51+00:00
- Post Title: Re: Señor Casaroja's Noesis

Thanks for making support for DOTA2 MrAdults, but how do I get their textures?
## Post #425
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-10-03T14:57:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

Bagserk: If there's no thread on the format, and it's an archive format, you should go make a thread about it in the game archive forum. You'll probably have to upload some sample data as well if you want anyone to help you.

DOTAPRINCE: Noesis will load the textures if they're in the same directory as the model, so you'll have to hunt down the appropriate .vtf files and shove them in the same directory. Tools->Data viewer->Model 1->Materials will show you the names of the files it's looking to load. (see the "Name" field of each material)
## Post #426
- Username: DOTAPRINCE
- Rank: veteran
- Number of posts: 133
- Joined date: Tue May 17, 2011 1:17 pm
- Post datetime: 2011-10-03T15:52:17+00:00
- Post Title: Re: Señor Casaroja's Noesis

Thanks again MrAdults, got it working with textures
## Post #427
- Username: Bagserk
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sun Oct 02, 2011 9:50 am
- Post datetime: 2011-10-03T21:51:15+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Bagserk: If there's no thread on the format, and it's an archive format, you should go make a thread about it in the game archive forum. You'll probably have to upload some sample data as well if you want anyone to help you.

Thanks, I'll upload a .PAC and post a thread about it in said forum.
## Post #428
- Username: rexil
- Rank: veteran
- Number of posts: 124
- Joined date: Tue Mar 15, 2011 10:14 pm
- Post datetime: 2011-10-05T04:25:26+00:00
- Post Title: Re: Señor Casaroja's Noesis

Noesis is exporting Dota 2 models with the weights all wrong. Using mdl decompiler the weights are all ok. 
Just wanted to report that, dunno if it's a know problem.
## Post #429
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-10-06T02:54:00+00:00
- Post Title: Re: Señor Casaroja's Noesis

Yeah I fixed that, just haven't gotten around to putting up a release. I'll probably do it this weekend.
## Post #430
- Username: deltaone
- Rank: beginner
- Number of posts: 37
- Joined date: Sat Feb 19, 2011 8:18 am
- Post datetime: 2011-10-06T06:38:02+00:00
- Post Title: Re: Señor Casaroja's Noesis

Please look at this archive, why not loading texture stored in .mtl ?

model here [http://rghost.net/23849071](http://rghost.net/23849071)

Anyone ?
## Post #431
- Username: UltimateSora
- Rank: beginner
- Number of posts: 25
- Joined date: Fri Jun 24, 2011 2:56 am
- Post datetime: 2011-10-08T14:54:32+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hi, is there any support for exporting to SMD's animation format? Thanks.
## Post #432
- Username: LUBDAR
- Rank: veteran
- Number of posts: 95
- Joined date: Wed Jun 08, 2011 2:14 pm
- Post datetime: 2011-10-08T18:07:52+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from UltimateSora
>
> Hi, is there any support for exporting to SMD's animation format? Thanks.

Check out the readme file, you'll find all sorts of neat options that you can use w/ Noesis.  

When you export select ".smd - Valve SMD" from the Main output type drop down box.
## Post #433
- Username: Oinky
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Mon Jun 20, 2011 1:18 pm
- Post datetime: 2011-10-12T01:19:10+00:00
- Post Title: Re: Señor Casaroja's Noesis

The model cant load texture somewhat...(tekken 6)
## Post #434
- Username: Orohu
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Wed Aug 31, 2011 1:51 pm
- Post datetime: 2011-10-12T23:57:15+00:00
- Post Title: Re: Señor Casaroja's Noesis

Is there any way that you can add support for the animation files of Sword of the Berserk (dreamcast)? I believe they are in the MOTION folder of the disk, and have a .BML extension. I can provide you with example files, if you need them.
## Post #435
- Username: Nexus Elite
- Rank: n00b
- Number of posts: 17
- Joined date: Sat Apr 16, 2011 1:36 am
- Post datetime: 2011-10-14T04:39:54+00:00
- Post Title: Re: Señor Casaroja's Noesis

I'm a bit curious, The format from Lost planet 2, it uses the same extension, as the Lost planet 1 and DMC4, (.mod) but noesis can't open the .mod or .tex from lost planet 2, will there be any support on that?
## Post #436
- Username: napoleon321
- Rank: advanced
- Number of posts: 60
- Joined date: Tue Nov 16, 2010 7:11 pm
- Post datetime: 2011-10-15T13:31:51+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Yeah I fixed that, just haven't gotten around to putting up a release. I'll probably do it this weekend.

I hope we'll see the new version this week/weekend  (no rush tought)
## Post #437
- Username: DOTAPRINCE
- Rank: veteran
- Number of posts: 133
- Joined date: Tue May 17, 2011 1:17 pm
- Post datetime: 2011-10-16T10:04:02+00:00
- Post Title: Re: Señor Casaroja's Noesis

Im hoping for a future release that supports the models of Bleach Soul Ignition someday
## Post #438
- Username: mono24
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-10-16T18:52:45+00:00
- Post Title: Re: Señor Casaroja's Noesis

I like how you guys have started phrasing feature requests as though they're your personal hopes and dreams. But sorry, you know, if I had time/energy/desire to accommodate random-ass requests, Noesis wouldn't already be crawling along at the pace it is at the moment.

I'm hoping someone can be assed to put forth some effort themselves and make use of one of numerous API's and slew of example plugins that I spent so many hours defining and implementing...someday. (yes, I know the documentation is little to non-existent, but really, you have often-reasonably-well-commented plugins/scripts that cover all of the bases right there in front of you)

I'm presently working on FBX import/export, as it's something that had been on my list for far too long, and the fact that I'm working with a whole slew of Autodesk products at the moment has made me actually want it. I'll do a release whenever that gets done. Frankly coding all day/week at work makes me want to code more at home about as much as it makes me want to pay hiv-infected strippers to step on my face while wearing blood-encrusted stiletto heels, so I expect I'll simply get distracted again in an hour or 2 and end up spending the whole game playing xbla games. But that's life, you know. Figuring out file formats for a bunch of stupid games while playing a bunch of stupid games and making a bunch of stupid tools and games and using money from making tools and games to pay for a place to live and buy food and hookers until you finally end up dead. Also you might break a condom and produce a kid here and there, but chances are even if you step up you'll ruin the child's life and potential with your woeful incompetence because no one below a fairly finite subset of the top 0.5% or so of humanity is truly qualified to shape the life of another human being and it would be better if you'd never been born as you're simply contributing to the downfall of humanity by spewing your own worthless genetic scum into the gene pool, meanwhile you contribute nothing to society intellectually and simply demand of others, with your requests and your rallies and your protests and your indignant yet misguided sense of what is right, feeling entitled simply because you were born after dozens or hundreds of generations on top of the back of a man that hundreds or thousands of years ago almost had some idea of what the fuck he was doing when he killed that thing he killed to prevent his children from starving to death. Wait what, did I type all of that out loud.
## Post #439
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-10-16T19:13:26+00:00
- Post Title: Re: Señor Casaroja's Noesis

Can we write our own export plugins also?
## Post #440
- Username: Rimbros
- Rank: ultra-veteran
- Number of posts: 495
- Joined date: Fri Jul 09, 2010 7:23 am
- Post datetime: 2011-10-17T22:14:24+00:00
- Post Title: Re: Señor Casaroja's Noesis

I understand mr.adults also in something time in the life of the experts coders the thinks can be very bored.
## Post #441
- Username: zombiemkii
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Sat Sep 05, 2009 4:40 am
- Post datetime: 2011-10-19T12:15:12+00:00
- Post Title: Re: Señor Casaroja's Noesis

this's a stage model show on noesis's homepage, 
can anyone tell me the what game it come from . thanks.
## Post #442
- Username: revelation
- Rank: mega-veteran
- Number of posts: 183
- Joined date: Tue May 13, 2008 12:15 am
- Post datetime: 2011-10-23T17:04:05+00:00
- Post Title: Re: Señor Casaroja's Noesis

Haven't done as much testing as i would have like, but oh well, here is an initial and very simple release of the Noesis plugin for Dragon Ball Raging Blast.

Hope to have a much smarter way of extracting files, and eventually add animation support at some point.

Hope this is enough to play around with for now.

If not, well.....

Have fun.

Lots more on the way...
[raging_blast.rar](https://xentaxbackup.github.io/file/4806_raging_blast.rar)
## Post #443
- Username: revelation
- Rank: mega-veteran
- Number of posts: 183
- Joined date: Tue May 13, 2008 12:15 am
- Post datetime: 2011-10-23T19:39:08+00:00
- Post Title: Re: Señor Casaroja's Noesis

This is a very old version of this plugin.  It was used to make the initial screen shots i posted in the related thread.

Many updates are planned for this, but in the mean time i figured those up to the task of fiddling with it, would like to do so.

Will have to see how my time goes as far as getting the latest version of things converted over to this code.

Haven't really tested it much in this form in a while, so hopefully it will work ok for those interested.

Have fun.
[rage_engine.rar](https://xentaxbackup.github.io/file/4807_rage_engine.rar)
## Post #444
- Username: kovalevich007
- Rank: n00b
- Number of posts: 17
- Joined date: Fri Nov 12, 2010 11:03 pm
- Post datetime: 2011-10-23T22:06:47+00:00
- Post Title: Re: Señor Casaroja's Noesis

I do not find any format RPF. The plugin works?
## Post #445
- Username: Andrakann
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-10-24T01:58:00+00:00
- Post Title: Re: Señor Casaroja's Noesis

revelation: Nice. 

kovalevich007: Try updating your MSVC 2005/2008/2010 runtimes. You can run dependencywalker on the plugin DLL to see which dependent DLL is the problem. (but also make sure you're running the latest version of Noesis, that's the other usual cause)

I finally shat out a build today. FBX support is there. It's pissing me off though. Max seems to discard per-vertex normals when you import meshes with skin deforms on them. But those FBX files import back into Noesis just fine. As far as I can tell I'm doing exactly what they're doing for skin deforms in the FBX SDK example code. So, dunno what the problem is. I would like to know if the Maya and Motion Builder FBX 2012 importers do the same thing or not. I suspect they don't.
## Post #446
- Username: snowboundmage
- Rank: advanced
- Number of posts: 40
- Joined date: Tue Dec 21, 2010 12:24 pm
- Post datetime: 2011-10-24T10:14:56+00:00
- Post Title: Re: Señor Casaroja's Noesis

This may seem random, but where can i get a list of all games(not just formats) supported by this(noesis)?

Also, LOVE the program, you are a HERO for making it.
## Post #447
- Username: firsak
- Rank: advanced
- Number of posts: 64
- Joined date: Wed Dec 16, 2009 7:32 pm
- Post datetime: 2011-10-24T16:32:03+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> FBX support is there.
Thanks a lot. Just wish there was an option to export to v.2010 FBX, so that old farts using ancient Max versions could import those FBX files as well. 
Max 2010, 2011, 2012 are abominations in my opinion.
## Post #448
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2011-10-24T23:06:51+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from firsak
>
> MrAdults wrote:FBX support is there.
Thanks a lot. Just wish there was an option to export to v.2010 FBX, so that old farts using ancient Max versions could import those FBX files as well. 
Max 2010, 2011, 2012 are abominations in my opinion.

Use this:

[http://usa.autodesk.com/adsk/servlet/pc ... d=10775920](http://usa.autodesk.com/adsk/servlet/pc/item?siteID=123112&id=10775920)

At least it worked fine for me.
## Post #449
- Username: revelation
- Rank: mega-veteran
- Number of posts: 183
- Joined date: Tue May 13, 2008 12:15 am
- Post datetime: 2011-10-24T23:22:31+00:00
- Post Title: Re: Señor Casaroja's Noesis

Oops, forgot something regarding the plugins i recently release, and since it is also something i forgot to mention to Mr. Adults, might as well do that now.

There may be an issue in Noesis with file extensions that are longer than 3 or 4 characters, in that they will not show when selecting a plugin from the bottom drop-down.  Seeing as i have made the brute-force extensions extracted in the Red Dead Redemption plugin 5 characters long, they will not show if trying to filter them this way.  The work-around is to simply change the filter to "All Files..." and then select the supported file type you want to view.
## Post #450
- Username: pixeldamage
- Rank: beginner
- Number of posts: 29
- Joined date: Tue Oct 26, 2010 8:26 pm
- Post datetime: 2011-10-24T23:58:12+00:00
- Post Title: Re: Señor Casaroja's Noesis

No luck for me. It'll only show me the RSC01 files and dat files (even after renaming to a few characters+extension - unless if I put on 'all files' and then it doesn't matter what the name is). I can't open or view any of the RSC01 files. All I can do at the moment is export the rpf to a bunch of files. Maybe it's because i'm using the 10meg test rpf that was uploaded for testing here. Should this work with both PS3 and 360 versions? 

thanks for your help and hard work.

> Reply from revelation
>
> Oops, forgot something regarding the plugins i recently release, and since it is also something i forgot to mention to Mr. Adults, might as well do that now.

There may be an issue in Noesis with file extensions that are longer than 3 or 4 characters, in that they will not show when selecting a plugin from the bottom drop-down.  Seeing as i have made the brute-force extensions extracted in the Red Dead Redemption plugin 5 characters long, they will not show if trying to filter them this way.  The work-around is to simply change the filter to "All Files..." and then select the supported file type you want to view.
## Post #451
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-10-25T01:48:36+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from snowboundmage
>
> This may seem random, but where can i get a list of all games(not just formats) supported by this(noesis)?

Also, LOVE the program, you are a HERO for making it.
I haven't been keeping a list of individual games. Since a lot of formats are used in dozens or hundreds of games (like GMO), I imagine the list of games is probably pretty huge.

> Reply from firsak
>
> Thanks a lot. Just wish there was an option to export to v.2010 FBX, so that old farts using ancient Max versions could import those FBX files as well. 
Max 2010, 2011, 2012 are abominations in my opinion.
Thanks for the paypal donation.  I actually looked around the FBX SDK for an option to export files in compatibility/2011/etc. mode but I couldn't find anything, cause I also wanted a compatibility mode option. It seems like something that should be there, but the SDK sucks in a lot of ways so it wouldn't surprise me if it's not. If anyone knows how to do this without having to link 2 separate SDK libs, let me know.

Again for people who can't use revelation's plugin, reinstall your MSVC runtimes. Messed up CRT dependencies are almost always the cause of trouble with loading plugin DLL's. Also make sure you're using the latest Noesis. Lots of plugins check the API version and refuse to run on versions older than the one they were compiled against.
## Post #452
- Username: revelation
- Rank: mega-veteran
- Number of posts: 183
- Joined date: Tue May 13, 2008 12:15 am
- Post datetime: 2011-10-25T05:50:18+00:00
- Post Title: Re: Señor Casaroja's Noesis

Just a quick update that might help those having visual studio redistributable issues.

Thinking i might update the Raging Blast plugin to merge directories that only differ by the _m, _i, _v suffix to aid those having problems manually finding the correct .ioram and .vram files after opening the .spr file.

But only time will tell, as i have hopes on completing a more comprehensive improvement in the near future...
[plugins.rar](https://xentaxbackup.github.io/file/4808_plugins.rar)
## Post #453
- Username: pixeldamage
- Rank: beginner
- Number of posts: 29
- Joined date: Tue Oct 26, 2010 8:26 pm
- Post datetime: 2011-10-25T12:37:25+00:00
- Post Title: Re: Señor Casaroja's Noesis

Does Noesis support both xbox360 and PS3 versions of the rpf files?

If it supports 360 then can any recommend a drive that I can buy to read my retail 360 copy of RDR? I've seen a few online but is there anything that works well with Noesis?
## Post #454
- Username: lUIGUIPIETRO
- Rank: veteran
- Number of posts: 87
- Joined date: Sat Mar 13, 2010 10:59 pm
- Post datetime: 2011-10-25T15:39:39+00:00
- Post Title: Re: Señor Casaroja's Noesis

Still not working (RDR files). I downloaded the version of Noesis V362. but I can not see the images or models. When I try to open one, no previews. He asks if I want to remove it (Pictures or models) but then does not appear in my pc but according to the program, it has been extracted
## Post #455
- Username: pixeldamage
- Rank: beginner
- Number of posts: 29
- Joined date: Tue Oct 26, 2010 8:26 pm
- Post datetime: 2011-10-25T20:25:30+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from lUIGUIPIETRO
>
> Still not working (RDR files). I downloaded the version of Noesis V362. but I can not see the images or models. When I try to open one, no previews. He asks if I want to remove it (Pictures or models) but then does not appear in my pc but according to the program, it has been extracted

hey dude, I managed to finally get hold of the rpf layers so i'm currently extracting layer0 data out of Noesis but it's super slow (think it's because it's only using one of my eight cores). I'll try and help if I can - i'll let you know if it works for me once they're extracted. 

So far its been running for over an hour and done 300meg / 3gig so it's going to be a while! I don't have any texture or model files yet, just lots of dat and other rsc files. Maybe there's more cool stuff on layer1? 

Does anyone know if this is using brute force or does it use the key everyone was trying to find?
## Post #456
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2011-10-25T21:54:29+00:00
- Post Title: Re: Señor Casaroja's Noesis

only the header is encrypted the rest is just zlib not sure why its slow for you could be you are extracting to the same drive the archive is on.
## Post #457
- Username: lUIGUIPIETRO
- Rank: veteran
- Number of posts: 87
- Joined date: Sat Mar 13, 2010 10:59 pm
- Post datetime: 2011-10-25T22:17:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from chrrox
>
> only the header is encrypted the rest is just zlib not sure why its slow for you could be you are extracting to the same drive the archive is on.
I later 7 or 8 hours to extract 7 gigas
## Post #458
- Username: pixeldamage
- Rank: beginner
- Number of posts: 29
- Joined date: Tue Oct 26, 2010 8:26 pm
- Post datetime: 2011-10-26T15:12:06+00:00
- Post Title: Re: Señor Casaroja's Noesis

It works! I'm so happy! Holy cow i've been searching/waiting for this for almost two years! I want to make a donation but cant find the Paypal account anywhere on oasis.xentax.com. Please can someone point me in the right direction so I can also give a donation to revelation for his hard work?

lUIGUIPIETRO - I got it to work. Have you had anymore luck? I'm using the 360 version (not the ps3 ver like you) so maybe that's where you're going wrong? Doesn't seem likely though.

chrrox - interesting, thanks. I'll give it a try exporting to another drive.

Is there a way to export multiple rsc0a files from Noesis in one go or is individual exporting the only way possible right now? I'm doing it one at a time right now and there's plenty to get through
## Post #459
- Username: firsak
- Rank: advanced
- Number of posts: 64
- Joined date: Wed Dec 16, 2009 7:32 pm
- Post datetime: 2011-10-26T15:46:46+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from pixeldamage
>
> I want to make a donation but cant find the Paypal account anywhere
[Link.](http://www.richwhitehouse.com/index.php?content=inc_about.php)
## Post #460
- Username: pixeldamage
- Rank: beginner
- Number of posts: 29
- Joined date: Tue Oct 26, 2010 8:26 pm
- Post datetime: 2011-10-26T16:57:18+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from firsak
>
> pixeldamage wrote:I want to make a donation but cant find the Paypal account anywhere
Link.

firsak - thank you
## Post #461
- Username: lUIGUIPIETRO
- Rank: veteran
- Number of posts: 87
- Joined date: Sat Mar 13, 2010 10:59 pm
- Post datetime: 2011-10-26T18:17:45+00:00
- Post Title: Re: Señor Casaroja's Noesis

Congratulations. still does not work for me. I installed many things but still not working. I will try with the Xbox version. I hope someone help me, also I have a lot of time waiting for this.

Wowwwww. In xbox work for me. Thanks revelation. You are the best
## Post #462
- Username: revelation
- Rank: mega-veteran
- Number of posts: 183
- Joined date: Tue May 13, 2008 12:15 am
- Post datetime: 2011-10-26T23:24:58+00:00
- Post Title: Re: Señor Casaroja's Noesis

Just a minor update.  Texture format should work for ps3 version now.
[rage_engine.rar](https://xentaxbackup.github.io/file/4810_rage_engine.rar)
## Post #463
- Username: revelation
- Rank: mega-veteran
- Number of posts: 183
- Joined date: Tue May 13, 2008 12:15 am
- Post datetime: 2011-10-27T01:17:11+00:00
- Post Title: Re: Señor Casaroja's Noesis

Another minor update.  Should open more of the Raging Blast 360 files now.
[raging_blast.rar](https://xentaxbackup.github.io/file/4811_raging_blast.rar)
## Post #464
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-10-27T07:31:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

pixeldamage: I saw you paypal'd me 20 bucks thanking me for Red Dead support, but that's all revelation, he's the one that made the Noesis plugin to support the game. I just made Noesis itself. I'll ask him if he has paypal next time I see him on gtalk, and forward him your 20 bucks if he does.
## Post #465
- Username: deltaone
- Rank: beginner
- Number of posts: 37
- Joined date: Sat Feb 19, 2011 8:18 am
- Post datetime: 2011-10-27T10:04:36+00:00
- Post Title: Re: Señor Casaroja's Noesis

as idea:
ogre3d engine + noesis plugin = native support ogre3d .mesh + .material + .skeleton files (some games use ogre3d engine)

P.S. And one suggestion: don't reset camera position/angle when load new model - when model showed back, i rotate camera, load next model, again rotate camera  or make switch like F4 (culling) they need too global state, not only for current model ...
## Post #466
- Username: lUIGUIPIETRO
- Rank: veteran
- Number of posts: 87
- Joined date: Sat Mar 13, 2010 10:59 pm
- Post datetime: 2011-10-27T14:47:28+00:00
- Post Title: Re: Señor Casaroja's Noesis

I also want to help through Paypal. If someone tells me how it works
## Post #467
- Username: pixeldamage
- Rank: beginner
- Number of posts: 29
- Joined date: Tue Oct 26, 2010 8:26 pm
- Post datetime: 2011-10-27T15:59:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

MrAdults - Oh dear! I thought the link you gave me was revelation's paypal! Stupid me. Yes if you could please forward it to him it would be greatly appreciated . I just want it to go fairly to whoever deserves it. Just wanted to say thanks for all the hard work. I love rdr so much and it means a huge deal to me that people like revelation and others are sharing their hard work.
## Post #468
- Username: lUIGUIPIETRO
- Rank: veteran
- Number of posts: 87
- Joined date: Sat Mar 13, 2010 10:59 pm
- Post datetime: 2011-10-27T17:58:25+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from pixeldamage
>
> MrAdults - Oh dear! I thought the link you gave me was revelation's paypal! Stupid me. Yes if you could please forward it to him it would be greatly appreciated . I just want it to go fairly to whoever deserves it. Just wanted to say thanks for all the hard work. I love rdr so much and it means a huge deal to me that people like revelation and others are sharing their hard work.
Yes, it is admirable that people like the one on this forum, so selflessly help occupy part of their time and effort.
## Post #469
- Username: pixeldamage
- Rank: beginner
- Number of posts: 29
- Joined date: Tue Oct 26, 2010 8:26 pm
- Post datetime: 2011-10-27T21:04:18+00:00
- Post Title: Re: Señor Casaroja's Noesis

lUIGUIPIETRO - hey i sent you a PM. I've tried out the files you sent me and they don't work on my system either. I think you may have bad source files because i've been able to export files fine. When I click on your rsc0a files noesis offers to export them and nothing comes out. It's probably because you're using ps3. Try 360. I hope this helps you.


// WIKI //

Would it be worth us making a WIKI of the info we find from RDR? I've been spending hours going through files and maybe we can save other fans time by sharing some of our investigations? 

So far i've found the following to be true (though I could be wrong!):

- uv's in 3dsmax are flipped in the V axis.

- textures files have normal maps appearing as green as they need rearranging in PS. I think the alpha channel needs copying into the Red channel and the blue channel needs inverting to white. Then the alpha can be deleted. This gives a normal looking normal map in PS though i haven't yet tried them out (if anything's off you can just flip the channel in the material editor using a dx shader).

- terrain assets are offset from world origin so multiple mesh chunks can be brought into max/maya etc and will be properly aligned. Currently the smoothing groups are lost so everything looks faceted. Smoothing by angles like 30 or  45 degrees looks better but causes smoothing errors on the seams (these can be fixed manually though). Noesis doesn't export any textures (probably because of swizzling research needed) so terrain is currently not textured and i'm guessing vertex painting was used originally. Testing in max reveals no vertex colour information present in the final mesh. Either noesis doesn't export vertex colour or it wasn't there in the first place. I haven't found any textures (yet) that suggest terrain uses anything but vertex colors as all the terrain-like textures seem to be of singular stone/sand surface types. I found it surprising that the train track is part of the terrain chunks. For some reason terrain also interpenetrates each other rather than meeting at its edge (regardless this is still seamless).

- all marsden texture assets are referred to as player_****

- there are lots of hats!

- seems to be a lot of duplicate assets

- nomenclature - normal maps (_n) occlusion maps (i guess these could be gloss or bump maps but they're probably ao but they look a little weird to me) (_o) and spec maps (_s). Sometimes spec and occlusion are combined as they are greyscale so one is on the 'R' channel and the other on the 'G'. B

- if you're unsure as to what a texture asset is, then its often good to export it out of noesis and see what all the other .dds files are because they will have the proper name. Eg. if I export a file called 00021_E60ADCAC.rsc0a then i'll get a bunch of files c_gen_tarp01_n.dds c_gen_tarp01_s.dds and c_gen_tarp01_o.

- some textures (RSC0A files) wont be previewed in noesis, though its nice enough to suggest exporting and then solves the problem (why is this!?). The exception is files that I got from lUIGUIPIETRO that asked about exporting but didn't seem to do anything. Most likely a ps3 compression issue.
## Post #470
- Username: kovalevich007
- Rank: n00b
- Number of posts: 17
- Joined date: Fri Nov 12, 2010 11:03 pm
- Post datetime: 2011-10-27T23:34:47+00:00
- Post Title: Re: Señor Casaroja's Noesis

Will support materials?
## Post #471
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-10-28T01:50:39+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from pixeldamage
>
> MrAdults - Oh dear! I thought the link you gave me was revelation's paypal!
I didn't give it to you...but yes, he gave it to you because you generically stated you wanted to make a donation in the Noesis thread, and I'm the author of Noesis. Should've said you wanted to donate specifically to whoever added RDR support. 

Material support and the extent of it will vary based on how the imported format sets materials/texture references up, and how the exported format treats them. COLLADA materials should work for any OpenCOLLADA-based importer and FBX materials should work fine pretty universally. With the exception that the FBX SDK doesn't support mono channel output in materials so alphas won't be set up for you when importing into Max.
## Post #472
- Username: Rimbros
- Rank: ultra-veteran
- Number of posts: 495
- Joined date: Fri Jul 09, 2010 7:23 am
- Post datetime: 2011-10-28T19:04:12+00:00
- Post Title: Re: Señor Casaroja's Noesis

I need give thanks to Mr. Adults cause he help a lot with a project i have, you rock man. I have a few questions now, 

1.-¿In the kinect hack you improved for Noesis, its posible writhe capture screen animations to something file in .SMD format?

2.- Its posible i put a  cotumized bones structure body in the capture window?

3.- Something advance with the official drivers of Microsoft?

This its the body bones i need put inside and save animations.

Preview


File
[http://www.megaupload.com/?d=IG7EXMH2](http://www.megaupload.com/?d=IG7EXMH2)

P.D. I know you are very bussy man and i dont search you work for free for me, your work for me its expensive and i dont have lot money but i can made a donation if you like. thanks man.

[http://www.youtube.com/watch?v=7AEPt72rQy0](http://www.youtube.com/watch?v=7AEPt72rQy0)

first test with openNi and default bones structure
[http://www.youtube.com/watch?v=ysZLIxshJlI](http://www.youtube.com/watch?v=ysZLIxshJlI)
## Post #473
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-10-29T19:06:48+00:00
- Post Title: Re: Señor Casaroja's Noesis

1. You can export to animation formats Noesis supports. Noesis doesn't support SMD sequence output because the only Max importers for SMD pure-sequence files I could find are broken anyway. There are so many supported animation output formats, though, I'm sure you can work something out there.

2. Not sure what you mean. You mean project the model's skeleton into the orthographic representation of the skeleton on your 2D image? It's possible, but not on my list of things to do. I don't even have my Kinect out here in California so I can't really work on any of that stuff.

3. I haven't looked at their official drivers and have no idea what capabilities they offer. Again, don't have my Kinect here.
## Post #474
- Username: pro spy
- Rank: beginner
- Number of posts: 32
- Joined date: Mon Sep 12, 2011 11:36 am
- Post datetime: 2011-10-30T11:58:07+00:00
- Post Title: Re: Señor Casaroja's Noesis

i tried the pluging on the Red Dead DLC ( undead nightmare )

rsc0A works fine
RSC8A works fine
RSC85 works fine

there's some examples:













but there's some problems

1-RSC1F,RSC0B,RSC12,RSC1A and RSC02  are unknown and can not be previewed
2-dat files couldn't be previewed also
3- when i export rsc06 or rsc01, i can not find any folder or file?



and thanks you guys so much for the hard work, we all appreciate it
## Post #475
- Username: pro spy
- Rank: beginner
- Number of posts: 32
- Joined date: Mon Sep 12, 2011 11:36 am
- Post datetime: 2011-10-30T12:08:28+00:00
- Post Title: Re: Señor Casaroja's Noesis

by the way

this is rpf file for Red Dead Redemption DLC ( CooP Missions )

it's just (11.04 MB)  

download it form here

[removed]


i'll upload the others DLC as soon as i can
## Post #476
- Username: Rimbros
- Rank: ultra-veteran
- Number of posts: 495
- Joined date: Fri Jul 09, 2010 7:23 am
- Post datetime: 2011-10-30T14:20:30+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> 1. You can export to animation formats Noesis supports. Noesis doesn't support SMD sequence output because the only Max importers for SMD pure-sequence files I could find are broken anyway. There are so many supported animation output formats, though, I'm sure you can work something out there.

2. Not sure what you mean. You mean project the model's skeleton into the orthographic representation of the skeleton on your 2D image? It's possible, but not on my list of things to do. I don't even have my Kinect out here in California so I can't really work on any of that stuff.

3. I haven't looked at their official drivers and have no idea what capabilities they offer. Again, don't have my Kinect here.

I have this bones file (full body) (link megaupload), can i put this bones in Noesis Kinect System? then capture animations with this bones and export out?
## Post #477
- Username: lUIGUIPIETRO
- Rank: veteran
- Number of posts: 87
- Joined date: Sat Mar 13, 2010 10:59 pm
- Post datetime: 2011-10-30T14:22:04+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from pro spy
>
> by the way

this is rpf file for Red Dead Redemption DLC ( CooP Missions )

it's just (11.04 MB)  

download it form here

[removed]


i'll upload the others DLC as soon as i can
graciasssss
## Post #478
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-10-30T23:02:25+00:00
- Post Title: Re: Señor Casaroja's Noesis

Rimbros: You can capture on whatever skeleton you want by using the bone mapping in the Kinect tool's interface.

The rest of you: Don't start sharing links to game content in this thread. I can't control what you do in your own lawless dens, but I won't abide actual commercial content trading/distribution in the direct context of my projects.
## Post #479
- Username: pro spy
- Rank: beginner
- Number of posts: 32
- Joined date: Mon Sep 12, 2011 11:36 am
- Post datetime: 2011-10-31T07:39:53+00:00
- Post Title: Re: Señor Casaroja's Noesis

MrAdults : i coudn't export the rsc01 files,  i've tried most of them, no hope
## Post #480
- Username: revelation
- Rank: mega-veteran
- Number of posts: 183
- Joined date: Tue May 13, 2008 12:15 am
- Post datetime: 2011-10-31T22:09:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from pro spy
>
> MrAdults : i coudn't export the rsc01 files,  i've tried most of them, no hope

Probably because i didn't list those as working formats, heh.

Only rsc0a, rsc85, and rsc8a have some reasonable form of support in the current plugin.
## Post #481
- Username: snowboundmage
- Rank: advanced
- Number of posts: 40
- Joined date: Tue Dec 21, 2010 12:24 pm
- Post datetime: 2011-11-01T18:06:44+00:00
- Post Title: Re: Señor Casaroja's Noesis

Let me get this straight(feel free to correct me if I'm wrong)
Noesis, is(or will will soon be) able to capture animations from kinect and export onto the computer?
if so, this will soon be one of the greatest programs ever!
## Post #482
- Username: pixeldamage
- Rank: beginner
- Number of posts: 29
- Joined date: Tue Oct 26, 2010 8:26 pm
- Post datetime: 2011-11-01T23:36:38+00:00
- Post Title: Re: Señor Casaroja's Noesis

MrAdults: Again sorry for the confusion. It's not really clear who makes what around here but my apologies. If you haven't sent the payment already to revelation then perhaps you too can split it. My intention was to say thanks for RDR access but that would not be possible without Noesis either which is a great program. I had thought Revelation was the author of Noesis but hopefully you guys can sort it out between you.

Regarding the RDR stuff. I've been through all the textures (I believe) and something's off as I have found many duplicates and haven't seen much of those from the actual game. Is this because not all are in RSC0A format? From my copy of the game I have 3317 rsc0a files on layer0 and only 1 on layer1. As many of these are duplicates, this means I have not found any sky textures, very few signs or buildings. For example Nathanial Johnstone's Doctor surgery in Armadillo, The Saloon, Sheriff, character textures for many characters are not there. Can you guys share some light on this?
## Post #483
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-11-02T01:26:26+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from snowboundmage
>
> Let me get this straight(feel free to correct me if I'm wrong)
Noesis, is(or will will soon be) able to capture animations from kinect and export onto the computer?
if so, this will soon be one of the greatest programs ever!
It's supported it for quite a few months now, actually. Just not the most user-friendly process. You have to install custom PrimSense drivers on your PC for the Kinect, and set up your own bone mappings to map the Noesis mocap skeleton to your model's skeleton. Example:

[http://www.youtube.com/watch?v=1Jc0mENG8Vs](http://www.youtube.com/watch?v=1Jc0mENG8Vs)

And of course, the famous [http://www.youtube.com/watch?v=hNAXVs8rydU](http://www.youtube.com/watch?v=hNAXVs8rydU) 

> Reply from pixeldamage
>
> MrAdults: Again sorry for the confusion.
Sure, no problem, it's the thought that counts anyway. I make Noesis, and theoretically anyone could make plugins for it, but revelation is the only person who's actually done so. So all of the "thirdparty" (not bundled with Noesis) plugins that you see floating around are his doing. I sent him your 20 bucks the other night, he deserves it. I'll just pretend 10 of it was from me then, as I don't feel I thank him adequately for actually making use of my program/API as it is.
## Post #484
- Username: pixeldamage
- Rank: beginner
- Number of posts: 29
- Joined date: Tue Oct 26, 2010 8:26 pm
- Post datetime: 2011-11-03T20:04:16+00:00
- Post Title: Re: Señor Casaroja's Noesis

Anyone found any Sky textures or building meshes yet?

Could there be textures in any of the dat files or elsewhere to the rsc0a files?

A lot seems to be missing. For some reason some textures are only visible on exporting an rsc0a file (usually the main export is a tga and it brings a bunch of other, usually related, dds files with it). It's the dds files that are hidden. In that way it seems to be that rsc0a's are like a rar/zip archive and the preview in Noesis doesn't allow viewing of these until export (this might be why  lUIGUIPIETRO isn't finding things).

I have manually exported almost 3000 files one by one! but I still haven't found a huge number of assets
## Post #485
- Username: revelation
- Rank: mega-veteran
- Number of posts: 183
- Joined date: Tue May 13, 2008 12:15 am
- Post datetime: 2011-11-04T09:07:16+00:00
- Post Title: Re: Señor Casaroja's Noesis

Make sure you are using the Data View to preview multiple textures, as only the first is shown when initially loaded.
## Post #486
- Username: pro spy
- Rank: beginner
- Number of posts: 32
- Joined date: Mon Sep 12, 2011 11:36 am
- Post datetime: 2011-11-05T06:44:45+00:00
- Post Title: Re: Señor Casaroja's Noesis

revelation: did you try to use the rage_engine.dll on the other program such as OpenIV?
## Post #487
- Username: lUIGUIPIETRO
- Rank: veteran
- Number of posts: 87
- Joined date: Sat Mar 13, 2010 10:59 pm
- Post datetime: 2011-11-05T09:02:11+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from pro spy
>
> revelation: did you try to use the rage_engine.dll on the other program such as OpenIV?
Although it could do, I doubt that "GooD-NTS" would allow. perhaps "SparkIV" by Aru.
## Post #488
- Username: pro spy
- Rank: beginner
- Number of posts: 32
- Joined date: Mon Sep 12, 2011 11:36 am
- Post datetime: 2011-11-07T03:17:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from lUIGUIPIETRO
>
> pro spy wrote:revelation: did you try to use the rage_engine.dll on the other program such as OpenIV?
Although it could do, I doubt that "GooD-NTS" would allow. perhaps "SparkIV" by Aru.

GooD-NTS
## Post #489
- Username: pixeldamage
- Rank: beginner
- Number of posts: 29
- Joined date: Tue Oct 26, 2010 8:26 pm
- Post datetime: 2011-11-07T19:24:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

So does the .dll work with any other applications well? I'm not having much luck regarding textures. The Data Viewer is something I wish I knew about a week ago! But even using that there's a lot missing. I'm thinking they must be in other files than the rsc0a that we can't read yet 

I did find some perlin noise maps in the largest rsc0a (as well as a bunch of decals and the normal map for the bullet ripple and a part of a night sky). I'm guessing the sky uses some complex algorithm and procedural stuff with perlin noise plugged in. For some reason Noesis gives a memory ERROR when trying to export the internalized dds files with this one (you have to look at them via the DataViewer). Maybe it's because its 4meg?

If anyone can help me find some of the missing textures (especially sky, buildings etc) I'd really appreciate it.

Here is some of the info I was up until 6am collecting on sunday

// Layer0.rpf //

BUILDINGS::

00020_DEF0F54D 

	22755_E8575B3G


		22781_3EC4B1F5 BLACKWATER

		22766_16B96A70 COOTS CHAPEL

		22765_164B2324 TRAIN (part)

		22764_158627D0 CRATE etc

		22783_47F50646 Train bridges signs rocks telephone poles

		22784_48385F1D PIKES BASIN

		22787_4D3277E5 PACIFIC UNION CAMP

		22788_57350B23 MANZANITA POST FENCES, BUILDINGS 

		22790_5B87BA10 SERENDIPITY WRECK

		22791_5C3D34F6 GAPTOOTH BREACH

		22801_6E0D8CB1 THEIVES LANDING

		22806_792DD403 RASKELLER FORT

		22813_8BBC4CCE TESORO AZUL

		22816_8E81B591 MEXICAN

		22820_9A2C155A LAS HERMANAS

		22825_A51AF855 TUMBLEWEED

		22828_ADA32AC4 TORQUEMADA

		22829_AE233ADE EL MATADURO / MEXICAN

		22832_B86B8818 CHUPAROSA

		22835_BBA67F01 ESCALERA

		22842_D39FE932 ARMADILLO 25273
## Post #490
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-11-08T02:14:26+00:00
- Post Title: Re: Señor Casaroja's Noesis

Noesis DLL's of course only work with Noesis. The entire point of Noesis is to provide a framework for quickly reverse-engineering file formats. Otherwise I'd just be awkwardly stumbling along with Blender scripts or something. So to support a Noesis plugin any other application would have to duplicate the entire framework with all of the same functionality, and keep up to date with my routine additions to the API.

If you have a file Noesis can preview but not export I'd like to see it, please feel free to upload and PM me a link. (I do own RDR, but my copy is back in Arizona)
## Post #491
- Username: lUIGUIPIETRO
- Rank: veteran
- Number of posts: 87
- Joined date: Sat Mar 13, 2010 10:59 pm
- Post datetime: 2011-11-08T22:14:46+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from revelation
>
> Make sure you are using the Data View to preview multiple textures, as only the first is shown when initially loaded.
It is possible to see all the textures without exporting? Is labor export and delete hundreds of textures
## Post #492
- Username: deltaone
- Rank: beginner
- Number of posts: 37
- Joined date: Sat Feb 19, 2011 8:18 am
- Post datetime: 2011-11-08T22:35:46+00:00
- Post Title: Re: Señor Casaroja's Noesis

I made noesis plugin for viewing all ogre3d engine models (Torchlight/Dungeons), with use native ogre3d engine mesh loading. Any bugfixes/improvments welcomed ... 

[http://www.multiupload.com/ETNIVO4BEA](http://www.multiupload.com/ETNIVO4BEA)

2MrAdults feel free to use this ...
2MrAdults please do fixed preview angle/distance when browsing models (when opening new model  preview angle/distance dropped) ...
## Post #493
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-11-09T02:36:51+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from deltaone
>
> I made noesis plugin for viewing all ogre3d engine models (Torchlight/Dungeons), with use native ogre3d engine mesh loading. Any bugfixes/improvments welcomed ... 

http://www.multiupload.com/ETNIVO4BEA

2MrAdults feel free to use this ...
2MrAdults please do fixed preview angle/distance when browsing models (when opening new model  preview angle/distance dropped) ...
Sweet. Nice to see a new take on Noesis plugin development, feel free to let me know if the API gave you any trouble. 

Not sure what you mean by fixed preview angle/distance. Do you mean you want the orientation to stay the same when you load different files? (might be a little tricky since Noesis re-calibrates the view around the model's geometry, but I could probably hack in a setting for it)
## Post #494
- Username: deltaone
- Rank: beginner
- Number of posts: 37
- Joined date: Sat Feb 19, 2011 8:18 am
- Post datetime: 2011-11-09T07:32:54+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> 
Sweet. Nice to see a new take on Noesis plugin development, feel free to let me know if the API gave you any trouble.
At this moment all great, but would be nice in future if i can send vertex buffer and after this send faces ... (may be it already realized, but i not find doc's   )

> Reply from MrAdults
>
>  Do you mean you want the orientation to stay the same when you load different files?
Yes, i want same orientation/distance of preview camera when load different files  Or do adjustable angle/distance for preview camera in options  ...

P.S. And would be great: 
a) if next file in dir showed witch PageDown like key (as irfan/acdsee viewers)
b) if ToggleFaceCull going to options and not dropped when i'm load different files

P.P.S. Why crashed on rapi->rpgSetExData_Bones(bones, nBones) ?

```
	LOG("bones %d", nBones);
	modelBone_t *bones = GetModelBones(mesh, rapi, nBones);
	DumpBones(bones, nBones);
	if (bones) rapi->rpgSetExData_Bones(bones, nBones);

```


bone dump:

```
02:19:54: 15b71af8 BONE 0 : Bone01 parent  0
02:19:54: 1.000000	0.000000	0.000000
02:19:54: 0.000000	1.000000	0.000000
02:19:54: 0.000000	0.000000	1.000000
02:19:54: 0.000000	0.000000	0.000000
02:19:54: 15b71c4c BONE 1 : Dummy01 parent Bone01 15b71af8
02:19:54: 1.000000	0.000000	0.000000
02:19:54: 0.000000	1.000000	0.000000
02:19:54: 0.000000	0.000000	1.000000
02:19:54: 0.000000	0.000000	0.000000
02:19:54: 15b71da0 BONE 2 : bone_gear parent Dummy01 15b71c4c
02:19:54: 1.000000	0.000000	0.000000
02:19:54: 0.000000	1.000000	0.000000
02:19:54: 0.000000	0.000000	1.000000
02:19:54: -3.034564	-0.317687	-1.278045
02:19:54: 15b71ef4 BONE 3 : bone_lever parent Dummy01 15b71c4c
02:19:54: 1.000000	0.000000	0.000000
02:19:54: 0.000000	1.000000	0.000000
02:19:54: 0.000000	0.000000	1.000000
02:19:54: 0.000000	0.000000	0.000000
```


dump proc

```
{
	LOG("NUM BONES: %d", numBones);

	for (int i = 0; i < numBones; ++i)
	{
		LOG("%x BONE %d : %s parent %s %x", &bones[i], bones[i].index, bones[i].name, bones[i].parentName, bones[i].eData.parent);
		LOG("%f\t%f\t%f", bones[i].mat.x1[0], bones[i].mat.x1[1], bones[i].mat.x1[2]);
		LOG("%f\t%f\t%f", bones[i].mat.x2[0], bones[i].mat.x2[1], bones[i].mat.x2[2]);
		LOG("%f\t%f\t%f", bones[i].mat.x3[0], bones[i].mat.x3[1], bones[i].mat.x3[2]);
		LOG("%f\t%f\t%f", bones[i].mat.o[0], bones[i].mat.o[1], bones[i].mat.o[2]);
	}
}
```

[src.zip](https://xentaxbackup.github.io/file/4829_src.zip)
## Post #495
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-11-11T08:11:52+00:00
- Post Title: Re: Señor Casaroja's Noesis

Not sure what you mean by "send" the vertex buffer. You bind the buffer before using CommitTriangles, that's the standard usage. If you mean you want to automatically draw triangles in implied order from a vertex buffer, calling CommitTriangles with a NULL buffer is valid and will do that.

I'm not sure why your bone data would be crashing there, the printout looks valid and so do the addresses. Can you upload a sample file for me to crash it with?

Edit: I just realized what your problem is. You're using the default struct packing (4 bytes) but internally Noesis uses 1-byte alignment for the shared structures like modelBone_t. I'll add a pragma pack push/pop around pluginshare.h to enforce it, but you can also fix it by putting a push to 1 byte alignment before you include it.
## Post #496
- Username: deltaone
- Rank: beginner
- Number of posts: 37
- Joined date: Sat Feb 19, 2011 8:18 am
- Post datetime: 2011-11-12T07:21:53+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Not sure what you mean by "send" the vertex buffer. You bind the buffer before using CommitTriangles, that's the standard usage. If you mean you want to automatically draw triangles in implied order from a vertex buffer, calling CommitTriangles with a NULL buffer is valid and will do that.
CommitTriangles i found in only one plugin source  i think standard usage is 

```
rapi->rpgBegin(RPGEO_TRIANGLE);
....
			if (sm.bVertexWeights)
			{
				rapi->rpgVertBoneIndexUI(&sm.VertexData[sm.IndexData[vi]].BoneIndex[0], sm.VertexData[sm.IndexData[vi]].BoneIndex.Num());
				rapi->rpgVertBoneWeightF(&sm.VertexData[sm.IndexData[vi]].BoneWeight[0], sm.VertexData[sm.IndexData[vi]].BoneWeight.Num());
			}
			if (sm.bVertexNormals) rapi->rpgVertNormal3f((float*) &sm.VertexData[sm.IndexData[vi]].NX);
			if (sm.bVertexTangents) rapi->rpgVertTan4f((float*) &sm.VertexData[sm.IndexData[vi]].TX);
			if (sm.bVertexUV) rapi->rpgVertUV2f((float*) &sm.VertexData[sm.IndexData[vi]].U, 0);
			if (sm.bVertexPositions) rapi->rpgVertex3f((float*) &sm.VertexData[sm.IndexData[vi]].PX);

```



> Reply from MrAdults
>
> 
I'm not sure why your bone data would be crashing there, the printout looks valid and so do the addresses. Can you upload a sample file for me to crash it with?
Edit: I just realized what your problem is. You're using the default struct packing (4 bytes) but internally Noesis uses 1-byte alignment for the shared structures like modelBone_t. I'll add a pragma pack push/pop around pluginshare.h to enforce it, but you can also fix it by putting a push to 1 byte alignment before you include it.
Yes, you right, crash gone, thx ...

P.S. Version of Ogre3d noesys plugin with weights and bones support [http://rghost.net/29614351](http://rghost.net/29614351)
P.P.S.

```
{
	int					index;
	char				name[32];
	modelMatrix_t		mat;
	char				parentName[32];
	modelBoneExData_t	eData;
} modelBone_t;
```

If possible, please set name buffers from 32 to 64 byte ... 
dump

```
11:17:19: N: lvl1_gimmick_spiketrap_bone_spi
11:17:19: N: lvl1_gimmick_spiketrap_bone_spikes02
11:17:19: N: lvl1_gimmick_spiketrap_bone_spi
```
## Post #497
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-11-12T10:02:50+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from deltaone
>
> CommitTriangles i found in only one plugin source
CommitTriangles is used in the Quake IQM, Bayonetta, and Saint Seiya the Hades plugin sources. So 3 out of the 6 model importing plugins in pluginsource.zip.  Let me know if you have any questions about its usage. IQM is probably the best example because it handles many possible different vertex formats.

> Reply from deltaone
>
> P.S. Version of Ogre3d noesys plugin with weights and bones support http://rghost.net/29614351
Well done. 

> Reply from deltaone
>
> If possible, please set name buffers from 32 to 64 byte ...
The only reason I haven't done this is that it would break compatibility with old plugins if I just pushed it up directly. I'll probably go ahead and provide a transparent layer that converts between old and new bone stuctures based on the plugin's API version, so that I can finally address that without having to have revelation recompile all his old stuff.
## Post #498
- Username: deltaone
- Rank: beginner
- Number of posts: 37
- Joined date: Sat Feb 19, 2011 8:18 am
- Post datetime: 2011-11-12T16:25:19+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> deltaone wrote:CommitTriangles i found in only one plugin source 
CommitTriangles is used in the Quake IQM, Bayonetta, and Saint Seiya the Hades plugin sources. So 3 out of the 6 model importing plugins in pluginsource.zip.  Let me know if you have any questions about its usage. IQM is probably the best example because it handles many possible different vertex formats.
Heh, you are right  Sleepless nights  Skyrim 

> Reply from MrAdults
>
> 
deltaone wrote:If possible, please set name buffers from 32 to 64 byte ... 
The only reason I haven't done this is that it would break compatibility with old plugins if I just pushed it up directly. I'll probably go ahead and provide a transparent layer that converts between old and new bone stuctures based on the plugin's API version, so that I can finally address that without having to have revelation recompile all his old stuff.
May be make new type and new function and mark old as deprecated ?
## Post #499
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-11-12T20:39:16+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from deltaone
>
> May be make new type and new function and mark old as deprecated ?
It's just a bit more complicated than that, since those modelBone_t's are used all over the place and can be passed in as part of some other data structures. (namely animations and shared models) In total I count 9 in/out points for them alone, and then potentially a lot more based on passing of the anims and shared model structures, so all of those points need to be modified to convert back and forth based on the API version of the plugin, or there would be a whole lot of deprecation going on. (functionally, I still have to handle conversion at all those points behind the scenes for the old plugins anyway) I also like to avoid deprecation entirely when I can, since this is one of those situations where I expect older plugins to never actually get recompiled ever, so I'd end up with lots of deprecated functions that I can never actually remove.

It's totally doable, just more work than I'd like. But that's how it is when you want to maintain compatibility throughout the entire life of an API.
## Post #500
- Username: Andrakann
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-11-13T03:20:45+00:00
- Post Title: Re: Señor Casaroja's Noesis

k, Noesis 3.7 is up which increases the bone name lengths. I would've made them pointers, but there's so much ancient legacy code internally that assumes the buffers are preallocated, it's not worth the trouble. I also took the opportunity to do some internal cleanup and housekeeping across the board and ended up touching somewhere in the area of 25 or so modules. And when you change that many things you usually end up breaking everything, so as the readme says, 
> I'm interested in crash reports, so send them in, and try to make them useful. (e.g. provide sample files, and ideally provide process module base addresses with instruction pointer offsets for each thread)
## Post #501
- Username: Krisan Thyme
- Rank: advanced
- Number of posts: 49
- Joined date: Sat Jan 15, 2011 4:04 am
- Post datetime: 2011-11-13T18:49:47+00:00
- Post Title: Re: Señor Casaroja's Noesis

The contents of this post was deleted because of possible forum rules violation.
## Post #502
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2011-11-14T02:21:20+00:00
- Post Title: Re: Señor Casaroja's Noesis

i tried both versions in the max script i made and they loaded fine i don't think they changed the format. Bones and meshes loaded.
## Post #503
- Username: Krisan Thyme
- Rank: advanced
- Number of posts: 49
- Joined date: Sat Jan 15, 2011 4:04 am
- Post datetime: 2011-11-14T03:25:55+00:00
- Post Title: Re: Señor Casaroja's Noesis

Max script works, eh? Is that available somewhere here on the forums? And if not, can you put it up for download?
Oddly enough either way though, they're not loading in Noesis.. By altering the headers slightly I can get bones to load just dandy, but the mesh just.. doesn't. I'm not sure why..
## Post #504
- Username: Andrakann
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-11-14T05:05:06+00:00
- Post Title: Re: Señor Casaroja's Noesis

They changed the file version as well as the vertex formats. chrrox's script works because it doesn't care about weighting but Noesis does.

Go grab Noesis 3.71. It still has issues with the new weighting though.
## Post #505
- Username: Krisan Thyme
- Rank: advanced
- Number of posts: 49
- Joined date: Sat Jan 15, 2011 4:04 am
- Post datetime: 2011-11-14T09:10:22+00:00
- Post Title: Re: Señor Casaroja's Noesis

Yeah that works great. Tested it on several of the brand new models, and they display fine. The weights are kinda screwy though, as you mentioned, but eh.. It's just nice right now to be able to look at the models themselves.
## Post #506
- Username: Krisan Thyme
- Rank: advanced
- Number of posts: 49
- Joined date: Sat Jan 15, 2011 4:04 am
- Post datetime: 2011-11-14T18:47:12+00:00
- Post Title: Re: Señor Casaroja's Noesis

The contents of this post was deleted because of possible forum rules violation.
## Post #507
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2011-11-14T22:45:38+00:00
- Post Title: Re: Señor Casaroja's Noesis

The contents of this post was deleted because of possible forum rules violation.
## Post #508
- Username: Krisan Thyme
- Rank: advanced
- Number of posts: 49
- Joined date: Sat Jan 15, 2011 4:04 am
- Post datetime: 2011-11-14T23:02:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Darko
>
> Yep, most of 360 specular maps are swizzled.
It's not just specular maps, unfortunately. And yeah I kind of figured this was a case of swizzling.
I've no idea what can be done about that though, if anything?
## Post #509
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2011-11-14T23:05:06+00:00
- Post Title: Re: Señor Casaroja's Noesis

most 360 textures are swizzled to speed up loading noesis un swizzles them.
## Post #510
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2011-11-15T01:32:39+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from chrrox
>
> most 360 textures are swizzled to speed up loading noesis un swizzles them.

Are you sure all of them?? Why I'm getting this??

[](http://imageshack.us/photo/my-images/831/noesis.jpg/)

Uploaded with [ImageShack.us](http://imageshack.us)
## Post #511
- Username: Krisan Thyme
- Rank: advanced
- Number of posts: 49
- Joined date: Sat Jan 15, 2011 4:04 am
- Post datetime: 2011-11-15T02:00:13+00:00
- Post Title: Re: Señor Casaroja's Noesis

Well whatever it is, something seems off somewhere. I was just reporting it because it's kind of a pain always needing another copy of the game just to have all the textures..
## Post #512
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2011-11-15T02:25:15+00:00
- Post Title: Re: Señor Casaroja's Noesis

if you upload that file i can look at it but front he picture it looks like it just needs an endian swap.
## Post #513
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2011-11-15T02:59:46+00:00
- Post Title: Re: Señor Casaroja's Noesis

The contents of this post was deleted because of possible forum rules violation.
## Post #514
- Username: Krisan Thyme
- Rank: advanced
- Number of posts: 49
- Joined date: Sat Jan 15, 2011 4:04 am
- Post datetime: 2011-11-15T04:21:27+00:00
- Post Title: Re: Señor Casaroja's Noesis

The contents of this post was deleted because of possible forum rules violation.
## Post #515
- Username: youngmark
- Rank: veteran
- Number of posts: 145
- Joined date: Thu Sep 02, 2010 8:38 pm
- Post datetime: 2011-11-15T08:18:59+00:00
- Post Title: Re: Señor Casaroja's Noesis

I want a converterchr->obj or a model viewer, please.
## Post #516
- Username: yanneric
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sun Oct 30, 2011 6:15 am
- Post datetime: 2011-11-15T20:50:16+00:00
- Post Title: Re: Señor Casaroja's Noesis

hi there!! first of all, thanks to you MrAdults for "Noesis"!!! just a great program!! and thanks to revelation for his plugins Rage for Dragonball raging blast, great too!!!! i have three questions you might help me to answer it :

- Can we extract the map from Dragonball raging blast? i have tried everything, but it seems impossible....and do you think it will be possible?
- same question for the rig animation from DBZ RB?
- and finally, do you think it will have an update to get the Dragonball ultimate tenkaichi Mesh ? (the .AFSD file must be different from raging blast because it crashes Noesis when you try to extract them..)

i hope these questions have not already been posted 

thanks alot for what you have already done   bye
## Post #517
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2011-11-16T04:56:36+00:00
- Post Title: Re: Señor Casaroja's Noesis

hey chrrox, did you check the texture??
## Post #518
- Username: alon
- Rank: mega-veteran
- Number of posts: 163
- Joined date: Mon Nov 29, 2010 5:38 pm
- Post datetime: 2011-11-17T00:52:29+00:00
- Post Title: Re: Señor Casaroja's Noesis

Help with error opening bin file from Hokuto Musou x360 
here is the sample files :
[delete](delete)

Thanks for this great app
## Post #519
- Username: Andrakann
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-11-17T09:36:23+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from alon
>
> Help with error opening bin file from Hokuto Musou x360
Your rip is fucked. Correct size for 000_ken_mdl.bin is 1,402,992 bytes.

PS- Zegapain XOR files are supported by the new Bullet Witch script in 3.72.
## Post #520
- Username: youngmark
- Rank: veteran
- Number of posts: 145
- Joined date: Thu Sep 02, 2010 8:38 pm
- Post datetime: 2011-11-17T18:36:15+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> alon wrote:Help with error opening bin file from Hokuto Musou x360
Your rip is fucked. Correct size for 000_ken_mdl.bin is 1,402,992 bytes.

PS- Zegapain XOR files are supported by the new Bullet Witch script in 3.72.
## Post #521
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2011-11-17T19:00:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

He is talking about the extracted files.
## Post #522
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-11-18T02:22:38+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from chrrox
>
> He is talking about the extracted files.
No, it loads the actual CZR's and un-lzh's them on the fly. That one he uploaded just has something fucky with the actual model, or it's a bad dump. You never can tell with these people.
## Post #523
- Username: alon
- Rank: mega-veteran
- Number of posts: 163
- Joined date: Mon Nov 29, 2010 5:38 pm
- Post datetime: 2011-11-18T14:57:04+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> alon wrote:Help with error opening bin file from Hokuto Musou x360
Your rip is fucked. Correct size for 000_ken_mdl.bin is 1,402,992 bytes.
OK, Thanks	
You are right.
My ISO is broken.
## Post #524
- Username: Rimbros
- Rank: ultra-veteran
- Number of posts: 495
- Joined date: Fri Jul 09, 2010 7:23 am
- Post datetime: 2011-11-22T08:17:46+00:00
- Post Title: Re: Señor Casaroja's Noesis

Mr. Adults, its Noesis compatible with Iron Man 2 xbox360 or ps2 game?, (.pkg files)
## Post #525
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2011-11-22T11:43:12+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Rimbros
>
> Mr. Adults, its Noesis compatible with Iron Man 2 xbox360 or ps2 game?, (.pkg files)

its the same format as golden axe.
## Post #526
- Username: Rimbros
- Rank: ultra-veteran
- Number of posts: 495
- Joined date: Fri Jul 09, 2010 7:23 am
- Post datetime: 2011-11-22T17:16:39+00:00
- Post Title: Re: Señor Casaroja's Noesis

Thanks Chroxxx i see you improved a greath job with golden axe, and the Ironman 2 model files formats are same of Golden Axe? or only .pkg files.
## Post #527
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2011-11-22T17:39:29+00:00
- Post Title: Re: Señor Casaroja's Noesis

everything is the same.
## Post #528
- Username: Duffy86
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Tue Oct 19, 2010 11:04 am
- Post datetime: 2011-11-23T06:48:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

Swung by to see how Noesis is coming along, i believe all the neighbours' dogs may require ear surgery after my high pitched sqeeee of delight when I saw FBX support.
If I had a hat, I'd tip It to you Señor, instead, please humbly accept this donkey for your troubles
[Donkey](http://www.animalpictures.tk/wp-content/uploads/pictures/donkey-pictures-3711.jpg)
## Post #529
- Username: Rimbros
- Rank: ultra-veteran
- Number of posts: 495
- Joined date: Fri Jul 09, 2010 7:23 am
- Post datetime: 2011-11-23T07:32:50+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from chrrox
>
> everything is the same.

I run this command

c:\offzip\offzip.exe -a c:\DVD_IronManMark2.pkg "c:\extracted" 0x0 

i and i get this .Dat files from Iron Man 2, any idea?
[http://www.megaupload.com/?d=IQG9225C](http://www.megaupload.com/?d=IQG9225C)

also i see you work in something script for max to load the models of golden axe but i dont see the link to download the script.

And i dont know if i forget read something line but i dont see the Golden Axe have .DAT files.
## Post #530
- Username: Roxas0Zero
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Fri Nov 25, 2011 11:04 pm
- Post datetime: 2011-11-25T15:29:01+00:00
- Post Title: Re: Señor Casaroja's Noesis

The contents of this post was deleted because of possible forum rules violation.
## Post #531
- Username: Rimbros
- Rank: ultra-veteran
- Number of posts: 495
- Joined date: Fri Jul 09, 2010 7:23 am
- Post datetime: 2011-11-25T21:25:00+00:00
- Post Title: Re: Señor Casaroja's Noesis

The contents of this post was deleted because of possible forum rules violation.
## Post #532
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-11-27T19:20:48+00:00
- Post Title: Re: Señor Casaroja's Noesis

can you add support for dead rising 1, it uses CAPCOM's MOD format. can't find good docs on the MOD format, so I'm not sure what changes there are. but they won't open up in noesis under DMC4/RE5 spec. hopefully the only difference is a slight change in the header?

[http://www.mediafire.com/?bdoub34q42u3tvi](http://www.mediafire.com/?bdoub34q42u3tvi)
## Post #533
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-11-29T16:58:49+00:00
- Post Title: Re: Señor Casaroja's Noesis

Alright I finally had time to look into noesis python API and quickly wrote up a script for a very simple format and the geometry came out (didn't look at referencing textures yet but it should be easy)

But when I look at the code I wrote and the format outline, it's pretty hard to follow along unless you're used to reading all those syntactical details.

I'm thinking of just writing a "user-friendly interface" that will call some of the functions available so I don't have to remember specific details. Hopefully that can be done without too much of a problem for noesis, or maybe there's a certain way I could implement this that would be compatible?
## Post #534
- Username: Roxas0Zero
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Fri Nov 25, 2011 11:04 pm
- Post datetime: 2011-11-30T02:16:49+00:00
- Post Title: Re: Señor Casaroja's Noesis

can someone answer my question please ?  
its right above this post by 2 posts
## Post #535
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2011-11-30T02:31:18+00:00
- Post Title: Re: Señor Casaroja's Noesis

Export to another format other than FBX. Then go to Blender and convert to FBX and see if that works. Maya and Max I think have trouble with his FBX and DAE exports. Last time I tried using Noesis to convert some FF models to DAE (which was like, uhm, yesterday), Maya went bonkers when I tried to import it lol. Polygons were strewn all over the place in a gigantic ball surrounding the model. Lightwave was more well-behaved and showed the model but it wouldn't import the UV map either.
## Post #536
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-11-30T08:25:20+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from howfie
>
> Export to another format other than FBX. Then go to Blender and convert to FBX and see if that works. Maya and Max I think have trouble with his FBX and DAE exports. Last time I tried using Noesis to convert some FF models to DAE (which was like, uhm, yesterday), Maya went bonkers when I tried to import it lol. Polygons were strewn all over the place in a gigantic ball surrounding the model. Lightwave was more well-behaved and showed the model but it wouldn't import the UV map either.
You shouldn't be trying to import the COLLADA DAE's with Autodesk's DAE importers. They are meant to be imported with something based on OpenCOLLADA. Autodesk's DAE implementation is actually pretty fucked and doesn't tend to correctly conform to any given schema.

FBX is another story. Both Maya and Max happily ingest FBX's exported by Noesis. Although Max has bugs with importing normals on skinned models (Autodesk has acknowledged this as a bug on their end and it will hopefully be fixed in the 2013 FBX SDK), and I've yet to find any issues importing Noesis-produced FBX files in Maya. Autodesk's free viewer also has no issues importing Noesis-exported FBX files, normals look fine, and now so do interpolated animations now that Noesis is adding an unroll filter to exported rotation curve nodes. Most likely, that dude's only issue is that he needs to set up his materials to use vertex colors for the diffuse. In Max that just means going through the materials and adding a diffuse map that points to the vertex color channels.
## Post #537
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-11-30T08:36:07+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from finale00
>
> Alright I finally had time to look into noesis python API and quickly wrote up a script for a very simple format and the geometry came out (didn't look at referencing textures yet but it should be easy)

But when I look at the code I wrote and the format outline, it's pretty hard to follow along unless you're used to reading all those syntactical details.

I'm thinking of just writing a "user-friendly interface" that will call some of the functions available so I don't have to remember specific details. Hopefully that can be done without too much of a problem for noesis, or maybe there's a certain way I could implement this that would be compatible?
Just don't modify inc_noesis.py and you can do whatever you want. You may need to update your wrapper layer often as I make changes/additions to the API, though. It depends on how you go about implementing it. I'm also not sure how much more user-friendly you're really going to get things, as the API is already pretty straightforward and allows a wide variety of methods to feed data in. (drawing into the Rich Procedural Geometry interface in buffered mode or immediate mode, or creating the objects like NoeMesh and filling them in yourself) I understand that writing an interface layer may make things easier to remember for you personally, though. I'd just expect it wouldn't be so helpful to anyone else since they'd have to remember just as many functions and methodologies to get the same things done, or they'd be artificially constrained by your interface if you don't expose all of the same options and parameters.

If you want to go ahead with it anyway, I'd suggest creating your own module(s) for your wrapper and utility functions (like inc_finaleslib) and importing from that as needed in your various format scripts.
## Post #538
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2011-11-30T11:26:36+00:00
- Post Title: Re: Señor Casaroja's Noesis

Cool, thanks. That sucks about Autodesk DAE.
## Post #539
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-01T06:36:17+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> 
I'd just expect it wouldn't be so helpful to anyone else since they'd have to remember just as many functions and methodologies to get the same things done, or they'd be artificially constrained by your interface if you don't expose all of the same options and parameters.

It's pretty much just reading bytes, unless I am missing something.

Like for example if I wanted to read a sequence of ints, looking at NoeBitStream there are methods for reading various types of data, but if I had say 20 ints it doesn't look like I can just say 

readInt(20)

So I'd have to resort to read("20i") or something, which can get somewhat awkward to look at when half the code is just read("ffffhhhhiii....")

Also, I see a readString method but maybe it would also be nice if I could just say readString(12) for a 12-char string. Or the read("20c") alternative I guess.
## Post #540
- Username: Acewell
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2011-12-01T12:02:52+00:00
- Post Title: Re: Señor Casaroja's Noesis

you can already do those functions easily in noesis.
[viewtopic.php?f=29&t=7760](http://forum.xentax.com/viewtopic.php?f=29&t=7760)
just google the pyton commands they all work in noesis.
to read a fixed length string
bs.readBytes(Length).decode("ASCII").rstrip("\0") 
you can read 20 ints in a row something like this
test = bs.read("i"*20)
## Post #541
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-12-01T17:19:54+00:00
- Post Title: Re: Señor Casaroja's Noesis

Yep, what chrrox said. There's also already a function in inc_noesis.py to do the decode/strip for you, with a default argument that assumes "ASCII" for the string formatting. So you can also just go
yourString = noeStrFromBytes(bs.readBytes(Length))
## Post #542
- Username: Rimbros
- Rank: ultra-veteran
- Number of posts: 495
- Joined date: Fri Jul 09, 2010 7:23 am
- Post datetime: 2011-12-01T19:06:27+00:00
- Post Title: Re: Señor Casaroja's Noesis

Ran online its a very good game, and have a long way in the MMORPG online games, any chance to integrate this to noesis and keep out the animations? models can be readed easy coz its .x format but animations are bin format (suspected its also .x animations). Also a system to inject back the model in game its tested and working.

I make a treadh with samples here
[viewtopic.php?f=16&t=7717](http://forum.xentax.com/viewtopic.php?f=16&t=7717)

And video with guide to inject back models here
[viewtopic.php?f=16&t=5697&hilit=RAN+ONLINE](http://forum.xentax.com/viewtopic.php?f=16&t=5697&hilit=RAN+ONLINE)
## Post #543
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-01T23:14:22+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from chrrox
>
> 
you can read 20 ints in a row something like this
test = bs.read("i"*20)

I moved away from struct arguments because I usually get confused which is which, and anyone that's reading the code would probably have to figure out which is which as well.

In that case, is there any particular use for the readLong readShort methods?
## Post #544
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-12-02T01:09:13+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from finale00
>
> I moved away from struct arguments because I usually get confused which is which, and anyone that's reading the code would probably have to figure out which is which as well.

In that case, is there any particular use for the readLong readShort methods?
Not sure what you mean by figure out which is which. A read call with a struct format string looks quite different from all of the other convenience readX (readShort, readInt, etc) methods. (which are indeed only there for convenience and speed - you don't have to use them if you don't want to)

I think readInt(20) would look a lot more ambiguous and confusing - first thing I would ask is, is it reading 20 bytes or 20 ints? It's not at all implied by the syntax, whereas "i"*20 demonstrates that it's 20 ints quite clearly.
## Post #545
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-03T23:02:45+00:00
- Post Title: Re: Señor Casaroja's Noesis

I think someone that is not too familiar with binary reading/writing would probably look at it and go "so...it's reading 20 integers?" But maybe I'm assuming too little of people that will actually be writing plugins.

I've never actually asked anyone what they would think when they see such a function name.
## Post #546
- Username: Roxas0Zero
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Fri Nov 25, 2011 11:04 pm
- Post datetime: 2011-12-05T15:15:54+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> howfie wrote:Export to another format other than FBX. Then go to Blender and convert to FBX and see if that works. Maya and Max I think have trouble with his FBX and DAE exports. Last time I tried using Noesis to convert some FF models to DAE (which was like, uhm, yesterday), Maya went bonkers when I tried to import it lol. Polygons were strewn all over the place in a gigantic ball surrounding the model. Lightwave was more well-behaved and showed the model but it wouldn't import the UV map either.
You shouldn't be trying to import the COLLADA DAE's with Autodesk's DAE importers. They are meant to be imported with something based on OpenCOLLADA. Autodesk's DAE implementation is actually pretty fucked and doesn't tend to correctly conform to any given schema.

FBX is another story. Both Maya and Max happily ingest FBX's exported by Noesis. Although Max has bugs with importing normals on skinned models (Autodesk has acknowledged this as a bug on their end and it will hopefully be fixed in the 2013 FBX SDK), and I've yet to find any issues importing Noesis-produced FBX files in Maya. Autodesk's free viewer also has no issues importing Noesis-exported FBX files, normals look fine, and now so do interpolated animations now that Noesis is adding an unroll filter to exported rotation curve nodes. Most likely, that dude's only issue is that he needs to set up his materials to use vertex colors for the diffuse. In Max that just means going through the materials and adding a diffuse map that points to the vertex color channels.

hello MrAdult , what i meant here actually is , the colors of the body in FF7 Models doesn't appear , i try Max and Blender with different file extensions or types 
and its the same problem.. can you tell me whats the problem here ?
do i have to do the texturing by my self ? or is there a way ? 
thank you sir
## Post #547
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-12-05T17:02:32+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Roxas0Zero
>
> the colors of the body in FF7 Models doesn't appear
As mentioned, you need to set the diffuse color to the vertex color channel(s) on the material(s) on the model. From memory, I believe there's a "Vertex paint" or "Vertex color" map type or some such that you can assign to the material's diffuse. Don't have Max on this machine to check.
## Post #548
- Username: Privateer
- Rank: veteran
- Number of posts: 104
- Joined date: Fri Oct 21, 2011 8:33 pm
- Post datetime: 2011-12-08T01:26:02+00:00
- Post Title: Re: Señor Casaroja's Noesis

Python is only able to import correct?
To export in a special format We need to code a dll correct?
## Post #549
- Username: Privateer
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-12-08T01:59:34+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Privateer
>
> Python is only able to import correct?
To export in a special format We need to code a dll correct?
Not sure why you would think that, you can also export with Python scripts. Image exporting is done in the Q2 WAL and SoF M32 scripts, and the __NPExample.txt script shows how to import and export to a full-featured model format, including skeletal animation and vertex morph animation. If you rename that file to have a .py extension instead of .txt, you'll see that you can now export to .noepy models in Noesis.
## Post #550
- Username: Privateer
- Rank: veteran
- Number of posts: 104
- Joined date: Fri Oct 21, 2011 8:33 pm
- Post datetime: 2011-12-09T23:00:54+00:00
- Post Title: Re: Señor Casaroja's Noesis

My bad for not reading the files completely.
Thank you for pointing that out as sometimes I get rushed between projects.
Great program by the way!
Regards!
## Post #551
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-11T05:00:03+00:00
- Post Title: Re: Señor Casaroja's Noesis

If there is no easy way to identify a file format other than by extension, should I bother making it a dedicated format module?
Also, how do I check a file's extension if I wanted to verify both header and extension?
## Post #552
- Username: Acewell
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2011-12-11T05:12:41+00:00
- Post Title: Re: Señor Casaroja's Noesis

look at the start of the file

```

from inc_noesis import *

import noesis

#rapi methods should only be used during handler callbacks
import rapi

#registerNoesisTypes is called by Noesis to allow the script to register formats.
#Do not implement this function in script files unless you want them to be dedicated format modules!
def registerNoesisTypes():
	handle = noesis.register("Virtual Fighter 5", ".bin")
	noesis.setHandlerTypeCheck(handle, noepyCheckType)
	noesis.setHandlerLoadModel(handle, noepyLoadModel) #see also noepyLoadModelRPG
	#noesis.setHandlerWriteModel(handle, noepyWriteModel)
	#noesis.setHandlerWriteAnim(handle, noepyWriteAnim)
	noesis.logPopup()
	#print("The log can be useful for catching debug prints from preview loads.\nBut don't leave it on when you release your script, or it will probably annoy people.")
	return 1

#check if it's this type based on the data
def noepyCheckType(data):
	bs = NoeBitStream(data)
	if bs.readInt() != 0x5062500 :
		return 0
	if len(data) < int(0x80):
 		return 0
	return 1   
```


this whole section here does that
extension
 handle = noesis.register("Virtual Fighter 5", ".bin")
file contents
#check if it's this type based on the data
def noepyCheckType(data):
	bs = NoeBitStream(data)
	if bs.readInt() != 0x5062500 :
		return 0
	if len(data) < int(0x80):
 		return 0
	return 1
## Post #553
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-11T05:27:14+00:00
- Post Title: Re: Señor Casaroja's Noesis

Oh I see, I got it.

When assigning materials, is it possible to first create meshes and then "go back" to assign materials?

For example when I'm parsing mesh section I get a matIndex that tells me which material it uses, but then the material section comes after all of the meshes have been defined.

That way I don't have to jump around the file.

I've thought of

1: storing extra arrays for the sake of keeping track of indices (doesn't seem too bad...)
2: parsing and storing absolutely everything before beginning to build meshes and stuff (waste of memory?)

But those are awkward work-arounds. Any better approaches?

EDIT: also have question about textures. The format I have right now stores the image data directly into the model. How should I deal with this?
## Post #554
- Username: finale00
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-12-12T17:34:51+00:00
- Post Title: Re: Señor Casaroja's Noesis

If you construct the meshes yourself (by creating the mesh/model/etc. objects and attaching them manually) you can do whatever you want in whatever order you want. If you are using the RPG interface then you must know the material at the time you commit triangles, just like OpenGL/Direct3D.

In actually drawing a model in any API, you must also know the material at the time you're putting the triangles on the screen. If you come across a model format that doesn't provide things in an order where this is natively possible, then the developers must not be drawing directly from the data in the order you're reading it. This means you can't expect to draw directly from that data either. I would look at how the data is stored, speculate (or if it's worth it, disassemble the original code to figure it out for sure) what the developers did to get that data into a format friendly to a state-based rendering architecture, and then I would render it into Noesis just like they rendered it into their graphics API. Or I might just shove whatever hacks in that I need to make it work with the less memory overhead.

Whether I would care about memory overhead would depend on whether their models are 2MB in memory or 200MB in memory. There's not much reason to care about memory overhead until you start getting into the 500MB+ range, where there's an actual danger of running out of process memory in 32-bit space. (once you consider concurrent preview+export and memory fragmentation) I'm pretty sure everyone has enough physical RAM nowadays to otherwise waste as much memory as you please. It's all going to get flushed anyway when the next file is loaded, after all. If you do start hitting memory ceilings you should probably consider supporting the format in a native DLL instead of in Python. Python, like most interpreted languages, imposes a pretty massive memory overhead, with a cost for every single object that goes through it. The most efficient way to represent model data in Python is as raw byte arrays, but trying to work with data in that form would pretty much defeat the entire point of using Python.

Edit: Oh, and when textures are stored in the model file, usually I load them right there and put them into the texture list attached to the model. (the same one materials go into) The Bullet Witch script does this, even though it's manually loading the textures from another package.
## Post #555
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-12T23:19:31+00:00
- Post Title: Re: Señor Casaroja's Noesis

> In actually drawing a model in any API, you must also know the material at the time you're putting the triangles on the screen.

Which part of the code does that?
So for example this is the load function that I use

```
   ctx = rapi.rpgCreateContext()

   #create custom parser and parse data
   parser = CrucisFatalFake_LMD(data)
   parser.parse_file()

   #now make model and stuff
   mdl = NoeModel(parser.meshList, None, None)
   mdlList.append(mdl)
   mdl.setModelMaterials(NoeModelMaterials(parser.texList, parser.matList))
   return 1

```


I'm guessing "putting triangles on the screen" is done internally and not something I have to worry too much about?
Or is it when I'm creating the mesh?

```
      
      mesh = NoeMesh(self.idxList, self.vertList, meshName, self.animList)
      mesh.uvs.extend(self.uvList)
      self.meshList.append(mesh)

```


Also, null-terminated strings.
I used to just read one char at a time, check if it's null, and then just add them to a string, but maybe there's a better way?

And is there a function that I can call that will parse a standard DDS file? Like maybe just take the one that's already used to load a DDS, but give me a texture object instead. Whatever I write to get a dds texture object probably isn't going to be as great lol
## Post #556
- Username: finale00
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-12-13T01:36:29+00:00
- Post Title: Re: Señor Casaroja's Noesis

I was just relating how games get model data into rendered triangles to how triangles are meant to be fed into the rpg interface in Noesis. The purpose of that interface is to provide a graphics API-like interface for feeding data, mainly because that's usually (but not always) the way data is already set up to be dealt with in game model formats. You don't have to actually worry about what Noesis does internally for previewing/converting data. But you can relate rpgCommitTriangles to a graphics API's draw call(s), and rpgSetMaterial is like binding the texture(s) before you "draw" the triangles.

> Reply from finale00
>
> Also, null-terminated strings.
I used to just read one char at a time, check if it's null, and then just add them to a string, but maybe there's a better way?

And is there a function that I can call that will parse a standard DDS file? Like maybe just take the one that's already used to load a DDS, but give me a texture object instead. Whatever I write to get a dds texture object probably isn't going to be as great lol
bs.readString will do that automatically for you in a non-unicode stream. Otherwise, if you don't have the string length or an offset table, checking for null characters 1 at a time is the right thing to do.

When you're creating NoeTexture objects, Noesis accepts DXT1/3/5 and some other image formats natively. So you can feed DXT-compressed data directly to it. As for loading DDS files entirely without even having to parse their headers, the best way to do that is through a function that won't be coming til the next version. (as chrrox has also requested it) It'll be called loadTexByHandler, and will allow you to load any image type that Noesis supports directly into a NoeTexture object. Hopefully I'll get around to working on the next release this week sometime, the todo list for it is getting pretty massive.
## Post #557
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-13T01:55:19+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hmm can you see what's wrong with my string-making function. I get this exception

"TypeError: sequence item 1: expected str instance, bytes found"

```
char = self.inFile.read_char() #self.inFile = StructReader
while char != "\x00":
	string = ''.join([string, char])
	char = self.inFile.read_char()
return string

```


Where read_char is defined (in StructReader)

```
        
	data = self.parser.read('c'*n) #self.parser = NoeBitStream(data)
	if n == 1:
		return data[0]
	return data

```


read_char returns a bytes type value, although I assumed it should be a string type since I'm using 'c'?
## Post #558
- Username: finale00
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-12-13T02:40:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

read is always going to return a bytearray, as is the standard behavior for all such reads in Python. And you can't treat bytearrays as strings directly. readString will give you back an actual string, though.

It should also be noted that you're probably going to see significantly decreased performance here over using the NoeBitStream's readString, because the NoeBitStream is implemented in native binary, where things like loops are much faster.
## Post #559
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-13T03:16:11+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hmm I'll have to re-think how I write the interface cause your methods would definitely be more efficient than whatever I write. Of course there is the possibility of just scrapping the interface entirely and just learn your API (lol), but I don't know I think writing "read('i')" everywhere seems kind of odd. 

Anyways I'm turning another plugin I wrote before into noesis plugin and ran into an issue with assigning face material.
Here, the model defines one mesh with all the verts and indices, but the material is defined for each face.

So like

face 1 uses mat 0
face 2 uses mat 0
face 3 uses mat 1
face 4 uses mat 0
etc

I previous used metasequoia for all of my viewing needs, and it defines which face uses what material so there is no problem there, but how would I deal with this kind of format in noesis?

I thought maybe I'll split the mesh into smaller pieces cause another format did this, but then that would most likely be duplicating vertices and would be quite troublesome to make sure all the faces refer to the right ones...
## Post #560
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2011-12-13T03:45:21+00:00
- Post Title: Re: Señor Casaroja's Noesis

you could jsut make a list equal to the face count of materials then as you loop through the faces have it assign the id.
## Post #561
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-13T04:09:49+00:00
- Post Title: Re: Señor Casaroja's Noesis

Oh, we can assign material to faces also. I thought it was just the whole mesh.
How do I assign to faces?
## Post #562
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-12-13T19:07:41+00:00
- Post Title: Re: Señor Casaroja's Noesis

rpgSetMaterial before each CommitTriangles and/or immBegin/immEnd. Typically when something has per-triangle materials I'll draw 1 triangle at a time with immBegin/immEnd while making a rpgSetMaterial call for each triangle.
## Post #563
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-13T20:23:18+00:00
- Post Title: Re: Señor Casaroja's Noesis

I'll try writing a plugin using the RPG interface. It actually looks easier than just creating meshes on my own since it seems more flexible.

Btw can you add support for the "xrange" function in a later release? I heard it was more efficient than the regular "range".

EDIT: Hmm something seems off again. I started making rapi function calls but whenever I try to iterate over an integer, it says

"RuntimeError: Type is not a list"

This occurs when I try to print a number (eg: numVerts) or when I try to do a loop (eg: range(numVerts))
## Post #564
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-12-13T22:14:05+00:00
- Post Title: Re: Señor Casaroja's Noesis

xrange was deprecated in Python 3. Of course you can't iterate over an int, haha. If you want to loop n times, use range(0, n). Also, printing numbers (e.g. print(numVerts)) works just fine, as does printing lists, so something else is wrong with your syntax and/or logic. Noesis doesn't add or remove anything to/from the standard Python 3 implementation, all it does is provide extra libraries and interfaces.
## Post #565
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-13T23:55:15+00:00
- Post Title: Re: Señor Casaroja's Noesis

Actually, range(5) is the same as range(0, 5). And yes I just remembered that in 3.x range is now the 2.x version of xrange.

This plugin already worked before and I am just modifying one or two functions to use the RPG interface.
It doesn't work when I switch to rapi calls though.

Then again maybe I'm just calling the functions wrong.
Here are two methods that are causing the problems:

```
      
      self.vertList = self.inFile.inFile.readBytes(numVerts * 48)
      rapi.rpgBindPositionBufferOfs(self.vertList, noesis.RPGEODATA_FLOAT, 48, 0)
      rapi.rpgBindNormalBuffer(self.vertList, noesis.RPGEODATA_FLOAT, 48, 28)
      rapi.rpgBindUV1Buffer(self.vertList, noesis.RPGEODATA_FLOAT, 48, 40)

def parse_faces(self, meshName, numFaces):
      
      self.faceList = self.inFile.inFile.readBytes(numFaces*2)
      rapi.rpgCommitTriangles(self.faceList, noesis.RPGEODATA_USHORT, numFaces, noesis.RPGEO_TRIANGLE, 1)
```


EDIT: oh, and I just noticed that I am still directly creating a mesh object. After commenting out the line I don't get the odd type issue anymore.
## Post #566
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-12-14T00:05:32+00:00
- Post Title: Re: Señor Casaroja's Noesis

Yes, I was trying to demonstrate to you that an int is not itself an iterable. You need to use range.

Presumably numFaces in your code is inappropriately named and actually reflects the number of indices, since otherwise numFaces*2 is wrong. Other than that, you are not using "Ofs" versions of the functions to bind your normal and UV buffers, which is going to give you the wrong buffer offsets for those components.
## Post #567
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-14T00:12:45+00:00
- Post Title: Re: Señor Casaroja's Noesis

Yes, numFaces is indeed the number of indices (poorly updated code copied from existing plugins)

I took out one of the methods that was explicitly creating a Mesh object and the problem disappeared.
The model also loaded correctly as a result.

It seems like I can't mix up using rapi with directly creating stuff.

Anyways with directly creating a mesh I could specify the position vectors as (vx, vy, vz) or (vx, vz, vy), or maybe (vx*-1, vy, vz) when I'm creating the lists. 

How would I go about specifying the order that the xyz coords are given when using the RPGBindPositionBuffer?
## Post #568
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-12-14T00:19:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

Sure you can. You just have to keep in mind that rpgConstructModel gives you an actual model object so you'd need to append your meshes to that same model if you want to combine methods. But combining methods would be rather silly and needlessly sloppy.

You need to use immediate mode drawing if you want to procedurally generate a model using Python native types. That mode is catered to formats where it's necessary to fuck about with the data and perform operations/conversions before giving it to Noesis. The buffered mode is meant to take raw byte arrays, usually directly read from the file. (which is why you can also set the endian mode for the RPG interface) You could also repack your data to flat bytes/bytearrays to bind it, but again that would be silly.

I would venture a guess that you don't need to be reading your data into float lists at all, and you can just use readBytes over your vertex buffers and bind the byte arrays directly. This is far more efficient in terms of both CPU usage and memory usage.

Edit: Oh, and in most cases where you'd want to screw around with your position order, it's appropriate to just apply a transform matrix instead. (rpgSetTransform)
## Post #569
- Username: pixellegolas
- Rank: ultra-veteran
- Number of posts: 423
- Joined date: Tue Aug 12, 2008 6:30 am
- Post datetime: 2011-12-14T18:49:26+00:00
- Post Title: Re: Señor Casaroja's Noesis

How hard is it to translate this information about dragon nest into noesis?

[http://www.gpbeta.com/post/develop/drag ... converter/](http://www.gpbeta.com/post/develop/dragon-nest-msh-converter/)

I have promised chrrox to try to learn soon but I am struggling...alot  What do you say about this source?
## Post #570
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-12-15T02:50:04+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from pixellegolas
>
> How hard is it to translate this information about dragon nest into noesis?

http://www.gpbeta.com/post/develop/drag ... converter/

I have promised chrrox to try to learn soon but I am struggling...alot  What do you say about this source?
Looks like a simple format, good for your first Noesis scripting experience!
## Post #571
- Username: finale00
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-12-15T02:53:11+00:00
- Post Title: Re: Señor Casaroja's Noesis

I finally sat down and did all the shit on my [Noesis 3.73](http://oasis.xentax.com/index.php?content=downloads) todo list at once.

```
 -3.73 - rapi.createProceduralAnim is now available in Python, with a new NoeProceduralAnim object for specifying procedural animation parts. See the commented out example in the Bullet Witch script.
 -3.73 - Added a readline method to the NoeBitStream at the request of chrrox.
 -3.73 - Exposed and tested loadTexByHandler in Python. Example use:
	def proxyLoadRGBA(data, texList):
		f = open("c:\\other\\somefile.jpg", "rb")
		tex = rapi.loadTexByHandler(f.read(), ".jpg")
		f.close()
		if tex is not None:
			texList.append(tex)
			return 1
		return 0
 -3.73 - Now resetting the bit pointer in the stream container when doing a byte-level seek.
 -3.73 - Updated BVH plugin to use the new bone name string limit.
 -3.73 - Fixed a bug causing validateListType to sometimes raise its exception in the wrong place.
 -3.73 - Added support for ATI1 (BC4) DXT compression. ATI2/BC5 has already been supported for a while.
 -3.73 - Added support for Dead Rising 1 360 .tex files.
 -3.73 - Fixed MVC3 360 spec maps not being handled correctly.
 -3.73 - Added support for 360 DMC4/RE5/LP .tex files. PS3 files are not supported.
 -3.73 - Added support for 360 DMC/RE5 .mod files. PS3 files are untested and probably don't work.
 -3.73 - Added support for 360 LP/DR1 .mod files. Not well-tested, but works on the files I've tried.
 -3.73 - Fixed certain material properties not being obeyed in the preview render with externally-loaded textures.
 -3.73 - Fixed a potential crash when loading external textures without extensions on a wide-character path.
```

No new formats unless you count Dead Rising 1 and console versions of a couple of the Capcom .mod formats. I'll probably finally be tackling FF12 shortly, if I can get motivated enough to sit down and start digging through it.
## Post #572
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-12-15T03:26:38+00:00
- Post Title: Re: Señor Casaroja's Noesis

Also, now that more people are making plugins and scripts for Noesis, I'd be interested in seeing them all tracked and provided in a central place. That's kind of what the plugins section of the Noesis site is for, but because I can tend to drop off the face of the earth for a week or 2 at a time occasionally, I'd really rather have someone else managing a plugin collective in the form of a thread here in the forums or something. Let me know if you're interested in taking responsibility and I can help you get everything together that's been released so far. (which includes various native plugins from revelation, some scripts from chrrox, the OGRE native plugin, some scripts from finale00, and...I think that may be it? I'm not sure honestly)
## Post #573
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-15T06:28:38+00:00
- Post Title: Re: Señor Casaroja's Noesis

I like the new texture reading method. Made everything so much easier.
Now to make sure this is how things work to apply materials properly (cause I still have to figure out how to parse the data in such a way that I would have material information available to me before drawing triangles...):

1: parse materials and assign texture names to material
2: call rpgSetMaterial(matName)
3: call rpgCommitTriangles so that they will be created with the specified material

And then it should automatically know, from the material name, which texture should be applied?

For plugins...a thread would work, where people can post their plugins and someone just updates the first post every once in a while.
Or maybe making a page on the wiki to give it more exposure.

When I was writing parsers for my python scripts I thought of directly importing them into Blender since both were conveniently written in python and required little effort to accomplish (besides figuring out their API, and then just copy pasting it into their plugins folder). In the end it sort of worked but I couldn't figure out the API so all I got were texture-less triangles.

Was wondering whether it would be possible to create some sort of "noesis" plugin for python such that noesis would be used for all the parsing and stuff (automatically provides support for dozens of formats, and additional plugins would likely be written for noesis rather than a blender plugin), and then just send the data to blender. Don't know whether there is any advantage to doing something like that over just exporting it and then importing it, but then more people would probably know about noesis.

Even a "ya it could be done, just do something like this" and maybe someone familiar with blender will take up the challenge.
## Post #574
- Username: fantaseb
- Rank: Banned
- Number of posts: 3
- Joined date: Fri Dec 16, 2011 1:31 am
- Post datetime: 2011-12-15T17:36:24+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hello, great editor, but my question - I am trying to open Red Dead Redemptions .RPF X360 Version or PS3 version, and I can't seem to open it I have the latest version of Noesis, and it does not display any .RPF extension's, and there is no plugin for it either. can someone please help me with this, or even upload the "rage_engine.dll" so that I can view the contents in the .rpf thanks. Anyone who knows anything about this feel free to comment and help, cheers.
## Post #575
- Username: lUIGUIPIETRO
- Rank: veteran
- Number of posts: 87
- Joined date: Sat Mar 13, 2010 10:59 pm
- Post datetime: 2011-12-15T17:57:16+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from fantaseb
>
> Hello, great editor, but my question - I am trying to open Red Dead Redemptions .RPF X360 Version or PS3 version, and I can't seem to open it I have the latest version of Noesis, and it does not display any .RPF extension's, and there is no plugin for it either. can someone please help me with this, or even upload the "rage_engine.dll" so that I can view the contents in the .rpf thanks. Anyone who knows anything about this feel free to comment and help, cheers.
[viewtopic.php?p=61224#p61224](http://forum.xentax.com/viewtopic.php?p=61224#p61224)
## Post #576
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-12-15T18:51:26+00:00
- Post Title: Re: Señor Casaroja's Noesis

Well, Noesis gives you the ability to not only write Python scripts but also create native plugins, so you can really do whatever the hell you want there. You could even go so far as writing a plugin that uses some form of IPC (I'd go with sockets) to pipe data directly over to blender upon export or something. Although you could just as easily make a custom format featuring every piece of data Noesis supports and write a Blender importer for that.

Regarding materials, the only place order matters is in setting the material name with rpgSetMaterial before you actually commit triangles with the rpg interface. It doesn't matter if you create materials before or after that, so long as they end up attached to the final model at some point. Noesis will load textures based on the material's texture name(s) if possible, or it will try to load textures under the name of the material itself if you haven't given it any texture map names.
## Post #577
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-15T20:15:51+00:00
- Post Title: Re: Señor Casaroja's Noesis

OH, so something like this would work just as well

1: read indices into buffer
2: read material name
3: rpgSetMaterial
4: commit triangles
5: parse material section and assign texture name to material

As long as I have a name it should be fine.

Actually, if my material list is just going to be [Mat0, Mat1, Mat2, ...] would I be able to use indices to reference them when setting material? But more importantly, is there any advantage of disadvantage to doing things like that.
## Post #578
- Username: fantaseb
- Rank: Banned
- Number of posts: 3
- Joined date: Fri Dec 16, 2011 1:31 am
- Post datetime: 2011-12-16T02:39:47+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from lUIGUIPIETRO
>
> fantaseb wrote:Hello, great editor, but my question - I am trying to open Red Dead Redemptions .RPF X360 Version or PS3 version, and I can't seem to open it I have the latest version of Noesis, and it does not display any .RPF extension's, and there is no plugin for it either. can someone please help me with this, or even upload the "rage_engine.dll" so that I can view the contents in the .rpf thanks. Anyone who knows anything about this feel free to comment and help, cheers.
viewtopic.php?p=61224#p61224

Placed that in the Plugin Dir, and I still can't view contents in X360 got a quick tut?
## Post #579
- Username: lUIGUIPIETRO
- Rank: veteran
- Number of posts: 87
- Joined date: Sat Mar 13, 2010 10:59 pm
- Post datetime: 2011-12-16T05:12:24+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from fantaseb
>
> 
Placed that in the Plugin Dir, and I still can't view contents in X360 got a quick tut?
1º: You need to extract the RPF of a game ISO. You can use Xbox Backup Creator v2.7.0.265 or similar. This program can create backup from your original game, hope it's not illegal to write this.
2º: In Noesis, the plugin go in this folder [http://imageshack.us/f/535/noesis0.png/](http://imageshack.us/f/535/noesis0.png/) I use the 36.2 version but all serve.
3ª:I associative files: [http://imageshack.us/f/824/noesis1.png/](http://imageshack.us/f/824/noesis1.png/) and [http://imageshack.us/f/842/noesis2.png/](http://imageshack.us/f/842/noesis2.png/)
4ª:and works perfectly [http://imageshack.us/f/585/noesis3.png/](http://imageshack.us/f/585/noesis3.png/)
When you try to open the RPF, the program tells you that I can not open but you can export. Give OK and you can go for a walk because it takes several hours, ...
Once unpacked, you can now navigate through folders and be watching the terrain files, models and textures. There are still unpacking things but I think Revelation continues to work on them. When you extract the textures, you have to do it in TGA format. It seems that the textures are packed and can only be removed if you export all TGA format. I hope you understand me because I use Google translator, ...
## Post #580
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-16T09:55:02+00:00
- Post Title: Re: Señor Casaroja's Noesis

Think I found a type issue.
I'm doing something like

```
numFace = n / 6
for i in range(numFace)
    ...

```


But then it says 

"TypeError: 'float' object cannot be interpreted as an integer"

When I printed out type(numFace) it was int though since python interpreted it as integer division.

Now the odd thing is if I write

```

```


The same piece of code then works o.O

Oh, and here is a bmp file that I can load using paint and other common tools, but noesis doesn't seem to recognize it.
EDIT: lol wait does noesis support reading bmp?
[a_fuku_03.7z](https://xentaxbackup.github.io/file/4900_a_fuku_03.7z)
## Post #581
- Username: Acewell
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2011-12-16T10:39:05+00:00
- Post Title: Re: Señor Casaroja's Noesis

When you divide in python it returns a flaot
faces / 4 is a float
if you do
faces // 4 its an int
## Post #582
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-16T20:33:30+00:00
- Post Title: Re: Señor Casaroja's Noesis

lol they really changed a lot in 3.x...
I have to read the documentation.

I have some model formats stored in plain XML.
Does noesis come with python's XML module?
## Post #583
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-12-16T21:30:37+00:00
- Post Title: Re: Señor Casaroja's Noesis

The contents of this post was deleted because of possible forum rules violation.
## Post #584
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-17T01:48:28+00:00
- Post Title: Re: Señor Casaroja's Noesis

I've come to realize that the way I'm doing my interface is wrong; the NoeBitStream object should be directly accessible and additional methods written only to make certain things "easier" (meaning, for myself), rather than completely hiding it away. The only reason for that was in case you changed the API itself (for NoeBitStream), which probably won't happen very often (if at all) anyways. So now I'm using the API as it should be used lol

But while changing all of the "read_long" and "read_float" methods to just call read normally, I found myself typing this a lot 

```
numVerts = self.inFile.read('L')[0]

```


Can you make it so that if I am only reading one value, that it just returns that value rather than a tuple containing a single value?

For now I've changed the read method to check the size of the tuple before returning the data since it seems like the easiest way to do it, so it is not a priority item.
## Post #585
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2011-12-17T02:50:57+00:00
- Post Title: Re: Señor Casaroja's Noesis

just make a new function that reads one value and return tuple[0]
## Post #586
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-17T02:56:03+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from chrrox
>
> just make a new function that reads one value and return tuple[0]

I'm only concerned that I would be making a ton of extra calls in between to go through the custom read method which would slow things down for anyone that uses it. Especially since I tend to read a lot of individual values rather than stringing them all together. It would be no different from the read_long and read_float methods.

Regarding models that are broken up into many small pieces across multiple files (like in some MMORPG's): I would like to be able to load them all into one scene. Is this possible? The GUI allows me to select only one file at a time.
## Post #587
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-12-17T03:02:08+00:00
- Post Title: Re: Señor Casaroja's Noesis

Use bs.read("i"*n) to get multiple ints in a nice tuple, use bs.readInt and so on if you just want to do a quick type read for a single element and never deal with a tuple or list. This is the fastest (computationally) way to read data and it's quite readable in my opinion.

To have multiple models visible you can either read them all into the same model container, or use the preview option to draw all models at once. In chrrox's yukes script he handles reading all of the yobj files in a single folder and putting them into a single model as well. I don't think he's released that yet though.

Satoh: Check out chrrox's Noesis tutorials over in the tutorial section. He demonstrates pretty much everything you need to know to get up and running, including how to visualize point data.
## Post #588
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-17T04:23:48+00:00
- Post Title: Re: Señor Casaroja's Noesis

I have managed to assign materials to faces correctly after doing some math and figuring out how to cut up the index buffer.
The textures are stored in the local directory, but for whatever reason I want to create a texList with all of the texture objects (I guess for exporting).

So I started by opening the file...

```
...

```


And it gives me an IOError telling me that the specified file does not exist.
Not sure what I'm missing.
## Post #589
- Username: rexil
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2011-12-17T04:37:05+00:00
- Post Title: Re: Señor Casaroja's Noesis

just look at bullet witch it opens external files.

final fantasy 13-2 xbox 360 bms script.
this is the best i can do without having a decrypted file table.

```
log MEMORY_FILE 0 0
put NAME string MEMORY_FILE
get size asize MEMORY_FILE
math size - 4
goto size MEMORY_FILE
getdstring EXT2 4 MEMORY_FILE
if EXT2 == "360"
set EXT "x360"
else
set EXT ps3
endif

comtype unzip_dynamic
for
findloc START string \x78\xDA
goto START
findloc END string 

\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00
set SIZE end
math SIZE - START
goto END
if SIZE > 0x40
clog MEMORY_FILE START SIZE SIZE
getdstring SEDB 8 MEMORY_FILE
if SEDB == "SEDBRES "
goto 0x30 MEMORY_FILE
get COUNT long MEMORY_FILE
math COUNT * 16
math COUNT + 0x40
goto COUNT MEMORY_FILE
getdstring TRB 7 MEMORY_FILE
if TRB == "SEDBtxb"
string START + .
string START + EXT
get SIZE asize MEMORY_FILE
set NAME START
string NAME + .trb
log NAME 0 SIZE MEMORY_FILE
set NAME START
string NAME + .imgb
clog NAME OFFSET ZSIZE2 SIZE2
endif
endif
if SEDB != "SEDBRES "
set OFFSET START
set ZSIZE2 SIZE
get SIZE2 asize MEMORY_FILE
endif
endif
next

```


you can also run offzip and hunt of the texture files in the game.
## Post #590
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-12-17T22:45:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

How would I go about dealing with a mandatory parameter for Noesis? I'm trying to make a generic file splitter that allows the user to input the 'split at this marker' parameter. For instance I'm writing it to cut ADPCM files apart, they all always end in 0x00 07 77 77 77 77 77 77 77 77 77 77 77 77 77 77...

I want the ability to tell noesis to read until it sees this, write everything to a file, clear the read buffer, and begin from the current offset until the next marker, etc. but I want the marker to be user specified... I know I could use a parameter of some type for the batch processing, but how would I handle it for single files?
## Post #591
- Username: Satoh
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-12-18T01:40:49+00:00
- Post Title: Re: Señor Casaroja's Noesis

Since it's a Python script, the simplest thing would be to simply make it a variable defined at the top of the file and let people edit it. It's not like opening a file in notepad.exe takes any real effort.

Otherwise, you could check for a commandline parameter, and use it if it exists. If it doesn't exist, pop up a window to prompt them for a value. This would be trivial in a native DLL, but since you're in Python, you'd have to try to get one of the Python windowing systems to work with Noesis. (you're on your own there)
## Post #592
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-18T09:30:31+00:00
- Post Title: Re: Señor Casaroja's Noesis

I have a format with vertex structure that looks like it's parsed like this

```
read short unk1
if unk1 > 0
   read short unk2
   if unk2 > 0
      for i = 1 to unk1
         read int boneIdx
         read floatboneWeight
   else
       read float ?

```


And the normals + UV are stored with the indices.

1: Do you think there is most likely a way to determine the size of each vertex? (couldn't find one, no unknown data that is seemingly relevant, other files do not seem relevant either)
2: If the size of each vertex is not fixed, can I still use the RPG interface to construct the model?
3: There are likely more or less UV's and normals than there are vertices since it's at each index. How would I handle this?
## Post #593
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-12-18T15:09:02+00:00
- Post Title: Re: Señor Casaroja's Noesis

Ok, I never expected I'd have to turn sound files into RGBA32 images in order to get noesis to let me read them... maybe I just did something stupid though... I did start on it at 5AM after being up all night... but regardless, I made it work... Now to start converting them to WAVs... or not "now" so much as when I come out of my coma...
## Post #594
- Username: finale00
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-12-18T20:26:01+00:00
- Post Title: Re: Señor Casaroja's Noesis

finale00: From the sound of it, you would be best off using the immBegin/immEnd/imm* functions to feed the data in. That mode, as mentioned a little while ago, is intended for formats where things like materials and vertex components tend to vary on a per-triangle basis. I tend to end up using it a lot on old PSX/PS2 games where storing components on a per-triangle basis was somewhat common.

Satoh: Good that you got it working, although you might consider using the archive handler instead of the image handler when you're doing generic data processing.
## Post #595
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-12-19T23:06:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

I would have if I better understood how to handle the parameters it requires... for instance I was working with an unknown length attribute.. or something I couldn't pass to the function anyway... I don't remember now... I was very tired. When I modularize the script I may look into it.

EDIT:
Ok, forgive me, I looked over the documentation, but I couldn't find it...

How do I make noesis render vertices in point render mode? IE: How do I make noesis draw dots based on my loaded data? Does it happen automatically if I don't supply triangle data or something??
## Post #596
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-12-19T23:11:31+00:00
- Post Title: Re: Señor Casaroja's Noesis

[viewtopic.php?f=29&t=7760](http://forum.xentax.com/viewtopic.php?f=29&t=7760)
## Post #597
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-12-19T23:23:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

FFF.... Sorry I remember reading that... even bookmarking it... why did I forget...

Oh well, thanks for the link.
## Post #598
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-20T05:03:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

Is there a cleaner way to build transformation matrices?

Like for example I want to multiply x-coord by -1 so I would say

```
rapi.rpgSetTransform(transform)

```
## Post #599
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-12-20T06:10:02+00:00
- Post Title: Re: Señor Casaroja's Noesis

Noesis doesn't seem to like displaying Shift-JIS characters... I'm not sure if it's because I'm doing something wrong or if it's a noesis bug... but this

```
print(file_comps)
```


Causes Noesis to crash when there are japanese characters in the string... Oddly it doesn't seem to crash if I don't print it, but at the same time, then I have no idea whether it decoded properly...(It happens when using shift_jis, shift_jis_2004, and shift_jisx0213 alike)

It's not a total kill error or anything... But it does make me a little irksome... I suppose I don't need the Jp portion of the object names I'm grabbing though, since they're tagged with things like MAT_, MDL_, etc. so long as they are parsed. 

Anyway, figured I'd mention it...
## Post #600
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-20T07:01:32+00:00
- Post Title: Re: Señor Casaroja's Noesis

I would also like clarification on non-ascii names, as the next format I have on my list has all chinese texNames and meshNames and matNames so unless people would like to rename all their files (like people suggest for blender scripts), I'd probably want to be able to parse unicode names correctly.

Then again, figuring out the encoding used is probably a whole different story (although it would be a matter of looking at the common encodings and then just trying them out I guess).
## Post #601
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-12-20T07:59:07+00:00
- Post Title: Re: Señor Casaroja's Noesis

Are you using '.decode("UTF8")' or a similar command?

Are you certain they are Unicode names? I made that mistake when I was trying to parse the text I just mentioned having issues with... It kept giving me errors like "Unknown continuation byte '0xCE' " That's when I made a quick HTML page with those bytes in it and played with the encoding in firefox until I got it right. Turns out it was shift_JIS, not Unicode.

If you're getting errors like that when parsing, try using another encoding. If it's only when you print... like mine was nearer the end... just don't print it until MrAdults gets us word on it. My thoughts/suggestions.
## Post #602
- Username: prototypesky
- Rank: beginner
- Number of posts: 24
- Joined date: Tue Oct 07, 2008 5:10 am
- Post datetime: 2011-12-20T18:25:10+00:00
- Post Title: Re: Señor Casaroja's Noesis

Was trying the view the persona 3 portable gmo models and noticed that some of the bones were not rotated properly is there a way to correct this using the data viewer?
## Post #603
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-20T18:48:37+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Satoh
>
> Are you using '.decode("UTF8")' or a similar command?

Are you certain they are Unicode names? I made that mistake when I was trying to parse the text I just mentioned having issues with... It kept giving me errors like "Unknown continuation byte '0xCE' " That's when I made a quick HTML page with those bytes in it and played with the encoding in firefox until I got it right. Turns out it was shift_JIS, not Unicode.

If you're getting errors like that when parsing, try using another encoding. If it's only when you print... like mine was nearer the end... just don't print it until MrAdults gets us word on it. My thoughts/suggestions.

Oh, that's an easier way to check encoding lol
I just checked and it's not unicode but shift-JIS so I parsed my file in shift-JIS and it took the name and it even printed it out.

I use noeStrFromBytes(data, encoding)
## Post #604
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-12-20T21:40:27+00:00
- Post Title: Re: Señor Casaroja's Noesis

Yeah, Noesis won't support wide-character strings for console output, mesh names, or material names. It will support them on paths. This could conceivably be changed, but that latter 2 changes would require new interface functions to avoid breaking old native plugins that feed strings in as multibyte, so I don't expect it will ever happen unless you feel very passionately about preserving widechar names in your materials for some reason. (I've also never personally worked on any games that use unicode mesh/material names, but then I don't tend to go supporting Chinese MMO's or whatever) Maybe there's a Python romanization library you could use. 

prototypesky: Send a sample, please.
## Post #605
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-20T22:31:28+00:00
- Post Title: Re: Señor Casaroja's Noesis

I was wondering if it would be possible to select multiple models in noesis and then load all of them into the same scene? That way the user won't be limited to whatever file loading a plugin might be doing.

All of the plugins I've seen involved appending a NoeModel to some mdlList that was provided for us so it probably won't affect how we write our stuff.
## Post #606
- Username: Rimbros
- Rank: ultra-veteran
- Number of posts: 495
- Joined date: Fri Jul 09, 2010 7:23 am
- Post datetime: 2011-12-20T23:08:35+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from finale00
>
> I was wondering if it would be possible to select multiple models in noesis and then load all of them into the same scene? That way the user won't be limited to whatever file loading a plugin might be doing.

All of the plugins I've seen involved appending a NoeModel to some mdlList that was provided for us so it probably won't affect how we write our stuff.

do this i think need changue the base position randomly from X=0 Y=0 Z=0, to multiple values by each item, interesting see this but wath its the utility of this way?. only if you want see the models in diferent places in the same scene, but if you only want load 30 items and all go to the default axis position in the center of the screen, then you cant see wath models you are loading if you put more than 2 or 3 models.
## Post #607
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-12-21T00:10:35+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Rimbros
>
> finale00 wrote:I was wondering if it would be possible to select multiple models in noesis and then load all of them into the same scene? That way the user won't be limited to whatever file loading a plugin might be doing.

All of the plugins I've seen involved appending a NoeModel to some mdlList that was provided for us so it probably won't affect how we write our stuff.

do this i think need changue the base position randomly from X=0 Y=0 Z=0, to multiple values by each item, interesting see this but wath its the utility of this way?. only if you want see the models in diferent places in the same scene, but if you only want load 30 items and all go to the default axis position in the center of the screen, then you cant see wath models you are loading if you put more than 2 or 3 models.

Noesis can load multiple models from a single file already, there's a way to toggle through them built into it. My current plugin I'm working on uses this function due to the numerous models that are stored in the files I'm decoding.

While I think opening multiple files is an interesting concept, and -possibly- useful... Wouldn't it be possible to make a plugin to keep models in memory somehow when loading another file?
## Post #608
- Username: prototypesky
- Rank: beginner
- Number of posts: 24
- Joined date: Tue Oct 07, 2008 5:10 am
- Post datetime: 2011-12-21T00:21:05+00:00
- Post Title: Re: Señor Casaroja's Noesis

Here is a sample in both of these case where some of the right side bones have the wrong rotation.
Also for some reason it fails to parse the tm2 textures even though I am able to rip and view them outside of neosis.

Thanks
[p3pgmo.rar](https://xentaxbackup.github.io/file/4922_p3pgmo.rar)
## Post #609
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-21T00:40:20+00:00
- Post Title: Re: Señor Casaroja's Noesis

Ugh, noesis keeps crashing on me with some application error lol

"Faulting application noesis.exe, version 1.0.0.1, faulting module ialmgdev.dll, version 6.14.10.3943, fault address 0x00021114."

Not sure why this happens though.

> Reply from Rimbros
>
> 
do this i think need changue the base position randomly from X=0 Y=0 Z=0, to multiple values by each item, interesting see this but wath its the utility of this way?. only if you want see the models in diferent places in the same scene, but if you only want load 30 items and all go to the default axis position in the center of the screen, then you cant see wath models you are loading if you put more than 2 or 3 models.

It's mainly for models split up into separate pieces, but I haven't figured out exactly which pieces I actually need (cause all of the models are stored in one folder and so there are hundreds of pieces lol)

> Noesis can load multiple models from a single file already, there's a way to toggle through them built into it. My current plugin I'm working on uses this function due to the numerous models that are stored in the files I'm decoding.

Do you just append a bunch of (separate) NoeMesh objects to the same list and then push the left or right key?
## Post #610
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-12-21T00:47:33+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from prototypesky
>
> Was trying the view the persona 3 portable gmo models and noticed that some of the bones were not rotated properly is there a way to correct this using the data viewer?

I missed this post before, but yes you can rotate bones in the Data Viewer.
Look under Model> Bones> [bone name]> Transform Offset> Angle> change the values
you must also set Model> Bones> [bone name]> Transform Offset> Enabled = 1
Then you will see your changes to the rotation of the bone, hope it helps.

I still can't figure out TM2 structure so I got nothing on that.

> Noesis can load multiple models from a single file already, there's a way to toggle through them built into it. My current plugin I'm working on uses this function due to the numerous models that are stored in the files I'm decoding.
>
> 
>
> Do you just append a bunch of (separate) NoeMesh objects to the same list and then push the left or right key?

A new button appears when multiple models are loaded at once. It looks like 3 little gray dudes standing next to eachother. Each model has its own list of meshes.

To load multiple models currently, they all have to be a part of the same file, and the import plugin has to know to look for more than one model in the file. I made my plugin do a generic search for headers and -try- to parse each one as a model... but the files I'm working with are... stupidly weird.
## Post #611
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-21T00:56:12+00:00
- Post Title: Re: Señor Casaroja's Noesis

> they all have to be a part of the same file

MrAdults said chrrox loaded a bunch of models from a folder, so I think as long as you are able to create a bitstream you should be fine.

So if it is a matter of just appending them all to the list before returning from the LoadModel function then all I have to do is modify my LoadModel function to say

```
def noepyLoadModel(data, mdlList):
    '''Load the model'''

    #myList = [a list of files]
    #for each file, open it and run through the loading code, then append to list.
    ctx = rapi.rpgCreateContext()
    parser = ZuOnline_LTB(data)
    parser.parse_file()
    mdl = rapi.rpgConstructModel()
    mdl.setModelMaterials(NoeModelMaterials(parser.texList, parser.matList))
    mdlList.append(mdl)
    return 1

```


Then again I haven't had much luck trying to open a file lol

I see examples like

```
with open(fileName, "rb") as f:
```


Which is standard file opening...but I always get file doesn't exist error.
## Post #612
- Username: pro spy
- Rank: beginner
- Number of posts: 32
- Joined date: Mon Sep 12, 2011 11:36 am
- Post datetime: 2011-12-21T01:25:27+00:00
- Post Title: Re: Señor Casaroja's Noesis

is it possible to export .xml and .tr files by using Noesis  !?
## Post #613
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-12-21T01:41:25+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from pro spy
>
> is it possible to export .xml and .tr files by using Noesis  !?
If you have a plugin for it, yes. I'm not certain there is one yet though.
## Post #614
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-12-21T02:50:18+00:00
- Post Title: Re: Señor Casaroja's Noesis

If you wanted, you could also prompt for subsequent files and keep prompting until the user hits "cancel" using that load paired file function. (you need to use the one that doesn't raise an exception on cancel, though, or just use your own try except) You would have to do your own transforms for each model if you don't want them centered at 0, though this could again just be done by setting the rpg transform matrix. Oh, and I forgot to address before, no, that's the right syntax for making a NoeMat43. Although you could probably break it up into multiple lines and put some spacing in your bracketing or something to make it more readable.

A crash in ialmgdev.dll is rather unusual, as that is specific to Intel graphics hardware. At worst, a crash actually caused by Noesis doing something naughty should probably be in the actual opengl32.dll implementation. So I can't really diagnose it without a full stack trace, and I'm guessing you wouldn't get a nice automated trace even in a debugger because you're off in Intel module land. Only thing I can try diagnosing remotely is circumstance, so... does it happen randomly during running, or on startup, or on shutdown, or on loading a new model, or what?

Edit: Oh, and like chrrox mentioned, you should look at the Bullet Witch for file open examples. The path is relative to the Noesis working directory which is not necessarily the directory of the file(s) being opened, so you should make your path relative to the actual active input file name.
## Post #615
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-21T03:41:32+00:00
- Post Title: Re: Señor Casaroja's Noesis

It happens randomly during the following:

1: when I open a model, sometimes. 
2: when I open a model successfully, and then want to open another model (might be the same issue as #1)

I also see this error sometimes

> Faulting application noesis.exe, version 1.0.0.1, faulting module noe1592.tmp, version 0.0.0.0, fault address 0x001ba82e.

Is it possible for me to read from the bitstream such that I will crash stuff?
Many times I notice that I am running into memory error or other errors before it crashes.

For bulletwitch I searched for "open" but couldn't find it, so not really sure where it's done (line number?)

Also, can I get the absolute path of the input file? It's probably stored somewhere.
## Post #616
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-12-21T04:24:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

I suggest making a note of the type of model you're opening, and seeing if there are specific formats that cause the issue. It could be one particular plugin causing just the right circumstance on a particular type of file to give the error... 

Or it could simply be Intel ***ing with you like they seem to do to me... 

("Running a game from 1998 with minimal graphics requirements? ARE YOU MAD!? We can't handle that kind of POWER!!" "This game was made after 2001. It ain't happening.")
## Post #617
- Username: pro spy
- Rank: beginner
- Number of posts: 32
- Joined date: Mon Sep 12, 2011 11:36 am
- Post datetime: 2011-12-21T06:13:54+00:00
- Post Title: Re: Señor Casaroja's Noesis

The contents of this post was deleted because of possible forum rules violation.
## Post #618
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-12-21T20:53:28+00:00
- Post Title: Re: Señor Casaroja's Noesis

I don't know about the NoeBitStream in particular, and I'm not quite sure what you'd be doing to leak memory from Python, but if you're getting it to leak memory and error internally (not just raise Python exceptions) from whatever you're doing in your scripts, that could very well be related. If you can get something that crashes semi-reliably, I'd appreciate you sending the script and model(s) my way so I can try to isolate it in debug.

I'm going to go ahead and look into implementing a custom exception handler to analyze and optionally report crashes automatically. I've been meaning to do that for a long time anyway.
## Post #619
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-21T21:40:35+00:00
- Post Title: Re: Señor Casaroja's Noesis

I think it is just my computer though, as the one I'm working on right now is rather old and the hardware is pretty crappy.

I will test it under a more modern computer and see if it still has the problem.
I think I had an "Out of Memory!" message at one point in time, which I've seen before when writing silly recursive code lol
## Post #620
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-12-22T02:32:19+00:00
- Post Title: Re: Señor Casaroja's Noesis

It could be that the plugin you're using gets stuck in a completely viable loop, and your computer simply stops being able to process the data properly.

By this I mean the plugin is working, but it isn't meant for that particular file, and it causes an infinite loop error, but one that doesn't get flagged as an error.

Try watching the Commit Charge and CPU usage for noesis in the task manager and see if it spikes...

Also make sure that there are no shadow instances of noesis running in the background that have failed to properly close. I get that sometimes if I crash noesis with one of my poorly written plugins, the window gets destroyed, but the process continues for a while after.

Or sometimes if I try to open multiple noesis windows (IE forgetting I clicked the icon, and clicking it again before the first window has been created) I sometimes get multiple noesis processes with only one window. (I think that's not a bug in Noesis, but rather a windows error, as it's not confined to noesis. It happens with Firefox and Cygnus when I load big files into it.

With several Noesi running, I tend to run out of memory and get other random errors and messages.
## Post #621
- Username: nightsqual05
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Mon Jul 26, 2010 11:38 am
- Post datetime: 2011-12-22T19:06:30+00:00
- Post Title: Re: Señor Casaroja's Noesis

why i cant load the texture of dota 2 model?
## Post #622
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-22T19:26:25+00:00
- Post Title: Re: Señor Casaroja's Noesis

Cause you don't have the textures there.
vtx, vvd, and mdl do not contain texture information.
## Post #623
- Username: nightsqual05
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Mon Jul 26, 2010 11:38 am
- Post datetime: 2011-12-22T20:18:19+00:00
- Post Title: Re: Señor Casaroja's Noesis

^
so what i need to do bro so i can see it with textures

edit: nvm problem solved
## Post #624
- Username: pixellegolas
- Rank: ultra-veteran
- Number of posts: 423
- Joined date: Tue Aug 12, 2008 6:30 am
- Post datetime: 2011-12-22T21:57:05+00:00
- Post Title: Re: Señor Casaroja's Noesis

whenever a problem is solved it is a nice netiquette to tell people how you solved it. There are probably others with the same, however small issue
## Post #625
- Username: Rolandonmilk
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Sat Jan 30, 2010 5:26 am
- Post datetime: 2011-12-22T23:22:26+00:00
- Post Title: Re: Señor Casaroja's Noesis

Is there any support for multiple UV maps, some games like final fantasy 13 have on some models.
## Post #626
- Username: Privateer
- Rank: veteran
- Number of posts: 104
- Joined date: Fri Oct 21, 2011 8:33 pm
- Post datetime: 2011-12-23T00:51:26+00:00
- Post Title: Re: Señor Casaroja's Noesis

Reading through the information in the plugins folder I see Half Float but it's not what I need as I'm understanding it.
I need to convert a signed short to a Float 16 or half float as it's also called.
I do have the Python code to do this.

Am I understanding this Half Float correctly in Noesis Python documents?
## Post #627
- Username: Acewell
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2011-12-23T00:58:35+00:00
- Post Title: Re: Señor Casaroja's Noesis

there is a difference between signed shorts and floats
half float is an actual 16 bit floating point number
some games use signed shorts as floats these are not half floats.
signed shorts are normally you read the number then divide by 0xFFFF and use that as the float.
## Post #628
- Username: Privateer
- Rank: veteran
- Number of posts: 104
- Joined date: Fri Oct 21, 2011 8:33 pm
- Post datetime: 2011-12-23T01:04:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

I understand that but that is not the case here.
Divideing the signed short in the SWTOR 3D meshes does not work to get the correct output.
## Post #629
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-12-23T07:18:22+00:00
- Post Title: Re: Señor Casaroja's Noesis

Can I get a rundown on how the noesis API handles triangulation? 
The files I'm working with are odd, and seem pretty inefficient... 
They list vertex positions in the order used to create a triangle, and for triangles that share vertices, the shared vertices are listed many times. I can't be certain there's not a bit of the file to tell which edges are linked, but as far as I can tell, there is no separate info on which vertex is part of which triangle... Also, there seems to be no indexing of vertices, they seem to simply be referred by their order of creation... (as in the UV for a vertex is created in the same order as the vertex itself, rather than any sort of referential index being called to link the UV to the vertex...)

All of this seems pretty inefficient, and complicates my ability to make triangles and UV's in noesis... Partly because I only know how to use the function as it's presented in chrrox' tutorial. I don't know what kind of data its expecting in order to make triangles out of points... I assume it's looking for tuples of vertex indices...right? Or does it only accept raw byteArrays?

I tried feeding it the vertex data for both data arguments of rpgCommitTriangles... which as predicted just caused noesis to crash when loading the model...

If I make an array to document the order of vertex creation, and feed that array into the triangle data argument, would that work (Assuming you understood any of that disjointed explanation)?

For instance, this is the data from the file I have... They are signed shorts (just like chrrox just mentioned) and there is no extranious data or padding between them. (Obviously these are the translated coords, for easier reading)

```
-347,	0,	1038
0,		0,	1038
0,		0,	0
-347,	0,	0
0,		0,	519
-347,	0,	519
-347,	0,	1038
0,		0,	1038
347,	0,	1038
0,		0,	519
347,	0,	519
347,	0,	0
0,		0,	519
347,	0,	0
0,		0,	0
```

Notice how several of these coords are repeated? They are presumably the same vertex, but part of another triangle... I don't know how to format that data for rpgCommitTriangles to understand it.
## Post #630
- Username: Privateer
- Rank: veteran
- Number of posts: 104
- Joined date: Fri Oct 21, 2011 8:33 pm
- Post datetime: 2011-12-23T19:14:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

My bad chrrox,
I stated that I need to change a signed int to a float 16
That is not the actual case.
I needed to change 4 bytes to a float 16 (Half Float)
Here's the Python code to do what I needed.

```

def HalfToFloat(h):
    s = int((h >> 15) & 0x00000001)    # sign
    e = int((h >> 10) & 0x0000001f)    # exponent
    f = int(h & 0x000003ff)            # fraction

    if e == 0:
       if f == 0:
          return int(s << 31)
       else:
          while not (f & 0x00000400):
             f <<= 1
             e -= 1
          e += 1
          f &= ~0x00000400
          print s,e,f
    elif e == 31:
       if f == 0:
          return int((s << 31) | 0x7f800000)
       else:
          return int((s << 31) | 0x7f800000 | (f << 13))

    e = e + (127 -15)
    f = f << 13

    return int((s << 31) | (e << 23) | f)


if __name__ == "__main__":

    # sample (1.0) - see Wikipedia
    FP16='\x00\x3c'

    v = struct.unpack('H', FP16)
    x = HalfToFloat(v[0])

    # hack to coerce int to float
    str = struct.pack('I',x)
    f=struct.unpack('f', str)

    # print the floating point
    print f[0]
```


I also remembered that the texcoords are always inverted in GR2 files so adding the negate to the print f line will do that.
Note that We ONLY do that to the V not the U
So the code needs to account for that.
print - f[0]
This is done so We don't need to flip the texture upside down.
## Post #631
- Username: Satoh
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-12-23T20:11:16+00:00
- Post Title: Re: Señor Casaroja's Noesis

Noesis has a function to encode a float in 2 bytes as a half-float, yeah. It's noesis.encodeFloat16. (or Math_EncodeFloat16 for native plugins) This encodes the float according to the IEEE 754 binary16 standard.

Noesis breaks everything down to raw triangle lists behind the scenes, regardless of how you feed the data in, or what type of index you feed into it. Satoh, in your case, you should use the immBegin/immEnd functions as mentioned previously. These allow you to loop through any kind of data feeding 1 triangle at a time (or more, if desired) to Noesis, where each triangle can have any given set of components. Noesis will then automatically batch the triangles into mesh buckets behind the scenes when the model is constructed, and you don't have to worry about breaking things up yourself at all.

Oh, and Noesis has support for 2 sets of UV's. The second set is typically used for lightmaps, but you can use it for whatever you want really.
## Post #632
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-12-23T20:20:07+00:00
- Post Title: Re: Señor Casaroja's Noesis

I see, thank you, I'll try that. 
Will that impact the performance of noesis at all though?
## Post #633
- Username: Privateer
- Rank: veteran
- Number of posts: 104
- Joined date: Fri Oct 21, 2011 8:33 pm
- Post datetime: 2011-12-23T21:13:33+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Noesis has a function to encode a float in 2 bytes as a half-float, yeah. It's noesis.encodeFloat16. (or Math_EncodeFloat16 for native plugins) This encodes the float according to the IEEE 754 binary16 standard.
So your saying I can decode the need info without the code I posted?
I can take x07 x7f and get the half-float?
I know you plan on better documentation ASAP and that's probably what I need.
In any case? Thanks for putting up with questions.
## Post #634
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-23T21:16:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

Ya, just pass the bytes to encodefloat16 and you should get the same output.
Maybe you can check that that is true.
## Post #635
- Username: Privateer
- Rank: veteran
- Number of posts: 104
- Joined date: Fri Oct 21, 2011 8:33 pm
- Post datetime: 2011-12-23T21:21:05+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from finale00
>
> Ya, just pass the bytes to encodefloat16 and you should get the same output.
Maybe you can check that that is true.
Thanks for the responce.
I'll do that and respond.
## Post #636
- Username: Rolandonmilk
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Sat Jan 30, 2010 5:26 am
- Post datetime: 2011-12-23T21:37:32+00:00
- Post Title: Re: Señor Casaroja's Noesis

oh alright how do you get to view it in noesis or switch been finicing through data but nothing
## Post #637
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-12-24T03:17:46+00:00
- Post Title: Re: Señor Casaroja's Noesis

Satoh: No, performance shouldn't be impacted. The more logic you do in Python the longer your load times are going to be, naturally, but I wouldn't expect your load times should be getting upwards of 1 second unless you're looping through for hundreds of thousands of triangles.

> Reply from Privateer
>
> So your saying I can decode the need info without the code I posted?
I can take x07 x7f and get the half-float?
I know you plan on better documentation ASAP and that's probably what I need.
In any case? Thanks for putting up with questions.
From what you said before, you wanted to encode a float into a half-float, but now it sounds like you want to decode a half-float from 2 bytes. You can do that as well, the function is noesis.getFloat16(yourint). (it expects an integer in the range of 0-65535)
## Post #638
- Username: Privateer
- Rank: veteran
- Number of posts: 104
- Joined date: Fri Oct 21, 2011 8:33 pm
- Post datetime: 2011-12-24T14:41:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

Thank You MrAdults, 
That's what I was looking for and I admit I didn't understand the definition when I first looked at it.
I feel like an idiot but I learned a few things along the way.
## Post #639
- Username: UltimateSora
- Rank: beginner
- Number of posts: 25
- Joined date: Fri Jun 24, 2011 2:56 am
- Post datetime: 2011-12-24T19:50:50+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hi, is there anyway to remove parts from a model before exporting it? When I use Data Viewer, I can highlight the individual sections. But there's no way to remove them, as far as I know. 



Thanks.
## Post #640
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-24T20:43:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

You can double-click on "skip render" and it should not be rendered. 
I don't know whether exporting from preview will also skip those though (I would like to think it does, since there are two ways to export o.O)
## Post #641
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2011-12-24T20:49:06+00:00
- Post Title: Re: Señor Casaroja's Noesis

why not just delete what you dont want in the program your loading it in?
## Post #642
- Username: UltimateSora
- Rank: beginner
- Number of posts: 25
- Joined date: Fri Jun 24, 2011 2:56 am
- Post datetime: 2011-12-24T21:09:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from finale00
>
> You can double-click on "skip render" and it should not be rendered.
I don't know whether exporting from preview will also skip those though (I would like to think it does, since there are two ways to export o.O)

Sadly that method doesn't work.   

> Reply from chrrox
>
> why not just delete what you dont want in the program your loading it in?

Because it's time consuming and somewhat challenging.
## Post #643
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2011-12-24T21:46:29+00:00
- Post Title: Re: Señor Casaroja's Noesis

what do you mean?
if they are separate mesh pieces in noesis they will be in your program also.
just click on the mesh and delete it done.
what program are you using?
## Post #644
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-12-25T00:32:55+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from chrrox
>
> what do you mean?
if they are separate mesh pieces in noesis they will be in your program also.
just click on the mesh and delete it done.
what program are you using?

I get the feeling, and I apologize if I'm wrong, that he doesn't know how to use a modeling program very well, or that the program he's using doesn't actually do modeling so much as pure animation or something similar.

In any case, @UltimateSora, you could try hiding the meshes you don't need, and exporting from preview. That may or may not export the hidden meshes. I've never tried it.
## Post #645
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-12-25T03:37:35+00:00
- Post Title: Re: Señor Casaroja's Noesis

Privateer: Ok then, no worries, glad we've got that sorted out. 

Hiding meshes in preview doesn't actually get rid of the mesh, it just disables rendering of it. Unfortunately, most formats don't tend to support such a "hidden" feature natively (I'm certain that FBX does, but I have no idea how to reliably set whether something is hidden through Autodesk's insane SDK...not that I've actually looked, I suppose that might be handy), so that setting doesn't carry over to export. Export from preview does exist to export data as seen in the preview and as modified by the data viewer, though, just to verify that point. I personally tend to use it mostly for exporting model+anim combinations after matching the anim to the model via drag-and-drop. (though you could again accomplish more or less the same thing by using the -loadanim option on export)

It should however be trivial, as chrrox mentioned, to select objects by name to hide/delete them in your modeling program of choice. I'm assuming you must be aware of how to do this much, mainly because I can't imagine what business anyone would have importing models into another program without at least knowing how to do so much as select and hide/remove objects in that program. It's probably something you have to learn how to do anyway if you want to get anything interesting done. I also recommend FBX as your format of choice for exporting to Max and Maya, because I know they handle importing the data well and keeping mesh names intact. For Blender, I don't really know, because I've never tried any Blender FBX importers. If you're trying to use SMD or something (don't!) that's going to fuck up the preservation of meshes, because that format just pools everything into material-based triangle lists.
## Post #646
- Username: UltimateSora
- Rank: beginner
- Number of posts: 25
- Joined date: Fri Jun 24, 2011 2:56 am
- Post datetime: 2011-12-25T14:38:25+00:00
- Post Title: Re: Señor Casaroja's Noesis

Here's what I've been doing.

I export the .gmo to .psk then to .smd (do to Noesis crashing if I export directly to .smd). Because Blender (the program I use) imports .smd better then .psk. But just by exporting to .psk this happens:



The separate shirt pieces are now one piece.

I'll look for a .fbx import script for Blender and see how that goes.
## Post #647
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-12-25T22:36:22+00:00
- Post Title: Re: Señor Casaroja's Noesis

Why not use COLLADA DAE? Blender imports that fine as far as I'm seen. (And I use blender a lot lately)
## Post #648
- Username: UltimateSora
- Rank: beginner
- Number of posts: 25
- Joined date: Fri Jun 24, 2011 2:56 am
- Post datetime: 2011-12-26T04:06:19+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Satoh
>
> Why not use COLLADA DAE? Blender imports that fine as far as I'm seen. (And I use blender a lot lately)

I tried that, the file size is like 19MB and it takes a long time for Blender to load.
## Post #649
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-12-26T04:47:30+00:00
- Post Title: Re: Señor Casaroja's Noesis

First, please send me the model that crashes on SMD export so that I can fix whatever the crash is. Whenever Noesis actually crashes I consider it a problem regardless of what the circumstances are (unless you've specifically engineered a crash outside the parameters of plausible user conditions), and I wish people would actually tell me about these crashes and offer model(s) to re-create them. Instead of just bothering me enough to get whatever they want done, and then disappearing forever.

Second, PSK is also a terrible export format, for a wide variety of reasons, including but not limited to a lack of proper normals. (they're approximated with smoothing groups on export) It also exports all triangles under a single chunk, and so distinction between meshes is lost.

COLLADA files will be big, especially when containing animation in the form of flat matrices. Anything OpenCOLLADA-based should work fine with them however. As for speed, well, the plugin I use in Max is fast enough for me. FBX loading tends to be faster, but it would again depend on the plugin being used to import.
## Post #650
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-26T06:24:08+00:00
- Post Title: Re: Señor Casaroja's Noesis

I have a format that is encrypted.

Someone has written a small C++ application to decrypt the files and I've written a python plugin for it, but now I figured it would be nice if I could decrypt the files as well. That way people don't have to decrypt it themselves.

I initially wrote the decryption script in python, but these files can get into the MB's and python isn't usually the best at processing things fast compared to other stuff (though it is just XOR'ing every byte)

The easiest solutions would be to just write everything in C++, or live with the slower performance lol

I'm more interested in whether it would be possible to implement functionality that will allow users to compile their own dll's and expose any of those functions to python plugins?
## Post #651
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2011-12-26T07:41:58+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from finale00
>
> I have a format that is encrypted.

Someone has written a small C++ application to decrypt the files and I've written a python plugin for it, but now I figured it would be nice if I could decrypt the files as well. That way people don't have to decrypt it themselves.

I initially wrote the decryption script in python, but these files can get into the MB's and python isn't usually the best at processing things fast compared to other stuff (though it is just XOR'ing every byte)

The easiest solutions would be to just write everything in C++, or live with the slower performance lol

I'm more interested in whether it would be possible to implement functionality that will allow users to compile their own dll's and expose any of those functions to python plugins?

Isn't that what the Noepython does anyway? Doesn't it simply call the functions that are in the Noesis core library? Basically aliasing the C++ functions into functions in the python syntax?

Maybe I missed something when I was looking through the python files, but it certainly seemed like that's how it worked.
## Post #652
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-26T10:16:48+00:00
- Post Title: Re: Señor Casaroja's Noesis

Some formats give a material a color rather than a texture.
So like I might say material1 is red, or has rgba (1, 0, 0, 1).
And then all of the faces that use material1 are red.

How do I reflect this in noesis?
## Post #653
- Username: McCuñao
- Rank: veteran
- Number of posts: 101
- Joined date: Sat Apr 22, 2006 8:49 pm
- Post datetime: 2011-12-26T13:19:51+00:00
- Post Title: Re: Señor Casaroja's Noesis

Can you add support to Shenmue I MT5 and Shenmue II MT7 files?

Intel and samples are here:
[viewtopic.php?f=16&t=4593&hilit=Shenmue](http://forum.xentax.com/viewtopic.php?f=16&t=4593&hilit=Shenmue)
## Post #654
- Username: UltimateSora
- Rank: beginner
- Number of posts: 25
- Joined date: Fri Jun 24, 2011 2:56 am
- Post datetime: 2011-12-26T18:24:48+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> First, please send me the model that crashes on SMD export so that I can fix whatever the crash is. Whenever Noesis actually crashes I consider it a problem regardless of what the circumstances are (unless you've specifically engineered a crash outside the parameters of plausible user conditions), and I wish people would actually tell me about these crashes and offer model(s) to re-create them. Instead of just bothering me enough to get whatever they want done, and then disappearing forever.

The GMO exports to SMD just fine, but when I try to load it, I get a crash.
[Here's](http://www.mediafire.com/download.php?fexgk90qwmux7z5) the model.
## Post #655
- Username: junk angel
- Rank: veteran
- Number of posts: 82
- Joined date: Thu Jan 14, 2010 11:38 pm
- Post datetime: 2011-12-26T19:06:55+00:00
- Post Title: Re: Señor Casaroja's Noesis

I actually believe that that is due to a faulty SMD exporter inside of noesis. As far as I know it messes up skeletal part of the mesh, which leads to most importers failing on importing the mesh. 

There's a max importer that works, but the one that is more commonly used crashes as well. StudioMdl (source sdk smd to mdl converter) can still parse the SMDs into a working MDL. Which you can then decompile to get a completely normally functional SMD again.
## Post #656
- Username: rexil
- Rank: veteran
- Number of posts: 124
- Joined date: Tue Mar 15, 2011 10:14 pm
- Post datetime: 2011-12-26T19:40:58+00:00
- Post Title: Re: Señor Casaroja's Noesis

Not sure what kind of .psk importer he's using, but I have been using Noesis to export to .psk like forever and I never had any problem with it. I also use SZKARADEK .psk importer which is great.
Your sample exported just fine to .psk and imported correctly with weights and all into Blender.
## Post #657
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-12-26T22:25:58+00:00
- Post Title: Re: Señor Casaroja's Noesis

finale00: Noesis will read Python extension DLLs if you put them in a "DLLs" folder under the Python folder. However, they probably need to be compiled from a static build of Python 3.2.1, and I haven't tested the functionality. You'd probably be better off just writing a native DLL plugin, or doing your decryption in Python. (which if it's just a xor-based encryption should still be plenty fast)

For solid color materials, you can set the diffuse color of the material and not give it a texture, or just generate a small solid-color image for its texture. I believe I did the former in the FX Fighter plugin.

That GMO exports to SMD in Noesis and reimports just fine in Noesis, Wunderboy's SMD importer, and Studiomdl. Not sure what you're talking about when you say Noesis "messes up skeletal part of the mesh", particularly because what is exported is well within SMD spec (what little there is), and nothing that should be choking any given importer - particularly given that Valve's official tools handle these SMD's just fine. Exactly why is it that these other importers (not even sure which ones you're using, since no one has actually bothered to name one) can't handle Noesis-exported SMD's?
## Post #658
- Username: UltimateSora
- Rank: beginner
- Number of posts: 25
- Joined date: Fri Jun 24, 2011 2:56 am
- Post datetime: 2011-12-27T04:57:49+00:00
- Post Title: Re: Señor Casaroja's Noesis

@rexil
My problem is when I convert the model to PSK the shirt pieces combine. Look at this.



I want them separated so I can easily have him with either of these shirts rather then delete face after face.

@MrAdults
OK, I just opened the GMO>SMD in Noesis and it works just fine on a different computer. So I think the other computer is the problem and not Noesis. Sorry.
## Post #659
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-27T05:32:31+00:00
- Post Title: Re: Señor Casaroja's Noesis

I think at some point in time I was looking at some textures for some game, and the file containing the textures stored several textures, and I could hit the left/right keys to scroll through them.

Maybe.
Is that a feature?

I tried out chrrox's virtual fighter plugin [viewtopic.php?f=29&t=7843](http://forum.xentax.com/viewtopic.php?f=29&t=7843) and changed the texture names to make them unique (to verify that I could export all of the textures), but I couldn't scroll through them even though they are all in the texList (like how if a mdlList had multiple models then you could cycle through them with a new button)

Also for GUI. I think the common one is tkinter. Or wxpython, not sure if it supports 3.x though.
## Post #660
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2011-12-27T20:14:53+00:00
- Post Title: Re: Señor Casaroja's Noesis

you just have to go into component viewer and click on the texture listed there.
## Post #661
- Username: LUBDAR
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-12-28T12:37:00+00:00
- Post Title: Re: Señor Casaroja's Noesis

Regarding viewing multiple textures, yeah, what chrrox said.

[Noesis 3.75](http://oasis.xentax.com/index.php?content=downloads) is out. It's a pretty massive update due to the addition of auto-updating and crash report uploading.

```
 -3.75 - Added a custom exception handler which can send off crash logs to my web site. Please say yes when it asks you if you want to send the log.
 -3.75 - Noesis is now capable of auto-updating itself. There is an option to check for updates in the Tools menu, as well as a persistent option (accessible from the data viewer) to tell it to automatically check for updates on startup.
 -3.75 - Added support for .RZL+.RZP archives, used in Lord of Apocalypse and possibly other games.
 -3.75 - Removed link dependency on psapi.dll.
```

Also a small addition for chrrox that I forgot to mention in the release notes, you can now resize the debug log window.

I would like everyone to crash the shit out of this build, and submit those crashes.
## Post #662
- Username: LUBDAR
- Rank: veteran
- Number of posts: 95
- Joined date: Wed Jun 08, 2011 2:14 pm
- Post datetime: 2011-12-28T16:31:30+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> 

Noesis 3.75 is out. It's a pretty massive update due to the addition of auto-updating and crash report uploading.

Auto-updating!!!! You are too too kind!
## Post #663
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-28T20:15:55+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> 
 -3.75 - Added a custom exception handler which can send off crash logs to my web site. Please say yes when it asks you if you want to send the log.

What kind of information does it send?
## Post #664
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-12-28T21:51:23+00:00
- Post Title: Re: Señor Casaroja's Noesis

Thread contexts for the process, the crash context for the thread that crashed, as well as stack traces for those threads, and a list of modules in the process with all of their address bases and sizes. No personal information, no need to worry.
## Post #665
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2011-12-29T08:02:15+00:00
- Post Title: Re: Señor Casaroja's Noesis

Is there an example with per-face material, UV, and normal assignment?
Will this have to be done with immediate-mode drawing?
## Post #666
- Username: loridaz
- Rank: n00b
- Number of posts: 11
- Joined date: Sun Jan 17, 2010 6:51 am
- Post datetime: 2011-12-29T23:05:36+00:00
- Post Title: Re: Señor Casaroja's Noesis

Sorry if this has already been asked somewhere else, I searched for kinect and bone mapping but didn't found anything relevant.

Could you please help me with the bone mapping process for kinect ?

My kinect is working correctly and I can see myself in the depth map window that opens when opening the kinect interface. I also see the skeleton tracking when I do the T-pose but I have no idea how to map the bones.

When I try "Base cap" or "load map" etc. I have a message saying that I must have a skeletal model loaded. If this means that the model I'm viewing must contains bones, it's the case. I can see the bones names in the "Maps to:" dropdown menu.

Am I supposed to have something in the "Bone settings" dropdown ? This one is most of the time empty, and sometimes there's one line filled with garbage characters.

I also tried to load the sample_guy.DAE that is shipped with neosis because I saw a sample_guy.noekin file in the same directory but I see no difference with that model and I'm still stuck 

Any help would be great.
Thanks.
## Post #667
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-12-30T01:28:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

finale00, there's commented out code in __NPExample.txt which demonstrates it.

```
		rapi.immBegin(noesis.RPGEO_TRIANGLE)
		for i in range(0, numIdx):
			idx = noeUnpackFrom("<i", triangles, i*4)[0]
			vcmp = noeUnpackFrom("<ff", uvs, idx*12)
			rapi.immUV2(vcmp)
			vcmp = noeUnpackFrom("<fff", normals, idx*12)
			rapi.immNormal3(vcmp)
			vcmp = noeUnpackFrom("<" + "i"*fw.weightsPerVert, fw.flatW, idx*4*fw.weightsPerVert)
			rapi.immBoneIndex(vcmp)
			vcmp = noeUnpackFrom("<" + "f"*fw.weightsPerVert, fw.flatW, fw.weightValOfs + idx*4*fw.weightsPerVert)
			rapi.immBoneWeight(vcmp)
			vcmp = noeUnpackFrom("<fff", positions, idx*12)
			rapi.immVertex3(vcmp)
		rapi.immEnd()
```

The concept here is exactly the same as immediate-mode drawing in OpenGL. Feed each component of the vertex in, and then finally the position is fed in with immVertex3, which "completes" the vertex. The entire list is understood to be whatever primitive type you specify in the immBegin call.

loridaz, it sounds like your model doesn't actually contain bones. Having entries in the "map to" list isn't necessarily indicative of bones in the model, but being able to see the skeleton in the main Noesis preview is. If you don't have a skeleton button there, then the model has none.

Edit: Also, I've still only received one crash, and it was a crash in one of revelation's beta plugins. Is exception catching not working, or is Noesis just amazingly stable? Or perhaps the most likely explanation, people are too lazy to update.
## Post #668
- Username: loridaz
- Rank: n00b
- Number of posts: 11
- Joined date: Sun Jan 17, 2010 6:51 am
- Post datetime: 2011-12-30T07:43:17+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hello again,

The model I loaded contains bones. I have the button and when I press it, I can see the skeleton beeing displayed. I'm using the data viewer to pose the character in various position.

What should I see in the kinect interface?
## Post #669
- Username: LUBDAR
- Rank: veteran
- Number of posts: 95
- Joined date: Wed Jun 08, 2011 2:14 pm
- Post datetime: 2011-12-30T20:35:51+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> 
Edit: Also, I've still only received one crash, and it was a crash in one of revelation's beta plugins. Is exception catching not working, or is Noesis just amazingly stable? Or perhaps the most likely explanation, people are too lazy to update.

Perhaps I'm not as adventurous as others, but I've never experienced a crash.  I have run into situations where models are completely distorted after trying to export from preview, not sure if that counts, and I'm pretty sure from reading recent posts about SMD that it's been my fault...
## Post #670
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2011-12-31T23:39:05+00:00
- Post Title: Re: Señor Casaroja's Noesis

loridaz: My bad, I broke the Kinect support when I changed the bone structures and couldn't recompile the module from San Diego. Update to 3.76 and it will work again.

LUBDAR: If you can offer steps to reproduce that issue, I can take a look. SMD sucks as an export format, but I can't think of a legit reason the model would be distorted on export.
## Post #671
- Username: LUBDAR
- Rank: veteran
- Number of posts: 95
- Joined date: Wed Jun 08, 2011 2:14 pm
- Post datetime: 2012-01-01T16:04:12+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> 
LUBDAR: If you can offer steps to reproduce that issue, I can take a look. SMD sucks as an export format, but I can't think of a legit reason the model would be distorted on export.

Of course now when I try to make it distort things it wont!  But this was occurring I think in ver3.3ish.  I can go back in and see if I can do it again with the old version. 
 I updated last night; that is a nice feature!  Of course I don't mind visiting the website, is it me or have you been periodically going back and inserting images into the homepage?  Most of the time, I just check that page to see if a new model format has been added.

Happy New Year!
-LUBDAR
## Post #672
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-01-02T04:07:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

I have a model that has tri's and quads.
How do I bind the quads?
## Post #673
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2012-01-02T05:02:24+00:00
- Post Title: Re: Señor Casaroja's Noesis

a quad is just 2 triangles just build it like that.
## Post #674
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-01-02T16:52:08+00:00
- Post Title: Re: Señor Casaroja's Noesis

So I take my index buffer with 8 integers and just pass it to commitTriangles except instead of RPGEO_TRIANGLE I use RPGEO_QUAD?
## Post #675
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2012-01-02T18:45:37+00:00
- Post Title: Re: Señor Casaroja's Noesis

[http://www.alecjacobson.com/weblog/?p=1548](http://www.alecjacobson.com/weblog/?p=1548)
## Post #676
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-01-02T21:07:19+00:00
- Post Title: Re: Señor Casaroja's Noesis

There should be a function for me to load that in without having to manually convert stuff to triangles I think. At least, I'm assuming that's where the QUAD constant may be used.

Also when loading texture by handler, it looks like I have to explicitly pass in an extension.
So if a game uses a variety of formats (eg: both bmp and tga), I would store the extension of the referenced file and then pass it to the function call.

Now what if the game uses the extension "tga" for images that use DDS format? This method fails because my code sees "tga" and passes it in but the image format is DDS.

Now, all of the images are extension tga, but not all images are DDS. Some are actually tga. I'd have to open the file and do stuff with it to determine what format it actually is. A faster way to handle these situations would be helpful.
## Post #677
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-01-02T22:01:23+00:00
- Post Title: Re: Señor Casaroja's Noesis

Use RPGEO_QUAD instead of RPGEO_TRIANGLE. The primitive types are all listed in __NPReadMe.txt. The assumption on quad winding may or may not work for your index list.

The extension string passed to loadTexByHandler is only used to determine which data handler(s) to invoke, mainly for handlers which are name-dependent. If you're trying to load a DDS file from a .tga file that you loaded yourself, then just pass ".dds" to the function. The function doesn't care what your original filename was, and that isn't the reason the parameter exists. The data itself is also validated for each image format (this is the reason you're urged to write "check" functions for each data format you add), so if you have more than 1 format using the ".dds" extension (or whatever else), whichever handler confirms that the actual data is in an acceptable format is the handler that will be used.

Of course, it's also silly to be loading textures yourself when you don't have to. If the texture files are already available on the model's path, then you should just use the appropriate paths for the textures on your material(s) and let Noesis handle loading them for the preview. Especially in such cases where the textures don't even need to be converted/exported along with the model.
## Post #678
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-01-02T22:52:25+00:00
- Post Title: Re: Señor Casaroja's Noesis

When working with text files, I ignore the data that is provided to the loadModel function and open the file as a text file and then parse it line by line.

But then I have to pack the values into bytes. Should I go with the struct module or is there something else I can use?

Also this error:

```
UnicodeDecodeError: 'cp932' codec can't decode bytes in position 622-623: illegal multibyte sequence
```


Happens sometimes when I'm trying to read a line using file.readline()

> The extension string passed to loadTexByHandler is only used to determine which data handler(s) to invoke

I can pass multiple extensions in one call?
## Post #679
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-01-02T23:55:16+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from finale00
>
> When working with text files, I ignore the data that is provided to the loadModel function and open the file as a text file and then parse it line by line.
That's fairly wasteful, since it's already loaded into memory, and parsing out of memory should be much faster.

> Reply from finale00
>
> But then I have to pack the values into bytes. Should I go with the struct module or is there something else I can use?
You don't need to for the purpose of passing it to Noesis. You can consider using the imm functions again if you're already parsing your data into native Python types. Otherwise, the struct module is probably the most common standard for Python binary packing.

```
UnicodeDecodeError: 'cp932' codec can't decode bytes in position 622-623: illegal multibyte sequence
```

Sounds like you have an illegal multibyte sequence in the file.  The bitstream's readline merely reads up to a \n (or the end of the stream) and passes back a PyUnicode object formed from the UTF-8 input.

> Reply from finale00
>
> I can pass multiple extensions in one call?
No, you may still be misunderstanding. The extension is only to hint at what the format is and matters primarily for modules that require an input to have a given file extension associated with it to be recognized as that format. You shouldn't be passing data to loadTexByHandler without knowing that it can/should be handled already as an existing format, and knowing what format it is you should know which extension to pass in to get the loader that you want.
## Post #680
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-01-03T01:09:31+00:00
- Post Title: Re: Señor Casaroja's Noesis

I found the issue with the readline.
Some of the strings are encoded in shift-JIS.

So for example it could say

```
vertex 492 {
   1.0 1.0 1.0
   ...
}

```


So I would just read a line, get the name, then read another line and grab the vert count and then start looping over the positions.

But now I'm stuck on getting the name lol
## Post #681
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2012-01-03T01:57:49+00:00
- Post Title: Re: Señor Casaroja's Noesis

are you working on somicomi
## Post #682
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-01-03T02:28:04+00:00
- Post Title: Re: Señor Casaroja's Noesis

Nope this is just the metasequoia format cause it looks like a good candidate for immediate mode rendering.
I tried extracting sonicomi archives using asmodean's extractor but the files didn't seem to come out right.
## Post #683
- Username: LUBDAR
- Rank: veteran
- Number of posts: 95
- Joined date: Wed Jun 08, 2011 2:14 pm
- Post datetime: 2012-01-04T00:36:25+00:00
- Post Title: Re: Señor Casaroja's Noesis

I wanted ask for help on using the "export from preview".  I'm looking at Dissidia Final Fantasy models.  If you need need for me to post a file for help I can but I think the problem is fairly generic and applies to other model formats.

I'll play the animation and stop it at any given point.  I like the pose of the character and want to be able to export the model in the pose that it is in.

I select "export from preview", choose the destination as c:\, and change the main output type to ".dae - COLLADA" , tick the "Rotate 90" option and select OK.

I open up 3dsMax2010, drag and drop the .dae file into the window and select to use the open collada importer.  To my dismay the model is in the original pose, not in the pose which I paused the animation in.

I hope I'm not totally confused on the use of "Export from preview" but if anyone could help me out with how to export models from preview mode and load them into 3dsMax I would greatly appreciate it. 


EDIT: I should note that this sort of outcome happens when I look at the ff8 files as well; that's why I presumed it was a problem with myself that is somewhat generic.
LUBDAR
## Post #684
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2012-01-04T01:40:24+00:00
- Post Title: Re: Señor Casaroja's Noesis

just export it as fbx then play the animation in max and pause it on the frame you want.
## Post #685
- Username: LUBDAR
- Rank: veteran
- Number of posts: 95
- Joined date: Wed Jun 08, 2011 2:14 pm
- Post datetime: 2012-01-04T02:18:33+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from chrrox
>
> just export it as fbx then play the animation in max and pause it on the frame you want.

Thanks for the quick reply chrrox!

Is it just my computer??  I've attached the file.  

 I play the animation and go to "Export from preview".  I selected .FBX as the output type, and export, and drag and drop it into max and I press play but nothing happens. It's still the original pose. the animation bar trudges along, but the number of total frames doesn't equal the same number from Noesis.
## Post #686
- Username: hatyn
- Rank: advanced
- Number of posts: 47
- Joined date: Sat Dec 17, 2011 3:30 am
- Post datetime: 2012-01-04T15:51:29+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hi - I would like your opinion on the Dark Souls BND archive files and FLEV 3d format. Is there anyway you could take a look at these and comment if it is possible to access the 3D models from this game?

[http://xis9.com/000000ef.flv](http://xis9.com/000000ef.flv)

and the BND (Noesis doesn't support this version)
[http://xis9.com/000000b3.bnd](http://xis9.com/000000b3.bnd)

thanks and looking forward!
## Post #687
- Username: Rimbros
- Rank: ultra-veteran
- Number of posts: 495
- Joined date: Fri Jul 09, 2010 7:23 am
- Post datetime: 2012-01-04T17:59:54+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from chrrox
>
> Rimbros wrote:Mr. Adults, its Noesis compatible with Iron Man 2 xbox360 or ps2 game?, (.pkg files)

its the same format as golden axe.

MMMM.. i never see .dat files in the golden axe bro, this its textures extracted from .pkg file any idea?

[http://www.megaupload.com/?d=IQG9225C](http://www.megaupload.com/?d=IQG9225C)
## Post #688
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-01-04T22:38:18+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from LUBDAR
>
> the animation bar trudges along, but the number of total frames doesn't equal the same number from Noesis.
It's loading the frames, Max just confines the range to whatever your global default is when you import animation from FBX. You have to click that little clock icon to the...I think it was to the lower-right of the animation bar by default. Then you have to expand the range of animation frames for the scene in the dialog that comes up.
## Post #689
- Username: LUBDAR
- Rank: veteran
- Number of posts: 95
- Joined date: Wed Jun 08, 2011 2:14 pm
- Post datetime: 2012-01-05T00:26:53+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> 
It's loading the frames, Max just confines the range to whatever your global default is when you import animation from FBX. You have to click that little clock icon to the...I think it was to the lower-right of the animation bar by default. Then you have to expand the range of animation frames for the scene in the dialog that comes up.

Thanks for the help! Unfortunately, as I had feared, my I don't think my computer can handle it.  It just took me about 7 minutes to get Max to recognize that I wanted to stop the animation.  

Its O.K. though, usually as long as I can get the models into Max and they have bones, then I just spend time posing them.

Soon enough I'll upgrade computers...
## Post #690
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-01-05T03:36:48+00:00
- Post Title: Re: Señor Casaroja's Noesis

3.77 is up, this one is another pretty significant release due to large amounts of restructuring under the hood.

```
 -3.77 - Fixed another bug in the Kinect module.
 -3.77 - Added RPGEO_QUAD_ABC_BCD, RPGEO_QUAD_ABC_ACD, RPGEO_QUAD_ABC_DCA to cover other common quad index order conventions. (RPGEO_QUAD is ABC_DCB, as now denoted by the comment in pluginshare.h)
 -3.77 - Fixed a crash in the SMD loader.
 -3.77 - When you select a bone in the data viewer, shift+clicking will auto-enable the bone's transform offset and allow you to rotate the bone with your mouse. (left and right buttons control which axes you're rotating)
 -3.77 - Fixed a bug that occurred when parsing OBJ files with blank usemtl entries.
```

The SMD loader crash fix is kind of speculative. It's a crash someone submitted through Noesis, and the stack seemed to be trashed, so I reviewed the area of the crash and generally tried to fool-proof everything to prevent any kind of stack corruption or out of range stack variables. (the actual crash happened when retrieving a counter variable off of the stack that had been corrupted by some other code that executed during a loop) Seemed like it may have been overflowing the texture name buffer, but I don't know. If by any chance you're the person that submitted that crash, if you can still reproduce it in 3.77 I'd appreciate you sending over the SMD file that's crashing it.

Edit: Oh, and one word of warning, your config and persistent settings will reset after you update to 3.77. I had to change one of the core config structures to fit space for the renderer DLL name. So you'll want to redo any custom settings. (which includes re-enabling auto-updating if you were using it)
## Post #691
- Username: UltimateSora
- Rank: beginner
- Number of posts: 25
- Joined date: Fri Jun 24, 2011 2:56 am
- Post datetime: 2012-01-05T03:51:06+00:00
- Post Title: Re: Señor Casaroja's Noesis

The contents of this post was deleted because of possible forum rules violation.
## Post #692
- Username: UltimateSora
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-01-05T05:06:41+00:00
- Post Title: Re: Señor Casaroja's Noesis

The contents of this post was deleted because of possible forum rules violation.
## Post #693
- Username: UltimateSora
- Rank: beginner
- Number of posts: 25
- Joined date: Fri Jun 24, 2011 2:56 am
- Post datetime: 2012-01-05T15:40:54+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> UltimateSora wrote:@MrAdults
It was screwing up because the texture names had spaces in them. I fixed the crash, and fixed the exporter to put "" around texture names with whitespace in them. 3.772 has the fixes.

Thanks, that fixed it.

Now I was just wondering if there's any chance of getting a plugin for Wind Waker and Twilight princess BMD's?
Link Removed
## Post #694
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-01-05T19:39:33+00:00
- Post Title: Re: Señor Casaroja's Noesis

Oops, introduced a reload-plugins crash with the renderer changes. Just pushed a new build up to fix it. Thanks to whoever submitted that one. (having a one-button process to handle the entire build process has been handy lately)
## Post #695
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-01-05T22:28:31+00:00
- Post Title: Re: Señor Casaroja's Noesis

I tried using noesis' createTriStrip function, passing in a list like

[1, 2, 0, 3]

And it returned

(1, 2, 0)

Is that what it should return?

I was reading [wiki](http://en.wikipedia.org/wiki/Triangle_strip) and thought it would be something like

1 2 0
0 2 3
## Post #696
- Username: finale00
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-01-05T22:54:02+00:00
- Post Title: Re: Señor Casaroja's Noesis

You have it backwards.

createTriStrip creates a triangle strip from a triangle list using nVidia's strip library. [1, 2, 0, 3] is not a valid triangle list, so it's chopping off the last value and handing you back a single triangle as the strip.

If you want to pass a triangle strip to Noesis, you should be using RPGEO_TRIANGLE_STRIP.
## Post #697
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2012-01-07T01:50:05+00:00
- Post Title: Re: Señor Casaroja's Noesis

MrAdults by any chance is it possible to combine models inside of noesis? all i have is 3dmax 2010 otherwise. cause i'd love to give Seifer his gunblade. i ripped both separately... also please tell me the kinect interface still works...
## Post #698
- Username: itoikenza
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-01-07T05:54:19+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from itoikenza
>
> MrAdults by any chance is it possible to combine models inside of noesis? all i have is 3dmax 2010 otherwise. cause i'd love to give Seifer his gunblade. i ripped both separately... also please tell me the kinect interface still works...
You can write a .noesis file like this. Just upgrade to v3.78 before you try loading it, or the anims won't sync.

```
version 1
physicslib		""
defaultAxis		"0"
sharedAnims		"1"

object
{
	model		"d0c000.dat"
	offset		"(0 0 0)"
	rotate		"(0 0 0)"
}
object
{
	model		"d0w000.dat"
	offset		"(0 0 0)"
	rotate		"(0 0 0)"
}

```

This works for Squall, didn't test Seifer. Also, yes, Kinect support is currently working fine.
## Post #699
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2012-01-07T13:47:02+00:00
- Post Title: Re: Señor Casaroja's Noesis

thanks. Can you add support for legend of legaia .tmo models. I think it's .tmo. I dont have anyway of ripping them though...
## Post #700
- Username: hatyn
- Rank: advanced
- Number of posts: 47
- Joined date: Sat Dec 17, 2011 3:30 am
- Post datetime: 2012-01-07T17:36:15+00:00
- Post Title: Re: Señor Casaroja's Noesis

Any chance to add support for Dark Souls FLEV?
## Post #701
- Username: Snowmeow
- Rank: beginner
- Number of posts: 21
- Joined date: Wed Nov 17, 2010 5:07 am
- Post datetime: 2012-01-08T00:34:39+00:00
- Post Title: Re: Señor Casaroja's Noesis

Owmygawd, what I have to say, but Thank You?

A little question, I don't know if this was answered, but...
(May be stupid, don't be scared, I'm ultra-noob xD)
Do Noesis may to rip models from MAME-emulated 3D games?
(Thinking in SS64 II's Shiki =P)
## Post #702
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-01-08T01:28:04+00:00
- Post Title: Re: Señor Casaroja's Noesis

Does noesis run into issues with really large textures? (like, 4096x2048)

I wrote a plugin for Arcania [viewtopic.php?p=64793#p64793](http://forum.xentax.com/viewtopic.php?p=64793#p64793) and it applies the "smaller" textures fine but not the larger ones.

[](http://i.imgur.com/JtH6i.jpg)

The roof is 2048x1024, and the ground_floor is 4096x2048
## Post #703
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-01-08T05:53:11+00:00
- Post Title: Re: Señor Casaroja's Noesis

Snowmeow: Noesis works by understanding and interpreting data on a per-format basis. It isn't like generic rippers that work at the OpenGL/Direct3D/etc. level. So, whether it supports a given format/game doesn't really depend on whether it's emulated by MAME or any other emulator.

finale00: Noesis has no trouble with really big textures, but it won't resize them for your GPU. Your GPU probably has a maximum texture resolution of 2048x2048 or something. Which is kind of ghetto, but if I recall correctly you did say you were using an Intel card. It's possible for me to check the maximum reported texture resolution for your particular GPU and resize textures that exceed it, or you could resize the textures yourself, but that would be kind of silly because most cards at the consumer level currently have a 4096x4096 maximum resolution or higher. Probably best that I handle it at the upload stage.
## Post #704
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-01-08T06:30:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

Never realized that would be an issue.

Well, as long as it works lol
I'd like to believe not too many games will use such large textures anyways?

Also when writing plugins, sometimes I can crash noesis by causing exceptions during the plugin checking stage.
Namely, if I do something common like

```

```


And it doesn't like those bytes.
Any way to prevent people like me from carelessly not putting that in try blocks?
## Post #705
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2012-01-08T22:41:59+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> itoikenza wrote:MrAdults by any chance is it possible to combine models inside of noesis? all i have is 3dmax 2010 otherwise. cause i'd love to give Seifer his gunblade. i ripped both separately... also please tell me the kinect interface still works...
You can write a .noesis file like this. Just upgrade to v3.78 before you try loading it, or the anims won't sync.
Code: Select allNOESIS_SCENE_FILE
version 1
physicslib		""
defaultAxis		"0"
sharedAnims		"1"

object
{
	model		"d0c000.dat"
	offset		"(0 0 0)"
	rotate		"(0 0 0)"
}
object
{
	model		"d0w000.dat"
	offset		"(0 0 0)"
	rotate		"(0 0 0)"
}

This works for Squall, didn't test Seifer. Also, yes, Kinect support is currently working fine.

sorry MrAdults. it still looks screwy. here are the files i used... 

(links removed by me. copyright infringement worries.. i pm'd them to you MrAdults )
## Post #706
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-01-09T02:23:29+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from finale00
>
> Never realized that would be an issue.

Well, as long as it works lol
I'd like to believe not too many games will use such large textures anyways?

Also when writing plugins, sometimes I can crash noesis by causing exceptions during the plugin checking stage.
Namely, if I do something common like
Code: Select allidstring = noeStrFromBytes(bs.readBytes(5))


And it doesn't like those bytes.
Any way to prevent people like me from carelessly not putting that in try blocks?
It works fine for me. I can't produce a crash by reproducing an exception with this exact line of code. If you can get it to happen again, go ahead and submit the crash when it asks you to.

Unless...by crash, you mean it shows the Python exception dialog? If you write Python code that raises an exception, you're going to see the exception. It wouldn't be wise or desirable for me to change that behavior. As you already mentioned, as well, you can use a try/except if for some reason you really want to write code that you know might raise an exception.
## Post #707
- Username: itoikenza
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-01-09T07:22:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

I revisited FF8 in Noesis 3.79 to add support for the Zell and Kiros weapon models. While I was at it, I wrote a bunch of .noesis files to tie some of the character and weapon models together, they're attached in a zip. Extract them all to a folder containing battle models from the PC version of FF8 and you should be able to load them with no modification.
[ff8noefiles.zip](https://xentaxbackup.github.io/file/4968_ff8noefiles.zip)
## Post #708
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-01-09T12:37:47+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Unless...by crash, you mean it shows the Python exception dialog? If you write Python code that raises an exception, you're going to see the exception. It wouldn't be wise or desirable for me to change that behavior. As you already mentioned, as well, you can use a try/except if for some reason you really want to write code that you know might raise an exception.

Oh. Ya, that's what happens.
Python raises an exception.

So if I have two plugins and one of the plugins assumes the header is a valid ASCII string and the file I pass in for the other plugin I'm testing doesn't start with a valid ASCII string, the first plugin will complain and then I can't view anything until I realize I need to catch the exception.

Of course rather than hardcoding an ASCII string, I could always just compare bytes.
## Post #709
- Username: hatyn
- Rank: advanced
- Number of posts: 47
- Joined date: Sat Dec 17, 2011 3:30 am
- Post datetime: 2012-01-09T12:45:12+00:00
- Post Title: Re: Señor Casaroja's Noesis

oh noes...dead or alive
## Post #710
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2012-01-09T13:24:17+00:00
- Post Title: Re: Señor Casaroja's Noesis

MrAdults could you tell me which one of the .mch is rinoa in tan mini skirt from seed party? and which format can i make it from biturn to show up in noesis?
## Post #711
- Username: LUBDAR
- Rank: veteran
- Number of posts: 95
- Joined date: Wed Jun 08, 2011 2:14 pm
- Post datetime: 2012-01-09T13:27:56+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from itoikenza
>
> MrAdults could you tell me which one of the .mch is rinoa in tan mini skirt from seed party? and which format can i make it from biturn to show up in noesis?

There's no battle model of Rinoa in a tan mini skirt.
## Post #712
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2012-01-09T16:49:01+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from LUBDAR
>
> itoikenza wrote:MrAdults could you tell me which one of the .mch is rinoa in tan mini skirt from seed party? and which format can i make it from biturn to show up in noesis?

There's no battle model of Rinoa in a tan mini skirt.

i know. i think it's a field model. from when rinoa first met squall. just before the fmv dance...
## Post #713
- Username: LUBDAR
- Rank: veteran
- Number of posts: 95
- Joined date: Wed Jun 08, 2011 2:14 pm
- Post datetime: 2012-01-10T05:22:14+00:00
- Post Title: Re: Señor Casaroja's Noesis

I think noesis works for battle models only
## Post #714
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-01-10T20:48:33+00:00
- Post Title: Re: Señor Casaroja's Noesis

[viewtopic.php?p=65012#p65012](http://forum.xentax.com/viewtopic.php?p=65012#p65012)

Are there any functions I can use when it comes to PS2 formats? Seems like there's some common stuff amongst PS2 formats.

Also,

You know how in fighter games they have 1P and 2P character colors?
Is there a way to imitate that in noesis when loading a model so that I can just scroll through the models and view different colors?

Also what if the model has different clothes. Is there a way to load the meshes so that I can do some sort of "mix-and-match" in preview mode?
## Post #715
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-01-11T00:44:14+00:00
- Post Title: Re: Señor Casaroja's Noesis

There are PS2 texture functions for untwiddling. Internally there is a VIFcode parser/emulator, but it's fairly primitive and I don't feel it's final enough to expose to the API yet. It's only used for Bujingai and The Bouncer right now if I recall correctly. There's also a R5900 CPU emulator in Noesis, but again it's also fairly incomplete and doesn't emulate the full instruction set, and is only being used for emulating some decompression routines right now.

For your other questions, use multiple models. You can share or duplicate materials between models and do whatever you want in terms of using different meshes/materials/textures/etc., and cycle between models in Noesis with the cycle models button/shortcut key. If you want to cycle clothing items, you can use multiple models to represent different configurations, or you can just put them all in one model and toggle each mesh's visibility in the data viewer.
## Post #716
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-01-11T05:32:20+00:00
- Post Title: Re: Señor Casaroja's Noesis

```
  return noesis.mat44FromBytes(otherBytes, bigEnd)
TypeError: an integer is required

```


```

```


transform holds 64 bytes that are a bunch of floats.
Integer is required?

And here's a model of a card



I get this a lot, but I'm not sure why it happens, or why people would store the data this way. If I were to describe the issue it would be "mirrored"

Do I flip the UV? Or do I flip the model?
## Post #717
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-01-11T08:54:08+00:00
- Post Title: Re: Señor Casaroja's Noesis

You're calling it wrong, you want NoeMat44.fromBytes(transform) because it isn't an instantiated object method and rather returns the new object.

Couldn't say just from the screenshot if it's image, UV's, or model coordinates, but it's most likely the model coordinates. Which would mean you need to flip them on one axis to see them as intended, because the engine in question is probably using a left-handed MVP matrix.

That assumption may be less likely if you don't have the skeleton and weights working, though. Lots of games will end up using negative bone root scales to flip their geometry back around, so it only looks backwards pre-transform. I've also seen games that only flip the geometry back around with the actual animation data, where the root skeleton is still flipped along with the geometry.
## Post #718
- Username: hatyn
- Rank: advanced
- Number of posts: 47
- Joined date: Sat Dec 17, 2011 3:30 am
- Post datetime: 2012-01-11T18:36:58+00:00
- Post Title: Re: Señor Casaroja's Noesis

Mr Adults, have you ever seen anything like these files before? Your input will be greately appreciated in my quest.

PokaPoka FLVER (with import script to blender -> [viewtopic.php?p=56482#p56482](http://forum.xentax.com/viewtopic.php?p=56482#p56482) )
[http://xis9.com/pokapoka.flver](http://xis9.com/pokapoka.flver)

Armored Core: For Answer FLVER
[http://xis9.com/armored.flver](http://xis9.com/armored.flver)

Dark Souls FLVER
[http://xis9.com/ds.flv](http://xis9.com/ds.flv)

[http://xis9.com/ds2.flver](http://xis9.com/ds2.flver)

thanks for reading!
## Post #719
- Username: RacingFreak
- Rank: veteran
- Number of posts: 136
- Joined date: Fri Feb 11, 2011 5:44 pm
- Post datetime: 2012-01-13T12:57:18+00:00
- Post Title: Re: Señor Casaroja's Noesis

Awesome tool MrAdults!

Seeing it does support universal formats for Dreamcast, but however, it cannot open models from Metropolis Street Racer, great game for the Dreamcast with a lot of car models. The format seems to be a pak, however Noesis couldn't open it 

Here's example for the Alfa Romeo 159 files:
[](http://racingfreak.drivermadness.net/downloads/156.zip)

It will be awesome if Noesis could support it !
## Post #720
- Username: alon
- Rank: mega-veteran
- Number of posts: 163
- Joined date: Mon Nov 29, 2010 5:38 pm
- Post datetime: 2012-01-13T14:08:34+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from hatyn
>
> Mr Adults, have you ever seen anything like these files before? Your input will be greately appreciated in my quest.

PokaPoka FLVER (with import script to blender -> viewtopic.php?p=56482#p56482 )
http://xis9.com/pokapoka.flver

Armored Core: For Answer FLVER
http://xis9.com/armored.flver

Dark Souls FLVER
http://xis9.com/ds.flv

http://xis9.com/ds2.flver

thanks for reading!

They have different the software maker and file's properties even though they are the same flver files.
Another Century's Episode R - From Software / Banpresto
[http://www.mediafire.com/?cnc1zwatgbaprod](http://www.mediafire.com/?cnc1zwatgbaprod)
Another Century's Episode Portable - From Software / Bandai Namco Games
[http://www.mediafire.com/?b9mvx7wrtu1fh0g](http://www.mediafire.com/?b9mvx7wrtu1fh0g)
Armored Core: For Answer - From Software / Ubisoft
[viewtopic.php?f=16&t=7834](http://forum.xentax.com/viewtopic.php?f=16&t=7834)
Dark Souls - From Software / Namco Bandai Games America
[viewtopic.php?f=10&t=7852](http://forum.xentax.com/viewtopic.php?f=10&t=7852)
MonHun Nikki: Poka Poka Ailu Mura - Capcom
[http://www.mediafire.com/?5zrclo3r7c734i7](http://www.mediafire.com/?5zrclo3r7c734i7)
## Post #721
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-01-13T18:21:30+00:00
- Post Title: Re: Señor Casaroja's Noesis

I'm trying to get this whole tristrip thing working if I'm not given an index buffer and following this explanation: [http://www.codercorner.com/Strips.htm](http://www.codercorner.com/Strips.htm)

But the output is all wrong.

So for example in this format: [viewtopic.php?f=16&t=8037](http://forum.xentax.com/viewtopic.php?f=16&t=8037) (first post)
I don't know how the faces are defined, but I see a bunch (thousands...) of vertex groups, so maybe I just have to make triangle strips.

Based on the website I just have to read the vertices in, and then start stringing them together

012
123
234
...

So I went and manually created a list of indices, passed it to the createTriStrip function, and then put them all into bytes before committing them.

And it doesn't work as intended lol
Faces are drawn, but it's wrong. It also crashes without giving that "noesis has crashed! Send the log?" message if I loop several hundred times (> 200)

There's probably a faster way to do this?
[fmt_virtualCoptest_bin.7z](https://xentaxbackup.github.io/file/4983_fmt_virtualCoptest_bin.7z)
## Post #722
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-01-13T21:13:06+00:00
- Post Title: Re: Señor Casaroja's Noesis

I'm not sure why you are still trying to pass triangle strips to createTriStrip. I thought I had explained that createTriStrip creates triangle strips from lists, it doesn't decode strips, hence the function name. 

If you want to feed vertices to Noesis in the form of a triangle strip without an actual index buffer, you can use immBegin/immEnd with RPGEO_TRIANGLE_STRIP and feed the verts in order, or you can use CommitTriangles with RPGEO_TRIANGLE_STRIP and pass None for the indices and the number of vertices as the number of indices. (after you bind your vertex buffers)
## Post #723
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-01-13T21:52:41+00:00
- Post Title: Re: Señor Casaroja's Noesis

Would [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10] be a valid triangle list for that function?
## Post #724
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-01-13T22:01:58+00:00
- Post Title: Re: Señor Casaroja's Noesis

No, that's a strip. The number of entries in a triangle list has to be evenly divisible by 3. So for example if you fed [0, 1, 2, 2, 1, 3] to createTriStrip you would get back something like [0, 1, 2, 3].
## Post #725
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-01-15T03:05:21+00:00
- Post Title: Re: Señor Casaroja's Noesis

I've seen several formats that store the bone index and weights for each vertex with the vertices themselves (which makes sense I guess)

So for example if it's something like

```
    float[3] positions
    float[3] normals
    byte[4] bone indices
    float[4] bone weights (corresponding to each bone)
    float[2] uv
}

```


Do I just bind the same way like the other data? ie:

```
rapi.rpgBindBoneIndexBuffer(vertBuff, noesis.RPGEODATA_BYTE, 52, 24)
rapi.rpgBindBoneWeightBuffer(vertBuff, noesis.RPGEODATA_FLOAT, 52, 28)
...

```


The __NPexample file shows something about flat weights and building a list of NoeVertWeight objects.
## Post #726
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-01-15T18:20:02+00:00
- Post Title: Re: Señor Casaroja's Noesis

Trivial issue: I want to read 10 half-floats.
What's the fastest way to do it?

loop + readHalfFloat()?

2. [Uncompressed DDS](http://forum.xentax.com/viewtopic.php?p=65306#p65306). Which texFmt do I use?
## Post #727
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-01-15T22:21:54+00:00
- Post Title: Re: Señor Casaroja's Noesis

Sounds like howfie is handling the triangle strips incorrectly. Deriving triangle winding from vertex normals is a Bad Idea, and there's no way Namco's engineers would write something that does that at load/run time. I'm betting that if you feed the index buffer through Noesis using RPGEO_TRIANGLE_STRIP, it will work just fine, as it natively recognizes (and allows you to set custom terminators for) 360/PS3 triangle strips.

As for uncompressed DDS, DDS files can be in shitloads of formats so the format depends on the DDS header. If you meant to say DXT instead of DDS, then you'd want to use the appropriate DXT type. Given that the DXT data is from a console game, you may also have to endian-swap it first. See the Bullet Witch script for examples, it handles virtually every type of DXT data and demonstrates endian-swapping it as well as untiling it. That game is from PS3 from what I gathered from the thread, though, so you shouldn't need to untile.

I'm again going to guess that howfie misspoke there, and he meant the texture data is headerless DXT, not headerless DDS, as headerless DDS makes no real sense.  You'll probably want to use NOESISTEX_DXT1-NOESISTEX_DXT5 on the data. Again, endian-swapping may or may not be necessary. If it is necessary, you just need to do something like "data = rapi.swapEndianArray(data, 2)".

And, finally, half-floats. If you need to read a bunch to build a list of floats (that is, you need them in floating point format and not as raw bytes), I would say a loop is best. However, keep in mind that the rpg interface also supports half-floats natively. So if they're a vertex component or something, you can use RPGEODATA_HALFFLOAT to feed them in with a rpgBind* call. For example, "rapi.rpgBindUV1BufferOfs(vertBuffer, noesis.RPGEODATA_HALFFLOAT, vertexSize, uvOffset)".

Edit: Oh, and yes, when vertex weights are part of the central vertex structure, you just bind the buffers like any other vertex component. The flat weights structure is for converting variable-sized weights to a flat array format that can be conveniently bound with a fixed stride.
## Post #728
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-01-16T05:57:08+00:00
- Post Title: Re: Señor Casaroja's Noesis

By uncompressed DDS I meant uncompressed ABGR data without a DDS header. To save the textures I generate a DDS header with the xentax.WriteUncompressedDDSHeader(...) function. In the C++ versions of my rips you will also see code for generating DXT1 to DXT5 headers as well. Just pass it the width and height, whether or not it has mipmaps or not and you are rearing to go. You could actually save the tekken texture data after saving BITMAPFILE and BITMAPINFO HEADERs and it would work too. So uncompressed ABGR would be a better term, but sorry, it saved me from typing a letter LOL !
## Post #729
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-01-16T21:04:57+00:00
- Post Title: Re: Señor Casaroja's Noesis

When assigning materials in immediate mode, do I just call rapi.rpgSetMaterial before I start making the triangles?
How about per-face materials? call the function inside the loop for every iteration?
## Post #730
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2012-01-17T03:38:01+00:00
- Post Title: Re: Señor Casaroja's Noesis

anybody ever rip Square Enix's Virtual World models. I'm particularly interested in frimelda... Also this is another personal request. About the data viewer. MrAdults Could you please rework the way model's can be manipulated? maybe by mouse or even arrow keys? Binding of any joint to it would be awesome. Toggle'd via middle mouse button or "t" to lock in new position... And a key "r" to rotate through each joint.. Plus the ability to save each frame towards a new anim? For those of us who dont want a kinect...
## Post #731
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-01-17T23:59:20+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from finale00
>
> When assigning materials in immediate mode, do I just call rapi.rpgSetMaterial before I start making the triangles?
How about per-face materials? call the function inside the loop for every iteration?
Yes you do. And yes you do. Just don't call rapi.rpgSetMaterial between rpgBegin and rpgEnd. (in keeping with functionality identical to OpenGL rendering in immediate mode) If every triangle has a unique material, then you have to call rpgBegin and rpgEnd for each triangle. This isn't actually a bad idea, and shouldn't have any considerable overhead, so don't be afraid of doing it that way.

Preemptive apologies for being less frequent and prompt in the coming days/weeks, another contract job has come up, and I've started another personal side project on top of that.
## Post #732
- Username: SILENTpavel
- Rank: advanced
- Number of posts: 54
- Joined date: Fri Aug 05, 2011 12:53 pm
- Post datetime: 2012-01-18T12:44:21+00:00
- Post Title: Re: Señor Casaroja's Noesis

del [the problem is solved]
## Post #733
- Username: Chthonic
- Rank: n00b
- Number of posts: 10
- Joined date: Mon Jan 23, 2012 4:08 am
- Post datetime: 2012-01-22T22:49:32+00:00
- Post Title: Re: Señor Casaroja's Noesis

First I want to say, that most of you guys are amazing with what you can do. I didn't know some thing you can do with the reverse engineering. I was curious though. I'm a huge Macross Fan and was wondering how would I use this program to extract some of the models from some of the PSP games that have come out. Any help would be great. Thanks
## Post #734
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-01-22T23:03:35+00:00
- Post Title: Re: Señor Casaroja's Noesis

If you can get the model files and they happen to be GMO format that's already supported then you should be able to do stuff with them.

Otherwise you're stuck with either figuring it out yourself or posting it in the 3D section and hoping someone will help you out.
## Post #735
- Username: Azurfan
- Rank: advanced
- Number of posts: 61
- Joined date: Thu Jun 24, 2010 5:12 am
- Post datetime: 2012-01-25T10:01:51+00:00
- Post Title: Re: Señor Casaroja's Noesis

I have a minor question: Is it possible to save a model's pose? Or is it possible to view and enter the location and rotation coordinates by hand? That would be really useful.
## Post #736
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-02-01T03:13:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

It looks like a lot of tools have support for kinect.

Does yours support non-human models? lol
## Post #737
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-02-01T21:54:28+00:00
- Post Title: Re: Señor Casaroja's Noesis

The contents of this post was deleted because of possible forum rules violation.
## Post #738
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-02-01T23:37:35+00:00
- Post Title: Re: Señor Casaroja's Noesis

The Noesis Kinect implementation supports mocap on the NI/NITE skeleton, and it supports mapping that mocap skeleton to any skeleton. I've used it with non-humanoid characters before.

SC5 files will load in the next version of Noesis, whenever I get around to publishing a build. The only reason the files aren't accepted by Noesis is because they changed the NMD marker to 4E 4D 44 2E instead of 4E 4D 44 03. You can hex edit the 03 to 2E and Noesis will load it fine as-is. It won't load materials correctly though, which isn't surprising, I never completely figured out the material data in SC4 or T6.
## Post #739
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-02-02T00:00:59+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> The Noesis Kinect implementation supports mocap on the NI/NITE skeleton, and it supports mapping that mocap skeleton to any skeleton. I've used it with non-humanoid characters before.

SC5 files will load in the next version of Noesis, whenever I get around to publishing a build. The only reason the files aren't accepted by Noesis is because they changed the NMD marker to 4E 4D 44 2E instead of 4E 4D 44 03. You can hex edit the 03 to 2E and Noesis will load it fine as-is. It won't load materials correctly though, which isn't surprising, I never completely figured out the material data in SC4 or T6.

Oh thanks mr adults, I'm gonna try ^_^
## Post #740
- Username: McCuñao
- Rank: veteran
- Number of posts: 101
- Joined date: Sat Apr 22, 2006 8:49 pm
- Post datetime: 2012-02-02T15:26:41+00:00
- Post Title: Re: Señor Casaroja's Noesis

The contents of this post was deleted because of possible forum rules violation.
## Post #741
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-02-02T16:35:48+00:00
- Post Title: Re: Señor Casaroja's Noesis

Is there a way to determine whether weights look right in preview mode? (vertex weights I guess, or however other ways bone weights may be implemented)
## Post #742
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2012-02-02T17:48:26+00:00
- Post Title: Re: Señor Casaroja's Noesis

the main thing to do is manually move a bone in noesis and see if the deformations look right. I did not see a way to see vertex weights tho you could assign them as colors to test it visually.
## Post #743
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-02-02T22:43:51+00:00
- Post Title: Re: Señor Casaroja's Noesis

What I like to do is assign a procedural animation to the model (check the commented out code that does this for Bullet Witch), that way all I have to do is hit play after the model loads to check that the weights are all working. Or, like chrrox said, you could visualize them by assigning vertex colors based on the weight values, but that could be a little bit of work to do nicely.
## Post #744
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-02-03T07:13:50+00:00
- Post Title: Re: Señor Casaroja's Noesis

Formats that like to store their ascii characters in 2 bytes.
Cleanest way to deal with these?
## Post #745
- Username: Dinoguy1000
- Rank: Site Admin
- Number of posts: 786
- Joined date: Mon Sep 13, 2004 8:55 am
- Post datetime: 2012-02-03T07:29:50+00:00
- Post Title: Re: Señor Casaroja's Noesis

Are the first two bytes FE FF (or FF FE)? If so, it probably uses [UTF-16](http://en.wikipedia.org/wiki/UTF-16) encoding (not that this really helps with your question).
## Post #746
- Username: Sniperello
- Rank: n00b
- Number of posts: 10
- Joined date: Sat Jan 08, 2011 7:26 am
- Post datetime: 2012-02-03T15:41:16+00:00
- Post Title: Re: Señor Casaroja's Noesis

Actual models Call of duty games series  not support in future? 
Sorry my bad english =)
## Post #747
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-02-03T16:40:07+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Dinoguy1000
>
> Are the first two bytes FE FF (or FF FE)? If so, it probably uses UTF-16 encoding (not that this really helps with your question).

Nope. I think that's only used as a standard that's only really useful when sharing your files with others.

I think with formats like these, their engine would parse all strings the same way, so if they had japanese or chinese characters (or anything that was stored in 2 bytes) they don't need to parse them any differently.
## Post #748
- Username: Dinoguy1000
- Rank: Site Admin
- Number of posts: 786
- Joined date: Mon Sep 13, 2004 8:55 am
- Post datetime: 2012-02-03T19:37:06+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from finale00
>
> Dinoguy1000 wrote:Are the first two bytes FE FF (or FF FE)? If so, it probably uses UTF-16 encoding (not that this really helps with your question).

Nope. I think that's only used as a standard that's only really useful when sharing your files with others.

I think with formats like these, their engine would parse all strings the same way, so if they had japanese or chinese characters (or anything that was stored in 2 bytes) they don't need to parse them any differently.

Keep in mind that those bytes aren't required, and many programs won't add them to begin with when saving UTF-16 files. Another way to tell is if, in lots of the byte pairs (specifically ones corresponding to text in a language that uses the Latin alphabet), one byte (the same byte across all the pairs; I can't remember for sure whether it'd be the high or low byte) is null.

Yes, that's what Unicode is designed to do: if an application supports Unicode, it automatically supports all characters included in Unicode (well, this is a gross oversimplification, but no one should be using Unicode tools that require them to separately add support for e.g. character combining).
## Post #749
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-02-03T23:12:23+00:00
- Post Title: Re: Señor Casaroja's Noesis

Yeah, you're describing unicode strings that don't happen to use anything in the extended character range. You should be able to load them in as unicode strings, and if you wanted you could then decode as something like UTF8 and it should work fine. (as long as they really aren't using any extended range characters)
## Post #750
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-02-05T05:36:32+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hmm, not sure how to describe this issue I'm having.

Here's a visual example:



The left is what I see.
The right is what I'm supposed to see (by disabling face culling)

The faces are drawn "inverted" I guess, so I'm seeing the back of it instead of the front (or however it is termed).

Usually when I just want to flip the front and back, I just multiply the x value of each position by -1.
Which gets the job done. I could probably just say "no face culling", but that's not a real solution.

The faces are stored as triangle lists, so I just commit them using the TRIANGLE constant.
Some of the models show up as expected, others are "inverted" as shown. There might be a flag that tells me "ok invert them". Maybe.

Is there a way to "invert" the faces without explicitly multiplying x-coords by -1?
## Post #751
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2012-02-05T12:09:36+00:00
- Post Title: Re: Señor Casaroja's Noesis

instead of applying the faces as f1 f2 f3 do f1 f3 f2
## Post #752
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-02-05T19:07:21+00:00
- Post Title: Re: Señor Casaroja's Noesis

You don't generally want to touch vertex coordinates if you're just trying to change triangle winding order. If you're using rpgCommitTriangles then you can just use rapi.rpgSetOption(noesis.RPGOPT_TRIWINDBACKWARD, 1) before you call it and it will reverse the triangle winding.
## Post #753
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-02-05T19:32:19+00:00
- Post Title: Re: Señor Casaroja's Noesis

Are there any cases where it is actually bad to change the winding order? (eg: something goes wrong and the faces aren't drawn correctly and maybe crashes occur)
## Post #754
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-02-05T20:22:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

No, changing the winding order should have no extra potential for crashing.
## Post #755
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-02-07T05:48:30+00:00
- Post Title: Re: Señor Casaroja's Noesis

Can you add some GUI shortcuts? lol
Like ctrl+O to open a file, ctrl+R to reload a model, ctrl+W to close a model, etc.
## Post #756
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-02-07T07:32:48+00:00
- Post Title: Re: Señor Casaroja's Noesis

There's already an interface for assigning any shortcut you want to any menu item you want. View->Interface->Customize...
## Post #757
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-02-07T07:52:53+00:00
- Post Title: Re: Señor Casaroja's Noesis

lol cool. 
Was this in the docs? (I don't read docs)

I guess I should, since there's information about making plugins that may be relevant. The last point in the plugin making section sounds like something that would be awesome if someone tried adding support for yet another scripting language.
## Post #758
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-02-08T01:56:15+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from finale00
>
> Was this in the docs? (I don't read docs)
This explains a great many of your questions.  But no, I don't think I mentioned that feature in the docs anywhere. I did write the docs to be read, though, and they tend to be sprinkled with various useful tidbits. I'll also occasionally be a worthless bum and put usage info in the "what's new" section when I add features, though, which makes it virtually impossible to find that info another 20-30 releases down the line. There will be proper documentation one day. Unless I die before I write it, which becomes an increasingly likely scenario as I continue to put it off.
## Post #759
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-02-08T03:15:41+00:00
- Post Title: Re: Señor Casaroja's Noesis

Queen's blade topic updated with script + models.
String parsing is getting quite difficult for me.

For example in that game, a lot of the materials reference tex paths that contain korean characters mixed with normal ascii characters. 

So for example you might have the following path

> d:\work\pc\엔진\pc\커스터마이징\punisher-눈,입술커스텀\ingamedata\pu\..\tex\pu_fc_n_01.dds

Stored as 



I don't know how to deal with these.
I would usually just let python deal with it when I'm reading them as normal text, but converting it from bytes would cause problems.

Some methods I had considered:

-just use korean encoding. But it's not all korean...
-try to parse it somehow. Complicated.
-ignore it

I've posed a question on stackoverflow regarding string parsing so maybe I'll find a temp solution for it.
## Post #760
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-02-08T12:57:11+00:00
- Post Title: Re: Señor Casaroja's Noesis

if i recall right there is an algorithm for it where you check the bits and determine if you need to read another character or not. read it a character at a time. if it's greater than 0x7F, read the next character too and then append a crap ascii character to your string like 'x' or something. you should get something like

```

```


stop when you encounter a 0x00 and then extract filename without path. of course this works only if korean unicode character is < 0x7FF. If first character is actually greater than 0xC0 and second character is greater than 0x7F, then you have to skip 3 characters and replace it with one 'x'.

try the first one to see if it works with all filenames.

you could also just read as ascii string until you reach 0x00 and then strip the path as the actual filenames don't appear to use korean. just do whatever's fastest for you cuz we have a bunch of horny bastards here who just want to see some titties  lol.
## Post #761
- Username: Dinoguy1000
- Rank: Site Admin
- Number of posts: 786
- Joined date: Mon Sep 13, 2004 8:55 am
- Post datetime: 2012-02-08T21:43:27+00:00
- Post Title: Re: Señor Casaroja's Noesis

That looks to me like Unicode (specifically [UTF-8](http://en.wikipedia.org/wiki/UTF-8)), so any string functions that can handle Unicode strings should be able to handle it just fine, no need for convoluted parsing or anything.
## Post #762
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-02-09T23:38:56+00:00
- Post Title: Re: Señor Casaroja's Noesis

I've tried encoding it as UTF-8 but it just says that some bytes fall outside of the UTF-8 range.
Hmm.

Regarding "effects" that usually come in games, like the shiny glows that swirl around your shiny weapons and armor, is it possible to show those in noesis? I think they call it "particles" or something.
## Post #763
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-02-11T00:37:00+00:00
- Post Title: Re: Señor Casaroja's Noesis

Yeah, the string you pasted showed things outside of the UTF8 range. What I said earlier only applied for unicode strings that don't go outside of the UTF8 range. Because it does, if you want to treat it as a multibyte string, your only choice is to do something like what howfie suggested. You should still be able to use all 8 bits of encoding, though, if you want, so you can just zero out the top byte in every character and you should eliminate the decoding error. (although you'll of course lose the actual unicode characters in the string)

Internally Noesis uses kind of a horrible hack (keep in mind, this codebase does have a legacy extending over 10 years, and is full of unfathomable horrors in every corner) where I'll use | to encode wide chars in multibyte filename strings. So |FFFF would get parsed out in the conversion back to unicode as a single character representing 0xFFFF. But this approach probably wouldn't be useful to you for what you're trying to do.

If you're mostly worried about the dirtiness, I can provide you a generic "Convert widechar to multibyte" function that forcefully eliminates anything outside of the UTF8 range without concern for preserving genuine wide characters.

On the note of particles...not really. You could sort of create your own particle system by hand-animating a bunch of bones and attaching "particle" meshes to them or by using vertex morphs/animations to move your system. But there isn't an "orient to the view" flag. If you really need that, though, I can add it for you. I'd probably give you a series of "ORIENT_ON_X"/"ORIENT_ON_Y"/etc. flags and then just match the geometry to the view axis on the axis specified by the flag. I also have a nice little portable particle system that I could shove into Noesis, although you'd have to script your own particles to use it, so I guess how useful it would be depends on what you're really trying to accomplish. If you just want to make sprite blobs on models orient to the view then an actual particle system would be totally overkill.
## Post #764
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-02-11T20:45:52+00:00
- Post Title: Re: Señor Casaroja's Noesis

RESOLVED

I'm not too interested in particles.
String-parsing seems rather tricky.

I've noticed something strange when taking a single model with multiple meshes and trying to load them as separate meshes so that you can cycle through them.

I parse the file and store the vertex and index buffers in a list.

Then after parsing is done, for each set of vert and index buffers, I clear buffer binds to clean anything the previous iteration, bind the vertex buffers and commit the triangles, then constructModel, apply materials, and append it to the mdlList.

```
    '''Build the model, set materials, bones, and animations. You do not
    need all of them as long as they are empty lists (they are by default)'''
    
    ctx = rapi.rpgCreateContext()
    parser = SanaeParser(data)
    parser.parse_file()
    
    for i in range(len(parser.vertBuffs)):
        vertBuff, numVerts = parser.vertBuffs[i]
        idxBuff, numIdx, matNum = parser.idxBuffs[i]
        matName = parser.matList[matNum].name

        rapi.rpgClearBufferBinds()
        rapi.rpgBindPositionBufferOfs(vertBuff, noesis.RPGEODATA_FLOAT, 32, 0)
        rapi.rpgBindNormalBufferOfs(vertBuff, noesis.RPGEODATA_FLOAT, 32, 12)
        rapi.rpgBindUV1BufferOfs(vertBuff, noesis.RPGEODATA_FLOAT, 32, 24)        
        
        rapi.rpgSetMaterial(matName)
        rapi.rpgCommitTriangles(idxBuff, noesis.RPGEODATA_USHORT, numIdx, noesis.RPGEO_TRIANGLE, 1)    
        
        mdl = rapi.rpgConstructModel()
        
        mdl.setModelMaterials(NoeModelMaterials(parser.texList, parser.matList))
        #mdl.setBones(parser.boneList)
        #mdl.setAnims(parser.animList)
        mdlList.append(mdl)
    return 1

```


When I look at the data viewer, I see the first model has the mesh 0  as expected.
The second model has the mesh 0 and mesh 1
The third model has mesh 0, mesh 1, and mesh 2.

The code looks like it should be loading one mesh per model.
What am I doing wrong?

Also, I'd like default UI shortcuts. I think it's more user-friendly, especially when I move around to different machines and stuff. Then I don't have to set up what I usually have, which are just window defaults for things like closing the current instance, opening a file, etc.
## Post #765
- Username: Arymond
- Rank: advanced
- Number of posts: 54
- Joined date: Sun Feb 12, 2012 7:49 am
- Post datetime: 2012-02-11T23:58:07+00:00
- Post Title: Re: Señor Casaroja's Noesis

The contents of this post was deleted because of possible forum rules violation.
## Post #766
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-02-12T06:44:25+00:00
- Post Title: Re: Señor Casaroja's Noesis

The contents of this post was deleted because of possible forum rules violation.
## Post #767
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-02-16T05:30:02+00:00
- Post Title: Re: Señor Casaroja's Noesis

I generally try not to make myself a liar when I promise I'm going to work on Noesis in a given timeframe, but... I've made myself a liar this time. I've just had way too much stuff going on. I'm not ignoring you though, finale00, and will address your growing collection of issues once I can finally set aside a weekend for Noesis and have a chance to actually look into everything mentioned. Just wanted to post to at least say that much before I disappear for n days again. I also wish I could talk about what it is that's primarily been eating my time (not counting FF13-2... terrible disappointment of a game, it showed promise in the beginning before it turned out to be 10 hours long with its optional content buried underneath horrible, pointlessly tedious, and OCD-exploiting mechanics), but, NDA's and such. It'll probably be quite a while yet before it appears in the public eye.
## Post #768
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-02-16T17:39:29+00:00
- Post Title: Re: Señor Casaroja's Noesis

I'm just collecting a list of issues.
It may be useful for others as well.

Maybe I'll make a wiki article for like "Noesis python FAQ" or something later since a lot of the stuff would probably come up again.

I've also resolved the big endian and binding issues after noticing the "RPGOPT_BIGENDIAN" option.
## Post #769
- Username: fedeita
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Fri May 22, 2009 12:49 am
- Post datetime: 2012-02-18T12:49:02+00:00
- Post Title: Re: Señor Casaroja's Noesis

i need horse model and texture please, anyone?
## Post #770
- Username: LUBDAR
- Rank: veteran
- Number of posts: 95
- Joined date: Wed Jun 08, 2011 2:14 pm
- Post datetime: 2012-02-18T16:18:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from fedeita
>
> i need horse model and texture please, anyone?

It's great you said "please"...
but have you looked through the other threads?  This one is primarily for Noesis.  Have you tried using google to search for horse models?  I'm pretty sure there are resources out there for already extracted models.
## Post #771
- Username: fedeita
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Fri May 22, 2009 12:49 am
- Post datetime: 2012-02-18T22:01:44+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from LUBDAR
>
> fedeita wrote:i need horse model and texture please, anyone?

It's great you said "please"...
but have you looked through the other threads?  This one is primarily for Noesis.  Have you tried using google to search for horse models?  I'm pretty sure there are resources out there for already extracted models.
can you help me please, a poor lost soul? i can't find anything related to what i'm looking for...
## Post #772
- Username: dragbody
- Rank: veteran
- Number of posts: 126
- Joined date: Tue Sep 20, 2011 11:33 am
- Post datetime: 2012-02-19T02:15:39+00:00
- Post Title: Re: Señor Casaroja's Noesis

The contents of this post was deleted because of possible forum rules violation.
## Post #773
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-02-19T05:22:37+00:00
- Post Title: Re: Señor Casaroja's Noesis

I have resolved the issue where I bound some buffers, constructed a model, cleared the buffers to construct a second model but the buffers from the previous model(s) were still bound.

I just called rpgReset, which appears to "reset the context"

Though, I'm not entirely sure what the context is, and why that works. I would've thought clearBufferBinds would do the trick.
## Post #774
- Username: brienj
- Rank: VIP member
- Number of posts: 288
- Joined date: Mon May 02, 2005 8:48 pm
- Post datetime: 2012-02-19T05:38:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from fedeita
>
> i need horse model and texture please, anyone?
Barbie's Horse Adventure has horses.
## Post #775
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-02-19T23:06:18+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from brienj
>
> fedeita wrote:i need horse model and texture please, anyone?
Barbie's Horse Adventure has horses.

lol i would not be caught dead with that kind of game.
## Post #776
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-02-20T05:49:01+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from howfie
>
> brienj wrote:fedeita wrote:i need horse model and texture please, anyone?
Barbie's Horse Adventure has horses.

lol i would not be caught dead with that kind of game.

I wanna a Pony... Pinky Pie!!!

Changing subject, any news regarding noesis?? I know mr.adults has been busy recently.
## Post #777
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-02-22T00:31:19+00:00
- Post Title: Re: Señor Casaroja's Noesis

I guess I have no choice but to add support for Barbie Horse Adventures: Wild Horse Rescue, then.

But no, no news. I've been terrible and lazy on top of being busy. I think I might finally work on Noesis a bit this afternoon, though. No idea how much I'll be able to get done before I get pulled away again. I also have a backlog of 36 crash reports to go through now.
## Post #778
- Username: jackjack45
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Thu Feb 23, 2012 10:07 am
- Post datetime: 2012-02-23T02:24:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hey guys! I'd been using mesh2rdm for a while (since a friend recommended it to me) and moved on to Noesis today. I've been trying to learn animation, rigging and stuff on my own and have been using the Dissidia models. I had some character models I got from the net and decided to go all out and get all the Dissidia models. Here is my process:
1: Dissidia Modding Suite to extract all GMOs
2: Manual shuffle through GMOs for the right one before going one by one, converting them to .obj
3: This is where it gets weird. There appears to be no UV Mapping on any of the models, characters or stages, or other misc. ones. I can fiddle around with the options in Blender (since that's the program I use) and can render the models with textures (I just can't use any light sources because of what I have to do in order to render them). But it's a hassle and since I prefer to rig my own skeletons (practice makes perfect) I can't actually see what I'm doing when weight painting.

I noted that when I used Noesis to export the models from their .GMOs to .OBJs that the end result, if opened with Noesis, tells me (bottom right hand corner) that are no textures. There are materials however and for some reason the model in the viewer is fully textured. I never once used either "-notex" or the no textures option in the interface. I looked it up and apparently I'd have to manual map each texture to the model which is pretty crazy considering how many there are. 

Does anyone have any suggestions or ideas how I might be able to correct this?

I am running Blender 2.62 (64 bits) on Windows 7, Noesis version 3.82 and have Python 3.2.2. 

I have no clue what to do at this point. Any help would be appreciated.

EDIT: Linked is an example of both the .GMO I was trying to convert and the converted .OBJ with textures. [http://www.2shared.com/file/UNBccTxq/Bartz_3rd_Alt.html](http://www.2shared.com/file/UNBccTxq/Bartz_3rd_Alt.html)
## Post #779
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-02-23T03:12:07+00:00
- Post Title: Re: Señor Casaroja's Noesis

Upload a sample GMO sample and any textures (if they're not stored with the GMO). I don't remember if I had them textured or not.

I'm not sure if the material library that's created is correct either.
## Post #780
- Username: jackjack45
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Thu Feb 23, 2012 10:07 am
- Post datetime: 2012-02-23T03:29:07+00:00
- Post Title: Re: Señor Casaroja's Noesis

Edited my previous post. Linked to the stuff.
## Post #781
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-02-23T04:29:18+00:00
- Post Title: Re: Señor Casaroja's Noesis

If you look at the obj file, it indicates which material is used for each mesh (usemtl)

I'm not sure if this is part of the specs, but maybe the blender importer does not load materials directly when it goes through the obj file and depends on a mtl file.
## Post #782
- Username: jackjack45
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Thu Feb 23, 2012 10:07 am
- Post datetime: 2012-02-23T04:48:49+00:00
- Post Title: Re: Señor Casaroja's Noesis

If that is the case, where do I get or how do I make a .MTL file? Also, I just looked at several of the other files I had downloaded and those from Dissidia all have a MTL file.
## Post #783
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-02-23T20:33:49+00:00
- Post Title: Re: Señor Casaroja's Noesis

Does anyone know how to parse XML files using python's XML libraries in noesis?

Also, I'm working with a format that stores a bunch of images in a single external file.
I have written a function to go and open the file and parse the data, and create a bunch of texture objects in my tex list.

Is there a way to make it so that I can write a separate texture plugin that will parse a list of textures, and still have the materials reference them by name?
## Post #784
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-02-24T15:58:17+00:00
- Post Title: Re: Señor Casaroja's Noesis

The bones for Noesis in NoeMat43 format, do they need the position (1*3) first or the axis(3*3)?
## Post #785
- Username: hatyn
- Rank: advanced
- Number of posts: 47
- Joined date: Sat Dec 17, 2011 3:30 am
- Post datetime: 2012-02-25T22:35:37+00:00
- Post Title: Re: Señor Casaroja's Noesis

i love you guys
## Post #786
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-02-26T22:20:11+00:00
- Post Title: Re: Señor Casaroja's Noesis

NoeMat43's are axis then translation, when looking at the data from a flat struct perspective.

The XML Python lib should be capable of assisting in XML parsing, and they're already included in the Noesis Python 3.2.1 distribution. As to how to use them, I have no idea, I haven't used them myself yet.
## Post #787
- Username: Milesgboy
- Rank: advanced
- Number of posts: 44
- Joined date: Sun Jul 04, 2010 12:02 am
- Post datetime: 2012-02-27T07:05:51+00:00
- Post Title: Re: Señor Casaroja's Noesis

Is there a chance of seeing shadowmoy's work with Bleach Soul Ignition to be put into a newer Noesis build? Of course that would mean for Shadowmoy to give consent to that. I just feel like that should get completed, and would like to see the models without deformities of bad meshes.
## Post #788
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-01T08:20:41+00:00
- Post Title: Re: Señor Casaroja's Noesis

lol I just realized how much time I managed to waste by calling the ConstructModel function every time I finish parsing a file.

When I told it to start constructing the model after everything was parsed, the amount of time required made more sense.
## Post #789
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-02T20:18:59+00:00
- Post Title: Re: Señor Casaroja's Noesis

I'm finally getting around to checking out the now 50-something crash logs. I'm noticing quite a few of you are reporting crashes from opening ff9anm files. You're only getting crashes because you're opening the wrong ff9anm file with the wrong ff9mdl file. Nothing I plan on doing about that, so there's no reason to continue submitting them. Just saying so hoping that I can save myself the trouble of having to look at more of them.
## Post #790
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-04T10:29:00+00:00
- Post Title: Re: Señor Casaroja's Noesis

lol I haven't sent any crash reports yet.

I'm writing an export plugin but not sure of the best way to do it.
From the example, you're directly accessing the objects' attributes and writing them to the bitstream directly. Is this the preferred way of doing things?

Also how do I get model materials/textures?
It's stored in mdl.modelMats but it seems to be None even though there are materials assigned? Not sure if this is a bug.

```
Noesis initialized.
Source file: item_DGR_FloatingBoard.xx
Dest file: test.xx
Options:
===
Output extension has set output file type to:
.xx - Illusion
Detected file type: Illusion
Loaded model materials:  <inc_noesis.NoeModelMaterials object at 0x0BFFBFF0>
Writing 'i05_22_00.bmp'.
Model materials during export:  None
Cleaning up...
Wrote file to test.xx.
Cleaned 8.00MB (in 2 pools).

```


It looks like when the model was loaded, modelMats contained something, but then during export it got lost...
## Post #791
- Username: jackjack45
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Thu Feb 23, 2012 10:07 am
- Post datetime: 2012-03-06T01:00:30+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hey guys, so I figured out what command line I was missing when trying to get Noesis to preserve UV Mapping in an .OBJ format. But I have two questions now. 

1: I remember back when using mesh2rdm, the line -ignoreroot would leave the model in a T-Pose, which was perfect for rigging (which is what I'm practicing). When using the line in Noesis (the latest version) it doesn't export the model in a T-Pose. Why is that and what is the new command line for exporting in a T-Pose? (I am using the Dissidia Duodecim Models, BTW and am extracting their battle models, not cinematic models, if that makes any difference). The point here is I want a model with the textures in a T-Pose so that I can practice different rigging methods in Blender (weight painting, parenting the skeleton to the mesh, whatever).

2: I exported the stages from Dissidia Duodecim as well and ran into some issues with them, particularly Order's Sanctuary. I don't know if it's because of all the meshes and textures it uses, but I can't get the floor or the green grinding rails to go transparent and render as they do in-game. I noticed Noesis does do this in the model preview and I was wondering what command lines I might be missing.

I use the lines:
-objmtl -flipuv

Any ideas, tips and/or help would be much appreciated. Sorry if someone already asked this or something similar beforehand, but I might have missed it when I went through the almost 60 pages of this thread.
## Post #792
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-06T07:13:46+00:00
- Post Title: Re: Señor Casaroja's Noesis

finale00: A bug was preventing the model materials from being set for Python export scripts. Fixed in 3.83, which I just put up. It's mostly a bugfix release because it's the result of all the crash reports I've been sifting through in my spare time over the last couple of days.

```
 -3.83 - NMD files from SC5 are now loadable.
 -3.83 - Fixed a bug preventing materials from being assigned for Python export scripts.
 -3.83 - Fixed a bug where Noesis could overflow its message pump by spamming too many paint messages, causing the program to sometimes become unresponsive. The new behavior can still be reverted by enabling the "Disable message throttle" System setting, but this is not recommended.
 -3.83 - Fixed a COLLADA import crash, when a controller node instance does not reference a valid entity.
 -3.83 - Fixed an OBJ import crash when the file has out-of-range indices.
 -3.83 - Fixed a crash when attempting to load TEX files with bad mip offsets.
```

jackjack45: You're mistaken, -ignoreroot never had that functionality for any format, and it only ignores translation data on unparented bones in animation data. (and it's probably broken for that purpose by now too, haven't checked it in forever and it was initially a hack added for my personal content pipeline with only md5anim in mind) Old versions of mesh2rdm may have given you bindpose geometry because they didn't correctly interpret GMO skeletons or animation data. Noesis doesn't support exporting raw bind poses for GMO files because it's unreliable. (many games store only weighted bones in the bind pose) If I ever support doing that it will be as a non-default option, but I don't plan to spend time on that right now or any time soon, too many more important things in the queue.
## Post #793
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-06T07:15:36+00:00
- Post Title: Re: Señor Casaroja's Noesis

Great, I was wondering if I was supposed to use an API call to grab the materials, or the data is somehow hidden away from me lol

Sounds like a major bug fix
## Post #794
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-06T07:18:31+00:00
- Post Title: Re: Señor Casaroja's Noesis

It was a big bug, but I guess no one had tried exporting materials in Python scripts, and it's worked fine for native plugins all along. (I haven't actually seen any exporters written by people other than me at all up to this point) I should also note that textures still won't be set, they're flushed after import for memory-conservation purposes. Plugins/scripts that want to export textures in the actual model file have to handle reloading the textures themselves. (you can use the same methods you would use to load external textures on import for that)
## Post #795
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-06T07:22:18+00:00
- Post Title: Re: Señor Casaroja's Noesis

Reload the textures as in like manually open them and stuff?

What if the textures are stored in the input model originally? Write them out during the parsing step?
## Post #796
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-06T07:23:55+00:00
- Post Title: Re: Señor Casaroja's Noesis

They should be written out to the desired format as external files before the export handler is called, so you can reload them from those already-interpreted files. It could become an issue if you're exporting to an image format with no import module, but no such format exists in Noesis at the moment.

Edit: Also, if this ever does cause issues, I can consider changing the existing behavior. I just don't really want to unless I have to. There's also a native plugin function to auto-gather texture data from all of the texture references on export, it's used in the MD2 exporter. I don't think I exposed it to Python though. Which again is an option, but doesn't seem very important right now. Translating texture data to Python bytearrays is just kind a fundamentally gross/high-overhead thing to do, so I'd really recommend using native plugins anyway if you have a format that needs that. But it kind of depends on how much texture data you're talking about as to whether it would make a tangible difference or not.
## Post #797
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-06T07:26:58+00:00
- Post Title: Re: Señor Casaroja's Noesis

That sounds like it would basically result in all plugins I write exporting the textures while it's parsing the file *just in case* they wanted to export to this particular format that stores textures inside the model file?
## Post #798
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-06T07:28:59+00:00
- Post Title: Re: Señor Casaroja's Noesis

No, exporting texture data is part of the standard export pipeline.
## Post #799
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-06T07:31:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

Oh ya, I just noticed all of the textures were being exported lol

If a model used a large number of textures would it take a significant hit on performance?
Like sure if it's only 4-5 small textures it probably isn't too bad but some models seem to like to have a whole bunch of textures, especially for large models like maps and stuff.

Guess people will just have to be patient.
## Post #800
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-06T07:34:41+00:00
- Post Title: Re: Señor Casaroja's Noesis

Yeah, although most of that overhead is again in the Python layer. Native plugins can also export texture data without reloading it from disk, because the textures are in the native global memory pool. (exposing the actual texture data to Python in the order that things happen would require actually duplicating all of that memory, which is kind of terrible) So if you're talking like 100MB of texture data, then again, that sounds like a format better-suited to a native plugin if you have performance concerns.
## Post #801
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-06T07:43:33+00:00
- Post Title: Re: Señor Casaroja's Noesis

Probably wouldn't happen often. Not the kinds of things I expect people to be using it for anyways.

Also, not sure how bounding boxes work, but the format I'm working with requires me to calculate the bounding box for an arbitrary model.

Previously I just grabbed the "max" and "min" vertices in terms of their coordinates and just set those as the max and min points for the bbox and the results seemed ok (this led to some overhead while parsing vertex coords), but is there a better or more correct way to do it?
## Post #802
- Username: Vashey
- Rank: advanced
- Number of posts: 41
- Joined date: Tue Mar 15, 2011 9:47 pm
- Post datetime: 2012-03-06T08:17:29+00:00
- Post Title: Re: Señor Casaroja's Noesis

How do you add plugins? I've put the dlls in the plugin file but it doesn't seem to work.
## Post #803
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-06T09:07:28+00:00
- Post Title: Re: Señor Casaroja's Noesis

mesh.uvs contains a list of vec3's.
I don't need the 3rd value. Fastest way to get it?

What I'm doing now

```

```
## Post #804
- Username: jackjack45
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Thu Feb 23, 2012 10:07 am
- Post datetime: 2012-03-06T14:29:30+00:00
- Post Title: Re: Señor Casaroja's Noesis

I remember a while back when you posted in the Dissidia Modding Suite for Prologus that you hadn't found a way )command line, I'm guessing) to get the cutscene models in a T-pose with skeleton, Mr.Adults. Did you ever find/figure out how to do it? It wasn't addressed again that particular thread and I'm curious to know. So I had been using the wrong command line all along? Damn, so what the right one for getting the model in a T-pose then?
## Post #805
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-06T18:21:34+00:00
- Post Title: Re: Señor Casaroja's Noesis

finale00: If you need an AABB then what you're doing should work just fine. There's actually already a native function to calculate bounds, radius, and 2D radius for a whole model called rpgGetModelExtents, but it works on a per-model (not per-mesh) basis and apparently I didn't expose it to Python. I don't know why I didn't. It shouldn't be too world-endingly expensive to do in Python, though.

Taking an 8 byte slice of the raw byte array works. Or you could write out each element as a float. You shouldn't notice any real performance difference between the 2 approaches.

jackjack45: Based on the forum search I don't seem to have ever posted in a thread here containing the words "Dissidia Modding Suite" so I have no idea what you're talking about, and I already answered all of those other questions in my last post. You can't do it because I haven't given you the option to do it.

Vashey: Be more specific. Which plugin(s) are you trying to use? Are you putting it with the other Noesis plugin DLL's that come with Noesis? Are you trying to use plugins (.dll files) or Python scripts (.py files)?
## Post #806
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-06T18:44:47+00:00
- Post Title: Re: Señor Casaroja's Noesis

Yes, I only need the bounds for the entire model.
## Post #807
- Username: jackjack45
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Thu Feb 23, 2012 10:07 am
- Post datetime: 2012-03-06T18:49:36+00:00
- Post Title: Re: Señor Casaroja's Noesis

Oh, sorry about that Mr. Adults, I read your last post wrong. I could have sworn you had posted in the thread I mentioned. I probably confused your icon with someone else since I'm browsing on my PSP. Didn't mean to cause any confusion. Thanks for the help!
## Post #808
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-06T19:59:54+00:00
- Post Title: Re: Señor Casaroja's Noesis

Oh, ok. No problem.

Edit: Unrelated note, I'm browsing the forums and catching up on some stuff I've been missing for weeks/months. You've done a lot, finale00 - good job on all of the tutorials and new Noesis scripts. I'm quite happy to see you doing all of this and helping Noesis get more recognition/usage even in my absence. (though I'm sure you aren't doing it for my sake, I nonetheless want to express appreciation) And chrrox too of course, but he already knows I love him.
## Post #809
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-07T02:10:10+00:00
- Post Title: Re: Señor Casaroja's Noesis

I'm getting the path of the directory using "rapi.getDirForFilePath(rapi.getInputName())", but it seems like in command line mode, the directory is just the empty string? Or at least, I have no idea what the current working directory is.

Trying some more things, it looks like if I just ask for the absolute path of the file, it takes me to where I'm actually calling noesis from (in this case, from a batch file in a completely different folder)

So I can just say "os.path.dirname(os.path.absname(rapi.getInputName()))", which gets me the correct directory path so I can load all of the meshes in the folder at once and export them.

I guess in this case, I could check whether dirpath == "" and then use the os.path version.
But this is assuming the batch file and the model file are in the same folder. Have not checked what happens if someone decides to reference a file's abspath in command-line...

```
    dirPath = rapi.getDirForFilePath(rapi.getInputName())
    if not dirPath:
        dirPath = os.path.dirname(os.path.abspath(rapi.getInputName()))    
    return dirPath

```


==========================

Secondly, is there a fast way to get the index of the material that the mesh uses?

In the dataviewer, I can examine the mesh and it tells me which material it uses...by name.

But we know that a lot of formats simply index into a material array, so I want to be able to quickly get the index without having to build a list of mat names on my own and get the index by searching through that list.
## Post #810
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-07T02:53:19+00:00
- Post Title: Re: Señor Casaroja's Noesis

In command-line mode because the file path you're giving it isn't absolute, the directory of the file is "" because it doesn't have an absolute path. This is actually correct. Example:

noesis ?cmode "c:\mydir\blah.obj" "c:\mydir\blah.fbx"
^ Directory of blah.obj is "c:\mydir\"

noesis ?cmode blah.obj blah.fbx
^ Directory of blah.obj is "", because you're relying Noesis finding the file in the current working directory.

Say blah.png is in the same directory and you want to open. In the first example you append the filename to the directory and open "c:\mydir\blah.png". That works. In the second example you append the filename to the directory (which is "") and open "blah.png". That also works, because it's still going to go through the working directory for all file operations.

Material index... I would just print the material list in Python. Since you're already using your own support framework, you could just make a quick function that iterates a material list and prints names and whatever else you care about, and then you've got that forever after.

Also, I just noticed you've amassed nearly 1300 posts in less than a year of being a member here. Such tenacity.
## Post #811
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-07T03:02:14+00:00
- Post Title: Re: Señor Casaroja's Noesis

I was hoping in that year, I would be able to load up skeletons and animations as well.
Lol. Never found the motivation to go further.
## Post #812
- Username: Acewell
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-07T03:11:11+00:00
- Post Title: Re: Señor Casaroja's Noesis

Oh, you still haven't made a script that handles skeletons? I noticed someone did, in...I forget the game already, it was the thread I just posted in about the bone palettes. It's really not too tough, you just need to create a NoeMat43 to represent the bone matrix and create a NoeBone with it along with the bone name and hierarchy info. Usually games will store bone orientations as quaternion+translation (and sometimes scale too), or a 4x4 matrix. For those you can just use NoeQuat or NoeMat44 and convert directly to NoeMat43. You may also have to transpose the row/column order sometimes. And sometimes games store bones in model space, and sometimes in parent-relative space, so you have to watch out for that too. There's a good bit of stuff to be aware of, but for most games it isn't too tricky, and there are some examples in existing scripts. Let me know if you run into any specific trouble. (or maybe you already let me know and I missed it, I've overlooked a lot of shit in the last few months)

Once you have bones down, animations are usually similar. But games get a lot trickier in storing them. I'm usually not willing to put forth the time investment, unless the game requires the animation data to transform the vertex data, the animation format is simple (like a flat format with little to no compression), or I just really really want those animations.
## Post #813
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-07T15:49:59+00:00
- Post Title: Re: Señor Casaroja's Noesis

Ya, the concept seems pretty straightforward and how they are stored can be pretty straightforward as well.
I just never actually took the time to sit down, look at the examples, and see what kind of functions I will actually use. The plan was to just grab an existing format and re-write it in noesis since all of the bones are done, but...well I said I'd do that 6 months ago but clearly I haven't done that.

I've looked at max scripts and blender scripts that do a lot of crazy things with the bone transforms and stuff, but ya.

Also, I was reading the titanquest thread where the skeleton was imported and you mentioned something about bone multiplying and bone hierarchy?
Is that something like, given 3 bones and their transforms with the following hierarchy

```
   Bone 2 - transform2
      Bone 3 - transform3

```


Where bone 1 is a parent of bone 2, and bone 2 is a parent of bone 3, the transform we apply to bone 3 is (transform1 * transform2 * transform3)?
## Post #814
- Username: pixellegolas
- Rank: ultra-veteran
- Number of posts: 423
- Joined date: Tue Aug 12, 2008 6:30 am
- Post datetime: 2012-03-07T18:58:59+00:00
- Post Title: Re: Señor Casaroja's Noesis

mradults + finale + chrrox should sit down in a room and just make magic. I can just run around and pass out some nice beverage and have that special look when staring at famous people
## Post #815
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-07T21:44:59+00:00
- Post Title: Re: Señor Casaroja's Noesis

Yeah, that's right. Transforms down a skeletal hierarchy are cumulative all the way down the hierarchy. That's what the multiplyBones function does for you, it transforms the bone matrices down the hierarchy and returns the bones with their new matrices set to absolute modelspace matrices which are no longer relative to their parents. (which is the form Noesis expects them in, contrary to animation matrices, which are expected in parent-relative space so that they can be easily stacked and/or applied to any point in the hierarchy along with other hierarchy-based bone modifiers)

Likewise, you can convert a modelspace bone matrix back to parent-relative by just multiplying the modelspace bone matrix with the modelspace inverse bone matrix of the parent.
## Post #816
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-07T21:59:07+00:00
- Post Title: Re: Señor Casaroja's Noesis

How do I specify texture/animation export format in command-line?

Also it looks like I can't use outFile.tell() without it throwing an exception

```
RuntimeError: Attempted to unpack on a write stream
```
## Post #817
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-03-08T19:37:07+00:00
- Post Title: Re: Señor Casaroja's Noesis

I have a question about applying textures on models when importing.
I followed the tutorial written by in the tutorial section and used the following code:

```
				texLength.append(self.inFile.readUInt())
				texMat.append(self.read_string(texLength[i]))
				texType.append(self.inFile.readUInt())
				if texType[i] ==7:
					length=self.inFile.readUInt()
					texString.append(self.read_string(length))
					texName = texString[i].split('\\')
					texName = texName[-1]
					if rapi.checkFileExists(rapi.getDirForFilePath(rapi.getInputName())+texName):
						print(texName)
					else: print("Not found:",texName)
					material = NoeMaterial(texMat[i],texName)
					rapi.rpgSetMaterial(texMat[i])
					self.matList.append(material)
				elif texType[i] ==9:
					texString.append(self.inFile.read('3f'))
				elif texType[i] ==10:
					texString.append(self.inFile.read('f'))
mdl=rapi.rpgConstructModel()
mdl.setModelMaterials(NoeModelMaterials(self.texList, self.matList))

```


However the texture never shows up (under mesh0 in the image the material shows up as Material: " ") unless I do 

```

```


I hardcoded the name here but I hope you get what I mean.

Is the tutorial wrong or am I missing something?
## Post #818
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-08T21:08:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

Did you call

```

```


Before committing the triangles?
## Post #819
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-08T22:01:07+00:00
- Post Title: Re: Señor Casaroja's Noesis

finale00: -imgoutex ".img" -animoutex ".anm" (but they have the problem of not being able to distinguish between formats that have the same extension, I need to fix that at some point... for the time being if that becomes a problem for you in development, you can just add a 2 to your extension string or something) Also, side note, it's probably a lot faster development-wise to just run the interface and bind a shortcut to "Reload plugins" to reload your scripts when you make changes. It should take less initialization time than command line mode, and you don't have to load the output file up separately to see your results. Not that you should change your existing workflow if you really like it, I just prefer to work that way myself when I'm writing Python scripts.

That exception was only there primarily for read attempts on write streams, I didn't even consider tell/seek/etc. I just removed it in the new version, so update and you should be fine.

Demonsangel: Your "rapi.rpgSetMaterial(texMat)" call is in the wrong place. That function should be called before you commit triangles to say "This is the material you should use with these triangles I'm about to feed you." Seems like you didn't actually paste the code where you're feeding the triangles in though.
## Post #820
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-08T22:43:23+00:00
- Post Title: Re: Señor Casaroja's Noesis

Alright it works.

Ya, I use reload plugins when writing importers.
For export, I just use command-line cause it's faster to test.

The format I'm exporting to does not support dds (choices I have are bmp, tga, or png).
This actually leads to several issues and design decisions when I'm writing plugins.

First, if my source format uses dds files, then I'm going to have to convert them to a usable format.

Now, if they're stored with the model data, then it's ok I will create Tex objects during the parsing and can tell noesis to  export them as png.

If they're stored separately in like the local folder or even a completely different place, I will most likely be referencing them and so they won't be exported.

Second is the texName that the materials reference. They will usually give the tex path or the tex name, with their .dds extension. If I am going to be converting to some other format, I will need to update all of the materials accordingly. This is not a real issue because I can hardcode my exporter to say "dds? Ok, then let's just rename it and update the material accordingly".

But the other issue is that when I load a dds file into noesis and then export it as png, it just appends ".png" to the texName, so you suddenly have "myTex.dds.png". When someone's converting them manually, they might use something like imageMagick and just output all of the files as "myTex.png".

Now, I have to make a decision between appending the extension to the texName, or replacing the dds extension with the png in my exporter. Or do some rough checks to determine which one is available.

And then there's the question of *where* the texture is actually stored.
Some games I just tell people to place the texture in the same folder as the model because that's how they were organized in the first place.

Other games, where they have a whole bunch of textures stored in one folder, I just say to just make it a subfolder in the model directory. This would then require some path parsing on my end lol

Seems like it'll take some effort to think about how to go about dealing with the textures.
## Post #821
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-03-09T12:07:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

Well, that makes sense I guess.
## Post #822
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-09T21:32:45+00:00
- Post Title: Re: Señor Casaroja's Noesis

Short answer is, try it, and see what you have to do to make it work. You seem to be overthinking the problem to the point of self-defeat.  The process is likely to differ based on the texture requirements of the output format, as well as how that format maps materials to textures, if it needs or optionally supports extension names in its own texture paths at all, and a variety of other things. No universal naming convention for textures can support every export format, so you're going to have to do some path cleanup in most cases either way. I can also expose Noesis_LoadTexturesForModel to the Python API at some point to make gathering simpler, although as already mentioned, there's going to be a lot of memory overhead. But it doesn't seem like you're to the point of even worrying about that yet, because you're still working with external textures.
## Post #823
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-10T06:01:31+00:00
- Post Title: Re: Señor Casaroja's Noesis

Here's a model with some quads.
I could break them into triangles I suppose, but well if I could parse them as quads why not lol

Then again apparently I can create polygons with like 8 sides and the format doesn't care so I guess I'll have to break those into tris...

Do I have to set some option to get it to render properly?
I've included the parser. Parse_faces is the method of interest.

Some of the models only show half of it. Looking at the format, it uses a "mirror" attribute to indicate that it should mirror the vertices. Can we do something like this in noesis? Or, is there a fast way to just create the vertices? Like it's mirrored on the z-axis (err...or maybe x-axis not sure), so I would just multiply the corresponding z- (or x-) value by -1 to get it on the other side of the axis.

btw the parser fails if there are non-ascii characters.
Can I specify the encoding to use when calling readline? I'm going to be using readline often with text files. Since MQO format is a japanese tool I can expect any non-ascii characters to be in japanese (otherwise metasequoia doesn't actually recognize it)

readline handles different end-of-line characters correctly I'm guessing (\n, \r\n, etc)?

And for immediate mode, the readme says the values are not normalized for me. How does that affect how I do things? I usually just toss everything into separate lists and then index into them according to the various indices. The vertices are usually correct, but the normals and UV's are almost always off.
[mqo samples.7z](https://xentaxbackup.github.io/file/5174_mqo samples.7z)
## Post #824
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-11T00:45:58+00:00
- Post Title: Re: Señor Casaroja's Noesis

I'm not sure what you're asking... if you have a model with quads instead of triangles, you can just use RPGEO_QUAD instead of RPGEO_TRIANGLE. Or did you mean you're trying to export quads? Converting triangles to quads is silly, but if the format requires it you could do that, and just use a degenerate edge for leftover triangles that can't be combined into quads. If it's in reality polygons and not quads then you can just convert triangles directly to polygons, it's not an issue at all.

No, I don't plan to support mirroring natively in Noesis, it's too much of a rare/specialcase thing to justify maintaining the functionality. If you want to import a format that uses mirroring, you have to mirror the geometry yourself. (multiplying by -1 on the given axis would do that yeah, or use a transform matrix for it and the RPG system will do it for you) If you want to export to it, I would just not use that functionality and not flag any verts as mirrored when exporting to the format.

readline like the other bitstream string functions assumes multibyte and not widechar strings. It was just something I added for chrrox's convenience, and all it does is parse to the next \n or end of string. It doesn't care about \r. If you want more advanced functionality, you'll have to handle parsing the string buffer yourself with existing python libs, using readBytes/writeBytes to get the data out/in.

For immediate mode, if the coordinates you're feeding in need to be scaled/biased, you have to do that yourself.
## Post #825
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-11T02:39:30+00:00
- Post Title: Re: Señor Casaroja's Noesis

For the quads, I mean when I render it, it doesn't look right when I just use RPGEO_QUAD lol
Wasn't sure if there was an option for quads though (at least, I don't see one in the docs)



So far there doesn't seem to be a very convenient way to handle formats that are inherently in text (in python anyways). Unless text parsing and binary parsing is pretty much the same thing?
## Post #826
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-11T04:02:37+00:00
- Post Title: Re: Señor Casaroja's Noesis

```
	RPGEO_QUAD_ABC_BCD,
	RPGEO_QUAD_ABC_ACD,
	RPGEO_QUAD_ABC_DCA,

```

Those are your options. One of them should do the trick.

Text parsing in Python, I haven't tackled it myself, so I dunno what to tell you. But I mean, it's Python, and it's meant for simple utility tasks like...text parsing. So I imagine there are some pretty effective ways to deal with it. I know there's a regular expression parser as well which might be useful. It depends on what kind of parsing you want to do I suppose, and how/if you want to tokenize it.
## Post #827
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-11T16:53:15+00:00
- Post Title: Re: Señor Casaroja's Noesis

I would like to tap into python's text-parsing functionality, but I'm given a byte stream lol

I think at one point I tried opening the file externally again...hmm not sure whether I got anywhere then.
## Post #828
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2012-03-11T16:56:32+00:00
- Post Title: Re: Señor Casaroja's Noesis

you can open the files natively in python then convert that to a byte stream when you want to throw noesis some things. I do this in the phantasy star online script when i open the bone file with the same name.
its also done in bullet witch.
## Post #829
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-11T19:18:03+00:00
- Post Title: Re: Señor Casaroja's Noesis

Not like the bitstream is dictating that you parse your data in any given manner. Like I said, just readBytes whatever you want out of the bitstream, then it's yours to parse in whatever way you please. (using whatever text encoding you choose)
## Post #830
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-11T21:00:58+00:00
- Post Title: Re: Señor Casaroja's Noesis

When I say

```

```


where texPath is the path to a valid texture.
Noesis loads the model fully textured as expected.

However when I export the model, the textures aren't exported.
Which is normal as well I guess since there aren't any texture objects stored.

Would it be possible to add an option to export them as well?
## Post #831
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-12T23:52:10+00:00
- Post Title: Re: Señor Casaroja's Noesis

Not sure why you would want to export textures with a model that are already external and in a recognized format. But when I implement Noesis_LoadTexturesForModel in Python it will effectively give you that. That function goes through a model's texture list and reuses any textures it can there, then it externally loads any textures it's still missing, and it hands the whole bundle back to you as a NoeTexture list. If you want from there you can attach it to the model as you're importing and Noesis will re-export all of those textures because they're now loaded onto a model.
## Post #832
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-13T02:50:53+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Not sure why you would want to export textures with a model that are already external and in a recognized format.

Having to convert proprietary images separately is time-consuming for the user. We can write an arbitrary number of texture plugins and then say that most of them are recognized. But they'd still be pretty useless for the artist.

Even if it's recognized, I'd rather the option of having noesis do all the work for me even if it costs a lot for the program.

So like if I had a folder with 10000 textures and another folder with 10000 models all thrown in there, if noesis can find the specific texture that's lost in there somewhere, then I want to export it.
## Post #833
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-13T03:25:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

It shouldn't be time-consuming, as they can batch process the whole lot into whatever non-proprietary format(s) they'd like.

But I can see what you're saying and how it could be convenient (particularly with map models that draw from a gigantic texture set), it's going to have to go pretty far down on the prospective-feature list though. Too much stuff I've been neglecting forever on that list already. In the mean time, if you really want the functionality, I do intend to include that texture load function sometime in the next release or 2 (it should be quick to implement, even though the implications of such functionality in Python are terrifying from a memory standpoint), so you'll at least have the option of doing it manually.
## Post #834
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-13T03:55:41+00:00
- Post Title: Re: Señor Casaroja's Noesis

> (it should be quick to implement, even though the implications of such functionality in Python are terrifying from a memory standpoint)

Is there a way to make it so that although python makes the function call, the program actually passes the job off to someone else that can probably do it more efficiently?
## Post #835
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-13T04:10:38+00:00
- Post Title: Re: Señor Casaroja's Noesis

Yeah, that's already happening for all of the API calls. The memory issue is in actually making the data available through Python bytearrays/bytes.
## Post #836
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-13T22:35:26+00:00
- Post Title: Re: Señor Casaroja's Noesis

Since it is meant for "gathering" purposes, how about storing like file handlers or something?
Or at least, storing a valid path to the images that were found. Then I can just grab whatever noesis successfully found and do stuff with it, rather than doing error-checks on my end.
## Post #837
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-13T23:12:19+00:00
- Post Title: Re: Señor Casaroja's Noesis

That would extremely awkward because the texture data Noesis is handing you at that point isn't necessarily even on-disk, and if you had a handle to the file on disk you wouldn't have interpreted pixel data. You'd have a handle to a file that could be in any format, so you'd just have to ask Noesis to interpret for you in memory anyway (which is a waste if the texture is already interpreted in native memory), and it still wouldn't save you anything unless you flushed the texture out immediately and forced a Python garbage collection between handling textures, which still assumes you don't need textures in memory concurrently which you well may depending on the needs of the format you're dealing with. Best case I could give you handles that you can query and copy into Python-accessible memory on a per-handle basis, but that's a total hack and is way harder to work with than just using a damn native plugin to deal with texture data.

Really, you should just use native plugins for dealing with large data sets. There isn't going to be a happy solution for this problem in Python because of the nature of Python. (managed memory in a managed framework)

Edit: Although, that latter solution is probably what you're going to get, because it also solves the problem of performing processing on texture lists (like auto-combing them into a single texture page) on the Noesis side without having to copy all of that data back out. I'll make a new NoeTexRef object and you'll have to query its texture reference index in association with a model to get a NoeTexture from it. I could also give you a hook to send modified texture data back to Noesis, but I don't see an immediate need for that. You shouldn't generally need to modify raw pixel data and send it back to Noesis. If anything you should only need to modify it Python-side before you export it directly to a custom model binary or whatever.
## Post #838
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-15T06:50:23+00:00
- Post Title: Re: Señor Casaroja's Noesis

3.84 is a big steamy one.

```
 -3.84 - Added import support for Grandia 2 models. Thanks to Mat for his work in figuring out the compression used in this game.
 -3.84 - Added import support for Love Hina: Smile Again models.
 -3.84 - Added import/export support for GIF images. For animated images, additional frames can be viewed under "Textures" in the data viewer. When exporting to the GIF format, a batch writer is used which grabs all textures/images being exported and writes them to a single animated GIF file.
 -3.84 - Added a maximum length for the export log buffer, can be changed under System in the data viewer.
 -3.84 - Enabled support for extracting MVC3 360 .arc files.
 -3.84 - Improved color precision and contrast of the median cut algorithm.
 -3.84 - Added NPAPI_SetTypeHandler_WriteRGBABatch for image formats that want to export from all texture sources in a given export process.
 -3.84 - Added Image_GetTexRGBA to get raw RGBA32 data from a Noesis texture regardless of its internal format.
 -3.84 - Fixed a crash where Noesis could mistake unrelated data for being a Quake BSP file.
 -3.84 - Fixed a potential crash in validation of .ico files.
 -3.84 - Fixed a bug where outputting to a batched image format (like .spr) was not working in conjunction with model export.
 -3.84 - Fixed a potential conflict when exporting to a format with the same file extension as another different format.
```
## Post #839
- Username: Rimbros
- Rank: ultra-veteran
- Number of posts: 495
- Joined date: Fri Jul 09, 2010 7:23 am
- Post datetime: 2012-03-15T16:42:23+00:00
- Post Title: Re: Señor Casaroja's Noesis

I tested the kinect interface with Noesis and all looks fine, i have now a question its posible whe can do something like this with Noesis and Kinect.

Video Sample
[http://www.youtube.com/watch?v=fBR4cT-0sKY&feature=fvwp](http://www.youtube.com/watch?v=fBR4cT-0sKY&feature=fvwp)
## Post #840
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-15T18:19:25+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Added import/export support for GIF images. For animated images, additional frames can be viewed under "Textures" in the data viewer. When exporting to the GIF format, a batch writer is used which grabs all textures/images being exported and writes them to a single animated GIF file.

Not specific to GIF, but would like a way to be able to just scroll through textures quickly  
Kind of like scrolling through models, but for textures.

Oh and how about a thumbnail panel? lol
## Post #841
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-15T20:39:41+00:00
- Post Title: Re: Señor Casaroja's Noesis

finale00: Already on the list... has been for quite a long time now.

Rimbros: The Kinect doesn't have the resolution to do decent facial tracking. That's something MS apparently has planned though, I don't know whether for a future device or with a firmware update or what.
## Post #842
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-15T20:55:52+00:00
- Post Title: Re: Señor Casaroja's Noesis

While immediate mode rendering is available, is there a way to make it easier to parse and load per-face formats?

I'm assuming for commit triangle, each index points to a vertex, which assumes the number of coords, normals, and uv structs are equal. 

How about binding a bunch of these vertex related buffers and using separate function calls to construct vertices using separate indices for coords, normals, and uv? It seems common I think.
## Post #843
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-15T21:43:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

I've noticed you having problems with immediate mode but haven't had time/motivation to inquire further. I haven't exactly understood what your issue is... maybe you're forgetting to 0 out components if they aren't used in subsequent faces. That would cause Noesis to continue assigning invalid/missing attributes to the new vertices you're adding. The functionality is quite identical to drawing in immediate mode with OpenGL. That's why the API is structured the way it is.

If you really wanted, you could do that yourself by making some wrapper functions to generate index buffers and using CommitTriangles behind the scenes. I think that would be a waste of time and effort, but if you really think it would make your life easier, take a shot at it. It's also effectively already what Noesis is doing behind the scenes. The only difference is in immediate mode you're building vertex by vertex where CommitTriangles draws from existing vertex buffers, but both paths end up in the same place and doing the exact same thing with the data.

Oh, and I just shoehorned in texture cycling/animation support in the preview interface. Update if you want it.

Edit: Oh yeah, I also forgot I didn't expose any of the specific rpgVert/etc. types to Python. So you have to do things like convert from short to float yourself. You could easily enough add wrapper functions that do that as well. (like make a myRPGVert3us method that takes the shorts, scales the 0-65535 range to 0.0-1.0, then calls the imm function directly with the converted data) I should probably expose my generic "convert <whatever> to float" and "convert <whatever> to int" functions to Python to make that sort of thing more trivial. I thought I had, but I guess I didn't.
## Post #844
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-16T04:43:00+00:00
- Post Title: Re: Señor Casaroja's Noesis

I just implemented a whole slew of new immediate-mode drawing functions. They will be in the next version of Noesis, but I probably won't get the build up tonight.

```
	//keep in mind that these values will not be normalized for you, even if they are provided as fixed-point.
	{"immBegin", IMMBegin, METH_VARARGS, "begin immediate-mode drawing. (i)"}, //args=primitive type
	{"immEnd", IMMEnd, METH_NOARGS, "end immediate-mode drawing."}, //args=none
	{"immVertex3", IMMVertex3, METH_VARARGS, "feeds a vertex position. (must be called last for each primitive) (O)"}, //args=3-component list
	{"immNormal3", IMMNormal3, METH_VARARGS, "feeds a vertex normal. (O)"}, //args=3-component list
	{"immTangent4", IMMTangent4, METH_VARARGS, "feeds a tangent vector. (O)"}, //args=4-component list, where 4th component is sign (-1 or 1) for bitangent
	{"immUV2", IMMUV2, METH_VARARGS, "feeds a vertex uv. (O)"}, //args=2-component list
	{"immLMUV2", IMMLMUV2, METH_VARARGS, "feeds a vertex lmuv. (O)"}, //args=2-component list
	{"immColor3", IMMColor3, METH_VARARGS, "feeds a vertex color. (O)"}, //args=3-component list
	{"immColor4", IMMColor4, METH_VARARGS, "feeds a vertex color. (O)"}, //args=4-component list
	{"immBoneIndex", IMMBoneIndex, METH_VARARGS, "feeds a vertex bone index. (O)"}, //args=x-component list
	{"immBoneWeight", IMMBoneWeight, METH_VARARGS, "feeds a vertex bone weight. (O)"}, //args=x-component list
	{"immVertMorphIndex", IMMVertMorphIndex, METH_VARARGS, "feeds a vertex morph index. (i)"}, //args=int
	//The following functions take raw bytes and decode them appropriately. Naming convention is #<type>, where # is number of elements and <type> is:
	//f - float
	//hf - half-float
	//b - byte
	//ub - unsigned byte
	//s - short
	//us - unsigned short
	//i - 32-bit int
	//ui - unsigned 32-bit int
	//X - arbitrary, you provide the RPGEODATA_ type and the number of elements.
	//All of these functions can also be called with "Ofs" after the name. Ofs variants require an additional argument (at the end of the argument list) to specify an offset into the array.
	//For example, rapi.immVertex3f(positions[idx*12:idx*12+12]) could instead be rapi.immVertex3fOfs(positions, idx*12), which is significantly less eye-raping and more efficient (as it requires no construction of a separate object for the slice)
	DEFINE_IMM_EX(immVertexX, IMMVertexX, METH_VARARGS, "feeds a vertex position. (must be called last for each primitive) (Oii)"), //args=bytes/bytearray of raw data, data type, number of elements
	DEFINE_IMM_EX(immVertex3f, IMMVertex3f, METH_VARARGS, "feeds a vertex position. (must be called last for each primitive) (O)"), //args=bytes/bytearray of raw data
	DEFINE_IMM_EX(immVertex3us, IMMVertex3us, METH_VARARGS, "feeds a vertex position. (must be called last for each primitive) (O)"), //args=bytes/bytearray of raw data
	DEFINE_IMM_EX(immVertex3s, IMMVertex3s, METH_VARARGS, "feeds a vertex position. (must be called last for each primitive) (O)"), //args=bytes/bytearray of raw data
	DEFINE_IMM_EX(immVertex3hf, IMMVertex3hf, METH_VARARGS, "feeds a vertex position. (must be called last for each primitive) (O)"), //args=bytes/bytearray of raw data
	DEFINE_IMM_EX(immNormalX, IMMNormalX, METH_VARARGS, "feeds a vertex normal. (Oii)"), //args=bytes/bytearray of raw data, data type, number of elements
	DEFINE_IMM_EX(immNormal3f, IMMNormal3f, METH_VARARGS, "feeds a vertex normal. (O)"), //args=bytes/bytearray of raw data
	DEFINE_IMM_EX(immNormal3us, IMMNormal3us, METH_VARARGS, "feeds a vertex normal. (O)"), //args=bytes/bytearray of raw data
	DEFINE_IMM_EX(immNormal3s, IMMNormal3s, METH_VARARGS, "feeds a vertex normal. (O)"), //args=bytes/bytearray of raw data
	DEFINE_IMM_EX(immNormal3hf, IMMNormal3hf, METH_VARARGS, "feeds a vertex normal. (O)"), //args=bytes/bytearray of raw data
	DEFINE_IMM_EX(immTangentX, IMMTangentX, METH_VARARGS, "feeds a tangent vector. (Oii)"), //args=bytes/bytearray of raw data, data type, number of elements
	DEFINE_IMM_EX(immTangent4f, IMMTangent4f, METH_VARARGS, "feeds a tangent vector. (O)"), //args=bytes/bytearray of raw data
	DEFINE_IMM_EX(immTangent4us, IMMTangent4us, METH_VARARGS, "feeds a tangent vector. (O)"), //args=bytes/bytearray of raw data
	DEFINE_IMM_EX(immTangent4s, IMMTangent4s, METH_VARARGS, "feeds a tangent vector. (O)"), //args=bytes/bytearray of raw data
	DEFINE_IMM_EX(immTangent4hf, IMMTangent4hf, METH_VARARGS, "feeds a tangent vector. (O)"), //args=bytes/bytearray of raw data
	DEFINE_IMM_EX(immUVX, IMMUVX, METH_VARARGS, "feeds a vertex uv. (Oii)"), //args=bytes/bytearray of raw data, data type, number of elements
	DEFINE_IMM_EX(immUV2f, IMMUV2f, METH_VARARGS, "feeds a vertex uv. (O)"), //args=bytes/bytearray of raw data
	DEFINE_IMM_EX(immUV2us, IMMUV2us, METH_VARARGS, "feeds a vertex uv. (O)"), //args=bytes/bytearray of raw data
	DEFINE_IMM_EX(immUV2s, IMMUV2s, METH_VARARGS, "feeds a vertex uv. (O)"), //args=bytes/bytearray of raw data
	DEFINE_IMM_EX(immUV2hf, IMMUV2hf, METH_VARARGS, "feeds a vertex uv. (O)"), //args=bytes/bytearray of raw data
	DEFINE_IMM_EX(immLMUVX, IMMLMUVX, METH_VARARGS, "feeds a vertex lmuv. (Oii)"), //args=bytes/bytearray of raw data, data type, number of elements
	DEFINE_IMM_EX(immLMUV2f, IMMLMUV2f, METH_VARARGS, "feeds a vertex lmuv. (O)"), //args=bytes/bytearray of raw data
	DEFINE_IMM_EX(immLMUV2us, IMMLMUV2us, METH_VARARGS, "feeds a vertex lmuv. (O)"), //args=bytes/bytearray of raw data
	DEFINE_IMM_EX(immLMUV2s, IMMLMUV2s, METH_VARARGS, "feeds a vertex lmuv. (O)"), //args=bytes/bytearray of raw data
	DEFINE_IMM_EX(immLMUV2hf, IMMLMUV2hf, METH_VARARGS, "feeds a vertex lmuv. (O)"), //args=bytes/bytearray of raw data
	DEFINE_IMM_EX(immColorX, IMMColorX, METH_VARARGS, "feeds a vertex color. (Oii)"), //args=bytes/bytearray of raw data, data type, number of elements
	DEFINE_IMM_EX(immColor3f, IMMColor3f, METH_VARARGS, "feeds a vertex color. (O)"), //args=bytes/bytearray of raw data
	DEFINE_IMM_EX(immColor3us, IMMColor3us, METH_VARARGS, "feeds a vertex color. (O)"), //args=bytes/bytearray of raw data
	DEFINE_IMM_EX(immColor3s, IMMColor3s, METH_VARARGS, "feeds a vertex color. (O)"), //args=bytes/bytearray of raw data
	DEFINE_IMM_EX(immColor3hf, IMMColor3hf, METH_VARARGS, "feeds a vertex color. (O)"), //args=bytes/bytearray of raw data
	DEFINE_IMM_EX(immColor4f, IMMColor4f, METH_VARARGS, "feeds a vertex color. (O)"), //args=bytes/bytearray of raw data
	DEFINE_IMM_EX(immColor4us, IMMColor4us, METH_VARARGS, "feeds a vertex color. (O)"), //args=bytes/bytearray of raw data
	DEFINE_IMM_EX(immColor4s, IMMColor4s, METH_VARARGS, "feeds a vertex color. (O)"), //args=bytes/bytearray of raw data
	DEFINE_IMM_EX(immColor4hf, IMMColor4hf, METH_VARARGS, "feeds a vertex color. (O)"), //args=bytes/bytearray of raw data
	DEFINE_IMM_EX(immBoneIndexX, IMMBoneIndexX, METH_VARARGS, "feeds a vertex bone index. (Oii)"), //args=bytes/bytearray of raw data, data type, number of elements
	DEFINE_IMM_EX(immBoneIndexub, IMMBoneIndexub, METH_VARARGS, "feeds a vertex bone index. (Oi)"), //args=bytes/bytearray of raw data, number of elements
	DEFINE_IMM_EX(immBoneIndexb, IMMBoneIndexb, METH_VARARGS, "feeds a vertex bone index. (Oi)"), //args=bytes/bytearray of raw data, number of elements
	DEFINE_IMM_EX(immBoneIndexus, IMMBoneIndexus, METH_VARARGS, "feeds a vertex bone index. (Oi)"), //args=bytes/bytearray of raw data, number of elements
	DEFINE_IMM_EX(immBoneIndexs, IMMBoneIndexs, METH_VARARGS, "feeds a vertex bone index. (Oi)"), //args=bytes/bytearray of raw data, number of elements
	DEFINE_IMM_EX(immBoneIndexui, IMMBoneIndexui, METH_VARARGS, "feeds a vertex bone index. (Oi)"), //args=bytes/bytearray of raw data, number of elements
	DEFINE_IMM_EX(immBoneIndexi, IMMBoneIndexi, METH_VARARGS, "feeds a vertex bone index. (Oi)"), //args=bytes/bytearray of raw data, number of elements
	DEFINE_IMM_EX(immBoneWeightX, IMMBoneWeightX, METH_VARARGS, "feeds a vertex bone weight. (Oii)"), //args=bytes/bytearray of raw data, data type, number of elements
	DEFINE_IMM_EX(immBoneWeightf, IMMBoneWeightf, METH_VARARGS, "feeds a vertex bone weight. (Oi)"), //args=bytes/bytearray of raw data, number of elements
	DEFINE_IMM_EX(immBoneWeightus, IMMBoneWeightus, METH_VARARGS, "feeds a vertex bone weight. (Oi)"), //args=bytes/bytearray of raw data, number of elements
	DEFINE_IMM_EX(immBoneWeightub, IMMBoneWeightub, METH_VARARGS, "feeds a vertex bone weight. (Oi)"), //args=bytes/bytearray of raw data, number of elements
	DEFINE_IMM_EX(immBoneWeighthf, IMMBoneWeighthf, METH_VARARGS, "feeds a vertex bone weight. (Oi)"), //args=bytes/bytearray of raw data, number of elements

```


Here's the immediate mode rendering example from __NPExample.txt:

```
		rapi.immBegin(noesis.RPGEO_TRIANGLE)
		for i in range(0, numIdx):
			idx = noeUnpackFrom("<i", triangles, i*4)[0]
			vcmp = noeUnpackFrom("<ff", uvs, idx*12)
			rapi.immUV2(vcmp)
			vcmp = noeUnpackFrom("<fff", normals, idx*12)
			rapi.immNormal3(vcmp)
			vcmp = noeUnpackFrom("<" + "i"*fw.weightsPerVert, fw.flatW, idx*4*fw.weightsPerVert)
			rapi.immBoneIndex(vcmp)
			vcmp = noeUnpackFrom("<" + "f"*fw.weightsPerVert, fw.flatW, fw.weightValOfs + idx*4*fw.weightsPerVert)
			rapi.immBoneWeight(vcmp)
			vcmp = noeUnpackFrom("<fff", positions, idx*12)
			rapi.immVertex3(vcmp)
		rapi.immEnd()
```

Here's how you would use the new functions to do that so that you don't have to unpack anything (and so that scale-and-biasing is handled for you):

```
		for i in range(0, numIdx):
			idx = noeUnpackFrom("<i", triangles, i*4)[0]
			rapi.immUV2f(uvs[idx*12:idx*12+8])
			rapi.immNormal3f(normals[idx*12:idx*12+12])
			rapi.immBoneIndexi(fw.flatW[idx*4*fw.weightsPerVert:idx*4*fw.weightsPerVert+4*fw.weightsPerVert], fw.weightsPerVert)
			rapi.immBoneWeightf(fw.flatW[fw.weightValOfs+idx*4*fw.weightsPerVert:fw.weightValOfs+idx*4*fw.weightsPerVert+4*fw.weightsPerVert], fw.weightsPerVert)
			rapi.immVertex3f(positions[idx*12:idx*12+12])
		rapi.immEnd()
```

Here's how you would use the Ofs variants of those functions to make code that is faster and looks less terrifying:

```
		for i in range(0, numIdx):
			idx = noeUnpackFrom("<i", triangles, i*4)[0]
			rapi.immUV2fOfs(uvs, idx*12)
			rapi.immNormal3fOfs(normals, idx*12)
			rapi.immBoneIndexiOfs(fw.flatW, fw.weightsPerVert, idx*4*fw.weightsPerVert)
			rapi.immBoneWeightfOfs(fw.flatW, fw.weightsPerVert, fw.weightValOfs+idx*4*fw.weightsPerVert)
			rapi.immVertex3fOfs(positions, idx*12)
		rapi.immEnd()
```


If anyone could see the C macro code defining all of these methods, they would vomit. But being able to define the Python function and the C function that it attaches to in a single line of code is worth the vomit.
## Post #845
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-16T04:50:34+00:00
- Post Title: Re: Señor Casaroja's Noesis

Cool, now we don't have to do any math. And it should make it easier to follow...

```

```


Would it be 8 since it's just two floats?
## Post #846
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-16T04:51:54+00:00
- Post Title: Re: Señor Casaroja's Noesis

Normally, yes, but that format stores UV's in 3 floats, so the stride is 12.

Edit: Also, I was flipflopping on doing Ofs variants to make it obvious and enforce syntax, or make offset an optional argument. I think I'm going with optional after all. But the example is the same, you can just chop the "Ofs" part off.
## Post #847
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-16T21:23:11+00:00
- Post Title: Re: Señor Casaroja's Noesis

Can I set the encoding of a NoeBitStream so that all reads will use that encoding?
Just so I don't have to open the file again.
## Post #848
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-18T07:21:15+00:00
- Post Title: Re: Señor Casaroja's Noesis

Encoding? You mean for strings? NoeBitStream doesn't support different character encoding, as it's primarily meant for binary parsing and expects you to readBytes your data out selectively for custom text parsing. You don't have to (and shouldn't) load the file again though. Just don't use the bitstream at all if you're parsing a pure text format - the data object Noesis passes to the handler is a raw array of bytes. You should be able to parse that out as text using whatever Python functions/libraries and encoding you like.
## Post #849
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2012-03-18T14:16:46+00:00
- Post Title: Re: Señor Casaroja's Noesis

noesis cutting bone names when saving psk, can you solve this MrAdults?

edit: actualy noesis replace 'root' with numbers: 1,2,etc, whyy?
can you solve this one?

edit: my bad, everything working fine
## Post #850
- Username: Tosyk
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-18T18:41:44+00:00
- Post Title: Re: Señor Casaroja's Noesis

PSK has a bone name max length of 64, it's a format issue, not something Noesis can resolve. Sometimes Noesis also has to reorder bones for the format because it has strict hierarchy limitations and can only support 1 root bone. Just a couple of the format's many limitations, it really is not a good format and no one who isn't working with ancient Unreal tech has any reason to be using it. At all. Especially now that Epic is maintaining a FBX import path in the UDK.
## Post #851
- Username: pixellegolas
- Rank: ultra-veteran
- Number of posts: 423
- Joined date: Tue Aug 12, 2008 6:30 am
- Post datetime: 2012-03-18T21:40:22+00:00
- Post Title: Re: Señor Casaroja's Noesis

Maybe I am wrong but when I tried cabal2 model in noesis and exported to fbx and to psk, psk was actually better because it preserved smoothing....don't remember the word, but with fbx it was more a jagged model
## Post #852
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-18T22:05:14+00:00
- Post Title: Re: Señor Casaroja's Noesis

That would be your FBX importer's fault, then. Which isn't surprising, Autodesk is very inconsistent there and their Max importer still has issues with normals and skinned geometry sometimes. But FBX stores per-vertex normals which is what Noesis natively provides. You can see that if you import your FBX back into Noesis. PSK only supports smoothing groups which are not accurate in many cases. The Noesis PSK exporter attempts to auto-generate smoothing groups from the per-vertex normals, which generally works out ok but it's still wrong and can't simulate actual artist-tweaked normals correctly.
## Post #853
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2012-03-19T01:22:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> PSK ... really is not a good format and no one who isn't working with ancient Unreal tech has any reason to be using it. At all. Especially now that Epic is maintaining a FBX import path in the UDK.actually only psk exporter gives me model in the way in which I want:
 - all mesh combined in one (cause max viewport working terrible with 27 meshes and 300 bones at once)
 - combining feature of noesis doesn't work for me

[q]: do you plan implement support for Street Fighter 4 (and so on, emo format) in noesis?I was surprised when I found no support for SFIV inside
## Post #854
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-19T01:40:29+00:00
- Post Title: Re: Señor Casaroja's Noesis

It's rather silly to mangle your model data and throw away your original vertex normals for the sake of rebatching a model. I haven't tried the generic combining functionality in ages though. I'll take a look at it.

No, SF4 seems already very well figured out and it's rather extraneous and proprietary. Which means anyone could do it by writing a plugin or Python script. I don't see any reason for me to spend time on formats like that when I can spend it maintaining core features/functionality instead. I could justify it if it weren't already a well-documented format, but it is.
## Post #855
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2012-03-19T01:55:53+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> It's rather silly to mangle your model data and throw away your original vertex normals for the sake of rebatching a model. I haven't tried the generic combining functionality in ages though. I'll take a look at it.thanks

> Reply from MrAdults
>
> No, SF4 seems already very well figured out and it's rather extraneous and proprietary. Which means anyone could do it by writing a plugin or Python script. I don't see any reason for me to spend time on formats like that when I can spend it maintaining core features/functionality instead. I could justify it if it weren't already a well-documented format, but it is.sounds fair enough
if you have a time I attached converter (perl language) from emo to smd


 emo2smd_converter.7z
(2.7 KiB) Downloaded 42 times


also emz and emb uncompressing and unpacking done with just 2 bms scripts
i just wish that everything will be in one place
## Post #856
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-19T02:09:20+00:00
- Post Title: Re: Señor Casaroja's Noesis

You can copy the decompress script over to the unpacker and just have it decompress while unpacking the files.
## Post #857
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-19T02:11:38+00:00
- Post Title: Re: Señor Casaroja's Noesis

-combinemeshes is working perfectly for me. It produces a FBX/DAE with the same number of meshes as exporting the same model to PSK. What is your problem with it?
## Post #858
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2012-03-19T02:22:26+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from finale00
>
> You can copy the decompress script over to the unpacker and just have it decompress while unpacking the files.i CAN successfully convert full skinned models from SF4, even if i don't have automated procces:
- Street Fight 4 (pc/xbox360)
- Super Srteet Fighter 4 (pc/xbox360)
- Street Fighter X Tekken (xbox360)

but as i said before: i wish that everything will be in one place

MrAdults, i'm trying to convert [this](http://dl.dropbox.com/u/9919707/ABL_01.obj.emo.newpack.emo.7z) model (smd), but -combinemeshes doesn't work for me (fbx, dae)

ALSO, i found [this](http://sf4viewer.hg.sourceforge.net/hgweb/sf4viewer/sf4viewer), looks like info about reversing SF4 formats
## Post #859
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-19T02:28:41+00:00
- Post Title: Re: Señor Casaroja's Noesis

That's because it's already been combined, silly.  It has 21 meshes when loaded because it uses 21 separate materials/textures. If you export to any format with or without combinemeshes is still has at least 21 meshes. If you export to PSK is still has 21 meshes.

As far as I know the SF4 model/anim viewer (that I think revelation worked on, could be wrong, I forgot) is already opensource and should provide all the info anyone could need about the formats.
## Post #860
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2012-03-19T02:37:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

MrAdults, if i export to fbx, dae with/without 'combinemeshes' i get 21 meshes with Skin modifier on them
if i export to psk with/without 'combinemeshes' i get just 1 mesh with Skin modifier on it

i'm doing something wrong?
## Post #861
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-03-19T04:00:18+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Tosyk
>
> MrAdults, if i export to fbx, dae with/without 'combinemeshes' i get 21 meshes with Skin modifier on them
if i export to psk with/without 'combinemeshes' i get just 1 mesh with Skin modifier on it

i'm doing something wrong?

Actorx imports a single mesh eventhough you have a hundred of materials mean while collada-fbx imports unattached meshes.

Just for curiosity, what are you trying to do with sfxtk models in 3dsmax?? importing them with the skin modifier??
## Post #862
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2012-03-19T05:18:48+00:00
- Post Title: Re: Señor Casaroja's Noesis

I just noticed a quirk of the GMO importer... All the texures are labeled diss_## on export as opposed to something more relevant. I assume this is unaltered behavior from the original importer you made for Dissidia oh so long ago...

Also I've noticed that many models, usually OBJ and Collada DAE, import with reversed normals, is there any chance we could get an option to flip the normals in the preview window?
(I realize I've probably mentioned that before, and I believe you said you couldn't reproduce the phenomina... but still...)

Back on the topic of the GMO texture output, the GMO I open is named C022.GMO and contains C022_00.GIM - C022_04.GIM... I don't know whether all GIM's use 4char_##.GIM naming format, but I assume the contained GIMs all have proper names.

Any chance you could tweak the GMO import to remember those names instead of defaulting to diss_##? I've accidentally overwritten several textures because they output to one folder.


On a side note is there a way to access the GMO import function from another plugin? I noticed all the character models for Jeanne D'arc are inside some rather simple packages containing a few GMO's and sometimes an extra file of some sort... It hardly seems like a call for a completely new importer... but I don't know anything about the current GMO module, so I don't know if I can simply use a call to it and give it an address to look from, or of I'd have to copy the entire function and change what's necessary... Just something I was curious about.
## Post #863
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-19T05:48:07+00:00
- Post Title: Re: Señor Casaroja's Noesis

> rather simple packages containing a few GMO's

Why not just unpack it? Or are those GMO's all part of the same model?
## Post #864
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2012-03-19T06:16:44+00:00
- Post Title: Re: Señor Casaroja's Noesis

They're effects that are related to that character. I suppose unpacking it would be probably a simpler way of doing it, but I'd then have to much better understand the archive format. As it stands, there is a pattern to the archive layout, in that GMO's for the character appear first, then an effect model,(if there is one) and occasionally a set of sound files or an extra image for portrait display or such...

It's a personal preference, for me, to be able to simply open up the archive to see its contained models, rather than having to export all... idunno...4,500 packages into their own folders and have to surf through to look at the models...

Or to put it more simply, the character models are just about the only real pertinent file contained in the package, as all other things (effects, portraits, etc) are redundantly stored...aside from maybe the sound files, which noesis doesn't deal with anyway.
I suppose another word for it is laziness. I'd rather be able to search through the entire folder and see what's what directly, instead of dumping everything first...I'm a stubborn old man of 24.

That brings up a question though, is it possible for Noesis to open an entire archive for viewing? It seems like it shouldn't be difficult (in theory; I fail every time I try to write a plugin). It would just be an extra step of adding the model format parser into the archive reader, right?
## Post #865
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-19T06:52:23+00:00
- Post Title: Re: Señor Casaroja's Noesis

Yeah it is left over from that. I haven't seen a real reason to change it, cause the name is rather arbitrary. If I recall correctly I don't parse original names out of GIM's because the metadata chunk containing them has unreliable formatting and may not actually contain a name at all.

Do you mean reversed normals (which would only affect lighting) or reversed triangle windings? It the latter, simply disabling face culling (red half-sphere button) will fix the appearance in most cases.

The -texpre option exists so that you don't end up stomping over common texture names on export. That's why it's a default option in the batch exporter.

Jeanne d'Arc GMO's have self-contained models, textures, and animations, so I don't really see a need to have Noesis load anything else in conjunction. Those are the only 3 components it would care about anyway, and anything else can be loaded separately. I'd say you should just whip up a quick Python script to dump those packages. But no, GMO loading is not directly exposed through the API. Nor is NJCM loading, which is why I keep adding new Dreamcast formats to the core so I can cheat and call directly into my NJCM module for support functionality.
## Post #866
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2012-03-19T07:49:12+00:00
- Post Title: Re: Señor Casaroja's Noesis

MrAdults, can you help me with -combinemeshes?

> Reply from Darko
>
> Just for curiosity, what are you trying to do with sfxtk models in 3dsmax?? importing them with the skin modifier??i'm collecting models, also studying on how artists make models
## Post #867
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-03-19T07:58:27+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Tosyk
>
> MrAdults, can you help me with -combinemeshes?
Darko wrote:Just for curiosity, what are you trying to do with sfxtk models in 3dsmax?? importing them with the skin modifier??i'm collecting models, also studying on how artists make models

Lol ok, it's just I'm using smd there right now with emo2smd by magnum, but it has some uv's problems.
## Post #868
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2012-03-19T07:59:21+00:00
- Post Title: Re: Señor Casaroja's Noesis

My apologies, I said normals... I meant to say UV's. Reversed normals would be a much worse issue, as there's no way to export them inverted, but the issue I have is UV's...
can't believe I said normals...


That... doesn't give me the best idea what the actual model looks like. And I have to check UV Flip when I export anyway, so an option to flip it in the preview window would be helpful.

EDIT: I also noticed you fixed the issue with Zell and Kiros' weapons not showing up properly. That awesome.
## Post #869
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-19T08:16:19+00:00
- Post Title: Re: Señor Casaroja's Noesis

Tosyk: It's like Darko said, the ActorX importer is importing the whole model as 1 surface. That is actually because of another crappy limitation of the PSK format, but if you actually find it desirable here, then... I guess that's good. Personally, I would just use FBX and combine the surface in Max.

Satoh: Oh, I see. Well then I guess you won't care about the "Culling flag" I just exposed in the data viewer in the new build I just uploaded!

Displaying flipped UV's would be a mild pain in the ass, because I use buffered rendering, and the majority of rendering is not done by shader except when necessary for displaying lighting with normal maps (for compatibility's sake), so there's no easy way to flip UV's in the preview without duplicating the UV buffer or incurring a performance hit. But I guess a small performance hit isn't a big deal for a non-default diagnostic option. It's still a pain in the ass to implement though.

Have you tried the "UV view" option in the data viewer under the mesh? At least with that, it should be immediately apparent if the model looks screwy because the UV's are flipped.

Edit: Just shoved a couple of UV flip options in there and put a new build up. It's so gross. But that rendering code died and went to hell a long time ago anyway. I'm tempted to start up a D3D rendering plugin and start migrating over to that exclusively just so that I never have to look at the old GL renderer again.
## Post #870
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2012-03-19T08:50:58+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hmm... UV View... as far as I can tell, just draws a red wireframe on the model... It looks exactly the same as highlighting a Mesh base entry... 

As for the culling flag, I can't say I don't care, because I do have models that have odd normals, and it still saves me the time of exporting and reopening.... etc. (which takes more time than I care for, just to 'look')


On a different note, I had a thought about attempting to integrate Noesis into a Blender plugin module, which would save me a lot of struggle finding a format that Blender can reliably open... 
(DAE is not well supported these days, and FBX is apparently not open for distribution or some legal crap like that)

But now I realize that wont work because the actual Noesis executable does some of the work, yes? It wouldn't be as simple as making Blender see the DLLs and Python scripts... Some of the important stuff is part of the EXE? 
Shame I have so many ideas and so little talent XD

EDIT: Ahhh that UV flip option is brilliant. Much thanks for work you obviously didn't feel like doing.
## Post #871
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-19T08:56:32+00:00
- Post Title: Re: Señor Casaroja's Noesis

That only happens if it doesn't think it has a texture for the mesh you're trying to view UV's for. Maybe it's not working with external textures or something.

You would have to carry over the entire Noesis framework to blender, yeah. Which is a fairly impossible or at least hideously time-consuming task. Just implementing the rpg interface would be a start.
## Post #872
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2012-03-19T09:11:57+00:00
- Post Title: Re: Señor Casaroja's Noesis

Well the reason I thought of it was due to Noesis loading models into memory as generic data. After being parsed, Noesis contains each model the same way for rendering right? So it would be the ultimate import plugin to capture the variables containing that data and pass them to Blender... which would likely be much harder than I'm giving credit for.

But it's more work than that anyway...

However... if I were to write a custom format containing all the data I needed, it would be simple to export it from Noesis, and simply write a parser for the format I just created to import into Blender... which might be slightly less elegant than integrating noesis itself, but it's probably a hell of a lot easier.

S'pose I need to start studying the API again. 
Truly Noesis is a muse for invention.
## Post #873
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-19T09:22:06+00:00
- Post Title: Re: Señor Casaroja's Noesis

Just transferring the data from Noesis would be a lot easier than implementing Noesis in blender, or just using an intermediary format that supports all of the Noesis data types. I think finale00 brought the same thing up some pages ago. I think making an intermediary format would be the best option, but you could also get fancy and have the exporter communicate right into blender through IPC or something.

In theory something like FBX should be just fine as an intermediary format, but in practice FBX has problems, and every implementation of it tends to have different problems. It's kind of the anti-thesis to everything Noesis tries to be about, particularly in how I've tried to keep exported data very unified and rigid for the sake of simplicity/ease of use.
## Post #874
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2012-03-19T10:17:13+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Darko
>
> some uv's problems.show me
## Post #875
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-19T18:31:56+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Satoh
>
> 
But now I realize that wont work because the actual Noesis executable does some of the work, yes? It wouldn't be as simple as making Blender see the DLLs and Python scripts... Some of the important stuff is part of the EXE?

My black box use sequence was something like (the black box parts are wrapped with <>)

1: build a simple blender UI (like an open dialog) that will take a file
2: <pass the file to noesis, like a shell command>
3: noesis parses it as usual
4: <retrieve the data from noesis, maybe writing a blender export plugin that specifically writes out the data you want *somewhere*>
5: Have *something* listen to that *somewhere* and execute the appropriate blender API calls

I don't understand enough of computers to know what that *something* is and where that *somewhere* could be, but ya I think in the end it is just a matter of invoking noesis and providing a standard way of retrieving data from noesis. To me, using the export function would seem like a good option.

Maybe creating a pipe and have blender listen on one end and have noesis use an export script to pass data down and listen for responses from blender?

So like

```
Blender: Receive vertex data, send response

Noesis: response received, send other data
Blender: ...

```


But I don't know, maybe someone can come up with different ideas of accomplishing this.

My idea involves a separate call to noesis everytime. I would like noesis to be waiting in the background, so it doesn't have to initialize everytime.
## Post #876
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2012-03-19T19:38:17+00:00
- Post Title: Re: Señor Casaroja's Noesis

the work is done already just need noesis to export like this and its all set
[http://wiki.blender.org/index.php/Exten ... nterchange](http://wiki.blender.org/index.php/Extensions:2.6/Py/Scripts/Import-Export/3DS_MAX_Scene_Interchange)
if someone needs the code for the max plugin just let me know.
## Post #877
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-19T19:57:11+00:00
- Post Title: Re: Señor Casaroja's Noesis

From what I've read, that is exporting it to file and then using blender separately to import it. So like, you can export to that noesis model format and then just write a blender import for that format

I want to be able to import models directly using noesis, because the extra step is for the most part unnecessary.
I want someone to be able to design a UI that supports drag and drop, and then you can just load the model into blender by dropping files on it without running it through noesis first.
## Post #878
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2012-03-19T20:38:15+00:00
- Post Title: Re: Señor Casaroja's Noesis

so why use noesis if its not needed what you want is to just make a blender plugin?
## Post #879
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2012-03-19T21:04:18+00:00
- Post Title: Re: Señor Casaroja's Noesis

Chrrox, you mentioned the max interchange plugin, does it allow a .MAX file to be imported by blender?

I can't use 3DS MAX, it continually fails to load, so importing the program itself is not a possibility.

However, if you have a plugin for Noesis to export to .MAX, and the Blender script imports .MAX, that could be a working solution...

The reason I brought it up is that Blender is the only program that runs reliably, and it only has spotty DAE support, and not much else in the way of rigged model importing.

What I'm looking for is a way to faithfully transfer whatever Noesis can read, into Blender, without losing lots of information (such as exporting to OBJ and losing the entire skeletal structure) or DAE (which has seemingly random results when importing to Blender, such as losing UV's, skeletal data, animation corruption, or simply refusing to parse at all because blender's DAE importer royally sucks.)

As for 

> Reply from chrrox
>
> so why use noesis if its not needed what you want is to just make a blender plugin?

That's not quite true. My idea was to use the Noesis framework AS a plugin, and have noesis do the same work, importing and reading the file structure, building the model, etc, but instead of loading it into the Noesis draw window, load that data into Blender's running scene data.

I suppose another way to say it would be to have blender hook noesis. The reasoning is the same... I have issues importing and exporting files to and from blender, which is what I work in.

Why not just write a bunch of plugins to do all the same things for Blender that Noesis already does? Because that would mean redoing all of the work...

It's the same reason I don't have a working import script for either blender or noesis for Xenosaga III models, when I do have one that's sort of working in maxscript. (or would be if I could get Max to load again)
If there's a way around completely rewriting (and thus having to understand both languages fully) the scripts and plugins I have... could you share? Maybe I'm just thinking about it the wrong way and there's a simple elegant way to subvert my issue, but I'm just not seeing it.

You're obviously better and more experienced at this than I, so how would you go about getting the end result aforementioned?
## Post #880
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-19T22:35:56+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from chrrox
>
> so why use noesis if its not needed what you want is to just make a blender plugin?

The manual step to export and import is not needed and wastes artists' time.
It should be done in the background.

One could consider doing something as simple as having noesis export the model, sending a response to blender saying it's done, and blender just uses standard file IO to open the file and parse.
## Post #881
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2012-03-19T22:51:28+00:00
- Post Title: Re: Señor Casaroja's Noesis

i don't really understand the need for something like this. yes it would be nice but your still exporting a model at a time how many models are you converting at once to animate with?
I just posted a format that supports almost everything as a format to import is all. the reason i posted this is people were saying they had trouble getting things into blender and i know this script imports everything great from max. the system you want is just like from motion builder to maya but that is 2 programs designed by the same company to work with each other not an easy or quick thing to implement.
and i am sure mr adults can think of a million other useful things to do with his time then try to streamline the blender process that would take a very long time to do and may break with each update of blender.
## Post #882
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2012-03-19T23:22:22+00:00
- Post Title: Re: Señor Casaroja's Noesis

I wasn't suggesting he work on it. I was asking if it was possible given the current state of noesis framework. 

If it had turned out to be something that was as I imagined it at the time, I would have attempted, and likely failed anyway, but attempted nonetheless, to begin the integration of the Noesis framework into a plugin suitable for Blender.

The problem isn't the difficulty with  converting the files in Noesis, the problem is that no matter what format I export to, there's a degree of uncertainty as to whether I will be able to even open the file at all in Blender.

Hooking Noesis to import a model directly into Blender would obviously solve that issue.

But as I said, and as you said, my best option right now is to export to a format I know has all the requirements, and then write an importer for Blender to open that file. (Well, implied it anyway)

However, I still run into the issue of being somewhat inept at understanding the Noesis API, and even moreso the Blender framework... but that's something I'll have to deal with on my own....

Then again... Blender successfully implements backward-compatible file reading of .blend formats even after they've been updated in newer versions, so perhaps I should focus on a script to export directly to .blend from Noesis.

I wonder if that's more or less work than creating a new format for what I need...
## Post #883
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-20T00:27:59+00:00
- Post Title: Re: Señor Casaroja's Noesis

It's definitely possible to do this in the current Noesis plugin framework, yeah.  Using a variety of methods, including direct IPC between Noesis and blender. I personally think a format would be the easier way to go though. Or honestly, just making a COLLADA or FBX importer for blender that doesn't suck a big one would pretty much solve the problem right there, rather than needing to make a new custom format. FBX already supports virtually every data type Noesis does, although it is an asshole about limited material options and properties and doesn't let me preserve blend modes correctly. I could come up with a workaround just for that little bit if it were worth my while. (that is, if I had a reason to do it, presently most FBX importers are already extremely halfassed and don't preserve most of the data correctly to begin with, so some fixup is necessary already in most cases, but I would view the situation in less futility if someone used the FBX SDK to make a blender FBX importer that worked correctly) And like chrrox mentioned, is the extra file export/import step really a big deal? Are you really going to be wanting to transfer models between Noesis and blender at such a rapid rate that the step of importing from an exported model makes a detectable time difference in your content production? I can't easily imagine a scenario where that time would be a factor, particularly when batch-exporting from Noesis is already an option.
## Post #884
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-20T01:51:38+00:00
- Post Title: Re: Señor Casaroja's Noesis

Exporting to blend file would be fun. I don't know if blender published specs for it though, but if the did it is just a programming task.

Exporting to a simple format that has all of the data where you want it for very straightforward parsing is also easy since you're not restricted all that much. Blend files might be more interesting though since you can learn to write exporters for a particular spec.

Directly sending data from one program to another probably has the most educational value overall since it probably isn't everyday that you'll be writing something like that.
## Post #885
- Username: Privateer
- Rank: veteran
- Number of posts: 104
- Joined date: Fri Oct 21, 2011 8:33 pm
- Post datetime: 2012-03-20T21:37:26+00:00
- Post Title: Re: Señor Casaroja's Noesis

Seems to me that if you have a time line problem exporting from Noesis, then importing to Blender?
Your ripping off Copyrighted work for a project of your own for who knows what reason.
## Post #886
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-20T22:07:49+00:00
- Post Title: Re: Señor Casaroja's Noesis

I wouldn't make that presumption, as Noesis supports a lot of standard formats and can be useful as an actual pipeline tool. (I used it for my own iPhone game, automating batch conversion of my assets, mostly from COLLADA to my proprietary in-engine format) Although it does sadly seem unlikely that anyone else is using it legitimately for that purpose.
## Post #887
- Username: Privateer
- Rank: veteran
- Number of posts: 104
- Joined date: Fri Oct 21, 2011 8:33 pm
- Post datetime: 2012-03-20T22:20:01+00:00
- Post Title: Re: Señor Casaroja's Noesis

Being your Tool, I can see the Pipe line reason.
Being that someone wants it to work in such a way with Blender and wants someone else to do the hard work to save them time?
It just sends messages I don't get I'll admit that.
## Post #888
- Username: Privateer
- Rank: veteran
- Number of posts: 104
- Joined date: Fri Oct 21, 2011 8:33 pm
- Post datetime: 2012-03-20T23:26:34+00:00
- Post Title: Re: Señor Casaroja's Noesis

On a different wave length................

I know I may have missed something and you can spank me if I did.
Is there built in support to compute Normals and Tangents on opening a file?
## Post #889
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2012-03-21T12:19:50+00:00
- Post Title: Re: Señor Casaroja's Noesis

does this support any naruto models? cause i want Zabuza equipped with his sword...
## Post #890
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-03-21T14:24:15+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from itoikenza
>
> does this support any naruto models? cause i want Zabuza equipped with his sword...

Nope, this supports Naruto Shippuden Ultimate Ninja Stom 2.
## Post #891
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-21T21:15:31+00:00
- Post Title: Re: Señor Casaroja's Noesis

If you don't feed normals/tangents to Noesis, it will automatically generate them internally.
## Post #892
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-23T15:26:04+00:00
- Post Title: Re: Señor Casaroja's Noesis

I've never played with animations before but is there some sort of animation technique that allows you to define a particular set of ... animations ... and re-use it for an arbitrary model? Like for example if someone writes a set of dance sequences and wants a bunch of random models to follow it.
## Post #893
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-24T03:01:57+00:00
- Post Title: Re: Señor Casaroja's Noesis

Sure, just rig all the models to the same skeleton. If the skeletons aren't the same it gets more complicated, but you can still map bones between skeletons and hope things look alright.
## Post #894
- Username: YusakuSan1
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Sat Mar 24, 2012 4:09 pm
- Post datetime: 2012-03-24T08:15:08+00:00
- Post Title: Re: Señor Casaroja's Noesis

Would anyone be able to make a plugin for me? I have the model format as well as scene, bone, texture information, etc.
I am only 13 so that means I have not had any coding experience but I enjoy model ripping.
I won't have anything to give anyone who knows how to do this, so it's perfectly understandable if nobody will.
## Post #895
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-24T16:09:52+00:00
- Post Title: Re: Señor Casaroja's Noesis

Didn't MrAdults start coding when he was like 11 or something lol
And I bet programming at that time was quite a challenge compared to what we have today.
## Post #896
- Username: LUBDAR
- Rank: veteran
- Number of posts: 95
- Joined date: Wed Jun 08, 2011 2:14 pm
- Post datetime: 2012-03-24T16:13:36+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from finale00
>
> Didn't MrAdults start coding when he was like 11 or something lol
Something like that

and 

> Reply from YusakuSan1
>
> Would anyone be able to make a plugin for me? I have the model format as well as scene, bone, texture information, etc.
I am only 13 so that means I have not had any coding experience but I enjoy model ripping.
I won't have anything to give anyone who knows how to do this, so it's perfectly understandable if nobody will.

This thread is for Noesis related issues...
## Post #897
- Username: YusakuSan1
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Sat Mar 24, 2012 4:09 pm
- Post datetime: 2012-03-24T19:26:26+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from LUBDAR
>
> This thread is for Noesis related issues...

I was talking about a Noesis plugin, so doesn't that make it a Noesis-related issue?
Where I live there are no opportunities to learn coding until the age of 15, so I haven't had that opportunity.
## Post #898
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2012-03-24T19:27:35+00:00
- Post Title: Re: Señor Casaroja's Noesis

you are online? there are a million places to learn coding.
## Post #899
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-24T19:46:39+00:00
- Post Title: Re: Señor Casaroja's Noesis

[http://www.khanacademy.org/#computer-science](http://www.khanacademy.org/#computer-science)
It may take you a while, but, enjoy.  I also recommend a book store. There are lots of cheap books on learning programming in a variety of languages from the ground up.
## Post #900
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-03-25T03:57:28+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> http://www.khanacademy.org/#computer-science
It may take you a while, but, enjoy.  I also recommend a book store. There are lots of cheap books on learning programming in a variety of languages from the ground up.

Lol thanks, It's been a while since I first learned a little bit of c++ and this looks a little bit similar.
## Post #901
- Username: Mr.Mouse
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2012-03-25T08:36:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

[http://www.arl.wustl.edu/~lockwood/clas ... m/toc.html](http://www.arl.wustl.edu/~lockwood/class/cs306/books/artofasm/toc.html)

If you fancy being elite, go for it.
## Post #902
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-27T04:26:03+00:00
- Post Title: Re: Señor Casaroja's Noesis

finale00, you may recall that a while ago I told you to pass in None for vertex components no longer in use by subsequent triangles/meshes when drawing in immediate mode. I now see that doing that would raise an exception, ha ha. My bad. I just fixed that in Noesis 3.861.
## Post #903
- Username: greywaste
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-27T10:57:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

I just got to thinking about the nature of Noesis and its status as a half-open half-closed source project. Brain dump.

I licensed the foundation I eventually based Noesis on however many years ago (when it was something very different from what it is now), and I maintained rights to it but agreed not to make the source code public in the process. Contract bullshit. When I incorporated that foundation into my new (at the time) pipeline tool, though, I didn't see an issue with that, because while I expected it to get some use from people modding my game(s), I really otherwise didn't expect anyone else would use it for anything. Then I decided to start adding more exotic format support to that tool because it was the most convenient place for me to experiment, and people started using the tool for things completely unrelated to its content pipeline functions, like papercrafting and self-education (I know one of my own contract modelers improved 500% when I showed her some existing tricks used to model hands and general flow in some PSP games) and all kinds of random shit that I didn't foresee (some of it also extremely undesirable as far as I was/am concerned) cause I'd really never been into that whole scene. So after wrestling with the sometimes more terrible shit people were doing, I finally decided not to let some stupid assholes keep me from developing it into something more, and to give it a real frontend, and it became Noesis. Noesis also started out not having any particularly lofty goals, and I didn't even plan to facilitate other people in making crap for it. But once it actually became Noesis, I recognized a real lack of and need for the framework it was already kind of providing for my own use (a multi-platform set of utilities and functions targeted at interpreting and making reversal of all manner of game data for every game platform an easier, faster process, eliminating the need for a new pseudo-framework and interface in each of those many standalone tools people were making and still make... it still falls short in many categories, but it's what I'm working toward), so I exposed a native plugin API. That didn't get much use, but I saw there was a lot of potential when revelation started using it. And thanks to his patience and feedback, I continued improving the API and fixing shit up, and it grew into something almost respectable. Fast-forward a while later, and eventually I decided Python support would open it up to a lot more people, and it did.

Now I feel like the fact that its core is closed-source kind of conflicts with what it's become. But that's interesting too. I've noticed that software engineers, especially the kind that like to reverse data, are really fucking ego-driven. Just about as much so as graphics programmers.  And I've noticed in the past that my public code snippets and modules will often get absorbed very quickly into other projects/tools without so much as a mention to me and my work. (when I strongly suspect this has happened, I'm sometimes sneaky and out of sheer curiosity disassemble the tool in question, then I see if the disassembled code matches my own, usually there's some quirk or read/write ordering that makes it unique enough to tell whether they just plopped my shit right in with a reasonable probability, even across different compilers, optimization settings, and configurations... this is impossible if they ported it or didn't compile to native code, but at least then they had to do a *little* bit of work) But because a lot of Noesis remains closed-source except for the stuff in the SDK and what I intentionally spread around, and people who might otherwise thanklessly steal raw source are far too lazy/stupid to disassemble what they need out of Noesis, it's forced people to actually use Noesis to do some of this stuff and get at some of this data.

I've noticed a tendency in these communities for people to gravitate very strongly toward making and using a lot of standalone tools, and people rip each other off really relentlessly, seemingly just for some silly sense of glory, or making a name/following for themselves amongst of a bunch of semi-retarded content thieves. I think that if I were trying to maintain an opensource codebase for Noesis, it would be getting torn apart without regard for its actual GPL terms on a very regular basis, and people would be developing their own standalone tools, going around to forums/users themselves and spreading those tools (cause I certainly make no effort on this front for Noesis, nor do I desire to, or want others to when it comes to a great many of those forums as their focus is simple theft), and far fewer people would actually end up using Noesis itself. That would mean even fewer bug/crash reports, even less feedback, and even fewer people writing plugins/scripts for it. I think this is the biggest reason we haven't seen an opensource project that does what Noesis does (specifically in the context of providing a framework for reversing game data, rather than just being a framework for mesh/texture/etc. processing) take off or be successfully, actively maintained over a period of years. I can't discount the larger draw I feel Noesis would have across a wider range of communities if it were open-source, but from what I've witnessed very specifically in this area of engineering interest (a typical GPL'd game engine for example does not have any of these problems, or has them to a barely-detectable degree), I do think the undesirable impact of ego and theft on such open-source initiatives has been a lot greater than people tend to realize.

So, I think in a strangely roundabout way, being closed-source has allowed Noesis to grow and make far greater improvements than it otherwise might, or at the very least has allowed it to improve in a more focused manner. It's also more motivating for me to be able to work in a closed framework to occasionally add new non-game-related experimental shit that I really don't want to make public, so that's been useful too. I don't think I could justify putting as much work into a public codebase, because that's code that I stand absolutely no remote chance of ever commercially profiting from, which means... outside of my base fascination with game data, I guess it would all have to be ego-driven for me too, which means I'd be far more likely to sputter out after seeing enough people thanklessly steal my code. As it is, I simply don't care if they do, and see no harm or loss of profit in making new format specs/code public - short of the fewer new Noesis users that will result from other tools supporting that format as well. It's interesting how it all ties together.

So, Noesis turned into something kind of interesting. I also hope that despite the best efforts of some of you selfish babykillers, Noesis doesn't one day have to die for your sins.
## Post #904
- Username: greywaste
- Rank: n00b
- Number of posts: 10
- Joined date: Fri Jul 30, 2010 5:10 am
- Post datetime: 2012-03-27T13:22:52+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> and self-education

I don't understand all the floaty-endian stuff for the life of me   but I can say that thanks to Noesis, scripts from Chrrox and others and an occasional tutorial, I can model pretty much anything I want to place in my mods by myself now.

> Reply from MrAdults
>
> and people rip each other off really relentlessly, seemingly just for some silly sense of glory, or making a name/following for themselves amongst of a bunch of semi-retarded content thieves.
Well personally I've abided by the readme 100% but yes, it's obvious others ignore it and extracted models and textures end up splattered all over facepunch/Xnalara/bethesda games mod site forums
and now that at least one of those venues has opened donation pools for "mod authors" content thieves can now profit from it too 

But it would still happen regardless of Noesis I think - Daz/Renderosity community would get hit even harder especially I think.

> Reply from MrAdults
>
> So, Noesis turned into something kind of interesting. I also hope that despite the best efforts of some of you selfish babykillers, Noesis doesn't one day have to die for your sins.

It's been a great help - thanks again for keeping it available thus far!
## Post #905
- Username: Mr.Mouse
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2012-03-27T20:31:54+00:00
- Post Title: Re: Señor Casaroja's Noesis

Somehow, Richie's rambling reminds me of my own. [viewtopic.php?f=3&t=797&p=4338#p4338](http://forum.xentax.com/viewtopic.php?f=3&t=797&p=4338#p4338)
## Post #906
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-27T21:20:33+00:00
- Post Title: Re: Señor Casaroja's Noesis

I can definitely appreciate the "I'm turning 30" sentiment... I think software engineers are prone to having early midlife crises, I had my first one when I was 20.
## Post #907
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-03-27T23:43:54+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from greywaste
>
> Well personally I've abided by the readme 100% but yes, it's obvious others ignore it and extracted models and textures end up splattered all over facepunch/Xnalara/bethesda games mod site forums

Ha ha ha tell me about it. Recently, all of the models from TTT from Tekken Hybrid were posted somewhere using the python script I wrote lol. Most of the Neptunia ones were posted on another site as well. But I kind of have a different view of these people. Rather than content thieves I would like to think of the people who use my tools as budding game programmers and artists. While I wish that they didn't post them in batches like that, I would prefer that they use my tools to learn something from them. Look at my code... learn something. Look at the models generated by my tools... learn something. Learn to rig the models yourself rather than posting all of them and expecting somebody else to do it for you lol. That's why I do what I do. I want people to learn something. Unfortunately, as I learned from teaching at a university for several years, most students don't give a shit about learning. They are always thinking about an easier way out.
## Post #908
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-28T01:15:52+00:00
- Post Title: Re: Señor Casaroja's Noesis

I don't mind if people decide to rip every model from every game that is supported by any tools or scripts that I post on the internet. I don't mind if they pass it off as their own work, or even go ahead and make money off it. In fact, if they get rich, I wouldn't mind either, cause if I had the business talent to do so I probably would have done it. But because I don't, I only do it for fun.

In any case, people are free to give what kind of image they want to give. As long as they take responsibility for their own actions and when black suits come knocking on their doors regarding intellectual property theft, they aren't going to start diverting all that spam to me.

Plus, C is unfriendly. I do not even want to look at noesis source and see what kind of horrors may be going on in there.

Anyone want to add obscure language support to noesis?  
Let's try adding some ruby support to the plugin script list lol.
## Post #909
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-29T12:03:32+00:00
- Post Title: Re: Señor Casaroja's Noesis

Might be of interest: [http://www.richwhitehouse.com/index.php?postid=66](http://www.richwhitehouse.com/index.php?postid=66)

I wanted to update my web site cause it had been forever, but I really can't talk about a single damn thing I've been doing outside of Noesis crap. So I talked about Noesis crap.
## Post #910
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-30T01:50:53+00:00
- Post Title: Re: Señor Casaroja's Noesis

Here's a problem I've been having that I don't know how to solve.

A lot of (PC) games use XML files to define which files should be loaded, what goes where, etc.
These are plain XML files so unless you get lucky there's really no way to determine which format you're looking at.

So I've decided not to bother with that route and go with a plain XML parser.

Some games use an XML file to store the model and a material library, and there is no way to determine the name of the material library from the model itself. I'd have to go through the XML file to load the model and the materials, so I would register some XML tags that say one tag is for the model and another tag is for the material. The XML parser will then load the model and the materials.

Ideally, I would like an XML parser that can be extended with plugins.

For example, if I'm working with a specific game, I would define it so that if I see a particular tag, I would do something specific with it. If I see a "model" tag, I would know that the value is the name of a model file. If I see an "animation" tag, I would know that the value is the name of an animation file.

Maybe each plugin can contain a XML handler that registers a bunch of tags when loading all the plugins.
When an XML file is selected, the XML parser will go through tag by tag. If one of the tags is registered, it will look at which  plugin(s) they are registered to and try something with it.

That is, if two plugins register "mesh" for the model-loading tag, then noesis will try to load the specified file with the two plugins.

For the material library example, I would write a function to parse the material library, creating the appropriate material objects and stuff. The XML tag will be registered to call this function if noesis checks this plugin.

I don't know how this would work.
## Post #911
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-30T21:19:05+00:00
- Post Title: Re: Señor Casaroja's Noesis

You could certainly make your own generic XML parser plugin with its own sub-plugins system, sure.

You could also just make a script for the model format. When the model is loaded, parse its path out to determine where on that path you should look for the central xml, then load and parse down to find whatever it is you need to determine the materials associated with the model. If that means loading all of a certain set of xml's and scanning them to find the one that references the model being loaded, then that's what you've gotta do.

My Duke Nukem Forever plugin actually does this, and indexes the full material list and such for the whole game every time a single model is loaded. Despite this, models still load pretty much instantly. Having to parse through tons of XML in Python might be a little less lightning-fast though, so you should consider that.
## Post #912
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-03-30T21:54:07+00:00
- Post Title: Re: Señor Casaroja's Noesis

Can I write the XML parser in C++ and then extend it with python plugins?

Oh, and is there a way to load a default "background" in noesis? Like maybe if I put some textures or a model of some scenery somewhere and it'll be loaded automatically when I preview a model.

So previews look more interesting.
## Post #913
- Username: Mr.Mouse
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2012-03-30T23:34:44+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> I can definitely appreciate the "I'm turning 30" sentiment... I think software engineers are prone to having early midlife crises, I had my first one when I was 20.

I still wonder when the crisis ends.
## Post #914
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-03-31T08:53:13+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from finale00
>
> Can I write the XML parser in C++ and then extend it with python plugins?

Oh, and is there a way to load a default "background" in noesis? Like maybe if I put some textures or a model of some scenery somewhere and it'll be loaded automatically when I preview a model.

So previews look more interesting.

Sure, it would be all on you to implement that though. And I thought you hated C++. 

Nope, that's not an available feature at the moment. But you can do an ultrashot to get a nice antialiased snapshot with alpha channel, then overlay it on whatever you want in, say, PhotoShop. If pixxx are your concern. Then again, ultra-shot requires a FBO-capable GPU, which I've gathered you may not have.

> Reply from Mr.Mouse
>
> I still wonder when the crisis ends.
My best guess is, death.
## Post #915
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-04-01T18:29:59+00:00
- Post Title: Re: Señor Casaroja's Noesis

I don't like C++ but it's probably more suitable as a general parser rather than just a one-off thing.

Anyways for the QUAD options, I don't seem to be able to use them?
Noesis just tells me they're undefined.
## Post #916
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-04-01T19:17:35+00:00
- Post Title: Re: Señor Casaroja's Noesis

Typo? Referencing the wrong module? I just tested these:

```
		rapi.immBegin(noesis.RPGEO_QUAD_ABC_BCD)
		rapi.immBegin(noesis.RPGEO_QUAD_ABC_ACD)
		rapi.immBegin(noesis.RPGEO_QUAD_ABC_DCA)

```

They all seem to be working fine.
## Post #917
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-04-01T20:06:22+00:00
- Post Title: Re: Señor Casaroja's Noesis

lol it was a typo
## Post #918
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-04-02T13:40:14+00:00
- Post Title: Re: Señor Casaroja's Noesis

Supposing I got around to adding some c++ plugins for, say, a particular decryption algorithm used by a different formats, how do I expose it to python so that I can still develop plugins that way but also enjoy faster data decryption when I need it?
## Post #919
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-04-02T13:58:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

Unless Noessis has a native way I'm guessing ctypes will be your best bet to access dll functions.
## Post #920
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-04-02T18:31:53+00:00
- Post Title: Re: Señor Casaroja's Noesis

Is there a way to set the "skip render" attribute from the data viewer automatically while importing?
## Post #921
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-04-02T19:29:08+00:00
- Post Title: Re: Señor Casaroja's Noesis

Yeah, ctypes is the easiest way. You have noesis.getMainPath() to get the Noesis path (not the working directory) which you can then truncate/append to the path of wherever you expect your DLL to be.

Use setSkipRender on the associated material, or create a material with that property and assign it to all meshes that you don't want drawn. It isn't exposed to Python on a per-mesh basis, only per-material.
## Post #922
- Username: Doctor Loboto
- Rank: mega-veteran
- Number of posts: 213
- Joined date: Mon Oct 06, 2008 9:52 am
- Post datetime: 2012-04-03T01:11:25+00:00
- Post Title: Re: Señor Casaroja's Noesis

I don't know if this has been brought up yet, but the Duke Nukem Forever extraction method doesn't seem to work with the DLC addons. I'm trying to get a model of Dr. Proton for a wiki, as well as for my personal stash of models.
## Post #923
- Username: Dazz
- Rank: beginner
- Number of posts: 21
- Joined date: Thu Mar 17, 2011 7:10 pm
- Post datetime: 2012-04-03T10:37:31+00:00
- Post Title: Re: Señor Casaroja's Noesis

Is there any easy way using the batch command to have the output files in their own folders? I'm trying to batch from a game, but they all use the same texture names, so they would overwrite each other...
## Post #924
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-04-03T13:10:06+00:00
- Post Title: Re: Señor Casaroja's Noesis

Emissive/self-illumination maps do i define them with rapi.rpg.setLightmap?

What would be an efficient way to find certain bytes in the stream? eg: looking for 0x353020 which is the start of a chunk.
I'm currently reading byte per byte which can slow down the progress when using files >6mb.

For fbx export, how would I go about setting the actual texture path? When loaded in 3ds max to test it seems to only have the texture name and not the path.
## Post #925
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-04-03T15:37:15+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Dazz
>
> Is there any easy way using the batch command to have the output files in their own folders? I'm trying to batch from a game, but they all use the same texture names, so they would overwrite each other...

Batch script to call noesis and output them in their own folders is one option.

Noesis should also support the ability to define an output path, much like manually exporting.
## Post #926
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-04-03T20:17:59+00:00
- Post Title: Re: Señor Casaroja's Noesis

Frankly, I'm hesitant to spend time on the batch exporter, because my intuition tells me it's a feature more likely to be used for lazy mass-theft and I feel the current state of it should be perfectly adequate for legitimate needs. On the other hand there's little sense in leaving a program feature-crippled just because the majority of its users are scumsuckers. I will contemplate this issue.

Demonsangel: You could, and just set the appropriate blend mode on that material. Also, I don't know offhand of any quick method to find binary in an object in Python but I'm sure there is one. You'd ideally want to look for something that operates in native code. There may be a way to do it with a method of the bytes/bytearray type which would operate in native code and probably be ideal.

Dazz: That is what the default -texpre option is for.

Edit: And I just happened to notice the link in Dazz's signature. Dazz, what the hell are you doing? At the very least your site is in violation of the UK's DEA and probably plenty of other shit that I don't even know about because I'm not familiar with UK digital copyright law. And did it not provide you with some hint that the Noesis readme states repeatedly that you are not to do exactly what you're doing? Looks like many of your models haven't come from Noesis, but I see plenty that have and the shit you are doing is illegal in your own country. You even acknowledge that the content belongs to other companies in your "disclaimer". And you must have a whole lot of nerve to come here and ask for help and/or features, while blatantly violating the wishes I have expressed very clearly for this program's use right in its included readme. This is the kind of shit that is likely to get a C&D sent back my way, thanks to your blatant abuse of this and many other tools. I don't want anything to do with you or anyone who visits your site.
## Post #927
- Username: Dazz
- Rank: beginner
- Number of posts: 21
- Joined date: Thu Mar 17, 2011 7:10 pm
- Post datetime: 2012-04-04T08:43:03+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> 
And I just happened to notice the link in Dazz's signature. Dazz, what the hell are you doing? At the very least your site is in violation of the UK's DEA and probably plenty of other shit that I don't even know about because I'm not familiar with UK digital copyright law. And did it not provide you with some hint that the Noesis readme states repeatedly that you are not to do exactly what you're doing? Looks like many of your models haven't come from Noesis, but I see plenty that have and the shit you are doing is illegal in your own country. You even acknowledge that the content belongs to other companies in your "disclaimer". And you must have a whole lot of nerve to come here and ask for help and/or features, while blatantly violating the wishes I have expressed very clearly for this program's use right in its included readme. This is the kind of shit that is likely to get a C&D sent back my way, thanks to your blatant abuse of this and many other tools. I don't want anything to do with you or anyone who visits your site.

MrAdults, I've been running The Spriters Resource for 10 years. We have had praise from games companies, and been featured in official gaming magazines such as Nintendo Official. We are invited to several gaming events each month.
We branched into models recently, and have had a lot of interest in it from our users. We've not yet been approached from any companies about it, but we link directly to it from The Spriters Resource.

I still do not agree with your readme, and while I respect your wishes, it is the best application to complete the action that I intend to have - if need be, I can look for an alternative, but frankly Noesis is the best application available. If you feel it isn't its best purpose, then you can state that but insulting those who use it for one of the purposes it poses is just silly.

I come directly to you to ask for help and features to improve the program, sure - just like when I wrote reviews for companies whom supplied me with games, I mentioned things that could be better explained and improved. I understand that I'm not abiding to your wishes, and I'm not going to lie about that because I know that full well. But my belief is that your application fits a purpose you perhaps don't agree to, and if that can be improved then I see no reason to not talk to you directly. If you'd prefer me to hide and lie to you, then I'm very confused about what you want... Because I thought one of the benefits of being able to talk to the users of your program was that you could get feedback.

If you don't want anything to do with the community you're helping to develop, then I'm very confused at what you want... I'm sorry if I have somehow offended you, but the truth is that our website serves a purpose of fan creation. We've never in any way sold our content off, and we never will. I know several users here that use our site, and while I'm not going to out any of them, I think that you need to perhaps see things from a more level perspective of what it is we are doing. We aren't helping people commit piracy, we're assisting in fan service.
## Post #928
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-04-04T12:04:51+00:00
- Post Title: Re: Señor Casaroja's Noesis

lol I remember my first C&D letter... took five or six years after I started a web site before the C&D came to my door... all it takes is to piss one person off. even though some companies don't seem to care, and some might even bless things with their ripped content (like Crystal Dynamics), all it takes is to piss one person off. probably not tomorrow or even next year, but it might come one day. just try not to piss those people off. personally, i would try to be a little less visible... the more visible you are the more likely it will happen. he he he featured in official gaming magazines omg ha ha ha that's getting a little too visible . good luck though!
## Post #929
- Username: Dazz
- Rank: beginner
- Number of posts: 21
- Joined date: Thu Mar 17, 2011 7:10 pm
- Post datetime: 2012-04-04T12:11:20+00:00
- Post Title: Re: Señor Casaroja's Noesis

I of course don't go out of my way to piss companies off, but the additional point there is that Nintendo do not own the content to Sega's games. As such they can issue a warning to remove their content specifically, to which I would heed.
I've been warned by Nintendo in the past, for example, to remove a sheet we had up which was for a game which at the time hadn't been released. They said that if we removed it, we were welcome to republish it after the game had launched.
If they wanted us to remove all of the content that they own, of course I would comply. I'm not an idiot. But that won't shut down the entire site, because there is a lot more content than just that of one company.

As for being visible, that isn't something I can control... I've never done any PR, or anything of that nature.

As an additional, that company would probably get a pretty bad reputation in the community, which is a vast quantity of their customers.



But this isn't the point at hand.
## Post #930
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-04-04T12:33:47+00:00
- Post Title: Re: Señor Casaroja's Noesis

true true. i've always wondered why Crystal Dynamics doesn't stop all the stuff going on at the XNALara forums. but my point was that I understand where Mr. Adults is coming from... I worked on a program too for several years, only to have one C&D destroy everything; but that was my own doing of course  . fucking patents lol.
## Post #931
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-04-04T12:52:27+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Dazz
>
> 
If they wanted us to remove all of the content that they own, of course I would comply. I'm not an idiot. But that won't shut down the entire site, because there is a lot more content than just that of one company.

As an additional, that company would probably get a pretty bad reputation in the community, which is a vast quantity of their customers.

Companies may seek legal methods to shut down your entire site even if you own content that are completely unrelated to, much like how a company can seek to have noesis stopped because they don't like how it's ripping their models.

Fortunate some laws that would make this 10000000% easier didn't actually go through, otherwise you'd probably be screwed if a single user says "hey, this guy's got copyright material kill his site"...no matter where you are in the world.

And probably bad rep is of no concern to a company that would come at you, especially if it is a decent size company. Sure, maybe among your community, but unless you "own" a large share of their market, it's likely a drop in the pond. A lot of people don't agree with the idea of ripping resources from games anyways simply because it's "IP theft" or whatnot.

If anything, it may just make news headlines saying that company XYZ decided to shut down a bunch of pirates that were stealing resources from thousands of games and the rest of the world will praise the company.
## Post #932
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-04-04T14:48:10+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from finale00
>
> company XYZ
I think you need a tiny break from here. 

@MrAdults:

I tried setting the lightmap by calling
.setBlendMode for each material
and .rpgsetLightmap for each commitTriangles that had a material that required an emissive texture.
Now I tried GL_ONE,GL_ZERO,GL_SRC_COLOR combinations but none of them work.

Just to clarify I'm trying to apply the left image onto the right one so it comes out like the bottom one(where I manually added it in 3ds max as self-illumination texture)



But nothing appears in Noesis, though in 3ds max it only appears on the render and not in the viewport. Is it the same for Noesis?
## Post #933
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-04-04T16:00:23+00:00
- Post Title: Re: Señor Casaroja's Noesis

Dazz: I don't see how I could have been any more clear. I don't want you to "hide and lie to me", I want you to actually knock it off. I've stated my intent with Noesis before, and the reasons I work on making model/image/archive/etc. formats accessible to people. A big reason for that is for people to learn and privately enjoy/examine content, and longterm preservation of the data is a goal too, but giving people like you a tool to illegally distribute content IS NOT THE GOAL. I don't really care if you're a celebrated hero of ripping content off or what your views are on it, you are breaking the law in my country and your own country. And this isn't a law that can be seen as particularly unreasonable from an ethical standpoint. It's simple copyright law and it exists for good reason. I might have some sympathy if these were all 15+ year old games that no one cared about anymore. In that case what you're doing would still be illegal, but might be actually be helpful rather than harmful. (in that you might stand to reinvigorate old IP's for the companies in question and make them less likely to want to shank you in the throat) However, you are distributing all manner of models from all manner of generations, even for games that just came out in the last year, from companies that have a demonstrated track record of not at all liking that sort of thing. So not only it is illegal, it's a flagrantly illegal and as has been mentioned all you have to do is piss ONE company off. I see no reasonable justification for what you're doing, and the fact that you feel justified in it and have received publicity in magazines for ripping companies off while still not being shut down is just fantastic but I'm afraid it must've completely warped your idea of what is acceptable.

I know full well that I'm telling you something you don't want to hear, and it's probably getting through your head no more easily than it gets through the head of a religious person to be told that their beliefs stem from a bloody warlord who stole someone else's religion and shaped it as a tool in his own inventory of destruction. That doesn't make what I'm saying any less true or what you're doing any less illegal.

Demonsangel: Yeah you want to apply the left texture using a second material as GL_ONE GL_ONE. However it seems there's a bug (I never tested non-default blend modes on multi-pass materials) that's preventing it from using the blend specified by a second material. I'll get that corrected in an update soon.
## Post #934
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-04-04T17:26:20+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from howfie
>
> true true. i've always wondered why Crystal Dynamics doesn't stop all the stuff going on at the XNALara forums. but my point was that I understand where Mr. Adults is coming from... I worked on a program too for several years, only to have one C&D destroy everything; but that was my own doing of course  . fucking patents lol.

They have permission from Crystal Dynamics to distribute TRU freely.

Also, I know it's illegal but I don't see what harm you can do by using models for renders or mods (ie skyrim) unless you're making some profit from them (there was a website literally selling UE stuff ripped with gildor's unreal viewer when you can get that stuff for free by owning the game and ripping the content by yourself). 

See ya.
## Post #935
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-04-04T17:44:11+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Darko
>
> 
They have permission from Crystal Dynamics to distribute TRU freely.

Also, I know it's illegal but I don't see what harm you can do by using models for renders or mods (ie skyrim) unless you're making some profit from them (there was a website literally selling UE stuff ripped with gildor's unreal viewer when you can get that stuff for free by owning the game and ripping the content by yourself). 

See ya.

It really doesn't matter what harm there is or isn't, or whether it will benefit humanity greatly or not, intellectual property laws come before personal interests as far as the courts are considered.

But what is the difference between an artist drawing an awesome piece of art, or a writer writing an awesome piece of text, and everyone else just takes it, puts it in their own projects, and likely passes it off as their own work because they put "effort" into converting the format into a usable format? Even if they provided credits, does everyone pay attention to credits? Probably not.

There are plenty of arguments from the supporters of such IP laws as well.
## Post #936
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-04-04T18:00:32+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from finale00
>
> Darko wrote:
They have permission from Crystal Dynamics to distribute TRU freely.

Also, I know it's illegal but I don't see what harm you can do by using models for renders or mods (ie skyrim) unless you're making some profit from them (there was a website literally selling UE stuff ripped with gildor's unreal viewer when you can get that stuff for free by owning the game and ripping the content by yourself). 

See ya.

It really doesn't matter what harm there is or isn't, or whether it will benefit humanity greatly or not, intellectual property laws come before personal interests as far as the courts are considered.

But what is the difference between an artist drawing an awesome piece of art, or a writer writing an awesome piece of text, and everyone else just takes it, puts it in their own projects, and likely passes it off as their own work because they put "effort" into converting the format into a usable format?

There are plenty of arguments from the supporters of such IP laws as well.

Lol, Actually I was talking about getting economical benefits from other people work vs Using something for personal purpuoses.

Also if the copyright laws were so rigid, using a copyrighted image as an avatar would be considered as a crime. You know, this kind of stuff sometimes is confusing and it depends how people interpret it. 

And there's something called fair use.
## Post #937
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-04-04T18:55:12+00:00
- Post Title: Re: Señor Casaroja's Noesis

Lol yeah darko crazy shit goes on. Actually yeah, i knew cd was ok with it as long as they don't do nude or gstring laras. What amazes me is the rest of stuff they do hahaha. But I hope dazz gets a little more careful... Being featured in a magazine, having ads on his website, those are red flags he might be making a little money and tha deffo crosses the fair use line. I should post my c&d lol. It's funny until they want to start prying into how much money you've made. Tip: lie lol.
## Post #938
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-04-04T19:03:52+00:00
- Post Title: Re: Señor Casaroja's Noesis

Copyright laws are quite rigid where distribution of copyrighted content is concerned. They wouldn't do much fucking good otherwise, would they?

Directly distributing ripped copyrighted content is not fair use and it is not parody. Implying otherwise doesn't help your cause. It just narrows us down to 2 potentials: You know better and you're dishonest, or you're genuinely clueless.

If you were putting up depictions of content (not actual content - fair use does NOT cover this) for informative/educational purposes, that would be fair use. That is not what you're doing. If you were creating new content inspired by or even partially depicting the original content (e.g. Pyst) for the purpose of satire, that would be parody. That is not what you're doing. There is a grey line ethically but there is not a grey line legally, and that site has crossed both lines anyway.
## Post #939
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-04-04T20:26:35+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Darko
>
> Also if the copyright laws were so rigid, using a copyrighted image as an avatar would be considered as a crime. You know, this kind of stuff sometimes is confusing and it depends how people interpret it.

The law is there, which means you have the right to sue someone for breaking the law.
But just because you're breaking the law, doesn't mean people are definitely going to get you for it.

In the end, it amounts to whether someone feels it is worth it to take action. Is tecmo going to pay a team of lawyers $200/hr to bring justice to copyright infringement via forum avatars of DoA girls? Probably not. Anyone want to sue howfie for having an image of a copyright character? How much are you willing to spend to have it removed?

It'd be a waste of their time and money. I guess they'd have more reason if my use of DoA girls in a forum avatar is harming their image or taking away profits or something. Or if I were distributing nude mods.

But what if I was making $10k a month off ad revenue by running a massive site that offers free, proprietary models and other resources for download? There is no surprise that the sprite resource site has a nice little ad on the side, the top, on every page, even if it goes towards genuine things like paying for the servers (although I'm not sure if google actually pays out for each page that you view)
## Post #940
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-04-04T20:56:23+00:00
- Post Title: Re: Señor Casaroja's Noesis

And I wonder where these people are getting their knowledge of copyright law. The homeless? Back when I made AVALANCHE, I consulted with a friend of a friend (who happened to be a contract lawyer) to at least make sure I had my bases covered in avoiding personal financial liability through my chosen development approaches and release venues. I've since found my own fulltime lawyer (I had to for my own business/contracting purposes) who has given me far more elaborate explanations of the terms and conditions of fair use and parody, and told me that my "asset whiteroom" approach used in AVALANCHE was a terrible idea. (although as he also noted, it's been out there for so long now and I never made a penny on it, so I should still be safe from any serious action) But in all my naivety and stupidity, I don't think I've ever been so ignorant as to think I could just slap up a ton of copyrighted content directly on a web site, much less one fueled by advertisements, and get away with it. What you're doing there could very easily get you slapped with a lawsuit for tens of thousands of dollars, and you'd be purely at the mercy of the company suing you. It could quite easily ruin your life all because you pissed off the wrong person and made the (rather huge) mistake of profiting off of their content.
## Post #941
- Username: Mr.Mouse
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2012-04-04T21:01:14+00:00
- Post Title: Re: Señor Casaroja's Noesis

A nice heated discussion. In the end, it all boils down to copyrights. Apparently, the Spriter's Resource, as I gather it from the discussion here, hosts models that one might be able to use in some way. It distributes them. That goes a little farther than a "Sprite" in the usual sense, a 2d image in some 8-bit game, or - granted - just any 2d game. It is a fine line. I'd say there goes a lot more work in a 3d model, and perhaps companies were going to use the models in sequels. Now they are out in the open and any one can use the models. However, who would be foolish enough to use a stolen model from some game and use it in another? A law suit would be imminent. The Spriter's Resource is apparently not a target yet. But then again, it has only recently started using models. 

It would be an interesting case in court though. 

I once thought about doing a similar thing, create a game sound library. I refrained. That shit is copyrighted. And to host something like that I'd have to get a lot of funding to support it, with big sounds files and probable popularity and all. This would only be possible if I got some official status of a non-profit foundation to archive the artist creations. I would then have to strike deals with each copyright owner to be able to host it. Check out Home of the Underdogs, that hosts a lot of old games. Or sites like World of Spectrum. You will notice some games they talk about cannot be downloaded, as the copyright owners forbid it. That is the way to go. 

Let it be clear that the Xentax Foundation will not stand for unlawful activities. I know we too walk the fine line, but our goal is to improve the longevity of games, by allowing discussion of efforts to mod existing games and expand on them. All of these activities must result in free mods, or when specifically allowed by the company that holds any copyright - be downloadable for a price. 

Noesis is not intended as a tool to rip models and then distribute them, meanwhile cashing in the $$$ from adverts.
## Post #942
- Username: Dazz
- Rank: beginner
- Number of posts: 21
- Joined date: Thu Mar 17, 2011 7:10 pm
- Post datetime: 2012-04-04T21:20:20+00:00
- Post Title: Re: Señor Casaroja's Noesis

I am actually shocked that you guys believe I could make a living from these sites - the server costs are incredibly high, and advertising is by far no means a well paying venture.

As for the issue of legalities, I've also spoken those in the field of games development as well as those in the law business in the past. All of whom have said that it is a tough issue, as it is entirely how you look at the purpose. My purpose for running these sites isn't to distribute the content of the game for people to sell on - I originally opened The Spriters Resource as a means of educating people in the art of 2D animation.
The success story of The Models Resource that I know of was an animator who landed a job at Bioware for using models from using models on the site to demonstrate his skills in animation.

I'm not profiteering from this - I'm spending a lot of my spare time in maintaining it. The server exceed that of £1000 a year, which is hard to finance.

We don't encourage people to use ripped content and editing it by any means, but we encourage them to look at it as inspiration - the easiest way to learn is to be able to take a close examination at things that already exist.
## Post #943
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-04-04T22:22:51+00:00
- Post Title: Re: Señor Casaroja's Noesis

That's why Noesis exists. So people can learn from content they own. Not so you can illegally distribute that content all over the internet.

£1000? Shared hosting would handle your site just fine at <£200/year, unless you're getting tens of thousands of downloads per month. I pay $150 USD a year and push hundreds of gigabytes per month with no trouble. And if you are getting tens of thousands of downloads per month, that's all the more reason you should be scared shitless at what's going to happen to you when a company that doesn't like it finds out.
## Post #944
- Username: Dazz
- Rank: beginner
- Number of posts: 21
- Joined date: Thu Mar 17, 2011 7:10 pm
- Post datetime: 2012-04-05T07:17:34+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> That's why Noesis exists. So people can learn from content they own. Not so you can illegally distribute that content all over the internet.

£1000? Shared hosting would handle your site just fine at <£200/year, unless you're getting tens of thousands of downloads per month. I pay $150 USD a year and push hundreds of gigabytes per month with no trouble. And if you are getting tens of thousands of downloads per month, that's all the more reason you should be scared shitless at what's going to happen to you when a company that doesn't like it finds out.

The Spriter's Resource receives over 250,000 unique hits a month, at over 8,500,000 pageviews. It holds massive image files, of which there are many on the most popular pages.
It uses a lot of resources.

I know what I am doing. I've been running this website for 10 years, and have been with it controlling its server usage.

I will promise you that I will now choose not to use the application, because I simply don't agree with the owner and I hate to actually use something by somebody who doesn't see the alternative perspective of helping people, which has on many occasions been agreed by the companies that that content includes.
However, I'm not going to force my users to do the same. This is a personal decision.

I am not going to close my websites. They have been used to aid in schools and educated professionals in the field. I would be stupid to close it, and yes I am paranoid about the consequences, but helping people is not something that people should just give up on because something MIGHT happen.

If it pleases you, I shan't post here any more. I'll restrict my own education to make your staff happy - because that would apparently be my only option if I want to continue to do the same.
## Post #945
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-04-05T08:13:50+00:00
- Post Title: Re: Señor Casaroja's Noesis

You are really deluding yourself if you think you're helping people by blatantly violating copyright law. Tools like Noesis exist so that those people can legally get at those resources. That BioWare animator didn't get his skills by stealing content on your site, and he could've done the same thing if he had instead used Noesis to rip content from one of his own games. Unless you're way too computer-illiterate to be doing anything with the models to begin with, you can figure out how to use Noesis. It's not a big step forward to use most other standalone/commandline tools either.

And yes, absolutely do stop using Noesis to rip copyrighted content that you intend to distribute. I just had a look through your models section and am pretty disgusted by the culture there. Did you realize that I worked on Jedi Outcast as well? The guy that "ripped" the models for that game on your site probably used Noesis too, then just went around copying the textures used by the models. Using my tool to rip and then illegally distribute content against my wishes, from a game I put months of my life into making professionally, and praising yourselves for your uncanny ability to click "File", "Export", "OK". You should all be very proud. And yes that is sarcasm. Because I don't know how else to react to someone who has absolutely no respect for the work of others. I'm sure many of the other guys on the team would be flattered to know people are still playing with their models, but quite a bit less-so to know that people are choosing to steal them and illegally distribute them when a perfectly user-friendly content pipeline already exists for exporting them.

Once again I will repeat, you are not helping anyone by distributing this content. If you want to help people, show them how to use Noesis and other similar tools for their own private purposes, and stop contributing to a massive theft database that could very possibly take Noesis out with a random flying C&D in the aftermath when it finally gets shredded by a company that doesn't appreciate your particular means of "education".
## Post #946
- Username: pixellegolas
- Rank: ultra-veteran
- Number of posts: 423
- Joined date: Tue Aug 12, 2008 6:30 am
- Post datetime: 2012-04-05T10:00:01+00:00
- Post Title: Re: Señor Casaroja's Noesis

One big problem I guess is when you have for example .x files without an archive you are almost saying "please use as you will". But when we open zipped archives and convert model formats that are internal to for example fbx we are really stepping on toes....with high heels.

If a company goes through the whole trouble of creating their own format, their own archives with their own passwords they are sending quite a clear statement "don't touch, please play game, but don't touch the source".

I guess it all comes down to actually asking a company if it is ok and it will probably be 1 in a million that says yes.

On top of my head I see YO FRANKIE from blender that has given us all archives and stating, USE THEM! MOD THEM!

I saw a guy on Unity forum who made a nice FPS package that he sold. The only problem was that he used models from Army of two and it was very clear it was does models. He lost his account....
## Post #947
- Username: Mr.Mouse
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2012-04-05T15:59:10+00:00
- Post Title: Re: Señor Casaroja's Noesis

As a side note, Google Adsense shut down their ads on our forum.xentax.com domain, because of violation of copyright rules. Claiming this as an example: [viewtopic.php?t=2870](http://forum.xentax.com/viewtopic.php?t=2870)

So you see, we walk the thin line here, and Google decided for us and turned against our thin line.
## Post #948
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-04-05T17:41:45+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Dazz
>
> I will promise you that I will now choose not to use the application, because I simply don't agree with the owner and I hate to actually use something by somebody who doesn't see the alternative perspective of helping people, which has on many occasions been agreed by the companies that that content includes.

Your arguments are only biased to your own favor.

There are definitely companies that see benefit to resource extraction. To modding their games. To reverse engineering their tools. You kind of have to reverse the models if you want to mod the models.

When we talk about modding, some companies even encourage players to mod their games because they recognize the value that it brings to their product and they may find some hidden talent through these modding ventures that they otherwise would not have found through standard hiring processes. Does this mean all companies feel the same way? Definitely not. Blizzard even took pro-active steps to eliminate modding in their newest games and stated that in interviews. They probably didn't really like it when people wrote a SC2 model viewer.

There are companies where management is run by people that have no idea what it's like to develop a game or even play a game, and there are probably companies where management is run by "SOFTWARE SHOULD BE FREE, SO WE SHOULD PROVIDE TOOLS TO HELP THEM" advocates.

But does *every* company you ask for permission say the same thing?
Do you ask permission from every company that you decide to share resources from?

It doesn't matter if the majority of companies think it's cool.
It doesn't matter if you're helping people or not.

Because the real problem is one guy coming out and shutting you and everything down.

While you may be willing to take that risk, clearly MrAdults is not interested in getting tied up with such a mess cause there's no benefit for him from all of this anyways. It's not like the noesis users know anything about it besides "a tool for ripping game models"
## Post #949
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-04-05T18:01:32+00:00
- Post Title: Re: Señor Casaroja's Noesis

I'm getting the bone data for the HoMM6 .gobj format currently like this:

```
	x,y,z=self.data.read('3f')
	rotate=self.data.read('3f')
	rotate = NoeAngles(rotate)
	bone=rotate.toMat43()
	bone.__setitem__(3,(x,y,z))
	bones.append(bone)
Bones=[]
for i in range(numBones):
	id = self.data.readShort()
	Bones.append(NoeBone(i,str(i),bones[i],None,id))
Bones = rapi.multiplyBones(Bones)

```

but it appears that not matter what the angles (rotate) are it doesn't effect the outcome when I create a NoeBone from these mat43 and later call rapi.multiplyBones on the armature. (I left out the code which skips the parts between the data)

Am I using these functions wrong?
## Post #950
- Username: Mr.Mouse
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2012-04-05T18:37:20+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Mr.Mouse
>
> As a side note, Google Adsense shut down their ads on our forum.xentax.com domain, because of violation of copyright rules. Claiming this as an example: viewtopic.php?t=2870

So you see, we walk the thin line here, and Google decided for us and turned against our thin line.

To add to my comment, they shut us down TODAY. Just so you know.
## Post #951
- Username: Dazz
- Rank: beginner
- Number of posts: 21
- Joined date: Thu Mar 17, 2011 7:10 pm
- Post datetime: 2012-04-05T20:10:54+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Mr.Mouse
>
> Mr.Mouse wrote:As a side note, Google Adsense shut down their ads on our forum.xentax.com domain, because of violation of copyright rules. Claiming this as an example: viewtopic.php?t=2870

So you see, we walk the thin line here, and Google decided for us and turned against our thin line.

To add to my comment, they shut us down TODAY. Just so you know.

Off topic but I'm not going to put anything more into the debate since it's obvious where we all stand, but you can look at alternatives to Adsense - try CPMStar, they're gaming related. Their rates are very up and down but they seem all right and pay on time. But only to paypal.
Sorry to go off topic, just thought it might help you out.
## Post #952
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-04-05T21:42:29+00:00
- Post Title: Re: Señor Casaroja's Noesis

The timing certainly was funny. Kind of like being accused of killing your wife right after a fight with the one-armed man.
## Post #953
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-04-05T21:50:53+00:00
- Post Title: Re: Señor Casaroja's Noesis

Demonsangel: Are you actually attaching the bones to a model? If you are, then the only thing that comes to mind is maybe you're dealing with bad rotations/matrices or everything is identity so that it looks the same either way.

Edit: Also forgot to mention, I just put a build up with a fix for your other blend problem.
## Post #954
- Username: inevitable
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Fri Apr 06, 2012 7:17 am
- Post datetime: 2012-04-05T23:24:27+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from maniacoloco
>
> ok, here is the ritual to get fully rigged ssfiv models. Ok, we need:

emotosmd by magnum
kensou's tool
riggomatic by magnum (http://z6.invisionfree.com/Resident_Evi ... 11075&st=0)
the latest sfiv assets viewer
noesis 

Basically what we're gonna do is to convert a ssfiv emo object file to sfiv obj file with kensou's tool and then convert it to smd with emotosmd. After that, just convert the original emo object to obj and convert that object to smd with noesis. import the boneless smd in max studio and just rotate it to have the same exact position as the "damaged" smd (yes, the smd gotten with the converted edmo). In the last instance what you need to do is to open riggomatick, select the base model where the vertex weights data and bones are gonna be taken, and select the boneless smd where we want to place that data. The result is a correct full rigged smd model.

For how to run the tools, check this forum and that re forum.

is there an easier way to get ssf4 360 models into noesis?
## Post #955
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-04-06T11:15:41+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Mr.Mouse
>
> As a side note, Google Adsense shut down their ads on our forum.xentax.com domain, because of violation of copyright rules. Claiming this as an example: viewtopic.php?t=2870

So you see, we walk the thin line here, and Google decided for us and turned against our thin line.

Wow, the only thing bad I see there is a couple DEAD links to rapidshare.
## Post #956
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-04-06T12:09:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Demonsangel: Are you actually attaching the bones to a model? If you are, then the only thing that comes to mind is maybe you're dealing with bad rotations/matrices or everything is identity so that it looks the same either way.

Edit: Also forgot to mention, I just put a build up with a fix for your other blend problem.
I updated Noesis but I can't seem to get the lightmap to show.


About the bones [viewtopic.php?p=70520#p70520](http://forum.xentax.com/viewtopic.php?p=70520#p70520)

This is one of the bonedata as I get them:

float 0-2 = x,y,z
I used float 3-5 as NoeAngles.
But when I skip floats 3-5 and use floats 6-8 which are clearly different from the previous 3 the bones stay exactly the same as in the the first pic in the link to the HoMM6 topic.
## Post #957
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-04-06T21:00:29+00:00
- Post Title: Re: Señor Casaroja's Noesis

Well, I know that custom blend modes on lightmap materials are definitely working, I tested it with the Quake 2 script. So I'd imagine it's something else, like you didn't set the LMUV's, which you need to do for it to render that LM pass, even if they're the same as the regular UV's.

If anything those first 4 floats look like a quaternion, or 3-5 is a scale, and 7-9 could be radians, or 6-8, hard to say just looking at raw data. Either way, you definitely aren't using the values right. And if you are feeding those values in directly as Euler angles that would be why you can't see anything. If anything they're radians, you have to scale them into Euler range. (to do so, multiply each value by noesis.g_flRadToDeg) But they might not be radians either.
## Post #958
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-04-07T02:14:32+00:00
- Post Title: Re: Señor Casaroja's Noesis

1: I just read an article on bitmaps, pixel formats, and indexed palettes and feel enlightened, but how do I actually work with palettes in noesis? I see functions related to getting and applying palettes, but not sure how to use them in practice. I imagine one would have to parse a palette file to actually get the colors?

2: Also for mipmaps, while it probably isn't useful to import the smaller versions, is there a way to put all of the images together in one big image? Like the examples on wiki: [http://en.wikipedia.org/wiki/Mipmap](http://en.wikipedia.org/wiki/Mipmap) 

Then I can verify that the value I'm looking at it actually the mipmap count without having to scroll through the textures (which I just noticed you've implemented the scrolling feature lol)

3: it seems like RGB24 bitmaps might be compressed using RLE. Is there a way to quickly check if that's the case?

4: Bug report: Whenever noesis crashes it generates dozens of crash reports and automatically sends them.
## Post #959
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-04-07T13:25:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Well, I know that custom blend modes on lightmap materials are definitely working, I tested it with the Quake 2 script. So I'd imagine it's something else, like you didn't set the LMUV's, which you need to do for it to render that LM pass, even if they're the same as the regular UV's.

If anything those first 4 floats look like a quaternion, or 3-5 is a scale, and 7-9 could be radians, or 6-8, hard to say just looking at raw data. Either way, you definitely aren't using the values right. And if you are feeding those values in directly as Euler angles that would be why you can't see anything. If anything they're radians, you have to scale them into Euler range. (to do so, multiply each value by noesis.g_flRadToDeg) But they might not be radians either.

```
			numFaceDraw = drawCallFace[i]
			# idxBuff = idxBuffer[:numFaceDraw*6]
			# idxBuffer=idxBuffer[numFaceDraw*6:]
			rapi.rpgSetMaterial(self.matList[matID[i]].name)
			if matID[i] in MatEmis:
				rapi.rpgSetLightmap(MatEmis[matID[i]].name)
			rapi.rpgSetOption(noesis.RPGOPT_TRIWINDBACKWARD, 1)
			# rapi.rpgCommitTriangles(idxBuff, noesis.RPGEODATA_USHORT, numFaceDraw*3, noesis.RPGEO_TRIANGLE, 1)
			rapi.immBegin(noesis.RPGEO_TRIANGLE)
			idxSF = idxSP[:numFaceDraw*3]
			idxSP=idxSP[numFaceDraw*3:]
			for idx in idxSF:
				rapi.immUV2s(vertBuff,16+idx*64)
				rapi.immLMUV2s(vertBuff,16+idx*64)
				rapi.immVertex3hf(vertBuff,idx*64)
			rapi.immEnd()
		mdl=rapi.rpgConstructModel()

```

UV and Triangles get drawn correctly but no lightmap shows up, nor the option to view LMUV like I can for UV.
Edit: Is there a way to add Lightmap UV without using rapi.imm ?
## Post #960
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2012-04-07T17:25:16+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from inevitable
>
> maniacoloco wrote:ok, here is the ritual to get fully rigged ssfiv models. Ok, we need:

emotosmd by magnum
kensou's tool
riggomatic by magnum (http://z6.invisionfree.com/Resident_Evi ... 11075&st=0)
the latest sfiv assets viewer
noesis 

Basically what we're gonna do is to convert a ssfiv emo object file to sfiv obj file with kensou's tool and then convert it to smd with emotosmd. After that, just convert the original emo object to obj and convert that object to smd with noesis. import the boneless smd in max studio and just rotate it to have the same exact position as the "damaged" smd (yes, the smd gotten with the converted edmo). In the last instance what you need to do is to open riggomatick, select the base model where the vertex weights data and bones are gonna be taken, and select the boneless smd where we want to place that data. The result is a correct full rigged smd model.

For how to run the tools, check this forum and that re forum.

is there an easier way to get ssf4 360 models into noesis?
this was posted by me, I signed up again cause of the extremely long delay in password recovery. Now someone please help?
## Post #961
- Username: fantaseb
- Rank: Banned
- Number of posts: 3
- Joined date: Fri Dec 16, 2011 1:31 am
- Post datetime: 2012-04-09T21:58:57+00:00
- Post Title: Re: Señor Casaroja's Noesis

Well I should really put some update of what I have managed, and I have done: Check this .txt file, I can open ever Red Dead Redemption file, and I can mod everything inside, I have got really far, and I wont release this program.


[http://www.mediafire.com/?57zg51ng9fk95g6](http://www.mediafire.com/?57zg51ng9fk95g6)
## Post #962
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-04-09T22:14:50+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from fantaseb
>
> Well I should really put some update of what I have managed, and I have done: Check this .txt file, I can open ever Red Dead Redemption file, and I can mod everything inside, I have got really far, and I wont release this program.


http://www.mediafire.com/?57zg51ng9fk95g6
So basically you came here for help and when you finally managed something you're giving everyone the middlefinger while trying to boost your E-peen?
## Post #963
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-04-09T23:17:11+00:00
- Post Title: Re: Señor Casaroja's Noesis

Of course, we're not going to bother helping him, why should he bother helping us?
We should be the ones that take the initiative to give him what he wants instead of him figuring out how to do it himself and making a contribution. If anything, his effort should be rewarded with money if we would like to use it.

> Reply from fantaseb
>
> Well I should really put some update of what I have managed, and I have done: Check this .txt file, I can open ever Red Dead Redemption file, and I can mod everything inside, I have got really far, and I wont release this program.


http://www.mediafire.com/?57zg51ng9fk95g6

Good job. See, instead of requesting someone to do something for you, it's much easier to just do it yourself!
Any nice screenshots of your work?
## Post #964
- Username: finale00
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2012-04-09T23:29:17+00:00
- Post Title: Re: Señor Casaroja's Noesis

red dead redemption files can be opened with noesis someone already reversed it.
the header is encrypted with aes key that i can post if needed and the rest of the file is zlib.
so he has done nothing special.
## Post #965
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-04-10T04:15:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

mmm... I was trying to unpack a data.cpk from Naruto shippuden ultimate storm generations with noesis and suddenly crashed.

It only extracted a few files.
## Post #966
- Username: finale00
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2012-04-10T05:33:19+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from fantaseb
>
> Well I should really put some update of what I have managed, and I have done: Check this .txt file, I can open ever Red Dead Redemption file, and I can mod everything inside, I have got really far, and I wont release this program.


http://www.mediafire.com/?57zg51ng9fk95g6

Good for you. Banned.
## Post #967
- Username: Farlavor
- Rank: beginner
- Number of posts: 24
- Joined date: Tue Apr 10, 2012 7:02 pm
- Post datetime: 2012-04-10T11:17:12+00:00
- Post Title: Re: Señor Casaroja's Noesis

Do you think that Noesis will support Invizimal model files?
and even Toriko Gourmet Survival model files?

I say that, becuz since some months. I extracted some model files from these games.

the Invizimal files seems compressed into PMF files, I tried wathever I could to preview them, but Noesis didn't read them succesfully.   

and about Toriko Gourmet Survival,
I found out that the files are compressed into PAC Files... I tried somehow to read pac files with files that somehow supports this format, but the problem is that somehow those files appears to be compressed in a different method or maybe those were encrypted.   

I tested 2 files that belongs to Terry Cloth model (I dunno the difference between them, but probably are a high poly and low poly model, I dunno exactly, but let's hope if I finally get the chance to extract them.)   

thanks for your attention.
## Post #968
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-04-10T15:14:25+00:00
- Post Title: Re: Señor Casaroja's Noesis

If you want something supported upload samples in the relevant forum and maybe someone will look into it.
## Post #969
- Username: dj082502
- Rank: mega-veteran
- Number of posts: 202
- Joined date: Wed Oct 13, 2010 10:47 am
- Post datetime: 2012-04-10T18:18:41+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Farlavor
>
> 
the Invizimal files seems compressed into PMF files, I tried wathever I could to preview them, but Noesis didn't read them succesfully.

MPK[PGD header] data is encrypted. JPCSP that can decrypted.
[viewtopic.php?f=10&t=2905&view=next](http://forum.xentax.com/viewtopic.php?f=10&t=2905&view=next)
## Post #970
- Username: finale00
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-04-10T19:12:10+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from finale00
>
> 1: I just read an article on bitmaps, pixel formats, and indexed palettes and feel enlightened, but how do I actually work with palettes in noesis? I see functions related to getting and applying palettes, but not sure how to use them in practice. I imagine one would have to parse a palette file to actually get the colors?

2: Also for mipmaps, while it probably isn't useful to import the smaller versions, is there a way to put all of the images together in one big image? Like the examples on wiki: http://en.wikipedia.org/wiki/Mipmap 

Then I can verify that the value I'm looking at it actually the mipmap count without having to scroll through the textures (which I just noticed you've implemented the scrolling feature lol)

3: it seems like RGB24 bitmaps might be compressed using RLE. Is there a way to quickly check if that's the case?

4: Bug report: Whenever noesis crashes it generates dozens of crash reports and automatically sends them.

1. Well, totally depends on what you want to do. Hopefully the descriptions of those methods in __NPReadMe.txt are straightforward enough. You'd have to give me a specific example of what you want to do if you want example usage from me though. And don't forget to look at the Quake 2 WAL script. It shows you how to apply a palette and get RGBA32 data back as well as how to apply a palette to RGBA32 and get back an array of idx8 in byte form.

2. Yes, but sadly it's not exposed to Python at the moment, it's only in native plugin land. (you can see its usage there in the Quake 2 MD2 plugin)

3. Based on what wikipedia says, only OS/2 bitmaps can support RLE at 24bpp, and Noesis doesn't support those. Otherwise, as for how to check for it, you'd have to consult with a real BMP spec.

4. Never had that happen before, it sounds like an exception in the exception handler or a thread that's throwing exceptions rapidly. It seems unlikely that it's actually sending them all though. I'll safeguard against it either way.

> Reply from Demonsangel
>
> UV and Triangles get drawn correctly but no lightmap shows up, nor the option to view LMUV like I can for UV.
Edit: Is there a way to add Lightmap UV without using rapi.imm ?
If you can't view LMUV in the data viewer, that means the lightmap material wasn't set, or there are no LM UV coordinates, which means for whatever reason they weren't fed in correctly. To feed LMUV's without imm mode, you can use rpgBindUV2Buffer.
## Post #971
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-04-10T20:23:45+00:00
- Post Title: Re: Señor Casaroja's Noesis

They both get the same UV buffer:
            rapi.immUV2s(vertBuff,16+idx*64)
            rapi.immLMUV2s(vertBuff,16+idx*64)

Noesis shows that the Lightmaps are set but I did notice that every Lightmap index == 0
I first appended all my normal materials to my matlist and then all my lightmap materials. Is that the problem?
Because as far as I can tell each mesh that needs a lightmap has one "set" and the material is in the matlist and it has the correct texture name.

Do I need a different matList than the one for the normal materials?
## Post #972
- Username: finale00
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-04-10T22:34:21+00:00
- Post Title: Re: Señor Casaroja's Noesis

The string you provide in rpgSetLightmap has to match the material's name string. Then the material's diffuse name string has to match the texture's name string...unless you're not providing textures. In which case I guess that would explain all of this. Noesis doesn't auto-load external lightmap textures as it does for diffuse maps. Didn't even think to mention that. If that's your issue after all, there's always the option of using tex = rapi.loadTexByHandler(yourImageFileLoadedAsBytes, ".the_probably_3_letter_extension_string_for_the_loader_you_want") to load the texture yourself. Then you put tex into a texList that you provide along with the material list when you create the material/texture container and attach it to the model. (whee)
## Post #973
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-04-11T14:18:07+00:00
- Post Title: Re: Señor Casaroja's Noesis

I had to load the textures manually, yes. That fixed it.
Edit: though I still can't view LMUV.
## Post #974
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-04-11T16:30:27+00:00
- Post Title: Re: Señor Casaroja's Noesis

Then, what do you see in place of this?
## Post #975
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-04-11T18:01:51+00:00
- Post Title: Re: Señor Casaroja's Noesis

It didn't appear untill I closed the data viewer and reopened it.
But now it's there.
## Post #976
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-04-11T18:19:46+00:00
- Post Title: Re: Señor Casaroja's Noesis

If a game's textures is known to use RGBA32 for their pixel format, and I can determine that by just width*height*4, and then when I look at some of their other textures but the size of the pixel data is (a lot smaller than) width*height*4, is there some clue to what kind of pixel format it might be?
## Post #977
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-04-11T20:44:16+00:00
- Post Title: Re: Señor Casaroja's Noesis

if size is dx*dy then could be dxt2-5. if size is dx*dy/2 (or was it by 4 I forget offhand) then could be dxt1. if size is a little larger then maybe mipmapped. other than those if size is not predictable then I look into the various tga or see if data deflates. but if they do use crap like png or jpg they usually include the header. after that then I give up lol.
## Post #978
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-04-11T21:00:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

Kinda depends on the platform. For 360/PS3/PC, DXT will be common, and the common sizes are as howfie just said. Sometimes you'll also see custom normal map formats like BC4/BC5, which correspond to noesis.FOURCC_ATI1 and noesis.FOURCC_ATI2. There is also a custom variant on DXT1 that I came across for normal storage which explicitly uses the full range to describe 2 color channels and the B/Z is calculated on the fly. I don't know if there's an official name for it or if they just rolled their own by decoding it in a pixel shader, but it's decodable with noesis.FOURCC_DXT1NORMAL. (I arbitrarily named it DT1N internally because I was too lazy to go digging to see if it was a standard) PSP games will also sometimes (but far more rarely) use DXT1-5.

Then there are other platforms with proprietary/less-common texture formats like PVRTC and VQTC. (which both come in 2bpp and 4bpp, VQTC being not quite exactly that due to the existence of a codebook which can also vary in size based on whether or not it's a mini-VQ image) And there's always the possibility that they're using a custom form of RLE or some other image compression or even a more elaborate custom wavelet-based compression or something. Those kinds of things are pretty much impossible to nail down based on size alone.

Otherwise you can look for r5g5b5p1/r5g6b5/etc., or 4bpp/8bpp paletted images are common across many platforms although not so much so with current-gen/next-gen data. Checking arbitrarily ordered/compacted color data is made easy with imageDecodeRaw, or imageDecodeRawPal if you have separate palette and pixel data.
## Post #979
- Username: Farlavor
- Rank: beginner
- Number of posts: 24
- Joined date: Tue Apr 10, 2012 7:02 pm
- Post datetime: 2012-04-11T23:11:16+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from finale00
>
> If you want something supported upload samples in the relevant forum and maybe someone will look into it.

oh yes... I have the files, but where may I send them?, can you provide me the link to that forum?

In Señor Casaroja Oasis page I can't find any forum. the only one I know that have any relevance with Noesis is this one...
## Post #980
- Username: leilei
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Tue Apr 10, 2012 7:09 am
- Post datetime: 2012-04-12T00:22:12+00:00
- Post Title: Re: Señor Casaroja's Noesis

Something's weird with MD3 export.  Vertex order? Normals? I don't know for sure.

Open Q3Team Arena's models\powerups\obelisk\obelisk.md3 and resave it as MD3.

The autoSprite2 planes break!
## Post #981
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-04-12T00:52:12+00:00
- Post Title: Re: Señor Casaroja's Noesis

He was referring to the 3D models/archives/etc. sections, whichever is appropriate to your request, here on Xentax. The Noesis thread isn't for requests, short of perhaps stuff related to core Noesis functionality, but even then whether I entertain those requests is up to my whim.

This does bring up an issue that I think should be addressed. As Mr.Mouse noted, the reason Google ad's were pulled is apparently because some Mass Effect thread from 2007 still had links to some game data on some file hosting service. Maybe those files got reported and that flagged Xentax because it had been linking to them, or maybe it was the other way around, who knows. But we need to stop linking to game data out in the open.

This is a tricky problem. I can't say I really condone passing game content around, but at the same time it can be convenient and not necessarily unlawful, because it's a lot easier to look at a few small files than it is to rip the entire game yourself, and making those links available to our members makes it easier for all of the programmers here to grab them instead of having our inboxes privately spammed with game content that we may or may not legally have access to already. Often, some of us may legally own the game but be out of town, be too lazy to go find/unpack the disc(s), or not have hardware on hand to view/extract the contents of the game, as is often the case with myself. I legally own Hyperdimension Neptunia for example, but would've been way too lazy to go rip files out of it to try untiling its pixel data, and the only reason I addressed that in the thread here the other week was because someone had thrown up links to a few of its textures.

I think that first and foremost it should become forum policy that no links to game data of any sort should be publicly visible. I'm not saying I condone the links at all but I think this is a huge step forward from where things stand now. It may be a good idea to just make all domain-external links visible to members only. I can't think of a good reason most links should be visible to non-members anyway. Second, it may be appropriate to direct first to an intermediate disclaimer when following links out to any known file hosting service, maybe even to any external link at all. This disclaimer can put responsibility for the download on the users themselves and force them to agree that they have legal right to be downloading whatever it is that they're downloading. I don't know if that's even possible if you consider the EULA and various regional laws, but the more important thing is removing the responsibility from Xentax. At the same time though I don't want this to come off as being merely a "covering our asses" attempt, as I personally think that we should strive to be compliant with various digital copyright laws as best we can as a matter of simple principle. There are various legitimate organizations coming forth these days with the goal of understanding and preserving the content and technology behind videogames (which is so often lost when companies get bought or go defunct), and I think Xentax has potential to have a legitimate and respected place among them if we can make more of an effort to prevent abuses in what we're actually trying to accomplish here. It's just a matter of trying not to destroy actual programming/development productivity while doing so. I also don't think it's a bad idea to set time limits for games and say that no content may be uploaded at all for games that are newer than x years old. I don't see that this would hinder modding attempts for new games in any way, because let's be honest, who is going to be writing an exporter for a game if they don't already own it? How else are you even gonna test your exported results?

On top of that, we should probably make links expire or something at some point. We don't need 5 year old links biting us in the ass, and if no one's looked at it and written tools after so long it's quite unlikely to happen that long after the fact.

I also understand that many of our users come from places where there is no real digital copyright law to speak of, but I think as a community and organization it should be our goal to strive for general legal compliance in as many places as we can, particularly as the propagation of digital copyright in various forms to many of those countries that haven't yet adopted it is in many cases inevitable in the coming century.

leilei: Autosprite2 planes? Is that dictated by some kind of surface flag or is it mangling actual geometry?

Edit: Another idea I like is to flag users as trusted coders, and only make files/file links available to them, or have a special tag for file links that only they can see. If you can prove that you wrote some useful tool for doing something or other with some data, you get to be flagged. Otherwise you have no place doing anything with that data because you aren't going to do anything productive (in the context of this forum's goals) with it. I'm sure there would be some resistance to this idea, but I see it as being very potentially effective.
## Post #982
- Username: leilei
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Tue Apr 10, 2012 7:09 am
- Post datetime: 2012-04-12T01:03:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> leilei: Autosprite2 planes? Is that dictated by some kind of surface flag or is it mangling actual geometry?

deformVertexes autosprite2 in the shader would make a plane appear rotated towards the camera by its length. Jedi Outcast of course, had a ton of these.

A mangled improper autosprite2 looks like a triangle.

Blender can't export a model with working autosprite2's either. Right now my only real business in using autosprite2 is producing muzzleflashes (along with autosprite) and rocket trails, since crossing two planes together seems ugly
## Post #983
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-04-12T01:05:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

I'm rather asking... screw it, just talk to me on Steam.
## Post #984
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-04-12T02:25:37+00:00
- Post Title: Re: Señor Casaroja's Noesis

Sounds good to me... there are only less than a dozen of us actively looking at games anyways so why post samples out in the open? people who want to request a game, instead of posting links to samples, can just make the request and say if anyone's interested pm me or something. Even I've posted a sample file here and there, mainly to jap games since i live in jap town... too lazy to go back and edit my posts though   . avoiding association with mediafire and the likes might be good thing.
## Post #985
- Username: Mr.Mouse
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2012-04-12T09:44:30+00:00
- Post Title: Re: Señor Casaroja's Noesis

@MrAdults. : Agreed. We will try and make this happen.
## Post #986
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-04-12T10:46:33+00:00
- Post Title: Re: Señor Casaroja's Noesis

Feature Suggestions:
#1 LightWave LWO2 support
#2 Left-Right arrow key recursive-folder decent model preview mode.

Why:
#1 Croteam uses lightwave, and so do a lot of japanese developers. It's an easy chunk format. I can provide samples and the most recent SDK docs, which are kind of outdated a little. There are also some undocumented chunks (like for per-vertex normals).
#2 I am currently working on batching One Piece, which, after ripping, has like over 6,000+ models in several thousand directories. Man it would be nice to have a program where you can just say: here is a directory, load the filenames for all models in this directory and all its subdirectories and when you press the left or right arrow key it moves to the next (or previous) model preview. Kind of like Irfranview does with images but without that annoying dialog when you come to the end of the current directory. I can give you my subdirectory scanner code written in win32 if you want it to save you some time.
#3 He he he I'm lazy... I should probably coding this myself lol   . Every time I start programming with D3D, COM makes me want to kill myself.
## Post #987
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2012-04-12T11:01:08+00:00
- Post Title: Re: Señor Casaroja's Noesis

I see a lot of sites make it impossible to directly link to external content and rather link to a redirecting service such as [http://anonym.to/en.html](http://anonym.to/en.html) this one is a really good one and combined with no non members seeing links I think we would be good.
## Post #988
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-04-12T11:03:50+00:00
- Post Title: Re: Señor Casaroja's Noesis

like porn sites?
## Post #989
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-04-12T14:26:16+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from chrrox
>
> I see a lot of sites make it impossible to directly link to external content and rather link to a redirecting service such as http://anonym.to/en.html this one is a really good one and combined with no non members seeing links I think we would be good.

How about a page that every outgoing links gets directed to, which will control who can access what links.
And then slap on some ads there lol
## Post #990
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-04-12T16:42:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

In anonym.to they have this java code to protect all the links you have:

```

<script type="text/javascript"><!--
protected_links = "";

auto_anonymize();
//--></script>

```


I don't know if this could be useful.

Also there are services like this where you paste your links and you have to open the page, copy the adress and paste it in your web browser adress  bar:

[http://paste2.org](http://paste2.org)

Edit:

Why not using the code tag to wrap the link??

```
http://www.mediafire.com/?0efxew95j5w15u7
```
## Post #991
- Username: Mr.Mouse
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2012-04-12T21:25:58+00:00
- Post Title: Re: Señor Casaroja's Noesis

Code tags are not the point. We will aim not to have any links to game files that may be copyrighted in public. 
The rules have been updated:
[viewtopic.php?f=28&t=1270](http://forum.xentax.com/viewtopic.php?f=28&t=1270)
## Post #992
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-04-12T22:44:20+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Mr.Mouse
>
> Code tags are not the point. We will aim not to have any links to game files that may be copyrighted in public. 
The rules have been updated:
viewtopic.php?f=28&t=1270

Ok, So If I have a request then It must be via PM. At least my own requests were free for whoever wanted to take it and I know that sending and sending PM's to chrox or Rich is anoying for them (I know it, I'm a super moderator from another videogames site). At least I want to learn to do this by myself.

But I'd rather this than shuttindown the forums.

Also, thanks for you attention mr. mouse.
## Post #993
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-04-13T00:21:11+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from howfie
>
> Feature Suggestions:
#1 LightWave LWO2 support
#2 Left-Right arrow key recursive-folder decent model preview mode.

Why:
#1 Croteam uses lightwave, and so do a lot of japanese developers. It's an easy chunk format. I can provide samples and the most recent SDK docs, which are kind of outdated a little. There are also some undocumented chunks (like for per-vertex normals).
#2 I am currently working on batching One Piece, which, after ripping, has like over 6,000+ models in several thousand directories. Man it would be nice to have a program where you can just say: here is a directory, load the filenames for all models in this directory and all its subdirectories and when you press the left or right arrow key it moves to the next (or previous) model preview. Kind of like Irfranview does with images but without that annoying dialog when you come to the end of the current directory. I can give you my subdirectory scanner code written in win32 if you want it to save you some time.
#3 He he he I'm lazy... I should probably coding this myself lol   . Every time I start programming with D3D, COM makes me want to kill myself.
Yeah, I've actually had LWO+LWO2 support on my todo list for years now, and it's constantly getting juggled down. Since someone other than me actually cares about it, I'll push it back up in the list. I'd appreciate any code/docs you could give me to help out too, yeah. I'm not sure if I'll bother with LWO1 export but I'd still like to make it importable, and I have no idea if there are already reliable specs for that floating around or provided by NewTek. Sample data would be great too, I don't know if I have any software installed that can produce LWO1/2 files. Especially 1.

You're saying you want an interface that just gives you a left/right arrow option for basically enumerating all the files in an entire directory structure? I've got a generic "get files in folder" function with optional recursion in Noesis already, but I think most of the work would be interface-related. I don't think left/right would really be sufficient, especially when you're dealing with thousands of files, and it's kind of a natural desire from there to want to have thumbnail previews and it becomes a whole thing. Otherwise just having that very basic functionality in Noesis would be kinda weird. Although I do think having a robust version of it with cached thumbnails and all would be cool, it's more potentially work than I'd like to bite off at the moment.

I think I have an easier fix for what you want to do though: Write a quick script to scan that whole directory hierarchy and copy off all the models into a single directory, then you can just browse them all in Noesis hitting down/up+enter in the file list view. I've done that before myself (but manually copied the files over) when I just want to run through all the models in a game real fast in Noesis to make sure they all load and look right. Python and its core libs could make short work of the task, and it would be something you only need to write once, if you make it nice and robust and capable of handling dependent files and name collisions.

> Reply from Mr.Mouse
>
> @MrAdults. : Agreed. We will try and make this happen.
I'm happy to see such quick turnaround, thanks Mr.Mouse.
## Post #994
- Username: s25jin
- Rank: n00b
- Number of posts: 12
- Joined date: Sat Oct 15, 2011 1:11 am
- Post datetime: 2012-04-14T14:13:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

Dragon Nest ".msh" don't support any more?
could u check file please
## Post #995
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-04-14T17:38:33+00:00
- Post Title: Re: Señor Casaroja's Noesis

Nothing wrong with noesis, I just never parsed bones associated with each mesh.
## Post #996
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-04-16T16:12:14+00:00
- Post Title: Re: Señor Casaroja's Noesis

My friend's a mac user and is interested in noesis for model viewing.
I don't know anything about mac's so I'm not sure what kind of tools are already available.

Any support there? lol
## Post #997
- Username: shadowmoy
- Rank: veteran
- Number of posts: 153
- Joined date: Sat Feb 21, 2009 9:29 pm
- Post datetime: 2012-04-16T18:35:18+00:00
- Post Title: Re: Señor Casaroja's Noesis

mrAdult> hi there , i just tried the chrrox py script for reorc xpr textures loading and exported the normal map and specular map to tga and the red and alpha channels seems swaped , so i was wondering if there is an instruction in noesis that i can add to the py script to do it after ?
## Post #998
- Username: shadowmoy
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-04-17T22:26:10+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from finale00
>
> My friend's a mac user and is interested in noesis for model viewing.
I don't know anything about mac's so I'm not sure what kind of tools are already available.

Any support there? lol
I've had it running in some version of Darwine under OSX before. That was years ago though. No idea what version it was or if it still works.

> Reply from shadowmoy
>
> mrAdult> hi there , i just tried the chrrox py script for reorc xpr textures loading and exported the normal map and specular map to tga and the red and alpha channels seems swaped , so i was wondering if there is an instruction in noesis that i can add to the py script to do it after ?
Something like finalRGBA32 = rapi.imageNormalSwizzle(rapi.imageDecodeDXT(imgBytes, imgW, imgH, dxtFormat), imgW, imgH, 1, 0, 0) where the 1 is the flag to swap red and alpha. The other 0's are "derive blue/z" and "signed" (where the source data should be considered signed bytes), set them to 1 if you need them.
## Post #999
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-04-18T05:39:59+00:00
- Post Title: Re: Señor Casaroja's Noesis

Which constant do I use for DXT2 or DXT4? lol
## Post #1000
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-04-19T20:33:31+00:00
- Post Title: Re: Señor Casaroja's Noesis

3 and 5, the only difference is alpha pre/post multiply.
## Post #1001
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2012-04-20T16:37:39+00:00
- Post Title: Re: Señor Casaroja's Noesis

MrAdults, can you add support for sniper elite 2, the formats the same as in avp2010, but noesis didn't load them properly
btw demo is out now, and model looks pretty cool 

edit: also can you make option to make screenshot everytime noesis opens model with same name in same folder? it will be usefull 'thumbnail pic' for games that have hundreds of detailed models like 'red dead redemption' and 'dark souls'
it may be a 'check box' in settings

or it may be a batch process for selected folder, recursive

edit2: also can you make somewhere in ui box with information about poly/vertexcount in loaded model?

regards
## Post #1002
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-04-21T22:10:25+00:00
- Post Title: Re: Señor Casaroja's Noesis

In command-line mode, can I pass in a list of files to export?

eg:

```

```


Where the output filename is the same as the input filename, except with the output format as the extension.

So I can pass in a bunch of images to convert.

I just looked at some GMO files and the model is stored separately from the animation.
Do I have to write a .noesis file to load a model and animations and then tell the model to use those animations?
## Post #1003
- Username: REfan
- Rank: advanced
- Number of posts: 62
- Joined date: Thu Apr 05, 2012 10:42 pm
- Post datetime: 2012-04-22T23:29:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

Mr Adults, your REORC ssg extraction script wouldn't extract the whole objects of stage files. it just extracts the first model of stage ssg files and skips the rest and then extracts the whole textures. I think it's because the cmpsize of the rest of stage models are negative so that your script skips them. you have assumed in your script that the data with a negative cmpsize is stored somewhere else   . it's really strange and I think all the data must be in the same file. so, can you please take a look at it and tell me how the script can be fixed to extract the whole stage models just like the textures?
## Post #1004
- Username: Devilot
- Rank: ultra-veteran
- Number of posts: 443
- Joined date: Tue Sep 07, 2010 5:12 pm
- Post datetime: 2012-04-23T19:40:06+00:00
- Post Title: Re: Señor Casaroja's Noesis

I don't know why, but Noesis cannot use its extract function for some games: Crisis Core, the Metroid Prime series. I am on a 64x system. What could be the problem?
## Post #1005
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-04-24T21:56:57+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Tosyk
>
> MrAdults, can you add support for sniper elite 2, the formats the same as in avp2010, but noesis didn't load them properly
btw demo is out now, and model looks pretty cool
No...that would be revelation's area, he made the avp plugin.

> Reply from Tosyk
>
> also can you make option to make screenshot everytime noesis opens model with same name in same folder? it will be usefull 'thumbnail pic' for games that have hundreds of detailed models like 'red dead redemption' and 'dark souls'
it may be a 'check box' in settings
This just sounds like a variant on what I just discussed above and decided against doing currently because it's a good chunk of effort.

> Reply from Tosyk
>
> edit2: also can you make somewhere in ui box with information about poly/vertexcount in loaded model?
That info is already displayed in the data viewer.

> Reply from finale00
>
> In command-line mode, can I pass in a list of files to export?
Nope. I recommend setting up a batch file that invokes Noesis as many times as you need.

> Reply from finale00
>
> I just looked at some GMO files and the model is stored separately from the animation.
Do I have to write a .noesis file to load a model and animations and then tell the model to use those animations?
What I usually do is drag-and-drop the animation GMO onto the loaded model and apply it to the current scene, then export from preview. You can accomplish the same thing via commandline with the "-loadanim" option though.

> Reply from REfan
>
> Mr Adults, your REORC ssg extraction script wouldn't extract the whole objects of stage files. it just extracts the first model of stage ssg files and skips the rest and then extracts the whole textures.
I was aware of problems with the stride in uncompressed files and just didn't care to fix it. I don't know what the correct approach there is. Feel free to investigate yourself. Or bring it up with someone else who might care about that game. I don't ever plan to fully support it (that's why it isn't included in Noesis core distributions to begin with) and given the open nature of the scripts anyone is free to fix any problems that come up with it.

> Reply from Devilot
>
> I don't know why, but Noesis cannot use its extract function for some games: Crisis Core, the Metroid Prime series. I am on a 64x system. What could be the problem?
I dunno, working fine for me on Win7 x64. (and Noesis is a 32-bit app anyway, so being on x64 doesn't really matter) "cannot use" isn't very descriptive and doesn't tell me where or how it's failing.
## Post #1006
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-04-24T22:04:54+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Nope. I recommend setting up a batch file that invokes Noesis as many times as you need.

Everytime noesis starts up it has to go through the whole initialization sequence.
Is there a way to make it so that noesis doesn't close automatically after it finishes exporting so that it can start reading other files immediately?
## Post #1007
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-04-24T23:56:47+00:00
- Post Title: Re: Señor Casaroja's Noesis

Nope. Initialization time in commandline mode should be fairly trivial though. Removing plugins and scripts you don't need might help startup time if you're seeing it take a while.
## Post #1008
- Username: dragbody
- Rank: veteran
- Number of posts: 126
- Joined date: Tue Sep 20, 2011 11:33 am
- Post datetime: 2012-04-25T15:28:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

Mr. Adults,

Amazing work with Noesis. I've said it before, but I literally use your program every day. Thank you so much.

I'm wondering if you might find the time to examine the gmd and ttgl files from Ninja Gaiden 3. Noesis works so well with the gmd files from Ninja Gaiden 2. Also, I asked a while back about the possibility of making Noesis compatible Lost Planet 2 files. It works wonderfully with Lost Planet files of the same file extension. If you've already answered this question and I missed your response, I apologize. 

You can PM me if you need more information. If these things are not items you will be able to find time to work on, I will completely understand and I will only remain greatful for everything you've already done.

Best regards,
dragbody
## Post #1009
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-04-26T19:28:18+00:00
- Post Title: Re: Señor Casaroja's Noesis

Maybe I will finally sit down and use those bones/animations functions
## Post #1010
- Username: viperzerofsx
- Rank: veteran
- Number of posts: 95
- Joined date: Thu May 27, 2010 12:07 pm
- Post datetime: 2012-04-27T11:27:10+00:00
- Post Title: Re: Señor Casaroja's Noesis

could you possibly add brres support? it would make it a lot easier with games like Resident evil that don't have a centralized archive and that need to be shuffled back and forth between noesis and brresviewer
## Post #1011
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-04-27T15:09:46+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from finale00
>
> Maybe I will finally sit down and use those bones/animations functions
Please do, I could use some help.
## Post #1012
- Username: sims
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Sat Apr 28, 2012 3:47 pm
- Post datetime: 2012-04-28T07:59:02+00:00
- Post Title: Re: Señor Casaroja's Noesis

What an amazing program, you have saved me so much time creating new assets, thank you   I have been trying to convert some new assets I have created and having some problems converting .FBX files (exported from LW9.6) to Q1 MDL format. Noesis can view the FBX files fine but when I convert them to MDL format I get various UV errors. (I checked the MDL file in noesis) I am not sure where to send any example files or if you want anymore details. PM if you want some example files.
Thanks
Sims
## Post #1013
- Username: leilei
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-04-29T09:40:19+00:00
- Post Title: Re: Señor Casaroja's Noesis

No, I don't currently plan to support any additional current/next-gen titles in Noesis.

> Reply from sims
>
> Noesis can view the FBX files fine but when I convert them to MDL format I get various UV errors.
I would guess you're trying to convert models which extend beyond a 0,1 UV range, which the MDL format doesn't support.
## Post #1014
- Username: Nexus Elite
- Rank: n00b
- Number of posts: 17
- Joined date: Sat Apr 16, 2011 1:36 am
- Post datetime: 2012-04-29T22:56:44+00:00
- Post Title: Re: Señor Casaroja's Noesis

Do have plan to support Lost planet 2 files?
## Post #1015
- Username: dragbody
- Rank: veteran
- Number of posts: 126
- Joined date: Tue Sep 20, 2011 11:33 am
- Post datetime: 2012-04-30T03:20:50+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Nexus Elite
>
> Do have plan to support Lost planet 2 files?

I asked this question just a few posts up and it looks like the answer is no.
## Post #1016
- Username: Devilot
- Rank: ultra-veteran
- Number of posts: 443
- Joined date: Tue Sep 07, 2010 5:12 pm
- Post datetime: 2012-05-01T06:54:26+00:00
- Post Title: Re: Señor Casaroja's Noesis

more detailed report:
-when clicking on Crisis Core ISO, it says it might be exportable but does not export nothing
-when clicking on Crisis Core package (discimg.pkg) gives error message: file could not be previewed
-when clicking on MEtroid Prime .pak files, it creates a lot of folders and files but no models usable by Noesis.

could this be the fault of game edition (PAL, NTSC)?
## Post #1017
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-05-01T18:27:21+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Devilot
>
> when clicking on Crisis Core ISO, it says it might be exportable but does not export nothing
Noesis supports data extraction on a variety of filesystems with the .iso extension, but generally only proprietary stuff because I saw no point in putting forth the effort due to the existing wide base of support for those generic filesystems. PSP images generally use a generic filesystem like ISO9660 and can be extracted with anything that has general ISO support. I use WinRAR.

> Reply from Devilot
>
> when clicking on Crisis Core package (discimg.pkg) gives error message: file could not be previewed
Works fine for me, I just extracted it with the latest Noesis. You need to have discimg.fse and discimg.pkg in the same directory.

> Reply from Devilot
>
> when clicking on MEtroid Prime .pak files, it creates a lot of folders and files but no models usable by Noesis.
Well that's just misleading, Noesis not supporting archive contents doesn't mean the extraction is broken. Sounds like the extraction is working fine. I just never got around to writing support for the various MP games' models+textures into Noesis. Which anyone with coding ability could do via plugins because the MP viewer revelation worked on a while ago is opensource.
## Post #1018
- Username: Devilot
- Rank: ultra-veteran
- Number of posts: 443
- Joined date: Tue Sep 07, 2010 5:12 pm
- Post datetime: 2012-05-01T20:28:54+00:00
- Post Title: Re: Señor Casaroja's Noesis

AH ok. FFX iso works fine, tho.

I did not know about the .fse file, that is probably why it won't work.

ah, sorry about the MP games. I thought that extraction meant also visualization (wasn't there also a pic on your main page of some MP models?). my bad. thanks for the support.
## Post #1019
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-05-04T17:20:51+00:00
- Post Title: Re: Señor Casaroja's Noesis

Yeah, FFX has a proprietary filesystem on top of the standard ISO 13346 UDF. Noesis extracts the proprietary filesystem part.
## Post #1020
- Username: ratonilo
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Sat May 05, 2012 8:20 am
- Post datetime: 2012-05-05T01:55:48+00:00
- Post Title: Re: Señor Casaroja's Noesis

can noesis read the iso file?   or should the data be extracted first? and how?  
I have doax2 iso  should I extract data first? which tool to use? thanks
## Post #1021
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-05-05T04:27:32+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from ratonilo
>
> can noesis read the iso file?   or should the data be extracted first? and how?  
I have doax2 iso  should I extract data first? which tool to use? thanks

Noesis actually extracts whaterever 360's iso and Doax2's afs.

See ya.
## Post #1022
- Username: leilei
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Tue Apr 10, 2012 7:09 am
- Post datetime: 2012-05-05T05:25:31+00:00
- Post Title: Re: Señor Casaroja's Noesis

I wonder what the command-line syntax for loading additional meshes to input as LODs for exporting to MDR could be

noesis.exe ?cmode lower.iqm+lower_1.iqm+lower_2.iqm lower.mdr -mdrbtag "tag_torso;tag_torso" 

?
## Post #1023
- Username: kawayide
- Rank: beginner
- Number of posts: 37
- Joined date: Wed Nov 09, 2011 9:03 am
- Post datetime: 2012-05-07T05:43:02+00:00
- Post Title: Re: Señor Casaroja's Noesis

The math functoin Math_RotateMatrix in noesis plugin is not the same as OpenGL?

for example:

modelMatrix_t mat = RichMat43().m;
g_mfn->Math_RotateMatrix(&mat, 60, 0, 0, 1);
g_mfn->Math_RotateMatrix(&mat, 45, 0, 1, 0);
g_mfn->Math_RotateMatrix(&mat, 30, 1, 0, 0);

won't got same 'mat' as opengl.
## Post #1024
- Username: oliveirapower
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Tue May 08, 2012 10:00 am
- Post datetime: 2012-05-08T02:38:20+00:00
- Post Title: Re: Señor Casaroja's Noesis

Greatings MrAdults,


The first time I´ve tried noesis I successfully manage to extract umvc3 characters, but  now i cont do it because the boxes of Main output file, aditional output file and Aditional animation file are always in grey and don´t show anything.

thks
## Post #1025
- Username: leilei
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Tue Apr 10, 2012 7:09 am
- Post datetime: 2012-05-11T01:07:26+00:00
- Post Title: Re: Señor Casaroja's Noesis

BTW I got around my autosprite2 production problem by exporting an OBJ from Blender then using Noesis to make that an MD3. [It's working now](http://leileilol.mancubus.net/models/autosprite2pvr.jpg).
## Post #1026
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-05-11T01:45:00+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from leilei
>
> I wonder what the command-line syntax for loading additional meshes to input as LODs for exporting to MDR could be

noesis.exe ?cmode lower.iqm+lower_1.iqm+lower_2.iqm lower.mdr -mdrbtag "tag_torso;tag_torso" 

?
There's no LOD support for MDR export, I was too lazy to write it.

> Reply from kawayide
>
> The math functoin Math_RotateMatrix in noesis plugin is not the same as OpenGL?

for example:

modelMatrix_t mat = RichMat43().m;
g_mfn->Math_RotateMatrix(&mat, 60, 0, 0, 1);
g_mfn->Math_RotateMatrix(&mat, 45, 0, 1, 0);
g_mfn->Math_RotateMatrix(&mat, 30, 1, 0, 0);

won't got same 'mat' as opengl.
The 43 has swapped row/column order. RichMat44 will however behave that same as OpenGL matrices in its rotation operations, then if you want you can convert that to a 43 which will swap row/column order for you.
## Post #1027
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-05-19T03:40:10+00:00
- Post Title: Re: Señor Casaroja's Noesis

And noesis page?? I just wanna know 

Never mind, I want to access to noesis page like this:

[http://oasis.xentax.com](http://oasis.xentax.com)

It doesn't load the page, but it's different qhen I try this:

[http://oasis.xentax.com/index.php?content=home](http://oasis.xentax.com/index.php?content=home)

Just check this pls.

See ya.
## Post #1028
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-05-20T20:16:39+00:00
- Post Title: Re: Señor Casaroja's Noesis

Both work fine for me.
## Post #1029
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2012-05-21T11:50:45+00:00
- Post Title: Re: Señor Casaroja's Noesis

[http://www.youtube.com/watch?v=MfJ4pA8ngDo](http://www.youtube.com/watch?v=MfJ4pA8ngDo)  MrAdults please incorporate this when it's available... its a poseable mannequin that can do any pose that you can imagine. much better than kinect. for impossible hwoarang kicks...
## Post #1030
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-05-22T00:49:49+00:00
- Post Title: Re: Señor Casaroja's Noesis

I'll wait until someone decided to produce mannequins that looks like actual people
## Post #1031
- Username: itoikenza
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-05-22T21:49:17+00:00
- Post Title: Re: Señor Casaroja's Noesis

I'd be happy to, if you wanna send me all of the accompanying hardware.
## Post #1032
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2012-05-23T01:45:14+00:00
- Post Title: Re: Señor Casaroja's Noesis

it's a deal. i hope you're serious cause i am. do you have a paypal? cause i'll just send you the $750 to get it... just give me 2 months after it's released...
## Post #1033
- Username: itoikenza
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-05-23T02:27:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

I don't generally accept donations in the context of Noesis, because I don't want it biting me in the ass at any point. But since this is for a real above-the-board feature that will be used for legitimate development purposes... if you're willing to cover all of my costs and let me keep the hardware, then sure, I'll buy one and take a stab at implementing it in Noesis. It should function pretty much the same as the existing Kinect interface, but I'll probably want to add a feature to snapshot 1 frame at a time instead of only having the stream-recording option that the Kinect interface has. There's a link to my paypal [here](http://www.richwhitehouse.com/index.php?content=inc_about.php). Check with me again before you actually donate, though, to make sure my schedule is still clear when the time comes. Unless you're fine with donating and potentially having to wait some number of months for me to get around to doing it.
## Post #1034
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2012-05-23T14:37:13+00:00
- Post Title: Re: Señor Casaroja's Noesis

Great. I wont let you down & sure i'll let yah keep it. I'm patient. I can wait until you're ready & they release it. Hopefully the price'll go down to kinect's. I'll send you a pm when i'm ready to send you the funds. And of course i'll send you enough to cover all expenses including Express shipping. 

on the side could you look into adding support for legend of legaia. (psx) cause there aren't any ripper/viewers out there for this game. maybe you can make noesis also able to rip in-battle models directly from the bin.
## Post #1035
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2012-05-27T13:40:36+00:00
- Post Title: Re: Señor Casaroja's Noesis

sorry for the double post. but i wanna know if this is what i need for kinect+noesis via x86 xp & vista? primesense-win32-fullinstaller-redist-20.4.2.20.exe 

also i wanna know which adapter is the right one for connection to a pc?

edit: MrAdults i really like that snapshot feature (for frame by frame animatin'), could you incorporate that into the kinect interface. if it's already there. thanks...

edit 6/1/12: did i kill this thread or sumthin? Anyway MrAdults can you or anyone help me resize masamune from duodecim to fit paine's model? what's the command for "size"? in .noesis files?

NOESIS_SCENE_FILE
version 1
physicslib		""
defaultAxis		"0"
sharedAnims		"1"

object
{
	model		"paine.ffm"
	offset		"(0 0 0)"
	rotate		"(0 0 0)"
}
object
{
	model		"masamune.gmo"
	offset		"(0.162757 -0.290578 0.013957)"
	rotate		"(800 800 300)"
}


now i got kinect to work [http://dl.dropbox.com/u/50488782/kinect.png](http://dl.dropbox.com/u/50488782/kinect.png) on noesis but i'm having a hell of a time mapping out all the bones. could someone provide me with a .noekin model for ff7ac cloud (from first dissidia)  pm me if you really wanna "help" !
## Post #1036
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-06-10T01:31:59+00:00
- Post Title: Re: Señor Casaroja's Noesis

So I started writing in native code rather than python, but I didn't really like C++ so I went to C# lol
Does noesis API only support C++?
## Post #1037
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2012-06-12T00:30:53+00:00
- Post Title: Re: Señor Casaroja's Noesis

since i dropped my kinect (from on top a door OUCH!)  it seems to be acting wonky. since it only cost me $46. i guess i'll buy a brand new one next time. if qumarion doesn't come out by then!? anyway could you MrAdults make a more intuitive data viewer in respect to the bone angle offset manip. it's a pain guessin' the angle degrees. if one could just manip. the bones with the mouse. or arrow keys. that would solve everything... also a frame by frame save feature would be nice. i seem to be the only one expecting this kind of control from your program. when quma releases that should solve all my problems, especially when you get your hands on one and hopefully make an exporter to whatever format it's apps use, if you can't incorporate it's interface... Thanks.
## Post #1038
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2012-06-16T15:35:27+00:00
- Post Title: Re: Señor Casaroja's Noesis

MrAdults, have u been working with dragon's dogma?
looks like it has openable .mod files, also latest noesis can convert some of textures
## Post #1039
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-06-16T20:20:01+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from itoikenza
>
> sorry for the double post. but i wanna know if this is what i need for kinect+noesis via x86 xp & vista? primesense-win32-fullinstaller-redist-20.4.2.20.exe

also i wanna know which adapter is the right one for connection to a pc?
I actually updated Noesis to OpenNI 1.5, but I haven't released a build with that. I'll link the new appropriate driver+OpenNI+NITE package here after I get the build out. I don't know when I'll get around to that though. Hopefully soonish.

> Reply from itoikenza
>
> MrAdults i really like that snapshot feature (for frame by frame animatin'), could you incorporate that into the kinect interface. if it's already there. thanks...
I plan to, yeah. It isn't there right now.

> Reply from itoikenza
>
> did i kill this thread or sumthin? Anyway MrAdults can you or anyone help me resize masamune from duodecim to fit paine's model? what's the command for "size"? in .noesis files?
I haven't been ignoring it, I just got back from a week in Hawaii, and before that I'd spent a week in Palm Springs. And now that I've spent 2 weeks being irresponsible and having fun, I need to do actual work stuff again here soon. So don't be surprised if I disappear again for a bit. But anyway, you might play around with the -scale option when processing the weapon model, but it's quite possible that will also undesirably modify the bolt offset. Probably not though, it looks like it's meant to be bolted in from the origin.

> Reply from finale00
>
> So I started writing in native code rather than python, but I didn't really like C++ so I went to C# lol
Does noesis API only support C++?
Well, you have native plugins (C/C++, or anything you want that compiles to native Windows binary really), and Python. If you want anything else, that means adding support for that particular framework via native plugin yourself. You could certainly write a module to act as a C# managed framework host much in the same way that the Python plugin works, but it's going to be a pretty involved thing.

> Reply from itoikenza
>
> since i dropped my kinect (from on top a door OUCH!)  it seems to be acting wonky. since it only cost me $46. i guess i'll buy a brand new one next time. if qumarion doesn't come out by then!? anyway could you MrAdults make a more intuitive data viewer in respect to the bone angle offset manip. it's a pain guessin' the angle degrees. if one could just manip. the bones with the mouse. or arrow keys. that would solve everything...
Select a bone in the data viewer, then over the model preview, hold shift+left mouse and move the mouse around. It will modify the selected bone's rotation offset. As for individual frame export from the in-preview bone transforms, maybe at some point.

> Reply from Tosyk
>
> MrAdults, have u been working with dragon's dogma?
looks like it has openable .mod files, also latest noesis can convert some of textures
I've never heard of it.
## Post #1040
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2012-06-17T01:48:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Tosyk wrote:MrAdults, have u been working with dragon's dogma?
looks like it has openable .mod files, also latest noesis can convert some of textures
I've never heard of it.it uses MT Framework engine, do u want i provide u with samples?
## Post #1041
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2012-06-20T01:32:14+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> you might play around with the -scale option when processing the weapon model, but it's quite possible that will also undesirably modify the bolt offset. Probably not though, it looks like it's meant to be bolted in from the origin.

-scale    "(Please tell me, What in the world do i type in here?)"

also how can i make her hold it at the top. (not in the middle)

Scratch Dat! i got the ff7 buster sword from ffx 
which is pretty sweet. but it aint bound to her left hand when i rotate. Any way to bind objects? also i can't even move the weapon around. if i could i'd just grin and bear with it, which does have the advantage of being wielded by either hand or thrown.
## Post #1042
- Username: Rimbros
- Rank: ultra-veteran
- Number of posts: 495
- Joined date: Fri Jul 09, 2010 7:23 am
- Post datetime: 2012-06-21T10:08:26+00:00
- Post Title: Re: Señor Casaroja's Noesis

Anyone have a clearly guide abouth i can mad a .noekin bones structure, i have a game with specific skeleton and i want put this in kinect then load and made my hown animations and write this animations in smd or any redeable format, this guide can be very usefully.
## Post #1043
- Username: Rimbros
- Rank: ultra-veteran
- Number of posts: 495
- Joined date: Fri Jul 09, 2010 7:23 am
- Post datetime: 2012-06-27T19:42:18+00:00
- Post Title: Re: Señor Casaroja's Noesis

and 7 days before without answer, we can consider this abandoned treadh i think
## Post #1044
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-06-28T10:44:24+00:00
- Post Title: Re: Señor Casaroja's Noesis

Are you kidding me? He even said he might vanish for a while because he had a lot of work to do.

And I can't even understand half of what you're trying to say.
## Post #1045
- Username: Rimbros
- Rank: ultra-veteran
- Number of posts: 495
- Joined date: Fri Jul 09, 2010 7:23 am
- Post datetime: 2012-06-29T03:45:02+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Demonsangel
>
> Are you kidding me? He even said he might vanish for a while because he had a lot of work to do.

And I can't even understand half of what you're trying to say.

I say where i can found a guide to made my skeletons or map my skeletons to be compatible with Noesis.
I have kinect but i want put inside my hown skeleton, then made animations with the skeleton i made and finally save the animation.
## Post #1046
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2012-07-02T22:43:59+00:00
- Post Title: Re: Señor Casaroja's Noesis

any way to blend the ffx buster sword with this frame in the background, cause my kinect unstable drivers is driving me bonkers. and i wanna replace the ****** in my hand with said model!?
## Post #1047
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-07-03T19:28:07+00:00
- Post Title: Re: Señor Casaroja's Noesis

Does anyone have a noesis script where a model gets exported? I'm trying to write an exporter but I don't know how to access all the data.
## Post #1048
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2012-07-03T19:29:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

there is an example in the noesis program.
__NPExample.txt
## Post #1049
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-07-03T19:32:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

Yeah I found it, I turned it into .py but removed the writemodel part ^^
Forgot I did that so figured the .txt would be the same.
## Post #1050
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-07-04T13:49:11+00:00
- Post Title: Re: Señor Casaroja's Noesis

Ok so my exporter works but I have 1 issue I'm not sure how to solve.

The model and the armature are seperate files and it seems during export out of Noesis in fbx or dae the boneID's get changed around and they won't match the ID's in the armature anymore.

I guess eventually I will have to export the armature at the same time, but that's currently not an option due to a prefex for each bone which is unkown to me.

I was thinking of making the exporter look for armature files in the folder where the tobe-exported file and match (if >1 armature file) numBones and then parse that file for bone names and ID's and export the model using this dictionary.

Does anyone know a better way to do this, because I see a few problems for both ways eventually.
1) more models are linked to the original armature so they would need to be changed as well (not really an option)
2) you always need an armature with the file to export -> sometimes multiple armature files for same group of monsters and they're not always named "rig."

Edit: I guess if there is no other way it might be best to create a direct blender importer.
## Post #1051
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-07-06T19:09:57+00:00
- Post Title: Re: Señor Casaroja's Noesis

Looked through the readme on palettes but there doesn't seem to be anything about passing a bytearray representing a color palette and then applying that to a color map to generate an rgba32 image.

[viewtopic.php?f=18&t=9214](http://forum.xentax.com/viewtopic.php?f=18&t=9214)

Anything I can do in noesis to avoid manually processing it?
Or maybe you can suggest something that's more effiicient than

```

pixData = bytes()
for i in range(numPixels):
   index = readUByte()
   pixData = b''.join([pixData, palette[4*index : 4*index + 4]])

```


Which can take a long time depending on the size of the image lol
## Post #1052
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2012-07-06T20:06:12+00:00
- Post Title: Re: Señor Casaroja's Noesis

the quake format uses a pallet.
fmt_quake2_wal.py
## Post #1053
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-07-06T20:33:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

Oh imageDecodeRawPal there we go.
Now I just have to figure out why it's not showing anything LOL

EDIT: alpha was 0 for all the colors and I specified that alpha was used...
## Post #1054
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-07-07T03:38:03+00:00
- Post Title: Re: Señor Casaroja's Noesis

Image data alignment in noesis?

[viewtopic.php?p=75244#p75244](http://forum.xentax.com/viewtopic.php?p=75244#p75244)
## Post #1055
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2012-07-09T00:06:48+00:00
- Post Title: Re: Señor Casaroja's Noesis

I can't wait for you MrAdults to come out of hiatus... cause i found my new favorite char. Atelier Ayesha's Linca!?

 wish for support for this like crazy...
## Post #1056
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-07-09T19:12:53+00:00
- Post Title: Re: Señor Casaroja's Noesis

Damage values don't match epic animations.
I wonder if someone's written any importers for games from the series.
## Post #1057
- Username: rexil
- Rank: veteran
- Number of posts: 124
- Joined date: Tue Mar 15, 2011 10:14 pm
- Post datetime: 2012-07-10T01:31:02+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from finale00
>
> Damage values don't match epic animations.
I wonder if someone's written any importers for games from the series.
howfie did, for Atelier Rorona and Meruru.
## Post #1058
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2012-07-10T10:25:52+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from itoikenza
>
> Scratch Dat! i got the ff7 buster sword from ffx 
which is pretty sweet. but it aint bound to her left hand when i rotate. Any way to bind objects? also i can't even move the weapon around. if i could i'd just grin and bear with it, which does have the advantage of being wielded by either hand or thrown.
sad that no one can/wants to help me with this, i've asked for alot but this is all i really want for now, a way to bind the buster to her left hand. is there a way to do it in noesis. by exporting both models to 1 file or do i need 3dsmax?

can i just move the sword itself in noesis? i tried everything and only paine moves!?
## Post #1059
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-07-10T16:47:03+00:00
- Post Title: Re: Señor Casaroja's Noesis

Is there a way to add more than 2 uvmaps for a single mesh in a model? The models I'm currently parsing have 3 UV sets.
## Post #1060
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-07-13T20:00:50+00:00
- Post Title: Re: Señor Casaroja's Noesis

Only 2 materials/UV sets per mesh are supported at the moment, if you need more you can always clone the mesh and apply the additional material(s) to that and subsequent meshes. Although this doesn't generally work for things that need more than 2 UV sets in a single pass, unless the others are for an additive pass anyway.

Regarding your other issue with separate skeleton and mesh files, you should load the skeleton file when you load the mesh file and load them into a single skeletal model file. If you can't automatically know which mesh goes to which skeleton, prompt the user I suppose, but generally you can always know even if you have to parse through some other game data files to find out.

I don't know of any Kinect+Noesis guides. It should be relatively common sense though. Make your skeleton, slap some geometry on it (for the sake of visibility), load it into Noesis, open up the Kinect interface, map the mocap skeleton bones to your skeleton (see how the example character model with its noekin file included with Noesis is set up for an example), then you can record on your skeleton and export animations with your skeleton.
## Post #1061
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-07-14T00:59:18+00:00
- Post Title: Re: Señor Casaroja's Noesis

I think the 3rd uv map is for a bump texture, not that important so there is no hurry if you were ever planning on implementing.
About the skeleton, I managed to merge them based on the amount of bones in any armature files in the folder if there wasnt a specifically named file. However the devs prefered there weren't any public tools for their format so the project was put on hold.

How would I prompt for user input? There is no tkinter or wx module in the basic noesis kit.

Welcome back.

EDIT: where can I find the source for the MvC3 .mod plugin? Someone asked if I could try to parse the skeleton and animations.
## Post #1062
- Username: linhikaru7
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Mon Jan 31, 2011 2:45 pm
- Post datetime: 2012-07-14T04:30:31+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hey, just popping in a for a spot advice!
I'm exporting a game model in the .fbx file format, but I need a the skeleton to have a root. Does anyone have an inkling of what I should be doing?

Many apologies in advance if this is the wrong place for this.
## Post #1063
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2012-07-14T05:25:58+00:00
- Post Title: Re: Señor Casaroja's Noesis

MrAdults, maybe u can help with [this](http://forum.xentax.com/viewtopic.php?f=16&t=9266&p=75525#p75525)?

p.s.: also will be cool if ability of this tool can be implemented into noesis functional by source code
## Post #1064
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-07-14T09:51:51+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from linhikaru7
>
> Hey, just popping in a for a spot advice!
I'm exporting a game model in the .fbx file format, but I need a the skeleton to have a root. Does anyone have an inkling of what I should be doing?

Many apologies in advance if this is the wrong place for this.
Which noesis script is it, perhaps I can add it for you.
## Post #1065
- Username: linhikaru7
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Mon Jan 31, 2011 2:45 pm
- Post datetime: 2012-07-14T13:36:51+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Demonsangel
>
> Which noesis script is it, perhaps I can add it for you.
I'm thinking the closest thing to an add root skeleton thingy is the -ignoreroot or -noskel advanced commands. I'm also not entirely sure what you mean by script, which is no fault of your own, but rather because I'm a derp.
## Post #1066
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-07-14T13:43:14+00:00
- Post Title: Re: Señor Casaroja's Noesis

Yeah, you lost me a bit. : D

Could you perhaps explain a bit more what you are doing?
You are using Noesis, aren't you? If so what format are you trying to export to fbx. I might be able to add a root 'scene' bone to the skeleton by adjusting the import script.
Or are you looking for an entire skeleton to be imported into the mesh?
## Post #1067
- Username: rexil
- Rank: veteran
- Number of posts: 124
- Joined date: Tue Mar 15, 2011 10:14 pm
- Post datetime: 2012-07-14T13:52:24+00:00
- Post Title: Re: Señor Casaroja's Noesis

Is it possible to update the Bayonetta script to support the new game Max Anarchy? It's already released in Japan. The models are supported but the textures are extracted really low res.
I have used Bayonetta tools on the wtb files and got .xpr out of it but the unbundler doesn't output anything out of them just a .xpr.rdf 0KB file.
I can provide samples.
Thank you.
## Post #1068
- Username: linhikaru7
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Mon Jan 31, 2011 2:45 pm
- Post datetime: 2012-07-14T13:53:49+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Demonsangel
>
> Yeah, you lost me a bit. : D

Could you perhaps explain a bit more what you are doing?
You are using Noesis, aren't you? If so what format are you trying to export to fbx. I might be able to add a root 'scene' bone to the skeleton by adjusting the import script.
Or are you looking for an entire skeleton to be imported into the mesh?

Oh! Sorry, forgot that the format thing matters as well. .trb, but it seems like instead of exporting the skeleton as a whole, it breaks it up into a much of little bones, which doesn't work so well for my purposes. If I could figure out how to group together all those little bones as a full skeleton with a root around say maybe, the hip, that is what I am looking to do.

I'm sorry if this is unclear, I'm really new to this sort of stuff.
## Post #1069
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-07-14T13:55:24+00:00
- Post Title: Re: Señor Casaroja's Noesis

Into what program are you importing the .fbx?
## Post #1070
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-07-14T20:01:59+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Demonsangel
>
> How would I prompt for user input? There is no tkinter or wx module in the basic noesis kit.
data = rapi.loadPairedFileOptional("File description", ".ext"), where ".ext" is the extension you actually want. It just throws up a standard file open dialog so the user can navigate to the appropriate file, and it returns a bytearray of the file already loaded into memory, or None if the user cancelled out of the dialog. You can drop the Optional from the end if you want to automatically throw an exception on load failure.

> Reply from Demonsangel
>
> Welcome back.
Thanks. 

> Reply from Demonsangel
>
> EDIT: where can I find the source for the MvC3 .mod plugin? Someone asked if I could try to parse the skeleton and animations.
It's not a plugin, it's one of the formats implemented in the Noesis core. Which is kind of silly and it only started out that way because I thought it would have a lot in common with the other Capcom .mod format, but it was too radically changed and I ended up breaking it out of the standard mod loader in the core. It's all a filthy mess. But I think chrrox might still have a maxscript or something for that one, I can't remember for sure. And I never did support PS3 models, because I never figured out the Edge index compression, although the info/code for figuring that out was leaked long ago so someone could definitely get that done now. It's not high on my priority list at the moment. (and I hesitate to go anywhere near it myself, since I did pretty recently get done working directly for Sony)

> Reply from linhikaru7
>
> Oh! Sorry, forgot that the format thing matters as well. .trb, but it seems like instead of exporting the skeleton as a whole, it breaks it up into a much of little bones, which doesn't work so well for my purposes. If I could figure out how to group together all those little bones as a full skeleton with a root around say maybe, the hip, that is what I am looking to do.

I'm sorry if this is unclear, I'm really new to this sort of stuff.
Every skeleton has to have a root, that just refers to a bone without a parent. It sounds like what you want to do is flatten the skeleton, and probably put another node in the center and child any existing root(s) to that node. Noesis doesn't offer that kind of functionality, it's something you'd have to do in your modeling program of choice. And how you'd do it would depend on which modeling program you're using.

> Reply from rexil
>
> Is it possible to update the Bayonetta script to support the new game Max Anarchy? It's already released in Japan. The models are supported but the textures are extracted really low res.
I have used Bayonetta tools on the wtb files and got .xpr out of it but the unbundler doesn't output anything out of them just a .xpr.rdf 0KB file.
I can provide samples.
Thank you.
I didn't know that was coming out in Japan over half a year before here. Those bastards. I do have interest in the game, and if the model format is the same then I might as well do the work to get textures working properly. I'll see if I can get some resources to test.
## Post #1071
- Username: Devilot
- Rank: ultra-veteran
- Number of posts: 443
- Joined date: Tue Sep 07, 2010 5:12 pm
- Post datetime: 2012-07-15T06:26:50+00:00
- Post Title: Re: Señor Casaroja's Noesis

welcome back!
## Post #1072
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-07-15T07:50:59+00:00
- Post Title: Re: Señor Casaroja's Noesis

The dead man has returned
## Post #1073
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2012-07-15T23:00:08+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from itoikenza
>
> itoikenza wrote:Scratch Dat! i got the ff7 buster sword from ffx 
which is pretty sweet. but it aint bound to her left hand when i rotate. Any way to bind objects? also i can't even move the weapon around. if i could i'd just grin and bear with it, which does have the advantage of being wielded by either hand or thrown.

sad that no one can/wants to help me with this, i've asked for alot but this is all i really want for now, a way to bind the buster to her left hand. is there a way to do it in noesis. by exporting both models to 1 file or do i need 3dsmax?

can i just move the sword itself in noesis? i tried everything and only paine moves!?
Sorry if i'm being annoying MrAdults, but this question has nothing to do with kinect, but with models of weapons being bound to a hand...
## Post #1074
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2012-07-15T23:15:33+00:00
- Post Title: Re: Señor Casaroja's Noesis

why don't you export the model then move the sword where you want?
noesis can view models and animations but it is not meant to be a posing program for 3d models.
if you want to do that in noesis export it to a common format like fbx.
then modify the sword so its parented how you want
then re open that file in noesis.
## Post #1075
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2012-07-15T23:30:15+00:00
- Post Title: Re: Señor Casaroja's Noesis

[http://youtu.be/ZA0tTKvXxrs](http://youtu.be/ZA0tTKvXxrs)  in this vid he mentions "linking" in 3ds max at 9:08. will that fix my problem? can i use .smd instead of fbx. or is fbx better for max?

edit: by the way i have max 2010. just tried to import paine and saw that noesis made it using "FBX SDK/FBX Plugins version 2012.2" so i guess i gotta get 2012? or is there a format that hasn't changed since then?
## Post #1076
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2012-07-16T00:30:25+00:00
- Post Title: Re: Señor Casaroja's Noesis

with max fbx > dae > smd.
so if its fbx2012 just use dae you will need to install the open collada plugin into max to import.
## Post #1077
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2012-07-16T22:44:07+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from chrrox
>
> with max fbx > dae > smd.
so if its fbx2012 just use dae you will need to install the open collada plugin into max to import.

i got open collada but paine still looks the same messed up way without any color. i give up. i refuse to get 2012. i just want now, to put any .png in the background of ffxbuster.ffm and manipulate said model to cover my hands as if i'm holdin' it. please, can a .noesis script combine this?
## Post #1078
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2012-07-16T23:38:36+00:00
- Post Title: Re: Señor Casaroja's Noesis

did you install the collada plugin? the max one will not work.
also its just applying textures just look it up if you want to work with 3d models you at-least need to know how to apply textures to models.
just use smd if you want for want you want to do smd should be fine.
## Post #1079
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2012-07-17T00:23:51+00:00
- Post Title: Re: Señor Casaroja's Noesis

[http://www.khronos.org/collada/](http://www.khronos.org/collada/) i'm lost, is this where i can get it? if not, link me, please.
## Post #1080
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2012-07-17T01:22:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

try [http://opencollada.org/](http://opencollada.org/)
## Post #1081
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2012-07-17T20:56:53+00:00
- Post Title: Re: Señor Casaroja's Noesis

like i said before. I give up. this aint worth it. cause qumarion support in noesis will be infinitely better. i'll just wait for that.I want no more help for this buster+paine crap...
## Post #1082
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-07-17T21:21:15+00:00
- Post Title: Re: Señor Casaroja's Noesis

Give me a clear and detailed explaination of what you wanted with the model, (what's this about a png?), because I still don't know what you wanted.
## Post #1083
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2012-07-17T21:37:07+00:00
- Post Title: Re: Señor Casaroja's Noesis

alright Demonsangel, here goes. i want to bind the ff10 buster sword to paine's left hand using 3dsmax 2010. simple as that. and then use her in noesis. 

now the .png thing is also simple. i want a .noesis script or whatever that will put any still image in the background of any model, specifically the ffxbuster.ffm i have. cause of the gif you see, in my avatar, i wanna put said model in my hand by simply placing it strategically on top each frame, then screenshot'n each... that is all for now.

edit: pm me if you want said models. and are willing to bind them for me!
## Post #1084
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-07-17T21:41:17+00:00
- Post Title: Re: Señor Casaroja's Noesis

I have no idea about the png in noesis and what exactly you want with it, but send me the fbx's and i'll try to link the sword.
## Post #1085
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-07-18T03:08:54+00:00
- Post Title: Re: Señor Casaroja's Noesis

Does noesis support some way to store data that should be re-used when opening another model?

For example, there's a game that tells you which texture goes with which model in an external txt file.
It's just a massive file with however many entries (like, a couple hundred).

In order to automatically apply textures, the use case goes like

1: select mesh
2: select texture-info file (that txt file)

and away it goes.

However, if they want to load another mesh...well, select the texture-info file again!

It would be nice if I could parse the texture-info file once, store that data somewhere noesis can find, and next time I need it again, I first check whether it already exists before loading it again.

Like caching of sorts. noesis.set_data(blah) and noesis.get_data(blah) or something.

As long as noesis wasn't closed, it should be possible to toss some data at noesis itself and then retrieve it later.

Also is there a way for me to CLEAR the log when a model is being loaded? Lol I don't really need to see old data and it slows me down when there's too much data and I'm lazy to clear it out manually every few minutes. 

noesis.logClear would be nice. Flush didn't seem to do much, but I think my idea of "flushing" is different from what programmers usually mean when they want to flush the console.
## Post #1086
- Username: pixellegolas
- Rank: ultra-veteran
- Number of posts: 423
- Joined date: Tue Aug 12, 2008 6:30 am
- Post datetime: 2012-07-18T08:23:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

I did not follow entirely this thread but are you trying to steer a ff character with kinect?

I saw this vid now from unity engine where you can steer a imported char and do stuff. Even hit cubes so they fly away 

[http://www.youtube.com/watch?v=0MJ205lyz5E](http://www.youtube.com/watch?v=0MJ205lyz5E)

Sorry fo hijacking noesis
## Post #1087
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-07-18T14:16:26+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Demonsangel wrote:How would I prompt for user input? There is no tkinter or wx module in the basic noesis kit.
data = rapi.loadPairedFileOptional("File description", ".ext"), where ".ext" is the extension you actually want. It just throws up a standard file open dialog so the user can navigate to the appropriate file, and it returns a bytearray of the file already loaded into memory, or None if the user cancelled out of the dialog. You can drop the Optional from the end if you want to automatically throw an exception on load failure.

Would it be possible for you to support multiple file selection at once (and make it return filepath as well)?
Some of the formats I've worked on had like 200-ish animation files. Loading them all always took long and isn't optional while debugging the script.
Currently I've always been renaming/moving files.

And how would I get user text input?
## Post #1088
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-07-18T18:57:12+00:00
- Post Title: Re: Señor Casaroja's Noesis

Lol I would like some sort of sysin console, kind of like how we have the log.

Then you might write code like

```

```


And then it will wait for user input until you hit return or something.
## Post #1089
- Username: Acewell
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-07-19T08:02:20+00:00
- Post Title: Re: Señor Casaroja's Noesis

I'll add a generic/flexible value/data user query function at some point.

Noesis 3.88 is up now and I've switched it to OpenNI 1.5. That means if you were using the old Kinect implementation with OpenNI 1.0, you need to upgrade. There's a package containing all the files and upgrade/install instructions here: [http://www.richwhitehouse.com/pubdata/O ... ackage.zip](http://www.richwhitehouse.com/pubdata/ONI_15_Kinect_Package.zip)

Edit: Oh, and I looked at some Anarchy Reigns files. It looks like some of the high-res textures just don't exist in those dtt files. My guess is that they stored only low mips for some textures in the packages which are always in memory, then they stream higher mips from some other files or something. I dunno for sure, but the data isn't there in the files I saw. And the dat files that aren't loading don't actually contain any model entries. The actual format is identical to Vanquish.
## Post #1090
- Username: rexil
- Rank: veteran
- Number of posts: 124
- Joined date: Tue Mar 15, 2011 10:14 pm
- Post datetime: 2012-07-19T15:50:28+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> 

Edit: Oh, and I looked at some Anarchy Reigns files. It looks like some of the high-res textures just don't exist in those dtt files. My guess is that they stored only low mips for some textures in the packages which are always in memory, then they stream higher mips from some other files or something. I dunno for sure, but the data isn't there in the files I saw. And the dat files that aren't loading don't actually contain any model entries. The actual format is identical to Vanquish.
Thank you for looking. 
I found the missing textures. They are in the next .dtt file. like model is pl0150.dat, pl0150.dtt is it's textures minus main diffuse the main diffuse is in the next .dtt, pl0151.dtt. There are color variations in the next ones too.
[](http://postimage.org/image/qd85j1q9t/)
## Post #1091
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-07-19T21:30:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

I'm trying to convert Euler angles to a rotation matix, but I'm not getting the correct output.

The matrix/quaternion I'm supposed to get is (from blender calculations)

```
>>> e.to_quaternion()
Quaternion((0.706822395324707, -0.028265468776226044, -0.028287984430789948, -0.7062597870826721))

>>> e.to_matrix()
Matrix(((0.0007937275222502649, 0.9999997019767761, -6.363401189446449e-05),
        (-0.9968013763427734, 0.0007962742820382118, 0.07991466671228409),
        (0.07991468906402588, 0.0, 0.9968017339706421)))

```


The output I get in Noesis is

```
(0.028269844129681587, 0.7036657929420471, 0.028500059619545937, 0.7093961834907532)
```


The euler angles are: 0, -0.08 , -1.57
What I'm doing in Noesis:

```
quat = mRot.toQuat()

```


What am I doing wrong?
## Post #1092
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-07-19T21:50:53+00:00
- Post Title: Re: Señor Casaroja's Noesis

what's the HPB axes order for Blender and Noesis? Are they the same? If not you will get different results. I think there are 27 different ways to represent Euler angles (number of combinations on the axes). Noesis doesn't let you choose axes order huh?
## Post #1093
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-07-19T21:54:25+00:00
- Post Title: Re: Señor Casaroja's Noesis

I only know blender's

```
>>> e
Euler((0.0, -0.07999999821186066, -1.5700000524520874), 'XYZ')
```


I don't know Noesis'
## Post #1094
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-07-19T22:20:22+00:00
- Post Title: Re: Señor Casaroja's Noesis

The matrix formula for XYZ euler rotation is well know and easy to code. From there, use Noesis to convert the matrix to a quaternion. (Since I don't know what Noesis uses either, but since I think Rich uses OpenGL, it might be YXZ, hence the different results).
## Post #1095
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-07-21T20:15:20+00:00
- Post Title: Re: Señor Casaroja's Noesis

You want to use toMat43_XYZ for Euler XYZ convention. If you have other conventions, you can easily code your own conversion by just generating a matrix with something like:

```
	mat.rotate(a[2], NoeVec3(0.0, 0.0, 1.0))
	mat.rotate(a[1], NoeVec3(0.0, 1.0, 0.0))
	mat.rotate(a[0], NoeVec3(1.0, 0.0, 0.0))
```

This example is how you would manually generate a rotation matrix from Euler XYZ.
## Post #1096
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-07-22T16:26:27+00:00
- Post Title: Re: Señor Casaroja's Noesis

I was writing a sort of tutorial for Noesis, but was thinking it might be better to provide a manual with examples in it.
I've cooked up a tiny example (which looks horrible atm) as a preview.

What would all be useful? I started with explaining the classes/ functions in noesis_inc with some examples.
I was then going to recreate Chroxx's tutorials and add others.

I thought this would be useful since I've only noticed 4 people posting Noesis scripts (MrAdults, Chroxx's, Finale and myself (and I didn't even post that many), sorry if I missed someone) and would hopefully encourage people / make it easier for people to start creating Noesis scripts.
I know most people that come here want everything spoonfed  and the excuses "I don't want to invest my time in learning" make me want to vomit, but there have to be more people with a braincell count larger than their shoesize.

The idea is to put a lot of tips in there that don't seem obvious for starters (like defining materials before rapi.commitTriangles, god I felt like an idiot)

I'm still a noob at Noesis for the most part so any help is welcome, especially finding mistakes I made in explaining the material

/end incohesive rambling
[Noesis Manual.rar](https://xentaxbackup.github.io/file/5588_Noesis Manual.rar)
## Post #1097
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-07-22T18:12:16+00:00
- Post Title: Re: Señor Casaroja's Noesis

> "I don't want to invest my time in learning"

Lol I think the more common rationale would be "I'm too lazy to learn"

I'm usually lazy to learn a new tool (eg: new API, new techniques), or new concepts unless I am greatly interested or just have motivation to learn something new for whatever reason.

But I knew python and some 3D concepts, so I just need a couple tutorials that pointed out which methods to use to draw the stuff I want (chrrox's basic 3D model tutorial made it pretty straightforward).

Figuring out hex was a new concept but I think I was following one of chrrox's "figure out a simple format" guide where he just takes some specs and parses it and figured out how hex works from there.

Looking at source code didn't help much cause unless you already know what you're looking for, you're pretty much missing the "how did you figure that out?" part of the process. Which is pretty much the whole thing; the code itself isn't the hard part unless you can churn out full specs like a beast but don't know how to write code.
## Post #1098
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-07-22T20:28:36+00:00
- Post Title: Re: Señor Casaroja's Noesis

I think there's a difference and python, compared to c++, is easy to learn. Practically any question you have about basic python is answered on stackoverflow

I never felt like helping people that never wanted to put in any effort themselves for something they wanted to be done.
My second post here was about reversing the guild wars 1 format. I had never opened a hex editor before and like 2 weeks after you mentioned Noesis I had a script made that did some basic importing. All this was during my exams, so I didn't have a lot of time. Granted, the script was a clusterfuck, but figured it was better than begging someone to take a look at it, sitting there wondering why it isn't done yet.

It's just a pity there's only 3 other people I can ask questions. I find it's easier to script for Noesis, thanks to the way MrAdults made the engine, than it was for blender.

I remember a topic where chrrox gave the entire layout (which was pretty damn easy and small) of a format, we linked him to tutorials etc. You could say all he had to do was fill in a premade form and he refused. I wonder why I should help someone like this and what they need to models for anyways.
## Post #1099
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-07-22T21:45:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

Ya, python is pretty easy compared to some other languages like those in the C-family.
I wonder if it's the fact that people don't want to learn another language.

For example, I spent a few days to learn ruby. Maybe if noesis had a ruby API would people use it?
Or perhaps a java API?

If it is a language issue, then maybe people can suggest what kind of languages they would prefer to program in.

Implementing a scripting API for custom language of your choice would be something good to know. After all, when you consider something like a game engine, it is just not powerful unless you can give users the ability to write their own stuff.

But I guess you will need to know your C(++) for that lol
## Post #1100
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-07-22T22:04:45+00:00
- Post Title: Re: Señor Casaroja's Noesis

Don't pull any of yours hairs out lol. Do this for yourself and do whatever games you want to get the models you want and fuck everybody else. Don't worry about what other people want or do with the models you extract, it will make you sick lol. Just do what you do and know it's cool to share the rewards.

The people who don't want to learn how to extract are smarter than we are.so we extracted models from xxx game. Did we learn anything we didn't already know? No, probably not. Did we make any money? Nope. Did we do anything that will one day help us make money? Probably not. How much time did we waste? A week? A month? If all your interested in is how the models are made like other people are, then downloading an unreal game and using gildor's tools is 10 minutes worth of work. Brilliant! All we did is waste time for nothing.

Btw, I always tellpeople who say python is easier to learn than xxx that I want to slap them, so let me slap you demonsangel lol. I can use both and its the same shit to me. A variable is a variable, array is an array, a loop a loop, an if an if, a class a class, a self a this, same dot syntax... just python and Java have more functionality and diversity in their libraries. As Bruce eckel once put it, python has a library for fucking everything. But at the core of every language is the same limiting lalr compiler or parser. In other words every computer language is a list of statements and expressions.
## Post #1101
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-07-22T22:24:00+00:00
- Post Title: Re: Señor Casaroja's Noesis

C++ is a goddamn nightmare.
Everytime I see some c++ code I spend an hour trying to figure out what the hell they just did because they managed to do the same thing everyone else did in yet another way making it look completely different.
I've asked plenty of people who use c++ on a daily/professional basis about some snippets of code and most of the time they're "idunno" as well. 
I can read most of it, I can write some of it, if I can I avoid it.


I've only been doing this since january, so yes, every time I open a format I learn something new, not only about the format but also about 3d game engines and other properties.
Apart from recently looking at Guild Wars 2, mostly out of curiostiy because I couldn't get Guild Wars 1 to work (and now I know why, lol) I've only reversed format from games I actually own and I'm interested in. I haven't done anything with the models, but I won't consider it all for nothing. It's a hobby, it's supposed to waste my time.

Don't you get excited when you take the first look at a format? Or a kick when that thing's actually imported? I might be weird, but I do.

Anyways, not exactly what I aimed for when I first posted. Was just wondering if it would be futile to continue the manual or not.
## Post #1102
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-07-22T23:04:38+00:00
- Post Title: Re: Señor Casaroja's Noesis

now that you mention it, at first, yeah, it was kind of exciting. but after a year of the same old same old, it's really hard to get excited. just like sex lol. remember that first time? how many seconds was it after you first put it in till you imploded lol? now how long does it take? 10 - 20 minutes? an hour?

ha ha ha i wouldn't bother with that manual, your time is probably better spent doing something for yourself since maybe only 1 or 2 people over the next year may actually make use of it. maybe working on another game where say 100+ people get some joy out of it... want to work on orochi 3? it's got some hot-ass female models in there.

btw, the only thing in C++ that should be difficult for even professional level C++ programmers is template metaprogramming (and even then they should be able to at least recognize it when they see it). anything else and they should be ashamed of themselves for saying "i dunno" lol. if there were C++ questions in the coding forum, i would be answering them (but there never are ).
## Post #1103
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-07-22T23:27:45+00:00
- Post Title: Re: Señor Casaroja's Noesis

I've got no idea what template programming even is but I don't think they should be ashamed if someone used some exotic overcomplicated way to do something and they didn't recognise it instantly.

Might just be my hatred for c++ talking, but I think you're oversimplifying things. And I never meant that they couldn't figure it out
I was eventually going to try and convert my scripts to dll's, so I'll be haunting your dreams with all my questions now.
## Post #1104
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-07-22T23:39:19+00:00
- Post Title: Re: Señor Casaroja's Noesis

noesis plugin dlls? you're thinking about going the revelation way? like robots? want to work together on a noesis plugin for Macross when it comes out (that is, extraction permitting)?
## Post #1105
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-07-22T23:48:57+00:00
- Post Title: Re: Señor Casaroja's Noesis

Lol I looked at a couple C++ plugins but wasn't really sure what I needed, and didn't really take the time to actually look at them carefully to determine what does what.

Then again, it's probably the same process anyways: register plugin, type check, load model, rpg calls and whatever, then return 1 when you're done.
## Post #1106
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-07-23T00:17:38+00:00
- Post Title: Re: Señor Casaroja's Noesis

I'm pretty sure my c++ wil be an even greater halfassed clusterfuck than my python.
When would it come out, someone I know is looking for people for an arpg project and my internship year starts soon.

The noesis part won't be difficult, it's finding the most efficient way to process everything that'll be the hardest for me.

I've tried using c++ more, I usually got fed up and converted it to python. Always leaves a bad taste in my mouth. :p
## Post #1107
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-07-23T00:21:38+00:00
- Post Title: Re: Señor Casaroja's Noesis

> it's finding the most efficient way to process everything that'll be the hardest for me.

I think you can write horribly bad inefficient code (without doing stupid things), and would still run faster than python LOL
## Post #1108
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-07-23T00:46:46+00:00
- Post Title: Re: Señor Casaroja's Noesis

Rich is pretty old-school; constructors with single pointer arguments should be declared explicit to prevent people from saying things like 
```
RichAngles a = 0;
```
 which would cause your program to crash. RichAngels? Oh what are RichAngles ? 

P.S.
I'm just teasing you Rich lol . When you come back don't take offense . It doesn't look that bad, everything's pretty much in pluginshare.h. Noesis calls your DLL's NPAPI_Init function. It gives you two C-struct interfaces that contain a bunch of function pointers that give you access to Noesis' internal functions. Fairly standard plugin/interface system that's actually very similar to how LightWave's plugin system works as well. Pretty nasty for anyone who doesn't know C and C++ pretty well . Even I'm sitting here wondering how from those two interfaces do I get access to the functions declared in the noeRAPI_s interface.
## Post #1109
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-07-23T00:55:30+00:00
- Post Title: Re: Señor Casaroja's Noesis

actually finale, i think what demon meant by that was not how fast his code runs but how fast he can get things done (faster in python). but good god my batch rippers already normally take 10 to 30 minutes to extract and process models. in fact, my next ripper for saint's row is going to top that 30 minute mark LOL!
## Post #1110
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-07-23T02:43:25+00:00
- Post Title: Re: Señor Casaroja's Noesis

Batch ripping is like downloading an entire game just for a few samples   
Lol couldn't you just toss in a simple GUI that allows users to select what they want to actually extract.
## Post #1111
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2012-07-24T02:31:20+00:00
- Post Title: Re: Señor Casaroja's Noesis

could someone show me how to rip zack from the original ff7? I'm feeling nostalgic, and i want the cutscene buster too...
## Post #1112
- Username: inspiredgurl
- Rank: advanced
- Number of posts: 46
- Joined date: Tue Nov 01, 2011 5:07 am
- Post datetime: 2012-07-24T07:02:19+00:00
- Post Title: Re: Señor Casaroja's Noesis

i've read in this forum that noesis can use txt files. i have a textureinfo.txt. how can i get noesis to read from it so it can map the textures? is there an option for it? or maybe a version of noesis that's need to use the txt file?
## Post #1113
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-07-24T07:46:25+00:00
- Post Title: Re: Señor Casaroja's Noesis

When I said it can read txt files, I meant you can write a script to parse the txt file for your specific case.

The reason why I didn't do it was because it doesn't make sense to have to keep reloading the same texture info file for models from the same game.
## Post #1114
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-07-26T01:07:15+00:00
- Post Title: Re: Señor Casaroja's Noesis

The C++ API is shitty in a lot of ways, I think I've spent pages in this thread lamenting on that already. It was also a horrible decision to include actual component modules into the plugin project(s), that's something that's a pain in the ass to fix retroactively. Most things are a pain in the ass to fix retroactively and they secretly tie into or need to explicitly match things engine-side that they shouldn't, that's why it's still shitty. On the other hand it's extremely flexible despite all of this and allows you to do anything you could really reasonably want to do within the confines of Noesis, case in point being that Python support was added as an external plugin. The renderer is also abstracted out and I've been considering adding that to the SDK, but I don't think anyone would make use of it, and I need to revise the API again before making it public anyway.
## Post #1115
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-07-28T07:07:48+00:00
- Post Title: Re: Señor Casaroja's Noesis

So I was reading up on transform matrices but all that math is just...math. I mean now I can do matrix algebra but so what   

I'm working with a format that has all of the meshes positioned at the origin and uses mesh transforms to correctly position and orient them.

It seems like I don't have 16 floats laid out nicely for me to just read in. Apparently it just stores each vector individually, so like you have scale xyz, followed by stuff, followed by position xyz, etc.

How would I take this information and build the correct matrix?

I would probably have to swap rows to get it in XYZ at the end, but which component goes where? lol

I've seen how 3x3 identity matrices have like the x,y,z scale along the diagonal, but I'm not sure why that's the case.

Should I be aiming for a 4x4 or a 4x3 matrix?
## Post #1116
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2012-07-28T12:09:52+00:00
- Post Title: Re: Señor Casaroja's Noesis

4x3 matrix is the best because that is what noesis wants for most operations.
4 x 4 is the same as 4 x 3 but has data that is not used kept on it for example

1 0 0 0
0 1 0 0
0 0 1 0
X Y Z 1

that is a 4 x 4 matrix to make a 4 x 3 you just remove the end that is not used

1 0 0
0 1 0
0 0 1
X Y Z

when crating a matrix i find it easiest to create the matrix from a quat or angles first then
just swap out row 4 for the position data.
## Post #1117
- Username: kapatan
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Fri May 21, 2010 8:03 am
- Post datetime: 2012-07-28T12:23:10+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hi MrAdults.

i have one stupid question.
Noesis python really supports XML?

When i import ElementTree and use XML function, Noesis error log is
"ImportError: No module named expat; use SimpleXMLTreeBuilder instead"

if it's possible, please teach me how to use XML format reading in Noesis python.

Thank you.
[sample.zip](https://xentaxbackup.github.io/file/5612_sample.zip)
## Post #1118
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2012-07-28T12:34:16+00:00
- Post Title: Re: Señor Casaroja's Noesis

i tried to import external xml readers before in noeis but i could not find any useful ones that worked with python 3.2
the best bet is most likely to make an xml plugin that gives you the features you want.
but the native python 3.2 xml functions should work no problem.
[testxml.rar](https://xentaxbackup.github.io/file/5621_testxml.rar)
## Post #1119
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-07-30T01:03:24+00:00
- Post Title: Re: Señor Casaroja's Noesis

Would be great if I could use xpath or xquery in python when dealing with those xml files.
## Post #1120
- Username: kapatan
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Fri May 21, 2010 8:03 am
- Post datetime: 2012-07-30T12:08:28+00:00
- Post Title: Re: Señor Casaroja's Noesis

chrrox:
Thanks for attached a sample file.
Surely native python supports xml format.
But if Noesis supports xml directly, it's very handy importing game resource of xml.

finale00:
Thanks info.
But i don't know how to use external library in Noesis python.
## Post #1121
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-07-30T18:30:58+00:00
- Post Title: Re: Señor Casaroja's Noesis

I think python should support xpath/xquery natively as well. I mean, it seems like a pretty natural way to parse XML files.
## Post #1122
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-08-08T07:18:05+00:00
- Post Title: Re: Señor Casaroja's Noesis

lol immediate mode woes

Here's a model built using the rpg interface with normals



Here's the same model, using the imm interface, without normals



And now I added normals in



Here's the code:

```
for j in range(numIdx):
    
    idx = noeUnpackFrom("i", mesh.idxBuff, j*4)[0]
    rapi.immVertex3f(mesh.vertBuff, idx*12)
    rapi.immNormal3f(mesh.normBuff, idx*12)
rapi.immEnd()

```


Not sure what's causing it, or how to fix it. Or whether I'm supposed to be making a couple extra calls to clean up any previous stuff. I tried clearBufferBind before each immBegin but the results weren't any different.

It uses the same vertex, normal, and index buffers as I would do it using rpgBind
Here's how it looks with rpg calls

```
rapi.rpgBindNormalBuffer(mesh.normBuff, noesis.RPGEODATA_FLOAT, 12)
rapi.rpgCommitTriangles(mesh.idxBuff, noesis.RPGEODATA_UINT, numIdx, noesis.RPGEO_TRIANGLE, 1)

```


I'm using immediate mode here cause the UV's are stored per-face and there's a separate index list into the UV buffer.
## Post #1123
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-08-08T14:07:56+00:00
- Post Title: Re: Señor Casaroja's Noesis

I'm trying to parse a Prototype 2 model file, but it's 10MB large and after looking at it in 010 editor it seems it's chunk based, but it has 36k chunks.

When trying to parse the chunks Noesis locks up, I can't do a file search for the chunk header number because it just happens to have the same number in other places but not as a chunk header.

I was thinking of cutting the file up in smaller parts, but I don't know after what chunk I should.

It's really annoying because the armature chunk is like 143360 and the bones for that armature are 143361, but instead of nesting the chunks the armature one only holds the name and numbones and then come all the bones as seperate chunks, so I can't "skip" large chunks because they're all small (30-80 byte range ...) with an occasional large one.

What would be my best bet to deal with this?
I'm currently leaning towards an extra python .pyd module that just parses parts of this file, but that's only because I don't know any better/anything else.

I can't really debug the .py script because Noesis locks up. I already got rid of the memory error when I was loading each different struct into memory.
## Post #1124
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-08-08T14:26:20+00:00
- Post Title: Re: Señor Casaroja's Noesis

10 MB file with 36,000 chunks... that's not a lot and shouldn't be cause any memory errors or crashing. Even with heavy nesting of the chunks python should be able to manhandle that. go ahead and write that extra module and see if it still crashes... then you know it's not Noesis. unless you feel like posting source... (I doubt anyone would steal your code). since a chunkfile is a type of tree, there may be something wrong with traversal code causing it to get stuck. using this extra module, you could also save the data into an intermediate format that Noesis can read without crashing.

i'm also sure there's something you can do, like keep count of how many times a chunk id is visited, to see if a chunk is being visited too many times, errr.... an infinite number of times, etc.

you can also create a debug file that prints the chunk tree in the following format (along with the chunksizes too)... to see where it's going crazy.

```
 chunk2 (0x500 bytes)
  chunk3 (0x200 bytes)
  chunk4 (0x300 bytes)
 chunk5 (0x500 bytes)
  chunk6 (0x300 bytes)
   chunk7 (0x100 bytes)
    chunk8 (0x100 bytes)

```
## Post #1125
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-08-08T15:46:00+00:00
- Post Title: Re: Señor Casaroja's Noesis

There is no nesting, that's one of the annoying things.

After a certain amount print() the noesis debugger hangs untill it's done runnign code and then prints out evertything it didn't yet print out. But if it never finishes or hangs...

So I can't actually know if perhaps there is a loop that never ends.
My code currently does a while not data.checkEOF():
with a data.seek(size-12)
Guess I could try to see if the .tell() after the chunk isn't larger(or negative) than the one before the chunk.

EDIT: ugh, I misread 1 byte somewhere so in the loop it read size as 0 somewhere, so it kept looping over the same chunk forever and thus locking up
## Post #1126
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-08-08T19:42:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

I always write to an external file if I need to examine what I'm reading in.
## Post #1127
- Username: LeonSK
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Thu Feb 03, 2011 8:09 pm
- Post datetime: 2012-08-12T21:01:25+00:00
- Post Title: Re: Señor Casaroja's Noesis

Some one plz post a link to tutorials and tools needed so i can learn how to import some models in noesis.
## Post #1128
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-08-12T23:01:56+00:00
- Post Title: Re: Señor Casaroja's Noesis

Tutorial section has a couple guides from chrrox. I think...those are really all you need to figure out how to use noesis to import models. Textured meshes at least. Would be cool to see a similar guide for bones and animations.

It would be logical

1: start by getting the meshes - good enough for screenshots
2: now add the bones and skin the model - now you can actually do stuff with it
3: now add the animations - if you're lazy to make your own
## Post #1129
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-08-14T12:00:13+00:00
- Post Title: Re: Señor Casaroja's Noesis

Lets say I have 9k triangles and 3k vertices and just for the example I need to create "vertex groups" every 500 vertices.

How would I do this in Noesis? I know how to do it if I had the triangle groups, but I don't see a way to do it with vertex groups without looping through all triangles to see which vertex is where and create the groups like that (but seems really inefficient).
## Post #1130
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2012-08-14T18:51:10+00:00
- Post Title: Re: Señor Casaroja's Noesis

if the format you are working on is structured like i think it might be i usually read the vertex points in the groups i need then subtract the face number from the face id read.
not sure what format you are working on tho.
## Post #1131
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-08-14T19:21:08+00:00
- Post Title: Re: Señor Casaroja's Noesis

So I'd have to loop through all the triangle to cut them in groups, since all vertices and traingles are 1 large pool. Okay, thanks.
## Post #1132
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2012-08-14T23:12:35+00:00
- Post Title: Re: Señor Casaroja's Noesis

you can still use the rapi interface with this method
here is something i have done

		faceData = []
		for a in range(0, meshInfo[5]):
			face = bs.readUShort() - meshInfo[2]
			faceData.append(face)
		faceBuff = struct.pack(">" + 'H'*len(faceData), *faceData)
		rapi.rpgCommitTriangles(faceBuff, noesis.RPGEODATA_USHORT, meshInfo[5], noesis.RPGEO_TRIANGLE, 1)
## Post #1133
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-08-14T23:33:02+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Demonsangel
>
> So I'd have to loop through all the triangle to cut them in groups, since all vertices and traingles are 1 large pool. Okay, thanks.

The indices look like this?

```

```


Or are they just random?
## Post #1134
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2012-08-15T10:45:46+00:00
- Post Title: Re: Señor Casaroja's Noesis

could  someone provide me with as .noekin map of ff7ac cloud from dissidia 1?
## Post #1135
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-08-19T17:18:02+00:00
- Post Title: Re: Señor Casaroja's Noesis

In Noesis export of OBJ, it gives group names of

g 0
g 1
g 2
etc.

and so on. Some modelers don't like numeric names. Was wondering if you can change that to

g m0
g m1
g m2
etc.

or

g group0
g group1
g group2
etc.
## Post #1136
- Username: HeliosAI
- Rank: mega-veteran
- Number of posts: 166
- Joined date: Wed Nov 17, 2010 9:57 pm
- Post datetime: 2012-08-22T15:45:50+00:00
- Post Title: Re: Señor Casaroja's Noesis

Not sure if this is the right topic but well...it's about this program so

Is there a way to export the environments from Final Fantasy 7: Crisis Core with their vertex colors? .fbx seems to export them but when i import it to 3ds max there are no vertex colors. I also tried .dae because i read it supports vertex color data too but Noesis doesn't give me any .dae file (it just exports the textures) while there isn't any error message.
## Post #1137
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-08-23T20:45:59+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from howfie
>
> In Noesis export of OBJ, it gives group names of

g 0
g 1
g 2
etc.

and so on. Some modelers don't like numeric names. Was wondering if you can change that to

g m0
g m1
g m2
etc.

or

g group0
g group1
g group2
etc.
I'll look into it, which importer(s) are choking on numbered names?

> Reply from o0Crofty0o
>
> Not sure if this is the right topic but well...it's about this program so

Is there a way to export the environments from Final Fantasy 7: Crisis Core with their vertex colors? .fbx seems to export them but when i import it to 3ds max there are no vertex colors. I also tried .dae because i read it supports vertex color data too but Noesis doesn't give me any .dae file (it just exports the textures) while there isn't any error message.
FBX and DAE both store vertex colors. I just tested exporting a FF7CC map model to DAE and it works fine, so I don't know what your issue is there. Try looking for write errors in the output log, and perhaps try making sure your destination path has no unicode characters. The old FCollada lib compiled into Noesis is not unicode-friendly. As for FBX, lack of vertex colors would be the importer's fault, you can see that the data is properly stored if you reload the FBX in Noesis.
## Post #1138
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-08-24T08:17:29+00:00
- Post Title: Re: Señor Casaroja's Noesis

Any idea what I"m doing wrong?
[viewtopic.php?p=76829#p76829](http://forum.xentax.com/viewtopic.php?p=76829#p76829)

I messed around some more but eventually gave up lol
## Post #1139
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-08-24T22:32:32+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from finale00
>
> Any idea what I"m doing wrong?
viewtopic.php?p=76829#p76829

I messed around some more but eventually gave up lol
Sorry, I missed that. You just need to move your immNormal3f call above the immVertex3f call. immVertex3f is what commits the vertex with all of the other active vertex components. Remember that you just need to make one of the component calls with None as well if you want to clear it out for the next committed vertex.
## Post #1140
- Username: Vindis
- Rank: advanced
- Number of posts: 44
- Joined date: Sat Apr 09, 2011 4:31 am
- Post datetime: 2012-08-25T17:19:54+00:00
- Post Title: Re: Señor Casaroja's Noesis

hi,

may i ask how can i get float16 into this: rapi.rpgBindUV1BufferOfs(varhere, noesis.RPGEODATA_FLOAT, 0, 0)

I'll try to write an Swtor gr2 plugin for Noesis, I have the vertices and faces so far, the only thing is the UV.
It is float16 stored in 2byte or 4 (cant remember, but the test gave me good results), which i can get with getFloat16, but how can i implement this into the buffer?

Sorry if this is noobish question, but it's hard to get Noesis documentation. I'm not that godd in python so i cannot differentiate what can i get from python doc and what from here 

edit: i think it's better to ask what arguments those rpgBindetcetc expect? i saw someone used RPGEODATA_HALFFLOAT but it didn't worked for me....
## Post #1141
- Username: Acewell
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2012-08-25T19:38:10+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Vindis
>
> hi,

may i ask how can i get float16 into this: rapi.rpgBindUV1BufferOfs(varhere, noesis.RPGEODATA_FLOAT, 0, 0)

I'll try to write an Swtor gr2 plugin for Noesis, I have the vertices and faces so far, the only thing is the UV.
It is float16 stored in 2byte or 4 (cant remember, but the test gave me good results), which i can get with getFloat16, but how can i implement this into the buffer?

Sorry if this is noobish question, but it's hard to get Noesis documentation. I'm not that godd in python so i cannot differentiate what can i get from python doc and what from here 

edit: i think it's better to ask what arguments those rpgBindetcetc expect? i saw someone used RPGEODATA_HALFFLOAT but it didn't worked for me....

rapi.rpgBindUV1BufferOfs(varhere, noesis.RPGEODATA_HALFFLOAT, 0, 0
## Post #1142
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-08-25T20:27:05+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> 
Sorry, I missed that. You just need to move your immNormal3f call above the immVertex3f call. immVertex3f is what commits the vertex with all of the other active vertex components. Remember that you just need to make one of the component calls with None as well if you want to clear it out for the next committed vertex.

Lol it was a simple call issue. Didn't think of trying to actually change the order  

Finally I can render models without having to convert from per-face to per-vertex
## Post #1143
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-08-26T23:03:25+00:00
- Post Title: Re: Señor Casaroja's Noesis

I have a question about loadTextureByHandler.

Does the texture plugin have to be written a specific way, or does it only need to add a texture object to the texList?

I'm using this plugin (don't remember where I got it, it was on these forums)

[https://www.dropbox.com/sh/7stlpd4qvkq3 ... rVR_pvr.py](https://www.dropbox.com/sh/7stlpd4qvkq3096/-5bUxUQDfS/Textures/tex_powerVR_pvr.py)

And although I can load up textures fine by clicking on the files, when I use the above method it doesn't seem to be able to load the texture.
## Post #1144
- Username: Vindis
- Rank: advanced
- Number of posts: 44
- Joined date: Sat Apr 09, 2011 4:31 am
- Post datetime: 2012-08-27T10:42:47+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from chrrox
>
> 

rapi.rpgBindUV1BufferOfs(varhere, noesis.RPGEODATA_HALFFLOAT, 0, 0

Thank You! 

It worked, i just messed up the stride value...   

Can I ask one again?  Is there a way to prevent mesh renaming? In the files lot of mesh have the same name, mostly in the capital ships, and the rename process conflict with my other tools that i wrote.
## Post #1145
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-08-27T17:48:49+00:00
- Post Title: Re: Señor Casaroja's Noesis

rapi.rpgSetName("name")
## Post #1146
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2012-08-28T02:31:05+00:00
- Post Title: Re: Señor Casaroja's Noesis

I've run into an issue with a BND archive from a PSP game... It contains a number of uncompressed GMO's, some JSON's and maybe some other things...

It seems as though Noesis knows the format, but it fails to read and crashes.

I can't make heads or tails of the archive... I just don't see any offset lists or anything that links the filename list at the top, to the files later on in the archive...

All I'm interested in at the moment is the GMO's but there may be more important data in some of the archives I haven't looked at yet...

What I'm trying to do currently is write a ripper for the GMO's using the OMG.00.1PSP tag (the start of GMO data) and the GMO file length listed at 0x14...

However, while I know Noesis has some sort of process for unpacking things, I was wondering how I'm supposed to actually grab the data from the archive, and then output it.

I could just dump the raw data with bs.writeBytes(data[start:end])... but that seems like a poor execution.

I've read in the documentation there is a fmtExtractArc function, and I have read the specs on it... however, I am uncertain as to what exactly they mean.

I can't seem to find any python plugins that use the function.

I don't really know how to progress. What are some suggestions?

At this point my only thoughts are brute force loops that appends all ".gmo" strings into a list until reaching a "OMG." string, and then using a bs.writeBytes function to write to the nameList[ i] as the output filename... This however, will execute every time the file is even attempted to be loaded, and will not preserve any sort of directory structure...
... and I'm not entirely certain I know how to correctly determine the start and end of the filenames in the BND archive's list... (they're not 4 byte aligned nor consistent in length).

Failing any sort of export ability for the archives I'll have to manually copy the GMO's by hand via hex editor. 

I need help and I'm not even certain what kind.

Here is part of one of the files I'm working with. (an image of the header, that's not breach of TOS right?)
[http://i86.photobucket.com/albums/k99/eremes/data.png](http://i86.photobucket.com/albums/k99/eremes/data.png)

The highlighted string is the beginning of the first file, and before it are the names of all the included files. These are small archives.


EDIT:
Ahem... Now how did I miss that... I found the absolute offsets to the files... now all I have to do is output the files and attach the proper directory structure... still, I could use some help understanding how the fmtExtractArc function works.

I looked at the Duke3D grpExtractArc function... but I couldn't really tell what it was doing or for that matter how or why.

What is 'justChecking' and how is it set?

EDIT2:
Ok, I've written all the code I'd need to parse the files normally, but I can't seem to get them to actually... output... I really need some help with this fmtExtractArc defining.

EDIT3:
After much much toil... I think I figured out what vital thing I was missing.

I'd been assuming that since no reference to {data} was passed to ExtractArc, there was no way for me to use noeBitStream functions on it... it took me forever to figure out I could create a new data reference using f.read(fileLen) and then parse it as I would in any other function... once that clicked, (and after the discovery of extractArchiveFile(sO)) I think I hacked together a working BND exporter.

Now to add some Prints so I know it's actually doing stuff.... and... whew...

Man, noesis never seems to cease kicking my ass, but it sure is useful.
## Post #1147
- Username: ShinRa Inc
- Rank: n00b
- Number of posts: 10
- Joined date: Wed Aug 15, 2007 5:38 am
- Post datetime: 2012-08-29T07:09:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

Apologies in advance if I'm overlooking something very simple, or if this has been asked and answered already, and I couldn't find it...

I'm a bit new to all this, but I'm trying to export Crisis Core models, but retain the texture mapping (preferably in Collada format).  Anything I'm loading the exported files from Noesis into seems to be missing the textures.
## Post #1148
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-08-29T09:35:59+00:00
- Post Title: Re: Señor Casaroja's Noesis

In what program are you importing the .dae?

I'm not entirely sure on the behavior of Noesis with textures, but sometimes when the textures aren't in the model folder noesis copies and renames them into the model folder.
I've also noticed that some exported formats only hold the texture name and not the full path to it, which might be happning if the textures aren't in the model folder.

UV should still be loaded with it no matter what, all you have to do is relink to the location of the textures or relink the textures themselves, probably.
## Post #1149
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2012-08-29T12:32:24+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from ShinRa Inc
>
> Apologies in advance if I'm overlooking something very simple, or if this has been asked and answered already, and I couldn't find it...

I'm a bit new to all this, but I'm trying to export Crisis Core models, but retain the texture mapping (preferably in Collada format).  Anything I'm loading the exported files from Noesis into seems to be missing the textures.

If you're using an Autodesk software to open the DAE models... you're better off using FBX... Autodesk has absolutely miserable support for DAE. It's supported... but the implementation is glitchy at best, entirely useless at worst.

In Max, I lose all UV data consistently... in Maya I sometimes retain UVs and sometimes not, but I ALWAYS lose rigging info... 

Even in Blender (which has pretty decent, yet not infallible, support for collada) there are random issues that spark up...

However, if you are using blender, of 2.5x or higher, I recommend converting the files to PSK and PSA, as blender has some packaged importers for those, and they seem to work well.


However, if you're concerned about the UV's going missing, open the DAE you just exported in Noesis and go to the data viewer and check the "UV View" option out. 

If the UV's are there, then it's either your modeling software not importing them properly, or you simply haven't reassigned the textures.

And yes, you will have to reassign textures manually for most models in nearly all programs... Max might sometimes manages to assign a few, but it's a crap-shoot, and you can't rely on it.
## Post #1150
- Username: ShinRa Inc
- Rank: n00b
- Number of posts: 10
- Joined date: Wed Aug 15, 2007 5:38 am
- Post datetime: 2012-08-29T14:55:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Demonsangel
>
> In what program are you importing the .dae?

Ultimately, I'm trying to import them into an OpenSim environment (offshoot of SecondLife).  I have Blender to work with the files, and a friend of mine did get the textures mapped to one of the smaller and simpler models with only one texture sheet;  I was hoping to find a way of getting Noesis to export with the mapping intact to avoid that step, since I don't really have any experience with Blender myself, and it would be rather time consuming for the number of models I'm interested in working with, especially the larger ones with 50+ textures.

> Reply from Satoh
>
> If you're using an Autodesk software to open the DAE models... you're better off using FBX... Autodesk has absolutely miserable support for DAE. It's supported... but the implementation is glitchy at best, entirely useless at worst.

Unfortunately, the ultimate destination for the files (the OpenSim) requires meshes in .dae format.
## Post #1151
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-08-29T16:47:47+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from ShinRa Inc
>
> Demonsangel wrote:In what program are you importing the .dae?


Ultimately, I'm trying to import them into an OpenSim environment (offshoot of SecondLife).  I have Blender to work with the files, and a friend of mine did get the textures mapped to one of the smaller and simpler models with only one texture sheet;  I was hoping to find a way of getting Noesis to export with the mapping intact to avoid that step, since I don't really have any experience with Blender myself, and it would be rather time consuming for the number of models I'm interested in working with, especially the larger ones with 50+ textures.
Satoh wrote:If you're using an Autodesk software to open the DAE models... you're better off using FBX... Autodesk has absolutely miserable support for DAE. It's supported... but the implementation is glitchy at best, entirely useless at worst.


Unfortunately, the ultimate destination for the files (the OpenSim) requires meshes in .dae format.

Do you mean mapped by having a model woth uv's or complete materials??
## Post #1152
- Username: ShinRa Inc
- Rank: n00b
- Number of posts: 10
- Joined date: Wed Aug 15, 2007 5:38 am
- Post datetime: 2012-08-29T17:28:59+00:00
- Post Title: Re: Señor Casaroja's Noesis

The friend of mine who got the texturing working said all she did in Blender was assign the texture, she didn't touch the UVs.  She didn't mention anything about materials.
## Post #1153
- Username: Vindis
- Rank: advanced
- Number of posts: 44
- Joined date: Sat Apr 09, 2011 4:31 am
- Post datetime: 2012-08-29T19:57:35+00:00
- Post Title: Re: Señor Casaroja's Noesis

I gave up...

Please somebody could elaborate in a nutshell how should i continue with my Noesis importer. 
I'll upload my script and two sample file that i use. Well, my skills are below beginner in python and in noesis aswell so i just used basic for loops and lists to store the data.

This was my guide [http://wiki.xentax.com/index.php/SWTOR: ... model_file](http://wiki.xentax.com/index.php/SWTOR:_.gr2_3D_model_file) thanks to SWTOR Fan.

As you can see it works, i get everything important (in a messy way). I looked over dozens of noesis script but it was just "what the heck, parse, self, omg"   

From the  "#the draw " section it's a complete mess. I have to give different materials to different face, but i cant even understand what numIdx stands for and how to get them. I know where are the face indices, but what should i do with vertexid1-2-3...

Sorry to bother you guys with this, but it takes me 100+ hours just to get here and i feel my head explode   

(i looked over and over the documentation but it don't help much)

ps: i'm not asking to write the code, just to point me in the right direction
[upload.zip](https://xentaxbackup.github.io/file/5718_upload.zip)
## Post #1154
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-08-29T23:14:23+00:00
- Post Title: Re: Señor Casaroja's Noesis

Well if it works what's there to elaborate lol

I define a single parser class for the format, because I just copy a template and fill in the blanks.
`self` is just python's (accepted) way of referencing instance methods.
`parse` is just a choice of method naming to make it clear what you're doing.

> numIdx

Number (of face) Index
The guide says numFaces = total number of faces (= faces indices) so I guess numIdx == numFace for you.
So you already have it.

> I know where are the face indices, but what should i do with vertexid1-2-3...

You just read it into your faceBuff and then commitTriangles.
## Post #1155
- Username: Satoh
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-08-30T07:05:21+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from finale00
>
> I have a question about loadTextureByHandler.

Does the texture plugin have to be written a specific way, or does it only need to add a texture object to the texList?

I'm using this plugin (don't remember where I got it, it was on these forums)

https://www.dropbox.com/sh/7stlpd4qvkq3 ... rVR_pvr.py

And although I can load up textures fine by clicking on the files, when I use the above method it doesn't seem to be able to load the texture.
I'm not sure where you got that script, because a PVR script is already in the current Noesis distribution, and it's identical to that, but has a different filename.

loadTextureByHandler should work for plugin and script based formats, and seems to be working that way for me. Can you show me your code?

> Reply from Satoh
>
> I've run into an issue with a BND archive from a PSP game
Lots of games use BND containers in seemingly slightly or very different formats. If you just want to get the GMO's then you might as well just use GitMO. It's on my personal web site. I would walk you through writing an archive script, but doing that much typing from the iPad is too terrible to endure. If you read the Duke3D GRP script carefully, it should tell you everything you need to know. Also, justChecking is set when Noesis just wants to validate the type, without performing any kind of extraction. It differs from how other data handlers have separate validation methods, and is inherited from legacy Noesis archive handling from years ago.

Regarding this other stuff with people not seeing textures after exporting to FBX/DAE/etc., it's likely a case of the texture output files not being on a path the importing app can find, or that app needs file extensions on texture names because it isn't smart enough to scan for its own supported image formats. In the latter case you'd have to append the appropriate extension (like .png or whatever the extension is for the texture format you used) to the texture names yourself. That is easy to do to COLLADA files in a text editor, or with FBX if you use the option to export the FBX in ASCII mode. (see the FBX section of the advanced options list from the export dialog) I think I even made a FBX-specific option to auto-append extension strings, but I can't recall for sure. As mentioned, I'm posting from an iPad and can't run Noesis to see right now.
## Post #1156
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-08-30T07:23:53+00:00
- Post Title: Re: Señor Casaroja's Noesis

The textures are stored in the same file as the model.

```
  offset, size, unk, unk = self.inFile.read('4L')
  self.inFile.seek(offset)
  texData = self.inFile.readBytes(size)
  texName = "texture[%d]" %i
  tex = rapi.loadTexByHandler(texData, ".pvr")
  if tex:
      tex.name = texName
      self.texList.append(tex)

```


I wrote the contents of texData out to verify that it's actually a pvr image, and when I loaded it using noesis it loaded fine.

However noesis is telling me "warning could not load external texture"
I did the same sort of thing for another game that stored textures inside the model file so it shouldn't be an issue that the texture is not an "external" file
## Post #1157
- Username: Vindis
- Rank: advanced
- Number of posts: 44
- Joined date: Sat Apr 09, 2011 4:31 am
- Post datetime: 2012-08-30T07:59:53+00:00
- Post Title: Re: Señor Casaroja's Noesis

Thank you for your feedback. Now one more thing   

If i have to assign different material to the same mesh what is the correct method? I mean the mesh let's say build from 12k vertice and the first 2000 face use texture1, the second 2000 faces use texture2. Do I have to assign two separate vertex buffer and face buffer, or is it have to be enough to use one vertbuff and separate face buffs for different materials.
I crash noesis every time when i try to assign different face than the total face count (i mean assing 2000 face tex1 2000face tex2 thats 4 multiple with 3 i get 12k but still crash). Bit confusing.

The header at 0x70 says number of vertices 3999 at 0x84 the face number 4083. Tex1 use 361 face, tex2 1000face, if I multiple it with 3 i get 4083, but then what is 3999. If i use 4083 for buffer crash again, if i use 3999 noesis can draw the mesh for me, but cant assign different face mats. Is it understandeable (hard to describe it)?  

faceBuff=bs.readBytes(xxx*2) <--- and what 2 stands for, why/when 2 or 3 or 4?
## Post #1158
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-08-30T10:12:32+00:00
- Post Title: Re: Señor Casaroja's Noesis

The faceBuff=bs.readBytes(xxx*2) is most likely because faces/triangles/whatever name they use are usually stored in unsigned shorts ( = 2 bytes) therefore you read double the amount of bytes read to get your buffer

The reason you crash is because you're telling noesis to read the wrong amount of bytes in your rpgCommitTriangles
You have to tell it to parse the amount of indices and not the amount of faces. Most formats I've seen use triangles (3 indices for a face), I'm guessing it's because you're using noesis.RPGEO_TRIANGLE but the number you give isn't dividable by 3.

For the textures, I can't say because I don't know how your facebuffers are built.
Are they stored as 1 large buffer or are they seperate buffers where the numbers start allover again

Meshes with the same material might get merged into 1 mesh, I haven't really looked into Noesis' behavior for that, but you basically need to redefine

```
rapi.rpgBindPositionBufferOfs   () //You can keep using the large vertexbuffer or you can cut it up in pieces, it doesn't really matter just make sure the numbers match
rapi.rpgBindUV1BufferOfs        () 
rapi.rpgCommitTriangles         () //everything must be put before this


```

for each mesh
There are a bunch of formats you can use with the rpgCommitTriangles:

```
	PYNOECONSTN(RPGEO_POINTS),
	PYNOECONSTN(RPGEO_TRIANGLE),
	PYNOECONSTN(RPGEO_TRIANGLE_STRIP),
	PYNOECONSTN(RPGEO_QUAD), //ABC_DCB
	PYNOECONSTN(RPGEO_POLYGON),
	PYNOECONSTN(RPGEO_TRIANGLE_FAN),
	PYNOECONSTN(RPGEO_QUAD_STRIP),
	PYNOECONSTN(RPGEO_TRIANGLE_STRIP_FLIPPED),
	PYNOECONSTN(NUM_RPGEO_TYPES),
	PYNOECONSTN(RPGEO_QUAD_ABC_BCD),
	PYNOECONSTN(RPGEO_QUAD_ABC_ACD),
	PYNOECONSTN(RPGEO_QUAD_ABC_DCA),

```


if you just want to do a quick test
try this
rapi.rpgCommitTriangles(None, noesis.RPGEODATA_USHORT, numVertices, noesis.RPGEO_POINTS,1) to only have points instead of faces that way you can see if your vertexbuffer is set up correctly without having to feed facedata.

As for the "self" I'm not sure how to explain you can look at it like a custom-made container/dictionary/wrapper (i'm not sure what to use here) for which you can create functions, they belong to classes

The NoeBitStream is a class, which has serveral variables and functions. 
You usually do bitstream = NoeBitStream(data)
the 'internal' noesis python scripts take the "data" and begin performing functions on it and putting it in containers/variables
for instance bitstream.data now holds all the bytes.

When defining the class you can define functions for it

for example the readByte would sort of look like this:

```

```

It can then access the data variable ( which would be the bitstream.data) as self.data inside the class itself.

[url]http://cpython_sandbox.readthedocs.org/en/latest/tutorial/classes.html[/url]
## Post #1159
- Username: ShinRa Inc
- Rank: n00b
- Number of posts: 10
- Joined date: Wed Aug 15, 2007 5:38 am
- Post datetime: 2012-08-30T16:13:08+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> finale00 wrote:Regarding this other stuff with people not seeing textures after exporting to FBX/DAE/etc., it's likely a case of the texture output files not being on a path the importing app can find, or that app needs file extensions on texture names because it isn't smart enough to scan for its own supported image formats. In the latter case you'd have to append the appropriate extension (like .png or whatever the extension is for the texture format you used) to the texture names yourself. That is easy to do to COLLADA files in a text editor, or with FBX if you use the option to export the FBX in ASCII mode. (see the FBX section of the advanced options list from the export dialog) I think I even made a FBX-specific option to auto-append extension strings, but I can't recall for sure. As mentioned, I'm posting from an iPad and can't run Noesis to see right now.

Checking the exported .daes in a text editor shows this;

```
      <init_from>../../../noesisv252/ffccdif_3</init_from>
    </image>

```


Now, I'm not exporting my files to a noesisv252 folder.  Might that have something to do with it?

I'll also reiterate, the end result needs to be a .dae file, since that's the only format the destination program will accept.  If needed, I can convert things around with Blender (or other option), but that's the format the end result needs to be in.
## Post #1160
- Username: Vindis
- Rank: advanced
- Number of posts: 44
- Joined date: Sat Apr 09, 2011 4:31 am
- Post datetime: 2012-08-30T17:38:03+00:00
- Post Title: Re: Señor Casaroja's Noesis

Thanks Demonsangel your input was really helpful.
This is the draw part, dunno if it'll be any help, but... I always get correct point cloud in viewport and correct uv with it.

```
		bs.seek(meshHeader[i][5],NOESEEK_ABS) #set pointer to vertex offset
		if (meshHeader[i][2])==12: #vertexbyte check
			VertBuff = bs.readBytes(meshHeader[i][3] * 0xC)
			rapi.rpgBindPositionBufferOfs(VertBuff, noesis.RPGEODATA_FLOAT, 12, 0)
		elif (meshHeader[i][2])==24:
			VertBuff = bs.readBytes(meshHeader[i][3] * 0x18)
			rapi.rpgBindPositionBufferOfs(VertBuff, noesis.RPGEODATA_FLOAT, 24, 0)
			rapi.rpgBindUV1BufferOfs(VertBuff,noesis.RPGEODATA_HALFFLOAT,24,20)
		elif (meshHeader[i][2])==32:
			VertBuff = bs.readBytes(meshHeader[i][3] * 0x20)
			rapi.rpgBindPositionBufferOfs(VertBuff, noesis.RPGEODATA_FLOAT, 32, 0)
			rapi.rpgBindUV1BufferOfs(VertBuff,noesis.RPGEODATA_HALFFLOAT,32,28)
		
		for j in range(0,meshHeader[0][1]): #loop for each texture used by meshX
			bs.seek(meshHeader[i][7],NOESEEK_ABS)
			FaceBuff=bs.readBytes(meshHeader[i][4]*2)
			rapi.rpgSetMaterial(matName[0])
			rapi.rpgCommitTriangles(FaceBuff, noesis.RPGEODATA_USHORT, meshHeader[i][4],noesis.RPGEO_TRIANGLE, 1)
```


I have one big vertex buffer that's in the "for i" loop, and if it's possible i would like to separate the mesh in the "for j" loop. the for j loop now is just a mess, that i'm messing around with, to figure out how to slice. But as i said Noesis always crash.
(this shitty file format is tricky. lot of file made up from X number of faces and x/2 of them use material1, but no info about the other x/2   )
Maybe i need another loop to read the mesh1-->mat1,mat2-->indice1,indice2 group...

Is it possible to comit face triangles and then add different materials to different face "range",some dedicated "slice" method or should I/we have to code it?

Senor Casaroja do you have any input for me about this?  

Edit: Okay, it seems i successfully figured out the reading method. I assigned the correct material to the first group of face, but no matter where i put construct, it only builds the first one. The second,third, fourth always left out.
## Post #1161
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-08-30T18:22:30+00:00
- Post Title: Re: Señor Casaroja's Noesis

You need to put a rapi.rpgBindPositionBuffersOfs() for each rapi.rpgCommitTriangles(), also what's in matName? You seem to keep setting it to the same material, could you also show me the code that declares matName.

I'm assuming meshHeader[4] holds the number of indices and not the triangles?
## Post #1162
- Username: ShinRa Inc
- Rank: n00b
- Number of posts: 10
- Joined date: Wed Aug 15, 2007 5:38 am
- Post datetime: 2012-08-30T19:51:27+00:00
- Post Title: Re: Señor Casaroja's Noesis

Checking another export with the newer version of Noesis  (Appearently the other file i looked at in the previous post is from an old export, from and older version;

```
    <effect id="Effect" name="C__Documents_and_Settings_HP_Administrator_My_Documents_Installers__PSP_Final_Fantasy_VII_Crisis_Core__USA__FULL__FF7CC_File_Viewer_0_25_CCDATA_ffccdif_0">
```


```
 <user_properties>C:%5CDocuments and Settings%5CHP_Administrator%5CMy Documents%5CInstallers%5C[PSP]Final Fantasy VII Crisis Core [USA][FULL]%5CFF7CC_File_Viewer_0.25%5CCCDATA%5Cffccdif_0</user_properties>
```


Could these two lines be throwing things off, especially in the end case where I'm uploading everything into a server that presumably is storing things it's own way?  Both because the file locations are different, and the format for the file paths are wonky?
## Post #1163
- Username: Vindis
- Rank: advanced
- Number of posts: 44
- Joined date: Sat Apr 09, 2011 4:31 am
- Post datetime: 2012-08-30T21:11:47+00:00
- Post Title: Re: Señor Casaroja's Noesis

Sorry no spoiler, so i have to paste it...

```

#bs.seek(0xEC,NOESEEK_REL) #seek to header info
#red=bs.read("hh")
#testU=noesis.getFloat16(red[0])
#testV=noesis.getFloat16(red[1])
#print(testU,testV)
from inc_noesis import *

import noesis

#rapi methods should only be used during handler callbacks
import rapi

#registerNoesisTypes is called by Noesis to allow the script to register formats.
#Do not implement this function in script files unless you want them to be dedicated format modules!
def registerNoesisTypes():
   handle = noesis.register("!Star Wars: The Old Republic", ".gr2")
   noesis.setHandlerTypeCheck(handle, noepyCheckType)
   noesis.setHandlerLoadModel(handle, noepyLoadModel) #see also noepyLoadModelRPG
       #noesis.setHandlerWriteModel(handle, noepyWriteModel)
       #noesis.setHandlerWriteAnim(handle, noepyWriteAnim)
   noesis.logPopup()
       #print("The log can be useful for catching debug prints from preview loads.\nBut don't leave it on when you release your script, or it will probably annoy people.")
   return 1

NOEPY_HEADER = "GAWB"

#check if it's this type based on the data
def noepyCheckType(data):
   bs = NoeBitStream(data)
   if len(data) < 4:
      return 0
   if bs.readBytes(4).decode("ASCII").rstrip("\0") != NOEPY_HEADER:
      return 0
   return 1       


#load the model
def noepyLoadModel(data, mdlList):
	ctx = rapi.rpgCreateContext()
	bs = NoeBitStream(data)
	bs.seek(0x18,NOESEEK_ABS) #seek 0x18h/24
	numMeshes=bs.read("h") #number of meshes
	numTextures=bs.read("h") #number of textures
	bs.seek(0x50,NOESEEK_ABS) #seek 0x50h/80
	offset50offset=bs.read("i")
	offsetMeshHeader=bs.read("i")
	offsetMaterialNameOffsets=bs.read("i")
	bs.seek(0x70,NOESEEK_ABS) #seek to Mesh Header
	
	meshHeader=[] #mesh header data
	meshName=[] #mesh names
	matName=[] #materialname used by meshes
	texName=[] #texture names will be used
	matList=[] #Noesis built-in must have material list
	texList=[] #Noesis built-in must have texture list
	offsetMaterialUsageMesh=[]
	offsetMaterialUsageTexture=[]
	
	#for loop to get meshHeader data
	for i in range(0,numMeshes[0]): 
		offsetMeshName=bs.read("if") #unkFloat=bs.read("f") nem kell offsetMeshName olvassa
		numUsedTextures=bs.read("h")
		numBones=bs.read("hh") #unKnown=bs.read("h") nem kell numBones olvassa
		numVertexBytes=bs.read("h")
		numVertices=bs.read("i")
		numFaces=bs.read("i")
		offsetVertices=bs.read("i")
		offsetMaterialUsage=bs.read("i")
		offsetFace=bs.read("ii") #unkOffset=bs.read("i") nem kell offsetFace olvassa
		meshHeader.append([offsetMeshName[0],numUsedTextures[0],numVertexBytes[0],numVertices[0],numFaces[0],offsetVertices[0],offsetMaterialUsage[0],offsetFace[0]])
	#-------------------------------------------------------------
	
	#for loop to get meshName data
	for i in range(0,numMeshes[0]):
		bs.seek((meshHeader[i][0]),NOESEEK_ABS)
		nameLength=0
		boolP=True
		while (boolP==True):
			wak=bs.read("b")
			if (wak[0]!=0):
				nameLength=nameLength+1
			else:
				boolP=False
		bs.seek((meshHeader[i][0]),NOESEEK_ABS)
		meshName.append(bs.readBytes(nameLength).decode("ASCII").rstrip("\0"))
	#-------------------------------------------------------------
	
	#for loop to get matName data
	matNameOffsetList=[]
	bs.seek(offsetMaterialNameOffsets[0],NOESEEK_ABS) #seek to 0x50 offsetMaterialNameOffset
	for i in range(0,numTextures[0]): #fill matNameOffsetList
		matNameOffsetList.append(bs.read("i"))
	
	for i in range(0,numTextures[0]):
		bs.seek((matNameOffsetList[i][0]),NOESEEK_ABS)
		nameLength=0
		boolP=True
		while (boolP==True):
			wak=bs.read("b")
			if (wak[0]!=0):
				nameLength=nameLength+1
			else:
				boolP=False
		bs.seek(matNameOffsetList[i][0],NOESEEK_ABS)
		matName.append(bs.readBytes(nameLength).decode("ASCII").rstrip("\0"))
		texName=[s + "_d" for s in matName]
	#-------------------------------------------------------------
	
	#for loop to get materialUsage data
	for i in range(0,numMeshes[0]): # meshszamszor vegrehajt pl 3 mesh
		bs.seek((meshHeader[i][6]),NOESEEK_ABS)
		for j in range(0,(meshHeader[i][1])): #hasznalt textura szamszor vegrehajt pl 4 texture
			materialFacesIndex=bs.read("i")
			materialNumFaces=bs.read("i") #szorozni harommal a vertex szamhoz
			textureID=bs.read("i")
			bs.seek(0x24,NOESEEK_REL)
			offsetMaterialUsageMesh.append([materialFacesIndex[0],materialNumFaces[0],textureID[0]])
		offsetMaterialUsageTexture.append(offsetMaterialUsageMesh)
		offsetMaterialUsageMesh=[]
	#-------------------------------------------------------------
	
	#test to display materialUsage
	#for i in range(0,numMeshes[0]):
	#	for j in range(0,meshHeader[i][1]):
	#		print("Face number for mesh",i," texture",i,offsetMaterialUsageTexture[i][j][1])
	#-------------------------------------------------------------
	
	#material naming
	for i in range(0,numTextures[0]):
		material=NoeMaterial(matName[i],"")
		material.setTexture(texName[i]+".dds")
		matList.append(material)
		#print(matName)
	#-------------------------------------------------------------
	
	#the draw

```


This is the code yet. I deleted the draw section, because i have to rewrite the whole part. First I thought it's working, but tried with several mesh, and it wasn't perfect every time.
The material assign that you mentioned was just a dummy, for testing purposes. I work on one thing at a time. The material assignment system is the last on my list.
This was the part that i deleted

```
		bs.seek(meshHeader[i][5],NOESEEK_ABS) #set pointer to vertex offset
		for j in range(0,meshHeader[i][1]):
			#bs.seek(meshHeader[i][5],NOESEEK_ABS) #set pointer to vertex offset
			if (meshHeader[i][2])==12:
				VertBuff = bs.readBytes(meshHeader[i][3] * 0xC)
				rapi.rpgBindPositionBufferOfs(VertBuff, noesis.RPGEODATA_FLOAT, 12, 0)
			elif (meshHeader[i][2])==24:
				VertBuff = bs.readBytes(meshHeader[i][3] * 0x18)
				rapi.rpgBindPositionBufferOfs(VertBuff, noesis.RPGEODATA_FLOAT, 24, 0)
				rapi.rpgBindUV1BufferOfs(VertBuff,noesis.RPGEODATA_HALFFLOAT,24,20)
			elif (meshHeader[i][2])==32:
				VertBuff = bs.readBytes(meshHeader[i][3] * 0x20)
				rapi.rpgBindPositionBufferOfs(VertBuff, noesis.RPGEODATA_FLOAT, 32, 0)
				rapi.rpgBindUV1BufferOfs(VertBuff,noesis.RPGEODATA_HALFFLOAT,32,28)
			rapi.rpgCommitTriangles(None, noesis.RPGEODATA_USHORT, meshHeader[i][3], noesis.RPGEO_POINTS, 1)
			#bs.seek(meshHeader[i][7],NOESEEK_ABS)
			#bs.seek(offsetMaterialUsageTexture[i][j][0],NOESEEK_REL)
			#FaceBuff=bs.readBytes((offsetMaterialUsageTexture[i][j][1]*3)*2)
			#rapi.rpgSetMaterial(matName[offsetMaterialUsageTexture[i][j][2]])
			#rapi.rpgCommitTriangles(FaceBuff, noesis.RPGEODATA_USHORT, (offsetMaterialUsageTexture[i][j][1]*3), noesis.RPGEO_TRIANGLE, 1)
			#print(offsetMaterialUsageTexture[i][j][1])
			#print(meshHeader[i][1])
	mdl=rapi.rpgConstructModel()
	mdl.setModelMaterials(NoeModelMaterials(texList, matList))
	mdlList.append(mdl)
	rapi.rpgClearBufferBinds()
	return 1
```


morning update: i'd rewritten the code. i get correct UV layouts and faces for each texture. It seems that i forgot to multiple the indice offset with 3, and that's why i didn't get correct start position. Now just have to change paste it into a loop. 

update2: i use rapi.rpgClearBufferBinds(), but the second UV set still display UV1 underneath
## Post #1164
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2012-08-30T22:33:51+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> 
Satoh wrote:I've run into an issue with a BND archive from a PSP game
Lots of games use BND containers in seemingly slightly or very different formats. If you just want to get the GMO's then you might as well just use GitMO. It's on my personal web site. I would walk you through writing an archive script, but doing that much typing from the iPad is too terrible to endure. If you read the Duke3D GRP script carefully, it should tell you everything you need to know. Also, justChecking is set when Noesis just wants to validate the type, without performing any kind of extraction. It differs from how other data handlers have separate validation methods, and is inherited from legacy Noesis archive handling from years ago.

I see, thank you. I did manage to write a script that dumps the BND archive, and though it took a while to figure out what parts were actually relevant to the archive. With all the secondary ART file stuff, it took a while to realize only one of the functions had anything to do with the archive. After that it didn't take long at all to gather what it was doing.

And also, no problem on the iPad typing thing. I can only imagine the torture of writing a script on one. In any case, I managed to get it done, and am quite satisfied with the results.
## Post #1165
- Username: Vindis
- Rank: advanced
- Number of posts: 44
- Joined date: Sat Apr 09, 2011 4:31 am
- Post datetime: 2012-09-01T19:50:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

Thanks for All of You guys! For your help, for your patience.   
The main part is ready, now i just have to tidy up, and optimize a bit
## Post #1166
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-09-01T23:45:36+00:00
- Post Title: Re: Señor Casaroja's Noesis

It's nice to come back after a few days and see so many of the things I would have had to address myself have already been addressed. Thanks for helping, Demonsangel. Very much appreciated.

> Reply from finale00
>
> I wrote the contents of texData out to verify that it's actually a pvr image, and when I loaded it using noesis it loaded fine.

However noesis is telling me "warning could not load external texture"
I did the same sort of thing for another game that stored textures inside the model file so it shouldn't be an issue that the texture is not an "external" file
That looks like it should work. And loadTexByHandler asks each handler if the data is valid for that format, so multiple .pvr handlers should not be an issue. Can you send me the full script and one of the files in question? I'll debug it engine-side and see what's happening.

Satoh: Glad you got it working.

ShinRa Inc: FCollada does weird shit sometimes as well with automatically shoving the current working directory into texture paths. I don't know why. You should really be going to FBX instead. You may also need to use -fbxtexext .png (or whatever format your textures are output to) if you want to append that in the FBX scene file to all the texture names, as I referenced in an earlier post. Then you can export from there to whatever form of COLLADA you're trying to end up in using whichever COLLADA exporter is recommended for whatever you're trying to get the model into. Standards between COLLADA implementations are always a mess.
## Post #1167
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-09-02T04:21:47+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> It's nice to come back after a few days and see so many of the things I would have had to address myself have already been addressed. Thanks for helping, Demonsangel. Very much appreciated.
finale00 wrote:I wrote the contents of texData out to verify that it's actually a pvr image, and when I loaded it using noesis it loaded fine.

However noesis is telling me "warning could not load external texture"
I did the same sort of thing for another game that stored textures inside the model file so it shouldn't be an issue that the texture is not an "external" file
That looks like it should work. And loadTexByHandler asks each handler if the data is valid for that format, so multiple .pvr handlers should not be an issue. Can you send me the full script and one of the files in question? I'll debug it engine-side and see what's happening.

Satoh: Glad you got it working.

ShinRa Inc: FCollada does weird shit sometimes as well with automatically shoving the current working directory into texture paths. I don't know why. You should really be going to FBX instead. You may also need to use -fbxtexext .png (or whatever format your textures are output to) if you want to append that in the FBX scene file to all the texture names, as I referenced in an earlier post. Then you can export from there to whatever form of COLLADA you're trying to end up in using whichever COLLADA exporter is recommended for whatever you're trying to get the model into. Standards between COLLADA implementations are always a mess.

Any news regarding noesis or you're still busy Mr. Adults??

See ya.
## Post #1168
- Username: ShinRa Inc
- Rank: n00b
- Number of posts: 10
- Joined date: Wed Aug 15, 2007 5:38 am
- Post datetime: 2012-09-02T05:03:12+00:00
- Post Title: Re: Señor Casaroja's Noesis

Ultimately, I'm trying to upload the models into an offshoot of SecondLife, known as Aurora;  The only format it will accept is Collada .dae.  The only other program I have at the moment is Blender, which doesn't seem to work with autodesk that I can tell.  Any attempt I've made to import anything from Noesis into blender has lost the texturing assignments (I've tried .dae and .obj).  The mapping seems intact;  if I assign the textures manually in blender, they go in the right places.  Even these are having some display problems in the final destination, however;


Again, apologies in advance if I'm missing anything 'simple', or mixing up any terminology, I'm very new to all this.
## Post #1169
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-09-02T10:43:41+00:00
- Post Title: Re: Señor Casaroja's Noesis

[http://usa.autodesk.com/adsk/servlet/pc ... d=10775855](http://usa.autodesk.com/adsk/servlet/pc/item?siteID=123112&id=10775855)
[FBX 2013.2 Converter for Windows (exe - 26327Kb)](http://images.autodesk.com/adsk/files/fbx20132_converter_win.exe)

Utility that converts between different versions of fbx and dae iirc. See if the -fbxtexext works for you and then just convert everything with the tool to dae.

If it still doesn't work at all, pm me the script( if it isn't builtin), one of the models and it's textures.
## Post #1170
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-09-02T17:07:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Darko
>
> Any news regarding noesis or you're still busy Mr. Adults??

See ya.
I'm still working on the next release, it's just taking a while, since I don't tend to get an average of an hour or so of work done on it every couple days. Maybe sometime in the next few days. I have a lot of features/fixes/additions being worked on concurrently.
## Post #1171
- Username: ShinRa Inc
- Rank: n00b
- Number of posts: 10
- Joined date: Wed Aug 15, 2007 5:38 am
- Post datetime: 2012-09-02T17:45:38+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Demonsangel
>
> http://usa.autodesk.com/adsk/servlet/pc ... d=10775855
FBX 2013.2 Converter for Windows (exe - 26327Kb)

Utility that converts between different versions of fbx and dae iirc. See if the -fbxtexext works for you and then just convert everything with the tool to dae.

If it still doesn't work at all, pm me the script( if it isn't builtin), one of the models and it's textures.

The FBX converter is displaying the Noesis exports correctly, but Blender is refusing to read any product from the FBX converter.  And the .daes from FBX aren't working in Aurora, either.

There's no script to send, I've been using the manual menu commands.  The .ff7ccmodel files contain the model and textures, I'll see about finding a place to upload one for you.
## Post #1172
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2012-09-02T18:33:38+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from ShinRa Inc
>
> Demonsangel wrote:http://usa.autodesk.com/adsk/servlet/pc ... d=10775855
FBX 2013.2 Converter for Windows (exe - 26327Kb)

Utility that converts between different versions of fbx and dae iirc. See if the -fbxtexext works for you and then just convert everything with the tool to dae.

If it still doesn't work at all, pm me the script( if it isn't builtin), one of the models and it's textures.

The FBX converter is displaying the Noesis exports correctly, but Blender is refusing to read any product from the FBX converter.  And the .daes from FBX aren't working in Aurora, either.

There's no script to send, I've been using the manual menu commands.  The .ff7ccmodel files contain the model and textures, I'll see about finding a place to upload one for you.

This is the failure of collada as a format... the 1.4.0 and 1.4.1 versions of teh formats aren't totally compatible with eachother and so many importers fail on one version or another...
and if you find a 1.3 version collada model... you are very very out of luck.

Blender not importing certain DAE's is one of the main reason I don't trust collada in general.
"Progress" can be a bitch.

Do let us know if you find any sort of reliable way to fix your DAE's.
## Post #1173
- Username: ShinRa Inc
- Rank: n00b
- Number of posts: 10
- Joined date: Wed Aug 15, 2007 5:38 am
- Post datetime: 2012-09-02T18:44:29+00:00
- Post Title: Re: Señor Casaroja's Noesis

I'm at a loss for anything else to try, to be honest.  The collada format isn't my choice or preference, it's just what I'm forced into trying to get to work, since that's the only format that'll import.
## Post #1174
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-09-02T19:38:56+00:00
- Post Title: Re: Señor Casaroja's Noesis

for me in the .dae noesis writes:

```
    <image id="Image">
      <init_from>../../noesis/ffccdif_0</init_from>
    </image>
  </library_images>
```

because it only has a name for the textures

the only thing I can advise is to manually change ll textures to

```
    <image id="Image">
      <init_from>c:/<your path>/ffccdif_0.png</init_from>
    </image>
  </library_images>
```
## Post #1175
- Username: ShinRa Inc
- Rank: n00b
- Number of posts: 10
- Joined date: Wed Aug 15, 2007 5:38 am
- Post datetime: 2012-09-02T20:37:24+00:00
- Post Title: Re: Señor Casaroja's Noesis

Unfortunately, that doesn't seem to be accomplishing anything in the long run.  Still importing into Blender and Aurora untextured.
## Post #1176
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-09-03T00:51:32+00:00
- Post Title: Re: Señor Casaroja's Noesis

3.89 is up.

> -3.89 - Added a generic input prompt method, noesis.userPrompt.
>
>  -3.89 - Added a new method for scripts to regiser tools, noesis.registerTool. New tools will be listed under the Noesis "Tools" menu once they're registered.
>
>  -3.89 - Added anaglyphic stereoscopic rendering, which can be enabled through the data viewer. (Persistent settings->View->Anaglyph 3D) Anaglyphic rendering obeys all of the same stereo settings as quadbuffered stereo rendering. (quadbuffering is only functional, to my knowledge, on nVidia Quadro cards)
>
>  -3.89 - Fixed matrix translation being uninitialized memory when converting a quaternion to a 4x3 matrix in Python.
>
>  -3.89 - User preference version value has been changed, so your preferences will be reset when you run this version.
>
>  -3.89 - Other assorted fixes and additions that I've lost track of.
Here's an example script showing how to register a tool and how to use noesis.userPrompt. You can save it as tool_test.py in your python folder to test it.

```
import os

def registerNoesisTypes():
	handle = noesis.registerTool("&Test tool script", testToolMethod)
	return 1

def testValidateInput(inVal):
	if os.path.isdir(inVal) is not True:
		return "'" + inVal + "' is not a valid directory path!"
	return None

def testToolMethod(toolIndex):
	r = noesis.userPrompt(noesis.NOEUSERVAL_FOLDERPATH, "Open Folder", "Go find a folder.", "", testValidateInput)
	if r is None:
		return 0
	noesis.messagePrompt("Selected '" + r + "'")
	return 0

```


Currently, your tool can only access the noesis module, not the rapi module. I plan to allow querying the active loaded preview model and hooking into the rapi interface for the active preview at some point in the future, which will expand what you can do with tools scripts. For now, it's mostly useful for writing simple one-off tasks that you find useful during your Noesis usage. I'm going to write a binary find in files tool script next time I get a chance, because I can't find a nice tool to do that already.

Also, noesis.userPrompt has a number of native possible query types:

```
	NOEUSERVAL_FLOAT,
	NOEUSERVAL_INT,
	NOEUSERVAL_BOOL,
	NOEUSERVAL_FILEPATH,
	NOEUSERVAL_FOLDERPATH,
```

Your validation method will receive the inVal parameter in the appropriate native Python type, so you could do something like this too:

```

def registerNoesisTypes():
	handle = noesis.registerTool("&Test tool script", testToolMethod)
	return 1

def testValidateInput(inVal):
	if inVal is not True:
		return "Screw you, buddy, donkeys are always awesome."
	return None

def testToolMethod(toolIndex):
	r = noesis.userPrompt(noesis.NOEUSERVAL_BOOL, "Question", "Are donkeys totally awesome in all circumstances?", "Yes", testValidateInput)
	if r is None:
		return 0
	noesis.messagePrompt("That's right, donkeys are awesome.")
	return 0

```

(for the bool type, "yes" or "true" are true, anything else is false)
## Post #1177
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-09-03T03:31:33+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Darko wrote:Any news regarding noesis or you're still busy Mr. Adults??

See ya.
I'm still working on the next release, it's just taking a while, since I don't tend to get an average of an hour or so of work done on it every couple days. Maybe sometime in the next few days. I have a lot of features/fixes/additions being worked on concurrently.

Lol thanks for the answer, I really thought you were not going to answer, very kind of your part and yep, added new noesis to my collection .

See ya
## Post #1178
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-09-03T05:04:46+00:00
- Post Title: Re: Señor Casaroja's Noesis

Is it possible to write a tool that allows users to add more models to the current view without clearing out whatever has been loaded?

So one use might be

1: Open model
2: Add another model
3: Add another model...
...
## Post #1179
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2012-09-03T08:49:15+00:00
- Post Title: Re: Señor Casaroja's Noesis

> binary find-in-files tool

BINARY FIND IN FILES. This will be a godsend. 
also if I'm understanding this 'tools' functionality, I should finally be able to write a mesh tester that allows me to attempt loading things from an arbitrary offset user input I assume?

Then again I can't recall if I require rapi for that... in any case, when it's fully functional, this tools module, I should think it will allow me to not have to rewrite my script every time I want to test a theory... which will be very nice... 

On the subject of loading multiple models... it would be useful for viewing models in games which assemble characters and objects from separate parts... but I also wouldn't consider it a top priority... for me anyway.

In any case, this sounds like a promising update.

EDIT: Ah, I'm curious... can separate scripts see each other in noesis?
For example if I have a txbLoadRGBA in a script, can I call that function from a different script? 

I suppose a corollary of that is, can a tool call a format script function?
## Post #1180
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-09-03T09:50:29+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from ShinRa Inc
>
> Unfortunately, that doesn't seem to be accomplishing anything in the long run.  Still importing into Blender and Aurora untextured.

That's blender's import script's fault, nothing we can do here.
It loads up in 3ds max textured, but in 3ds max you have to flip the uv.

> EDIT: Ah, I'm curious... can separate scripts see each other in noesis?
>
> For example if I have a txbLoadRGBA in a script, can I call that function from a different script?

It depends, is it just a function you defined in the script or is a function registered into noesis itself.
For the first you just imagine your script is called Testscript witha  function dothis

```

or

from Testscript import *
or
from Testscript import dothis
or
import Testscript as TS
```


Then you can call the function:

```

or for the second one

dothis()
or
dothis()
or TS.dothis()
```

etc...
if it is registered in Noesis:

```
texture = rapi.loadTexByHandler(file,'.extension') # the extension would be .png/.dds/ or whatever you have to use
```


or you could try to just link to the texture like you would for normal pngs etc, it might work.
## Post #1181
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-09-03T18:20:59+00:00
- Post Title: Re: Señor Casaroja's Noesis

lol I can't figure out how to xor data on the spot

```
for i in range(200):
   data[i] ^= 0xFF

```


```

```


It is already pretty slow in python, considering that I'm going to XOR several MB of data, but I don't want to create another byte array just to store the new bytes.
## Post #1182
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2012-09-03T18:54:07+00:00
- Post Title: Re: Señor Casaroja's Noesis

```
def mghmLoadModel(data, mdlList):
	ctx = rapi.rpgCreateContext()
	bs = NoeBitStream(data)
	idMagic = bs.readInt()
	if idMagic == 0x70637277:
		bs.seek(0x10, NOESEEK_ABS)
		xorData = []
		for a in range(0, len(data) // 4 - 4):
			xor = bs.readUInt() ^ 0x28129044
			xorData.append(xor)
		xorBuffer = struct.pack('I'*len(xorData), *xorData)
		bs = NoeBitStream(xorBuffer)
		idMagic = bs.readInt()
	version = bs.readInt()
```
## Post #1183
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-09-03T19:32:17+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from finale00
>
> Is it possible to write a tool that allows users to add more models to the current view without clearing out whatever has been loaded?

So one use might be

1: Open model
2: Add another model
3: Add another model...
...
Yeah, chrrox already requested that a little while ago. I didn't have time to get it into 3.89, but it's done for the next build now. I'll probably push a build out with that functionality whenever I'm next back at my house again.
## Post #1184
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-09-03T23:40:27+00:00
- Post Title: Re: Señor Casaroja's Noesis

3.9:

> -3.9 - Added "mergeTo" and "mergeBones" options for .noesis scene files, which allow models (and their skeletons/animations/materials) to be merged into a single model.
>
>  -3.9 - Exposed new noesis.getScenesPath method.
>
>  -3.9 - Exposed new noesis.openFile method.
I've written a script to automatically merge all model files of a given type in a folder, by generating a .noesis scene file for them and auto-loading it. It's attached to this post.

chrrox/finale00: In that script, there's a line that says "MERGE_BONES = False". You can set it to True in order to collapse skeletons while merging based on bone names. That magical girl whatsit game that you're both working on should have it set to True to get the desired results.

Here's also a .noesis file that correctly combines one of the body models with the head using the new merging functionality:

```
version 1
physicslib		""
defaultAxis		"0"

object
{
	name		"node0"
	model		"c001.mdl"
	offset		"(0 0 0)"
	rotate		"(0 0 0)"
}
object
{
	name		"node1"
	mergeTo		"node0"
	mergeBones	"1"
	model		"h001.mdl"
	offset		"(0 0 0)"
	rotate		"(0 0 0)"
}

```
## Post #1185
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-09-03T23:41:58+00:00
- Post Title: Re: Señor Casaroja's Noesis

Forgot to attach the script. Here it is.
[tool_modelmerge.zip](https://xentaxbackup.github.io/file/5756_tool_modelmerge.zip)
## Post #1186
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-09-04T00:18:05+00:00
- Post Title: Re: Señor Casaroja's Noesis

line 21

```

```


Should it be 'w'? As it creates a new merger file each time.
Then again, if it was 'a', then there isn't really a feasible way to clear it out without manually deleting it I guess.

But people probably don't mind deleting it everytime they need a new one.
## Post #1187
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-09-04T02:38:17+00:00
- Post Title: Re: Señor Casaroja's Noesis

Yeah, the desired behavior is to create a new file each time, since the script is writing out a whole .noesis scene file for each merge set. You can adjust the script to do whatever you want though, including read out of a mesh index file or whatever else.

Also, I just made it so mergeBones 2 can be used to re-apply relative transforms after collapsing the skeletons together (3.91 is up with that behavior), that fixes the messed up head orientations in the models you and chrrox have sent me. Here's an updated .noesis sample.

```
version 1
physicslib		""
defaultAxis		"0"

object
{
	name		"node0"
	model		"c001.mdl"
	offset		"(0 0 0)"
	rotate		"(0 0 0)"
}
object
{
	name		"node1"
	mergeTo		"node0"
	mergeBones	"2"
	model		"h001.mdl"
	offset		"(0 0 0)"
	rotate		"(0 0 0)"
}
```


I've also attached an updated merger script which changes the MERGE_BONES behavior to reflect the new functionality.
[tool_modelmerge.zip](https://xentaxbackup.github.io/file/5757_tool_modelmerge.zip)
## Post #1188
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-09-04T18:34:27+00:00
- Post Title: Re: Señor Casaroja's Noesis

This is a wet dream come true.
## Post #1189
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-09-04T18:48:07+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Yeah, the desired behavior is to create a new file each time, since the script is writing out a whole .noesis scene file for each merge set. You can adjust the script to do whatever you want though, including read out of a mesh index file or whatever else.

Also, I just made it so mergeBones 2 can be used to re-apply relative transforms after collapsing the skeletons together (3.91 is up with that behavior), that fixes the messed up head orientations in the models you and chrrox have sent me. Here's an updated .noesis sample.
Code: Select allNOESIS_SCENE_FILE
version 1
physicslib		""
defaultAxis		"0"

object
{
	name		"node0"
	model		"c001.mdl"
	offset		"(0 0 0)"
	rotate		"(0 0 0)"
}
object
{
	name		"node1"
	mergeTo		"node0"
	mergeBones	"2"
	model		"h001.mdl"
	offset		"(0 0 0)"
	rotate		"(0 0 0)"
}

I've also attached an updated merger script which changes the MERGE_BONES behavior to reflect the new functionality.

What I understand about this tool is that you have to have the models you need inside of hte folder, but only those models you want merged, if not, all the models you have inside of your game folder will be shown together.

See ya.
## Post #1190
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-09-05T01:34:56+00:00
- Post Title: Re: Señor Casaroja's Noesis

3.92 has a new mergeBones option. When it's set to 3, the actual geometry will also be transformed by the relative matrices after the bone collapse. This allows you to bolt models together via bone collapse. For example, with the DOAX2 models, you could do something like this:

```
version 1
physicslib  ""
defaultAxis  "0"
sharedAnims  "1"

object
{
	name		"node0"
	model		"0000_vtn1.tpr"
}
object
{
	name		"node1"
	mergeTo		"node0"
	mergeBones	"2"
	model		"0018_vtnAA.tpr"
}

```

And it would get you this result:


Now you can do this:

```
version 1
physicslib  ""
defaultAxis  "0"
sharedAnims  "1"

object
{
	name		"node0"
	model		"0000_vtn1.tpr"
}
object
{
	name		"node1"
	mergeTo		"node0"
	mergeBones	"3"
	renameBone	"bone000" "bone006"
	renameBone	"bone001" "bone011"
	renameBone	"bone002" "bone028"
	model		"0018_vtnAA.tpr"
}

```

And get this result:


The renameBone entries are important here, because the head model has 3 bones, for the center and each eye. Those bones correspond to bones 6, 11, and 28 in the main skeleton. You can see this by looking at which bones are which in the data viewer. So renaming the head bones to match the desired bones in the body will then collapse the skeletons correctly into each other.
## Post #1191
- Username: Devilot
- Rank: ultra-veteran
- Number of posts: 443
- Joined date: Tue Sep 07, 2010 5:12 pm
- Post datetime: 2012-09-08T13:49:59+00:00
- Post Title: Re: Señor Casaroja's Noesis

do you think support for those games:
Legacy of Kain defiance
Lord of the Rings Conquest
could eb added? there is no known extractor/viewer for them save 3d ripper dx and that messes up the uv maps.

Not to mention Metal Gear Solid HD collection.
## Post #1192
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-09-09T18:16:26+00:00
- Post Title: Re: Señor Casaroja's Noesis

Is there a full-screen preview option?
## Post #1193
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-09-11T19:07:30+00:00
- Post Title: Re: Señor Casaroja's Noesis

Detachable preview window has been on the todo list forever, I've just been neglecting it. I'll see if it makes sense to move it up in the queue.
## Post #1194
- Username: orbbu
- Rank: beginner
- Number of posts: 26
- Joined date: Wed Jan 20, 2010 5:36 pm
- Post datetime: 2012-09-14T19:14:06+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hi,

Is there a way in Noesis to batch render image previews from 3d models ?
## Post #1195
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-09-14T19:51:07+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hey Rich, are you planning on looking at the Tekken TT 2 files? The XBox360 ones are nearly the same model format as Tekken 6, but the archive structure has changed. Now all NDXR, NTXR, and BONE sections tend to be grouped together.  I wrote a program, bintonmd, that extracts the sections in order as they appear in the bin files. Looks like this:



The models and textures are all viewable by noesis, but the _BONES files are not. Apparently, your NMD code won't preview BONE unless there is geometry in the NMD as well. So I wrote a second program, mergenmd, where the user picks a model file, a texture file, and a bone file, and it creates a merged Tekken 6 NMD file that is viewable by Noesis and loads everything fine as shown below.



But, it is tedious searching for the right bone file since it is not viewable in Noesis. Some are obvious, like 171_model, 172_texture, and 173_bones, but many are not obvious.

To support Tekken TT2, you wouldn't have to really do much except make an NMD file with a BONE section in it only (as the first offset pair in the NMD file) viewable in noesis. This way, no one has to go through and figure out their new archive format.

Regards,
Steve
## Post #1196
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-09-14T22:18:04+00:00
- Post Title: Re: Señor Casaroja's Noesis

Yeah, chrrox already told me the format is pretty much the same, and sent me some sample files. I'll get around to looking at and supporting them soon. I haven't had a chance to work on Noesis again since I pushed the last release out.
## Post #1197
- Username: Mr.Mouse
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2012-09-17T19:59:18+00:00
- Post Title: Re: Señor Casaroja's Noesis

And you also have the Lost Planet 2 files to look at
## Post #1198
- Username: Devilot
- Rank: ultra-veteran
- Number of posts: 443
- Joined date: Tue Sep 07, 2010 5:12 pm
- Post datetime: 2012-09-26T09:23:48+00:00
- Post Title: Re: Señor Casaroja's Noesis

I don't remember, is Vagrant Story (psx) supported?
## Post #1199
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2012-09-27T10:37:50+00:00
- Post Title: Re: Señor Casaroja's Noesis

What about 360's ssf4?
## Post #1200
- Username: Acewell
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-09-30T02:46:02+00:00
- Post Title: Re: Señor Casaroja's Noesis

I still haven't gotten to any of the new file formats or a good bit of core functionality I've been wanting to implement. But I finished the binary find in files tool plugin. The plugin DLL is attached in a zip, put the DLL file in the Noesis\plugins directory and you'll have a new Binary Find in Files tool accessible from the Noesis tools menu.

I made a $fileofs$ macro in case anyone has a hex editor that can accept an offset from the commandline. I don't, but that would be very handy to have. If you leave the launch syntax as "$filename$" and associate the given filetype with Noesis, also, doubleclicking it in the binary find results will automatically try to open it in Noesis. Which might also be useful if you're writing a format script and want to try opening files with certain chunks/tags in them.

I think everything else should be pretty self-explanatory usage-wise.

Edit: Updated plugin (tool_bindfind_r2.zip is attached), and added a "Match case" option.
[tool_binfind_r2.zip](https://xentaxbackup.github.io/file/5883_tool_binfind_r2.zip)

[tool_binfind.zip](https://xentaxbackup.github.io/file/5859_tool_binfind.zip)
## Post #1201
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2012-10-02T10:34:12+00:00
- Post Title: Re: Señor Casaroja's Noesis

Just saying, on August 15th 2011, on page 4 of the MSET Research topic, Revelation released [download/file.php?id=4632](http://forum.xentax.com/download/file.php?id=4632) , which is an update to his KH2 Noesis plugin that improves a few things and introduces animation support. The Noesis plugins page still links to the old March 2011 version of the plugin, so that's why I thought to mention it.
## Post #1202
- Username: Devilot
- Rank: ultra-veteran
- Number of posts: 443
- Joined date: Tue Sep 07, 2010 5:12 pm
- Post datetime: 2012-10-02T12:59:53+00:00
- Post Title: Re: Señor Casaroja's Noesis

thanks  is it only for KH2 or also Kh1 anims?
## Post #1203
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2012-10-03T06:17:06+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Devilot
>
> thanks  is it only for KH2 or also Kh1 anims?
No, only Yaz0r's ModelViewerDX (version 3) can process KH1 animations. Also, the KH2 animations need to be decompressed into ASETs by kkdf2's animation tool before Noesis can run them.
## Post #1204
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-10-07T02:17:50+00:00
- Post Title: Re: Señor Casaroja's Noesis

I haven't updated that plugins page in forever. I'd like someone to maintain a page on the wiki or something for it, there are dozens of scripts and plugins now that I've missed altogether.
## Post #1205
- Username: Devilot
- Rank: ultra-veteran
- Number of posts: 443
- Joined date: Tue Sep 07, 2010 5:12 pm
- Post datetime: 2012-10-07T06:55:24+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> I haven't updated that plugins page in forever. I'd like someone to maintain a page on the wiki or something for it, there are dozens of scripts and plugins now that I've missed altogether.
this looks like a great idea. I was certain only 4 plugins at all were available for noesis.
## Post #1206
- Username: Dinoguy1000
- Rank: Site Admin
- Number of posts: 786
- Joined date: Mon Sep 13, 2004 8:55 am
- Post datetime: 2012-10-07T07:41:19+00:00
- Post Title: Re: Señor Casaroja's Noesis

I would love to have some help with the wiki; I currently don't have the time to do much more than just deleting spam and blocking the spambots (and on that note, for anyone that might want to help out, if the title blacklist on the wiki gives you problems, I'm the one to yell at =) ).
## Post #1207
- Username: Acewell
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-10-10T17:55:26+00:00
- Post Title: Re: Señor Casaroja's Noesis

Someone just has to do the work of searching through the forums for all the Noesis python scripts people have posted, and the few native plugins. (mostly from revelation, but I know someone else posted an OGRE native plugin somewhere in this thread too, and I think 1 or 2 other people have made native plugins for assorted things) If someone can gather everything up, I'd be happy enough to start a wiki page on it myself. I just haven't had the time/motivation to find everything, and I know I've flat out missed a lot of stuff too since I haven't been checking the forums very vigorously for the last 6-12 months.

Side note, the new Noesis build adds Jedi Knight/Mysteries of the Sith support. You'll want to use Noesis to extract all of your GOB/GOO files in-place (in the game's directory structure), because for cross-asset dependencies (such as MAT files needing the CMP/colormap files, 3DO/JKL files needing MAT files, etc.) Noesis will automatically try to search in relative paths, so if you have all of the GOB/GOO files extracted with default extraction paths it should just work.

Edit: Oh, and finale00, you should be happy to know that this build also has a fullscreen preview option. (View->Fullscreen)
## Post #1208
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-10-10T21:14:22+00:00
- Post Title: Re: Señor Casaroja's Noesis

lol awesome, full screen.

I did this some time ago, only spent maybe 15 mins or so and then never really looked at it again
[http://wiki.xentax.com/index.php/Model_Import_Plugins](http://wiki.xentax.com/index.php/Model_Import_Plugins)
## Post #1209
- Username: Dinoguy1000
- Rank: Site Admin
- Number of posts: 786
- Joined date: Mon Sep 13, 2004 8:55 am
- Post datetime: 2012-10-10T23:21:02+00:00
- Post Title: Re: Señor Casaroja's Noesis

Aah, you're Tsukihime on the wiki, aren't you?
## Post #1210
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2012-10-11T00:15:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Someone just has to do the work of searching through the forums for all the Noesis python scripts people have posted, and the few native plugins. (mostly from revelation, but I know someone else posted an OGRE native plugin somewhere in this thread too, and I think 1 or 2 other people have made native plugins for assorted things) If someone can gather everything up, I'd be happy enough to start a wiki page on it myself. I just haven't had the time/motivation to find everything, and I know I've flat out missed a lot of stuff too since I haven't been checking the forums very vigorously for the last 6-12 months.

Side note, the new Noesis build adds Jedi Knight/Mysteries of the Sith support. You'll want to use Noesis to extract all of your GOB/GOO files in-place (in the game's directory structure), because for cross-asset dependencies (such as MAT files needing the CMP/colormap files, 3DO/JKL files needing MAT files, etc.) Noesis will automatically try to search in relative paths, so if you have all of the GOB/GOO files extracted with default extraction paths it should just work.

Edit: Oh, and finale00, you should be happy to know that this build also has a fullscreen preview option. (View->Fullscreen)
If you're looking for Python scripts, finale00's hoard can be found at [https://www.dropbox.com/s/7stlpd4qvkq3096](https://www.dropbox.com/s/7stlpd4qvkq3096) .
I also added the latest versions of all the Revelation dll plugins I could find to [https://www.dropbox.com/sh/les911yjlc9zxp9/HPbXapUV8c](https://www.dropbox.com/sh/les911yjlc9zxp9/HPbXapUV8c) .
## Post #1211
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-10-11T16:08:29+00:00
- Post Title: Re: Señor Casaroja's Noesis

I should try going through his list to see if I can add bones and animations.
## Post #1212
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-10-11T18:02:26+00:00
- Post Title: Re: Señor Casaroja's Noesis

Please do. While I tell myself I will look into it eventually, "eventually" never comes because I quickly lose motivation lol
I usually just map out the general structure into different methods and just leave it at that...
## Post #1213
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2012-10-11T18:52:15+00:00
- Post Title: Re: Señor Casaroja's Noesis

MrAdults, i hope you didn't forget to work on a model pose saving feature (saved per frame of a new animation). would love it since... 
[my kinect seems busted!](http://www.youtube.com/watch?v=cf6wy7wBVb0) Still working on building up the cash to buy 2 qumarions. 1 for each of us. they currently only ship to japanese addresses, but that'll change.
## Post #1214
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-10-12T18:13:21+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from itoikenza
>
> MrAdults, i hope you didn't forget to work on a model pose saving feature (saved per frame of a new animation). would love it since... 
my kinect seems busted! Still working on building up the cash to buy 2 qumarions. 1 for each of us. they currently only ship to japanese addresses, but that'll change.
I did that quite a long time ago. I added an "Append" checkbox next to the record button. If you check it, it will append the animation you record to the existing animation(s) in the model. This way you can append motion segments, or you can append single frames by just setting the record duration to the length of a single frame, and you can still use the countdown delay if you want to get things in place before the frame is snapped.

Edit: By the way, Mr.Mouse, I finally looked at LP2 today. It's more like MVC3's mod format than DMC4/RE5/LP1/etc.'s mod format, and my MVC3 loader is currently big-endian only (and my LP2 data is little) plus there are still a few other differences (mainly in the way materials are handled in LP2), so it's a slight pain in the ass to add LP2 support even though the data is laid out relatively plainly. It's going to have to wait until I have some of the other things cleared from my todo list.
## Post #1215
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2012-10-12T18:20:34+00:00
- Post Title: Re: Señor Casaroja's Noesis

thanks, can i position the model via data viewer's bones, then record the pose? or is it only the kinect i can record from, in other words is there a way to turn off tracking and keep the kinect interface on?

edit: figured it all out, nevermind. still i should be able to make animations without having the kinect plugged in, but it is what it is. right?
## Post #1216
- Username: Tribalizer
- Rank: n00b
- Number of posts: 17
- Joined date: Wed Jan 04, 2012 11:26 pm
- Post datetime: 2012-10-12T23:34:44+00:00
- Post Title: Re: Señor Casaroja's Noesis

Alright how to phrase this.

I'm looking for an expert's opinion on the format of what I assume hold the character model/textures from [Captain America: Super Soldier](http://forum.xentax.com/viewtopic.php?f=10&t=9731). The info I'm looking for is for someone to spend a couple of minutes looking at the formats and gauge how hard working with them would be. Even though I really would like the models if it would take an absurd amount of time to get them I'd have to say to let it go. There are only 28 models (29 if you count the 2 shield instances as separate) and only 12 of them are "important" characters. Not exactly a good haul, especially if the script is a pain to make. Looking for closure really.

Thanks for reading!

Edit: I have edited my above thread to include renders and concept art of the characters in the game to give an idea of what's in the files.
## Post #1217
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-10-18T05:37:49+00:00
- Post Title: Re: Señor Casaroja's Noesis

Lol there was an update of noesis and nobody has said something:

[http://oasis.xentax.com/index.php?content=downloads](http://oasis.xentax.com/index.php?content=downloads)

See ya.
## Post #1218
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-10-18T17:41:39+00:00
- Post Title: Re: Señor Casaroja's Noesis

Autoupdate :>
## Post #1219
- Username: wardialer
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Wed Jun 27, 2012 6:06 am
- Post datetime: 2012-10-19T18:55:33+00:00
- Post Title: Re: Señor Casaroja's Noesis

first of all thanks for noesis.  sorry to be a pest, but is there a way to get animations out of FFXIII-2?  i've been reading posts for the last couple of days and couldn't see any info on it.  i already got models and (swizzled) textures out of the xbox360 version... do i need the ps3 version to get the right textures and/or animations?

right now i got 3,116 ps3.trb and ps3.imgb files from unpacking the BIG .bin file.  should i be looking in the other .bin files or am i missing a step?

thanks in advance.
## Post #1220
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-10-22T23:54:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

I tend to be sneaky with new releases. Or I'll just post about them on twitter if there's anything of real note in them. There's also an auto-update feature, like Demonsangel mentioned. (for anyone that didn't know, you can enable automatically checking for updates when Noesis starts up, it's under the persistent settings in the data viewer)

FF13 animations aren't supported. I never got around to trying to figure the format out.

As long as I'm posting, here's new stuff from the quiet releases I've made recently:

> -3.96 - Added HL1 MDL import support.
>
>  -3.96 - Added a "Snapshot" button to the Kinect dialog.
>
>  -3.96 - Fixed multiple memory leaks in JK support.
>
>  -3.96 - Fixed a possible crash when reporting memory leaks.
>
>  -3.96 - Improved memory management for MD3 export, also capping import frame count when necessary.
>
>  -3.96 - Added NOEUSERVAL_SAVEFILEPATH to compliment NOEUSERVAL_FILEPATH.
>
>  -3.95 - Added support for bone-only NMD files.
>
>  -3.95 - Fixed a potential crash on export with no geometry.
>
>  -3.95 - Added Castlevania Dracula X Chronicles .res extraction support.
>
>  -3.95 - GMO's which do not contain internal textures now use the correct external material reference names.
## Post #1221
- Username: kingfisher13
- Rank: veteran
- Number of posts: 83
- Joined date: Tue Jul 27, 2010 2:32 am
- Post datetime: 2012-10-23T13:58:57+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hey, I just thought I would pop in and say what a great program this is. I have been working on Bayonetta models, and for the most part, it displays them perfectly. There is one problem, though: I am trying to port these models to XNALara, and in order to do that, I need them in 3ds Max. I have Max 2010 Design.

The problem is, when I export to any format, usually FBX or Collada, it doesn't import into Max properly. Basically, none of the textures import with the mesh, so I end up with a useless mesh. The mesh doesn't even import with texture coordinates, so the materials window is blank, leaving no clues as to where certain textures are supposed to go. Is there a way around this? How can I import models properly? I would prefer to use Collada, as I exported a bunch of models from over 2000 files in that format, and going back and searching through all of those again would be a pain. Is there a way to have Max import with textures properly mapped and renderable? 

I have tried the internal Autodesk Collada plugin, as well as Open Collada- neither one imports properly.
## Post #1222
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2012-10-23T15:07:37+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> I tend to be sneaky with new releases. Or I'll just post about them on twitter if there's anything of real note in them. There's also an auto-update feature, like Demonsangel mentioned. (for anyone that didn't know, you can enable automatically checking for updates when Noesis starts up, it's under the persistent settings in the data viewer)

FF13 animations aren't supported. I never got around to trying to figure the format out.

As long as I'm posting, here's new stuff from the quiet releases I've made recently:
 -3.96 - Added HL1 MDL import support.
 -3.96 - Added a "Snapshot" button to the Kinect dialog.
 -3.96 - Fixed multiple memory leaks in JK support.
 -3.96 - Fixed a possible crash when reporting memory leaks.
 -3.96 - Improved memory management for MD3 export, also capping import frame count when necessary.
 -3.96 - Added NOEUSERVAL_SAVEFILEPATH to compliment NOEUSERVAL_FILEPATH.
 -3.95 - Added support for bone-only NMD files.
 -3.95 - Fixed a potential crash on export with no geometry.
 -3.95 - Added Castlevania Dracula X Chronicles .res extraction support.
 -3.95 - GMO's which do not contain internal textures now use the correct external material reference names.HL1 support is such exciting news! I can confirm that it works:
## Post #1223
- Username: RacingFreak
- Rank: veteran
- Number of posts: 136
- Joined date: Fri Feb 11, 2011 5:44 pm
- Post datetime: 2012-10-24T11:27:49+00:00
- Post Title: Re: Señor Casaroja's Noesis

Great work !

Any chances of getting the dxripper py plugin updated to work with NinjaRipper? Would be greatly appreciated
## Post #1224
- Username: Acewell
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-10-26T22:12:03+00:00
- Post Title: Re: Señor Casaroja's Noesis

3.97 introduces lots of new features and makes tool scripts much more flexible and powerful with the ability to instantiate modules for manipulating data.

> -3.97 - Added rapi.toolLoadGData, rapi.toolFreeGData, rapi.toolSetGData, rapi.toolExportGData, rapi.toolGetLoadedModelCount, and rapi.toolGetLoadedModel. These functions are intended for tool scripts, and allow loading/saving/manipulating any kind of supported (models, textures, etc.) data.
>
>  -3.97 - Added noesis.instantiateModule, noesis.freeModule, and noesis.setModuleRAPI. These functions allow you to insantiate modules and set the active rapi module context, and are intended for use with tool scripts.
>
>  -3.97 - Added noesis.getSelectedFile to get the path of the currently selected file in the Noesis browser.
>
>  -3.97 - Added noesis.loadImageRGBA and noesis.saveImageRGBA. These are mainly for convenience, as the same functionality can be achieved with the new module instantiation and tool methods.
>
>  -3.97 - Added a "Use memory mapping" persistent setting. This may result in a barely-detectable performance penalty in some situations, but will utilize 64-bit address space for some of the Noesis interfaces in order to circumvent some 32-bit memory limits.
As an example, I've attached a script that generates a model from a heightmap and automatically loads it.
[tool_heightmap.zip](https://xentaxbackup.github.io/file/5925_tool_heightmap.zip)
## Post #1225
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-10-27T16:45:59+00:00
- Post Title: Re: Señor Casaroja's Noesis

lol lots of cool things. Were these the kinds of things on your mind when you first developed noesis?
## Post #1226
- Username: Satoh
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-10-27T21:30:41+00:00
- Post Title: Re: Señor Casaroja's Noesis

I think when I first developed it, I was only thinking about supporting a bunch of different model/texture formats, and I wanted a framework that made it easy for me to do so. The plugin system came quite a bit later, and the Python support quite a bit after that. Now it's become very convenient for all kinds of different purposes. I was just writing a script to generate a mesh from some old Nasa MOLA topography data earlier today, and it's pretty awesome that I can do that sort of thing on a total whim now with just a short Python script while automatically supporting every format for input/output that Noesis already supports. (not to mention the crapload of rapi/noesis module methods that make it way easier)

Also, new update today, I fixed a shitload of bugs last night, and I added a Gaussian blur function. Attached are my latest tool scripts for generating height meshes, blurring images, and merging models. (you will need the latest Noesis to run the former 2, the heightmap script now has a blurring option too)
[toolscripts.zip](https://xentaxbackup.github.io/file/5935_toolscripts.zip)
## Post #1227
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2012-10-28T02:25:48+00:00
- Post Title: Re: Señor Casaroja's Noesis

Noesis is literally tied with blender for my favorite 3D application. And blender only gets that high because I can make things from scratch in it.

It would probably win outright if I just had the patience to learn the API... I'd be able to import all these formats I've been documenting over the years finally.

I personally would like to thank you MrAdults, for this brilliant contribution to humanity.
## Post #1228
- Username: RacingFreak
- Rank: veteran
- Number of posts: 136
- Joined date: Fri Feb 11, 2011 5:44 pm
- Post datetime: 2012-11-03T07:06:50+00:00
- Post Title: Re: Señor Casaroja's Noesis

Much appreciated MrAdults!

Would be great to see .m3g 3D models support.
## Post #1229
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2012-11-05T04:40:57+00:00
- Post Title: Re: Señor Casaroja's Noesis

Ah...erm... eh... Something seems to be wrong with Noesis' Collada exporter... all the files I'm getting are 0 bytes... no errors. It acts like it normally does, but the file is completely empty.

PSK and the other formats I tested export fine... Can anyone confirm this is an issue? 

I just updated to the newest version of Noesis.
## Post #1230
- Username: Satoh
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-11-05T23:37:59+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Satoh
>
> Ah...erm... eh... Something seems to be wrong with Noesis' Collada exporter... all the files I'm getting are 0 bytes... no errors. It acts like it normally does, but the file is completely empty.

PSK and the other formats I tested export fine... Can anyone confirm this is an issue? 

I just updated to the newest version of Noesis.
Oops, my bad. When I added the memory maps, I introduced a bug that's causing the COLLADA file to be stomped after it's written by the custom output handler. It'll be fixed next release.
## Post #1231
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-11-10T03:59:22+00:00
- Post Title: Re: Señor Casaroja's Noesis

> -3.98 - Added Silent Hill: Homecoming model/texture import and archive extraction support.
>
>  -3.98 - Specular maps are now used by default (if present) in render preview.
>
>  -3.98 - Corrected a bug causing W component of tan4's to be incorrectly preserved when binding buffers in the RPG interface.
>
>  -3.98 - Specular color material property is no longer readonly.
>
>  -3.98 - Fixed a new COLLADA export bug which was introduced in 3.97.
>
>  -3.98 - Added RPGOPT_DERIVEBONEORIS, which will automatically generate bone orientations from vertex weights when using the RPG interface.
>
>  -3.98 - Added RPGOPT_FILLINWEIGHTS, which will automatically fill in vertex weights from bone orientations when using the RPG interface. Only applies to meshes which have no vertex weights.
>
>  -3.98 - Added rpgConvertTangents, to generate tan4 components from full tangent matrices.
The SH:H support is hacked together and partially based on my old Scarlet code which was horrible. Skeletons don't always load correctly and weights don't always look correct. They work for Alex and some of the other main characters though. The weights required 2 levels of mapping (raw weight to local map to model-skeleton map) and the format is generally terrible. It's what prompted me to get the spec stuff working right again though.
## Post #1232
- Username: RacingFreak
- Rank: veteran
- Number of posts: 136
- Joined date: Fri Feb 11, 2011 5:44 pm
- Post datetime: 2012-11-10T06:58:20+00:00
- Post Title: Re: Señor Casaroja's Noesis

Great work MrAdults. I would love to see a Delete Zero Area/Degenerate Faces option - these are usually strip/fan connections and often appear on few models (rarely, but a pretty big problem) as ripped by DXRip. Will be greatly appreciated!

Pic below:
[morris_mini_strips.png](https://xentaxbackup.github.io/file/5975_morris_mini_strips.png)
## Post #1233
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-11-10T19:11:45+00:00
- Post Title: Re: Señor Casaroja's Noesis

Use -killdupfaces.
## Post #1234
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-11-10T20:27:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

How did you make the shortcut mapping interface?
I think it is one of the better shortcut setup things I've seen. Well, most programs don't even allow you to set up your own shortcuts!
## Post #1235
- Username: arcanis
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Sun Apr 15, 2012 11:25 pm
- Post datetime: 2012-11-11T04:17:52+00:00
- Post Title: Re: Señor Casaroja's Noesis

Is it possible to using interpolated keyframe animations instead of using bones / rigging ? I have tried -noskel, but it doesn't seem enough (I still see references to bones in the exported files).

I'm trying to workaround [this issue](https://github.com/mrdoob/three.js/issues/1787) in a library which does not seems to handle smooth animations with bones.

(I don't have any 3d skill, so maybe I'm saying something wrong ?)
## Post #1236
- Username: RacingFreak
- Rank: veteran
- Number of posts: 136
- Joined date: Fri Feb 11, 2011 5:44 pm
- Post datetime: 2012-11-11T06:09:55+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Use -killdupfaces.
Sorry, that didn't work :/

Maybe it's not degenerated faces but the zero area strip fan connections that are seen (these are invisible). Any help? If needed I can add example.
## Post #1237
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-11-11T13:42:22+00:00
- Post Title: Re: Señor Casaroja's Noesis

I'm having some trouble with blend modes. I'm trying to put the emis file attached below on top of the diff one.
However I can't seem to make the area around the wings transparent. I've tried plenty of variations of the blend codes but I can't seem to get rid of them. The pic below is made with the (GL_ONE, GL_ONE)

which did work for other models:

[https://www.dropbox.com/sh/qbct1tjyv7al ... Pv5TUX/dds](https://www.dropbox.com/sh/qbct1tjyv7alpoi/_MlkPv5TUX/dds)

Edit: When using .noesis files to merge the model in the first pic with it's head noesis renames all the textures to nothing_### because both models use the same textures so the names "conflict".
Is there an option to disable this behavior or would it be possible to add a cmd to .noesis files to 'merge' textures with the same name?

Edit2:  While merging the 2 models, the main model already has the bones needed for the head, but they're placed at the root. Is there a way to update these bones wth the position data of the head model file?
as you can see the head doesn't have any bones in it and there's a gap between head and torso:

when i select a bone that should normally be positioned at the head it's ar root because that's how it's defined in the body file:

while selecting the same bone (ignore the fact first pic says right) in the head only model:


```
version 1
physicslib      ""
defaultAxis      "0"
sharedAnims  "1"
object
{
   name      "michael"
   model      "Michael_Big.gobj"
   offset      "(0 0 0)"
   rotate      "(0 0 0)"
}
object
{
   name      "head"
   mergeTo      "michael"
   mergeBones   "2"
   model      "Michael_big_head.gobj"
   offset      "(0 0 0)"
   rotate      "(0 0 0)"
```
## Post #1238
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-11-11T18:17:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from RacingFreak
>
> MrAdults wrote:Use -killdupfaces.
Sorry, that didn't work :/

Maybe it's not degenerated faces but the zero area strip fan connections that are seen (these are invisible). Any help? If needed I can add example.

You didn't do it right, then.
Before:
[http://i45.tinypic.com/j7q0le.png](http://i45.tinypic.com/j7q0le.png)
After:
[http://i46.tinypic.com/afgb49.png](http://i46.tinypic.com/afgb49.png)

You do know how to use option switches, right? You put them in the "advanced commands" list when exporting. killdupfaces eliminates all redundant and degenerate triangles.

> Reply from arcanis
>
> Is it possible to using interpolated keyframe animations instead of using bones / rigging ? I have tried -noskel, but it doesn't seem enough (I still see references to bones in the exported files).

I'm trying to workaround this issue in a library which does not seems to handle smooth animations with bones.

(I don't have any 3d skill, so maybe I'm saying something wrong ?)
I assume you mean vertex animation instead of bone animation. That seems unwise unless you have very simple geometry and frame counts. But exporting a skeletally animated model to a vertex animated format like MD3 will auto-bake the skeletal anims into vertex anims. Of course then you need to figure out how to import the MD3 into whatever format your thing needs. They can't blame COLLADA if they aren't interpolating correctly between keyframes, though, that is their own fault.

> Reply from finale00
>
> How did you make the shortcut mapping interface?
I think it is one of the better shortcut setup things I've seen. Well, most programs don't even allow you to set up your own shortcuts!
I'm not sure what you're referring to. Do you mean the file associations dialog, the ability to register your own -options in the plugin API, or something else?

Demonsangel: It looks like you are getting proper additive blending, the "opaque" bits of the wings in that shot are actually transparent and additive-blended. Maybe you need an alpha blend there instead. I added actual blend constants in the last Noesis build which will make your code a bit more readable to use than the hard-coded blend numbers:

```
	PYNOECONSTN(NOEBLEND_ZERO),
	PYNOECONSTN(NOEBLEND_ONE),
	PYNOECONSTN(NOEBLEND_SRC_COLOR),
	PYNOECONSTN(NOEBLEND_ONE_MINUS_SRC_COLOR),
	PYNOECONSTN(NOEBLEND_SRC_ALPHA),
	PYNOECONSTN(NOEBLEND_ONE_MINUS_SRC_ALPHA),
	PYNOECONSTN(NOEBLEND_DST_ALPHA),
	PYNOECONSTN(NOEBLEND_ONE_MINUS_DST_ALPHA),
	PYNOECONSTN(NOEBLEND_DST_COLOR),
	PYNOECONSTN(NOEBLEND_ONE_MINUS_DST_COLOR),
	PYNOECONSTN(NOEBLEND_SRC_ALPHA_SATURATE),
	PYNOECONSTN(NUM_NOE_BLENDS),

```

(they're under the noesis module, accessible with noesis.NOEBLEND_ONE and so on)

As for your merging issues, there are 3 distinct merging behaviors:

> #0 = no collapsing
>
> #1 = collapse by name
>
> #2 = collapse by name and reapply relative transforms
>
> #3 = collapse by name and reapply relative transforms, retransforming geometry as well
You may want to use 3 instead of 2, in order to transform the geometry after the bones are merged. The other problem you're having might be that the main skeleton has the head bones in it already, and so the collapse is merging them into the head bones at the foot of the model. Hard to tell from what you've shown there, though.
## Post #1239
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-11-11T19:05:30+00:00
- Post Title: Re: Señor Casaroja's Noesis

I did formulate it a bit weird, but yes, the main skeleton already has the head-bones compressed at the root bone (xyz = 0,0,0)

so when i use mergeBones = 3 I get the following


Also, using any of the noesis.NOEBLEND_ONE variants instead of the "GL_ONE" I used to use, makes my entire model dark
## Post #1240
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-11-11T21:52:36+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Demonsangel
>
> I did formulate it a bit weird, but yes, the main skeleton already has the head-bones compressed at the root bone (xyz = 0,0,0)
I see. So only the root head bone is in the correct position relative to the main skeleton? In that case, you probably want to prevent all of the other head bones from merging. To do that, you can rename those bones in one of the models by adding renameBone "oldName" "newName" entries to the object in your .noesis file.
Edit: But also keep in mind, your head needs to have its skeletal hierarchy set up properly. All of the bones should probably be children of the head root. Otherwise, when the head root merges, those bones won't be retransformed properly and they'll be relative to the root/origin of the body model instead of the merged head bone.

> Reply from Demonsangel
>
> Also, using any of the noesis.NOEBLEND_ONE variants instead of the "GL_ONE" I used to use, makes my entire model dark
Then maybe it's supposed to be additive, but with alpha testing instead of blending. Try a material.setAlphaTest(0.5) or something. It's hard to say for sure without having the texture data. If you can't get it working with alpha testing, PM me the model(s)/texture(s) and your script and I can see if I can spot what's wrong.

Edit: It looks like alpha testing is not even checked for lightmap materials. This system is shitty for real multi-pass rendering. I'm adding a "nextPass" field to NoeMaterials for the next build. This way you can have infinite passes over the same geometry and it will go through the same material pipeline instead of the lightmap-optimized one that does special checks to avoid state changes. I'll post an example of how to use it once I put the build out. Probably sometime tomorrow, I don't think I'll make it home today.
## Post #1241
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-11-12T00:43:29+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> 
I'm not sure what you're referring to. Do you mean the file associations dialog, the ability to register your own -options in the plugin API, or something else?

View -> Interface --> Customize

The resulting dialog. Where are the setting stored?
## Post #1242
- Username: finale00
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-11-12T01:30:35+00:00
- Post Title: Re: Señor Casaroja's Noesis

Oh, right, that. I didn't actually make that, it's part of the standard MFC project template in MSVC2010. As is the dockable menu bar. I left both of those things in instead of gutting it all out, because I thought they were neat features. The settings themselves are all stored in the registry in HKEY_CURRENT_USER\Software\Noesis.
## Post #1243
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-11-12T17:40:37+00:00
- Post Title: Re: Señor Casaroja's Noesis

There's no hurry, I have no time today and I'm on call tomorrow.
## Post #1244
- Username: BakameExcalibur
- Rank: advanced
- Number of posts: 68
- Joined date: Wed Feb 02, 2011 8:02 am
- Post datetime: 2012-11-12T20:25:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

Whee, it seems Noesis doesn't want to fully work with Wine again. Unlike the last time I reported a Wine bug, though, Noesis at least starts.  The trouble this time seems to be something related to Wine rather than Noesis, but I've noticed that the directory window (for lack of a better word) won't expand other directories at all, it sticks at the root directory. I'm pretty sure it's Wine's fault, since version 1.5.14 (latest is 1.5.16) still works correctly with Noesis. I don't think I've managed to get anything useful out of the terminal, but if you want me to post output, I will.

edit: Against my better judgement, I've gone and installed Windows 8... so Noesis probably should work right now that I'm actually using Windows.
[Noesis Wine bug.jpg](https://xentaxbackup.github.io/file/5983_Noesis Wine bug.jpg)
## Post #1245
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-11-13T05:30:15+00:00
- Post Title: Re: Señor Casaroja's Noesis

I'd say that if it worked in an older WINE and stopped working in a newer one, it's their fault, and debugging it from my end would be a big pain in the ass. Even if you've decided to just use Windows, I would love it if you would go report a bug for whichever WINE distribution you're using and link to that bug report here so that other WINE users or potential WINE users can weigh in too. WINE developers generally don't give a shit about breaking things unless people make a fuss when things get broken, and it would make me happy if at least one distribution had Noesis on its compatibility goal list, since I don't expect I'll ever get to maintaining a real Linux or OSX distribution. A proper 64-bit Windows build is higher up on my list than that, and even that is discouraging, just because it's more of a pain to start adding and worrying about additional binary distributions, and the more of those I have, the more of a pain in the ass it's going to be to do public builds. Not so much because of the actual build process, but because there's going to be more environments for new things to unexpectedly break old things in, particularly considering how many unique native modules Noesis has.
## Post #1246
- Username: shadowmoy
- Rank: veteran
- Number of posts: 153
- Joined date: Sat Feb 21, 2009 9:29 pm
- Post datetime: 2012-11-13T12:08:03+00:00
- Post Title: Re: Señor Casaroja's Noesis

mrAdult> hi there, is it possible to provide a noekin + mesh  for kinnect test, i can't make the rig to work correctly, some samples could be awasome if they come with the sample rigged mesh so i can found out what the problem is on my side, also is it possible to make the mapped squeleton and the original skeleton to render in overlay of the mesh at the same time in noesis ?
## Post #1247
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-11-13T22:52:58+00:00
- Post Title: Re: Señor Casaroja's Noesis

Noesis comes with a rigged character that has a .noekin file set up for it. sample_guy.dae and sample_guy.noekin in the scenes directory. It doesn't use an identity mapping though, which is the easiest way to set things up. I can't post any of my other examples, because I've only set up .noekin files for commercial models other than the sample character.
## Post #1248
- Username: shadowmoy
- Rank: veteran
- Number of posts: 153
- Joined date: Sat Feb 21, 2009 9:29 pm
- Post datetime: 2012-11-15T19:13:54+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Noesis comes with a rigged character that has a .noekin file set up for it. sample_guy.dae and sample_guy.noekin in the scenes directory. It doesn't use an identity mapping though, which is the easiest way to set things up. I can't post any of my other examples, because I've only set up .noekin files for commercial models other than the sample character.
thanks for the sample, i figurated it a few minutes after my post but badly it don't help, i tested with several models in smd format and it always give me a distorbed animated mesh
## Post #1249
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-11-16T18:57:34+00:00
- Post Title: Re: Señor Casaroja's Noesis

I couldn't tell you what's wrong without seeing the model. If you want, you can PM it to me and I'll make you a .noekin for it. Keep in mind though that it needs to have a proper skeletal hierarchy, and flattened models will not work. (by flattened, I mean the practice some developers have of flattening the skeletal hierarchy and compensating in baked animation data in order to save on hierarchical transform times at runtime)

Noesis 3.99 is up:

> -3.99 - Added a "nextPass" field to NoeMaterials. This can reference a material that is inside or outside of the main material list, and allows you to perform n-pass rendering. Note that if the nextPass material is not in the main material list, it will not be included in exported material lists to other formats, unless the exporter in question has special handling for nextPass materials.
>
>  -3.99 - Added rapi.decompressEdgeIndices.
>
>  -3.99 - Added MvC3 PS3 index support.
>
>  -3.99 - Added Noesis_PS2_ProcessVIFCodes to native RAPI interface.
>
>  -3.99 - Added Noesis_PS2_RPGCommitLists, Noesis_PS2_GetComponentIndex, and Noesis_PS2_RPGHandleChunk for automatically handling and committing PS2-standard geometry chunk types.
>
>  -3.99 - Various bug fixes.
I understand revelation has written an EDGE index decompression routine in Python as well, but I don't know if he's released it yet. rapi.decompressEdgeIndices should accomplish the same thing. I wanted a native implementation, since it's a broad thing, and that way I can use it with native formats like MvC3.

The PS2 stuff has been sitting around internally forever as well, but I decided to finally expose it to the plugin API. The chunk handling part might be too rigid to be useful for other games, I'm not sure, The Bouncer is the only game I have using it internally. The others are pure VIFcode.
## Post #1250
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-11-16T20:09:25+00:00
- Post Title: Re: Señor Casaroja's Noesis

With 
```
.setBlendMode(noesis.NOEBLEND_ONE, noesis.NOEBLEND_ONE)
```


With 
```
.setBlendMode("GL_ONE","GL_ONE")
```



Am I doing something wrong? I'm putting the blendmode on the lightmap material, should I be using it on the normal material?
## Post #1251
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-11-16T20:18:34+00:00
- Post Title: Re: Señor Casaroja's Noesis

Yeah, stick with the "GL_ONE", "GL_ONE", I had completely forgotten that I'd done that blend mode string translation thing for the Python implementation. Silly me.

That new nextPass thing is what you should be using instead of lightmap materials now. You want to make a new material with GL_ONE, GL_ONE blending to act as your emissive pass, then on the base material, use material.setNextPass(yourEmissiveMaterial). This will differ in that it will use the proper material pipeline to do all the blending and alpha testing and whatever else you need. The lightmap material pass is special-cased and ignores lots of material parameters and batches together surfaces at runtime and some other stuff, so it wasn't ideal for real multi-pass rendering. And this lets you do any number of passes that you want instead of being limited to 2.
## Post #1252
- Username: Kaem
- Rank: beginner
- Number of posts: 27
- Joined date: Wed May 23, 2012 5:28 am
- Post datetime: 2012-11-20T09:09:11+00:00
- Post Title: Re: Señor Casaroja's Noesis

Any help/new of .mot files from Final Fatasy Crisis Core?

How View/Export/Convert?
## Post #1253
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2012-11-20T21:16:16+00:00
- Post Title: Re: Señor Casaroja's Noesis

You make/edit the Crisis Core plugin to read those kinds of animation files. FYI, it takes a phenomenal amount of work, which is why no one's done it yet.
## Post #1254
- Username: Devilot
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-11-21T18:04:34+00:00
- Post Title: Re: Señor Casaroja's Noesis

> -3.991 - Added a new animation slider for quickly skipping through animations. The slider will only appear after animations have been initially started in the preview.
>
>  -3.991 - Added an optional argument for rapi.createTriStrip, which allows the user to specify a strip break value. (if provided, the generated strip will use this value to reset strips instead of inserting degenerate faces)
>
>  -3.991 - Added an "Auto-play anims" option to the persistent settings under "Other". This will automatically start playing animations in a loaded model, even if its loader module does not default to auto-play.
>
>  -3.991 - A few small documentation and bug fixes.
Edit:

> -3.992 - The animation slider is now next to the control buttons instead of above them by default. Old behavior can be restored with the new "Long anim slider" option under persistent settings in the data viewer.
>
>  -3.992 - Auto-play anims is now the default behavior.
>
>  -3.992 - Fixed shortcut keys not being registered sometimes when the preview window pane is selected.
I would like to finally get back to working on new formats now. But every time I think I'm ready to do that, I think of more core functionality stuff that I want/need.
## Post #1255
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-11-22T03:35:45+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
>  -3.991 - Added a new animation slider for quickly skipping through animations. The slider will only appear after animations have been initially started in the preview.
 -3.991 - Added an optional argument for rapi.createTriStrip, which allows the user to specify a strip break value. (if provided, the generated strip will use this value to reset strips instead of inserting degenerate faces)
 -3.991 - Added an "Auto-play anims" option to the persistent settings under "Other". This will automatically start playing animations in a loaded model, even if its loader module does not default to auto-play.
 -3.991 - A few small documentation and bug fixes.
Edit:
 -3.992 - The animation slider is now next to the control buttons instead of above them by default. Old behavior can be restored with the new "Long anim slider" option under persistent settings in the data viewer.
 -3.992 - Auto-play anims is now the default behavior.
 -3.992 - Fixed shortcut keys not being registered sometimes when the preview window pane is selected.

I would like to finally get back to working on new formats now. But every time I think I'm ready to do that, I think of more core functionality stuff that I want/need.

Can you check doa5 format?? if there's a possibility to have full weighted models.

And thanks for the release, I hope to see v4 soon
## Post #1256
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-11-22T03:40:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hey how about raytracing to render scenes
## Post #1257
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-11-22T15:58:38+00:00
- Post Title: Re: Señor Casaroja's Noesis

lol how about it make my coffee for breakfast too ha ha ha
## Post #1258
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-11-22T20:00:10+00:00
- Post Title: Re: Señor Casaroja's Noesis

A raytracing renderer module is tempting. I should probably do a shader pipelined Direct3D renderer before that, though. 

chrrox is the one working on DOA5. I dunno where he is with weights.
## Post #1259
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2012-11-24T06:26:32+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> A raytracing renderer module is tempting. I should probably do a shader pipelined Direct3D renderer before that, though. 

chrrox is the one working on DOA5. I dunno where he is with weights.

Thanks for the answer.

can you check the tx3d untiling from doa5?? I have some raw dds dumped thanks to mario If you're interested.
## Post #1260
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-11-24T14:44:11+00:00
- Post Title: Re: Señor Casaroja's Noesis

Not sure if flags are actually used, but 

```
	def setFlags(flags):
		self.flags = flags
```

should be

```
	def setFlags(self, flags):
		self.flags = flags
```
## Post #1261
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-11-24T15:10:44+00:00
- Post Title: Re: Señor Casaroja's Noesis

Oops, thanks for spotting that. Yeah, texture flags are used. I'm setting them in the Desert Strike script, but apparently I just set tex.flags instead of using tex.setFlags. These are the available flags:

```
#define NTEXFLAG_SEGMENTED				(1<<1)
#define NTEXFLAG_STEREO					(1<<2) //indicates this is a stereo (side by side) image
#define NTEXFLAG_STEREO_SWAP			(1<<3) //should only be used in conjunction with NTEXFLAG_STEREO. Indicates left and right eyes are switched.
#define NTEXFLAG_FILTER_NEAREST			(1<<4) //nearest neighbor filtering is preferred
#define NTEXFLAG_WRAP_CLAMP				(1<<5) //clamp at edges

```

(these are registered under the noesis module, so reference with noesis.NTEXFLAG_ISNORMALMAP and so on)
The first 2 flags don't actually do anything, I can't remember what I had in mind for them. I might be using them in one of the plugins for local logic, which would be silly, but I can be silly sometimes.
## Post #1262
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-11-24T15:25:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

```
	def getBuffer(self, startOfs = None, endOfs = None):
		if startOfs is not None and endOfs is not none:   ### Should be None instead of none
```


I like this nextPass feature, trying to get 'Team Colors' to show.
## Post #1263
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-11-24T15:58:21+00:00
- Post Title: Re: Señor Casaroja's Noesis

Is there a way to set the path to the python plugins folder?
Or perhaps specify a search path?

That way I can just point to my dropbox folder.

Also, suppose I had a game that used the same format, but were distributed on two separate platforms and therefore used big and small endian.

```
bs.read('3f')

```


It would be convenient if the read function reads as big endian if no byte order was specified.
Since the bit stream is declared as big endian, methods like

```
bs.readFloat()

```


are basically byte-order independent since I can set options when I check the type of format.

```

```


For now I am just reading each field one by one rather than tossing everything in with a format string.
## Post #1264
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-11-24T16:48:24+00:00
- Post Title: Re: Señor Casaroja's Noesis

Yeah, you can use os.chdir(os.path.dirname(noesis.getMainPath()) + "\plugins\python")

And yeah, you can do exactly what you did there:

```
bs = NoeBitStream(data, NOE_BIGENDIAN)
```


And all typed reads (such as readUInt and readFloat) will be done as bigendian.
## Post #1265
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-11-24T17:43:38+00:00
- Post Title: Re: Señor Casaroja's Noesis

How about the read with a format string?
## Post #1266
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-11-24T17:49:35+00:00
- Post Title: Re: Señor Casaroja's Noesis

Oh, is that what you meant? You still have to explicitly put a ">" or "<" before the format string to specify endian there, regardless of the stream's endian mode. I could potentially change that functionality, but that would be a bad idea at this point, since it could break old scripts that do mixed-endian reading.
## Post #1267
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-11-24T18:00:02+00:00
- Post Title: Re: Señor Casaroja's Noesis

How about a custom read method? Like...xread LOL
But ya I could just stick with

```
bs.readUInt()
bs.readUInt()
bs.readUInt()
bs.readUInt()

```
## Post #1268
- Username: RacingFreak
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-11-26T02:22:27+00:00
- Post Title: Re: Señor Casaroja's Noesis

This ended up being a much larger release than I'd planned. Too much spare time lately.

> -3.994 - Added import support for Stainless MDL/CNT files.
>
>  -3.994 - Added import support for Stainless TDX files.
>
>  -3.994 - Added extraction support for Stainless WAD files.
>
>  -3.994 - Added rapi.createBoneMap. See example_bonemaps.py in the Noesis scripts repository for usage. Also keep in mind that you can use -maxbones # when exporting models to have Noesis automatically split meshes to keep bone reference counts under #.
>
>  -3.994 - Added noesis.setTypeExportOptions, to specify default export options for a type. Also see example_bonemaps.py for usage.
>
>  -3.994 - Static chrome UV's are now used for HL1 MDL chrome surfaces.
>
>  -3.994 - Corrected a bug with HL1 MDL normals. Also added -hlmdlnonrm to discard HL1 MDL normals.
>
>  -3.994 - Fixed a typo that was making setFlags unusable in the NoeTexture class. Thanks to demonsangel for spotting it.
>
>  -3.994 - Now recognizing 0 and NaN cases in the half-float decode function. Thanks to demonsangel for pointing out that this was not happening.
>
>  -3.994 - Fixed another typo in the NoeBitStream class. Thanks to demonsangel for spotting this one too.
>
>  -3.994 - Added Noesis_InputReadFile/Noesis_InputReadFileW, which read files into memory relative to the path of the input file.
>
>  -3.994 - Added RPGOPT_SWAPHANDEDNESS.
>
>  -3.994 - Added swapHandedness methods to NoeMat43 and NoeMat44.The Stainless stuff was done for iOS Carmageddon primarily. I've been playing it a lot and decided to dig around in it. It also happens to work on Magic: The Gathering – Duels of the Planeswalkers and probably some other Stainless Games stuff, though. Although they have conflicts between games for texture formats (the same format identifier means different pixel modes even though the headers between games are identical, kind of a pain in the ass), so Carmageddon is the only one I guarantee to work without issues.

Also, if you didn't see the thread I made for it, there's a new [Noesis scripts/plugins repository](http://code.google.com/p/noesis-plugins-official/). This is where I've put the example_bonemaps.py file referenced in the release notes, and I have latest versions of my tools scripts there. chrrox, revelation, demonsangel, and finale00 also have write access to the repository and have started using it to store stuff. This is now the official place to get the latest versions of everyones' scripts and plugins, and it should be easier to have everything there instead of randomly sprinkled throughout threads and file sharing sites.
## Post #1269
- Username: RacingFreak
- Rank: veteran
- Number of posts: 136
- Joined date: Fri Feb 11, 2011 5:44 pm
- Post datetime: 2012-11-26T06:08:41+00:00
- Post Title: Re: Señor Casaroja's Noesis

Awesome!! Now if only someone can do the same for Carmageddon 1, Carmageddon 2 and TDR2000 for Noesis 

PS
Managed to fix the issue I had with the strips - actually had to re-export to pkg and import back using zmodeler and delete one stripe (will automatically erase the rest). Thanks for this great tool
## Post #1270
- Username: JayK
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-11-28T20:59:38+00:00
- Post Title: Re: Señor Casaroja's Noesis

> -3.996 - Added "Visualizers". Plugins can now register visualizers to hook into preview rendering. See example_visualizer01 (effect rendering) and example_visualizer02 (allows you to select and export triangles) in my folder on the plugins repository.
>
>  -3.996 - New shared Noesis GL interface for native plugins to perform API-agnostic rendering.
>
>  -3.996 - Tool menu items can now be checked/unchecked, using noesis.checkToolMenuItem.
>
>  -3.996 - New optional parameter at the end of registerTool allows tools to specify their help text. (which is displayed in the Noesis status bar when the user mouseovers the tool menu item)
>
>  -3.996 - New math functions: Math_WorldToScreenSpace, Math_ScreenToWorldSpace, Math_PointRelativeToPlane, Math_LineIntersectTri.
>
>  -3.996 - Added Noesis_RegisterUserButton, which allows native plugins to register new model control buttons.
>
>  -3.996 - Fixed a Python print-related crash. Thanks to demonsangel for reporting the crash.
>
>  -3.996 - More interface cleanup. Anim slider moves above buttons if window is too small for it to fit next to buttons.There are 2 example visualizer plugins with source up on the [plugins repository](http://code.google.com/p/noesis-plugins-official/). One of them demonstrates hijacking the model rendering to perform a simple effect (which I dubbed the Magical Pony Fire effect):

The other one implements a triangle picker, which allows you to select triangles by clicking them (or deselect them by ctrl+clicking them), and then you can export the selected triangles to new models using a custom tool button:

Visualizers allow tons of flexibility and open the door for all kinds of new functionality to be implemented in Noesis. I hope someone else decides to have fun with them.
## Post #1271
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2012-11-29T06:09:14+00:00
- Post Title: Re: Señor Casaroja's Noesis

I recently used the heightmap tool in the plugins repository on a lightmap I recently acquired. Gentlemen, may I present you with the island of Mata Nui:
## Post #1272
- Username: Devilot
- Rank: ultra-veteran
- Number of posts: 443
- Joined date: Tue Sep 07, 2010 5:12 pm
- Post datetime: 2012-11-29T08:56:50+00:00
- Post Title: Re: Señor Casaroja's Noesis

the repository is a great idea. I do hope that the plugins author upload instructions for them, however, like the Crisis core one.
## Post #1273
- Username: Devilot
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-11-29T14:57:07+00:00
- Post Title: Re: Señor Casaroja's Noesis

Instructions on how to use plugins are in the Noesis ReadMe.txt. Instructions on how to use specific plugins are typically not needed. You put the plugin in the plugins and/or python directory, then go double-click on the game files in Noesis.
## Post #1274
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-11-29T18:43:55+00:00
- Post Title: Re: Señor Casaroja's Noesis

I tend to put some instructions inside the script, mostly concerning 1 variable for a path to textures etc.
Something like

```
Script: 
import requires all art assets to be extracted from the archive

How to use:
    needs:  .sm  file (link to materials and model file) This is the file loaded in Noesis
            .smd file (mesh file)
            .ast file (armature) if rig.ast is not present a file dialog will open for you to select an .ast
            textures @ TEXPATH (see below)
            
"""


################################
###  Only change this line  ####
################################
TEXPATH = r"c:\users\Andrew\Desktop\XentaxScript\PoE\Art"

################################
### Do not change below here ###
################################
```
## Post #1275
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2012-11-29T19:31:57+00:00
- Post Title: Re: Señor Casaroja's Noesis

I am at a loss here. I was busy rewriting my Titan Quest script when I ran into some weirdness with the bones. Instead of harassing MrAdults with about a dozen pm's a day I'll put it here incase someone else might be able to help.

Old code:

```
        self.data.seek(4,1)
        numBones    = self.data.readUInt()
        self.bones  = []
        for i in range( numBones):
            bone = {'name' : noeStrFromBytes(self.data.readBytes(32))}
            bone['index']       = i
            bone['child']       = self.data.readUInt()
            bone['numChild']    = self.data.readUInt()
            boneBuff=self.data.readBytes(48)
            
            (a1,a2,a3),(a4,a5,a6),(a7,a8,a9),(x,y,z) = NoeMat43.fromBytes(boneBuff)
            
            tupl=(a1,a2,a3,0),(a4,a5,a6,0),(a7,a8,a9,0),(x,y,z,1)
            
            bone['matrix'] = NoeMat44(tupl)
            self.bones.append(bone)
        for bone in self.bones:
            for i in range( bone['numChild']):
                child = bone['child'] + i
                self.bones[child]['parent'] = bone['index']
                
        for bone in self.bones:
            if not 'parent' in bone:
                bone['parent'] = -1
            else:
                matrix = bone['matrix']
                parent = self.bones[ bone['parent']]['matrix']
                bone['matrix'] = matrix.__mul__(parent)
                m = bone['matrix'].mat44
        for bone in self.bones:
            m = bone['matrix'].mat44
            k=[0,0,0,0]
            for t in range(len(m)):
                k[t] = NoeVec3(m[t][:-1])
            bone['matrix'] = NoeMat43(list(k))
            self.boneList.append(NoeBone(bone['index'],
                                         bone['name'],
                                         bone['matrix'],
                                         None,
                                         bone['parent']))
        
        return
```


new code:

```
        self.data.seek(4,1)
        numBones    = self.data.readUInt()
        self.bones  = []
        for i in range( numBones):
            bone = {'name' : noeStrFromBytes(self.data.readBytes(32))}
            bone['index']       = i
            bone['child']       = self.data.readUInt()
            bone['numChild']    = self.data.readUInt()
            bone['matrix']      = NoeMat43.fromBytes(self.data.readBytes(48))
            self.bones.append(bone)
        
        for bone in self.bones:
            for i in range( bone['numChild']):
                child = bone['child'] + i
                self.bones[child]['parent'] = bone['index']
        
        for bone in self.bones:
            if not 'parent' in bone:
                bone['parent'] = -1
            else:
                matrix = bone['matrix']
                parent = self.bones[ bone['parent']]['matrix']
                bone['matrix'] = matrix.__mul__(parent)
                #bone['matrix'] = bone['matrix'].transpose()
                m = bone['matrix'].mat43
            self.boneList.append(NoeBone(bone['index'],
                                         bone['name'],
                                         bone['matrix'],
                                         None,
                                         bone['parent']))
        
        #self.boneList = rapi.multiplyBones(self.boneList)
```


Old code:


new code:


According to me I'm basically doing the same, but I must be missing some detail.

Edit: updated old code to more readable version
## Post #1276
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-12-03T07:29:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

hey rich, how does noesis handle morton ordering with non-power of two and non-rectangular textures? reason i'm asking is that in resident evil 6 PS3 there are 20 type 0x28 textures. most are square and look great when using morton algorithm, but the other non-square ones crash cuz dilate algorithm, which uses bitmasks, returns an invalid index. do you just pad to power of two and square?
## Post #1277
- Username: fierce
- Rank: advanced
- Number of posts: 41
- Joined date: Mon Jul 16, 2012 7:18 pm
- Post datetime: 2012-12-03T16:33:14+00:00
- Post Title: Re: Señor Casaroja's Noesis

Is there any way to make Noesis open a file using a custom script instead of the default? (From a game that is already partially supported). I've been changing the file extension but it would be great if I didn't have to do that.
## Post #1278
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-12-03T16:37:49+00:00
- Post Title: Re: Señor Casaroja's Noesis

I haven't seen a way to do something like "select plugin to load file with", but if it isn't already built-in that would be a useful tool to write. Maybe I'll write one to take a look at the tool API.
## Post #1279
- Username: fierce
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-12-03T21:02:45+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from howfie
>
> hey rich, how does noesis handle morton ordering with non-power of two and non-rectangular textures? reason i'm asking is that in resident evil 6 PS3 there are 20 type 0x28 textures. most are square and look great when using morton algorithm, but the other non-square ones crash cuz dilate algorithm, which uses bitmasks, returns an invalid index. do you just pad to power of two and square?
Square shouldn't matter, but when it's not power of 2, PS3 and PSP Morton implementations will both have padding. If the format doesn't have it built into the data (which would be unusual, but it's possible), you should still add it in-memory.

> Reply from fierce
>
> Is there any way to make Noesis open a file using a custom script instead of the default? (From a game that is already partially supported). I've been changing the file extension but it would be great if I didn't have to do that.
There's no way to do that at the moment.
## Post #1280
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-12-04T22:46:19+00:00
- Post Title: Re: Señor Casaroja's Noesis

on image export, can you add switches to apply 2-dilate and 3-dilate morton to an image? thanks!
## Post #1281
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-12-04T23:08:46+00:00
- Post Title: Re: Señor Casaroja's Noesis

You can write a tool script to do it.  See the Gaussian blur example on the plugins repo, you can basically copy that and run morton2d over the image instead of the Gaussian function.
## Post #1282
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-12-04T23:33:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

what? me? write code?  morton is fairly common enough where it should be worthy of its very own checkbox in Noesis! j/k i'll check the guassian thing out in the meantime... thanks.
## Post #1283
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-12-05T04:12:18+00:00
- Post Title: Re: Señor Casaroja's Noesis

Oh, there is already a Morton function for you in the API. It's just not a command line processing option, since 99% of the time it's the format that dictates the need for it and not something the user would manually invoke.
## Post #1284
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2012-12-05T04:35:53+00:00
- Post Title: Re: Señor Casaroja's Noesis

i know what you meant; i was just joking about having to even write one line of code lol.
## Post #1285
- Username: fierce
- Rank: advanced
- Number of posts: 41
- Joined date: Mon Jul 16, 2012 7:18 pm
- Post datetime: 2012-12-07T16:54:05+00:00
- Post Title: Re: Señor Casaroja's Noesis

I have 2 UV coordinates on my models, one for diffuse map (I'm sure) and one for specular map (I'm almost sure).
I see that Noesis has the option to add UV2's, but what do they refer to? The lightmap?
Is the lightmap the same as specular map? Or at least can it be used for that?
If not is there any way I can make Noesis use the second UV for the specular map? I see that I can set the specular texture on the material, but how to I assign the second UV's instead of the first ones for that texture?

Thank you in advance for any help
## Post #1286
- Username: fierce
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-12-07T21:41:45+00:00
- Post Title: Re: Señor Casaroja's Noesis

I would make an additional mesh and give it the proper uv's, setting its blend mode to additive. (which will apply the lighting model with your second set of uv's additively on top of your diffuse mesh)
## Post #1287
- Username: Kaem
- Rank: beginner
- Number of posts: 27
- Joined date: Wed May 23, 2012 5:28 am
- Post datetime: 2012-12-13T17:11:20+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hi.
You could think about doing something with the modding of The Legend Of Zelda Ocarina of Time?

There is a tool called Utily of Time, but it is out of date (2010),

[http://code.google.com/p/uot/](http://code.google.com/p/uot/)



With this tool I can open the ROM and then see all the models and animations
The big error is that models cannot be exported.

It would be nice that NOESIS could import this .rom or the format of the models, .zobj.

Is possible? 

Thanks.
## Post #1288
- Username: LUBDAR
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-12-16T00:34:51+00:00
- Post Title: Re: Señor Casaroja's Noesis

Noesis 4.0 is out.
[https://twitter.com/DickWhitehouse/stat ... 7523981313](https://twitter.com/DickWhitehouse/status/280107587523981313)
I finally added FF12. Thanks to revelation for all of his notes and feedback in the process.

There's also a new material expression system, which is kind of a big thing, but only plugin/script developers will care. Some example expressions:

```
				//vertex bulge effect
				noeMat->expr->v_posExpr[0] = rapi->Express_Parse("vert_pos_x + vert_nrm_x*0.05*abs(sin(time*0.001 + vert_idx*0.1))");
				noeMat->expr->v_posExpr[1] = rapi->Express_Parse("vert_pos_y + vert_nrm_y*0.05*abs(sin(time*0.001 + vert_idx*0.1))");
				noeMat->expr->v_posExpr[2] = rapi->Express_Parse("vert_pos_z + vert_nrm_z*0.05*abs(sin(time*0.001 + vert_idx*0.1))");
				//texture scrolling
				noeMat->expr->uvTrans[1] = rapi->Express_Parse("0.1 * sin(time*0.001)");
				//texture animation
				noeMat->expr->texIdx = rapi->Express_Parse("min(floor(mod(time*0.001, mdl_numtex)), mdl_numtex-1)");
				//per-vertex fogging
				noeMat->expr->v_clrExpr[0] = rapi->Express_Parse("1.0-max(min((vlen(vert_pos_x-view_x, vert_pos_y-view_y, vert_pos_z-view_z)-1.5) / 1.0, 1.0), 0.0)");
				noeMat->expr->v_clrExpr[1] = noeMat->expr->v_clrExpr[2] = noeMat->expr->v_clrExpr[0];
```

That's C code, but expressions are exposed to Python in the NoeMaterial as well (see the new functions for setting them), and their syntax is the same. See pluginshare.h in pluginsource.zip for a list of expression functions and variables. You also have the ability to register your own custom expression functions in native code, but I figured all those callbacks (from interpreted expression land to native land to Python native land to Python and back again) would add so much overhead that advanced expression usage like that is better left to native plugins.
## Post #1289
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2012-12-16T03:00:36+00:00
- Post Title: Re: Señor Casaroja's Noesis

What is a material expression? lol google didn't seem to give anything. Is it a common concept?
## Post #1290
- Username: LUBDAR
- Rank: veteran
- Number of posts: 95
- Joined date: Wed Jun 08, 2011 2:14 pm
- Post datetime: 2012-12-16T03:13:31+00:00
- Post Title: Re: Señor Casaroja's Noesis

As usual, thank you so much Mr. Adults!  This is great!  Absolutely great!!!
## Post #1291
- Username: Kaem
- Rank: beginner
- Number of posts: 27
- Joined date: Wed May 23, 2012 5:28 am
- Post datetime: 2012-12-16T09:08:55+00:00
- Post Title: Re: Señor Casaroja's Noesis

About import animations of FF12? Is impossible?
## Post #1292
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-12-16T16:32:02+00:00
- Post Title: Re: Señor Casaroja's Noesis

Anim data is harder to guess at by looking at binary. Did any versions of yaz0r's viewer ever support FF12 anims? The only one I found just crashed on them. Disassembling his viewer to figure out the format would be much more convenient than using my shitty pcsx2+IDA hybrid debugging solution.

I just made "material expressions" up, because they're expressions, and you attach them to materials.
## Post #1293
- Username: LUBDAR
- Rank: veteran
- Number of posts: 95
- Joined date: Wed Jun 08, 2011 2:14 pm
- Post datetime: 2012-12-16T17:39:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

too my knowledge yaz0r's tools didn't support animations...
## Post #1294
- Username: Devilot
- Rank: ultra-veteran
- Number of posts: 443
- Joined date: Tue Sep 07, 2010 5:12 pm
- Post datetime: 2012-12-16T18:21:53+00:00
- Post Title: Re: Señor Casaroja's Noesis

can I ask for support for Eternal Darkness: sanity's requiem for gamecube?
## Post #1295
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-12-16T20:30:41+00:00
- Post Title: Re: Señor Casaroja's Noesis

There's a new build up (4.01) that has some FF12 fixes. Lots of the models weren't matching the CLUTs and textures correctly and/or had some missing mesh pieces, that's fixed now.

> Reply from LUBDAR
>
> too my knowledge yaz0r's tools didn't support animations...That's a shame, I won't be able to get to animations for FF12 for a while then. I've been doing all of my work from my laptop, and it's a much bigger pain in the ass to do PS2 debugging there than it is on my desktop. But I'm rarely on my desktop these days.
## Post #1296
- Username: LUBDAR
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-12-21T21:44:33+00:00
- Post Title: Re: Señor Casaroja's Noesis

I made a surprising amount of progress on FF12 anims without having to actually disassemble anything.

I just need to finish properly decoding the delta streams now. Which is the hard part in terms of guessing at what shit does. I wish I had a good remote debugging setup for this kind of thing. Maybe I'll finish it by next week after all.
## Post #1297
- Username: Devilot
- Rank: ultra-veteran
- Number of posts: 443
- Joined date: Tue Sep 07, 2010 5:12 pm
- Post datetime: 2012-12-24T14:50:59+00:00
- Post Title: Re: Señor Casaroja's Noesis

Merry Xmas to MrAdults, if he does celebrate it. If not, Happy Holidays.
## Post #1298
- Username: kawayide
- Rank: beginner
- Number of posts: 37
- Joined date: Wed Nov 09, 2011 9:03 am
- Post datetime: 2012-12-28T09:48:16+00:00
- Post Title: Re: Señor Casaroja's Noesis

Can't believe ff12 has been supported, Awesome.
## Post #1299
- Username: Devilot
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-12-28T18:32:26+00:00
- Post Title: Re: Señor Casaroja's Noesis

4.02 is up. But at some point my Xentax login got destroyed, so I can't upload the build there. You'll have to get it using the in-program auto-update, or from my personal site:

[http://www.richwhitehouse.com/index.php ... hp#prjmp91](http://www.richwhitehouse.com/index.php?content=inc_projects.php#prjmp91)

> -4.02 - Partial FF12 animation support. (still don't have channel deltas working correctly, so you only get sequence base frames)
>
>  -4.02 - Added rapi.decompPRS and rapi.getPRSSize, to handle PRS compression which is used in a variety of Sega games.
>
>  -4.02 - Added an "Auto-reload scripts" option under Persistent settings->Other. Plugins must be reloaded for changes to the setting to take effect. If enabled, Python scripts are automatically reloaded when any .py file is changed under the plugins\python directory. Other scripting plugins may also choose to implement this setting.
>
>  -4.02 - Corrected an issue with animation hierarchies sometimes not being preserved when fed without models from plugins.
>
>  -4.02 - When script load errors occur, if the debug log is open and script auto-reloading is enabled, the error will not pop up as a messagebox and will instead only print to the debug log.
The auto-reload thing was added because WRS wanted it, but it's disabled by default because most users won't need/want it, and I didn't want to impose the overhead of a filesystem hook when it's not needed.

Edit: Oh, and here's a quick script I wrote to dump the PRS files from Chu Chu Rocket for the Dreamcast:

```

def registerNoesisTypes():
	handle = noesis.register("PRS Data", ".prs")
	noesis.setHandlerExtractArc(handle, prsExtractArc)
	noesis.logPopup()
	return 1

def prsExtractArc(fileName, fileLen, justChecking):
	with open(fileName, "rb") as f:
		if justChecking:
			return 1
		compData = f.read(fileLen)
		decomp = rapi.decompPRS(compData, rapi.getPRSSize(compData))
		fname = rapi.getExtensionlessName(rapi.getLocalFileName(rapi.getLastCheckedName())) + "_decomp.pvm"
		print("Writing", fname)
		rapi.exportArchiveFile(fname, decomp)
	return 1

```

It would probably be better-suited to being a tool script that scans the folder for PRS files and decompresses them to a central location, but I was lazy.
## Post #1300
- Username: Mr.Mouse
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2012-12-30T23:38:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

I would trust you can login at Xentax again, no?
## Post #1301
- Username: Devilot
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2012-12-31T16:55:50+00:00
- Post Title: Re: Señor Casaroja's Noesis

Yeah, just published the build on Xentax too. Sorry it took a while, haven't been home.
## Post #1302
- Username: Mr.Mouse
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2013-01-02T22:07:37+00:00
- Post Title: Re: Señor Casaroja's Noesis

AAAAND a happy 2013 to all!
## Post #1303
- Username: Dinoguy1000
- Rank: Site Admin
- Number of posts: 786
- Joined date: Mon Sep 13, 2004 8:55 am
- Post datetime: 2013-01-02T23:03:13+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Mr.Mouse
>
> AAAAND a happy 2013 to all!
## Post #1304
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-01-03T04:56:18+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Dinoguy1000
>
> Mr.Mouse wrote:AAAAND a happy 2013 to all!May none of us starve to death this year.
## Post #1305
- Username: WRS
- Rank: ultra-veteran
- Number of posts: 603
- Joined date: Fri Nov 06, 2009 7:13 am
- Post datetime: 2013-01-04T03:14:16+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> The auto-reload thing was added because WRS wanted it, but it's disabled by default because most users won't need/want it, and I didn't want to impose the overhead of a filesystem hook when it's not needed

Brilliant, thanks!     Now I have no excuse not to finish some of my 3D format scripts!
## Post #1306
- Username: Dinoguy1000
- Rank: Site Admin
- Number of posts: 786
- Joined date: Mon Sep 13, 2004 8:55 am
- Post datetime: 2013-01-04T03:34:11+00:00
- Post Title: Re: Señor Casaroja's Noesis

MrAdults, I don't suppose you could add support for [*.CAR](http://carnivores.wikia.com/wiki/CAR) and [*.3DF](http://carnivores.wikia.com/wiki/3DF) files from Carnivores, Carnivores 2, and Carnivores Ice Age? I can send you example files if you need them. (If you're willing to put a bit more work into it, it'd also be nice to see what you can support of the [*.MAP](http://machf.tripod.com/Hunt/Carn/map.htm) and [*.RSC](http://z3.invisionfree.com/The_Carnivores_Saga/index.php?showtopic=48) formats, though these change between Carnivores and C2/CIA, and I unfortunately haven't gotten around to writing them up on the Carnivores wiki yet (though, again, I can send you sample files if needed); I'd also appreciate any comments you may have on the wiki coverage of the *.CAR/*.3DF formats)
## Post #1307
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-01-04T21:51:52+00:00
- Post Title: Re: Señor Casaroja's Noesis

I can add it down on my todo list, but that means it could be months/years before I get to it, because that todo list is massive already. And I just applied for another salary job, so my Noesis work is going to slow to a crawl again soon once I actually start working fulltime. I'm probably going to be moving across the country soon too, assuming I get one of the jobs I want.

It looks like those 2 formats are already generally figured out, though, so anyone with C/C++ or Python ability could write a Noesis plugin/script for them.
## Post #1308
- Username: Dinoguy1000
- Rank: Site Admin
- Number of posts: 786
- Joined date: Mon Sep 13, 2004 8:55 am
- Post datetime: 2013-01-05T02:59:30+00:00
- Post Title: Re: Señor Casaroja's Noesis

That's fine; if I was really that worried about seeing them supported (and serious about learning Python  ), I'd try my hand at writing plugins for them myself (and I may yet, if I ever find the motivation =D ).

In the meantime, as you said, if anyone else wants to try their hand at it, they're more than welcome to.

And yeah, having the original source code to the games (well, most of it, at least) definitely helps out there.  (it also helps that they look to me to be fairly simple as model formats go (though note the disclaimer: I'm anything but knowledgeable about model formats, so I could be very mistaken))
## Post #1309
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2013-01-06T15:56:54+00:00
- Post Title: Re: Señor Casaroja's Noesis

When will ps2 vif tag support be added to the python side of Noesis?
## Post #1310
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2013-01-06T15:59:50+00:00
- Post Title: Re: Señor Casaroja's Noesis

He is busy right now it will get added when he has time.
Don't worry once its added ill support it but you should not pester him about it.
## Post #1311
- Username: kawayide
- Rank: beginner
- Number of posts: 37
- Joined date: Wed Nov 09, 2011 9:03 am
- Post datetime: 2013-01-07T13:14:12+00:00
- Post Title: Re: Señor Casaroja's Noesis

what a coincidence that Ogre's new GUI is called Noesis too.
## Post #1312
- Username: lionheartuk
- Rank: double-veteran
- Number of posts: 749
- Joined date: Wed May 17, 2006 5:55 am
- Post datetime: 2013-01-07T18:28:04+00:00
- Post Title: Re: Señor Casaroja's Noesis

Ah this tool just gets better and better with every update.
I was just wondering if you might at any point be able to add support for Breath of Fire IV's .EMI format, all files including spritesheets audio, possibly 3D models too, are all in these .Emi files, MultiEx has a script to extra the files within those but it just drops out noname files with no extension.

Look forward to the next update, great work with Noesis.
## Post #1313
- Username: Kaem
- Rank: beginner
- Number of posts: 27
- Joined date: Wed May 23, 2012 5:28 am
- Post datetime: 2013-01-09T14:19:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

Mr.Adults, I have a fault with FF12 models, well... mostly in the animations, when I import some .ff12a file in NOESIS i see animation but with 'lag', u know why it can this happen?

It happen in all ff12a files  

PD: I have Noesis 4.02
EDIT: I want to clarify of the 'lag', for example, if an animation has 400 frames i only see 10-11 frames in motion.

I tried to export an animation to other formats as .md5mesh and .md5anim for see in 3DSMax, but same thing happens and the mesh is destroys when the animation play.
## Post #1314
- Username: rubening
- Rank: beginner
- Number of posts: 38
- Joined date: Tue Jun 29, 2010 1:47 am
- Post datetime: 2013-01-09T22:59:38+00:00
- Post Title: Re: Señor Casaroja's Noesis

i was wondering if you could try to take a look at these animation files from Resident Evil 5

[http://www.mediafire.com/?i4kogaeizv4060s](http://www.mediafire.com/?i4kogaeizv4060s)

are re5 chris redfield action animations(mot file), the LMT is the pack of all the animations, but in the folder you got the other exported. would be nice if you make noesis able to export them in an known format for 3dsmax/maya/motionbuilder etc..?

please?

other question about resident evil 5 models. when i import the mod file there, is there a way we can move the vertexes in this program? and save the "MOD" file back to the default format?
## Post #1315
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2013-01-09T23:42:52+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from rubening
>
> i was wondering if you could try to take a look at these animation files from Resident Evil 5

http://www.mediafire.com/?i4kogaeizv4060s

are re5 chris redfield action animations(mot file), the LMT is the pack of all the animations, but in the folder you got the other exported. would be nice if you make noesis able to export them in an known format for 3dsmax/maya/motionbuilder etc..?

please?

other question about resident evil 5 models. when i import the mod file there, is there a way we can move the vertexes in this program? and save the "MOD" file back to the default format?nice try
## Post #1316
- Username: rubening
- Rank: beginner
- Number of posts: 38
- Joined date: Tue Jun 29, 2010 1:47 am
- Post datetime: 2013-01-10T00:02:52+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Tosyk
>
> rubening wrote:i was wondering if you could try to take a look at these animation files from Resident Evil 5

http://www.mediafire.com/?i4kogaeizv4060s

are re5 chris redfield action animations(mot file), the LMT is the pack of all the animations, but in the folder you got the other exported. would be nice if you make noesis able to export them in an known format for 3dsmax/maya/motionbuilder etc..?

please?

other question about resident evil 5 models. when i import the mod file there, is there a way we can move the vertexes in this program? and save the "MOD" file back to the default format?nice try
did anyone try it already? xD i'm too late?
## Post #1317
- Username: kawayide
- Rank: beginner
- Number of posts: 37
- Joined date: Wed Nov 09, 2011 9:03 am
- Post datetime: 2013-01-20T11:53:24+00:00
- Post Title: Re: Señor Casaroja's Noesis

still wait for in ff12 animation support
## Post #1318
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2013-01-22T20:01:02+00:00
- Post Title: Re: Señor Casaroja's Noesis

Enjoy waiting.
## Post #1319
- Username: Devilot
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-02-04T01:55:02+00:00
- Post Title: Re: Señor Casaroja's Noesis

People have been asking for me to add Metal Gear Rising because it's the same format as Bayonetta/Vanquish/etc. I just got around to taking a look at some files, it's similar but the model header is quite different and I'm guessing so are the draw structures and material mappings. But I didn't look that far. So, that won't be making it into the next release. I'm on day 6 of some kind of terrible disease that I assumed was the flu until it started trying harder and harder to kill me instead of going away, and I've gotta move my family to Texas in less than 2 weeks, and as I stared at my hex editor in an addle-minded fever haze I realized I must be completely insane to be looking at hex right now. Sorry to disappoint. I'll get to it one day.
## Post #1320
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2013-02-04T03:43:50+00:00
- Post Title: Re: Señor Casaroja's Noesis

Ha ha ha I know the feeling man... I was once told I might have leukemia after I came down with sweating and a fever and took a blood test... only to go through months and months more of testing just to find out it was probably some 'unknown' virus. Sucks when the doctors can't diagnose shit. Just be glad they haven't had you do a bone marrow biopsy just yet .
## Post #1321
- Username: Devilot
- Rank: ultra-veteran
- Number of posts: 443
- Joined date: Tue Sep 07, 2010 5:12 pm
- Post datetime: 2013-02-04T07:29:45+00:00
- Post Title: Re: Señor Casaroja's Noesis

keep us up to date with your health.
## Post #1322
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2013-02-04T16:21:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from howfie
>
> Ha ha ha I know the feeling man... I was once told I might have leukemia after I came down with sweating and a fever and took a blood test... only to go through months and months more of testing just to find out it was probably some 'unknown' virus. Sucks when the doctors can't diagnose shit. Just be glad they haven't had you do a bone marrow biopsy just yet .

Not our fault you get 'unknown viri' from somewhere!
## Post #1323
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2013-02-04T16:43:51+00:00
- Post Title: Re: Señor Casaroja's Noesis

Tip for everyone here: don't have sex in the woods.
## Post #1324
- Username: xPreatorianx
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Fri May 18, 2012 12:25 pm
- Post datetime: 2013-02-04T22:31:08+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hopefully this is the right thread.... For some reason whenever I'm viewing models of DOA5 in neosis, I can't get the texture to display. I have no idea why. I'm running Windows 8. It just shows the grey model. Is there anyway to fix this? I tried the DXwebsetup and the jun2010redist. But I'm still having this issue.
## Post #1325
- Username: Murdiaries
- Rank: n00b
- Number of posts: 11
- Joined date: Thu Mar 03, 2011 9:40 pm
- Post datetime: 2013-02-05T00:46:20+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hi everyone,
I'm sending you this message representing Hokuto No Ken fanbase, which is currently working on Shin Hokuto Musou texture mods. We already extracted all models and textures already, being even able to re-import custom ones in .G1T:
[http://www.youtube.com/watch?v=d3sCLj24sGs](http://www.youtube.com/watch?v=d3sCLj24sGs)

While models are already being displayed in Noesis, loading up the .G1T texture makes the program crash. As this poses a considerable issue when editing/previewing texture mods, here's a sample model +.G1T data, just in case you'd like to help us out!
[http://www.mediafire.com/?vdp7h4tno3vf9zp](http://www.mediafire.com/?vdp7h4tno3vf9zp)


Thanks and Regards,
## Post #1326
- Username: d2rnattakorn
- Rank: beginner
- Number of posts: 39
- Joined date: Fri Mar 19, 2010 9:18 pm
- Post datetime: 2013-02-06T15:43:53+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Murdiaries
>
> Hi everyone,
I'm sending you this message representing Hokuto No Ken fanbase, which is currently working on Shin Hokuto Musou texture mods. We already extracted all models and textures already, being even able to re-import custom ones in .G1T:
http://www.youtube.com/watch?v=d3sCLj24sGs

While models are already being displayed in Noesis, loading up the .G1T texture makes the program crash. As this poses a considerable issue when editing/previewing texture mods, here's a sample model +.G1T data, just in case you'd like to help us out!
http://www.mediafire.com/?vdp7h4tno3vf9zp


Thanks and Regards,

Hi Murdiaries...you are awesome!!!   

I looked at your videos and wow you modded the GAME!
I only able to view the models without the textures in Noesis. Can you please help/tell me how to extract the textures from the .G1T please.
Better yet, can you please tell us how did you mods the vertex and re-import the textures, what are the steps and tools did you use?

Thank you again, I am SO looking forward to mods this game
## Post #1327
- Username: Arymond
- Rank: advanced
- Number of posts: 54
- Joined date: Sun Feb 12, 2012 7:49 am
- Post datetime: 2013-02-10T03:18:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hi, i see you Fixed the NJCM format you got anim's to play too!

ILLBLEED used this format and it work really well other then the fact that it loads the NMDM's all but it plays all of then as if they are one file? is there a way to load the anims separately? or a wav to seprate the Illbleed NJ's? i'd be glad to send you sample files if you need them 

the NJ's have the NJCM(s) the PVR's and NMDM's maybe more?
## Post #1328
- Username: Arymond
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-02-10T03:24:29+00:00
- Post Title: Re: Señor Casaroja's Noesis

You can view the NMDM sequences individually by clicking on them in the data viewer.
## Post #1329
- Username: Arymond
- Rank: advanced
- Number of posts: 54
- Joined date: Sun Feb 12, 2012 7:49 am
- Post datetime: 2013-02-10T06:01:58+00:00
- Post Title: Re: Señor Casaroja's Noesis

Oh Cool!

Now about this
[http://www.mediafire.com/view/?dpwxs7oavdswecd](http://www.mediafire.com/view/?dpwxs7oavdswecd) (Picture)
Im not sure if the Model or the anim is playing wrong? How to i Init-pose it? well make it not use Motion files.

Allso Can i Export Single NMDM's (as DAE or MD5anim) other then the Cluster?
## Post #1330
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-02-11T17:22:03+00:00
- Post Title: Re: Señor Casaroja's Noesis

Animation quaternions for some of those models needed to be renormalized for some reason. Upgrade to 4.052 to fix the issue.

Click middle-mouse or push F12 to reset the model to its unanimated pose.

COLLADA and md5anim don't support exporting sequence data and just write all frames as a flat sequence. If you really wanted, you could hexedit the NMDM header to something else on the ones you don't want in the exported batch.
## Post #1331
- Username: Arymond
- Rank: advanced
- Number of posts: 54
- Joined date: Sun Feb 12, 2012 7:49 am
- Post datetime: 2013-02-11T19:42:11+00:00
- Post Title: Re: Señor Casaroja's Noesis

Yay everything else i was gonna add was fixed too!

Ok, so there are also Extra animations (For the Events) How would i go about loading them? 

The AFSs lists them as *.NJM (Ninja Motion?) Btw, But they still have the NMDM Header.

Allso There dose not seem to be a *.NMN (or NJM if you decide to change it) Filter :p
## Post #1332
- Username: Darkfox
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-02-12T18:46:31+00:00
- Post Title: Re: Señor Casaroja's Noesis

NMDM files can't be loaded without a corresponding NJCM, because NMDM doesn't have any of the node or hierarchy data in it. So you have to pair the NMDM with the right NJCM for Noesis to load it. If it's not on the same file, you can hexedit the right NJCM onto your NMDM list or vice versa.
## Post #1333
- Username: Arymond
- Rank: advanced
- Number of posts: 54
- Joined date: Sun Feb 12, 2012 7:49 am
- Post datetime: 2013-02-13T03:33:15+00:00
- Post Title: Re: Señor Casaroja's Noesis

oh ok, Uhm the Event Files (and Stage Data) are in CGM Files they have NJTL's in them but when i manually cut them (at each NJTL) they don't load with Textures(Sometimes) or Animate Correctly...
## Post #1334
- Username: diabolik83
- Rank: beginner
- Number of posts: 21
- Joined date: Thu Mar 24, 2011 11:42 pm
- Post datetime: 2013-02-13T14:19:17+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hi guys, I have a great problem with noesis. It crashes when I try to view a model with g1t file. But this happens only when the file g1t has a great size, such as 4mb. Can you help me?thanks a lot
## Post #1335
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2013-02-14T00:00:56+00:00
- Post Title: Re: Señor Casaroja's Noesis

How do I take a screenshot of the preview in full screen?
Print screen doesn't seem to capture anything  (completely transparent when I paste in paint.NET)

Ok that is still something but...
## Post #1336
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-02-14T17:19:35+00:00
- Post Title: Re: Señor Casaroja's Noesis

It depends on your hardware/drivers. Most ATi/nVidia stuff (including mine) has no problem printscreening from a fullscreen OpenGL context, but some drivers will screw it up for whatever reason. I recall having trouble doing it with another application under a shitty Intel onboard graphics solution once, and I got around it by using the screen capture option in Paint Shop Pro 5. I guess it grabs the buffer out of the device context which still works even with Intel's garbage OpenGL implementation.
## Post #1337
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2013-02-14T23:25:21+00:00
- Post Title: Re: Señor Casaroja's Noesis

I have an ATI radeon 4500 which isn't..modern...but probably not old either.
Maybe it's just paint.NET that doesn't like it. I'll try a different photo editor
## Post #1338
- Username: DvT
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sun Nov 15, 2009 9:09 pm
- Post datetime: 2013-02-20T15:38:35+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hi I recently discovered this topic about that amazing program.
Now in the past I have been busy finding tools to export all sorts of GTA IV Xbox data. The archives are accessible, textures (xtd) are exportable, audio is exportable (xma codec), but the models are still a mystery.

And seeing you guys managed to export RDR models, I thought maybe exporting IV models would be as easy.
IV models have the file format wdr, but on Xbox it is xdr.

My goal is to convert the buttoned suit featured only on the Xbox, to the PC version.



I have the texture already:
## Post #1339
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2013-02-24T10:01:51+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from chrrox
>
> He is busy right now it will get added when he has time.
Don't worry once its added ill support it but you should not pester him about it.
But it has been supported by now; will you support this or have you given up on it?
## Post #1340
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2013-02-24T11:37:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

Have you no shame at all, there are nicer ways to ask for someone's help.

Perhaps he didn't notice it was implemented, we're not here to be your servants
## Post #1341
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2013-02-26T10:35:32+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Demonsangel
>
> Have you no shame at all, there are nicer ways to ask for someone's help.

Perhaps he didn't notice it was implemented, we're not here to be your servants
I'm sorry, I've tried asking him other ways and I never got a response, and he hasn't said anything on the matter for months now. I just don't want any false hope that it will happen if he's lost interest. If I had any idea how 3d model formats or PS2 vif tags worked, I wouldn't be asking. I feel your response was way too harsh and that my line of questioning is reasonable.
## Post #1342
- Username: brienj
- Rank: VIP member
- Number of posts: 288
- Joined date: Mon May 02, 2005 8:48 pm
- Post datetime: 2013-02-26T16:41:28+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Mirrorman95
>
> Demonsangel wrote:Have you no shame at all, there are nicer ways to ask for someone's help.

Perhaps he didn't notice it was implemented, we're not here to be your servants
I'm sorry, I've tried asking him other ways and I never got a response, and he hasn't said anything on the matter for months now. I just don't want any false hope that it will happen if he's lost interest. If I had any idea how 3d model formats or PS2 vif tags worked, I wouldn't be asking. I feel your response was way too harsh and that my line of questioning is reasonable.
Hell, it was probably over a year ago that I asked if he could work on the YOBJ model files from Yukes games, so I just went ahead and made a plugin for 3DS Max, instead of waiting for someone else to do the work ...
## Post #1343
- Username: Mr.Mouse
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2013-02-26T20:53:56+00:00
- Post Title: Re: Señor Casaroja's Noesis

Indeed. Rich has other things to worry about, besides Noesis, that he actually gets paid for. He does updates, but in his own time. And that is all also quite reasonable. Like this motto: "When you want something done, you gotta do it yourself."  Now, let us all be on our merry way
## Post #1344
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2013-02-27T17:50:21+00:00
- Post Title: Re: Señor Casaroja's Noesis

Motion controls aren’t just for gaming anymore. Leap Motion will begin filling pre-order for its titular device on May 13. Similar to the Microsoft Kinect, Leap Motion is a small 3-D motion capturing device that works with laptops and desktops. About the size of a USB stick, the device sports tiny cameras that can track even the smallest moments from hands and fingers — up to a 0.01 of a millimeter at a max 290 frames per second.

The company has also announced the launch of its Airspace app store. Users can expect to see Corel, Autodesk, Cut the Rope, Disney’s Sugar Rush and Dischord, a drumming app from renowned game studio Double Fine. Mac owners will also get some love with Clear, a sort of  to-do list for Mac. According to VentureBeat, 52,000 developers have applied for developer kits with 12,000 sent out.

Orders will be shipped in the order they were received, so those that ordered first will be the first to get their hands on the device. Interested consumers can still order the device online, but the price has jumped from $70 to $80. Shoppers can also check their local Best Buy which will start carrying the device on May 19...

[http://blog.laptopmag.com/leap-motion-controller-ships](http://blog.laptopmag.com/leap-motion-controller-ships)

So.. Mr.Adults any chance you can wrangle this up and incorporate into noesis? i know, i know, they probably charge high for the dev. kit. but maybe, just maybe you will like this? and think it's worth getting...
## Post #1345
- Username: ShinKun
- Rank: veteran
- Number of posts: 132
- Joined date: Sun Aug 08, 2010 10:02 pm
- Post datetime: 2013-03-02T01:39:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

Would it be possible to add support for Tales of Heroes: Twin Brave MDL, PPT, and ANI files? I could give you some samples but due to the rules...
MDL = The games models format
PPT= PSP texture files
ANI = Animation files.
## Post #1346
- Username: Darkfox
- Rank: VVIP member
- Number of posts: 688
- Joined date: Sat Jul 05, 2003 1:11 am
- Post datetime: 2013-03-04T02:52:31+00:00
- Post Title: Re: Señor Casaroja's Noesis

After some hexing I found out that Noesis doesn't read all the motion files. Two hex values after NMDM make all the difference to Noesis as some values are completely ignored, and skipped. Of course, messing with those values completely screws up the animation despite being loaded into Noesis. I guess since it is a more recent feature it is still in testing. Not sure how I'd deliver an example of this since the new rules and all.

But I will say so far the support is very very good.
## Post #1347
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-03-07T00:40:35+00:00
- Post Title: Re: Señor Casaroja's Noesis

I thought I made it find NMDM's outside of NJTL's too. If you want to send me your files I can see what's going on. At some point. I haven't had time/energy to work on Noesis in a while now.
## Post #1348
- Username: Darkfox
- Rank: VVIP member
- Number of posts: 688
- Joined date: Sat Jul 05, 2003 1:11 am
- Post datetime: 2013-03-09T04:32:17+00:00
- Post Title: Re: Señor Casaroja's Noesis

It does? How does it do this? By name? Because the tests I ran showed it wouldn't read a motion file without being hexed into a file with the model. I didn't try changing names though. Anyways, will drop a couple examples via PM.
## Post #1349
- Username: Darkfox
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-03-11T00:26:48+00:00
- Post Title: Re: Señor Casaroja's Noesis

You misunderstood, I meant outside of NJTL chunks. Not all nj models start with NJTL, it's an optional chunk. However, NJTL itself can parent NJCM and NMDM chunks. Noesis will find NMDM chunks in the main file or in the NJTL nest.

Noesis will also combine all NMDM chunks in a file. So if you have 2 NJCM models in the file with 40 bones each, you end up with a single model that has 80 bones. It doesn't compensate for this with animations, however, so if you have NMDM's for 40-bone models in the file it won't be able to combine them with the 80 bone model. That's what's happening with some of those Maken X files you sent over.

I think the most elegant way to deal with this across all the different Ninja model implementations and uses is to make a script that lets people parse together NJCM/NMDM from one or more files and spit them out into a single file that Noesis loads. Anyone could write the script fairly easily, since skipping over Ninja chunks is easy and you just need to present the user with options for which chunks they want to select from which file(s) to shove out to a single file for Noesis. But if no one does, I will... some day.

Also, I have no idea what's up with the geometry on some of the Maken X models. They don't use multiple vertex weights, the vertex/index data chunk sizes fit as expected, the skeletons are transformed correctly, and the chunk lists terminate correctly. They might just be re-appropriating surfaces and/or messing with vertices/triangles themselves in-game, I dunno. They might also do some custom logic with taking node data from multiple different models during transform. I know some games do crazy game-specific shit like that, SC5 was weird too in that all of its data was relative to a single global address instead of the NMDM chunk.
## Post #1350
- Username: brienj
- Rank: VIP member
- Number of posts: 288
- Joined date: Mon May 02, 2005 8:48 pm
- Post datetime: 2013-03-11T00:59:02+00:00
- Post Title: Re: Señor Casaroja's Noesis

I've heard that your program has TIM2 support, and I noticed you only have source code for plugins, but would you be willing to share the TIM2 texture source code?  Every TIM2 source code I've found will not work, and hoping you may have some other source code.  I'd love to have the TIM2 source code from Game Graphic Studio, as it is the only program I've found that can properly open and display the TIM2 textures I have been dealing with, but I can't contact the program developer and their website is gone now.  It would be nice to add at least a previewer of the TIM2 textures, if not a converter to convert them back and forth, so they can be edited in an image program.  Right now, I am externally loading the TIM2 images in GGS for people to preview the textures.
## Post #1351
- Username: Darkfox
- Rank: VVIP member
- Number of posts: 688
- Joined date: Sat Jul 05, 2003 1:11 am
- Post datetime: 2013-03-11T05:59:18+00:00
- Post Title: Re: Señor Casaroja's Noesis

Ah, alright, I see what you mean now. I understand that Noesis scans for viable Ninja headers as long as they start with either a Ninja Table or Ninja Chunk Model. The first set of files I sent were from a game called Death Crimson OX. The animations and bone count do not add up you are saying? That really actually explains a lot. You see, Death Crimson uses one animation batch for a number of similar enemies each having some variation, like extra parts being present or not along with the bones associated with them. It also explains what those two bytes after NMDM are. 

As for Maken X, this wouldn't be the only time Atlus did some hacksy things in their games, so I wouldn't be surprised. A lot of the hacksy stuff they do is for performance, though. I'll check into it more and see if those missing parts are actually just scattered elsewhere in the containers.
## Post #1352
- Username: Devilot
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-03-14T03:35:26+00:00
- Post Title: Re: Señor Casaroja's Noesis

I just did a small update (mainly because my stepdaughter wanted to use Noesis to make gifs), the textsprite format hadn't been paid attention to in years and it was somewhat broken in a few ways, and there'd been a bug in there that could crash on bilinear resizes that I'm pretty surprised I hadn't caught by now.

Steps for disassembling a .gif and reassembling it:
1) Browse to the .gif file in Noesis, click on it in the Noesis file list view, go to File->Export. Click the "Main output type" dropdown and select ".tspr - Text Sprite Set". Click OK.
2) After export is done, close the export dialog. Refresh the file list in Noesis. (click the little blue circle thing below the file list) There should now be a .tspr file exported from the .gif.
2.5) Optionally, go open the .tspr file in a text editor and make any desired modifications to it. You can also modify the .png format images exported for each frame, named whatever the .tspr is named but with _00.png appended.
3) Click on the .tspr file in the Noesis file view, go to File->Export. Click the "Main output type" dropdown and select ".gif - GIF Image". Click OK.
4) You now have an animated .gif file (probably named something like "[originalname]outout.gif") reflecting any changes you may have made to the .tspr or the individual frames.

brienj: The TIM2 code in Noesis was spec'd off of some random code I googled a long time ago, but I don't remember what it was from. Does Noesis load the files you have in mind, or does it fail too?
## Post #1353
- Username: brienj
- Rank: VIP member
- Number of posts: 288
- Joined date: Mon May 02, 2005 8:48 pm
- Post datetime: 2013-03-14T08:58:35+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> 
brienj: The TIM2 code in Noesis was spec'd off of some random code I googled a long time ago, but I don't remember what it was from. Does Noesis load the files you have in mind, or does it fail too?
It shows the 32-bit color TIM2s, but fails to show anything on the 256-color indexed ones.  I could maybe modify the source code to work with those possibly.
## Post #1354
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-03-15T01:54:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

Well, if Noesis can't load them and they're valid, send me some. I'll take a look next time I'm on a machine with the code. I also googled for the code I spec'd it off for you, but it seems to have magically disappeared from the internet. Much like the FF11 model+anim spec doc I casually came across years ago.
## Post #1355
- Username: brienj
- Rank: VIP member
- Number of posts: 288
- Joined date: Mon May 02, 2005 8:48 pm
- Post datetime: 2013-03-15T22:22:39+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Well, if Noesis can't load them and they're valid, send me some. I'll take a look next time I'm on a machine with the code. I also googled for the code I spec'd it off for you, but it seems to have magically disappeared from the internet. Much like the FF11 model+anim spec doc I casually came across years ago.
Yeah, that's the problem I am having, all good TIM2 source code is not on the internet, nothing but bad links.  I suppose since the PS2 is getting so old now, and everybody was just happy with Game Graphic Studio, and it is about the only program made for dealing with them.  I know that the format is similar to other indexed image formats, like BMP, but I am not the greatest with image formats.

I can send you a bunch of them.  I'll package up a bunch and put them on MediaFire, and PM you the link and you can look at them when you have a chance.  I'll also include the images converted to PNG, so you can see what they are supposed to look like.  I have both 256 color indexed with and without alpha.  I'll send some of each, as well as a couple TIM2 images that work with your program.  Thanks for your help on this.  Much appreciated, and you can make it into my list of credits when I release my tool for KOC2.  LOL
## Post #1356
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-03-16T22:03:14+00:00
- Post Title: Re: Señor Casaroja's Noesis

I had a backlog of 500 or so Noesis crashes that I just hadn't looked at. Turns out the bilinear resampling fix I made in that last release was pretty important, because it accounts for a good half of those 500 crashes. It was affecting things all over the place, because so many things do resizes, and it does resizes for power of 2 before uploading textures on hardware that doesn't support power of 2 textures. Which a surprising number of people are still running on.
## Post #1357
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2013-03-16T22:13:29+00:00
- Post Title: Re: Señor Casaroja's Noesis

i blame dell and compaq and hp for mass-producing even-below-shit-quality PCs; these manufacturers single-handedly killed PC gaming over the last 10 years.
## Post #1358
- Username: Darko
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-03-17T16:37:56+00:00
- Post Title: Re: Señor Casaroja's Noesis

The majority of the other crashes ended up being on .edgemodel files that someone (I think chrrox) wrote a script for. So I decided to finally add index bounds checking against vertex array sizes for Python. It's exposed to the native API by providing "Safe" versions of all the bind functions, and Python just always uses the safe implementations now. If you rpgCommitTriangles and the indices go out of bounds, it raises an exception telling you which buffer (position/normal/etc.) would've been read out of bounds.

I recommend everyone writing scripts upgrade to 4.06, it'll probably also make it easier to track down problems in your actual scripts with Noesis not exploding itself every time you feed it out of bounds indices. I don't expect the performance penalty of native-side bounds-checking will matter a lot if you've already bitten the performance bullet by going with Python to begin with, but if you want to disable it anyway you can uses noesis.RPGOPT_UNSAFE.
## Post #1359
- Username: finale00
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-03-23T23:27:44+00:00
- Post Title: Re: Señor Casaroja's Noesis

I'm getting a lot of weird crashes today. Someone just got a stack overflow from trying to put Lara Croft from the new Tomb Raider into an insanely-sized quadtree. I don't know what some of you people are thinking.
## Post #1360
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2013-03-24T05:50:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

wasnt me  what are you using quadtrees for? a simple model viewer doesnt need quadtrees.
## Post #1361
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-03-24T11:30:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

Noesis isn't a simple model viewer.  It has hundreds of options for data processing and optimization, and I've used it for cooking model and animation data for a number of projects now. All of those processing options of course need to be invoked by the user, which is why it's funny that someone explicitly tried generating a quad tree on Lara with tens of thousands of nodes. I suspect they thought it had something to do with triangle conversion.
## Post #1362
- Username: Devilot
- Rank: ultra-veteran
- Number of posts: 443
- Joined date: Tue Sep 07, 2010 5:12 pm
- Post datetime: 2013-03-26T17:25:54+00:00
- Post Title: Re: Señor Casaroja's Noesis

i wonder if the existing KH plugins will work for the new edition coming out, the one in HD!
## Post #1363
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-03-27T02:22:18+00:00
- Post Title: Re: Señor Casaroja's Noesis

I would imagine the answer to that is only yes if they're using the original untouched assets, and if they're using the original untouched assets, well, we already have those.
## Post #1364
- Username: Devilot
- Rank: ultra-veteran
- Number of posts: 443
- Joined date: Tue Sep 07, 2010 5:12 pm
- Post datetime: 2013-03-27T06:56:12+00:00
- Post Title: Re: Señor Casaroja's Noesis

the models, maybe. the textures would be different.
## Post #1365
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-03-27T14:33:32+00:00
- Post Title: Re: Señor Casaroja's Noesis

Both would typically be cooked per platform specifications. Unless they just used the native format, but they'd likely only do that if the assets were untouched. I don't see them making new assets and putting them through an ancient cooking pipeline.
## Post #1366
- Username: Devilot
- Rank: ultra-veteran
- Number of posts: 443
- Joined date: Tue Sep 07, 2010 5:12 pm
- Post datetime: 2013-04-02T11:34:07+00:00
- Post Title: Re: Señor Casaroja's Noesis

Sin's model from FFX is still all weird, I wonder why. I think the model is kinda messed up. hope they redo it for the Re-release of FFX.
## Post #1367
- Username: Devilot
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-04-10T00:47:12+00:00
- Post Title: Re: Señor Casaroja's Noesis

Noesis 4.069 had another pretty important crash fix. I once again strongly recommend updating. Instead of repeatedly submitting the same crash that I've already fixed.
## Post #1368
- Username: Devilot
- Rank: ultra-veteran
- Number of posts: 443
- Joined date: Tue Sep 07, 2010 5:12 pm
- Post datetime: 2013-04-10T05:59:00+00:00
- Post Title: Re: Señor Casaroja's Noesis

what crash? I always thought Noesis was perfect
## Post #1369
- Username: Devilot
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-04-10T12:33:27+00:00
- Post Title: Re: Señor Casaroja's Noesis

It was a crash introduced several releases ago, there was a typo in the safe buffer handling.

For those who can't be assed to read a text file:

> -4.069 - Fixed a crash in Python vertex color handling.
>
>  -4.068 - Fixed possible overwrite issues with the auto-updater.
>
>  -4.067 - Fix for a problem introduced with the DNF plugin by the last release.
>
>  -4.066 - Significant restructuring of native plugin code. Old plugin binaries will still work fine, but to compile old plugins against the new SDK, you'll have to make some changes.
>
>  -4.066 - Made removal of temp files check for failure cases.
>
>  -4.066 - Fixed a crash in the MFC splitter caused by broken IntelliMouse scroll handling, because I actually found this crash in my report list.
>
>  -4.065 - Running Noesis with "?multinstance" on the commandline will allow multiple instances.
>
>  -4.065 - Fixed a potential crash in the ISO extractor.
>
>  -4.065 - Fixed pixel order being incorrect for 4bpp PNG images.
>
>  -4.065 - Fixed log windows being limited to 30000 characters by default.
>
>  -4.065 - Fixed some JK:MotS levels not being recognized as MotS format. (thereby causing Noesis to crash)
>
>  -4.065 - Fixed TIM2's sometimes being incorrectly swizzled. This was breaking Saint Seiya.
>
>  -4.065 - Fixed a bug in the SMD parser which was causing bad results on vertices with 0 weights. Thanks to Badcrc for reporting this bug.
>
>  -4.064 - Fixed a potential crash in the GMO loader.
>
>  -4.064 - Fixed a crash when loading invalid NJCM data.
>
>  -4.063 - Made rpgCommitTriangles even more bulletproof.
>
>  -4.063 - Fixed possible crash when feeding None for the index buffer to rpgCommitTriangles.
## Post #1370
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2013-04-10T14:27:44+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> 
 -4.066 - Significant restructuring of native plugin code. Old plugin binaries will still work fine, but to compile old plugins against the new SDK, you'll have to make some changes.
Does this mean you're encouraging to use the native code again?
Half a year back you told me to not bother with it vs python.
## Post #1371
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-04-10T19:18:07+00:00
- Post Title: Re: Señor Casaroja's Noesis

I generally advocate the use of native plugins where performance/load time matters, or where you need to do something you can only do in native code. Like make a custom interface or visualizer. Otherwise, python is probably more convenient, but it's up to you.
## Post #1372
- Username: Arymond
- Rank: advanced
- Number of posts: 54
- Joined date: Sun Feb 12, 2012 7:49 am
- Post datetime: 2013-04-13T04:42:29+00:00
- Post Title: Re: Señor Casaroja's Noesis

im having issues with the NJ's from PSO:BB (From the ITEM AFS's)

i'd like to be able to view them but it can export them and the Texture files are XVM/XVR(DDS) (Xbox PVM)
## Post #1373
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-04-13T16:25:36+00:00
- Post Title: Re: Señor Casaroja's Noesis

Pretty much everything in the AFS files in PSO are PRS-compressed files. You can extract them, rename them to .prs, and use the PRS compression script on the official Noesis plugins repo to decompress them into .nj files which Noesis can open.

I don't know about PSO:BB. I don't have it. Since it was targeted at Windows/Xbox, they might've changed the format(s), which means Noesis doesn't support it.
## Post #1374
- Username: TheDude
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Mon Mar 21, 2011 2:35 am
- Post datetime: 2013-04-17T01:24:36+00:00
- Post Title: Re: Señor Casaroja's Noesis

I just started learning Noesis and was wondering if I could get an example usage of rapi.unpackPS2VIF.

Also, with the vertex data I'm looking at, the last few bytes are weights then bone indices, except.....
they're numbered/matched w1, w2, w3, w4, b4, b3, b2, b1. It's the order of the bone indices that have me tripped up.
I was wondering if there was a way of using "rapi.rpgBindBoneIndexBufferOfs" to handle that reverse order.
Reason being I would like to keep it simple and just use the vert buffer I already have.
## Post #1375
- Username: Acewell
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-04-17T03:23:37+00:00
- Post Title: Re: Señor Casaroja's Noesis

Something like this:

```
				#print("unpack count:", len(unpacks))
				for up in unpacks:
					if up.numElems == 3 and up.elemBits == 16:
						numVerts = len(up.data) // 6
						rapi.rpgBindPositionBuffer(up.data, noesis.RPGEODATA_SHORT, 6)
						rapi.rpgCommitTriangles(None, noesis.RPGEODATA_USHORT, numVerts, noesis.RPGEO_POINTS, 1)

```

If you wanted to run through all the unpacks and draw points for all the short vertex buffer candidates. Typically your lists will be consistent across surfaces, if not you'll see some indicator of such in the format so that the game knows to use different VU processing code.

You'll often end up with index data getting unpacked as part of VIF data too, sometimes packed in a custom format.

Presumably you're doing this for FF7:DoC. You might want to get with chrrox about that. He had some stuff up and running with correct triangle/index usage, but he was wrong about some of the offsets to the start of VIF data and about the stride of the VIF data. I think. I only looked at his code enough to test the Noesis VIF interface in Python. (it's already used for a few games now in native land, including FF12)

Edit: also, I think you are confused about the weights, but using Noesis to unpack them from the VIF stream will probably make it clearer. Also, Noesis doesn't care about order as long as the weight and index line up. You would have to do a byte swap if they didn't.
## Post #1376
- Username: TheDude
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Mon Mar 21, 2011 2:35 am
- Post datetime: 2013-04-17T16:59:24+00:00
- Post Title: Re: Señor Casaroja's Noesis

Cool! Thanks!
I should have mentioned those 2 questions weren't related.
The 2nd one is concerning a X360 game.
I'm porting it to Noesis from Maxscript and I've imported plenty of characters so I know the weights - index matching is correct.

EDIT: Based on the print out, this appears to reverse the order of the last 4 bytes of each vertex (bone sub-palette indices) 
in the buffer like I wanted:
#vertices
idx=[]
CNT=VCount * VSize
VertBuff = f.readBytes(CNT)
i=VSize
for x in range (0, CNT, VSize):
	idx.append (VertBuff[i-1:i] + VertBuff[i-2:i-1] + VertBuff[i-3:i-2] + VertBuff[i-4:i-3])
	i+=VSize
print (idx)

Of course I probably just jinxed myself by saying that.....
## Post #1377
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-04-17T21:51:47+00:00
- Post Title: Re: Señor Casaroja's Noesis

On 360, ubyte indices are usually a big-endian 32-bit uint, that's why they look backwards. But ubyte weights are commonly the same, which means it just works. But if they aren't using ubyte weights, you probably need to endian-swap your 4 bytes of indices yourself. I think I have a native function for you to do it quickly without using Python loops, but I can't check at the moment cause I'm at work.
## Post #1378
- Username: TheDude
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Mon Mar 21, 2011 2:35 am
- Post datetime: 2013-04-18T03:32:33+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> On 360, ubyte indices are usually a big-endian 32-bit uint, that's why they look backwards. But ubyte weights are commonly the same, which means it just works. But if they aren't using ubyte weights, you probably need to endian-swap your 4 bytes of indices yourself. I think I have a native function for you to do it quickly without using Python loops, but I can't check at the moment cause I'm at work.
I did not know that. How interesting.
Yeah, the weights are uint16s.
(please to be clicking, yes?)
[](http://fc02.deviantart.net/fs71/f/2013/107/4/1/untitled_by_mrfuzzlebum-d623p14.jpg)

Those indices reference a bone palette sub-array which in turn references the main bone palette for the main object which in turn references the actual bone IDs (Big props to Samu for figuring that out!)  

Aaaaaaaany way, this is my current code:

```
boneids=[]
CNT=VCount * VSize
VertBuff = f.readBytes(CNT)
def buildBoneIndex():
	i=VSize
	for x in range (0, CNT, VSize):
		boneids.append (BoneInd[VertBuff[i-1:i][0]])
		boneids.append (BoneInd[VertBuff[i-2:i-1][0]])
		boneids.append (BoneInd[VertBuff[i-3:i-2][0]])
		boneids.append (BoneInd[VertBuff[i-4:i-3][0]])
		i+=VSize

```

The numbers that came out look right, but I haven't ported the skeleton code yet.  

Whoops, I forgot to mention before, your vif command reader certainly looks a lot different from mine.   
With mine you just type something like: "unpack_to vert_array". Of course, mine has some serious shortcomings.
For instance, it's hard-coded to read all 4-byte values as floats.
I suppose I could work on it, but it seems to work well enough with Doc:FF7 and tri-Ace's PS2 format.
........and it's a great way to stay in shape.
## Post #1379
- Username: TheDude
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-04-18T03:59:30+00:00
- Post Title: Re: Señor Casaroja's Noesis

I did have a function, rapi.swapEndianArray. But it was pretty rigid, so I added a couple optional parameters for you in the build I just put up.

```

```

You would use it like

```
vertBuffer = rapi.swapEndianArray(vertBuffer, 4, offsetToBoneIndices, sizeOfVertex)
```

I notice in your code that you're converting to a Python list. It's fastest (and sometimes easiest, requiring much less code) to feed bytes/bytearrays directly into the rpg interface, as you'll notice the samples do. But if you want to do it the other way, it's up to you. Just a best-practices thing to keep in mind, it's one of the ways in which Noesis Python scripts have the ability to be much faster and more to the point than Blender Python scripts.
## Post #1380
- Username: TheDude
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Mon Mar 21, 2011 2:35 am
- Post datetime: 2013-04-18T04:55:54+00:00
- Post Title: Re: Señor Casaroja's Noesis

Awesome! And thanks for the tip. I'm still new to Python and it seems like all the videos out there leave out things like bytes and bytearrays. Actually anything that someone might use in an importer for that matter. 〴⋋_⋌〵
## Post #1381
- Username: Justdragos
- Rank: advanced
- Number of posts: 69
- Joined date: Tue Feb 21, 2012 3:19 pm
- Post datetime: 2013-04-18T20:10:29+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hy! I saw you made a plugin for neossi to export characters from raging blast 1 and 2. Is there any way t oexport the maps too ?
## Post #1382
- Username: TheDude
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Mon Mar 21, 2011 2:35 am
- Post datetime: 2013-04-20T02:53:53+00:00
- Post Title: Re: Señor Casaroja's Noesis

What's the "Rich" way (  ) of reading an inverse transposed matrix?
## Post #1383
- Username: TheDude
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-04-20T13:58:32+00:00
- Post Title: Re: Señor Casaroja's Noesis

Like this:

```
	mat = NoeMat44( ( NoeVec4.fromBytes(data[48:64], ed), NoeVec4.fromBytes(data[32:48], ed), NoeVec4.fromBytes(data[16:32], ed), NoeVec4.fromBytes(data[0:16], ed) ) ).transpose()

```
## Post #1384
- Username: TheDude
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Mon Mar 21, 2011 2:35 am
- Post datetime: 2013-04-20T16:41:15+00:00
- Post Title: Re: Señor Casaroja's Noesis

Muchas gracias Señor Casaroja! ٩(-̮̮̃-̃)۶
Oh, and say hi to the donkeys for me.

EDIT: Finally got the skeleton looking right, but I'm curious why I had to do this:

```
	boneList.append(NoeBone(i+1, boneName, mtrx, None, boneParent))
else:
	boneList.append(NoeBone(i, boneName, mtrx, None, boneParent))
```


The first bone is the root bone - ID: 0 Parent: 0. I'm guessing this was the problem?
## Post #1385
- Username: TheDude
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-04-28T15:03:41+00:00
- Post Title: Re: Señor Casaroja's Noesis

A bone shouldn't be parented to itself, if it has no parent just set the parentIndex to -1. Although I thought I already handled "if index == parentIndex then parentIndex = -1", maybe that isn't happening early enough or something.

Massive Noesis release:

> -4.079 - Exposed mipmap count and cubemap flag on NoeTexture.
>
>  -4.079 - Cubemaps are now supported in texture preview mode. Pan values are used to generate 3D texture coordinates so that you can look around the cubemap.
>
>  -4.079 - Environment maps are now a material property. They're preserved in FBX as reflection maps, and are displayed with per-pixel (using the tangentspace normal) reflections with Fresnel term in preview mode.
>
>  -4.079 - Mipmaps are now uploaded (if provided) for all natively-supported Noesis texture formats in preview mode.
>
>  -4.079 - Redid the way preview textures work behind the scenes, no more special-case treatment. Textures auto-loaded for preview are also now viewable in the data viewer.
>
>  -4.079 - Opening archive types now just opens the export dialog, instead of asking you if you want to export.
>
>  -4.079 - Fixed GMO's with bad/no geometry crashing Noesis.
>
>  -4.079 - Added -gmobasepose. Exports untransformed GMO geometry, and stomps over base pose matrices with skinning matrices where necessary.
>
>  -4.079 - Fixed FBX files with bad cluster/bone indices crashing Noesis.
>
>  -4.079 - Running out of memory while writing to a stream container provides the user with a semi-helpful messagebox instead of mysteriously exploding.
>
>  -4.079 - Made default image format output replace .dds extension when auto-decompressing on export, instead of appending the new extension after the .dds.
>
>  -4.079 - Fixed a crash when using rapi.loadTexByHandler to load a Python-handled format within an instanced module's rapi context.

-gmobasepose was very low priority for a very long time because people that want it are probably doing asshole things, but I finally made it down that far on the list, so there it is.
## Post #1386
- Username: TheDude
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Mon Mar 21, 2011 2:35 am
- Post datetime: 2013-04-28T21:44:29+00:00
- Post Title: Re: Señor Casaroja's Noesis

Yep, just set it to -1 - problem solved.

Also "made it down that far on the list"?
That must be rock bottom then.
## Post #1387
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-04-28T23:25:24+00:00
- Post Title: Re: Señor Casaroja's Noesis

I stuck a new build up earlier that allows you to do what you were doing before as well. I forgot that I had separate logic for the way I was parsing out bones from the Python objects. It accounts for index == parentIndex meaning no parent now too.

And yeah, pretty much. With this latest release my "core shit to do" list is empty again. I've been trying to get Noesis to a place where I'm comfortable with leaving it for a while, because I want to start devoting my hobby time to Jedi Knight source stuff. From here on it's probably going to be all bugfix releases for quite some time. Which isn't a bad idea anyway, when I start working on features too much I start ignoring bugs/crashes more. Then the new features start introducing new bugs/crashes, and the world is a terrible place for everyone again. Fortunately, there's been a lull of crashes lately, except for stupid people that like to use ancient 3.x versions of Noesis and submit crashes for things that got fixed half a year ago.
## Post #1388
- Username: Arymond
- Rank: advanced
- Number of posts: 54
- Joined date: Sun Feb 12, 2012 7:49 am
- Post datetime: 2013-04-29T00:44:16+00:00
- Post Title: Re: Señor Casaroja's Noesis

Is there anyway to request a format for support? i can supply file's

its for Ratchet & Clank 1-3 (Ps3 Collection Version - if they are any Different form the ps2 ones)
## Post #1389
- Username: TheDude
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Mon Mar 21, 2011 2:35 am
- Post datetime: 2013-04-29T01:22:01+00:00
- Post Title: Re: Señor Casaroja's Noesis

Totally sweet! Having a root bone's parent equal to itself seems to be a common paradigm.
Speaking of features, is it possible for a third party to create a custom render engine for Noesis?
## Post #1390
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-04-29T03:55:11+00:00
- Post Title: Re: Señor Casaroja's Noesis

Sort of. You can make a visualizer plugin and totally replace the renderer that way, but you'd still be stuck using OpenGL. The actual rendering core is also all cut out into a DLL and that includes all OpenGL-related dependencies, so you could replace that to replace the entirety of the renderer and switch to another API or whatever. But I haven't made that DLL's API public, mostly because it changes constantly (and shares tons of internal structures that I change with virtually every Noesis update), and if anyone tried to do anything with it I'd just break their shit immediately and they'd have to keep merging with my updates and it'd be a nightmare. It's on the "maybe some day" list to do a D3D10+ rendering module, but so far I've lacked motivation for that, since it's not worth maintaining 2 paths and I like the OpenGL renderer because it's so scalable and compatible with everything. Even though I don't like its actual code. It's more usable now that I've written a shader cooking system for it.
## Post #1391
- Username: Acewell
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-05-12T09:10:01+00:00
- Post Title: Re: Señor Casaroja's Noesis

Another massive update:

> -4.081 - Added NoeSplineSet, NoeSpline, and NoeSplineKnot.
>
>  -4.081 - Added rapi.splineToMeshBuffers.
>
>  -4.081 - Added noesis.getCharSplineSet.
>
>  -4.081 - Added noesis.cubicBezier3D.
>
>  -4.081 - Changed the way light vectors are calculated in order to reduce error from interpolation.
>
>  -4.081 - Added NGL_GetEye.
>
>  -4.081 - Added Noesis_GetFrameTime.
>
>  -4.081 - Added rapi.imageNormalMapFromHeightMap. This uses a technique that I pulled out of my ass to generate normals from a height map using sub-texel tangents. It usually looks pretty good. You can use a negative height scale to invert the height. The texel scale affects the sub-texel sampling radius.
>
>  -4.081 - Made NoeMat43/NoeMat44 swapHandedness return the swapped matrix to be consistent with the rest of the matrix operations.
>
>  -4.081 - Added mipmap and cubemap import for non-DXT DDS.
>
>  -4.081 - Added DDS export. Preserves RGBA/DXT1-5 as well as mipmaps and cubemaps.
>
>  -4.081 - Boosted precision on DDS color decoding.
>
>  -4.081 - Prevent crash if GL fails to (re)initialize, and stop GL unnecessarily reinitializing when plugins are reloaded.
>
>  -4.081 - Fix for some corrupt DDS files crashing Noesis.
>
>  -4.081 - Fixed a bug that could prevent auto-generated smoothed tangent matrices from being used in the final model.

And here's a script that procedurally generates mesh data and textures from a string of text:
[http://code.google.com/p/noesis-plugins ... xtmaker.py](http://code.google.com/p/noesis-plugins-official/source/browse/trunk/Rich/tool_textmaker.py)



There's actually a bunch of spline stuff in this release, and some new interpolation functions I didn't mention in the notes as well. You can generate meshes from your own splines (or the Noesis font splines) with control over step size and subdivisions.
## Post #1392
- Username: Truthkey
- Rank: beginner
- Number of posts: 20
- Joined date: Sat Jul 24, 2010 5:39 am
- Post datetime: 2013-05-13T03:45:11+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hey MrAdults, I don't know if I can request you to add a certain feature to Noesis. The thing is that I noticed that Noesis cannot export models massively. Is it possible to add such a function? I think it shouldn't be hard for you! Also, when I export to FBX from Noesis, the exported file doesn't seem to be up to date. What I mean with this is that it's not using the latest version of FBX to generate the file.
## Post #1393
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-05-13T12:31:00+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Truthkey
>
> Hey MrAdults, I don't know if I can request you to add a certain feature to Noesis. The thing is that I noticed that Noesis cannot export models massively.
Tools->Batch Process, or make your own batch file and invoke Noesis using ?cmode.

> Reply from Truthkey
>
> Also, when I export to FBX from Noesis, the exported file doesn't seem to be up to date.
-fbxnewexport
## Post #1394
- Username: SmashFan127
- Rank: advanced
- Number of posts: 51
- Joined date: Sun Jun 17, 2012 9:09 am
- Post datetime: 2013-05-13T13:22:05+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hey, MrAdults. I don't know if it has been done yet, but can you please add a feature to import models from Wild Arms 3?
## Post #1395
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-05-17T13:46:25+00:00
- Post Title: Re: Señor Casaroja's Noesis

Dear Polish guy that keeps submitting crashes from trying to open FF7 LZS files in the magic directory,

Don't do that.

Love,
Rich
## Post #1396
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2013-05-17T14:19:47+00:00
- Post Title: Re: Señor Casaroja's Noesis

Someone really wants you to support those files!
## Post #1397
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-05-22T04:43:37+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hey Rich!!! Are you going to add support for Kinnect 2.0 in a near future (when the xbone is released) in noesis??

Yeah, I know, the dissapointing conference and presentation was today, but I am curious about that.

See ya.
## Post #1398
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2013-05-22T09:50:56+00:00
- Post Title: Re: Señor Casaroja's Noesis

If you buy him one he would most likely add support as long as Microsoft releases development tools to support it.
## Post #1399
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-05-22T14:25:20+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from chrrox
>
> If you buy him one he would most likely add support as long as Microsoft releases development tools to support it.

Hahahaha okas, It just simply picked my interest since It seems It has some improvements comparing with the first Kinnect and also I wanted to see an opinion regarding that.
## Post #1400
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-05-23T00:06:45+00:00
- Post Title: Re: Señor Casaroja's Noesis

I haven't been paying any attention to all the Microsoft announcements going on. All I know is that Xbox One is a stupid name, and their DRM sounds terrifying. I don't see myself getting one any time close to launch, much less a Kinect 2, until they procure some exclusive that absolutely forces me to.

If someone wants to buy it for me on the other hand, then sure. Assuming they don't completely lock the hardware down, which wouldn't surprise me based on their platform policies thus far.
## Post #1401
- Username: Dinoguy1000
- Rank: Site Admin
- Number of posts: 786
- Joined date: Mon Sep 13, 2004 8:55 am
- Post datetime: 2013-05-23T01:33:50+00:00
- Post Title: Re: Señor Casaroja's Noesis

Them locking down the Kinect 2 would be a huge mistake on their part, given the community that's built up around hacking on the Kinect (but it's not something I'd put beyond Microsoft to do, all things considered =/ ).
## Post #1402
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-05-23T04:11:46+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> I haven't been paying any attention to all the Microsoft announcements going on. All I know is that Xbox One is a stupid name, and their DRM sounds terrifying. I don't see myself getting one any time close to launch, much less a Kinect 2, until they procure some exclusive that absolutely forces me to.

If someone wants to buy it for me on the other hand, then sure. Assuming they don't completely lock the hardware down, which wouldn't surprise me based on their platform policies thus far.

Rich, thanks for the answer, and unfortunately their DRM policies only harm the consumer. I heard that kinnect 2.0 would arrive to pc, maybe something can be done later.

> Them locking down the Kinect 2 would be a huge mistake on their part, given the community that's built up around hacking on the Kinect (but it's not something I'd put beyond Microsoft to do, all things considered =/ ).

Seeing some cool stuff you cand do with kinnect as mocap, yep It's a huge mistake.
## Post #1403
- Username: junk angel
- Rank: veteran
- Number of posts: 82
- Joined date: Thu Jan 14, 2010 11:38 pm
- Post datetime: 2013-05-27T01:49:21+00:00
- Post Title: Re: Señor Casaroja's Noesis

I'm sort of curious - does anyone know how to extract the individual morph target from Valve MDL files. I know they are inside of the MDL itself and the various decompilers seem to be able to parse them off into essentially a morph target reference file, but I'd prefer to be able to batch extract them all into seperate OBJs so to speak.
## Post #1404
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2013-05-28T20:04:07+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Darko
>
> Hey Rich!!! Are you going to add support for Kinnect 2.0 in a near future (when the xbone is released) in noesis??

Yeah, I know, the dissapointing conference and presentation was today, but I am curious about that.

See ya.

eff kinect 2.0. Qumarion is way more intuitive... just click on this link to learn more. [http://www.clip-studio.com/quma/en/](http://www.clip-studio.com/quma/en/)
## Post #1405
- Username: Demonsangel
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-05-29T05:29:00+00:00
- Post Title: Re: Señor Casaroja's Noesis

New material flags in Noesis are useful for skin and hair:

(left is standard lighting model, right is using blended normals to subtly fake subsurface scattering on the skin, and Kajiya-Kay specular lighting on the hair)
## Post #1406
- Username: pixellegolas
- Rank: ultra-veteran
- Number of posts: 423
- Joined date: Tue Aug 12, 2008 6:30 am
- Post datetime: 2013-05-30T22:03:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

stupid question, but where is that character from?
## Post #1407
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2013-05-30T22:36:55+00:00
- Post Title: Re: Señor Casaroja's Noesis

I think its Robert Burns from Vanquish,
## Post #1408
- Username: Devilot
- Rank: ultra-veteran
- Number of posts: 443
- Joined date: Tue Sep 07, 2010 5:12 pm
- Post datetime: 2013-06-01T15:17:15+00:00
- Post Title: Re: Señor Casaroja's Noesis

I wonder if support of models from Legacy of Kain defiance could be added.
matter is, I don't know of anyone who has actually managed to extract them (or any other resouce) from that game.
## Post #1409
- Username: aagems
- Rank: advanced
- Number of posts: 75
- Joined date: Thu May 31, 2012 1:07 am
- Post datetime: 2013-06-02T13:14:46+00:00
- Post Title: Re: Señor Casaroja's Noesis

Any chance to add support to dreamcast MT5 and MT7 format to noesis?there isnt any tools for this format that fully support to view/extract character till now
## Post #1410
- Username: shadowmoy
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-06-06T13:50:55+00:00
- Post Title: Re: Señor Casaroja's Noesis

Noesis crashes are at the point where a good 75+% of them are coming from old-ass 3.x versions of Noesis. This says 2 things.

1) Noesis is a lot more stable now.
2) A bunch of stupid sons of bitches don't know to upgrade Noesis because they probably downloaded it in some zip file put together but some dumb bastard on some horrible forums and packaged with a bunch of stolen models from some game with big tits.

If you spot someone involved in 2, please slap them in the face for me.

Kindest regards,
Richard
## Post #1411
- Username: Devilot
- Rank: ultra-veteran
- Number of posts: 443
- Joined date: Tue Sep 07, 2010 5:12 pm
- Post datetime: 2013-06-06T14:04:12+00:00
- Post Title: Re: Señor Casaroja's Noesis

current mine: 4.07
whew, I am not of part 2.
## Post #1412
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2013-06-06T18:01:05+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Noesis crashes are at the point where a good 75+% of them are coming from old-ass 3.x versions of Noesis. This says 2 things.

1) Noesis is a lot more stable now.
2) A bunch of stupid sons of bitches don't know to upgrade Noesis because they probably downloaded it in some zip file put together but some dumb bastard on some horrible forums and packaged with a bunch of stolen models from some game with big tits.

If you spot someone involved in 2, please slap them in the face for me.

Kindest regards,
Richard
I was hoping I wasn't the only one who thought those games mentioned in #2 were ridiculous, they seem to be the games getting the most love on this forum.
## Post #1413
- Username: Devilot
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-06-15T22:39:05+00:00
- Post Title: Re: Señor Casaroja's Noesis

> -4.0836 - Automatic loading of external texture bundles as needed for FF13 models. This works for both zones and some of the characters/monsters with external dependencies.
>
>  -4.0836 - HDR colors are used for FF13. Added -ff13cscale and -ff13cclamp to determine how/if HDR values are crunched into non-HDR range.
>
>  -4.0836 - Tangent vectors for FF13 models are now loaded from file instead of being auto-generated.
>
>  -4.0836 - Automatic assignment of normal maps and skin/hair material flags for FF13. (material assignment still isn't perfect, because I can't be assed to chart down the sampler mappings for every base shader type)
>
>  -4.0836 - Python now validates RPG context state for all relevant RPG calls. (turns crashes into Python exceptions)
>
>  -4.0836 - Added rpgActiveContextIsValid.
>
>  -4.0836 - Added source endian option for index decompression.
>
>  -4.0836 - Added a material sort flag.
>
>  -4.0836 - Per pixel lighting path uses vertex colors if available.

Hair offset and spec maps are auto-generated for the hair as seen above. It also auto-detects skin, cloth, eyes, and some other material properties.

Also forgot to mention above, PS3 version models for FF13 will have textures working correctly again. That was broken back when I added 13-2 support.
## Post #1414
- Username: Devilot
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-06-16T16:08:10+00:00
- Post Title: Re: Señor Casaroja's Noesis

Rim lighting in the build later today:
## Post #1415
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-06-16T23:32:17+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hey Rich, Noesis had an option called -smdnorm to preserve smd normals, did you remove that option??
## Post #1416
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-06-17T02:30:37+00:00
- Post Title: Re: Señor Casaroja's Noesis

Normals are used by default now. Consult the command options list.
## Post #1417
- Username: falconcool
- Rank: veteran
- Number of posts: 105
- Joined date: Tue Jun 16, 2009 11:41 am
- Post datetime: 2013-06-17T04:39:44+00:00
- Post Title: Re: Señor Casaroja's Noesis

> -4.0836 - Tangent vectors for FF13 models are now loaded from file instead of being auto-generated.
Hi,i'm curious about tangent vectors,,what's it's purpose used in ff13's models?
It's my first time seeing model need to use tangent vectors.
usually ,,if we need this value ,it can be computed with normal vectors,right?
,,why it's necessary to store this value?because there are already normal vector saved in the stms chunk of ff13's data.
align the normal map? or smooth group related?
## Post #1418
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-06-17T18:21:10+00:00
- Post Title: Re: Señor Casaroja's Noesis

You have to make assumptions about your UV space relative to your normal map vectors to calculate your tangent and binormal vectors. FF13 likes to occasionally flip binormals to compensate for flipped normal maps, which means your assumptions will be wrong.
## Post #1419
- Username: deepshit
- Rank: advanced
- Number of posts: 76
- Joined date: Wed Feb 01, 2012 4:43 am
- Post datetime: 2013-06-20T11:28:27+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hi
I'm trying to understand this line of code in Noesis but it's somehow strange.

```
rapi.rpgBindPositionBufferOfs(vertBuff, noesis.RPGEODATA_SHORT, vertstride, 0)
```

It means read 3 first shorts from offset 0 of vertbuff and each vertex is 28 bytes. Right?
What I don't understand is this :
[](http://postimg.org/image/x6o9cx9wd/)

[](http://postimg.org/image/6a4a4lr31/)
How is it that 0x2601 = 0.296915 and 0x4B2C = 0.587298 and 0x890F = 0.121372 in Noesis?
If It's not half float or float then what is it?
Thanks.
## Post #1420
- Username: deepshit
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2013-06-20T11:43:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

its a short
most developers convert shorts to floats by dividing by 32767
9729 / 32767 = 0.29691457869197668385876033814508
## Post #1421
- Username: deepshit
- Rank: advanced
- Number of posts: 76
- Joined date: Wed Feb 01, 2012 4:43 am
- Post datetime: 2013-06-20T12:47:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from chrrox
>
> its a short
most developers convert shorts to floats by dividing by 32767
9729 / 32767 = 0.29691457869197668385876033814508
Thanks.That's it.
## Post #1422
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2013-06-21T17:53:28+00:00
- Post Title: Re: Señor Casaroja's Noesis

Mr. Adults, "Please" add native file support for super street fighter 4 whatetever's (cause i got copies of pc or 360 models,dunno which, cause i can't remember. hope pc file isn't different than 360/ps3) and maybe you can add output support to clothe em' with native files...
## Post #1423
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2013-06-26T22:35:18+00:00
- Post Title: Re: Señor Casaroja's Noesis

If people want noesis to support kinect 2.0 then you could buy him a developer kit.
[http://www.engadget.com/2013/06/26/next ... ndows-sdk/](http://www.engadget.com/2013/06/26/next-gen-kinect-for-windows-sdk/)
## Post #1424
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-06-27T16:35:30+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from chrrox
>
> If people want noesis to support kinect 2.0 then you could buy him a developer kit.
http://www.engadget.com/2013/06/26/next ... ndows-sdk/

Lol Kinnect 2.0 for PC, now they're gonna spy you to see if there's no more than 1 person in front of a pc, If not, they're canceling your windows llicense for license infrigement xD.

I know, this is spam but some of M$'s policies are atupid.
## Post #1425
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2013-06-27T19:26:11+00:00
- Post Title: Re: Señor Casaroja's Noesis

yo rich, got a question for ya...

I coded my own PS3 index buffer decompression routine based on docs from the SDK and help from chris, but it still doesn't generate the same indices that you get. It doesn't crash and it generates valid indices, but I think something is wrong with my two-bit stream processing. I think I am doing something out of order... is the processing like so?

two bytes, 8 triangles, 2-bits per triangle

is order
11010010-10101001 -> 11 01 00 10 10 10 10 01 (bits right-to-left, bytes left-to-right)

or

11010010-10101001 -> 10 00 01 11 01 10 10 10 (bits left-to-right, bytes left-to-right)

or something else? This is my code, processing the two-bit stream is the last step, coming after processing deltas and the one-bit stream (the incremental indices step).

```
 // ...

 // one-bit processing crap
 // ...

 // process two-bit data stream
 std::deque<uint32> idxbuffer;
 uint08* ptr = reinterpret_cast<uint08*>(&bs[(8 + onebits_bytes)]);
 uint32 new_index = 0;
 for(uint32 i = 0; i < twobits_bytes; i++)
    {
     uint08 b[4];
     b[0] = ((ptr[i] >> 6));
     b[1] = ((ptr[i] & 0x30) >> 4);
     b[2] = ((ptr[i] & 0x0C) >> 2);
     b[3] = ((ptr[i] & 0x03));

     for(uint32 j = 0; j < 4; j++)
        {
         uint32 size = idxbuffer.size();
         if(b[j] == 0) {
            uint32 i0 = idxbuffer[size - 3];
            uint32 i1 = idxbuffer[size - 2];
            idxbuffer.push_back(i1);
            idxbuffer.push_back(i0);
            idxbuffer.push_back(newlist[new_index++]);
           }
         else if(b[j] == 1) {
            uint32 i0 = idxbuffer[size - 3];
            uint32 i2 = idxbuffer[size - 1];
            idxbuffer.push_back(i0);
            idxbuffer.push_back(i2);
            idxbuffer.push_back(newlist[new_index++]);
           }
         else if(b[j] == 2) {
            uint32 i1 = idxbuffer[size - 2];
            uint32 i2 = idxbuffer[size - 1];
            idxbuffer.push_back(i2);
            idxbuffer.push_back(i1);
            idxbuffer.push_back(newlist[new_index++]);
           }
         else {
            idxbuffer.push_back(newlist[new_index++]);
            idxbuffer.push_back(newlist[new_index++]);
            idxbuffer.push_back(newlist[new_index++]);
           }

         std::cout << (idxbuffer[idxbuffer.size() - 3] + 1) << " ";
         std::cout << (idxbuffer[idxbuffer.size() - 2] + 1) << " ";
         std::cout << (idxbuffer[idxbuffer.size() - 1] + 1) << std::endl;
        }
    }

```


thx
## Post #1426
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-07-01T03:55:29+00:00
- Post Title: Re: Señor Casaroja's Noesis

Sorry, Edge stuff is a work-related conflict of interest for me now, so no comment.
## Post #1427
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2013-07-01T18:31:36+00:00
- Post Title: Re: Señor Casaroja's Noesis

lol, no problem rich hahahahaha i will eventually figure it out.
## Post #1428
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2013-07-03T12:17:59+00:00
- Post Title: Re: Señor Casaroja's Noesis

I know there is a binary find tool, but I'm not sure if it actually works from a Noesis script.
Bascally I'm trying to find certain byte groups within a NoeBitStream() and get their position.

I'm currently using 
```
        found = 0
        byte1 = int(byteArray[:2],16)
        type2 = len(byteArray[2:])//2
        if type2 == 2:
            byte2 = int(byteArray[4:]+byteArray[2:4],16)
        else:byte2 = int(byteArray[2:],16)
        while found!=1:
            byte = self.data.readByte()
            if byte == byte1:
                if type2 == 2:flag = self.data.readShort()
                else:flag = self.data.readByte()
                if flag ==byte2:found=1
        if readFlag == 0: self.data.seek(-3,1)
        return
```

to find chunk headers and

```
        fName=rapi.getInputName().split('\\')[-1]
        dirPath = rapi.getDirForFilePath(rapi.getInputName())
        f = open(dirPath + "/" + fName,'rb')
        file = f.read()
        f.close()
        offset = file.find(b"GEOM")
        self.data.seek(offset)
```

to find strings

But this isn't really efficient or failsafe. Just wondering what your input on this was.


EDIT: 
I changed my string method to the following, which I guess is as good as any other.
```
offset = o3d.find(name.encode('utf-8'))
```
## Post #1429
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-07-04T12:59:52+00:00
- Post Title: Re: Señor Casaroja's Noesis

I couldn't tell you what the absolute best Python method is for finding data in a bytearray, cause I'm not all that well-versed in Python myself. But I bet it's a question that's been addressed on stackoverflow.com if you can manage to figure out the right thing to search for.
## Post #1430
- Username: Alsair
- Rank: advanced
- Number of posts: 66
- Joined date: Fri Jun 15, 2012 5:55 pm
- Post datetime: 2013-07-05T09:32:35+00:00
- Post Title: Re: Señor Casaroja's Noesis

Would be cool if Noesis in the future adds support for model creation and modification, what do ya say MrAdults, is it part of your plans?
## Post #1431
- Username: Devilot
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-07-12T00:37:51+00:00
- Post Title: Re: Señor Casaroja's Noesis

Sorry for disappearing for a week again. My life is hell and stress and chaos.

I don't have any plans to really expand the visual editing capabilities of Noesis. It's meant more for processing of an automated nature. But you can build all of those things into it via the plugin framework, so anyone is free to if they really want to. There's a triangle picker plugin up on the official Noesis plugins repo that demonstrates how you'd go about something like that. All it does is let you select triangles of a(n optionally animated) model and export the selection as another model, but you could do anything you want there from assorted modeling functions to a full-blown topology-based modeling tool.

You can also override the rendering completely (that particular plugin just demonstrates rendering on top of the existing scene) and you have all the data you need to replace the base model renderer. So there's that too.
## Post #1432
- Username: Justdragos
- Rank: advanced
- Number of posts: 69
- Joined date: Tue Feb 21, 2012 3:19 pm
- Post datetime: 2013-07-13T18:13:10+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hy guys! Is there any way to export maps or animation from dragon ball raging blast?
I am willing to donate 15 euro to the person who cand help me do that:D.
## Post #1433
- Username: kilian277
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Sat Oct 13, 2012 9:45 pm
- Post datetime: 2013-07-29T18:45:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

Any change of getting multiexport , like that you can select multiple items in the listview and then export them all together ?

Thanks
## Post #1434
- Username: kawayide
- Rank: beginner
- Number of posts: 37
- Joined date: Wed Nov 09, 2011 9:03 am
- Post datetime: 2013-08-04T08:38:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

Wrote an export plugin. When exporting a .GMO which has external texture file, texture count always be zero (i.e. pmdl->matData->numTextures zero). also can't get texture's filenames. Help plz.

(the obj dae exporters can find the texture filename)
## Post #1435
- Username: kawayide
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-08-04T16:25:24+00:00
- Post Title: Re: Señor Casaroja's Noesis

That's because there are no textures. Get the reference name from the material, and manually load up external textures as seen in the Quake 2 MD2 exporter code.
## Post #1436
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-08-05T04:21:04+00:00
- Post Title: Re: Señor Casaroja's Noesis

Was it you that submitted a Noesis GMO crash report? Your bone reference index is garbage in whatever broken model you tried to load, if so.

It's easier for me to find crashes like that in the loader if you simply send me your data.
## Post #1437
- Username: kawayide
- Rank: beginner
- Number of posts: 37
- Joined date: Wed Nov 09, 2011 9:03 am
- Post datetime: 2013-08-05T10:59:49+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Was it you that submitted a Noesis GMO crash report? Your bone reference index is garbage in whatever broken model you tried to load, if so.

It's easier for me to find crashes like that in the loader if you simply send me your data.

I remember noesis didn't crashed, crashes I can recall are caused by my noesis plugin.

(If so, tell me file name, I can get I have it or not)
## Post #1438
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-08-11T05:49:36+00:00
- Post Title: Re: Señor Casaroja's Noesis

It was just some random file on someone's desktop. Probably incorrectly-extracted garbage or something.
## Post #1439
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2013-08-14T17:37:37+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Select a bone in the data viewer, then over the model preview, hold shift+left mouse and move the mouse around. It will modify the selected bone's rotation offset. As for individual frame export from the in-preview bone transforms, maybe at some point.

MrAdults is this broken "hold shift+left mouse" ? cause i tried with a paine.fbx and no dice...

oh and i haven't forgotten about helping you get your hands on a Qumarion. they just have been slow on allowing imports to addresses outside of japan, plus i don't have the funds yet...
## Post #1440
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-08-16T01:05:22+00:00
- Post Title: Re: Señor Casaroja's Noesis

It works, it's probably just being overridden by animation transforms. I need to redo all of that crap and make it stack correctly sometime.

So, hit F12 or click middlemouse to reset the view and stop any animations, and the shift+click bone transforms should work.
## Post #1441
- Username: kawayide
- Rank: beginner
- Number of posts: 37
- Joined date: Wed Nov 09, 2011 9:03 am
- Post datetime: 2013-08-16T11:37:16+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hello MrAdault, batch process always export animation as rda format.
how to export to other formats?
## Post #1442
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-08-17T04:29:15+00:00
- Post Title: Re: Señor Casaroja's Noesis

-animoutex ".fbx" (or whatever extension you want) There's also -animoutidx for the case that more than one format shares extensions, but the index to use varies based on plugin/script configurations, and the process of figuring it out is incomprehensible to most humans.
## Post #1443
- Username: kawayide
- Rank: beginner
- Number of posts: 37
- Joined date: Wed Nov 09, 2011 9:03 am
- Post datetime: 2013-08-19T00:43:39+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> -animoutex ".fbx" (or whatever extension you want) There's also -animoutidx for the case that more than one format shares extensions, but the index to use varies based on plugin/script configurations, and the process of figuring it out is incomprehensible to most humans.

This option seems not mentioned any where in noesis? this is a usefull option.
## Post #1444
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-08-19T14:23:38+00:00
- Post Title: Re: Señor Casaroja's Noesis

I guess it's missing from the commands list. I'll put it in there. Not that anyone is likely to dig through all of that crap to find it.
## Post #1445
- Username: TheDude
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Mon Mar 21, 2011 2:35 am
- Post datetime: 2013-08-24T02:23:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

I was playing around with Frosty's DXT/un-tile code recently and used Noesis to troubleshoot the one texture format that wouldn't work.
(Noesis worked flawlessly btw).
I was wondering if MrAdults (or anyone ) could provide more info on "rapi.imageDecodeDXT(noesis.FOURCC_DXT1NORMAL)"
I tried looking up anything related to DXT1 normal maps (code-wise), but I'm guessing Microsoft has a "special"   name for it.
## Post #1446
- Username: TheDude
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-08-24T14:08:51+00:00
- Post Title: Re: Señor Casaroja's Noesis

The 360 actually supports custom DXT bit packing, so developers can use packing schemes that have no named standard. That's one of the more common ones (since it makes good sense to use it), which is why I added it to Noesis as a named format. It stores just the x and y using all of the color bits.
## Post #1447
- Username: TheDude
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-08-31T01:57:24+00:00
- Post Title: Re: Señor Casaroja's Noesis

> -4.0849 - Added import/export of crunch texture compression library (v1.04) .crn files. Thanks to Rich Geldreich for writing the crunch library.
>
>  -4.0849 - Added -fbxsmoothgroups to compute smoothing groups from vertex normals when exporting to FBX.
>
>  -4.0849 - Fixed a crash when loading TPL image lists with bad offsets.
>
>  -4.0849 - Fixed a crash when loading HL MDL's that specify no movement on a given axis of the motion bone while providing an invalid motion bone index.
## Post #1448
- Username: TheDude
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Mon Mar 21, 2011 2:35 am
- Post datetime: 2013-08-31T22:32:25+00:00
- Post Title: Re: Señor Casaroja's Noesis

Crunch support is a pretty cool idea.
I'm looking at the (sort of) related libsquish source so my Autodesk Star Ocean: TLH importers can handle X360 CTX1 textures (noesis.FOURCC_DXT1NORMAL).

Inquiring minds want to know - "What will he add to Noesis next.......?"
## Post #1449
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-09-01T15:28:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

CTX1 actually isn't the same thing, although it will probably "look" right. Different coefficients.

I don't have any specific plans for what's next. chrrox had asked me for crunch support a long time ago, and an old coworker needed the FBX smoothing groups, which is the only reason those got done. Probably no new major features for a while, no energy outside of work and I'm planning on being as far away from all code as possible on my next vacation.
## Post #1450
- Username: TheDude
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Mon Mar 21, 2011 2:35 am
- Post datetime: 2013-09-01T16:52:53+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> CTX1 actually isn't the same thing, although it will probably "look" right. Different coefficients.

I don't have any specific plans for what's next. chrrox had asked me for crunch support a long time ago, and an old coworker needed the FBX smoothing groups, which is the only reason those got done. Probably no new major features for a while, no energy outside of work and I'm planning on being as far away from all code as possible on my next vacation.

I just started learning about these formats so I have a waayyyyyyyssssss to go. 
I'm more than happy to take "looking right" for now. Plus I can't tell there's any visible artifacts or anything - the textures look pretty clean.
(left image has CTX1 header, right image is average DXT1 dds from PS3 version)

Also I definitely understand how one could NOT want to look at code for a while...
## Post #1451
- Username: itoikenza
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-09-10T20:56:05+00:00
- Post Title: Re: Señor Casaroja's Noesis

I did some stuff today.

> -4.0861 - Changed behavior of export dialog so that it stays open and allows re-exporting without closing.
>
>  -4.086 - Added a new preference in the data viewer, "Persistent settings->Other->Default preview commands". Adding stuff to this string will cause it to be executed on model preview import, so that you can enable non-default options or perform actual processing by default in the model preview. So if you wanted to, for example, see FF8's animation scales in the preview, you'd set that string to "-ff8animscale".
>
>  -4.086 - Added support for scale data in FF8 animations. It's disabled by default, because it requires non-uniform scales which will upset a bunch of things. Including the FBX SDK. Use -ff8animscale to enable.
>
>  -4.086 - Added big-endian byte order for bit reads/writes to the bitstream interface. Exposed in Python via NoeBitStream's setByteEndianForBits.
>
>  -4.086 - Various fixes for the bitstream reader/writer. Now supports > 64-bit reads/writes.
>
>  -4.086 - Prevent GetAttributesOf from being called on large zip files in the terrible MFC shell view, because it sometimes decides to spend minutes trying to determine if said zip files have any "subfolders".
>
>  -4.086 - Various minor interface bug fixes.
>
>  -4.086 - Someone managed to get a memory alloc failure and subsequent crash while trying to load an insanely large JPEG image, so that case is handled gracefully now.
Note that COLLADA handles non-uniform scaled matrices nicely. The FBX SDK does horrible things with them. Decomposing them myself and feeding them to the FBX SDK as separate rotation/translation/scale would be a workaround, but that's work, and I didn't feel like doing more work.
## Post #1452
- Username: lionheartuk
- Rank: double-veteran
- Number of posts: 749
- Joined date: Wed May 17, 2006 5:55 am
- Post datetime: 2013-09-16T14:36:41+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> I did some stuff today.
 -4.0861 - Changed behavior of export dialog so that it stays open and allows re-exporting without closing.
 -4.086 - Added a new preference in the data viewer, "Persistent settings->Other->Default preview commands". Adding stuff to this string will cause it to be executed on model preview import, so that you can enable non-default options or perform actual processing by default in the model preview. So if you wanted to, for example, see FF8's animation scales in the preview, you'd set that string to "-ff8animscale".
 -4.086 - Added support for scale data in FF8 animations. It's disabled by default, because it requires non-uniform scales which will upset a bunch of things. Including the FBX SDK. Use -ff8animscale to enable.
 -4.086 - Added big-endian byte order for bit reads/writes to the bitstream interface. Exposed in Python via NoeBitStream's setByteEndianForBits.
 -4.086 - Various fixes for the bitstream reader/writer. Now supports > 64-bit reads/writes.
 -4.086 - Prevent GetAttributesOf from being called on large zip files in the terrible MFC shell view, because it sometimes decides to spend minutes trying to determine if said zip files have any "subfolders".
 -4.086 - Various minor interface bug fixes.
 -4.086 - Someone managed to get a memory alloc failure and subsequent crash while trying to load an insanely large JPEG image, so that case is handled gracefully now.
Note that COLLADA handles non-uniform scaled matrices nicely. The FBX SDK does horrible things with them. Decomposing them myself and feeding them to the FBX SDK as separate rotation/translation/scale would be a workaround, but that's work, and I didn't feel like doing more work.

Some pretty cool things in that update, surprised to see you go back to an old game like FF8 though.
I'm still quietly hoping someone will one day make a tool for viewing&exporting the FF9 world map, I once found a viewer, but no exporter, same with FF8's map. Would that be something complex to add to Noesis? I imagine the world map probabl consists of several 'pieces' that're somewhat stitched together to create a full map.
## Post #1453
- Username: Devilot
- Rank: ultra-veteran
- Number of posts: 443
- Joined date: Tue Sep 07, 2010 5:12 pm
- Post datetime: 2013-09-16T15:08:06+00:00
- Post Title: Re: Señor Casaroja's Noesis

ff8 support is brilliant
## Post #1454
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-09-20T01:40:58+00:00
- Post Title: Re: Señor Casaroja's Noesis

Adding support for FF8's world map format wouldn't be inherently complex, it would just require figuring the format out. Assuming no one else has already. I'm sure it would be a fraction of the effort that figuring out the battle model and animation format was, but it's not really on my radar because it requires a non-0 level of effort.

Also,

> -4.0863 - Added rapi.imageFromMortonOrder and rapi.imageToMortonOrder.
>
>  -4.0862 - Wine hack - Currently Wine's implementation of SHGetPathFromIDList is broken, so Noesis will display all files in the shell list when "All Files" is selected even if this function fails.
>
>  -4.0862 - Wine hack - Currently Wine screws something up with the CRT when the Noesis preview module is reloaded. This doesn't happen when the CRT is dynamically linked, but switching from static linking just because Wine is broken would be a bad idea. To work around the Wine bug, browse to your file in the shell view using the above-mentioned hack and use the standard export option instead. Thanks to Riker191 for sending me the Wine crash reports that allowed me to track this crap down.
>
>  -4.0862 - Updated Noesis core module to new VC runtimes.
## Post #1455
- Username: dragbody
- Rank: veteran
- Number of posts: 126
- Joined date: Tue Sep 20, 2011 11:33 am
- Post datetime: 2013-09-20T05:26:07+00:00
- Post Title: Re: Señor Casaroja's Noesis

Mr. Adults,

I love Noesis. I use it literally every day. I'm glad to see you still offering support and updates for it. To help enrich the program, I have three suggestions/questions.

First, is it possible that you can make the global UV flip a function that can be hotkeyed? If there is already a way to do this, could you please advise me on it?

Second, I'm unsure of what the "export from preview" function is for. I hoped it would convert only the meshes rendered in the preview window but this does not seem to be the case. Can you add, or is there already, an option that will avoid the conversion of meshes that have been skip-rendered? This way, if there are multiple LODs in the same mesh, we would be able to convert the model with only the highest LOD.

Third, is there a way to preview multiple models at the same time? 

Thank you again. I can't imagine modding without Noesis!
## Post #1456
- Username: howfie
- Rank: double-veteran
- Number of posts: 929
- Joined date: Fri Jul 08, 2011 7:06 pm
- Post datetime: 2013-09-20T08:02:39+00:00
- Post Title: Re: Señor Casaroja's Noesis

indeed, the ability to lock currently loaded models in the viewport (so they stay when a new model is loaded) would be extremely useful.
## Post #1457
- Username: lionheartuk
- Rank: double-veteran
- Number of posts: 749
- Joined date: Wed May 17, 2006 5:55 am
- Post datetime: 2013-09-20T18:04:31+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Adding support for FF8's world map format wouldn't be inherently complex, it would just require figuring the format out. Assuming no one else has already. I'm sure it would be a fraction of the effort that figuring out the battle model and animation format was, but it's not really on my radar because it requires a non-0 level of effort.

Also,
 -4.0863 - Added rapi.imageFromMortonOrder and rapi.imageToMortonOrder.
 -4.0862 - Wine hack - Currently Wine's implementation of SHGetPathFromIDList is broken, so Noesis will display all files in the shell list when "All Files" is selected even if this function fails.
 -4.0862 - Wine hack - Currently Wine screws something up with the CRT when the Noesis preview module is reloaded. This doesn't happen when the CRT is dynamically linked, but switching from static linking just because Wine is broken would be a bad idea. To work around the Wine bug, browse to your file in the shell view using the above-mentioned hack and use the standard export option instead. Thanks to Riker191 for sending me the Wine crash reports that allowed me to track this crap down.
 -4.0862 - Updated Noesis core module to new VC runtimes.

Ah thanks for the reply.

Oddly it appears that both the FF8 and FF9 (especially 9 for some reason) are much more difficult than everything else, well, not EVERYTHING, but a lot of stuff, ie: there are people over at the quimm forums who've ripped 8 and 9 apart, and even (like noesis) gotten more or less everything out of 9, however they're still stumped on the world map.

I'm not as interested in the FF8 world map as I am 9 (9's is just nicer to look at, 8's is all brown for like half the world), I'd be happy to send over the FF9 world map file from my disc if you'd like, it'd be no trouble at all.
## Post #1458
- Username: dragbody
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-09-21T00:54:10+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from dragbody
>
> Mr. Adults,
I love Noesis. I use it literally every day. I'm glad to see you still offering support and updates for it.
Thanks.

> Reply from dragbody
>
> First, is it possible that you can make the global UV flip a function that can be hotkeyed? If there is already a way to do this, could you please advise me on it?
Nope, data viewer properties can't currently be shortcutted.

> Reply from dragbody
>
> Second, I'm unsure of what the "export from preview" function is for.
It exports the active preview data, including any changes that have been made in the data viewer. It also doesn't rely on the source file still existing, so that you can for example export the results of a tool script that already deleted its temporary output after loading it into the preview module.


> Reply from dragbody
>
> Can you add, or is there already, an option that will avoid the conversion of meshes that have been skip-rendered? This way, if there are multiple LODs in the same mesh, we would be able to convert the model with only the highest LOD.
It's up to the importer to handle that desirably, the "skip render" preview option exists only to hide data that exists, not keep it from being exported. I usually write importers to import LOD's as separate models to sidestep that problem.

> Reply from dragbody
>
> Third, is there a way to preview multiple models at the same time?
That's what .noesis files are for. There's a model merger tool script that's been around that will pick up all models of a given type in a folder, generate a .noesis file for them, and load it. There's also this script that I just put up:

[http://code.google.com/p/noesis-plugins ... context.py](http://code.google.com/p/noesis-plugins-official/source/browse/trunk/Rich/tool_batchload_context.py)

It's basically the same thing, but it's a bit more convenient for mixing bits selectively. It adds a "Batch Load - Queue File" item to your right-click context menu for model files. After you queue an item, you get an additional 3 context items to List, Load, and Clear. They have tool tips telling you what they do. Once you mash your models together, you can then optionally use "Export from preview" to export the whole mess. You could get more creative here and add another interface to manage the queue or whatever, but I think the existing 2 scripts should cover most desired usage cases.

lionheartuk: I don't have any interest in the world map(s) myself, I don't see them ever managing to juggle up near the top of my endless todo list.
## Post #1459
- Username: kawayide
- Rank: beginner
- Number of posts: 37
- Joined date: Wed Nov 09, 2011 9:03 am
- Post datetime: 2013-09-21T03:35:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

I can't remember ff8 has any scale in bone when I play game.
I'm interested in where is and what's the format of G.F model, and special tech animation.
I thought there're in same place as battle model's, but I can't ripped by noesis and other tools on the net.
## Post #1460
- Username: dragbody
- Rank: veteran
- Number of posts: 126
- Joined date: Tue Sep 20, 2011 11:33 am
- Post datetime: 2013-09-21T18:12:45+00:00
- Post Title: Re: Señor Casaroja's Noesis

Thanks for sharing the batch loader. That will be so useful! And thanks for your response on the other questions.
## Post #1461
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2013-09-23T16:15:44+00:00
- Post Title: Re: Señor Casaroja's Noesis

Every time I start a script for Noesis I run into the problem of naming conventions...
Namely that I can't figure out how to access the filename of the file I'm viewing.

Most of the models I view are PSX/2 era models, and thus have no texture or model names stored in their archives, meaning I have to generate a new name for each texture myself. 

A lot of the plugins so far just use tex_#.png/.bmp, and that's problematic, because every model that gets exported overwrites those textures... the simplest solution is to use the input filename_#.png.... but I can't figure out how to actually GET that name...

How do I get that name?


EDIT:
Somehow I missed the line about rapi.getInputName()
## Post #1462
- Username: Satoh
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-09-24T14:13:37+00:00
- Post Title: Re: Señor Casaroja's Noesis

There's actually a caveat to getInputName, which is that it gets the name of the file that's been loaded into the RAPI module instance. Which means if your model is being loaded through a .noesis file, it will actually give you the name of the .noesis file and not your model. The same goes if your plugin is loading a texture for a model it's dependent upon. For your purposes, you probably want something like this instead:

```
texName = rapi.getExtensionlessName(rapi.getLocalFileName(rapi.getLastCheckedName())) + "_your_texture_name"
```
## Post #1463
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2013-09-24T14:27:22+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> There's actually a caveat to getInputName, which is that it gets the name of the file that's been loaded into the RAPI module instance. Which means if your model is being loaded through a .noesis file, it will actually give you the name of the .noesis file and not your model. The same goes if your plugin is loading a texture for a model it's dependent upon. For your purposes, you probably want something like this instead:
Code: Select alltexName = rapi.getExtensionlessName(rapi.getLocalFileName(rapi.getLastCheckedName())) + "_your_texture_name"
Yeah I discovered that myself too, but thanks for the heads-up!

Now if I could just get this face buffer to stop telling me it failed... I swear I never get this face buffer thing right no matter how many times I try...
## Post #1464
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-09-26T03:39:35+00:00
- Post Title: Re: Señor Casaroja's Noesis

Some new stuff from yesterday and today.

> -4.0868 - Added rapi.mergeKeyFramedFloats. It will take a list of keyframed data lists, and convert it into a multi-element keyframe data list. Useful if you want to do something like take 3 separate X/Y/Z keyframe tracks and convert them into a single XYZ track.
>
>  -4.0868 - Fixed a typo in NoeKeyFramedValue.
>
>  -4.0868 - Fixed a crash when running out of memory on TGA export.
>
>  -4.0867 - Fixed a timing issue in Noesis_AnimFromBonesAndKeyFramedAnim.
>
>  -4.0866 - Added NoeKeyFramedAnim, NoeKeyFramedBone, and NoeKeyFramedValue. You can attach NoeKeyFramedAnim lists to a model the same way you would attach NoeAnim lists. Keyframed animations support a variety of data types and interpolation modes.
>
>  -4.0866 - Fixed a crash when committing vertex weight indices without weight values.
>
>  -4.0866 - Fixed a bug that would cause Python-created animations to have an internal framerate of 20 regardless of the framerate specified on the NoeAnim. (wasn't immediately obvious, because Noesis doesn't use that value to determine playback rate)
I guess keyframed anim support was long overdue, I just hadn't thought about it in a long time. Until I wanted to do something that needed it the other day. I'll also probably implement hermite/bezier/etc. interpolation for translations at some point, if I or someone else ever ends up supporting a game that actually uses it. Currently the only interpolation modes are nearest and linear.
## Post #1465
- Username: Satoh
- Rank: mega-veteran
- Number of posts: 194
- Joined date: Sat May 09, 2009 10:07 pm
- Post datetime: 2013-09-26T13:05:22+00:00
- Post Title: Re: Señor Casaroja's Noesis

Speaking of animation... I'm having a somewhat familiar issue...

This is a longshot I know, but I was wondering if you had any advice on how I could go about generating bones for models that have no bind pose...
I'm working with the FF8 MCH field models (which I noted Noesis doesn't support yet, at least in my revision) and it has that same issue that FF9 did and presumable the FF8 battle models...

Bones are defined with only two characteristics: The ID of their parent, and a length...
So far I've been unable to create a matrix that properly applies this length to the bones, so I was assuming I would have to use whatever extra information was in the animations to create them...
Problem being, I don't know what I should be looking for, or even what a proper bone matrix looks like...

That said, any suggestions, whether I immediately understand them or not, would probably be helpful in the long run...

How did you deal with FF8's bone structures?

I tried this:
bone = NoeBone(i,"bone"+str(i),NoeMat43(( NoeVec3((1.0, 0.0, 0.0)), NoeVec3((0.0, 1.0, 0.0)), NoeVec3((0.0, 0.0, 1.0)), NoeVec3((0.0, length, 0.0 )) ) ))

But it created bones with really weird lengths, so I'm guessing that's NOT the correct way to do it.

EDIT: I'm not even sure if I'm asking the right question

EDIT:
I still don't quite know how to handle the animation support just yet, but chrrox came through with a bit of help. I didn't know about the multiplyBones function. That solved oh so many of my issues. The rest is icing on the cake now.
## Post #1466
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-09-27T00:41:35+00:00
- Post Title: Re: Señor Casaroja's Noesis

Yeah, multiplyBones will put your bones in model space. But you still need rotations for them to look right. I never looked at the FF8 field models, so I couldn't tell you anything about their animation format. But presumably that's the only place to get rotations and they don't store any kind of base pose since there'd be no real reason for them to.
## Post #1467
- Username: Milesgboy
- Rank: advanced
- Number of posts: 44
- Joined date: Sun Jul 04, 2010 12:02 am
- Post datetime: 2013-10-08T17:24:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

Anyway of getting Revelations old Raging Blast Plug-in to work with the newer Noesis? Since when you would click the .Spr file in there it would open a dialogue box for picking the next file ioram and Vram file of the same name. Now it just says file cannot be previewed and says if you try to export it that the file type can't be determined. So I assume it was something with a newer version of Noesis that is making this happen.
## Post #1468
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-10-08T18:28:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Milesgboy
>
> Anyway of getting Revelations old Raging Blast Plug-in to work with the newer Noesis? Since when you would click the .Spr file in there it would open a dialogue box for picking the next file ioram and Vram file of the same name. Now it just says file cannot be previewed and says if you try to export it that the file type can't be determined. So I assume it was something with a newer version of Noesis that is making this happen.

It actually works:



Check your pugins folder or re-download the raging blast dll or even redownload noesis.
## Post #1469
- Username: Milesgboy
- Rank: advanced
- Number of posts: 44
- Joined date: Sun Jul 04, 2010 12:02 am
- Post datetime: 2013-10-08T22:41:12+00:00
- Post Title: Re: Señor Casaroja's Noesis

Yeah I redownloaded it both and got the newest version. Even check the msvc runtimes redownloaded them. Now I'm wondering if Noesis just did a bad rip or something. Since I didn't have this problem before when I tried a few months back.

Edit: Nevermind I did a bad rip that is all.
## Post #1470
- Username: Kaem
- Rank: beginner
- Number of posts: 27
- Joined date: Wed May 23, 2012 5:28 am
- Post datetime: 2013-10-27T16:27:03+00:00
- Post Title: Re: Señor Casaroja's Noesis

@MrAdults Do you think that some day we will see/export good FF12 frames/animations? I hope so since months you do, but I don't know if you work in this or in a future.
## Post #1471
- Username: Devilot
- Rank: ultra-veteran
- Number of posts: 443
- Joined date: Tue Sep 07, 2010 5:12 pm
- Post datetime: 2013-11-09T08:38:41+00:00
- Post Title: Re: Señor Casaroja's Noesis

Is the Metroid Prime Series + Other M supported?
## Post #1472
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-11-11T05:11:28+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Devilot
>
> Is the Metroid Prime Series + Other M supported?

Other M is supported by BRRES Viewer, the other metroids I'm not sure if they're supported by noesis, there's just an unpacker por metroid prime in noesis.
## Post #1473
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2013-11-13T16:48:33+00:00
- Post Title: Re: Señor Casaroja's Noesis

@MrAdults how about support for Arc the Lad Twilight of the Spirits? .mdl
## Post #1474
- Username: kawayide
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-11-16T05:58:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

> -4.089 - Finally went back and figured out the rest of FF12's animation format.
>
>  -4.088 - Fixed an issue with manually pairing FF13 models to animations.
>
>  -4.0879 - Fixed materials with normal maps having their noLighting flag ignored.
>
>  -4.0878 - Fixed a scale issue with FF13 animations, and added -ff13ascale because, as with FF8, non-uniform scales may cause issues with some exporters/tools.
>
>  -4.0877 - FF13 animation support. Thanks to nohbdy for the format info.
>
>  -4.0877 - Added NOEKF_TRANSLATION_SINGLE and NOEKF_SCALE_SINGLE keyframed anim types.
>
>  -4.0877 - Various bug fixes.
I'm a little amazed that I figured out FF12's animations without having to disassemble anything. Probably would have been faster, but maybe not given how much of a pain in the ass it is to debug PS2 games without hardware support.
## Post #1475
- Username: LUBDAR
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-11-18T06:09:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

Recent Noesis stuff in semi-summary: [http://www.richwhitehouse.com/index.php?postid=67](http://www.richwhitehouse.com/index.php?postid=67)

Also, FF13 animations. You can do something like this in a .noesis file if you want to map the field character animations to the high-res cinematic character models:

```
version 1
physicslib		""
defaultAxis		"0"

object
{
	model		"c001.x360.trb"
	mapAnimFrom	"e1.white.x360.bin"
	replaceBone	"hair" "hair_nomap"
	replaceBone	"fing" "fing_nomap"
}

```

(replacing bone names on hair and fingers to avoid mapping is due to the relative rotations not matching up - the hierarchy changes down through those bones for the high-res model, so it's no longer direct mapping)
## Post #1476
- Username: LUBDAR
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-11-22T04:37:32+00:00
- Post Title: Re: Señor Casaroja's Noesis


## Post #1477
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-11-22T18:14:11+00:00
- Post Title: Re: Señor Casaroja's Noesis

How did you extract those files?? I tried the bms script for FFXIII-2 by chrrox and I only got some files :S
Or did you work with a memory dump??
## Post #1478
- Username: snowboundmage
- Rank: advanced
- Number of posts: 40
- Joined date: Tue Dec 21, 2010 12:24 pm
- Post datetime: 2013-11-27T10:21:07+00:00
- Post Title: Re: Señor Casaroja's Noesis

What additional parameters should be used if I am batch exporting a folder and want to flip vertically all outputted textures or to flip all uv's(cause their is an option for that as well as rotate 90*)
Alright, apparently it should be -flipuv
Also
Extracting bayonetta .dat files
Why does the created obj file have a /./ in the usemtl lines? Im fairly sure this is causing errors/no-textures in whatever model viewer/editor i use.
eg:

```
usemtl J:\console games\extract\Bayonetta\media\data00\id101f_files\.\bayotex000
```

the filetypes produced are .png files
EDIT:
Ok, it might be because i have a space in my directory. When I changed the lines in the .obj file to have inverted commas, it worked well in noesis viewer. 
So I fixed the filepath to be space-less, but it still does not go well into 3ds max 2010.

ALSO
Upon further inspection, it seems it doesn't export the skeleton from the .dat file
## Post #1479
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-11-27T16:51:35+00:00
- Post Title: Re: Señor Casaroja's Noesis

There is nothing wrong with . or mixed slashes on the path, any competent parser will handle it.

The obj format doesn't support skeleton or weighting data. It isn't in the spec.
## Post #1480
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-12-17T05:39:25+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hi Rich:

I'm having problems while exporting sera's animation from FFXII2 and LR. The files:

s1.white.x360.bin from sk_c108_sr folder.
## Post #1481
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2013-12-18T05:04:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

Works For Me™
## Post #1482
- Username: kawayide
- Rank: beginner
- Number of posts: 37
- Joined date: Wed Nov 09, 2011 9:03 am
- Post datetime: 2013-12-25T16:52:16+00:00
- Post Title: Re: Señor Casaroja's Noesis

Can't view ff13-2 zones from ps3 version. I don't possess x360 version.
## Post #1483
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2013-12-25T20:03:06+00:00
- Post Title: Re: Señor Casaroja's Noesis

[http://sterrennacht.deviantart.com/art/ ... -290503491](http://sterrennacht.deviantart.com/art/Tekken-6-Hwoarang-290503491)

how exactly do i open this in Noesis? originally meant for xnalara!?
## Post #1484
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2013-12-26T06:55:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from itoikenza
>
> http://sterrennacht.deviantart.com/art/ ... -290503491

how exactly do i open this in Noesis? originally meant for xnalara!?

3ds max:

[http://s13.zetaboards.com/digiplay/topic/7048458/1/#new](http://s13.zetaboards.com/digiplay/topic/7048458/1/#new)
[http://www.tombraiderforums.com/showthread.php?t=181251](http://www.tombraiderforums.com/showthread.php?t=181251)
## Post #1485
- Username: aagems
- Rank: advanced
- Number of posts: 75
- Joined date: Thu May 31, 2012 1:07 am
- Post datetime: 2013-12-30T20:18:41+00:00
- Post Title: Re: Señor Casaroja's Noesis

any chance for adding doa4 tpr importer on noesis,so it can directly viewable like doa5 tmc format???it always ask to export when i try to open doa4 tpr
## Post #1486
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-01-17T02:43:30+00:00
- Post Title: Re: Señor Casaroja's Noesis

Summary of recent stealth-releases.

> -4.0955 - rapi.imageNormalSwizzle may now have 2 passed for "derive z" parameter to do normalize from z=1. Some games use this instead of the default method.
>
>  -4.0955 - Changed default derive z method for normal swizzling to be more precise.
>
>  -4.0954 - Added NMATFLAG_GAMMACORRECT, flags the material for gamma-correct lighting.
>
>  -4.0954 - Reduced memory footprint of program permutation data to permit for yet more permutations without considerable overhead.
>
>  -4.0954 - Added -ff13mgamma, enables gamma-correct lighting on all FF13 materials.
>
>  -4.0953 - Small update to se_lzfastest_decomp implementation.
>
>  -4.0953 - Various speedups and fixes.
>
>  -4.0952 - Added "se_lzfastest_decomp" extension method.
>
>  -4.0951 - Support for YMO version used in Ys Origin.
>
>  -4.095 - Added skeleton, skinning, and animation support for Ys: The Oath in Felghanna YMO files.
>
>  -4.094 - Fix for Ys Origin AIA files.
>
>  -4.093 - Python script for importing Ys AIA files is now included.
>
>  -4.093 - Added rapi.imageBlit32.
>
>  -4.093 - Added rapi.callExtensionMethod. Exposes various extension methods to Python.
>
>  -4.092 - Various bug fixes.
>
>  -4.092 - Support for large address space on 64-bit operating systems.
## Post #1487
- Username: Mr.Mouse
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2014-01-17T06:40:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

Plenty of sneaky updates
## Post #1488
- Username: freakshow
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Jan 20, 2014 2:08 am
- Post datetime: 2014-01-24T19:59:45+00:00
- Post Title: Re: Señor Casaroja's Noesis

Thanks for this mind-blowing tool. I've seen cryengine .chr and .cgf are supported but not .caf animations.Is it something that you think you might add in the future Mr Adults?
## Post #1489
- Username: Player
- Rank: n00b
- Number of posts: 15
- Joined date: Tue Mar 15, 2011 5:38 pm
- Post datetime: 2014-01-30T07:25:00+00:00
- Post Title: Re: Señor Casaroja's Noesis

hello MrAdults.
Thank you for your work!
tell me you plan to add support for MAC OS?
## Post #1490
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-02-01T09:09:56+00:00
- Post Title: Re: Señor Casaroja's Noesis

I've covered that at least a couple of times in this thread now. The short answer is no. The other short answer is use Wine. The medium-sized answer is pray to the demonic soul of Steve Jobs that he may rise up and strike me, forcing me to support his mysterious cursed operating systems until I join him in the grave.

Useful things:

> -4.0958 - Added noeProcessImage. This is a utility function that lives in inc_noesis, and is very useful for automating the task of invoking image processing calls on multi-face/multi-mip images. See the example usage in the NIF script.
>
>  -4.0958 - Cubemaps and mipmaps are now used for NIF files.
>
>  -4.0958 - Added rapi.imageKernelProcess. Allows you to specify a Python "kernel" method to do per-pixel data processing on image data. Performing logic in the kernel is typically around 2-4 times faster than doing the same thing by looping through bytearrays yourself in Python.
>
>  -4.0958 - Added NPAPI_SelectDataViewerMesh to the native API. This is used by the latest triangle picker plugin (Rich/native_bin/example_visualize02.dll in the Noesis plugins repository), and allows you to go directly to meshes in the data viewer by ctrl+clicking any of their triangles.
>
>  -4.0958 - Fixed a formatting bug in Python error text.
>
>  -4.0958 - Added a "skip render" flag for models in the data viewer, mainly for convenience when using the "draw all models" option.
>
>  -4.0957 - Ctrl-C now works to copy the current selection in the data viewer. You can also use the "Copy data only" option to have Ctrl-C only grab the data string instead of the full entry text.
>
>  -4.0956 - Added a search option in the data viewer. You can search by value name or in the actual data. Convenient for finding meshes/materials in the model by name.
## Post #1491
- Username: Markemp
- Rank: veteran
- Number of posts: 116
- Joined date: Tue Dec 24, 2013 9:42 am
- Post datetime: 2014-02-01T16:17:58+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from freakshow
>
> Thanks for this mind-blowing tool. I've seen cryengine .chr and .cgf are supported but not .caf animations.Is it something that you think you might add in the future Mr Adults?

This is my request too, although it's a plug-in by ... revelation? that does the Cryengine stuff.  .caf animations as well as .cga support would be most excellent.
## Post #1492
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2014-02-02T10:39:24+00:00
- Post Title: Re: Señor Casaroja's Noesis

is there any way to mirror models (along with skeleton) on export?
## Post #1493
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-02-02T18:25:18+00:00
- Post Title: Re: Señor Casaroja's Noesis

Not unless you set RPGOPT_SWAPHANDEDNESS before the format's rpgConstructModel (if it's a format that's exposed through Python), or you write a tool script to reprocess an imported model through the rpg interface using RPGOPT_SWAPHANDEDNESS. Which would require you to do some scripting. Manually mirroring geometry to compensate for handedness is usually a poor idea.
## Post #1494
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2014-02-02T20:17:22+00:00
- Post Title: Re: Señor Casaroja's Noesis

MrAdults, thanks for reply.
trying to convert black desert models like so:

```
		rapi.rpgSetOption(noesis.RPGOPT_SWAPHANDEDNESS, 1) #I put this before .rpgConstructModel
		mdl = rapi.rpgConstructModel()
		mdl.setModelMaterials(NoeModelMaterials(texList, matList))
		mdlList.append(mdl); mdl.setBones(boneList)
	return 1

```


I definitely do something wrong, could you tell me where should I put "RPGOPT_SWAPHANDEDNESS"?
## Post #1495
- Username: Tosyk
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-02-03T00:19:49+00:00
- Post Title: Re: Señor Casaroja's Noesis

Since the bones are set independently after the model is constructed, you need to swap handedness of those matrices too. See the example usage in the Bullet Witch script. (the lines to swap endianness are commented out)
## Post #1496
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-02-07T16:23:07+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hey Rich thanks for fixing MVC3 weights, but specular textures (.tex) got affected, now I only get pure white :S
## Post #1497
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-02-07T17:23:47+00:00
- Post Title: Re: Señor Casaroja's Noesis

That is more likely related to the global DXT-related changes than the MVC3 ones. Please send over an affected file or 2.
## Post #1498
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-02-08T03:54:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

Thanks for the test data. 4.0963 is up with the fix.
## Post #1499
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-02-08T06:25:38+00:00
- Post Title: Re: Señor Casaroja's Noesis

No, thank you for your time and patience. I already checked the spec textures and now It's working correctly.
## Post #1500
- Username: luxox18
- Rank: mega-veteran
- Number of posts: 176
- Joined date: Sat Jul 30, 2011 4:18 am
- Post datetime: 2014-02-14T04:58:46+00:00
- Post Title: Re: Señor Casaroja's Noesis

someone can help me with this noesis script please

a friend is working in a noesis script for god of war 3 , he found vertex and uv coords but he can't obtain faces.



also, he have other problems, the script only show the point cloud in r_harpy20.wad, all other models can be loaded perfectly but shows nothing.

this is the script

```
import noesis
import rapi

def registerNoesisTypes():
   handle = noesis.register("God of War 3 model", ".wad")
   noesis.setHandlerTypeCheck(handle, noepyCheckType)
   noesis.setHandlerLoadModel(handle, noepyLoadModel) #see also noepyLoadModelRPG
       #noesis.setHandlerWriteModel(handle, noepyWriteModel)
       #noesis.setHandlerWriteAnim(handle, noepyWriteAnim)
   #noesis.logPopup()
       #print("The log can be useful for catching debug prints from preview loads.\nBut don't leave it on when you release your script, or it will probably annoy people.")
   return 1

NOEPY_HEADER = ""

#check if it's this type based on the data
def noepyCheckType(data):

   return 1       

#load the model
def noepyLoadModel(data, mdlList):
   ctx = rapi.rpgCreateContext()
   #rapi.rpgSetOption(noesis.RPGOPT_TRIWINDBACKWARD, 1)
   bs = NoeBitStream(data)
   bs.setEndian(NOE_BIGENDIAN)
   rapi.rpgSetOption(noesis.RPGOPT_BIGENDIAN, 1)
   
   VtxCount = (252, 436, 232, 168, 1847, 1780, 2892, 600, 380)
   VtxBytes = 24
   VtxOffset = (0x16A470, 0x16C6F0, 0x170890, 0x172F60, 0x1783D0, 0x18AFF0, 0x19FE30, 0x1B8FF0, 0x1BEE10)
   
   for i in range(0, 9):
      bs.seek(VtxOffset[i], NOESEEK_ABS) 
      VtxBuff = bs.readBytes(VtxCount[i] * VtxBytes)
      rapi.rpgBindPositionBufferOfs(VtxBuff, noesis.RPGEODATA_FLOAT, VtxBytes, 0)
      rapi.rpgBindNormalBufferOfs(VtxBuff, noesis.RPGEODATA_FLOAT, VtxBytes, 12)
      
      UVBuff = bs.readBytes(VtxCount[i] * 8)
      rapi.rpgBindUV1BufferOfs(UVBuff, noesis.RPGEODATA_FLOAT, 8, 0)

      rapi.rpgCommitTriangles(None, noesis.RPGEODATA_USHORT, VtxCount[i], noesis.RPGEO_POINTS, 1)


   mdl = rapi.rpgConstructModel()
   #mdl.setBones(Skeleton)  
   mdlList.append(mdl)        
   rapi.rpgClearBufferBinds()   
   return 1

```


according to albinoleopard a.k.a 3dmodel the creator for GOW3 bms script from ps23dformat the faces start with the following array FF FF FF 9C 00 00 00 00 FF FF FF 54 00 20 00 00 00 40

probally the files use triangle strip, my friend need to add a algorythm or something in his noesis script for decode this data

here are some files, including R_harpy20.wad , the only model that works.

[http://www.mediafire.com/download/8ncr8 ... PS3_BE.rar](http://www.mediafire.com/download/8ncr83m1an8oavc/PS3_BE.rar)

anyone can take a look please ?

thanks!  

(note: my friend can't create a account here)
## Post #1501
- Username: Devilot
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-02-16T18:42:44+00:00
- Post Title: Re: Señor Casaroja's Noesis

> -4.0965 - Added named user vertex streams. Named streams can specify raw data as per-vertex or per-mesh/instance, and can be provided to the RPGeo interface using rpgBindUserDataBuffer, or immUserData in immediate mode. To specify that a stream is per-instance, simply provide a data stride of 0. User data streams will not be modified or processed in any way, and will be passed along the export path as-is. Attaching per-instance streams to draws can also be useful as it allows you to pass through your own custom arbitrary data structures. I recommend giving your user streams reasonably unique names. For example, instead of naming something "verts" where another script might have created a like-named user stream to hold differently-formatted data, name it something like "yourscriptname_custom_vert_data".
>
>  -4.0965 - Added -fbxnoesidecar. This enables reading/writing of .noefbx files when importing/exporting FBX. A .noefbx file will be generated if the model being exported contains custom user stream data, so that the data can be preserved across export/import of the resulting FBX.
>
>  -4.0965 - Added readDouble, readInt64, readUInt64, writeDouble, writeInt64, and writeUInt64 functions to NoeBitStream.
>
>  -4.0965 - Better handling for when someone decides it's a good idea to turn a high-detail skeletally animated model into a 4GB Quake MDL.
>
>  -4.0964 - Fixed various buffer overflows which could occur in legacy print functions.
>
>  -4.0963 - Fixed a z precision issue in BC5 decoding.
>
>  -4.0963 - Fixed a bug in calculating BC4 size that caused recent DXT safeguards to refuse to decode data.
>
>  -4.0963 - Added a "Force software DXT decode" option in the data viewer.
>
>  -4.0962 - Added Noesis_ConvertDXTEx, and failsafed more of the DXT code scattered throughout Noesis.
>
>  -4.0962 - MvC3 vertex weighting fix.
>
>  -4.0962 - Added NPAPI_SelectDataViewerBone.
>
>  -4.0961 - Fixed a possible crash when untiling unaligned DXT data.
>
>  -4.096 - Added a new "Default tool plugins" option. This is a semicolon-delimited list of tools that you want to be automatically invoked when you start Noesis or reload plugins.
>
>  -4.096 - Added NPAPI_SelectDataViewerMeshMaterial. Does the same thing as NPAPI_SelectDataViewerMesh, but goes directly to the mesh's material instead of the mesh.
>
>  -4.096 - Added NOESISBUTTON_ALT for tool input callbacks.
>
>  -4.096 - Fixed a problem with Noesis_CopyInternalTransforms failing when not every mesh in the model has a transform buffer.
>
>  -4.096 - Added Noesis_GetMeshInternalProperties.
>
>  -4.0959 - Added options for "Disable anisotropic filtering" and "Disable hardware mipmaps".
Also, since no one checks the plugins repo, the triangle picker has seen some updates and is actually very useful now. It has alt+click functionality to highlight meshes in the data viewer, as well as mesh materials and bones by strongest influence to selected triangle.
## Post #1502
- Username: Mr.Mouse
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2014-02-18T21:22:15+00:00
- Post Title: Re: Señor Casaroja's Noesis

January:  around 1500 unique hits on any version of Noesis, good for around half of total bandwidth of XeNTaX!
## Post #1503
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-02-19T06:36:59+00:00
- Post Title: Re: Señor Casaroja's Noesis

Not too shabby. And that's not including the bandwidth for the in-app auto-update packages that live on my server.
## Post #1504
- Username: Demonsangel
- Rank: mega-veteran
- Number of posts: 241
- Joined date: Sat Aug 06, 2011 4:31 am
- Post datetime: 2014-02-19T20:29:25+00:00
- Post Title: Re: Señor Casaroja's Noesis

Too bad it's mostly leechers, but if it helps spread the word it's not bad I guess.
## Post #1505
- Username: Markemp
- Rank: veteran
- Number of posts: 116
- Joined date: Tue Dec 24, 2013 9:42 am
- Post datetime: 2014-02-20T03:56:28+00:00
- Post Title: Re: Señor Casaroja's Noesis

I've probably been sending a lot of people to Noesis through my tutorial videos and some posts.  Is there something I can do to help encourage people to not leech?
## Post #1506
- Username: Mr.Mouse
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2014-02-21T21:46:45+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Markemp
>
> I've probably been sending a lot of people to Noesis through my tutorial videos and some posts.  Is there something I can do to help encourage people to not leech?

No worries.
## Post #1507
- Username: Markemp
- Rank: veteran
- Number of posts: 116
- Joined date: Tue Dec 24, 2013 9:42 am
- Post datetime: 2014-02-21T23:25:50+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Mr.Mouse
>
> Markemp wrote:I've probably been sending a lot of people to Noesis through my tutorial videos and some posts.  Is there something I can do to help encourage people to not leech?

No worries.

It's money.  I worry. 

I'll include a link to the donate button, if that's ok.  Something along the lines of "Support your local modders, pony up bitches".
## Post #1508
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-02-22T01:50:08+00:00
- Post Title: Re: Señor Casaroja's Noesis

[http://www.richwhitehouse.com/index.php ... _about.php](http://www.richwhitehouse.com/index.php?content=inc_about.php) is for donating to me/Noesis. I don't receive anything from xentax donations, although that helps keep the forums running I guess.
## Post #1509
- Username: Mr.Mouse
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2014-02-22T09:49:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> http://www.richwhitehouse.com/index.php ... _about.php is for donating to me/Noesis. I don't receive anything from xentax donations, although that helps keep the forums running I guess.

Indeed. And enables the downloads (tools, noesis etc) for the public. Still, we're in a niche, and we don't get rich (not in the least bit, lol    , that would be awesome though, but NO.   ). So I fully support the idea of the Noesis users to throw some cash Rich's way. I'll make a post about it.
## Post #1510
- Username: Mr.Mouse
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2014-02-22T10:01:24+00:00
- Post Title: Re: Señor Casaroja's Noesis

viewtopic.php?f=33&t=11239

Support the development of Noesis people! Donate to our fine author, Rich!
## Post #1511
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-02-22T15:13:17+00:00
- Post Title: Re: Señor Casaroja's Noesis

Thanks. The grand total number of people that have ever donated to me still rings in at 3. I've had a few who apparently donated to Xentax and therefore felt entitled to Noesis feature support because they thought that money was somehow getting to me, though. It would be nice if I received enough to cover my own hosting costs, but people have no direct incentive to give me money so that probably isn't going to happen. Avalanche got like 30,000 downloads as well, and continues to eat about 200GB in bandwidth a month on my server, but not a single person has been inspired to throw money at me for that either.

It's kinda sad how much you have to shove it in people's faces if you want them to actually donate or contribute. Maybe we should start making starving coder "in the arms of the angels" YouTube promo videos. Donate today and help make my family fatter by contributing to our "too lazy to make real food" fast food fund. The first donator to put me over the line of obesity will receive a free t-shirt.
## Post #1512
- Username: Mr.Mouse
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2014-02-22T20:59:01+00:00
- Post Title: Re: Señor Casaroja's Noesis

Those that donate to us and then start asking favors for this or that don't get the point of donating. A point I made very clear also to users of MultiEx Commander. Nobody is buying anything from us, so they don't get any rights on the stuff hosted here. We welcome their support, but can not be inclined to support them with their issues just because they donated. 
And that's even different from those that download all kinds of free stuff and then start harassing authors "This feature doesn't work! FIX IT!", "Why is there no support for my game???", "Can you add this feature that will take you a hell of a time to get in, like, YESTERDAY??", "Your tool sucks! I can't run it on my files, I don't know where my command line is! Which number do I dial?", "I tried your tool for *.DAT files from Game A on my *.DAT files from Game B, and it fails!! How can this be? Support me, NOW"... etc etc... et.. oh well.
## Post #1513
- Username: MofoMan2000
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Sat Feb 22, 2014 2:21 pm
- Post datetime: 2014-02-22T23:33:48+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hey guys, I've been lurking for a while and finally decided to register. I really want to say what a great program Noesis is, I've never had it crash and it does exactly what it says it does.

I'm having an issue, though. Valve SMD files contain either animations or meshes, but not both. I'm wondering if it isn't possible to apply the animation from one SMD onto the mesh defined in another?

Fantastic program though, Rich. I'll be happy to kick a few bucks your way, you've more than earned it. That t-shirt is MINE.
## Post #1514
- Username: Markemp
- Rank: veteran
- Number of posts: 116
- Joined date: Tue Dec 24, 2013 9:42 am
- Post datetime: 2014-02-23T00:02:23+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Mr.Mouse
>
> Those that donate to us and then start asking favors for this or that don't get the point of donating. A point I made very clear also to users of MultiEx Commander. Nobody is buying anything from us, so they don't get any rights on the stuff hosted here. We welcome their support, but can not be inclined to support them with their issues just because they donated. 
And that's even different from those that download all kinds of free stuff and then start harassing authors "This feature doesn't work! FIX IT!", "Why is there no support for my game???", "Can you add this feature that will take you a hell of a time to get in, like, YESTERDAY??", "Your tool sucks! I can't run it on my files, I don't know where my command line is! Which number do I dial?", "I tried your tool for *.DAT files from Game A on my *.DAT files from Game B, and it fails!! How can this be? Support me, NOW"... etc etc... et.. oh well.

You should sell support contracts.  $250 for a 1 year contract, or something like that. 

Tell them they'll get a number to call when they purchase a contract.
## Post #1515
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-02-23T01:06:55+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MofoMan2000
>
> Hey guys, I've been lurking for a while and finally decided to register. I really want to say what a great program Noesis is, I've never had it crash and it does exactly what it says it does.

I'm having an issue, though. Valve SMD files contain either animations or meshes, but not both. I'm wondering if it isn't possible to apply the animation from one SMD onto the mesh defined in another?

Fantastic program though, Rich. I'll be happy to kick a few bucks your way, you've more than earned it. That t-shirt is MINE.
Thanks. 

I recall SMD having sequence SMD's and geometry SMD's separated by spec back when I wrote the parser, which I thought was weird. I don't know if there are newer/different standards now that dictate the two can be combined in a single SMD, but if you just want to take a geometry SMD and apply animations to it when exporting to a separate format (like FBX or whatever), Noesis allows you to do that. You can drag and drop the sequence SMD over the open model preview window to apply it in-memory and then use "export from preview", or you can use -loadanim when exporting the geometry SMD to specify sequence SMD to be used for animations. Both of those approaches work for any geometry + any animation format.
## Post #1516
- Username: MofoMan2000
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Sat Feb 22, 2014 2:21 pm
- Post datetime: 2014-02-23T01:14:06+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> I recall SMD having sequence SMD's and geometry SMD's separated by spec back when I wrote the parser, which I thought was weird. I don't know if there are newer/different standards now that dictate the two can be combined in a single SMD, but if you just want to take a geometry SMD and apply animations to it when exporting to a separate format (like FBX or whatever), Noesis allows you to do that. You can drag and drop the sequence SMD over the open model preview window to apply it in-memory and then use "export from preview", or you can use -loadanim when exporting the geometry SMD to specify sequence SMD to be used for animations. Both of those approaches work for any geometry + any animation format.

I did try to drag the animation SMD over to the preview pane while the geometry was loaded (these SMDs are from the same model, so the animation should align perfectly with the geometry) but as soon as my cursor moved over the preview pane it simply started rotating the model. It never gave any indication that it was drag-dropping the animation. I'll try the command line option, though, and let you know. 

EDIT: Yeah -loadanim worked. That's great, thanks!
## Post #1517
- Username: MofoMan2000
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-02-23T14:34:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

I meant, drag and drop from an external Explorer window. I should probably make a context action for the filelist that does it too.
## Post #1518
- Username: MofoMan2000
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Sat Feb 22, 2014 2:21 pm
- Post datetime: 2014-02-23T21:32:05+00:00
- Post Title: Re: Señor Casaroja's Noesis

Oh, I should have thought of that. Yeah, I didn't even have the folder open in explorer because the program had a file list already.

I'm having another issue with SMD importing though, for some reason it seems the V texture axes are upside down, I have to flip the texture vertically for it to load properly. I don't know if there's some setting I've missed or what's going on, it renders properly in MilkShape.
## Post #1519
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-02-24T00:18:56+00:00
- Post Title: Re: Señor Casaroja's Noesis

That's implementation-specific, so just flip as needed based on what the target wants. Noesis has an option to flip UV's in the data viewer as well if you want to view flipped coordinates without touching them on export.
## Post #1520
- Username: Acewell
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-02-24T01:26:06+00:00
- Post Title: Re: Señor Casaroja's Noesis

Thanks to the 2 people who donated yesterday. We're now at a total of 5. 

I didn't want to add the drag and drop functionality to the standard context menu because the behavior would probably just confuse most people. So I wrote an add-on script for it instead. If you want it, you can use this:

[http://code.google.com/p/noesis-plugins ... preview.py](http://code.google.com/p/noesis-plugins-official/source/browse/trunk/Rich/tool_applytopreview.py)
## Post #1521
- Username: Acewell
- Rank: VIP member
- Number of posts: 1330
- Joined date: Wed Nov 05, 2008 7:16 pm
- Post datetime: 2014-02-24T05:55:23+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MofoMan2000
>
> ..for some reason it seems the V texture axes are upside down
This happens with obj import/export too. On import you have to use the Global UV flip in Data Tools to view them correctly. It would be cool if there was a way to eliminate the flipping on import/export though.
## Post #1522
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2014-02-24T11:49:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from AceWell
>
> MofoMan2000 wrote:..for some reason it seems the V texture axes are upside down
This happens with obj import/export too. On import you have to use the Global UV flip in Data Tools to view them correctly. It would be cool if there was a way to eliminate the flipping on import/export though.

It all depends on the source program.
Some programs export formats with -v in uv space.
Most programs support flipping uv's on export just set that if you want to view it in noesis.
## Post #1523
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2014-03-25T15:42:47+00:00
- Post Title: Re: Señor Casaroja's Noesis

What do you use to maintain the automatic updates? (both client and server side)
I've been looking into software updates and this came to mind.
## Post #1524
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-03-28T00:44:25+00:00
- Post Title: Re: Señor Casaroja's Noesis

It's all just stuff I wrote, not based on anything. The auto-update package is a simple executable that handles the actual file installation and defines a custom PE section for the data, then I have a tool that automatically produces archives for distribution as well as produces the auto-updater for that build by injecting the data into the custom PE section, then it uploads everything to appropriate mirrors, updates the Xentax Noesis download page, and updates the build information that lives on richwhitehouse.com. (which is what Noesis checks to see if there are any new builds available) The server side of the auto update stuff on richwhitehouse.com is just some simple php code that uses a mysql database to keep track of build information. It also handles all the crash report collection. The whole process is automated and requires nothing from me other than updating the readme to reflect the new version (which is what it parses to get the version number) and running a .bat file.
## Post #1525
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2014-03-29T00:03:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

So when I download the patch, what actually gets downloaded?

> and defines a custom PE section for the data

I was thinking I'd just be getting a completely new build, but custom PE section seems like something else is going on.
## Post #1526
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-03-29T00:13:33+00:00
- Post Title: Re: Señor Casaroja's Noesis

The PE section in the updater just contains a reference to the compressed data for the build. I use the custom section so that I can parse through the PE sections to find it by name when I'm generating the final update package from my other tool. It's just an elegant solution to the "where do I find the data?" problem for the updater, there are more naive ways you could do it if you wanted.
## Post #1527
- Username: finale00
- Rank: M-M-M-Monster veteran
- Number of posts: 2382
- Joined date: Sat Apr 09, 2011 8:22 am
- Post datetime: 2014-03-29T20:34:30+00:00
- Post Title: Re: Señor Casaroja's Noesis

Like a version check so you know what the client needs or doesn't need so you can avoid sending too much or too little.
## Post #1528
- Username: jaden
- Rank: mega-veteran
- Number of posts: 209
- Joined date: Sat Feb 05, 2011 8:41 am
- Post datetime: 2014-04-04T06:08:41+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hello senor casaroja
I'm stunned by your sharing idealism, since i've seen many people who don't share their own model ripping software
Noesis is by far the most amazing game extractor software,Cheeers

I want to ask if you if have time can you please create a model importer for Final fantasy 8 PC?
It will be great to be able to 3d mod FF8
I'll send you $500 to your paypal account if you decided to create such tool

Thanks a lot senor

Best Regards
Jaden
## Post #1529
- Username: Darkfox
- Rank: VVIP member
- Number of posts: 688
- Joined date: Sat Jul 05, 2003 1:11 am
- Post datetime: 2014-04-06T23:54:38+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hey, chiming in to say that something happened to the animation support regarding Ninja. Noticed this while trying to load some models in Maken X, in particular Kay Sagami (HEROIN). No animations load even if I drag and drop it. I know it was working perfectly before. I've tried loading the model and animation separately which used to work for some models (particularly those composed of two models) but that does not work here either.

When you get the time could you take a look? If needed I could provide quick access to the files.
## Post #1530
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-04-07T00:45:37+00:00
- Post Title: Re: Señor Casaroja's Noesis

The doubled-up Maken-X models have never animated. The animations are only for a subset of the skeleton, which Noesis doesn't try to support globally for NJCM because it would be wrong most of the time. The non-doubled-up Maken-X models are still animating fine.
## Post #1531
- Username: Darkfox
- Rank: VVIP member
- Number of posts: 688
- Joined date: Sat Jul 05, 2003 1:11 am
- Post datetime: 2014-04-07T02:33:46+00:00
- Post Title: Re: Señor Casaroja's Noesis

Doubled up? You mean the ones where there are two models overlapping each other, each having its own skeleton? I've been able to get them to animate by splitting the NJCM files and loading the NMDM separately, though it'll work on the first model anyways without that.

Unless you mean something else in which I'm sorry if I am misunderstanding. The HEROIN model only has one layer from what I see.
## Post #1532
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-04-09T01:51:48+00:00
- Post Title: Re: Señor Casaroja's Noesis

Works for me.


Maken-X files have padding between chunks that Noesis will not parse though, whatever you're using to dump the pac's is probably not stripping padding correctly. I've got an old script to dump them around here somewhere.

Edit: [http://code.google.com/p/noesis-plugins ... c_split.py](http://code.google.com/p/noesis-plugins-official/source/browse/trunk/Rich/tool_makenx_pac_split.py)
To use, right-click .pac/.pak and use the "Split Maken-X PAC" menu item. Set DUMP_AS_IMAGES to True at the top if you want to dump the image archives instead of the model ones. It splits models up by NJTL chunks by default.
## Post #1533
- Username: Darkfox
- Rank: VVIP member
- Number of posts: 688
- Joined date: Sat Jul 05, 2003 1:11 am
- Post datetime: 2014-04-12T03:15:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

Sorry about that, but thank you for this. Yeah, I suppose my copy and pasting method is a bit hit or miss. This is far more efficient! Thank you!

Oh yeah, there is a SMD parsing problem that causes a model not to load if whitespace is read in the file. This includes animation SMDs. Crowbar, a new and more accurate MDL decompiler produces SMD files formatted in this fashion. Thought I'd let you know about that!
## Post #1534
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-04-12T04:50:57+00:00
- Post Title: Re: Señor Casaroja's Noesis

If whitespace is read in the file? Lots of whitespace is in SMD files, so I'm not sure what you mean. Feel free to throw one up. I recently made changes to the SMD parser at shadowmoy's request, dunno if that might've broken whatever you're running into.
## Post #1535
- Username: Darkfox
- Rank: VVIP member
- Number of posts: 688
- Joined date: Sat Jul 05, 2003 1:11 am
- Post datetime: 2014-04-12T05:10:00+00:00
- Post Title: Re: Señor Casaroja's Noesis

Sent you some examples in PM. Hope you can see what I mean better than I can say it because I'm terrible at explaining things.
## Post #1536
- Username: Goldensly
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Mon Apr 14, 2014 5:40 pm
- Post datetime: 2014-04-14T17:23:47+00:00
- Post Title: Re: Señor Casaroja's Noesis

First off, Big fan of the software. Worked so good the first time I used it, it was definitely worth the donation to figure out why I'm having issues this time around.

I'm currently running Win 7 x64 and when i try to preview .MLD models (Skies of Arcadia), I keep getting a pop up with "File Could Not Be Previewed".  I've tried to just export the models as well and I get "The File Type Could Not Be Determined".  So far I've tried:  turning off my anti-virus and unpacking a fresh copy of Noesis, Running it as admin, running it compatibility mode, confirming that everything from the zip file is intact after unpacking, running the update,and getting a fresh copy of the .mld files that I'm trying to convert.

I've been slowing making my way through this board but there are alot of pages and what I've trekked through hasn't led to any possible hints of what I might be missing.  Any suggestion would be very welcome.

PS: Noesis v. 409731.  I've also tried other versions of Noesis with the same results.

I've also ripped the files from both the DC and GC versions with the same results.
## Post #1537
- Username: Goldensly
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Mon Apr 14, 2014 5:40 pm
- Post datetime: 2014-04-14T20:40:37+00:00
- Post Title: Re: Señor Casaroja's Noesis

-.-  apparently when I was cleaning up my iso's from last time I accidentally kept the the ECH version not the uncompressed....I got it working...love the updates to the software!
## Post #1538
- Username: gregkwaste
- Rank: advanced
- Number of posts: 69
- Joined date: Wed Apr 16, 2014 5:17 am
- Post datetime: 2014-04-28T09:38:48+00:00
- Post Title: Re: Señor Casaroja's Noesis

First of all thanks a lot for this magnificent piece of software,
I am playing around with some xpr2 (Xbox360 Files) and i found out that the textures need untiling in order to show them properly and i found out that noesis supports these files and also converts the textures. So is there any source code of the tool so that i can see the function that does this kind of job? The one i am looking for is rapi.imageUntile360Raw.

If that is not possible, can i somehow get that rapi package and use it externally? Because i am also writing in Python and that comes in handy
## Post #1539
- Username: Devilot
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-05-12T08:32:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

I finally put a Noesis release up with those SMD fixes.

Also, Doom map support. I know everyone was eagerly awaiting that one.
## Post #1540
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2014-05-12T10:11:46+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hell yes doom map support .
One of the best games ever made.
## Post #1541
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-05-12T14:32:59+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> I finally put a Noesis release up with those SMD fixes.

Also, Doom map support. I know everyone was eagerly awaiting that one.

Lol A momth awaited update.
## Post #1542
- Username: Markemp
- Rank: veteran
- Number of posts: 116
- Joined date: Tue Dec 24, 2013 9:42 am
- Post datetime: 2014-05-14T18:27:23+00:00
- Post Title: Re: Señor Casaroja's Noesis

I'm just going to put another ping for an updated Cryengine plug-in update.  The current one by revelation is (I think) for CE2, and the new format which uses xml material files just seems to be having some minor (but significant) issues with CE3 games, like Star Citizen and MechWarrior Online.

Still can't thank you enough for Noesis though; single-handedly kept me involved in modding work!
## Post #1543
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-05-18T15:51:52+00:00
- Post Title: Re: Señor Casaroja's Noesis

Sorry, no idea about anything CryEngine-related, that's all been handled by third parties and I've never so much as opened a file in a hex editor. I'm not sure if revelation actually reads these forums or not anymore, last I talked to him he handed me a bunch of MGS specs that I've still been too lazy and/or busy to actually sift through for the purpose of making a plugin.
## Post #1544
- Username: georwar
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Fri Jul 23, 2010 2:45 am
- Post datetime: 2014-05-21T19:17:48+00:00
- Post Title: Re: Señor Casaroja's Noesis

I have windows 8 pro 64 Bits
and can. run your application. just one look
do not know why. no longer let me open your application
help
noesis v40975
## Post #1545
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2014-05-21T21:49:15+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from georwar
>
> I have windows 8 pro 64 Bits
and can. run your application. just one look
do not know why. no longer let me open your application
help
noesis v40975

Download the latest noesis to a new folder and try to run it.
[http://oasis.xentax.com/index.php?content=downloads](http://oasis.xentax.com/index.php?content=downloads)
## Post #1546
- Username: georwar
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Fri Jul 23, 2010 2:45 am
- Post datetime: 2014-05-22T00:09:46+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from chrrox
>
> georwar wrote:I have windows 8 pro 64 Bits
and can. run your application. just one look
do not know why. no longer let me open your application
help
noesis v40975

Download the latest noesis to a new folder and try to run it.
http://oasis.xentax.com/index.php?content=downloads

No working help pleas
## Post #1547
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-05-23T00:56:21+00:00
- Post Title: Re: Señor Casaroja's Noesis

No one can help if you don't give more explicit information. You haven't stated anything useful other than that you're running Windows 8, which Noesis typically runs fine on. You didn't say if nothing happens when you run the executable, if it crashes, it hangs, etc.

It's also important to note which version you had that was working for you. Your phrasing indicates you had it work and it stopped with an update.
## Post #1548
- Username: georwar
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Fri Jul 23, 2010 2:45 am
- Post datetime: 2014-05-25T15:55:32+00:00
- Post Title: Re: Señor Casaroja's Noesis

The first time I run the program. noesis v40975
I had no problem to run
the second time I tried to run it.
not run
and does not send me any error message.   
try with different versions noesis v***** with the same results
I have windows 8 pro with media center
64 Bits  

Ok now is working
do not know what the hell is wrong with my computer
but anyway now this worked
o and thanks for the program
great program when you created.
## Post #1549
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2014-05-30T23:48:10+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Since the bones are set independently after the model is constructed, you need to swap handedness of those matrices too. See the example usage in the Bullet Witch script. (the lines to swap endianness are commented out)I can't get any satisfactory result here, help would be appreciated.
## Post #1550
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2014-06-06T22:41:17+00:00
- Post Title: Re: Señor Casaroja's Noesis

Alright, so for the past few years, I've had a hard running Noesis because my main computer is an iMac. I've been constantly updating Wine to get better functionality with Windows programs, but Noesis had always crashed the Windows Emulator, so I hadn't used Noesis on it in months.
However, I've recently tested Noesis with the latest versions of Wine and Crossover and it's currently running with full functionality. To prove my findings, here's a picture of Doom 2 MAP01:

Mac and Linux users rejoice!
## Post #1551
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-06-07T02:55:08+00:00
- Post Title: Re: Señor Casaroja's Noesis

That's good to know.
## Post #1552
- Username: Mr.Mouse
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2014-06-09T00:28:26+00:00
- Post Title: Re: Señor Casaroja's Noesis

Aaaahhhhh, Doom 2 - Map 1 ..... We've all been there.... Right? .... RIGHT? Are you with me, or am I old and you're like
## Post #1553
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-06-10T03:37:26+00:00
- Post Title: Re: Señor Casaroja's Noesis


## Post #1554
- Username: Truthkey
- Rank: beginner
- Number of posts: 20
- Joined date: Sat Jul 24, 2010 5:39 am
- Post datetime: 2014-06-12T11:23:23+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hi MrAdults! May I request something for Noesis?

I would like you to add an additional parameter for .obj files if possible. I need a parameter that I can use to attach a few chars to the texture name inside the .mtl file. Something like what you have with the fbx parameter "-fbxtexext <arg>" but for obj files.

Thanks in advance!

EDIT: Also, if it were possible could you add the options you have in the Export menu such as "Flip UVs" and "Rotate 90º" to the batch process?
## Post #1555
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-06-21T00:34:54+00:00
- Post Title: Re: Señor Casaroja's Noesis

You could probably write a script pretty easily to do the texture name thing for you. But maybe I'll just add a generic suffix option since a prefix option already exists.

Flip UV's/Rotate 90 is already possible, just add -flipuv and -rotate -90 0 0 to the batch export template commandline.
## Post #1556
- Username: luke9511
- Rank: beginner
- Number of posts: 29
- Joined date: Sun Jul 01, 2012 6:48 am
- Post datetime: 2014-06-29T01:09:36+00:00
- Post Title: Re: Señor Casaroja's Noesis

i have the latest version of noesis and it was working the day before but now when i start it, it just crashes with no error message, i looked for a crash log and didnt find it, i deleted it and redownloaded it thinking something the folder but it is still doing it, i am on windows 7 64 if that helps any

EDIT found this in event viewer

```
Faulting module name: atigktxx.dll, version: 8.14.1.6374, time stamp: 0x53507ac9
Exception code: 0xc0000005
Fault offset: 0x0000e5d5
Faulting process id: 0xfbc
Faulting application start time: 0x01cf9378cc013609
Faulting application path: C:\Users\Samantha\Desktop\noesis\Noesis.exe
Faulting module path: C:\Windows\system32\atigktxx.dll
Report Id: 0bab2764-ff6c-11e3-b3e8-003067e50775
```
## Post #1557
- Username: luke9511
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-07-01T00:56:04+00:00
- Post Title: Re: Señor Casaroja's Noesis

Not at all sure why you'd be getting a crash in your gl driver only on subsequent runs. You can try updating your graphics drivers.

If that doesn't work, try deleting the "HKEY_CURRENT_USER\Software\Noesis" key in your registry and tell me if it starts up properly again after that. That should be the only difference between a clean slate and an unclean slate.
## Post #1558
- Username: luke9511
- Rank: beginner
- Number of posts: 29
- Joined date: Sun Jul 01, 2012 6:48 am
- Post datetime: 2014-07-01T13:09:08+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Not at all sure why you'd be getting a crash in your gl driver only on subsequent runs. You can try updating your graphics drivers.

If that doesn't work, try deleting the "HKEY_CURRENT_USER\Software\Noesis" key in your registry and tell me if it starts up properly again after that. That should be the only difference between a clean slate and an unclean slate.
that fixed it thanks so much, i have had the most updated drivers and even tried completely removing and reinstalling them and it didnt work but the deleting of the reg key worked thanks!
## Post #1559
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-07-01T23:28:35+00:00
- Post Title: Re: Señor Casaroja's Noesis

Are you able to run it fine without clearing that key out now? I'd like to know if you changed a setting that caused this or if somehow the registry entry was corrupted out of nowhere.
## Post #1560
- Username: luke9511
- Rank: beginner
- Number of posts: 29
- Joined date: Sun Jul 01, 2012 6:48 am
- Post datetime: 2014-07-02T08:27:46+00:00
- Post Title: Re: Señor Casaroja's Noesis

i think the reg key became corrupted some how, because one day it was working fine and i was looking at swtor models and then a day or two later, it was crashing and now since i deleted that key its working fine but if it happens again i will let you know!
## Post #1561
- Username: djmauro
- Rank: beginner
- Number of posts: 36
- Joined date: Tue Sep 16, 2008 9:49 pm
- Post datetime: 2014-07-05T01:10:15+00:00
- Post Title: Re: Señor Casaroja's Noesis

Is there any actual documentation for the noesis specific python commands.
I cant find anything really.

Like for example - im trying to read in 4x4 matrix - but i have no idea if there is some existing  functions already
in some scripts i see :

```
NoeMat44.fromBytes(self.inFile.readBytes(64)).toMat43()
```
 - but i don't want to convert it to 4x3 - if that's what it does( no idea-  cant find any documentation).
## Post #1562
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2014-07-05T02:59:19+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from djmauro
>
> Is there any actual documentation for the noesis specific python commands.
I cant find anything really.

Like for example - im trying to read in 4x4 matrix - but i have no idea if there is some existing  functions already
in some scripts i see :
Code: Select allNoeMat44.fromBytes(self.inFile.readBytes(64)).toMat43() - but i don't want to convert it to 4x3 - if that's what it does( no idea-  cant find any documentation).

noesis uses 4x3 matrix for skeletons.
just remove .toMat43() to keep it 4x4
all the commands are listed in __NPReadMe.txt
and if you need specific conversions look in
inc_noesis.py
## Post #1563
- Username: djmauro
- Rank: beginner
- Number of posts: 36
- Joined date: Tue Sep 16, 2008 9:49 pm
- Post datetime: 2014-07-05T03:19:05+00:00
- Post Title: Re: Señor Casaroja's Noesis

weird. i removed the to ... part - thinking that would be the case.. but the 
rapi.rpgSetTransform(Matrix)

gives invalid matrix runtime error.

```
Matrix = NoeMat44.fromBytes(self.inFile.readBytes(64))
```


Also - is there anything for bones when its basically as 
2
Bip01 L Calf
Bip01 L Foot

1
Bip01 L Foot
"no value"

etc. There is no other bone data. 
Looking at the readme and such i just noticed stuff that deals with weights and  such  - actual bone data (its separate for that game).
## Post #1564
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2014-07-05T03:29:51+00:00
- Post Title: Re: Señor Casaroja's Noesis

well noesis expects a 4x3 matrix for all transforms.
and it auto converts 4x4 matrix correctly to 4x3 witht he .toMat43

it looks like they are giving you bone parenting information
like first name is the bone
2nd name is the parent.

But you are better off making a thread asking about your game with samples then posting here.
## Post #1565
- Username: djmauro
- Rank: beginner
- Number of posts: 36
- Joined date: Tue Sep 16, 2008 9:49 pm
- Post datetime: 2014-07-05T04:39:20+00:00
- Post Title: Re: Señor Casaroja's Noesis

will do.

So noesis itself accepts 4x3 matrices.

Also does noesis have some kind of console  like option to print variables etc to for testing/debugging?
## Post #1566
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-07-05T14:38:34+00:00
- Post Title: Re: Señor Casaroja's Noesis

Call noesis.logPopup() at any given time, or you can just write a 6-line tool script to register a tool that invokes it so that you can bring it up from the Tools menu if you want.
## Post #1567
- Username: joqqy
- Rank: advanced
- Number of posts: 51
- Joined date: Tue Feb 21, 2012 7:40 pm
- Post datetime: 2014-07-11T01:15:13+00:00
- Post Title: Re: Señor Casaroja's Noesis

Is there possibly a bug in the recursive option of the batch process.

When batch exporting .mdl to .fbx choosing a root folder with the recursive option on. The batch process (randomly it seems) misses some folders.
But I haven't detected a pattern, and it also doesn't happen every time.

The same issue occurs when batch converting .vtf to .tga.

Would be grateful if you could look at it.

Best Regards
joq
## Post #1568
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-07-12T22:05:50+00:00
- Post Title: Re: Señor Casaroja's Noesis

I've never encountered this behavior, it'd be useful if you could give me more specifics or especially a repro case.
## Post #1569
- Username: joqqy
- Rank: advanced
- Number of posts: 51
- Joined date: Tue Feb 21, 2012 7:40 pm
- Post datetime: 2014-07-13T09:23:21+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> I've never encountered this behavior, it'd be useful if you could give me more specifics or especially a repro case.

I will try to reproduce the problem and submit details about the case (since it seems to be random so far, I have yet to reproduce a case, but will let you know as soon as I stumble upon it again).

Kind Regards
joq
## Post #1570
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2014-07-13T21:30:06+00:00
- Post Title: Re: Señor Casaroja's Noesis

[http://www.microsoftstore.com/store/msu ... .298810500](http://www.microsoftstore.com/store/msusa/en_US/pdp/Kinect-for-Windows-v2-Sensor/productID.298810500)

*hint* MrAdults *hint*
## Post #1571
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2014-07-13T23:40:00+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from itoikenza
>
> http://www.microsoftstore.com/store/msu ... .298810500

*hint* MrAdults *hint*

your going to buy him one?
## Post #1572
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2014-07-14T00:55:47+00:00
- Post Title: Re: Señor Casaroja's Noesis

eventually...
## Post #1573
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2014-07-14T02:38:06+00:00
- Post Title: Re: Señor Casaroja's Noesis

What happened? oasis.xentax.com is down? Where can I get the latest updates of Noesis now?
## Post #1574
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2014-07-14T04:16:07+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Mirrorman95
>
> What happened? oasis.xentax.com is down? Where can I get the latest updates of Noesis now?
just check updates using the program it uses rich's site not xentax.
[http://www.richwhitehouse.com/noesis/nm ... v40986.exe](http://www.richwhitehouse.com/noesis/nms/builds/NoesisUpdate_v40986.exe)
## Post #1575
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2014-07-14T13:33:52+00:00
- Post Title: Re: Señor Casaroja's Noesis

v40986, crash report's galore... on Duodecim GMO's
## Post #1576
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2014-07-14T23:19:41+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from chrrox
>
> Mirrorman95 wrote:What happened? oasis.xentax.com is down? Where can I get the latest updates of Noesis now?
just check updates using the program it uses rich's site not xentax.
http://www.richwhitehouse.com/noesis/nm ... v40986.exe
When I try to run the program, it says no path specified. Does anyone have a hard link to noesisv40986.zip ?
## Post #1577
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2014-07-15T01:13:41+00:00
- Post Title: Re: Señor Casaroja's Noesis

just give it a path?
that is the full installer.

NoesisUpdate_v40986.exe c:\myNoesisPath\
## Post #1578
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-07-15T14:18:20+00:00
- Post Title: Re: Señor Casaroja's Noesis

Zip file distributions can still be found on the Resources section of my personal site.
## Post #1579
- Username: troll1981
- Rank: n00b
- Number of posts: 18
- Joined date: Tue Jun 10, 2014 2:28 am
- Post datetime: 2014-07-15T14:41:23+00:00
- Post Title: Re: Señor Casaroja's Noesis

i think Senor Casaroja has made much noesis Plugins !  After down tis plugins are down ?

I search plugin for .chr  cryengine plugin for Noesis!

The standard Noesis version 4.0986  dont play .chr models!

Can anybody helps me for .chr plugin ?
## Post #1580
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-07-19T03:07:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from itoikenza
>
> v40986, crash report's galore... on Duodecim GMO's
Why aren't you reporting them? There are no crash reports on GMO's in the last 2 weeks, nor are there any crash reports at all that came from any of your xentax posting IP's.
## Post #1581
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-07-19T03:08:32+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from troll1981
>
> i think Senor Casaroja has made much noesis Plugins !  After down tis plugins are down ?

I search plugin for .chr  cryengine plugin for Noesis!

The standard Noesis version 4.0986  dont play .chr models!

Can anybody helps me for .chr plugin ?
I'm sure I've still got them somewhere. I'm not sure where though.
## Post #1582
- Username: Devilot
- Rank: ultra-veteran
- Number of posts: 443
- Joined date: Tue Sep 07, 2010 5:12 pm
- Post datetime: 2014-07-22T20:34:27+00:00
- Post Title: Re: Señor Casaroja's Noesis

The website used is still awesome 
A plugin repository is needed tho. I might still have the Kingdom hearts one...
## Post #1583
- Username: Devilot
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-07-23T00:26:24+00:00
- Post Title: Re: Señor Casaroja's Noesis

I put all of the plugins I had around from revelation up under his directory on the official repo.

[https://code.google.com/p/noesis-plugin ... revelation](https://code.google.com/p/noesis-plugins-official/source/browse/#svn%2Ftrunk%2Frevelation)
## Post #1584
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2014-07-23T03:05:22+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> I put all of the plugins I had around from revelation up under his directory on the official repo.
https://code.google.com/p/noesis-plugin ... revelation
I have versions of Revelation's Alien vs Predator and KH2 plugins that are larger, newer, and probably more updated than the v2 versions of the ones that were just uploaded. I think he only released them as attachments in those specific topics and thus you never got them. 

The KH2 plugin I have is exactly the same except it also has ASET animation support, which can be achieved via a multi-step process he described in the topic, in which you replace a dll of the latest version of a KH2 model viewer with his custom DLL, load the animations, and export them to ASET. The plugins that were on the oasis site for years were slightly older versions. I try to maintain the latest versions of every Noesis plugin I can find.
## Post #1585
- Username: Devilot
- Rank: ultra-veteran
- Number of posts: 443
- Joined date: Tue Sep 07, 2010 5:12 pm
- Post datetime: 2014-07-23T07:14:57+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> I put all of the plugins I had around from revelation up under his directory on the official repo.

https://code.google.com/p/noesis-plugin ... revelation

Ah well, I was too late 

Mirrorman, why don't you upload them?
## Post #1586
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-07-24T00:58:59+00:00
- Post Title: Re: Señor Casaroja's Noesis

I only have stuff that revelation sent directly to me, so if there's newer versions of anything feel free to upload it so I can update the repo.
## Post #1587
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-07-24T09:11:23+00:00
- Post Title: Re: Señor Casaroja's Noesis

Sorry yo intrude myself here but is there any reason why noesis was taken down from xentax?? any threats or legal issues?' the same goes to the games files, Iv'e seen several files shut down and links removed.
## Post #1588
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-07-25T00:52:13+00:00
- Post Title: Re: Señor Casaroja's Noesis

I dunno Mr.Mouse's exact reasons for asking, I imagine it was mostly due to the fact that Noesis downloads eat a ton of bandwidth and the forums aren't bringing in much money due to the assorted bullshit with PayPal and Google Ads.

As for actual game data being taken down, in most cases that's copyrighted data which is a legal no-no.
## Post #1589
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-07-25T02:34:54+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> I dunno Mr.Mouse's exact reasons for asking, I imagine it was mostly due to the fact that Noesis downloads eat a ton of bandwidth and the forums aren't bringing in much money due to the assorted bullshit with PayPal and Google Ads.

As for actual game data being taken down, in most cases that's copyrighted data which is a legal no-no.

Thanks. Scripting and game format information has no legal issues I guess (from what I remembered you posted some time ago).
## Post #1590
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2014-07-25T22:46:37+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Devilot
>
> MrAdults wrote:I put all of the plugins I had around from revelation up under his directory on the official repo.

https://code.google.com/p/noesis-plugin ... revelation

Ah well, I was too late 

Mirrorman, why don't you upload them?I maintain a fully updated version of Noesis, with the latest versions of all available plugins I can find, on Dropbox. Please tell me if I'm missing any, or if the link doesn't work.
[https://www.dropbox.com/sh/r01sak0u58py ... FWRljBsUSa](https://www.dropbox.com/sh/r01sak0u58pyn49/AADiMgQ-_fbeNCXFWRljBsUSa)
## Post #1591
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-07-26T01:54:44+00:00
- Post Title: Re: Señor Casaroja's Noesis

Mirrorman, you shouldn't be distributing the pycache directory, that's supposed to be built locally. It can also get stale and explode as scripts are introduced and removed, I recall chrrox once having a problem and having to delete it.

I don't imagine having every script known to man installed helps overall performance either, I imagine validating some formats through all of those Python object calls can get quite slow. I find it's better to keep a separate repository and add/remove scripts as needed.
## Post #1592
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2014-07-26T20:01:17+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Mirrorman, you shouldn't be distributing the pycache directory, that's supposed to be built locally. It can also get stale and explode as scripts are introduced and removed, I recall chrrox once having a problem and having to delete it.

I don't imagine having every script known to man installed helps overall performance either, I imagine validating some formats through all of those Python object calls can get quite slow. I find it's better to keep a separate repository and add/remove scripts as needed.Are you saying I should regularly delete the pycache to make the python plugins run better?
## Post #1593
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-07-27T17:06:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

I'm saying that having other people download your pycache as part of a distribution isn't a great idea. If you use the auto-update feature instead of downloading zip files every time, it'll clean your pycache out for you.
## Post #1594
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2014-07-30T02:37:14+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> I'm saying that having other people download your pycache as part of a distribution isn't a great idea. If you use the auto-update feature instead of downloading zip files every time, it'll clean your pycache out for you.
I removed the pycache from DropBox. I run on a Mac, and while Noesis itself is running fine with Wine, I've had no luck with the Noesis AutoUpdater exe.
## Post #1595
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-07-30T23:52:26+00:00
- Post Title: Re: Señor Casaroja's Noesis

Ah, I see. I guess that shouldn't be surprising, although I wonder why it doesn't work.
## Post #1596
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2014-08-05T13:06:13+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> itoikenza wrote:v40986, crash report's galore... on Duodecim GMO's
Why aren't you reporting them? There are no crash reports on GMO's in the last 2 weeks, nor are there any crash reports at all that came from any of your xentax posting IP's.

Get this! it crashes so fast, that I never get a chance to click and report! in 4.0988 it crashes differently now, it opens any file i have fine but, when i click on another, crash city...
## Post #1597
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-08-07T02:23:29+00:00
- Post Title: Re: Señor Casaroja's Noesis

Does it only crash like this with GMO's, or with everything?

You should try deleting your pycache, and try deleting the Noesis settings in your registry. I'd tell you the key name, but I'm not at the computer (phone-posting) and can't recall it. If you search the readme.txt for HKEY_ you'll find it.
## Post #1598
- Username: Ahri
- Rank: beginner
- Number of posts: 25
- Joined date: Wed Apr 11, 2012 11:23 pm
- Post datetime: 2014-08-10T23:18:28+00:00
- Post Title: Re: Señor Casaroja's Noesis

Is there any way to export the files + textures? When i export it as obj for example it doesnt includs the textures in the obj file.
## Post #1599
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2014-08-10T23:23:55+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Does it only crash like this with GMO's, or with everything?

You should try deleting your pycache, and try deleting the Noesis settings in your registry. I'd tell you the key name, but I'm not at the computer (phone-posting) and can't recall it. If you search the readme.txt for HKEY_ you'll find it.

where's pycache? and yes it loads any 1st model fine regardless of type, then crashes when i click on another, while the 1st is open.
## Post #1600
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-08-11T00:56:46+00:00
- Post Title: Re: Señor Casaroja's Noesis

Under plugins\python.

Do all of the usual stuff, then. Check Windows Event Viewer for anything that might have info about exceptions thrown by Noesis and send it along, give me your PC software/hardware info, tell me which driver version you're using for your graphics hardware, make sure you're using the latest graphics drivers and that these crashes didn't coincide with a recent driver update, and narrow down exactly which versions of Noesis this is occurring on. There are versions dating way back on the Resources section of my web site.
## Post #1601
- Username: Mystie
- Rank: n00b
- Number of posts: 16
- Joined date: Mon Aug 11, 2014 1:38 am
- Post datetime: 2014-08-14T14:43:03+00:00
- Post Title: Re: Señor Casaroja's Noesis

First off, I'd just like to say, thank you for making this. It is a great program, and I love how it can look at mass amounts of model formats, and export them to several different general formats as well.

Anyway, I have a few questions and suggestions regarding this program. First of all, why do I encounter errors every time I open a Skies of Arcadia model? No matter whether I open one from the Dreamcast version, or the Gamecube version, it always gets errors. Why is this happening?

Also, would you be interested in adding more Platinum Games support? I'd love to see Madworld, Vanquish, and Anarchy Reigns being compatible as well.


Thank you for your time.
## Post #1602
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-08-14T18:29:12+00:00
- Post Title: Re: Señor Casaroja's Noesis

Vanquish has been importable for years. Don't know about the others.

SoA Dreamcast models work fine for me. Can't offer any advice until you get more specific on your meaning of "error".
## Post #1603
- Username: Mystie
- Rank: n00b
- Number of posts: 16
- Joined date: Mon Aug 11, 2014 1:38 am
- Post datetime: 2014-08-15T01:01:58+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Vanquish has been importable for years. Don't know about the others.

Really? Because whenever I try to import a model from Vanquish, nothing shows up, and then when I export, it only exports bone data, and glitchy, pixelly textures. Then again, I'm using files from the PS3 version. Maybe the X360 version is compatible, but the PS3 version isn't?

> SoA Dreamcast models work fine for me. Can't offer any advice until you get more specific on your meaning of "error".

Every time I open one, it says, "File could not be previewed". Whenever I right-click and export, it says, "The file type could not be determined."
## Post #1604
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-08-16T17:24:43+00:00
- Post Title: Re: Señor Casaroja's Noesis

Really.

Noesis v4.099, Vanquish PS3:


Noesis v4.099, SoA DC:


So my first guess is that your data is trashed in some way.
## Post #1605
- Username: unkownac
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Mon Aug 18, 2014 2:15 pm
- Post datetime: 2014-08-18T14:28:34+00:00
- Post Title: Re: Señor Casaroja's Noesis

Can somebody help me plz. I have unpack the Armored core for answer PS3 *.bnd file,then I get the*.flv file. I tried to find the Noesis scripe in the forum. But dark soul one *.flv one never work for the armored core. Therefore i read the post which written by alon he gave several resoures on it but now all of resourse  can't download
## Post #1606
- Username: unkownac
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Mon Aug 18, 2014 2:15 pm
- Post datetime: 2014-08-18T23:06:23+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from alon
>
> hatyn wrote:Mr Adults, have you ever seen anything like these files before? Your input will be greately appreciated in my quest.

PokaPoka FLVER (with import script to blender -> viewtopic.php?p=56482#p56482 )
http://xis9.com/pokapoka.flver

Armored Core: For Answer FLVER
http://xis9.com/armored.flver

Dark Souls FLVER
http://xis9.com/ds.flv

http://xis9.com/ds2.flver

thanks for reading!

They have different the software maker and file's properties even though they are the same flver files.
Another Century's Episode R - From Software / Banpresto
http://www.mediafire.com/?cnc1zwatgbaprod
Another Century's Episode Portable - From Software / Bandai Namco Games
http://www.mediafire.com/?b9mvx7wrtu1fh0g
Armored Core: For Answer - From Software / Ubisoft
viewtopic.php?f=16&t=7834
Dark Souls - From Software / Namco Bandai Games America
viewtopic.php?f=10&t=7852
MonHun Nikki: Poka Poka Ailu Mura - Capcom
http://www.mediafire.com/?5zrclo3r7c734i7
Plz help the link you release is disable. could you reupload it plz thank you very much
## Post #1607
- Username: wdw89
- Rank: n00b
- Number of posts: 10
- Joined date: Sat Apr 07, 2012 4:10 pm
- Post datetime: 2014-08-22T06:13:01+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hi,is there a function in noesis to merge/weld vertices by threshold when export models? 
Because when I export models from Final Fantasy type-0, there are a lot vertices been splitted. So the smoothgroups are broken. But the models in noesis look nice. 
And I have tried obj and fbx. Obj files have right and locked vertex normal in maya, although the vertices are splitted. But vertices and vertex normal in fbx files are splitted, and I prefer fbx file because I also want the joints/bones in the models. 
Maybe the bulid-in script for FF type-0 has problem to handle the vertices. or maybe the models is already broken but noesis can show them correctly. 
The thick edges and hard edges are detached in the image.
[FF0_2014-8-22_14-3-352.jpg](https://xentaxbackup.github.io/file/7694_FF0_2014-8-22_14-3-352.jpg)
## Post #1608
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-08-22T15:40:06+00:00
- Post Title: Re: Señor Casaroja's Noesis

You shouldn't be relying on welded vertices to generate smooth normals, even when models look "right" to you that means you're discarding their correct normals. Those Type-0 models all export correct normals. The FBX exporter also has an option to generate smoothing groups from vertex normals.

If you aren't getting smooth normals without welding, you're doing something wrong on import or in the modeling app.
## Post #1609
- Username: wdw89
- Rank: n00b
- Number of posts: 10
- Joined date: Sat Apr 07, 2012 4:10 pm
- Post datetime: 2014-08-23T06:15:23+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> You shouldn't be relying on welded vertices to generate smooth normals, even when models look "right" to you that means you're discarding their correct normals. Those Type-0 models all export correct normals. The FBX exporter also has an option to generate smoothing groups from vertex normals.

If you aren't getting smooth normals without welding, you're doing something wrong on import or in the modeling app.

But I tried -fbxnewexport, -fbxsmoothgroups and -fbxnotan, I also tried to tick combine per-vertex normals in maya and tried to tick smoothgroup in max. And I still can't get the right normal in maya or max. And the vertices are still splitted in all different commands.
## Post #1610
- Username: wdw89
- Rank: n00b
- Number of posts: 10
- Joined date: Sat Apr 07, 2012 4:10 pm
- Post datetime: 2014-08-23T07:01:58+00:00
- Post Title: Re: Señor Casaroja's Noesis

I found a command -edgewelder #, and I tried some different values, but the results were not what I want.
[BaiduShurufa_2014-8-23_15-1-19.jpg](https://xentaxbackup.github.io/file/7703_BaiduShurufa_2014-8-23_15-1-19.jpg)
## Post #1611
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-08-23T15:40:13+00:00
- Post Title: Re: Señor Casaroja's Noesis

Why do I bother?
## Post #1612
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-08-23T19:31:16+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from wdw89
>
> MrAdults wrote:You shouldn't be relying on welded vertices to generate smooth normals, even when models look "right" to you that means you're discarding their correct normals. Those Type-0 models all export correct normals. The FBX exporter also has an option to generate smoothing groups from vertex normals.

If you aren't getting smooth normals without welding, you're doing something wrong on import or in the modeling app.

But I tried -fbxnewexport, -fbxsmoothgroups and -fbxnotan, I also tried to tick combine per-vertex normals in maya and tried to tick smoothgroup in max. And I still can't get the right normal in maya or max. And the vertices are still splitted in all different commands.

Can't you weld vertices in Maya and manage smooth groups manually?? In 3dsmax is frigging easy.
## Post #1613
- Username: wdw89
- Rank: n00b
- Number of posts: 10
- Joined date: Sat Apr 07, 2012 4:10 pm
- Post datetime: 2014-08-24T06:02:22+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Darko
>
> wdw89 wrote:MrAdults wrote:You shouldn't be relying on welded vertices to generate smooth normals, even when models look "right" to you that means you're discarding their correct normals. Those Type-0 models all export correct normals. The FBX exporter also has an option to generate smoothing groups from vertex normals.

If you aren't getting smooth normals without welding, you're doing something wrong on import or in the modeling app.

But I tried -fbxnewexport, -fbxsmoothgroups and -fbxnotan, I also tried to tick combine per-vertex normals in maya and tried to tick smoothgroup in max. And I still can't get the right normal in maya or max. And the vertices are still splitted in all different commands.

Can't you weld vertices in Maya and manage smooth groups manually?? In 3dsmax is frigging easy.

Yes, I can. That is easy for one file not for lots of files. I just want to know is there a method for batch convert. It doesn't matter if I have to manually weld vertices. And noesis is a great tool to help me extract many models.
## Post #1614
- Username: lionheartuk
- Rank: double-veteran
- Number of posts: 749
- Joined date: Wed May 17, 2006 5:55 am
- Post datetime: 2014-08-24T11:32:11+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Why do I bother?

Combining edges, is a pretty simple task in all 3D softwares, though a lot of people don't realize that normals looking correct in 3d software isn't the same as normals looking correct in engine, 30 degrees often looks facited in maya with low poly models, but looks perfectly fine in the games original engine.

This said, fixing normals and welding verts isn't a difficult (though occasionally time consuming) task.

One of the main issues (and rather common in the forums I find) is people importing ripped models into Maya/max/blender but not actually knowing how to use the software itself past its most basic import/export functions.
## Post #1615
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-08-24T13:46:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

Ok, I dont remember, is the format from Type-0 gmo?? then just use: -gmonorm

I've used that with doa5 files and exporting thiose models to smd and works fine.
## Post #1616
- Username: TheDude
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Mon Mar 21, 2011 2:35 am
- Post datetime: 2014-08-24T16:26:44+00:00
- Post Title: Re: Señor Casaroja's Noesis

This appears to be an Autodesk problem (gasp!  )
Even among their own products there's no consistency with the Filmbox format.
In 3ds Max and Maya the models have hard edges.
In Softimage the models are about 90% correct except for an occasional flipped normal here and there.
In Motionbuilder it's about 99% correct (which makes sense considering where the format came from).

Based on everything I've seen so far, I honestly think Mr. A knows what he's doing better than Audodesk does.
## Post #1617
- Username: wdw89
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-08-24T16:30:26+00:00
- Post Title: Re: Señor Casaroja's Noesis

No, Type-0 is a proprietary format which exports its original normals. The gmo normal command was also deprecated a while ago. Since apparently that important tidbit of information I posted above was thoroughly ignored, let's try it again.

Do not weld vertices to make the lighting look correct. If you have to do this you are not using the vertex normals which means the lighting you are seeing is wrong and all intentional "hard edges" will be lost.

I'm not a Maya user, but it's probably something quite stupid going on like a simple viewport/render setting not being what it should be. Either that, or like TheDude just mentioned, the importer could be deciding to toss the normals and the smoothgroups. Just, please, for the love of shit, stop trying to fix it by welding the vertices.
## Post #1618
- Username: TheDude
- Rank: mega-veteran
- Number of posts: 239
- Joined date: Mon Mar 21, 2011 2:35 am
- Post datetime: 2014-08-24T16:40:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

Maybe we need an anti-welding advocacy group.
## Post #1619
- Username: BloodForce
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Wed Oct 30, 2013 10:49 pm
- Post datetime: 2014-08-25T23:45:39+00:00
- Post Title: Re: Señor Casaroja's Noesis

can anyone give me some documentation for noesis? or Has anyone worked with animations in [black desert](http://forum.xentax.com/viewtopic.php?f=16&t=10909)?
## Post #1620
- Username: joqqy
- Rank: advanced
- Number of posts: 51
- Joined date: Tue Feb 21, 2012 7:40 pm
- Post datetime: 2014-09-09T21:24:10+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> I've never encountered this behavior, it'd be useful if you could give me more specifics or especially a repro case.

I have noticed one pattern that may help you look into it should you encounter the same problem:

When the problem occurs, it only occurs in the first recursive batch folder operation. Executing the exact same batch operation again, catches all the files in the recursive operation.

Hope it makes things clearer.
## Post #1621
- Username: joqqy
- Rank: advanced
- Number of posts: 51
- Joined date: Tue Feb 21, 2012 7:40 pm
- Post datetime: 2014-09-17T04:17:31+00:00
- Post Title: Re: Señor Casaroja's Noesis

I have a question concerning the Cryengine plugin.

When I do an export from .cgf to say .fbx - Is it possible to have each exported submesh to also export with the Mat ID's as shown in the picture?

Right now all the submeshes have the Mat ID # 1, but it would be great if the Mat ID's would correspond to those shown in the Data Viewer instead ( n +1 ) ( see picture ).

Is it possible to implement that? ( or perhaps it is possible already? )



/joq
## Post #1622
- Username: GDL
- Rank: veteran
- Number of posts: 150
- Joined date: Fri Jul 09, 2010 11:54 pm
- Post datetime: 2014-09-18T23:57:26+00:00
- Post Title: Re: Señor Casaroja's Noesis

Now that the noesis webpage is down where can one download the latest version?
## Post #1623
- Username: joqqy
- Rank: advanced
- Number of posts: 51
- Joined date: Tue Feb 21, 2012 7:40 pm
- Post datetime: 2014-09-19T01:12:46+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from GDL
>
> Now that the noesis webpage is down where can one download the latest version?

You can download it here
[http://www.richwhitehouse.com/](http://www.richwhitehouse.com/)
## Post #1624
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2014-09-30T16:36:25+00:00
- Post Title: Re: Señor Casaroja's Noesis

Mr Adults, yah need to change the initial post man! to reflect the change in source for Noesis...
## Post #1625
- Username: joqqy
- Rank: advanced
- Number of posts: 51
- Joined date: Tue Feb 21, 2012 7:40 pm
- Post datetime: 2014-09-30T16:45:36+00:00
- Post Title: Re: Señor Casaroja's Noesis

You can ignore the post below as the problem is now solved ( I wrote a custom MaxScript importer for the .cgf / .chr to read the MatIDs, so no need to get the ID's from Noesis, as the problem is now solved. )

> Reply from joqqy
>
> I have a question concerning the Cryengine plugin.

When I do an export from .cgf to say .fbx - Is it possible to have each exported submesh to also export with the Mat ID's as shown in the picture?

Right now all the submeshes have the Mat ID # 1, but it would be great if the Mat ID's would correspond to those shown in the Data Viewer instead ( n +1 ) ( see picture ).

Is it possible to implement that? ( or perhaps it is possible already? )

/joq
## Post #1626
- Username: raykingnihong
- Rank: mega-veteran
- Number of posts: 179
- Joined date: Mon Apr 07, 2014 3:06 am
- Post datetime: 2014-10-01T16:36:11+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from TheDude
>
> This appears to be an Autodesk problem (gasp!  )
Even among their own products there's no consistency with the Filmbox format.
In 3ds Max and Maya the models have hard edges.
In Softimage the models are about 90% correct except for an occasional flipped normal here and there.
In Motionbuilder it's about 99% correct (which makes sense considering where the format came from).

Based on everything I've seen so far, I honestly think Mr. A knows what he's doing better than Audodesk does.
Hello, my friends, thank you for your great work, Noesis is very good, we will always support you, I hope I can update to Dragon Ball plugin can support the Dragon ball:Ultimate Tenkaichi, this version has all the Dragon Ball protagonist. Including the role of the ultimate, once again thank you for your great contribution
## Post #1627
- Username: raykingnihong
- Rank: mega-veteran
- Number of posts: 179
- Joined date: Mon Apr 07, 2014 3:06 am
- Post datetime: 2014-10-01T16:37:46+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from raykingnihong
>
> TheDude wrote:This appears to be an Autodesk problem (gasp!  )
Even among their own products there's no consistency with the Filmbox format.
In 3ds Max and Maya the models have hard edges.
In Softimage the models are about 90% correct except for an occasional flipped normal here and there.
In Motionbuilder it's about 99% correct (which makes sense considering where the format came from).

Based on everything I've seen so far, I honestly think Mr. A knows what he's doing better than Audodesk does.  
Hello, my friends, thank you for your great work, Noesis is very good, we will always support you, I hope I can update to Dragon Ball plugin can support the Dragon ball:Ultimate Tenkaichi, this version has all the Dragon Ball protagonist. Including the role of the ultimate, once again thank you for your great contribution
[BaiduShurufa_2014-10-2_0-20-58.png](https://xentaxbackup.github.io/file/7871_BaiduShurufa_2014-10-2_0-20-58.png)
## Post #1628
- Username: raykingnihong
- Rank: mega-veteran
- Number of posts: 179
- Joined date: Mon Apr 07, 2014 3:06 am
- Post datetime: 2014-10-01T17:01:09+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from revelation
>
> Another minor update.  Should open more of the Raging Blast 360 files now.
Hello, my friends, thank you for your great work, Noesis is very good, we will always support you, I hope I can update to Dragon Ball plugin can support the Dragon ball:Ultimate Tenkaichi, this version has all the Dragon Ball protagonist. Including the role of the ultimate, once again thank you for your great contribution
## Post #1629
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-10-03T01:20:42+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from itoikenza
>
> Mr Adults, yah need to change the initial post man! to reflect the change in source for Noesis...
There you go.

I didn't write the DBZ or CGF modules, those were revelation. I don't know if he comes here anymore.
## Post #1630
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-10-03T04:25:40+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> itoikenza wrote:Mr Adults, yah need to change the initial post man! to reflect the change in source for Noesis...
There you go.

I didn't write the DBZ or CGF modules, those were revelation. I don't know if he comes here anymore.

He's been posting in the MGS4 models thread.
## Post #1631
- Username: raykingnihong
- Rank: mega-veteran
- Number of posts: 179
- Joined date: Mon Apr 07, 2014 3:06 am
- Post datetime: 2014-10-04T19:46:55+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from MrAdults
>
> itoikenza wrote:Mr Adults, yah need to change the initial post man! to reflect the change in source for Noesis...
There you go.

I didn't write the DBZ or CGF modules, those were revelation. I don't know if he comes here anymore.
Thank you for your reply, my friend
## Post #1632
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2014-10-12T15:24:41+00:00
- Post Title: Re: Señor Casaroja's Noesis

MrAdults. is it possible to load an animated gif and any model at the same time with noesis, as you can see my avatar here, is the gif in question. and i wanna position cloud's AC buster to sync with my hands... also can i take said buster and extract it into it's own .gmo? one last thing, i never bothered to fix that quick as heck crashy problem, too quick to even report to your servers thingy, when opening any second model after initial is loaded! but it's ok.
## Post #1633
- Username: CMihai
- Rank: veteran
- Number of posts: 131
- Joined date: Sun Jul 05, 2009 7:58 pm
- Post datetime: 2014-10-12T19:02:26+00:00
- Post Title: Re: Señor Casaroja's Noesis

Hmm...how about Diablo 3 support?
## Post #1634
- Username: shadowmoy
- Rank: veteran
- Number of posts: 153
- Joined date: Sat Feb 21, 2009 9:29 pm
- Post datetime: 2014-10-25T18:02:23+00:00
- Post Title: Re: Señor Casaroja's Noesis

hi MrAdults , is there a function in noesis py script to calculate data alignement from a value like align32(theval) or align16(theval) ?
## Post #1635
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2014-10-28T00:42:13+00:00
- Post Title: Re: Señor Casaroja's Noesis

I would just do (value+15) & ~15 / (value+31) & ~31 in those cases.

itoikenza, no, you'd have to make a vis plugin if you wanted to do a custom background like that.
## Post #1636
- Username: shadowmoy
- Rank: veteran
- Number of posts: 153
- Joined date: Sat Feb 21, 2009 9:29 pm
- Post datetime: 2014-10-29T14:34:46+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from MrAdults
>
> I would just do (value+15) & ~15 / (value+31) & ~31 in those cases.

lol i just realised bitwise ops are fine here thanks.

by any chance can you share the ps3 edge decompression routine code from noesis ? 
i would like to port it to another scripted language for some work on god of war ascension models.
## Post #1637
- Username: deltaone
- Rank: beginner
- Number of posts: 37
- Joined date: Sat Feb 19, 2011 8:18 am
- Post datetime: 2014-10-29T23:41:35+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Please help, how toggle option Global Flip UV / Flip UV from python plugin ?

thx ...
## Post #1638
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-10-31T04:24:47+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Hey Rich, Can you Check the files from the latest Naruto Shippuden for Xbox360?? Noesis loads the files without any problem but It doesn't export anything.
## Post #1639
- Username: SoldierTODD
- Rank: beginner
- Number of posts: 35
- Joined date: Sat Oct 25, 2014 5:15 am
- Post datetime: 2014-11-03T16:52:10+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Sorry. 
I do not understand. Is it possible to import a model horse with animation from the game Red Dead Redemption?
The plugin supports the ability to import an animation?
## Post #1640
- Username: SoldierTODD
- Rank: beginner
- Number of posts: 35
- Joined date: Sat Oct 25, 2014 5:15 am
- Post datetime: 2014-11-04T12:37:08+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Where can I download a plug-in for Red Dead Redemption?
## Post #1641
- Username: joqqy
- Rank: advanced
- Number of posts: 51
- Joined date: Tue Feb 21, 2012 7:40 pm
- Post datetime: 2014-11-26T20:41:05+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from MrAdults
>
> I've never encountered this behavior, it'd be useful if you could give me more specifics or especially a repro case.

I know what the problem/bug is now, Noesis does not recurse network paths properly.
## Post #1642
- Username: shadowmoy
- Rank: veteran
- Number of posts: 153
- Joined date: Sat Feb 21, 2009 9:29 pm
- Post datetime: 2014-11-30T20:37:52+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

MrAdult> i got a problem with mvsc3 plugin (xbox360 .mod files)

i wrote a scipt to load re6 and rehd xbox mod files but it keeps opening the model using the mvsc3 plugin
do you check only the magic header in the plugin ? there is a file mod version in the header , can you check it so that it can execute the script instead of the internal plugin ?

```
	header_version = bs.readUShort()	#	mod file version

```
 

thanks in advance
## Post #1643
- Username: lionheartuk
- Rank: double-veteran
- Number of posts: 749
- Joined date: Wed May 17, 2006 5:55 am
- Post datetime: 2014-12-01T12:17:55+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Is there any chance to support the World Map formats from the PS1 ff games? More specifically 7 and 9 as those have been pretty well documented, whilst 8... not so much (plus Noesis doesn't support most of 8's files, whereas 7 and 9 (9 especially) are really well supported, the world maps are the only untouched things remaining.
## Post #1644
- Username: Farlavor
- Rank: beginner
- Number of posts: 24
- Joined date: Tue Apr 10, 2012 7:02 pm
- Post datetime: 2015-03-18T21:32:02+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Bah, another one who leaves this project as dead as a triceratop's toenail...

Bullshit... And I came here to know if there's any damn progress on ripping models from games like Evolve or the Demo of FFXV.   

but of course... Xentax and their damn rules for not allowing research for ANY MODEL... 
And they stopped posting their weekly progresses on game data ripping researches... another reason I hate this damn page... and I prefer Models Resource page than this.

Screw that Noesis, if Mr Adults prefers to not add any support to any new game from now on.

Then my answer is...



I wanted models like Chop from GTA V (PS3), Sadaharu from Gintama Yorozuya Choobu (Wii), Peepee piranha from Super Mario Galaxy 2 (Wii), Mega Monty Mole from MK8 (Wii-U)... If Noesis will not help me getting those models. The Behemoths and other creatures from FFXV DEMO (PS3), And all the living creature/monsters from Evolve (PC)... along with a plenty of other models that MUST be researched no matter what... and since here are plenty of people lacking the knowledge to make a plugin for this shitty program, or are too lazy... Then finally it's over... We're condemned... the era of getting models from every game has come to the end... WE'RE DOOOOOOMEEEEEEED!!!!!!!!!!!!!!!!!!!!!!!!
## Post #1645
- Username: LUBDAR
- Rank: veteran
- Number of posts: 95
- Joined date: Wed Jun 08, 2011 2:14 pm
- Post datetime: 2015-03-18T22:15:55+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

I think you're being overly dramatic...
From your post, you're coming across as if this forum or any of its members owe you something and that they have let you down. I highly doubt that Xentax or any of it's members are stopping you from doing game research. I think you just want to make requests and get fussy when something doesn't go your way.  
In case you hadn't noticed, membership to the forum and access to the knowledge within is FREE; the use of Noesis IS FREE! You're using a resource (for who knows what purpose) FOR FREE.
Your post was childish; you'd be doing yourself as well as many others a favor if you adjusted your attitude of entitlement.
## Post #1646
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2015-03-19T00:34:06+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

This guy en masse is a pretty significant factor in why I don't care about Noesis anymore. Even if he's joking or whatever, he's an idiot.

That, and the codebase is so disgusting that I hate to touch it or look at it. So the personal motivation I had, outside of people being cocks, is pretty dwindled.
## Post #1647
- Username: lionheartuk
- Rank: double-veteran
- Number of posts: 749
- Joined date: Wed May 17, 2006 5:55 am
- Post datetime: 2015-03-19T09:45:09+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from Farlavor
>
> Bah, another one who leaves this project as dead as a triceratop's toenail...

Bullshit... And I came here to know if there's any damn progress on ripping models from games like Evolve or the Demo of FFXV.   

but of course... Xentax and their damn rules for not allowing research for ANY MODEL... 

I wanted models like Chop from GTA V (PS3), Sadaharu from Gintama Yorozuya Choobu (Wii), Peepee piranha from Super Mario Galaxy 2 (Wii), Mega Monty Mole from MK8 (Wii-U)... If Noesis will not help me getting those models. The Behemoths and other creatures from FFXV DEMO (PS3), And all the living creature/monsters from Evolve (PC)... along with a plenty of other models that MUST be researched no matter what... and since here are plenty of people lacking the knowledge to make a plugin for this shitty program, or are too lazy... Then finally it's over...

What the hell are you talking about?

I'll try to address each of these points individually to see if it helps

1: Rip models from FFXV? From what version? Nobodys managed to crack the PS4 or XB1 yet, so those games aren't exactly able to be opened up in order to get to the formats, there IS no FFXV for PS3, and theres no PC version yet, once there is a PC version it will probably change though.

2: Xentax not allowing research for ANY model? Wait what? Noesis stopped ages ago, there are still new posts daily on file formats and the like, hell look at some of the larger threads like the MGSV modding thread, no Noesis in there. This forum owes a lot to Mr Adults and Noesis but this forum is not FOR Noesis specifically, people have other tools, make their own scripts and so on too. If you really want something in Noesis and have the time to make a big post raging about it then you're in luck, Mr Adults was nice enough to add python support to Noesis so you're free to make your own model plugins. Its not easy but since those who don't do it must be 'lazy' according to you, then maybe you could try and pickup their slack and create those formats.

3: Ripping models from Wii games, if its 100% a thing that must happen then you could always try simply dumping the models from the Dolphin Emulator, unless you're after rigs and animations, in which case that wouldn't help.

Model ripping is far from dead without Noesis, its plugins still work fine, we can still write our own stuff, hell... it even had an update not too long ago, the developer might not make his own file support anymore but its not his job to do so anyway, he was nice enough to share it and what more can you really ask for.

Now with that out of the way I have a minor request, the script for Guild Wars 2 for Noesis no longer works, I'm unsure if its due to an updated noesis or if the script itself has issues but I can't get it to work, it just gives errors, and I'm unable to find a 2011 version of Noesis to test it with (if anyone has one, please share). IF anyone would be interested in taking a look at that, that'd be great, if not, its not a big problem. Unlike the above user we're not all going to stamp our feet when we don't get our way, we're not entitled to it, its a privilege.
## Post #1648
- Username: Mr.Mouse
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2015-03-19T21:30:56+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from Farlavor
>
> ................blahblahblah....................
## Post #1649
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2015-03-20T00:50:09+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

lionheartuk: If you send me that GW2 script and some models/textures/etc. I can see why it's failing. It was probably written in a buffer-overrunning way and stopped working when I safe-guarded the index/vertex/etc. buffer inputs from Python, if I had to take a random guess.
## Post #1650
- Username: lionheartuk
- Rank: double-veteran
- Number of posts: 749
- Joined date: Wed May 17, 2006 5:55 am
- Post datetime: 2015-03-25T09:22:06+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from MrAdults
>
> lionheartuk: If you send me that GW2 script and some models/textures/etc. I can see why it's failing. It was probably written in a buffer-overrunning way and stopped working when I safe-guarded the index/vertex/etc. buffer inputs from Python, if I had to take a random guess.

Sure thing I'll drop you a PM, so as not to clutter up this thread.
## Post #1651
- Username: ReeceMix
- Rank: advanced
- Number of posts: 64
- Joined date: Sat Nov 10, 2007 10:01 pm
- Post datetime: 2015-04-16T12:33:06+00:00
- Post Title: Re: [plugin] Red Dead Redemption

> Reply from revelation
>
> Just a minor update.  Texture format should work for ps3 version now.

Is this the Last noeisis plugin update for red dead redemption?
## Post #1652
- Username: CriticalError
- Rank: double-veteran
- Number of posts: 678
- Joined date: Sun Jul 05, 2009 9:03 am
- Post datetime: 2015-06-01T00:04:02+00:00
- Post Title: Re: [plugin] Red Dead Redemption

Hello Mr.Adults, my question is if possible support Nif 20.2.1.7 in Noesis, when I try load them I got erro and won't load, the game is: 

Game: Looney Tunes ACME Arsenal
Platafform: WII, XBOX360,PS2
Engine: Gamebryo

[http://puu.sh/i7YmR.zip](http://puu.sh/i7YmR.zip)

PS: if you can grateful for support them, many thanks buddy.
## Post #1653
- Username: scorp256
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Mon May 30, 2011 4:45 pm
- Post datetime: 2015-06-12T23:13:21+00:00
- Post Title: Re: [plugin] Red Dead Redemption

Is there any way to convert back to GMO exported GMO file?
## Post #1654
- Username: Ditta
- Rank: n00b
- Number of posts: 14
- Joined date: Sat Jun 13, 2015 11:07 pm
- Post datetime: 2015-06-20T21:52:31+00:00
- Post Title: Re: [plugin] Red Dead Redemption

Hello, Mr Adults and all users of Noesis! Couldn't anybody here add support (write a script) for Lord of the Rings War in the North .dat files or Lord in the Rings Conquest .dat files?  I cannot find any tool able to convert these 2 types of DAT. Here are some samples of such files from both games -
LOTR War in the North Meshes (contains meshes of objects) - [http://nekaka.com/d/hU6Af4DgFx](http://nekaka.com/d/hU6Af4DgFx)
LOTR War in the North Textures (possibly dxt or dds) - [http://nekaka.com/d/9WOoF21gnQ](http://nekaka.com/d/9WOoF21gnQ)

LOTR Conquest - [http://nekaka.com/d/97eHKu5V5x](http://nekaka.com/d/97eHKu5V5x)
This archive contains samples of several filetypes which I found after unpacking Rivendell.BIN archive (DAT, TXT, VAP,CWB,DC5 etc). I am not sure but I suspect all meshes packed in dat files.  
I would be very grateful for any help and support for these games.
## Post #1655
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2015-07-19T01:18:51+00:00
- Post Title: Re: [plugin] Red Dead Redemption

I happened to notice today that there are a whole lot of importers electing not to do triangle bucket sorting when using the RPG interface. This is usually not the thing to do. So there's a new build up that will let you use -rpgforcesort to force the importer to use the sort. This is probably the right thing to do globally, but I don't like throwing things in the house of cards, so consider adding it to "Data viewer->Persistent settings->Other->Default preview commands" as desired. It will almost always reduce your mesh count for importers with multiple commits per material.
## Post #1656
- Username: RoadTrain
- Rank: advanced
- Number of posts: 54
- Joined date: Thu Dec 13, 2007 12:57 am
- Post datetime: 2015-08-17T11:51:01+00:00
- Post Title: Re: [plugin] Red Dead Redemption

Been working on an importer, and now I wonder - how to properly represent a concept of a dummy object in Noesis?

A dummy in my case is represented by two vertors in a local coordinate system, in addition to global coordinates with scale and rotation vectors:

```
RichVec3 scale;
RichQuat rotation;
//dummy itself
RichVec3 min;
RichVec3 max;
```

It seems like it's a bounding box.
## Post #1657
- Username: RoadTrain
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2015-08-18T02:49:06+00:00
- Post Title: Re: [plugin] Red Dead Redemption

You can do whatever you want pretty much. A few likely options off the top of my head would be making it a custom data structure in a named user vertex data stream (if you want to be able to do something with it in an exporter by looking that stream up by name), making a bone to represent it, or making a dummy mesh to represent it. Because named user vertex streams will get out of sync if you export it to something like FBX and modify it, I'd probably instead go with making a dummy mesh, and just give it a material that doesn't render as well as a dummy triangle. Encode translation/rotation/scale into the geometry via a few verts, and optionally represent the box with a couple more verts. This way, as long as you give the mesh a reliable naming convention, a corresponding exporter could scan the scene for those meshes and convert them back into the relevant data.

Mesh data is the only thing guaranteed to survive to all model export targets. Material properties are supported by some exporters but to varying degrees, as are bones. The FBX exporter has a sidecar format that can also support user vertex data streams, but as mentioned, that will get out of sync with the actual geometry if it's modified outside of Noesis.
## Post #1658
- Username: RoadTrain
- Rank: advanced
- Number of posts: 54
- Joined date: Thu Dec 13, 2007 12:57 am
- Post datetime: 2015-08-18T05:50:34+00:00
- Post Title: Re: [plugin] Red Dead Redemption

Thanks, I'll go with the named box.

There's another problem (misunderstanding) I ran into.
How does one apply translation/rotation/scale on a per-mesh basis? Is it what rpgSetTransform is for?
Currently I have the following, at least it does translocation 

```
		bs->ReadBytes(&position, sizeof(RichVec3));
		bs->ReadBytes(&scale, sizeof(RichVec3));		

		quat_wxyz_t rotation;
		bs->ReadBytes(&rotation, sizeof(quat_wxyz_t));

		RichMat43 pos = RichMat43(RichVec3(1,0,0), RichVec3(0,1,0), RichVec3(0,0,1), position);
		RichMat43 scal = RichMat43(RichVec3(scale.v[0],0,0), RichVec3(0,scale.v[1],0), RichVec3(0,0,scale.v[2]), RichVec3(0,0,0));
		RichMat43 rot = rotation.ToQuat().ToMat43();

		RichMat43 trans = pos*rot*scal;
		rapi->rpgSetTransform(&trans.m);
```


Add:
That's what I get now
[](http://imgur.com/OiwjGeY)

Want to thank you for Noesis. Its API looks really powerful, even though you need some time to understand it -- no docs. Still, it only took three days for me to get an idea of how it works.
## Post #1659
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2015-08-18T16:28:55+00:00
- Post Title: Re: [plugin] Red Dead Redemption

Yeah, rpgSetTransform can be used to actually transform the geometry, as you've discovered. There's no concept of a mesh transform, so for formats that support this typically it's appropriate to unify things in whatever model space you like (by doing what you're doing, and applying the transform to the geometry), then create a paired bone for the mesh containing the transform. This allows handling for all of the export targets that don't support mesh transforms, and allows custom exporters to do the same thing of scanning the scene to filter bones (that are mesh-paired transforms) and/or load mesh transforms from bones.

There's also the idea of storing that transform in userdata, for the mesh, material, or vertex streams. But again, most exporters won't know what to do with such data. Although I believe I do have a userdata protocol for exporting mesh transforms for FBX specifically, if you're interested in using that I can dig up the details.
## Post #1660
- Username: RoadTrain
- Rank: advanced
- Number of posts: 54
- Joined date: Thu Dec 13, 2007 12:57 am
- Post datetime: 2015-08-18T19:43:40+00:00
- Post Title: Re: [plugin] Red Dead Redemption

Thanks for the info. As for FBX, no need to bother, I think I'd rather go the more universal way, as you rightfully suggested.
## Post #1661
- Username: RoadTrain
- Rank: advanced
- Number of posts: 54
- Joined date: Thu Dec 13, 2007 12:57 am
- Post datetime: 2015-08-19T12:20:54+00:00
- Post Title: Re: [plugin] Red Dead Redemption

What's interesting with 4DS format that I'm working on is that it seemingly uses a flipped X axis (a different handedness?). I only noticed that when I saw a steering wheel of a car model on the right side, whilst it must be on the left.

So I figured I needed to apply another transformation to a model to mirror it, I did it this way:

```
RichMat43 flipX = RichMat43(RichVec3(-1,0,0), RichVec3(0,1,0), RichVec3(0,0,1), RichVec3(0,0,0));
//some code in between
RichMat43 trans = pos*rot*scal*flipX;
rapi->rpgSetTransform(&trans.m);

```

After that I had to flip faces, as they went inverted

```
rapi->rpgSetOption(RPGOPT_TRIWINDBACKWARD, true);
```


While the model now looks correct, I'm still lost in those matrices.

Is the operand sequence in the trans matrix correct form a mathematical point of view? Do I have to do any operations on a rotation quaternion to mirror it?
Is it ok that if I sequentially apply those matrices with rpgSetTransform instead of multiplying them, it shows a different messy result?
I'm really confused now as I'm apparently lacking some fundamental understanding.

Have I just wasted my time if I could simply swap the handedness?  Lol, it seems I have  Still , I wonder if it's achievably the way I did it first.
## Post #1662
- Username: RoadTrain
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2015-08-19T18:09:12+00:00
- Post Title: Re: [plugin] Red Dead Redemption

Sounds like you've already discovered RPGOPT_SWAPHANDEDNESS.  Seems like you were effectively mirroring the geometry with a transform, but you would have to flip handedness for all of your joint/animation/etc. transforms too. RPGOPT_SWAPHANDEDNESS does all of it for you, as long as you're feeding bones/anims/etc. to the interface via rpgSetExData_Bones/rpgSetExData_Anims/etc.
## Post #1663
- Username: RoadTrain
- Rank: advanced
- Number of posts: 54
- Joined date: Thu Dec 13, 2007 12:57 am
- Post datetime: 2015-08-20T11:01:44+00:00
- Post Title: Re: [plugin] Red Dead Redemption

I wonder, is there a way to not show some meshes in the preview on purpose? I'd say some LODs or dummy boxes. I see I can manually skip render in the data view, but is there an option to do it in code?

Also, I read somewhere on this forum that one can use multiple materials on a single mesh (did I misinterpret?) by setting a name (rpgSetName). I tried doing this, but it still shows meshes split by material. Am I doing something wrong?
[meshes.png](https://xentaxbackup.github.io/file/9585_meshes.png)
## Post #1664
- Username: RoadTrain
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2015-08-22T17:30:36+00:00
- Post Title: Re: [plugin] Red Dead Redemption

Yeah, the best way is just to create a single material with skipRender set to true, and assign all the meshes you don't want to render to use that material.

Yeah, meshes will always be split by material. You can ensure optimal splitting by calling rpgOptimize, or if you just want bucket sorting by material+name and no geometry optimization, you can use rpgConstructModelAndSort in place of rpgConstructModel. You can think of meshes as "draw structures" rather than traditional meshes in this sense, as internally the idea of a mesh is really just a reference to some geometry data which may or may not be self-contained, with information about a single draw utilizing that geometry. Although the way exporters choose to treat meshes may or may not fall in line with this. The way all of this is set up is pretty crappy, but it's been workable. Typically exporters which don't want isolated vertex/index buffers per-mesh will use NMSHAREDFL_WANTGLOBALARRAY.

There's also the idea of multi-pass material rendering for a single mesh, which is what the nextPass member of the material structure is for. But I don't think that's what you're after. If you really wanted, though, you could use this to attach multiple materials to a single mesh, and create a custom per-vertex stream that specifies per-vertex material indices or something of that nature. The Noesis renderer would not understand this concept, but custom exporters could.
## Post #1665
- Username: RoadTrain
- Rank: advanced
- Number of posts: 54
- Joined date: Thu Dec 13, 2007 12:57 am
- Post datetime: 2015-08-24T20:50:02+00:00
- Post Title: Re: [plugin] Red Dead Redemption

I've noticed a concept of a tool exists in the API. Can you elaborate more on this?

Can a tool be used for some sort of format-specific configuration?
## Post #1666
- Username: RoadTrain
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2015-08-25T00:49:42+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Yeah, there are some examples on the repo (which is apparently readonly now with the rest of Google Code), like the triangle picker:

[https://code.google.com/p/noesis-plugin ... lize02.cpp](https://code.google.com/p/noesis-plugins-official/source/browse/trunk/Rich/native_src/example_visualize02/example_visualize02/example_visualize02.cpp)

The picker also makes use of the "visualizer" interface to append rendering of selected triangles and some shitty font rendering that's only there to give some sample code for spline evaluation.

You can also create context-based tools (that show up on the right-click context menu for the file browser pane) which filter based on format capabilities (model import, image import, etc.) or extension or whatever you want to do there. There are some functions in the Noesis API that also allow you to instantiate a new RAPI instance with a loaded file (be it a model or whatever else), and get at/manipulate data within that instance, then export it out. So that's useful for tools that want to do some kind of generic geometric processing, manipulate materials, etc., then reexport the data.

It's also worth looking through some of the tool scripts on the repo, even though they're in Python, they'll all have an analog in native code land.
## Post #1667
- Username: RoadTrain
- Rank: advanced
- Number of posts: 54
- Joined date: Thu Dec 13, 2007 12:57 am
- Post datetime: 2015-08-25T06:57:51+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Thanks, I've examined vizualizers before, they looked pretty straightforward. Now I've also looked at python tools. I believe most of them use userprompts for input.

What if I want user input on export that's hard to implement using parameters or userprompts? Let's say I want user to set up mesh hierarchy with a tree manipulation (a la data viewer tree).

Is it safe to create windows (or dialogs) over the Noesis main window handle to implement this kind of a feature? Or are there more elegant ways?

On a side note, how do I feed morphs to Noesis? Is the data supposed to be 1-to-1 vertex positions? I mean, in 4DS I have morphed vertices positions, followed by indices of corresponding mesh vertices. Should I just take mesh vertices, then replace some with corresponding morphed ones, and then feed the resulting data to rpgFeedMorphTargetPositions/rpgFeedMorphTargetNormals?
## Post #1668
- Username: RoadTrain
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2015-08-26T03:35:36+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Yeah, there's no problem putting your own dialogs over Noesis, that's what the unpleasantly platform-specific function NPAPI_GetMainWnd is there for. The Binary Find in Files plugin uses it too.

Yeah, the morph data has to be 1:1, and yeah, that's how you'd feed it in. Just fair warning - the vertex morph stuff isn't too well-tested, since only a small handful of importers have used it in any capacity. But hopefully it works.
## Post #1669
- Username: RoadTrain
- Rank: advanced
- Number of posts: 54
- Joined date: Thu Dec 13, 2007 12:57 am
- Post datetime: 2015-08-27T06:02:12+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

So I managed to get morphs working, but there's an issue.

How do I support multiple morph channels? Each channel corresponds to a different anim (e.g. brows raising and mouth opening are in separate channels), and contains several morph targets (frames?). I do suppose channels aren't compatible, because if I commit them all, Noesis crashes and closes instantly with c0000005 (AFAICT from logs). Might've missed something.

As I'm mostly counting on FBX export, I guess I badly need those channels. AFAICT from FBX SDK, they are supported.
## Post #1670
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2015-08-28T00:43:32+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

The morph support is very primitive, so the only way to accomplish what you're after is to submit a complete vertex buffer for every frame for every channel.

There's no reason that should be crashing Noesis, though, unless it's actually just enough data to blow out the 32-bit address space. You're sure the data you're submitting all matches the vertex buffer 1:1?
## Post #1671
- Username: RoadTrain
- Rank: advanced
- Number of posts: 54
- Joined date: Thu Dec 13, 2007 12:57 am
- Post datetime: 2015-08-28T07:09:41+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

I've experimented a bit and I believe I've isolated the issue.

My test model has 3 morphed objects: head and 2 hands.
Head has 3 channels (mouth, eyes, eyebrows), each having 5 targets (frames)
Each hand has only 1 channel with 3 frames.

So it works only if:
1) I commit only one channel with the head and hands. So the head has 5 frames and hands have 3 frames each, OR
2) I commit all 3 channels with the head and none with the hands. This way the head has 15 frames.

And it crashes if I commit all 15 frames with the head and 3 with each hand. I can see it starts animating and then crashes. The debugger says the Access Violation is caused by 0x536456d4.

Here's how I commit morphs with the first approach (effectively committing only the last channel)
[https://github.com/RoadTrain/noesis-plu ... t.cpp#L313](https://github.com/RoadTrain/noesis-plugins/blob/master/pluginsource/mafia4ds/mafia4ds/mafia4ds_import.cpp#L313)

And is it right that Noesis doesn't export morphs to FBX?
## Post #1672
- Username: RoadTrain
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2015-08-29T07:27:16+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

I guess there could be something bad happening with multiple rpgCommitMorphFrameSet calls in turn with geometry commits. I don't remember how I set that up, but it seems pretty questionable in terms of how committed morph sets associate with committed geometry.

Yeah, FBX morph target support has been on the todo list for a while. Like I said, the morph target support is pretty crappy, so I've been putting off the FBX support because I know I'm going to have to implement a whole herd of new functionality for morph targets internally (probably including a morph+skeletal+etc. animation state machine to make the preview not-useless) while I'm at it. So, unfortunately, this probably won't get done until I need it to integrate morph targets into the content pipeline for something I'm actually working on.
## Post #1673
- Username: RoadTrain
- Rank: advanced
- Number of posts: 54
- Joined date: Thu Dec 13, 2007 12:57 am
- Post datetime: 2015-08-29T13:00:57+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Unfortunately, Noesis isn't open-source, and no one can make a pull request  

Seems like I'll have to make a standalone 4ds<->fbx converter in order to fully support animations
## Post #1674
- Username: RoadTrain
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2015-08-29T14:05:50+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

If exporting morphs to FBX is important to you, yeah. Normally I'd be more responsive to the needs of someone who's trying to actually make something for Noesis, but I've got too much other-project stuff going on at the moment. So, good luck.
## Post #1675
- Username: RoadTrain
- Rank: advanced
- Number of posts: 54
- Joined date: Thu Dec 13, 2007 12:57 am
- Post datetime: 2015-08-29T16:13:38+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

No worries, that's ok. I'll finish the import plugin anyway, just not the export. 
People on one of Mafia forums are already happy to have it for Noesis.
## Post #1676
- Username: RoadTrain
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2015-08-31T22:18:49+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

On an unrelated note, here's the Noesis DICOM loader source:

[http://www.richwhitehouse.com/snippets/ ... _dicom.cpp](http://www.richwhitehouse.com/snippets/model_mri_dicom.cpp)

This was written from thousands of pages of terrible DICOM specs, and some of the particulars for certain transport syntaxes are poorly or not at all documented. It has handled all of the DICOM data I've come across without necessary modification for quite a few months now, so I'm releasing the source. I don't guarantee that my interpretations follow the intent of the specs, but I do guarantee that they're accurate for all of the test data I've come across in the wild thus far.

My condolences to anyone else who ever has to look at the DICOM spec docs.
## Post #1677
- Username: RoadTrain
- Rank: advanced
- Number of posts: 54
- Joined date: Thu Dec 13, 2007 12:57 am
- Post datetime: 2015-09-09T13:47:30+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Hello. How do I bind bone/weight buffers? More precisely, what data should they consist of?
## Post #1678
- Username: RoadTrain
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2015-09-09T18:32:03+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

The same way you bind other buffers, where both should be contiguous bone indices or, respectively, weights. Any of the standard data types is supported, and there is an extra argument in the bind call to specify the number of weights per vert.

If your blend indices are relative or mapped, not absolute indices into a skeleton, rpgSetBoneMap is also available.

There are some uses for both of these things in the existing plugins/scripts. From memory, I know Gamebryo and Bullet Witch scripts are both using them.
## Post #1679
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2015-09-30T19:12:01+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

I'm browsing through the Noesis crash database, which I haven't looked at in quite a while. Every single day, for the last 3 months, EVERY SINGLE DAY, someone (often a new person, not just the same one over and over again) has reported a crash from a version of Noesis that is 6+ months old. Usually this is a crash that was fixed months ago. I know that no one actually reads this thread and that a lot of idiots are making their own Noesis distributions (I love the crash reports coming in from NoEsiS, great job asshole), so this probably falls on deaf ears, but if you have someone you love or know someone who uses Noesis, tell them to use the auto-update feature (under the Tools menu), cause it's really stupid and silly for people to be using these ancient versions and suffering crashes that have been fixed forever.

I'm probably going to finally just have the server start automatically filtering out crash reports from older versions, because if you can't be bothered to update then you deserve all the crashes in the world. But either way, there's no reason to not stay up to date. Use Tools->Check for update in the menu. It's an extremely fast and clean process that doesn't deal with any kind of bullshit or fuck with your registry or require manually restarting or anything along those lines, and it ensures your Python cache is flushed which won't happen if you're just unzipping new builds over it. Use it. It's good.
## Post #1680
- Username: Acewell
- Rank: VIP member
- Number of posts: 1330
- Joined date: Wed Nov 05, 2008 7:16 pm
- Post datetime: 2015-10-01T21:26:36+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

The swtfu_gto.dll plugin (20.5 kb) by revelation on this page is the old one
[https://code.google.com/p/noesis-plugin ... revelation](https://code.google.com/p/noesis-plugins-official/source/browse/#svn%2Ftrunk%2Frevelation)

i have attached the newest one (52 kb) in my post here
[viewtopic.php?p=101966#p101966](http://forum.xentax.com/viewtopic.php?p=101966#p101966)

> Reply from revelation
>
> Fixes a bug with gto models and adds support for the .animations files

it used to be stored here
[http://web.archive.org/web/201205262315 ... nt=plugins](http://web.archive.org/web/20120526231538/http://oasis.xentax.com/index.php?content=plugins)
## Post #1681
- Username: Devilot
- Rank: ultra-veteran
- Number of posts: 443
- Joined date: Tue Sep 07, 2010 5:12 pm
- Post datetime: 2015-10-22T15:32:07+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

has the KH plugin been updated for the 1.5 or 2.5?
## Post #1682
- Username: Snaz
- Rank: beginner
- Number of posts: 31
- Joined date: Mon Oct 19, 2015 3:46 am
- Post datetime: 2015-11-06T00:40:55+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

I've been trying to parse xml, having seen the post on page 75, I've haven't gotten anything but import errors, having tried sax, dom, etree, even custom ones like untangle or beautifulsoup - I couldn't get a singlne one of them to work.

Errors I'd get were sometimes the same as the one found on page 75 (no module named expat; use SimpleXMLTreeBuilder instead), which would occur with the standard parsers- sax, dom and etree-. I'm guessing this has something to do with pyexpat, (which expat conveniently imports), of which there is not a single reference to in core321.zip.

other times there were invalid syntax errors when trying to use untangle or beautifulsoup.

someone. pls. halp.
## Post #1683
- Username: Snaz
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2015-11-08T00:51:53+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

The Python implementation is static and stripped down. I've only been adding native libs as people (by people I mean chrrox) request them. That said, some scripts like [this one](https://code.google.com/p/noesis-plugins-official/source/browse/trunk/Rich/fmt_noecube.py) are using bs4 without issue.
## Post #1684
- Username: Snaz
- Rank: beginner
- Number of posts: 31
- Joined date: Mon Oct 19, 2015 3:46 am
- Post datetime: 2015-11-09T16:32:15+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Thanks that worked for me!
## Post #1685
- Username: Snaz
- Rank: beginner
- Number of posts: 31
- Joined date: Mon Oct 19, 2015 3:46 am
- Post datetime: 2015-12-01T09:55:17+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Hey a couple of questions:

Context: I'm working on dark souls.

1.
I'd like to be able to export animations, but I fail to understand how this is normally done in noesis. I've noticed you can drag files on top of the viewer and apply it to the current model. Is that the way to go? Even if it is not, what should I do to get that working? In other words, how is that case distinguished from say simply loading a file?

Being able to provide a path to all animations to export when exporting a model seems like a wiser feature to implement. Are there any examples of this I could use?

2.
Dark souls' animations are in a version of hkx, which I can convert to an xml or kf representation. However, the kf isn't compatible with my gamebryo script (dragging on top of the viewer). Here's a [link](https://www.dropbox.com/s/ofq29xbywj7tv9w/funpack.zip?dl=0) to some sample files and my current script. I've tried finding more about hkaSplineCompressedAnimations (derived from the hkx->xml), and found the data is stored as NURBS. I'd love to learn more about how the animations are stored as NURBS, yet I can't wrap my head around the data. Any suggestions?

Thanks, hope you don't mind the off-topicness, you've had a go at the dark souls files once so I thought wth, might as well ask
## Post #1686
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2015-12-02T01:14:42+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from Snaz
>
> you've had a go at the dark souls files once so I thought wth, might as well ask
I have not. I guess you're confusing me with nyxo or whoever it was that did the Souls Noesis script floating around that's presumably based on nyxo's work. I enjoyed the Souls games a lot, but nyxo seems to have been thorough enough that I don't feel the need to turn my attention that way. I did use his specs for the Noesis Symphony of the Night support, though.

> Reply from Snaz
>
> I'd like to be able to export animations, but I fail to understand how this is normally done in noesis. I've noticed you can drag files on top of the viewer and apply it to the current model. Is that the way to go? Even if it is not, what should I do to get that working? In other words, how is that case distinguished from say simply loading a file?
An animation is just a possible component of a "model" in Noesis terminology, so you can have your script auto-load corresponding geometry/etc. data for a given animation, or provide just an animation with no geometry. It's up to you and whatever makes the most sense for what you're doing. You can also provide multiple sequences for your animation or just have a big chunk of frames considered as a single sequence. The Gamebryo NIF script demonstrates a lot of animation functionality provided, including some keyframe expansion.

> Reply from Snaz
>
> Dark souls' animations are in a version of hkx, which I can convert to an xml or kf representation. However, the kf isn't compatible with my gamebryo script (dragging on top of the viewer).
That seems to be a terrible Oblivion-era KF file, so the script can't parse over objects it doesn't care about. You should use a newer/better tool path for exporting Havok animations to something usable, like FBX, or at least a Skyrim-era KF. Having never done anything with Havok animations or converting them myself, I can't tell you what that path is, but I can tell you that it exists because I have at least, though barely, that much faith in humanity. Keep in mind that Noesis doesn't presently support KF bsplines either, so you'll want to use something that bakes out the evaluated transforms in the horrible event that you stick with KF. There's got to be a Havok animation->FBX converter already, it should be trivial to produce using the actual free Havok libs.

If you were feeling adventurous, you could just write a Havok animation importer for Noesis. This is the route I'd take.

> Reply from Snaz
>
> I'd love to learn more about how the animations are stored as NURBS, yet I can't wrap my head around the data. Any suggestions?
Well, reading up on splines and drilling down into the associated fundamentals/mathematics would be a start. Noesis implements some basic spline types natively and in Python, which by default are set up to allow you to pass around Bezier splines. But there are so many forms a typical animation curve can take (including implicit and explicit tangents and a huge variety in evaluation formulae) that there is no simple one-size-fits-all way of looking at the data and it's a topic that relies on the presence of a lot of knowledge-building-blocks.
## Post #1687
- Username: ssringo
- Rank: veteran
- Number of posts: 98
- Joined date: Sat Apr 19, 2014 3:02 pm
- Post datetime: 2015-12-12T04:08:22+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Would it be possible to add support for Lightning Returns PC? Tried extracting the PC version (by filelists) and just get an error "file could not be previewed" if I double click and "file type could not be determined" if I right click/export. I downloaded the PS3 version for comparison. Here is a screenshot of the two directories (I extracted the PS3 version no problem). 

[http://i.imgur.com/VESvhlJ.png?1](http://i.imgur.com/VESvhlJ.png?1)

Ninja Edit: I actually tried renaming the files to correlate with the PS3 naming scheme and it actually extracted the files. However, the .TRB files don't load and can't export. I once again tried renaming the files and Noesis just crashed (I did tell it to submit a crash report). 

I'm happy to upload any files that could help.
## Post #1688
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2015-12-12T22:03:50+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Were you the one that submitted the crash report on the .win32.trb file? I saw that some releases back and changed Noesis to recognize the .win32.trb extension. Now when you try to export it, you'll get this helpful message: "This is not a supported TRB platform, and you're probably some kind of terrible furry for owning it."

But no, I don't own Windows ports of any of the FF13's, and don't plan to support them.
## Post #1689
- Username: Acewell
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2016-01-02T02:17:38+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

I haven't been working on Noesis much over the holiday, but I decided to wrap up what I had in progress before I go back to the unending torment of wage-slavery on Monday, so there's a new release up with a new R3000A CPU emulator. I wrote it with a mind toward making it easily-debuggable and very easy to customize from an external API user standpoint, and it's great if you want to just execute some code from a native PSX game on the fly to assist in extracting/converting/etc. I fully expect I'll be the only person to ever use it, but it does drop into new codebases quite easily and it's been live-tested with SotN in a PSX emulator.

Full source for the emulator is also available here:
[http://www.richwhitehouse.com/fullsnipp ... R3000A.cpp](http://www.richwhitehouse.com/fullsnippet.php?snippet=CNoeR3000A.cpp)
[http://www.richwhitehouse.com/fullsnipp ... oeR3000A.h](http://www.richwhitehouse.com/fullsnippet.php?snippet=CNoeR3000A.h)
## Post #1690
- Username: 1nfern0
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sun Jan 10, 2016 4:58 am
- Post datetime: 2016-01-09T21:48:41+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Anyone knows how I can print out animation names and a lot of other anim. attributes for the loaded model?

I have overwritten the "Get material info" tool script to do the same stuff for animations, but when I want to access the .anims for the NoeModel the list is empty.
I'm mostly interested to read out a few animation frame matrices for debug reasons.

```
import os

def registerNoesisTypes():
        handle = noesis.registerTool("&Get anim info", gmToolMethod, "Prints out animation info")
        return 1

def printInfo(mat):
        pass

def gmToolMethod(toolIndex):
        selFileName = noesis.getSelectedFile()
        if selFileName == "":
                noesis.messagePrompt("No file selected.")
                return 0

        noeMod = noesis.instantiateModule()
        noesis.setModuleRAPI(noeMod)
        if rapi.toolLoadGData(selFileName) is not True:
                noesis.freeModule(noeMod)
                noesis.messagePrompt("Could not load selected model.")
                return 0

        noesis.logPopup()
        for i in range(0, rapi.toolGetLoadedModelCount()):
                mdl = rapi.toolGetLoadedModel(i)
                print(mdl.modelMats)
                print(mdl.meshes)
                print(mdl.bones)
                print(mdl.anims) # no objects in the animations list

                if mdl.anims is not None:
                        print("Animations for model", i)
                        print("=====================")
                        for noeanim in mdl.anims:
                                print(noeanim.name)

        rapi.toolFreeGData()
        noesis.freeModule(noeMod)
        
        return 0

```
## Post #1691
- Username: 1nfern0
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2016-01-13T01:55:42+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

I've got the animation translation disabled for the Python layer by default (outside of the export path), because processing all of the data into flat matrices represented as Python objects gets awful in terms of processing time and memory usage pretty quickly. I can add an option to load the model with animations via Python if you need it. What are you using it for?
## Post #1692
- Username: 1nfern0
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sun Jan 10, 2016 4:58 am
- Post datetime: 2016-01-14T15:12:48+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Well, I've already seen that I can print out these informations within the exporter. So it's not needed any more  thx
## Post #1693
- Username: Acewell
- Rank: VIP member
- Number of posts: 1330
- Joined date: Wed Nov 05, 2008 7:16 pm
- Post datetime: 2016-02-05T23:59:56+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

MrAdults i know you are a busy guy but i am hoping for your input on SWBF3 x2t textures.   
We have 30k headerless and swizzled textures, some of them have footers with some data but it may not be accurate, the thread is here and Wobble has done a great job getting us half way there but we are stuck now.   
[viewtopic.php?f=18&t=13868](http://forum.xentax.com/viewtopic.php?f=18&t=13868)

My other question is how can i make a script to read data similar to the way TextureFinder does and be able to enter options and flip switches in the script such as image type and width or height while taking advantage of the unswizzle functions in Noesis?
I'm thinking something that looks like this non working example would be useful for non programmers like me to convert swizzled textures from games

*nevermind fixed*
## Post #1694
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2016-02-06T15:57:22+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

You've got all of the tools you need to do that, take a look at tool_windowtest.txt in the Python directory for ctypes-based windowing system examples. You can just pop up a gui that lets people set all of the parameters, then generates and auto-loads an image from the parameter-based interpreted data. There are lots of image processing scripts of this nature to use as examples over on the old Google Code depot.

The Gamebryo NIF script shows how to do all kinds of untiling including 360-style and straight up Morton order. Use rapi.swapEndianArray to quickly endian-swap DXT blocks as commonly needed on the 360, this is demonstrated in the BulletWitch script in cprLoadTexture. BC6H and BC7 are also now available as decoding targets.
## Post #1695
- Username: Acewell
- Rank: VIP member
- Number of posts: 1330
- Joined date: Wed Nov 05, 2008 7:16 pm
- Post datetime: 2016-02-06T23:39:54+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Thanks for replying, the idea of a GUI that mimics TextureFinder in Noesis sounds cool and convenient but i don't think it will ever happen because someone would have already done it by now. I am not a programmer and have no idea where to go here, i was hoping you could fix my example above so it works, i would settle for changing values in the script and reloading it each time just to keep things simple.
## Post #1696
- Username: SoftIce
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2016-02-07T03:17:29+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from AceWell
>
> i don't think it will ever happen because someone would have already done it by now.
This is the seed of motivation that spurs mankind's progress throughout history. The burning desire and unstoppable drive to look at something as impossible, then ask some other dude to do it.
## Post #1697
- Username: Acewell
- Rank: VIP member
- Number of posts: 1330
- Joined date: Wed Nov 05, 2008 7:16 pm
- Post datetime: 2016-02-07T03:42:11+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

i think there is a misunderstanding here   
i never asked for anyone to rebuild Texture Finder in Noesis, i just requested help with two things
1. to assist Wobble with expert help in unswizzling x360 textures from SWBF3.
2. to help me debug my example script so it works the way i have it commented, in a universal way.

If anyone else here can help with either of these, please post away!  

edit
nevermind i figured out both problems.
## Post #1698
- Username: Wobble
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2016-02-08T04:35:27+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

1. Regarding that, Noesis gives you the functions you need and lots of example uses. So use them! It's not like you're going to find a special snowflake case unless they did some Crunch-like implementation. Either it's DXT or it's raw, and either it's endian-swapped or it's not, and you just need to take care to obey platform padding/alignment (on a per-row/block-row, per-mip, and/or per-face basis) beyond that. Using an untiling implementation that isn't broken as shit is a good idea too, which Noesis gives you.
2. It's misleading to ask someone for "help debugging", as this implies you actually wrote something or just need a tiny thing fixed for you to pick it back up yourself, when you actually more or less just copy-pasted some code from somewhere else and thought it might do something like what you want. It's fine if you can't program, but there's a big difference between "help me write this" and "write this for me". When someone says the former while reality dictates the latter, it's really irritating, as it does not give the sucker an accurate representation of the work they're getting themselves into by "helping".

If anyone wants to be the monkey here, he's asking for someone to create a big set of options to expose decoding methods for raw image data using every possible format/tiling/twiddling/etc. mode he might want to try, and if you want you can expose that through some shitty script variables at the top instead of writing some GUI code. This is likely to be a 30-60 minute task if you have some idea of what you're doing already. I'm not the monkey, too many things on the laundry list that time would be better-spent on.
## Post #1699
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-02-08T10:44:41+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

[out]
## Post #1700
- Username: Mr.Mouse
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2016-02-10T21:21:38+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Pippi.jpg (190.28 KiB) Viewed 146 times
## Post #1701
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-02-11T17:16:38+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

monkey.jpg (62.87 KiB) Viewed 137 times
## Post #1702
- Username: Mirrorman95
- Rank: ultra-veteran
- Number of posts: 355
- Joined date: Tue Jul 20, 2010 9:08 am
- Post datetime: 2016-02-25T15:02:10+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

I recently rendered a 16-bit greyscale PNG with 3DS Max, but when I loaded the image into Noesis, the areas looked all jagged and distorted, like if you tried to film a monitor and the diagonals would overlap. I think it may not be programmed to properly handle those kinds of PNGs.
## Post #1703
- Username: Snaz
- Rank: beginner
- Number of posts: 31
- Joined date: Mon Oct 19, 2015 3:46 am
- Post datetime: 2016-02-27T22:35:04+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Hi it's me again.

So I took your advice, in case I was "feeling adventerous" and am right now trying to implement a plugin that reads the dark souls hkx animations (in c++), since someone was so kind as to send me a copy of a havok sdk version.

My plugin makes noesis crash though whenever I try to call havok code, I submitted a couple of crash reports after a day of tinkering.

I've noticed havok refuses to compile without 8 bytes struct member alignment... could that be part of the problem?

Unrelated to havok:
Is it possible to just load a skeleton without mesh data? I'd like to be able to do that, meaning parse a skeleton file when an animation is opened for preview, show the skeleton + animation, and be able to export that (which would also allow batch processing), but noesis asks me whether I'd like to export the file.

note: I may try exporting the animation data as xml and parse that if it doesn't work directly, but perhaps you may have some ideas as to what I can try to get havok and noesis to play ball.
## Post #1704
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2016-02-28T02:44:49+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Default struct alignment doesn't matter, since there are pragmas around any shared structures that need alignment to be consistent. So that's not your problem.

As I can see in your crash report, the crash is in your code, and not Noesis:

0x0fa011fa (<unknown>@0x00000000, offset 0x11fa) - D:\Downloads\noesisv4169\plugins\darkdouls_hkx.dll

It's just that the Noesis exception handler is picking it up. You could single-step through your code up to the crash, or you can look at the crash report Noesis gives you. (it tells you the path to the dump before you send it off to me) As you can see, the offset into your module code is 0x11fa. If you're generating an address map (see Linker->Debugging->Generate Map File in your project settings) you can figure out which function the crash is in by using this address, and further narrow down where in the function the crash is by relating the disassembly of the function, getting the difference between 0x11fa and the base address of the function.

It's probably easier for you to just step through the code in debug yourself to figure out where you're crashing.
## Post #1705
- Username: Snaz
- Rank: beginner
- Number of posts: 31
- Joined date: Mon Oct 19, 2015 3:46 am
- Post datetime: 2016-02-28T09:43:48+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Thanks for that explanation, I didn't understand really well what I could do with the crash report before!

There's only one line it could crash one, which is one calling havok code I have no access to (instantiates a hkLoader class)... (uncommenting works)

What I'm more interested in though:

> Reply from Snaz
>
> 
Is it possible to just load a skeleton without mesh data? I'd like to be able to do that, meaning parse a skeleton file when an animation is loaded, show the skeleton + animation, and be able to export that (which would also allow batch processing), but noesis asks me whether I'd like to export the file?

Do I simply add one random triangle to the model or is there a way to do this without that?

Thanks for taking the time
## Post #1706
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2016-02-28T13:38:53+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

i use this
def sksvmodLoadModel(data, mdlList):
	ctx = rapi.rpgCreateContext()
	sksv = sksvFile(NoeBitStream(data))
	sksv.loadAll(sksv.bs)
	try:
		mdl = rapi.rpgConstructModel()
	except:
		mdl = NoeModel()
	mdl.setModelMaterials(NoeModelMaterials(sksv.texList, sksv.matList))
	mdlList.append(mdl); mdl.setBones(sksv.boneList)	
	return 1
## Post #1707
- Username: Snaz
- Rank: beginner
- Number of posts: 31
- Joined date: Mon Oct 19, 2015 3:46 am
- Post datetime: 2016-02-29T04:45:24+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Thanks! I got it to work in the end, although it kept crashing at export, (opening went just fine). Went with a converting path so the plugin wouldn't have to call havok code.

This is the result if anyone cares;

hkx converter to (custom) xml (.damnhavok actually) supports up until version hkx 2012.2 files binary packfiles, also noesis plugin viewing/exporting converted xml files, github release (as well as code):

[https://github.com/Danilodum/dark_souls_hkx/releases](https://github.com/Danilodum/dark_souls_hkx/releases)

credits to Highflex and Figment for deciphering havok (github repos hkxcmd and havok2fbx)

Question:

What should the runtime library be for noesis plugins? Right now it is /MD like in unrealengine2_psk_psa, hope that's okay
## Post #1708
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2016-02-29T05:56:54+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

There's no good reason for Havok calls inside Noesis to crash. It could be that Havok is trying to try-catch an actual access violation and Noesis gets upset about that, but that would be pretty wretched of Havok. I know there are also all kinds of problems with Havok throwing floating point exceptions, but I don't think that's happening for you based on the exception code. I could potentially give a hook to disable the Noesis exception handler (or rather, force the filter to pass), although that seems especially ugly when the exception it's catching is an access violation.

/MD will work fine, but does rely on the user having the appropriate runtime on their system for the plugin DLL to load. You can use /MT if you want to just statically link the runtime, which will bloat the size of your DLL quite a bit. I usually statically link when it comes to major components. There are various downsides to statically linking the runtime, but most of them are outweighed by being able to guarantee something won't be happenstancely screwed up by problems with the user's installed runtime.

I'll add looking into making Havok calls from a plugin DLL to the todo list, although I'm in the middle of a gigantic task and don't expect to get to a new release for another month or two.
## Post #1709
- Username: Snaz
- Rank: beginner
- Number of posts: 31
- Joined date: Mon Oct 19, 2015 3:46 am
- Post datetime: 2016-02-29T06:10:02+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

To clarify: Loading a model actually works, that is in loadmodel, havok code is called, that reads a file, is used to extract its contents and convert into matrices. Also this has nothing to do with the previous crash I was getting.

It is puzzling to me however why the same dll (same code) can load a model just fine, but crash when trying to export it? ( I was able to export from preview, but not directly off a file)
## Post #1710
- Username: Snaz
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2016-03-01T00:53:38+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Exports happen on another thread, so if Havok is pissy about stuff happening on anything other than the thread that created a given world/context and you're doing initialization outside of your handler (or persisting any data across invocations of your handler), that could do it. Best to do all of your init/shutdown within the handler to make sure it all happens on the same thread. Or have a dedicated Havok thread that does all of the work, and just implement your own mechanism for communicating commands (or whatever synchronization method you prefer) to push/pull data with that thread.

It's also possible that Havok would object to doing anything outside of the main application thread, but I don't think it should have any notions of what the main thread is, again unless you're performing an API call on another thread at some point.
## Post #1711
- Username: Snaz
- Rank: beginner
- Number of posts: 31
- Joined date: Mon Oct 19, 2015 3:46 am
- Post datetime: 2016-03-01T01:16:18+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Spot on! I think there's an example using havok that creates another thread, could be the docs, hkxcmd or havok2fbx idk haha, just finished exporting animations though so    wonder how much I care 

Edit: now that I think about it, I allocated some memory in init because loading consecutive files would crash, but changing this back to load would probably have solved exporting files... fair enough, have my cares!
## Post #1712
- Username: Tosyk
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2016-03-11T07:02:50+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Support for various PBR materials, post effects, and a slight rendering overhaul. Coming soonish with a universal CPU disassembler/debugger and a bunch of other crap I've been chipping away at for months.
## Post #1713
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2016-03-11T08:32:50+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

MrAdults, thanks for your great progress. I have one request though I mentioned some years ago. If you could make this tree view and othe windows a switchable Noesis could became a simple viewer. Gosh it would be so great. Right now all this available Noesis windows just loads for so long and not quick at all.
## Post #1714
- Username: Mr.Mouse
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2016-03-11T12:21:31+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from MrAdults
>
> 
Support for various PBR materials, post effects, and a slight rendering overhaul. Coming soonish with a universal CPU disassembler/debugger and a bunch of other crap I've been chipping away at for months.

What sorcery is this?!
## Post #1715
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2016-03-11T17:39:26+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from Mr.Mouse
>
> MrAdults wrote:
Support for various PBR materials, post effects, and a slight rendering overhaul. Coming soonish with a universal CPU disassembler/debugger and a bunch of other crap I've been chipping away at for months.

What sorcery is this?!

It's called shading =D
## Post #1716
- Username: Tosyk
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2016-03-12T10:46:43+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from Tosyk
>
> MrAdults, thanks for your great progress. I have one request though I mentioned some years ago. If you could make this tree view and othe windows a switchable Noesis could became a simple viewer. Gosh it would be so great. Right now all this available Noesis windows just loads for so long and not quick at all.
There's already a build out that avoids expanding the tree view outside of the direct hierarchy leading to the file, so if you drag & drop or use File->Open to browse it won't slow things down. There has also been a "No Browse to Target" option for years which effectively deactivates the shell views unless you use them directly. And you can uncheck "Type Info" to avoid having Noesis hit files as you're running through the file list to validate their types. These three things combined should leave you with pretty much zero overhead, unless something's wrong with your system that's causing heavy stalls during very limited file enumeration.
## Post #1717
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2016-03-12T11:45:13+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Tosyk wrote:MrAdults, thanks for your great progress. I have one request though I mentioned some years ago. If you could make this tree view and othe windows a switchable Noesis could became a simple viewer. Gosh it would be so great. Right now all this available Noesis windows just loads for so long and not quick at all.
There's already a build out that avoids expanding the tree view outside of the direct hierarchy leading to the file, so if you drag & drop or use File->Open to browse it won't slow things down. There has also been a "No Browse to Target" option for years which effectively deactivates the shell views unless you use them directly. And you can uncheck "Type Info" to avoid having Noesis hit files as you're running through the file list to validate their types. These three things combined should leave you with pretty much zero overhead, unless something's wrong with your system that's causing heavy stalls during very limited file enumeration.this is freaking awesome! working like a charm. much appreciate!

p.s.: btw there's a way to turn off the Debug Log by default?
## Post #1718
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2016-03-12T18:52:38+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

It is off by default - you have a script installed where someone left the noesis.logPopup() call in.
## Post #1719
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2016-03-12T18:57:44+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from MrAdults
>
> It is off by default - you have a script installed where someone left the noesis.logPopup() call in.thanks for point that out!

EDIT:
can I set default shading or viewport FOV?
## Post #1720
- Username: Gh0stBlade
- Rank: Moderator
- Number of posts: 719
- Joined date: Tue Jul 06, 2010 3:55 am
- Post datetime: 2016-03-13T12:10:31+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

This looks amazing Mr Adults! Cannot wait!
## Post #1721
- Username: Tosyk
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2016-03-25T07:34:32+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Went back and fixed up FO4 this evening (bitangent in w components was obvious, jonwd is such a tool), and added an option to use PBR materials:



Currently making assumptions about roughness (rather glossiness) and metal, since I haven't touched the material support, but they're good assumptions for most things that are metal.
## Post #1722
- Username: Mr.Mouse
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2016-03-25T09:01:52+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

FO4? Fall out 4 models? 

Looking great there btw
## Post #1723
- Username: ExPlOrER
- Rank: n00b
- Number of posts: 14
- Joined date: Mon Apr 04, 2011 6:27 pm
- Post datetime: 2016-04-08T01:36:10+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Despite the fact that the selected "Source (* .mdl)" used a third-party plug-in (from finale00) "Astebreed (* .mdl)".
## Post #1724
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-04-23T03:59:38+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Hey guys, quick question ...
Besides the following function in Noesis,

```
-combinemeshes
```

Which doesn't seem to work for me on the Final Fantasy XIII series, is there any other way to export the characters and such in only one mesh and also to keep its skeleton/skin/weight and such intact and animations too?
Preferably in FBX format.

cheers
## Post #1725
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2016-05-03T03:26:21+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

My life exploded horribly at the end of March, so this stuff's all been on hold. Still hoping to wrap up the new Universal Debugger (which is an any-CPU any-architecture debugging client and protocol with a few host implementations to start) which is what's holding up this build. Rendering changes/additions have been done for a good month or so now. I might give in and disable the debugger for a release, but I expect if I do that I will never, ever be urged to finish it, so I guess we'll see how that goes. GUI's are so fucking boring to work on, which is unfortunately a large part of a debugging client. Probably shouldn't have made the decision to reinvent the wheel there.
## Post #1726
- Username: JakeGreen
- Rank: mega-veteran
- Number of posts: 164
- Joined date: Mon Aug 23, 2010 5:14 am
- Post datetime: 2016-06-12T06:40:55+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

So i have been having a really annoying time with this program and i haven't really found a fix for it.

My problem is whenever i load a FBX into Noesis it always takes some random part on the model even if the model has multi-meshes it'll do it on all of them and adds a broken UV triangle to it and when i export it out as a legacy FBX and load it into my version of 3ds max i work out of when you look in the UV map that area is just completely gone.

Is there anyway to fix this?
## Post #1727
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2016-06-13T03:01:41+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

It's easy to demonstrate there's no problem with Noesis FBX import/export by running a UV'd cube through FBX import and export, and observing that the UV's remain fully intact. Your problem is your source data or the importer for your particular game.
## Post #1728
- Username: lionheartuk
- Rank: double-veteran
- Number of posts: 749
- Joined date: Wed May 17, 2006 5:55 am
- Post datetime: 2016-06-13T04:35:46+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Your problem is also likely to be that you're viewing the second UV set instead of the first.

Or that the UVS are now microscopic (it happens sometimes).

Check those first and see what you get.
## Post #1729
- Username: JakeGreen
- Rank: mega-veteran
- Number of posts: 164
- Joined date: Mon Aug 23, 2010 5:14 am
- Post datetime: 2016-06-14T09:30:24+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

I was able to fix it when i was exporting Battlefront 3 or Battlefront (Dice) models in Ultimate Unwrap 3d in the fbx exporter window i had Export multiple uvsets checked and once i uncheck that and loaded it back up in Noesis it was fixed. Thanks for all the help.
## Post #1730
- Username: 1nfern0
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sun Jan 10, 2016 4:58 am
- Post datetime: 2016-06-30T12:27:22+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Can Noesis be used headless? I've searched a bit but couldn't find any information.

 It would be more productive if there is a way to start Noesis from your modelling program instead of switching apps and export it by hand every time. 
Something like : "noesis.exe input-path output-path [--flags]" would be sufficient.
## Post #1731
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2016-07-04T04:44:11+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Yes, that's what ?cmode is for - it's in the readme.

> Noesis can be activated on the command line by using ?cmode as the first command line argument. This allows you to quickly process files from external batch files or other automation tools.
## Post #1732
- Username: 1nfern0
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sun Jan 10, 2016 4:58 am
- Post datetime: 2016-08-28T15:00:26+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

thx man, one more questions: 

How I can query which lightmap index a mesh has when I want to export it with a python script ?
I  can access the lightmap name with lmMatName (found in inc_noesis.py) but I haven't found anything for the lightmap index.
## Post #1733
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2016-09-01T01:45:34+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

You want to get the material from the model's material list using the lightmap material name. Then the index of the lightmap texture will typically be the diffuse texture index on the material. (disclaimer: this probably isn't set up correctly for some legacy importers like the Quake BSP importer, but will work for newer ones like the Quake 2 BSP importer or any other Python importers that use lightmaps)
## Post #1734
- Username: 1nfern0
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sun Jan 10, 2016 4:58 am
- Post datetime: 2016-09-01T16:52:56+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Uhh, I use that q3 bsp legacy importer  

It's like you have said, the importer doesn't set up the modelMats, so I can't access them with my exporter to get the lm index.
I can only view the lightmap index inside the data viewer.  

Well, I guess I have to dig into the bsp format myself.    thx for your response
## Post #1735
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2016-09-02T03:12:47+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

If you want to get "lightmap index" from a legacy importer, you have to use a native plugin as opposed to a Python script. It's the lmIndex member of sharedMesh_t.
## Post #1736
- Username: zheneq
- Rank: advanced
- Number of posts: 43
- Joined date: Fri Jul 17, 2015 1:09 pm
- Post datetime: 2016-09-05T14:32:24+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Is there any way to have scale as a vector inside NoeKeyFramedBone?
## Post #1737
- Username: zheneq
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2016-09-19T05:53:20+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

I think I only have uniform scale hooked up through that interface at the moment. I'll plug XYZ scale and transposed scale in for the next release. Still not sure when I'll get the new build out, I keep allowing myself to get sidetracked from the main tasks at hand. Added Carmageddon: Reincarnation support the other day on a whim, after playing Max Damage on consoles, and seeing it was virtually identical (with only some differences for materials and skinned models) to the Carmageddon iOS game that I added support for around 4 years ago. Fits the PBR shading model pretty nicely.
## Post #1738
- Username: zheneq
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2016-09-23T12:31:07+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

After nearly a year of procrastinating and letting large in-progress features pile up, Noesis 4.2 is finally up for download. The "check for updates" feature in older versions will upgrade to it fine.

New in this version:

> Reply from Señor Casaroja
>
>  -4.2 - New "Universal Debugger" client built into Noesis. Uses a generic protocol to support disassembly, memory viewing/modification, and a variety of general debugging features under virtually any architecture and addressing mode. Debugger protocol specifies that either the client or the host may implement necessary functionality to support disassembly and other debugging interfaces.
 -4.2 - New PBR material shading options. Default implementation uses something close to Disney's BRDF, with D=GTR (default exponent 2), G=Smith-GGX, F=Schlick approximation. Lambert diffuse is used by default instead of the Disney diffuse term. To avoid runtime importance sampling and maintain lighting parity with IBL (which uses diffuse irradiance and pre-convolved cubemaps), both direct light and IBL paths implement anisotropy by projecting the halfangle vector along the geometric bitangent. I wasn't sure this was going to be useful to anyone when pulling this approach out of my ass, but have since learned that at least Far Cry 4 is doing something similar. On the whole, the default models should be adjustable to fit most games using "PBR" content with reasonable accuracy, although fitting more specialized shaders for things like cloth or skin might get ugly.
 -4.2 - Various new post effect options, with linear output, bloom, and an assortment of color-adjustment and environment map tweak/override parameters. Generally geared toward being able to test and validate correct handling of PBR data.
 -4.2 - New HDR color picker, which allows mouse picking of 16-bit HDR color values from the framebuffer. Also useful for analyzing/validating HDR content and ensuring correct material parameters.
 -4.2 - Internally, everything has finally been switched over from ARBfp1.0/ARBvp1.0 to GLSL. All shaders have been written to be compatible with 1.20 or later of the GLSL spec, and should run even newer shading models on fairly ancient hardware without issue. The old GL fixed function path still exists as a worst-case fallback.
 -4.2 - Better compression of pre-compiled shader permutations.
 -4.2 - Noesis core module handling has been reworked to allow for faster load times.
 -4.2 - Reliance on the Windows Temp directory has been eliminated in the core module. (still required for FBX handling)
 -4.2 - Basic Carmageddon: Reincarnation support.
 -4.2 - Added GXT import support.
 -4.2 - Various additions to the DX10 DDS path, with preservation of HDR data formats.
 -4.2 - Various new tools and routines, including support routines for handling Spherical Harmonic data and a variety of image projection spaces, and derivative/integral functions which have been tested for BRDF debugging and approximation.
 -4.2 - Changed file types/lists in export dialog to be alphabetically sorted.
 -4.2 - Fixed a bug in 16-bit PNG support.
 -4.2 - Fixed a bug in Doom/Heretic/etc. PWAD support.
 -4.2 - Basic compute shader support. Some operations, such as specular convolution for baking IBL, may be accelerated by enabling compute shaders through the data viewer.
 -4.2 - Fixed an interface bug that could create duplicate folders in the shell tree view when expanding a folder.
 -4.2 - Added an option to completely remove shell views. Best used with Explorer file associations and/or drag-n-drop.
 -4.2 - Added a "swap handedness" preview option, available through the data viewer. Swaps handedness of the rendered scene without modifying any associated model data.
 -4.2 - Fixed up Fallout 4 support slightly, and added a commandline option to apply PBR materials to loaded NIF's when possible. (mostly for testing and novelty, NIF PBR material assignments currently assume everything is metal)
 -4.2 - Added NOEKF_SCALE_VECTOR_3 and NOEKF_SCALE_TRANSPOSED_VECTOR_3 keyframe data types.
 -4.2 - Added animation sequence flags - NSEQFLAG_NONLOOPING and NSEQFLAG_REVERSE.
 -4.2 - Added an "always use anim framerate" option, available in the data viewer. (by default, the preview framerate override is used - this forces the animation/sequence framerate to be used for playback instead)
 -4.2 - New ".noefbxmulti" format. Facilitates splitting animation sequences into multiple FBX files, as well as combining multiple FBX files into a single set of sequences.
 -4.2 - Added "-fbxsortnodes" option, which sorts FBX nodes alphabetically to ensure bone/mesh order on import. Can be useful in conjunction with .noefbxmulti files to ensure ordering dependent on node name instead of file or hierarchy order.
 -4.2 - Added a "force no anim lerp" option, available in the data viewer.
 -4.2 - Added a "force texture point filtering" option, available in the data viewer.
 -4.2 - Added a "global angle offset" option, available in the data viewer.
 -4.2 - Added a "disable cursor locking" option, available in the data viewer. This can be useful for tablets and other input devices that don't play nicely with having the cursor position reset.
 -4.2 - "m" is now a valid format string character for the imageEncodeRaw function. This indicates the maximum value should be stored at the given location. For example, the following would split the alpha channel out of a RGBA32 source, spreading it across a 32-bit RGBA destination's RGB channels and setting alpha to 255: rapi.imageEncodeRaw(rgbaSrc, w, h, "a8a8a8m8")
 -4.2 - Fixed a crash in the GMO loader with models containing over 1024 bones.
 -4.2 - Fixed a crash when activating certain tool context menu items without any files selected.

I'll probably write up a giant post about the intricacies of some of the newer features, because as usual I didn't write any documentation.

There are some sample PBR material setups in the "scenes" directory ("sample_pbr_ball_*") and some code is present in the NIF script for seeing how to set up an existing material to use the PBR model. Generally, you'll want to use the spec map to specify spec color in RGB and roughness/glossiness in alpha, or metalness in green and roughness/glossiness in alpha. (most games will want to use DXT5 alpha for roughness, or a separate BC4 map, to keep precision reasonable without bloating size too much) However, some flags are offered for different swizzles, and the change to imageEncodeRaw was done specifically to make reswizzling data fast and efficient in Python.

Edit: Here's a write up [http://richwhitehouse.com/index.php?postid=70](http://richwhitehouse.com/index.php?postid=70)
## Post #1739
- Username: Crmx91
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Thu Aug 28, 2014 1:24 am
- Post datetime: 2016-11-06T11:37:14+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Wow thanks for all the hard work MrAdults!
## Post #1740
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2016-12-22T19:04:44+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

MrAdults! Remember me? The Qumarion dude. Who wanted ya to incorporate Quma into Noesis? Too bad those JP guys never expanded to ship outside their country huh? The official site hasn't updated in about as long as i've been away...
## Post #1741
- Username: mikulover39
- Rank: advanced
- Number of posts: 61
- Joined date: Tue Nov 22, 2011 5:55 pm
- Post datetime: 2017-01-04T00:07:53+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Is it possible to create a key frame with one of axis missing?
I'm trying to convert some animations from a game but it skips out a few frames sometimes on certain axis's,
For example the x and z axis could have a values on frames 50-100 but the y axis doesn't
but it would have one value on frame 50 and one value on frame 100 and then just interpolate between them.

I don't know if this is possible to do in noesis?
## Post #1742
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2017-01-07T20:40:21+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

If you want to feed keyframe data that isn't natively supported by the keyframe interpolator, you have to convert it first. In your case, this means generating the keyframe-mismatched elements of your position/rotation/etc. by evaluating them at a given time before feeding them to Noesis.
## Post #1743
- Username: falconcool
- Rank: veteran
- Number of posts: 105
- Joined date: Tue Jun 16, 2009 11:41 am
- Post datetime: 2017-01-09T15:44:49+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

About the scene file used in noesis ,,called xxxxx.noesis .
Is there any guide to read about it?I want to know how to use command "-loadoptions".
I am trying to merge standard .bvh animation into standard fbx models.
Is this possible to be done by noesis's scene file management?
## Post #1744
- Username: mikulover39
- Rank: advanced
- Number of posts: 61
- Joined date: Tue Nov 22, 2011 5:55 pm
- Post datetime: 2017-01-09T22:12:12+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Cool thanks for the info, I used the formula x = (1 - a) * x1 + a * x2 to filling the missing parts and it looks smooth judging from a couple quick previews. It's honestly a weird way to store animation info but i guess it saves file space.
## Post #1745
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2017-01-10T05:31:27+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from mikulover39
>
> Cool thanks for the info, I used the formula x = (1 - a) * x1 + a * x2 to filling the missing parts and it looks smooth judging from a couple quick previews. It's honestly a weird way to store animation info but i guess it saves file space.
 

> Reply from falconcool
>
> About the scene file used in noesis ,,called xxxxx.noesis .
Is there any guide to read about it?I want to know how to use command "-loadoptions".
I am trying to merge standard .bvh animation into standard fbx models.
Is this possible to be done by noesis's scene file management?
There's no need to use .noesis files for that, just use -loadanim. For example, if exporting file01.bvh to allanims.fbx, add -loadanim file02.bvh -loadanim file03.bvh -loadanim file04.bvh ... to the commandline, and they'll all get smashed together into the FBX output.
## Post #1746
- Username: Tosyk
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2017-01-25T01:11:31+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Updated original post with a link to the build automation & tracking site, which gets auto-updated with current builds and documentation.
## Post #1747
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2017-02-19T20:36:34+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Is there a way to flip model and skeleton along axis? sometimes I'm getting models flipped along X in which, for ex., left hand is on the right side of the body. So I think that maybe noesis could handle this flipping thing.
## Post #1748
- Username: JakeGreen
- Rank: mega-veteran
- Number of posts: 164
- Joined date: Mon Aug 23, 2010 5:14 am
- Post datetime: 2017-02-23T03:09:45+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

So i'll give you a little run down of what i do here to get to my problem so i work in 3s max 2012 and above to model,rig and import ported models and when i export the models to fbx 2009 format cause i need it for 3ds max 9 cause the game i mod only has plugin for that version and it just gives me square boxes when i import as dummy (which i want my bones as dummys). 

So i just export it as a 2012 fbx and i use Noesis as a converter to open it in 3ds max 9 but i've been noticing when i do this and use noesis to export out as fbx it doesn't keep my proper scale i had it as in max 2012 and rotated the models root bone at like a -90 so it's got the hold body laying face first in the grid box and it deletes any "extra" bones i have in the scene that aren't rigged or linked to anything, then adds a bone and  skin modifier to any mesh i have in my scene that isn't rigged.

It's not that these are easy fixes for me in 3ds max it's just gets annoying that it does this when i have like 4 or 5 models i need to work on and i have to go back in and replace all of this stuff and remove the bones noesis created and delete the non-rigged models skin modifier.

I've even noticed this when i use Unwrap 3d on star wars battlefront models and i export as max 2012/15 and it deletes every unused bone on the model that it isn't rigged to making me have to replace them.

So is there anyway that this could be fixed or possible have options so it doesn't do stuff like this when exporting as FBX in Noesis?
## Post #1749
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2017-02-23T05:06:30+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Did you try
-fbxnewexport
also you can try
-scale for model size.
## Post #1750
- Username: Acewell
- Rank: VIP member
- Number of posts: 1330
- Joined date: Wed Nov 05, 2008 7:16 pm
- Post datetime: 2017-02-23T11:25:00+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Request: please eliminate the UV flipping that occurs when importing/exporting obj files.
## Post #1751
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2017-02-24T00:33:00+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from Tosyk
>
> Is there a way to flip model and skeleton along axis? sometimes I'm getting models flipped along X in which, for ex., left hand is on the right side of the body. So I think that maybe noesis could handle this flipping thing.
There's an option in the data viewer to flip the projection. Otherwise it's up to the importer to modify the handedness if it's desired. Generally I'm a fan of leaving geometry intact and passing it through directly.

> Reply from JakeGreen
>
> So i'll give you a little run down of what i do here to get to my problem so i work in 3s max 2012 and above to model,rig and import ported models and when i export the models to fbx 2009 format cause i need it for 3ds max 9 cause the game i mod only has plugin for that version and it just gives me square boxes when i import as dummy (which i want my bones as dummys). 

So i just export it as a 2012 fbx and i use Noesis as a converter to open it in 3ds max 9 but i've been noticing when i do this and use noesis to export out as fbx it doesn't keep my proper scale i had it as in max 2012 and rotated the models root bone at like a -90 so it's got the hold body laying face first in the grid box and it deletes any "extra" bones i have in the scene that aren't rigged or linked to anything, then adds a bone and  skin modifier to any mesh i have in my scene that isn't rigged.

It's not that these are easy fixes for me in 3ds max it's just gets annoying that it does this when i have like 4 or 5 models i need to work on and i have to go back in and replace all of this stuff and remove the bones noesis created and delete the non-rigged models skin modifier.

I've even noticed this when i use Unwrap 3d on star wars battlefront models and i export as max 2012/15 and it deletes every unused bone on the model that it isn't rigged to making me have to replace them.

So is there anyway that this could be fixed or possible have options so it doesn't do stuff like this when exporting as FBX in Noesis?
Noesis doesn't touch any of this data on the way through. If you don't want bones created to represent static geometry transforms, use -fbxnomeshbones.

> Reply from AceWell
>
> Request: please eliminate the UV flipping that occurs when importing/exporting obj files.
No UV flipping occurs. UV's remain perfectly intact. If your importer is flipping them, that's your importer's problem, and Noesis offers the "flip UV" option for this reason.

This is all fake news.
## Post #1752
- Username: Acewell
- Rank: VIP member
- Number of posts: 1330
- Joined date: Wed Nov 05, 2008 7:16 pm
- Post datetime: 2017-02-24T01:07:24+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from MrAdults
>
> No UV flipping occurs.false   

> Reply from MrAdults
>
> UV's remain perfectly intact.true   

> Reply from MrAdults
>
> If your importer is flipping them, that's your importer's problem,i don't know what that means, i've never written a Wavefront obj importer or exporter for Noesis 
(though that does sound fun   ), they flip on export to obj no matter what importer you used

> and Noesis offers the "flip UV" optionmaybe because it flips the UVs on Wavefront obj import/export? no other 3d software i use ever needs this option.  

anyway, its not a problem for me, just for those who aren't used to having to flip the UVs every time 
Have a nice day!
## Post #1753
- Username: MrAdults
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2017-02-24T08:39:07+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Take a look at the texture coordinate for a vertex in a given game file before Noesis touches it. Now export that file to .obj with Noesis. Look at the texture coordinate in the .obj file. Is it exactly the same? Unless the importer for that game mangled it on import, yes it is.

Import that .obj back into Noesis. Look at the texture coordinate. Is it still exactly the same? Yes it is. Export that .obj to another .obj and look at the texture coordinate. Is it still exactly the same? Yes it is.

Now import that .obj into your program of choice. Oh, did it flip your texture coordinates? Probably!

No reasonably official Wavefront .obj spec actually specifies UV coordinates (0, 0) as the lower-left or upper-left in image space. Noesis does the right thing by leaving it alone, and Noesis does not care how your target renderer is going to interpret the UV coordinates. Noesis isn't going to transform UV's from a target format because it's from a platform that treats (0, 0) as lower-left. That's none of Noesis's concern, and that's why Noesis has options to flip UV's globally to fit any given specification without transforming data in the process, and it has options to flip UV's on export for any format in case your target importer/renderer has no other way of dealing with UV coordinates which assume a different image space. If you're using .obj and you don't understand any of this, you shouldn't even be using .obj. It's a limited format.

Remember what your parents always told you growing up: just because it's different, it doesn't make it wrong.
## Post #1754
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2017-02-24T15:53:24+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Tosyk wrote:Is there a way to flip model and skeleton along axis? sometimes I'm getting models flipped along X in which, for ex., left hand is on the right side of the body. So I think that maybe noesis could handle this flipping thing.
There's an option in the data viewer to flip the projection. Otherwise it's up to the importer to modify the handedness if it's desired. Generally I'm a fan of leaving geometry intact and passing it through directly.can you add this options to use it with batch mode?
## Post #1755
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2017-03-03T19:43:10+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

In the newly updated version, it seems we can gain access to the FFXV model files, but that means only those who have a mod PS4 with version for the firmware being 1.76, to be able to extract the game data, correct?
Because even those of us with a new optical drive on a PC just inserting the game disc and copying the huge .pkg file to computer its still not possible to decrypt and unpack, or are we missing tools/info on it that regular users have no access to it?

cheers
## Post #1756
- Username: pixellegolas
- Rank: ultra-veteran
- Number of posts: 423
- Joined date: Tue Aug 12, 2008 6:30 am
- Post datetime: 2017-03-09T16:50:22+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Todays patch on ps4 says that we now can copy programs to external usb. I have no clue what it means but perhaps it opens possibilities?
## Post #1757
- Username: Meguido
- Rank: beginner
- Number of posts: 21
- Joined date: Sun Sep 07, 2014 8:33 pm
- Post datetime: 2017-03-18T01:00:14+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from mono24
>
> In the newly updated version, it seems we can gain access to the FFXV model files, but that means only those who have a mod PS4 with version for the firmware being 1.76, to be able to extract the game data, correct?
Because even those of us with a new optical drive on a PC just inserting the game disc and copying the huge .pkg file to computer its still not possible to decrypt and unpack, or are we missing tools/info on it that regular users have no access to it?

cheers

This remains a secret. I'm interested too.
## Post #1758
- Username: obodobear
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Tue Apr 04, 2017 12:05 am
- Post datetime: 2017-04-07T13:14:40+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Hello, I'm using Noesis to port a map from a Wii game (Xenoblade Chronicles) to the source engine (Team Fortress 2 Specifically). I would like to know if there is any way to export a md5mesh or PSK file format into a .vmf .bsp .vmm .rmf or a .map file that is compatible with source. Also if these are not supported, do have any plans to support them in the future? Thanks

[Edit] On second thought I would like to also ask if you have any knowledge of how to compile extracted .smd files so they can be used in source?
## Post #1759
- Username: ssringo
- Rank: veteran
- Number of posts: 98
- Joined date: Sat Apr 19, 2014 3:02 pm
- Post datetime: 2017-06-13T21:24:45+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Question about Tekken 7 support in noesis. It was mentioned over on Gildor's umodel forums that noesis supports the game and doesn't have the issue with mismatched skeletons and meshes (they aren't scaled the same so the skeleton doesn't line up with the mesh). However, I can't get any meshes to load or export in noesis (textures work fine). When loading a character mesh noesis hangs and eats up RAM until it hits 4GB and then crashes with the out of memory error (that scolds me for doing so!!). I have more than enough RAM 

I've extracted the pak files with noesis, umodel and using aluigi's quickbms script for extracting pak files. Same result. Loading a uasset file crashes noesis. I've also ran noesis with the cmd line argument  -ue4gamehack 1 and -ue4gamehack through the cmd prompt as well as setting the argument in the shortcut for the program. I am using the latest version of noesis as well (4278).

Am I missing something in the process? Thank you for any insight into this.
## Post #1760
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2017-06-14T06:26:38+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

is there a way to flip polygon normals on export?
[11.png](https://xentaxbackup.github.io/file/12997_11.png)
## Post #1761
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2017-06-14T08:25:00+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from Tosyk
>
> is there a way to flip polygon normals on export?
in the script add this option
rapi.rpgSetOption(noesis.RPGOPT_TRIWINDBACKWARD, 1)
or if you created the triangle manually just append them instead of 1 2 3 do 1 3 2
## Post #1762
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2017-06-14T08:45:42+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from chrrox
>
> Tosyk wrote:is there a way to flip polygon normals on export?
in the script add this option
rapi.rpgSetOption(noesis.RPGOPT_TRIWINDBACKWARD, 1)
or if you created the triangle manually just append them instead of 1 2 3 do 1 3 2
Thanks! But if I export into .FBX how can I apply this script?
## Post #1763
- Username: ssringo
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2017-06-14T12:11:46+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from ssringo
>
> Question about Tekken 7 support in noesis. It was mentioned over on Gildor's umodel forums that noesis supports the game and doesn't have the issue with mismatched skeletons and meshes (they aren't scaled the same so the skeleton doesn't line up with the mesh). However, I can't get any meshes to load or export in noesis (textures work fine). When loading a character mesh noesis hangs and eats up RAM until it hits 4GB and then crashes with the out of memory error (that scolds me for doing so!!). I have more than enough RAM 

I've extracted the pak files with noesis, umodel and using aluigi's quickbms script for extracting pak files. Same result. Loading a uasset file crashes noesis. I've also ran noesis with the cmd line argument  -ue4gamehack 1 and -ue4gamehack through the cmd prompt as well as setting the argument in the shortcut for the program. I am using the latest version of noesis as well (4278).

Am I missing something in the process? Thank you for any insight into this.
Yeah, wrong place. Those commands go here. When you export, you should also provide them as-needed in the "Advanced options" field. They would only go on the actual application commandline when using ?cmode to export via commandline.
## Post #1764
- Username: MisterNatal
- Rank: advanced
- Number of posts: 62
- Joined date: Tue Sep 02, 2014 9:53 am
- Post datetime: 2017-06-22T22:09:42+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from MrAdults
>
> ssringo wrote:Question about Tekken 7 support in noesis. It was mentioned over on Gildor's umodel forums that noesis supports the game and doesn't have the issue with mismatched skeletons and meshes (they aren't scaled the same so the skeleton doesn't line up with the mesh). However, I can't get any meshes to load or export in noesis (textures work fine). When loading a character mesh noesis hangs and eats up RAM until it hits 4GB and then crashes with the out of memory error (that scolds me for doing so!!). I have more than enough RAM 

I've extracted the pak files with noesis, umodel and using aluigi's quickbms script for extracting pak files. Same result. Loading a uasset file crashes noesis. I've also ran noesis with the cmd line argument  -ue4gamehack 1 and -ue4gamehack through the cmd prompt as well as setting the argument in the shortcut for the program. I am using the latest version of noesis as well (4278).

Am I missing something in the process? Thank you for any insight into this.
Yeah, wrong place. Those commands go here. When you export, you should also provide them as-needed in the "Advanced options" field. They would only go on the actual application commandline when using ?cmode to export via commandline.
Figured it out, for those also curious Open Noesis and click on "Tools > Data Viewer" from there open "Persistent Settings > Other" and change the "default preview Commands to this 
-fbxmanualprop -scrmdlpbr -qsatsubcolor -fbxpreserveprops -msiahtblack -ue4gamehack 1 -ue4datapath "Change this to where your uasset files are located"
Copy and paste that and make the change and you'll be able to extract tekken 7 models ^^

EDIT: Jesus second time on this site I've been left to figure out the answer on my own, I re-read through this page and the answer was thanks to the original poster lol when you go to export type in the Advanced options "-ue4gamehack 1" and it'll export fine. In regards to tekken the only thing left to do at this point is recolor those textures using the M map as a guide hope this helps at least one person besides myself
## Post #1765
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2017-07-08T08:05:20+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from MrAdults
>
> Tosyk wrote:Is there a way to flip model and skeleton along axis? sometimes I'm getting models flipped along X in which, for ex., left hand is on the right side of the body. So I think that maybe noesis could handle this flipping thing.
There's an option in the data viewer to flip the projection. Otherwise it's up to the importer to modify the handedness if it's desired. Generally I'm a fan of leaving geometry intact and passing it through directly.hi MrAdults, 

It's been a while since my failure attempt to convert Black Desert models in batch — all its models and skeletons are flipped along X axis so the right hand/bones were left and left hand/bones otherwise. I wanted to get all the models in .fbx and setup pipeline for composing different character parts in 3ds max as I always do for such "fat" game. However this "flip" thing didn't let me do this because fixing it in 3ds max is a really timestilling task. So I dropped my willings to deal with the game.

Tekken 7 is out recently and have the same issue. So I wonder if it's possible to batch export from noesis with "flip the projection" option?
## Post #1766
- Username: S0UZ
- Rank: advanced
- Number of posts: 40
- Joined date: Tue Apr 05, 2011 6:46 pm
- Post datetime: 2017-08-19T12:54:57+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Sorry if this request too much disturbing for you(like me or someone else are too annoying and lazy or so...). But is it possile that you could make: a change on fly to windows explorer like delete... Exxample, when there are too many garbage file and you wish to delete them so you could only delete it in Noesis and in Windows explorer it will send those files to recycle bin or completely removed it. With this way, it will save many times for many peoples (including me). I give this request because Noesis is the greatest of viewer and support most of game. I used this always and maybe manyones do.
Sorry again for my English as it isn't my native
Thanks for seeing my request.
## Post #1767
- Username: RoadTrain
- Rank: advanced
- Number of posts: 54
- Joined date: Thu Dec 13, 2007 12:57 am
- Post datetime: 2017-09-10T15:20:13+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Hello MrAdults!

One user of my Noesis plugin ran into an issue: Noesis can't see the plugin. He's using Windows 10.

So far we tried: installing MSVC++ 2010 Redist, rebuilding the plugin in VS2012. Nothing.

Does Noesis write some kind of logs somewhere which can be useful to diagnose problems like that?
## Post #1768
- Username: zheneq
- Rank: advanced
- Number of posts: 43
- Joined date: Fri Jul 17, 2015 1:09 pm
- Post datetime: 2017-09-21T20:18:38+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

It took me a couple of hours to figure out what was wrong with the script I'm working on... Turns out Noesis crashes if time in NoeKeyFramedValue is too big.
## Post #1769
- Username: Kerilk
- Rank: beginner
- Number of posts: 38
- Joined date: Sun Aug 27, 2017 9:08 pm
- Post datetime: 2017-09-26T17:37:46+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Hello,

I have added support (more or less, some things still come out screwed up) for animation to the pc version of the plugin for Bayonetta. I usually load several animation at the same time as they are packaged together.
I have a list of animation created by:

```
	anim->filename = rapi->Noesis_PooledString(fname);
	anim->aseq = rapi->Noesis_AnimSequencesAlloc(1, hdr.frameCount);
	anim->aseq->s->startFrame = 0;
	anim->aseq->s->endFrame = hdr.frameCount - 1;
	anim->aseq->s->frameRate = 60;
	anim->aseq->s->name = rapi->Noesis_PooledString(fname);
	if (anim)
	{
		animList.Append(anim);
	}

```

And I then use them this way:

```
	noesisAnim_t *anims = rapi->Noesis_AnimsFromList(animList, anims_num);
	rapi->rpgSetExData_AnimsNum(anims, anims_num);

```


I tried with and without anim sequence, but I can't seem to be able to switch between animations and I only ever see the first one.
Any idea of how I can switch between several animations?

Thanks
## Post #1770
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2017-10-02T19:31:24+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

is there a special guide to render with shaders? for example a car body
## Post #1771
- Username: Kerilk
- Rank: beginner
- Number of posts: 38
- Joined date: Sun Aug 27, 2017 9:08 pm
- Post datetime: 2017-10-09T18:22:15+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

You can disregard my previous question. I found out that you can switch between anims in the data viewer if they are created with:

```
noesisAnim_t *anims = rapi->Noesis_AnimFromAnimsList(animList, anims_num);
rapi->rpgSetExData_AnimsNum(anims, 1);

```
## Post #1772
- Username: itoikenza
- Rank: advanced
- Number of posts: 52
- Joined date: Sat Jan 07, 2012 9:24 am
- Post datetime: 2017-10-23T19:44:24+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

MrAdults. you ignored me... i never got around to buying a qumarion for this app... does the app support the newest kinect? i went back in this thread but didn't find any info...

edit: i saw your notes on kinect. and it seems to still run on the 360 model... no?
## Post #1773
- Username: TRDaz
- Rank: mega-veteran
- Number of posts: 215
- Joined date: Sun Sep 25, 2011 2:06 am
- Post datetime: 2017-10-27T10:31:24+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

So I've been working on a script recently and have figured out it's bones and weights to load, however some of the meshes include physic parts and they have their own weights, but the skeleton doesn't have bones for them. Because of this, no bone gets loaded so either the script errors when it tries to connect the bone map to the skeleton or if I have it skip, it will load all of the weights wrong.

Does anyone know if there is a function in Noesis that allows it to create bones based on the bone map list? This is the only way that I think could be a way around the problem, by creating bones for the physic weights so that it doesn't error or load weights wrong, unless someone else knows of a fix instead. Thanks!

EDIT: Nevermind! I realised I could just create a new bone with the bone name and it works out just fine.
## Post #1774
- Username: zheneq
- Rank: advanced
- Number of posts: 43
- Joined date: Fri Jul 17, 2015 1:09 pm
- Post datetime: 2017-10-29T08:01:21+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

I've been working with Wii games lately, and they tend to use separate buffers for positions, uvs, normals, etc. and separate index lists into these buffers. I usually go the most straightforward way and build trilists of vertices, which leads to heavily unoptimized meshes. I could find all of the unique combinations of pos+uv+etc and make an index list for that, or I could let rapi.rpgOptimize sort it out but it would mean building new binary buffers for it. Neither looks very good. Maybe there is a better way to handle this situation?


UPD: I guess Immediate-mode drawing is the answer. Got vertex count almost 5 times down with it and rpgOptimize.

PS: Nothing makes your meshes as unoptimized as an extra tabulation does.
## Post #1775
- Username: zheneq
- Rank: advanced
- Number of posts: 43
- Joined date: Fri Jul 17, 2015 1:09 pm
- Post datetime: 2017-10-31T15:26:37+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

What did I do wrong? Same thing for every bone.
[2017-10-31_18-19-13.png](https://xentaxbackup.github.io/file/13508_2017-10-31_18-19-13.png)
## Post #1776
- Username: Ixi
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Thu Jun 11, 2015 9:19 am
- Post datetime: 2017-11-14T13:44:17+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from Señor Casaroja
>
>  -4.2 - New "Universal Debugger" client built into Noesis. Uses a generic protocol to support disassembly, memory viewing/modification, and a variety of general debugging features under virtually any architecture and addressing mode. Debugger protocol specifies that either the client or the host may implement necessary functionality to support disassembly and other debugging interfaces.
And how to use it? I really need it but I can't find any info on how to use it. Does it require some specific emulator? Or emulator has to be modified in some way? In my case I want to attach this debugger to PCSXR but I had no luck with this so far. Also how about full support of PS1 memory map with all its mirrors, scratchpad and IO ports? Are they implemented or it can show only the main RAM region?
## Post #1777
- Username: Starbrain
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Mon Nov 27, 2017 7:41 pm
- Post datetime: 2017-11-28T16:04:23+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

I was trying to view models from Duke Nukem Forever in Noesis. The data extracted just fine from the .dat files and i have it all in one folder for each character, but i'm getting an error message and crash when i open any .msh file:
## Post #1778
- Username: Ixi
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Thu Jun 11, 2015 9:19 am
- Post datetime: 2017-12-01T02:24:35+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from Starbrain
>
> I was trying to view models from Duke Nukem Forever in Noesis. The data extracted just fine from the .dat files and i have it all in one folder for each character, but i'm getting an error message and crash when i open any .msh file:

This is the best error message I've ever seen!
## Post #1779
- Username: DGIorio
- Rank: beginner
- Number of posts: 25
- Joined date: Mon Jan 11, 2016 6:12 am
- Post datetime: 2018-01-21T18:38:28+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Hi,

I would like to know how to convert a Triangle Strip (with separator FF FF) to triangles. I tried doing my own function but the faces get bad oriented. It seems that Noesis has a function that may can convert the Triangles Strip (noesis.RPGEO_TRIANGLE_STRIP), but I didn't manage to use it.

I'm trying this:

```
Triangle = noesis.RPGEO_TRIANGLE_STRIP(TriangleStrip)
```


but I'm getting this error: 'int' object is not callable.

Does this function convert a Triangle Strip to triangles? What is the type of the argument?

Thanks in advance!
## Post #1780
- Username: zheneq
- Rank: advanced
- Number of posts: 43
- Joined date: Fri Jul 17, 2015 1:09 pm
- Post datetime: 2018-01-22T11:30:59+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from DGIorio
>
> ...a function that may can convert the Triangles Strip (noesis.RPGEO_TRIANGLE_STRIP)
It's not a function, it's a constant.
If you are using RPG, you want to call

```

```

Check Noesis/plugins/python/__NPExample.txt for more examples.
## Post #1781
- Username: DGIorio
- Rank: beginner
- Number of posts: 25
- Joined date: Mon Jan 11, 2016 6:12 am
- Post datetime: 2018-01-22T21:55:29+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from zheneq
>
> DGIorio wrote:...a function that may can convert the Triangles Strip (noesis.RPGEO_TRIANGLE_STRIP)
It's not a function, it's a constant.
If you are using RPG, you want to call
Code: Select allrapi.rpgCommitTriangles(TriangleStrip, noesis.RPGEODATA_SHORT, numIdx, noesis.RPGEO_TRIANGLE_STRIP)

Check Noesis/plugins/python/__NPExample.txt for more examples.

Thanks for these infos, but "rapi.rpgCommitTriangles" doens't ruturn what I want. However I definied a new function to convert triangle strips to triangle list and it's working pretty well.
## Post #1782
- Username: zheneq
- Rank: advanced
- Number of posts: 43
- Joined date: Fri Jul 17, 2015 1:09 pm
- Post datetime: 2018-01-25T17:04:11+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

How do I create morph targets in immediate mode? immVertMorphIndex doesn't seem to do anything.
## Post #1783
- Username: mono24
- Rank: Moderator
- Number of posts: 1007
- Joined date: Mon Mar 23, 2009 9:57 am
- Post datetime: 2018-02-06T19:58:44+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

There are various strip modes you can try if the default one doesn't work, as well as an option to set the terminating index. (pretty common back in the PS3/360 days, people don't tend to bother with strips as much these days)

The morph stuff requires you to commit separate buffers for positions/normals (as many as you need), and immVertMorphIndex specifies the index into those buffers for the vertex you're presently committing.

That DNF bug was fixed quite a few months back, the same time I added DNF animation support.

It's pretty common for me to go months without checking this thread, so if you want a reply from me specifically, you can track me down elsewhere. But I don't promise to not ignore you. (but I probably won't ignore you if you're trying to actually make something in Noesis)
## Post #1784
- Username: zheneq
- Rank: advanced
- Number of posts: 43
- Joined date: Fri Jul 17, 2015 1:09 pm
- Post datetime: 2018-02-07T03:30:38+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from MrAdults
>
> The morph stuff requires you to commit separate buffers for positions/normals (as many as you need), and immVertMorphIndex specifies the index into those buffers for the vertex you're presently committing.

Sure, but how exactly do I use this function? Whatever I try, Noesis does the same thing as if I wasn't calling it. Which results, obviously, in all targets (corrupted or not) combined in a single mesh.
## Post #1785
- Username: hodlersho
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Tue Feb 13, 2018 2:34 am
- Post datetime: 2018-02-12T21:42:46+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Guys I'm having trouble with Heads inside stomach, any advice?
## Post #1786
- Username: dragoncrest
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sun Sep 21, 2014 11:47 pm
- Post datetime: 2018-02-13T02:41:33+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

I use Noesis to export animation in Fantasy 8.
But ... in Noesis, it can view 400 frames of animation. When i export to fbx and open it in unity or maya, it only have 300 frames.
Where the last 100 frames have gone?
## Post #1787
- Username: lionheartuk
- Rank: double-veteran
- Number of posts: 749
- Joined date: Wed May 17, 2006 5:55 am
- Post datetime: 2018-02-13T08:33:55+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from dragoncrest
>
> I use Noesis to export animation in Fantasy 8.
But ... in Noesis, it can view 400 frames of animation. When i export to fbx and open it in unity or maya, it only have 300 frames.
Where the last 100 frames have gone?

Try changing mayas frames per second, and also try changing the amount of visible frames in the maya timeline.
## Post #1788
- Username: dragoncrest
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sun Sep 21, 2014 11:47 pm
- Post datetime: 2018-02-14T03:06:14+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

I checked again in Maya and i saw it have full animation. Frame number in Noesis display different from frame number in Maya.
Another problem, when i export bone animation and open it in other softwares, the y-axis is negative. How can i revert that?
## Post #1789
- Username: lionheartuk
- Rank: double-veteran
- Number of posts: 749
- Joined date: Wed May 17, 2006 5:55 am
- Post datetime: 2018-02-14T05:49:11+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from dragoncrest
>
> I checked again in Maya and i saw it have full animation. Frame number in Noesis display different from frame number in Maya.
Another problem, when i export bone animation and open it in other softwares, the y-axis is negative. How can i revert that?

Usually on import, in the case its a DAE or FBX you'll have the option in the importers settings to Change from Y up to Z up for example, or -Y to +Y.

Note: Z-up is really common, a fair few game engines use it, especially Japanese ones, along with Unreal Engine.

Additionally you could just change your softwares up axis to the same as the file, this way your exports will import ok into any game engine without you having to fiddle with export import settings.
## Post #1790
- Username: DGIorio
- Rank: beginner
- Number of posts: 25
- Joined date: Mon Jan 11, 2016 6:12 am
- Post datetime: 2018-02-19T21:13:13+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Hello,

How can I use rapi.toolExportGData to export textures to .dds? I got it working for models, but when exporting textures it says "invalid model". It seems that it's supposed to work with textures too.

> -3.97 - Added rapi.toolLoadGData, rapi.toolFreeGData, rapi.toolSetGData, rapi.toolExportGData, rapi.toolGetLoadedModelCount, and rapi.toolGetLoadedModel. These functions are intended for tool scripts, and allow loading/saving/manipulating any kind of supported (models, textures, etc.) data.

I also tried to use saveImageRGBA, but my image format are DXT1 and DXT5.

Thanks in advance.
## Post #1791
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2018-04-01T18:45:48+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

is there a way to load .smd with long bone names? right now all the names becoming just 'boneXXX' therefore converted models loses their connection with animation.

it botheres me for long time and I still can't find workaround
## Post #1792
- Username: mono24
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2018-04-01T22:13:03+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from Tosyk
>
> is there a way to load .smd with long bone names? right now all the names becoming just 'boneXXX' therefore converted models loses their connection with animation.

it botheres me for long time and I still can't find workaround

that normally happens when there are duplicate bone names.
## Post #1793
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2018-04-02T21:07:09+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from chrrox
>
> Tosyk wrote:is there a way to load .smd with long bone names? right now all the names becoming just 'boneXXX' therefore converted models loses their connection with animation.

it botheres me for long time and I still can't find workaround

that normally happens when there are duplicate bone names.so you telling that a single name duplication causes renaming of the whole bone name list?
## Post #1794
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2018-04-05T19:27:45+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

so is there's workaround regarding loosing bone names when open SMD in noesis?
it's critical, because local hero daemon working with SMD format in his projects
## Post #1795
- Username: Kerilk
- Rank: beginner
- Number of posts: 38
- Joined date: Sun Aug 27, 2017 9:08 pm
- Post datetime: 2018-04-09T13:02:33+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Is there a way to have some meshes start hidden in the data-viewer? Namely I have shadow meshes that share material with others so I cannot rely on hiding the material (which seems possible), but most of the time I don't need to see them.
## Post #1796
- Username: num421337
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Tue Apr 06, 2010 6:46 am
- Post datetime: 2018-04-11T22:59:50+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

I'm trying to extract textures and models from the game JoJo's Bizarre Adventure: Ougon no Kaze which is a capcom game. I have found a few files that look to have tm2 files in them but they are compressed or otherwise scrambled in some way. Any chance you would be able to help me with this? I am looking to translate the entire game. I have already found multiple files with standard shift-jis text in them that have been editable through hex editing, but some things are just images
## Post #1797
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2018-04-12T08:00:52+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

is it possible to preserve material and textures path/names within model when converting from PSK into FBX?
tuns out that FBX preserves only material names as meshes material names AND diffuse texture.

p.s.: must say that I love command mode!
## Post #1798
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2018-04-21T06:21:21+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Is it possible to add a feature to locally rotate selected bones on export?

Btw, isn’t it right place for feadback here? Almost none of my question on how this beautiful program work weren’t answered.
## Post #1799
- Username: meganmi
- Rank: advanced
- Number of posts: 41
- Joined date: Sat Jul 25, 2015 10:31 pm
- Post datetime: 2018-05-15T05:02:32+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Tekken 7 models are flipped on the X axis, how do I make Noesis correctly view the mesh?
## Post #1800
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2018-05-20T17:15:29+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

please fix the issue with -scale options when converting into FBX:



fbx_scale_error.jpg (196.16 KiB) Viewed 689 times


here's a sample and ASCII plugin:
[https://drive.google.com/file/d/1BV7fsM ... sp=sharing](https://drive.google.com/file/d/1BV7fsMSVL51zit8WXlebomrJmn_4NlJe/view?usp=sharing)
## Post #1801
- Username: pixellegolas
- Rank: ultra-veteran
- Number of posts: 423
- Joined date: Tue Aug 12, 2008 6:30 am
- Post datetime: 2018-05-27T15:41:17+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Super-interesting read that hopefully can make conversions etc easier?

[https://godotengine.org/article/we-shou ... me-engines](https://godotengine.org/article/we-should-all-use-gltf-20-export-3d-assets-game-engines)
## Post #1802
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2018-06-17T15:04:34+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

When I load SMD with long bone names Noesis stripped them into something like 'bone_XX'.
Can you fix this, MrAdults?
## Post #1803
- Username: Kerilk
- Rank: beginner
- Number of posts: 38
- Joined date: Sun Aug 27, 2017 9:08 pm
- Post datetime: 2018-06-28T10:16:20+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

I am still working on my Bayonetta 1/2, Vanquish, Nier Automata (let's say PG now) plugin and I would like to know how to blend two materials with a ratio given by the red component of the color vertex buffer. I think I would need to use material expressions for this to work but I couldn't find example of it's usage. I found out that chrrox used them but couldn't find where.

Thanks in advance.

edit: never mind I may have found what I was searching here: [viewtopic.php?p=81687#p81687](http://forum.xentax.com/viewtopic.php?p=81687#p81687)

edit 2: but maybe material expressions are not the way to go. If I understand correctly vertex color is blended with first material and then the result is blended with the next. So maybe classical blending would suffice
## Post #1804
- Username: Kerilk
- Rank: beginner
- Number of posts: 38
- Joined date: Sun Aug 27, 2017 9:08 pm
- Post datetime: 2018-07-08T12:14:07+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Any idea why lightmap don't move with the model?



They also don't disappear when you skip the rendering of the corresponding mesh in the data viewer.

Edit: Using another pass for the lightmap and using the NMATFLAG_USELMUVS flag does the trick, rather than using the rpgSetLightmap command.

Edit: Okay, blending terrain is possible thanks to material expressions and classical blending, here is an example of three materials blended together (with lightmap as an additional pass):


This technique is nonetheless slightly problematic with transparent meshes that have a lightmap:


any idea of how I could avoid this? I think I would need to change the blending function for alpha and I am unsure how I should do this using noesis.
## Post #1805
- Username: the101gamer
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Thu May 11, 2017 10:51 pm
- Post datetime: 2018-08-11T15:49:29+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Does anyone have a plugin for DBZ Ultimate Tenkiachi??
## Post #1806
- Username: joeyq
- Rank: n00b
- Number of posts: 18
- Joined date: Tue Jan 19, 2010 6:14 pm
- Post datetime: 2018-10-20T22:19:18+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

I humbly request for Soul Calibur 6 support, it has the same issue as Tekken 7 with mismatched skeletons and meshes when using gildor's umodel viewer.
I also have long wished for animation support of Soul Calibur series since Soul Calibur 4 but no-one has ever succeeded (or made it public), so support of soul calibur 6 animations would be fantastic!
## Post #1807
- Username: TrumpetPro
- Rank: advanced
- Number of posts: 73
- Joined date: Wed Jul 06, 2016 8:51 am
- Post datetime: 2018-11-12T03:40:53+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from joeyq
>
> I humbly request for Soul Calibur 6 support, it has the same issue as Tekken 7 with mismatched skeletons and meshes when using gildor's umodel viewer.
I also have long wished for animation support of Soul Calibur series since Soul Calibur 4 but no-one has ever succeeded (or made it public), so support of soul calibur 6 animations would be fantastic!
I second this
## Post #1808
- Username: WRS
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2018-12-27T22:22:54+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

[http://richwhitehouse.com/index.php?postid=72](http://richwhitehouse.com/index.php?postid=72)

Use your Roomba bot to map your house and turn it into a Doom level with Noesis.
## Post #1809
- Username: GHFear
- Rank: advanced
- Number of posts: 50
- Joined date: Tue Dec 04, 2018 4:29 pm
- Post datetime: 2019-01-12T08:36:28+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

I have been making a script to export all rx2 "xbox 360 EA Games" files from all games that use them lately and can now export every single texture format in the games I have tested except for one.
That last format is "r5g6b5".
I can't find anywhere how to export that from an xbox 360 game with noesis.
So any help on that would mean a lot =] 

Thanks,
GHFear
## Post #1810
- Username: ReeceMix
- Rank: advanced
- Number of posts: 64
- Joined date: Sat Nov 10, 2007 10:01 pm
- Post datetime: 2019-04-05T16:05:21+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

It may have been mentioned here before .. but can Noesis preview window have an option to flip UVs vertically?


I know objs are a bit backward but it displays normally in other viewers and 3ds max.
## Post #1811
- Username: Devilot
- Rank: ultra-veteran
- Number of posts: 443
- Joined date: Tue Sep 07, 2010 5:12 pm
- Post datetime: 2019-04-05T16:11:40+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Oh look I didn't know that!
## Post #1812
- Username: zheneq
- Rank: advanced
- Number of posts: 43
- Joined date: Fri Jul 17, 2015 1:09 pm
- Post datetime: 2019-04-06T22:52:32+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from ReeceMix ↑Sat Apr 06, 2019 12:05 am at Sat Apr 06, 2019 12:05 am
>
> 
It may have been mentioned here before .. but can Noesis preview window have an option to flip UVs vertically?

Tools -> Data Viewer -> Model -> Global UV Flip
## Post #1813
- Username: MarieRose1301
- Rank: veteran
- Number of posts: 97
- Joined date: Sun Oct 12, 2014 5:29 am
- Post datetime: 2019-10-04T21:41:41+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Probably a stupid question, but is there a triangle strip function variation with strip termination? If so, how do i call it in a script?
## Post #1814
- Username: Beedy
- Rank: advanced
- Number of posts: 47
- Joined date: Mon Dec 05, 2016 6:12 pm
- Post datetime: 2019-10-09T16:49:35+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

I tried to read materials from modelcontainer with 153 meshes, 65 materials and 41 textures. I assign textures to every material and then read materials to MatList and construct models with 153 range loop. When I load the file it appears 9945 (=153 x 65)  materials in Noesis. It reads right material for every meshes but Noesis crashes when I go to Data Viewer because of huge amount of materials. When I move mdl.setModelMaterials(NoeModelMaterials(TexList, MatList)) out of range loop it appears 153 materials in Noesis but materials isn't loaded for meshes. What I do wrong?

```
from inc_noesis import *
import noesis
#rapi methods should only be used during handler callbacks
import rapi
#registerNoesisTypes is called by Noesis to allow the script to register formats.
#Do not implement this function in script files unless you want them to be dedicated format modules!
def registerNoesisTypes():
	handle = noesis.register("NHL Legacy (X360)", ".rx2")
	noesis.setHandlerTypeCheck(handle, noepyCheckType)
	noesis.setHandlerLoadModel(handle, noepyLoadModel)
	noesis.logPopup()
	#print("The log can be useful for catching debug prints from preview loads.\nBut don't leave it on when you release your script, or it will probably annoy people.")
	return 1
#check if it's this type based on the data
def noepyCheckType(data):
    bs = NoeBitStream(data)
    Magic = bs.readBytes(7)
    if Magic != b'\x89\x52\x57\x34\x78\x62\x32':
        return 0
    return 1  

#load the model
def noepyLoadModel(data, mdlList):
   VInfo = []
   VOff = []
   VBufferSize = []
   FInfo = []   
   FOff = []
   FBufferSize = []
   MatInfo = []
   MatIndexInfo = []
   MatIndexTable = []
   TexIndexInfo = []
   TexIndex = []   
   MatNames = []
   NameInfo = []
   TexList = []
   MatList = []
   MaterialInfo = []
   
   ctx = rapi.rpgCreateContext()
   bs = NoeBitStream(data, NOE_BIGENDIAN)
   bs.seek(0x20, NOESEEK_ABS)
   fileCount = bs.read(">i")
   bs.seek(12, NOESEEK_REL)
   fileTable = bs.read(">i")
   bs.seek(16, NOESEEK_REL)
   hdrSize = bs.read(">i")  
   bs.seek(fileTable[0], NOESEEK_ABS)
   meshCount = 0
   texCount = 0
   materialCount = 0
   ebCount = 0
   
   for i in range(0, fileCount[0]):
	    fileInfo = bs.read(">iiiii")
	    fileType = bs.readBytes(4)
	   			    
	    elif fileType == b'\x00\x02\x00\x05':
	   		bs.seek(-48, NOESEEK_REL)
	   		info = bs.read(">iiiiiiiiiiii")
	   		VOff.append([info[0]])
	   		VBufferSize.append([info[2]])
	   		VInfo.append([info[6]])
	   				 			   		
	    elif fileType == b'\x00\x02\x00\x07':
	   		bs.seek(-48, NOESEEK_REL)
	   		info = bs.read(">iiiiiiiiiiii")
	   		FOff.append([info[0]])
	   		FBufferSize.append([info[2]])
	   		FInfo.append([info[6]])	   		

	    elif fileType == b'\x00\x02\x00\x09':
	   		meshCount +=1 
	   		
	    elif fileType == b'\x00\xEB\x00\x03':
	   		MatIndexInfo.append([fileInfo[0]])
	   		ebCount +=1
	   		
	    elif fileType == b'\x00\xEC\x00\x10':
	   		NameInfo.append([fileInfo[0]])
	    
	    elif fileType == b'\x00\xEF\x00\x01':
	   		TexIndexInfo.append([fileInfo[0]])

	    elif fileType == b'\x00\xEF\x00\x05':
	   		MatInfo.append([fileInfo[0]])
	   		materialCount +=1				 			   		
   
#Read material names
   bs.seek(NameInfo[0][0], NOESEEK_ABS)
   nameCount = bs.read(">HH")
   bs.seek(4, NOESEEK_REL)
   for i in range(0, nameCount[1]):
   		nameOff = bs.read(">i")
   		nameType = bs.readBytes(4)
   		nameIndex = bs.read(">i")
   		pos = bs.tell()
   		if nameType == b'\x00\xEF\x00\x05':
   			bs.seek(nameOff[0], NOESEEK_ABS)
   			MatNames.append(bs.readString())
   			bs.seek(pos, NOESEEK_ABS)	
   			
#Read material indices for meshes
   for i in range(0, ebCount):
   		bs.seek(MatIndexInfo[i][0] + 0x10, NOESEEK_ABS)
   		contents = bs.read(">i")
   		tablesize = bs.read(">i")
   		bs.seek(tablesize[0] + 12, NOESEEK_REL)
   		for j in range(0, contents[0]):
   				materialIndex = bs.read(">i")
   				MatIndexTable.append(materialIndex[0])
   				bs.seek(40, NOESEEK_REL)

#Read texture indices for materials
   for i in range(0, materialCount):
   		bs.seek(TexIndexInfo[i][0] + 256, NOESEEK_ABS)
   		index = bs.read(">i")
   		textindex = index[0] // 2
   		TexIndex.append(str(textindex)+".tga")
   		
   for i in range(0, materialCount):
   		material = NoeMaterial(MatNames[i], TexIndex[i])
   		MatList.append(material) 
   		
 #Construct Models		  			   
   for i in range(0, meshCount):
   		bs.seek(VInfo[i][0] + 32, NOESEEK_ABS) #Seek to vertices info
   		VData = bs.read(">HHi") 
   		VBsize = VData[0]
   		VCount = VData[2]
   		bs.seek(FInfo[i][0] + 32, NOESEEK_ABS) #Seek to faces info  
   		FCount = bs.read(">HH")   
   		bs.seek(VOff[i][0] + hdrSize[0], NOESEEK_ABS) #Seek to Vertices Start
   		VertBuff = bs.readBytes(VBufferSize[i][0])
   		rapi.rpgSetOption(noesis.RPGOPT_BIGENDIAN, 1)
   		rapi.rpgBindPositionBufferOfs(VertBuff, noesis.RPGEODATA_FLOAT, VBsize, 0)
   		rapi.rpgBindUV1BufferOfs(VertBuff, noesis.RPGEODATA_FLOAT, VBsize, 16)
   		bs.seek(FOff[i][0] + hdrSize[0], NOESEEK_ABS) #Seek to Faces Start
   		FaceBuff = bs.readBytes(FBufferSize[i][0])
   		rapi.rpgSetMaterial(MatNames[((MatIndexTable[i] - 1) // 3) - 28])
   		rapi.rpgCommitTriangles(FaceBuff, noesis.RPGEODATA_USHORT, FCount[1], noesis.RPGEO_TRIANGLE, 1)
   		mdl = rapi.rpgConstructModel()
   		mdl.setModelMaterials(NoeModelMaterials(TexList, MatList))
   		mdlList.append(mdl)         #important, don't forget to put your loaded model in the mdlList
   		rapi.rpgClearBufferBinds()
   		rapi.rpgReset()   
   
   return 1
```
## Post #1815
- Username: Beedy
- Rank: advanced
- Number of posts: 47
- Joined date: Mon Dec 05, 2016 6:12 pm
- Post datetime: 2019-10-10T06:36:31+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

I think that solution is read submeshes instead of construct every meshes to single model. Now I have 153 models 153 meshes 153 textures and 9945 materials. Can someone help me to fix the script to read 1 model 153 submeshes and 65 materials? I extract textures separately with name of texture index 1-41.
Here is model sample file with extracted textures:
[https://app.box.com/s/gjpzsy19pb45g9cuncwrwl2ewifeg9dd](https://app.box.com/s/gjpzsy19pb45g9cuncwrwl2ewifeg9dd)


 mdl_nhl_rx2_mat.py.zip
(2.33 KiB) Downloaded 31 times
## Post #1816
- Username: Beedy
- Rank: advanced
- Number of posts: 47
- Joined date: Mon Dec 05, 2016 6:12 pm
- Post datetime: 2019-10-10T12:09:20+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Issue solved. I move mdl = rapi.rpgConstructModel(), mdl.setModelMaterials(NoeModelMaterials(TexList, MatList)), mdlList.append(mdl),    rapi.rpgClearBufferBinds() and rapi.rpgReset() out of mesh loop.

```
   for i in range(0, meshCount):
   		print(UVpos[i])
   		bs.seek(VInfo[i][0] + 32, NOESEEK_ABS) #Seek to vertices info
   		VData = bs.read(">HHi") 
   		VBsize = VData[0]
   		VCount = VData[2]
   		bs.seek(FInfo[i][0] + 32, NOESEEK_ABS) #Seek to faces info  
   		FCount = bs.read(">HH")   
   		bs.seek(VOff[i][0] + hdrSize[0], NOESEEK_ABS) #Seek to Vertices Start
   		VertBuff = bs.readBytes(VBufferSize[i][0])
   		rapi.rpgSetName("mesh" + str(i))
   		rapi.rpgSetOption(noesis.RPGOPT_BIGENDIAN, 1)
   		rapi.rpgBindPositionBufferOfs(VertBuff, noesis.RPGEODATA_FLOAT, VBsize, 0)
   		rapi.rpgBindUV1BufferOfs(VertBuff, noesis.RPGEODATA_FLOAT, VBsize, UVpos[i])
   		bs.seek(FOff[i][0] + hdrSize[0], NOESEEK_ABS) #Seek to Faces Start
   		FaceBuff = bs.readBytes(FBufferSize[i][0])
   		rapi.rpgSetMaterial(MatNames[((MatIndexTable[i] - 1) // 3) - 28])
   		rapi.rpgCommitTriangles(FaceBuff, noesis.RPGEODATA_USHORT, FCount[1], noesis.RPGEO_TRIANGLE, 1)  
   mdl = rapi.rpgConstructModel()
   mdl.setModelMaterials(NoeModelMaterials(TexList, MatList))
   mdlList.append(mdl)
   rapi.rpgClearBufferBinds()
   rapi.rpgReset() 
```
## Post #1817
- Username: ISKA
- Rank: n00b
- Number of posts: 13
- Joined date: Tue Apr 10, 2018 4:52 pm
- Post datetime: 2019-10-15T12:47:58+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Hi everyone. Im looking red dead redemption 1 fonts.
Can anyone say me font names and folders?
I found one folder is name fonts but even edit not change ingame anyone characters.
## Post #1818
- Username: artworkplay
- Rank: veteran
- Number of posts: 116
- Joined date: Thu Oct 06, 2011 4:40 am
- Post datetime: 2019-10-30T22:59:52+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

I hope its ok to ask here...I've been unable to open Noesis on my new pc running windows 10 64 bit, it throws an error saying "noesis has stopped working" once i try to open it. is there a workaround for this? TIA

EDIT Added screenshot
## Post #1819
- Username: Lazov
- Rank: veteran
- Number of posts: 84
- Joined date: Sat Oct 08, 2016 6:56 pm
- Post datetime: 2019-11-18T16:18:20+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Such a problem. The skeleton is displayed correctly during animation. But the model is distorted - very elongated. What could be the problem? In the transformation matrices?
## Post #1820
- Username: jayn23
- Rank: mega-veteran
- Number of posts: 250
- Joined date: Mon Jul 18, 2011 4:30 am
- Post datetime: 2019-11-20T08:58:01+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Such a problem. The skeleton is displayed correctly during animation. But the model is distorted - very elongated. What could be the problem? In the transformation matrices?

As far as i know transformation matrices affect only the skeleton so if skeleton is behaving (moving) correctly that isnt your issue.
My guess would be either incorrect weights or a scaling issue.

try manually scaling the mesh so its fits in size to skeleton if its still distorted then the weights are incorrect
## Post #1821
- Username: neusi
- Rank: n00b
- Number of posts: 16
- Joined date: Thu Jan 31, 2019 9:55 am
- Post datetime: 2020-06-26T21:57:49+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Hi everyone!!
Sorry for make this dump question but... Its any way to make keybinding for command like "Batch Load", u know 1 for queue 2 for load atc. or for in data view setting like change value with key ??
## Post #1822
- Username: einherjar007
- Rank: mega-veteran
- Number of posts: 188
- Joined date: Sat Dec 23, 2017 2:56 pm
- Post datetime: 2020-10-17T12:00:13+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Animation preview has stopped working in a recent Noesis update, am I the only one?
I can play the animation manually by moving the timeline slider.
## Post #1823
- Username: Kerilk
- Rank: beginner
- Number of posts: 38
- Joined date: Sun Aug 27, 2017 9:08 pm
- Post datetime: 2020-10-24T06:02:06+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

I didn't notice this in version 4.434, at least not on my Bayonetta plugin.
## Post #1824
- Username: Joschka
- Rank: mega-veteran
- Number of posts: 286
- Joined date: Fri Aug 09, 2019 10:51 pm
- Post datetime: 2020-10-24T11:06:23+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from einherjar007 ↑Sat Oct 17, 2020 8:00 pm at Sat Oct 17, 2020 8:00 pm
>
> 
Animation preview has stopped working in a recent Noesis update, am I the only one?
I can play the animation manually by moving the timeline slider.

It works fine for me too, did you try to redownload a fresh Noesis copy and use the "reset all" option under "View" ?
## Post #1825
- Username: einherjar007
- Rank: mega-veteran
- Number of posts: 188
- Joined date: Sat Dec 23, 2017 2:56 pm
- Post datetime: 2020-10-24T12:56:23+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Kerilk, Joschka, thanks reply.

Yes, I checked all resets and re-downloads. To be exact, it seems that this issue has occurred since the previous version
 My PC uses an old GPU, which may be the cause.

-------------
*Edit

I investigated in more detail, but noesis v4428 plays the animation normally.
Animation does not play after v4431, and animation progresses only by manual mouse dragging on the timeline.



noesis.JPG (29.74 KiB) Viewed 201 times



-------------
*Edit

Thank for the v4438, it's problem fix! Thanks for update and fixed problem!
## Post #1826
- Username: Drawing
- Rank: mega-veteran
- Number of posts: 283
- Joined date: Thu Jan 12, 2012 5:21 am
- Post datetime: 2020-11-07T23:06:31+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

His it possible to add in noesis the possibility to decide if export fbx to version 7.4.0 or 7.7.0?
The actual fbx export version is 7.7.0 but most of users use an not updated version of 3dsm that doesn't support 7.7.0 .
## Post #1827
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2020-11-08T13:54:06+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from Drawing ↑Sun Nov 08, 2020 7:06 am at Sun Nov 08, 2020 7:06 am
>
> 
His it possible to add in noesis the possibility to decide if export fbx to version 7.4.0 or 7.7.0?...
Sure there is.
I highlighted the two options Noesis Advanced commands has for FBX in relation to FBX version exporting.



FBX_export.PNG (39.47 KiB) Viewed 167 times


Once you click that Advanced commands button on right, you will load ALL commands available internally for Noesis export.
First command will allow you to specify your desired version while second the legacy will export to old version that was available before new updated FBX.
Basically in Advanced options above you type either:

```
-fbxoldexport
```

or:

```
-fbxexportver FBX201400
-fbxexportver FBX201600
etc...
```

That way you test which ever works best suited your needs.

have fun
## Post #1828
- Username: Drawing
- Rank: mega-veteran
- Number of posts: 283
- Joined date: Thu Jan 12, 2012 5:21 am
- Post datetime: 2020-11-08T17:53:02+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

> Reply from mono24 ↑Sun Nov 08, 2020 9:54 pm at Sun Nov 08, 2020 9:54 pm
>
> 

I highlighted the two options Noesis Advanced commands has for FBX in relation to FBX version exporting...
have fun

thanks it solved the problem
## Post #1829
- Username: ReVolt
- Rank: veteran
- Number of posts: 158
- Joined date: Tue Jun 16, 2020 9:21 am
- Post datetime: 2020-11-17T16:02:25+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Help, when I try to open a large folder (such as my "twinmill" folder, my downloads) it just crashes. The file I want to accesss is in there.
## Post #1830
- Username: Kirin
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Tue Aug 01, 2017 7:12 am
- Post datetime: 2021-07-23T22:45:25+00:00
- Post Title: Re: Spotlight: Señor Casaroja's Noesis

Hi, can you help me? Noesis get an error when extracting some textures from some .xfbin files (from Naruto Ultimate Ninja Storm PC series).

```
WARNING: Unknown texture format 6.
WARNING: Unknown texture format 6.
WARNING: Unknown texture format 6.
WARNING: Unknown texture format 6.
Successfully loaded SC4 model.
```


I extracted texture files from .xfbin, in .nut format, but don't know how convert them to .dds or .png.
[samples](https://www.mediafire.com/file/txx980khnscy0um/samples.rar/file)

Also I tried to use [Naruto: Storm 4 Character Manager](https://github.com/zealottormunds/ns4charactermanager), [Smash Forge](https://github.com/jam1garner/Smash-Forge#smash-forge) and used [quickbms script](https://forum.xentax.com/viewtopic.php?p=68555&sid=be268f8ad7d5eb56d553a5ff7b5a3137#p68555) but nothing helped.

Maybe there is a way to open .nut texture in Noesis?
## Post #1831
- Username: tritterman
- Rank: veteran
- Number of posts: 88
- Joined date: Tue Aug 24, 2021 5:14 am
- Post datetime: 2022-02-19T12:41:33+00:00
- Post Title: Re: Señor Casaroja's Noesis

> Reply from Sniperello ↑Fri Jul 15, 2011 7:25 pm at Fri Jul 15, 2011 7:25 pm
>
> 
Please add to your program *BMO psp format
Here is samples files and textureshttp://www.mediafire.com/?6ocoykev276otkp

I need BMO files to be viewed in Noesis. the Files came from Shrek's Carnival Craze Party Games Everywhere.
