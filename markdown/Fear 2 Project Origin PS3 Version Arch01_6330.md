## Post #1
- Username: OrangeC
- Rank: double-veteran
- Number of posts: 868
- Joined date: Sun Apr 20, 2008 9:58 am
- Post datetime: 2011-03-31T13:56:50+00:00
- Post Title: Fear 2 Project Origin PS3 Version Arch01

The contents of this post was deleted because of possible forum rules violation.
## Post #2
- Username: aluigi
- Rank: VVIP member
- Number of posts: 1916
- Joined date: Thu Dec 08, 2005 7:26 pm
- Post datetime: 2011-04-06T12:38:56+00:00
- Post Title: Fear 2 Project Origin PS3 Version Arch01

job done, I have updated my previous script called another_day.bms (now removed) and renamed fear.bms:
[http://aluigi.org/papers/bms/fear.bms](http://aluigi.org/papers/bms/fear.bms)
## Post #3
- Username: OrangeC
- Rank: double-veteran
- Number of posts: 868
- Joined date: Sun Apr 20, 2008 9:58 am
- Post datetime: 2011-04-06T17:06:06+00:00
- Post Title: Fear 2 Project Origin PS3 Version Arch01

I get an unsupported signature "RAT" error.
## Post #4
- Username: aluigi
- Rank: VVIP member
- Number of posts: 1916
- Joined date: Thu Dec 08, 2005 7:26 pm
- Post datetime: 2011-04-06T18:32:47+00:00
- Post Title: Fear 2 Project Origin PS3 Version Arch01

script updated to version 0.3 fixing various bugs
## Post #5
- Username: OrangeC
- Rank: double-veteran
- Number of posts: 868
- Joined date: Sun Apr 20, 2008 9:58 am
- Post datetime: 2011-04-06T18:36:33+00:00
- Post Title: Fear 2 Project Origin PS3 Version Arch01

Thanks Luigi, Works now.
## Post #6
- Username: timartinelli
- Rank: mega-veteran
- Number of posts: 179
- Joined date: Thu Sep 30, 2010 4:52 pm
- Post datetime: 2011-04-06T19:17:24+00:00
- Post Title: Fear 2 Project Origin PS3 Version Arch01

a translation is possible with this script?
## Post #7
- Username: aluigi
- Rank: VVIP member
- Number of posts: 1916
- Joined date: Thu Dec 08, 2005 7:26 pm
- Post datetime: 2011-04-06T19:37:31+00:00
- Post Title: Fear 2 Project Origin PS3 Version Arch01

no because the files compressed in chunks and so the script is not valid for reimporting.
the pc version doesn't seem to use compression and so there are no problems there
## Post #8
- Username: OrangeC
- Rank: double-veteran
- Number of posts: 868
- Joined date: Sun Apr 20, 2008 9:58 am
- Post datetime: 2011-04-06T19:56:59+00:00
- Post Title: Fear 2 Project Origin PS3 Version Arch01

The contents of this post was deleted because of possible forum rules violation.
## Post #9
- Username: aluigi
- Rank: VVIP member
- Number of posts: 1916
- Joined date: Thu Dec 08, 2005 7:26 pm
- Post datetime: 2011-04-06T20:13:06+00:00
- Post Title: Fear 2 Project Origin PS3 Version Arch01

SND: no idea

BNDL: [viewtopic.php?p=39308#p39308](http://forum.xentax.com/viewtopic.php?p=39308#p39308)

GAMEDB: I can't work on it now, maybe someone else is interested in taking a look at it otherwise check if there was a solution in condemned2
## Post #10
- Username: GamerSuper
- Rank: advanced
- Number of posts: 42
- Joined date: Thu Sep 09, 2010 7:36 pm
- Post datetime: 2011-04-27T07:14:52+00:00
- Post Title: Fear 2 Project Origin PS3 Version Arch01

can we pack it back? i mean files into arch01
## Post #11
- Username: aluigi
- Rank: VVIP member
- Number of posts: 1916
- Joined date: Thu Dec 08, 2005 7:26 pm
- Post datetime: 2011-04-27T10:57:25+00:00
- Post Title: Fear 2 Project Origin PS3 Version Arch01

unfortunately the archive uses files divided in chunks (the file is not stored directly but it's divided in multiple parts) so you can't use the reimport feature of quickbms with the files that are stored compressed in the archive
## Post #12
- Username: AlphaTwentyThree
- Rank: double-veteran
- Number of posts: 982
- Joined date: Tue Aug 25, 2009 5:55 am
- Post datetime: 2012-02-24T01:49:53+00:00
- Post Title: Fear 2 Project Origin PS3 Version Arch01

The contents of this post was deleted because of possible forum rules violation.
## Post #13
- Username: aluigi
- Rank: VVIP member
- Number of posts: 1916
- Joined date: Thu Dec 08, 2005 7:26 pm
- Post datetime: 2012-02-24T02:34:20+00:00
- Post Title: Fear 2 Project Origin PS3 Version Arch01

script updated, but it's enough slow.

please use the following link to get the new script:
[http://aluigi.altervista.org/papers/bms/fear.bms](http://aluigi.altervista.org/papers/bms/fear.bms)

I will update my main website tomorrow.
## Post #14
- Username: AlphaTwentyThree
- Rank: double-veteran
- Number of posts: 982
- Joined date: Tue Aug 25, 2009 5:55 am
- Post datetime: 2012-02-24T06:50:43+00:00
- Post Title: Fear 2 Project Origin PS3 Version Arch01

Wow, fast as ever! Thanks Luigi.  And yeah it's extremely slow. Any idea why this is?
## Post #15
- Username: AlphaTwentyThree
- Rank: double-veteran
- Number of posts: 982
- Joined date: Tue Aug 25, 2009 5:55 am
- Post datetime: 2012-02-24T06:56:03+00:00
- Post Title: Fear 2 Project Origin PS3 Version Arch01

Edit: Hm, I get a memory allocation error with the very file I uploaded... :-\
## Post #16
- Username: aluigi
- Rank: VVIP member
- Number of posts: 1916
- Joined date: Thu Dec 08, 2005 7:26 pm
- Post datetime: 2012-02-24T15:14:35+00:00
- Post Title: Re: Fear 2 Project Origin PS3 Version Arch01

I'm trying to fix the slowness.
when the slowness will be solved the memory allocation problem will be removed (or at least super-reduced) too.
## Post #17
- Username: aluigi
- Rank: VVIP member
- Number of posts: 1916
- Joined date: Thu Dec 08, 2005 7:26 pm
- Post datetime: 2012-02-24T15:49:39+00:00
- Post Title: Re: Fear 2 Project Origin PS3 Version Arch01

the good news is that I have fixed the script, it was caused by the usage of SIZE instead of ZSIZE.
this problem has probably caused also some damaged files (files bigger than requested).
so now the script 0.4 is ok.

the bad news is that there is also a bug in quickbms that wastes memory and I'm going to fix it immediately.
in the meantime you can use an older version like the following:
[http://aluigi.org/papers/quickbms_0.5.4.zip](http://aluigi.org/papers/quickbms_0.5.4.zip)

let me know if now it's all ok.
## Post #18
- Username: AlphaTwentyThree
- Rank: double-veteran
- Number of posts: 982
- Joined date: Tue Aug 25, 2009 5:55 am
- Post datetime: 2012-02-24T17:48:49+00:00
- Post Title: Re: Fear 2 Project Origin PS3 Version Arch01

> Reply from aluigi
>
> the good news is that I have fixed the script, it was caused by the usage of SIZE instead of ZSIZE.
yay! thanks! 

> Reply from aluigi
>
> this problem has probably caused also some damaged files (files bigger than requested).
Yes, I've noticed this because the XMA streams weren't parsable correctly and had the start of the next track at the end.

> Reply from aluigi
>
> the bad news is that there is also a bug in quickbms that wastes memory and I'm going to fix it immediately.
in the meantime you can use an older version like the following:
http://aluigi.org/papers/quickbms_0.5.4.zip
Ok, this one seem to work perfectly. I'll get back to you as soon as I've checked the files.
Thanks so far!
## Post #19
- Username: AlphaTwentyThree
- Rank: double-veteran
- Number of posts: 982
- Joined date: Tue Aug 25, 2009 5:55 am
- Post datetime: 2012-02-24T18:20:51+00:00
- Post Title: Re: Fear 2 Project Origin PS3 Version Arch01

Checked it - looks really good! Thanks a lot for this!
## Post #20
- Username: aluigi
- Rank: VVIP member
- Number of posts: 1916
- Joined date: Thu Dec 08, 2005 7:26 pm
- Post datetime: 2012-03-02T11:18:23+00:00
- Post Title: Re: Fear 2 Project Origin PS3 Version Arch01

I have released a new version of quickbms that allows you to disable the secure allocation functions using the option -9.
obviously you don't need to use it from the command-line, just create a link to quickbms.exe and add the -9 option in the Target field of the link's properties.

the problem is that there are physical and math limitations in using a secure allocation function because:

VirtualAlloc is NOT malloc and so it doesn't manage the memory correctly, in short if it finds space it allocates otherwise bye bye (malloc instead moves the memory). and no, I can't use malloc with PAGE_GUARDs. the only way to limit this limitation is using linked lists for reusing old freed buffers
malloc(1) allocates 16kb... yeah I know it's a lot but take a look at some math:
a memory page is usually 4kb
we need a page for the linked list informations, one before the buffer (buffer underflow protection), one after it (buffer overflow) and the buffer aligned to the page size.
only the informations about the linked lists are not much necessary and I could find alternative solutions to them but after all 12kb instead of 16kb doesn't change much
the linked lists (the index) are slow to handle if there are too many entriesah right, the good news is that fear.bms is probably one of the very rare scripts that have performance problems with the secure allocation feature so don't worry.
