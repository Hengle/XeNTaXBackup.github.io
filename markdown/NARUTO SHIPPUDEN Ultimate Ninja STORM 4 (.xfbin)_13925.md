## Post #1
- Username: shadowlonely1989
- Rank: veteran
- Number of posts: 83
- Joined date: Sun Nov 30, 2014 8:49 am
- Post datetime: 2016-02-05T11:22:57+00:00
- Post Title: NARUTO SHIPPUDEN Ultimate Ninja STORM 4 (*.xfbin)

Hi everyone! This game just released. Maybe *.xfbin are compressed by new method. 

Here is example file:
[https://drive.google.com/file/d/0B44CD2 ... sp=sharing](https://drive.google.com/file/d/0B44CD2ifnn4NNkVkc1AzRGFscHM/view?usp=sharing)

Thanks for anyhelp!
## Post #2
- Username: Kristiqn54
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Fri Feb 05, 2016 8:50 pm
- Post datetime: 2016-02-05T13:13:31+00:00
- Post Title: NARUTO SHIPPUDEN Ultimate Ninja STORM 4 (*.xfbin)

the whole Patch folder and DataRegion from Launch folder are decrypted by default from unpacking the cpk
the whole other files are encrypted by something else
## Post #3
- Username: lelouch06
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Fri Feb 05, 2016 6:41 pm
- Post datetime: 2016-02-05T13:24:20+00:00
- Post Title: NARUTO SHIPPUDEN Ultimate Ninja STORM 4 (*.xfbin)

[https://github.com/esperknight/CriPakTools](https://github.com/esperknight/CriPakTools)
it's the start project for decompress xfbin , please someone we need a saviour , and if you want , i can call you jesus XD
## Post #4
- Username: shadowlonely1989
- Rank: veteran
- Number of posts: 83
- Joined date: Sun Nov 30, 2014 8:49 am
- Post datetime: 2016-02-05T23:59:28+00:00
- Post Title: NARUTO SHIPPUDEN Ultimate Ninja STORM 4 (*.xfbin)

I thinks real text stored in patch folder, messageInfo.bin with other encrypt, start with "CRILAYLA˜-" in per files.
[https://drive.google.com/file/d/0B44CD2 ... sp=sharing](https://drive.google.com/file/d/0B44CD2ifnn4NMGNJSlkyU3htQ1k/view?usp=sharing)
## Post #5
- Username: Dakilla
- Rank: n00b
- Number of posts: 15
- Joined date: Mon Aug 11, 2014 8:37 pm
- Post datetime: 2016-02-06T01:29:41+00:00
- Post Title: NARUTO SHIPPUDEN Ultimate Ninja STORM 4 (*.xfbin)

> Reply from shadowlonely1989
>
> I thinks real text stored in patch folder, messageInfo.bin with other encrypt, start with "CRILAYLA˜-" in per files.
https://drive.google.com/file/d/0B44CD2 ... sp=sharing
can you please tell me the xor key...
I'm assuming it's xor encrypted ... and also assuming it is a huge key since i managed to get part of it but not all

EDIT: I'm not sure it's an xor encryption anymore, can you please tell me how you broke the encryption so that I can test my CRILAYLA uncompress method
## Post #6
- Username: shadowlonely1989
- Rank: veteran
- Number of posts: 83
- Joined date: Sun Nov 30, 2014 8:49 am
- Post datetime: 2016-02-06T06:09:56+00:00
- Post Title: NARUTO SHIPPUDEN Ultimate Ninja STORM 4 (*.xfbin)

> Reply from Dakilla
>
> shadowlonely1989 wrote:I thinks real text stored in patch folder, messageInfo.bin with other encrypt, start with "CRILAYLA˜-" in per files.
https://drive.google.com/file/d/0B44CD2 ... sp=sharing
can you please tell me the xor key...
I'm assuming it's xor encrypted ... and also assuming it is a huge key since i managed to get part of it but not all

EDIT: I'm not sure it's an xor encryption anymore, can you please tell me how you broke the encryption so that I can test my CRILAYLA uncompress method

I don't know xor encryption key. I unpack this file from "data\patch\1\data.cpk" folder.
## Post #7
- Username: Kristiqn54
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Fri Feb 05, 2016 8:50 pm
- Post datetime: 2016-02-06T08:34:57+00:00
- Post Title: NARUTO SHIPPUDEN Ultimate Ninja STORM 4 (*.xfbin)

> Reply from Dakilla
>
> shadowlonely1989 wrote:I thinks real text stored in patch folder, messageInfo.bin with other encrypt, start with "CRILAYLA˜-" in per files.
https://drive.google.com/file/d/0B44CD2 ... sp=sharing
can you please tell me the xor key...
I'm assuming it's xor encrypted ... and also assuming it is a huge key since i managed to get part of it but not all

EDIT: I'm not sure it's an xor encryption anymore, can you please tell me how you broke the encryption so that I can test my CRILAYLA uncompress method
Well the whole Patch folder and DataRegion.cpk from Launch folder contents are decrypted after they get extracted, don't know why
## Post #8
- Username: Dakilla
- Rank: n00b
- Number of posts: 15
- Joined date: Mon Aug 11, 2014 8:37 pm
- Post datetime: 2016-02-06T11:39:30+00:00
- Post Title: NARUTO SHIPPUDEN Ultimate Ninja STORM 4 (*.xfbin)

> Reply from shadowlonely1989
>
> Dakilla wrote:shadowlonely1989 wrote:I thinks real text stored in patch folder, messageInfo.bin with other encrypt, start with "CRILAYLA˜-" in per files.
https://drive.google.com/file/d/0B44CD2 ... sp=sharing
can you please tell me the xor key...
I'm assuming it's xor encrypted ... and also assuming it is a huge key since i managed to get part of it but not all

EDIT: I'm not sure it's an xor encryption anymore, can you please tell me how you broke the encryption so that I can test my CRILAYLA uncompress method

I don't know xor encryption key. I unpack this file from "data\patch\1\data.cpk" folder.

how come?... the file you uploaded is from the "launch\data1.cpk".

The file from the patch is way bigger and no encryoted and compressed
## Post #9
- Username: lelouch06
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Fri Feb 05, 2016 6:41 pm
- Post datetime: 2016-02-06T12:02:35+00:00
- Post Title: NARUTO SHIPPUDEN Ultimate Ninja STORM 4 (*.xfbin)

I don't know xor encryption key. I unpack this file from "data\patch\1\data.cpk" folder.[/quote]

how come?... the file you uploaded is from the "launch\data1.cpk".

The file from the patch is way bigger and no encryoted and compressed[/quote]

no he come from NARUTO SHIPPUDEN Ultimate Ninja STORM 4\data\patch\1\data.cpk that's why you don't have the same size on that file
## Post #10
- Username: Kristiqn54
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Fri Feb 05, 2016 8:50 pm
- Post datetime: 2016-02-06T12:04:57+00:00
- Post Title: NARUTO SHIPPUDEN Ultimate Ninja STORM 4 (*.xfbin)

> Reply from Dakilla
>
> 
how come?... the file you uploaded is from the "launch\data1.cpk".

The file from the patch is way bigger and no encryoted and compressed
He is using CriPakTools-Master to extract the data, from patch folder data.cpk files come decrypted but in launch folder the data1.cpk extracts encrypted files
btw did you see my PM?
## Post #11
- Username: Dakilla
- Rank: n00b
- Number of posts: 15
- Joined date: Mon Aug 11, 2014 8:37 pm
- Post datetime: 2016-02-06T12:33:21+00:00
- Post Title: NARUTO SHIPPUDEN Ultimate Ninja STORM 4 (*.xfbin)

> Reply from lelouch06
>
> I don't know xor encryption key. I unpack this file from "data\patch\1\data.cpk" folder.

how come?... the file you uploaded is from the "launch\data1.cpk".

The file from the patch is way bigger and no encryoted and compressed[/quote]

no he come from NARUTO SHIPPUDEN Ultimate Ninja STORM 4\data\patch\1\data.cpk that's why you don't have the same size on that file[/quote]

ahh I see
the crypaktools unpacks the CRILAYLA, thx, this may be a very useful tip
## Post #12
- Username: Dakilla
- Rank: n00b
- Number of posts: 15
- Joined date: Mon Aug 11, 2014 8:37 pm
- Post datetime: 2016-02-06T19:22:11+00:00
- Post Title: NARUTO SHIPPUDEN Ultimate Ninja STORM 4 (*.xfbin)

I tried every idea I had to decrypt this stuff, since it does not look like I can do this on my own at all  
I'm telling you everything I know and asking for help... 

I'm almost absolutely certain this is some sort of byte for byte operation encryption, that's because every encrypted  file starts with the same exact Hexadecimals 
```
8F CF 31 40 76 41 95 D1
```
 which after decrypted with whatever substitution method  translates to 
```
43 52 49 4C 41 59 4C 41 -> CRILAYLA
```
 
At first, I thought this would be an XOR encryption and that if I could find the key then it would work...
I have 4 files in the attachments that are basically the same version of 2 files, but one encrypted and another decrypted...
XORing the 2 pairs of files, I would assume that both xor file results would at least share a resemblence and that I could find the XOR key that way but not really.

I'm attaching the files to this post so anyone can try and see if they can break the encryption and tell me how...if not, at least point me in the direction of commonly simple used encryption methods other then XOR so I can see if I can find it myself

Note : The encrypted and decrypted files aren't 100% identical but if you correctly decrypt the encrypted file, you should end with a close enough file to the decrypted I sent you (maybe 99%)
The reason for that is that the decrypted version is a copy of the encrypted one patched with a few changes (the game reads the patched files first rather then the originals)
[narutoFiles.rar](https://xentaxbackup.github.io/file/10438_narutoFiles.rar)
## Post #13
- Username: lelouch06
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Fri Feb 05, 2016 6:41 pm
- Post datetime: 2016-02-06T23:46:49+00:00
- Post Title: NARUTO SHIPPUDEN Ultimate Ninja STORM 4 (*.xfbin)

> Reply from Dakilla
>
> I tried every idea I had to decrypt this stuff, since it does not look like I can do this on my own at all  
I'm telling you everything I know and asking for help... 

I'm almost absolutely certain this is some sort of byte for byte operation encryption, that's because every encrypted  file starts with the same exact Hexadecimals Code: Select all8F CF 31 40 76 41 95 D1 which after decrypted with whatever substitution method  translates to Code: Select all43 52 49 4C 41 59 4C 41 -> CRILAYLA 
At first, I thought this would be an XOR encryption and that if I could find the key then it would work...
I have 4 files in the attachments that are basically the same version of 2 files, but one encrypted and another decrypted...
XORing the 2 pairs of files, I would assume that both xor file results would at least share a resemblence and that I could find the XOR key that way but not really.

I'm attaching the files to this post so anyone can try and see if they can break the encryption and tell me how...if not, at least point me in the direction of commonly simple used encryption methods other then XOR so I can see if I can find it myself

Note : The encrypted and decrypted files aren't 100% identical but if you correctly decrypt the encrypted file, you should end with a close enough file to the decrypted I sent you (maybe 99%)
The reason for that is that the decrypted version is a copy of the encrypted one patched with a few changes (the game reads the patched files first rather then the originals)

porbably stupied question but crilaya is the key ? and with calculate the difference between compress value and velue of crilaya you can decompile it?
## Post #14
- Username: MVEGETA
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Wed Jan 12, 2011 6:04 pm
- Post datetime: 2016-02-07T16:51:45+00:00
- Post Title: NARUTO SHIPPUDEN Ultimate Ninja STORM 4 (*.xfbin)

I'm interested in this project too.

So far, the only models I was able to extract were Boruto and Salada, probably because those specific xfbins can be decrypted using the old tools that worked for previous Storm games. But maybe the .cpk file that included them (or the .xfbin files for that matter) contains some valuable information about the new .cpk's decryption?

I'm no expert at this but I'm willing to help as much as I can, anyway I can. If anyone needs any files, I'll be more than happy to provide.
## Post #15
- Username: Shinteo
- Rank: beginner
- Number of posts: 28
- Joined date: Wed Apr 06, 2016 11:26 am
- Post datetime: 2016-04-06T03:33:54+00:00
- Post Title: NARUTO SHIPPUDEN Ultimate Ninja STORM 4 (*.xfbin)

Hi all. 

Hopefully this isn't considered thread necro. It's just that I have kinda hit a wall with this game.
I am new to the whole ripping models from game disk thing, and from google, I have managed to learn how to get to the .xfbin files part. However, I have no idea how to proceed from there. Using Noesis.exe to attempt to view the files result in failure. So I am hoping for some help.

Wouldn't ask for the extracted models, though it would be nice if someone has them lying around. I just need a guide or tutorial on how to do the extraction myself. 

Regards
Shinteo
## Post #16
- Username: Etorix
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Wed Aug 13, 2014 3:13 am
- Post datetime: 2016-07-28T21:30:33+00:00
- Post Title: Re: NARUTO SHIPPUDEN Ultimate Ninja STORM 4 (*.xfbin)

> Reply from Shinteo
>
> Hi all. 

Hopefully this isn't considered thread necro. It's just that I have kinda hit a wall with this game.
I am new to the whole ripping models from game disk thing, and from google, I have managed to learn how to get to the .xfbin files part. However, I have no idea how to proceed from there. Using Noesis.exe to attempt to view the files result in failure. So I am hoping for some help.

Wouldn't ask for the extracted models, though it would be nice if someone has them lying around. I just need a guide or tutorial on how to do the extraction myself. 

Regards
Shinteo

It would be great if anyone does have these!
## Post #17
- Username: Etorix
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Wed Aug 13, 2014 3:13 am
- Post datetime: 2016-08-27T01:18:19+00:00
- Post Title: Re: NARUTO SHIPPUDEN Ultimate Ninja STORM 4 (*.xfbin)

Edit:  Would it be possible to rip these gui from this game? The visual interface art is really beautiful! Willing to pay anyone who can do this. If so, please contact me on Skype: Vladthecommie
## Post #18
- Username: shadowlonely1989
- Rank: veteran
- Number of posts: 83
- Joined date: Sun Nov 30, 2014 8:49 am
- Post datetime: 2017-02-04T09:46:35+00:00
- Post Title: Re: NARUTO SHIPPUDEN Ultimate Ninja STORM 4 (*.xfbin)

> Seems like the files have a new decryption key. I've tried Sergio's method and normal unpacking, but it doesn't seem to work. The CPKs themselves seem to be already decrypted, the xfbins are crypted though.
>
> 
>
> Example file: http://www.mediafire.com/file/19e1u2zb9 ... .bin.xfbin

I think the files have a new decryption key.
Example file: [http://www.mediafire.com/file/19e1u2zb9 ... .bin.xfbin](http://www.mediafire.com/file/19e1u2zb9881z24/messageInfo.bin.xfbin)
## Post #19
- Username: shadowlonely1989
- Rank: veteran
- Number of posts: 83
- Joined date: Sun Nov 30, 2014 8:49 am
- Post datetime: 2017-02-11T04:35:24+00:00
- Post Title: Re: NARUTO SHIPPUDEN Ultimate Ninja STORM 4 (*.xfbin)

A part of text data (I dumped from ram memory), hope can help! Another, I can't read.
Example: [https://drive.google.com/file/d/0B6Dq8e ... sp=sharing](https://drive.google.com/file/d/0B6Dq8eBbPFXLOFlXTVZnbTV0cnM/view?usp=sharing)
## Post #20
- Username: moonpaladin
- Rank: ultra-veteran
- Number of posts: 404
- Joined date: Tue Mar 05, 2019 1:24 pm
- Post datetime: 2021-04-20T23:36:57+00:00
- Post Title: Re: NARUTO SHIPPUDEN Ultimate Ninja STORM 4 (*.xfbin)

*bump* I can't find any script to decrypt CRILAYLA encryption :/
## Post #21
- Username: exavadeathwitch
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Sun May 09, 2021 10:43 am
- Post datetime: 2021-05-09T02:46:25+00:00
- Post Title: Re: NARUTO SHIPPUDEN Ultimate Ninja STORM 4 (*.xfbin)

Oh I'm a storm modder we've had the xfbins decrypted for a while lemme send a link.
[https://youtu.be/_KzNLV2rnDE](https://youtu.be/_KzNLV2rnDE)
