## Post #1
- Username: Nonstop
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Sat Apr 23, 2016 5:52 am
- Post datetime: 2019-06-21T15:26:54+00:00
- Post Title: Fantasy Frontier Online (Aura Kingdom) New Nifs

Something seems to have changed with the recent nifs from this game.They have no game version in the header, although still has the shortened header like 20.3.1.2 files have but obviously something is different within the files.



Included a few of the new nifs, I really have no idea about this stuff so any help that can be provided would be great.

[https://www.mediafire.com/file/sainp8k8 ... s.zip/file](https://www.mediafire.com/file/sainp8k82o58b80/Nifs.zip/file)
## Post #2
- Username: moonpaladin
- Rank: ultra-veteran
- Number of posts: 404
- Joined date: Tue Mar 05, 2019 1:24 pm
- Post datetime: 2021-02-20T16:06:50+00:00
- Post Title: Fantasy Frontier Online (Aura Kingdom) New Nifs

Hello, sorry for invading your post! but here I have more examples of models that cannot be opened with noesis , I was trying to modify the file so that noesis can open it but it keeps giving me errors, I hope someone can update it, thank you very much   

[http://www.mediafire.com/file/uom0z2rfg ... 9.nif/file](http://www.mediafire.com/file/uom0z2rfga23n6q/r289.nif/file)

[http://www.mediafire.com/file/ouot1dl8b ... 9.nif/file](http://www.mediafire.com/file/ouot1dl8brsh888/r7049.nif/file)



example3.png (37.9 KiB) Viewed 262 times
## Post #3
- Username: shakotay2
- Rank: MEGAVETERAN
- Number of posts: 4300
- Joined date: Fri Apr 20, 2012 4:24 pm
- Post datetime: 2021-02-20T19:15:58+00:00
- Post Title: Fantasy Frontier Online (Aura Kingdom) New Nifs

Google is your friend, don't you know that?  

06-03-18 (!) the user jiejie12351 posted at ragezone forums "Hey guys. I found that nifskope can read nif 20.3.1.2 directly with the latest release." ([http://forum.ragezone.com/f939/read-nif ... a-1146052/](http://forum.ragezone.com/f939/read-nif-20-3-1-a-1146052/))

So what was the latest release then? Guess the exe as of 23rd of Febr. 2018 - works for this 20.3.1.2 nif:
.



r289-nif skope.png (109.19 KiB) Viewed 251 times
## Post #4
- Username: shakotay2
- Rank: MEGAVETERAN
- Number of posts: 4300
- Joined date: Fri Apr 20, 2012 4:24 pm
- Post datetime: 2021-02-20T20:19:41+00:00
- Post Title: Fantasy Frontier Online (Aura Kingdom) New Nifs

For problematic nifs hex2obj usually does a good job (if it's for the meshes only):
(first sub mesh only)
.



r7049-nif.png (41.94 KiB) Viewed 243 times
## Post #5
- Username: moonpaladin
- Rank: ultra-veteran
- Number of posts: 404
- Joined date: Tue Mar 05, 2019 1:24 pm
- Post datetime: 2021-02-21T17:14:26+00:00
- Post Title: Fantasy Frontier Online (Aura Kingdom) New Nifs

Thanks Shakotay! Yeah I used the latest NifSkope (NifSkope_2_0_2020-07-09-x64) and it didnt work , I'm gonna take the 2017 version! thanks again Shakotay!
## Post #6
- Username: wansf
- Rank: veteran
- Number of posts: 99
- Joined date: Sun Mar 11, 2018 5:56 pm
- Post datetime: 2021-02-22T09:45:46+00:00
- Post Title: Fantasy Frontier Online (Aura Kingdom) New Nifs

are you going to update the noesis script?
## Post #7
- Username: moonpaladin
- Rank: ultra-veteran
- Number of posts: 404
- Joined date: Tue Mar 05, 2019 1:24 pm
- Post datetime: 2021-04-04T05:14:57+00:00
- Post Title: Fantasy Frontier Online (Aura Kingdom) New Nifs

> Reply from shakotay2 ↑Sun Feb 21, 2021 4:19 am at Sun Feb 21, 2021 4:19 am
>
> 
For problematic nifs hex2obj usually does a good job (if it's for the meshes only):
(first sub mesh only)
.
r7049-nif.png

eyy! Shakotay what should be the values for the UVs? I'm using 1F67E for star address but it fails, gonna be checking how to get those values for uvs, I'm not much familiar with those but if you can share your values for uvs will be cool and helpfull. thanks
## Post #8
- Username: shakotay2
- Rank: MEGAVETERAN
- Number of posts: 4300
- Joined date: Fri Apr 20, 2012 4:24 pm
- Post datetime: 2021-04-04T08:34:44+00:00
- Post Title: Fantasy Frontier Online (Aura Kingdom) New Nifs

> Reply from moonpaladin ↑Sun Apr 04, 2021 1:14 pm at Sun Apr 04, 2021 1:14 pm
>
> I'm using 1F67E for star address but it fails,Didn't care for uvs but what is the logic behind using (0x)1F67E?
Scrolling down in the file after that FF.. block there's only ONE possible address for me. Much to learn you have... use the source!  
.



r7049-nif-uvs.png (58.43 KiB) Viewed 182 times
## Post #9
- Username: moonpaladin
- Rank: ultra-veteran
- Number of posts: 404
- Joined date: Tue Mar 05, 2019 1:24 pm
- Post datetime: 2021-04-04T15:35:16+00:00
- Post Title: Fantasy Frontier Online (Aura Kingdom) New Nifs

> Reply from shakotay2 ↑Sun Apr 04, 2021 4:34 pm at Sun Apr 04, 2021 4:34 pm
>
> 
moonpaladin wrote: ↑Sun Apr 04, 2021 1:14 pmI'm using 1F67E for star address but it fails,Didn't care for uvs but what is the logic behind using (0x)1F67E?
Scrolling down in the file after that FF.. block there's only ONE possible address for me. Much to learn you have... use the source!  
.
r7049-nif-uvs.png

hahaha Yeah I'm still learning! thanks Shakotay
## Post #10
- Username: moonpaladin
- Rank: ultra-veteran
- Number of posts: 404
- Joined date: Tue Mar 05, 2019 1:24 pm
- Post datetime: 2021-04-07T07:40:18+00:00
- Post Title: Fantasy Frontier Online (Aura Kingdom) New Nifs

> Scrolling down in the file after that FF.. block there's only ONE possible address for me. Much to learn you have... use the source!

Hello Shakotay! I was practicing with the other version of the nif and I have been able to get the mesh values, but it is still difficult for me to find the exact values of the UV block, what would be the value of the FVF size of the nif 289? . I tried with 1E168 and 40F09 values but both are incorrect :/.



nif289test.png (65.71 KiB) Viewed 155 times
## Post #11
- Username: shakotay2
- Rank: MEGAVETERAN
- Number of posts: 4300
- Joined date: Fri Apr 20, 2012 4:24 pm
- Post datetime: 2021-04-07T10:20:12+00:00
- Post Title: Fantasy Frontier Online (Aura Kingdom) New Nifs

> Reply from moonpaladin ↑Wed Apr 07, 2021 3:40 pm at Wed Apr 07, 2021 3:40 pm
>
> but it is still difficult for me to find the exact values of the UV block, what would be the value of the FVF size of the nif 289?dunno what you mean, it's 12, as used by you. Or speaking of "size UVB" (size of UV block)?

> Reply from moonpaladin ↑Wed Apr 07, 2021 3:40 pm at Wed Apr 07, 2021 3:40 pm
>
> 
I tried with 1E168there's floats, not half floats, you won't get far as long as you don't get the difference

Also learn to find blocks, it's a little bit nasty here because they inserted a zero bytes, or 3 bytes at 0x42AFA, 0x4EB44 for example.
blocks:
0x40f0a, 596 vertices
0x42afd - 446ed normals
0x446fe - 462ee whatever

0x46c4b some FI block

(That's very time consuming and I don't have the time to check for uvs here, sry.)

update:
.



r289-nif-uvs.png (62.76 KiB) Viewed 121 times
## Post #12
- Username: moonpaladin
- Rank: ultra-veteran
- Number of posts: 404
- Joined date: Tue Mar 05, 2019 1:24 pm
- Post datetime: 2021-04-07T15:21:26+00:00
- Post Title: Fantasy Frontier Online (Aura Kingdom) New Nifs

> Also learn to find blocks, it's a little bit nasty here because they inserted a zero bytes, or 3 bytes at 0x42AFA, 0x4EB44 for example.
>
> blocks:
>
> 0x40f0a, 596 vertices
>
> 0x42afd - 446ed normals
>
> 0x446fe - 462ee whatever
>
> 
>
> 0x46c4b some FI block
>
> 
>
> (That's very time consuming and I don't have the time to check for uvs here, sry.)
xD! Yeah I identified those but still trying to figure how to identify which block correspond to the uv. thanks
## Post #13
- Username: moonpaladin
- Rank: ultra-veteran
- Number of posts: 404
- Joined date: Tue Mar 05, 2019 1:24 pm
- Post datetime: 2021-04-08T05:02:11+00:00
- Post Title: Fantasy Frontier Online (Aura Kingdom) New Nifs

> r7049-nif-uvs.png
Shakotay I was able to find the UVB start of another .nif similar to the "alpaca mount", how can I save the mesh with its UVs? I don't know why I am getting an error when I try to open the exported .obj. And now I have tried with the .nif 7049 and the same thing happens. I am practicing to identify blocks as you said, but I have a doubt about the value "8" and "4", how is it calculated or how do I know what value has to go there? I know the 99 is because the UVB is separate from the mesh block, but the other two values are still not quite clear to me. Thank you!
[https://www.mediafire.com/file/sxqq2ryi ... 7.nif/file](https://www.mediafire.com/file/sxqq2ryiwl6pcrq/r7037.nif/file)



test18.png (63.25 KiB) Viewed 135 times


FVF SIZE SHOULD BE 6!
## Post #14
- Username: moonpaladin
- Rank: ultra-veteran
- Number of posts: 404
- Joined date: Tue Mar 05, 2019 1:24 pm
- Post datetime: 2021-04-08T05:06:45+00:00
- Post Title: Fantasy Frontier Online (Aura Kingdom) New Nifs

Lol, what a retard xD, is not 8, should be  6! well but how to calculate those values
## Post #15
- Username: shakotay2
- Rank: MEGAVETERAN
- Number of posts: 4300
- Joined date: Fri Apr 20, 2012 4:24 pm
- Post datetime: 2021-04-08T08:30:03+00:00
- Post Title: Fantasy Frontier Online (Aura Kingdom) New Nifs

r7037-nif-uvs.png (58.78 KiB) Viewed 125 times


.
0x5F2E is the start of a new block/a signature part, whatever - simple to see with some experience (0x5F3B: start of face index block).

4 is length of two half float uvs, so start address of uvs' block is
0x5F2E - 1735x4 (hex.)= 0x4412

(This calculation is different for nif r289, see my updated previous post above.)

btw: you should change the FVFsize from 8 to 6 in your previous picture to not confuse people.
And toggle the "seq" button to "VB".

Seems you're gaining experience! Cool.
## Post #16
- Username: moonpaladin
- Rank: ultra-veteran
- Number of posts: 404
- Joined date: Tue Mar 05, 2019 1:24 pm
- Post datetime: 2021-04-08T15:08:10+00:00
- Post Title: Re: Fantasy Frontier Online (Aura Kingdom) New Nifs

> Reply from shakotay2 ↑Thu Apr 08, 2021 4:30 pm at Thu Apr 08, 2021 4:30 pm
>
> 
r7037-nif-uvs.png
0x5F2E is the start of a new block/a signature part, whatever - simple to see with some experience (0x5F3B: start of face index block).

4 is length of two half float uvs, so start address of uvs' block is
0x5F2E - 1735x4 (hex.)= 0x4412

(This calculation is different for nif r289, see my updated previous post above.)

Seems you're gaining experience! Cool.

Thanks!! Yeah I still need to practice alot, at least vertices and faces are become more easy to see! by the way why in one model FVFsize is 6 and in another is 12, how would I know in what model is what value?   

> btw: you should change the FVFsize from 8 to 6 in your previous picture to not confuse people.
>
> And toggle the "seq" button to "VB".

Yeah! I just add a comment haha
## Post #17
- Username: moonpaladin
- Rank: ultra-veteran
- Number of posts: 404
- Joined date: Tue Mar 05, 2019 1:24 pm
- Post datetime: 2021-04-08T15:18:10+00:00
- Post Title: Re: Fantasy Frontier Online (Aura Kingdom) New Nifs

> r289-nif-uvs.png

Shakotay!!! I was using that value too! but my error was that I was using the value 4! in the size of UVB! fuu much to learn as you say!
## Post #18
- Username: shakotay2
- Rank: MEGAVETERAN
- Number of posts: 4300
- Joined date: Fri Apr 20, 2012 4:24 pm
- Post datetime: 2021-04-08T17:11:01+00:00
- Post Title: Re: Fantasy Frontier Online (Aura Kingdom) New Nifs

> Reply from moonpaladin ↑Thu Apr 08, 2021 11:08 pm at Thu Apr 08, 2021 11:08 pm
>
> by the way why in one model FVFsize is 6 and in another is 12, how would I know in what model is what value?Half floats, 2 bytes, so 3 x2= 6. Floats, 4 bytes, so 3 x4=12.

Find the floats (learn to recognize them, read the tutorial, "tut" button in hex2obj).
If there are no floats then try half floats, no too hard to find them with some experience.

Hardest part is for shorts (word), u usually start with the face indices then identify the blocks. Trial and error.
(Takes 100s of formats 'til you'll understand what's going on.)
## Post #19
- Username: moonpaladin
- Rank: ultra-veteran
- Number of posts: 404
- Joined date: Tue Mar 05, 2019 1:24 pm
- Post datetime: 2021-04-08T17:20:03+00:00
- Post Title: Re: Fantasy Frontier Online (Aura Kingdom) New Nifs

> Reply from shakotay2 ↑Fri Apr 09, 2021 1:11 am at Fri Apr 09, 2021 1:11 am
>
> 
moonpaladin wrote: ↑Thu Apr 08, 2021 11:08 pmby the way why in one model FVFsize is 6 and in another is 12, how would I know in what model is what value?   Half floats, 2 bytes, so 3 x2= 6. Floats, 4 bytes, so 3 x4=12.

Find the floats (learn to recognize them, read the tutorial, "tut" button in hex2obj).
If there are no floats then try half floats, no too hard to find them with some experience.

Hardest part is for shorts (word), u usually start with the face indices then identify the blocks. Trial and error.
(Takes 100s of formats 'til you'll understand what's going on.)

Thanks! Yeah I'm checking the tutorial, and others tutorials in here to learn more about it.
