## Post #1
- Username: Dandapani
- Rank: advanced
- Number of posts: 55
- Joined date: Tue Jul 03, 2007 12:11 am
- Post datetime: 2007-07-03T16:22:53+00:00
- Post Title: Harry Potter and the Order of Phoenix

Anyone crack this one for audio, movie, and other sounds?

One big .MUS file, audio/music/hog_music_stream.mus

Filedmp of the beginning:

0000  3dfcc42c  00000000  00000000  00000000  *=..,............*
0010  00000000  00000000  00000000  00000000  *................*
....
0100  5343486c  28000000  47535452  01000001  *SCHl(...GSTR....*
0110  060165fd  80010385  03018fda  820102a0  *..e.............*
0120  01178402  7d00ff00  5343436c  0c000000  *....}...SCCl....*
0130  00000010  5343446c  90120000  000016af  *....SCDl........*
0140  00000000  174bfe94  00e65324  4d840f33  *.....K....S$M..3*
...

There's no file that describes this big sound file.

Movies in movies/neutral:


attract.vp6               lw_loadgame.vp6         occ_belltrix_kill.vp6     reward_08.vp6
authentic_characters.vp6  lw_n01_f.vp6            occ_cho_kiss.vp6          reward_09.vp6
authentic_hogwarts.vp6    lw_newgame.vp6          occ_courtyard_swamp.vp6   reward_10.vp6
bad_boys.vp6              main_menu_newgame.vp6   occ_dada.vp6              reward_11.vp6
dh02_cs01_go_to_dada.vp6  mom01.vp6               occ_friends.vp6           reward_12.vp6
dh03.vp6                  mom01_cs01.vp6          occ_goodbye_sirius.vp6    reward_13.vp6
dh04.vp6                  mom03.vp6               occ_grawp.vp6             reward_14.vp6
dh04_cs03.vp6             mom4.vp6                occ_hogsmead.vp6          rr01.vp6
dl03.vp6                  mom_02_cs02_shotc.vp6   occ_prophecy.vp6          rr26.vp6
dl03_cs01.vp6             newgame_2_mainmenu.vp6  occ_sirius_blasted.vp6    soundofhog.vp6
gp01.vp6                  newgame_2_options.vp6   occ_umbridge_cho_ror.vp6  the_da.vp6
gp04.vp6                  oc01.vp6                options_2_newgame.vp6     uh11.vp6
gp05.vp6                  oc01_cs01.vp6           packshot_2_mainmenu.vp6   uh13.vp6
harrys_friends.vp6        occ_arthur_biten.vp6    reward_07.vp6


Filedmp of the beginning of attract.vp6

0000  4d566864  20000000  76703630  00020002  *MVhd ...vp60....*
0010  f3090000  9c130100  1ffc0e00  ff7f0000  *................*
0020  4d56304b  50000000  79380015  20202020  *MV0KP...y8..    *
0030  1fffe006  40000000  9cf20000  00feffc4  *....@...........*
0040  59ffed92  7fdaee00  00000000  00000000  *Y...............*
0050  00000000  00000000  00000000  00000000  *................*

Vp6 seems to be a new codec but is usually found inside a Flash file. I found a Vp6 code player for Mplayer but it doesn't like these files.


Also some ".big" files:

data.big  data2.big  data3.big  data4.big  movies.big  music.big

But the usual BIG extractors don't like them.

Filedmp of beginning of music.big (and it is big! 140753536 bytes)

0000  42494746  80ba6308  00000001  00000041  *BIGF..c........A*
0010  00008000  08633a80  61756469  6f2f6d75  *.....c:.audio/mu*
0020  7369632f  686f675f  6d757369  635f7374  *sic/hog_music_st*
0030  7265616d  2e6d7573  004c3233  34000000  *ream.mus.L234...*
0040  00000000  00000000  00000000  00000000  *................*
....
8000  3dfcc42c  00000000  00000000  00000000  *=..,............*
8010  00000000  00000000  00000000  00000000  *................*
....
8100  5343486c  28000000  47535452  01000001  *SCHl(...GSTR....*
8110  060165fd  80010385  03018fda  820102a0  *..e.............*
8120  01178402  7d00ff00  5343436c  0c000000  *....}...SCCl....*
8130  00000010  5343446c  90120000  000016af  *....SCDl........*
8140  00000000  174bfe94  00e65324  4d840f33  *.....K....S$M..3*


Any help, pointers, links would be much appreciated.  I can post file fragments on request (on Thursday).

TIA!
## Post #2
- Username: Savage
- Rank: VIP member
- Number of posts: 559
- Joined date: Sun Apr 17, 2005 6:00 pm
- Post datetime: 2007-07-03T18:36:39+00:00
- Post Title: Harry Potter and the Order of Phoenix

Have a look here:
[viewtopic.php?t=2041](http://forum.xentax.com/viewtopic.php?t=2041)
and 
[viewtopic.php?t=1932](http://forum.xentax.com/viewtopic.php?t=1932)
## Post #3
- Username: Dandapani
- Rank: advanced
- Number of posts: 55
- Joined date: Tue Jul 03, 2007 12:11 am
- Post datetime: 2007-07-03T18:57:43+00:00
- Post Title: Harry Potter and the Order of Phoenix

> Reply from Savage
>
> Have a look here:
viewtopic.php?t=2041
and 
viewtopic.php?t=1932

Ya, I saw those.  I was hoping for a more turn key solution.

BTW: I posted in the second thread.  Your "converter" link is stale. Can you repost it? Thanks!
## Post #4
- Username: Savage
- Rank: VIP member
- Number of posts: 559
- Joined date: Sun Apr 17, 2005 6:00 pm
- Post datetime: 2007-07-04T13:33:20+00:00
- Post Title: Harry Potter and the Order of Phoenix

Take care with the sounds of this game, some audios have text inside, so if you reconvert to wav the data will lost

[http://sg.redsys.ru/files/audio/SoundEx ... 01_GUI.rar](http://sg.redsys.ru/files/audio/SoundExchange30101_GUI.rar)
and  the console version: [http://sg.redsys.ru/files/audio/SoundExchange30101.rar](http://sg.redsys.ru/files/audio/SoundExchange30101.rar)
## Post #5
- Username: Dandapani
- Rank: advanced
- Number of posts: 55
- Joined date: Tue Jul 03, 2007 12:11 am
- Post datetime: 2007-07-04T18:20:10+00:00
- Post Title: Harry Potter and the Order of Phoenix

> Reply from Savage
>
> Take care with the sounds of this game, some audios have text inside, so if you reconvert to wav the data will lost

http://sg.redsys.ru/files/audio/SoundEx ... 01_GUI.rar
and  the console version: http://sg.redsys.ru/files/audio/SoundExchange30101.rar

Thanks. I'll give this a try at work tomorrow.  Today is a holiday.
## Post #6
- Username: Dandapani
- Rank: advanced
- Number of posts: 55
- Joined date: Tue Jul 03, 2007 12:11 am
- Post datetime: 2007-07-05T11:51:22+00:00
- Post Title: Harry Potter and the Order of Phoenix

> Reply from Dandapani
>
> Savage wrote:Take care with the sounds of this game, some audios have text inside, so if you reconvert to wav the data will lost

http://sg.redsys.ru/files/audio/SoundEx ... 01_GUI.rar
and  the console version: http://sg.redsys.ru/files/audio/SoundExchange30101.rar 

Thanks. I'll give this a try at work tomorrow.  Today is a holiday.

No happiness.  I fed the "gui" tool the *.mus file and nothing was created in the output directory/file.  I also feed it the music.big file and same result.  I'm sorry to be so dense, but these tools are supposed to do what, again?  Thanks for your interest and help!
## Post #7
- Username: Savage
- Rank: VIP member
- Number of posts: 559
- Joined date: Sun Apr 17, 2005 6:00 pm
- Post datetime: 2007-07-05T17:19:50+00:00
- Post Title: Harry Potter and the Order of Phoenix

The .big it's like a .tar file a packer (not a compressor), contains multiples files, you must extract them and reconvert to wav with the sx tool

How?
I recommend read again the posts
## Post #8
- Username: Dandapani
- Rank: advanced
- Number of posts: 55
- Joined date: Tue Jul 03, 2007 12:11 am
- Post datetime: 2007-07-05T19:51:51+00:00
- Post Title: Harry Potter and the Order of Phoenix

> Reply from Savage
>
> The .big it's like a .tar file a packer (not a compressor), contains multiples files, you must extract them and reconvert to wav with the sx tool

How?
I recommend read again the posts

The Game Extractor (latest, full version) doesn't unpack the BIG file.  Must be a new format.

So, the second post, with the details of the inside of these packs, provides the information for me to write my own unpacker.  Is this my only choice?  Write my own?

Or is there something I'm missing from the two threads you posted.  

Any other suggestions?
## Post #9
- Username: Savage
- Rank: VIP member
- Number of posts: 559
- Joined date: Sun Apr 17, 2005 6:00 pm
- Post datetime: 2007-07-06T09:23:57+00:00
- Post Title: Harry Potter and the Order of Phoenix

Normally .BIG files from Electronic Arts it's a pack of files, if Game extractor can't unpack try the latest extractor from the CnC Tiberium Wars.

[http://www.ppmsite.com/downloads/BIGEditorBeta05.zip](http://www.ppmsite.com/downloads/BIGEditorBeta05.zip)

If still cannot unpack/extract the MUSIC, use the program EXTRACTOR from Novasoftware

[http://www.volny.cz/nova-software/](http://www.volny.cz/nova-software/)

About how reconvert the .mus to wav and viceversa:
[viewtopic.php?p=15542#15542](http://forum.xentax.com/viewtopic.php?p=15542#15542)
## Post #10
- Username: Dandapani
- Rank: advanced
- Number of posts: 55
- Joined date: Tue Jul 03, 2007 12:11 am
- Post datetime: 2007-07-06T13:04:42+00:00
- Post Title: Harry Potter and the Order of Phoenix

> Reply from Savage
>
> Normally .BIG files from Electronic Arts it's a pack of files, if Game extractor can't unpack try the latest extractor from the CnC Tiberium Wars.

http://www.ppmsite.com/downloads/BIGEditorBeta05.zip

If still cannot unpack/extract the MUSIC, use the program EXTRACTOR from Novasoftware

http://www.volny.cz/nova-software/

About how reconvert the .mus to wav and viceversa:
viewtopic.php?p=15542#15542

Neither extractor would pull the SCHl sections out of the big MUS file, so I wrote a simple minded extractor that created a bunch of ASF files from the MUS file segments and then converted them one at a time with a batch script into seperate WAV files using your SX tool.  They play wonderfully one after another inside of WINAMP and appear to be "in order" so not having a LIN or MAP file is not much of a problem.  

There are a few weird things like repeated music segments in successive files where the music sequence repeats over tens of files.  For my purposes, it doesn't matter as long as I have sound samples, if they repeat, no big deal.

I'm going to use wavmerge to piece all these little files together into one large WAV file.

Thanks for all your help and nudges to move me in the right direction.

I can post the source of my simple minded splitter if there is interest. It is a C++ program that compiles and runs under CYGWIN PC environment so the .exe wouldn't be much help to anyone without the CYGWIN environment ([http://www.cygwin.com](http://www.cygwin.com)).
## Post #11
- Username: Mr.Mouse
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2007-07-06T13:17:43+00:00
- Post Title: Harry Potter and the Order of Phoenix

[http://www.xentax.com](http://www.xentax.com) --> script for C&C is already old
## Post #12
- Username: Dandapani
- Rank: advanced
- Number of posts: 55
- Joined date: Tue Jul 03, 2007 12:11 am
- Post datetime: 2007-07-06T14:15:11+00:00
- Post Title: Harry Potter and the Order of Phoenix

> Reply from Mr.Mouse
>
> http://www.xentax.com --> script for C&C is already old

At work I sit behind an IE5.0 type firewall/proxy that requires login and password.  Does the WIKI mode (online) support this type of proxy?  Most tools don't.   Cygwin does, wget does, Eclipse IDE doesn't, for example.
## Post #13
- Username: Mr.Mouse
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2007-07-06T14:22:08+00:00
- Post Title: Harry Potter and the Order of Phoenix

If it doesn't work, you can always paste the script found at the wiki in a text document and run that on a file from the Run MexScript On.. option.
## Post #14
- Username: Dandapani
- Rank: advanced
- Number of posts: 55
- Joined date: Tue Jul 03, 2007 12:11 am
- Post datetime: 2007-07-06T14:43:53+00:00
- Post Title: Harry Potter and the Order of Phoenix

> Reply from Mr.Mouse
>
> If it doesn't work, you can always paste the script found at the wiki in a text document and run that on a file from the Run MexScript On.. option.

Oops.  Gotta register...
## Post #15
- Username: Dandapani
- Rank: advanced
- Number of posts: 55
- Joined date: Tue Jul 03, 2007 12:11 am
- Post datetime: 2007-07-06T15:35:55+00:00
- Post Title: Harry Potter and the Order of Phoenix

Ok, from what I can see is that EA used the BIG files to package their files and THEY extracted the music and videos into the .MUS and the many .VP6 files, so I don't need to unpack the BIG files.

Now I have the "music" as stated above, but what's I would like is to extract the audio from all the .VP6 files.  Any clue how to decipher these?
## Post #16
- Username: Mr.Mouse
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2007-07-06T18:29:03+00:00
- Post Title: 

Is there an example of such a file ?
## Post #17
- Username: Dandapani
- Rank: advanced
- Number of posts: 55
- Joined date: Tue Jul 03, 2007 12:11 am
- Post datetime: 2007-07-06T18:42:40+00:00
- Post Title: 

> Reply from Mr.Mouse
>
> Is there an example of such a file ?
[http://bigfilehost.com/en/file/218/uh13-vp6.html](http://bigfilehost.com/en/file/218/uh13-vp6.html)
## Post #18
- Username: Mr.Mouse
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2007-07-07T21:17:52+00:00
- Post Title: 

```
GoTo EOF 0 ;
SavePos END 0 ;
GoTo S 0 ;
Set FN String "file" ;
Set EXT String ".bin" ;
Set Count Long 0 ;
Do ;
SavePos FOff 0 ;
Get MW Long 0 ;
Get FSize Long 0 ;
Set FName String FN ;
String FName += Count ;
String FName += EXT ;
Log FName FOff FSize 0 0 ;
Math Count += 1 ;
Math FOff += FSize ;
GoTo FOff 0 ;
While FOff < END ;

```


That MexScript will at least extract all the files in the .vp6 file, and I see that there are a number of tags to each one. The first two are at the beginning of the vp6 file. 

MVhd : header
MV0K: I don't know yet
MV0F: an actual file I think, as all the other files seem to have this tag.

[EDIT]
A bit of snooping around: 
[http://wiki.multimedia.cx/index.php?tit ... c_Arts_VP6](http://wiki.multimedia.cx/index.php?title=Electronic_Arts_VP6)

So with the script above you will extract frames!

Also check out [http://samples.mplayerhq.hu/V-codecs/VP6/](http://samples.mplayerhq.hu/V-codecs/VP6/)
## Post #19
- Username: Savage
- Rank: VIP member
- Number of posts: 559
- Joined date: Sun Apr 17, 2005 6:00 pm
- Post datetime: 2007-07-08T01:44:15+00:00
- Post Title: 

In the wiki i see info about Electronic Arts audio format in the GSTR:

> Default Audio Format
>
> 
>
>     * 16 bits
>
>     * Mono
>
>     * 48000 kHz
>
>     * XA compression
Normally this audio is not mono, it's multichannel 5.1, in minds 6 waves (multiwave, like dts or ac3), when you play with winamp or similar the program say it's mono

Well, this is my experience in some Electronic Arts Audio format, i found this "mono" files in Fifa, Need for speed, etc...
Of course you can recode to stereo (2.0) and save some space
## Post #20
- Username: Dandapani
- Rank: advanced
- Number of posts: 55
- Joined date: Tue Jul 03, 2007 12:11 am
- Post datetime: 2007-07-09T12:50:52+00:00
- Post Title: 

> Reply from Mr.Mouse
>
> Code: Select allSavePos S 0 ;
GoTo EOF 0 ;
SavePos END 0 ;
GoTo S 0 ;
Set FN String "file" ;
Set EXT String ".bin" ;
Set Count Long 0 ;
Do ;
SavePos FOff 0 ;
Get MW Long 0 ;
Get FSize Long 0 ;
Set FName String FN ;
String FName += Count ;
String FName += EXT ;
Log FName FOff FSize 0 0 ;
Math Count += 1 ;
Math FOff += FSize ;
GoTo FOff 0 ;
While FOff < END ;


That MexScript will at least extract all the files in the .vp6 file, and I see that there are a number of tags to each one. The first two are at the beginning of the vp6 file.

Ok, thanks. Let me get my boss to provide you with a "donation" so I can run your script...
## Post #21
- Username: Dandapani
- Rank: advanced
- Number of posts: 55
- Joined date: Tue Jul 03, 2007 12:11 am
- Post datetime: 2007-07-09T18:16:05+00:00
- Post Title: 

> Reply from Dandapani
>
> 
Ok, thanks. Let me get my boss to provide you with a "donation" so I can run your script...

Ok, we are now "friends".  I ran your script and extracted the frames.  Not much more that I can do with it.

All the wikis above talk about video. How is the audio encoded? I need the audio that may be contained within the VP6 file.
## Post #22
- Username: Dandapani
- Rank: advanced
- Number of posts: 55
- Joined date: Tue Jul 03, 2007 12:11 am
- Post datetime: 2007-07-10T13:24:57+00:00
- Post Title: 

> Reply from Dandapani
>
> 
Neither extractor would pull the SCHl sections out of the big MUS file, so I wrote a simple minded extractor that created a bunch of ASF files from the MUS file segments ...

Source: [http://www.xentax.com/uploads/author/dandapani/schl.cpp](http://www.xentax.com/uploads/author/dandapani/schl.cpp)
## Post #23
- Username: Mr.Mouse
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2007-07-10T13:30:25+00:00
- Post Title: 

> Reply from Dandapani
>
> Ok, we are now "friends".  I ran your script and extracted the frames.  Not much more that I can do with it.

All the wikis above talk about video. How is the audio encoded? I need the audio that may be contained within the VP6 file.

Hiya, Friend 

Well, is it contained in there? if have not found any reference to audio in the VP6 files either.
## Post #24
- Username: Dandapani
- Rank: advanced
- Number of posts: 55
- Joined date: Tue Jul 03, 2007 12:11 am
- Post datetime: 2007-07-10T13:55:34+00:00
- Post Title: 

> Reply from Mr.Mouse
>
> 

Hiya, Friend 

Well, is it contained in there? if have not found any reference to audio in the VP6 files either.

Dunno. Can't seem to "play" these vp6 files even with the ON2 VP6 codec installed.  I suspect something EA tweaked these files in a way only their "player" embedded in the game can use them.

Guess I'll have to play the game to see what I'm missing.
## Post #25
- Username: Dandapani
- Rank: advanced
- Number of posts: 55
- Joined date: Tue Jul 03, 2007 12:11 am
- Post datetime: 2007-07-11T19:25:54+00:00
- Post Title: 

> Reply from Dandapani
>
> Mr.Mouse wrote:

Hiya, Friend 

Well, is it contained in there? if have not found any reference to audio in the VP6 files either.

Dunno. Can't seem to "play" these vp6 files even with the ON2 VP6 codec installed.  I suspect something EA tweaked these files in a way only their "player" embedded in the game can use them.

Just to tie up this loose end. See: [viewtopic.php?t=2676&highlight=](http://forum.xentax.com/viewtopic.php?t=2676&highlight=)

Can convert the VP6 to AVI using the tool in that thread.  No audio, but movie plays in WMP fine.
## Post #26
- Username: Savage
- Rank: VIP member
- Number of posts: 559
- Joined date: Sun Apr 17, 2005 6:00 pm
- Post datetime: 2007-07-12T22:06:40+00:00
- Post Title: 

To convert the audio of the video use the tool Sound eXchanger, you have the link above
## Post #27
- Username: Mr.Mouse
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2007-07-13T06:54:37+00:00
- Post Title: 

That won't work, as there's no audio in the vp6 file?! You can't use soundxchanger on the vp6 file.
## Post #28
- Username: Dandapani
- Rank: advanced
- Number of posts: 55
- Joined date: Tue Jul 03, 2007 12:11 am
- Post datetime: 2007-07-13T11:53:29+00:00
- Post Title: 

> Reply from Mr.Mouse
>
> That won't work, as there's no audio in the vp6 file?! You can't use soundxchanger on the vp6 file.

So it seems to me also.  I think these are just raw (vp6) video clips. The audio must be contained in other files.
## Post #29
- Username: Savage
- Rank: VIP member
- Number of posts: 559
- Joined date: Sun Apr 17, 2005 6:00 pm
- Post datetime: 2007-07-13T14:12:47+00:00
- Post Title: 

Normally i found Electronic Arts it's using two methods in the VP6 files:

1-VP6 video (codec) and own muxer with audio SCHL, nomrally it's with GSTR parameter
2-.VP6 video (codec) and own muxer without audio, and the audio it's a external file like, mp3, exa, etc..

Them normally use two alg's for the audio:
-mp3 and/or sx (schl)

So..if the VP6 don't have audio try to search the audio file in schl format or mp3
## Post #30
- Username: Dandapani
- Rank: advanced
- Number of posts: 55
- Joined date: Tue Jul 03, 2007 12:11 am
- Post datetime: 2007-07-13T17:56:28+00:00
- Post Title: 

> Reply from Savage
>
> Normally i found Electronic Arts it's using two methods in the VP6 files:

1-VP6 video (codec) and own muxer with audio SCHL, nomrally it's with GSTR parameter
2-.VP6 video (codec) and own muxer without audio, and the audio it's a external file like, mp3, exa, etc..

Them normally use two alg's for the audio:
-mp3 and/or sx (schl)

So..if the VP6 don't have audio try to search the audio file in schl format or mp3

Savage is correct here. Some VP6 have embedded sound.  I used the NFSMW tool to convert the NFSMW VP6 to AVI and those videos have sound. The HP VP6 files do not.  The vendor must have them in an external file.
## Post #31
- Username: OpenSpace
- Rank: n00b
- Number of posts: 18
- Joined date: Tue Jun 10, 2008 1:31 am
- Post datetime: 2008-06-10T12:43:43+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

EA likes to make ppl's live living hell :p

there is single .mus file (134 MB), guess all speeches and music is in there
sorted by some sequence like in Goblet Of Fire game.

but no program out there can even open it.
EA converter tool only works for HP-GOF (fully) and can convert VP6
videos from HP-OotP but with music it has problems...

still if anyone found solution how to open/play .mus from OotP pls reply here :p


cheers (sorry for bump)
## Post #32
- Username: Savage
- Rank: VIP member
- Number of posts: 559
- Joined date: Sun Apr 17, 2005 6:00 pm
- Post datetime: 2008-06-21T12:30:28+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

It's possible to attach the music? i know it's more than 100mb's, but you can upload to filefactory.com (300mb's attachment allowed)
## Post #33
- Username: OpenSpace
- Rank: n00b
- Number of posts: 18
- Joined date: Tue Jun 10, 2008 1:31 am
- Post datetime: 2008-06-22T21:09:16+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

The contents of this post was deleted because of possible forum rules violation.
## Post #34
- Username: OpenSpace
- Rank: n00b
- Number of posts: 18
- Joined date: Tue Jun 10, 2008 1:31 am
- Post datetime: 2008-11-27T00:52:01+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

*bumps and humble asks has anyone tried something*   

music is beautiful from orchestra... would be sad if nobody with great knowledge
of audio file hacking wouldnt try anything *cries*
## Post #35
- Username: asmxtx
- Rank: veteran
- Number of posts: 127
- Joined date: Mon Jun 09, 2008 5:32 am
- Post datetime: 2008-11-27T01:25:18+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

Links are dead
## Post #36
- Username: OpenSpace
- Rank: n00b
- Number of posts: 18
- Joined date: Tue Jun 10, 2008 1:31 am
- Post datetime: 2008-11-27T17:47:31+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

The contents of this post was deleted because of possible forum rules violation.
## Post #37
- Username: Kataah
- Rank: beginner
- Number of posts: 39
- Joined date: Fri May 25, 2007 2:21 am
- Post datetime: 2008-11-27T19:28:58+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

Hex editor -> scan for SCHl headers -> you will find a few hundreds headers with data -> if you want to do that by hand then cut header by header with data out of that file, if not write a simple tool which extract the files automatically - finally convert these files with sox - done.


more info pm
## Post #38
- Username: OpenSpace
- Rank: n00b
- Number of posts: 18
- Joined date: Tue Jun 10, 2008 1:31 am
- Post datetime: 2008-11-27T19:38:17+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

i am not programmer nor code guru 
if i were i would not ask here for help
## Post #39
- Username: Kataah
- Rank: beginner
- Number of posts: 39
- Joined date: Fri May 25, 2007 2:21 am
- Post datetime: 2008-11-27T20:07:12+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

Therefore i said - by hand - you dont need any code
## Post #40
- Username: Dandapani
- Rank: advanced
- Number of posts: 55
- Joined date: Tue Jul 03, 2007 12:11 am
- Post datetime: 2008-11-28T00:23:03+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

> Reply from Kataah
>
> Hex editor -> scan for SCHl headers -> you will find a few hundreds headers with data -> if you want to do that by hand then cut header by header with data out of that file, if not write a simple tool which extract the files automatically - finally convert these files with sox - done.


more info pm

What format is the "data" in?  PCM or some kind of compressed form?
## Post #41
- Username: OpenSpace
- Rank: n00b
- Number of posts: 18
- Joined date: Tue Jun 10, 2008 1:31 am
- Post datetime: 2008-11-28T01:17:05+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

> Reply from Kataah
>
> Therefore i said - by hand - you dont need any code

in another words: "i dont have a clue what you told me or what needs to be done or how" 

only thing i know is how to get the MUS file out of .BIG since i used to MOD
EA RTS games in past so im not new with their techniques of compression
(which they actualy stole from Westwood Studios) but other than that im zero
knowledge on hacking/hex edit/whatever 

thats why i provided you the MUS file, but from previous Harry Potter game
i know for sure that this big MUS file contains bunch of more little ones
that are separated

so whoever manages to extract the original sound/music files i'll be first to kiss his leggs 
(btw you figure out this, you will also find solution for NFS titles as i see above another topic with MUS file problem  )

i do have tool that extracts single MUS files from one big, but that tool was made in
january of 2007 and was not updated after, as so it dont work properly with games
 made by EA after this date
## Post #42
- Username: OrangeC
- Rank: double-veteran
- Number of posts: 868
- Joined date: Sun Apr 20, 2008 9:58 am
- Post datetime: 2008-11-28T01:27:38+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

What kataah means is to get HEX workshop or any other hex editor, open the mus file in the hex editor. Then use the find feature to search for the string: SCHI" and tick the find all instances box.
## Post #43
- Username: OpenSpace
- Rank: n00b
- Number of posts: 18
- Joined date: Tue Jun 10, 2008 1:31 am
- Post datetime: 2008-11-28T02:54:05+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

lol okay
lets assume if i do it, so what, i copy paste this code to ? and save as what format ?
and then what ?
## Post #44
- Username: OrangeC
- Rank: double-veteran
- Number of posts: 868
- Joined date: Sun Apr 20, 2008 9:58 am
- Post datetime: 2008-11-28T03:36:37+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

Copy the code from the header down to the ending which is the part before the beginning of the next header.

Save that as whatever filename and the extension to mus.

Use sox the command line tool to decode that segment to wav.

Repeat.
## Post #45
- Username: Dandapani
- Rank: advanced
- Number of posts: 55
- Joined date: Tue Jul 03, 2007 12:11 am
- Post datetime: 2008-11-28T15:23:18+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

> Reply from OrangeC
>
> 
Use sox the command line tool to decode that segment to wav.

What command line arguments are you giving to SOX for this conversion?
## Post #46
- Username: OpenSpace
- Rank: n00b
- Number of posts: 18
- Joined date: Tue Jun 10, 2008 1:31 am
- Post datetime: 2008-11-28T17:53:27+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

i wonder too

i get error: "sox formats: no handler for extension mus" -_-

also for a total noob in hex workshop, can someone tell me if this proggie can
select from offset to offset, since when it finds over 460 "SCH1" i can only jump from
one offset to another but cant select from one to another  (and manual dragging and finding is hell)

?
## Post #47
- Username: OrangeC
- Rank: double-veteran
- Number of posts: 868
- Joined date: Sun Apr 20, 2008 9:58 am
- Post datetime: 2008-11-28T18:28:01+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

Make sure you check the find all instances boxes, then you can select the offsets.
## Post #48
- Username: OpenSpace
- Rank: n00b
- Number of posts: 18
- Joined date: Tue Jun 10, 2008 1:31 am
- Post datetime: 2008-11-28T19:09:38+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

yes i do that and i know that
but my question is: is it possible to select content from one offset to other
through easy clicking what you get in find results box on the bottom (or simmiliar way)

so i dont have to scroll trough whole code and search the correct offset address and
select it all by dragging mouse since there are over 460 of them
## Post #49
- Username: OrangeC
- Rank: double-veteran
- Number of posts: 868
- Joined date: Sun Apr 20, 2008 9:58 am
- Post datetime: 2008-11-28T20:18:27+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

Yes.

Just highlight the first header, then select the next offset from the results box on the bottom, thenHold down shift and click the ending byte right when the next header begins, then save as.
## Post #50
- Username: OpenSpace
- Rank: n00b
- Number of posts: 18
- Joined date: Tue Jun 10, 2008 1:31 am
- Post datetime: 2008-11-28T21:34:51+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

ah nice, thanks lol sorry but i never did this heh...
which brings me to next question

header 1 to header 2 (which would mean 1 file)
is from 1st offset SCH1 (including SCH1) till second SCH1 offset, right ?

so if first offset would be:
SCH1(...GSTR..... bunch of dots
.....SCH1(...GSTR......e....

1st file would be from SCH1 till last dot before 2nd SCH1 right ?  
(i colored it pink)
## Post #51
- Username: Dandapani
- Rank: advanced
- Number of posts: 55
- Joined date: Tue Jul 03, 2007 12:11 am
- Post datetime: 2008-11-28T21:41:19+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

> Reply from OpenSpace
>
> ah nice, thanks lol sorry but i never did this heh...
which brings me to next question

header 1 to header 2 (which would mean 1 file)
is from 1st offset SCH1 (including SCH1) till second SCH1 offset, right ?

so if first offset would be:
SCH1(...GSTR..... bunch of dots
.....SCH1(...GSTR......e....

1st file would be from SCH1 till last dot before 2nd SCH1 right ?  
(i colored it pink)

yup.
## Post #52
- Username: OpenSpace
- Rank: n00b
- Number of posts: 18
- Joined date: Tue Jun 10, 2008 1:31 am
- Post datetime: 2008-11-28T21:45:09+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

thanks 

now if only someone could explain how to convert mus to wav using sox
## Post #53
- Username: OrangeC
- Rank: double-veteran
- Number of posts: 868
- Joined date: Sun Apr 20, 2008 9:58 am
- Post datetime: 2008-11-28T22:36:55+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

Try this command

sx for /F %%b in ('dir /B *.mus') do sx -wave %%b -=%%b.wav
## Post #54
- Username: OpenSpace
- Rank: n00b
- Number of posts: 18
- Joined date: Tue Jun 10, 2008 1:31 am
- Post datetime: 2008-11-28T23:13:54+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

i got error:

sox: invalid option -- w
Failed: invalid option

i use latest v14.2.0
## Post #55
- Username: OrangeC
- Rank: double-veteran
- Number of posts: 868
- Joined date: Sun Apr 20, 2008 9:58 am
- Post datetime: 2008-11-28T23:33:57+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

HMM must of copied wrong.

Try this batch command.
[Extract Music.rar](https://xentaxbackup.github.io/file/1756_Extract Music.rar)
## Post #56
- Username: OpenSpace
- Rank: n00b
- Number of posts: 18
- Joined date: Tue Jun 10, 2008 1:31 am
- Post datetime: 2008-11-28T23:52:33+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

seems it was my error

i downloaded wrong program... i had an old sound exchange (which is correct app)
and some newer also called sound exchange that i thought it is the one lol

yes your code works perfect and indeed converts it right !

thanks very very much
## Post #57
- Username: Dandapani
- Rank: advanced
- Number of posts: 55
- Joined date: Tue Jul 03, 2007 12:11 am
- Post datetime: 2008-11-29T00:28:36+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

Where do we pick up "sx"?
## Post #58
- Username: Rheini
- Rank: Moderator
- Number of posts: 652
- Joined date: Thu Oct 19, 2006 4:48 am
- Post datetime: 2008-11-29T14:06:21+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

[http://uploaded.to/?id=zz8dso](http://uploaded.to/?id=zz8dso)
## Post #59
- Username: Dandapani
- Rank: advanced
- Number of posts: 55
- Joined date: Tue Jul 03, 2007 12:11 am
- Post datetime: 2008-11-29T14:25:03+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

> Reply from Rheini
>
> http://uploaded.to/?id=zz8dso

thx. binary is golden.  [http://wiki.multimedia.cx/index.php?tit ... d_eXchange](http://wiki.multimedia.cx/index.php?title=Electronic_Arts_Sound_eXchange)

md5sum sx.exe
daffbcd5b48579801afe780140520c78  sx.exe

sha1sum sx.exe
5252db36c709ad1a47fecdd4060a1fd40f83f387  sx.exe

ls -l sx.exe
-rw-r--r-- 1 x x 577536 2004-10-20 20:10 sx.exe
## Post #60
- Username: Dandapani
- Rank: advanced
- Number of posts: 55
- Joined date: Tue Jul 03, 2007 12:11 am
- Post datetime: 2008-11-29T16:30:25+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

I wrote a utility to pull the SCHl sections awhile back. I ended up with 481 sections from the .MUS file.  I'm converting them now under Linux using WINE.  Then I converted them from WAV to MP3.  The segments dont seem complete, very  very short:

[0:03] Decoding of ASF00001.mp3 finished.
[0:03] Decoding of ASF00002.mp3 finished.
[0:03] Decoding of ASF00003.mp3 finished.
[0:03] Decoding of ASF00004.mp3 finished.
[0:03] Decoding of ASF00005.mp3 finished.
[0:02] Decoding of ASF00006.mp3 finished.
[0:02] Decoding of ASF00007.mp3 finished.
[0:03] Decoding of ASF00008.mp3 finished.
[0:03] Decoding of ASF00009.mp3 finished.
.....
[0:09] Decoding of ASF00473.mp3 finished.
[0:09] Decoding of ASF00474.mp3 finished.
[0:10] Decoding of ASF00475.mp3 finished.
[0:04] Decoding of ASF00476.mp3 finished.
[1:58] Decoding of ASF00477.mp3 finished.
[0:21] Decoding of ASF00478.mp3 finished.
[0:09] Decoding of ASF00479.mp3 finished.
[0:08] Decoding of ASF00480.mp3 finished.
[0:59] Decoding of ASF00481.mp3 finished.
## Post #61
- Username: Dandapani
- Rank: advanced
- Number of posts: 55
- Joined date: Tue Jul 03, 2007 12:11 am
- Post datetime: 2008-11-29T16:41:20+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

> Reply from Dandapani
>
> Then I converted them from WAV to MP3.  The segments dont seem complete, very  very short:

I found a tool wavmerge to pull all the little WAV files together into one big WAV file. It now plays fine so far. I'll listen to it more.  I can make an MP3 out of it if anyone wants it.

ETA: There are some weird interludes as various segments replay...  Would take some editing to eliminate the dupes.   There is problem some ordering that needed to be taking into account.
## Post #62
- Username: OpenSpace
- Rank: n00b
- Number of posts: 18
- Joined date: Tue Jun 10, 2008 1:31 am
- Post datetime: 2008-11-29T21:36:41+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

awww if you could done same proggie for extraction of SCH1 for win32 it would save some big ass time 

i wasted bout hour and half for first 100 segments, and yes you cant just merge them
coz mus files (atleast those in harry potter games) are always half cut and mixed up...

but if you already extracted all segments and converted to WAV i would apreciate if you
could upload them (separating another 380 by hand would be hell)
## Post #63
- Username: Dandapani
- Rank: advanced
- Number of posts: 55
- Joined date: Tue Jul 03, 2007 12:11 am
- Post datetime: 2008-11-29T22:21:41+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

> Reply from OpenSpace
>
> awww if you could done same proggie for extraction of SCH1 for win32 it would save some big ass time 

i wasted bout hour and half for first 100 segments, and yes you cant just merge them
coz mus files (atleast those in harry potter games) are always half cut and mixed up...

but if you already extracted all segments and converted to WAV i would apreciate if you
could upload them (separating another 380 by hand would be hell)

Uh, the wavs are +963MB large.  Where can I store them?

Zipped up, they tip the scale at 799 MB.
## Post #64
- Username: Dandapani
- Rank: advanced
- Number of posts: 55
- Joined date: Tue Jul 03, 2007 12:11 am
- Post datetime: 2008-11-29T23:14:00+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

> Reply from Dandapani
>
> OpenSpace wrote:awww if you could done same proggie for extraction of SCH1 for win32 it would save some big ass time 

i wasted bout hour and half for first 100 segments, and yes you cant just merge them
coz mus files (atleast those in harry potter games) are always half cut and mixed up...

but if you already extracted all segments and converted to WAV i would apreciate if you
could upload them (separating another 380 by hand would be hell)  

Uh, the wavs are +963MB large.  Where can I store them?

Zipped up, they tip the scale at 799 MB.

I found a spot. Uploading now. FYI: [http://geekoutofthebox.com/2008/09/free ... hqcom.html](http://geekoutofthebox.com/2008/09/freeftp-storage-drivehqcom.html)


ETA: here it is: [http://www.drivehq.com/file/df.aspx/pub ... der/HP.zip](http://www.drivehq.com/file/df.aspx/publish/Dandapani/PublicFolder/HP.zip)
## Post #65
- Username: OpenSpace
- Rank: n00b
- Number of posts: 18
- Joined date: Tue Jun 10, 2008 1:31 am
- Post datetime: 2008-11-30T16:44:54+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

> RETURN_STATUSDESCR=The file owner's account has reached maximum download bytes for this month!
## Post #66
- Username: Dandapani
- Rank: advanced
- Number of posts: 55
- Joined date: Tue Jul 03, 2007 12:11 am
- Post datetime: 2008-11-30T17:29:46+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

> Reply from OpenSpace
>
> RETURN_STATUSDESCR=The file owner's account has reached maximum download bytes for this month!
 Sorry.  Wait until next month.
## Post #67
- Username: OpenSpace
- Rank: n00b
- Number of posts: 18
- Joined date: Tue Jun 10, 2008 1:31 am
- Post datetime: 2008-11-30T18:03:30+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

out of curiosity

you said you made a script/tool that extracts each sch1 (mus) segment out of that main one.
if that is true, then non converted mus files should be (as whole) again the same size as main mus file... (~140 mb)

if it is so, would it be problem for you to upload those mus files on megaupload or simmiliar ?
since we already got cmd line to wav conversion here.
## Post #68
- Username: Dandapani
- Rank: advanced
- Number of posts: 55
- Joined date: Tue Jul 03, 2007 12:11 am
- Post datetime: 2008-11-30T18:32:51+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

> Reply from OpenSpace
>
> out of curiosity

you said you made a script/tool that extracts each sch1 (mus) segment out of that main one.
if that is true, then non converted mus files should be (as whole) again the same size as main mus file... (~140 mb)

if it is so, would it be problem for you to upload those mus files on megaupload or simmiliar ?
since we already got cmd line to wav conversion here.

I'll post the tool. C++. Not rocket science.  It compiles and runs under cygwin and linux.

==== cut here ====
//
// Extract AFX sound segments from a .MUS file
//
// Found in: Harry Potter and the Order of the Phoenix/audio/music
//
// hog_music_stream.mus filedmp
//
/*
0000  3dfcc42c  00000000  00000000  00000000  *=..,............*
0010  00000000  00000000  00000000  00000000  *................*
....
0100  5343486c  28000000  47535452  01000001  *SCHl(...GSTR....*
0110  060165fd  80010385  03018fda  820102a0  *..e.............*
0120  01178402  7d00ff00  5343436c  0c000000  *....}...SCCl....*
0130  00000010  5343446c  90120000  000016af  *....SCDl........*
0140  00000000  174bfe94  00e65324  4d840f33  *.....K....S$M..3*
0150  e8051887  b6006030  82b26998  07492725  *......`0..i..I'%*
*/
//

#include <iostream>
#include <fstream>
#include <string>
#include <string.h>

using namespace std;

bool
match(string pattern)
{
    if (pattern == "SCHl")
        return true;
/*
    if (pattern == "SCCl")
        return true;
    if (pattern == "SCDl")
        return true;
    if (pattern == "SCEl")
        return true;
    if (pattern == "SCHl")
        return true;
    if (pattern == "SCLl")
        return true;
*/
    return false;
}


int
main(int argc, char* argv[])
{
    if (argc != 2)
    {
        cout << "Usage: prog.exe filename" << endl;
        return 1;
    }
    ifstream input(argv[1], ios_base::binary);
    ofstream output;

    char buf[5];
    buf[sizeof(buf)-1] = 0;

    int count = 0;
    bool matching = false;

    while (input)
    {
        input.read(&buf[0], sizeof(buf)-1);

        if (match(buf))
        {
            if (matching)
                output.close();

            count++;
            char outfile[32];
            sprintf(outfile, "ASF%05u.ASF", count);

            cout << "Opening " << outfile << " for writing!" << endl;
            output.open(outfile, ios_base::binary);

            matching = true;
        }

        if (matching)
        {
            output.write(&buf[0], sizeof(buf)-1);
        }
    }

    return 0;
}
## Post #69
- Username: OpenSpace
- Rank: n00b
- Number of posts: 18
- Joined date: Tue Jun 10, 2008 1:31 am
- Post datetime: 2008-11-30T19:29:36+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

to me (a non programmer) it is rocket sience 
but i managed to compile it in devc++ for win32
altho i had to replace ASF with MUS extension in your copile code to work (ASF files got corrupted for some strange reason)
and used OrangeC cmd line converter for SX 

works like a charm !!!

i love you both 
just made my day so happier
## Post #70
- Username: Dandapani
- Rank: advanced
- Number of posts: 55
- Joined date: Tue Jul 03, 2007 12:11 am
- Post datetime: 2008-11-30T20:42:18+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

> Reply from OpenSpace
>
> to me (a non programmer) it is rocket sience 
but i managed to compile it in devc++ for win32
altho i had to replace ASF with MUS extension in your copile code to work (ASF files got corrupted for some strange reason)
and used OrangeC cmd line converter for SX 

works like a charm !!!

i love you both 
just made my day so happier
## Post #71
- Username: OpenSpace
- Rank: n00b
- Number of posts: 18
- Joined date: Tue Jun 10, 2008 1:31 am
- Post datetime: 2009-03-06T20:30:14+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

The contents of this post was deleted because of possible forum rules violation.
## Post #72
- Username: tucohp
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Sat Feb 13, 2010 8:14 am
- Post datetime: 2010-02-13T00:45:33+00:00
- Post Title: Re: Harry Potter and the Order of Phoenix

The contents of this post was deleted because of possible forum rules violation.
