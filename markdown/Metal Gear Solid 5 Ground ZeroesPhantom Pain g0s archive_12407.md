## Post #1
- Username: zzz
- Rank: beginner
- Number of posts: 21
- Joined date: Wed May 21, 2014 9:36 pm
- Post datetime: 2014-12-20T22:08:44+00:00
- Post Title: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archive

Sorry, I can't offer any more help than uploading an example archive, but I suspect people will want this more than your normal custom archive format because of the game's popularity.

```
https://www.mediafire.com/?clrtv29a43y3fni
```
## Post #2
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2014-12-21T07:55:36+00:00
- Post Title: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archive

they'll do the same stupid shit they always do. rip models and textures, rip sounds, translate to another language.

what "modding" comes down to these days
## Post #3
- Username: muskieratboi
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Sun Jan 01, 2012 5:35 pm
- Post datetime: 2014-12-21T12:58:34+00:00
- Post Title: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archive

Actually, My personal idea was to find a decent David Hayter Impersonator and do a Classic Snake Voice Pack..

Or give Arin Hanson a Million dollars for METAL GEAR AWESOME V..
## Post #4
- Username: JayK
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Fri Jun 01, 2012 5:08 pm
- Post datetime: 2014-12-21T13:02:03+00:00
- Post Title: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archive

That's just a WMV file

> Reply from odrin
>
> they'll do the same stupid shit they always do. rip models and textures, rip sounds, translate to another language.

what "modding" comes down to these days 

Well I've modded new maps in metal gear online and such, there's a lot that can be done with metal gear games, I do dislike how people assume just because a games on pc now it will be modded, like they don't think of the fact that someone puts effort in to actually reverse the file formats etc.
## Post #5
- Username: muskieratboi
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Sun Jan 01, 2012 5:35 pm
- Post datetime: 2014-12-21T17:04:17+00:00
- Post Title: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archive

Indeed, Data0 is a renamed WMV file.

Data1 and Data2, However, seem to be encrypted formats:

(From cra0kalo on ZenHAX)

> Metal Gear Solid Ground Zeros PC
>
> -------------------------------------
>
> Exe: MgsGroundZeroes.exe
>
> Protection: VMProtect
>
> 
>
> Data Archives
>
> data_00.g0s
>
> data_01.g0s
>
> data_02.g0s
>
> 
>
> 
>
> Texture Extension
>
> .ftex
>
> Assets/tpp/mecha/sbh/Pictures/sbh0_intr2_def_srm.ftex 
>
> Assets/tpp/chara/dds/Pictures/dds0_body0_def_srm.ftex 
>
> Assets/tpp/chara/dds/Pictures/dds0_body0_def_nrm.ftex 
>
> 
>
> you need to dump the exe to load it in IDA
>
> They may be using blowfish
## Post #6
- Username: lionheartuk
- Rank: double-veteran
- Number of posts: 749
- Joined date: Wed May 17, 2006 5:55 am
- Post datetime: 2014-12-22T12:34:06+00:00
- Post Title: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archive

> Reply from odrin
>
> they'll do the same stupid shit they always do. rip models and textures, rip sounds, translate to another language.

what "modding" comes down to these days

And theres something wrong with that?

If a game requires modding to be a good game, then its obviously not a good game in the first place.

Some games suit the modding scene and others don't.

A game like skyrim isn't story centric its gameplay centric, modding improves the gameplay elements, and its built with modding in mind, its easier for people to make entirely new things, more than just textures and models. Other games, like lets say MGSV, are story centric, most people are going to simply translate, swap out audio, maybe a model swap or 2, thats it, not all games improve with mods, and to be honest from my perspective, most of the mods seem pointless anyway.

Theres this whole 'high and mighty' attitude around modding games, I can't stand this, some people mod, some don't, thats all there is to it, if someones such a fantastic modder, go off and actually design original games.
## Post #7
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2014-12-22T13:19:57+00:00
- Post Title: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archive

The archive format is easy the file table is at the end and its very easy format.
The file names are hashes.
And the files are encrypted like every other metal gear game so someone will have to reverse it to make a proper extractor.
Also someone will need to dump the file names to match the file name hashes.
## Post #8
- Username: Ekey
- Rank: M-M-M-Monster veteran
- Number of posts: 1823
- Joined date: Wed Mar 31, 2010 1:54 pm
- Post datetime: 2014-12-22T22:33:12+00:00
- Post Title: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archive

> Reply from chrrox
>
> The archive format is easy the file table is at the end and its very easy format.
The file names are hashes.
And the files are encrypted like every other metal gear game so someone will have to reverse it to make a proper extractor.
Also someone will need to dump the file names to match the file name hashes.
You can make temporary script for dump encrypted data's? I'll look what I can do with this.
## Post #9
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2014-12-23T01:20:05+00:00
- Post Title: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archive

it might be a 64bit string instead of 32bit not sure.

```
#Partaial quickbms script by chrrox
get TSIZE asize
math TSIZE - 36
goto TSIZE
print "%TSIZE%"
get arcsize long
getdstring null 0xC
get files long
set tblstart files
math tblstart * 16
math tblstart + 36
get TSIZE asize
math TSIZE - tblstart
goto TSIZE
for i = 0 < files
get CHKSUM long
get HASH long
get offset long
get size long
math offset * 16
string NAME p= "%08X.dat" HASH 
log NAME offset size
next i

```
## Post #10
- Username: Ekey
- Rank: M-M-M-Monster veteran
- Number of posts: 1823
- Joined date: Wed Mar 31, 2010 1:54 pm
- Post datetime: 2014-12-23T09:41:00+00:00
- Post Title: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archive

Hm strange hashes.
## Post #11
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2014-12-23T10:17:50+00:00
- Post Title: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archive

Hash is 64 bit. First two bytes is an extention ID, rest is calculated from name string (without extention if id != 0). Same was in previous MGS games except it was 32 bit and only 1 byte for an extention ID.

The original names of data_01.g0s and data_02.g0s are texture.qar and data.qar respectively. In PS3 version there was no data.qar file, instead files were unpacked and the game was using pathid_list_ps3.bin to match hashes and filenames.
In MgsGroundZeroes.exe I have found a reference to pathid_list_win64_stm.bin and when I created an empty file with that name the game crashed. So I guess the game's still using it and if we find a way to extract data.qar (data_02.g0s) there will be no need for repacking it.
## Post #12
- Username: Ekey
- Rank: M-M-M-Monster veteran
- Number of posts: 1823
- Joined date: Wed Mar 31, 2010 1:54 pm
- Post datetime: 2014-12-23T11:00:25+00:00
- Post Title: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archive

What a hash algorithm they used for previous game versions? I see CRC64 in this game with ecma tab.
## Post #13
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2014-12-23T12:35:19+00:00
- Post Title: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archive

I have discovered the encryption/decryption method! The tool is coming up shortly.

> Reply from Ekey
>
> What a hash algorithm they used for previous game versions? I see CRC64 in this game with ecma tab.
I don't know the name of the algorythm (and it probably doesn't have one) but here's the code I have reversed from MGS 3 a long time ago. Same code was used for MGS 2 and MGS 4 as well.

```
{
	int hash = 0;
	for (; *str; str++)
	{
		int v1 = hash >> 19;
		int v0 = hash << 5;
		hash = ((v0 | v1) + *str) & 0xFFFFFF;
	}
	if (hash) return hash;
	return 1;
}
```
## Post #14
- Username: JayK
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Fri Jun 01, 2012 5:08 pm
- Post datetime: 2014-12-23T15:39:51+00:00
- Post Title: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archive

> Reply from Sergeanur
>
> 
I don't know the name of the algorythm (and it probably doesn't have one) but here's the code I have reversed from MGS 3 a long time ago. Same code was used for MGS 2 and MGS 4 as well.
Code: Select allint CHashMGS::GetIDFromString(char *str)
{
	int hash = 0;
	for (; *str; str++)
	{
		int v1 = hash >> 19;
		int v0 = hash << 5;
		hash = ((v0 | v1) + *str) & 0xFFFFFF;
	}
	if (hash) return hash;
	return 1;
}

Nice, I was trying to figure this out for MGS4 for quite a while.
## Post #15
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2014-12-23T17:54:09+00:00
- Post Title: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archive

Ok here's the tool.
[link](http://hackload.ru/files/MGSV_QAR_Tool.rar)
## Post #16
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2014-12-23T20:16:19+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

LUA encryption now also had been discovered. Tool coming up later.
## Post #17
- Username: zzz
- Rank: beginner
- Number of posts: 21
- Joined date: Wed May 21, 2014 9:36 pm
- Post datetime: 2014-12-23T20:20:07+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Nice.

.fox seems to be standard XML-type text

JSON only shows gibberish though
## Post #18
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2014-12-23T21:00:17+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from zzz
>
> JSON only shows gibberish though
JSON is encrypted in a same way as LUA.
## Post #19
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2014-12-23T23:16:59+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

are the .dat files still encrypted?
I don't see any model files do you know where they are?
## Post #20
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2014-12-24T03:37:42+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from lionheartuk
>
> odrin wrote:they'll do the same stupid shit they always do. rip models and textures, rip sounds, translate to another language.

what "modding" comes down to these days

And theres something wrong with that?

If a game requires modding to be a good game, then its obviously not a good game in the first place.

Some games suit the modding scene and others don't.

A game like skyrim isn't story centric its gameplay centric, modding improves the gameplay elements, and its built with modding in mind, its easier for people to make entirely new things, more than just textures and models. Other games, like lets say MGSV, are story centric, most people are going to simply translate, swap out audio, maybe a model swap or 2, thats it, not all games improve with mods, and to be honest from my perspective, most of the mods seem pointless anyway.

Theres this whole 'high and mighty' attitude around modding games, I can't stand this, some people mod, some don't, thats all there is to it, if someones such a fantastic modder, go off and actually design original games.

modding never will and never has been about a game "requiring" anything. the point of modding has been utterly lost on this new generation. your post just proves me point
## Post #21
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2014-12-24T07:18:10+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from chrrox
>
> are the .dat files still encrypted?
What .dat files?

> Reply from chrrox
>
> I don't see any model files do you know where they are?
In data\as\tpp\pack I guess.
## Post #22
- Username: lionheartuk
- Rank: double-veteran
- Number of posts: 749
- Joined date: Wed May 17, 2006 5:55 am
- Post datetime: 2014-12-24T10:39:26+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from odrin
>
> modding never will and never has been about a game "requiring" anything. the point of modding has been utterly lost on this new generation. your post just proves me point

Not sure what 'this generation' means, I'm almost 30 so its not like I'm an 11 year old kid looking to get into modding.
I've never had any interest whatsoever in modding, the concept interested me once and then I just went on to get a job in the industry actually developing games, I still learn a lot from ripping apart existing games though.

I think as I said, modding suits a game such as Skyrim perfectly, but modding isn't suited to all games quite so well, something like worms isn't going to get much better really. Most people just swap out models and the like (thats 99% of skyrim mods right there), and they look great, people even improve the visuals of the game sometimes, that seems worth it. Games like the Bethesta games stay relevant purely because of modding IMHO, otherwise they'd just fade away after a year or 2. Model swaps for lets say MGSV would be great, though they aren't going to 'improve' the game, and in all honesty even if it was fully open, there are going to be very few quality gameplay tweaks people would make, even if they supplied a 'make your own mission' toolkit, you'd probably find one good one out of every few thousand anyway.
## Post #23
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2014-12-24T10:43:51+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> chrrox wrote:are the .dat files still encrypted?
What .dat files?
chrrox wrote:I don't see any model files do you know where they are?
In data\as\tpp\pack I guess.


in pack01
00004EB7.dat
0000B286.dat
00008994.dat

in pack02
data\as\tpp\pack\soldier\motion\TppSoldierGzMotion.fpk
this is still encrypted?

the files with .pftxs seem unencrypted but these only contain textures.
resident01.pftxs
## Post #24
- Username: lionheartuk
- Rank: double-veteran
- Number of posts: 749
- Joined date: Wed May 17, 2006 5:55 am
- Post datetime: 2014-12-24T12:55:44+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

The progress here is really awesome.

Looking forward to the unencrypted LUA and json files, though, I am unsure what they'll contain, as I'm imagining things like subtitle refferences or UI positions etc, nothing all that fancy, but I might be way of base.

Those ftexs look pretty encrypted too, but the strangest thing is where are the model files exactly, level_assets isn't large enough to contain models, unless the file in there is simply used to get references for all the other models.
## Post #25
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2014-12-24T14:46:03+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

The hash algorithm is now discovered - it's CityHash64 with seed.

> Reply from chrrox
>
> 
in pack01
00004EB7.dat
0000B286.dat
00008994.dat
I don't have those but I know what you mean. No, those are not encrypted.

> Reply from chrrox
>
> 
in pack02
data\as\tpp\pack\soldier\motion\TppSoldierGzMotion.fpk
this is still encrypted?
Yes, FPK files are encrypted.
## Post #26
- Username: JayK
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Fri Jun 01, 2012 5:08 pm
- Post datetime: 2014-12-24T16:09:23+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I thought I'd do my bit and made an ftex extractor, let me know if there are any problems with it. The colour seems off on some textures so I'm not sure if they're lightly encrypted or it's just a map I don't know about.

The tool will create DDS files, just drag an 'ftex' on the executable, also make sure that its respective 'ftexs' files is in the same directory (very important!).

[Ftex Unpacker](https://dl.dropboxusercontent.com/u/6871888/SavemgoTools/FtexUnpacker.exe)

Very nice progress Sergeanur, surprised you managed to decrypt those files so quickly, I was looking at the ps3 ones for a bit but couldn't figure anything out.

> I don't see any model files do you know where they are?

They're in data\as\tpp\pack\player\parts\ in the fpk and fpkd files, but they're encrypted with the same method as the lua files etc, I'm guessing Sergeanur's method for decryption will work on these files as well.
## Post #27
- Username: zzz
- Rank: beginner
- Number of posts: 21
- Joined date: Wed May 21, 2014 9:36 pm
- Post datetime: 2014-12-24T16:34:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from JayK
>
> I thought I'd do my bit and made an ftex extractor, let me know if there are any problems with it. The colour seems off on some textures so I'm not sure if they're lightly encrypted or it's just a map I don't know about.

They might have alpha or specular maps in their other colour channels. Skullface's face texture, 13b365f435ba, looks correct.
## Post #28
- Username: JayK
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Fri Jun 01, 2012 5:08 pm
- Post datetime: 2014-12-24T17:01:53+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Yeah you're right, it's the Alpha map, mixed with an AO Map and the Spec Map on the r, g and b layers. Nice trick.
## Post #29
- Username: devilsnake88
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Dec 06, 2013 12:14 am
- Post datetime: 2014-12-24T17:43:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hi!
I don't know if my post will be usefull but I found some interessing images about zlib/lua/lz4/cityhash/libjpeg/vectormath/blowfish and md5 using previous script:
[http://www.zupmage.eu/i/Z7XH31pinb.jpg](http://www.zupmage.eu/i/Z7XH31pinb.jpg) (2048x8192)

Anyway, thank you for your work guys, it's really appreciate!
(I hope we'll export 3D models soon ^^)
## Post #30
- Username: iambosh
- Rank: advanced
- Number of posts: 61
- Joined date: Sat Oct 04, 2014 12:22 pm
- Post datetime: 2014-12-24T18:57:56+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

when i try to load the dds files, it tells me either its an unknown file type or there is a disk error. any ideas? i tried photoshop and gimp
## Post #31
- Username: JayK
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Fri Jun 01, 2012 5:08 pm
- Post datetime: 2014-12-24T19:12:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

can you pm me the dds file please, I'll have a look, thanks.
## Post #32
- Username: iambosh
- Rank: advanced
- Number of posts: 61
- Joined date: Sat Oct 04, 2014 12:22 pm
- Post datetime: 2014-12-24T19:21:07+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

opk i think i got it. any way to write a batch to convert them all?

> Reply from JayK
>
> can you pm me the dds file please, I'll have a look, thanks.

i didnt read the instructions haha. Im finding the images and labeling them though
## Post #33
- Username: JayK
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Fri Jun 01, 2012 5:08 pm
- Post datetime: 2014-12-24T19:26:12+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Ok cool, I always assume I've done something wrong if it doesn't work for someone :p hm I didn't think of taking multiple files, but I guess you can just make a batch file like the following for now;

```
for %%a in (*.ftex) do (
FtexUnpacker.exe "%%a"
)

```
## Post #34
- Username: iambosh
- Rank: advanced
- Number of posts: 61
- Joined date: Sat Oct 04, 2014 12:22 pm
- Post datetime: 2014-12-24T19:40:04+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from JayK
>
> Ok cool, I always assume I've done something wrong if it doesn't work for someone :p hm I didn't think of taking multiple files, but I guess you can just make a batch file like the following for now;
Code: Select all@echo off
for %%a in (*.ftex) do (
FtexUnpacker.exe "%%a"
)

ok blonde moment here, how would i use this to unpack all ftex files?
## Post #35
- Username: JayK
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Fri Jun 01, 2012 5:08 pm
- Post datetime: 2014-12-24T20:07:06+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Put it in a text file, save it with the extension .bat, put it in a folder that contains all the ftex and ftexs files, put FtexUnpacker.exe in that folder as well, then run the bat. Just tried it, you'll get a few zpipe errors, press enter to skip those I'll look into them some other time, doesn't seem to be that detrimental to the outcome.
## Post #36
- Username: iambosh
- Rank: advanced
- Number of posts: 61
- Joined date: Sat Oct 04, 2014 12:22 pm
- Post datetime: 2014-12-24T21:08:50+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from JayK
>
> Put it in a text file, save it with the extension .bat, put it in a folder that contains all the ftex and ftexs files, put FtexUnpacker.exe in that folder as well, then run the bat. Just tried it, you'll get a few zpipe errors, press enter to skip those I'll look into them some other time, doesn't seem to be that detrimental to the outcome.

Ok looks as if i have to hold enter down in the cmd but thats fine. thanks!
## Post #37
- Username: JayK
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Fri Jun 01, 2012 5:08 pm
- Post datetime: 2014-12-24T21:11:23+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Download the latest build from my other post, I removed the need to press enter at the end of the file unless it throws an error.
## Post #38
- Username: iambosh
- Rank: advanced
- Number of posts: 61
- Joined date: Sat Oct 04, 2014 12:22 pm
- Post datetime: 2014-12-24T21:15:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from JayK
>
> Download the latest build from my other post, I removed the need to press enter at the end of the file unless it throws an error.

fantastic! thanks!
## Post #39
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2014-12-24T22:12:56+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Oh nice you guys have made good progress while I'm gone. Any word on their geometry and animation format?
## Post #40
- Username: shadowlonely1989
- Rank: veteran
- Number of posts: 83
- Joined date: Sun Nov 30, 2014 8:49 am
- Post datetime: 2014-12-25T03:53:00+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hi! Here are font and text from this game! Hope anyone can take and look to make tool for localization! Thanks for any help!
[https://www.dropbox.com/s/8eeadj0w6dyi4 ... 5.rar?dl=0](https://www.dropbox.com/s/8eeadj0w6dyi4ix/Font-Text%20Metal%20Gear%20Solid%205.rar?dl=0)
## Post #41
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2014-12-25T08:51:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

The tool is updated, link is the [same](http://hackload.ru/files/MGSV_QAR_Tool.rar).
Now you can decrypt the resources (LUA, FPK, JSON, etc.) while unpacking the archive. Run the tool like this

```
MGSV_QAR_Tool.exe data_02.g0s -r
```

Also the tool now uses dictionary to match hashes.
## Post #42
- Username: muskieratboi
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Sun Jan 01, 2012 5:35 pm
- Post datetime: 2014-12-25T13:10:04+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Holy shit, it's a Christmas Miracle!

Huge thanks and Kudos to the intrepid hackers that blew this one open. Now to do some audio replacement tests, followed by *Auditions*.
## Post #43
- Username: qtulu
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Wed May 09, 2012 8:02 pm
- Post datetime: 2014-12-25T13:35:02+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Awesome stuff, thank you very much for these tools!

Anyone else having a problem with ftexunpacker? It gives me the 0cx000007b error but I've installed the latest VC++ redists.
## Post #44
- Username: lionheartuk
- Rank: double-veteran
- Number of posts: 749
- Joined date: Wed May 17, 2006 5:55 am
- Post datetime: 2014-12-25T15:39:25+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Surprised to see how low quality some of these textures are honestly, the game itself looks fantastic, I'd been expecting a super detailed diffuse, but it really goes to show just how well the FOX Engine composites the different textures together (and seems to be able to tint them), a real testament to what that engine can do. Skullfaces face texture is a great example of that, as a texture it looks so flat and boring, but with the normals and spec, plus the scene lightint, and of course the details on the model itself, theres some real depth to the 'craters' that look so flat in the diffuse alone.

Something I've been wondering is, why are so many of the textures using strange hash names? Is it simply because we can't figure out the correct naming for them, or is it more that once packed in engine, it renames them (much like a few other engines do) to something shorter and quicker to sort through, resulting in something thats a bit of a mess for human eyes.
## Post #45
- Username: iambosh
- Rank: advanced
- Number of posts: 61
- Joined date: Sat Oct 04, 2014 12:22 pm
- Post datetime: 2014-12-25T15:53:12+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from lionheartuk
>
> Surprised to see how low quality some of these textures are honestly, the game itself looks fantastic, I'd been expecting a super detailed diffuse, but it really goes to show just how well the FOX Engine composites the different textures together (and seems to be able to tint them), a real testament to what that engine can do. Skullfaces face texture is a great example of that, as a texture it looks so flat and boring, but with the normals and spec, plus the scene lightint, and of course the details on the model itself, theres some real depth to the 'craters' that look so flat in the diffuse alone.

Something I've been wondering is, why are so many of the textures using strange hash names? Is it simply because we can't figure out the correct naming for them, or is it more that once packed in engine, it renames them (much like a few other engines do) to something shorter and quicker to sort through, resulting in something thats a bit of a mess for human eyes.

If you can point me to the names of some of these, I can spruce up the normals and specs and such to really make a nicer texture. same for like the ground and such. im having trouble finding what is what

Nvm, im a ditz
## Post #46
- Username: lionheartuk
- Rank: double-veteran
- Number of posts: 749
- Joined date: Wed May 17, 2006 5:55 am
- Post datetime: 2014-12-25T16:15:12+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from iambosh
>
> lionheartuk wrote:Surprised to see how low quality some of these textures are honestly, the game itself looks fantastic, I'd been expecting a super detailed diffuse, but it really goes to show just how well the FOX Engine composites the different textures together (and seems to be able to tint them), a real testament to what that engine can do. Skullfaces face texture is a great example of that, as a texture it looks so flat and boring, but with the normals and spec, plus the scene lightint, and of course the details on the model itself, theres some real depth to the 'craters' that look so flat in the diffuse alone.

Something I've been wondering is, why are so many of the textures using strange hash names? Is it simply because we can't figure out the correct naming for them, or is it more that once packed in engine, it renames them (much like a few other engines do) to something shorter and quicker to sort through, resulting in something thats a bit of a mess for human eyes.

If you can point me to the names of some of these, I can spruce up the normals and specs and such to really make a nicer texture. same for like the ground and such. im having trouble finding what is what

Nvm, im a ditz

I don't think theres really any need, the definition is all there when the textures are composited together, if you start combining things then the darks are going to end up super dark, and the lights super bright, you'll probably have to run a few tests, but I'm sure theres a reason its done this way.

My first guess would be that with less definition in the textures themselves, it means something can be repeated a lot more (ie the ground or the rocks) and its not going to be particularly noticeable as most of the details are added in the lighting and so nothing stands out more than intended, change that and repetition might become pretty clear.
## Post #47
- Username: iambosh
- Rank: advanced
- Number of posts: 61
- Joined date: Sat Oct 04, 2014 12:22 pm
- Post datetime: 2014-12-25T16:43:25+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from lionheartuk
>
> iambosh wrote:lionheartuk wrote:Surprised to see how low quality some of these textures are honestly, the game itself looks fantastic, I'd been expecting a super detailed diffuse, but it really goes to show just how well the FOX Engine composites the different textures together (and seems to be able to tint them), a real testament to what that engine can do. Skullfaces face texture is a great example of that, as a texture it looks so flat and boring, but with the normals and spec, plus the scene lightint, and of course the details on the model itself, theres some real depth to the 'craters' that look so flat in the diffuse alone.

Something I've been wondering is, why are so many of the textures using strange hash names? Is it simply because we can't figure out the correct naming for them, or is it more that once packed in engine, it renames them (much like a few other engines do) to something shorter and quicker to sort through, resulting in something thats a bit of a mess for human eyes.

If you can point me to the names of some of these, I can spruce up the normals and specs and such to really make a nicer texture. same for like the ground and such. im having trouble finding what is what

Nvm, im a ditz

I don't think theres really any need, the definition is all there when the textures are composited together, if you start combining things then the darks are going to end up super dark, and the lights super bright, you'll probably have to run a few tests, but I'm sure theres a reason its done this way.

My first guess would be that with less definition in the textures themselves, it means something can be repeated a lot more (ie the ground or the rocks) and its not going to be particularly noticeable as most of the details are added in the lighting and so nothing stands out more than intended, change that and repetition might become pretty clear.

Im a texture artist so I know what to do with the maps, im just trying to sort out what is what.

seems i found the player camera paramaters

C:\Program Files (x86)\Steam\SteamApps\common\Metal Gear Solid Ground Zeroes\data_02\Assets\tpp\level_asset\chara\player

Also found:

C:\Program Files (x86)\Steam\SteamApps\common\Metal Gear Solid Ground Zeroes\data_02\Assets\tpp\pack\ui

ui_option_setting.fpk
## Post #48
- Username: Evin
- Rank: ultra-veteran
- Number of posts: 348
- Joined date: Sat Aug 05, 2006 9:04 pm
- Post datetime: 2014-12-25T18:13:30+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> The tool is updated, link is the same.
Now you can decrypt the resources (LUA, FPK, JSON, etc.) while unpacking the archive. Run the tool like this
Code: Select allMGSV_QAR_Tool.exe data_02.g0s -r
Also the tool now uses dictionary to match hashes.

Could you make an encryter/decrypter tool? Maybe it will works with console files, even with MGS4 files.
## Post #49
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2014-12-25T18:24:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

[Link](http://hackload.ru/files/MGSV_QAR_Tool.rar) updated - tons of names added into dictionary.

> Reply from evin
>
> Could you make an encryter/decrypter tool? Maybe it will works with console files, even with MGS4 files.
In will not work on console versions and it will definitely NOT work on MGS 4.
## Post #50
- Username: lionheartuk
- Rank: double-veteran
- Number of posts: 749
- Joined date: Wed May 17, 2006 5:55 am
- Post datetime: 2014-12-25T19:00:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from iambosh
>
> 
I'm a texture artist so I know what to do with the maps, im just trying to sort out what is what.
Oh cool, me too, seems there are a few industry guys in the forums.

I think for the most part the textures are fairly obvious to be honest, though, the greeny ones are a bit odd, the ones that look sort of like night vision, they're not normal, specular or diffuse textures, so I wonder what they are, do you have any ideas here? It seems to be only the non-static objects (more specifically the characters), the game doesn't use tessellation maps either (unless its doubling its spec as tessellation textures, its been 5 years since I used an engine with tessellation so the way the textures work may have changed a little (or a lot).

I can't actually test any of the textures myself but if you figure out what those textures are do post your findings in here, no company I've worked with (or independent projects) have ever used such textures, unless they're just a standard map type with a channel or 2 flipped perhaps? (just a wild guess, I don't even have photoshop this laptop as its dead old so I can't really investigate anything properly until I get back to my own machine.
## Post #51
- Username: michalss
- Rank: Moderator
- Number of posts: 955
- Joined date: Mon Mar 28, 2011 3:42 am
- Post datetime: 2014-12-25T19:33:43+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from evin
>
> Sergeanur wrote:The tool is updated, link is the same.
Now you can decrypt the resources (LUA, FPK, JSON, etc.) while unpacking the archive. Run the tool like this
Code: Select allMGSV_QAR_Tool.exe data_02.g0s -r
Also the tool now uses dictionary to match hashes.

Could you make an encryter/decrypter tool? Maybe it will works with console files, even with MGS4 files.

Also would like to see some work on consoles version pls ? Specially on X360.... Any chance ?
## Post #52
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2014-12-25T19:36:45+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from michalss
>
> Also would like to see some work on consoles version pls ? Specially on X360.... Any chance ?
Well, if you could provide me with some X360's LUAs...
## Post #53
- Username: iambosh
- Rank: advanced
- Number of posts: 61
- Joined date: Sat Oct 04, 2014 12:22 pm
- Post datetime: 2014-12-25T21:11:02+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from lionheartuk
>
> iambosh wrote:
I'm a texture artist so I know what to do with the maps, im just trying to sort out what is what.
Oh cool, me too, seems there are a few industry guys in the forums.

I think for the most part the textures are fairly obvious to be honest, though, the greeny ones are a bit odd, the ones that look sort of like night vision, they're not normal, specular or diffuse textures, so I wonder what they are, do you have any ideas here? It seems to be only the non-static objects (more specifically the characters), the game doesn't use tessellation maps either (unless its doubling its spec as tessellation textures, its been 5 years since I used an engine with tessellation so the way the textures work may have changed a little (or a lot).

I can't actually test any of the textures myself but if you figure out what those textures are do post your findings in here, no company I've worked with (or independent projects) have ever used such textures, unless they're just a standard map type with a channel or 2 flipped perhaps? (just a wild guess, I don't even have photoshop this laptop as its dead old so I can't really investigate anything properly until I get back to my own machine.

Well the Fox Engine is using Physically Based Rendering, So i can see that its using a color map. Now how the engine interprets this is up in the air. there is a possibility that some of the texture carry the roughness,gloss and metallness or ao maps in the RGBA channels. Color maps usually are to tell the engine what materials to assign to a mesh without having to remake the texture to speciafically map the object. I am having trouble finding the right maps as they are all scattered. I know that there seems to be some Sub Scattering and the rain gloss animation, and the ground and mud and metal and wood are FOR SURE using PBR. I would just have to get in the texture and mess with them. If you could give me the files i could tell you what is going on. I could even improve them. I noticed the characters are using 2048 maps. and the objects seem to be 1024
## Post #54
- Username: Eiwo
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Wed Dec 21, 2011 10:06 am
- Post datetime: 2014-12-25T21:59:55+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from iambosh
>
> 
Well the Fox Engine is using Physically Based Rendering
If you have nothing else to do you could watch the FOX engine video, they talk about their PBR method. I'd really like if there was a way to increase the "roughness" they talked about which controller how wet things were in the rain. Anyway, it might give you some hints.
[https://www.youtube.com/watch?v=FQMbxzTUuSg](https://www.youtube.com/watch?v=FQMbxzTUuSg)

I've got to say though, all I see from watching old MGSV related videos are major downgrades! Hopefully there's a way to greatly enhance the visuals to the way they were pre-release, especially for The Phantom Pain.
## Post #55
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2014-12-25T22:03:19+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

"GROUND ZEROES", sunny weather, 10 AM, strong wind. Introduction cutscene has no textures (everything is white).
[](http://postimg.org/image/6rixcqngp/)
## Post #56
- Username: Eiwo
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Wed Dec 21, 2011 10:06 am
- Post datetime: 2014-12-25T22:09:03+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Can you disable the static time of day too? Which file had those settings?
## Post #57
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2014-12-25T22:33:20+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Eiwo
>
> Can you disable the static time of day too? Which file had those settings?
I believe I can but I don't know how long I have to wait to see some weather change.
EDIT: Tried it. Played around for 10 mins. Nothing changed.
BTW people keep in mind that your changes will not affect if the file you're editing was cached into FPK or FPKD.
## Post #58
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2014-12-25T23:19:15+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

3rd person games generally don't have super detailed tetxures. they make up for it with superior shader and lighting effects.

also, the modding scene for this game is phenomenal. a far cry from shite ubisoft games.
## Post #59
- Username: iambosh
- Rank: advanced
- Number of posts: 61
- Joined date: Sat Oct 04, 2014 12:22 pm
- Post datetime: 2014-12-26T00:12:20+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Im just dying for FOV, ability to enable only reflections and boost the resolution of those, and add back in the shell casing bit.
## Post #60
- Username: JayK
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Fri Jun 01, 2012 5:08 pm
- Post datetime: 2014-12-26T00:47:46+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I made a tool to extract the FPK files, I'm not completely happy with it as some of the filenames have illegal characters so I can't output those filename's, so to work around that I just made it put some hex digits out for the filename. Model format is fmdl and is super super simple, you can download the FPK Unpacker below, haven't really tested it thoroughly, so let me know if there are any problems. just drag an FPK file onto it.

[FPK Unpacker](https://dl.dropboxusercontent.com/u/6871888/SavemgoTools/FpkUnpacker.exe)

Should work on FPKD files as well

> Reply from lionheartuk
>
> 
I can't actually test any of the textures myself but if you figure out what those textures are do post your findings in here, no company I've worked with (or independent projects) have ever used such textures, unless they're just a standard map type with a channel or 2 flipped perhaps? (just a wild guess, I don't even have photoshop this laptop as its dead old so I can't really investigate anything properly until I get back to my own machine.

It was already mentioned before that the weird colour textures store the AO, Spec and Alpha Map on the RGB levels.
## Post #61
- Username: iambosh
- Rank: advanced
- Number of posts: 61
- Joined date: Sat Oct 04, 2014 12:22 pm
- Post datetime: 2014-12-26T02:11:04+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

believe I found the settings:

C:\Program Files (x86)\Steam\SteamApps\common\Metal Gear Solid Ground Zeroes\data_02\Fox\Scripts\Gr
## Post #62
- Username: Eiwo
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Wed Dec 21, 2011 10:06 am
- Post datetime: 2014-12-26T02:20:40+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

So "gr_init_dx11.lua" are where the graphical options can be tweaked, you can turn off fxaa and/or dof while retaining reflections for instance. It seems you can tweak some of the settings too.

"PlayerTypeTabl.lua" is where you can do model switching. I personally haven't figured out how to get it properly working though.

"data_02\Assets\tpp\level_asset\chara\player" is where you can config the gamepad and there are a lot of camera settings. Haven't tried these myself but I think they would work.

There's also a way to change the time of day but I'm not sure how.
## Post #63
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2014-12-26T02:51:40+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from JayK
>
> I made a tool to extract the FPK files, I'm not completely happy with it as some of the filenames have illegal characters so I can't output those filename's, so to work around that I just made it put some hex digits out for the filename. Model format is fmdl and is super super simple, you can download the FPK Unpacker below, haven't really tested it thoroughly, so let me know if there are any problems. just drag an FPK file onto it.

FPK Unpacker

Should work on FPKD files as well
lionheartuk wrote:
I can't actually test any of the textures myself but if you figure out what those textures are do post your findings in here, no company I've worked with (or independent projects) have ever used such textures, unless they're just a standard map type with a channel or 2 flipped perhaps? (just a wild guess, I don't even have photoshop this laptop as its dead old so I can't really investigate anything properly until I get back to my own machine.

It was already mentioned before that the weird colour textures store the AO, Spec and Alpha Map on the RGB levels.

you should prob include zlib1.dll, crashes for me doesn't extract anything.

-EDIT-

seriously why the hell do the devs even bother  xor 0x9C its a dead giveaway too
## Post #64
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2014-12-26T09:06:57+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> Now you can decrypt the resources (LUA, FPK, JSON, etc.) while unpacking the archive
Could you add an option to decrypt/encrypt those filetypes manually? because a lot of encrypted lua's and stuff are stored inside fpk and fpkd files. just an option to decrypt/encrypt any of those filetypes in a directory would work well. (decrypted files put back into the fpk/fpkd won't work)
## Post #65
- Username: zzz
- Rank: beginner
- Number of posts: 21
- Joined date: Wed May 21, 2014 9:36 pm
- Post datetime: 2014-12-26T10:42:55+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from JayK
>
> Model format is fmdl and is super super simple, you can download the FPK Unpacker below, haven't really tested it thoroughly, so let me know if there are any problems. just drag an FPK file onto it.

What program can view or convert fmdl? 3ds max and 3Dconverter can't use it and can't find much on the web apart from some mugen game references.
## Post #66
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2014-12-26T11:22:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from line
>
> Sergeanur wrote:Now you can decrypt the resources (LUA, FPK, JSON, etc.) while unpacking the archive
Could you add an option to decrypt/encrypt those filetypes manually? because a lot of encrypted lua's and stuff are stored inside fpk and fpkd files. just an option to decrypt/encrypt any of those filetypes in a directory would work well. (decrypted files put back into the fpk/fpkd won't work)
I don't see a point of that. And replacing files in FPK DOES work.
## Post #67
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2014-12-26T11:32:09+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> line wrote:Sergeanur wrote:Now you can decrypt the resources (LUA, FPK, JSON, etc.) while unpacking the archive
Could you add an option to decrypt/encrypt those filetypes manually? because a lot of encrypted lua's and stuff are stored inside fpk and fpkd files. just an option to decrypt/encrypt any of those filetypes in a directory would work well. (decrypted files put back into the fpk/fpkd won't work)
I don't see a point of that. And replacing files in FPK DOES work.
Files which were previously encrypted can not be reinjected into FPKD files decrypted, it will not work.
example:

These 3 LUA camera scripts extracted from big boss' fpkd are encrypted. Files inside fpkd containers don't get decrypted by your tool upon extraction. Even though these 3 LUA files can be found out side of fpkd's and decrypted by your tool, they can not be functionally reinjected into big boss' fpkd without re-encryption. (those camera lua scripts are only used cached in the fpkd)
## Post #68
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2014-12-26T11:35:10+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I did some diggin' into FPK and realized than some names (not all) were somehow encrypted or compressed (or both). Usually this is FTEX, FMDL and such.
Format:

```
/as/ + (some hex code) + .ftex
```


Example:
/Assets/tpp/ui/ModelAsset/cmn_loadmark/Pictures/cmn_loadmark_logo_mini_nmp.ftex will look like this

```
/as/ + 0709436F6D4679675A510B4F6B69755F3337536F0B0B0B47695849553249464B716A42376239474636584831660B4D3447515351754D7076507935507A76766E474A0946344F + .ftex
```

I don't know how to compute those but I definitely see some logic in it. Hex code always starts with 0x07 and somewhere in the middle it always has 0x0B0B0B.

EDIT
2 line:
These LUA files are compiled, NOT ENCRYPTED!!!!!! You can replace them with uncompiled ones and the game will work. In fact all you can do is just remove it from FPK completely and then change LUA outside of it.
## Post #69
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2014-12-26T12:01:35+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> 
2 line:
These LUA files are compiled, NOT ENCRYPTED!!!!!! You can replace them with uncompiled ones and the game will work. In fact all you can do is just remove it from FPK completely and then change LUA outside of it.
Right, compiled, my bad. However the uncompiled versions reinjected back into the FPKD aren't working for me.
## Post #70
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2014-12-26T12:03:51+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from line
>
> However the uncompiled versions reinjected back into the FPKD do not work.
Means you ain't doing it right, 'cause it works for me.
## Post #71
- Username: lionheartuk
- Rank: double-veteran
- Number of posts: 749
- Joined date: Wed May 17, 2006 5:55 am
- Post datetime: 2014-12-26T12:11:34+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> Eiwo wrote:Can you disable the static time of day too? Which file had those settings?
I believe I can but I don't know how long I have to wait to see some weather change.
EDIT: Tried it. Played around for 10 mins. Nothing changed.
BTW people keep in mind that your changes will not affect if the file you're editing was cached into FPK or FPKD.

The weather in this game is not real time unfortunately, so no amount of waiting is going to change the weather, would have been a nice touch though.
One thing that would be possible I imagine is forcing the time of day/weather to change, ie: Sun in the main mission, rain in the daytime side missions etc.
## Post #72
- Username: JayK
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Fri Jun 01, 2012 5:08 pm
- Post datetime: 2014-12-26T13:32:51+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I updated the FPK Unpacker as there were problems with some files, new version is at the same link.

[FPK Unpacker](https://dl.dropboxusercontent.com/u/6871888/SavemgoTools/FpkUnpacker.exe)

> you should prob include zlib1.dll, crashes for me doesn't extract anything.

Ok I included zlib1.dll for the ftex extractor now

[Ftex Unpacker](https://dl.dropboxusercontent.com/u/6871888/SavemgoTools/FtexUnpacker.rar)

> What program can view or convert fmdl? 3ds max and 3Dconverter can't use it and can't find much on the web apart from some mugen game references.

It's their own custom format but its quite simple, if no one else makes an importer for the format then I'll make one for 3ds max, but I'm guessing someone else will anyway as it's such a simple format.

> I did some diggin' into FPK and realized than some names (not all) were somehow encrypted or compressed (or both). Usually this is FTEX, FMDL and such.

Yep, this is why I can't output them as filenames and have to use the workaround, but I might look into how they're doing the conversion at some point.
## Post #73
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2014-12-26T15:03:24+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

A few names had been discovered for data_01.g0s

```
/Assets/tpp/level/location/gntn/block_common/gntn_common_ter_nrm.6.ftexs
/Assets/tpp/level/location/gntn/block_common/gntn_common_ter_srm.6.ftexs
/Assets/tpp/level/location/gntn/block_common/gntn_common_ter_bsm.6.ftexs
/Assets/tpp/effect/vfx_pic/explosion/fx_expanm06_ks_alp_clp.6.ftexs
```
## Post #74
- Username: iambosh
- Rank: advanced
- Number of posts: 61
- Joined date: Sat Oct 04, 2014 12:22 pm
- Post datetime: 2014-12-26T20:20:54+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Anyone have access to the PS4 files for the bullet casings shell ejection script?
## Post #75
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2014-12-26T20:43:25+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from JayK
>
> 
Ok I included zlib1.dll for the ftex extractor now
What program can view or convert fmdl? 3ds max and 3Dconverter can't use it and can't find much on the web apart from some mugen game references.
It's their own custom format but its quite simple, if no one else makes an importer for the format then I'll make one for 3ds max, but I'm guessing someone else will anyway as it's such a simple format.
Cheers!

Yeah i took a look at FMDL doesn't look hard at all Ill see what i can do.
[http://dev.cra0kalo.com/wp-content/uplo ... ox_MDL.png](http://dev.cra0kalo.com/wp-content/uploads/2014/12/Fox_MDL.png)
## Post #76
- Username: luxox18
- Rank: mega-veteran
- Number of posts: 176
- Joined date: Sat Jul 30, 2011 4:18 am
- Post datetime: 2014-12-26T23:40:28+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from cra0
>
> Yeah i took a look at FMDL doesn't look hard at all Ill see what i can do.
http://dev.cra0kalo.com/wp-content/uplo ... ox_MDL.png

vertex buffer then uv-cords data.

have you tried to export a model?? I can't fit vertex with the UV 


(vertex in floats, size 12 bytes but ... uv data in float? size 28? )
## Post #77
- Username: stiffy360
- Rank: n00b
- Number of posts: 17
- Joined date: Sat Oct 11, 2014 11:17 am
- Post datetime: 2014-12-27T00:33:39+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from JayK
>
> I made a tool to extract the FPK files, I'm not completely happy with it as some of the filenames have illegal characters so I can't output those filename's, so to work around that I just made it put some hex digits out for the filename. Model format is fmdl and is super super simple, you can download the FPK Unpacker below, haven't really tested it thoroughly, so let me know if there are any problems. just drag an FPK file onto it.

FPK Unpacker

Having issues with opening up the fpks in data_02\Assets\tpp\pack with "invalid fpk file"
## Post #78
- Username: JayK
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Fri Jun 01, 2012 5:08 pm
- Post datetime: 2014-12-27T01:51:23+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

It will do that if the file doesn't have the right magic so there's probably something wrong with the file, did you decrypt it?
## Post #79
- Username: stiffy360
- Rank: n00b
- Number of posts: 17
- Joined date: Sat Oct 11, 2014 11:17 am
- Post datetime: 2014-12-27T04:12:07+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from JayK
>
> It will do that if the file doesn't have the right magic so there's probably something wrong with the file, did you decrypt it?

Yeah I forgot to decrypt it. Thanks! Any plans on repackaging? that way some more extreme model swapping might be possible (Or do you need to fully figure out how the files are stored in order to repack things)
## Post #80
- Username: JayK
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Fri Jun 01, 2012 5:08 pm
- Post datetime: 2014-12-27T15:30:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Repacking is fairly straightforward, the only thing I can see being a problem is the filenames/directory paths but if the game isn't actually using the ones written in the fpk for anything then it wouldn't be a problem, I'd have to test it.
## Post #81
- Username: wunk
- Rank: advanced
- Number of posts: 44
- Joined date: Thu Dec 23, 2010 4:49 pm
- Post datetime: 2014-12-27T23:42:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Lot of people seem to be monopolizing the information on file formats or something. Anyways heres what I found out about the FTEX and FTEXS files. I don't have an unpacked .exe to pick through figure out the unknown variables but heres what I discovered so far at least.

FTEX files contain information about a texture along with entries for each mip map level and some other variables I have yet to map out properly. Header is about 64 bytes. The last 16 bytes might be a CityHash128() of some sort and is unique to every FTEX file. Probably a hash used to depict the common filename to find the appropriate FTEXS files.

I'll post the 010 editor templates I use.

```
{
	unsigned int Magic <bgcolor=cPurple>;			// 0x58455446
	unsigned int Unknown;		                    // ?
	unsigned short DXType <bgcolor=cLtRed>;		    // 2 = DXT1, 4 = DXT5
	unsigned short  Width <bgcolor=cAqua>,
                    Height <bgcolor=cGreen>;
	unsigned short Unknown;		                    // ?
	unsigned char MipMaps <bgcolor=cYellow>;
	unsigned char Unkn[3];
	unsigned int Unkwn2[7];
    unsigned int Hash128[4] <bgcolor=cPurple>;
}

```


After this 64 byte header are the FTEX entries. Each entry is 16 bytes and there are as many entries found as in the MipMapCount variable in the header. This is to allow different mip map levels to be streamed in rather quickly.
The entry shows which accompanying FTEXS file to poke into for the data and some other data I haven't mapped out completely yet. When the last byte is set to 1 it points to a rather weird type of ftexs file with no BlockMaps to possibly show that the entire file is just compressed rather than a series of blocks.

```
{
	unsigned int BlockMapOffset <bgcolor=cLtRed>;
	unsigned int Flags;                             // ?
	unsigned int FileSize <bgcolor=cAqua>;			// Not including block headers
	unsigned char MipLevel <bgcolor=cPurple>;
	unsigned char FTEXSFileNumber 
                        <bgcolor=cLtRed>;
	unsigned char FTEXSFileBlockCount 
                        <bgcolor=cDkRed>;
	unsigned char Uncompressed <bgcolor=cDkGreen>;	// If this is set to 1 then the FTex file does not have a blockmap and is not DEFLATE compressed
									               	// FTEXFILE BlockCount will be set to 0 if this is set to 1
}
```


FTEXSFileNumber would show appropriate FTEXS to load for that mip map and FTEXSFileBlockCount would be the number of BlockMapEntries at BlockMapOffset within the FTEXS file.

So if you have wtm0_main0_def_bsm.ftex open and want to get mipmap level 2 then you would get the FTEXSFileNumber for that entry and load the appropriate FTEXS file with the number within it:



Once you got the Offset and FTEXS file you need then you're dealing with Blocks/chunks of data that may or may not be compressed(using DEFLATE, can simply be decompressed using a library like ZLIB to inflate it).
Here's the structure for the block/chunk map. The number of entries can be found in the previous FTEXSFileBlockCount variable.

```
{
	unsigned short CompressedSize;
	unsigned short UncompressedSize;
	unsigned short Unknown1;
	unsigned short Unknown2;			// Usually zero
};
```


If CompressedSize and UncompressedSize are the same then the block is uncompressed. Right after the table is the data which should be read and potentially uncompressed in the same order the blockmap has it.
The actual texture data is typically just a Raw DXT stream. I haven't checked out the other case when the Uncompressed flag is enabled.
## Post #82
- Username: JayK
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Fri Jun 01, 2012 5:08 pm
- Post datetime: 2014-12-28T00:45:45+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Thanks, the only reason I didn't write up anything and just made the tools was because I just didn't think many people would care for the information plus the writing up takes a lot of time (that and I'm not really good at explaining things) from what I remember when working with the format, the part after the file offset is the uncompressed size, when it is from .2 or .3 it is the overall uncompressed size as files .2 and .3 have a regular SEG format, whereas .1 doesn't. If you'd like I can attempt to write something up on those.

So I got bored and started working on a maxscript to extract the models 23,433 polys;
## Post #83
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2014-12-28T02:45:40+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from JayK
>
> Thanks, the only reason I didn't write up anything and just made the tools was because I just didn't think many people would care for the information plus the writing up takes a lot of time (that and I'm not really good at explaining things) from what I remember when working with the format, the part after the file offset is the uncompressed size, when it is from .2 or .3 it is the overall uncompressed size as files .2 and .3 have a regular SEG format, whereas .1 doesn't. If you'd like I can attempt to write something up on those.

So I got bored and started working on a maxscript to extract the models 23,433 polys;
Are you going to read in the normals or let max recalculate them and cause something like this

If you are not, ill continue my work on the format.
## Post #84
- Username: stiffy360
- Rank: n00b
- Number of posts: 17
- Joined date: Sat Oct 11, 2014 11:17 am
- Post datetime: 2014-12-28T03:29:03+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hey uh Jayk, one of the normal maps for raiden rai0_body0_def_hnm.ftex located in "data_01\Assets\tpp\chara\rai\Pictures" does not appear to unscramble properly.

[http://i.imgur.com/neqtf9e.png](http://i.imgur.com/neqtf9e.png)
## Post #85
- Username: JayK
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Fri Jun 01, 2012 5:08 pm
- Post datetime: 2014-12-28T03:48:15+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from cra0
>
> 
Are you going to read in the normals or let max recalculate them and cause something like this
If you are not, ill continue my work on the format.

You don't have to stop on my account I was just doing it because I was bored, I probably won't release mine anyway  plus I don't know much about bone importing so it'd take me a while.

> Reply from stiffy360
>
> Hey uh Jayk, one of the normal maps for raiden rai0_body0_def_hnm.ftex located in "data_01\Assets\tpp\chara\rai\Pictures" does not appear to unscramble properly.

http://i.imgur.com/neqtf9e.png

Eww :S i'll look into it :p
## Post #86
- Username: wunk
- Rank: advanced
- Number of posts: 44
- Joined date: Thu Dec 23, 2010 4:49 pm
- Post datetime: 2014-12-28T04:14:58+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from stiffy360
>
> Hey uh Jayk, one of the normal maps for raiden rai0_body0_def_hnm.ftex located in "data_01\Assets\tpp\chara\rai\Pictures" does not appear to unscramble properly.

http://i.imgur.com/neqtf9e.png
Yep. These are the kind of images I get when the that last flag in the FTEX entries is set to 1
It's like that for paz0_hair2_v00_c00_bsm_alp as well.
[http://i.imgur.com/p9f2RdJ.png](http://i.imgur.com/p9f2RdJ.png)

Looks like it stores the image and all of its mipmaps at once or something.
## Post #87
- Username: JayK
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Fri Jun 01, 2012 5:08 pm
- Post datetime: 2014-12-28T04:18:14+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Ok I've fixed the problem and made a new build of Ftex Unpacker, thanks for bringing it to my attention Stiffy. You can get the new build below;

[FTex Unpacker](https://dl.dropboxusercontent.com/u/6871888/SavemgoTools/FtexUnpacker.rar)


Edit: Hi Dee, it's just that it's a short int and not a char :p I made the same mistake hence the problem, it actually has 0x100 chunks
## Post #88
- Username: wunk
- Rank: advanced
- Number of posts: 44
- Joined date: Thu Dec 23, 2010 4:49 pm
- Post datetime: 2014-12-28T04:37:34+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Ahh that makes sense! I only saw that variable being 1 in the files I looked at. Thought it may have been a flag of some sort that omitted the need for a "block count"
## Post #89
- Username: stiffy360
- Rank: n00b
- Number of posts: 17
- Joined date: Sat Oct 11, 2014 11:17 am
- Post datetime: 2014-12-28T04:56:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from JayK
>
> Ok I've fixed the problem and made a new build of Ftex Unpacker, thanks for bringing it to my attention Stiffy. You can get the new build below;

FTex Unpacker


Edit: Hi Dee, it's just that it's a short int and not a char :p I made the same mistake hence the problem, it actually has 0x100 chunks

still having issues with it [http://i.imgur.com/GYKXEGa.png](http://i.imgur.com/GYKXEGa.png)

I would just trim it, but it actually cuts off the bottom bits of it already.
## Post #90
- Username: JayK
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Fri Jun 01, 2012 5:08 pm
- Post datetime: 2014-12-28T05:08:13+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hmm I don't know what the problem could be at this point o.0 the most I can do is offer you the dds I get when extracted, what are you using to view the dds files?

[https://dl.dropboxusercontent.com/u/687 ... ef_hnm.dds](https://dl.dropboxusercontent.com/u/6871888/rai0_body0_def_hnm.dds)
## Post #91
- Username: stiffy360
- Rank: n00b
- Number of posts: 17
- Joined date: Sat Oct 11, 2014 11:17 am
- Post datetime: 2014-12-28T05:11:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from JayK
>
> Hmm I don't know what the problem could be at this point o.0 the most I can do is offer you the dds I get when extracted, what are you using to view the dds files?

https://dl.dropboxusercontent.com/u/687 ... ef_hnm.dds

dxt1 bitmap manipulator, but it happens with photoshop as well.

EDIT: I had forgotten to decrypt the files again. it works now. Thanks for the help!
## Post #92
- Username: JayK
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Fri Jun 01, 2012 5:08 pm
- Post datetime: 2014-12-28T05:16:19+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Glad it did, because I was stumped beyond that point :p
## Post #93
- Username: volfin
- Rank: ultra-veteran
- Number of posts: 452
- Joined date: Sun Jul 06, 2014 1:30 pm
- Post datetime: 2014-12-28T06:45:33+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DEElekgolo
>
> Here's the structure for the block/chunk map. The number of entries can be found in the previous FTEXSFileBlockCount variable.
Code: Select allstruct BlockMapEntry
{
	unsigned short CompressedSize;
	unsigned short UncompressedSize;
	unsigned short Unknown1;
	unsigned short Unknown2;			// Usually zero
};

Looks to be this:

```
{
	unsigned short CompressedSize;
	unsigned short UncompressedSize;
	unsigned long  Block_Offset;
};
```


Block_Offset points to where that block begins in the ftexs file.
## Post #94
- Username: wunk
- Rank: advanced
- Number of posts: 44
- Joined date: Thu Dec 23, 2010 4:49 pm
- Post datetime: 2014-12-28T07:06:57+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

the .WEM files are just regular WAV files. The compression code is 0xFFFF though so the compression will have to be figured out.

Also cubemaps have 6 times as many mip map entries for each face at each MIP level.
I'm poking through more shaders and textures to figure out more. There's some good hints in data_02\shaders\dx11 that show the structures of some of the data being passed in(xor the fsop files with 0x9C as cra0 mentioned). Source code is all there. [http://i.imgur.com/yYlcxbR.png](http://i.imgur.com/yYlcxbR.png)

The byte at 0x1C(or short rather) in the FTEX files seem to show the intended usage of the texture or something like that.

If I was to write out a quick enum it would be something like:

```
{
    Masks        = 1, // Found for srm and mtm files
                     //     Each channel acts as a grayscale mask. Possibly PBR parameters(roughness, gloss, etc)
    Color       = 3, // Found for bsm files(albedo/diffuse texture)
    Reflection     = 7, // so far only found for cubemaps (cbm)
    NormalMap   = 9  // Found for nrm files
};

```


I really gotta get my hands on an unpacked EXE so I can really poke around rather than puttering around blindly.

@volfin

Looks correct!
## Post #95
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2014-12-28T07:50:17+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DEElekgolo
>
> the .WEM files are just regular WAV files. The compression code is 0xFFFF though so the compression will have to be figured out.

Also cubemaps have 6 times as many mip map entries for each face at each MIP level.
I'm poking through more shaders and textures to figure out more. There's some good hints in data_02\shaders\dx11 that show the structures of some of the data being passed in(xor the fsop files with 0x9C as cra0 mentioned). Source code is all there. http://i.imgur.com/yYlcxbR.png

The byte at 0x1C(or short rather) in the FTEX files seem to show the intended usage of the texture or something like that.

If I was to write out a quick enum it would be something like:
Code: Select allenum FTEX_USAGE
{
    Masks        = 1, // Found for srm and mtm files
                     //     Each channel acts as a grayscale mask. Possibly PBR parameters(roughness, gloss, etc)
    Color       = 3, // Found for bsm files(albedo/diffuse texture)
    Reflection     = 7, // so far only found for cubemaps (cbm)
    NormalMap   = 9  // Found for nrm files
};


I really gotta get my hands on an unpacked EXE so I can really poke around rather than puttering around blindly.

@volfin

Looks correct!
I dumped the PE region from memory if you want. PM me
## Post #96
- Username: crash2317
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Tue Aug 26, 2014 7:52 am
- Post datetime: 2014-12-28T07:55:33+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

You guys are geniuses! I am a CG artist, and i've looked forward to work with the game models of snake and raiden for a looong time now. And now i see you guys creating realy tricky tools to finally get to the point, when all of MGS fans will be able to create a fan art, based on the result of your hard work. Thank you so much guys, really appreciated.

P.S. I have one technical question to you guys: how exactly are you reading the encrypted code of anything with hex editor? I know a bit of theory, but i would like to know some practical part of it. Thanks again!
## Post #97
- Username: JayK
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Fri Jun 01, 2012 5:08 pm
- Post datetime: 2014-12-28T12:14:54+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

If you really want to know about the FTEXS Dee, this is how the .1 files work. From the offsets in the FTEX file its basically

{
uint 16 compressedSize
uint 16 uncompressedSize
uint 16 unknown //always seems to be 0x08
uint 16 compressFlag // if its 0x80 its already uncompressed, if it's 0x0 its compressed
}

One thing I never understood is it repeats this block behined it, I don't know why they've made it do it twice. Also the end of the file always contains info for a texture in the next file although the next file has that info as well, that's another thing I found weird. Anyway you should know everything there is to know about tex's after this, hopefully someone else makes a repacker because at this point I can't be bothered :p
## Post #98
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2014-12-28T12:21:20+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Made a tool for unpacking and repacking FPK and FPKD.
[link](http://hackload.ru/files/MGSV_FPK_Tool.rar)
Also uses dictionary for weird names.

> Reply from DEElekgolo
>
> the .WEM files are just regular WAV files. The compression code is 0xFFFF though so the compression will have to be figured out.
Regular Wwise audio file, the converter is easy to find online.
## Post #99
- Username: Esppiral
- Rank: n00b
- Number of posts: 11
- Joined date: Thu Aug 14, 2014 11:39 pm
- Post datetime: 2014-12-28T17:44:59+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

This does not work with the ps3 version of the game? I just unpacked the .psarc where all the files are compressed and got a ton of files and forders including. fpk .fpkd .pftxs files etc. but I can't extract a shit from them using the posted tools.
## Post #100
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2014-12-28T18:13:16+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Esppiral
>
> This does not work with the ps3 version of the game?
No.

Hey, could anyone provide me with decrypted EBOOT.BIN from PS3 version?
## Post #101
- Username: wunk
- Rank: advanced
- Number of posts: 44
- Joined date: Thu Dec 23, 2010 4:49 pm
- Post datetime: 2014-12-28T20:55:06+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from JayK
>
> If you really want to know about the FTEXS Dee, this is how the .1 files work. From the offsets in the FTEX file its basically

{
uint 16 compressedSize
uint 16 uncompressedSize
uint 16 unknown //always seems to be 0x08
uint 16 compressFlag // if its 0x80 its already uncompressed, if it's 0x0 its compressed
}

One thing I never understood is it repeats this block behined it, I don't know why they've made it do it twice. Also the end of the file always contains info for a texture in the next file although the next file has that info as well, that's another thing I found weird. Anyway you should know everything there is to know about tex's after this, hopefully someone else makes a repacker because at this point I can't be bothered :p

The redundant chunk entries are probably so that textures can be continuously streamed in without having to poke into the FTEX file again or something. So when it is done reading one mip map level it immediately knows where to go for the next level mip map and can just chain through until it reaches the null entry(last 8 bytes in the last ftexs file) to know it is done, as if each file was to be appended to the other continously.
Pretty much any file with s at the end of it is structured with some stream-like behavior.

The weird format of the first entry found in the .1.ftexs files is probably some special format lead-in for the complete stream. With that first 0x08 variable being the offset immediately after the Chunkentry itself. I usually found Compressed/Uncompressed Sizes of 0x8 or 0x10. Probably the lowest mip entry.  Not sure about the compress flag but that 0x80 seems to only show for the first entry in .1 files so it's probably just a flag to show that it is at the beginning of a stream and zero just lets it know to continue on. When it reaches a zero entry when all 8 bytes are zero then it knows to stop(By possibly checking if CompressedSize and UncompressedSize are Zero).

If that structure is true then it would be something like

```
{
	unsigned short CompressedSize;
	unsigned short UncompressedSize;
	unsigned short Offset;
	unsigned short StreamFlags;
};
```
## Post #102
- Username: EIREXE
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Mon Apr 16, 2012 1:29 am
- Post datetime: 2014-12-28T21:15:32+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

For some reason the fpk unpacker stops working when I try to use it, any idea why is this?
## Post #103
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2014-12-28T21:17:13+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

[https://www.youtube.com/watch?v=puQYvc3fAJQ](https://www.youtube.com/watch?v=puQYvc3fAJQ)
Thanks to Adrien DS for finding Kojima files.

> Reply from EIREXE
>
> For some reason the fpk unpacker stops working when I try to use it, any idea why is this?
It probably does all the stuff berofe you know it
## Post #104
- Username: JayK
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Fri Jun 01, 2012 5:08 pm
- Post datetime: 2014-12-28T21:25:13+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

This is what meant when I said I was bad at explaining things :p I don't think I explained the .1 ftex well enough 

> Reply from Sergeanur
>
> Hey, could anyone provide me with decrypted EBOOT.BIN from PS3 version?

I'll send it when I get home
## Post #105
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2014-12-28T22:07:58+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

[](http://postimg.org/image/50jyffb11/)
Got Scullface.
[https://www.youtube.com/watch?v=A8jd4cQdF-A](https://www.youtube.com/watch?v=A8jd4cQdF-A)
## Post #106
- Username: volfin
- Rank: ultra-veteran
- Number of posts: 452
- Joined date: Sun Jul 06, 2014 1:30 pm
- Post datetime: 2014-12-28T23:15:44+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DEElekgolo
>
> JayK wrote:If you really want to know about the FTEXS Dee, this is how the .1 files work. From the offsets in the FTEX file its basically

{
uint 16 compressedSize
uint 16 uncompressedSize
uint 16 unknown //always seems to be 0x08
uint 16 compressFlag // if its 0x80 its already uncompressed, if it's 0x0 its compressed
}

One thing I never understood is it repeats this block behined it, I don't know why they've made it do it twice. Also the end of the file always contains info for a texture in the next file although the next file has that info as well, that's another thing I found weird. Anyway you should know everything there is to know about tex's after this, hopefully someone else makes a repacker because at this point I can't be bothered :p

The redundant chunk entries are probably so that textures can be continuously streamed in without having to poke into the FTEX file again or something. So when it is done reading one mip map level it immediately knows where to go for the next level mip map and can just chain through until it reaches the null entry(last 8 bytes in the last ftexs file) to know it is done, as if each file was to be appended to the other continously.
Pretty much any file with s at the end of it is structured with some stream-like behavior.

The weird format of the first entry found in the .1.ftexs files is probably some special format lead-in for the complete stream. With that first 0x08 variable being the offset immediately after the Chunkentry itself. I usually found Compressed/Uncompressed Sizes of 0x8 or 0x10. Probably the lowest mip entry.  Not sure about the compress flag but that 0x80 seems to only show for the first entry in .1 files so it's probably just a flag to show that it is at the beginning of a stream and zero just lets it know to continue on. When it reaches a zero entry when all 8 bytes are zero then it knows to stop(By possibly checking if CompressedSize and UncompressedSize are Zero).

If that structure is true then it would be something like
Code: Select allstruct BlockMapEntry
{
	unsigned short CompressedSize;
	unsigned short UncompressedSize;
	unsigned short Offset;
	unsigned short StreamFlags;
};

except as I already stated above its:

```
{
   unsigned short CompressedSize;
   unsigned short UncompressedSize;
   unsigned long  Block_Offset;
};
```
  Whether it's compressed or not is signified by the difference in compressed/uncompressed sizes. if the sizes match, obviously it's not compressed. and if you're not reading that offset as a long, eventually you're going to wrap around your address space and read the wrong data.
## Post #107
- Username: JayK
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Fri Jun 01, 2012 5:08 pm
- Post datetime: 2014-12-28T23:17:59+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

the .1 files are different from the .2> files though. I was talking about the .1 files and I thought I made that clear by saying

> this is how the .1 files work.
## Post #108
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2014-12-29T01:06:42+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

there's model modding?

[https://www.youtube.com/watch?v=whU3f-DZ5zM](https://www.youtube.com/watch?v=whU3f-DZ5zM)
## Post #109
- Username: JayK
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Fri Jun 01, 2012 5:08 pm
- Post datetime: 2014-12-29T01:09:03+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Yeah, I gave him a special version of my maxscript :p
## Post #110
- Username: stiffy360
- Rank: n00b
- Number of posts: 17
- Joined date: Sat Oct 11, 2014 11:17 am
- Post datetime: 2014-12-29T02:37:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from JayK
>
> Yeah, I gave him a special version of my maxscript :p

Can you send me a version of it? I'd like to do some more serious model modding. Like sticking Gordon Freeman in there. (if possible dunno how texture location and whatnot are stored though.)

or at least try to get Miller/Kojima's Glasses baked into their meshes.
## Post #111
- Username: JayK
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Fri Jun 01, 2012 5:08 pm
- Post datetime: 2014-12-29T03:14:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from stiffy360
>
> JayK wrote:Yeah, I gave him a special version of my maxscript :p

Can you send me a version of it? I'd like to do some more serious model modding. Like sticking Gordon Freeman in there. (if possible dunno how texture location and whatnot are stored though.)

That wouldn't really be possible at this point it's a pretty barebones script which just imports the faces and verticies only and then writes out changes in existing vertex positions that the user wishes to make, you're honestly better off waiting for cra0s complete importer. I only made it because Shigu said Miller's collar was clipping when he did a model swap and wanted to move it out the way, he's a good friend so I made it for him.
## Post #112
- Username: stiffy360
- Rank: n00b
- Number of posts: 17
- Joined date: Sat Oct 11, 2014 11:17 am
- Post datetime: 2014-12-29T03:21:45+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from JayK
>
> stiffy360 wrote:JayK wrote:Yeah, I gave him a special version of my maxscript :p

Can you send me a version of it? I'd like to do some more serious model modding. Like sticking Gordon Freeman in there. (if possible dunno how texture location and whatnot are stored though.)


That wouldn't really be possible at this point it's a pretty barebones script which just imports the faces and verticies only and then writes out changes in existing vertex positions that the user wishes to make, you're honestly better off waiting for cra0s complete importer. I only made it because Shigu said Miller's collar was clipping when he did a model swap and wanted to move it out the way, he's a good friend so I made it for him.

Cra0 said he's working on the model format. He said nothing about making a model importer or exporter. Would it be too much to ask for the script to at least mess with the models? Port to SFM or something.
## Post #113
- Username: LinkOFF
- Rank: beginner
- Number of posts: 38
- Joined date: Mon Sep 08, 2014 7:32 am
- Post datetime: 2014-12-29T12:33:18+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from line
>
> there's model modding?

https://www.youtube.com/watch?v=whU3f-DZ5zM
dbecb5a22ccd3ae6da40cb2082db895b.fmdl in e20010_d03_fpk
[](http://firepic.org/?v=4.2014-12-29_5rur34hjntuf.png)
## Post #114
- Username: JayK
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Fri Jun 01, 2012 5:08 pm
- Post datetime: 2014-12-29T12:51:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from stiffy360
>
> 
Cra0 said he's working on the model format. He said nothing about making a model importer or exporter. Would it be too much to ask for the script to at least mess with the models? Port to SFM or something.

I'm sure he will release an importer, looks like he's making good progress as well and plans on having vertex normals and bones (something I wouldn't be able to do) imported as well, it'll be better than mine.

> Reply from LinkOFF
>
> dbecb5a22ccd3ae6da40cb2082db895b.fmdl in e20010_d03_fpk

He's talking about editing vertices, not just switching a model
## Post #115
- Username: lionheartuk
- Rank: double-veteran
- Number of posts: 749
- Joined date: Wed May 17, 2006 5:55 am
- Post datetime: 2014-12-29T15:00:59+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Will the max importer also import textures? Or will it simply import the models with materials, and we'll have to find the textures and apply them separately?
## Post #116
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2014-12-29T17:54:50+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

[FPK Tool](http://hackload.ru/files/MGSV_FPK_Tool.rar) is updated. Almost all names were added to fpk_dict.txt and one memory leak was fixed.
## Post #117
- Username: michalss
- Rank: Moderator
- Number of posts: 955
- Joined date: Mon Mar 28, 2011 3:42 am
- Post datetime: 2014-12-29T19:52:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> FPK Tool is updated. Almost all names were added to fpk_dict.txt and one memory leak was fixed.

What files i should provide to get hands on Fonts and TExts pls (X360)?
[None](https://xentaxbackup.github.io/file/8396_None)
## Post #118
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2014-12-29T20:16:18+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

[](http://postimg.org/image/aix46bmlb/)
Kojima in main menu

> Reply from michalss
>
> What files i should provide to get hands on Fonts and TExts pls (X360)?
It's obvious that font are in as\tpp\font\ and texts are in as\tpp\pack\ui\subtitles\EngVoice\
## Post #119
- Username: michalss
- Rank: Moderator
- Number of posts: 955
- Joined date: Mon Mar 28, 2011 3:42 am
- Post datetime: 2014-12-29T21:30:44+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> 
Kojima in main menu
michalss wrote:What files i should provide to get hands on Fonts and TExts pls (X360)?
It's obvious that font are in as\tpp\font\ and texts are in as\tpp\pack\ui\subtitles\EngVoice\

Done sent you PM, please check... Thx again
## Post #120
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2014-12-30T02:02:59+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Ok working on a model exporter/modder tool for this ty JayK
## Post #121
- Username: Kazeite
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Wed Sep 17, 2014 9:03 pm
- Post datetime: 2014-12-30T02:13:13+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I have a bug report for FtexUnpacker - there's one file it cannot convert:

\data_01\Assets\tpp\ui\texture\map\gntn_photo_clp.ftex

Other than that, stellar work all around. I anxiously await model converter
## Post #122
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2014-12-30T07:27:43+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> 
Got Scullface.
https://www.youtube.com/watch?v=A8jd4cQdF-A

meh skullface sucks. no personality, no originality. like a revolver ocelot clone wit the cowboy stuff. but his face is burned blah blah
## Post #123
- Username: wunk
- Rank: advanced
- Number of posts: 44
- Joined date: Thu Dec 23, 2010 4:49 pm
- Post datetime: 2014-12-30T08:45:13+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

[https://www.youtube.com/watch?v=Pyp25uV ... e=youtu.be](https://www.youtube.com/watch?v=Pyp25uVrtmE&feature=youtu.be)

People dunking into the model swapping scene now.
## Post #124
- Username: devilsnake88
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Dec 06, 2013 12:14 am
- Post datetime: 2014-12-30T09:35:06+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

[http://www.youtube.com/watch?v=fUD2jj2q90E](http://www.youtube.com/watch?v=fUD2jj2q90E)
Still the best *whistle* ^^
## Post #125
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2014-12-30T10:57:44+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Funky UI for model tool hopefully we can start doing model editing 


On a side note regarding sounds it seems if you trim like 33 bytes from the sbp files it can be loaded with RavioliGameTools


Now this isn't something new but I'm just putting it out there in case anyone wants to mess with audio or extract the bgm.
## Post #126
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2014-12-30T13:34:16+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Dictionaries for both QAR tool and FPK tool were updated. For FPK only 2 names remain unknown:
ff0c3364ffdd1cac33f4ea0e1ea9d2b3.fmdl
bb745c44a2b5324eb21d54e1fe4c90fe.parts
## Post #127
- Username: JayK
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Fri Jun 01, 2012 5:08 pm
- Post datetime: 2014-12-30T14:31:24+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I extended my maxscript to manipulate faces as well, decided to give big boss a shave because I felt he needed it;
## Post #128
- Username: devilsnake88
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Dec 06, 2013 12:14 am
- Post datetime: 2014-12-30T17:04:41+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from JayK
>
> I extended my maxscript to manipulate faces as well, decided to give big boss a shave because I felt he needed it;
AWESOME!
GG for your work and good luck to Cra0'!
## Post #129
- Username: wunk
- Rank: advanced
- Number of posts: 44
- Joined date: Thu Dec 23, 2010 4:49 pm
- Post datetime: 2014-12-31T03:37:20+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Can edit textures now
## Post #130
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2014-12-31T09:13:00+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

How is the possibility of never having to repack data_02.g0s looking?
## Post #131
- Username: stiffy360
- Rank: n00b
- Number of posts: 17
- Joined date: Sat Oct 11, 2014 11:17 am
- Post datetime: 2014-12-31T18:24:36+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DEElekgolo
>
> 
Can edit textures now

How would you go about doing that?
## Post #132
- Username: whiteraven
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Fri Aug 17, 2012 4:20 am
- Post datetime: 2014-12-31T20:02:52+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

FPS is now unlocked.

However Grenades seem to break when doing it. Can anyone else help debug for a fix?

[https://www.youtube.com/watch?v=34tnQQQMHV4](https://www.youtube.com/watch?v=34tnQQQMHV4)
## Post #133
- Username: Kazeite
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Wed Sep 17, 2014 9:03 pm
- Post datetime: 2014-12-31T20:30:19+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from stiffy360
>
> DEElekgolo wrote:
Can edit textures now

How would you go about doing that?

Well, converting and editing them is not a problem... mostly. Most of the textures can be converted to .dds by using JayK [FTexUnpacker](http://forum.xentax.com/viewtopic.php?p=102139#p102139).

It's re-packing them back into .ftex format that's been... problematic thus far. But apparently that problem's been solved. I guess we can wait a little for tutorial or something.

These are interesting times, wouldn't you agree? Every day brings new development, a new mod, tool or tutorial
## Post #134
- Username: rensole
- Rank: beginner
- Number of posts: 39
- Joined date: Tue Feb 26, 2013 4:34 am
- Post datetime: 2015-01-01T01:05:44+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

so anyone have a model dump ?
In obj or 3ds or something ?
## Post #135
- Username: volfin
- Rank: ultra-veteran
- Number of posts: 452
- Joined date: Sun Jul 06, 2014 1:30 pm
- Post datetime: 2015-01-01T01:23:49+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from rensole
>
> so anyone have a model dump ?
In obj or 3ds or something ?


Converting the data is simple enough. But what I find lacking so far is the offset/length data to automate the process. So for now i have to set the script to point to the right data blocks by hand. Until i work that part out, (or someone gives some real info instead of just pretty pictures) I can't release a converter.
## Post #136
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-01-01T02:39:39+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Kazeite
>
> stiffy360 wrote:DEElekgolo wrote:
Can edit textures now

How would you go about doing that?

Well, converting and editing them is not a problem... mostly. Most of the textures can be converted to .dds by using JayK FTexUnpacker.

It's re-packing them back into .ftex format that's been... problematic thus far. But apparently that problem's been solved. I guess we can wait a little for tutorial or something.

These are interesting times, wouldn't you agree? Every day brings new development, a new mod, tool or tutorial

if every engine/game had a seageanur or jayk, and/or had an engine like fox, modding would be coming back like a storm. unfortunately most companies are like ubisoft or dice/ea, and content lockdown is the norm to sell their shitty dlcs and micro transactions.
## Post #137
- Username: Kazeite
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Wed Sep 17, 2014 9:03 pm
- Post datetime: 2015-01-01T03:23:37+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

To be honest, when it comes to ease of modding, compared with engines like Creation Engine (used in Skyrim), Fox Engine isn't that good. In Skyrim, all textures are already in .dds format, and main executable is programmed to look for extra files when loading game, outside of main files.

Personally, I don't think that Phantom Pain is gonna be any better. MGS2 wasn't easily modable either, right?
## Post #138
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-01-01T05:16:45+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

agreed. it's just too bad skyrim is total shit and looks ugly as sin
## Post #139
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2015-01-01T09:06:12+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Kazeite
>
> To be honest, when it comes to ease of modding, compared with engines like Creation Engine (used in Skyrim), Fox Engine isn't that good. In Skyrim, all textures are already in .dds format, and main executable is programmed to look for extra files when loading game, outside of main files.

Personally, I don't think that Phantom Pain is gonna be any better. MGS2 wasn't easily modable either, right?
Are you complaining that you have to waste 2 secs of your life to convert ftex into dds and vice versa? Compared to previous Metal Gears, modding of MGS GZ is just a piece of cake. They used to have their own script engine, own streaming audio format and own texture format optimised in the best way for a console's VRAM. It was truly amazing what they have achieved back then. Now they just use LUA, Wwise and other stuff that every second company is using.

And yeah, I'm pretty sure there is a way to make a game work with unpacked g0s files.
## Post #140
- Username: Kazeite
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Wed Sep 17, 2014 9:03 pm
- Post datetime: 2015-01-01T13:01:35+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

No sir, I'm merely pointing out that Creation Engine is easier to mod than Fox Engine. That's all.

You and JayK and others are certainly doing great work with developing proper tools and while I personally actually haven't been able to convert any of my modified .dds back into .ftex, I trust that with time even I will be able to achieve that.

Thank you.
## Post #141
- Username: wunk
- Rank: advanced
- Number of posts: 44
- Joined date: Thu Dec 23, 2010 4:49 pm
- Post datetime: 2015-01-01T15:41:53+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Found a bunch of lua function names and such for each object.

Here are a bunch for the "GrTools" lua object found in data_02\Fox\Scripts\Gr

[http://pastie.org/9808166](http://pastie.org/9808166)

"SetEnableE3Boost"
## Post #142
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2015-01-02T04:37:42+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Slowly laying out the FMDL format with Jayk,chrrox,volfin   hope to see some model modding soon
## Post #143
- Username: volfin
- Rank: ultra-veteran
- Number of posts: 452
- Joined date: Sun Jul 06, 2014 1:30 pm
- Post datetime: 2015-01-02T06:27:27+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Yep with a lot of help from Cra0 i think we figured out the multi-model format portion (which was giving me nightmares).



Each color is a separate model. they were stored together and are used when the barriers get damaged.  Now we can step up to multi-mesh rigged models.
## Post #144
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2015-01-02T13:46:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Slowly getting there
@jayk @chrrox @volfin
## Post #145
- Username: lionheartuk
- Rank: double-veteran
- Number of posts: 749
- Joined date: Wed May 17, 2006 5:55 am
- Post datetime: 2015-01-02T14:17:46+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

This is an awesome development.

Does it import the textures automatically though, or will we manually assign them? 
Additionally, if it does import textures automatically will it just import the .ftex or only the converted .DDS files?

Really looking forward to playing about with this tool.
## Post #146
- Username: Ghosts11
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Fri Jan 02, 2015 12:47 am
- Post datetime: 2015-01-02T22:27:24+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Found it

Thanks for the great work and keep it up!
## Post #147
- Username: Esppiral
- Rank: n00b
- Number of posts: 11
- Joined date: Thu Aug 14, 2014 11:39 pm
- Post datetime: 2015-01-02T22:33:06+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Awesome, can't wait to put Ryo Hazuki in the middle of the battlefield.
## Post #148
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-01-03T03:47:13+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

right, and it'll look like complete shit since it's a old model in a next gen game
## Post #149
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2015-01-03T09:42:19+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from lionheartuk
>
> This is an awesome development.

Does it import the textures automatically though, or will we manually assign them? 
Additionally, if it does import textures automatically will it just import the .ftex or only the converted .DDS files?

Really looking forward to playing about with this tool.
[http://dev.cra0kalo.com/?p=268](http://dev.cra0kalo.com/?p=268)
## Post #150
- Username: Esppiral
- Rank: n00b
- Number of posts: 11
- Joined date: Thu Aug 14, 2014 11:39 pm
- Post datetime: 2015-01-03T12:04:06+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from odrin
>
> right, and it'll look like complete shit since it's a old model in a next gen game

The dreamcast passport model looks pretty awesome imho...
## Post #151
- Username: clairegrube
- Rank: beginner
- Number of posts: 26
- Joined date: Mon Feb 14, 2011 6:35 am
- Post datetime: 2015-01-03T15:31:11+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I was really going to boycot this overpriced demo of a game. I actually did up until now. This thread here is the sole purpose i bought it, straight and at no discount. Don't know who else I can talk for, but moddability adds enough value for me to buy a game i wouldn't have bought before.
I hope this isn't just an "oversight" on the programmer's part and Kojima decides to lock everything for Phantom Pain.
## Post #152
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2015-01-03T15:39:37+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from clairegrube
>
> I was really going to boycot this overpriced demo of a game. I actually did up until now. This thread here is the sole purpose i bought it, straight and at no discount. Don't know who else I can talk for, but moddability adds enough value for me to buy a game i wouldn't have bought before.
I hope this isn't just an "oversight" on the programmer's part and Kojima decides to lock everything for Phantom Pain.
Of course they will lock everything for The Phantom Pain. Same way they did for Ground Zeroes and every other MGS game starting from 2.
## Post #153
- Username: lionheartuk
- Rank: double-veteran
- Number of posts: 749
- Joined date: Wed May 17, 2006 5:55 am
- Post datetime: 2015-01-03T17:55:37+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from clairegrube
>
> I was really going to boycot this overpriced demo of a game. I actually did up until now. This thread here is the sole purpose i bought it, straight and at no discount. Don't know who else I can talk for, but moddability adds enough value for me to buy a game i wouldn't have bought before.
I hope this isn't just an "oversight" on the programmer's part and Kojima decides to lock everything for Phantom Pain.

I think you've misunderstood somewhere.

Theres no 'oversight' here at all, the game was locked, encrypted files, compressed formats and everything, people decrypted the formats. All of this is (to everyones knowledge) against the original developers wishes, people just got around that by being smart.

Of course depending on how large the modding scene reaches, if the devs discover it and are quite against it, then it wouldn't surprise me if they changed some formats for Phantom Pain.

Straight and at no discount, isn't the game only like 20 dollars anyway?

The guys who worked on this could probably crack a large number of games if they wanted to, but they only play with what interests them, MGS:GZ was one of those few.
## Post #154
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2015-01-03T18:11:26+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Okay it seems you actually can launch the game without repacking G0S if you put files from data_0x dir into root game dir and remove g0s files. The only issue is the game will most likely end up on endless loading or crash at some point of the game because not all filenames are known so far.
## Post #155
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-01-03T18:19:25+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from clairegrube
>
> I was really going to boycot this overpriced demo of a game. I actually did up until now. This thread here is the sole purpose i bought it, straight and at no discount. Don't know who else I can talk for, but moddability adds enough value for me to buy a game i wouldn't have bought before.
I hope this isn't just an "oversight" on the programmer's part and Kojima decides to lock everything for Phantom Pain.

this is the dumbest thing i've ever read anywhere for quite awhile. so you bought this prologue, which you consider a demo, at full price, because you thought modding added value to it.

then you "hope" that kojima makes modding impossible on phantom pain. are you completely mentally crippled? why would you hope for something like that, that goes against your own interests, and the interests of a huge number of people, including those who made it possible for you to enjoy the game?
## Post #156
- Username: lionheartuk
- Rank: double-veteran
- Number of posts: 749
- Joined date: Wed May 17, 2006 5:55 am
- Post datetime: 2015-01-03T18:38:59+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from odrin
>
> clairegrube wrote:I was really going to boycot this overpriced demo of a game. I actually did up until now. This thread here is the sole purpose i bought it, straight and at no discount. Don't know who else I can talk for, but moddability adds enough value for me to buy a game i wouldn't have bought before.
I hope this isn't just an "oversight" on the programmer's part and Kojima decides to lock everything for Phantom Pain.

this is the dumbest thing i've ever read anywhere for quite awhile. so you bought this prologue, which you consider a demo, at full price, because you thought modding added value to it.

then you "hope" that kojima makes modding impossible on phantom pain. are you completely mentally crippled? why would you hope for something like that, that goes against your own interests, and the interests of a huge number of people, including those who made it possible for you to enjoy the game?

I'm pretty sure he meant he hopes it isn't just a 'mistake' Konami made, and that they don't just suddenly lock it all up when Phantom Pain is released.

I'm still unsure what he meant by "oversight" since everything mod wise has been basically hacked in by taking apart the games files and changing the way it reads things, its not like they accidentally left the .g0s files as renamed zip files or something.
## Post #157
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-01-03T19:08:19+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> Okay it seems you actually can launch the game without repacking G0S if you put files from data_0x dir into root game dir and remove g0s files. The only issue is the game will most likely end up on endless loading or crash at some point of the game because not all filenames are known so far.
that's good. there is now 46 lua files left without known filenames. this filename list shouldn't take much longer to complete, should it?
## Post #158
- Username: clairegrube
- Rank: beginner
- Number of posts: 26
- Joined date: Mon Feb 14, 2011 6:35 am
- Post datetime: 2015-01-03T19:43:28+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I apologize if I made the impression of believing this game was particularly easy to mod.
Rereading my post, it certainly looked like i wanted to "reward" Kojima prod. for their support of modding, which is certainly not the case. To be clear, it was the progress i saw here that made me think the game could become enjoyable enough for me to overcome my disgust at the publisher to release such a short demo at (originally) full price.
I just hope the game developers stay ignorant (or indifferent) enough about matters here that all the progress you're making isn't rendered moot when Phantom Pain comes out.

It realize it was a pathetically cumbersome way of praising the work here, i should have kept it simple.
## Post #159
- Username: Kazeite
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Wed Sep 17, 2014 9:03 pm
- Post datetime: 2015-01-04T18:16:07+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I've managed to identify two filenames in data_01.g0s... At least I think so - the textures seems to match 

9ce24aeda49b.dds is cm_m0_w0_a1_c002_srm.dds
110aedb0f3a8.dds is cm_m0_w2_b1_c001_srm.dds

It's not much, I know, but every bit helps, right?
## Post #160
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-01-05T02:26:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

to those who cracked the models open already, what are the nude mod potentials for the existing assets? i'm just curious as people on steam have been asking about it. it seems paz is the only character with loose clothing, does she have an actual body model underneath or would it be shaved down to extremities and stomach geometry only since most of her body remains covered.
## Post #161
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2015-01-05T02:49:23+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from odrin
>
> to those who cracked the models open already, what are the nude mod potentials for the existing assets? i'm just curious as people on steam have been asking about it. it seems paz is the only character with loose clothing, does she have an actual body model underneath or would it be shaved down to extremities and stomach geometry only since most of her body remains covered.
This is the EXACT reason I don't like releasing models anymore you're curious because people have been asking about it? Yeah right buddy
## Post #162
- Username: Kazeite
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Wed Sep 17, 2014 9:03 pm
- Post datetime: 2015-01-05T03:10:23+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Wha?... You want a nude mod of Paz?! The tortured girl with bomb in her stomach? That Paz? 

That's kinda... messed up.

Personally I wanted model of Big Boss, to try to make MGS3 sneaking suit, but now... I can wait. A long time. If you don't want to release anything cra0, hell, if you decide not to work on model exporter anymore, I completely understand.
## Post #163
- Username: JayK
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Fri Jun 01, 2012 5:08 pm
- Post datetime: 2015-01-05T03:12:16+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

the Paz model actually has a penis
## Post #164
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2015-01-05T03:19:43+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Kazeite
>
> Wha?... You want a nude mod of Paz?! The tortured girl with bomb in her stomach? That Paz? 

That's kinda... messed up.

Personally I wanted model of Big Boss, to try to make MGS3 sneaking suit, but now... I can wait. A long time. If you don't want to release anything cra0, hell, if you decide not to work on model exporter anymore, I completely understand.
Na I'm still working on it and will release it just a bit disgusted at some people on the net that turn models nude even worse kid models nude. Like this guy Croix who made a nude model of sunny
## Post #165
- Username: takoyaki111
- Rank: advanced
- Number of posts: 48
- Joined date: Tue Oct 22, 2013 2:43 am
- Post datetime: 2015-01-05T04:06:47+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

you forgot to mention that it was the MGS4 version of sunny :V
## Post #166
- Username: rensole
- Rank: beginner
- Number of posts: 39
- Joined date: Tue Feb 26, 2013 4:34 am
- Post datetime: 2015-01-05T06:14:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

you guys are kidding right ?
Sunny mgs 4 nude model O.o ? the hell...
## Post #167
- Username: lionheartuk
- Rank: double-veteran
- Number of posts: 749
- Joined date: Wed May 17, 2006 5:55 am
- Post datetime: 2015-01-05T11:41:45+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from cra0
>
> Kazeite wrote:Wha?... You want a nude mod of Paz?! The tortured girl with bomb in her stomach? That Paz? 

That's kinda... messed up.

Personally I wanted model of Big Boss, to try to make MGS3 sneaking suit, but now... I can wait. A long time. If you don't want to release anything cra0, hell, if you decide not to work on model exporter anymore, I completely understand.
Na I'm still working on it and will release it just a bit disgusted at some people on the net that turn models nude even worse kid models nude. Like this guy Croix who made a nude model of sunny

Yeah its pretty sad honestly.
Just a small correction though, Paz is at least 21 in Peace Walker, possibly as high as 25, since she's like 18 in Peace Walker.

Regardless of age, I'm not a supporter of Nude Mods anyway.
## Post #168
- Username: JayK
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Fri Jun 01, 2012 5:08 pm
- Post datetime: 2015-01-05T14:35:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

It's just a shame that someone from Xentax asked that, I'd expect that sort of stuff from a place like Facepunch but not here, that's why i try to mainly release things as attachements here so only members can get it, seems we have some bad eggs here as well though
## Post #169
- Username: devilsnake88
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Dec 06, 2013 12:14 am
- Post datetime: 2015-01-05T14:41:09+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Maybe we should back to subject and stop speaking about strange sexual deviants of some people's wants to get censored nude models of minors...   
It annoys me!  
Thank you for understanding...

Cra0' have you some updates to give us about your work?
## Post #170
- Username: michalss
- Rank: Moderator
- Number of posts: 955
- Joined date: Mon Mar 28, 2011 3:42 am
- Post datetime: 2015-01-05T16:42:49+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from odrin
>
> to those who cracked the models open already, what are the nude mod potentials for the existing assets? i'm just curious as people on steam have been asking about it. it seems paz is the only character with loose clothing, does she have an actual body model underneath or would it be shaved down to extremities and stomach geometry only since most of her body remains covered.

Mate i don't care what ppl asking on stupid steam, in here we dont want to read such a crap about nudity models! This is mainly research forum not a pornhub.
## Post #171
- Username: Omission7x
- Rank: n00b
- Number of posts: 15
- Joined date: Sat Nov 15, 2014 4:15 pm
- Post datetime: 2015-01-05T22:12:39+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

........probably listened to one of Paz's caset taps, the one mentioning strange love's graphically intimate moments with her. Don't know if I should blame kojima for the timing of it. Would have been better if this was kept in peace walker. Her condition in GZ makes it tough to think about her as such.

The change in graphics really does makes it hard to think it's really Paz. I had to double check with PW just to make sure it's the right person, I mistaken her from the other females because of her straight hair and cheekbones.
## Post #172
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-01-06T02:54:49+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from cra0
>
> odrin wrote:to those who cracked the models open already, what are the nude mod potentials for the existing assets? i'm just curious as people on steam have been asking about it. it seems paz is the only character with loose clothing, does she have an actual body model underneath or would it be shaved down to extremities and stomach geometry only since most of her body remains covered.
This is the EXACT reason I don't like releasing models anymore you're curious because people have been asking about it? Yeah right buddy

it's an inevitability, so it's going to happen whether you like it or not. personally, i'd like more realism based stuff, but i'm not going to let regressive notions about sexuality stop me from researching the phenomenon known as nude mods either.

if you let what other people do stop you from doing what you love, i feel bad for you. that's like an artist quitting art because too many people are painting nudes. or a film director quitting film because of pornography

> Reply from michalss
>
> odrin wrote:to those who cracked the models open already, what are the nude mod potentials for the existing assets? i'm just curious as people on steam have been asking about it. it seems paz is the only character with loose clothing, does she have an actual body model underneath or would it be shaved down to extremities and stomach geometry only since most of her body remains covered.

Mate i don't care what ppl asking on stupid steam, in here we dont want to read such a crap about nudity models! This is mainly research forum not a pornhub.

nudity is not necessary sexual or pornographic.

i think research into that field gives us insight into how the models are structured. ie, do some of the characters have clothing as a secondary skinned item on top of the complete body or is it using the more popular resource conserving method where only hands and feet geometry are used.

> Reply from JayK
>
> It's just a shame that someone from Xentax asked that, I'd expect that sort of stuff from a place like Facepunch but not here, that's why i try to mainly release things as attachements here so only members can get it, seems we have some bad eggs here as well though

bad eggs based on assumptions and jumping to conclusion. i have no interest in nudity mods, but the research involved could yield other benefits and insights.

i am also bereft of the illusion that i'm going to stop people from doing what they like, even if it offends or disgusts me. nude modes don't affect me. but i am interested in its particulars for the fox engine.

and if someone asks me if i can provide a nude mod for him, and i know how, i would do it. i think it's part of being a community. some people are weirdos, but what they do isn't my business. i would like to help them out and expect the same from others. that's how modding stays alive. by contributions from all around, not just someone hoarding everything and not sharing because they don't like what people do with it.
## Post #173
- Username: JayK
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Fri Jun 01, 2012 5:08 pm
- Post datetime: 2015-01-06T04:00:34+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Your analogies are completely off and not relevant at all, if you are really interested in the fox modelling system, its the same as it is in other games, parts that the player won't see aren't there, it's the obvious thing to do and doing anything else wouldn't make any sense. I'm glad that you think making an underage nude model for someone is fine to do as its for the spirit of the modding community though, sorry I don't live up to your expectations of a modder and am allowing modding to die by not making people nude models.
## Post #174
- Username: volfin
- Rank: ultra-veteran
- Number of posts: 452
- Joined date: Sun Jul 06, 2014 1:30 pm
- Post datetime: 2015-01-06T05:28:48+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv


## Post #175
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-01-06T07:30:07+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from JayK
>
> Your analogies are completely off and not relevant at all, if you are really interested in the fox modelling system, its the same as it is in other games, parts that the player won't see aren't there, it's the obvious thing to do and doing anything else wouldn't make any sense. I'm glad that you think making an underage nude model for someone is fine to do as its for the spirit of the modding community though, sorry I don't live up to your expectations of a modder and am allowing modding to die by not making people nude models.

the character of paz is an adult of mid 20s, not underage.

i didn't advocate doing any and all requests, i only advocated the freedom to do nude models in the most general sense. i think it's understood that illegal and morally repugnant things would be denied on principle. however, if normal nude modding benefits the research side of things or fits the context of the game/story/situation, which in this case, i believe it does, then it is to the modding community's advantage that such an avenue be left open rather than closed off due to preconceptions and presumptions about people's intentions.

frankly, the creepy suggestions people have brought up says more about them than it does me.
## Post #176
- Username: dragbody
- Rank: Moderator
- Number of posts: 955
- Joined date: Mon Mar 28, 2011 3:42 am
- Post datetime: 2015-01-06T07:45:02+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Enough spamm! Conclution dont take some nudity models in here, that is all. If you still want to, do it in private. All replies, not to subject will be removed!
## Post #177
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2015-01-06T13:21:41+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Dictionary for QAR Tool is updated.
## Post #178
- Username: JayK
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Fri Jun 01, 2012 5:08 pm
- Post datetime: 2015-01-06T14:28:10+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from odrin
>
> 
the character of paz is an adult of mid 20s, not underage.

I'm aware of Paz's age, but you said

> and if someone asks me if i can provide a nude mod for him, and i know how, i would do it. i think it's part of being a community. some people are weirdos, but what they do isn't my business. i would like to help them out and expect the same from others.

I don't see why that would stop at Paz, however if you do draw the line at underage then you should understand why a lot of people draw the line at nude altogether. What you find morally acceptable others do not. Nothing more to say from me.
## Post #179
- Username: Omission7x
- Rank: n00b
- Number of posts: 15
- Joined date: Sat Nov 15, 2014 4:15 pm
- Post datetime: 2015-01-07T04:09:46+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Has anyone yet found a way to add more geometry to Snake? His mesh model stretches the textures on his suit. Or maybe someone could make an HD texture mod for snake, with an added honeycomb pattern design?

Something like this
[http://hdwallsource.com/img/2014/6/cool ... papers.jpg](http://hdwallsource.com/img/2014/6/cool-honeycomb-wallpaper-25833-26517-hd-wallpapers.jpg)

With bump maps too.
## Post #180
- Username: lionheartuk
- Rank: double-veteran
- Number of posts: 749
- Joined date: Wed May 17, 2006 5:55 am
- Post datetime: 2015-01-07T09:31:42+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Omission7x
>
> Has anyone yet found a way to add more geometry to Snake? His mesh model stretches the textures on his suit. Or maybe someone could make an HD texture mod for snake, with an added honeycomb pattern design?

Something like this
http://hdwallsource.com/img/2014/6/cool ... papers.jpg

With bump maps too.

Snakes body texture is already 'HD' (oddly textures have been 'HD' since the PS2, if you regard 1920x1280+ to be HD then 2048x2048 is HD).

Ground Zeroes, along with almost every modern game, doesn't use bump maps, they use normal maps.

I've seen that you can remove geometry from snake, so in theory adding geometry should be possible, the snag being that the added geometry would need to be weighted correctly, and so far it doesn't look like bones or weighting have been opened up, correct me if I'm wrong.
## Post #181
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-01-07T11:08:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> Dictionary for QAR Tool is updated.
Only 12 Lua files left, neat. 

How can we add new files to repack in the qar? (as opposed to updating/replacing files prepacked into the qar)
## Post #182
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2015-01-07T12:54:31+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from lionheartuk
>
> (oddly textures have been 'HD' since the PS2, if you regard 1920x1280+ to be HD then 2048x2048 is HD)
What do you mean by that? The biggest textures in PS2 version of MGS 3 I saw were 512x512, 631x343 and 1024x233.

> Reply from Higus
>
> How can we add new files to repack in the qar? (as opposed to updating/replacing files prepacked into the qar)
You need to add an entry into INF, but as long as you don't know how to calculate a hash for its name you can't do it.
## Post #183
- Username: lionheartuk
- Rank: double-veteran
- Number of posts: 749
- Joined date: Wed May 17, 2006 5:55 am
- Post datetime: 2015-01-07T13:02:56+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> lionheartuk wrote:(oddly textures have been 'HD' since the PS2, if you regard 1920x1280+ to be HD then 2048x2048 is HD)
What do you mean by that? The biggest textures in PS2 version of MGS 3 I saw were 512x512, 631x343 and 1024x233.

There were some PS2 games with textures at 1024x1024, and a very small number with 2048x2048 (I believe FF12), but commonly it was 2048x1024 and 1024x512 (along with some other rather unusual sizes such as your mentioned 1024x233).

I was more pointing out that HD doesn't really apply so well to textures, so ground zeroes for example on PC has 4k support, but it has no 4k textures at all, its mostly 1024 and a bunch of 2048's, the rest are all 512s and the like, those don't suddenly look much better when working things at 4k.

Snakes body texture is, I THINK, 2048x1024, so thats just a few pixels below what officially constitutes as HD anyway, thats all I meant really.

I'm quite pedantic when it comes to HD and other resolutions, I don't support the concept of 4 or 8k tvs at all, and to be honest I don't really support the idea of 3k tvs, at least not for another 4-5 years. Its a lot easier for games to be 3-4k+ than it is for something like films.
## Post #184
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-01-07T13:46:16+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> 
Higus wrote:How can we add new files to repack in the qar? (as opposed to updating/replacing files prepacked into the qar)
You need to add an entry into INF, but as long as you don't know how to calculate a hash for its name you can't do it.
Care to add some kind of feature to get around this?
## Post #185
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2015-01-07T15:44:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> Sergeanur wrote:
Higus wrote:How can we add new files to repack in the qar? (as opposed to updating/replacing files prepacked into the qar)
You need to add an entry into INF, but as long as you don't know how to calculate a hash for its name you can't do it.
Care to add some kind of feature to get around this?
Perhaps, but no plan to do such thing at the moment.
## Post #186
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-01-07T19:54:53+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from stiffy360
>
> DEElekgolo wrote:
Can edit textures now

How would you go about doing that?

Atvaark's FtexTool:
[https://github.com/Atvaark/FtexTool/releases](https://github.com/Atvaark/FtexTool/releases)
It was really pretty pointless up about until 2 hours ago when he updated it to convert with mip maps.
## Post #187
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-01-08T04:08:18+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Omission7x
>
> Has anyone yet found a way to add more geometry to Snake? His mesh model stretches the textures on his suit. Or maybe someone could make an HD texture mod for snake, with an added honeycomb pattern design?

Something like this
http://hdwallsource.com/img/2014/6/cool ... papers.jpg

With bump maps too.

if you add honeycombs, the stretching will be even more apparently, as now you have small honeycombs here, then suddenly long and big honeycombs here.

also texture stretching is actually good for certain fabrics and materials like rubber, leather, etc. his suit looks like some type of rubber or polymer
## Post #188
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2015-01-09T13:24:39+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Annnnd we have bones

[http://dev.cra0kalo.com/?p=277](http://dev.cra0kalo.com/?p=277)
## Post #189
- Username: lionheartuk
- Rank: double-veteran
- Number of posts: 749
- Joined date: Wed May 17, 2006 5:55 am
- Post datetime: 2015-01-09T14:49:25+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from cra0
>
> Annnnd we have bones
http://dev.cra0kalo.com/?p=277

Oh man thats awesome! Fantastic work!

Will you be releasing the tool before you complete model exporting back into the game at all?

I only ask as I won't be using the tool for importing back into the game, only for checking out the models themselves.

I wish someone was this enthusiastic and quick back when Twin Snakes came out, I'd still love to replace a lot of the shoddy models in that.
## Post #190
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-01-09T19:26:50+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

twin snakes had fine graphics and modeling work for its time. remember it came out nearly 11 years ago
## Post #191
- Username: lionheartuk
- Rank: double-veteran
- Number of posts: 749
- Joined date: Wed May 17, 2006 5:55 am
- Post datetime: 2015-01-09T20:16:55+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from odrin
>
> twin snakes had fine graphics and modeling work for its time. remember it came out nearly 11 years ago

Yeah of course, for its time it looked, well no, it came out just before MGS3 and after MGS2 but its models were of slightly lower quality than MGS2 but eitherway for its time it did indeed look great.

But now due to emulators like Dolphin it can be played in HD and the low texture resolutions really do show, as do the not so great character models at times (mostly its texture stuff, which is easy to fix, but otacons model is just plain ugly). That said, sticking a model of GZ's polycount into  TTS, even in emulator, the engine it runs on just might break, though I did replace tons of its textures and it still runs as well as before, but its dolphin loading them, so I imagine dolphin itself takes the bulk of the weight instead of the engine.
## Post #192
- Username: Kazeite
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Wed Sep 17, 2014 9:03 pm
- Post datetime: 2015-01-09T22:02:18+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from lionheartuk
>
> But now due to emulators like Dolphin it can be played in HD and the low texture resolutions really do show, as do the not so great character models at times (mostly its texture stuff, which is easy to fix, but otacons model is just plain ugly).
Metal Gear Solid HD Collection uses the exact same textures, right? It only allows you to play in higher resolution?
## Post #193
- Username: clairegrube
- Rank: beginner
- Number of posts: 26
- Joined date: Mon Feb 14, 2011 6:35 am
- Post datetime: 2015-01-10T00:42:03+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Kazeite
>
> Metal Gear Solid HD Collection uses the exact same textures, right? It only allows you to play in higher resolution?

Unfortunately Twin Snakes isn't part of the HD collection at all, so we'll never know. But as for the other HD collection games, i think some received better textures and some new shaders too, but i'd have to check on that.
## Post #194
- Username: JayK
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Fri Jun 01, 2012 5:08 pm
- Post datetime: 2015-01-10T03:39:22+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Yeah some of the texture sizes were increased for hd collection, but not all of them. If I was kojima productions though I wouldn't be happy with the way bluepoint handled the porting, seeing as they've encrypted their files and everything in the past bluepoint just psarc'd it all and left it at that.
## Post #195
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2015-01-10T05:16:28+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from lionheartuk
>
> cra0 wrote:Annnnd we have bones
http://dev.cra0kalo.com/?p=277

Oh man thats awesome! Fantastic work!

Will you be releasing the tool before you complete model exporting back into the game at all?

I only ask as I won't be using the tool for importing back into the game, only for checking out the models themselves.

I wish someone was this enthusiastic and quick back when Twin Snakes came out, I'd still love to replace a lot of the shoddy models in that.
Yes it will be released however when depends on some peoples opinion and when I think its working well.
## Post #196
- Username: Omission7x
- Rank: n00b
- Number of posts: 15
- Joined date: Sat Nov 15, 2014 4:15 pm
- Post datetime: 2015-01-10T10:02:15+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from odrin
>
> Omission7x wrote:Has anyone yet found a way to add more geometry to Snake? His mesh model stretches the textures on his suit. Or maybe someone could make an HD texture mod for snake, with an added honeycomb pattern design?

Something like this
http://hdwallsource.com/img/2014/6/cool ... papers.jpg

With bump maps too.

if you add honeycombs, the stretching will be even more apparently, as now you have small honeycombs here, then suddenly long and big honeycombs here.

also texture stretching is actually good for certain fabrics and materials like rubber, leather, etc. his suit looks like some type of rubber or polymer

Understood,  I was thinking of the sneaking outfits from splinter cell blacklist. They had this same design, it added a lot of depth to materials,  rather than just plain rubber or latex.



A faded snake skin pattern I think could also work for big boss as well. Anyways I do really like snake's default outfit, I just think it could some extra grain detailing. 

I also have an other question.  Could anyone recreate this next gen snake face?


Just the way it is, with close geometry level and texture detail.
## Post #197
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-01-10T10:42:12+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Omission7x
>
> 
I also have an other question.  Could anyone recreate this next gen snake face?
*image of big boss*

Just the way it is, with close geometry level and texture detail.
I don't understand... That's just Big Boss' face model without beard or hair meshes.


Also, anybody else experiencing about 1/3 frequent crash rates with custom textures?
## Post #198
- Username: clairegrube
- Rank: beginner
- Number of posts: 26
- Joined date: Mon Feb 14, 2011 6:35 am
- Post datetime: 2015-01-10T13:17:28+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Those patterns on Sam Fisher's shirt are probably shader-based, i doubt the shirt texture is *that* big.
The hex pattern on the Crysis 2 nanosuit was just a 32x32 normal map if i remember correctly, imagine a second texture overlay with a different UV map (basically that 32x32 tile repeated over and over again). They did the same with Jill Valentine's combat suit in Resident Evil 5.
## Post #199
- Username: zzz
- Rank: beginner
- Number of posts: 21
- Joined date: Wed May 21, 2014 9:36 pm
- Post datetime: 2015-01-10T16:30:22+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Can anyone upload the converted model and textures for the fighter jet? I'd like to look at them.
## Post #200
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-01-10T17:41:04+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> Omission7x wrote:
I also have an other question.  Could anyone recreate this next gen snake face?
*image of big boss*

Just the way it is, with close geometry level and texture detail.
I don't understand... That's just Big Boss' face model without beard or hair meshes.

lol if you read that guy's post all he does is complain about how the models and textures aren't good enough or next gen. i think there's something wrong with his computer or graphics card.
## Post #201
- Username: lionheartuk
- Rank: double-veteran
- Number of posts: 749
- Joined date: Wed May 17, 2006 5:55 am
- Post datetime: 2015-01-10T17:46:56+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Kazeite
>
> lionheartuk wrote:But now due to emulators like Dolphin it can be played in HD and the low texture resolutions really do show, as do the not so great character models at times (mostly its texture stuff, which is easy to fix, but otacons model is just plain ugly).
Metal Gear Solid HD Collection uses the exact same textures, right? It only allows you to play in higher resolution?

As mentioned by another user TTS wasn't in the HD collection (which tbh is good, I don't imagine converting a gamecube game to a PS3 game would be particularly easy).
## Post #202
- Username: volfin
- Rank: ultra-veteran
- Number of posts: 452
- Joined date: Sun Jul 06, 2014 1:30 pm
- Post datetime: 2015-01-10T19:26:14+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from odrin
>
> lol if you read that guy's post all he does is complain about how the models and textures aren't good enough or next gen. i think there's something wrong with his computer or graphics card.

For some people nothing is ever good enough.
## Post #203
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2015-01-11T01:11:52+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Let me remind you guys that this thread is mainly for reversing the game assets. If you're going to have a discussion about graphics or what not either take it to pm or make another thread somewhere else. A little off topic isn't bad but lets try and keep it at a minimum.
## Post #204
- Username: Omission7x
- Rank: n00b
- Number of posts: 15
- Joined date: Sat Nov 15, 2014 4:15 pm
- Post datetime: 2015-01-11T01:57:50+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> Omission7x wrote:
I also have an other question.  Could anyone recreate this next gen snake face?
*image of big boss*

Just the way it is, with close geometry level and texture detail.
I don't understand... That's just Big Boss' face model without beard or hair meshes.

So you have the model of snake, i was unaware this was the same mesh underneath. facial hair makes it look different, it's probably because of the hair quality.


I think he looks better shaved, or at least use sharper Hair quality.

> Reply from clairegrube
>
> Those patterns on Sam Fisher's shirt are probably shader-based, i doubt the shirt texture is *that* big.
The hex pattern on the Crysis 2 nanosuit was just a 32x32 normal map if i remember correctly, imagine a second texture overlay with a different UV map (basically that 32x32 tile repeated over and over again). They did the same with Jill Valentine's combat suit in Resident Evil 5.

whatever size it is, shader based and all it works grate for adding depth to the material, depth that Snake's sneaking suit could also use.





> Reply from odrin
>
> lol if you read that guy's post all he does is complain about how the models and textures aren't good enough or next gen. i think there's something wrong with his computer or graphics card.

I don't think that's the case my specs are fine, 2x R9 290's in crossfire + core i7 4770k

Both GPUs and CPU are water cooled, and I'm also gaming on a 46' TV.

------------------------------------------------------------------------------------------------------------------------------


Some of you are probably not seeing Ground Zeroes in the same fidelity as me, or have setups that accommodate within it's requirements. I'm also not complaining, or at least not trying to sound like it. i'm more less highlighting things that can contribute to GZ's experience, through some suggestions.

> Reply from volfin
>
> odrin wrote:lol if you read that guy's post all he does is complain about how the models and textures aren't good enough or next gen. i think there's something wrong with his computer or graphics card.

For some people nothing is ever good enough.

Makes me wonder about the purpose of this thread and the ones who comment in it. I never mentioned that i went into Ground Zeroes Files and messed around with them, i haven't done this. It Seems that the ones who have chosen to go into the files were the ones themselves who had things they also wanted to change. I didn't make a character export/importer because i'm fine with playing as Snake. (as it was intended to be)

If everyone was really happy with the game, this thread would be empty and no one here would be digging into it's files. I'm not really here though to point fingers, things that contribute to lifting GZ's experience i support.
## Post #205
- Username: JayK
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Fri Jun 01, 2012 5:08 pm
- Post datetime: 2015-01-11T02:11:56+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Omission7x
>
> 
Makes me wonder about the purpose of this thread and the ones who comment in it. I never mentioned that i went into Ground Zeroes Files and messed around with them, i haven't done this. It Seems that the ones who have chosen to go into the files were the ones themselves who had things they also wanted to change. I didn't make a character export/importer because i'm fine with playing as Snake. (as it was intended to be)

If everyone was really happy with the game, this thread would be empty and no one here would be digging into it's files. I'm not really here though to point fingers, things that contribute to lifting GZ's experience i support.

Not really, some of us pick apart the game files because we enjoy the challenge of doing so not because we actually want to change anything. I don't speak for everyone but I'm sure a few others here that reverse game files do it for that reason as well.
## Post #206
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-01-11T03:09:05+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

i agree. i don't mod games i'm not happy with, i usually just uninstall them or never purchase them to begin with. modding's just a bonus for me.
## Post #207
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2015-01-11T03:16:16+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Omission7x
>
>  -some shitty post-
God dam it learn some forum etiquette and resize your images so they don't break the CSS of the forum seriously not cool
## Post #208
- Username: Omission7x
- Rank: n00b
- Number of posts: 15
- Joined date: Sat Nov 15, 2014 4:15 pm
- Post datetime: 2015-01-11T04:49:54+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from JayK
>
> Omission7x wrote:
Makes me wonder about the purpose of this thread and the ones who comment in it. I never mentioned that i went into Ground Zeroes Files and messed around with them, i haven't done this. It Seems that the ones who have chosen to go into the files were the ones themselves who had things they also wanted to change. I didn't make a character export/importer because i'm fine with playing as Snake. (as it was intended to be)

If everyone was really happy with the game, this thread would be empty and no one here would be digging into it's files. I'm not really here though to point fingers, things that contribute to lifting GZ's experience i support.

Not really, some of us pick apart the game files because we enjoy the challenge of doing so not because we actually want to change anything. I don't speak for everyone but I'm sure a few others here that reverse game files do it for that reason as well.

 I get that, and I too like the challenge of doing somethings. Though challenge or for fun encrypted files were made to keep people away. I still don't see how wanting to see textures is any better or worser than wanting to see their files that represent them.

 I like enhancements it increases replay value, it also increases sales too which I think konami would probably like to hear more. I look at it as a constructive endeavor, good for everyone not just myself.

Two more suggestions I got. Upgrading AO to HBAO, and bringing back shell casings that are missing from the console versions.

------------------------------------------------------------

Also, pardon my large pictures. I'll check before submitting more pictures. A majority of websites usually auto scale them, Or provide options to set them to scale. I was wondering how to do that here.
## Post #209
- Username: lionheartuk
- Rank: double-veteran
- Number of posts: 749
- Joined date: Wed May 17, 2006 5:55 am
- Post datetime: 2015-01-11T10:01:00+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from JayK
>
> Omission7x wrote:
Makes me wonder about the purpose of this thread and the ones who comment in it. I never mentioned that i went into Ground Zeroes Files and messed around with them, i haven't done this. It Seems that the ones who have chosen to go into the files were the ones themselves who had things they also wanted to change. I didn't make a character export/importer because i'm fine with playing as Snake. (as it was intended to be)

If everyone was really happy with the game, this thread would be empty and no one here would be digging into it's files. I'm not really here though to point fingers, things that contribute to lifting GZ's experience i support.

Not really, some of us pick apart the game files because we enjoy the challenge of doing so not because we actually want to change anything. I don't speak for everyone but I'm sure a few others here that reverse game files do it for that reason as well.

Its the same for me, I've no interest in replacing models or modding the game in general, I'm a 3d artist and I just like seeing what neat tricks my peers have created in order to make stuff look awesome.
## Post #210
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-01-17T19:45:10+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> Okay it seems you actually can launch the game without repacking G0S if you put files from data_0x dir into root game dir and remove g0s files. The only issue is the game will most likely end up on endless loading or crash at some point of the game because not all filenames are known so far.
When I do this for data_02, the game never leaves the first loading screen before the main menu. It's not the case of the missing lua files however, because when I repack data_02 without them, the game loads just fine.

> Reply from Higus
>
> Sergeanur wrote:Okay it seems you actually can launch the game without repacking G0S if you put files from data_0x dir into root game dir and remove g0s files. The only issue is the game will most likely end up on endless loading or crash at some point of the game because not all filenames are known so far.
When I do this for data_02, the game never leaves the first loading screen before the main menu. It's not the case of the missing lua files however, because when I repack data_02 without them, the game loads just fine.
Okay, so as references to that Assets folder show with the beginning forward slash "/Assets/" (meaning not a subdirectory), the game will actually look for the folder at the root directory of your drive apparently, as opposed to in the game's directory.
## Post #211
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2015-01-23T09:49:25+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Dictionary for FPK Tool is updated due to game's update. Now all names are known.
## Post #212
- Username: michalss
- Rank: Moderator
- Number of posts: 955
- Joined date: Mon Mar 28, 2011 3:42 am
- Post datetime: 2015-01-23T10:12:40+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> Dictionary for FPK Tool is updated due to game's update. Now all names are known.

Is there any update for X360 files pls ?
## Post #213
- Username: Esppiral
- Rank: n00b
- Number of posts: 11
- Joined date: Thu Aug 14, 2014 11:39 pm
- Post datetime: 2015-02-10T15:12:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Any progress so far?
## Post #214
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2015-03-01T23:07:02+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from michalss
>
> Sergeanur wrote:Dictionary for FPK Tool is updated due to game's update. Now all names are known.

Is there any update for X360 files pls ?
Yeah, I have discovered a console (PS3|X360) encryption a while ago. I'll post a tool as soon as I fix my website's domain.
## Post #215
- Username: michalss
- Rank: Moderator
- Number of posts: 955
- Joined date: Mon Mar 28, 2011 3:42 am
- Post datetime: 2015-03-02T16:47:40+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> michalss wrote:Sergeanur wrote:Dictionary for FPK Tool is updated due to game's update. Now all names are known.

Is there any update for X360 files pls ?
Yeah, I have discovered a console (PS3|X360) encryption a while ago. I'll post a tool as soon as I fix my website's domain.

Nice mate  thx
## Post #216
- Username: Evin
- Rank: ultra-veteran
- Number of posts: 348
- Joined date: Sat Aug 05, 2006 9:04 pm
- Post datetime: 2015-03-02T21:22:47+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> Yeah, I have discovered a console (PS3|X360) encryption a while ago. I'll post a tool as soon as I fix my website's domain.
This mean, maybe you can decrypt MGS4 files too (one day)?
## Post #217
- Username: lionheartuk
- Rank: double-veteran
- Number of posts: 749
- Joined date: Wed May 17, 2006 5:55 am
- Post datetime: 2015-03-02T23:45:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from evin
>
> Sergeanur wrote:Yeah, I have discovered a console (PS3|X360) encryption a while ago. I'll post a tool as soon as I fix my website's domain.
This mean, maybe you can decrypt MGS4 files too (one day)?

No someone editing tools for Ground Zeroes won't mean you can edit MGS4 stuff, its a different game.

But there is a topic about model and texture ripping from MGS4, not inserting anything back into the game, just ripping stuff, theres a tool and everything, its all really good stuff, check it out if you didn't before.

On the topic of GZ though, are we now able to replace non character models with custom models? I've seen people replacing snake, Kaz, Paz or soldiers, but I'm more interested in replacing things like the Jeeps or Trucks, or, idealy, a building, but I imagine thats not going to happen.
## Post #218
- Username: Evin
- Rank: ultra-veteran
- Number of posts: 348
- Joined date: Sat Aug 05, 2006 9:04 pm
- Post datetime: 2015-03-03T06:33:05+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from lionheartuk
>
> 
No someone editing tools for Ground Zeroes won't mean you can edit MGS4 stuff, its a different game.

But there is a topic about model and texture ripping from MGS4, not inserting anything back into the game, just ripping stuff, theres a tool and everything, its all really good stuff, check it out if you didn't before.

I'm asking it, because somebody wrote here that MGS4 and MGS5 use the same encryption method. I don't know if it's true or not, but I don't know anybody else, how can confirm it.

But I'll check that topic, thanks.
## Post #219
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2015-03-03T21:12:11+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from evin
>
> This mean, maybe you can decrypt MGS4 files too (one day)?

> Reply from evin
>
> I'm asking it, because somebody wrote here that MGS4 and MGS5 use the same encryption method. I don't know if it's true or not, but I don't know anybody else, how can confirm it.
I can pretty much decrypt most of the MGS4 stuff already. And encryption methods for MGS4 and MGS5 are different.
## Post #220
- Username: michalss
- Rank: Moderator
- Number of posts: 955
- Joined date: Mon Mar 28, 2011 3:42 am
- Post datetime: 2015-03-08T08:20:47+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Cau anyone please post dictionaty with all filenames ??? Im not sure where to find it.

Thx
## Post #221
- Username: michalss
- Rank: Moderator
- Number of posts: 955
- Joined date: Mon Mar 28, 2011 3:42 am
- Post datetime: 2015-03-08T08:24:43+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> Dictionary for QAR Tool is updated.

Ok but where is it ???? Download link or something would be g8... please
## Post #222
- Username: michalss
- Rank: Moderator
- Number of posts: 955
- Joined date: Mon Mar 28, 2011 3:42 am
- Post datetime: 2015-03-08T09:18:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Also found a problem with texture repacker.. Once you repack fonts, just pure repack without any modifications this will happend  Can anyone please help ??

@Atvaark - can you please have a look on that texture problem ?? you can find it in data_01\Assets\tpp\ui\Font\Font_RodinProN_DB_def_alp.ftex, in game it is first cinematics with subtitiles. I think, mipmaps in fonts textures are wrong...
## Post #223
- Username: The Chief
- Rank: veteran
- Number of posts: 101
- Joined date: Fri Oct 09, 2009 10:44 am
- Post datetime: 2015-03-09T18:10:33+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hey guys did anyone have in hand that tool for unpack the .g0s files please? it seems the link its dead =/ and i didnt make backup of the file before format lol

Thanks in advance.

Edit: Never mind i found it thanks any way
## Post #224
- Username: Evin
- Rank: ultra-veteran
- Number of posts: 348
- Joined date: Sat Aug 05, 2006 9:04 pm
- Post datetime: 2015-03-10T06:45:14+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> I can pretty much decrypt most of the MGS4 stuff already. And encryption methods for MGS4 and MGS5 are different.

Hi!

It means you will be publish a MGS4 tool maybe? I want to translate all MGS game, almost all solved, just MGS4 encryption is mystery for me. If I can help you to finish the tool with samples, testing, anything, let me know.

Thank you!
## Post #225
- Username: SecaProject
- Rank: beginner
- Number of posts: 31
- Joined date: Wed Apr 11, 2012 1:48 am
- Post datetime: 2015-03-10T15:32:15+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from evin
>
> Hi!

It means you will be publish a MGS4 tool maybe? I want to translate all MGS game, almost all solved, just MGS4 encryption is mystery for me. If I can help you to finish the tool with samples, testing, anything, let me know.

Thank you!

If you explore the files, you can find something, like the texts, without external tools.
## Post #226
- Username: Evin
- Rank: ultra-veteran
- Number of posts: 348
- Joined date: Sat Aug 05, 2006 9:04 pm
- Post datetime: 2015-03-10T20:49:43+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from tbg
>
> evin wrote:Hi!

It means you will be publish a MGS4 tool maybe? I want to translate all MGS game, almost all solved, just MGS4 encryption is mystery for me. If I can help you to finish the tool with samples, testing, anything, let me know.

Thank you!

If you explore the files, you can find something, like the texts, without external tools.

Not everything readable. I think 90% of texts are compressed into encrypted files, and if not encrypted, still need a text tool to edit them, but I can solve this issue, IF one day there is a way to decrypt the files. (Maybe MGS4 can read decrypted files, I hope, and then no need even encrypt tool either.)
## Post #227
- Username: SecaProject
- Rank: beginner
- Number of posts: 31
- Joined date: Wed Apr 11, 2012 1:48 am
- Post datetime: 2015-03-11T08:51:47+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from evin
>
> Not everything readable. I think 90% of texts are compressed into encrypted files, and if not encrypted, still need a text tool to edit them, but I can solve this issue, IF one day there is a way to decrypt the files. (Maybe MGS4 can read decrypted files, I hope, and then no need even encrypt tool either.)

At the moment i don't explore the files in MGS4 because i'm not interested in it, but in the others (except two) the texts are not encrypted.
## Post #228
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2015-03-16T11:44:46+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from evin
>
> It means you will be publish a MGS4 tool maybe? I want to translate all MGS game, almost all solved, just MGS4 encryption is mystery for me. If I can help you to finish the tool with samples, testing, anything, let me know.
I'm not planning on publishing any tools but I may be able to help you with providing resources and packing stuff back into game. Making MGS 4 translation could be an interesting experience.

PS. From MGS4's stage05.dat:
## Post #229
- Username: SecaProject
- Rank: beginner
- Number of posts: 31
- Joined date: Wed Apr 11, 2012 1:48 am
- Post datetime: 2015-03-16T16:45:34+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> PS. From MGS4's stage05.dat:

It's like a meme
## Post #230
- Username: GHzGangster
- Rank: n00b
- Number of posts: 19
- Joined date: Fri Aug 15, 2014 1:00 pm
- Post datetime: 2015-03-31T15:07:46+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Most MGS4 files are not encrypted, just in it's own format, though I'm pretty sure some of the .dats are encrypted.
MGO2 files on the other hand, are encrypted.
I think you got confused with the filename hashing, which someone said was the same for MGS3 and MGS4 (and GZ?) somewhere.

I believe a lot of text is stored somehow in the scenerio.gcx files (like urls and menu strings), but right now it's just a guess. I haven't looked into it too much lately. I'm not too sure what is actually stored in most of the dats, but perhaps the subtitles are stored along with the cutscene files, though I don't know how other games like MGS3 stored their subtitles in that sense.

And there are all kinds of silly images hidden in the files, pic related (but it got kinda blurry).

[http://i.cubeupload.com/4ufQH5.png](http://i.cubeupload.com/4ufQH5.png)
## Post #231
- Username: SecaProject
- Rank: beginner
- Number of posts: 31
- Joined date: Wed Apr 11, 2012 1:48 am
- Post datetime: 2015-04-01T19:36:05+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

At the moment i can extract all audios from MGS4, so nop, BGM and VOX aren't encrypted, but other files i don't know.
## Post #232
- Username: zubren
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Sun Apr 07, 2013 2:25 pm
- Post datetime: 2015-04-03T08:53:07+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from tbg
>
> At the moment i can extract all audios from MGS4, so nop, BGM and VOX aren't encrypted, but other files i don't know.
Extracted or converted? I thought all MGS4 audio was in it's own weird MTA2 format that no one has been able to crack yet.
## Post #233
- Username: GHzGangster
- Rank: n00b
- Number of posts: 19
- Joined date: Fri Aug 15, 2014 1:00 pm
- Post datetime: 2015-04-03T14:43:43+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from zubren
>
> Extracted or converted? I thought all MGS4 audio was in it's own weird MTA2 format that no one has been able to crack yet.
It is, I imagine he means extracted. I've looked at some of the Sony docs for their audio library, if I put it to use hopefully I could figure out something.

P.S. Someone just posted in the thread I made on HCS's site yesterday.  Hopefully we can figure it out.

P.S. 2. I keep feeling like I'm kinda derailing this thread every time I post.
## Post #234
- Username: SecaProject
- Rank: beginner
- Number of posts: 31
- Joined date: Wed Apr 11, 2012 1:48 am
- Post datetime: 2015-04-03T17:28:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from zubren
>
> Extracted or converted? I thought all MGS4 audio was in it's own weird MTA2 format that no one has been able to crack yet.
I mean extracted, i'm learning how to convert.

> Reply from GHzGangster
>
> It is, I imagine he means extracted. I've looked at some of the Sony docs for their audio library, if I put it to use hopefully I could figure out something.

P.S. Someone just posted in the thread I made on HCS's site yesterday.  Hopefully we can figure it out.

P.S. 2. I keep feeling like I'm kinda derailing this thread every time I post.
I post in this thread, i was talking with hcs and he told me the very best i can do it's write in his forum if any can help me. Like I say in the thread, i think i can do the conversor, but i don't know how to compile in c. I made my own tools with ruby to extract files from metal gear saga, but with this language i can't convert anything. If any can help me i think we can do a tool for that format. At the moment, the best we can do it's examine the vox's MTA2, because BGM are tiny different. The MTA2 audio in DBM files I don't learn yet.

Anyway, this is off topic for this thread.
## Post #235
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2015-04-25T04:10:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

public release fixed Vertex Buffer object numbers

[http://rel.cra0kalo.com/depot/foxEngine_mgs5_tool.zip](http://rel.cra0kalo.com/depot/foxEngine_mgs5_tool.zip)
## Post #236
- Username: raykingnihong
- Rank: mega-veteran
- Number of posts: 179
- Joined date: Mon Apr 07, 2014 3:06 am
- Post datetime: 2015-04-28T15:53:20+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hi cra0 My friend, thank you very much for the great work.
## Post #237
- Username: SecaProject
- Rank: beginner
- Number of posts: 31
- Joined date: Wed Apr 11, 2012 1:48 am
- Post datetime: 2015-04-29T07:31:31+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Nice, good job!
## Post #238
- Username: devilsnake88
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Dec 06, 2013 12:14 am
- Post datetime: 2015-05-15T20:36:32+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hi guys!
I have a question for you, I made some searchs to know what files can store models animations from MGS GZ/PP because I really wich someone can write a 3DS Max animations importer.

Anyway if someone is interessing here files extensions I found can contains animations, for sure it contains bones names!
.fcnp - .gani - .lani - tgt

Thank you for answers
## Post #239
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-05-17T15:38:00+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Can someone reupload the qar and fpk pls??
## Post #240
- Username: devilsnake88
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Dec 06, 2013 12:14 am
- Post datetime: 2015-05-19T15:21:55+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I did it:

 - MGSV_QAR_Tool:
[http://dfiles.eu/files/90qpsqhvm](http://dfiles.eu/files/90qpsqhvm)
[http://nosvideo.com/?v=x1fa2ky32vrc](http://nosvideo.com/?v=x1fa2ky32vrc)
[http://rapidgator.net/file/09b3f48a8fd0 ... eb433f968/](http://rapidgator.net/file/09b3f48a8fd00da56cc93d3eb433f968/)
[http://turbobit.net/kakt55odrs4b.html](http://turbobit.net/kakt55odrs4b.html)
[http://uploaded.net/file/ff6kfr2t](http://uploaded.net/file/ff6kfr2t)
[http://www.mediafire.com/download/k2fb6 ... R_Tool.zip](http://www.mediafire.com/download/k2fb6qeh64q8b4m/MGSV_QAR_Tool.zip)
[https://www.sendspace.com/file/4x52uj](https://www.sendspace.com/file/4x52uj)

 - MGSV_FPK_Tool:
[http://dfiles.eu/files/7xqekfc9x](http://dfiles.eu/files/7xqekfc9x)
[http://nosvideo.com/?v=981ylnq2ndpc](http://nosvideo.com/?v=981ylnq2ndpc)
[http://rapidgator.net/file/671392734e1d ... c74740178/](http://rapidgator.net/file/671392734e1d0e0c57a95c5c74740178/)
[http://turbobit.net/3u39zewkkbfx.html](http://turbobit.net/3u39zewkkbfx.html)
[http://uploaded.net/file/ukrlwydr](http://uploaded.net/file/ukrlwydr)
[http://www.mediafire.com/download/2vo1h ... K_Tool.zip](http://www.mediafire.com/download/2vo1hek93sxd8p8/MGSV_FPK_Tool.zip)
[https://www.sendspace.com/file/r76h37](https://www.sendspace.com/file/r76h37)
## Post #241
- Username: takoyaki111
- Rank: advanced
- Number of posts: 48
- Joined date: Tue Oct 22, 2013 2:43 am
- Post datetime: 2015-07-18T17:08:03+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

is there an updated FPK unpacker tool thats recent? the one i have is from december of 2014. unless thats the most recent one.


Also im trying to find the location of skullfaces hat.
## Post #242
- Username: maurocio
- Rank: n00b
- Number of posts: 15
- Joined date: Wed Jan 27, 2010 3:45 am
- Post datetime: 2015-08-18T09:30:27+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hi all,

I'll try to decrypt/unpack files (lua, json) from consoles versions.

Ps3 and 360 are similar, 360 has a little diference, but it applies xbddecompress result are that there are same file
Header is always E6EFF8A0

This is a zip file with a sample from pcencrypted, pcdecrypted, ps3 and 360 file.
[http://www53.zippyshare.com/v/WCdazkbS/file.html](http://www53.zippyshare.com/v/WCdazkbS/file.html)

Any help?

Thanks
## Post #243
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2015-08-30T12:19:05+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Okay fellas, I've been working on a tool update for TPP files, will be released shortly. Also a tool for decryption lua, fpk, etc. files for console versions of GZ will be released as well.
## Post #244
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2015-08-30T13:05:54+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> Okay fellas, I've been working on a tool update for TPP files, will be released shortly. Also a tool for decryption lua, fpk, etc. files for console versions of GZ will be released as well.
Lol it hasn't even come out yet wtf? great job though
## Post #245
- Username: devilsnake88
- Rank: beginner
- Number of posts: 32
- Joined date: Fri Dec 06, 2013 12:14 am
- Post datetime: 2015-08-30T13:58:32+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

@Sergeanur -> 

> Reply from cra0
>
> Lol it hasn't even come out yet wtf? great job though
@Crao: The power of Internet, you can find XBOX 360 and PS3 versions ^^
If you want it, I can help you
## Post #246
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2015-08-30T14:06:17+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from devilsnake88
>
> @Sergeanur -> 
cra0 wrote:Lol it hasn't even come out yet wtf? great job though
@Crao: The power of Internet, you can find XBOX 360 and PS3 versions ^^
If you want it, I can help you
I'll wait for the pc release not too long
## Post #247
- Username: michalss
- Rank: Moderator
- Number of posts: 955
- Joined date: Mon Mar 28, 2011 3:42 am
- Post datetime: 2015-08-30T15:04:59+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> Okay fellas, I've been working on a tool update for TPP files, will be released shortly. Also a tool for decryption lua, fpk, etc. files for console versions of GZ will be released as well.

Nice X360 yeah
## Post #248
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2015-08-30T16:01:58+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

MGS V QAR Tool v1.2
Now supports 77*************.dat files for PS3/XBOX360 versions of MGS TPP.
Example of TPP files extraction:

```
MGSV_QAR_Tool 77d720e8d8714bc.dat -u -r -e2
```

NOTES
1) The INF format was slightly changed in this version. The tool should work with older versions, although I would recommend to reunpack your files in order to update INF file.
2) So far you cannot extract the TPP files with real filenames. Apparently, developers added some salt onto hashes, so it'll take time to discover the algorhythm. Stay tuned for updates!

MGS V ResDec
This tool will decrypt several encrypted files (LUA, FPK, JSON, etc.) for MGS GZ and MGS TPP. Supports PC and console versions. Check Readme.txt for details.

EDIT:
MGS V FPK Tool v1.1
Updated FPK Tool now supports console versions.
## Post #249
- Username: GHzGangster
- Rank: n00b
- Number of posts: 19
- Joined date: Fri Aug 15, 2014 1:00 pm
- Post datetime: 2015-08-30T18:52:50+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> MGS V QAR Tool v1.2
Now supports 77*************.dat files for PS3/XBOX360 versions of MGS TPP.
Example of TPP files extraction:
Code: Select allMGSV_QAR_Tool 77d720e8d8714bc.dat -u -r -e2
NOTES
1) The INF format was slightly changed in this version. The tool should work with older versions, although I would recommend to reunpack your files in order to update INF file.
2) So far you cannot extract the TPP files with real filenames. Apparently, developers added some salt onto hashes, so it'll take time to discover the algorhythm. Stay tuned for updates!

MGS V ResDec
This tool will decrypt several encrypted files (LUA, FPK, JSON, etc.) for MGS GZ and MGS TPP. Supports PC and console versions. Check Readme.txt for details.

EDIT:
MGS V FPK Tool v1.1
Updated FPK Tool now supports console versions.
Thank you so much Serg, I've been looking at this for the last 2 days.
Is there a way to tell what sort of file seach prefix is supposed to be? I haven't really looked into GZ files.
(Nevermind about the MGO dats, I wasn't using the right args...)
And how did you get the filenames for your dictionary? I'd like to get the MGO filenames myself if possible.

P.S. @Cra0, if you notice, this GZ thread was posted before GZ was released too. 

Also, the .sdat files are PS3 EDATs with the SDAT options, there is no klic (use 0). I think these are those same shader files Cra0 looked at, the ones xored with 0x9c.

EDIT: Sorry, I've edited this post probably 20 times now...
## Post #250
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2015-08-30T19:44:02+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from GHzGangster
>
> And how did you get the filenames for your dictionary?
From PS3 version of the MGS GZ, from LUA scripts, from EXE, and some of those are simply blind guesses.

> Reply from GHzGangster
>
> I'd like to get the MGO filenames myself if possible.
Not possible so far as the hash algorithm was a bit altered for TPP. It's still based on CityHash as far as I can tell.
## Post #251
- Username: GHzGangster
- Rank: n00b
- Number of posts: 19
- Joined date: Fri Aug 15, 2014 1:00 pm
- Post datetime: 2015-08-30T19:55:44+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> Not possible so far as the hash algorithm was a bit altered for TPP. It's still based on CityHash as far as I can tell.
Are you sure it's a salt? Perhaps it's a different version of the CityHash library? I was getting different results with different versions before. I'll try looking out for it though.

EDIT: I found some Lua files I can't seem to decrypt, and I can't seem to decompile them either. Any ideas? [https://drive.google.com/file/d/0B6hFM_ ... sp=sharing](https://drive.google.com/file/d/0B6hFM_VpwGixY0JoREpZcV9kZGs/view?usp=sharing)
## Post #252
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2015-08-31T02:57:30+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

console fmdl's not using strings for texture names lets hope pc is.
## Post #253
- Username: TheRanger
- Rank: beginner
- Number of posts: 23
- Joined date: Tue Aug 25, 2015 2:11 am
- Post datetime: 2015-09-01T05:01:37+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> From PS3 version of the MGS GZ, from LUA scripts, from EXE, and some of those are simply blind guesses.

The game's out on PC platform and I guess you might have already started to work on it. In case you need samples, here it is :-

```
https://www.dropbox.com/s/eygbtll109nava1/e2fb02c35da41a21.dat?dl=0
```
## Post #254
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2015-09-01T08:11:06+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from TheRanger
>
> Code: Select allhttps://www.dropbox.com/s/eygbtll109nava1/e2fb02c35da41a21.dat?dl=0
That's just a WMV file.
## Post #255
- Username: TheRanger
- Rank: beginner
- Number of posts: 23
- Joined date: Tue Aug 25, 2015 2:11 am
- Post datetime: 2015-09-01T08:34:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> TheRanger wrote:Code: Select allhttps://www.dropbox.com/s/eygbtll109nava1/e2fb02c35da41a21.dat?dl=0
That's just a WMV file.

Oh extremely sorry, here is a 50MB sample file cut from 1 GB texture file of MGS V: TPP :-

```
https://www.dropbox.com/s/si21fudwtxc1sv5/texture1.dat?dl=0
```
## Post #256
- Username: Espio
- Rank: n00b
- Number of posts: 18
- Joined date: Mon Jan 08, 2007 7:47 am
- Post datetime: 2015-09-01T08:34:35+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

[http://www12.zippyshare.com/v/HppzopHq/file.html](http://www12.zippyshare.com/v/HppzopHq/file.html)
First 30Mb of chunk0.dat

I can send EXE via PM, but the game has Denuvo...

Files:

1521725440 chunk0.dat
1680226304 chunk1.dat
3208062976 chunk2.dat
2001730560 chunk3.dat
2564198400 chunk4.dat
 300829696 data1.dat
 142925879 e2f8e499bc8f3606.dat <-- wmv
 225198023 e2f9a1fda590d087.dat <-- wmv
  89517705 e2faa449a7e0781d.dat <-- wmv
  76821675 e2fb02c35da41a21.dat <-- wmv
 128221861 e2fbebbd66f86086.dat <-- wmv
3527175168 texture0.dat
1228731392 texture1.dat
2920239104 texture2.dat
1297381376 texture3.dat
2031604736 texture4.dat

Total 22974590295 bytes
## Post #257
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2015-09-01T14:04:04+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Slowly getting somewhere, can decrypt header already. Shouldn't take long to figure out the rest.
The QAR structure is quite different this time.
## Post #258
- Username: maurocio
- Rank: n00b
- Number of posts: 15
- Joined date: Wed Jan 27, 2010 3:45 am
- Post datetime: 2015-09-01T14:07:33+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> MGS V QAR Tool v1.2
Now supports 77*************.dat files for PS3/XBOX360 versions of MGS TPP.
Example of TPP files extraction:
Code: Select allMGSV_QAR_Tool 77d720e8d8714bc.dat -u -r -e2
NOTES
1) The INF format was slightly changed in this version. The tool should work with older versions, although I would recommend to reunpack your files in order to update INF file.
2) So far you cannot extract the TPP files with real filenames. Apparently, developers added some salt onto hashes, so it'll take time to discover the algorhythm. Stay tuned for updates!

MGS V ResDec
This tool will decrypt several encrypted files (LUA, FPK, JSON, etc.) for MGS GZ and MGS TPP. Supports PC and console versions. Check Readme.txt for details.

EDIT:
MGS V FPK Tool v1.1
Updated FPK Tool now supports console versions.

Many thanks 4 work Sergenaur.
## Post #259
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2015-09-01T19:23:41+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Decryption method completely discovered, tool coming up in a day or few. They've really changed a lot in a PC version. Resources are Zlib compressed now.
## Post #260
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-09-02T05:57:41+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Texture archives/pftxs files have also changed a lot in the console files. Subtitles/subp files haven't changed and can easily be extracted (if you know which encoding to use ASCII, UTF-8,  	ISO-8859-1 or ISO-8859-5).

I uploaded my findings to this public repository:
[https://github.com/Atvaark/TPP.FileFormats](https://github.com/Atvaark/TPP.FileFormats)
## Post #261
- Username: erik945
- Rank: mega-veteran
- Number of posts: 257
- Joined date: Sat Jan 21, 2012 12:43 am
- Post datetime: 2015-09-02T17:21:42+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

cra0  link to your tools foxEngine_mgs5_tool is broken. Can you reupload it? Thank you.
## Post #262
- Username: ferex
- Rank: n00b
- Number of posts: 15
- Joined date: Tue Aug 04, 2015 6:06 am
- Post datetime: 2015-09-03T14:48:19+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

could you tell me somebody.I want to translate MGS TPP PS3.The subtitles in the which files and someone could give me all text?because I dont know How ı will extract.
## Post #263
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-09-03T16:00:07+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from ferex
>
> could you tell me somebody.I want to translate MGS TPP PS3.The subtitles in the which files and someone could give me all text?because I dont know How ı will extract.
Translating all that dialog is quite ambitious. I dumped all the english subtitles I found in 77xxx.dat(data.qar) files and found like more than 77.000 lines. These are just the subtiles in the main archive. In Ground Zeroes each mission had their own subtitles packed in their respective FPK archives. I can't imagine how many lines there are in total.
If you want to take a look at them, I uploaded them all to this Github Repository:
[https://gist.github.com/Atvaark/c6e50e1bc77c910f05c9](https://gist.github.com/Atvaark/c6e50e1bc77c910f05c9)
## Post #264
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2015-09-03T17:06:42+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

MGSV QAR Tool v1.3
Now supports PC version of TPP. Also dictionary now works with TPP files too.

```
MGSV_QAR_Tool data1.dat -r
```
## Post #265
- Username: m4rx
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Sat Apr 28, 2012 1:04 am
- Post datetime: 2015-09-03T17:34:58+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> MGSV QAR Tool v1.3
Now supports PC version of TPP. Also dictionary now works with TPP files too.
Code: Select allMGSV_QAR_Tool data1.dat -r

This seems great! Can't wait to poke around the files tonight
## Post #266
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-09-03T18:57:56+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I updated my ftex unpacking/repacking tool to allow unpacking TPP textures:
[https://github.com/Atvaark/FtexTool/releases](https://github.com/Atvaark/FtexTool/releases)

Due to some changes smaller mip maps fail to decompress correctly.
## Post #267
- Username: OrangeC
- Rank: double-veteran
- Number of posts: 868
- Joined date: Sun Apr 20, 2008 9:58 am
- Post datetime: 2015-09-03T19:17:53+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Got it extracted. But anyone know where the music files are located?
## Post #268
- Username: m4rx
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Sat Apr 28, 2012 1:04 am
- Post datetime: 2015-09-03T19:38:06+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from OrangeC
>
> Got it extracted. But anyone know where the music files are located?

encrypted in .sbp files
## Post #269
- Username: ghelter
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Fri Sep 04, 2015 3:45 am
- Post datetime: 2015-09-03T20:11:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> MGSV QAR Tool v1.3
Now supports PC version of TPP. Also dictionary now works with TPP files too.
Code: Select allMGSV_QAR_Tool data1.dat -r

Brilliant work Sergeanur. 

So unfortunately everything isn't sorted into nice little folders anymore. Will there be any way to track down individual files for camera settings or something?
## Post #270
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2015-09-03T20:25:20+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from ghelter
>
> So unfortunately everything isn't sorted into nice little folders anymore. Will there be any way to track down individual files for camera settings or something?
It's all sorted in a same way, you just need to know the names and add them into dictionary.
## Post #271
- Username: Ganonmaster
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Wed May 29, 2013 3:11 am
- Post datetime: 2015-09-03T20:49:47+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> ghelter wrote:So unfortunately everything isn't sorted into nice little folders anymore. Will there be any way to track down individual files for camera settings or something?
It's all sorted in a same way, you just need to know the names and add them into dictionary.
Is there a way for noobs to sort out the filenames? I'm looking for a couple of different files but I'd hate to bug you guys for them. I can find my way around command line tools, but I'm not sure how to go about looking for filenames and adding them to the dictionary. Any help would be appreciated.
## Post #272
- Username: Alo81
- Rank: n00b
- Number of posts: 14
- Joined date: Fri Sep 04, 2015 6:57 am
- Post datetime: 2015-09-03T22:59:17+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Wanted to post a big thanks to you Serge.  

Using the unpacker I was able to disable FXAA, I'm gonna try injecting SMAA later.  

FXAA ON Extra High

FXAA OFF Extra High
## Post #273
- Username: twalrus
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Fri Sep 04, 2015 7:44 am
- Post datetime: 2015-09-04T00:11:30+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I am trying to navigate through the files myself, but I have really limited knowledge about any of this, but could someone who knows better than me figure out of to increase the draw distance of shadows or point me to the line where I can change that? This mod [http://www.nexusmods.com/metalgearsolidv/mods/11/?](http://www.nexusmods.com/metalgearsolidv/mods/11/?) did something like that and it points to a file location which is also present in TPP, but I doubt using the same file provided will work on TPP when it was made for GZ. The shadow draw distance seems way too low, but at the very least I'd like to experiment with different values.
## Post #274
- Username: Alo81
- Rank: n00b
- Number of posts: 14
- Joined date: Fri Sep 04, 2015 6:57 am
- Post datetime: 2015-09-04T01:03:19+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from twalrus
>
> I am trying to navigate through the files myself, but I have really limited knowledge about any of this, but could someone who knows better than me figure out of to increase the draw distance of shadows or point me to the line where I can change that? This mod http://www.nexusmods.com/metalgearsolidv/mods/11/? did something like that and it points to a file location which is also present in TPP, but I doubt using the same file provided will work on TPP when it was made for GZ. The shadow draw distance seems way too low, but at the very least I'd like to experiment with different values.

Heres the file you want: data1\Fox\Scripts\Gr\gr_init_dx11.lua

My recommendation for how to determine what to edit: Compare the vanilla Ground Zeroes version of that file to the modified one, there you can see all of the differences.  From that point, you know which settings to change to get an improvement.  

Look up the Notepad++ Compare plugin to make it easier to do.
## Post #275
- Username: davidhender
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Fri Sep 04, 2015 8:56 am
- Post datetime: 2015-09-04T01:03:31+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from atvaark
>
> I updated my ftex unpacking/repacking tool to allow unpacking TPP textures:
https://github.com/Atvaark/FtexTool/releases

Due to some changes smaller mip maps fail to decompress correctly.

whenever I try to unpack a pftxs file I get 

Unhandled Exception: System.IO.EndOfStreamException: Unable to read beyond the e
nd of the stream.
   at System.IO.BinaryReader.FillBuffer(Int32 numBytes)
   at System.IO.BinaryReader.ReadInt32()
   at PftxsTool.Psub.PsubFile.Read(Stream input)
   at PftxsTool.Pftxs.PftxsFile.Read(Stream input)
   at PftxsTool.Program.UnpackPftxFile(String path)
   at PftxsTool.Program.Main(String[] args)
## Post #276
- Username: twalrus
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Fri Sep 04, 2015 7:44 am
- Post datetime: 2015-09-04T01:44:27+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Alo81
>
> twalrus wrote:I am trying to navigate through the files myself, but I have really limited knowledge about any of this, but could someone who knows better than me figure out of to increase the draw distance of shadows or point me to the line where I can change that? This mod http://www.nexusmods.com/metalgearsolidv/mods/11/? did something like that and it points to a file location which is also present in TPP, but I doubt using the same file provided will work on TPP when it was made for GZ. The shadow draw distance seems way too low, but at the very least I'd like to experiment with different values.

Heres the file you want: data1\Fox\Scripts\Gr\gr_init_dx11.lua

My recommendation for how to determine what to edit: Compare the vanilla Ground Zeroes version of that file to the modified one, there you can see all of the differences.  From that point, you know which settings to change to get an improvement.  

Look up the Notepad++ Compare plugin to make it easier to do.

Using the Compare plugin you recommended I did find some things to increase which I think did make some improvement, shadows still do not load until you get sort of close, on Extra High of course. I poked around on my own past what the GZ mod did and still couldn't find much. Guess I will wait until someone else figures it out. Also I think there is a line in the data1\Fox\Scripts\Gr\gr_init_dx11.lua file that allows a higher quality version of telephone/electricity wires (Regardless of what they really are,) to be loaded in at greater distance, though I didn't mess with that setting I think it could be used to get rid of some of the aliasing that happens when you are looking at the wires from a long distance due to the wires being loaded as a 2D object rather than the 3D one that loads when you get a little closer. Once again I really have no idea how to go about that but I hope someone else figures out some cool graphical improvements that can be made from that file, or whatever file.
## Post #277
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-09-04T06:25:23+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from davidhender
>
> atvaark wrote:I updated my ftex unpacking/repacking tool to allow unpacking TPP textures:
https://github.com/Atvaark/FtexTool/releases

Due to some changes smaller mip maps fail to decompress correctly.

whenever I try to unpack a pftxs file I get 

Unhandled Exception: System.IO.EndOfStreamException: Unable to read beyond the e
nd of the stream.
   at System.IO.BinaryReader.FillBuffer(Int32 numBytes)
   at System.IO.BinaryReader.ReadInt32()
   at PftxsTool.Psub.PsubFile.Read(Stream input)
   at PftxsTool.Pftxs.PftxsFile.Read(Stream input)
   at PftxsTool.Program.UnpackPftxFile(String path)
   at PftxsTool.Program.Main(String[] args)

Like I already said on the previous page. The file format has changed and my tools haven't been updated yet.
I have already written a script to unpack the ftex and ftexs files from the pftxs archives and will perhaps release a fix this weekend.
## Post #278
- Username: Alo81
- Rank: n00b
- Number of posts: 14
- Joined date: Fri Sep 04, 2015 6:57 am
- Post datetime: 2015-09-04T15:36:26+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

How do we go about finding file names to add to dictionary.txt?  

I'm looking for the equivalent of "Assets\tpp\pack\player\parts\plparts_sna2_main0_def_v00" files so that I can try to figure out an FoV modification.  

I've looked through the PS3 bin included but even using that path structure to the files doesn't seem to turn up the file when put into the dictionary file.
## Post #279
- Username: Pepper
- Rank: mega-veteran
- Number of posts: 278
- Joined date: Thu Apr 17, 2008 10:48 am
- Post datetime: 2015-09-04T17:55:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Alo81
>
> Wanted to post a big thanks to you Serge.  

Using the unpacker I was able to disable FXAA, I'm gonna try injecting SMAA later.  

FXAA ON Extra High

FXAA OFF Extra High

You will probably need to put the SMAA shader code in a format the game will take (is it lua still or am I thinking of something else?) in place of the FXAA one and repack, game uses a differed (versus a more normal "forward") rendering system that screws up all injectors I've tried external to game files.
## Post #280
- Username: Alo81
- Rank: n00b
- Number of posts: 14
- Joined date: Fri Sep 04, 2015 6:57 am
- Post datetime: 2015-09-04T18:02:54+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Pepper
>
> Alo81 wrote:Wanted to post a big thanks to you Serge.  

Using the unpacker I was able to disable FXAA, I'm gonna try injecting SMAA later.  

FXAA ON Extra High

FXAA OFF Extra High


You will probably need to put the SMAA shader code in a format the game will take (is it lua still or am I thinking of something else?) in place of the FXAA one and repack, game uses a differed (versus a more normal "forward") rendering system that screws up all injectors I've tried external to game files.

I actually ended up getting it to work using Sfx 1.5.1 SMAA.  Its just the coverage isn't as great as I would hope, though it is better than the default FXAA implementation I think.  It's certainly sharper at the very least.  

Comparison:
AA Off


Default FXAA


Sfx injected SMAA
## Post #281
- Username: laszers
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Sat Sep 05, 2015 4:00 am
- Post datetime: 2015-09-04T20:26:23+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

So while im not new to modding, I am 100% new to the metal gear scene. Would someone be kind enough to point me in the direction of weapon damage parameters?

Thanks in advance.
## Post #282
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-09-04T20:53:10+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Alo81
>
> How do we go about finding file names to add to dictionary.txt?  

I'm looking for the equivalent of "Assets\tpp\pack\player\parts\plparts_sna2_main0_def_v00" files so that I can try to figure out an FoV modification.  

I've looked through the PS3 bin included but even using that path structure to the files doesn't seem to turn up the file when put into the dictionary file.

These are the filenames I could pull out of the PC archives:
[https://raw.githubusercontent.com/Atvaa ... mes_pc.txt](https://raw.githubusercontent.com/Atvaark/TPP.FileFormats/master/filenames_pc.txt)

Be aware that there will be lots of invalid filenames, lots of substrings of filenames and could use some more cleanup.
## Post #283
- Username: Alo81
- Rank: n00b
- Number of posts: 14
- Joined date: Fri Sep 04, 2015 6:57 am
- Post datetime: 2015-09-04T23:18:06+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from atvaark
>
> Alo81 wrote:How do we go about finding file names to add to dictionary.txt?  

I'm looking for the equivalent of "Assets\tpp\pack\player\parts\plparts_sna2_main0_def_v00" files so that I can try to figure out an FoV modification.  

I've looked through the PS3 bin included but even using that path structure to the files doesn't seem to turn up the file when put into the dictionary file.

These are the filenames I could pull out of the PC archives:
https://raw.githubusercontent.com/Atvaa ... mes_pc.txt

Be aware that there will be lots of invalid filenames, lots of substrings of filenames and could use some more cleanup.

Thanks for that link, but unfortunately it doesn't seem to line up with the specific files I'm trying to yank out.  

I threw this at the top of the dictionary.txt file: 
```
/Assets/tpp/pack/player/parts/plparts_sneaking_suit.fpk
```
 and it didn't get spit out the otherside when I ran the unpacking.
## Post #284
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2015-09-05T06:13:31+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Alo81
>
> I threw this at the top of the dictionary.txt file: Code: Select all/Assets/tpp/pack/player/parts/plparts_sneaking_suit.fpk and it didn't get spit out the otherside when I ran the unpacking.
Put it in without .fpk in the end, just

```
/Assets/tpp/pack/player/parts/plparts_sneaking_suit
```
## Post #285
- Username: Alo81
- Rank: n00b
- Number of posts: 14
- Joined date: Fri Sep 04, 2015 6:57 am
- Post datetime: 2015-09-05T08:27:22+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> Alo81 wrote:I threw this at the top of the dictionary.txt file: Code: Select all/Assets/tpp/pack/player/parts/plparts_sneaking_suit.fpk and it didn't get spit out the otherside when I ran the unpacking.
Put it in without .fpk in the end, just
Code: Select all/Assets/tpp/pack/player/parts/plparts_sneaking_suit
I've tried that as well already and unfortunately it still doesn't get found.

In fact, I even just tried it again, copying and pasting it exactly as you wrote it and still no dice.
## Post #286
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2015-09-05T09:59:10+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

MGSV QAR Tool v1.3.1
Changes:
- Two unknown extentions were discovered - bnk and fmtt.
- Dictionary.txt was updated with several new names.
- Dictionary.txt now will be used from EXE folder instead of the g0s/dat/inf folder.
## Post #287
- Username: Alo81
- Rank: n00b
- Number of posts: 14
- Joined date: Fri Sep 04, 2015 6:57 am
- Post datetime: 2015-09-05T13:47:05+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> MGSV QAR Tool v1.3.1
Changes:
- Two unknown extentions were discovered - bnk and fmtt.
- Dictionary.txt was updated with several new names.
- Dictionary.txt now will be used from EXE folder instead of the g0s/dat/inf folder.

I'm not certain MGSV QAR Tool was the cause, but thought I'd let you know that soon after a fresh boot, and using the new QAR tool version, I got a bluescreen of I believe "IRQL not less than or equal".  

Again, I'm not certain the tool was the cause, but that was the only additional software I've downloaded and I haven't had a blue screen in years.
## Post #288
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2015-09-05T13:50:04+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Alo81
>
> Sergeanur wrote:MGSV QAR Tool v1.3.1
Changes:
- Two unknown extentions were discovered - bnk and fmtt.
- Dictionary.txt was updated with several new names.
- Dictionary.txt now will be used from EXE folder instead of the g0s/dat/inf folder.

I'm not certain MGSV QAR Tool was the cause, but thought I'd let you know that soon after a fresh boot, and using the new QAR tool version, I got a bluescreen of I believe "IRQL not less than or equal".  

Again, I'm not certain the tool was the cause, but that was the only additional software I've downloaded and I haven't had a blue screen in years.
why would that cause you to bluescreen its running ring3 lol?? it was most likely due to a driver
## Post #289
- Username: fullban
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Sun Sep 06, 2015 6:09 am
- Post datetime: 2015-09-05T22:11:32+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

would I be able to change the FOV with this tool?
## Post #290
- Username: DMint
- Rank: n00b
- Number of posts: 19
- Joined date: Sun Sep 06, 2015 6:19 am
- Post datetime: 2015-09-05T22:32:50+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hey all! First just wanted to say thank you to all the authors to the tools for these games its been really great and such quick and awesome tools so quickly after it came out is just wonderful.

I'm having a bit of trouble doing a model swap in Phantom Pain at the moment I really want to play as Quiet but I'm having trouble trying to accomplish it. I swapped out the fcnp fmdl and frdv files fine and they worked, but my problem is that Big Boss' hair and facial hair are still on her model and I can't get them off no matter what I do. 

I tried comparing the normal_scarf/normal file's .parts file with the one under Raiden since I figured if one character wouldn't have the Boss' hair it would be his, but when I blanked the facialSettingFile value and the lipadjustbinaryfile values to match the Raiden .parts file the game would just hang after the company logos. Usually playing around with anything inside of the .parts file would just hang the game after the company logos. I know it's not Fox Tool because I tried just turning it into an xml and then re encrypting it and the game loaded fine.

I also tried looking for playertypetable.lua like in GZ to see if I could just auto change Big Boss to Raiden(or another character) and then swap out the files there instead but I couldn't find the lua anywhere and even when I changed the package locations in start.lua it would still load as Big Boss.

I've also also tried just swapping around the file names for the FPKs for Raiden and Snake to see if I could get that to load but it would just crash after company logos like usual.

Does anyone have any ideas? I'm at wits end here I've spent the last 2 days trying to get this working with no [phantom cigar. I'm at the point where I'm thinking about just opening the textures and scrubbing through all of them looking for it and alpha channeling out his hair but I'm worried that other characters would share the same texture and it would screw those up.

Another more minor problem I have is that the default machine gun that you start off's position gets all messed up and it's sticking inside of her and poking out, I have 0 idea on how I would fix this but I'm hoping that just switching to another gun will fix it for the most part. Is there anyway I could move the coordinates for it?


Thanks and sorry for the trouble!

-Edit-
Tried extracting everything out of texture0 and I just put a big alpha ontop of all the snake textures in there but my edits don't even show up in game. I noticed that there's a file in the folder named plparts_normal_scarf.pftxs so I'm assuming this is where the actual textures for these files are guess I might have to wait till pftxs tool is updated.


-Edit#2-
Found out that there is a way to convert MGS1 snake to Quiet just put this into your chunk0.dat and rerun that tool to repack it
[https://drive.google.com/file/d/0B3x_yY ... UyTEU/view](https://drive.google.com/file/d/0B3x_yY0gnj5sS2xaRkZaLUUyTEU/view)

-Just tried it and yeah it works but the primary gun is still inside of her body poking out and it looks really goofy. I don't mind the animations and voices staying as snake's but I really want to fix that. Do you guys think it's because Quiet's model is missing a bone that snake's has for where the gun is supposed to go? Like the one on her back works fine which I suppose is because she carries around a sniper rifle so it has a location for that but the primary one doesn't.

Still would like to get this solved though.
## Post #291
- Username: ISILVERCHAIN
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Sun Sep 06, 2015 2:28 pm
- Post datetime: 2015-09-06T06:34:48+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hello guys , any solution to FOV ( field of view ) ?
## Post #292
- Username: essenthy
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sat Sep 13, 2014 10:46 pm
- Post datetime: 2015-09-06T09:39:18+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

hey guys 

am i doing something wrong here ? the lua files that i extracted with the latest QAR tool are all crypted , is there a lua script to decrypte them ?

i tried with notepad++ same thing

edit; never mind am too stupid to read the readme and use -r
## Post #293
- Username: Linkr2
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Sun Sep 06, 2015 9:12 pm
- Post datetime: 2015-09-06T13:15:37+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Any possibility of modifying the game files in order to play with Sony's Dualshock layout (square, trinagle, R1, R2, etc...)?

Which dat I should decompress? Which format I should search for?

I'm not used this kind of things but definitely want to play this game with Playstation layout! And I work with Phtoshop so the extracting/files part is the difficlut part for me  

Thanks
## Post #294
- Username: CaptianKnuckles
- Rank: n00b
- Number of posts: 13
- Joined date: Mon Sep 07, 2015 4:34 am
- Post datetime: 2015-09-06T20:36:48+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hey, can anyone help me find the .fpk and .fpkd files for the XOF Soldier? Trying to get him to replace snakes MGS1 suit. Would appreciate help!
## Post #295
- Username: Wefi
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Sun Jan 15, 2012 11:41 am
- Post datetime: 2015-09-06T20:43:48+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DMint
>
> Hey all! First just wanted to say thank you to all the authors to the tools for these games its been really great and such quick and awesome tools so quickly after it came out is just wonderful.

I'm having a bit of trouble doing a model swap in Phantom Pain at the moment I really want to play as Quiet but I'm having trouble trying to accomplish it. I swapped out the fcnp fmdl and frdv files fine and they worked, but my problem is that Big Boss' hair and facial hair are still on her model and I can't get them off no matter what I do. 

I tried comparing the normal_scarf/normal file's .parts file with the one under Raiden since I figured if one character wouldn't have the Boss' hair it would be his, but when I blanked the facialSettingFile value and the lipadjustbinaryfile values to match the Raiden .parts file the game would just hang after the company logos. Usually playing around with anything inside of the .parts file would just hang the game after the company logos. I know it's not Fox Tool because I tried just turning it into an xml and then re encrypting it and the game loaded fine.

I also tried looking for playertypetable.lua like in GZ to see if I could just auto change Big Boss to Raiden(or another character) and then swap out the files there instead but I couldn't find the lua anywhere and even when I changed the package locations in start.lua it would still load as Big Boss.

I've also also tried just swapping around the file names for the FPKs for Raiden and Snake to see if I could get that to load but it would just crash after company logos like usual.

Does anyone have any ideas? I'm at wits end here I've spent the last 2 days trying to get this working with no [phantom cigar. I'm at the point where I'm thinking about just opening the textures and scrubbing through all of them looking for it and alpha channeling out his hair but I'm worried that other characters would share the same texture and it would screw those up.

Another more minor problem I have is that the default machine gun that you start off's position gets all messed up and it's sticking inside of her and poking out, I have 0 idea on how I would fix this but I'm hoping that just switching to another gun will fix it for the most part. Is there anyway I could move the coordinates for it?


Thanks and sorry for the trouble!

-Edit-
Tried extracting everything out of texture0 and I just put a big alpha ontop of all the snake textures in there but my edits don't even show up in game. I noticed that there's a file in the folder named plparts_normal_scarf.pftxs so I'm assuming this is where the actual textures for these files are guess I might have to wait till pftxs tool is updated.


-Edit#2-
Found out that there is a way to convert MGS1 snake to Quiet just put this into your chunk0.dat and rerun that tool to repack it
https://drive.google.com/file/d/0B3x_yY ... UyTEU/view

-Just tried it and yeah it works but the primary gun is still inside of her body poking out and it looks really goofy. I don't mind the animations and voices staying as snake's but I really want to fix that. Do you guys think it's because Quiet's model is missing a bone that snake's has for where the gun is supposed to go? Like the one on her back works fine which I suppose is because she carries around a sniper rifle so it has a location for that but the primary one doesn't.

Still would like to get this solved though.

Where did you find the Quiet Model at? Kinda new at MGSV modding, just poking around.


Edit1: I swapped the SolidSnake one with the Hospital Snake, and does the same thing.


Edit2: swapped out with sneaking suit snake. i am sure it's the bones missing for them, not sure how the model structure works for MGSV
## Post #296
- Username: VoliPanda
- Rank: n00b
- Number of posts: 17
- Joined date: Mon Sep 07, 2015 4:49 am
- Post datetime: 2015-09-06T20:59:48+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Greetings everyone.

I'm new to this community and wanted to ask a little for help. I'm currently looking for Phantom Pain's 3D models. Is it possible to find them in the files? Has anyone found out their location and which format are they on? Plus is there any way to convert them in to a .obj format?
Currently looking for the main characters + NPCs aka Big Boss/Snake, Quiet, Ocelot, D-Dog, D-Walker, Kojima. Doesn't have to the be entire character + animations, all I want is their meshes in standard pose. I plan to add bones later and make some nice poses haha.
A great thanks for the ones that made the QARtool and the ftexttool possible. Currently extracting all game files to see what I can find.

Great thanks in advance, and sorry if I can't post/ask for stuff like this :B

Edit1: Okay, so I found out about the .fpk files and it's tool in this topic. Judging by what's inside, I think that the fmdl file is the one that I might be looking for. Am I corrent? If so, how can I open/convert this file?
## Post #297
- Username: DMint
- Rank: n00b
- Number of posts: 19
- Joined date: Sun Sep 06, 2015 6:19 am
- Post datetime: 2015-09-06T23:17:20+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Wefi
>
> DMint wrote:Hey all! First just wanted to say thank you to all the authors to the tools for these games its been really great and such quick and awesome tools so quickly after it came out is just wonderful.

I'm having a bit of trouble doing a model swap in Phantom Pain at the moment I really want to play as Quiet but I'm having trouble trying to accomplish it. I swapped out the fcnp fmdl and frdv files fine and they worked, but my problem is that Big Boss' hair and facial hair are still on her model and I can't get them off no matter what I do. 

I tried comparing the normal_scarf/normal file's .parts file with the one under Raiden since I figured if one character wouldn't have the Boss' hair it would be his, but when I blanked the facialSettingFile value and the lipadjustbinaryfile values to match the Raiden .parts file the game would just hang after the company logos. Usually playing around with anything inside of the .parts file would just hang the game after the company logos. I know it's not Fox Tool because I tried just turning it into an xml and then re encrypting it and the game loaded fine.

I also tried looking for playertypetable.lua like in GZ to see if I could just auto change Big Boss to Raiden(or another character) and then swap out the files there instead but I couldn't find the lua anywhere and even when I changed the package locations in start.lua it would still load as Big Boss.

I've also also tried just swapping around the file names for the FPKs for Raiden and Snake to see if I could get that to load but it would just crash after company logos like usual.

Does anyone have any ideas? I'm at wits end here I've spent the last 2 days trying to get this working with no [phantom cigar. I'm at the point where I'm thinking about just opening the textures and scrubbing through all of them looking for it and alpha channeling out his hair but I'm worried that other characters would share the same texture and it would screw those up.

Another more minor problem I have is that the default machine gun that you start off's position gets all messed up and it's sticking inside of her and poking out, I have 0 idea on how I would fix this but I'm hoping that just switching to another gun will fix it for the most part. Is there anyway I could move the coordinates for it?


Thanks and sorry for the trouble!

-Edit-
Tried extracting everything out of texture0 and I just put a big alpha ontop of all the snake textures in there but my edits don't even show up in game. I noticed that there's a file in the folder named plparts_normal_scarf.pftxs so I'm assuming this is where the actual textures for these files are guess I might have to wait till pftxs tool is updated.


-Edit#2-
Found out that there is a way to convert MGS1 snake to Quiet just put this into your chunk0.dat and rerun that tool to repack it
https://drive.google.com/file/d/0B3x_yY ... UyTEU/view

-Just tried it and yeah it works but the primary gun is still inside of her body poking out and it looks really goofy. I don't mind the animations and voices staying as snake's but I really want to fix that. Do you guys think it's because Quiet's model is missing a bone that snake's has for where the gun is supposed to go? Like the one on her back works fine which I suppose is because she carries around a sniper rifle so it has a location for that but the primary one doesn't.

Still would like to get this solved though.

To find Quiet's files I just used a batch script to fpak-unpack all of the fpkd and fpk files in every chunk dat file and then just used the windows search to look for qui and pulled the ones out that came up and matched snake's file name. I'm pretty sure chunk0.dat has qui1 in it but if you want the quiet model files you can actually just pullt hem out of that drive.google link I posted that has em just use that fpak tool on extracting the mgs1_soldier.fpak in there.

> Reply from VoliPanda
>
> Greetings everyone.

I'm new to this community and wanted to ask a little for help. I'm currently looking for Phantom Pain's 3D models. Is it possible to find them in the files? Has anyone found out their location and which format are they on? Plus is there any way to convert them in to a .obj format?
Currently looking for the main characters + NPCs aka Big Boss/Snake, Quiet, Ocelot, D-Dog, D-Walker, Kojima. Doesn't have to the be entire character + animations, all I want is their meshes in standard pose. I plan to add bones later and make some nice poses haha.
A great thanks for the ones that made the QARtool and the ftexttool possible. Currently extracting all game files to see what I can find.

Great thanks in advance, and sorry if I can't post/ask for stuff like this :B

Edit1: Okay, so I found out about the .fpk files and it's tool in this topic. Judging by what's inside, I think that the fmdl file is the one that I might be looking for. Am I corrent? If so, how can I open/convert this file?

Someone was showing off a tool for that at one point but I think at the moment it's only in closed beta and I don't think you can write the files back out only import them and look at them. I could be wrong though I would love to be proved wrong.
## Post #298
- Username: zSydor
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Tue Apr 16, 2013 10:07 pm
- Post datetime: 2015-09-06T23:25:06+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I made a monster lmaoooooooooooooooooooo

[http://youtu.be/h-h2gD8ysvI](http://youtu.be/h-h2gD8ysvI)
## Post #299
- Username: CaptianKnuckles
- Rank: n00b
- Number of posts: 13
- Joined date: Mon Sep 07, 2015 4:34 am
- Post datetime: 2015-09-07T00:08:40+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from zSydor
>
> I made a monster lmaoooooooooooooooooooo

http://youtu.be/h-h2gD8ysvI

Oh my god, pls no.
## Post #300
- Username: DMint
- Rank: n00b
- Number of posts: 19
- Joined date: Sun Sep 06, 2015 6:19 am
- Post datetime: 2015-09-07T00:13:09+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from zSydor
>
> I made a monster lmaoooooooooooooooooooo

http://youtu.be/h-h2gD8ysvI

This is what I was saying would happen!
## Post #301
- Username: zSydor
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Tue Apr 16, 2013 10:07 pm
- Post datetime: 2015-09-07T00:23:34+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

haha. 

poor quiet
## Post #302
- Username: ComManDerBG
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Mon Sep 07, 2015 9:25 am
- Post datetime: 2015-09-07T01:31:15+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

OK i am completely new to this so bare with me here. I downloaded the QAR tool and drag data1 to and exacted (TPP pc version) but when i open it the text is all garbled. i have no idea what to do to fix this, and i looked up and down this forum and others. Please help
## Post #303
- Username: Wefi
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Sun Jan 15, 2012 11:41 am
- Post datetime: 2015-09-07T02:40:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from zSydor
>
> I made a monster lmaoooooooooooooooooooo

http://youtu.be/h-h2gD8ysvI
Kaz... I'm already a demon.
## Post #304
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-09-07T04:11:33+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Does anybody know where Snake's head models are located?
## Post #305
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2015-09-07T04:45:18+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

@Sergeanur
Want me to write a tool to parse out all the strings from those fpk files so we can have some decent folder structures?
## Post #306
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2015-09-07T08:14:32+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from ComManDerBG
>
> OK i am completely new to this so bare with me here. I downloaded the QAR tool and drag data1 to and exacted (TPP pc version) but when i open it the text is all garbled. i have no idea what to do to fix this, and i looked up and down this forum and others. Please help
Clearly you haven't read Readme.txt with example on how to extract TPP PC files.

> Reply from cra0
>
> @Sergeanur
Want me to write a tool to parse out all the strings from those fpk files so we can have some decent folder structures?
Go for it.
## Post #307
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-09-07T11:52:59+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Can we get an update on the fpk unpacker/repacker for TPP?
## Post #308
- Username: Alo81
- Rank: n00b
- Number of posts: 14
- Joined date: Fri Sep 04, 2015 6:57 am
- Post datetime: 2015-09-07T13:09:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I made an extended graphics settings mod. 



[http://orig05.deviantart.net/9da7/f/201 ... 98oue6.jpg](http://orig05.deviantart.net/9da7/f/2015/249/c/3/mgsvtpp_2015_09_06_23_56_57_921_low_by_aloooo81-d98oue6.jpg)
[http://orig02.deviantart.net/25a8/f/201 ... 98ouee.jpg](http://orig02.deviantart.net/25a8/f/2015/249/3/7/mgsvtpp_2015_09_06_23_56_57_921_high_by_aloooo81-d98ouee.jpg)
[http://orig08.deviantart.net/5502/f/201 ... 98oues.jpg](http://orig08.deviantart.net/5502/f/2015/249/5/0/mgsvtpp_2015_09_06_23_56_57_921_extra_by_aloooo81-d98oues.jpg)

[Download Link](http://www.nexusmods.com/phantompain/mods/1?)

Install instructions: 
	Extract this zip to your "MGS_TPP\master" folder. 
	Run the "Run This - Extra Extra High Settings.bat" file. 
	Launch the game.  

Here is the new settings configuration with the file.

Low settings 			=	Original Extra High
High Settings 			=	Playable extended settings
ExtraHigh Settings		=	Extreme settings for screenshots

If your PC has everything maxed out and has performance to spare, then you should probably check it out.  Keep in mind that ExtraHigh is VERY taxing and you most likely will not hold 60fps with it.
## Post #309
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2015-09-07T13:51:26+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> Can we get an update on the fpk unpacker/repacker for TPP?
Is there a reason for an update to be made?

> Reply from Alo81
>
> I made an extended graphics settings mod.
Could you use a previews instead of full images here?
## Post #310
- Username: VoliPanda
- Rank: n00b
- Number of posts: 17
- Joined date: Mon Sep 07, 2015 4:49 am
- Post datetime: 2015-09-07T13:55:50+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Greetings!

@cra0
Is there any ETA on the Fox Engine Model Studio? I saw the link for the download but it is down for now.
Thanks in advance.
## Post #311
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-09-07T14:16:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> Higus wrote:Can we get an update on the fpk unpacker/repacker for TPP?
Is there a reason for an update to be made?
Well it's not really a problem but it's a little annoying issue where the header reads the ground zeroes identifier for the windows version as "ste", whereas in phantom pain it is now "win", so after every repack you gotta manually correct it. Also if it's possible to openly modify the LUAs inside the FPKs it'd open up many avenues.
## Post #312
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2015-09-07T14:30:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from VoliPanda
>
> Greetings!

@cra0
Is there any ETA on the Fox Engine Model Studio? I saw the link for the download but it is down for now.
Thanks in advance.
Yes I took it down, am working on it. The format remained the same from GZ however they removed strings from the format.




But first we need proper file and folder structures so I'm going to make a tool generate strings for the QAR tool first.
DO NOT PM ME ASKING FOR TOOLS
Once that is done and we have some decent folder structures for those ftex's and fpks and such it should be ready.
[http://github.com/cra0kalo/MGSVGenStrings](http://github.com/cra0kalo/MGSVGenStrings)
## Post #313
- Username: VoliPanda
- Rank: n00b
- Number of posts: 17
- Joined date: Mon Sep 07, 2015 4:49 am
- Post datetime: 2015-09-07T14:38:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from cra0
>
> VoliPanda wrote:Greetings!

@cra0
Is there any ETA on the Fox Engine Model Studio? I saw the link for the download but it is down for now.
Thanks in advance.
Yes I took it down, am working on it. The format remained the same from GZ however they removed strings from the format.


But first we need proper file and folder structures so I'm going to make a tool generate strings for the QAR tool first.
DO NOT PM ME ASKING FOR TOOLS
Once that is done and we have some decent folder structures for those ftex's and fpks and such it should be ready.
http://github.com/cra0kalo/MGSVGenStrings

Patiently waiting and looking forward to it!
## Post #314
- Username: zSydor
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Tue Apr 16, 2013 10:07 pm
- Post datetime: 2015-09-07T15:58:14+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Wtf i made guys   

[http://youtu.be/Kt79xPx53WI](http://youtu.be/Kt79xPx53WI)
## Post #315
- Username: Alo81
- Rank: n00b
- Number of posts: 14
- Joined date: Fri Sep 04, 2015 6:57 am
- Post datetime: 2015-09-07T16:31:53+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> Alo81 wrote:I made an extended graphics settings mod. 
Could you use a previews instead of full images here?
Yeah, no problem bud.  Updated the post.
## Post #316
- Username: chiconspiracy
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Fri Sep 04, 2015 7:34 am
- Post datetime: 2015-09-07T17:48:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from laszers
>
> So while im not new to modding, I am 100% new to the metal gear scene. Would someone be kind enough to point me in the direction of weapon damage parameters?

Thanks in advance.

I would like to second this request, has anyone come across this as they've unpacked the files? I would guess it's in the data1.dat, but am away from my regular PC to check right now.
## Post #317
- Username: DMint
- Rank: n00b
- Number of posts: 19
- Joined date: Sun Sep 06, 2015 6:19 am
- Post datetime: 2015-09-07T18:18:23+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Welp I've pretty much given up I just spent the last 2 days trying to replace every texture and fmdl associated with the main gun trying to hide it for the quiet model but no matter what I do I can't manage to get my changes to show up. I'm not sure if it might be because I'm replacing the wrong model but when I looked at the texture of it, it looked like the proper one. I also tried just putting a big alpha mask on every one of the textures in the weapons but the changes wouldn't show up either.

I'm pretty sure the model for the main gun is sm00 but it looks like there was another texture that had pieces of it beginning with sit. I tried replacing it with just a blade of grass model but none of it would show up.

I guess I'll just have to wait for fox model studio to come out it'd be really useful to be able to even look at the gun model to check and see if its the correct one I'm replacing at least or maybe I'll just be able to add the extra bone point when it comes out so I won't even need to hide the gun.

Either way I'm stumped.
## Post #318
- Username: Polpalca
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Thu Jun 14, 2012 11:31 pm
- Post datetime: 2015-09-07T18:24:56+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

cra0
Will your new version of Fox Model Studio be able to export the static models also? Because when i tried to export some environment assets from GZ, it has given me an error (Error BlockSize not found Engine request size: 24) on some .fmdl's. Some statics are exportable without problems, some does not
## Post #319
- Username: chiconspiracy
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Fri Sep 04, 2015 7:34 am
- Post datetime: 2015-09-07T21:28:16+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from laszers
>
> So while im not new to modding, I am 100% new to the metal gear scene. Would someone be kind enough to point me in the direction of weapon damage parameters?

Thanks in advance.

Ok, I didn't have much time today, but I found what looks like a start in data1.dat, in the lua files. However, the weapon parameters are hard to guess at, as the file names are still messed up after unpacking with the QAR tool (make sure to use the -r parameter). I opened all of the LUA files with Notepad ++, and searched all windows to find what look like ammo counts for magazines and total ammo available for carrying by a number that appears to designate a specific weapon. When you actually put in a weapon's name as shown in game, nothing comes up however.

There are some other numbers which might indicate damage, but will require testing.
## Post #320
- Username: slowbeatle
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Tue Sep 08, 2015 8:30 am
- Post datetime: 2015-09-08T00:31:58+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from VoliPanda
>
> Greetings everyone.

I'm new to this community and wanted to ask a little for help. I'm currently looking for Phantom Pain's 3D models. Is it possible to find them in the files? Has anyone found out their location and which format are they on? Plus is there any way to convert them in to a .obj format?
Currently looking for the main characters + NPCs aka Big Boss/Snake, Quiet, Ocelot, D-Dog, D-Walker, Kojima. Doesn't have to the be entire character + animations, all I want is their meshes in standard pose. I plan to add bones later and make some nice poses haha.
A great thanks for the ones that made the QARtool and the ftexttool possible. Currently extracting all game files to see what I can find.

Great thanks in advance, and sorry if I can't post/ask for stuff like this :B

Edit1: Okay, so I found out about the .fpk files and it's tool in this topic. Judging by what's inside, I think that the fmdl file is the one that I might be looking for. Am I corrent? If so, how can I open/convert this file?

Can you share the root of the different characters please?
## Post #321
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2015-09-08T01:26:17+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Some strings from executable add to dictionary
[https://gist.github.com/cra0kalo/ab63772cf5bff6d97c92](https://gist.github.com/cra0kalo/ab63772cf5bff6d97c92)
## Post #322
- Username: laszers
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Sat Sep 05, 2015 4:00 am
- Post datetime: 2015-09-08T02:25:13+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from chiconspiracy
>
> laszers wrote:So while im not new to modding, I am 100% new to the metal gear scene. Would someone be kind enough to point me in the direction of weapon damage parameters?

Thanks in advance.

Ok, I didn't have much time today, but I found what looks like a start in data1.dat, in the lua files. However, the weapon parameters are hard to guess at, as the file names are still messed up after unpacking with the QAR tool (make sure to use the -r parameter). I opened all of the LUA files with Notepad ++, and searched all windows to find what look like ammo counts for magazines and total ammo available for carrying by a number that appears to designate a specific weapon. When you actually put in a weapon's name as shown in game, nothing comes up however.

There are some other numbers which might indicate damage, but will require testing.

I have kind of found the files that relate to damage a few days ago, but no one responded so I figured no one really cared.

if you want just straight damage, if you go into data1 you can find the lua file called 2f343d3e6eea4 this you can go change the DAM_SOURCE_Sniper (or any other gun type) and change it for each weapon. I got results, it does work, but you cant tell which weapon is which or if the DAM_SOURCE_Sniper, even with multiple entries, isnt specific to each different sniper just because we cant tell which in-game sniper or other gun is which. I guess we could find through trial and error, but that would take allot of time. If you find anything else please let me know, im interested in pursuing this further.
## Post #323
- Username: VoliPanda
- Rank: n00b
- Number of posts: 17
- Joined date: Mon Sep 07, 2015 4:49 am
- Post datetime: 2015-09-08T03:12:17+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from slowbeatle
>
> VoliPanda wrote:Greetings everyone.

I'm new to this community and wanted to ask a little for help. I'm currently looking for Phantom Pain's 3D models. Is it possible to find them in the files? Has anyone found out their location and which format are they on? Plus is there any way to convert them in to a .obj format?
Currently looking for the main characters + NPCs aka Big Boss/Snake, Quiet, Ocelot, D-Dog, D-Walker, Kojima. Doesn't have to the be entire character + animations, all I want is their meshes in standard pose. I plan to add bones later and make some nice poses haha.
A great thanks for the ones that made the QARtool and the ftexttool possible. Currently extracting all game files to see what I can find.

Great thanks in advance, and sorry if I can't post/ask for stuff like this :B

Edit1: Okay, so I found out about the .fpk files and it's tool in this topic. Judging by what's inside, I think that the fmdl file is the one that I might be looking for. Am I corrent? If so, how can I open/convert this file?

Can you share the root of the different characters please?

Here: [https://www.dropbox.com/s/53tb6gpythh0f ... rs.7z?dl=0](https://www.dropbox.com/s/53tb6gpythh0fza/Characters.7z?dl=0)
Thanks to Sergeanur, cra0 and JayK's script, I managed to extract these meshes. They have some weird bones along, but I'm still trying to work with them...
After quite some time doing research, I also found gun objects, such as pistols, assault rifles, SMGs, Rocket Launchers and Bears!
Still looking for D-Dog and Kojima though :/
## Post #324
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2015-09-08T05:35:45+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Here is the stringtool
[http://rel.cra0kalo.com/depot/genstr.zip](http://rel.cra0kalo.com/depot/genstr.zip)
[https://github.com/cra0kalo/MGSVGenStrings](https://github.com/cra0kalo/MGSVGenStrings)

Output is like
[https://gist.github.com/cra0kalo/480fef30a6b17a50d91a](https://gist.github.com/cra0kalo/480fef30a6b17a50d91a)
## Post #325
- Username: Robhood19
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Mon Aug 17, 2015 12:25 am
- Post datetime: 2015-09-08T06:15:14+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from cra0
>
> Here is the stringtool
http://rel.cra0kalo.com/depot/genstr.zip
https://github.com/cra0kalo/MGSVGenStrings

Output is like
https://gist.github.com/cra0kalo/480fef30a6b17a50d91a

Thanks cra0 how do we go about using this tool?
## Post #326
- Username: VoliPanda
- Rank: n00b
- Number of posts: 17
- Joined date: Mon Sep 07, 2015 4:49 am
- Post datetime: 2015-09-08T12:21:15+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from cra0
>
> Here is the stringtool
http://rel.cra0kalo.com/depot/genstr.zip
https://github.com/cra0kalo/MGSVGenStrings

Output is like
https://gist.github.com/cra0kalo/480fef30a6b17a50d91a

I've got the fpk_dictionary file for a specific chunk, which was previously exported with QAR tool. How can I match a specific file within the container with the ones I've got in dictionary? There's a lot of files that has "huge sequence of numbers.fpk" as filename
## Post #327
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2015-09-08T14:49:59+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Someone if they could please send me the ps3/xbox either EBOOT.BIN or the xex file
## Post #328
- Username: chiconspiracy
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Fri Sep 04, 2015 7:34 am
- Post datetime: 2015-09-08T15:00:50+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from laszers
>
> chiconspiracy wrote:laszers wrote:So while im not new to modding, I am 100% new to the metal gear scene. Would someone be kind enough to point me in the direction of weapon damage parameters?

Thanks in advance.

Ok, I didn't have much time today, but I found what looks like a start in data1.dat, in the lua files. However, the weapon parameters are hard to guess at, as the file names are still messed up after unpacking with the QAR tool (make sure to use the -r parameter). I opened all of the LUA files with Notepad ++, and searched all windows to find what look like ammo counts for magazines and total ammo available for carrying by a number that appears to designate a specific weapon. When you actually put in a weapon's name as shown in game, nothing comes up however.

There are some other numbers which might indicate damage, but will require testing.

I have kind of found the files that relate to damage a few days ago, but no one responded so I figured no one really cared.

if you want just straight damage, if you go into data1 you can find the lua file called 2f343d3e6eea4 this you can go change the DAM_SOURCE_Sniper (or any other gun type) and change it for each weapon. I got results, it does work, but you cant tell which weapon is which or if the DAM_SOURCE_Sniper, even with multiple entries, isnt specific to each different sniper just because we cant tell which in-game sniper or other gun is which. I guess we could find through trial and error, but that would take allot of time. If you find anything else please let me know, im interested in pursuing this further.

I found how to edit specific weapons. Each weapon has a designated number which can be used to find them. There are three files we are interested in, using the dragunov like gun "60203" in the files below:

1. 39375763ab913: This file shows the magazine size and total ammo size, and can be used to find certain weapons. I knew the dragunov copy had 8 rounds in the magazine, so it was easy to find: {TppEquip.EQP_AM_60203,8,121,TppEquip.BL_Rf762mmSniperMag} *note, i changed the total ammo size after the magazine size here
2. 213fd1c038491: This file shows the components of the weapons, what kind of barrel they have, optics, and what I think are recoil and force values. I haven't messed with this too much yet, but found "{TppEquip.RC_60203,TppDamage.ATK_60203,72,79,53,25}", one of many references to "60203"

3. 2f343d3e6eea4: This lua file has the specific weapon damage. I only had time to test a few, but I changed the gun that looks like a dragunov sniper rifle to have increased damage in the following line: {TppDamage.ATK_60203,3600,3000,500,0,0,2100,2100,TppDamage.INJ_TYPE_BULLET,TppDamage.INJ_PART_ALL,100,40,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,TppDamage.DAM_SOURCE_Sniper,3600,0,1200}
## Post #329
- Username: laszers
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Sat Sep 05, 2015 4:00 am
- Post datetime: 2015-09-08T17:11:23+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from chiconspiracy
>
> 

I found how to edit specific weapons. Each weapon has a designated number which can be used to find them. There are three files we are interested in, using the dragunov like gun "60203" in the files below:

1. 39375763ab913: This file shows the magazine size and total ammo size, and can be used to find certain weapons. I knew the dragunov copy had 8 rounds in the magazine, so it was easy to find: {TppEquip.EQP_AM_60203,8,121,TppEquip.BL_Rf762mmSniperMag} *note, i changed the total ammo size after the magazine size here
2. 213fd1c038491: This file shows the components of the weapons, what kind of barrel they have, optics, and what I think are recoil and force values. I haven't messed with this too much yet, but found "{TppEquip.RC_60203,TppDamage.ATK_60203,72,79,53,25}", one of many references to "60203"

3. 2f343d3e6eea4: This lua file has the specific weapon damage. I only had time to test a few, but I changed the gun that looks like a dragunov sniper rifle to have increased damage in the following line: {TppDamage.ATK_60203,3600,3000,500,0,0,2100,2100,TppDamage.INJ_TYPE_BULLET,TppDamage.INJ_PART_ALL,100,40,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,TppDamage.DAM_SOURCE_Sniper,3600,0,1200}

I figured as much that those numbers correlated to a specific weapon or form of attack. My only problem at this point, is there a way to find out the correlation by using something other than mag size? as that is very limiting. If not I may just change each weapons mag size 1 - whatever and and take down which is which for a chart. Also what is the difference in all of the numbers for damage? If I can edit DAM_SOURCE's two numbers, and get the desire damage, why change the others? Are they all added together?
## Post #330
- Username: GHzGangster
- Rank: n00b
- Number of posts: 19
- Joined date: Fri Aug 15, 2014 1:00 pm
- Post datetime: 2015-09-08T17:21:17+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from cra0
>
> Someone if they could please send me the ps3/xbox either EBOOT.BIN or the xex file
Sent, I found a few paths in there, didn't think I would.
## Post #331
- Username: chiconspiracy
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Fri Sep 04, 2015 7:34 am
- Post datetime: 2015-09-08T18:48:34+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from laszers
>
> chiconspiracy wrote:

I found how to edit specific weapons. Each weapon has a designated number which can be used to find them. There are three files we are interested in, using the dragunov like gun "60203" in the files below:

1. 39375763ab913: This file shows the magazine size and total ammo size, and can be used to find certain weapons. I knew the dragunov copy had 8 rounds in the magazine, so it was easy to find: {TppEquip.EQP_AM_60203,8,121,TppEquip.BL_Rf762mmSniperMag} *note, i changed the total ammo size after the magazine size here
2. 213fd1c038491: This file shows the components of the weapons, what kind of barrel they have, optics, and what I think are recoil and force values. I haven't messed with this too much yet, but found "{TppEquip.RC_60203,TppDamage.ATK_60203,72,79,53,25}", one of many references to "60203"

3. 2f343d3e6eea4: This lua file has the specific weapon damage. I only had time to test a few, but I changed the gun that looks like a dragunov sniper rifle to have increased damage in the following line: {TppDamage.ATK_60203,3600,3000,500,0,0,2100,2100,TppDamage.INJ_TYPE_BULLET,TppDamage.INJ_PART_ALL,100,40,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,TppDamage.DAM_SOURCE_Sniper,3600,0,1200}

I figured as much that those numbers correlated to a specific weapon or form of attack. My only problem at this point, is there a way to find out the correlation by using something other than mag size? as that is very limiting. If not I may just change each weapons mag size 1 - whatever and and take down which is which for a chart. Also what is the difference in all of the numbers for damage? If I can edit DAM_SOURCE's two numbers, and get the desire damage, why change the others? Are they all added together?

I still have to test more, but it seems in the third file, the first number (3600) after the weapon ID number is damage, and the rest correspond to other weapon values. The reason you would do this, is that weapons use ammo broadly, ex, sniper rifle ammo vs assault rifle ammo. For realism, there is a gun, I think it's called the UN ARC, which is a 7.62 rifle that uses "assault" ammo, and should do comparable damage to the sniper rifles (a bit less since it has a shorter barrel). As it is, it behaves exactly like a 5.56 assault rifle, which is nonsense.

Edit* I'm also trying to confirm which the "impact force" is since it's stupidly high on sniper rifles. They seem to be of the opinion that a bullet doesn't cut through people, but acts like a hammer. Also, further testing is needed to figure out what the "TppDamage.IN_Part_ALL" does exactly.
## Post #332
- Username: JAEGERHOUND
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Wed Sep 09, 2015 3:38 am
- Post datetime: 2015-09-08T19:43:05+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Relatively new to the forum, just wanted to drop by and get an idea of something I wanted to ask. When do you think the tools for decrypting cinematic parts of TPP data will be released?

The entire MGS community all over the world are relying on you guys so they can decode the MSX tapes for very important information. Who knows what lies in them, but they sure must be important
## Post #333
- Username: slowbeatle
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Tue Sep 08, 2015 8:30 am
- Post datetime: 2015-09-08T19:45:11+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from VoliPanda
>
> slowbeatle wrote:VoliPanda wrote:Greetings everyone.

I'm new to this community and wanted to ask a little for help. I'm currently looking for Phantom Pain's 3D models. Is it possible to find them in the files? Has anyone found out their location and which format are they on? Plus is there any way to convert them in to a .obj format?
Currently looking for the main characters + NPCs aka Big Boss/Snake, Quiet, Ocelot, D-Dog, D-Walker, Kojima. Doesn't have to the be entire character + animations, all I want is their meshes in standard pose. I plan to add bones later and make some nice poses haha.
A great thanks for the ones that made the QARtool and the ftexttool possible. Currently extracting all game files to see what I can find.

Great thanks in advance, and sorry if I can't post/ask for stuff like this :B

Edit1: Okay, so I found out about the .fpk files and it's tool in this topic. Judging by what's inside, I think that the fmdl file is the one that I might be looking for. Am I corrent? If so, how can I open/convert this file?

Can you share the root of the different characters please?

Here: https://www.dropbox.com/s/53tb6gpythh0f ... rs.7z?dl=0
Thanks to Sergeanur, cra0 and JayK's script, I managed to extract these meshes. They have some weird bones along, but I'm still trying to work with them...
After quite some time doing research, I also found gun objects, such as pistols, assault rifles, SMGs, Rocket Launchers and Bears!
Still looking for D-Dog and Kojima though :/

Wow thanks man! Much appreciated  

What's The string you used to replace snakes original files (like The battle armor or solid snake outfit maybe)

Also, any luck getting quiet from the intro? (Loose hair and Black uniform)
## Post #334
- Username: laszers
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Sat Sep 05, 2015 4:00 am
- Post datetime: 2015-09-08T21:15:03+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from chiconspiracy
>
> laszers wrote:chiconspiracy wrote:

I found how to edit specific weapons. Each weapon has a designated number which can be used to find them. There are three files we are interested in, using the dragunov like gun "60203" in the files below:

1. 39375763ab913: This file shows the magazine size and total ammo size, and can be used to find certain weapons. I knew the dragunov copy had 8 rounds in the magazine, so it was easy to find: {TppEquip.EQP_AM_60203,8,121,TppEquip.BL_Rf762mmSniperMag} *note, i changed the total ammo size after the magazine size here
2. 213fd1c038491: This file shows the components of the weapons, what kind of barrel they have, optics, and what I think are recoil and force values. I haven't messed with this too much yet, but found "{TppEquip.RC_60203,TppDamage.ATK_60203,72,79,53,25}", one of many references to "60203"

3. 2f343d3e6eea4: This lua file has the specific weapon damage. I only had time to test a few, but I changed the gun that looks like a dragunov sniper rifle to have increased damage in the following line: {TppDamage.ATK_60203,3600,3000,500,0,0,2100,2100,TppDamage.INJ_TYPE_BULLET,TppDamage.INJ_PART_ALL,100,40,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,TppDamage.DAM_SOURCE_Sniper,3600,0,1200}

I figured as much that those numbers correlated to a specific weapon or form of attack. My only problem at this point, is there a way to find out the correlation by using something other than mag size? as that is very limiting. If not I may just change each weapons mag size 1 - whatever and and take down which is which for a chart. Also what is the difference in all of the numbers for damage? If I can edit DAM_SOURCE's two numbers, and get the desire damage, why change the others? Are they all added together?

I still have to test more, but it seems in the third file, the first number (3600) after the weapon ID number is damage, and the rest correspond to other weapon values. The reason you would do this, is that weapons use ammo broadly, ex, sniper rifle ammo vs assault rifle ammo. For realism, there is a gun, I think it's called the UN ARC, which is a 7.62 rifle that uses "assault" ammo, and should do comparable damage to the sniper rifles (a bit less since it has a shorter barrel). As it is, it behaves exactly like a 5.56 assault rifle, which is nonsense.

Edit* I'm also trying to confirm which the "impact force" is since it's stupidly high on sniper rifles. They seem to be of the opinion that a bullet doesn't cut through people, but acts like a hammer. Also, further testing is needed to figure out what the "TppDamage.IN_Part_ALL" does exactly.

Are you sure its overall damage on that? on each weapon it has a different entry, also some of the entries are different values, meaning if you set the damage to 1500, I dont think it would do that for all of that type since there is a different entry on each one and some have different values based on each weapon it seems. Also the whole reason I was interested in the damage was the fucking UN ARC and sniper rifles, not a fan of hitting someone in the chest 5 times with 7.62x51mm NATO and them looking at me like I through sand at their feet lol.
## Post #335
- Username: CaptianKnuckles
- Rank: n00b
- Number of posts: 13
- Joined date: Mon Sep 07, 2015 4:34 am
- Post datetime: 2015-09-08T22:18:36+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

If anyone is able to make it so the old Motherbase members from Ground Zeroes, and the XOF Soldier (Mainly want the XOF guy) in TPP can replace snake and work without that (Gun-through-stomach bug), I'd appreciate it.
Sorry if I sound like an annoying pest.
## Post #336
- Username: chiconspiracy
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Fri Sep 04, 2015 7:34 am
- Post datetime: 2015-09-09T01:06:46+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from laszers
>
> 
Are you sure its overall damage on that? on each weapon it has a different entry, also some of the entries are different values, meaning if you set the damage to 1500, I dont think it would do that for all of that type since there is a different entry on each one and some have different values based on each weapon it seems. Also the whole reason I was interested in the damage was the fucking UN ARC and sniper rifles, not a fan of hitting someone in the chest 5 times with 7.62x51mm NATO and them looking at me like I through sand at their feet lol.

I am certain I have altered max damage. I have roughly doubled the power of all 762 sniper rifles so they actually kill an unarmored enemy with chest shot, and matched the UN ARC to that. I'm now trying to identify which is impact force, maximum effective range, shot grouping, ect.
## Post #337
- Username: DarknessValtier
- Rank: beginner
- Number of posts: 35
- Joined date: Sat Feb 07, 2009 11:47 pm
- Post datetime: 2015-09-09T01:08:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Someone please give me the trash code of Quiet? i extracted the chunk0 and on the folder have many trash codes PKG, i want the code of Quiet, someone can help me?
## Post #338
- Username: holdenmcclure
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Wed Sep 09, 2015 2:08 pm
- Post datetime: 2015-09-09T06:10:52+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Does anyone know which LUA files are for Sortie related stuff? I'm unsure if the sortie files are getting unpacked as I cannot find anything like that. I'm trying to make a Subsistence mod and I've gotten all the groundwork done except for getting rid of that phase, as it's pointless considering it ignores whatever sortie loadout you choose.
## Post #339
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-09-09T09:26:14+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

So what am I missing about the Lua files in FPKs? I extracted them with MGSV_FPK_Tool, then tried to run MGSV_ResDec on them but it just says 'This file is not encrypted'.
## Post #340
- Username: mokuna
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Wed Sep 09, 2015 5:58 pm
- Post datetime: 2015-09-09T10:24:13+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hi,
first of all thank you for doing these tools! They are invaluable.

I have been trying to swap characters model in TPP, specifically in the first Cyprus mission but I haven't been able to. I'm not sure what I'm doing wrong, and I'm not even sure why what I am apparently doing wrong doesn't cause the game to crash. I'm trying to figure out the logic behind all this modding so if someone could help fill in what I'm missing that would be very appreciated.

The steps I'm doing are:

1) In the SteamLibrary TPP folder there is a directory called "master" that contains a file called chunk0.dat. I run that into MGSV_QAR_Tool.exe with the -r flag and get a chunk0 folder.
2) chunk0 contains a "chunk0\Assets\tpp\pack\fova\chara" folder that has various subfolders called dct (I assume "doctor"), ish ("Ishmael"), nrs ("nurse") and so on
3) I go to e.g. the nrs folder and take "nrs0_main0_v00.fpk" from there. I extract the fpk file using MGSV_FPK_Tool.exe
4) I expected these files to have fcnp/fmdl/frdv files, instead I just found .fv2 files in there. Anyway, I swapped these .fv2 with the .fv2 files found in Ocelot's fpk in master\chunk1\Assets\tpp\pack\fova\chara\oce
5) I use the .inf file to pack again the nrs0_main0_v00.fpk and then chunk0.inf to pack again the whole chunk0
6) Restart the game, nothing seems to change

After doing this, I assumed that those were not the right files. After some digging I found master\chunk0\Assets\tpp\pack\mission2\common that contains mis_com_ocelot.fpk and mis_com_nurse.fpk as well as other things like mis_com_snake_cypr.fpk

Again I tried extracting the fpk which this time contained fcnp/fmdl/frdv files and I swapped the ones within Ocelot's fpk into the other two, then again did step 5 and 6. No change.

I'm a bit stumped right now on what I might be missing and if there are other steps. It's of course possible that these are not the right file, but I'm almost positive that is the cyprus folder and I can't imagine any other thing a file called mis_com_snake_cypr.fpk could refer to.

Another question I have is also that while I was trying to figure this out I just swapped fpk files between themselves without first extracting them. Considering that the extracted content of these files seems very different in folders name/structure I am wondering: why did doing this not cause the game to crash? I assume it would end up trying to read assets that are not there.

Also if anyone could point me in the right direction where to figure out why some files have fcnp/fmdl/frdv files inside them and other contains just fv2s I'd be grateful. Googling hasn't shed any light for me yet.

Sorry for the many questions and thanks in advance.
## Post #341
- Username: Robhood19
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Mon Aug 17, 2015 12:25 am
- Post datetime: 2015-09-09T11:37:09+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

hello everybody thanks for your great work, could anyone point me in a direction as to where i can find quiets textures, and also is there a tool to extract the fmdl file to mesh?
## Post #342
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-09-09T13:11:55+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Looking at some lua files and they seem pretty borked.

From 5cdf10bda663, the first 7 lines.

```
local i=Tpp.IsTypeFunc
local n=Tpp.IsTypeTable
local i=Tpp.IsTypeString
local i=Tpp.IsTypeNumber
local i=bit.bnot
local i,i,i=bit.band,bit.bor,bit.bxor

```


Repeatedly declaring a variable with the same name, in the same scope. That ain't right.
Even if it was just assignment instead of declaration, not actually using the variable.
Anyway the last line is particularly damning, a multiple declaration assignment, using the same name.

From what I read here the lua files in TPP are compiled unlike GZ? So this would be a case of whatever function of QAR Tool uses to decompile going wrong?
## Post #343
- Username: Berdanes
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Wed Sep 09, 2015 9:27 pm
- Post datetime: 2015-09-09T13:34:37+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hi, what with the parameter FOV? In fpkd files, now there is no CameraAroundParams.lua with the camera settings. Has anyone found a solution?
## Post #344
- Username: zSydor
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Tue Apr 16, 2013 10:07 pm
- Post datetime: 2015-09-09T14:15:17+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from mokuna
>
> Hi,
first of all thank you for doing these tools! They are invaluable.

I have been trying to swap characters model in TPP, specifically in the first Cyprus mission but I haven't been able to. I'm not sure what I'm doing wrong, and I'm not even sure why what I am apparently doing wrong doesn't cause the game to crash. I'm trying to figure out the logic behind all this modding so if someone could help fill in what I'm missing that would be very appreciated.

The steps I'm doing are:

1) In the SteamLibrary TPP folder there is a directory called "master" that contains a file called chunk0.dat. I run that into MGSV_QAR_Tool.exe with the -r flag and get a chunk0 folder.
2) chunk0 contains a "chunk0\Assets\tpp\pack\fova\chara" folder that has various subfolders called dct (I assume "doctor"), ish ("Ishmael"), nrs ("nurse") and so on
3) I go to e.g. the nrs folder and take "nrs0_main0_v00.fpk" from there. I extract the fpk file using MGSV_FPK_Tool.exe
4) I expected these files to have fcnp/fmdl/frdv files, instead I just found .fv2 files in there. Anyway, I swapped these .fv2 with the .fv2 files found in Ocelot's fpk in master\chunk1\Assets\tpp\pack\fova\chara\oce
5) I use the .inf file to pack again the nrs0_main0_v00.fpk and then chunk0.inf to pack again the whole chunk0
6) Restart the game, nothing seems to change

After doing this, I assumed that those were not the right files. After some digging I found master\chunk0\Assets\tpp\pack\mission2\common that contains mis_com_ocelot.fpk and mis_com_nurse.fpk as well as other things like mis_com_snake_cypr.fpk

Again I tried extracting the fpk which this time contained fcnp/fmdl/frdv files and I swapped the ones within Ocelot's fpk into the other two, then again did step 5 and 6. No change.

I'm a bit stumped right now on what I might be missing and if there are other steps. It's of course possible that these are not the right file, but I'm almost positive that is the cyprus folder and I can't imagine any other thing a file called mis_com_snake_cypr.fpk could refer to.

Another question I have is also that while I was trying to figure this out I just swapped fpk files between themselves without first extracting them. Considering that the extracted content of these files seems very different in folders name/structure I am wondering: why did doing this not cause the game to crash? I assume it would end up trying to read assets that are not there.

Also if anyone could point me in the right direction where to figure out why some files have fcnp/fmdl/frdv files inside them and other contains just fv2s I'd be grateful. Googling hasn't shed any light for me yet.

Sorry for the many questions and thanks in advance.

I tried only with \MGS_TPP\master\chunk0\Assets\tpp\pack\player\parts and it's working, i am trying your folder now.

[https://www.youtube.com/watch?v=wwN5Idy32JY](https://www.youtube.com/watch?v=wwN5Idy32JY)
[https://www.youtube.com/watch?v=xJayJ9o1PIU](https://www.youtube.com/watch?v=xJayJ9o1PIU)
[https://www.youtube.com/watch?v=PCQLxabuiks](https://www.youtube.com/watch?v=PCQLxabuiks)
[https://www.youtube.com/watch?v=NjtNdKubVJ4](https://www.youtube.com/watch?v=NjtNdKubVJ4)

I want to remove the ak -.-
## Post #345
- Username: rensole
- Rank: beginner
- Number of posts: 39
- Joined date: Tue Feb 26, 2013 4:34 am
- Post datetime: 2015-09-09T14:29:58+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from VoliPanda
>
> slowbeatle wrote:VoliPanda wrote:Greetings everyone.

I'm new to this community and wanted to ask a little for help. I'm currently looking for Phantom Pain's 3D models. Is it possible to find them in the files? Has anyone found out their location and which format are they on? Plus is there any way to convert them in to a .obj format?
Currently looking for the main characters + NPCs aka Big Boss/Snake, Quiet, Ocelot, D-Dog, D-Walker, Kojima. Doesn't have to the be entire character + animations, all I want is their meshes in standard pose. I plan to add bones later and make some nice poses haha.
A great thanks for the ones that made the QARtool and the ftexttool possible. Currently extracting all game files to see what I can find.

Great thanks in advance, and sorry if I can't post/ask for stuff like this :B

Edit1: Okay, so I found out about the .fpk files and it's tool in this topic. Judging by what's inside, I think that the fmdl file is the one that I might be looking for. Am I corrent? If so, how can I open/convert this file?

Can you share the root of the different characters please?

Here: https://www.dropbox.com/s/53tb6gpythh0f ... rs.7z?dl=0
Thanks to Sergeanur, cra0 and JayK's script, I managed to extract these meshes. They have some weird bones along, but I'm still trying to work with them...
After quite some time doing research, I also found gun objects, such as pistols, assault rifles, SMGs, Rocket Launchers and Bears!
Still looking for D-Dog and Kojima though :/

Thanks so much for these, did you have any luck finding the new metal gear and/or Battle gear? (yes there are two different things now haha).
## Post #346
- Username: ManWhoSoldTheWorld
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Wed Sep 09, 2015 10:30 pm
- Post datetime: 2015-09-09T14:42:07+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hello there !

Is there anybody who can provide some step by step tutorial to do a decent model swap on TPP ? I tried to do it myself but it seems that I'm doing something wrong since my game freezes when I change my outfit for the one I swapped. I tried a couple of things already, changing the fpks alone, then unpack the fpks and swap the files in it with the one I want then repack. The thing is that I don't really know what I should do exactly to make it work. 

Anyone to help a poor nub in need ? Would be appreciated. Thanks !
## Post #347
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-09-09T14:43:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from zSydor
>
> mokuna wrote:I want to remove the ak -.-
Christ almighty, somebody please help find this model.
## Post #348
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-09-09T21:04:30+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

So I know how to turn Snake into other character skins, but has anyone found a way to put models on other characters. Specifically, I need to find a way to put Kaz or Ocelot on Quiet.
## Post #349
- Username: mokuna
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Wed Sep 09, 2015 5:58 pm
- Post datetime: 2015-09-09T21:16:06+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from zSydor
>
> mokuna wrote:Hi,
first of all thank you for doing these tools! They are invaluable.

I have been trying to swap characters model in TPP, specifically in the first Cyprus mission but I haven't been able to. I'm not sure what I'm doing wrong, and I'm not even sure why what I am apparently doing wrong doesn't cause the game to crash. I'm trying to figure out the logic behind all this modding so if someone could help fill in what I'm missing that would be very appreciated.

The steps I'm doing are:

1) In the SteamLibrary TPP folder there is a directory called "master" that contains a file called chunk0.dat. I run that into MGSV_QAR_Tool.exe with the -r flag and get a chunk0 folder.
2) chunk0 contains a "chunk0\Assets\tpp\pack\fova\chara" folder that has various subfolders called dct (I assume "doctor"), ish ("Ishmael"), nrs ("nurse") and so on
3) I go to e.g. the nrs folder and take "nrs0_main0_v00.fpk" from there. I extract the fpk file using MGSV_FPK_Tool.exe
4) I expected these files to have fcnp/fmdl/frdv files, instead I just found .fv2 files in there. Anyway, I swapped these .fv2 with the .fv2 files found in Ocelot's fpk in master\chunk1\Assets\tpp\pack\fova\chara\oce
5) I use the .inf file to pack again the nrs0_main0_v00.fpk and then chunk0.inf to pack again the whole chunk0
6) Restart the game, nothing seems to change

After doing this, I assumed that those were not the right files. After some digging I found master\chunk0\Assets\tpp\pack\mission2\common that contains mis_com_ocelot.fpk and mis_com_nurse.fpk as well as other things like mis_com_snake_cypr.fpk

Again I tried extracting the fpk which this time contained fcnp/fmdl/frdv files and I swapped the ones within Ocelot's fpk into the other two, then again did step 5 and 6. No change.

I'm a bit stumped right now on what I might be missing and if there are other steps. It's of course possible that these are not the right file, but I'm almost positive that is the cyprus folder and I can't imagine any other thing a file called mis_com_snake_cypr.fpk could refer to.

Another question I have is also that while I was trying to figure this out I just swapped fpk files between themselves without first extracting them. Considering that the extracted content of these files seems very different in folders name/structure I am wondering: why did doing this not cause the game to crash? I assume it would end up trying to read assets that are not there.

Also if anyone could point me in the right direction where to figure out why some files have fcnp/fmdl/frdv files inside them and other contains just fv2s I'd be grateful. Googling hasn't shed any light for me yet.

Sorry for the many questions and thanks in advance.

I tried only with \MGS_TPP\master\chunk0\Assets\tpp\pack\player\parts and it's working, i am trying your folder now.

https://www.youtube.com/watch?v=wwN5Idy32JY
https://www.youtube.com/watch?v=xJayJ9o1PIU
https://www.youtube.com/watch?v=PCQLxabuiks
https://www.youtube.com/watch?v=NjtNdKubVJ4

I want to remove the ak -.-

Tried MGS_TPP\master\chunk0\Assets\tpp\pack\player\parts and it's working for me too. I managed to play as Ocelot.

I'm guessing my folders don't work because they are not the correct ones? I have no idea where the NPCs might be then. I'll try extracting more fpks tonight.

Still wondering about what fv2 vs fcnp/fmdl/frdv files are though.
## Post #350
- Username: Tyjo Zuhac
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Thu Sep 10, 2015 5:14 am
- Post datetime: 2015-09-09T21:20:16+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I legitimately followed every set of instructions I could find in order to attempt the endgame Quiet mod, but when I open the TPPStory.lua file to edit it, it's giving me only 511 lines of this.



Can someone please help me figure out what I'm doing wrong? I've seen nothing in two days of searching that indicates the need for a different converter or anything. I've downloaded more vaguely related tools than I can count, and nothing has worked so far.
## Post #351
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-09-09T23:08:02+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I found Psycho Mantis
## Post #352
- Username: avikhandakar
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Thu Sep 10, 2015 12:07 am
- Post datetime: 2015-09-10T00:23:34+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Is there any way to play this game from an external hdd? I got xbox 360 slim 4gb arcade edition and i have no internal hdd. thanks.
## Post #353
- Username: mokuna
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Wed Sep 09, 2015 5:58 pm
- Post datetime: 2015-09-10T00:39:17+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> I found Psycho Mantis
Where was he?
## Post #354
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-09-10T00:48:34+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from mokuna
>
> XrayDoc wrote:I found Psycho Mantis
Where was he?
C:\Steam\steamapps\common\MGS_TPP\master\chunk0\Assets\tpp\pack\mission2\common\mis_com_mantis.fpk

I can't get Kaz to work but I've seen someone use him as the doctor

Can someone PLEASE tell me where to find the Ishmael model? I've looked everywhere but can't find the files, I want to swap the model for a funny intro scene.
## Post #355
- Username: OrangeC
- Rank: double-veteran
- Number of posts: 868
- Joined date: Sun Apr 20, 2008 9:58 am
- Post datetime: 2015-09-10T02:26:54+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Are there any filenames for the sbp banks?
## Post #356
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-09-10T02:44:55+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Ishmael: MGS_TPP\master\chunk0\Assets\tpp\pack\mission2\story\s10010\s10010_l01.fpk

After extracting the fpk: s10010_l01_fpk\Assets\tpp\chara\ish\Scenes

OH SHIT I FOUND IT I FOUND ORIGINAL BIG BOSS

MGS_TPP\master\chunk0\Assets\tpp\pack\mission2\story\s10010\s10010_s06.fpk

After unpack: s10010_s06_fpk\Assets\tpp\chara\sna\Scenes

> Reply from XrayDoc
>
> OH SHIT I FOUND IT I FOUND ORIGINAL BIG BOSS

MGS_TPP\master\chunk0\Assets\tpp\pack\mission2\story\s10010\s10010_s06.fpk

After unpack: s10010_s06_fpk\Assets\tpp\chara\sna\Scenes


Extracting with the latest QARs seems to not work with TPP since it doesn't add the -r. To fully extract:

Open cmd.exe and type this or your variant of it (check to see which drive it is downloaded on and what you named your QAR tool)

C:\Program Files (x86)\Steam\steamapps\common\MGS_TPP\master\MGSV_QAR_Tool.exe "C:\Program Files (x86)\Steam\steamapps\common\MGS_TPP\master\data1.dat" -r

Press enter and see if it works. If it doesn't check the names of your files and your path. My QAR tool may be named differently.
## Post #357
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2015-09-10T03:19:14+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

So many more bones to go....

Getting there though... then textures need to find links to the actual textures
## Post #358
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-09-10T04:06:03+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

anyone able to get disguises working? make the player character model replace the chickenhat or maybe the stealth camo
## Post #359
- Username: crash2317
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Tue Aug 26, 2014 7:52 am
- Post datetime: 2015-09-10T04:08:03+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from cra0
>
> 

So many more bones to go....

Getting there though... then textures need to find links to the actual textures
I know it's hard (if not impossible) but i've got to ask: are you able to get each bone's skinning information along with their rotation data (can't watch them facing single axis)?
## Post #360
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-09-10T04:09:51+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Guys I've been working pretty hard looking through these files for neat characters, but I just can't find one I really want to find. Quiet from the intro/ending, I want to find her model so I can replace it. If anyone finds it please post the file location since I shared a bunch with you guys here. Thanks!
## Post #361
- Username: PTE Jenkins
- Rank: n00b
- Number of posts: 14
- Joined date: Thu Sep 10, 2015 12:21 pm
- Post datetime: 2015-09-10T04:33:14+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

So have any of you figured out how to get around the stomach cavity gun bug for player model swaps? I'm 99 percent sure it's because npc's lack a bone the player models have, but it's weird in GZ the gun just disappeared instead of getting stuck in the stomach, untill we get model exporting and reimporting tools in which we can edit the bone itself the only feasible workaround I could think of is getting the gun to disappear, anyone have any idea how we could go around doing that?

Tried doing a xof model swap a couple days ago;
[http://images.akamai.steamusercontent.c ... 131B36935/](http://images.akamai.steamusercontent.com/ugc/422565397066211872/73EF9472854EA116C7379CF0A5B8F40131B36935/)
[http://images.akamai.steamusercontent.c ... 6AFC06514/](http://images.akamai.steamusercontent.com/ugc/422565397066224497/F1FE8C6DE3A79A1D738C637D1E8B4836AFC06514/)
[http://images.akamai.steamusercontent.c ... 78B218E8D/](http://images.akamai.steamusercontent.com/ugc/422565397066217863/EF09AAA1FF5B7D4F434C143ADCC46C378B218E8D/)
## Post #362
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-09-10T04:34:19+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Stop overthinking it and thinking how to add a bone to the player model. Instead, think of how to make it so you can unequip your main primary.
## Post #363
- Username: PTE Jenkins
- Rank: n00b
- Number of posts: 14
- Joined date: Thu Sep 10, 2015 12:21 pm
- Post datetime: 2015-09-10T04:36:12+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

What if I want to use my primary though? Surely there is a way to get un-equipped weapons (or at the least the primary) to just disappear like in gz.

I wonder if it'd be all possible to change the player animation set with the enemy animation set, so they had the gun in their hands the whole time, but who knows the other array of issues just doing that could cause.
## Post #364
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2015-09-10T05:38:11+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from crash2317
>
> cra0 wrote:

So many more bones to go....

Getting there though... then textures need to find links to the actual textures
I know it's hard (if not impossible) but i've got to ask: are you able to get each bone's skinning information along with their rotation data (can't watch them facing single axis)?
## Post #365
- Username: Maxunit
- Rank: n00b
- Number of posts: 18
- Joined date: Mon Jun 28, 2010 7:49 am
- Post datetime: 2015-09-10T06:29:33+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> Stop overthinking it and thinking how to add a bone to the player model. Instead, think of how to make it so you can unequip your main primary.

Either that or maybe go even way way further down the road, overthink it even more and:

Figure out the model format (being worked on), create a Tool to view them and also being able to export them to something like FBX...then modify them and have an application, which can CONVERT the modified model from FBX back to what the FoxEngine uses for TPP.

If THAT would be possible, then it would mean:

"Fix" all the "broken" Models (Bones/Skeletons)
## Post #366
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2015-09-10T06:41:53+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

That is the aim of the Fox Engine Model Studio the ability to import/export models
## Post #367
- Username: crash2317
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Tue Aug 26, 2014 7:52 am
- Post datetime: 2015-09-10T07:09:27+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from cra0
>
> crash2317 wrote:cra0 wrote:

So many more bones to go....

Getting there though... then textures need to find links to the actual textures
I know it's hard (if not impossible) but i've got to ask: are you able to get each bone's skinning information along with their rotation data (can't watch them facing single axis)?
Pretty tough challenge, i know. Should i presume your answer as a "NO" or "MOST LIKELY NOT"?
## Post #368
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2015-09-10T07:49:45+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from crash2317
>
> Pretty tough challenge, i know. Should i presume your answer as a "NO" or "MOST LIKELY NOT"?

Firstly it's hard to debug the application unlike before when it had vmprotect you could just load ollydbg with anti-vm settings now we need to deal with Denuvo Anti-Tamper I'm sure 3DMGAME's bypass works I have yet to test it but it's hard debugging the game on PC. 2ndly the bone issue comes down to how they handle their matrix system the bone rotation data is stored in a quaternion format which to convert to Euler angles there is a million different ways as there can be many differences someone needs to figure this out and I have no time at the moment.
## Post #369
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2015-09-10T08:18:54+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tyjo Zuhac
>
> I legitimately followed every set of instructions I could find in order to attempt the endgame Quiet mod, but when I open the TPPStory.lua file to edit it, it's giving me only 511 lines of this.

http://s17.postimg.org/iq4qkk367/Please_Help.jpg

Can someone please help me figure out what I'm doing wrong? I've seen nothing in two days of searching that indicates the need for a different converter or anything. I've downloaded more vaguely related tools than I can count, and nothing has worked so far.
OMFG it amazes me how some people can't figure out that the tool needs to be launched with -r.
## Post #370
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-09-10T09:01:51+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> Tyjo Zuhac wrote:I legitimately followed every set of instructions I could find in order to attempt the endgame Quiet mod, but when I open the TPPStory.lua file to edit it, it's giving me only 511 lines of this.

http://s17.postimg.org/iq4qkk367/Please_Help.jpg

Can someone please help me figure out what I'm doing wrong? I've seen nothing in two days of searching that indicates the need for a different converter or anything. I've downloaded more vaguely related tools than I can count, and nothing has worked so far.
OMFG it amazes me how some people can't figure out that the tool needs to be launched with -r.
Perhaps you should make it decrypt by default, add a command for letting it extract encrypted? Also please do fix the "win"/"ste" header issue with the fpk tool, it's so annoying with tpp having to correct it manually after every change.
## Post #371
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2015-09-10T10:59:06+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> Also please do fix the "win"/"ste" header issue with the fpk tool, it's so annoying with tpp having to correct it manually after every change.
Umm, what issue? Totally fine on my end.
## Post #372
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-09-10T11:09:59+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Here's some more names for the qar dictionary Sergeanur, manually scrounged from the lua files as I was perusing them. That puts me down to 6 unknown .lua files in data1.dat, can you/anyone else confirm?

[http://pastebin.com/jK27pyHm](http://pastebin.com/jK27pyHm)

Also, to repeat my earlier post, there's some odd code in 5cdf10bda663.lua, now known as TppVarInit.lua , the first 7 lines.

```
local i=Tpp.IsTypeFunc
local n=Tpp.IsTypeTable
local i=Tpp.IsTypeString
local i=Tpp.IsTypeNumber
local i=bit.bnot
local i,i,i=bit.band,bit.bor,bit.bxor

```

Repeatedly declaring a variable with the same name, in the same scope. That can't be right.
Even if it was just assignment instead of declaration, it's not actually using the variable between assignments.
Anyway the last line is particularly damning, multiple declaration assignment, using the same name.

So what's going on?
## Post #373
- Username: JRavens
- Rank: beginner
- Number of posts: 20
- Joined date: Tue Dec 23, 2014 5:17 am
- Post datetime: 2015-09-10T12:24:06+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> Here's some more names for the qar dictionary Sergeanur, manually scrounged from the lua files as I was perusing them. That puts me down to 6 unknown .lua files in data1.dat, can you/anyone else confirm?

http://pastebin.com/jK27pyHm

Also, to repeat my earlier post, there's some odd code in 5cdf10bda663.lua, now known as TppVarInit.lua , the first 7 lines.
Code: Select alllocal e={}
local i=Tpp.IsTypeFunc
local n=Tpp.IsTypeTable
local i=Tpp.IsTypeString
local i=Tpp.IsTypeNumber
local i=bit.bnot
local i,i,i=bit.band,bit.bor,bit.bxor

Repeatedly declaring a variable with the same name, in the same scope. That can't be right.
Even if it was just assignment instead of declaration, it's not actually using the variable between assignments.
Anyway the last line is particularly damning, multiple declaration assignment, using the same name.

So what's going on?
Dammit! I just found most of these last night after hours of tinkering with the dictionary.txt (CaSe SensiTivity is VeRy important apparently  ) LOL if I had only waited until this morning...

The only thing I can add is check to see if you have this one as well:
/Assets/tpp/level_asset/weapon/ParameterTables/EquipParameterTables

I'm curious about the LUAs as well since they seem... off, but I'm not a programmer and I have very limited knowledge of LUA anyways (only what I've gleaned from modding other games LUA files). I guess we just need to try altering some and see what happens.

What I really want to find are the strings (referenced via Fox.StrCode32 in the LUAs). I've been through every subtitle file looking for weapon and gear names, etc. but obviously those are all... well.. subtitles. I'm guessing the string file/table/dat/whatever is a compressed file no on has found yet? Any ideas?
## Post #374
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2015-09-10T12:48:41+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Merge all ur fpk extracts into a single Asset folder
[https://github.com/cra0kalo/FPKMerge](https://github.com/cra0kalo/FPKMerge)

binary @ rel.cra0kalo.com/depot
## Post #375
- Username: theforgottenone
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Sun Feb 22, 2015 10:53 am
- Post datetime: 2015-09-10T13:31:43+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

well,does someone know how to use the original ground zeroes big boss with the sv sneaking suit?I tried to repack the fpk,but it didn't work.the broken arm still shows.please help
## Post #376
- Username: CzlowiekDrzewo
- Rank: n00b
- Number of posts: 12
- Joined date: Sun Aug 17, 2014 5:46 pm
- Post datetime: 2015-09-10T14:01:54+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Anyway to extract audio? I could use the cassettes music.
## Post #377
- Username: Alo81
- Rank: n00b
- Number of posts: 14
- Joined date: Fri Sep 04, 2015 6:57 am
- Post datetime: 2015-09-10T14:58:47+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> Here's some more names for the qar dictionary Sergeanur, manually scrounged from the lua files as I was perusing them. That puts me down to 6 unknown .lua files in data1.dat, can you/anyone else confirm?

http://pastebin.com/jK27pyHm

Also, to repeat my earlier post, there's some odd code in 5cdf10bda663.lua, now known as TppVarInit.lua , the first 7 lines.
Code: Select alllocal e={}
local i=Tpp.IsTypeFunc
local n=Tpp.IsTypeTable
local i=Tpp.IsTypeString
local i=Tpp.IsTypeNumber
local i=bit.bnot
local i,i,i=bit.band,bit.bor,bit.bxor

Repeatedly declaring a variable with the same name, in the same scope. That can't be right.
Even if it was just assignment instead of declaration, it's not actually using the variable between assignments.
Anyway the last line is particularly damning, multiple declaration assignment, using the same name.

So what's going on?

Could you post your full dictionary.txt file?  I know I've been building mine up but it seems like you've probably got a better compiled version than mine.
## Post #378
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-09-10T15:21:12+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> Guys I've been working pretty hard looking through these files for neat characters, but I just can't find one I really want to find. Quiet from the intro/ending, I want to find her model so I can replace it. If anyone finds it please post the file location since I shared a bunch with you guys here. Thanks!

Bumping this again. Please tell me if anyone has found the quiet xof model location. I'm trying to put a Kaz model on her.
## Post #379
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-09-10T15:42:10+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> Guys I've been working pretty hard looking through these files for neat characters, but I just can't find one I really want to find. Quiet from the intro/ending, I want to find her model so I can replace it. If anyone finds it please post the file location since I shared a bunch with you guys here. Thanks!
Since you didn't cling your own findings to yourself...
currently unnamed "2a5f83a94178.fpk" in chunk0.dat: "Assets\tpp\chara\qui\Scenes\qui1_main0_def.fmdl"
[https://www.youtube.com/watch?v=Tf2z9b8g9fE](https://www.youtube.com/watch?v=Tf2z9b8g9fE)
I fixed the gun-stomach bug and first person aiming bug by placing the Quiet model over a head model, then nulling out the mesh data in the main body model via hex edit.
## Post #380
- Username: VoliPanda
- Rank: n00b
- Number of posts: 17
- Joined date: Mon Sep 07, 2015 4:49 am
- Post datetime: 2015-09-10T15:50:14+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Folks, I'm looking for Snake's prosthetic arm. Even with the name I couldn't find it...
Was anyone able to find it? I think the filename was sna0_arm0_cov.fmdl or something similar to that.
Would greatly appreciate if anyone could share with me.
Thanks once again.
## Post #381
- Username: nudifyher
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Thu Sep 10, 2015 11:50 pm
- Post datetime: 2015-09-10T15:54:33+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Trying to find Quiet's "naked" texture. Anyone care to help?
I've tried extracting the dds from ftex files but failed. For ftexs it doesn't show anything while for ftex files it gives me this error: [http://i.imgur.com/p0q5n9H.png](http://i.imgur.com/p0q5n9H.png)
I've used Ftex Tool v0.3

Thank you.
## Post #382
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-09-10T16:18:17+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from VoliPanda
>
> Folks, I'm looking for Snake's prosthetic arm. Even with the name I couldn't find it...
Was anyone able to find it? I think the filename was sna0_arm0_cov.fmdl or something similar to that.
Would greatly appreciate if anyone could share with me.
Thanks once again.
chunk0's currently unnamed "3b872a19bdc48.fpk"
## Post #383
- Username: Jax765
- Rank: n00b
- Number of posts: 12
- Joined date: Fri Sep 11, 2015 12:31 am
- Post datetime: 2015-09-10T16:34:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Does anyone have a link to a tutorial for replacing Snake's character model in TPP?

Also, is it possible to replace, say, the headband option with Snake's head model from Ground Zeroes?
## Post #384
- Username: ankhadu
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Fri Sep 11, 2015 1:28 am
- Post datetime: 2015-09-10T17:36:05+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> XrayDoc wrote:Guys I've been working pretty hard looking through these files for neat characters, but I just can't find one I really want to find. Quiet from the intro/ending, I want to find her model so I can replace it. If anyone finds it please post the file location since I shared a bunch with you guys here. Thanks!
Since you didn't cling your own findings to yourself...
currently unnamed "2a5f83a94178.fpk" in chunk0.dat: "Assets\tpp\chara\qui\Scenes\qui1_main0_def.fmdl"
https://www.youtube.com/watch?v=Tf2z9b8g9fE
I fixed the gun-stomach bug and first person aiming bug by placing the Quiet model over a head model, then nulling out the mesh data in the main body model via hex edit.

Thanks for sharing that with us. Have you been successful in swaping NPC models? I tried swaping Quiet with Ocelot but it doesn't seem to work.
## Post #385
- Username: VoliPanda
- Rank: n00b
- Number of posts: 17
- Joined date: Mon Sep 07, 2015 4:49 am
- Post datetime: 2015-09-10T17:41:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> VoliPanda wrote:Folks, I'm looking for Snake's prosthetic arm. Even with the name I couldn't find it...
Was anyone able to find it? I think the filename was sna0_arm0_cov.fmdl or something similar to that.
Would greatly appreciate if anyone could share with me.
Thanks once again.
chunk0's currently unnamed "3b872a19bdc48.fpk"

Thanks for the hint man! With your help I was able to finish my model!
## Post #386
- Username: crash2317
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Tue Aug 26, 2014 7:52 am
- Post datetime: 2015-09-10T18:59:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from cra0
>
> crash2317 wrote:Pretty tough challenge, i know. Should i presume your answer as a "NO" or "MOST LIKELY NOT"?

Firstly it's hard to debug the application unlike before when it had vmprotect you could just load ollydbg with anti-vm settings now we need to deal with Denuvo Anti-Tamper I'm sure 3DMGAME's bypass works I have yet to test it but it's hard debugging the game on PC. 2ndly the bone issue comes down to how they handle their matrix system the bone rotation data is stored in a quaternion format which to convert to Euler angles there is a million different ways as there can be many differences someone needs to figure this out and I have no time at the moment.

In quaternions? Are sure? Cuz if that's true, this game is the first to store bone's rotation in quaternions (which is weird).
## Post #387
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-09-10T19:00:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from ankhadu
>
> Higus wrote:XrayDoc wrote:Guys I've been working pretty hard looking through these files for neat characters, but I just can't find one I really want to find. Quiet from the intro/ending, I want to find her model so I can replace it. If anyone finds it please post the file location since I shared a bunch with you guys here. Thanks!
Since you didn't cling your own findings to yourself...
currently unnamed "2a5f83a94178.fpk" in chunk0.dat: "Assets\tpp\chara\qui\Scenes\qui1_main0_def.fmdl"
https://www.youtube.com/watch?v=Tf2z9b8g9fE
I fixed the gun-stomach bug and first person aiming bug by placing the Quiet model over a head model, then nulling out the mesh data in the main body model via hex edit.

Thanks for sharing that with us. Have you been successful in swaping NPC models? I tried swaping Quiet with Ocelot but it doesn't seem to work.
I have not attempted anything like that. If I do, you'll see it on my youtube channel from the aforementioned yt video.
## Post #388
- Username: DMint
- Rank: n00b
- Number of posts: 19
- Joined date: Sun Sep 06, 2015 6:19 am
- Post datetime: 2015-09-10T19:03:17+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> 
https://www.youtube.com/watch?v=Tf2z9b8g9fE
I fixed the gun-stomach bug and first person aiming bug by placing the Quiet model over a head model, then nulling out the mesh data in the main body model via hex edit.

Could you post your sna0_main1_def.fmdl or whatever the snake model you replaced it with? I'm having trouble finding out what is specifically the mesh data inside these files to 0 out

-edit-

I managed to get most of the body gone i just can't get rid of the face theres an over lapping kinda boney face with no nose
## Post #389
- Username: CaptianKnuckles
- Rank: n00b
- Number of posts: 13
- Joined date: Mon Sep 07, 2015 4:34 am
- Post datetime: 2015-09-10T20:03:32+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from PTE Jenkins
>
> So have any of you figured out how to get around the stomach cavity gun bug for player model swaps? I'm 99 percent sure it's because npc's lack a bone the player models have, but it's weird in GZ the gun just disappeared instead of getting stuck in the stomach, untill we get model exporting and reimporting tools in which we can edit the bone itself the only feasible workaround I could think of is getting the gun to disappear, anyone have any idea how we could go around doing that?

Tried doing a xof model swap a couple days ago;
http://images.akamai.steamusercontent.c ... 131B36935/
http://images.akamai.steamusercontent.c ... 6AFC06514/
http://images.akamai.steamusercontent.c ... 78B218E8D/

How'd you manage to do that? I've asked ShiguWorks on YT, he's given me some instructions but I cant even seem to get model swaps working.

Could you upload the XOF guy for me? I'd really like to try the Prologue mission since IIRC there aren't even primary weapons in that mission.
## Post #390
- Username: emoose
- Rank: beginner
- Number of posts: 26
- Joined date: Fri Sep 11, 2015 4:06 am
- Post datetime: 2015-09-10T20:15:06+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I've been going through files and getting as many filenames as I could, also used lists from here to make this: [https://mega.nz/#!lFlzlaAI!zTbOXlTO5SfV ... 0w-yIP4RLs](https://mega.nz/#!lFlzlaAI!zTbOXlTO5SfV7zkhlcp3FKsptnbZJirAl0w-yIP4RLs)
12MB dictionary file, gives names for every .lua file except one (3d01fb65682e6.lua, nothing seems to reference it, looks sorta like an older version of TppDevelopFile.lua)
A lot of the fpk/fpkd/pftxs files are named too but there's still loads left unnamed, can't seem to find where references to these are stored, maybe in some of the other compressed files.
There's a lot of duplicates in here, haven't had time to go through them, if anyone wants to clean it up please do
## Post #391
- Username: DMint
- Rank: n00b
- Number of posts: 19
- Joined date: Sun Sep 06, 2015 6:19 am
- Post datetime: 2015-09-10T21:06:20+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from CaptianKnuckles
>
> PTE Jenkins wrote:So have any of you figured out how to get around the stomach cavity gun bug for player model swaps? I'm 99 percent sure it's because npc's lack a bone the player models have, but it's weird in GZ the gun just disappeared instead of getting stuck in the stomach, untill we get model exporting and reimporting tools in which we can edit the bone itself the only feasible workaround I could think of is getting the gun to disappear, anyone have any idea how we could go around doing that?

Tried doing a xof model swap a couple days ago;
http://images.akamai.steamusercontent.c ... 131B36935/
http://images.akamai.steamusercontent.c ... 6AFC06514/
http://images.akamai.steamusercontent.c ... 78B218E8D/

How'd you manage to do that? I've asked ShiguWorks on YT, he's given me some instructions but I cant even seem to get model swaps working.

Could you upload the XOF guy for me? I'd really like to try the Prologue mission since IIRC there aren't even primary weapons in that mission.

Could you post the instructions? Maybe I can figure them out
## Post #392
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-09-10T21:28:03+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> XrayDoc wrote:Guys I've been working pretty hard looking through these files for neat characters, but I just can't find one I really want to find. Quiet from the intro/ending, I want to find her model so I can replace it. If anyone finds it please post the file location since I shared a bunch with you guys here. Thanks!
Since you didn't cling your own findings to yourself...
currently unnamed "2a5f83a94178.fpk" in chunk0.dat: "Assets\tpp\chara\qui\Scenes\qui1_main0_def.fmdl"
https://www.youtube.com/watch?v=Tf2z9b8g9fE
I fixed the gun-stomach bug and first person aiming bug by placing the Quiet model over a head model, then nulling out the mesh data in the main body model via hex edit.
Thanks you so much! I just love sharing the stuff I find with others since no one else likes to share when I search for stuff.

> Reply from XrayDoc
>
> Higus wrote:XrayDoc wrote:Guys I've been working pretty hard looking through these files for neat characters, but I just can't find one I really want to find. Quiet from the intro/ending, I want to find her model so I can replace it. If anyone finds it please post the file location since I shared a bunch with you guys here. Thanks!
Since you didn't cling your own findings to yourself...
currently unnamed "2a5f83a94178.fpk" in chunk0.dat: "Assets\tpp\chara\qui\Scenes\qui1_main0_def.fmdl"
https://www.youtube.com/watch?v=Tf2z9b8g9fE
I fixed the gun-stomach bug and first person aiming bug by placing the Quiet model over a head model, then nulling out the mesh data in the main body model via hex edit.
Thanks you so much! I just love sharing the stuff I find with others since no one else likes to share when I search for stuff.
Hmmm. When I try putting another model over it it doesn't seem to change her model. I'll keep trying, maybe the Kaz file isn't working that I found?
## Post #393
- Username: DMint
- Rank: n00b
- Number of posts: 19
- Joined date: Sun Sep 06, 2015 6:19 am
- Post datetime: 2015-09-10T21:43:52+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> 
Thanks you so much! I just love sharing the stuff I find with others since no one else likes to share when I search for stuff.
Hmmm. When I try putting another model over it it doesn't seem to change her model. I'll keep trying, maybe the Kaz file isn't working that I found?

Yeah it seems like there's a ton of duplicates spread out everywhere so it could be that the one you're replacing isn't the one that you actually see in that moment

> Reply from nudifyher
>
> Trying to find Quiet's "naked" texture. Anyone care to help?
I've tried extracting the dds from ftex files but failed. For ftexs it doesn't show anything while for ftex files it gives me this error: http://i.imgur.com/p0q5n9H.png
I've used Ftex Tool v0.3

Thank you.

You need the ftex main file and all the corresponding ftexes to open it if it crashes like that then you're probably missing a part of the file. Sometimes it's also stored in different texture.dat files and if the unpacking tool doesnt label them properly it can get pretty difficult to find.
## Post #394
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-09-10T22:45:26+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DMint
>
> XrayDoc wrote:
Thanks you so much! I just love sharing the stuff I find with others since no one else likes to share when I search for stuff.
Hmmm. When I try putting another model over it it doesn't seem to change her model. I'll keep trying, maybe the Kaz file isn't working that I found?

Yeah it seems like there's a ton of duplicates spread out everywhere so it could be that the one you're replacing isn't the one that you actually see in that moment
nudifyher wrote:Trying to find Quiet's "naked" texture. Anyone care to help?
I've tried extracting the dds from ftex files but failed. For ftexs it doesn't show anything while for ftex files it gives me this error: http://i.imgur.com/p0q5n9H.png
I've used Ftex Tool v0.3

Thank you.

You need the ftex main file and all the corresponding ftexes to open it if it crashes like that then you're probably missing a part of the file. Sometimes it's also stored in different texture.dat files and if the unpacking tool doesnt label them properly it can get pretty difficult to find.
I found the problem, the XOF skin only works for mission 0, not mission 46. To get the scene I wanted I just had to replay the first mission. I'll be uploading my hilarious video shortly! Trust me, it's something to look forward to.
## Post #395
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-09-10T22:51:54+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I was busy updating my tools toolset to the new formats:
[GzsTool v0.3.2](https://github.com/Atvaark/GzsTool/releases) works with the new dat/qar, fpk, fpkd and pftxs files now. Just repacking pftxs is left to implement.
[FtexTool v0.3.0](https://github.com/Atvaark/FtexTool/releases) recieved a temporary fix. Smaller mipmaps that can't be read decompressed correctly are ignored for now.
[FoxEngine.TranslationTool](https://github.com/Atvaark/FoxEngine.TranslationTool/releases) works with new lng, new ffnt and subp files now. Also supports unpacking the kanji and arabic ffnt files now.
[FoxTool v0.2.2.1](https://github.com/Atvaark/FoxTool/releases) is unchanged as it appears to still work correctly.
## Post #396
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-09-10T22:58:56+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

[https://www.youtube.com/watch?v=hBq9MeSIZ6U](https://www.youtube.com/watch?v=hBq9MeSIZ6U)

My masterpiece.
## Post #397
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-09-10T23:26:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> Higus wrote:Also please do fix the "win"/"ste" header issue with the fpk tool, it's so annoying with tpp having to correct it manually after every change.
Umm, what issue? Totally fine on my end.
It's an issue that will leave the game with crashes when trying to repack, extracting works fine.

Atvaark noticed it too (an update on one of his tools):

> Fixes in v0.3.2
>
> Fpk/Fpkd files will now have the correct TPP header ('win' instead of 'ste')
-------

> Reply from DMint
>
> Higus wrote:
https://www.youtube.com/watch?v=Tf2z9b8g9fE
I fixed the gun-stomach bug and first person aiming bug by placing the Quiet model over a head model, then nulling out the mesh data in the main body model via hex edit.

Could you post your sna0_main1_def.fmdl or whatever the snake model you replaced it with? I'm having trouble finding out what is specifically the mesh data inside these files to 0 out
This invisible fmdl I did was on a female motherbase member, for female proportions. This "workaround" is very unstable and I haven't had much better results than what's here. For example I've never gotten decent results out of Ocelot, I end up with one issue or another, such as ridiculous facial rigging errors.
## Post #398
- Username: DMint
- Rank: n00b
- Number of posts: 19
- Joined date: Sun Sep 06, 2015 6:19 am
- Post datetime: 2015-09-10T23:38:46+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DMint
>
> Higus wrote:
https://www.youtube.com/watch?v=Tf2z9b8g9fE
I fixed the gun-stomach bug and first person aiming bug by placing the Quiet model over a head model, then nulling out the mesh data in the main body model via hex edit.

Could you post your sna0_main1_def.fmdl or whatever the snake model you replaced it with? I'm having trouble finding out what is specifically the mesh data inside these files to 0 out

> Reply from Higus
>
> This invisible fmdl I did was on a female motherbase member, for female proportions. This "workaround" is very unstable and I haven't had much better results than what's here. For example I've never gotten decent results out of Ocelot, I end up with one issue or another, such as ridiculous facial rigging errors.

Ahh I see! Could you tell me what the file name of the female motherbase member fmdl is? I'm not sure what to look for for that. Also which one of Snake's head models did you replace with the Quiet model? I tried sna0_face0_cov.fmdl but it just messes up the character's face so I'm assuming that I got the file wrong.
## Post #399
- Username: Maxunit
- Rank: n00b
- Number of posts: 18
- Joined date: Mon Jun 28, 2010 7:49 am
- Post datetime: 2015-09-11T00:14:06+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

How much of Metal Gear Solid V's Gameplay Mechanis are done in LUA and what might be done in C++?

If enough is done in LUA, wouldn't it be possible to add specific Characters to be assign-able to the Combat Platform for selection in the Mission Screen, same for Clothing/Armor Pieces?

I know, that modding MGSVTPP pretty much just started, not all file names are parsed/extracted right now and a lot of stuff needs to be found with spending a good amount of time..but still.

Example:

Instead of Model Swapping Quiet onto Snake or someone else, why not remove the Brig-Only Restriction, make her assignable to the Combat Unit and therefor selectable in the Mission Screen.

Just an idea, but I haven't done any modding for Ground Zeroes or The Phantom Pain so far.
## Post #400
- Username: MrMadMadMan
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Thu Jan 22, 2015 11:29 pm
- Post datetime: 2015-09-11T01:37:30+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Can I please get a link to the latest .FPK tool? Mine seems outdated and freezes the game after I replace the original with the the repacked file. 

Thanks in advance.

edit: typos
## Post #401
- Username: slowbeatle
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Tue Sep 08, 2015 8:30 am
- Post datetime: 2015-09-11T02:45:30+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> XrayDoc wrote:Guys I've been working pretty hard looking through these files for neat characters, but I just can't find one I really want to find. Quiet from the intro/ending, I want to find her model so I can replace it. If anyone finds it please post the file location since I shared a bunch with you guys here. Thanks!
Since you didn't cling your own findings to yourself...
currently unnamed "2a5f83a94178.fpk" in chunk0.dat: "Assets\tpp\chara\qui\Scenes\qui1_main0_def.fmdl"
https://www.youtube.com/watch?v=Tf2z9b8g9fE
I fixed the gun-stomach bug and first person aiming bug by placing the Quiet model over a head model, then nulling out the mesh data in the main body model via hex edit.

downloads please?
## Post #402
- Username: PTE Jenkins
- Rank: n00b
- Number of posts: 14
- Joined date: Thu Sep 10, 2015 12:21 pm
- Post datetime: 2015-09-11T04:59:22+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> 
Since you didn't cling your own findings to yourself...
currently unnamed "2a5f83a94178.fpk" in chunk0.dat: "Assets\tpp\chara\qui\Scenes\qui1_main0_def.fmdl"
https://www.youtube.com/watch?v=Tf2z9b8g9fE
I fixed the gun-stomach bug and first person aiming bug by placing the Quiet model over a head model, then nulling out the mesh data in the main body model via hex edit.

I know this is a bit of a bother but could you possibly maybe write a in depth tutorial on how you actually did this? More specifically on where the head's actually are and how to nullify mesh with hex edit.

> Reply from CaptianKnuckles
>
> 

How'd you manage to do that? I've asked ShiguWorks on YT, he's given me some instructions but I cant even seem to get model swaps working.

Could you upload the XOF guy for me? I'd really like to try the Prologue mission since IIRC there aren't even primary weapons in that mission.

The xof_soldier fpk is in the mission2/common folder in chunk 0, you unpack that fpk, unpack whatever player model you wanted to replaces fpk, replace it's files with the xof files (rename then n all) repack the player model fpk, repack chunk0 baddabingbaddaboom.
## Post #403
- Username: DMint
- Rank: n00b
- Number of posts: 19
- Joined date: Sun Sep 06, 2015 6:19 am
- Post datetime: 2015-09-11T05:43:20+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from PTE Jenkins
>
> Higus wrote:
Since you didn't cling your own findings to yourself...
currently unnamed "2a5f83a94178.fpk" in chunk0.dat: "Assets\tpp\chara\qui\Scenes\qui1_main0_def.fmdl"
https://www.youtube.com/watch?v=Tf2z9b8g9fE
I fixed the gun-stomach bug and first person aiming bug by placing the Quiet model over a head model, then nulling out the mesh data in the main body model via hex edit.

I know this is a bit of a bother but could you possibly maybe write a in depth tutorial on how you actually did this? More specifically on how to nullify mesh with hex edit.

I know how to blank out the mesh if you know what file to replace
## Post #404
- Username: PTE Jenkins
- Rank: n00b
- Number of posts: 14
- Joined date: Thu Sep 10, 2015 12:21 pm
- Post datetime: 2015-09-11T05:46:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DMint
>
> 
I know how to blank out the mesh if you know what file to replace

Thing is I have no fucking clue where the head files are, I don't even think I have them in my dictionary file, if someone that's found them could link me the paths it'd be much appreciated.
## Post #405
- Username: DMint
- Rank: n00b
- Number of posts: 19
- Joined date: Sun Sep 06, 2015 6:19 am
- Post datetime: 2015-09-11T06:02:04+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from PTE Jenkins
>
> DMint wrote:
I know how to blank out the mesh if you know what file to replace

Thing is I have no fucking clue where the head files are, I don't even think I have them in my dictionary file, if someone that's found them could link me the paths it'd be much appreciated.
I'm pretty sure they're called sna0_face atleast that's what I've been experimenting with but they havent proved promising I Think I might have got it though
## Post #406
- Username: PTE Jenkins
- Rank: n00b
- Number of posts: 14
- Joined date: Thu Sep 10, 2015 12:21 pm
- Post datetime: 2015-09-11T06:03:43+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Yeah but where are they exactly? I've been putting in; /Assets/tpp/chara/sna/Scenes/sna0_face0 to the dictionary and unpacking chunk0 and found nothing, I don't even think it's spitting it out, do you think you could upload your dictionary.txt for me? Thanks.
## Post #407
- Username: DMint
- Rank: n00b
- Number of posts: 19
- Joined date: Sun Sep 06, 2015 6:19 am
- Post datetime: 2015-09-11T06:11:45+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from PTE Jenkins
>
> Yeah but where are they exactly? I've been putting in; /Assets/tpp/chara/sna/Scenes/sna0_face0 to the dictionary and unpacking chunk0 and found nothing, I don't even think it's spitting it out, do you think you could upload your dictionary.txt for me? Thanks.

Theyre in a few of the unlabeled fpk files that it spits out

ddef9aa7c02d.fpk
ba3078168e6d.fpk
2a5f83a94178.fpk
2615f9f58fe92.fpk

etc etc.

just batch extract them all and use the windows search
## Post #408
- Username: PTE Jenkins
- Rank: n00b
- Number of posts: 14
- Joined date: Thu Sep 10, 2015 12:21 pm
- Post datetime: 2015-09-11T06:13:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Cheers bruz but I'm a bit of a scrub, you reckon you could give us a peak at your .bat file for converting?

Man I really have no idea how to do this hexedit stuff, is it a certain bit of numbers I'm looking for or what?
## Post #409
- Username: DMint
- Rank: n00b
- Number of posts: 19
- Joined date: Sun Sep 06, 2015 6:19 am
- Post datetime: 2015-09-11T06:34:37+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from PTE Jenkins
>
> Cheers bruz but I'm a bit of a scrub, you reckon you could give us a peak at your .bat file for converting?

```
for %%x in (*.fpk *.fpkd) do MGSV_FPK_Tool %%x
```


if you make that into a batch and run it in the folder then itll extract them all for you but remember that everytime you replace a file in there you gotta remember the fpk name I just made a second batch script that was like


```
MGSV_FPK_Tool ba3078168e6d_fpk.inf
MGSV_FPK_Tool 2a5f83a94178_fpk.inf
MGSV_FPK_Tool 1ec23af4d25a9_fpk.inf
MGSV_FPK_Tool 15503d670f87b_fpk.inf
MGSV_FPK_Tool 20d715cca4312_fpk.inf
MGSV_FPK_Tool 373a0d18d1507_fpk.inf
MGSV_FPK_Tool 206c5f2255575_fpk.inf
MGSV_FPK_Tool 3700cdfa07d64_fpk.inf
MGSV_FPK_Tool 2a6d88360fe3c_fpk.inf
MGSV_FPK_Tool 24a40322ab9ff_fpk.inf
MGSV_FPK_Tool 2615f9f58fe92_fpk.inf
```


those are incidentally all the locations i found that have sna_face files in them
## Post #410
- Username: PTE Jenkins
- Rank: n00b
- Number of posts: 14
- Joined date: Thu Sep 10, 2015 12:21 pm
- Post datetime: 2015-09-11T06:38:04+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I can't seem to figure this hexediting stuff out, doctormint you mentioned you knew how to blank stuff out if I knew what file to replace yeah? I'm trying to get sna0_main0 (the default BDU model to be invisible) [https://dl.dropboxusercontent.com/u/255 ... _main0.zip](https://dl.dropboxusercontent.com/u/255920778/sna0_main0.zip) if I knew how a file with a invisible model looked I might be able to do it myself I dunno.
## Post #411
- Username: DMint
- Rank: n00b
- Number of posts: 19
- Joined date: Sun Sep 06, 2015 6:19 am
- Post datetime: 2015-09-11T06:47:03+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from PTE Jenkins
>
> I can't seem to figure this hexediting stuff out, doctormint you mentioned you knew how to blank stuff out if I knew what file to replace yeah? I'm trying to get sna0_main0 (the default BDU model to be invisible) https://dl.dropboxusercontent.com/u/255 ... _main0.zip if I knew how a file with a invisible model looked I might be able to do it myself I dunno.

ive managed to get the original snake model invisible before but I lost the file. I'm trying to hex edit a character out right now actually but I don't know if I can do it consistently enough that I can give a guide its mostly just looking for patterns in the files and where you think the mesh data actually is. If I can get it working I'll make a tutorial on it or just post my blanked out character model

oh yeah issue with making the normal snake file invisible is that there's still a base part of the head that I have no clue how to get rid of. It seems like the best way to insert a custom character is to use a DDS (diamond dogs soldier?) file because they have no heads so you can swap in a character with whom ever you want.
## Post #412
- Username: nudifyher
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Thu Sep 10, 2015 11:50 pm
- Post datetime: 2015-09-11T06:53:02+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nudifyher
>
> Trying to find Quiet's "naked" texture. Anyone care to help?
I've tried extracting the dds from ftex files but failed. For ftexs it doesn't show anything while for ftex files it gives me this error: http://i.imgur.com/p0q5n9H.png
I've used Ftex Tool v0.3

Thank you.

You need the ftex main file and all the corresponding ftexes to open it if it crashes like that then you're probably missing a part of the file. Sometimes it's also stored in different texture.dat files and if the unpacking tool doesnt label them properly it can get pretty difficult to find.[/quote]

I think I'm gonna give up, no nude mod today. I  couldn't even find a qui folder... tried to extract the files from the folder dds (see screen)
[None](https://xentaxbackup.github.io/file/9720_None)
## Post #413
- Username: DMint
- Rank: n00b
- Number of posts: 19
- Joined date: Sun Sep 06, 2015 6:19 am
- Post datetime: 2015-09-11T06:59:42+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nudifyher
>
> 
I think I'm gonna give up, no nude mod today. I  couldn't even find a qui folder... tried to extract the files from the folder dds (see screen)

You probably wouldn't be able to put it back in game even if you found the files because when you convert a dds back into an ftex then it usually makes more files then the thing originally had and you can't get it back into the folder
## Post #414
- Username: nudifyher
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Thu Sep 10, 2015 11:50 pm
- Post datetime: 2015-09-11T07:05:44+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

When do you think this will be doable? Anytime soon?
## Post #415
- Username: PTE Jenkins
- Rank: n00b
- Number of posts: 14
- Joined date: Thu Sep 10, 2015 12:21 pm
- Post datetime: 2015-09-11T07:06:42+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DMint
>
> ive managed to get the original snake model invisible before but I lost the file. I'm trying to hex edit a character out right now actually but I don't know if I can do it consistently enough that I can give a guide its mostly just looking for patterns in the files and where you think the mesh data actually is. If I can get it working I'll make a tutorial on it or just post my blanked out character model

oh yeah issue with making the normal snake file invisible is that there's still a base part of the head that I have no clue how to get rid of. It seems like the best way to insert a custom character is to use a DDS (diamond dogs soldier?) file because they have no heads so you can swap in a character with whom ever you want.

Oh huh, but you still have to nullify the body mesh though correct? if that's the case then a file of an invisible dd_male and dd_female fpk would be very useful for future modding. Also I assume the diamond dogs soldiers head files look something like dds_face_m/f or something?
## Post #416
- Username: DMint
- Rank: n00b
- Number of posts: 19
- Joined date: Sun Sep 06, 2015 6:19 am
- Post datetime: 2015-09-11T07:14:52+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from PTE Jenkins
>
> DMint wrote:ive managed to get the original snake model invisible before but I lost the file. I'm trying to hex edit a character out right now actually but I don't know if I can do it consistently enough that I can give a guide its mostly just looking for patterns in the files and where you think the mesh data actually is. If I can get it working I'll make a tutorial on it or just post my blanked out character model

oh yeah issue with making the normal snake file invisible is that there's still a base part of the head that I have no clue how to get rid of. It seems like the best way to insert a custom character is to use a DDS (diamond dogs soldier?) file because they have no heads so you can swap in a character with whom ever you want.

Oh huh, but you still have to nullify the body mesh though correct? if that's the case then a file of an invisible dd_male and dd_female fpk would be very useful for future modding. Also I assume the diamond dogs soldiers head files look something like dds_face_m/f or something?
yeah i agree an invisible dd_female and male would be useful unfortunately theyre just labeled by number and I can't tell which is female or male. As for the heads I'm actually not sure where they are either I haven't seen any files that look similiar but I'm willing to bet they at least start with dds like the rest of the files
## Post #417
- Username: PTE Jenkins
- Rank: n00b
- Number of posts: 14
- Joined date: Thu Sep 10, 2015 12:21 pm
- Post datetime: 2015-09-11T07:42:22+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Maybe Shigu has one/is working on one. or could tell us a bit more about how he did it.
## Post #418
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2015-09-11T08:14:14+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> Sergeanur wrote:Higus wrote:Also please do fix the "win"/"ste" header issue with the fpk tool, it's so annoying with tpp having to correct it manually after every change.
Umm, what issue? Totally fine on my end.
It's an issue that will leave the game with crashes when trying to repack, extracting works fine.

Atvaark noticed it too (an update on one of his tools):
Fixes in v0.3.2
Fpk/Fpkd files will now have the correct TPP header ('win' instead of 'ste')
Actually, this was fixed a long time ago.

> Reply from Sergeanur
>
> MGS V FPK Tool v1.1
Updated FPK Tool now supports console versions.
## Post #419
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-09-11T09:19:57+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> Actually, this was fixed a long time ago.
Sergeanur wrote:MGS V FPK Tool v1.1
Updated FPK Tool now supports console versions.
Yeah it seems I somehow ended up downloading an outdated version somewhere from this thread. My bad.

> Reply from PTE Jenkins
>
> Maybe Shigu has one/is working on one. or could tell us a bit more about how he did it.
I released the quiet mods, just rip into those files to know how I did it.
[http://www.nexusmods.com/phantompain/mods/6/](http://www.nexusmods.com/phantompain/mods/6/)
## Post #420
- Username: PTE Jenkins
- Rank: n00b
- Number of posts: 14
- Joined date: Thu Sep 10, 2015 12:21 pm
- Post datetime: 2015-09-11T09:40:10+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Do you think you could save us a bit of the grunt work and make a dd_male and dd_female file that's invisible?

Anybody figure out where these dudes are at by chance?

[http://steamcommunity.com/sharedfiles/f ... =516188040](http://steamcommunity.com/sharedfiles/filedetails/?id=516188040)

The Diamond Dogs that somewhat resemble the ocelot unit.
## Post #421
- Username: zSydor
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Tue Apr 16, 2013 10:07 pm
- Post datetime: 2015-09-11T12:12:35+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> 
I released the quiet mods, just rip into those files to know how I did it.
http://www.nexusmods.com/phantompain/mods/6/

I get her like this



Where is located the suit fpk for the soldats? because when i extract chunk0 i do not have that "plparts_ddf_venom"...

I tried to change the files in "plparts_sneaking_suit.fpk" etc but the suit doesn't disappear/change -.-...


PS: playing as ambulance... lol [https://www.youtube.com/watch?v=KxSsZ6cN_DI](https://www.youtube.com/watch?v=KxSsZ6cN_DI)
## Post #422
- Username: Espio
- Rank: n00b
- Number of posts: 18
- Joined date: Mon Jan 08, 2007 7:47 am
- Post datetime: 2015-09-11T14:44:48+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

What FSM files are for? Seems like sound ones, but there are wem & sbp already - is it something else?
They look compressed, but the visually entropy is not deflate-like, more LZ4-like.
## Post #423
- Username: DMint
- Rank: n00b
- Number of posts: 19
- Joined date: Sun Sep 06, 2015 6:19 am
- Post datetime: 2015-09-11T14:46:37+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> Sergeanur wrote:Actually, this was fixed a long time ago.
Sergeanur wrote:MGS V FPK Tool v1.1
Updated FPK Tool now supports console versions.
Yeah it seems I somehow ended up downloading an outdated version somewhere from this thread. My bad.
PTE Jenkins wrote:Maybe Shigu has one/is working on one. or could tell us a bit more about how he did it.
I released the quiet mods, just rip into those files to know how I did it.
http://www.nexusmods.com/phantompain/mods/6/
Thanks man! Just mixed in those files with my own work and it came out flawless

[http://i.imgur.com/FHZLKiX.jpg](http://i.imgur.com/FHZLKiX.jpg)

Now to finally actually start playing the game! All while staring at Quiet's butt the entire time
## Post #424
- Username: zSydor
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Tue Apr 16, 2013 10:07 pm
- Post datetime: 2015-09-11T14:49:12+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DMint
>
> 
Thanks man! Just mixed in those files with my own work and it came out flawless

http://i.imgur.com/FHZLKiX.jpg

Now to finally actually start playing the game! All while staring at Quiet's butt the entire time

Where do you copied the files ?

i get her like this T_T
## Post #425
- Username: DMint
- Rank: n00b
- Number of posts: 19
- Joined date: Sun Sep 06, 2015 6:19 am
- Post datetime: 2015-09-11T17:29:57+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from zSydor
>
> DMint wrote:
Thanks man! Just mixed in those files with my own work and it came out flawless

http://i.imgur.com/FHZLKiX.jpg

Now to finally actually start playing the game! All while staring at Quiet's butt the entire time  

Where do you copied the files ?

i get her like this T_T

make sure you add those path names to your dictionary before you extract chunk0
i ripped the files out and replaced the big boss model with the quiet one because I don't have any of those female soldiers yet in game does anyone have that lua mod to get a female S+ soldier on your team? I've heard it mentioned but I don't know how to do it myself
## Post #426
- Username: zSydor
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Tue Apr 16, 2013 10:07 pm
- Post datetime: 2015-09-11T18:29:27+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DMint
>
> make sure you add those path names to your dictionary before you extract chunk0
i ripped the files out and replaced the big boss model with the quiet one because I don't have any of those female soldiers yet in game does anyone have that lua mod to get a female S+ soldier on your team? I've heard it mentioned but I don't know how to do it myself

I have to add venom to my dictionary? if yes i alredy have T_T
## Post #427
- Username: DMint
- Rank: n00b
- Number of posts: 19
- Joined date: Sun Sep 06, 2015 6:19 am
- Post datetime: 2015-09-11T19:45:05+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from zSydor
>
> DMint wrote:make sure you add those path names to your dictionary before you extract chunk0
i ripped the files out and replaced the big boss model with the quiet one because I don't have any of those female soldiers yet in game does anyone have that lua mod to get a female S+ soldier on your team? I've heard it mentioned but I don't know how to do it myself

I have to add venom to my dictionary? if yes i alredy have T_T

then Im not sure! Try doing that batch fpk extract I mentioned before and then search for sna4 or whatver the filenames that match inside of that venom fpak and replace them and repackage the fpk and then repackage the chunk0 file and i bet that would work
## Post #428
- Username: Loomy
- Rank: advanced
- Number of posts: 41
- Joined date: Sat Sep 12, 2015 9:16 am
- Post datetime: 2015-09-12T02:01:30+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Firstly big thank you to all those who have put so much time into this !  While i impatiently await a pc that can actually run the game, ive been doodling about.  Found four sets (Lying in cell, regular, Acid/chlorine burnt, And (altyhough missing the actual mesh - the uniform itself is in t0/char/chi) partial prison outfit scene where she munches a guys ear (partly my inspiration for the very random Darth talon look..she would make one B.A. sith. totally making a mod when i figure out how.



Worth noting i found txtr in T2 were higher res/quality.

> Reply from nudifyher
>
> Trying to find Quiet's "naked" texture. Anyone care to help?
I've tried extracting the dds from ftex files but failed. For ftexs it doesn't show anything while for ftex files it gives me this error: http://i.imgur.com/p0q5n9H.png
I've used Ftex Tool v0.3

Thank you.

Fact about Quiet/Steph, she is honestly dead gorgeous in pretty much any outfit, anything resembling naked was scene in cell lying down, if u look above, 1st on left, it is actually this texture, still using original model.  the bikini top welded to torso, if you were really adamant you would have to edit the mesh itself / textures.

For those like me spent hours trying to find the illusive textures, (easy way to just extract all -can then preview dozen or more at a time.
Heres what i managed to find / using anove (still searching for most of accessories, & bump/spec/norm maps, would appreciate a heads up. also on how ot make hear a little better & eyebrows alpha - im a tad on noob side even though i must have seen this fix a dozen times back in my DS/Poser days.  Im using any combo of xna/3dsmx/zbr/mt2

Found Textures:-  

[Textures0.dat](http://i.imgur.com/IcCssKk.jpg)
[Textures1.dat](http://i.imgur.com/1X3PZOp.jpg)

(some others in Textures0/char/chi (named) though the face txts there dont really match.

Anyone find any other of her models (particularly XOH /Prison uniform  / plain (without belt))

Could Quiets mesh be converted into TR2013 meshmod, actual rigging of this mesh, not the texmod thing (ofc will be headache, but im keen to learn, any tips here appreciated!)

Keep up the great work!
## Post #429
- Username: CaptianKnuckles
- Rank: n00b
- Number of posts: 13
- Joined date: Mon Sep 07, 2015 4:34 am
- Post datetime: 2015-09-12T02:36:55+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Is there any easy way to make weapons on Big Boss invisible unless I right click to aim with them? 
In Ground Zeroes, model swaps did that and I still enjoyed the game, also this could be another alternative to the stomach gun bug. Any help?
## Post #430
- Username: DarknessValtier
- Rank: beginner
- Number of posts: 35
- Joined date: Sat Feb 07, 2009 11:47 pm
- Post datetime: 2015-09-12T09:38:23+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

[https://www.youtube.com/watch?v=bkUZDoEgQm4](https://www.youtube.com/watch?v=bkUZDoEgQm4)
This is my Quiet mod over bigboss main costume, this mod use the entire Quiet skeleton.
editing some hex files i remove the weapon on chest and fixed the weapon on back.
Works perfect on cutscenes too!
## Post #431
- Username: PTE Jenkins
- Rank: n00b
- Number of posts: 14
- Joined date: Thu Sep 10, 2015 12:21 pm
- Post datetime: 2015-09-12T09:54:25+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Anybody have a invisible male fpk with the male animation set?
## Post #432
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-09-12T10:37:18+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Anyone remember the name of the Kojima folder from GZ?
## Post #433
- Username: CoreyHUN
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Mon Nov 17, 2014 6:39 am
- Post datetime: 2015-09-12T13:33:54+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hey guys, does anyone have Quiet's original model with the original textures for download? I'd appreciate it.
## Post #434
- Username: lion589
- Rank: beginner
- Number of posts: 26
- Joined date: Thu Oct 13, 2011 12:48 am
- Post datetime: 2015-09-12T14:31:39+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DarknessValtier
>
> https://www.youtube.com/watch?v=bkUZDoEgQm4
This is my Quiet mod over bigboss main costume, this mod use the entire Quiet skeleton.
editing some hex files i remove the weapon on chest and fixed the weapon on back.
Works perfect on cutscenes too!

Can you fix her arm? so she can have her original arm and not snake's mechanical arm.
## Post #435
- Username: amandabyyy
- Rank: beginner
- Number of posts: 22
- Joined date: Mon May 31, 2010 3:08 pm
- Post datetime: 2015-09-12T16:01:17+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DarknessValtier
>
> https://www.youtube.com/watch?v=bkUZDoEgQm4
This is my Quiet mod over bigboss main costume, this mod use the entire Quiet skeleton.
editing some hex files i remove the weapon on chest and fixed the weapon on back.
Works perfect on cutscenes too!

I just started looking into this and I want to try and use Quiet's no-stockings model that Loomy posted a render of. Is that possible? Do we know which files represent that model?

I'm going to give it a shot so any help is appreciated up front
## Post #436
- Username: DMint
- Rank: n00b
- Number of posts: 19
- Joined date: Sun Sep 06, 2015 6:19 am
- Post datetime: 2015-09-12T16:43:40+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from lion589
>
> DarknessValtier wrote:https://www.youtube.com/watch?v=bkUZDoEgQm4
This is my Quiet mod over bigboss main costume, this mod use the entire Quiet skeleton.
editing some hex files i remove the weapon on chest and fixed the weapon on back.
Works perfect on cutscenes too!

Can you fix her arm? so she can have her original arm and not snake's mechanical arm.

I sorta think the big boss robo arm fits, I can blank out the mesh for you if you want though.

> Reply from DarknessValtier
>
> https://www.youtube.com/watch?v=bkUZDoEgQm4
This is my Quiet mod over bigboss main costume, this mod use the entire Quiet skeleton.
editing some hex files i remove the weapon on chest and fixed the weapon on back.
Works perfect on cutscenes too!

Could you post the files, please?
## Post #437
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-09-12T18:15:47+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Does anyone know the location of the Skullface files?

I also found the raven files for more bird swapping fun.

MGS_TPP\master\chunk4\Assets\tpp\pack\mission2\free\f30020

[https://www.youtube.com/watch?v=GUR3gMheEzE](https://www.youtube.com/watch?v=GUR3gMheEzE)
## Post #438
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-09-12T20:00:50+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

i notice the soldiers are made of parts. xof troops have a body and helmet separate. could it be possible to separate head from body as well and make a selectable xof uniform? and turn the things like red beret, 2 hole balaclava, and xof helmet into separate objects? because they are all separate objects in the game.
## Post #439
- Username: Eiwo
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Wed Dec 21, 2011 10:06 am
- Post datetime: 2015-09-12T23:34:02+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Do any of you know where the TPP Paz model is located?
## Post #440
- Username: DarknessValtier
- Rank: beginner
- Number of posts: 35
- Joined date: Sat Feb 07, 2009 11:47 pm
- Post datetime: 2015-09-13T00:47:59+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from lion589
>
> DarknessValtier wrote:https://www.youtube.com/watch?v=bkUZDoEgQm4
This is my Quiet mod over bigboss main costume, this mod use the entire Quiet skeleton.
editing some hex files i remove the weapon on chest and fixed the weapon on back.
Works perfect on cutscenes too!

Can you fix her arm? so she can have her original arm and not snake's mechanical arm.

Yeah, i can hide the bigboss arm similar hex editing the waist weapon

> DarknessValtier wrote:https://www.youtube.com/watch?v=bkUZDoEgQm4
>
> This is my Quiet mod over bigboss main costume, this mod use the entire Quiet skeleton.
>
> editing some hex files i remove the weapon on chest and fixed the weapon on back.
>
> Works perfect on cutscenes too!
>
> 
>
> Could you post the files, please?

Yeah, soon i release her mod
## Post #441
- Username: SolidSnake916
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Wed Mar 02, 2011 4:49 pm
- Post datetime: 2015-09-13T03:43:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Does anyone know where the Weapon/Costume ID's are stored, im trying to locate the IDs for the following items, i recently edited the LUA file for Development and Gave myself all the blueprints, but the item ids, i don't know, and since the DLC Items textures arent in the game supposedly it causes a crash to desktop. Unless they file can be swapped to use existing in-game texures i see no point in ever unlocking them. Any help would be appreciated.

- adam-ska SP (handgun)
- WU S333 CB SP (handgun)
- Macht P-5 Weiss (submachinegun)
- Rasp SB-SG Gold (shotgun)
- Shield Silver/Olive/Gold/White
- Cardboard APD/RT/WET
- Grey Urban (Camo)
- Blue Urban (Camo)
- APD (camo)
- Black Ocelot (camo)
- Miller & Ocelot DD costume (dog camo)
## Post #442
- Username: DarknessValtier
- Rank: beginner
- Number of posts: 35
- Joined date: Sat Feb 07, 2009 11:47 pm
- Post datetime: 2015-09-13T04:27:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

[https://www.youtube.com/watch?v=52VuNdwVJag](https://www.youtube.com/watch?v=52VuNdwVJag)
Quiet mod cutscene test
## Post #443
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-09-13T05:59:54+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from SolidSnake916
>
> Does anyone know where the Weapon/Costume ID's are stored, im trying to locate the IDs for the following items, i recently edited the LUA file for Development and Gave myself all the blueprints, but the item ids, i don't know, and since the DLC Items textures arent in the game supposedly it causes a crash to desktop. Unless they file can be swapped to use existing in-game texures i see no point in ever unlocking them. Any help would be appreciated.

- adam-ska SP (handgun)
- WU S333 CB SP (handgun)
- Macht P-5 Weiss (submachinegun)
- Rasp SB-SG Gold (shotgun)
- Shield Silver/Olive/Gold/White
- Cardboard APD/RT/WET
- Grey Urban (Camo)
- Blue Urban (Camo)
- APD (camo)
- Black Ocelot (camo)
- Miller & Ocelot DD costume (dog camo)
It pisses me off that these items are in the PC game files yet they "couldn't release it on time" with the PC version. Prepare your asses for the DLC shitstorm
## Post #444
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-09-13T12:46:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DarknessValtier
>
> https://www.youtube.com/watch?v=bkUZDoEgQm4
This is my Quiet mod over bigboss main costume, this mod use the entire Quiet skeleton.
editing some hex files i remove the weapon on chest and fixed the weapon on back.
Works perfect on cutscenes too!
Could you tell us which files you altered to do this? Was it the fcnp?
## Post #445
- Username: slowbeatle
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Tue Sep 08, 2015 8:30 am
- Post datetime: 2015-09-13T15:39:03+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Thanks Shigu. TEST

[https://www.youtube.com/watch?v=qbM9RL7KB_8](https://www.youtube.com/watch?v=qbM9RL7KB_8)
## Post #446
- Username: DUSToid1109
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sat Sep 12, 2015 6:09 pm
- Post datetime: 2015-09-13T17:42:32+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

hello.
how do i extract it. I found the audio file but how do i play or extract sbp files

sorry my bad English...
## Post #447
- Username: rensole
- Rank: beginner
- Number of posts: 39
- Joined date: Tue Feb 26, 2013 4:34 am
- Post datetime: 2015-09-13T18:16:22+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

hey guys,

I tried unpacking the .dat files with GzsTool, but the tool opens and closes inmediately.
Am I missing something ?
## Post #448
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-09-13T18:51:34+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from rensole
>
> hey guys,

I tried unpacking the .dat files with GzsTool, but the tool opens and closes inmediately.
Am I missing something ?
Didn't work for me, either. Just stick to QAR
## Post #449
- Username: rensole
- Rank: beginner
- Number of posts: 39
- Joined date: Tue Feb 26, 2013 4:34 am
- Post datetime: 2015-09-13T18:54:13+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> rensole wrote:hey guys,

I tried unpacking the .dat files with GzsTool, but the tool opens and closes inmediately.
Am I missing something ?
Didn't work for me, either. Just stick to QAR

would you happen to have a link for me ?
I'm pretty new to all of this
## Post #450
- Username: octopus
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Mon Sep 14, 2015 3:09 am
- Post datetime: 2015-09-13T19:11:35+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Could anyone help me out? 
I wondered, where should I poke for guns’ names? I’d like to make IRL names mod.
## Post #451
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-09-13T21:40:13+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from rensole
>
> hey guys,

I tried unpacking the .dat files with GzsTool, but the tool opens and closes inmediately.
Am I missing something ?

> Reply from XrayDoc
>
> rensole wrote:hey guys,

I tried unpacking the .dat files with GzsTool, but the tool opens and closes inmediately.
Am I missing something ?
Didn't work for me, either. Just stick to QAR

If it doesn't extract anything then you are either passing in wrong arguments or some kind of error has occured. Just tell me how you start the tool and what gets printed to the console.

Or try saving the output to a file by starting it like this from the command line:
GzsTool.exe "..\master\data1.dat" >> info.log
## Post #452
- Username: Loomy
- Rank: advanced
- Number of posts: 41
- Joined date: Sat Sep 12, 2015 9:16 am
- Post datetime: 2015-09-13T21:50:57+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from amandabyyy
>
> DarknessValtier wrote:https://www.youtube.com/watch?v=bkUZDoEgQm4
This is my Quiet mod over bigboss main costume, this mod use the entire Quiet skeleton.
editing some hex files i remove the weapon on chest and fixed the weapon on back.
Works perfect on cutscenes too!

I just started looking into this and I want to try and use Quiet's no-stockings model that Loomy posted a render of. Is that possible? Do we know which files represent that model?

I'm going to give it a shot so any help is appreciated up front

Using the model of Quiet posted earlier, im guessing its the wrong one as u can see urself, the right leg tex is messed up, as well as the ridge where teh back top string is, the texture itself i highlighted on right (found in textures2.dat).  there is a couple versions, maybe different resolution, still looking for the normals and spec. will make it all look alot more realistic with these.



PS. its not render lol, its live interactive view ! using physical based render tool, like Marmoset Toolbag for example.  could achieve similar effect with XNALara using 3 light source with the third directional and brighter with an orangish tint, including a soft blur with postprocessing filter.  Gives some awesome results, and dont need to wait minutes, or hours in my case :p for a good render.

I would also love to find more models, but right now im stuck on how to convert FMDL to Obj, i heard its the Fox Model Tool, but where to get it ? i read above its been taken down for now, if anyone has the old one maybe ?

Im cleaning up the above model, and renaming parts proper, maybe adjust some of the uvs to work in the likes of daz studio/poser/motionbuilder, to rerig, or even modify a prerigged model with this mesh. easier said than done -.-

let me know if or how i can help
## Post #453
- Username: amandabyyy
- Rank: beginner
- Number of posts: 22
- Joined date: Mon May 31, 2010 3:08 pm
- Post datetime: 2015-09-13T22:42:00+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Loomy
>
> amandabyyy wrote:DarknessValtier wrote:https://www.youtube.com/watch?v=bkUZDoEgQm4
This is my Quiet mod over bigboss main costume, this mod use the entire Quiet skeleton.
editing some hex files i remove the weapon on chest and fixed the weapon on back.
Works perfect on cutscenes too!

I just started looking into this and I want to try and use Quiet's no-stockings model that Loomy posted a render of. Is that possible? Do we know which files represent that model?

I'm going to give it a shot so any help is appreciated up front 

Using the model of Quiet posted earlier, im guessing its the wrong one as u can see urself, the right leg tex is messed up, as well as the ridge where teh back top string is, the texture itself i highlighted on right (found in textures2.dat).  there is a couple versions, maybe different resolution, still looking for the normals and spec. will make it all look alot more realistic with these.

PS. its not render lol, its live interactive view ! using physical based render tool, like Marmoset Toolbag for example.  could achieve similar effect with XNALara using 3 light source with the third directional and brighter with an orangish tint, including a soft blur with postprocessing filter.  Gives some awesome results, and dont need to wait minutes, or hours in my case :p for a good render.

I would also love to find more models, but right now im stuck on how to convert FMDL to Obj, i heard its the Fox Model Tool, but where to get it ? i read above its been taken down for now, if anyone has the old one maybe ?

Im cleaning up the above model, and renaming parts proper, maybe adjust some of the uvs to work in the likes of daz studio/poser/motionbuilder, to rerig, or even modify a prerigged model with this mesh. easier said than done -.-

let me know if or how i can help

Yeah I realized it's probably another model to remove stockings. I'm looking for it right now.
## Post #454
- Username: Polpalca
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Thu Jun 14, 2012 11:31 pm
- Post datetime: 2015-09-13T23:47:53+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Dunno whats the problem with GzsTool. Works fine for me (0.3.2 ver.), i just drag and drop .dat archive onto the .exe and it does its job. Same for the Qar tool.
## Post #455
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-09-13T23:52:56+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

GzsTool works fine for me.

But having trouble with LangTool. Won't run on the .lng2 files unless I renamed them to .lng, and even when I do the tool crashes with Unhandled Exception: System.ArgumentOutOfRangeException: Non-negative number required.
Guessing a change in format from lng and langtool doesnt support it yet atvaark?
## Post #456
- Username: avikhandakar
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Thu Sep 10, 2015 12:07 am
- Post datetime: 2015-09-14T00:58:06+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

When i extract a .dat (from xbox 360) file using qar tool, it works fine. But when repack them this tool always create *.g0s file instead of *.dat file. 
I am using like this:
MGSV_QAR_Tool 77d720e8d8714bc.dat -u -r -e2
and for repack:
MGSV_QAR_Tool 77d720e8d8714bc.inf -u -r -e2

Please help.
## Post #457
- Username: DarknessValtier
- Rank: beginner
- Number of posts: 35
- Joined date: Sat Feb 07, 2009 11:47 pm
- Post datetime: 2015-09-14T02:41:02+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> DarknessValtier wrote:https://www.youtube.com/watch?v=bkUZDoEgQm4
This is my Quiet mod over bigboss main costume, this mod use the entire Quiet skeleton.
editing some hex files i remove the weapon on chest and fixed the weapon on back.
Works perfect on cutscenes too!
Could you tell us which files you altered to do this? Was it the fcnp?

right! open this file with HEX EDITOR, last lines you find the bone structure, "CNP_SNRROOT.SKL_642_SNIPER_SIM" this is the root of weapon on waist, to remove this weapon you just need blank rename to: "CNP_SNRROOT"
just this and the weapon disappear
## Post #458
- Username: rensole
- Rank: beginner
- Number of posts: 39
- Joined date: Tue Feb 26, 2013 4:34 am
- Post datetime: 2015-09-14T04:52:05+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

ok so I finally got it running via drag and drop.
Now I want to use FTEXtool.exe and it doesnt work, same exact thing.

I open it and it closes inmediately.
I cant acces it via CMD either, get a command prompt after it. (the standerd C:\>....)

Is there another way of getting the textures? I'm specificly searching for the metal gear Sehalantropus's textures.
## Post #459
- Username: DarknessValtier
- Rank: beginner
- Number of posts: 35
- Joined date: Sat Feb 07, 2009 11:47 pm
- Post datetime: 2015-09-14T05:50:58+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Download Metal Gear V The Phantom Pain Quiet Mod v0.1 - Over Bigboss (Works in cutscenes with original bones)
[https://www.youtube.com/watch?v=-JXCbWwRpRk](https://www.youtube.com/watch?v=-JXCbWwRpRk)
## Post #460
- Username: amandabyyy
- Rank: beginner
- Number of posts: 22
- Joined date: Mon May 31, 2010 3:08 pm
- Post datetime: 2015-09-14T07:53:41+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I hope we can get some format info on fmdl and parts. I want to see how meshes are made hidden and viisible. I'm trying to figure that out right now.
## Post #461
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-09-14T09:11:12+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

So... the patch system added in the last.. patch. Any discussion?

Two .dat/qars in 'master/0/'. 01.dat is empty. 

Couldn't get either tool to add a file to the empty 01.dat (gztool did nothing, said nothing, qartool crashed), but adding a (lua) file that wasn't previously in 00.dat worked using gztool. 

Game loads fine with modified archive, but doesn't seem to read the modified file, instead using the main archive one. Double checked there, my modded 00.dat is different size from original 00.dat. reextracted my dat, yep the file I added is there, restored all files and added modded file to data1 and the modded file does its thing. Yet the modded patch dat doesn't. I don't get it.
## Post #462
- Username: avikhandakar
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Thu Sep 10, 2015 12:07 am
- Post datetime: 2015-09-14T09:43:12+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Please someone reply me
## Post #463
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-09-14T11:13:28+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> GzsTool works fine for me.

But having trouble with LangTool. Won't run on the .lng2 files unless I renamed them to .lng, and even when I do the tool crashes with Unhandled Exception: System.ArgumentOutOfRangeException: Non-negative number required.
Guessing a change in format from lng and langtool doesnt support it yet atvaark?
lng2 are just big endianess lng files. You can unpack and repack them now with v0.2.2
[https://github.com/Atvaark/FoxEngine.Tr ... l/releases](https://github.com/Atvaark/FoxEngine.TranslationTool/releases)
## Post #464
- Username: JRavens
- Rank: beginner
- Number of posts: 20
- Joined date: Tue Dec 23, 2014 5:17 am
- Post datetime: 2015-09-14T11:30:42+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from octopus
>
> Could anyone help me out? 
I wondered, where should I poke for guns’ names? I’d like to make IRL names mod.
I've been looking for the same thing for days (and for the same reason), but whatever file contains all the strings used by the game doesn't seem to have been found 

Hey guys a new folder labeled 0 (zero) appeared in my game folder containing 00.dat and 01.dat

These appear to be patched files (I assume this fixes the "Quiet bug" in those two specific missions)

I'm thinking you should be able to pack your changes into 00.dat AND/OR try a 02.dat etc to reduce file size and make downloads at Nexus, etc. more manageable and remove having to force the end user to unpack and repack their larger dat files. Worth investigating (please toss JRavens some credit in your mods readme if you use this idea THANKS!  )

EDIT - OK so I tried editing some files and putting them into a 02.dat and the game did NOT pick up the changes. However adding them to 00.dat or 01.dat DID work and the game did show my changes. Currently 01.dat is empty (presumably for future patching so it  looks like a good candidate for tucking your mods into until/if some other patch comes along)

PS - where is DLC stored? I'm kind of presuming the preorder DLC has it's own .dat files. Since I don't own any, I have no idea what/where those files are. Asking to see if there's room to expand mods using DLC naming conventions...
## Post #465
- Username: enyce
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Mon Sep 14, 2015 8:29 pm
- Post datetime: 2015-09-14T12:35:39+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Anyone know how to only show up female soldiers/ female enemies in missions instead of males? That way you can recruit them all
## Post #466
- Username: DUSToid1109
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sat Sep 12, 2015 6:09 pm
- Post datetime: 2015-09-14T15:24:31+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

hello guys
how to extract TPP audio files?
example:fsm files and Sbp files
I tried the extraction using the tool fsmextract.exe ...extraction failed
[https://dl.dropbox.com/s/zjhd9ex4klpvnu7/fsmextract.exe](https://dl.dropbox.com/s/zjhd9ex4klpvnu7/fsmextract.exe)

Sorry my bad english
## Post #467
- Username: PTE Jenkins
- Rank: n00b
- Number of posts: 14
- Joined date: Thu Sep 10, 2015 12:21 pm
- Post datetime: 2015-09-14T18:01:33+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DarknessValtier
>
> 
right! open this file with HEX EDITOR, last lines you find the bone structure, "CNP_SNRROOT.SKL_642_SNIPER_SIM" this is the root of weapon on waist, to remove this weapon you just need blank rename to: "CNP_SNRROOT"
just this and the weapon disappear

I can't seem to find the CNP_SNRROOT.SKL_642_SNIPER_SIM line but I was able to find CNP_SNRROOT with no .anything after it. I tried removing the line entirely and all it seemed to do was also break the sniper rifle, and the primary still remained clipping in the stomach.
## Post #468
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2015-09-14T19:26:54+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from avikhandakar
>
> When i extract a .dat (from xbox 360) file using qar tool, it works fine. But when repack them this tool always create *.g0s file instead of *.dat file. 
I am using like this:
MGSV_QAR_Tool 77d720e8d8714bc.dat -u -r -e2
and for repack:
MGSV_QAR_Tool 77d720e8d8714bc.inf -u -r -e2

Please help.
Whoops, seem like an oversight.
I've made an [update](http://www.dropbox.com/s/0rtpumx2mxsjaby/MGSV_QAR_Tool.rar?dl=0) that should fix it.
## Post #469
- Username: JRavens
- Rank: beginner
- Number of posts: 20
- Joined date: Tue Dec 23, 2014 5:17 am
- Post datetime: 2015-09-14T19:53:54+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> So... the patch system added in the last.. patch. Any discussion?

Two .dat/qars in 'master/0/'. 01.dat is empty. 

Couldn't get either tool to add a file to the empty 01.dat (gztool did nothing, said nothing, qartool crashed), but adding a (lua) file that wasn't previously in 00.dat worked using gztool. 

Game loads fine with modified archive, but doesn't seem to read the modified file, instead using the main archive one. Double checked there, my modded 00.dat is different size from original 00.dat. reextracted my dat, yep the file I added is there, restored all files and added modded file to data1 and the modded file does its thing. Yet the modded patch dat doesn't. I don't get it.
Hey Tex,

Which file were you modding? I put modded some modded motherbase LUAs from data1 in and they worked in either 00.dat and 01.dat

See this mod I uploaded this morning:
[http://www.nexusmods.com/phantompain/mods/8/](http://www.nexusmods.com/phantompain/mods/8/)

I was using the QAR tool (all hail Sergeanur keeper of the dark arts!) and just copied the hash lines I needed from one .ini to the other. Easy peasy. Maybe not all files are working in this manner?
## Post #470
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-09-14T21:36:56+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Ah forgot to edit the inf line from data1/ to 01/ for QAR tool, can now get it packed (though qar tool is pretty crash happy when it doesnt find what it's expecting). 

Also Gztool doesn't have this part of the path so thought maybe thats an issue there, or I'm doing something stupid there too lol.

Anyway, seems up and running with a modified 01.dat.

Thanks for the heads up JRavens, and good disclaimers on your mod.
## Post #471
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-09-14T22:20:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from JRavens
>
> Tex wrote:So... the patch system added in the last.. patch. Any discussion?

Two .dat/qars in 'master/0/'. 01.dat is empty. 

Couldn't get either tool to add a file to the empty 01.dat (gztool did nothing, said nothing, qartool crashed), but adding a (lua) file that wasn't previously in 00.dat worked using gztool. 

Game loads fine with modified archive, but doesn't seem to read the modified file, instead using the main archive one. Double checked there, my modded 00.dat is different size from original 00.dat. reextracted my dat, yep the file I added is there, restored all files and added modded file to data1 and the modded file does its thing. Yet the modded patch dat doesn't. I don't get it.
Hey Tex,

Which file were you modding? I put modded some modded motherbase LUAs from data1 in and they worked in either 00.dat and 01.dat

See this mod I uploaded this morning:
http://www.nexusmods.com/phantompain/mods/8/

I was using the QAR tool (all hail Sergeanur keeper of the dark arts!) and just copied the hash lines I needed from one .ini to the other. Easy peasy. Maybe not all files are working in this manner?
You should probably change the mod description. MGSV TPP userdata is 287700 not 311340. That's GZ
## Post #472
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-09-14T23:14:26+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

My main hunting at the moment is to get some kind of custom text output via lua code. There's plenty of references to print functions, but they all seem to be for debug builds of the game executable (likewise standard lui file io calls seem locked down), can't even find strings for the lua function references in the exe while I can for other funcs that are called from lua.

So that leaves the regular game text functions. 

Subtitles seemed like a good first stab as there's given usage for custom text straight into the function (tppsubtitles.displaytext i think it was), and even though it was obviously also used for debugging there still seems to be a reference in the exe. But I can't get it to work. Maybe I'm doing something wrong (even though I've got direct example), maybe the function in the exe has some isdebug check that's killing it. Don't know.

Ok, so the announce log seems like the next best bet, no direct text function that I can find, but allows passing in of args (though I suspect string args are only more langId lookups).

The most used function boils down to a engine call: 

TppUiCommand.AnnounceLogViewLangId(#some_id_string#)

Where the id string is along the lines of "announce_map_update".
Somewhere in there it gets to the .lng/2 file lookups, as seen here in tpp_announce_log.eng.lng2 (Thanks again for langtool atvaark.)

<Entry Key="225449528" Value="Map Info Updated" />

However there's also usually a voice announcement that goes along side it. So, given the data driven nature of the engine, where is the lookup table/missing link? No luck in a search-in-files of what I have extracted, though there may be a bunch I haven't actually converted.

A search for actual file names with 'announce' in them comes up with one fox2 file, that just a reference to a ui file, and a whole bunch of (/tpp/ui/*) *.ui* files.
Again I'm going to have to rely on you file format sleuths to see what's what, if anything, with the ui files.
## Post #473
- Username: DarknessValtier
- Rank: beginner
- Number of posts: 35
- Joined date: Sat Feb 07, 2009 11:47 pm
- Post datetime: 2015-09-14T23:40:55+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from PTE Jenkins
>
> DarknessValtier wrote:
right! open this file with HEX EDITOR, last lines you find the bone structure, "CNP_SNRROOT.SKL_642_SNIPER_SIM" this is the root of weapon on waist, to remove this weapon you just need blank rename to: "CNP_SNRROOT"
just this and the weapon disappear

I can't seem to find the CNP_SNRROOT.SKL_642_SNIPER_SIM line but I was able to find CNP_SNRROOT with no .anything after it. I tried removing the line entirely and all it seemed to do was also break the sniper rifle, and the primary still remained clipping in the stomach.

pay attention, have line similar: ANRROOT and SNRROOT
## Post #474
- Username: JRavens
- Rank: beginner
- Number of posts: 20
- Joined date: Tue Dec 23, 2014 5:17 am
- Post datetime: 2015-09-14T23:58:09+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> You should probably change the mod description. MGSV TPP userdata is 287700 not 311340. That's GZ
Gah! Thanks for the heads up.

Oddly it's still saving some TPP_ files (dated today) to 311340 as well...
## Post #475
- Username: DarknessValtier
- Rank: beginner
- Number of posts: 35
- Joined date: Sat Feb 07, 2009 11:47 pm
- Post datetime: 2015-09-15T00:36:56+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I release soon
SniperWolf Mod
[https://www.youtube.com/watch?v=JlSH9JqhKD8](https://www.youtube.com/watch?v=JlSH9JqhKD8)
## Post #476
- Username: rensole
- Rank: beginner
- Number of posts: 39
- Joined date: Tue Feb 26, 2013 4:34 am
- Post datetime: 2015-09-15T01:04:39+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

so can anyone help me with the texture thing ?
## Post #477
- Username: avikhandakar
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Thu Sep 10, 2015 12:07 am
- Post datetime: 2015-09-15T01:21:48+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> avikhandakar wrote:When i extract a .dat (from xbox 360) file using qar tool, it works fine. But when repack them this tool always create *.g0s file instead of *.dat file. 
I am using like this:
MGSV_QAR_Tool 77d720e8d8714bc.dat -u -r -e2
and for repack:
MGSV_QAR_Tool 77d720e8d8714bc.inf -u -r -e2

Please help.
Whoops, seem like an oversight.
I've made an update that should fix it.
Thanks. But now another problem. After repacking all file is changed inside *.dat. And game did not run. Hope u will fix this.

I unpack an original *.dat --> works fine
I repack from .inf --> now its make *.dat but
When i unpacking again --> It unpacking some gibberish *._unk file.
[Xbox360 version]
## Post #478
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-09-15T01:27:56+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Does anyone know where the Volgin model is in-game? I found the model of the man on fire when he was dead (no glows or anything) but I can't seem to find the human Volgin model anywhere in the files.
## Post #479
- Username: chiconspiracy
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Fri Sep 04, 2015 7:34 am
- Post datetime: 2015-09-15T02:42:15+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> avikhandakar wrote:When i extract a .dat (from xbox 360) file using qar tool, it works fine. But when repack them this tool always create *.g0s file instead of *.dat file. 
I am using like this:
MGSV_QAR_Tool 77d720e8d8714bc.dat -u -r -e2
and for repack:
MGSV_QAR_Tool 77d720e8d8714bc.inf -u -r -e2

Please help.
Whoops, seem like an oversight.
I've made an update that should fix it.

Since the update, it seems it won't repack properly for me on PC, using this command which worked before:

C:\Steam\steamapps\common\MGS_TPP\master\MGSV_QAR_Tool data1.inf -r
------------------------------------------------------------------------------------------------------
Scratch that, something was weird with PowerShell, and a restart took care of it.
## Post #480
- Username: DarknessValtier
- Rank: beginner
- Number of posts: 35
- Joined date: Sat Feb 07, 2009 11:47 pm
- Post datetime: 2015-09-15T03:55:15+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

[https://www.youtube.com/watch?v=vFqmAtxNNZA](https://www.youtube.com/watch?v=vFqmAtxNNZA)

PERFECT!
SniperWolf with original bones over bigboss, works perfect on cutscene and ingame, fixed the first person bug
## Post #481
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-09-15T05:40:07+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DarknessValtier
>
> 
https://www.youtube.com/watch?v=vFqmAtxNNZA

PERFECT!
SniperWolf with original bones over bigboss, works perfect on cutscene and ingame, fixed the first person bug

Pretty cool, is there a download link yet?
## Post #482
- Username: DarknessValtier
- Rank: beginner
- Number of posts: 35
- Joined date: Sat Feb 07, 2009 11:47 pm
- Post datetime: 2015-09-15T05:47:55+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> DarknessValtier wrote:
https://www.youtube.com/watch?v=vFqmAtxNNZA

PERFECT!
SniperWolf with original bones over bigboss, works perfect on cutscene and ingame, fixed the first person bug

Pretty cool, is there a download link yet?

tomorrow i upload the SniperWolf mod fixed, and Quiet mod fixed
## Post #483
- Username: Meddy
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Tue Sep 15, 2015 2:06 pm
- Post datetime: 2015-09-15T06:24:47+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Could somebody tell me the filepath for this model or how to go about locating it? I'm under the impression this is one of GZ's unused assets.

[](http://postimg.org/image/ron52mnfz/)

There's also a non-bandana variant [here.](https://youtu.be/apYsyTi2pFw)

I've also tried contacting the uploader of that video but he hasn't gotten back to me yet.

Thanks.
## Post #484
- Username: rensole
- Rank: beginner
- Number of posts: 39
- Joined date: Tue Feb 26, 2013 4:34 am
- Post datetime: 2015-09-15T06:33:17+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Meddy
>
> Could somebody tell me the filepath for this model or how to go about locating it? I'm under the impression this is one of GZ's unused assets.



There's also a non-bandana variant here.

I've also tried contacting the uploader of that video but he hasn't gotten back to me yet.

Thanks.

that's an edit, GZ was modded a lot as well.
All they did was delete the facial hair and eyepatch
## Post #485
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-09-15T06:48:58+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DarknessValtier
>
> HeartlessSeph wrote:DarknessValtier wrote:
https://www.youtube.com/watch?v=vFqmAtxNNZA

PERFECT!
SniperWolf with original bones over bigboss, works perfect on cutscene and ingame, fixed the first person bug

Pretty cool, is there a download link yet?

tomorrow i upload the SniperWolf mod fixed, and Quiet mod fixed

Awesome, can't wait!

> Reply from Meddy
>
> Could somebody tell me the filepath for this model or how to go about locating it? I'm under the impression this is one of GZ's unused assets.



There's also a non-bandana variant here.

I've also tried contacting the uploader of that video but he hasn't gotten back to me yet.

Thanks.

Sorry, but that's not an unused asset, but a mod he did himself. You won't find it browsing through Ground Zeroes' files.
## Post #486
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-09-15T10:38:27+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Quiet model locations:
Prisoner model - currently unnamed "3d69c369b36f8.fpk" in chunk2
Motherbase cell model - "chunk3\Assets\tpp\pack\mission2\free\f30050\f30050_d022.fpk"
Sniper Wolf model - currently unnamed "2d4b90b907865.fpk" in chunk1
Default XOF model - currently unnamed "417c52767792.fpk" in chunk1
Hospital XOF model - currently unnamed "2a5f83a94178.fpk" in chunk0
Rain scene model - "chunk3\Assets\tpp\pack\mission2\free\f30050\f30050_d100.fpk" **Not certain, appears as normal quiet in swap attempts - most likely due to mesh swapping in cutscene**
[https://youtu.be/p4F5TPbwRy0](https://youtu.be/p4F5TPbwRy0)
[https://youtu.be/eKJcfi8HVnA](https://youtu.be/eKJcfi8HVnA)
[https://youtu.be/RwFHuZ5h0Lw](https://youtu.be/RwFHuZ5h0Lw)

Also:
Snake's prosthetic arm - currently unnamed "3b872a19bdc48.fpk" in chunk0
Snake's head model - currently unnamed "ddef9aa7c0d2.fpk" in chunk0

and added Sniper Wolf to my Quiet player mod (next is prisoner outfit maybe): [http://www.nexusmods.com/phantompain/mods/6](http://www.nexusmods.com/phantompain/mods/6)
## Post #487
- Username: Meddy
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Tue Sep 15, 2015 2:06 pm
- Post datetime: 2015-09-15T10:59:53+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> Sorry, but that's not an unused asset, but a mod he did himself. You won't find it browsing through Ground Zeroes' files.

Ah, okay, thanks anyways.
## Post #488
- Username: default
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Tue Sep 15, 2015 6:58 pm
- Post datetime: 2015-09-15T11:01:37+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Could anyone do a mod that replaces default female soldier or Quet with female skull?
[None](https://xentaxbackup.github.io/file/9742_None)
## Post #489
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-09-15T16:12:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from default
>
> Could anyone do a mod that replaces default female soldier or Quet with female skull?

I found the female skull model. I'll see if I can get the balaclava method to work with it. Hopefully there are no facial distortions like Ocelot has.
## Post #490
- Username: enyce
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Mon Sep 14, 2015 8:29 pm
- Post datetime: 2015-09-15T16:27:49+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

@HeartlessSeph Do you know female ID for a female hostage?
## Post #491
- Username: Polpalca
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Thu Jun 14, 2012 11:31 pm
- Post datetime: 2015-09-15T16:43:10+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

rensole
From what i've learned FtexTool cant convert ".ftex" files that are missing additional ".ftexs". For example if you take mis_com_dd_soldier_sneak.pftxs file located in "master\chunk0\Assets\tpp\pack\mission2\common" and extract it with GzsTool you will get a folder with .ftex and .ftexs in it. Then if you drag that folder onto FtexTool.exe it will convert some small textures to .dds, but the rest of the files will be ignored and log will say that a lot of ftexs are missing. Thats because a lot of .ftex files use multiple .ftexs and if they are missing it cant be converted. mis_com_dd_soldier_sneak.pftxs folder only has 1 .ftexs file for each .ftex file, notice ".1" index at the end of the .ftexs file name. There should also be ".2", ".3", ".4" etc, but i dunno why they are missing there.
Try to unpack texture0.dat, then drag and drop extracted folder with .ftex\.ftexs files in it onto FtexTool and it will start converting everything it can to .dds.
## Post #492
- Username: PTE Jenkins
- Rank: n00b
- Number of posts: 14
- Joined date: Thu Sep 10, 2015 12:21 pm
- Post datetime: 2015-09-15T16:45:16+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> default wrote:Could anyone do a mod that replaces default female soldier or Quet with female skull?

I found the female skull model. I'll see if I can get the balaclava method to work with it. Hopefully there are no facial distortions like Ocelot has.

Do you mind telling me where the balaclava fmdls are stored? and if at all possible where some of the enemy balaclava models are.
## Post #493
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-09-15T17:02:51+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from enyce
>
> @HeartlessSeph Do you know female ID for a female hostage?

Sorry, I don't know where that is. I haven't dug deep into the game's files yet. Most of my searching is specifically for the human Volgin model as of now.

> Reply from PTE Jenkins
>
> HeartlessSeph wrote:default wrote:Could anyone do a mod that replaces default female soldier or Quet with female skull?

I found the female skull model. I'll see if I can get the balaclava method to work with it. Hopefully there are no facial distortions like Ocelot has.

Do you mind telling me where the balaclava fmdls are stored? and if at all possible where some of the enemy balaclava models are.

C:\Program Files (x86)\Steam\steamapps\common\MGS_TPP\master\QAR Tool\chunk0\Assets\tpp\pack\fova\common_source\chara\cm_head\face
At least that's where I see them. I got the method from Shigu's Quiet mod.

> Reply from default
>
> Could anyone do a mod that replaces default female soldier or Quet with female skull?


Well, it seems that her body gets messed up using the Balaclava method. I suppose I could try to hex the female skull to be invisible and then put it over the sneaking suit to fix any model proportions, but then that would keep the gun glitch intact. I don't see any bones related to the guns position in the fncp either.
## Post #494
- Username: alex61194
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Wed Sep 16, 2015 1:42 am
- Post datetime: 2015-09-15T17:51:18+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

hey there, i know is just a little thing but is really dissapointing, in the spanish version of mgsv the bandana is called pañoleta, could someone change it to bandana pls?
## Post #495
- Username: Jax765
- Rank: n00b
- Number of posts: 12
- Joined date: Fri Sep 11, 2015 12:31 am
- Post datetime: 2015-09-15T21:14:54+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Regarding textures, are they packed within fpk files for most characters? Checked out the texture .dat files, and they seem to mostly consist of GZ character textures (e.g. Chico, Paz, MSF Big Boss, etc). Trying to make some edits to the Diamond Dog soldier fatigues, but I'm having difficulty finding the relevant textures.
## Post #496
- Username: dec0d3
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Wed Sep 16, 2015 6:00 am
- Post datetime: 2015-09-15T22:16:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Would it be possible to replace your snake or custom avatar model with Paz from the infirmary?
## Post #497
- Username: emoose
- Rank: beginner
- Number of posts: 26
- Joined date: Fri Sep 11, 2015 4:06 am
- Post datetime: 2015-09-15T23:27:52+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

As I posted on CE.org and github...

> I posted this on NuLLxD's github but should probably post it here too since this is the base of lua mods: 
>
> 
>
> "A lot of the unnamed LUA files you have in here have been named, using the qar_dictionary.txt from Atvaarks GzsTool (github/Atvaark/GzsTool/releases/tag/v0.3.3) gives every LUA file a name except one, eg. 2cd691ee890e4.lua becomes /Assets/tpp/motherbase/script/MbmCommonSetting.lua. Might make it easier to mod if you use the named LUA files." 
>
> 
>
> Atvaarks dictionary names every LUA file in data1.dat, only one is left unnamed which isn't used by the game afaik. 
>
> Hope this helps  
>
> 
>
> (Can't seem to post urls yet, but add a dot com to the end of github above for the link to Atvaarks repo)

I'm also working on naming a lot of the unnamed FPK files (since fpk's have some clues to their original filenames...)

So far I've got around ~2000 extra fpk files named which aren't named in any other dictionaries afaik, will update this thread with the link to the github for this dictionary once I've cleaned it up (pull requests will be welcomed of course! )
## Post #498
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-09-15T23:42:09+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from emoose
>
> As I posted on CE.org and github...

I posted this on NuLLxD's github but should probably post it here too since this is the base of lua mods: 

"A lot of the unnamed LUA files you have in here have been named, using the qar_dictionary.txt from Atvaarks GzsTool (github/Atvaark/GzsTool/releases/tag/v0.3.3) gives every LUA file a name except one, eg. 2cd691ee890e4.lua becomes /Assets/tpp/motherbase/script/MbmCommonSetting.lua. Might make it easier to mod if you use the named LUA files." 

Atvaarks dictionary names every LUA file in data1.dat, only one is left unnamed which isn't used by the game afaik. 
Hope this helps  

(Can't seem to post urls yet, but add a dot com to the end of github above for the link to Atvaarks repo) 


I'm also working on naming a lot of the unnamed FPK files (since fpk's have some clues to their original filenames...)

So far I've got around ~2000 extra fpk files named which aren't named in any other dictionaries afaik, will update this thread with the link to the github for this dictionary once I've cleaned it up (pull requests will be welcomed of course! )

I'm especially looking forward to this if it'll help me find the Human Volgin model. I want to play as him so badly, bent knees and all!

> Reply from dec0d3
>
> Would it be possible to replace your snake or custom avatar model with Paz from the infirmary?

This? [http://i.imgur.com/1QiqoNm.jpg](http://i.imgur.com/1QiqoNm.jpg)

And look what I found

[http://i.imgur.com/xEtC4Ml.jpg](http://i.imgur.com/xEtC4Ml.jpg) (posting links because of image size)
## Post #499
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-09-16T00:24:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

@HeartlessSeph
Volgin head model:
[https://www.youtube.com/watch?v=paMth8l0OWE](https://www.youtube.com/watch?v=paMth8l0OWE)
"vol3_main0_def.fmdl" in "chunk2\Assets\tpp\pack\mission2\free\f30010\f30011.fpk"
## Post #500
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-09-16T00:29:46+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> @HeartlessSeph
Volgin head model:
https://www.youtube.com/watch?v=paMth8l0OWE
"vol3_main0_def.fmdl" in "chunk2\Assets\tpp\pack\mission2\free\f30010\f30011.fpk"

Can I say I love you? Haha, but honestly to think it was sitting under my nose this whole time, would have never thought it to be a separate head model. Sorry to bother you more, but does that mean there's another model of the Man on Fire that's headless to accommodate this head or was it a mesh swap done specifically during the cutscene?
## Post #501
- Username: dec0d3
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Wed Sep 16, 2015 6:00 am
- Post datetime: 2015-09-16T00:44:23+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> 
dec0d3 wrote:Would it be possible to replace your snake or custom avatar model with Paz from the infirmary?

This? http://i.imgur.com/1QiqoNm.jpg

And look what I found

http://i.imgur.com/xEtC4Ml.jpg (posting links because of image size)

Yes that. That exactly. Are there any bugs with the skeleton/first person view when doing that swap? Process please and I'll love you forever.
## Post #502
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-09-16T00:46:31+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> Higus wrote:@HeartlessSeph
Volgin head model:
https://www.youtube.com/watch?v=paMth8l0OWE
"vol3_main0_def.fmdl" in "chunk2\Assets\tpp\pack\mission2\free\f30010\f30011.fpk"

Can I say I love you? Haha, but honestly to think it was sitting under my nose this whole time, would have never thought it to be a separate head model. Sorry to bother you more, but does that mean there's another model of the Man on Fire that's headless to accommodate this head or was it a mesh swap done specifically during the cutscene?
If there were a headless model I suppose it'd be in that fpk. I assume they just swapped/hid meshes of the full body model, along with texture changes, as they did with Quiet in the rain scene (I assume).
## Post #503
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-09-16T01:02:49+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from dec0d3
>
> HeartlessSeph wrote:
dec0d3 wrote:Would it be possible to replace your snake or custom avatar model with Paz from the infirmary?

This? http://i.imgur.com/1QiqoNm.jpg

And look what I found

http://i.imgur.com/xEtC4Ml.jpg (posting links because of image size)

Yes that. That exactly. Are there any bugs with the skeleton/first person view when doing that swap? Process please and I'll love you forever.

I tested over MGS1 Snake's outfit. There are no notable bugs with the guns or her body but it has the first person view problem still. The FPS problem would be fixed if using Shigu's method but I'm unsure what would happen to her body proportions (like the Female skull test I did, she looked perfectly fine with the MGS1 swap but had the FPS problem but when using Shigu's method no longer had problems but had a proportion bugs.) If I were good at Hex editing meshes out I suppose I would be able to come up with a more definitive fix but as of now that's a no.

> Reply from Higus
>
> HeartlessSeph wrote:Higus wrote:@HeartlessSeph
Volgin head model:
https://www.youtube.com/watch?v=paMth8l0OWE
"vol3_main0_def.fmdl" in "chunk2\Assets\tpp\pack\mission2\free\f30010\f30011.fpk"

Can I say I love you? Haha, but honestly to think it was sitting under my nose this whole time, would have never thought it to be a separate head model. Sorry to bother you more, but does that mean there's another model of the Man on Fire that's headless to accommodate this head or was it a mesh swap done specifically during the cutscene?
If there were a headless model I suppose it'd be in that fpk. I assume they just swapped/hid meshes of the full body model, along with texture changes, as they did with Quiet in the rain scene (I assume).

That's what I thought after reading what you posted regarding Quiet. It's all good though, I'm happy to have the maniac's head if nothing else.
## Post #504
- Username: dec0d3
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Wed Sep 16, 2015 6:00 am
- Post datetime: 2015-09-16T01:14:17+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> 
I tested over MGS1 Snake's outfit. There are no notable bugs with the guns or her body but it has the first person view problem still. The FPS problem would be fixed if using Shigu's method but I'm unsure what would happen to her body proportions (like the Female skull test I did, she looked perfectly fine with the MGS1 swap but had the FPS problem but when using Shigu's method no longer had problems but had a proportion bugs.) If I were good at Hex editing meshes out I suppose I would be able to come up with a more definitive fix but as of now that's a no.

That's fine, I'll take what I can get. Let me know the process you used to get that far and I'll see if I can take care of the hex editing following what shigu said earlier.
## Post #505
- Username: amandabyyy
- Rank: beginner
- Number of posts: 22
- Joined date: Mon May 31, 2010 3:08 pm
- Post datetime: 2015-09-16T01:48:09+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Ugh I can't get a lua script to decrypt (unless it's compiled). I'm trying to get at demo_block.lua in f30050_d100_fpkd. QAR -r, MGSV_ResDec don't work.
## Post #506
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-09-16T03:14:47+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Sergeanur did write there were some compiled lua files back in Ground Zeros, but no one has weighed in on what's up with the MGSV .fpk luas.

If they are compiled then I think there's something else done to them too because luadec51 (MGSV uses lua5.1) can not even recognize them.

Also the usual convention for compiled lua files is to use the extension .luac
## Post #507
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-09-16T06:13:42+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> Quiet model locations:
Prisoner model - currently unnamed "3d69c369b36f8.fpk" in chunk2
Motherbase cell model - "chunk3\Assets\tpp\pack\mission2\free\f30050\f30050_d022.fpk"
Sniper Wolf model - currently unnamed "2d4b90b907865.fpk" in chunk1
Default XOF model - currently unnamed "417c52767792.fpk" in chunk1
Hospital XOF model - currently unnamed "2a5f83a94178.fpk" in chunk0
Rain scene model - "chunk3\Assets\tpp\pack\mission2\free\f30050\f30050_d100.fpk" **Not certain, appears as normal quiet in swap attempts - most likely due to mesh swapping in cutscene**
https://youtu.be/p4F5TPbwRy0
https://youtu.be/eKJcfi8HVnA
https://youtu.be/RwFHuZ5h0Lw

Also:
Snake's prosthetic arm - currently unnamed "3b872a19bdc48.fpk" in chunk0
Snake's head model - currently unnamed "ddef9aa7c0d2.fpk" in chunk0

and added Sniper Wolf to my Quiet player mod (next is prisoner outfit maybe): http://www.nexusmods.com/phantompain/mods/6

thank you. that seems very promising and makes me wonder about some modding possibilities. it seems head and bodies are indeed separate for a majority of the characters. would it then be possible to introduce extra options in the uniform selection, since those would just be body models. same as with head gear options i suppose. they probably won't work too well on snake considering the horn and facial hair and other unique features(fabric swaying in breeze for example), but on the other soldier characters, they probably would.

maybe you could see if soviet uniforms could be used along with default motherbase material like the masks.
## Post #508
- Username: DUSToid1109
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sat Sep 12, 2015 6:09 pm
- Post datetime: 2015-09-16T06:20:42+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> @HeartlessSeph
Volgin head model:
https://www.youtube.com/watch?v=paMth8l0OWE
"vol3_main0_def.fmdl" in "chunk2\Assets\tpp\pack\mission2\free\f30010\f30011.fpk"

nice work!!   Can you find original BIGBOSS head model?
## Post #509
- Username: PTE Jenkins
- Rank: n00b
- Number of posts: 14
- Joined date: Thu Sep 10, 2015 12:21 pm
- Post datetime: 2015-09-16T06:30:23+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Has anybody figured out at all how the bodygroups on the enemy soldiers work? so we could get player swaps with different enemy loadouts.

> Reply from odrin
>
> 
thank you. that seems very promising and makes me wonder about some modding possibilities. it seems head and bodies are indeed separate for a majority of the characters. would it then be possible to introduce extra options in the uniform selection, since those would just be body models. same as with head gear options i suppose. they probably won't work too well on snake considering the horn and facial hair and other unique features(fabric swaying in breeze for example), but on the other soldier characters, they probably would.

maybe you could see if soviet uniforms could be used along with default motherbase material like the masks.

I think the soviet soldiers have different bone rotations because I tried swapping their uniform out with the regular dd bdu's and their hands and legs looked super fucked up.



[http://images.akamai.steamusercontent.c ... FE59DA35C/](http://images.akamai.steamusercontent.com/ugc/419188589628795446/5CB4F357C62F7E97865DC1270225A53FE59DA35C/)

Has anybody figured out where the african or soviet balaclava is? I wanted to swap out the dd balaclava with the soviet or african one.
## Post #510
- Username: bers
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Wed Sep 16, 2015 7:01 pm
- Post datetime: 2015-09-16T11:15:28+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hey guys, I am new here 

Ive done some semi-successful model swapping so far in MGS5 

What I (and others I think) would be interested in, is a listing of the model files located in the mgs5 game files paired with the name of the character and the scene it is used in.

Like this one by Higus:

> Quiet model locations:
>
> Prisoner model - currently unnamed "3d69c369b36f8.fpk" in chunk2
>
> Motherbase cell model - "chunk3\Assets\tpp\pack\mission2\free\f30050\f30050_d022.fpk"
>
> Sniper Wolf model - currently unnamed "2d4b90b907865.fpk" in chunk1
>
> Default XOF model - currently unnamed "417c52767792.fpk" in chunk1
>
> Hospital XOF model - currently unnamed "2a5f83a94178.fpk" in chunk0
>
> Rain scene model - "chunk3\Assets\tpp\pack\mission2\free\f30050\f30050_d100.fpk" **Not certain, appears as normal quiet in swap attempts - most likely due to mesh swapping in cutscene**
>
> https://youtu.be/p4F5TPbwRy0
>
> https://youtu.be/eKJcfi8HVnA
>
> https://youtu.be/RwFHuZ5h0Lw
>
> 
>
> Also:
>
> Snake's prosthetic arm - currently unnamed "3b872a19bdc48.fpk" in chunk0
>
> Snake's head model - currently unnamed "ddef9aa7c0d2.fpk" in chunk0

From my research I can say that 

```
chunk0\Assets\tpp\pack\mission2\common\mis_com_doctor.fpk
```

is either not the doctor in the proloque or he is not replaceable

and that 

```
chunk0\Assets\tpp\pack\mission2\common\mis_com_ocelot.fpk
```

works is the ocelot after you rescued kaz but not the ocelot in the ending after you beat Sahelanthropus

PS: my modelswapping attempt:
[http://a.uguu.se/xycetw_outScaled.webm](http://a.uguu.se/xycetw_outScaled.webm)
## Post #511
- Username: Loomy
- Rank: advanced
- Number of posts: 41
- Joined date: Sat Sep 12, 2015 9:16 am
- Post datetime: 2015-09-16T11:42:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

@volgin:  there is a full bodysuit mesh, with human head underneath mask, though failing outright to find any of the diffuse mats, unless its one of the ones im assuming is glow/spec.  Ive been looking for the regular/leather map.

i was planning on sussing out bones in XNA, and i kind of got carried away:-



Full album [http://imgur.com/a/Nf2jW](http://imgur.com/a/Nf2jW)

props to Konrad/Iirel/Sticklove for their respective work on Lara (lara classic & reborn bikini)

while im not overly impressed with my shoddy result of quiet in laraclassic, this lara->quiet needs to happen^^ whether it mgsv mesh mod (once were able to do such) or TR2013/ROTTR mod.
## Post #512
- Username: bers
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Wed Sep 16, 2015 7:01 pm
- Post datetime: 2015-09-16T12:07:56+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Loomy
>
> @volgin:  there is a full bodysuit mesh, with human head underneath mask, though failing outright to find any of the diffuse mats, unless its one of the ones im assuming is glow/spec.  Ive been looking for the regular/leather map.

i was planning on sussing out bones in XNA, and i kind of got carried away:-



Full album http://imgur.com/a/Nf2jW

props to Konrad/Iirel/Sticklove for their respective work on Lara (lara classic & reborn bikini)

while im not overly impressed with my shoddy result of quiet in laraclassic, this lara->quiet needs to happen^^ whether it mgsv mesh mod (once were able to do such) or TR2013/ROTTR mod.

which program can I use to view the TPP models? i got he QAR and FPK tools to extract/unpack them
## Post #513
- Username: Loomy
- Rank: advanced
- Number of posts: 41
- Joined date: Sat Sep 12, 2015 9:16 am
- Post datetime: 2015-09-16T12:55:10+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from bers
>
> Loomy wrote:@volgin:  there is a full bodysuit mesh, with human head underneath mask, though failing outright to find any of the diffuse mats, unless its one of the ones im assuming is glow/spec.  Ive been looking for the regular/leather map.

i was planning on sussing out bones in XNA, and i kind of got carried away:-



Full album http://imgur.com/a/Nf2jW

props to Konrad/Iirel/Sticklove for their respective work on Lara (lara classic & reborn bikini)

while im not overly impressed with my shoddy result of quiet in laraclassic, this lara->quiet needs to happen^^ whether it mgsv mesh mod (once were able to do such) or TR2013/ROTTR mod.

which program can I use to view the TPP models? i got he QAR and FPK tools to extract/unpack them

Extract all DAT using QAR, then all resulting fpk/fpkd using fpktool, and that will give u FMDL files

best way, extract *everything* one time, and just search throuhg for what you looking for.

find full path of fmdl file,  using 3dsmax run [https://github.com/Jayveerk/FMDL](https://github.com/Jayveerk/FMDL) FMDL script from max->runscript, it will give u open FMDL dialogue, paste link to or browse to fmdl, it iwll import to max, from where u can then export to your desired format.  it is best to keep the original max file, or stick to one format wherein you will make any corrections or renaming, from max scene/asset listview, any plain numbered object, ie 1 to 55 will be the bones, either delete/hide by selecting all, or do as u wish, if ur not plannign on rigging then just delete em.

If u dont fix/assign all materials in max, after Exporting to OBJ, u need to fix the assignments manually, even if adding fake file to each mesh part, otherwise u get errors in some programs on import (xna for example) best is to use Either FBX or Collada.

In my case i then import obj in the likes of Marmoset Toolbag or whatever app is easier for you to assign textures.  marmo has awesome PBR -> physical based / realtime render, and materials assignment.

Seperately to all this u would have extracted textures DAT, use the fpex tool to convert to DDS by dragging each folder by bulk to make it easier (will open blank screen, but so long as that screen is open it is extracting in the background to same folder as ftex.  u can then preview those fodlers in explorer or ur img app for thumbs of all DDS.  for me i had to convert the dds to jpg/png/tif not all apps handle dds.  I found Noesis tool really handy for this, and pretty much browsing asset in general)

the rest is pretty much finding/assigning the textures if whatever app is easier for u 

[https://github.com/Jayveerk/FMDL](https://github.com/Jayveerk/FMDL)
## Post #514
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-09-16T14:50:54+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

[http://i.imgur.com/Ua1LIkl.jpg](http://i.imgur.com/Ua1LIkl.jpg)

Well, something happened here. I replaced Snake's robot arm with Volgin's, his put his head over Snake's and then put the body over the Sneaking Suit. Unfortunately, it turns out Shigu was right, the body isn't headless and armless or anything like that. Interestingly though, the glow that appears during the cutscene is actually a separate mesh that was overlayed onto Volgin's model.

The arm also gets very distorted at the fingers. I zeroed out Volgin's mesh to check what was going on with them and they stretch toward his chest for some reason. Don't think there's a way to fix that for now unfortunately. [http://i.imgur.com/wgS9Dhj.jpg](http://i.imgur.com/wgS9Dhj.jpg)

EDIT: [http://i.imgur.com/pHCQU5W.jpg](http://i.imgur.com/pHCQU5W.jpg) Currently trying to Isolate which vertices belong to his head so I can move them to one specific point to give the illusion of them being invisible, sort of like Brawl modders did it back before actual importing was implemented. I'm hoping in this way I can get a playable Volgin done.
## Post #515
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-09-16T17:38:54+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Can someone upload their save file from after Quiet has left, I want to test my return quiet mod some more but messed up my pre-mod backup.
## Post #516
- Username: alex61194
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Wed Sep 16, 2015 1:42 am
- Post datetime: 2015-09-16T18:02:34+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

hey can someone make a mod to have the mission load screen with msf logo? like the hospital chapter
## Post #517
- Username: alex61194
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Wed Sep 16, 2015 1:42 am
- Post datetime: 2015-09-16T18:04:47+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> Can someone upload their save file from after Quiet has left, I want to test my return quiet mod some more but messed up my pre-mod backup.
here you go, [https://mega.nz/#F!s8NgEJxY!rgfAQz08iFIePRtN4o4Fnw](https://mega.nz/#F!s8NgEJxY!rgfAQz08iFIePRtN4o4Fnw) (i did this one after installing this mod in this savegame quiet is unnavalibre
## Post #518
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-09-16T22:22:07+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Ah, now I understand why my prior backup didn't work. 

TPP actually uses the ground zeros save folder - game id 311340, it's own save folder - id 287700 - does have save files, but I guess they're some kind of backup. 

The graphics config - TPP_GRAPHICS_CONFIG is read from TPPs save folder, not GZ, but the other config - TPP_CONFIG_DATA, actually uses the ground zeros save folder - game id 311340. 

The graphics config is read from TPP, not GZ, but the other config, language and stuff(?), is in GZ folder, had fun having the game start in spanish with alex61194s config. 

TPP_GAME_DATA is the general save game, PERSONAL_DATA is your avatar, emblem, and who knows what else.

What a mess. Had no idea steam games could use another games save folder. I suppose that's how it does the GZ save transfer though., for language and stuff(?), is in GZ save folder, had fun with the game start in spanish with alex61194s config. 

TPP_GAME_DATA is the general save game, PERSONAL_DATA is your avatar, emblem, and who knows what else.

What a mess. Had no idea steam games could use another games save folder. I suppose that's how it does the GZ save transfer though.
## Post #519
- Username: alex61194
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Wed Sep 16, 2015 1:42 am
- Post datetime: 2015-09-16T23:41:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> Ah, now I understand why my prior backup didn't work. 

TPP actually uses the ground zeros save folder - game id 311340, it's own save folder - id 287700 - does have save files, but I guess they're some kind of backup. 

The graphics config - TPP_GRAPHICS_CONFIG is read from TPPs save folder, not GZ, but the other config - TPP_CONFIG_DATA, actually uses the ground zeros save folder - game id 311340. 

The graphics config is read from TPP, not GZ, but the other config, language and stuff(?), is in GZ folder, had fun having the game start in spanish with alex61194s config. 

TPP_GAME_DATA is the general save game, PERSONAL_DATA is your avatar, emblem, and who knows what else.

What a mess. Had no idea steam games could use another games save folder. I suppose that's how it does the GZ save transfer though., for language and stuff(?), is in GZ save folder, had fun with the game start in spanish with alex61194s config. 

TPP_GAME_DATA is the general save game, PERSONAL_DATA is your avatar, emblem, and who knows what else.

What a mess. Had no idea steam games could use another games save folder. I suppose that's how it does the GZ save transfer though.
well if you want to laugh pls see how the translate bandana xD btw at this point i didnt take yet my outer heaven logo (the hard one)
## Post #520
- Username: rensole
- Rank: beginner
- Number of posts: 39
- Joined date: Tue Feb 26, 2013 4:34 am
- Post datetime: 2015-09-17T01:11:51+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Has anyone found the textures to the metal gear?
I can't find it anywere.
## Post #521
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-09-17T04:24:13+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from PTE Jenkins
>
> Has anybody figured out at all how the bodygroups on the enemy soldiers work? so we could get player swaps with different enemy loadouts.
odrin wrote:
thank you. that seems very promising and makes me wonder about some modding possibilities. it seems head and bodies are indeed separate for a majority of the characters. would it then be possible to introduce extra options in the uniform selection, since those would just be body models. same as with head gear options i suppose. they probably won't work too well on snake considering the horn and facial hair and other unique features(fabric swaying in breeze for example), but on the other soldier characters, they probably would.

maybe you could see if soviet uniforms could be used along with default motherbase material like the masks.

I think the soviet soldiers have different bone rotations because I tried swapping their uniform out with the regular dd bdu's and their hands and legs looked super fucked up.


http://images.akamai.steamusercontent.c ... FE59DA35C/

Has anybody figured out where the african or soviet balaclava is? I wanted to swap out the dd balaclava with the soviet or african one.

that's a shame, those soviet uniforms received a lot of love from the 3d artists. i wonder if it would work on the boss's animation.

agreed on the balaclavas. would be nice if they could actually be added into the menu as new items, not just replacements.
## Post #522
- Username: DarknessValtier
- Rank: beginner
- Number of posts: 35
- Joined date: Sat Feb 07, 2009 11:47 pm
- Post datetime: 2015-09-17T06:53:15+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

[https://www.youtube.com/watch?v=XOdD9D3zQ5c](https://www.youtube.com/watch?v=XOdD9D3zQ5c)

Quiet Default Playable 0.9
--------------------------------
This version of Quiet works perfect using the original bones of her.
First Person Fixed
Facial expression fixed
Bra simulation fixed
Hair simulation fixed
Breast bouncy fixed
Dirty and burned effects fixed
---------------------------------
"This is a version 0.9 because i trying to remove the Snake's arm
==================
Download
[http://www.mediafire.com/download/m9leg ... le+0.9.rar](http://www.mediafire.com/download/m9legnbmd5ccnog/Quiet+Perfect+playable+0.9.rar)
## Post #523
- Username: alex61194
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Wed Sep 16, 2015 1:42 am
- Post datetime: 2015-09-17T11:01:00+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DarknessValtier
>
> 

https://www.youtube.com/watch?v=XOdD9D3zQ5c

Quiet Default Playable 0.9
--------------------------------
This version of Quiet works perfect using the original bones of her.
First Person Fixed
Facial expression fixed
Bra simulation fixed
Hair simulation fixed
Breast bouncy fixed
Dirty and burned effects fixed
---------------------------------
"This is a version 0.9 because i trying to remove the Snake's arm
==================
Download
http://www.mediafire.com/download/m9leg ... le+0.9.rar

what camo you have to put for this mod work?
## Post #524
- Username: JRavens
- Rank: beginner
- Number of posts: 20
- Joined date: Tue Dec 23, 2014 5:17 am
- Post datetime: 2015-09-17T12:36:02+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> Ah, now I understand why my prior backup didn't work. 

TPP actually uses the ground zeros save folder - game id 311340, it's own save folder - id 287700 - does have save files, but I guess they're some kind of backup. 

The graphics config - TPP_GRAPHICS_CONFIG is read from TPPs save folder, not GZ, but the other config - TPP_CONFIG_DATA, actually uses the ground zeros save folder - game id 311340. 

The graphics config is read from TPP, not GZ, but the other config, language and stuff(?), is in GZ folder, had fun having the game start in spanish with alex61194s config. 

TPP_GAME_DATA is the general save game, PERSONAL_DATA is your avatar, emblem, and who knows what else.

What a mess. Had no idea steam games could use another games save folder. I suppose that's how it does the GZ save transfer though., for language and stuff(?), is in GZ save folder, had fun with the game start in spanish with alex61194s config. 

TPP_GAME_DATA is the general save game, PERSONAL_DATA is your avatar, emblem, and who knows what else.

What a mess. Had no idea steam games could use another games save folder. I suppose that's how it does the GZ save transfer though.
Thanks man. For the life of me I couldn't figure out why I had backups there even when I didn't own Ground Zeroes (and in fact I originally thought the GZ directory WAS TPP so that's why I was telling people to back it up)
## Post #525
- Username: CoreyHUN
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Mon Nov 17, 2014 6:39 am
- Post datetime: 2015-09-17T14:08:03+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Guys, can someone send me Quiet's textures please?
## Post #526
- Username: Loomy
- Rank: advanced
- Number of posts: 41
- Joined date: Sat Sep 12, 2015 9:16 am
- Post datetime: 2015-09-17T16:58:31+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from CoreyHUN
>
> Guys, can someone send me Quiet's textures please?

check my post few pages back, where i give shot of the 4 quiets together, there is a 2x links below to Textures0 and Textures2.  click those and that is a reference guide on filename to extract (from Textures0/2/dat -> Qartool -> Ftex files -> FtexTool -> dds Files -> photoshop/direct in ur 3d app.

Anyhow im still looking for a few more, im plannign to post some nicely organized FBX sometime soon, but if ur in a rush check my guide, its all there, for most part.

Here is post -> [viewtopic.php?f=10&t=12407&p=109811#p109811](http://forum.xentax.com/viewtopic.php?f=10&t=12407&p=109811#p109811)

textures reference:-
[http://i.imgur.com/IcCssKk.jpg](http://i.imgur.com/IcCssKk.jpg)
[http://i.imgur.com/1X3PZOp.jpg](http://i.imgur.com/1X3PZOp.jpg)
## Post #527
- Username: alex61194
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Wed Sep 16, 2015 1:42 am
- Post datetime: 2015-09-17T17:08:33+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

hey someone can tell me how to modify items name in the spanish version?
## Post #528
- Username: CoreyHUN
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Mon Nov 17, 2014 6:39 am
- Post datetime: 2015-09-17T17:45:52+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Loomy
>
> CoreyHUN wrote:Guys, can someone send me Quiet's textures please?

check my post few pages back, where i give shot of the 4 quiets together, there is a 2x links below to Textures0 and Textures2.  click those and that is a reference guide on filename to extract (from Textures0/2/dat -> Qartool -> Ftex files -> FtexTool -> dds Files -> photoshop/direct in ur 3d app.

Anyhow im still looking for a few more, im plannign to post some nicely organized FBX sometime soon, but if ur in a rush check my guide, its all there, for most part.

Here is post -> viewtopic.php?f=10&t=12407&p=109811#p109811

textures reference:-
http://i.imgur.com/IcCssKk.jpg
http://i.imgur.com/1X3PZOp.jpg

Thanks man! I had a problem with QAR tool because it was crashing when i was tryin to unpack the textures dat but i just had to download an other one! Thanks, appreciate it.

EDIT: I get an error which is like "This is not a proper ftex file" when i wan't to export Ftexs, or is that olny for ftex not ftexs? When i extracted textures0 only i got was a lot of 1kb ftex files.
#2 - Ftex crashes when i wan't to convert those 1kb ftex files.
I'd really appreciate if you could upload these textures somewhere
## Post #529
- Username: DarknessValtier
- Rank: beginner
- Number of posts: 35
- Joined date: Sat Feb 07, 2009 11:47 pm
- Post datetime: 2015-09-17T23:16:26+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from alex61194
>
> what camo you have to put for this mod work?

Use standard Costume without scarf and main head
## Post #530
- Username: CaptianKnuckles
- Rank: n00b
- Number of posts: 13
- Joined date: Mon Sep 07, 2015 4:34 am
- Post datetime: 2015-09-18T02:21:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Anyone here get the old MSF soldier working to replace snake without the stomach gun bug?
I'd fucking love to have guy.
## Post #531
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-09-18T02:22:15+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from alex61194
>
> hey someone can tell me how to modify items name in the spanish version?
Likely in the .lng files, which are in .fpk files, which are in .dat files. Relatively easy on the modding scale thanks to all the great tools by the lads here, but enough steps that it takes some effort, and your request being specific enough (as you seem to have realized) that it's up to you. Read through all this thread, there's info scattered about (need a wiki lol) and the tools readme files.
## Post #532
- Username: FatsBrown
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Fri Sep 18, 2015 11:56 am
- Post datetime: 2015-09-18T03:59:55+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

anyone think they could conjure up a file that makes the hip gun invisible on the ground zeroes sneaking suit? I can't figure out how to do it myself.
## Post #533
- Username: spazznid
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Fri Sep 18, 2015 1:02 pm
- Post datetime: 2015-09-18T05:09:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from PTE Jenkins
>
> HeartlessSeph wrote:default wrote:Could anyone do a mod that replaces default female soldier or Quet with female skull?

I found the female skull model. I'll see if I can get the balaclava method to work with it. Hopefully there are no facial distortions like Ocelot has.

Do you mind telling me where the balaclava fmdls are stored? and if at all possible where some of the enemy balaclava models are.

C:\Program Files (x86)\Steam\steamapps\common\MGS_TPP\master\QAR Tool\chunk0\Assets\tpp\pack\fova\common_source\chara\cm_head\face
At least that's where I see them. I got the method from Shigu's Quiet mod.

> Reply from default
>
> Could anyone do a mod that replaces default female soldier or Quet with female skull?


Well, it seems that her body gets messed up using the Balaclava method. I suppose I could try to hex the female skull to be invisible and then put it over the sneaking suit to fix any model proportions, but then that would keep the gun glitch intact. I don't see any bones related to the guns position in the fncp either.[/quote]


Not to bother you, but I am greatly anticipating the Female Skull swap. I was linked here and registered to Commend all your and everyone else's efforts so far. I look forward to where all this goes from here!
## Post #534
- Username: pewposterous
- Rank: advanced
- Number of posts: 41
- Joined date: Thu Jul 30, 2015 12:05 pm
- Post datetime: 2015-09-18T05:22:44+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I'm having the same problem as corey, trying to unpack the ftex files just crashes. I finally got the model into blender as a single obj but cant get the textures  Is there a way to unpack ftexs?
## Post #535
- Username: Loomy
- Rank: advanced
- Number of posts: 41
- Joined date: Sat Sep 12, 2015 9:16 am
- Post datetime: 2015-09-18T14:17:24+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

For Corey & Others struggling with Quiets Textures

Quiet 3D Model & textures In 3dsmax/fbx/obj/marmoset.  Just 2 for now, and only using Diffuse, i can find the other textures, but no idea how they get applied (ie: spec/bump/glow/etc - if someone can give a hint, then can apply the rest.  Also looking to Rig, and struggling, if anyone can help out here, would be greatly appreciated. also, not found Qui hair/eyes/eyelash, so using chichi's for now.

I think ive found the xof suit, i need to check against the model, couldnt really tell if it was green b lack leather or what,
for the one guy tha tpmd about it, u welcome to check these so long, 
textures0/2ff8ff8ecd95f.dds
textures0/2a53e3fd943e3.dds

Finally found some of the Volgin textures, will work on that next, Skulls, some Snake variants, feel free to make any requests

Download Quiet Model/Texture pack here (WIP):-  [http://www60.zippyshare.com/v/KAJIg7MO/file.html](http://www60.zippyshare.com/v/KAJIg7MO/file.html)

I included marmoset toolbag scene file as reference to get exact result as below (not a render -PBR ftw!) u can download trial off their website.
## Post #536
- Username: seenake
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Fri Sep 18, 2015 9:55 pm
- Post datetime: 2015-09-18T14:21:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Could anyone help me out with some save files? 

Im looking for the rain scene and quiets last mission save file. I wanna try some model swap. 

I dont really wanna go through the trouble of replaying the game again just for these. 
Any save file near those would be great as well. Thanks in advance!
## Post #537
- Username: Loomy
- Rank: advanced
- Number of posts: 41
- Joined date: Sat Sep 12, 2015 9:16 am
- Post datetime: 2015-09-18T15:48:57+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

couple fixes to go
## Post #538
- Username: elmirtatarin
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Wed Sep 16, 2015 1:44 pm
- Post datetime: 2015-09-18T17:02:20+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DarknessValtier
>
> 

https://www.youtube.com/watch?v=XOdD9D3zQ5c

Quiet Default Playable 0.9
--------------------------------
This version of Quiet works perfect using the original bones of her.
First Person Fixed
Facial expression fixed
Bra simulation fixed
Hair simulation fixed
Breast bouncy fixed
Dirty and burned effects fixed
---------------------------------
"This is a version 0.9 because i trying to remove the Snake's arm
==================
Download
http://www.mediafire.com/download/m9leg ... le+0.9.rar


dont work....  need quiet head...   [http://imgur.com/CNd5dRl](http://imgur.com/CNd5dRl)
## Post #539
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-09-18T17:38:36+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from spazznid
>
> 
Not to bother you, but I am greatly anticipating the Female Skull swap. I was linked here and registered to Commend all your and everyone else's efforts so far. I look forward to where all this goes from here!

It seems someone on the Nexus already finished it before me. I didn't test it but it said it has no bugs so you should be good.
## Post #540
- Username: Solidcal
- Rank: beginner
- Number of posts: 26
- Joined date: Thu Apr 30, 2015 4:05 am
- Post datetime: 2015-09-18T20:14:28+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hey guys I'm planning on swapping some models round to give venom a full body without a bionic arm. But I can't figure out how to null out the bionic arm to be invisible. I mean it has no fcnp file so I can't do it that way. What other way could I go about this to make the arm invisible? Thanks
## Post #541
- Username: pewposterous
- Rank: advanced
- Number of posts: 41
- Joined date: Thu Jul 30, 2015 12:05 pm
- Post datetime: 2015-09-18T20:28:36+00:00
- Post Title: Re: Textures

> Reply from Loomy
>
> For Corey & Others struggling with Quiets Textures

Quiet 3D Model & textures In 3dsmax/fbx/obj/marmoset.  Just 2 for now, and only using Diffuse, i can find the other textures, but no idea how they get applied (ie: spec/bump/glow/etc - if someone can give a hint, then can apply the rest.  Also looking to Rig, and struggling, if anyone can help out here, would be greatly appreciated. also, not found Qui hair/eyes/eyelash, so using chichi's for now.

I think ive found the xof suit, i need to check against the model, couldnt really tell if it was green b lack leather or what,
for the one guy tha tpmd about it, u welcome to check these so long, 
textures0/2ff8ff8ecd95f.dds
textures0/2a53e3fd943e3.dds

Finally found some of the Volgin textures, will work on that next, Skulls, some Snake variants, feel free to make any requests

Download Quiet Model/Texture pack here (WIP):-  http://www60.zippyshare.com/v/KAJIg7MO/file.html

I included marmoset toolbag scene file as reference to get exact result as below (not a render -PBR ftw!) u can download trial off their website.

Ty for this. I know how bump,specs etc work in blender, but in other programs not so sure.
## Post #542
- Username: Sorina123
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Sat Sep 19, 2015 4:35 am
- Post datetime: 2015-09-18T20:39:36+00:00
- Post Title: Re: Textures

Do you guys think that its possible to use the Movement (Teleport) Set of Quiet/Parasite Snipers as Player? I'm Actually digging yet i didnt find a clue..
## Post #543
- Username: CoreyHUN
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Mon Nov 17, 2014 6:39 am
- Post datetime: 2015-09-18T20:41:07+00:00
- Post Title: Re: Textures

> Reply from Loomy
>
> For Corey & Others struggling with Quiets Textures

Quiet 3D Model & textures In 3dsmax/fbx/obj/marmoset.  Just 2 for now, and only using Diffuse, i can find the other textures, but no idea how they get applied (ie: spec/bump/glow/etc - if someone can give a hint, then can apply the rest.  Also looking to Rig, and struggling, if anyone can help out here, would be greatly appreciated. also, not found Qui hair/eyes/eyelash, so using chichi's for now.

I think ive found the xof suit, i need to check against the model, couldnt really tell if it was green b lack leather or what,
for the one guy tha tpmd about it, u welcome to check these so long, 
textures0/2ff8ff8ecd95f.dds
textures0/2a53e3fd943e3.dds

Finally found some of the Volgin textures, will work on that next, Skulls, some Snake variants, feel free to make any requests

Download Quiet Model/Texture pack here (WIP):-  http://www60.zippyshare.com/v/KAJIg7MO/file.html

I included marmoset toolbag scene file as reference to get exact result as below (not a render -PBR ftw!) u can download trial off their website.

Awesome man! Thank you so much!
## Post #544
- Username: pewposterous
- Rank: advanced
- Number of posts: 41
- Joined date: Thu Jul 30, 2015 12:05 pm
- Post datetime: 2015-09-19T04:16:04+00:00
- Post Title: Re: Textures

I've finally managed to extract some ftex files. Quiets hair is texture0 - a2edc14ac4a3 if anyone's wondering. Has anyone been able to locate other parts, like bump/spec, eyelashes etc?

Heres a render of the head [http://i.imgur.com/OBwHMwJ.png](http://i.imgur.com/OBwHMwJ.png)

edit: spec map for rain, although i think its for someone else. Also no idae how to use it properly [http://i.imgur.com/R0ujcYh.png](http://i.imgur.com/R0ujcYh.png)
## Post #545
- Username: allah1985
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Sat Sep 19, 2015 1:05 pm
- Post datetime: 2015-09-19T05:21:25+00:00
- Post Title: Re: Textures

> Reply from DarknessValtier
>
> 

https://www.youtube.com/watch?v=XOdD9D3zQ5c

Quiet Default Playable 0.9
--------------------------------
This version of Quiet works perfect using the original bones of her.
First Person Fixed
Facial expression fixed
Bra simulation fixed
Hair simulation fixed
Breast bouncy fixed
Dirty and burned effects fixed
---------------------------------
"This is a version 0.9 because i trying to remove the Snake's arm
==================
Download
http://www.mediafire.com/download/m9leg ... le+0.9.rar

As another person said I can't seem to get this mod to work. All it shows is Big Boss without a body when I try it

[http://i.imgur.com/SrHxsgA.png](http://i.imgur.com/SrHxsgA.png)
## Post #546
- Username: chuu
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Sat Sep 19, 2015 1:17 pm
- Post datetime: 2015-09-19T05:24:21+00:00
- Post Title: Re: Textures

I downloaded the mod on nexus that lets you swap Venom's head with BB's but there's a little gap between his body and his neck where you can see through. Can anyone fix that?
[http://www.nexusmods.com/phantompain/mods/19/](http://www.nexusmods.com/phantompain/mods/19/)?
## Post #547
- Username: Jax765
- Rank: n00b
- Number of posts: 12
- Joined date: Fri Sep 11, 2015 12:31 am
- Post datetime: 2015-09-19T10:51:17+00:00
- Post Title: Re: Textures

> Reply from chuu
>
> I downloaded the mod on nexus that lets you swap Venom's head with BB's but there's a little gap between his body and his neck where you can see through. Can anyone fix that?
http://www.nexusmods.com/phantompain/mods/19/?

Not to mention that little hole on his left eye.
## Post #548
- Username: Zombieali2000
- Rank: beginner
- Number of posts: 32
- Joined date: Mon Sep 08, 2014 6:07 am
- Post datetime: 2015-09-19T15:08:33+00:00
- Post Title: Re: Textures

> Reply from pewposterous
>
> I've finally managed to extract some ftex files. Quiets hair is texture0 - a2edc14ac4a3 if anyone's wondering. Has anyone been able to locate other parts, like bump/spec, eyelashes etc?

Heres a render of the head http://i.imgur.com/OBwHMwJ.png

edit: spec map for rain, although i think its for someone else. Also no idae how to use it properly http://i.imgur.com/R0ujcYh.png
Any chance you could Upload the hair texture?
## Post #549
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-09-19T23:06:44+00:00
- Post Title: Re: Textures

i really like the new fatigues outfit from ground zeroes, but where are the gloves? also, anyway to add it as a separate outfit that doesn't override the others? and to make it useable by motherbase staff, not just snake.
## Post #550
- Username: emoose
- Rank: beginner
- Number of posts: 26
- Joined date: Fri Sep 11, 2015 4:06 am
- Post datetime: 2015-09-20T00:21:30+00:00
- Post Title: Re: Textures

I've been busy naming as many filenames as I can (so far named ~3000 extra files which aren't in any other dictionaries yet afaik) and I found two tape entries which seem to be unused: tp_m_10160_03 and tp_m_10260_02

tp_m_10160_03 seems to be the conversation from the beginning of the unfinished Mission 51 ([https://www.youtube.com/watch?v=-B4JIHh5Jqk](https://www.youtube.com/watch?v=-B4JIHh5Jqk)), and tp_m_10260_02 is a conversation with Miller and Code Talker talking about Quiet.

Pretty sure the mission 51 convo isn't used in the game, but I'm not sure about the Quiet convo. Neither of these are referenced in PreinstallTape.lua with the other .wem files so I think they aren't used ingame, but I haven't completed it yet so I'm not really sure.

If anyone here wants to check them out add these two lines to your dictionary.txt and extract chunk1.dat:
/Assets/tpp/sound/external/tape/tp_m_10160_03
/Assets/tpp/sound/external/tape/tp_m_10260_02

You should get them both extracted as .wem files, use the info at [viewtopic.php?p=66311#p66311](http://forum.xentax.com/viewtopic.php?p=66311#p66311) to convert them to ogg and then you can open them in your music player of choice.

Also if anyones interested in my dictionary I'll be posting it on github soon, probably tomorrow night.
## Post #551
- Username: cololo
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Sun Sep 20, 2015 10:01 am
- Post datetime: 2015-09-20T02:03:44+00:00
- Post Title: Re: Textures

Has anyone found the texture for the 'From the man who sold the world' tape? I've been looking for it like crazy.
## Post #552
- Username: CaptianKnuckles
- Rank: n00b
- Number of posts: 13
- Joined date: Mon Sep 07, 2015 4:34 am
- Post datetime: 2015-09-20T02:05:06+00:00
- Post Title: Re: Textures

Can anyone tell me where to find the face models for the XOF Soldier and the old Motherbase MSF Soldier? I'd like to try a head replacement.
## Post #553
- Username: rensole
- Rank: beginner
- Number of posts: 39
- Joined date: Tue Feb 26, 2013 4:34 am
- Post datetime: 2015-09-20T02:49:58+00:00
- Post Title: Re: Textures

Does anyone know were I could find sahelanthropus ?
I skimmed through most of the files but to no succes.
Also for the bionic arm, I unpacked everything but can't find those eather.
Could anyone upload these or point me in the right direction ?
## Post #554
- Username: amandabyyy
- Rank: beginner
- Number of posts: 22
- Joined date: Mon May 31, 2010 3:08 pm
- Post datetime: 2015-09-20T05:09:40+00:00
- Post Title: Re: Textures

> Reply from allah1985
>
> DarknessValtier wrote:

https://www.youtube.com/watch?v=XOdD9D3zQ5c

Quiet Default Playable 0.9
--------------------------------
This version of Quiet works perfect using the original bones of her.
First Person Fixed
Facial expression fixed
Bra simulation fixed
Hair simulation fixed
Breast bouncy fixed
Dirty and burned effects fixed
---------------------------------
"This is a version 0.9 because i trying to remove the Snake's arm
==================
Download
http://www.mediafire.com/download/m9leg ... le+0.9.rar

As another person said I can't seem to get this mod to work. All it shows is Big Boss without a body when I try it

http://i.imgur.com/SrHxsgA.png

He accidentally cleared out the index buffer in the fmdl file. The key here is the fcnp file and (maybe) the frdv files. You can use those + quiet's default costume fmdl file and the body will be correct (and weapons won't go through her stomach).

I think he also may have uploaded the wrong head for the correct camo. So you'll just have to find the right head and put the one he gave you on top of that.
## Post #555
- Username: JRavens
- Rank: beginner
- Number of posts: 20
- Joined date: Tue Dec 23, 2014 5:17 am
- Post datetime: 2015-09-20T05:30:11+00:00
- Post Title: Re: Textures

> Reply from emoose
>
> I've been busy naming as many filenames as I can (so far named ~3000 extra files which aren't in any other dictionaries yet afaik) and I found two tape entries which seem to be unused: tp_m_10160_03 and tp_m_10260_02

tp_m_10160_03 seems to be the conversation from the beginning of the unfinished Mission 51 (https://www.youtube.com/watch?v=-B4JIHh5Jqk), and tp_m_10260_02 is a conversation with Miller and Code Talker talking about Quiet.

Pretty sure the mission 51 convo isn't used in the game, but I'm not sure about the Quiet convo. Neither of these are referenced in PreinstallTape.lua with the other .wem files so I think they aren't used ingame, but I haven't completed it yet so I'm not really sure.

If anyone here wants to check them out add these two lines to your dictionary.txt and extract chunk1.dat:
/Assets/tpp/sound/external/tape/tp_m_10160_03
/Assets/tpp/sound/external/tape/tp_m_10260_02

You should get them both extracted as .wem files, use the info at viewtopic.php?p=66311#p66311 to convert them to ogg and then you can open them in your music player of choice.

Also if anyones interested in my dictionary I'll be posting it on github soon, probably tomorrow night.
Thank you so much for sharing! I'm really looking forward to your dictionary.txt additions. They are desperately needed.
## Post #556
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-09-20T06:37:17+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

help needed for location of following:

russian paratrooper helmet
xof gas mask
xof balaclava, helmet, goggles
russian balaclava

player balaclava
infinity bandana

thank you.
## Post #557
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-09-20T07:37:58+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I did a thing here. Sorry for the red on the boots and hands. My nuclear weapon decided to be done getting developed when I finished a mission wearing this so now I have to visit the Animal platform 1000 times to get Snake to look normal.

Anyway, I won't have it uploaded tonight, I need to figure out why his hands aren't showing up in first person view when they should be. Also, I didn't notice any detaching from the head or anything, but I honestly do suck at catching things like that so I may have just missed it.

Unrelated, but I only need 8 more achievements until 100%! Although I'm not quite looking forward to completing all mission tasks (gotta replay the Man who Sold the World again *sigh*)

EDIT: While I'm at it, here's the human Volgin I was working on. [http://i.imgur.com/z5RvYu2.jpg](http://i.imgur.com/z5RvYu2.jpg)

Also not releasing him yet though. He still has the stretching glitch with his hands unless you wear the rocket arm and I can't figure out how to fix that. Also, when model detail is set to low parts of his body disappear (I must have messed something up in his fmdl lol). I'm not trying to fix that though, upping model detail isn't that taxing on the computer and most people probably don't have it set there anyway. This is what I'm talking about: [http://i.imgur.com/AbVXnni.jpg](http://i.imgur.com/AbVXnni.jpg)
## Post #558
- Username: mokuna
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Wed Sep 09, 2015 5:58 pm
- Post datetime: 2015-09-20T10:58:02+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Since I've seen some people wondering about where to find stuff this is what I've gotten until now about how the files are organized:

- chunk0 contains the models common to all the missions (in chunk0\Assets\tpp\pack\mission2\common) + the first Cyprus mission (in chunk0\Assets\tpp\pack\mission2\story\s10010). If you want to swap the doctor/nurses you need to change the files in chunk0\Assets\tpp\pack\mission2\story\s10010, not in common. The ones in common are for non-mission specific assets.
- chunk1 doesn't seem to contain any story mission, but contains most or all the tapes.
- chunk2 contains the Afghanistan missions. s10020_area.fpk contains the models for the "rescue kaz" scene. Note that the Kaz model will be swapped again with original Kaz at the start of mission 2, the one on motherbase. The Ocelot in that scene is the one in chunk0\...\common, but I haven't been able to find the Kaz in that scene yet.
- chunk3 I suspect contains the part of the story in the motherbase Quarantine facility (still haven't gotten there to check)
- chunk4 seems to contain the Africa missions.

Hope this helps.

One thing I've been trying to do is mod Ocelot in place of the soldiers. I could get him to show up by swapping his model into mis_com_afgh.fpk but I still get the soldiers various faces on top of his. Can anyone give me any pointer into finding these faces?

Also I'm trying to figure out how to edit these face meshes out. I have an hex editor, but I can't understand which file extension needs to be opened with that changed. If I get this information I can probably try and figure out the rest myself.

Any help?
## Post #559
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-09-20T11:25:09+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from mokuna
>
> One thing I've been trying to do is mod Ocelot in place of the soldiers. I could get him to show up by swapping his model into mis_com_afgh.fpk but I still get the soldiers various faces on top of his. Can anyone give me any pointer into finding these faces?

Also I'm trying to figure out how to edit these face meshes out. I have an hex editor, but I can't understand which file extension needs to be opened with that changed. If I get this information I can probably try and figure out the rest myself.

Any help?

If you want to edit meshes out you need to open the fmdl file.
## Post #560
- Username: pewposterous
- Rank: advanced
- Number of posts: 41
- Joined date: Thu Jul 30, 2015 12:05 pm
- Post datetime: 2015-09-20T12:23:55+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Does anyone know where quiets hospital outfit textures are located? Also her eyelashes
## Post #561
- Username: Loomy
- Rank: advanced
- Number of posts: 41
- Joined date: Sat Sep 12, 2015 9:16 am
- Post datetime: 2015-09-20T15:24:18+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from pewposterous
>
> Does anyone know where quiets hospital outfit textures are located? Also her eyelashes

I thought i found the xof, couldnt have been more wrong, the Xofs hair albedo/diffuse, as u see below is without a doubt :- texture0\23354ae540eae.dds

On my suit there are a few parts that are eerily matching, but uv is totally off, and as i recall her suit was more black or navy, and no camo.  could this be another xof suit tex ?  do u have any good reference images for hospital/xof suits of quiet, it  might help.  anyway the tex i used below for suit was wrong but might be helpful in narrowing it down:  texture0\2ff8ff8ecd95f.dds.  for her skin and face just used one of the other models tex's

Below is also uv layout if that helps.  send/share if u find any, and the additional maps for hair, cheers !  also looking for her regular hair maps still
## Post #562
- Username: KingKilluaX3
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Mon Aug 31, 2015 9:43 am
- Post datetime: 2015-09-20T17:15:57+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Anyone find D-Dog and D-Horse's models?

I've found the white d-horse texture so far
## Post #563
- Username: CoreyHUN
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Mon Nov 17, 2014 6:39 am
- Post datetime: 2015-09-20T17:41:22+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I'd appeciate D-Horse's modelsss
## Post #564
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2015-09-20T20:09:16+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> emoose wrote:As I posted on CE.org and github...

I posted this on NuLLxD's github but should probably post it here too since this is the base of lua mods: 

"A lot of the unnamed LUA files you have in here have been named, using the qar_dictionary.txt from Atvaarks GzsTool (github/Atvaark/GzsTool/releases/tag/v0.3.3) gives every LUA file a name except one, eg. 2cd691ee890e4.lua becomes /Assets/tpp/motherbase/script/MbmCommonSetting.lua. Might make it easier to mod if you use the named LUA files." 

Atvaarks dictionary names every LUA file in data1.dat, only one is left unnamed which isn't used by the game afaik. 
Hope this helps  

(Can't seem to post urls yet, but add a dot com to the end of github above for the link to Atvaarks repo) 


I'm also working on naming a lot of the unnamed FPK files (since fpk's have some clues to their original filenames...)

So far I've got around ~2000 extra fpk files named which aren't named in any other dictionaries afaik, will update this thread with the link to the github for this dictionary once I've cleaned it up (pull requests will be welcomed of course! )

I'm especially looking forward to this if it'll help me find the Human Volgin model. I want to play as him so badly, bent knees and all!
dec0d3 wrote:Would it be possible to replace your snake or custom avatar model with Paz from the infirmary?

This? http://i.imgur.com/1QiqoNm.jpg

And look what I found

http://i.imgur.com/xEtC4Ml.jpg (posting links because of image size)

Honestly I think it would be pretty cool to play as Paz during the hospital scene so can you (HeartlessSeph) share with us which FPK file Paz is?
## Post #565
- Username: Loomy
- Rank: advanced
- Number of posts: 41
- Joined date: Sat Sep 12, 2015 9:16 am
- Post datetime: 2015-09-20T20:44:00+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from pewposterous
>
> I've finally managed to extract some ftex files. Quiets hair is texture0 - a2edc14ac4a3 if anyone's wondering. Has anyone been able to locate other parts, like bump/spec, eyelashes etc?

Heres a render of the head http://i.imgur.com/OBwHMwJ.png

edit: spec map for rain, although i think its for someone else. Also no idae how to use it properly http://i.imgur.com/R0ujcYh.png

that render is amazing !  how do you get the hair like that, would it not need the other maps for it, best i can do (lol) is:-



> Reply from pewposterous
>
> Does anyone know where quiets hospital outfit textures are located? Also her eyelashes

Found it finally !!! (UVs perfect fit, high gamma aside, i dont recall it having so much grey ? idk, but im fairly certain we have a winner.  The gloves are seemingly drunk or part of the face/arms map which i havnt found (using existing maps). for eyelashes, chichis lashes in tex0/chars/chi  seem to work for now.  Also of note, on below for the grenades im pretty sure it uses same tex from her other model (the one with red warning label - could use from their / torn stockings set of textures)


The hair map ive mentioned in previous post, still searching on the supporting maps for it.

Tex below (diffuse only for now) = texture0\a1c6a30be44.dds



Who or what is this ? Trying to find the Female Skulls Models if anyone can point them out ?
## Post #566
- Username: pewposterous
- Rank: advanced
- Number of posts: 41
- Joined date: Thu Jul 30, 2015 12:05 pm
- Post datetime: 2015-09-20T23:09:16+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Loomy
>
> pewposterous wrote:Does anyone know where quiets hospital outfit textures are located? Also her eyelashes

Found it finally !!! (UVs perfect fit, high gamma aside, i dont recall it having so much grey ? idk, but im fairly certain we have a winner.  The gloves are seemingly drunk or part of the face/arms map which i havnt found (using existing maps). for eyelashes, chichis lashes in tex0/chars/chi  seem to work for now.  Also of note, on below for the grenades im pretty sure it uses same tex from her other model (the one with red warning label - could use from their / torn stockings set of textures)


The hair map ive mentioned in previous post, still searching on the supporting maps for it.

Tex below (diffuse only for now) = texture0\a1c6a30be44.dds



Who or what is this ? Trying to find the Female Skulls Models if anyone can point them out ?

xD ty so much, i scoured through thousands of files and must of missed it. I'll search around for the normal
## Post #567
- Username: pewposterous
- Rank: advanced
- Number of posts: 41
- Joined date: Thu Jul 30, 2015 12:05 pm
- Post datetime: 2015-09-20T23:12:25+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Loomy
>
> pewposterous wrote:I've finally managed to extract some ftex files. Quiets hair is texture0 - a2edc14ac4a3 if anyone's wondering. Has anyone been able to locate other parts, like bump/spec, eyelashes etc?

Heres a render of the head http://i.imgur.com/OBwHMwJ.png

edit: spec map for rain, although i think its for someone else. Also no idae how to use it properly http://i.imgur.com/R0ujcYh.png

that render is amazing !  how do you get the hair like that, would it not need the other maps for it, best i can do (lol) is:-

I used 3 image maps in blender cycles, the colour (also contains the transparency) / Specular (2f5792bdbd55b) / and a normal map that i created in another program.

Edit - Hospital hair is 23354ae540eae. Spec 2b2e2f8434633

Found the normal for the hospital outfit - Texture0\2eb91f0b854cd

Theres another texture though. Some equipment on the belt, and her communicator at her neck use different textures. These might be tricky to find XD
## Post #568
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-09-21T00:13:22+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from mokuna
>
> Since I've seen some people wondering about where to find stuff this is what I've gotten until now about how the files are organized:

- chunk0 contains the models common to all the missions (in chunk0\Assets\tpp\pack\mission2\common) + the first Cyprus mission (in chunk0\Assets\tpp\pack\mission2\story\s10010). If you want to swap the doctor/nurses you need to change the files in chunk0\Assets\tpp\pack\mission2\story\s10010, not in common. The ones in common are for non-mission specific assets.
- chunk1 doesn't seem to contain any story mission, but contains most or all the tapes.
- chunk2 contains the Afghanistan missions. s10020_area.fpk contains the models for the "rescue kaz" scene. Note that the Kaz model will be swapped again with original Kaz at the start of mission 2, the one on motherbase. The Ocelot in that scene is the one in chunk0\...\common, but I haven't been able to find the Kaz in that scene yet.
- chunk3 I suspect contains the part of the story in the motherbase Quarantine facility (still haven't gotten there to check)
- chunk4 seems to contain the Africa missions.

Hope this helps.

thanks this could narrow down search areas and save a lot of time.
## Post #569
- Username: mokuna
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Wed Sep 09, 2015 5:58 pm
- Post datetime: 2015-09-21T00:51:04+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> mokuna wrote:One thing I've been trying to do is mod Ocelot in place of the soldiers. I could get him to show up by swapping his model into mis_com_afgh.fpk but I still get the soldiers various faces on top of his. Can anyone give me any pointer into finding these faces?

Also I'm trying to figure out how to edit these face meshes out. I have an hex editor, but I can't understand which file extension needs to be opened with that changed. If I get this information I can probably try and figure out the rest myself.

Any help?

If you want to edit meshes out you need to open the fmdl file.

So you don't use hex editing for them? You just open the fmdl, delete everything and save again?
## Post #570
- Username: nowonever1
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Mon Sep 21, 2015 9:49 am
- Post datetime: 2015-09-21T01:59:45+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I have a plan to change the skull sinper's head with quiet's head, but I don't know how to do that, I tried to make the sinper's body invisible and for quiet only head visable, first doesn't work out the way I thought it should be, second, I don't know how to connect them in file, can somebody point me the direction?a little details will be appreciated.
## Post #571
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-09-21T02:34:49+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from mokuna
>
> HeartlessSeph wrote:mokuna wrote:One thing I've been trying to do is mod Ocelot in place of the soldiers. I could get him to show up by swapping his model into mis_com_afgh.fpk but I still get the soldiers various faces on top of his. Can anyone give me any pointer into finding these faces?

Also I'm trying to figure out how to edit these face meshes out. I have an hex editor, but I can't understand which file extension needs to be opened with that changed. If I get this information I can probably try and figure out the rest myself.

Any help?

If you want to edit meshes out you need to open the fmdl file.

So you don't use hex editing for them? You just open the fmdl, delete everything and save again?

Woah, I didn't mean that. After you unpack an fpk file, you have to look for the fmdl of the character you want to edit, open it using the hex editor and zero out the meshes. Sorry I can't give much info beyond that, it's a bit hard to explain.
## Post #572
- Username: mokuna
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Wed Sep 09, 2015 5:58 pm
- Post datetime: 2015-09-21T06:45:31+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> mokuna wrote:HeartlessSeph wrote:
If you want to edit meshes out you need to open the fmdl file.

So you don't use hex editing for them? You just open the fmdl, delete everything and save again?

Woah, I didn't mean that. After you unpack an fpk file, you have to look for the fmdl of the character you want to edit, open it using the hex editor and zero out the meshes. Sorry I can't give much info beyond that, it's a bit hard to explain.

Thanks, sorry I misunderstood!

I'll try to open a couple of files and see what changes and figure out which parts of the file is the whole header/metadata and which ones are the meshes. If I can get it done somehow I'll try writing a guide myself.
(That said anyone that has pointers that could help and wants to share is very welcome to do so)
## Post #573
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-09-21T07:31:47+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from mokuna
>
> So you don't use hex editing for them? You just open the fmdl, delete everything and save again?

> Reply from HeartlessSeph
>
> Woah, I didn't mean that. After you unpack an fpk file, you have to look for the fmdl of the character you want to edit, open it using the hex editor and zero out the meshes. Sorry I can't give much info beyond that, it's a bit hard to explain.

> Reply from mokuna
>
> Thanks, sorry I misunderstood!

I'll try to open a couple of files and see what changes and figure out which parts of the file is the whole header/metadata and which ones are the meshes. If I can get it done somehow I'll try writing a guide myself.
(That said anyone that has pointers that could help and wants to share is very welcome to do so)

I'm actually planning on making a video of me just showing myself hex out some meshes. It's not difficult once you know what you're doing, it's just a little difficult for me to explain in words considering I suck at tutorials.
## Post #574
- Username: nowonever1
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Mon Sep 21, 2015 9:49 am
- Post datetime: 2015-09-21T10:02:07+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from allah1985
>
> DarknessValtier wrote:

https://www.youtube.com/watch?v=XOdD9D3zQ5c

Quiet Default Playable 0.9
--------------------------------
This version of Quiet works perfect using the original bones of her.
First Person Fixed
Facial expression fixed
Bra simulation fixed
Hair simulation fixed
Breast bouncy fixed
Dirty and burned effects fixed
---------------------------------
"This is a version 0.9 because i trying to remove the Snake's arm
==================
Download
http://www.mediafire.com/download/m9leg ... le+0.9.rar

As another person said I can't seem to get this mod to work. All it shows is Big Boss without a body when I try it

http://i.imgur.com/SrHxsgA.png

Can you make her voice as a female?it's cool to play main character as Q, but listen to her voice as snake is weird, or just mute her voice is fine.thx
## Post #575
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2015-09-21T12:50:15+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

FoxEngine Model Studio

Update ok for model export/import compatibility I have all the bone names down. Even though the FMDL doesn't actually store a string table with them anymore a friend has resolved them for me 


For model import/editing I'm thinking (for now) since we don't know exactly all the modules contained inside the FMDL format have an option where you would input a fmdl for example lets say snake. Once you input the fmdl it will give you various options of exporting to a file ie. SMD/Obj you can then export that and open it in your favorite 3D edtior do modifications then export out and import it back into the fmdl file.
## Post #576
- Username: nowonever1
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Mon Sep 21, 2015 9:49 am
- Post datetime: 2015-09-21T13:22:36+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Anybody has a plan to distribute more female soliders on the battlefield? that could be more intersting, for now I guess for model swap, only a few char is intersting, like Q, and some mod just break the balance of the game, so I think to mod is to make it more interesting, more female soliders we encounter will be a good idea, just don't know how to do that, specifically I haven't found which file controls what char with what model with be distributed on the field, anybody also works on this?
## Post #577
- Username: CoreyHUN
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Mon Nov 17, 2014 6:39 am
- Post datetime: 2015-09-21T15:26:57+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Guys, how do you export the models with fixed UV maps? Mine ones are fucked up :/
## Post #578
- Username: Loomy
- Rank: advanced
- Number of posts: 41
- Joined date: Sat Sep 12, 2015 9:16 am
- Post datetime: 2015-09-21T17:35:24+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

@cra0

> Reply from cra0
>
> FoxEngine Model Studio

Update ok for model export/import compatibility I have all the bone names down. Even though the FMDL doesn't actually store a string table with them anymore a friend has resolved them for me 


For model import/editing I'm thinking (for now) since we don't know exactly all the modules contained inside the FMDL format have an option where you would input a fmdl for example lets say snake. Once you input the fmdl it will give you various options of exporting to a file ie. SMD/Obj you can then export that and open it in your favorite 3D edtior do modifications then export out and import it back into the fmdl file.

You are a legend bro, second to none ! !!! that is awesome news, cant tell u how much time ive spent banging my head against wall trying to make something of the current bones export via maxscpt lol.  

Im really keen to try out FMS, if you need some testing, im doing a boatload of model extraction/and what not, while i wait for a pc that can actually run the game ^^.  please do count me in.

My sincere thanks for your efforts.

> Reply from CoreyHUN
>
> Guys, how do you export the models with fixed UV maps? Mine ones are fucked up :/

if you are using maxscript, you will be getting out exactly same uvs as everyone else, or whats in the game. can u give some example of what you mean ? maybe can help

on a sidenote, if you are referring to perfect being assymetrical  and matching body parts and what not ? they are naturally f*cked up, like most game assets, and fixing them is more headache than its worth -> welding seams, baking tex, & retopo etc.  or realigning uv map manually.  zanywayz if this is what u mean, its something im trying to learn myself and messing around with
## Post #579
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2015-09-21T19:32:04+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Am I the only person on the internet who think the ending of MGSV (Mission 46) was not disappointing?

Its not trying to say that you are not Big Boss, what it was trying to say was that the player and BB make one identity, meaning all of the players actions are cannon to the world of MGSV
## Post #580
- Username: pewposterous
- Rank: advanced
- Number of posts: 41
- Joined date: Thu Jul 30, 2015 12:05 pm
- Post datetime: 2015-09-21T21:18:00+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Ashtails
>
> Am I the only person on the internet who think the ending of MGSV (Mission 46) was not disappointing?

Its not trying to say that you are not Big Boss, what it was trying to say was that the player and BB make one identity, meaning all of the players actions are cannon to the world of MGSV

I feel the story and characters in general were dissapointing, but thats the price you pay for a 'open world'.
## Post #581
- Username: Ramiz
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Mon Sep 14, 2015 5:36 am
- Post datetime: 2015-09-21T23:17:20+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Anyone knows location of UI subtitles?

I know that subtitles for cutscenes are here:
\data1\Assets\tpp\ui\Subtitles\subp\EngVoice\EngText
but where are interface subtitles? (Main Menu etc.)
## Post #582
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2015-09-21T23:44:00+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Best mod idea ever

Replace D-dog's knife sneaking suit with Blade Wolf from Metal Gear Rising
## Post #583
- Username: DUSToid1109
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sat Sep 12, 2015 6:09 pm
- Post datetime: 2015-09-22T04:18:52+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Can you find oselot unit(black_ocelot)?

i find of:
chunk2\Assets\tpp\pack\mission2\story\s10050\s10050_d02.fpk
dds3_main0_def.fmdl

sorry my bad english
try it.
## Post #584
- Username: Soulpatrol
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Tue Sep 22, 2015 9:02 pm
- Post datetime: 2015-09-22T13:16:10+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Thanks for the work you all did here and the sharing 

I want to ask if some one modded the Xbox360 Files here too ?
Or are the Files on the different Platforms all the same ?

Im asking because i want to change Quiet's Haircolor to red for the beginning and so i started searching the Web for some Infos about modding this Game and ended here reading.

I downloaded the Tools the Users here coded, used the MGSV QAR Tool to successful unpack the "77d720e8d8714bc.dat" File.
I read here that a2edc14ac4a3 is Quiet's Hairtexture, but i only have "a2edc14ac4a3.2.ftexs" and "a2edc14ac4a3.3.ftexs".
By using FtexTool v0.3 to convert the textures, i got error Message: Input file is not ending in ftex or dds.

So i foolish try to rename the File to .ftex and the Tool crashed:

> FtexTool.Exceptions.AssertionFailedException in FtexTool.ExtensionMethods.Assert[T](BinaryReader reader, T expected, String message)
>
> in FtexTool.Ftex.FtexFile.Read(Stream inputStream)
>
> in FtexTool.Program.GetFtexFile(String filePath)
>
> in FtexTool.Program.UnpackFtexFile(String filePath, String outputPath)
>
> in FtexTool.Program.Main(String[] args)

Then the MGSV QAR Tool had some Problems to unpack the "77e6d53969026de.dat" File:

> WARNING: size fields are not equal! The result might be incorrect!
>
> 77e6d53969026de\8046499609ab.fpk
>
> WARNING: size fields are not equal! The result might be incorrect!
>
> 77e6d53969026de\8046499609ab.fpkd
>
> WARNING: size fields are not equal! The result might be incorrect!
>
> 77e6d53969026de\38ab5ba435266.fpk
>
> WARNING: size fields are not equal! The result might be incorrect!
>
> 77e6d53969026de\38ab5ba435266.fpkd
>
> WARNING: size fields are not equal! The result might be incorrect!
>
> 77e6d53969026de\1c4302c359895.fpk
>
> WARNING: size fields are not equal! The result might be incorrect!
>
> 77e6d53969026de\1c4302c359895.fpkd
>
> and so on...

Is that ok or are there Problems with the Xbox360 Files ?

So i start reading again here and see a lot People posting the Textures and it looks like im the only one having this Problem.

Anybody willed to help me please on this ?

Edit: Excuse my English, i try my best
## Post #585
- Username: kazblox
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Sat Sep 12, 2015 7:23 am
- Post datetime: 2015-09-22T20:05:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

[https://tcrf.net/User:Kazblox/Metal_Gea ... Windows%29](https://tcrf.net/User:Kazblox/Metal_Gear_Solid_V:_The_Phantom_Pain_%28Windows%29)

Hi guys. I am Kazblox... new to XeNTaX. This is little to not modding related, but I need your help finding pointer lists for everything in the data files so that I can see what's commented out or not used. I already got the pointer lists for the missions and specific MB cutscenes from Reddit, but I need to find other pointer lists.

As you can see, I only started the article a few days ago. I don't have much time to work on datamining these days so I hope that XeNTaX can help me find unused content.
## Post #586
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-09-22T22:40:41+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I got the human Volgin to work. Only when using the Rocket arm though, it stretches otherwise. Check it out here [http://www.nexusmods.com/phantompain/mods/46/](http://www.nexusmods.com/phantompain/mods/46/)
## Post #587
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-09-23T00:20:02+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

So I figured out how to look for Kojima.

Every soldier (DD and out of MB) share same body part fmdl's with separate face fmdl's attached. So all we need to do if find the right face file in the dds folders. Though some of the dds bodies are full bodies (like Pequod)
## Post #588
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-09-23T02:27:39+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

check out this mod, you can change faces and objects on top of faces/heads:

[http://www.nexusmods.com/phantompain/mods/43/](http://www.nexusmods.com/phantompain/mods/43/)?

so it should be possible to find these item ids, set them to be selectables with accompanying graphics icon and add them into the game to be used properly from item menu.

seems quite stable. no crashing, no corruption.

edit. quick quesiton. what is the file "msk0_fthr0_sta.fmdl"

is that responsible for allowing staff to equip balaclava?

edit2:

how do you zero out meshes using hex editor? i'm assuming my model replacements aren't working because i'm using default fmdl which has all the heads and body pieces together?
## Post #589
- Username: Soulpatrol
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Tue Sep 22, 2015 9:02 pm
- Post datetime: 2015-09-23T09:16:18+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

BUG REPORT
Im using Win7 (64Bit), have MicrosoftNet 4.5.2 and the Xbox360 Files
From the ReadME's the Tools should work with the Console Files...so here are my Results:

GzsTool v0.4

Crash after using a .DAT File (While MGSV_QAR_Tool can extract the File)



Crash after using a .FPK File (mis_com_quiet.fpk)


MGS V FPK Tool v1.1

Does nothing after using a .FPK File (mis_com_quiet.fpk), no Files/Folder created...just nothing.
(just curious, in the ReadMe stand v1.1 and on Console Output v1.0)


MGS V QAR Tool v1.3.1
Extraction of DAT Files work maybe, wen extract the Qar File 77e6d53969026de.dat all Files get warnings like this:


After extraction of all 4 QAR Files i see that all FTEX Files are only 1kb Size...maybe more Problems i dont know and thats why the FTEX Tool's (FtexTool v0.3/FtexUnpacker) crashed too or tell me that this is no FTEX File.

How can i extract and edit the Xbox360 Files ?

Edit:
I attached the FPK File and a FTEX with the needed FTEXS Files here: [http://www19.zippyshare.com/v/SCqp3O7j/file.html](http://www19.zippyshare.com/v/SCqp3O7j/file.html)
Maybe a User or the Coders can test the Files.
## Post #590
- Username: emoose
- Rank: beginner
- Number of posts: 26
- Joined date: Fri Sep 11, 2015 4:06 am
- Post datetime: 2015-09-24T06:31:52+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Since I haven't seen any others yet I've started the "MGSV QAR Dictionary Project" on github 

> The QAR dictionary project is a project to name every file used in MGSV Ground Zeroes and The Phantom Pain.
>
> 
>
> Unfortunately for modders MGSV is hard to mod mostly because we don't know the filenames of everything used in the game, as the games archives use CityHash hashes to identify files.
>
> This is fine for a game which knows what data it wants to use, but makes it hard for modders to find/categorize data used by the game without resorting to reverse engineering/bruteforcing, making a modders job a lot harder.
>
> 
>
> Eg. if the game wants the file "/Fox/Scripts/Gr/gr_init.lua" it would just hash the string "/Fox/Scripts/Gr/gr_init", then search inside its data archives for the hash of it (eg 0x3228caff179b0) to get the data for that file.
>
> But if modders don't know the file is called "/Fox/Scripts/Gr/gr_init.lua" then it'll be a tough job for them to find it.
>
> 
>
> That's why the MGSV QAR Dictionary Project is a project to name every file in MGSV, so that modders have a reference of known filenames to use, and a place to help out other modders by adding any others they find.
>
> 
>
> The project contains a dictionary.txt file for use with QAR file extractors such as MGSV QAR Tool and GzsTool, it also contains a complete list of hashes used by the game for reference.

I said before that I'd managed to name around 2000 files, but now looking at the stats it might be even more.. though there's still a large room for improvement 



You can find the project + dictionary at [https://github.com/emoose/MGSV-QAR-Dictionary-Project](https://github.com/emoose/MGSV-QAR-Dictionary-Project), any additions would be appreciated 

> Reply from Soulpatrol
>
> 
How can i extract and edit the Xbox360 Files ?

I made a fork of GzsTool to work with the consoles files (since the current extractors didn't seem to want to work for me properly :/), was going to clean it up and post on github soon but if you PM me I can send you the exe, doesn't let you edit files yet but you can extract 99% of them fine.
## Post #591
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-09-24T08:20:07+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Testing out replacing the Avatar creation hairstyles. I honestly think I'll wait until the Fox Model Studio releases to mess with the hair models more. To much mesh clipping with how it is now.
## Post #592
- Username: DUSToid1109
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sat Sep 12, 2015 6:09 pm
- Post datetime: 2015-09-24T10:36:54+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from emoose
>
> Since I haven't seen any others yet I've started the "MGSV QAR Dictionary Project" on github 

The QAR dictionary project is a project to name every file used in MGSV Ground Zeroes and The Phantom Pain.

Unfortunately for modders MGSV is hard to mod mostly because we don't know the filenames of everything used in the game, as the games archives use CityHash hashes to identify files.
This is fine for a game which knows what data it wants to use, but makes it hard for modders to find/categorize data used by the game without resorting to reverse engineering/bruteforcing, making a modders job a lot harder.

Eg. if the game wants the file "/Fox/Scripts/Gr/gr_init.lua" it would just hash the string "/Fox/Scripts/Gr/gr_init", then search inside its data archives for the hash of it (eg 0x3228caff179b0) to get the data for that file.
But if modders don't know the file is called "/Fox/Scripts/Gr/gr_init.lua" then it'll be a tough job for them to find it.

That's why the MGSV QAR Dictionary Project is a project to name every file in MGSV, so that modders have a reference of known filenames to use, and a place to help out other modders by adding any others they find.

The project contains a dictionary.txt file for use with QAR file extractors such as MGSV QAR Tool and GzsTool, it also contains a complete list of hashes used by the game for reference.


I said before that I'd managed to name around 2000 files, but now looking at the stats it might be even more.. though there's still a large room for improvement 



You can find the project + dictionary at https://github.com/emoose/MGSV-QAR-Dictionary-Project, any additions would be appreciated 
Soulpatrol wrote:
How can i extract and edit the Xbox360 Files ?


I made a fork of GzsTool to work with the consoles files (since the current extractors didn't seem to want to work for me properly :/), was going to clean it up and post on github soon but if you PM me I can send you the exe, doesn't let you edit files yet but you can extract 99% of them fine.

Hey, emoose
I was looking for but could not find.
tp_m_10160_03 (Ep. 51 convo)

It's chunk1.dat?
## Post #593
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-09-24T10:55:53+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from emoose
>
> Since I haven't seen any others yet I've started the "MGSV QAR Dictionary Project" on github

Wow, excellent work dude.
## Post #594
- Username: JRavens
- Rank: beginner
- Number of posts: 20
- Joined date: Tue Dec 23, 2014 5:17 am
- Post datetime: 2015-09-24T17:51:22+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from emoose
>
> Since I haven't seen any others yet I've started the "MGSV QAR Dictionary Project" on github
Thank you for this mate. Honestly. Contributions like this are so incredibly helpful to ALL modders so kudos to you.

PS - also it's nice to see some discussion besides model and texture changes. Would like to see us make more DATA discoveries in how we change the WAY the game is played and not just how it looks (with due respect to all who are working hard on graphics swaps and re textures and the like - absolutely no offense meant to anyone - all contributions welcome and enjoyed)
## Post #595
- Username: emoose
- Rank: beginner
- Number of posts: 26
- Joined date: Fri Sep 11, 2015 4:06 am
- Post datetime: 2015-09-24T18:25:11+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DUSToid1109
>
> 
Hey, emoose
I was looking for but could not find.
tp_m_10160_03 (Ep. 51 convo)

It's chunk1.dat?
Yep, it should be at chunk1\Assets\tpp\sound\external\tape\tp_m_10160_03.wem
## Post #596
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-09-24T19:29:24+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from JRavens
>
> emoose wrote:Since I haven't seen any others yet I've started the "MGSV QAR Dictionary Project" on github 
Thank you for this mate. Honestly. Contributions like this are so incredibly helpful to ALL modders so kudos to you.

PS - also it's nice to see some discussion besides model and texture changes. Would like to see us make more DATA discoveries in how we change the WAY the game is played and not just how it looks (with due respect to all who are working hard on graphics swaps and re textures and the like - absolutely no offense meant to anyone - all contributions welcome and enjoyed)

I agree with you though I do model swaps myself. The hardcore mod on the nexus has been far more enjoyable to me than any model swaps I've used so far. I'm looking forward to see how far people can take the changes, but unfortunately it's not my field.
## Post #597
- Username: frankcip
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Thu Sep 24, 2015 11:01 pm
- Post datetime: 2015-09-24T20:46:19+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Loomy
>
> For Corey & Others struggling with Quiets Textures

Quiet 3D Model & textures In 3dsmax/fbx/obj/marmoset.  Just 2 for now, and only using Diffuse, i can find the other textures, but no idea how they get applied (ie: spec/bump/glow/etc - if someone can give a hint, then can apply the rest.  Also looking to Rig, and struggling, if anyone can help out here, would be greatly appreciated. also, not found Qui hair/eyes/eyelash, so using chichi's for now.

I think ive found the xof suit, i need to check against the model, couldnt really tell if it was green b lack leather or what,
for the one guy tha tpmd about it, u welcome to check these so long, 
textures0/2ff8ff8ecd95f.dds
textures0/2a53e3fd943e3.dds

Finally found some of the Volgin textures, will work on that next, Skulls, some Snake variants, feel free to make any requests

Download Quiet Model/Texture pack here (WIP):-  http://www60.zippyshare.com/v/KAJIg7MO/file.html

I included marmoset toolbag scene file as reference to get exact result as below (not a render -PBR ftw!) u can download trial off their website.

Wow thanks for finding the models!
Hope we get the bikini only with no boots mod working omg this is awesome !!! Is there any progress on this?
## Post #598
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-09-24T22:13:39+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Where do I find most of the sound files and how do I unencrypt them? I'm looking to replace the "FIRE" from the rocket hand to "ROCKETU PUNCH".

Better question. Is there a way to quickly unpack every single FPK selected rather than doing it 1 at a time?
## Post #599
- Username: Highflex
- Rank: beginner
- Number of posts: 34
- Joined date: Wed Jul 23, 2014 12:41 am
- Post datetime: 2015-09-24T22:47:57+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> Better question. Is there a way to quickly unpack every single FPK selected rather than doing it 1 at a time?

Yes, use this tool [https://github.com/cra0kalo/FPKMerge](https://github.com/cra0kalo/FPKMerge)

compiled version here: [https://www.dropbox.com/s/ofz2heqllpi7s ... e.rar?dl=0](https://www.dropbox.com/s/ofz2heqllpi7s7x/fpkmerge.rar?dl=0)

Extract all or a single .dat file and then run the tool with the following command FPKMerge.exe Input Output

Input should be the folder of the extracted .dat file like chunk0

I might work on a additional tool that takes care of making sure everything is extracted and moved correctly
## Post #600
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-09-24T22:54:13+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Highflex
>
> XrayDoc wrote:Better question. Is there a way to quickly unpack every single FPK selected rather than doing it 1 at a time?

Yes, use this tool https://github.com/cra0kalo/FPKMerge

compiled version here: https://www.dropbox.com/s/ofz2heqllpi7s ... e.rar?dl=0

Extract all or a single .dat file and then run the tool with the following command FPKMerge.exe Input Output

Input should be the folder of the extracted .dat file like chunk0

I might work on a additional tool that takes care of making sure everything is extracted and moved correctly
Thank you based friend. Now I can just search in the master what I want to find.

> Reply from Highflex
>
> XrayDoc wrote:Better question. Is there a way to quickly unpack every single FPK selected rather than doing it 1 at a time?

Yes, use this tool https://github.com/cra0kalo/FPKMerge

compiled version here: https://www.dropbox.com/s/ofz2heqllpi7s ... e.rar?dl=0

Extract all or a single .dat file and then run the tool with the following command FPKMerge.exe Input Output

Input should be the folder of the extracted .dat file like chunk0

I might work on a additional tool that takes care of making sure everything is extracted and moved correctly
Hmm, it doesn't seem to work for me or I'm doing something wrong. When I double click open the exe and press one key it closes. When I try to open it through the cmd program after pressing 1 key it goes back to the base cmd. Am I doing something wrong here?
## Post #601
- Username: Highflex
- Rank: beginner
- Number of posts: 34
- Joined date: Wed Jul 23, 2014 12:41 am
- Post datetime: 2015-09-24T23:14:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> Highflex wrote:XrayDoc wrote:Better question. Is there a way to quickly unpack every single FPK selected rather than doing it 1 at a time?

Yes, use this tool https://github.com/cra0kalo/FPKMerge

compiled version here: https://www.dropbox.com/s/ofz2heqllpi7s ... e.rar?dl=0

Extract all or a single .dat file and then run the tool with the following command FPKMerge.exe Input Output

Input should be the folder of the extracted .dat file like chunk0

I might work on a additional tool that takes care of making sure everything is extracted and moved correctly
Hmm, it doesn't seem to work for me or I'm doing something wrong. When I double click open the exe and press one key it closes. When I try to open it through the cmd program after pressing 1 key it goes back to the base cmd. Am I doing something wrong here?

I would recommend you use a batch file 

just write inside FPKMerge.exe InputPath OutputPath and make sure its the right directory ( should be the root of files "chunk0" "data1")
## Post #602
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-09-24T23:25:07+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Highflex
>
> XrayDoc wrote:Highflex wrote:

Yes, use this tool https://github.com/cra0kalo/FPKMerge

compiled version here: https://www.dropbox.com/s/ofz2heqllpi7s ... e.rar?dl=0

Extract all or a single .dat file and then run the tool with the following command FPKMerge.exe Input Output

Input should be the folder of the extracted .dat file like chunk0

I might work on a additional tool that takes care of making sure everything is extracted and moved correctly
Hmm, it doesn't seem to work for me or I'm doing something wrong. When I double click open the exe and press one key it closes. When I try to open it through the cmd program after pressing 1 key it goes back to the base cmd. Am I doing something wrong here?

I would recommend you use a batch file 

just write inside FPKMerge.exe InputPath OutputPath and make sure its the right directory ( should be the root of files "chunk0" "data1")
So after putting it into the same file location (C:\Steam\steamapps\common\MGS_TPP\master) I made this .bat file.

```
C:\Steam\steamapps\common\MGS_TPP\master\chunk0
C:\Steam\steamapps\common\MGS_TPP\master\extractedchunk0
```


I dragged the .bat file onto the .exe and I still get no result. Sorry for the bother, I'm not a huge coder though I feel as though I should know what I'm doing.
## Post #603
- Username: slowbeatle
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Tue Sep 08, 2015 8:30 am
- Post datetime: 2015-09-24T23:25:25+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

can someone please provide me with a ocelot over quiet mod, or atleast tell me the location of the files.
## Post #604
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2015-09-24T23:28:15+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> 

I still get no result. Sorry for the bother, I'm not a huge coder though I feel as though I should know what I'm doing.

? what do you mean it doesn't work. The tool expects 2 args like in the example i gave input and out so yeah that looks right

FPKMerge.exe C:\Steam\steamapps\common\MGS_TPP\master\chunk0 C:\Steam\steamapps\common\MGS_TPP\master\extractedchunk0

-edit-

I figured out texturelinks between mdls kindof so thats good news
## Post #605
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-09-24T23:29:55+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from cra0
>
> XrayDoc wrote:

I still get no result. Sorry for the bother, I'm not a huge coder though I feel as though I should know what I'm doing.

? what do you mean it doesn't work. The tool expects 2 args like in the example i gave input and out so yeah that looks right

FPKMerge.exe C:\Steam\steamapps\common\MGS_TPP\master\chunk0 C:\Steam\steamapps\common\MGS_TPP\master\extractedchunk0
I'm using the compiled version ([https://www.dropbox.com/s/ofz2heqllpi7s ... e.rar?dl=0](https://www.dropbox.com/s/ofz2heqllpi7s7x/fpkmerge.rar?dl=0)), not the original so I don't know it that has to do with anything. When I drag the .bat onto it it just pops up the example screen.

> Reply from XrayDoc
>
> cra0 wrote:XrayDoc wrote:

I still get no result. Sorry for the bother, I'm not a huge coder though I feel as though I should know what I'm doing.

? what do you mean it doesn't work. The tool expects 2 args like in the example i gave input and out so yeah that looks right

FPKMerge.exe C:\Steam\steamapps\common\MGS_TPP\master\chunk0 C:\Steam\steamapps\common\MGS_TPP\master\extractedchunk0
I'm using the compiled version (https://www.dropbox.com/s/ofz2heqllpi7s ... e.rar?dl=0), not the original so I don't know it that has to do with anything. When I drag the .bat onto it it just pops up the example screen.
I dragged the exe onto the bat, and it seems to have moved all the folders inside chunk0\Assets into the extracted folder, though none of the fpk are extracted.

Edit: Wow all I needed to do was just click the bat. I really am dense. Still, it doesn't extract any of the FPKs.
## Post #606
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-09-24T23:48:26+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Does anyone know how to extract textures? I don't know which tool is up to date to extract textures from Phantom Pain.
## Post #607
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-09-24T23:49:06+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> Does anyone know how to extract textures? I don't know which tool is up to date to extract textures from Phantom Pain.
I believe that is the FTEX tool. I don't have the latest version though.
## Post #608
- Username: Highflex
- Rank: beginner
- Number of posts: 34
- Joined date: Wed Jul 23, 2014 12:41 am
- Post datetime: 2015-09-24T23:59:06+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

XrayDoc to extract all fpks at once use GzsTool.exe and give it as input the folder with all fpks
## Post #609
- Username: slowbeatle
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Tue Sep 08, 2015 8:30 am
- Post datetime: 2015-09-25T00:06:24+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

can someone please provide me with a ocelot over quiet mod, or atleast tell me the location of the files. please
## Post #610
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-09-25T00:06:51+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Highflex
>
> XrayDoc to extract all fpks at once use GzsTool.exe and give it as input the folder with all fpks
That works but it only does it to the folder it is in so my Assets folder in chunk0 gets erased. Also, it extracts all fpkds which isn't bad but it's annoying to have so many files.

Edit: I just couldn't find the Assets folder among the many folders.
## Post #611
- Username: KitGaming512
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Fri Sep 25, 2015 8:17 am
- Post datetime: 2015-09-25T00:24:39+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Does anyone know if there is a plugin on Maya for opening and editing .fpk files. Or if there is any way to do it?
## Post #612
- Username: DarknessValtier
- Rank: beginner
- Number of posts: 35
- Joined date: Sat Feb 07, 2009 11:47 pm
- Post datetime: 2015-09-25T01:48:39+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from emoose
>
> I said before that I'd managed to name around 2000 files, but now looking at the stats it might be even more.. though there's still a large room for improvement 



You can find the project + dictionary at https://github.com/emoose/MGSV-QAR-Dictionary-Project, any additions would be appreciated

very very very thank's dude, this help me fix some isues on my Quiet mod OverBoss
## Post #613
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-09-25T02:15:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

are model replacements even possible without hex editing? anyone want to post a basic guide? my game keeps freezing when i attempt to do swaps. i figure it must be some code for the bone or model name inside the fmdl frd or fncp files
## Post #614
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-09-25T02:20:36+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> HeartlessSeph wrote:Does anyone know how to extract textures? I don't know which tool is up to date to extract textures from Phantom Pain.
I believe that is the FTEX tool. I don't have the latest version though.

I see what my problem was, I was only inputting the the ftex files and not the ftexs files. Thanks.

> Reply from odrin
>
> are model replacements even possible without hex editing? anyone want to post a basic guide? my game keeps freezing when i attempt to do swaps. i figure it must be some code for the bone or model name inside the fmdl frd or fncp files

Are you trying to swap without using the FPK tool? You need the FPK tool to do swaps, you can't just swap FPK files in the game due to the way the files are read.
## Post #615
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2015-09-25T03:09:28+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from KitGaming512
>
> Does anyone know if there is a plugin on Maya for opening and editing .fpk files. Or if there is any way to do it?
Go back and resd through the thread please. I'm working on a tool which will allow the import and export of model files. For your information fpk is an archive package. Please read before blindly posting
## Post #616
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-09-25T04:20:55+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> odrin wrote:are model replacements even possible without hex editing? anyone want to post a basic guide? my game keeps freezing when i attempt to do swaps. i figure it must be some code for the bone or model name inside the fmdl frd or fncp files

Are you trying to swap without using the FPK tool? You need the FPK tool to do swaps, you can't just swap FPK files in the game due to the way the files are read.

i do extract the models using fpk tool:



in the above, i want to replace the snake fmdl with the dd soldier fmdl. so i'll delete the snake file and rename the dd soldier file. but it seems the dd soldier file is linked to something else?

or maybe i'm looking in the wrong place. do i need to delete the motion folder for the lipsync or something?

edit: i opened up one of those replacements for the sneaking suits pparts_venom. this one is the kaz one, and unlike the original, it has all these files. the one for msf old uniform also looks like this:



those are renamed files right? where do you find them? i find they contain references to kaz, not snake, using notepad++
## Post #617
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-09-25T04:53:06+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from odrin
>
> HeartlessSeph wrote:odrin wrote:are model replacements even possible without hex editing? anyone want to post a basic guide? my game keeps freezing when i attempt to do swaps. i figure it must be some code for the bone or model name inside the fmdl frd or fncp files

Are you trying to swap without using the FPK tool? You need the FPK tool to do swaps, you can't just swap FPK files in the game due to the way the files are read.

i do extract the models using fpk tool:



in the above, i want to replace the snake fmdl with the dd soldier fmdl. so i'll delete the snake file and rename the dd soldier file. but it seems the dd soldier file is linked to something else?

or maybe i'm looking in the wrong place. do i need to delete the motion folder for the lipsync or something?

edit: i opened up one of those replacements for the sneaking suits pparts_venom. this one is the kaz one, and unlike the original, it has all these files. the one for msf old uniform also looks like this:



those are renamed files right? where do you find them? i find they contain references to kaz, not snake, using notepad++

You can PM me about those files if you want to learn more about it. But anyway I want you to test something before doing anything else. Do you have a hex editor? If so, open up a FPK in the hex editor and see what the first line says (it should say foxfpk.win). Now Unpack and repack it without doing anything. If it says something different you may need to get a more up to date FPK tool.
## Post #618
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-09-25T06:17:51+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

it does turn into foxfpk.ste

edit:
yep, it was the tool that was outdated, thanks a lot for solving the issue.

now i just see some issue with eyes and the hip gun:


edit: hip gun solved. strange...i deleted the 300 asroot thing, but it didn't work. i had to find another working file then hex edit my fmdl name into that one.
## Post #619
- Username: Soulpatrol
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Tue Sep 22, 2015 9:02 pm
- Post datetime: 2015-09-25T09:48:24+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I found out what my Problem is:
MGSV_QAR_Tool dont decrypt the Files from the 1.9gb File "77d720e8d8714bc.dat" as i can see in the .Inf File:

> b572d2e4e6447e0c|77d720e8d8714bc\2d2e4e6447e0c.2.ftexs key=0 version=0
>
> b57102a79e2aeb48|77d720e8d8714bc\102a79e2aeb48.2.ftexs key=0 version=0
>
> b571f4217ff0f3aa|77d720e8d8714bc\1f4217ff0f3aa.2.ftexs key=0 version=0
>
> b572e6b7c5aa7cc8|77d720e8d8714bc\2e6b7c5aa7cc8.2.ftexs key=0 version=0
>
> b572349d14fa9edc|77d720e8d8714bc\2349d14fa9edc.2.ftexs key=0 version=0

With Files "77e669ec815e58f.dat" the same, only the File containing the .lua Files work on decryption.
So thats why the Ftex Tools crashed...

> Reply from emoose
>
> 
I made a fork of GzsTool to work with the consoles files (since the current extractors didn't seem to want to work for me properly :/), was going to clean it up and post on github soon but if you PM me I can send you the exe, doesn't let you edit files yet but you can extract 99% of them fine.

The GzsTool crash alltime on the Xbox360 Files.
I just downloaded a Mod for the PC to test the Tool....with the PC Files it worked.
So on my Files the FTEX Tools crashed, since they are crypted 

Seams the original Coders are not reading here, maybe i can contact them on GitHub.

So i think i better wait for your Fork, thanks for your work
## Post #620
- Username: Sycophant
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Fri Sep 25, 2015 5:54 pm
- Post datetime: 2015-09-25T09:59:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I figure this will be the best place to ask - do any of you have the original version of plparts_ddf_venom.fpk from chunk0.dat? Would be much appreciated, since I lost my backups.
## Post #621
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-09-25T11:18:49+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sycophant
>
> I figure this will be the best place to ask - do any of you have the original version of plparts_ddf_venom.fpk from chunk0.dat? Would be much appreciated, since I lost my backups.

Here you go [https://www.dropbox.com/s/hzyuv7nq530hc ... m.fpk?dl=0](https://www.dropbox.com/s/hzyuv7nq530hcag/plparts_ddf_venom.fpk?dl=0)
## Post #622
- Username: Sycophant
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Fri Sep 25, 2015 5:54 pm
- Post datetime: 2015-09-25T13:21:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> Sycophant wrote:I figure this will be the best place to ask - do any of you have the original version of plparts_ddf_venom.fpk from chunk0.dat? Would be much appreciated, since I lost my backups.

Here you go https://www.dropbox.com/s/hzyuv7nq530hc ... m.fpk?dl=0

Cheers! Load off my back, that.
## Post #623
- Username: Loomy
- Rank: advanced
- Number of posts: 41
- Joined date: Sat Sep 12, 2015 9:16 am
- Post datetime: 2015-09-25T17:34:47+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from frankcip
>
> Loomy wrote:For Corey & Others struggling with Quiets Textures

Quiet 3D Model & textures In 3dsmax/fbx/obj/marmoset.  Just 2 for now, and only using Diffuse, i can find the other textures, but no idea how they get applied (ie: spec/bump/glow/etc - if someone can give a hint, then can apply the rest.  Also looking to Rig, and struggling, if anyone can help out here, would be greatly appreciated. also, not found Qui hair/eyes/eyelash, so using chichi's for now.

I think ive found the xof suit, i need to check against the model, couldnt really tell if it was green b lack leather or what,
for the one guy tha tpmd about it, u welcome to check these so long, 
textures0/2ff8ff8ecd95f.dds
textures0/2a53e3fd943e3.dds

Finally found some of the Volgin textures, will work on that next, Skulls, some Snake variants, feel free to make any requests

Download Quiet Model/Texture pack here (WIP):-  http://www60.zippyshare.com/v/KAJIg7MO/file.html

I included marmoset toolbag scene file as reference to get exact result as below (not a render -PBR ftw!) u can download trial off their website.


Wow thanks for finding the models!
Hope we get the bikini only with no boots mod working omg this is awesome !!! Is there any progress on this?

Im not 100% sure mate on the modding side, im mostly fosed on actual models, retopo & rigging.  what i can do is point out the actual model/texs for that model.  though as i recall by default, it contains the leggings and gear/boots, layered on top, and would need to find a way to hide/disable them, or find a way to edit the fmdl.
## Post #624
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-09-25T17:43:02+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

yeah about that. people are talking about zeroing model parts by hex editing the fmdl files. is there some decryption method? it's just gibberish for me.

if we can just find the lua file desponsible for model parts and things like that
## Post #625
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-09-25T19:28:12+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Anyone know how to unpack the cpk files in PES 2016? Can you just edit the QAR tool to do that, I don't know coding too well. I would love to put Big Boss into soccer/football matches or turn DD into players.

This has been my best idea yet
## Post #626
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-09-25T22:51:04+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

anyone find location of chikcenhat? might be worth replacing with soviet paratrooper cap
## Post #627
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-09-25T23:09:12+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> This has been my best idea yet
*large img*
Where is that DDog model? (The original one, not the puppy model)
## Post #628
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-09-26T01:02:26+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> XrayDoc wrote:This has been my best idea yet
*large img*
Where is that DDog model? (The original one, not the puppy model)
I don't know which one changed it so I changed all of them
## Post #629
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-09-26T01:13:18+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from odrin
>
> yeah about that. people are talking about zeroing model parts by hex editing the fmdl files. is there some decryption method? it's just gibberish for me.

if we can just find the lua file desponsible for model parts and things like that

I'll try to do it if someone tells me where the model is located.
## Post #630
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-09-26T01:53:04+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

all the character models are basically inside chunk0, missions2>common folder. you could try your hand at some of those soviet or motherbase guys. the old motherbase soldiers are in "mis_com_dd_soldier_gz.fpk"
## Post #631
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-09-26T02:15:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from odrin
>
> all the character models are basically inside chunk0, missions2>common folder. you could try your hand at some of those soviet or motherbase guys. the old motherbase soldiers are in "mis_com_dd_soldier_gz.fpk"

I know about that, but not all models are inside there. Quiet from the rain cutscene isn't in there either.
## Post #632
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-09-26T02:25:56+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

That's why I asked to unpack all fpks. So I could just search in master for the folders of a character I am looking for.
## Post #633
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-09-26T02:41:03+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> odrin wrote:all the character models are basically inside chunk0, missions2>common folder. you could try your hand at some of those soviet or motherbase guys. the old motherbase soldiers are in "mis_com_dd_soldier_gz.fpk"

I know about that, but not all models are inside there. Quiet from the rain cutscene isn't in there either.

i think the rain scene quiet is just regular quiet with model parts removed. you have to open up fmdl with hex edit, then make sense of all that scrambled stuff and zero out the parts you don't want, like the glove, boots, stockings, etc

i'm almost certain this is how guys like shigu are doing it. the problem is, how are they descrambling the fmdl in hex?
## Post #634
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-09-26T03:36:40+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from odrin
>
> HeartlessSeph wrote:odrin wrote:all the character models are basically inside chunk0, missions2>common folder. you could try your hand at some of those soviet or motherbase guys. the old motherbase soldiers are in "mis_com_dd_soldier_gz.fpk"

I know about that, but not all models are inside there. Quiet from the rain cutscene isn't in there either.

i think the rain scene quiet is just regular quiet with model parts removed. you have to open up fmdl with hex edit, then make sense of all that scrambled stuff and zero out the parts you don't want, like the glove, boots, stockings, etc

i'm almost certain this is how guys like shigu are doing it. the problem is, how are they descrambling the fmdl in hex?

It's not descrambling, I know how to remove meshes in fmdl files though hex. Hell, that's how I did my Volgin mod and some personal mods I have. I just thought there was a specific model that was used in the rain cutscene. I'll go check out if I can remove the stockings and boots off the normal Quiet model.

EDIT: Nope, her stockings are a part of her normal model. They must have added a new mesh specifically for that cutscene like they did with Volgin. I remember Shigu saying as much earlier. As a matter of fact, I think he also said where the model is. I'll check right now.
## Post #635
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-09-26T04:46:26+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hi steam forums
## Post #636
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-09-26T04:49:23+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

is there a method to be used for knowing where the mesh part begins and where it's something else? it's all continuous lines of code using characters that are just symbols. is it through looking at the numbers on the left?

edit, studying the quiet model, it looks like the leggings might be a texture swap?
## Post #637
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-09-26T05:28:59+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Uploaded the Puppy DD model swap for everyone to use. 

[http://www.nexusmods.com/phantompain/mods/52/](http://www.nexusmods.com/phantompain/mods/52/)?
## Post #638
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2015-09-26T07:25:15+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Texture links have been figured out. I will make a tool to use @Sergeanur's outputted texture0 to 4 inis to generate a masterlist which the FMDL tool will use to retrieve textures for the given input model.
## Post #639
- Username: nudifyher
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Thu Sep 10, 2015 11:50 pm
- Post datetime: 2015-09-26T07:39:31+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

So I see some progress
What I wish to see now is Quiet without her stockings all the time
More importantly will I be able now to edit Quiet's skin texture and then repack it into the game? I am attempting to mod something pretty funny/gross to some.
## Post #640
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2015-09-26T13:24:50+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Just wondering

Is there any way to add facial rigging to Raiden?
## Post #641
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-09-26T13:36:14+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from cra0
>
> Texture links have been figured out. I will make a tool to use @Sergeanur's outputted texture0 to 4 inis to generate a masterlist which the FMDL tool will use to retrieve textures for the given input model.

Am I right to assume that this will allow redirecting a texture from a model to another texture? I currently overwrote Bandana Big Boss to have his ground zeroes textures but it would be more convenient to simply do this within the model than through the texture0 replacing.
## Post #642
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2015-09-26T13:46:36+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> cra0 wrote:Texture links have been figured out. I will make a tool to use @Sergeanur's outputted texture0 to 4 inis to generate a masterlist which the FMDL tool will use to retrieve textures for the given input model.       


Am I right to assume that this will allow redirecting a texture from a model to another texture? I currently overwrote Bandana Big Boss to have his ground zeroes textures but it would be more convenient to simply do this within the model than through the texture0 replacing.

Not it just means exporting a model will export the model with the proper texture names for each piece like head/body/hands. I also made the tool grab the textures for you out of the right folder.
So you don't have to go looking for each texture by hand 1 by 1 it's annoying
## Post #643
- Username: KingKilluaX3
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Mon Aug 31, 2015 9:43 am
- Post datetime: 2015-09-26T14:17:58+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Any reason why fpk's come out as .fv2 files? I'm trying to get the fmdl's
## Post #644
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-09-26T14:40:42+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from cra0
>
> HeartlessSeph wrote:cra0 wrote:Texture links have been figured out. I will make a tool to use @Sergeanur's outputted texture0 to 4 inis to generate a masterlist which the FMDL tool will use to retrieve textures for the given input model.       


Am I right to assume that this will allow redirecting a texture from a model to another texture? I currently overwrote Bandana Big Boss to have his ground zeroes textures but it would be more convenient to simply do this within the model than through the texture0 replacing.

Not it just means exporting a model will export the model with the proper texture names for each piece like head/body/hands. I also made the tool grab the textures for you out of the right folder.
So you don't have to go looking for each texture by hand 1 by 1 it's annoying
You're pretty good
## Post #645
- Username: Alo81
- Rank: n00b
- Number of posts: 14
- Joined date: Fri Sep 04, 2015 6:57 am
- Post datetime: 2015-09-26T15:43:22+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Has anyone got the PS4 and/or the Xbox One files on hand?  

I was hoping to get a peek at the 

\Fox\Scripts\Gr\gr_init* files for both games.  It would be interesting to offer a "PS4 and Xbox One" equivalent settings preset for people to compare against.
## Post #646
- Username: Eredus
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Mon Jun 08, 2015 7:39 pm
- Post datetime: 2015-09-26T15:57:32+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from cra0
>
> HeartlessSeph wrote:cra0 wrote:Texture links have been figured out. I will make a tool to use @Sergeanur's outputted texture0 to 4 inis to generate a masterlist which the FMDL tool will use to retrieve textures for the given input model.       


Am I right to assume that this will allow redirecting a texture from a model to another texture? I currently overwrote Bandana Big Boss to have his ground zeroes textures but it would be more convenient to simply do this within the model than through the texture0 replacing.

Not it just means exporting a model will export the model with the proper texture names for each piece like head/body/hands. I also made the tool grab the textures for you out of the right folder.
So you don't have to go looking for each texture by hand 1 by 1 it's annoying

Looks pretty far along, any estimate when it will be released?
## Post #647
- Username: emoose
- Rank: beginner
- Number of posts: 26
- Joined date: Fri Sep 11, 2015 4:06 am
- Post datetime: 2015-09-26T16:14:35+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Soulpatrol
>
> I found out what my Problem is:
MGSV_QAR_Tool dont decrypt the Files from the 1.9gb File "77d720e8d8714bc.dat" as i can see in the .Inf File:
b572d2e4e6447e0c|77d720e8d8714bc\2d2e4e6447e0c.2.ftexs key=0 version=0
b57102a79e2aeb48|77d720e8d8714bc\102a79e2aeb48.2.ftexs key=0 version=0
b571f4217ff0f3aa|77d720e8d8714bc\1f4217ff0f3aa.2.ftexs key=0 version=0
b572e6b7c5aa7cc8|77d720e8d8714bc\2e6b7c5aa7cc8.2.ftexs key=0 version=0
b572349d14fa9edc|77d720e8d8714bc\2349d14fa9edc.2.ftexs key=0 version=0

With Files "77e669ec815e58f.dat" the same, only the File containing the .lua Files work on decryption.
So thats why the Ftex Tools crashed...
emoose wrote:
I made a fork of GzsTool to work with the consoles files (since the current extractors didn't seem to want to work for me properly :/), was going to clean it up and post on github soon but if you PM me I can send you the exe, doesn't let you edit files yet but you can extract 99% of them fine.

The GzsTool crash alltime on the Xbox360 Files.
I just downloaded a Mod for the PC to test the Tool....with the PC Files it worked.
So on my Files the FTEX Tools crashed, since they are crypted 

Seams the original Coders are not reading here, maybe i can contact them on GitHub.

So i think i better wait for your Fork, thanks for your work

Just pushed it up to github, [https://github.com/emoose/GzsTool/commi ... 364735cbbc](https://github.com/emoose/GzsTool/commit/f884ec6b6bea6d0e66e07961807d9e364735cbbc)

> Add support for console/legacy QAR extraction and console FPK extraction/creation
>
> 
>
> Changes:
>
> - Support legacy QAR formats (version 1 = GZ PC, version 2 = TPP PS3/360, version 3 = TPP PC)
>
> - Add X360Reader / X360Writer classes for big endian FPK support
>
> - Edit FPK classes to use these reader/writers instead of passing streams around
>
> - Detect endianness based on the platform of the FPK and read/write using that endianness automatically
>
> 
>
> Console QAR and FPK files can be extracted perfectly (maybe 1% of files extract wrong though, unsure why..)
>
> Creating console FPK files also seems to work fine, haven't worked on console/legacy QAR creation yet though.

You can download a compiled version from [https://github.com/emoose/GzsTool/relea ... AndConsole](https://github.com/emoose/GzsTool/releases/tag/v0.4.1.LegacyAndConsole)

Let me know how it goes 

EDIT: Also, the Ftex tools might be crashing because a lot of the console data is in big endian format, and most tools are only written for little endian.

As long as the data format is known it's not hard to swap between them though, eg for developers the X360Reader/X360Writer classes I included in this GzsTool let you switch between them while reading values, which made adding console FPK support to GzsTool pretty easy.
If any devs see this you should consider adding support for console files
## Post #648
- Username: Soulpatrol
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Tue Sep 22, 2015 9:02 pm
- Post datetime: 2015-09-26T17:08:00+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from emoose
>
> Just pushed it up to github, https://github.com/emoose/GzsTool/commi ... 364735cbbc

Add support for console/legacy QAR extraction and console FPK extraction/creation

Changes:
- Support legacy QAR formats (version 1 = GZ PC, version 2 = TPP PS3/360, version 3 = TPP PC)
- Add X360Reader / X360Writer classes for big endian FPK support
- Edit FPK classes to use these reader/writers instead of passing streams around
- Detect endianness based on the platform of the FPK and read/write using that endianness automatically

Console QAR and FPK files can be extracted perfectly (maybe 1% of files extract wrong though, unsure why..)
Creating console FPK files also seems to work fine, haven't worked on console/legacy QAR creation yet though.


You can download a compiled version from https://github.com/emoose/GzsTool/relea ... AndConsole

Let me know how it goes 

EDIT: Also, the Ftex tools might be crashing because a lot of the console data is in big endian format, and most tools are only written for little endian.

As long as the data format is known it's not hard to swap between them though, eg for developers the X360Reader/X360Writer classes I included in this GzsTool let you switch between them while reading values, which made adding console FPK support to GzsTool pretty easy.
If any devs see this you should consider adding support for console files

Thanks a lot for your work  
Your Tool worked now fine for me, no crashing and extracted all .dat and .fpk Files.

The only Problem i see is that the .ftex Files seams crypted to me.
Same Problem as with the MGSV_QAR_Tool, no CryptKey inside the xml and the Header of the .ftex Files are crypted.
For the lua Script's all worked fine, theres a Key inside the xml and all are readable.

Maybe i missunderstand something since im new to this and see here others showing the Textures.
So do i need more Steps to convert the Textures to .dds as extracting the .dat File and use FtexTool or FtexUnpacker ?
(i copy the needed .ftexs Files too before i try to use the .ftex on a Tool)

Heres a Screen of a Ftex Header:


Anyway many thanks and im sure other Coders are happy about your research and sharing
## Post #649
- Username: frankcip
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Thu Sep 24, 2015 11:01 pm
- Post datetime: 2015-09-26T17:08:25+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nudifyher
>
> So I see some progress
What I wish to see now is Quiet without her stockings all the time
More importantly will I be able now to edit Quiet's skin texture and then repack it into the game? I am attempting to mod something pretty funny/gross to some.
I want this too! Her without her stockings and no boots plus a playable version also. Daaamn I hope someone does this.
## Post #650
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-09-26T17:20:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

you want to play as a naked female? cool story bro
## Post #651
- Username: emoose
- Rank: beginner
- Number of posts: 26
- Joined date: Fri Sep 11, 2015 4:06 am
- Post datetime: 2015-09-26T18:23:24+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Soulpatrol
>
> 
The only Problem i see is that the .ftex Files seams crypted to me.
Same Problem as with the MGSV_QAR_Tool, no CryptKey inside the xml and the Header of the .ftex Files are crypted.
For the lua Script's all worked fine, theres a Key inside the xml and all are readable.

Maybe i missunderstand something since im new to this and see here others showing the Textures.
So do i need more Steps to convert the Textures to .dds as extracting the .dat File and use FtexTool or FtexUnpacker ?
(i copy the needed .ftexs Files too before i try to use the .ftex on a Tool)

Heres a Screen of a Ftex Header:


Anyway many thanks and im sure other Coders are happy about your research and sharing

I don't think it's crypted really, looks like it's the endian issue to me, here is an example of a PC .ftex:

You can see that this has FTEX at the start instead of XETF which consoles use, this is because of the [endianness](https://en.wikipedia.org/wiki/Endianness) that PS3/360 use, since it's a different endian byte-ordering PCs programs would read values in the file in reverse (eg. reading 0x01000000 instead of 0x1, or XETF instead of FTEX), which would probably cause crashes like what you've had.

I'll try taking a look into FtexTool for you now, hopefully shouldn't be too hard to make it endian-aware.

Edit: seem to have FtexTool converting ftex -> dds and vice versa fine for PS3 textures, but 360 textures seem corrupted, maybe some sort of swizzling? Not sure how to get around that..

Edit2: Alright, looks like deswizzling is working fine now, every 360 texture I tested extracted fine anyway.
Haven't worked on re-swizzling them yet though so you won't be able to create/edit 360 textures yet, only extract them.

Download at [https://github.com/emoose/FtexTool/rele ... ianSupport](https://github.com/emoose/FtexTool/releases/tag/v0.3.0.BigEndianSupport)

> Add big endian FTEX support, add deswizzle option (-sw)
>
> 
>
> New switches:
>
> - -sw / -swizzle = deswizzle (and eventually reswizzle) the texture
>
> - -be / -bigendian = create an FTEX file in big endian
>
> 
>
> PS3 FTEX's can be converted to and from .dds fine (use the -be / -bigendian option when converting .dds back to .ftex though!)
>
> 360 FTEXs should extract fine if you use the -sw / -swizzle switch when converting .ftex to .dds, luminance hasn't had deswizzling added though so that might not extract properly
>
> 
>
> Note that currently you won't be able to convert .dds files back into 360 FTEX, until reswizzling is added in.

So to convert PS3 FTEX to DDS you'd just run FtexTool like normal (ftextool blahblah.ftex), but to convert the DDS back into FTEX you have to use the -be switch to create a bigendian FTEX (ftextool -be blahblah.dds)
To convert 360 FTEX to DDS you need to add the -sw switch to deswizzle the texture first (ftextool -sw blahblah.ftex), like said above you can't convert dds back into 360 FTEX yet, but hopefully soon. (when it's possible you would have to run "ftextool -be -sw blahblah.dds", to create a big-endian swizzled FTEX)
## Post #652
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-09-26T20:17:22+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Anyone remember that Sahelanthropus bird mod video I posted long ago? Now you can see it for yourselves.

[http://www.nexusmods.com/phantompain/mods/54/](http://www.nexusmods.com/phantompain/mods/54/)?

Hey guys I just uploaded a model swap mod for Snake.

Does anyone who did the other model swaps on nexus know how to fix the primaries stuck inside the torso and fix the first person for the binoculars?
## Post #653
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-09-27T05:11:35+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> 

I know how to remove meshes in fmdl files though hex.

is it an esoteric or exceedingly difficult process? how come people avoid talking about it?
## Post #654
- Username: Quiet
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Sun Sep 27, 2015 7:48 pm
- Post datetime: 2015-09-27T12:04:00+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DarknessValtier
>
> 

https://www.youtube.com/watch?v=XOdD9D3zQ5c

Quiet Default Playable 0.9
--------------------------------
This version of Quiet works perfect using the original bones of her.
First Person Fixed
Facial expression fixed
Bra simulation fixed
Hair simulation fixed
Breast bouncy fixed
Dirty and burned effects fixed
---------------------------------
"This is a version 0.9 because i trying to remove the Snake's arm
==================
Download
http://www.mediafire.com/download/m9leg ... le+0.9.rar

For anyone who wants to get this mod to work use the dictionary from.
[http://www.nexusmods.com/phantompain/mods/1/](http://www.nexusmods.com/phantompain/mods/1/)?
I use this mod for the cut scenes. Leave Snake in default costume with no scarf.
I use this mod to play as Quiet to get the female voice in gameplay.
Select a female soldier and use Sneaking Suit with headgear.
[http://www.nexusmods.com/phantompain/mods/6/](http://www.nexusmods.com/phantompain/mods/6/)?
Both mods work together.
## Post #655
- Username: emoose
- Rank: beginner
- Number of posts: 26
- Joined date: Fri Sep 11, 2015 4:06 am
- Post datetime: 2015-09-27T16:57:48+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

[MGSV QAR Dictionary Project](https://github.com/emoose/MGSV-QAR-Dictionary-Project) has been updated, adding an extra ~3000 hashes, bringing the total up to 15091 filenames 

I'm hoping more people can test out my [console-enabled version of FtexTool](https://github.com/emoose/FtexTool) too, pretty sure the x360 deswizzle algo is correct for each pixel format, but I haven't really tested it extensively.
## Post #656
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-09-27T18:33:50+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Nexus mods comments:
"Can you do this literally impossible mod?"
"Can you tell me how to mess with files I have no idea how to even use the QAR tool."
"I'm going to do this mod but I need someone to tell me how to exactly do this mod."



Love you guys but if you don't know what you're doing please stop. ;^)
## Post #657
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-09-27T20:10:40+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from emoose
>
> MGSV QAR Dictionary Project has been updated, adding an extra ~3000 hashes, bringing the total up to 15091 filenames 

I'm hoping more people can test out my console-enabled version of FtexTool too, pretty sure the x360 deswizzle algo is correct for each pixel format, but I haven't really tested it extensively.

thanks for this. it helped me a lot in regards to model replacement. do you think all the lua files have been accounted for in the game? there are some issues with the models that i think is most optimally solved using lua. right now it seems fmdl hex editing is a dead end, not efficient and requires too much from the end user.
## Post #658
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-09-27T20:55:40+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from odrin
>
> HeartlessSeph wrote:

I know how to remove meshes in fmdl files though hex.

is it an esoteric or exceedingly difficult process? how come people avoid talking about it?

I don't like avoiding discussing it, I even got a little upset when people avoided it before doing it myself too. It's just a bit difficult to explain, but not actually difficult to perform. Best I can tell you is that the mesh data ends at the end of an fmdl file, it should make it a bit easier to do honestly.

Also, I tried getting the Quiet thing to work, the problem with it is that apparently her legs are invisible in gameplay despite the mesh being present. This is probably a texture issue, like I said, her legs are present and I removed anything that didn't need to be there but her legs still show up as invisible in-game.

> Reply from XrayDoc
>
> Nexus mods comments:
"Can you do this literally impossible mod?"
"Can you tell me how to mess with files I have no idea how to even use the QAR tool."
"I'm going to do this mod but I need someone to tell me how to exactly do this mod."



Love you guys but if you don't know what you're doing please stop. ;^)

Haha, is this about them asking to play as Sahelanthropus?
## Post #659
- Username: emoose
- Rank: beginner
- Number of posts: 26
- Joined date: Fri Sep 11, 2015 4:06 am
- Post datetime: 2015-09-27T21:20:41+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from odrin
>
> emoose wrote:MGSV QAR Dictionary Project has been updated, adding an extra ~3000 hashes, bringing the total up to 15091 filenames 

I'm hoping more people can test out my console-enabled version of FtexTool too, pretty sure the x360 deswizzle algo is correct for each pixel format, but I haven't really tested it extensively.

thanks for this. it helped me a lot in regards to model replacement. do you think all the lua files have been accounted for in the game? there are some issues with the models that i think is most optimally solved using lua. right now it seems fmdl hex editing is a dead end, not efficient and requires too much from the end user.
All the lua files in PC qars should be accounted for, but there might be some in fpk files that need a dictionary to look them up, not sure if TPP needs that though since only a few files in GZ did afaik.
There's a few MGO luas in the console qars that aren't named too, but it's doubtful anyone would want to mod MGO anyway.

cra0kalo is making a tool to view fmdls, should hopefully be possible to edit them with it too instead of needing to hex edit.
## Post #660
- Username: frankcip
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Thu Sep 24, 2015 11:01 pm
- Post datetime: 2015-09-27T21:24:12+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> odrin wrote:HeartlessSeph wrote:

I know how to remove meshes in fmdl files though hex.

is it an esoteric or exceedingly difficult process? how come people avoid talking about it?

I don't like avoiding discussing it, I even got a little upset when people avoided it before doing it myself too. It's just a bit difficult to explain, but not actually difficult to perform. Best I can tell you is that the mesh data ends at the end of an fmdl file, it should make it a bit easier to do honestly.

Also, I tried getting the Quiet thing to work, the problem with it is that apparently her legs are invisible in gameplay despite the mesh being present. This is probably a texture issue, like I said, her legs are present and I removed anything that didn't need to be there but her legs still show up as invisible in-game.

I know there is another model of her, the Mother Base Quiet (the one in the cell), mabye that model has what we need to get rid of the boots, stockings, and mabye those harness?
## Post #661
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-09-27T21:29:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from frankcip
>
> HeartlessSeph wrote:odrin wrote:
is it an esoteric or exceedingly difficult process? how come people avoid talking about it?

I don't like avoiding discussing it, I even got a little upset when people avoided it before doing it myself too. It's just a bit difficult to explain, but not actually difficult to perform. Best I can tell you is that the mesh data ends at the end of an fmdl file, it should make it a bit easier to do honestly.

Also, I tried getting the Quiet thing to work, the problem with it is that apparently her legs are invisible in gameplay despite the mesh being present. This is probably a texture issue, like I said, her legs are present and I removed anything that didn't need to be there but her legs still show up as invisible in-game.


I know there is another model of her, the Mother Base Quiet (the one in the cell), mabye that model has what we need to get rid of the boots, stockings, and mabye those harness?

I should be able to get rid of the harness unless they built the model so that anything behind the harness is simply not there to save filespace. Also, IIRC, that model still has the stockings on doesn't she? I guess it'll help because of the feet showing there.
## Post #662
- Username: frankcip
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Thu Sep 24, 2015 11:01 pm
- Post datetime: 2015-09-27T21:42:03+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> frankcip wrote:HeartlessSeph wrote:
is it an esoteric or exceedingly difficult process? how come people avoid talking about it?

I know there is another model of her, the Mother Base Quiet (the one in the cell), mabye that model has what we need to get rid of the boots, stockings, and mabye those harness?

I should be able to get rid of the harness unless they built the model so that anything behind the harness is simply not there to save filespace. Also, IIRC, that model still has the stockings on doesn't she? I guess it'll help because of the feet showing there.
That would be some great progress! (I sooooo like quiet) Please share whatever you get out of it, and thanks for your interest in this!
## Post #663
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-09-27T21:48:18+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

So I have a quick question.

I've found a bunch of face cov fmdl files during my digs, these I assume are different faces or face covers for characters. I tried applying one of these to the MGS1 snake after changing that ones model to a different snake and nothing changed. Can I only use the face cov files on regular snake costume? Or am I just screwing something up by not having an fcnp or frdv?
## Post #664
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-09-27T22:06:13+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> So I have a quick question.

I've found a bunch of face cov fmdl files during my digs, these I assume are different faces or face covers for characters. I tried applying one of these to the MGS1 snake after changing that ones model to a different snake and nothing changed. Can I only use the face cov files on regular snake costume? Or am I just screwing something up by not having an fcnp or frdv?

I'm not quite sure about what you tried doing here. Did you try replacing the entirety of the MGS1 Snake model? Did you just try to add them? More info with stuff like this is needed, otherwise it would be a guessing game on my part.
## Post #665
- Username: Soulpatrol
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Tue Sep 22, 2015 9:02 pm
- Post datetime: 2015-09-27T22:37:26+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from emoose
>
> MGSV QAR Dictionary Project has been updated, adding an extra ~3000 hashes, bringing the total up to 15091 filenames 

I'm hoping more people can test out my console-enabled version of FtexTool too, pretty sure the x360 deswizzle algo is correct for each pixel format, but I haven't really tested it extensively.

Many thanks for your research and work!
First Time i now can see Textures from the Xbox360  


I didnt found a Texture what not be converted correct, so it seams all fine.
Extracting the .dat is fine too, also any .fpk i test.

Hopefully we can convert them back to .ftex some day, so modding will not be only for pc  

Nice to see that here are at last People sharing there work with the public and not only People posting screens of what they did, without to say how the did it!
## Post #666
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-09-27T23:55:35+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> odrin wrote:HeartlessSeph wrote:

I know how to remove meshes in fmdl files though hex.

is it an esoteric or exceedingly difficult process? how come people avoid talking about it?

I don't like avoiding discussing it, I even got a little upset when people avoided it before doing it myself too. It's just a bit difficult to explain, but not actually difficult to perform. Best I can tell you is that the mesh data ends at the end of an fmdl file, it should make it a bit easier to do honestly.

Also, I tried getting the Quiet thing to work, the problem with it is that apparently her legs are invisible in gameplay despite the mesh being present. This is probably a texture issue, like I said, her legs are present and I removed anything that didn't need to be there but her legs still show up as invisible in-game.
XrayDoc wrote:Nexus mods comments:
"Can you do this literally impossible mod?"
"Can you tell me how to mess with files I have no idea how to even use the QAR tool."
"I'm going to do this mod but I need someone to tell me how to exactly do this mod."



Love you guys but if you don't know what you're doing please stop. ;^)

Haha, is this about them asking to play as Sahelanthropus?

thanks, but any more specific things i need to look for? is there a way to organize the file to better read it??

like in the screenshot below, all of that at the bottom there is still mesh data?
## Post #667
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-09-28T00:53:52+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from odrin
>
> 
thanks, but any more specific things i need to look for? is there a way to organize the file to better read it??

like in the screenshot below, all of that at the bottom there is still mesh data?

Yes, that is mesh data. I really don't know how to help you here though. Maybe you should wait for the Fox Model Studio or try going through it yourself with trial and error.
## Post #668
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-09-28T01:59:49+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> XrayDoc wrote:So I have a quick question.

I've found a bunch of face cov fmdl files during my digs, these I assume are different faces or face covers for characters. I tried applying one of these to the MGS1 snake after changing that ones model to a different snake and nothing changed. Can I only use the face cov files on regular snake costume? Or am I just screwing something up by not having an fcnp or frdv?

I'm not quite sure about what you tried doing here. Did you try replacing the entirety of the MGS1 Snake model? Did you just try to add them? More info with stuff like this is needed, otherwise it would be a guessing game on my part.

I took the character files from the MGS1 snake and replaced them with a regular snake model. This is because the other snake models have problems with hair so MGS1 is most commonly used. Anyway, I then tried to put on fmdl files like eqp_hd and face_cov but none of them changed anything. (yes I updated the FPK dictionary before repacking) Basically, do I use face cover files only on other snake models and if not how do I use them?

> Reply from HeartlessSeph
>
> 
XrayDoc wrote:Nexus mods comments:
"Can you do this literally impossible mod?"
"Can you tell me how to mess with files I have no idea how to even use the QAR tool."
"I'm going to do this mod but I need someone to tell me how to exactly do this mod."



Love you guys but if you don't know what you're doing please stop. ;^)

Haha, is this about them asking to play as Sahelanthropus?

Well that's part of it, I notice most of them on the most popular model swaps like the quiet one. Some people are messing with files they really shouldn't be messing with if they can't even operate the QAR Tool.
## Post #669
- Username: Quiet
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Sun Sep 27, 2015 7:48 pm
- Post datetime: 2015-09-28T03:09:00+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> Nexus mods comments:
"Can you do this literally impossible mod?"
"Can you tell me how to mess with files I have no idea how to even use the QAR tool."
"I'm going to do this mod but I need someone to tell me how to exactly do this mod."



Love you guys but if you don't know what you're doing please stop. ;^)

Step 1-Unpack QAR tool in your SteamLibrary/SteamApps/common/MGS_TPP/master folder.
Step 2-Backup your chunk0.dat file.
Step 3-Drag chunk0.dat file over MGSV_QAR_Tool.exe.
It will create a chunk0 folder and chunk0.inf file.
Step 4-Take the files from the mods and place in chunk0 folder.
Step 5-Drag chunk0.inf file over MGSV_QAR_Tool.exe.
It will repack the chunk0.dat file with the mods added.
Step 6-Enjoy Quiet.
## Post #670
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-09-28T03:52:40+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> Well that's part of it, I notice most of them on the most popular model swaps like the quiet one. Some people are messing with files they really shouldn't be messing with if they can't even operate the QAR Tool.

Ah, I know what you mean. Can't really blame most though. Games that are further along in modding don't really take as much effort to mod most of the time. Maybe they're just coming from those types of modding environments and expecting things to be hand-fed to them.

EDIT: Oh, I didn't realize you responded regarding your problem with the Snake model. Placing files into the fpk will only work if the game is trying to read that thing at the moment (I think, don't take my word for it as fact). So if you're trying to put the sna0_face0_cov.fmdl type files in there it likely won't work since the game stops trying to read those files when MGS1 Snake's outfit is used.
## Post #671
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-09-28T04:46:27+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> XrayDoc wrote:Well that's part of it, I notice most of them on the most popular model swaps like the quiet one. Some people are messing with files they really shouldn't be messing with if they can't even operate the QAR Tool.

Ah, I know what you mean. Can't really blame most though. Games that are further along in modding don't really take as much effort to mod most of the time. Maybe they're just coming from those types of modding environments and expecting things to be hand-fed to them.

EDIT: Oh, I didn't realize you responded regarding your problem with the Snake model. Placing files into the fpk will only work if the game is trying to read that thing at the moment (I think, don't take my word for it as fact). So if you're trying to put the sna0_face0_cov.fmdl type files in there it likely won't work since the game stops trying to read those files when MGS1 Snake's outfit is used.

Okay, I'll just try equipping and unequipping it from the loadout screen. Thanks!
## Post #672
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-09-28T05:21:25+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> HeartlessSeph wrote:XrayDoc wrote:Well that's part of it, I notice most of them on the most popular model swaps like the quiet one. Some people are messing with files they really shouldn't be messing with if they can't even operate the QAR Tool.

Ah, I know what you mean. Can't really blame most though. Games that are further along in modding don't really take as much effort to mod most of the time. Maybe they're just coming from those types of modding environments and expecting things to be hand-fed to them.

EDIT: Oh, I didn't realize you responded regarding your problem with the Snake model. Placing files into the fpk will only work if the game is trying to read that thing at the moment (I think, don't take my word for it as fact). So if you're trying to put the sna0_face0_cov.fmdl type files in there it likely won't work since the game stops trying to read those files when MGS1 Snake's outfit is used.

Okay, I'll just try equipping and unequipping it from the loadout screen. Thanks!

I meant to say that it may just not work with the MGS1 outfit. It seems to default to just not loading a head model at all, so it's possible that it may not be possible (oddly worded sentence that) to use head models like that over the MGS1 costume. Also, would you mind describing this hair problem to me? I haven't actually seen any problems like that so far.
## Post #673
- Username: maurocio
- Rank: n00b
- Number of posts: 15
- Joined date: Wed Jan 27, 2010 3:45 am
- Post datetime: 2015-09-28T07:52:34+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hi all,

I was trying to add custom music on game structure, but on LNG file appear this:

    <Entry Key="2748510345" Value="You Spin Me Round (Like a Record) " />
    <Entry Key="3464135748" Value="Quiet Life" />
    <Entry Key="1109952386" Value="She Blinded Me With Science" />
    <Entry Key="2193300951" Value="Dormant Stream" />
    <Entry Key="2550999362" Value="Too Shy" />

Anyone knows what is key number? Maybe is a hash

Thanks
## Post #674
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-09-28T10:33:28+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from emoose
>
> 
All the lua files in PC qars should be accounted for, but there might be some in fpk files that need a dictionary to look them up, not sure if TPP needs that though since only a few files in GZ did afaik.
There's a few MGO luas in the console qars that aren't named too, but it's doubtful anyone would want to mod MGO anyway.

The lua files in the fpks have had something done to them, they're not readable as text like the Data1 luas. Great analysis from me I know, but I have little experience with file formats. I do know they aren't renamed in the common way as if they're compiled either (standard there is to call them .luac), nor do they seem to have the usual compiled lua magic number, that's as much as I know, literally nothing else about file formats, I'm a plaintext man.

Unlike ground Zeros where most of the unreadable luas had readable versions also, these don't. And as they contain the mission scripting among other things it would be a big deal modding wise to be able to read them.

There may be complications though.

There's mention of some kind of compilation system in one of the main .lua, except no references to it in the lua (function that calls it had it's name minified so it's not called by the engine). The engine has a lot more references. Called the Quark, Quark System, FoxQuark.
I was guessing either: shader compilation, ui compilation, or of course lua compilation, which means we'd be more or less out of luck as far as using lua decompilers (we could even get it to standard compiled lua format in the first place). What is pointing it towards lua is: refererences from solider and corpse game objects - SoliderQuark, CorpseQuark. 

There's also reference to the script block loading system mentioning quark, which brings me to that. Lots of reference to script block loading in lua, and also to packs in reference. However a couple of the data1/readable lua files are names AnimalBlock, DemoBlock and ReinforceBlock and have code suggested they are managed in this way.

The general term for compiled lua is actually chunks, so since they already were callink their streaming system chunks they decided to use Block to differentiate. block in lua terms just means a segment of code, the usage of scriptblocks suggests it's not that granular, but who knows. 

Also the .ui* files, again making an assumption with such a data driven engine, and other examples of data driven ui systems there's a chance there's useful stuff there.

Like recently posted we're also missing what the keys in the .lang files are, can see some plain text keys of some form in the lua via the announce log which is via the ui, but past that point a bunch of those are also linked with sound files, and not quite sure where the definition is.

TLDR: There's still a lot of file format stuff that I don't think has really been discussed here that seems like it has potential -but I don't have the skills to pursue at that level.
## Post #675
- Username: emoose
- Rank: beginner
- Number of posts: 26
- Joined date: Fri Sep 11, 2015 4:06 am
- Post datetime: 2015-09-28T17:32:59+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> emoose wrote:
All the lua files in PC qars should be accounted for, but there might be some in fpk files that need a dictionary to look them up, not sure if TPP needs that though since only a few files in GZ did afaik.
There's a few MGO luas in the console qars that aren't named too, but it's doubtful anyone would want to mod MGO anyway.

The lua files in the fpks have had something done to them, they're not readable as text like the Data1 luas. Great analysis from me I know, but I have little experience with file formats. I do know they aren't renamed in the common way as if they're compiled either (standard there is to call them .luac), nor do they seem to have the usual compiled lua magic number, that's as much as I know, literally nothing else about file formats, I'm a plaintext man.

Unlike ground Zeros where most of the unreadable luas had readable versions also, these don't. And as they contain the mission scripting among other things it would be a big deal modding wise to be able to read them.

There may be complications though.

There's mention of some kind of compilation system in one of the main .lua, except no references to it in the lua (function that calls it had it's name minified so it's not called by the engine). The engine has a lot more references. Called the Quark, Quark System, FoxQuark.
I was guessing either: shader compilation, ui compilation, or of course lua compilation, which means we'd be more or less out of luck as far as using lua decompilers (we could even get it to standard compiled lua format in the first place). What is pointing it towards lua is: refererences from solider and corpse game objects - SoliderQuark, CorpseQuark. 

There's also reference to the script block loading system mentioning quark, which brings me to that. Lots of reference to script block loading in lua, and also to packs in reference. However a couple of the data1/readable lua files are names AnimalBlock, DemoBlock and ReinforceBlock and have code suggested they are managed in this way.

The general term for compiled lua is actually chunks, so since they already were callink their streaming system chunks they decided to use Block to differentiate. block in lua terms just means a segment of code, the usage of scriptblocks suggests it's not that granular, but who knows. 

Also the .ui* files, again making an assumption with such a data driven engine, and other examples of data driven ui systems there's a chance there's useful stuff there.

Like recently posted we're also missing what the keys in the .lang files are, can see some plain text keys of some form in the lua via the announce log which is via the ui, but past that point a bunch of those are also linked with sound files, and not quite sure where the definition is.

TLDR: There's still a lot of file format stuff that I don't think has really been discussed here that seems like it has potential -but I don't have the skills to pursue at that level.

Hmm, had a quick look into it and the LUA files seem crypted to me, if they were just compiled there would probably still be some cleartext strings in them but I couldn't see any.

Also it looks like GZ has these same weird LUA files too, but I noticed something funny: in data_02.g0s\Assets\tpp\pack\resident\resident01.fpkd they have the same LUA files as the QAR itself (GZCommon.lua, TppRadio.lua etc), but in this strange format. The fpkd versions are 2 bytes bigger than the plaintext QAR versions though, maybe some sort of crypto key? Pretty sure this is crypted now though since the size is so close to the plaintext versions.

Tried decrypting with various xor methods but none seem to work, couldn't find any working MGSV tools for them neither. Guess the crypto will have to be reversed, surprising it hasn't been already since this has been in use since GZ.
## Post #676
- Username: KitGaming512
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Fri Sep 25, 2015 8:17 am
- Post datetime: 2015-09-28T22:14:52+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from cra0
>
> KitGaming512 wrote:Does anyone know if there is a plugin on Maya for opening and editing .fpk files. Or if there is any way to do it?
Go back and resd through the thread please. I'm working on a tool which will allow the import and export of model files. For your information fpk is an archive package. Please read before blindly posting

I read through it when there was only GZ content and I didn't remember that fpk was a package, sorry. Then the thread got overwhelming when I got back. I'm looking forward to this program, thanks.
## Post #677
- Username: JRavens
- Rank: beginner
- Number of posts: 20
- Joined date: Tue Dec 23, 2014 5:17 am
- Post datetime: 2015-09-28T23:33:05+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from maurocio
>
> Hi all,

I was trying to add custom music on game structure, but on LNG file appear this:

    <Entry Key="2748510345" Value="You Spin Me Round (Like a Record) " />
    <Entry Key="3464135748" Value="Quiet Life" />
    <Entry Key="1109952386" Value="She Blinded Me With Science" />
    <Entry Key="2193300951" Value="Dormant Stream" />
    <Entry Key="2550999362" Value="Too Shy" />

Anyone knows what is key number? Maybe is a hash

Thanks
You realize that those lines are just the names of the songs as they appear in the menus?

Most games use pointers or ID numbers, etc. to grab the correct text string (for localization purposes). I have no idea how this game generates those numbers or if the lang tool just does not convert them from however they are stored.

To ADD additional music though you are going to have to get at the code which loads the songs (TppSound? I saw reference to TppMusicManager in there as well where ever that lua is unless it's an internal function) You are in uncharted waters here mate. If you figure stuff out though please share your discoveries. Good luck!

> Reply from emoose
>
> Hmm, had a quick look into it and the LUA files seem crypted to me, if they were just compiled there would probably still be some cleartext strings in them but I couldn't see any.

Also it looks like GZ has these same weird LUA files too, but I noticed something funny: in data_02.g0s\Assets\tpp\pack\resident\resident01.fpkd they have the same LUA files as the QAR itself (GZCommon.lua, TppRadio.lua etc), but in this strange format. The fpkd versions are 2 bytes bigger than the plaintext QAR versions though, maybe some sort of crypto key? Pretty sure this is crypted now though since the size is so close to the plaintext versions.

Tried decrypting with various xor methods but none seem to work, couldn't find any working MGSV tools for them neither. Guess the crypto will have to be reversed, surprising it hasn't been already since this has been in use since GZ.
I second Tex's plea to examine that encryption. For guys who work with the data it would really help to get at the meat of the game. Right now we can "tinker" with some various values from data1, but the REALLY useful stuff is most likely buried in the other chunks.

There's a lot of potential with the fox engine if we can somehow convert those files.

* Although hats off to Tex as he and a few others have at least been able to inject custom code into the existing lua files and do some amazing things already.

> Reply from JRavens
>
> emoose wrote:Hmm, had a quick look into it and the LUA files seem crypted to me, if they were just compiled there would probably still be some cleartext strings in them but I couldn't see any.

Also it looks like GZ has these same weird LUA files too, but I noticed something funny: in data_02.g0s\Assets\tpp\pack\resident\resident01.fpkd they have the same LUA files as the QAR itself (GZCommon.lua, TppRadio.lua etc), but in this strange format. The fpkd versions are 2 bytes bigger than the plaintext QAR versions though, maybe some sort of crypto key? Pretty sure this is crypted now though since the size is so close to the plaintext versions.

Tried decrypting with various xor methods but none seem to work, couldn't find any working MGSV tools for them neither. Guess the crypto will have to be reversed, surprising it hasn't been already since this has been in use since GZ.
I second Tex's plea to examine that encryption. For guys who work with the data it would really help to get at the meat of the game. Right now we can "tinker" with some various values from data1, but the REALLY useful stuff is most likely buried in the other chunks.

There's a lot of potential with the fox engine if we can somehow convert those files.

* Although hats off to Tex as he and a few others have at least been able to inject custom code into the existing lua files and do some amazing things already.
You have to directly open the QAR tool through cmd.exe and open the chunk files.
## Post #678
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-09-29T05:58:28+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

the readme explains it, you need to make a txt fle, then change extension to .cmd and use the -r suffix.

but the lua files we have now honestly don't look too promising. i've looked through them all, you can tweak ammo count, weapon damage, things like that. nothing too in depth.

it feels a lot of the more interesting stuff is hardcoded.
## Post #679
- Username: qqoqxix
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Tue Sep 29, 2015 3:36 pm
- Post datetime: 2015-09-29T07:45:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from odrin
>
> but the lua files we have now honestly don't look too promising. i've looked through them all, you can tweak ammo count, weapon damage, things like that. nothing too in depth.

it feels a lot of the more interesting stuff is hardcoded.
Yeah, I spent an hour fiddling around and trying to see if I could get the artificial arm stuff onto a MB member, since I'd like to have a female character but with the robot arm functionality like sonar and such, but I ended up with no dice in that regard. :/

> Reply from DarknessValtier
>
> 
Quiet Default Playable 0.9
I couldn't quite manage to get this to work, the best I got was this somewhat horrifying thing, [http://i.imgur.com/nuQ9vYf.jpg](http://i.imgur.com/nuQ9vYf.jpg)
It's Snake's and Quiet's head smushed into each other on Quiet's body, which is less than ideal.
## Post #680
- Username: JohnBC
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Tue Sep 29, 2015 4:51 pm
- Post datetime: 2015-09-29T09:19:42+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Where is nakedsnake texture?  FTEXTOOL cant work
## Post #681
- Username: Alo81
- Rank: n00b
- Number of posts: 14
- Joined date: Fri Sep 04, 2015 6:57 am
- Post datetime: 2015-09-29T14:20:04+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Can anyone tip me off to what lua file(s) hold the information for vehicle supply drops?  

I'm trying to figure out if there is a way that I could alter one of the options to drop in a bear instead of a vehicle.
## Post #682
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-09-29T14:54:22+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

In case anybody's interested.
[http://www.nexusmods.com/phantompain/mods/71](http://www.nexusmods.com/phantompain/mods/71)
## Post #683
- Username: frankcip
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Thu Sep 24, 2015 11:01 pm
- Post datetime: 2015-09-29T18:47:10+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> 
In case anybody's interested.
http://www.nexusmods.com/phantompain/mods/71
SOOOOO interested!
There can never be enough of quiet!
## Post #684
- Username: Alo81
- Rank: n00b
- Number of posts: 14
- Joined date: Fri Sep 04, 2015 6:57 am
- Post datetime: 2015-09-29T21:06:05+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

For the new page:

Can anyone tip me off to what lua file(s) hold the information for vehicle supply drops?  

I'm trying to figure out if there is a way that I could alter one of the options to drop in a bear instead of a vehicle.
## Post #685
- Username: Shoukaku
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Wed Sep 30, 2015 6:30 am
- Post datetime: 2015-09-29T22:34:02+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

can somone give me all ocelot texture with dds format
## Post #686
- Username: JRavens
- Rank: beginner
- Number of posts: 20
- Joined date: Tue Dec 23, 2014 5:17 am
- Post datetime: 2015-09-30T00:00:07+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> You have to directly open the QAR tool through cmd.exe and open the chunk files.
Using the QAR tool with -r through the command line causes it to crash for me when working with the chunk files. Data1 is fine. All of those files are easily decoded.

> Reply from odrin
>
> the readme explains it, you need to make a txt fle, then change extension to .cmd and use the -r suffix.

but the lua files we have now honestly don't look too promising. i've looked through them all, you can tweak ammo count, weapon damage, things like that. nothing too in depth.

it feels a lot of the more interesting stuff is hardcoded.
I don't understand your explanation. What readme? The QAR tools readme doesn't reference anything you are saying (make a text file and change it's extension to .cmd? What??)

Anyway it seems like you are talking about is data1's lua files which are easily decoded with Atvaark's tools (thank you also Atvaark!). I'm talking about the LUA files found within the chunk.dats and also inside of fpk and fpkd inside of the chunks. Those files don't decrypt.
## Post #687
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-09-30T02:05:22+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

strange, i'm not seeing any lua files in the chunk archive. what is the extension name?
## Post #688
- Username: Soulpatrol
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Tue Sep 22, 2015 9:02 pm
- Post datetime: 2015-09-30T06:42:40+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from JRavens
>
> I don't understand your explanation. What readme? The QAR tools readme doesn't reference anything you are saying (make a text file and change it's extension to .cmd? What??)

What ReadMe ???
Maybe the one from the QAR Tool ???

> OPTIONS
>
>   -r	Decrypt or encrypt all the resources inside QAR (LUA, FPK, JSON, etc.)
>
> 	Recommended for unpack. You may not encrypt them while repacking, the
>
> 	game will work with decrypted resources anyways.
>
>   -u	Don't use decryption/encrypton on QAR. You NEED this in order to work
>
> 	with console versions.
>
>   -eX	Set the encryption method that will be used, where X is number of
>
> 	encryption method. (ignored on TPP PC)
>
> 	Use -e1 for PC version of MGS GZ. (default)
>
> 	Use -e2 for PS3/XBOX360 versions of MGS TPP.
>
> 
>
> EXAMPLES:
>
>   In order to extract TPP (X360/PS3 files with decryption you have to run tool
>
>   like this (change 77d720e8d8714bc.dat to desired dat file):
>
> 
>
>   MGSV_QAR_Tool 77d720e8d8714bc.dat -u -r -e2
>
> 
>
>   In order to pack it back:
>
>   MGSV_QAR_Tool 77d720e8d8714bc.inf -u -r -e2
>
> 
>
>   For PC version of MGS GZ (unpack):
>
>   MGSV_QAR_Tool data_01.g0s -r
>
> 
>
>   For PC version of MGS GZ (pack):
>
>   MGSV_QAR_Tool data_01.inf -r

What is so hard to understand on the ReadMe ?

> Reply from JRavens
>
> Anyway it seems like you are talking about is data1's lua files which are easily decoded with Atvaark's tools (thank you also Atvaark!). I'm talking about the LUA files found within the chunk.dats and also inside of fpk and fpkd inside of the chunks. Those files don't decrypt.

Just read one Page back!
[viewtopic.php?p=110522#p110522](http://forum.xentax.com/viewtopic.php?p=110522#p110522)


> Reply from odrin
>
> 
strange, i'm not seeing any lua files in the chunk archive. what is the extension name?

What is that for a Question ?
extension name = lua

People:
Wen i first came here, i read the rest of the Pages were all your Questions are allready answered.
Really boring to see how you spam here the last 10 Pages your lazy Questions again and again.
Making this great thread death and no one will answer those Questions because you are to dumb to read 3-4 pages back.

Same goes to the People posting here only big screens of what they have done, without writting how they did it.
You can make Screens in a Spoiler...so rest of this is readable.

Im a Newbie on this and had no Problems understanding what Tools i need and how to use them, since all stand here since ages.
My Problems was that the Tools first not support the Console Files.

So please, before posting your Questions...read the rest of the Pages.
That goes much faster then waiting here Days for an Answer...Thanks !//forum
## Post #689
- Username: JRavens
- Rank: beginner
- Number of posts: 20
- Joined date: Tue Dec 23, 2014 5:17 am
- Post datetime: 2015-09-30T11:51:39+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Soulpatrol
>
> 
What ReadMe ???
Maybe the one from the QAR Tool ???
OPTIONS
  -r	Decrypt or encrypt all the resources inside QAR (LUA, FPK, JSON, etc.)
	Recommended for unpack. You may not encrypt them while repacking, the
	game will work with decrypted resources anyways.
  -u	Don't use decryption/encrypton on QAR. You NEED this in order to work
	with console versions.
  -eX	Set the encryption method that will be used, where X is number of
	encryption method. (ignored on TPP PC)
	Use -e1 for PC version of MGS GZ. (default)
	Use -e2 for PS3/XBOX360 versions of MGS TPP.

EXAMPLES:
  In order to extract TPP (X360/PS3 files with decryption you have to run tool
  like this (change 77d720e8d8714bc.dat to desired dat file):

  MGSV_QAR_Tool 77d720e8d8714bc.dat -u -r -e2

  In order to pack it back:
  MGSV_QAR_Tool 77d720e8d8714bc.inf -u -r -e2

  For PC version of MGS GZ (unpack):
  MGSV_QAR_Tool data_01.g0s -r

  For PC version of MGS GZ (pack):
  MGSV_QAR_Tool data_01.inf -r

What is so hard to understand on the ReadMe ?
Nothing. The readme is fine. What you posted there though does not answer my question to Odrin's reply. He posted this:

> Reply from odrin
>
> the readme explains it, you need to make a txt fle, then change extension to .cmd and use the -r suffix.
Where in your reply does it explain that cryptic response?

If both of you are trying to tell me to use the -r switch then I've already explained trying to decypt chunk.dat files with the QAR tool using the command line (even at an elevated prompt) causes the tool to crash for me.

> Reply from JRavens
>
> Just read one Page back!
viewtopic.php?p=110522#p110522
I did. Those are the files in question. LUA files inside the chunks (and fpks in the chunks) don't decode using any of the current tools that I've found so either they are encrypted or they've been compiled using a propitiatory LUA compiler (rather than luac)

> Reply from odrin
>
> strange, i'm not seeing any lua files in the chunk archive. what is the extension name?
There are many, though most seem to be tucked away inside of the fpk and fpkd files.

> Reply from Soulpatrol
>
> Im a Newbie on this and had no Problems understanding what Tools i need and how to use them, since all stand here since ages. My Problems was that the Tools first not support the Console Files.
So the first thing you thought to do was jump on here and type out a diatribe of how others are either (A) dumb or (B) unhelpful? Smooth. Hey let me know when your 17th birthday is so I can send you a card.

In the mean time why don't YOU try being more helpful and less condescending eh?
## Post #690
- Username: zSydor
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Tue Apr 16, 2013 10:07 pm
- Post datetime: 2015-09-30T14:58:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

[https://www.youtube.com/watch?v=F8K9iPtNMk4](https://www.youtube.com/watch?v=F8K9iPtNMk4)
Metal Gear Solid V: The Phantom Pain - Quiet dances to Gangnam Style 

lol
## Post #691
- Username: emoose
- Rank: beginner
- Number of posts: 26
- Joined date: Fri Sep 11, 2015 4:06 am
- Post datetime: 2015-09-30T19:46:48+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Alright, figured out how those LUAs are crypted, after spending hours trying to unpack GZ just so I could attach a debugger to it >.<

A CityHash (using the old GZ algo) is made from the filename of the LUA file, including file extension. The NOT of this hash is used as the XOR key for the file, the key also changes as the file is decrypted.

Some code I wrote up quick which should explain it better:

```
{
    var filename = Path.GetFileName(filePath).ToLower();
    var hash = HashFileNameLegacy(filename, false);
    var key = BitConverter.GetBytes(~hash);

    var fileData = File.ReadAllBytes(filePath);
    var decData = new byte[fileData.Length - 1];

    for(int i = 0; i < fileData.Length - 1; i++)
    {
        key[i & 7] ^= fileData[i + 1];
        decData[i] = key[i & 7];
    }

    return decData;
}

```

The last byte of the file should be 0x00 if it decrypted properly 

Going to look into adding this into GzsTool later, AFAIK the reverse isn't needed since the game should run fine with decrypted LUAs.
A lot of these LUAs also mention other FPK filepaths too, so we might have a big update to the dictionary soon 

EDIT: Added to my fork, when extracting from an FPK it'll automatically try decrypting any files that look encrypted. You can download it from [https://github.com/emoose/GzsTool/relea ... Decryption](https://github.com/emoose/GzsTool/releases/tag/v0.4.1b.LegacyConsoleAndFPKDecryption)

EDIT2: Just pushed a quick fix for some files not decrypting properly, grab it from [https://github.com/emoose/GzsTool/relea ... Decryption](https://github.com/emoose/GzsTool/releases/tag/v0.4.1b.LegacyConsoleAndFPKDecryption)

EDIT3: Another quick fix (hopefully the last!) for QARs not extracting properly: [https://github.com/emoose/GzsTool/relea ... Decryption](https://github.com/emoose/GzsTool/releases/tag/v0.4.1b.LegacyConsoleAndFPKDecryption)
## Post #692
- Username: JRavens
- Rank: beginner
- Number of posts: 20
- Joined date: Tue Dec 23, 2014 5:17 am
- Post datetime: 2015-09-30T21:23:26+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from emoose
>
> Alright, figured out how those LUAs are crypted, after spending hours trying to unpack GZ just so I could attach a debugger to it >.<

A CityHash (using the old GZ algo) is made from the filename of the LUA file, including file extension. The NOT of this hash is used as the XOR key for the file, the key also changes as the file is decrypted.

Some code I wrote up quick which should explain it better:
Code: Select allpublic byte[] DecryptFPKLUAFile(string filePath)
{
    var filename = Path.GetFileName(filePath).ToLower();
    var hash = HashFileNameLegacy(filename, false);
    var key = BitConverter.GetBytes(~hash);

    var fileData = File.ReadAllBytes(filePath);
    var decData = new byte[fileData.Length - 1];

    for(int i = 0; i < fileData.Length - 1; i++)
    {
        key[i & 7] ^= fileData[i + 1];
        decData[i] = key[i & 7];
    }

    return decData;
}

The last byte of the file should be 0x00 if it decrypted properly 

Going to look into adding this into GzsTool later, AFAIK the reverse isn't needed since the game should run fine with decrypted LUAs.
A lot of these LUAs also mention other FPK filepaths too, so we might have a big update to the dictionary soon 

EDIT: Added to my fork, when extracting from an FPK it'll automatically try decrypting any files that look encrypted. You can download it from https://github.com/emoose/GzsTool/relea ... Decryption

EDIT2: Just pushed a quick fix for some files not decrypting properly, grab it from https://github.com/emoose/GzsTool/relea ... Decryption
emoose you are a scholar and a gentleman! Thank you mate (again)
## Post #693
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-09-30T22:43:02+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from emoose
>
> Alright, figured out how those LUAs are crypted, after spending hours trying to unpack GZ just so I could attach a debugger to it >.<

A CityHash (using the old GZ algo) is made from the filename of the LUA file, including file extension. The NOT of this hash is used as the XOR key for the file, the key also changes as the file is decrypted.

Some code I wrote up quick which should explain it better:
Code: Select allpublic byte[] DecryptFPKLUAFile(string filePath)
{
    var filename = Path.GetFileName(filePath).ToLower();
    var hash = HashFileNameLegacy(filename, false);
    var key = BitConverter.GetBytes(~hash);

    var fileData = File.ReadAllBytes(filePath);
    var decData = new byte[fileData.Length - 1];

    for(int i = 0; i < fileData.Length - 1; i++)
    {
        key[i & 7] ^= fileData[i + 1];
        decData[i] = key[i & 7];
    }

    return decData;
}

The last byte of the file should be 0x00 if it decrypted properly 

Going to look into adding this into GzsTool later, AFAIK the reverse isn't needed since the game should run fine with decrypted LUAs.
A lot of these LUAs also mention other FPK filepaths too, so we might have a big update to the dictionary soon 

EDIT: Added to my fork, when extracting from an FPK it'll automatically try decrypting any files that look encrypted. You can download it from https://github.com/emoose/GzsTool/relea ... Decryption

EDIT2: Just pushed a quick fix for some files not decrypting properly, grab it from https://github.com/emoose/GzsTool/relea ... Decryption

You and cra0kalo are making me far too hyped
## Post #694
- Username: JRavens
- Rank: beginner
- Number of posts: 20
- Joined date: Tue Dec 23, 2014 5:17 am
- Post datetime: 2015-09-30T23:20:43+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from emoose
>
> EDIT2: Just pushed a quick fix for some files not decrypting properly, grab it from https://github.com/emoose/GzsTool/relea ... Decryption

Hmmm... I extracted chunk0.dat with no problem, but any fpk or fpkd from it I try does not extract at all and just generates an empty .xml:

EDIT: Nvm the problem was on my end. Either something to do with file paths being too long or rights management on that drive's files or something... not sure, but when I moved the files to another drive to work on them the problem went away. Apologies.
## Post #695
- Username: emoose
- Rank: beginner
- Number of posts: 26
- Joined date: Fri Sep 11, 2015 4:06 am
- Post datetime: 2015-10-01T03:57:12+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from JRavens
>
> emoose wrote:EDIT2: Just pushed a quick fix for some files not decrypting properly, grab it from https://github.com/emoose/GzsTool/relea ... Decryption

Hmmm... I extracted chunk0.dat with no problem, but any fpk or fpkd from it I try does not extract at all and just generates an empty .xml:

EDIT: Nvm the problem was on my end. Either something to do with file paths being too long or rights management on that drive's files or something... not sure, but when I moved the files to another drive to work on them the problem went away. Apologies.

Actually there was a problem with my code too, it wasn't decompressing files inside PC QARs/chunks as I left a small bit out, thanks for letting me know since I probably wouldn't have noticed otherwise.

Fixed version can be grabbed from [https://github.com/emoose/GzsTool/relea ... Decryption](https://github.com/emoose/GzsTool/releases/tag/v0.4.1b.LegacyConsoleAndFPKDecryption)
## Post #696
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-10-01T04:56:09+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from emoose
>
> Alright, figured out how those LUAs are crypted, after spending hours trying to unpack GZ just so I could attach a debugger to it >.<

A CityHash (using the old GZ algo) is made from the filename of the LUA file, including file extension. The NOT of this hash is used as the XOR key for the file, the key also changes as the file is decrypted.

Some code I wrote up quick which should explain it better:
Code: Select allpublic byte[] DecryptFPKLUAFile(string filePath)
{
    var filename = Path.GetFileName(filePath).ToLower();
    var hash = HashFileNameLegacy(filename, false);
    var key = BitConverter.GetBytes(~hash);

    var fileData = File.ReadAllBytes(filePath);
    var decData = new byte[fileData.Length - 1];

    for(int i = 0; i < fileData.Length - 1; i++)
    {
        key[i & 7] ^= fileData[i + 1];
        decData[i] = key[i & 7];
    }

    return decData;
}

The last byte of the file should be 0x00 if it decrypted properly 

Going to look into adding this into GzsTool later, AFAIK the reverse isn't needed since the game should run fine with decrypted LUAs.
A lot of these LUAs also mention other FPK filepaths too, so we might have a big update to the dictionary soon
This is great! Now we just need to find out where the damn Camera lua files are located... Anybody found anything? I've been searching my ass off for these but haven't found a trace of their existence, at least not the way they're supposed to be named/placed as in Ground Zeroes...
## Post #697
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-10-01T05:01:28+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from emoose
>
> Alright, figured out how those LUAs are crypted,
Great work.

emoose, have you generated any of the fpk names for the dictionary using the methods used in TppPacklist.lua:MakeDefaultMissionAreaPackPath and AddFOBLayoutPack? Couldn't be sure since you have enough of the fpks that I didn't check if any were missing. If not I could post a slightly more readable breakdown for you to start from.

Also has anyone had success in using GzsTool to package a qar that the game actually accepts?
Been building my mod with MGSV_QAR_Tool fine after my initial lack of success with gzstool back when the patch with 01.dat came out. 
Decided to give gzstool another go now. It builds the 01.dat fine, same size as MGSV_QAR_Tools, but loading the game there's no evidence of the game using the files.
## Post #698
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-10-01T11:27:39+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I was on vacation for the last few weeks and haven't much time to look at the issues.
I'll take a look at what's different in the QAR tool and I will also merge lua decryption while I'm at it.
## Post #699
- Username: Topher
- Rank: n00b
- Number of posts: 12
- Joined date: Thu Oct 01, 2015 8:08 pm
- Post datetime: 2015-10-01T12:11:00+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from emoose
>
> Alright, figured out how those LUAs are crypted, ...

You are a genius. Atvaark and yourself are the kind of people that inspire me to continue learning to code.

You've both done a great service to the community, and we thank you.

Edit: Might I suggest we get a wiki going with all of the inner workings of the fox data structure? I have learned a lot from looking at the code for GzsTool but I think it would be good to create some reference documentation to go alongside future development
## Post #700
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-10-01T13:57:57+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from atvaark
>
> I was on vacation for the last few weeks and haven't much time to look at the issues.
I'll take a look at what's different in the QAR tool and I will also merge lua decryption while I'm at it.
I've two questions I'd love answered;
(FtexTool) 1. Could you tell me how I can get proper 1024 or 2048 resolution textures to convert to 3 ftexs instead of 5 ftexs?
(GzsTool)  2. Can we get a way to repack new files in pftxs without having their hashes? 

Being able to add textures to a pftxs is possible after finding their hashes from extracting texture qars, but converting 1024 or 2048 res textures with FtexTool will output into 5 ftexs, when only three originally exist that can be included with their hashes from the texture qar (so we can only get in custom textures at 512x512 from 3 out of 5 ftexs)

If either questions have a solution, then they cancel the other one out as an issue.
## Post #701
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-10-01T14:23:15+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> atvaark wrote:I was on vacation for the last few weeks and haven't much time to look at the issues.
I'll take a look at what's different in the QAR tool and I will also merge lua decryption while I'm at it.
I've two questions I'd love answered;
(FtexTool) 1. Could you tell me how I can get proper 1024 or 2048 resolution textures to convert to 3 ftexs instead of 5 ftexs?
(GzsTool)  2. Can we get a way to repack new files in pftxs without having their hashes? 

Being able to add textures to a pftxs is possible after finding their hashes from extracting texture qars, but converting 1024 or 2048 res textures with FtexTool will output into 5 ftexs, when only three originally exist that can be included with their hashes from the texture qar (so we can only get in custom textures at 512x512 from 3 out of 5 ftexs)

If either questions have a solution, then they cancel the other one out as an issue.
I haven't figured out how the ftexs file count relates to the width/height/area/mip-maps/etc yet. All I have is a huge spreadsheet with the above information that I created from all the textures.

Adding files to archives is something I'd like to add in the future. Adding files to QAR archives is almost done. There are some still issues with creating hashes from new files. When I'm done with that I'll implement adding files to fpk and pftxs files.
## Post #702
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-10-01T14:37:07+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from atvaark
>
> Higus wrote:atvaark wrote:I was on vacation for the last few weeks and haven't much time to look at the issues.
I'll take a look at what's different in the QAR tool and I will also merge lua decryption while I'm at it.
I've two questions I'd love answered;
(FtexTool) 1. Could you tell me how I can get proper 1024 or 2048 resolution textures to convert to 3 ftexs instead of 5 ftexs?
(GzsTool)  2. Can we get a way to repack new files in pftxs without having their hashes? 

Being able to add textures to a pftxs is possible after finding their hashes from extracting texture qars, but converting 1024 or 2048 res textures with FtexTool will output into 5 ftexs, when only three originally exist that can be included with their hashes from the texture qar (so we can only get in custom textures at 512x512 from 3 out of 5 ftexs)

If either questions have a solution, then they cancel the other one out as an issue.
I haven't figured out how the ftexs file count relates to the width/height/area/mip-maps/etc yet. All I have is a huge spreadsheet with the above information that I created from all the textures.

Adding files to archives is something I'd like to add in the future. Adding files to QAR archives is almost done. There are some still issues with creating hashes from new files. When I'm done with that I'll implement adding files to fpk and pftxs files.
Sweet, thanks for the prompt reply. 

I'd like to add though that I have found a nice workaround for anybody interested; If you save your new dds with NO mipmaps, then you may convert it to have just one ftexs and the new ftex+ftexs will ignore any of the other original ftexs from the texture qars, so that your new textures may be loaded at max resolution within the convenience of a pftxs (no need to go hash-digging for adding extra ftexs files!)
## Post #703
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-10-01T16:51:27+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> 
Sweet, thanks for the prompt reply. 

I'd like to add though that I have found a nice workaround for anybody interested; If you save your new dds with NO mipmaps, then you may convert it to have just one ftexs and the new ftex+ftexs will ignore any of the other original ftexs from the texture qars, so that your new textures may be loaded at max resolution within the convenience of a pftxs (no need to go hash-digging for adding extra ftexs files!)

Wow, that's an awesome yet simple fix. There's been no downside to this has there?
## Post #704
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-10-01T17:10:16+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Topher
>
> 
Edit: Might I suggest we get a wiki going with all of the inner workings of the fox data structure? I have learned a lot from looking at the code for GzsTool but I think it would be good to create some reference documentation to go alongside future development

Been thinking about a MGSV modding wiki in general for a while, forums aren't the best repository for information. Nexus automatically hosts a wiki for each game it hosts files for, so there's that if no one has a better host?
## Post #705
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2015-10-01T17:23:50+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Minor updates:
MGSV QAR Tool v1.3.2
MGSV FPK Tool v1.2
* A bug which caused drag n' drop do nothing should be fixed.
* LUA decryption/encryption added to FPK Tool.
Use -n option to leave data unencrypted and work with older inf format (not tested!!!)
## Post #706
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-10-01T17:50:59+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> Higus wrote:
Sweet, thanks for the prompt reply. 

I'd like to add though that I have found a nice workaround for anybody interested; If you save your new dds with NO mipmaps, then you may convert it to have just one ftexs and the new ftex+ftexs will ignore any of the other original ftexs from the texture qars, so that your new textures may be loaded at max resolution within the convenience of a pftxs (no need to go hash-digging for adding extra ftexs files!)


Wow, that's an awesome yet simple fix. There's been no downside to this has there?
Upon testing for a few hours, yeah, the game crashes at the loading screen a hell of a lot more frequently with this method. But the crash only happens upon the first time it needs to load the model with the custom textures in question. Unless you change outfits, once you're in the game, it should be fine (it's annoying as shit though)... And there's another issue where these weird looking tear lines come across the textures SOMETIMES, other times the game loads it fine, they're not extremely noticeable, they look like scars on skin, but once you notice, you notice. I'd recommend sticking to export at 512x512 for most textures honestly, unless you use it for testing/convenience or it's REALLY necessary for the higher res textures, just save your custom dds at 512 and it'll come out with 3 ftexs and a hell of a lot less issues.

(WE STILL NEED A SOLUTION TO THIS FTEXS AMOUNT ISSUE, PEOPLE!)
## Post #707
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-10-01T18:59:27+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> HeartlessSeph wrote:Higus wrote:
Sweet, thanks for the prompt reply. 

I'd like to add though that I have found a nice workaround for anybody interested; If you save your new dds with NO mipmaps, then you may convert it to have just one ftexs and the new ftex+ftexs will ignore any of the other original ftexs from the texture qars, so that your new textures may be loaded at max resolution within the convenience of a pftxs (no need to go hash-digging for adding extra ftexs files!)


Wow, that's an awesome yet simple fix. There's been no downside to this has there?
Upon testing for a few hours, yeah, the game crashes at the loading screen a hell of a lot more frequently with this method. But the crash only happens upon the first time it needs to load the model with the custom textures in question. Unless you change outfits, once you're in the game, it should be fine (it's annoying as shit though)... And there's another issue where these weird looking tear lines come across the textures SOMETIMES, other times the game loads it fine, they're not extremely noticeable, they look like scars on skin, but once you notice, you notice. I'd recommend sticking to export at 512x512 for most textures honestly, unless you use it for testing/convenience or it's REALLY necessary for the higher res textures, just save your custom dds at 512 and it'll come out with 3 ftexs and a hell of a lot less issues.

(WE STILL NEED A SOLUTION TO THIS FTEXS AMOUNT ISSUE, PEOPLE!)

Yeah, I've seen those scars you're talking about. They're mostly noticeable under light I think. But honestly, I've never had crashes with custom textures unless I rushed or I was running the game with high settings. I noticed that the longer the game takes to load textures, the more likely it is to crash.
## Post #708
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-01T22:39:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Anyone know how to unpack the PES 2016 files? I really want to switch the models since they're both FOX engine.
## Post #709
- Username: Topher
- Rank: n00b
- Number of posts: 12
- Joined date: Thu Oct 01, 2015 8:08 pm
- Post datetime: 2015-10-01T22:58:11+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> ... Now we just need to find out where the damn Camera lua files are located... Anybody found anything? ...

Could be the files located in chunk2\Assets\tpp\pack\location\afgh\pack_large\afgh_fort.fpkd?
## Post #710
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-01T23:14:49+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> ... Now we just need to find out where the damn Camera lua files are located... Anybody found anything? ...

Do you mean camera like a gun camera? Those are called ctv0_main0_def.fmdl in the mechas
## Post #711
- Username: emoose
- Rank: beginner
- Number of posts: 26
- Joined date: Fri Sep 11, 2015 4:06 am
- Post datetime: 2015-10-01T23:31:33+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> emoose wrote:Alright, figured out how those LUAs are crypted,
Great work.

emoose, have you generated any of the fpk names for the dictionary using the methods used in TppPacklist.lua:MakeDefaultMissionAreaPackPath and AddFOBLayoutPack? Couldn't be sure since you have enough of the fpks that I didn't check if any were missing. If not I could post a slightly more readable breakdown for you to start from.

Not yet, had a look over but couldn't really understand it much, if you could break it down that could be helpful 

> Reply from Higus
>
> 
This is great! Now we just need to find out where the damn Camera lua files are located... Anybody found anything? I've been searching my ass off for these but haven't found a trace of their existence, at least not the way they're supposed to be named/placed as in Ground Zeroes...

I saw some files called CameraAroundParams.lua, CameraSubjectiveParams.lua and CameraTpsParams.lua in a few fpk files, looked like they controlled FoV and such, should be able to find them easy.
## Post #712
- Username: lazycurler
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Fri Oct 02, 2015 8:00 am
- Post datetime: 2015-10-02T00:08:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hey everyone,

I am completely new here, literally just joined. I am a long time MGS fan and a software engineer. I haven't had time to read through this whole thread yet but I came here after seeing some modding tools on github. I have a strong CS and CompE background but have no experience with game dev or modding. How can I help?
## Post #713
- Username: deadknight
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Wed Jan 29, 2014 3:36 am
- Post datetime: 2015-10-02T01:46:07+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Topher
>
> Higus wrote:... Now we just need to find out where the damn Camera lua files are located... Anybody found anything? ...

Could be the files located in chunk2\Assets\tpp\pack\location\afgh\pack_large\afgh_fort.fpkd?

> Reply from emoose
>
> Not yet, had a look over but couldn't really understand it much, if you could break it down that could be helpful 
I saw some files called CameraAroundParams.lua, CameraSubjectiveParams.lua and CameraTpsParams.lua in a few fpk files, looked like they controlled FoV and such, should be able to find them easy.

Thank you guys, I was searching for that too. Now, if only someone knows how to decrypt those lua files, that would be great.
## Post #714
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-02T02:03:58+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> Anyone know how to unpack the PES 2016 files? I really want to switch the models since they're both FOX engine.

Bumping this. Should I go find a different forums for this or can someone just edit the QAR tool to open the PES files, if it works like that?
## Post #715
- Username: emoose
- Rank: beginner
- Number of posts: 26
- Joined date: Fri Sep 11, 2015 4:06 am
- Post datetime: 2015-10-02T02:18:50+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from deadknight
>
> Topher wrote:Higus wrote:... Now we just need to find out where the damn Camera lua files are located... Anybody found anything? ...

Could be the files located in chunk2\Assets\tpp\pack\location\afgh\pack_large\afgh_fort.fpkd?
emoose wrote:Not yet, had a look over but couldn't really understand it much, if you could break it down that could be helpful 
I saw some files called CameraAroundParams.lua, CameraSubjectiveParams.lua and CameraTpsParams.lua in a few fpk files, looked like they controlled FoV and such, should be able to find them easy.

Thank you guys, I was searching for that too. Now, if only someone knows how to decrypt those lua files, that would be great.

They should be decrypted if you use the latest FPK Tool / latest GzsTool
## Post #716
- Username: nuocda
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Fri Oct 02, 2015 11:01 am
- Post datetime: 2015-10-02T04:54:28+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

hello, can someone help me manually edit swap quiet model like this 

[http://www.nexusmods.com/phantompain/mods/6/](http://www.nexusmods.com/phantompain/mods/6/)
on ps3, i find right file like chunk0, data1.dat, i know unpack/repack( success mod some .lua file like pc mod), i don't know quiet original file name to swap
## Post #717
- Username: JohnBC
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Tue Sep 29, 2015 4:51 pm
- Post datetime: 2015-10-02T05:33:30+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

FtexTool cant convert Ftexs file   why???
## Post #718
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-10-02T06:31:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Topher
>
> Higus wrote:... Now we just need to find out where the damn Camera lua files are located... Anybody found anything? ...

Could be the files located in chunk2\Assets\tpp\pack\location\afgh\pack_large\afgh_fort.fpkd?
Nah they don't do nothing. And I'm not sure if they even use the same methods as GZ with "CameraAroundParams.lua, CameraSubjectiveParams.lua, etc", because when I include new files replacing those natural paths/names in Snake's fpkd, there is no difference in game. I've had no problems over-writing other files by including them in Snake's fpk/fpkd, it seems to have a high priority.

Maybe the camera system now works off this file:
"player2_camera_anim.caar" in player2_resident_motion.fpk

Also, could we start looking into the animation files? Like the main player pack "player2_resident.mtar" in player2_resident_motion.fpk. It'd be nice if we could get some extract/repack going for mtars, we could start a community contributed list of all the animations for swapping intentions (perfect for that wiki idea someone threw out earlier)
## Post #719
- Username: JamieGW
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Thu Oct 01, 2015 4:40 pm
- Post datetime: 2015-10-02T08:59:27+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Just wanted to let you know that the chaps at GameWatcher have a long running editorial going that we've been updating often lately, searching the community for what are our favourite mods to use with the game. You may very well find that some of your mods are on this list! Again, we're always searching and looking to find more so please let me know if you want us to try out any of yours!

Here's the full list - [http://www.gamewatcher.com/editorials/m ... mods/12318](http://www.gamewatcher.com/editorials/metal-gear-solid-5-the-phantom-pain-mods/12318)

We've been updating it daily so far, and most of the mods come from Nexus as that seems to be the only source right now?
## Post #720
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-10-02T09:06:06+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from emoose
>
> Not yet, had a look over but couldn't really understand it much, if you could break it down that could be helpful
Mission codes (from TppDefine.lua MISSION_LIST, SYS_MISSION_ID)

```
"10195","10091","10100","10110","10121","10115","10120","10085","10200","10211","10081","10130","10140","10150","10151","10045","10156",
"10093","10171","10240","10260","10280","10230","11043","11041","11054","11085","11082","11090","11036","11033","11050","11091","11195",
"11211","11140","11200","11080","11171","11121","11115","11130","11044","11052","11151",nil}
_.SYS_MISSION_ID={INIT=1,TITLE=5,AFGH_FREE=30010,MAFR_FREE=30020,MTBS_FREE=30050,MTBS_ZOO=30150,MTBS_WARD=30250,
AFGH_HELI=40010,MAFR_HELI=40020,MTBS_HELI=40050,HELI_SPACE=40060,FOB=50050,SELECT=60000}

```

I'd imagine the tables above would be complete, it wouldn't make much sense otherwise, but..

I'm assuming you can at least brute force check potential names against remaining keys? 
I guess just crush the above into smaller ranges 10000-10100 etc.

The 11k range is hard versions of the existing missions, I'm not sure if they actually have their own fpks as I see most references just shift the code back to the original 10k range.
But try them as well I guess.

missioncodes fall into 10k ranges per mission type (listed below), ie story=10k range, extra=20k (sideops i think), 30k free, 40k heli, 50 fob.
While there's a lot of missions/packs in the story/10k/11k range, above that I think there's nothing between those defined in sys_mission_id.

Maybe check existing fpks to see if there's anything out of the listed ranges.

ok thats missionCode.
The rest

```
local missionTypePackCodeNames={"story","extra","free","heli","online"}

function this.GetMissionTypeAndMissionName(missionCode)
  local missionCodeTypeRange=math.floor(missionCode/1e4)--tex NMC: missioncodes fall into 10k ranges per mission type
  local missionTypePackCodeName=missionTypePackCodeNames[missionCodeTypeRange]
  local missionName
  if missionTypePackCodes[missionCodeTypeRange]then
    missionName=missionTypePackCodes[missionCodeTypeRange] .. missionCode --tex NMC: .. operator in lua concats strings
  end
  return missionTypePackCodeName,missionName --tex NMC: lua multiple return
end

```

for fpks along the lines of 
s10090_area.fpkd

```
  local missionCode=_missionCode
  if TppMission.IsHardMission(missionCode)then
    missionCode=TppMission.GetNormalMissionCodeFromHardMission(missionCode)--tex NMC: just shifts from 11k range to 10k so it matches it's normal story mission
    -- and falls into story mission type range, so no seperate packs for hard missions I guess
  end
  local missionTypePackCodeName,missionName=this.GetMissionTypeAndMissionName(missionCode)--tex: NMC: lua functions can return multiple values
  if missionTypePackCodeName and missionName then
    local path="/Assets/tpp/pack/mission2/"..(missionTypePackCodeName..("/"..(missionName..("/"..(missionName.."_area.fpk")))))--tex NMC: .. operator in lua concats strings
    return path
  end
end

```

for fpks along the lines of 
o50050_area_ly080_cl03_fpkd

mbLayoutCode = 0-103,980?, from TppLocation.lua, ?mbstage_parameter.lua
Check existing files for ranges too I guess.

mbClusterId = 0-6 - from TppDefine.CLUSTER_DEFINE, again just a rough stab at range.

```
  local missionTypePackCodeName,missionName=this.GetMissionTypeAndMissionName(missionCode)
  if missionCode==50050 then--tex: NMC: WTF: uhhh, what. so means it doesnt pull the pack, yet next If it's checking again?
  end
  if(missionCode==50050)or(missionCode==10115)then
    local areaPath="/Assets/tpp/pack/mission2/"..(missionTypePackCodeName..("/"..(missionName..("/"..(missionName..string.format("_area_ly%03d",mbLayoutCode))))))
    local areaPathF=areaPath..".fpk"
    local clusterPath=areaPath..(string.format("_cl%02d",mbClusterId)..".fpk")
  elseif missionCode==30050 then
    local layoutPath="/Assets/tpp/pack/mission2/"..(missionTypePackCodeName..("/"..(missionName..("/"..(missionName..string.format("_ly%03d",mbLayoutCode))))))
    local layoutPath=layoutPath..".fpk"
  end
end

```


Edit: Also thanks again for the lua decryption, already made some features in my mod better.
## Post #721
- Username: JohnBC
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Tue Sep 29, 2015 4:51 pm
- Post datetime: 2015-10-02T12:57:05+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Does anyone have  nakedsnake model? share it plz
## Post #722
- Username: JRavens
- Rank: beginner
- Number of posts: 20
- Joined date: Tue Dec 23, 2014 5:17 am
- Post datetime: 2015-10-02T20:25:20+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from lazycurler
>
> Hey everyone,

I am completely new here, literally just joined. I am a long time MGS fan and a software engineer. I haven't had time to read through this whole thread yet but I came here after seeing some modding tools on github. I have a strong CS and CompE background but have no experience with game dev or modding. How can I help?
I've personally been hoping someone could make a "mod loader" by creating a front end to QAR and/or GzsTool that would simplify combining various mods without the end user having to fiddle with .ini and .inf files. The process of unpacking, combing  lines from.inf/ini and repacking seems to confuse casual users (and even some of those who do have experience messing with mods for other games like Skyrim, GTA, etc). Not that you may have interest in doing something like that... I do think it would be popular on Nexus however.
## Post #723
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-02T21:03:31+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from JamieGW
>
> Just wanted to let you know that the chaps at GameWatcher have a long running editorial going that we've been updating often lately, searching the community for what are our favourite mods to use with the game. You may very well find that some of your mods are on this list! Again, we're always searching and looking to find more so please let me know if you want us to try out any of yours!

Here's the full list - http://www.gamewatcher.com/editorials/m ... mods/12318

We've been updating it daily so far, and most of the mods come from Nexus as that seems to be the only source right now?

>tfw 4 of my mods made it on
Feels good man. Now stop making Snake and Quiet swaps and let's make the real fun stuff.

I was kind of upset my second favorite mod, Puppy DD, didn't make it on. But I had a huge grin when I saw Sahel bird mod.
## Post #724
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-10-03T08:00:47+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> >tfw 4 of my mods made it on
Feels good man. Now stop making Snake and Quiet swaps and let's make the real fun stuff.

I was kind of upset my second favorite mod, Puppy DD, didn't make it on. But I had a huge grin when I saw Sahel bird mod.
Why should anyone stop making "Snake and Quiet swaps"? It's the culmination of all character modding possibilities at the moment. "let's make the real fun stuff", by this I can only assume you're talking about the "fun" type of mods you've made with floating puppy d-dog and sahelanthropus-bird, well you can continue with the /v/ joke mods all you want, but please don't discourage proper character modding. But on the possibility that you mean to encourage more scripting mods and such, then yes, I want to see more like the TPP Hardcore mod. 
(I'm sure you'd feel less upset about the amount of character swaps drowning other mods if Nexus would just add more damn sections than "Miscellaneous")
## Post #725
- Username: DefaultMan
- Rank: beginner
- Number of posts: 22
- Joined date: Sat Jul 18, 2015 2:34 pm
- Post datetime: 2015-10-03T10:27:54+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Have been doing some model swaps and just managed to find the body model for the dealer from the airport mission (chunk1\Assets\tpp\pack\fova\chara\pfs\pfs0_uniq0_v04.fpk). Strangely enough I cant find a fcnp file for it and when in game the textures are all messed up and flicker like crazy [http://imgur.com/a/E5n9D](http://imgur.com/a/E5n9D).
Any ideas what is going on here.
## Post #726
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-03T13:40:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> XrayDoc wrote:>tfw 4 of my mods made it on
Feels good man. Now stop making Snake and Quiet swaps and let's make the real fun stuff.

I was kind of upset my second favorite mod, Puppy DD, didn't make it on. But I had a huge grin when I saw Sahel bird mod.
Why should anyone stop making "Snake and Quiet swaps"? It's the culmination of all character modding possibilities at the moment. "let's make the real fun stuff", by this I can only assume you're talking about the "fun" type of mods you've made with floating puppy d-dog and sahelanthropus-bird, well you can continue with the /v/ joke mods all you want, but please don't discourage proper character modding. But on the possibility that you mean to encourage more scripting mods and such, then yes, I want to see more like the TPP Hardcore mod. 
(I'm sure you'd feel less upset about the amount of character swaps drowning other mods if Nexus would just add more damn sections than "Miscellaneous")

I didn't mean it like that. Hell, the mods I do post to nexus are a small amount of what I've actually done. I guess that was just some bias from me since I find those boring, but I've seen so many swaps for just Snake and Quiet. Why not DD soldiers or Skullface? Didn't mean for that comment to come off negative, but it's hard to express tone just through text.

> Reply from DefaultMan
>
> Have been doing some model swaps and just managed to find the body model for the dealer from the airport mission (chunk1\Assets\tpp\pack\fova\chara\pfs\pfs0_uniq0_v04.fpk). Strangely enough I cant find a fcnp file for it and when in game the textures are all messed up and flicker like crazy http://imgur.com/a/E5n9D.
Any ideas what is going on here.

Lol the same thing happened to me when I tried to put the dog from GZ onto DD even with the fcnp. 
[http://images.akamai.steamusercontent.c ... CB27CACBC/](http://images.akamai.steamusercontent.com/ugc/389916836639212414/80C36A795FB2F6983ACD27668B29A11CB27CACBC/)
## Post #727
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-10-03T15:28:55+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

that's a shame. that dog is cool. you tried putting in the .pftxs files too?

also, you can get the working pilot model from here:

[http://www.nexusmods.com/phantompain/mods/73/](http://www.nexusmods.com/phantompain/mods/73/)?

the guy says he found the aircraft director in chunk 2 or 4. maybe more dd stuff is located outside of chunk0
## Post #728
- Username: Topher
- Rank: n00b
- Number of posts: 12
- Joined date: Thu Oct 01, 2015 8:08 pm
- Post datetime: 2015-10-03T17:01:42+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from JRavens
>
> I've personally been hoping someone could make a "mod loader" by creating a front end to QAR and/or GzsTool that would simplify combining various mods without the end user having to fiddle with .ini and .inf files. The process of unpacking, combing  lines from.inf/ini and repacking seems to confuse casual users (and even some of those who do have experience messing with mods for other games like Skyrim, GTA, etc). Not that you may have interest in doing something like that... I do think it would be popular on Nexus however.
Ask and ye shall receive!

I present SnakeBite! The first mod installer for MGSV:TPP.

Source code (VB.NET) available here:
[https://github.com/topher-au/SnakeBite](https://github.com/topher-au/SnakeBite)

Binaries available here:
[https://drive.google.com/file/d/0B_Krfx ... wxeDg/view](https://drive.google.com/file/d/0B_KrfxRcyD_SSlJIZWVjcWwxeDg/view)

Basic explanation:
The modfiles (.mgsv) are simply a renamed zip file that will be extracted then applied to 01.dat according to the metadata within mod.xml.

mod.xml contains some basic info and the XML data used to add the files into 01.dat.

If there are FPK files inside the modfile, and they already exist in 01.dat, both will be extracted and the new files copied over the top, and then rebuilt, so hopefully mods that use the same FPK files (but different files inside) can work together.

This is just a test version, definitely not ready for primetime usage but if anyone is keen to check it out and give me some feedback I'd be super grateful!

I have also included a small tool called dat2mod, it will unpack 01.dat and create a simple .mgsv file that you can then edit/apply using SnakeBite. Easier than manually creating the metadata for each mod.
## Post #729
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-03T17:42:37+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from odrin
>
> that's a shame. that dog is cool. you tried putting in the .pftxs files too?

also, you can get the working pilot model from here:

http://www.nexusmods.com/phantompain/mods/73/?

the guy says he found the aircraft director in chunk 2 or 4. maybe more dd stuff is located outside of chunk0
I forget where I found it but I found the aircraft director also. It was under one of the dds folders. I have him in my saved characters folder named "banana man"

Do you guys care for this mod? It looks weird but I know a bunch of people wanted to try the GZ dog on DD. Should I publish it or just trash it?

[http://images.akamai.steamusercontent.c ... FEAAFC811/](http://images.akamai.steamusercontent.com/ugc/389916836639185130/8894F390F1C0E03ACEFF8180F769792FEAAFC811/)

[http://images.akamai.steamusercontent.c ... CB27CACBC/](http://images.akamai.steamusercontent.com/ugc/389916836639212414/80C36A795FB2F6983ACD27668B29A11CB27CACBC/)
## Post #730
- Username: JRavens
- Rank: beginner
- Number of posts: 20
- Joined date: Tue Dec 23, 2014 5:17 am
- Post datetime: 2015-10-03T22:45:56+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Topher
>
> JRavens wrote:I've personally been hoping someone could make a "mod loader" by creating a front end to QAR and/or GzsTool that would simplify combining various mods without the end user having to fiddle with .ini and .inf files. The process of unpacking, combing  lines from.inf/ini and repacking seems to confuse casual users (and even some of those who do have experience messing with mods for other games like Skyrim, GTA, etc). Not that you may have interest in doing something like that... I do think it would be popular on Nexus however.
Ask and ye shall receive!

I present SnakeBite! The first mod installer for MGSV:TPP.

Source code (VB.NET) available here:
https://github.com/topher-au/SnakeBite

Binaries available here:
https://drive.google.com/file/d/0B_Krfx ... wxeDg/view

Basic explanation:
The modfiles (.mgsv) are simply a renamed zip file that will be extracted then applied to 01.dat according to the metadata within mod.xml.

mod.xml contains some basic info and the XML data used to add the files into 01.dat.

If there are FPK files inside the modfile, and they already exist in 01.dat, both will be extracted and the new files copied over the top, and then rebuilt, so hopefully mods that use the same FPK files (but different files inside) can work together.

This is just a test version, definitely not ready for primetime usage but if anyone is keen to check it out and give me some feedback I'd be super grateful!

I have also included a small tool called dat2mod, it will unpack 01.dat and create a simple .mgsv file that you can then edit/apply using SnakeBite. Easier than manually creating the metadata for each mod.
Sounds great man! I'll DL your current build and play around with it and see how it works. Much thanks for taking this project on. I think it will really help modders and users alike 

If it does what you intend I guarantee it will make it onto every list of must have mods for MGSV
## Post #731
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-04T00:22:03+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Anyone else having the problem of not being able to unpack ftex files from the pftxs files for character models?
## Post #732
- Username: VenomRex
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Sun Oct 04, 2015 10:52 pm
- Post datetime: 2015-10-04T15:41:18+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Topher
>
> JRavens wrote:I've personally been hoping someone could make a "mod loader" by creating a front end to QAR and/or GzsTool that would simplify combining various mods without the end user having to fiddle with .ini and .inf files. The process of unpacking, combing  lines from.inf/ini and repacking seems to confuse casual users (and even some of those who do have experience messing with mods for other games like Skyrim, GTA, etc). Not that you may have interest in doing something like that... I do think it would be popular on Nexus however.
Ask and ye shall receive!

I present SnakeBite! The first mod installer for MGSV:TPP.

Source code (VB.NET) available here:
https://github.com/topher-au/SnakeBite

Binaries available here:
https://drive.google.com/file/d/0B_Krfx ... wxeDg/view

Basic explanation:
The modfiles (.mgsv) are simply a renamed zip file that will be extracted then applied to 01.dat according to the metadata within mod.xml.

mod.xml contains some basic info and the XML data used to add the files into 01.dat.

If there are FPK files inside the modfile, and they already exist in 01.dat, both will be extracted and the new files copied over the top, and then rebuilt, so hopefully mods that use the same FPK files (but different files inside) can work together.

This is just a test version, definitely not ready for primetime usage but if anyone is keen to check it out and give me some feedback I'd be super grateful!

I have also included a small tool called dat2mod, it will unpack 01.dat and create a simple .mgsv file that you can then edit/apply using SnakeBite. Easier than manually creating the metadata for each mod.

I'm totally new to the modding community and I'd say you've done a great job, Topher. I've made a primitive batch script (before I knew someone would actually create a proper mod loader) to do automated unpacking, moving the .lua and repacking dat1 for my first published mod to ease the pain of confused users which can be found here: [http://www.nexusmods.com/phantompain/mods/90/](http://www.nexusmods.com/phantompain/mods/90/)? 
I'm yet to play around with the source code like a damn fiddle soon when I have time, but these questions made me wonder: How's the metadata within mod.xml file is generated? Through dat2mod alone? Is it possible for SnakeBite to modify certain properties within .lua files for different mods that utilize the same .lua files to avoid conflict? What about the possibility of SnakeBite to parse the .lua files so that users can adjust the game properties via the software interface (e.g amount of demon points acquired for killing a soldier, etc)? 
I'd like to contribute to the development of this mod loader of yours, would be a great contribution to the modding community if it would be released as a finished tool.
Also, a more direct method to contact you beside PM would be much appreciated.
Cheers!
## Post #733
- Username: holdfing
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Fri Jun 12, 2015 4:48 pm
- Post datetime: 2015-10-04T15:58:59+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hello there! Awesome work so far, thanks a bunch!

> Reply from Topher
>
> JRavens wrote:I've personally been hoping someone could make a "mod loader" by creating a front end to QAR and/or GzsTool that would simplify combining various mods without the end user having to fiddle with .ini and .inf files. The process of unpacking, combing  lines from.inf/ini and repacking seems to confuse casual users (and even some of those who do have experience messing with mods for other games like Skyrim, GTA, etc). Not that you may have interest in doing something like that... I do think it would be popular on Nexus however.
Ask and ye shall receive!

I present SnakeBite! The first mod installer for MGSV:TPP.

Source code (VB.NET) available here:
https://github.com/topher-au/SnakeBite

Binaries available here:
https://drive.google.com/file/d/0B_Krfx ... wxeDg/view

Basic explanation:
The modfiles (.mgsv) are simply a renamed zip file that will be extracted then applied to 01.dat according to the metadata within mod.xml.

mod.xml contains some basic info and the XML data used to add the files into 01.dat.

If there are FPK files inside the modfile, and they already exist in 01.dat, both will be extracted and the new files copied over the top, and then rebuilt, so hopefully mods that use the same FPK files (but different files inside) can work together.

This is just a test version, definitely not ready for primetime usage but if anyone is keen to check it out and give me some feedback I'd be super grateful!

I have also included a small tool called dat2mod, it will unpack 01.dat and create a simple .mgsv file that you can then edit/apply using SnakeBite. Easier than manually creating the metadata for each mod.

Nice! I made batch files for my mod to automate installation/merge mods (I can't code for shit), but SnakeBite is defo preferable.

BTW, anyone working on figuring out uia/uif/uilb/uiwhatever files? The broken radio button in intscope view is pissing me off, I want to fix it, and I suspect those ui files hold the answer. I haven't found any references to the actual button prompt texture (cmn_btn_icon_a_x36_alp) in luas at least.
## Post #734
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-10-04T16:34:10+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> Anyone else having the problem of not being able to unpack ftex files from the pftxs files for character models?
For the 100th time. Pftxs files don't contain all the ftexs files required to unpack a ftex file properly. You have to also use the remaining ftexs files from the texture dat archives.
## Post #735
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-04T17:58:42+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from atvaark
>
> XrayDoc wrote:Anyone else having the problem of not being able to unpack ftex files from the pftxs files for character models?
For the 100th time. Pftxs files don't contain all the ftexs files required to unpack a ftex file properly. You have to also use the remaining ftexs files from the texture dat archives.
I've scanned through them, I haven't been able to find specific people just yet. Are most found in texture0 and 3 or others?

Anyone have an idea where the lua files for the camera are? I've tried looking through chunk0 and data1 but can't find the right file.
## Post #736
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-10-04T22:01:39+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> Anyone have an idea where the lua files for the camera are? I've tried looking through chunk0 and data1 but can't find the right file.
afgh_fort.fpkd in chunk2.
CameraAroundParams.lua 
CameraSubjectiveParams.lua
CameraTpsParams.lua
TppTrapExecChangeCamera.lua

mafr_lab.fpkd,mafr_diamond.fpkd in chunk4.
DebugChangeCameraSitPreset.lua
## Post #737
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-04T23:54:47+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from atvaark
>
> XrayDoc wrote:Anyone have an idea where the lua files for the camera are? I've tried looking through chunk0 and data1 but can't find the right file.
afgh_fort.fpkd in chunk2.
CameraAroundParams.lua 
CameraSubjectiveParams.lua
CameraTpsParams.lua
TppTrapExecChangeCamera.lua

mafr_lab.fpkd,mafr_diamond.fpkd in chunk4.
DebugChangeCameraSitPreset.lua
Holy shit you are a godsend. Thank you, now I'm gonna try something.

> Reply from XrayDoc
>
> atvaark wrote:XrayDoc wrote:Anyone have an idea where the lua files for the camera are? I've tried looking through chunk0 and data1 but can't find the right file.
afgh_fort.fpkd in chunk2.
CameraAroundParams.lua 
CameraSubjectiveParams.lua
CameraTpsParams.lua
TppTrapExecChangeCamera.lua

mafr_lab.fpkd,mafr_diamond.fpkd in chunk4.
DebugChangeCameraSitPreset.lua
Holy shit you are a godsend. Thank you, now I'm gonna try something.
Well shit, I can't decrypt the lua files no matter what I do. I'm not trying to code anything, I'm just trying to replace it with the FPS mod from GZ, but direct replacement doesn't work.

Edit: Ignore this
## Post #738
- Username: Topher
- Rank: n00b
- Number of posts: 12
- Joined date: Thu Oct 01, 2015 8:08 pm
- Post datetime: 2015-10-05T05:09:06+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from VenomRex
>
> I'm totally new to the modding community and I'd say you've done a great job, Topher. I've made a primitive batch script (before I knew someone would actually create a proper mod loader) to do automated unpacking, moving the .lua and repacking dat1 for my first published mod to ease the pain of confused users which can be found here: http://www.nexusmods.com/phantompain/mods/90/? 
I'm yet to play around with the source code like a damn fiddle soon when I have time, but these questions made me wonder: How's the metadata within mod.xml file is generated? Through dat2mod alone? Is it possible for SnakeBite to modify certain properties within .lua files for different mods that utilize the same .lua files to avoid conflict? What about the possibility of SnakeBite to parse the .lua files so that users can adjust the game properties via the software interface (e.g amount of demon points acquired for killing a soldier, etc)? 
I'd like to contribute to the development of this mod loader of yours, would be a great contribution to the modding community if it would be released as a finished tool.
Also, a more direct method to contact you beside PM would be much appreciated.
Cheers!

Consider the above code a proof-of-concept  You're welcome to use and/or distribute it alongside your mods provided you are able to create the necessary .mgsv files yourself. Since it was just something I put together in a couple of hours, and there's clearly interest/a need for such a tool, I'm going to rewrite it to include better support for uninstalling mods, checking files, etc. Merging the LUA files is not a priority at the moment (it's on the wishlist) but I'd like to get something functional that "regular" users can use to install mods.

You can contact me via email: [topher@xobanimot.com](mailto:topher@xobanimot.com)

Be aware it's just a side project for me at the moment but once I've got the source code for the new version up and running I'd be more than happy for anyone to contribute to it.
## Post #739
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-10-05T11:59:25+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> atvaark wrote:XrayDoc wrote:Anyone have an idea where the lua files for the camera are? I've tried looking through chunk0 and data1 but can't find the right file.
afgh_fort.fpkd in chunk2.
CameraAroundParams.lua 
CameraSubjectiveParams.lua
CameraTpsParams.lua
TppTrapExecChangeCamera.lua

mafr_lab.fpkd,mafr_diamond.fpkd in chunk4.
DebugChangeCameraSitPreset.lua
Holy shit you are a godsend. Thank you, now I'm gonna try something.
Just two pages ago I asked that very same question, to receive the very same reply, to reply with the discovery that those files do nothing. Is anybody actually reading this topic?
## Post #740
- Username: TheArk
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Mon Jun 03, 2013 12:12 am
- Post datetime: 2015-10-05T23:15:46+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Looks like the work on this is progressing quite well. I've not really moded anything outside of NV and F03 but TPP has turned out to be one of my favorite games and I'm certainly interest in working on it and seeing how I can contribute. Just a couple of questions.

Instead of replacing certain models or textures, would it be possible to add an additional tab in say the Development menu under uniforms and then throw a few new development options in for the Combat Unit? Such as the old MSF Uniform which is found on the Wandering MSF Soldiers and Hideo when you find him. 

Or

If there was a way to replace the base model at Mother Base for the generic uniforms the soldiers are wearing with the old style uniform, preferably the clean version of it, not the dirty and banged up option the wandering soldiers are wearing,

Though, both would be excellent options to be able to develop.
## Post #741
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-05T23:33:47+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> 
Just two pages ago I asked that very same question, to receive the very same reply, to reply with the discovery that those files do nothing. Is anybody actually reading this topic?
Yeah, I realized that after playing around with it. I just wanted to see if we could find the camera, replace it with the GZ FPS mod, and see what happens.
## Post #742
- Username: desperados
- Rank: n00b
- Number of posts: 14
- Joined date: Wed Jul 22, 2009 10:33 pm
- Post datetime: 2015-10-06T11:29:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hello,
 I try to open files xbox 360 SUBP but Fox Engine.Translation Tool 2.2 does not work for xbox. It could be to correct ?. Thanks
Send files xb360 eng

[https://www.dropbox.com/s/8ocbhnjqkn74n ... 0.zip?dl=0](https://www.dropbox.com/s/8ocbhnjqkn74n97/EngText_xb360.zip?dl=0)
## Post #743
- Username: JRavens
- Rank: beginner
- Number of posts: 20
- Joined date: Tue Dec 23, 2014 5:17 am
- Post datetime: 2015-10-06T14:44:53+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

PSA - the game updated on 10/6

00.dat ballooned up from 3.7 megs to 37 megs and now includes many updated LUA files from data1 so if you have a mod that uses lua files (like mine) extract 00.dat and double check the changes.

01.dat is now 24 megs of ftexs. Pretty sure this is all the missing graphics for the Tuxedo, MGS3 Sneaking Suit, Quiet's Boss suit and so forth. Still wondering when / how this is activated. I'm assuming the rumors about it being DLC you need to spend Motherbase Coins on is correct, but don't think it's been actually confirmed anywhere.

Now we need to figure out if it's easier to have the end user unpack and repack 01.dat, pack it ourselves (not recommended) or if there's any other way to hook in and add mods. Also do files in 01.dat override 00.dat? Not sure of the load order yet...
## Post #744
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-10-06T16:37:35+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Stange 01.dat appears to have lots of textures where the .ftex and .1.ftexs files are missing.
## Post #745
- Username: Alo81
- Rank: n00b
- Number of posts: 14
- Joined date: Fri Sep 04, 2015 6:57 am
- Post datetime: 2015-10-06T16:49:35+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Does anyone have access to the MGO3 files for PS4 or XONE?  

If we could strip those out, we might be able to get stuff like playable Ocelot with abilities on Phantom Pain single player.
## Post #746
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-10-06T17:09:43+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I can't seem to find any files relating to the new outfit DLC (Besides textures, haven't looked there). Can't find anything about the DLC being available anywhere but on Xbox One anyways. Maybe Steam won't get the outfits til PC MGO?

> Reply from Alo81
>
> Does anyone have access to the MGO3 files for PS4 or XONE?  

If we could strip those out, we might be able to get stuff like playable Ocelot with abilities on Phantom Pain single player.
Try asking for PS3 files. But that whole idea sounds real unrealistic sadly, even with access to Lua files. We don't even know how to mod the camera yet, one step at a time.
## Post #747
- Username: Shoukaku
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Wed Sep 30, 2015 6:30 am
- Post datetime: 2015-10-06T18:06:30+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

can anyone share snake sneaking with obj format
## Post #748
- Username: Poisonedmods
- Rank: n00b
- Number of posts: 12
- Joined date: Wed Oct 07, 2015 4:02 am
- Post datetime: 2015-10-06T20:04:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from JRavens
>
> PSA - the game updated on 10/6

00.dat ballooned up from 3.7 megs to 37 megs and now includes many updated LUA files from data1 so if you have a mod that uses lua files (like mine) extract 00.dat and double check the changes.

01.dat is now 24 megs of ftexs. Pretty sure this is all the missing graphics for the Tuxedo, MGS3 Sneaking Suit, Quiet's Boss suit and so forth. Still wondering when / how this is activated. I'm assuming the rumors about it being DLC you need to spend Motherbase Coins on is correct, but don't think it's been actually confirmed anywhere.

Now we need to figure out if it's easier to have the end user unpack and repack 01.dat, pack it ourselves (not recommended) or if there's any other way to hook in and add mods. Also do files in 01.dat override 00.dat? Not sure of the load order yet...

Well i managed to update my dlc and item unlocker mod through 00.dat but it seems like all other console dlcs there are no textures on PC and just crash the game Sadly sooooo
## Post #749
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-07T02:03:36+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Apparently Konami is checking how often files aren't verified for people and banning those people for modding. I don't know if this is true, but that's fucking insane if so.

One final post...

THEY FUCKING PATCHED THE WEAPON CUSTOMIZATION GLITCH

THE FUCKING BEST PART OF THE GAME

> Reply from Poisonedmods
>
> JRavens wrote:PSA - the game updated on 10/6

00.dat ballooned up from 3.7 megs to 37 megs and now includes many updated LUA files from data1 so if you have a mod that uses lua files (like mine) extract 00.dat and double check the changes.

01.dat is now 24 megs of ftexs. Pretty sure this is all the missing graphics for the Tuxedo, MGS3 Sneaking Suit, Quiet's Boss suit and so forth. Still wondering when / how this is activated. I'm assuming the rumors about it being DLC you need to spend Motherbase Coins on is correct, but don't think it's been actually confirmed anywhere.

Now we need to figure out if it's easier to have the end user unpack and repack 01.dat, pack it ourselves (not recommended) or if there's any other way to hook in and add mods. Also do files in 01.dat override 00.dat? Not sure of the load order yet...

Well i managed to update my dlc and item unlocker mod through 00.dat but it seems like all other console dlcs there are no textures on PC and just crash the game Sadly sooooo
Thanks to you, I found out the new skins are already in the game yet they haven't been officially released yet. Thanks Konami. :^)
[http://images.akamai.steamusercontent.c ... 0DC88D33B/](http://images.akamai.steamusercontent.com/ugc/387665671571866720/3F1716FD31ECF78C1E6D997B6B10F600DC88D33B/)
## Post #750
- Username: Poisonedmods
- Rank: n00b
- Number of posts: 12
- Joined date: Wed Oct 07, 2015 4:02 am
- Post datetime: 2015-10-07T02:31:14+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> Poisonedmods wrote:JRavens wrote:PSA - the game updated on 10/6

00.dat ballooned up from 3.7 megs to 37 megs and now includes many updated LUA files from data1 so if you have a mod that uses lua files (like mine) extract 00.dat and double check the changes.

01.dat is now 24 megs of ftexs. Pretty sure this is all the missing graphics for the Tuxedo, MGS3 Sneaking Suit, Quiet's Boss suit and so forth. Still wondering when / how this is activated. I'm assuming the rumors about it being DLC you need to spend Motherbase Coins on is correct, but don't think it's been actually confirmed anywhere.

Now we need to figure out if it's easier to have the end user unpack and repack 01.dat, pack it ourselves (not recommended) or if there's any other way to hook in and add mods. Also do files in 01.dat override 00.dat? Not sure of the load order yet...

Well i managed to update my dlc and item unlocker mod through 00.dat but it seems like all other console dlcs there are no textures on PC and just crash the game Sadly sooooo
Thanks to you, I found out the new skins are already in the game yet they haven't been officially released yet. Thanks Konami. :^)
http://images.akamai.steamusercontent.c ... 0DC88D33B/

yeah im not sure we are even going to get them LOL like with MGO reason we are even getting it january 1st is because kojima and konami contract ends december 31st 2015... so if they dont finish it we arent getting it.
## Post #751
- Username: odrin
- Rank: mega-veteran
- Number of posts: 172
- Joined date: Mon May 23, 2011 9:43 am
- Post datetime: 2015-10-07T02:40:16+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> Apparently Konami is checking how often files aren't verified for people and banning those people for modding. I don't know if this is true, but that's fucking insane if so.

oh wow that's probably true considering they rely on the grinding to sell their boosters and shit. and mods can easily swap their pdlc items with normal items.

sad part is, those using trainers in fob, if they hide it well, they still won't get detected since it bypasses file verification.

konami's a cuck/gimp
## Post #752
- Username: Poisonedmods
- Rank: n00b
- Number of posts: 12
- Joined date: Wed Oct 07, 2015 4:02 am
- Post datetime: 2015-10-07T02:43:28+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from odrin
>
> XrayDoc wrote:Apparently Konami is checking how often files aren't verified for people and banning those people for modding. I don't know if this is true, but that's fucking insane if so.

oh wow that's probably true considering they rely on the grinding to sell their boosters and shit. and mods can easily swap their pdlc items with normal items.

sad part is, those using trainers in fob, if they hide it well, they still won't get detected since it bypasses file verification.

konami's a cuck/gimp

Honestly dont care to much for FOB so ban hammer Me LOL.

Also curious anyone know of good ways to edit pftxs files without causing crashs?
## Post #753
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-07T03:16:52+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Poisonedmods
>
> odrin wrote:XrayDoc wrote:Apparently Konami is checking how often files aren't verified for people and banning those people for modding. I don't know if this is true, but that's fucking insane if so.

oh wow that's probably true considering they rely on the grinding to sell their boosters and shit. and mods can easily swap their pdlc items with normal items.

sad part is, those using trainers in fob, if they hide it well, they still won't get detected since it bypasses file verification.

konami's a cuck/gimp

Honestly dont care to much for FOB so ban hammer Me LOL.
Lol I haven't went online in MGSV since the first week.
## Post #754
- Username: emoose
- Rank: beginner
- Number of posts: 26
- Joined date: Fri Sep 11, 2015 4:06 am
- Post datetime: 2015-10-07T03:30:49+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

[MGSV QAR Dictionary Project](https://github.com/emoose/MGSV-QAR-Dictionary-Project) just got a big update, now naming 98.35% of files  (excluding textures)

Thanks to everyone who's helped out so far
## Post #755
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-07T03:44:40+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from emoose
>
> MGSV QAR Dictionary Project just got a big update, now naming 98.35% of files  (excluding textures)

Thanks to everyone who's helped out so far
Awesome! Great work people who worked on it!
## Post #756
- Username: Topher
- Rank: n00b
- Number of posts: 12
- Joined date: Thu Oct 01, 2015 8:08 pm
- Post datetime: 2015-10-07T06:42:41+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from emoose
>
> MGSV QAR Dictionary Project just got a big update, now naming 98.35% of files  (excluding textures)

Thanks to everyone who's helped out so far

Great work! Almost there!

On a side note: I'm trying to rebuild FPK files by generating XML data for GzsTool to use but the game doesn't accept them sometimes. I read somewhere that the files are stored in alphabetical order - is this necessary for the game to read them?
## Post #757
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-10-07T07:37:11+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> Poisonedmods wrote:JRavens wrote:PSA - the game updated on 10/6

00.dat ballooned up from 3.7 megs to 37 megs and now includes many updated LUA files from data1 so if you have a mod that uses lua files (like mine) extract 00.dat and double check the changes.

01.dat is now 24 megs of ftexs. Pretty sure this is all the missing graphics for the Tuxedo, MGS3 Sneaking Suit, Quiet's Boss suit and so forth. Still wondering when / how this is activated. I'm assuming the rumors about it being DLC you need to spend Motherbase Coins on is correct, but don't think it's been actually confirmed anywhere.

Now we need to figure out if it's easier to have the end user unpack and repack 01.dat, pack it ourselves (not recommended) or if there's any other way to hook in and add mods. Also do files in 01.dat override 00.dat? Not sure of the load order yet...

Well i managed to update my dlc and item unlocker mod through 00.dat but it seems like all other console dlcs there are no textures on PC and just crash the game Sadly sooooo
Thanks to you, I found out the new skins are already in the game yet they haven't been officially released yet. Thanks Konami. :^)
http://images.akamai.steamusercontent.c ... 0DC88D33B/
You phrase it like the models/textures themselves are actually in the game. Any proof of that? (I've mass-searched all the qars for extra snake outfit IDs and found nothing, I really doubt the models themselves are in the game yet)
## Post #758
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-07T08:39:05+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

They aren't, but the models are done so why don't they release them? They got out on Xbox early so they obviously work.
## Post #759
- Username: nudifyher
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Thu Sep 10, 2015 11:50 pm
- Post datetime: 2015-10-07T09:26:55+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Still trying to edit Quiet's outfit, I can't get the modifications to show up though
[http://i.imgur.com/9ux1rLT.png](http://i.imgur.com/9ux1rLT.png)
I've used the DDS from these files [http://i.imgur.com/JF0pIFD.png](http://i.imgur.com/JF0pIFD.png)   all of them have been edited same way as in first picture.
Care to help?
## Post #760
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-10-07T09:44:37+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Topher
>
> On a side note: I'm trying to rebuild FPK files by generating XML data for GzsTool to use but the game doesn't accept them sometimes. I read somewhere that the files are stored in alphabetical order - is this necessary for the game to read them?

Likewise I've never had any luck with having the game use GzsTool built Qars, while those built by Qar Tool are fine. The fpks built by gzstool but put in Qars built by Qar tool work fine for me.
## Post #761
- Username: JRavens
- Rank: beginner
- Number of posts: 20
- Joined date: Tue Dec 23, 2014 5:17 am
- Post datetime: 2015-10-07T12:20:17+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> Apparently Konami is checking how often files aren't verified for people and banning those people for modding. I don't know if this is true, but that's fucking insane if so.
Is there a source on this?

If it's true it would suck for modders (but honestly it's kind of expected because K did a TERRIBLE job by not separating FOB away from the SP game. If MGO can have a separate file structure there's NO reason they couldn't have set the game up to use an FOB set:

\Tpp\
\FOB\
\MGO\

*sigh*

I found all the sp AND FOB health, regen, firing speed and other stuff and was HORRIFIED at not how easy it would be to modify, but also how it's fucking labeled for any kid to find and hack. I mean literally any 12yo with Notepad++ could hack this game. It's just shameful honestly. 

> Reply from Tex
>
> Topher wrote:On a side note: I'm trying to rebuild FPK files by generating XML data for GzsTool to use but the game doesn't accept them sometimes. I read somewhere that the files are stored in alphabetical order - is this necessary for the game to read them?

Likewise I've never had any luck with having the game use GzsTool built Qars, while those built by Qar Tool are fine. The fpks built by gzstool but put in Qars built by Qar tool work fine for me.
Are you having trouble upacking any of the new FPKs from inside the 00.dat?

I was trying to update my real weapon names mod, but can't unpack the new 2c91cbff1005.fpk (maybe emoose has that file correctly named now LOL) which contains the language lng2 files with additional entries. Nothing I tried would work on it, but I've had weird "rights usage" problems with my win 8.1 machine in the past so wasn't sure if it was just me. I can unpack existing FPK files from the chunks though so... ??

PS - and yes I always have problems when trying to use repack files with GzsTool which Is a shame because I love Atvaarks tools and it unpacks fantastically. Not sure why that problem occurs when using it for repack...

> Reply from Higus
>
> You phrase it like the models/textures themselves are actually in the game. Any proof of that? (I've mass-searched all the qars for extra snake outfit IDs and found nothing, I really doubt the models themselves are in the game yet)
Well that's unfortunate. I was hoping the model files were already in place and we were just waiting for 01.dat to drop with the textures (or that the models would be in 01.dat as well but all I see are ftexs in it and the UI icons)

So then maybe this IS a DLC thing (buy it and get 02.dat or DLC1.dat or whatever)
## Post #762
- Username: JRavens
- Rank: beginner
- Number of posts: 20
- Joined date: Tue Dec 23, 2014 5:17 am
- Post datetime: 2015-10-07T12:26:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> Topher wrote:On a side note: I'm trying to rebuild FPK files by generating XML data for GzsTool to use but the game doesn't accept them sometimes. I read somewhere that the files are stored in alphabetical order - is this necessary for the game to read them?

Likewise I've never had any luck with having the game use GzsTool built Qars, while those built by Qar Tool are fine. The fpks built by gzstool but put in Qars built by Qar tool work fine for me.
Are you having trouble upacking any of the new FPKs from inside the 00.dat?

I was trying to update my real weapon names mod, but can't unpack the new 2c91cbff1005.fpk (maybe emoose has that file correctly named now LOL) which contains the language lng2 files with additional entries. Nothing I tried would work on it, but I've had weird "rights usage" problems with my win 8.1 machine in the past so wasn't sure if it was just me. I can unpack existing FPK files from the chunks though so... ??

PS - and yes I always have problems when trying to use repack files with GzsTool which Is a shame because I love Atvaarks tools and it unpacks fantastically. Not sure why that problem occurs when using it for repack...
## Post #763
- Username: abuali
- Rank: beginner
- Number of posts: 20
- Joined date: Mon Dec 13, 2010 12:48 am
- Post datetime: 2015-10-07T13:31:37+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I wonder If i can modify the .sbp archives, it contains audio files "sfx,voices", I was able to extract their contents by Ravioli Game Tools v2.8, but it doesn't had the import option to modify the original ones.
## Post #764
- Username: alex61194
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Wed Sep 16, 2015 1:42 am
- Post datetime: 2015-10-07T14:48:24+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

you did notice that with the dlc unlocker appears 2 skins to d-dog? miller and ocelot no textures for it so i cant see it in game [http://images.akamai.steamusercontent.c ... 77A21B018/](http://images.akamai.steamusercontent.com/ugc/395546970934269529/E0F20DDD0856186285033889B70475577A21B018/)
## Post #765
- Username: bigbox
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Wed Oct 07, 2015 11:50 pm
- Post datetime: 2015-10-07T16:04:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Sorry if this is the wrong place to ask but this place seems to be pretty knowledgeable. After the latest update is it safe to use cheat engine for simple resource modding (adding more resources)? With the new update some pretty expensive research items were added and I don't want to spend too much time hunting for resources instead of playing the game.

Also how does Konami punish cheaters/modders anyway?
## Post #766
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-10-07T16:57:32+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from JRavens
>
> 
I was trying to update my real weapon names mod, but can't unpack the new 2c91cbff1005.fpk (maybe emoose has that file correctly named now LOL) which contains the language lng2 files with additional entries. Nothing I tried would work on it, but I've had weird "rights usage" problems with my win 8.1 machine in the past so wasn't sure if it was just me. I can unpack existing FPK files from the chunks though so... ??

I have no trouble extracting that pack here, so I don't know. Mystery.
## Post #767
- Username: Poisonedmods
- Rank: n00b
- Number of posts: 12
- Joined date: Wed Oct 07, 2015 4:02 am
- Post datetime: 2015-10-07T17:45:32+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from alex61194
>
> you did notice that with the dlc unlocker appears 2 skins to d-dog? miller and ocelot no textures for it so i cant see it in game http://images.akamai.steamusercontent.c ... 77A21B018/

yeah i noticed that to it was in Version 1.02 aswell i wasint sure what i ment but they dont do anything
## Post #768
- Username: Quiet
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Sun Sep 27, 2015 7:48 pm
- Post datetime: 2015-10-07T18:13:12+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hi. Did a minor skin test. Game runs fine but texture on left shoulder won't load. Repacked dds file all different ways with same result. Any ideas.



I believe its this bit that won't load.
## Post #769
- Username: JRavens
- Rank: beginner
- Number of posts: 20
- Joined date: Tue Dec 23, 2014 5:17 am
- Post datetime: 2015-10-07T18:59:04+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> JRavens wrote:
I was trying to update my real weapon names mod, but can't unpack the new 2c91cbff1005.fpk (maybe emoose has that file correctly named now LOL) which contains the language lng2 files with additional entries. Nothing I tried would work on it, but I've had weird "rights usage" problems with my win 8.1 machine in the past so wasn't sure if it was just me. I can unpack existing FPK files from the chunks though so... ??

I have no trouble extracting that pack here, so I don't know. Mystery.
Damn. Was kind of hoping not to hear that. Can I ask which tool worked for you Gzs or FPK or ??

Maybe I'll try moving everything to yet another drive...
## Post #770
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-10-07T19:41:56+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from JRavens
>
> Damn. Was kind of hoping not to hear that. Can I ask which tool worked for you Gzs or FPK or ??

gzstool.
## Post #771
- Username: frankcip
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Thu Sep 24, 2015 11:01 pm
- Post datetime: 2015-10-07T21:10:44+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nudifyher
>
> Still trying to edit Quiet's outfit, I can't get the modifications to show up though
http://i.imgur.com/9ux1rLT.png
I've used the DDS from these files http://i.imgur.com/JF0pIFD.png   all of them have been edited same way as in first picture.
Care to help?
Pubes!!! Please share this when it's done.
## Post #772
- Username: WonDoe
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Mon Sep 28, 2015 10:57 am
- Post datetime: 2015-10-08T07:41:49+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Been lurking since pre-release. Disappointed to see the thread gradually devolve into obsessing over Quiet, but it was definitely expected.

Unfortunately it seems there's only a very few amount of true modders who are trying to get some work done and aren't spamming Nexusmods with garbage. Respect to the original guys here.
## Post #773
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-10-08T08:16:05+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from WonDoe
>
> Been lurking since pre-release. Disappointed to see the thread gradually devolve into obsessing over Quiet, but it was definitely expected.

Unfortunately it seems there's only a very few amount of true modders who are trying to get some work done and aren't spamming Nexusmods with garbage. Respect to the original guys here.

This true modders thing is quite annoying honestly. I can understand being annoyed by some of the content but that doesn't mean that only some are "true modders".

Some people simply feel like modding trying out mods for themselves, without having the means to get to far into doing so. Of course when tools become available, people will want to mess around with them. Even the Quiet mods have good contributors. This seems like a slightly ignorant mindset to have.
## Post #774
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-08T10:38:59+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from WonDoe
>
> Been lurking since pre-release. Disappointed to see the thread gradually devolve into obsessing over Quiet, but it was definitely expected.

Unfortunately it seems there's only a very few amount of true modders who are trying to get some work done and aren't spamming Nexusmods with garbage. Respect to the original guys here.
## Post #775
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-10-08T11:14:37+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

GzsTool v0.5 will support adding files to dat, fpk, fpkd and pftxs archives and fix some issues with hashes getting calculated incorrectly. This should fix the problems people have been reporting with repacked dat files.
There were also some incorrectly named file names in the dictionary I'm distributing with the tool. I've fixed them locally and will create a pull request to emoose's repository later.

The release will be today or tomorrow.
## Post #776
- Username: Topher
- Rank: n00b
- Number of posts: 12
- Joined date: Thu Oct 01, 2015 8:08 pm
- Post datetime: 2015-10-08T13:49:11+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from atvaark
>
> GzsTool v0.5 will support adding files to dat, fpk, fpkd and pftxs archives and fix some issues with hashes getting calculated incorrectly. This should fix the problems people have been reporting with repacked dat files.
There were also some incorrectly named file names in the dictionary I'm distributing with the tool. I've fixed them locally and will create a pull request to emoose's repository later.

The release will be today or tomorrow.
Thank you very much for your hard work on GzsTool!

I've started development on a mod manager that's basically a frontend for GzsTool. It's a complete rewrite from my earlier code in C#.

If anyone's interested in checking it out or contributing (not ready for release yet, need to make a proper mod file generator and some other stuff, namely uninstalling) see here:
[SnakeBite on GitHub](https://github.com/topher-au/SnakeBite)
## Post #777
- Username: abuali
- Rank: beginner
- Number of posts: 20
- Joined date: Mon Dec 13, 2010 12:48 am
- Post datetime: 2015-10-08T15:06:39+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from atvaark
>
> GzsTool v0.5 will support adding files to dat, fpk, fpkd and pftxs archives and fix some issues with hashes getting calculated incorrectly. This should fix the problems people have been reporting with repacked dat files.
There were also some incorrectly named file names in the dictionary I'm distributing with the tool. I've fixed them locally and will create a pull request to emoose's repository later.

The release will be today or tomorrow.
i want to ask if there is any chance we will get .sbp unpacker/repacker?
## Post #778
- Username: emoose
- Rank: beginner
- Number of posts: 26
- Joined date: Fri Sep 11, 2015 4:06 am
- Post datetime: 2015-10-09T00:06:03+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from abuali
>
> atvaark wrote:GzsTool v0.5 will support adding files to dat, fpk, fpkd and pftxs archives and fix some issues with hashes getting calculated incorrectly. This should fix the problems people have been reporting with repacked dat files.
There were also some incorrectly named file names in the dictionary I'm distributing with the tool. I've fixed them locally and will create a pull request to emoose's repository later.

The release will be today or tomorrow.
i want to ask if there is any chance we will get .sbp unpacker/repacker?

.sbp files are just Wwise Soundbanks with a small header iirc, the format is described at [http://wiki.xentax.com/index.php/Wwise_ ... nk_(*.bnk)](http://wiki.xentax.com/index.php/Wwise_SoundBank_%28*.bnk%29), so there might already be an unpacker/packer on this site somewhere.
## Post #779
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-10-09T05:47:20+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from abuali
>
> atvaark wrote:GzsTool v0.5 will support adding files to dat, fpk, fpkd and pftxs archives and fix some issues with hashes getting calculated incorrectly. This should fix the problems people have been reporting with repacked dat files.
There were also some incorrectly named file names in the dictionary I'm distributing with the tool. I've fixed them locally and will create a pull request to emoose's repository later.

The release will be today or tomorrow.
i want to ask if there is any chance we will get .sbp unpacker/repacker?
.sbp files are pretty straightforward. They just contain 2-3 other files (bnk, stp, sab). .bnk is the soundbank, .stp contains the sound files and no clue what .sab is for.
This is how they can be read:
[https://gist.github.com/Atvaark/8fff4aab06231155be77](https://gist.github.com/Atvaark/8fff4aab06231155be77)
## Post #780
- Username: allah1985
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Sat Sep 19, 2015 1:05 pm
- Post datetime: 2015-10-09T14:04:35+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Is it possible to use models from TPP in GZ? For instance playing as Ocelot or another character instead of Big Boss during GZ?
## Post #781
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-09T23:49:48+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from allah1985
>
> Is it possible to use models from TPP in GZ? For instance playing as Ocelot or another character instead of Big Boss during GZ?
No but you can use GZ models in TPP
## Post #782
- Username: frankcip
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Thu Sep 24, 2015 11:01 pm
- Post datetime: 2015-10-10T04:10:41+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

OK so after updating the game last night, if I change anything in textures3.dat the game crashes to dextop. 
Do I need to downgrade
## Post #783
- Username: Topher
- Rank: n00b
- Number of posts: 12
- Joined date: Thu Oct 01, 2015 8:08 pm
- Post datetime: 2015-10-10T08:30:04+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hey guys, I'm putting out a test release of my mod manager.

If anyone would be willing to help me test it that would be fantastic.

[Download Here](https://github.com/topher-au/SnakeBite/releases)

You can use the included "makebite" to make mod files and SnakeBite to install them.
## Post #784
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-10-10T09:07:13+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Topher
>
> Hey guys, I'm putting out a test release of my mod manager.

If anyone would be willing to help me test it that would be fantastic.

Download Here

You can use the included "makebite" to make mod files and SnakeBite to install them.

Bit of a late reply to your actual stuff, a bit burned out fighting my own fires in getting my mod over the patch change. Naturally came up with a laundry list of wanted features when doing my own stuff, but won't say anything till I actually look at your stuff.
So just a thanks for your effort for now, until my brain doesn't try to kill me for even looking in the direction of any kind of tool.
## Post #785
- Username: DefaultMan
- Rank: beginner
- Number of posts: 22
- Joined date: Sat Jul 18, 2015 2:34 pm
- Post datetime: 2015-10-10T11:51:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DefaultMan
>
> Have been doing some model swaps and just managed to find the body model for the dealer from the airport mission (chunk1\Assets\tpp\pack\fova\chara\pfs\pfs0_uniq0_v04.fpk). Strangely enough I cant find a fcnp file for it and when in game the textures are all messed up and flicker like crazy http://imgur.com/a/E5n9D.
Any ideas what is going on here.
Well this is interesting, I thought I'd do some more testing with this today and decided to load up Mission 21, as soon as the mission started the textures for the suit went to normal [http://images.akamai.steamusercontent.c ... 620C0DFB9/](http://images.akamai.steamusercontent.com/ugc/642119050544156118/306E02DDFEAD858281BF48CD2654B6E620C0DFB9/), switching missions, returning to the menu all worked fine with the textures loading as normal, not exactly sure why the texture loading would be linked to the mission besides that is where the suit is used but even then you would expect the textures to load correctly when the model calls for them.
## Post #786
- Username: Solidcal
- Rank: beginner
- Number of posts: 26
- Joined date: Thu Apr 30, 2015 4:05 am
- Post datetime: 2015-10-10T14:30:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

So I see people are talking about an update that made the .dats in the 0 folder a bit bigger. All they did was add in the dlc outfit icons textures. The actual dlc models are coming october the 20th as they were originally planned before they got leaked on xbox live.
## Post #787
- Username: JRavens
- Rank: beginner
- Number of posts: 20
- Joined date: Tue Dec 23, 2014 5:17 am
- Post datetime: 2015-10-10T14:57:45+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Topher
>
> Hey guys, I'm putting out a test release of my mod manager.

If anyone would be willing to help me test it that would be fantastic.

Download Here

You can use the included "makebite" to make mod files and SnakeBite to install them.
I wanted to thank you to Topher for working on this. I DID try your initial version but sadly I couldn't offer appropriate feedback because I am having various problems with my personal machine packing and unpacking correctly to the C drive and some other drives and folders (some kind of rights usage issue even though my account IS the original Admin count - thanks Windows grrr). When I get my problems sorted out (or a workaround) I'll give your mod manager another go 

> Reply from Solidcal
>
> So I see people are talking about an update that made the .dats in the 0 folder a bit bigger. All they did was add in the dlc outfit icons textures. The actual dlc models are coming october the 20th as they were originally planned before they got leaked on xbox live.
Not to be rude, but you should examine those files before you speak with authority on them.

You may be correct about the model files coming, but FYI the 01.dat file contains more than just the UI icons (presumably it's the outfit textures as well) and 00.dat contains a plethora of patched replacement files that have absolutely nothing to do with the additional outfits so no they didn't just add a few UI icons.
## Post #788
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-10-10T18:48:14+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Solidcal
>
> So I see people are talking about an update that made the .dats in the 0 folder a bit bigger. All they did was add in the dlc outfit icons textures. The actual dlc models are coming october the 20th as they were originally planned before they got leaked on xbox live.

They updated a bunch of the lua scripts to support the new fob missions and some other things, a bunch of ui changes, a bunch of lang files for said updates, patched about 5 story missions, I haven't checked what they actually did there. That's what I can see just from looking at the extracted file names (apart from the lua stuff which I saw when manually merging my mod).
## Post #789
- Username: E3245
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sat Jun 20, 2015 9:35 pm
- Post datetime: 2015-10-10T18:54:16+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hello guys, I'm new here, but I want to show you what I've been doing for the past few days. I've been modding the MB freeroam mission to remove some restrictions, like lethal weapon wielding, getting on turrets, etc.

You can now grab and knife your staff.

I removed some lines to allow lethal weapons, but there are still some problems I can't figure out.

I removed another line and now the entire MB staff is hostile to me.


I still can't kill any MB staff without getting a game over, even if they are hostile. 
This is just a test though. I doubt anyone would like to use this mod. Hopefully this can get more interest in mission modding.
## Post #790
- Username: JohnBC
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Tue Sep 29, 2015 4:51 pm
- Post datetime: 2015-10-11T03:21:19+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

where is naked tiger model?
## Post #791
- Username: Escapist
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Sun Oct 11, 2015 1:53 am
- Post datetime: 2015-10-11T03:49:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hi
I made 2 playable Quiet mods for the PS3. One for female soldiers and one for Venom Snake.
I would've rather ported the pc mods, but I couldn't figure out how. PS3's fmdl (fox model)  sizes, endianness, and some lines of code are different. So I swapped and hex edited the PS3 files for now.
Thanks to Higus/Shigu, DarknessValtier, Sergeanur, and others for figuring out how to mod the game.

The problems are listed in readme file.
The biggest ones being:
-How to remove the Quiet's bra tassel to improve her breast physics (editing Quiet's fmdl beyond making polygons invisible is a mystery to me)
-Preventing Quiet's textures from disappearing (workaround in the readme file)
-Model swapping Venom Snake without making his face glitched in other costumes
If anyone has information on fixing these, I'll take any info I can get. Otherwise the mod works well I've been playing as Quiet for a while.

Here's a video of the mod in action (I don't own a tv capture device, sorry)
[http://www.youtube.com/watch?v=zD3K1GKQ6gA](http://www.youtube.com/watch?v=zD3K1GKQ6gA)

Files Download Link - [https://mega.nz/#!Hho3UIAB!TOVMVEw8JSgt ... vvI6Hm-kMM](https://mega.nz/#!Hho3UIAB!TOVMVEw8JSgt8DY-pe14ZjLQKT-sw-VF3vvI6Hm-kMM)
## Post #792
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-10-11T10:05:46+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from atvaark
>
> GzsTool v0.5 will support adding files to dat, fpk, fpkd and pftxs archives and fix some issues with hashes getting calculated incorrectly. This should fix the problems people have been reporting with repacked dat files.

Do you mean adding actual new files? If so I can't see any usage examples of how to do so. Or did you mean repacking a wider range of archive types?

Either way, great work as usual.
## Post #793
- Username: jigodie
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Thu Nov 20, 2014 3:47 am
- Post datetime: 2015-10-11T14:07:58+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Does anybody know where the scripts for camera (player) are located (for PhantomPain). I found something in \data1\Assets\tpp\script\lib\TppPlayer.lua (unpacked/packed using QAR tools v1.3.2. with -r) but changing settings in it doesn't seem to do anything in game... I just want to change the camera position to be a little bit closer to the character when walking/running !!!
## Post #794
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-10-11T15:23:45+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DefaultMan
>
> DefaultMan wrote:Have been doing some model swaps and just managed to find the body model for the dealer from the airport mission (chunk1\Assets\tpp\pack\fova\chara\pfs\pfs0_uniq0_v04.fpk). Strangely enough I cant find a fcnp file for it and when in game the textures are all messed up and flicker like crazy http://imgur.com/a/E5n9D.
Any ideas what is going on here.
Well this is interesting, I thought I'd do some more testing with this today and decided to load up Mission 21, as soon as the mission started the textures for the suit went to normal http://images.akamai.steamusercontent.c ... 620C0DFB9/, switching missions, returning to the menu all worked fine with the textures loading as normal, not exactly sure why the texture loading would be linked to the mission besides that is where the suit is used but even then you would expect the textures to load correctly when the model calls for them.
Which fmdl in which fpk is that guy? I think I may know what to do
## Post #795
- Username: DefaultMan
- Rank: beginner
- Number of posts: 22
- Joined date: Sat Jul 18, 2015 2:34 pm
- Post datetime: 2015-10-11T23:07:14+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> DefaultMan wrote:
Well this is interesting, I thought I'd do some more testing with this today and decided to load up Mission 21, as soon as the mission started the textures for the suit went to normal http://images.akamai.steamusercontent.c ... 620C0DFB9/, switching missions, returning to the menu all worked fine with the textures loading as normal, not exactly sure why the texture loading would be linked to the mission besides that is where the suit is used but even then you would expect the textures to load correctly when the model calls for them.
Which fmdl in which fpk is that guy? I think I may know what to do
Found it in chunk1, inside Assets\tpp\pack\fova\chara\pfs\pfs0_uniq0_v04.fpk the fmdl for it from there is Assets\tpp\chara\dnt\Scenes\dnt0_main0_def.fmdl
## Post #796
- Username: DarknessValtier
- Rank: beginner
- Number of posts: 35
- Joined date: Sat Feb 07, 2009 11:47 pm
- Post datetime: 2015-10-12T02:06:22+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DefaultMan
>
> Higus wrote:DefaultMan wrote:
Well this is interesting, I thought I'd do some more testing with this today and decided to load up Mission 21, as soon as the mission started the textures for the suit went to normal http://images.akamai.steamusercontent.c ... 620C0DFB9/, switching missions, returning to the menu all worked fine with the textures loading as normal, not exactly sure why the texture loading would be linked to the mission besides that is where the suit is used but even then you would expect the textures to load correctly when the model calls for them.
Which fmdl in which fpk is that guy? I think I may know what to do
Found it in chunk1, inside Assets\tpp\pack\fova\chara\pfs\pfs0_uniq0_v04.fpk the fmdl for it from there is Assets\tpp\chara\dnt\Scenes\dnt0_main0_def.fmdl
What!!!? who is this guy? O_o"
## Post #797
- Username: DefaultMan
- Rank: beginner
- Number of posts: 22
- Joined date: Sat Jul 18, 2015 2:34 pm
- Post datetime: 2015-10-12T03:28:19+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DarknessValtier
>
> What!!!? who is this guy? O_o"
Suit/Body is from the Dealer on Mission 21, rest is my Avatar with some part replacement mods I have been working on.
## Post #798
- Username: BakedCookie
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Mon Oct 12, 2015 11:52 am
- Post datetime: 2015-10-12T06:23:18+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Sorry if this has been asked/answered before in the thread (I read most of the posts and couldn't find the answer) but how does one go about hiding the player mesh when going first person? From what I gather the .fmdl model I want to put in goes into \plparts_ddf_venom_fpk\Assets\tpp\chara\dds\Scenes and \plparts_ddf_venom_fpk\Assets\tpp\chara\sna\Scenes under different names, but at least one of those has to be modified right? I'm trying to understand what's happening by comparing existing model swaps with vanilla files but so far I don't see the pattern. I've also seen other swaps accomplish the same thing using the \tpp\pack\fova and \tpp\pack\player paths with the file sizes being significantly different. Would anyone offer a word of a advise on what I need to do?
## Post #799
- Username: Escapist
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Sun Oct 11, 2015 1:53 am
- Post datetime: 2015-10-12T19:34:33+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BakedCookie
>
> Sorry if this has been asked/answered before in the thread (I read most of the posts and couldn't find the answer) but how does one go about hiding the player mesh when going first person? From what I gather the .fmdl model I want to put in goes into \plparts_ddf_venom_fpk\Assets\tpp\chara\dds\Scenes and \plparts_ddf_venom_fpk\Assets\tpp\chara\sna\Scenes under different names, but at least one of those has to be modified right? I'm trying to understand what's happening by comparing existing model swaps with vanilla files but so far I don't see the pattern. I've also seen other swaps accomplish the same thing using the \tpp\pack\fova and \tpp\pack\player paths with the file sizes being significantly different. Would anyone offer a word of a advise on what I need to do?

Replace VenomDDF's body with an invisible version of the model you want. You can do this through hex editing. Open your desired fmdl, highlight from the start of repeating pattern looking text to the end of the fmdl. Replace all with zeros. In Hxd (a hex editor), you'd highlight the pattern, right click, click fill selection, and press ok. Next replace the Venom DDF's headgear with an unedited version of the same model you want.
Locations: VenomDDF's Body -> chunk0\Assets\tpp\pack\player\parts\plparts_ddf_venom_fpk\Assets\tpp\chara\sna\Scenes\sna4_plyf0_def 
                  VenomDDF's Headgear =>chunk0\Assets\tpp\pack\fova\common_source\chara\cm_head\face\cm_dds6_head_z_eye0_fpk\Assets\tpp\chara\dds\Scenes\dds6_head_z_cov
The picture shows an invisible default Quiet fmdl and an unedited one. Note how the highlighted text pattern (polygon info?) is less random looking than the un-highlighted text. I changed the charset to DOS to make it easier to see. There might be a better way to do it but this way is quick and easy. Hope this helps.
## Post #800
- Username: BakedCookie
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Mon Oct 12, 2015 11:52 am
- Post datetime: 2015-10-12T20:47:51+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

While I mess around with when to zero out the data (tried from 0x0008DD70 onwards) I have created something straight out of PT. What kinda bothers me a little is that when analyzing other swaps the hex tables differ in more places than just the end. Sometimes the beginning is a little different along with some different data in the middle. I'll try trial and error for now.



EDIT: Ah, the body glitch was just me forgetting to put the right fcnp and frdv files along with the model. Right now only the hair disappears with the face and body remaining as they were. Trial and error it is then.

EDIT 2: It works! After a dozen iterations going back and zeroing chunks off the end of the file I whittled down the model to the head and then finally to nothingness, leaving no bugs in first person view.

EDIT 3: I published this mod on the nexus, check it out if you'd like: [http://www.nexusmods.com/metalgearsolidvtpp/mods/112/](http://www.nexusmods.com/metalgearsolidvtpp/mods/112/)?
## Post #801
- Username: CaptianKnuckles
- Rank: n00b
- Number of posts: 13
- Joined date: Mon Sep 07, 2015 4:34 am
- Post datetime: 2015-10-12T22:39:02+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Can anyone tell me where the Heavy Russian Soldier with the Welding Mask (ALTYN) Helmet is?
## Post #802
- Username: DefaultMan
- Rank: beginner
- Number of posts: 22
- Joined date: Sat Jul 18, 2015 2:34 pm
- Post datetime: 2015-10-13T01:42:10+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from CaptianKnuckles
>
> Can anyone tell me where the Heavy Russian Soldier with the Welding Mask (ALTYN) Helmet is?
It should be in chunk1\Assets\tpp\pack\fova\chara\svs\sva0_main0_v00.fpk Welding Mask Helmet appears to be a separate model from the body
## Post #803
- Username: CaptianKnuckles
- Rank: n00b
- Number of posts: 13
- Joined date: Mon Sep 07, 2015 4:34 am
- Post datetime: 2015-10-13T21:38:33+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DefaultMan
>
> CaptianKnuckles wrote:Can anyone tell me where the Heavy Russian Soldier with the Welding Mask (ALTYN) Helmet is?
It should be in chunk1\Assets\tpp\pack\fova\chara\svs\sva0_main0_v00.fpk Welding Mask Helmet appears to be a separate model from the body

Thanks man!

Edit: Don't wanna be a bother but could you also tell me where the old MSF Soldier is located? I tried ripping the MSF guy from Ground Zeroes and that works alright but his pupils are glitched to solid green for some reason so I'd like to have a go at TPP's MSF Soldier.

Also, where could I get the tool where people are viewing the .fmdl's?
## Post #804
- Username: DefaultMan
- Rank: beginner
- Number of posts: 22
- Joined date: Sat Jul 18, 2015 2:34 pm
- Post datetime: 2015-10-14T03:21:59+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from CaptianKnuckles
>
> 
Edit: Don't wanna be a bother but could you also tell me where the old MSF Soldier is located? I tried ripping the MSF guy from Ground Zeroes and that works alright but his pupils are glitched to solid green for some reason so I'd like to have a go at TPP's MSF Soldier.

Also, where could I get the tool where people are viewing the .fmdl's?
MSF Soldier should be chunk1\Assets\tpp\pack\fova\chara\svs\sva0_dds0_v00.fpk or chunk1\Assets\tpp\pack\fova\chara\pfs\pfs0_dds0_v00.fpk they both appear to be the same model
And im using the FMDL Maxscript to view the models found here [https://github.com/Jayveerk/FMDL](https://github.com/Jayveerk/FMDL)
## Post #805
- Username: CaptianKnuckles
- Rank: n00b
- Number of posts: 13
- Joined date: Mon Sep 07, 2015 4:34 am
- Post datetime: 2015-10-14T03:33:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DefaultMan
>
> CaptianKnuckles wrote:
Edit: Don't wanna be a bother but could you also tell me where the old MSF Soldier is located? I tried ripping the MSF guy from Ground Zeroes and that works alright but his pupils are glitched to solid green for some reason so I'd like to have a go at TPP's MSF Soldier.

Also, where could I get the tool where people are viewing the .fmdl's?
MSF Soldier should be chunk1\Assets\tpp\pack\fova\chara\svs\sva0_dds0_v00.fpk or chunk1\Assets\tpp\pack\fova\chara\pfs\pfs0_dds0_v00.fpk they both appear to be the same model
And im using the FMDL Maxscript to view the models found here https://github.com/Jayveerk/FMDL

Thanks again man! Sadly I don't have the program for the .FMDL viewing, I'd assume 3DS Max?

Just checked the .fmdl in the pfs folder, he doesn't have eye balls when I equip him. I'll try the svs folder this time.
## Post #806
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-10-14T03:40:45+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from CaptianKnuckles
>
> DefaultMan wrote:CaptianKnuckles wrote:
Edit: Don't wanna be a bother but could you also tell me where the old MSF Soldier is located? I tried ripping the MSF guy from Ground Zeroes and that works alright but his pupils are glitched to solid green for some reason so I'd like to have a go at TPP's MSF Soldier.

Also, where could I get the tool where people are viewing the .fmdl's?
MSF Soldier should be chunk1\Assets\tpp\pack\fova\chara\svs\sva0_dds0_v00.fpk or chunk1\Assets\tpp\pack\fova\chara\pfs\pfs0_dds0_v00.fpk they both appear to be the same model
And im using the FMDL Maxscript to view the models found here https://github.com/Jayveerk/FMDL

Thanks again man! Sadly I don't have the program for the .FMDL viewing, I'd assume 3DS Max?

Just checked the .fmdl in the pfs folder, he doesn't have eye balls when I equip him. I'll try the svs folder this time.

Yeah, the program being used is 3DS Max. It would be cool if there was a noesis plugin for those who don't have it but for now those who don't have it are going to have to place each into the game to find out what it is.
## Post #807
- Username: CaptianKnuckles
- Rank: n00b
- Number of posts: 13
- Joined date: Mon Sep 07, 2015 4:34 am
- Post datetime: 2015-10-14T03:45:13+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Damn, that's rough. Also, checked the svs version of the MSF Soldier and this guy doesn't have eye balls either? Any fix possible?
## Post #808
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-10-14T06:29:39+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from CaptianKnuckles
>
> Damn, that's rough. Also, checked the svs version of the MSF Soldier and this guy doesn't have eye balls either? Any fix possible?

You mean the soldiers don't have eyes? I doubt there's a fix for that at the moment. The Diamond Dog soldiers get their eyes from the outfits they wear.
## Post #809
- Username: Solidcal
- Rank: beginner
- Number of posts: 26
- Joined date: Thu Apr 30, 2015 4:05 am
- Post datetime: 2015-10-14T18:21:26+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from JRavens
>
> Solidcal wrote:So I see people are talking about an update that made the .dats in the 0 folder a bit bigger. All they did was add in the dlc outfit icons textures. The actual dlc models are coming october the 20th as they were originally planned before they got leaked on xbox live.
Not to be rude, but you should examine those files before you speak with authority on them.

You may be correct about the model files coming, but FYI the 01.dat file contains more than just the UI icons (presumably it's the outfit textures as well) and 00.dat contains a plethora of patched replacement files that have absolutely nothing to do with the additional outfits so no they didn't just add a few UI icons.
I wasn't saying it like I had authority and knew what was there. I already knew about the lua files and such from what people have said so I didn't mention them. And I did look at the dat that contain the ftex texture files. I used the ftex tool to convert them to DDS and all of them that were converted just spat out the UI icons for the outfits. I literally saw and found nothing relating to the outfit textures which I was hoping for. I mean who know maybe it's just the models without the textures for the outfits for now. But yeah that is literally all I could find before I had to reinstall stuff due to a new pc.

On the topic of files though, does anyone know which chunk and fpk in the chunk contains the real Big Boss in the leather jacket with ocelot and the bike? I wanna see if I can use the methods people have shared to try and replace the real BB with the leather jacket bionic arm venom version. Cause in one of the early trailers they use the truth ending scene but instead of it being at day they do it at night and with Venom instead of Big Boss.
## Post #810
- Username: CaptianKnuckles
- Rank: n00b
- Number of posts: 13
- Joined date: Mon Sep 07, 2015 4:34 am
- Post datetime: 2015-10-14T19:50:15+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Might as well ask this since there's some activity still here, can anyone confirm which locations have soviet soldiers?
I need the soviet guy with a balaclava.
## Post #811
- Username: Jonathan Ingram
- Rank: n00b
- Number of posts: 11
- Joined date: Mon Jun 22, 2015 6:20 am
- Post datetime: 2015-10-14T20:58:48+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from CaptianKnuckles
>
> Might as well ask this since there's some activity still here, can anyone confirm which locations have soviet soldiers?
I need the soviet guy with a balaclava.

Pretty sure it's chunk1\Assets\tpp\pack\fova\chara\svs\.
## Post #812
- Username: CaptianKnuckles
- Rank: n00b
- Number of posts: 13
- Joined date: Mon Sep 07, 2015 4:34 am
- Post datetime: 2015-10-14T21:11:19+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Jonathan Ingram
>
> CaptianKnuckles wrote:Might as well ask this since there's some activity still here, can anyone confirm which locations have soviet soldiers?
I need the soviet guy with a balaclava.

Pretty sure it's chunk1\Assets\tpp\pack\fova\chara\svs\.

Any possible specific .fpk I need to look for?

Edit: I got a Soviet guy to work, although he is missing his head when you replace the single .fmdl in the plparts_mgs1 guy. It's actually kinda hilarious, 



Also, where to people on nexusmods obtain the head models? I'd like a go at trying it myself.
## Post #813
- Username: DefaultMan
- Rank: beginner
- Number of posts: 22
- Joined date: Sat Jul 18, 2015 2:34 pm
- Post datetime: 2015-10-15T01:07:16+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from CaptianKnuckles
>
> 

Edit: I got a Soviet guy to work, although he is missing his head when you replace the single .fmdl in the plparts_mgs1 guy. It's actually kinda hilarious, 

Also, where to people on nexusmods obtain the head models? I'd like a go at trying it myself.

The heads for DD, Soviets and PF groups are stored separately from the body. If you replace one of the DD costumes you should get no issues with the head (not sure about the eyes and mouth though) what fpk was that model in? I have only found combined versions of the soviet and pf models.

For the head replacers on nexusmods, most of them are done by hex editing and zeroing out the body and replacing Snake's head or DD balaclava model which takes quite a bit of trial and error.
## Post #814
- Username: Wormheart
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Wed Oct 07, 2015 4:28 am
- Post datetime: 2015-10-15T16:29:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Are Eli's vest and conch one with his model or are they parts?
## Post #815
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-15T22:25:11+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Wormheart
>
> Are Eli's vest and conch one with his model or are they parts?
They're part of his model
## Post #816
- Username: JohnBC
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Tue Sep 29, 2015 4:51 pm
- Post datetime: 2015-10-16T06:00:32+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

where is leather jacket model ?does anyone know that?
## Post #817
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-16T22:31:14+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Has there been a QAR Dictionary update since Sept 15? Can someone post the latest version? Thanks!
## Post #818
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-10-17T04:26:09+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

[https://github.com/emoose/MGSV-QAR-Dictionary-Project](https://github.com/emoose/MGSV-QAR-Dictionary-Project)
## Post #819
- Username: Wormheart
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Wed Oct 07, 2015 4:28 am
- Post datetime: 2015-10-17T13:14:55+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Anyone know where Eli's textures are? Looked in the unpacked texture .dats and couldn't find him.
## Post #820
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-17T15:26:56+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> https://github.com/emoose/MGSV-QAR-Dictionary-Project
Cheers
## Post #821
- Username: Resetter00
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Sun Oct 18, 2015 4:47 am
- Post datetime: 2015-10-17T20:51:56+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Seeing that all the mission parameters are being defined in .lua, 

1.
how hard would it be to add, for example, more extreme/subsistance versions of already existing missions to the mission list?

2.
how hard would it be to add completely new missions?

Thx in advance.
## Post #822
- Username: Wormheart
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Wed Oct 07, 2015 4:28 am
- Post datetime: 2015-10-17T21:20:41+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Still no luck finding Eli's textures whithout Ninja Ripper. Unpacked all the archives (chunks, data1 and texture dats) and all I could find were version models and ftexs header files. Ran a search for his file name ("liquid") in the unpacked archives and nothing.
## Post #823
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-10-18T00:43:26+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Wormheart
>
> Still no luck finding Eli's textures whithout Ninja Ripper. Unpacked all the archives (chunks, data1 and texture dats) and all I could find were version models and ftexs header files. Ran a search for his file name ("liquid") in the unpacked archives and nothing.

Found some of his textures in texture0.dat. The ftexs will be accompanying the ftex files.

3cf8e68fea001.ftex: Eli Face
3e6699f446763.ftex: Eli Hair
237bb07cab8f6.ftex: Eli Clothes
3798b993405f1.ftex: Eli Body
b8b68913c59.ftex: Eli conch
## Post #824
- Username: Wormheart
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Wed Oct 07, 2015 4:28 am
- Post datetime: 2015-10-18T00:57:36+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> Wormheart wrote:Still no luck finding Eli's textures whithout Ninja Ripper. Unpacked all the archives (chunks, data1 and texture dats) and all I could find were version models and ftexs header files. Ran a search for his file name ("liquid") in the unpacked archives and nothing.

Found some of his textures in texture0.dat. The ftexs will be accompanying the ftex files.

3cf8e68fea001.ftex: Eli Face
3e6699f446763.ftex: Eli Hair
237bb07cab8f6.ftex: Eli Clothes
3798b993405f1.ftex: Eli Body
b8b68913c59.ftex: Eli conch

Oh boy, thanx a bunch! So my suspicion was confirmed in that his textures are hidden in the bunch, not in the folders.

Cheers and a fine day to you, sir!
## Post #825
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-10-18T01:42:19+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Resetter00
>
> Seeing that all the mission parameters are being defined in .lua, 

1.
how hard would it be to add, for example, more extreme/subsistance versions of already existing missions to the mission list?

2.
how hard would it be to add completely new missions?

My mod lets you switch on subsistence mode, and/or enemy prep max, before entering any mission or free mode.

Adding them as separate missions would take a lot more work, and be less flexible for the mod user.

Separate missions in general will take a lot of research to how the game objects are set up, and I don't know if anyone has looked into it in detail.
## Post #826
- Username: Wormheart
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Wed Oct 07, 2015 4:28 am
- Post datetime: 2015-10-18T07:56:00+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Trying to render Eli's conch invisible. 
Edited the texture transparencies in GIMP by fiddling with the alpha, repacked it with the ftex tool, repacked the texture0 inf with QAR.

It still shows in game. Damnit.
How would you guys do it?

PS: I'm using dragging and dropping on the QAR and Ftex tools, both for unpacking and repacking, could that be the booboo?
## Post #827
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-10-18T09:20:16+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Wormheart
>
> Trying to render Eli's conch invisible. 
Edited the texture transparencies in GIMP by fiddling with the alpha, repacked it with the ftex tool, repacked the texture0 inf with QAR.

It still shows in game. Damnit.
How would you guys do it?

PS: I'm using dragging and dropping on the QAR and Ftex tools, both for unpacking and repacking, could that be the booboo?

It's probably the pftxs file that's preventing the edited files from showing up. You would have to look for the pftxs file of Liquid and either delete the pftxs line from the chunk's .inf file or replace the textures inside of the pftxs file.
## Post #828
- Username: Poisonedmods
- Rank: n00b
- Number of posts: 12
- Joined date: Wed Oct 07, 2015 4:02 am
- Post datetime: 2015-10-19T02:11:30+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from CaptianKnuckles
>
> Jonathan Ingram wrote:CaptianKnuckles wrote:Might as well ask this since there's some activity still here, can anyone confirm which locations have soviet soldiers?
I need the soviet guy with a balaclava.

Pretty sure it's chunk1\Assets\tpp\pack\fova\chara\svs\.

Any possible specific .fpk I need to look for?

Edit: I got a Soviet guy to work, although he is missing his head when you replace the single .fmdl in the plparts_mgs1 guy. It's actually kinda hilarious, 



Also, where to people on nexusmods obtain the head models? I'd like a go at trying it myself.

The solid snake suit doesint load a head mesh or an arm mesh so its not possible to replace with most outfits.
## Post #829
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-10-19T09:27:36+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Anybody looked into the new update?

Well I can't seem to find where to purchase the dlc, but it's definitely "come out" now with this update.

[https://youtu.be/XzXEqjKOdlc](https://youtu.be/XzXEqjKOdlc)
[https://youtu.be/01gt_AMNUy4](https://youtu.be/01gt_AMNUy4)
[https://youtu.be/YFC82mhVXNQ](https://youtu.be/YFC82mhVXNQ)
## Post #830
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-10-19T15:43:05+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> Anybody looked into the new update?
00.dat 37MB -> 61MB
+14 fpk files
+14 fpkd files
+14 pftxs files
+1 lua file

01.dat 24MB -> 110MB
+1 ftex file
+1 .1.ftexs file
+89 .2. ftexs files
+88 .3. ftexs files
## Post #831
- Username: Poisonedmods
- Rank: n00b
- Number of posts: 12
- Joined date: Wed Oct 07, 2015 4:02 am
- Post datetime: 2015-10-19T17:38:55+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> Well I can't seem to find where to purchase the dlc, but it's definitely "come out" now with this update.

https://youtu.be/XzXEqjKOdlc
https://youtu.be/01gt_AMNUy4
https://youtu.be/YFC82mhVXNQ

did you try to see if my mod works with them? 

[https://www.dropbox.com/s/n6onp2nqmt2s4 ... r.zip?dl=0](https://www.dropbox.com/s/n6onp2nqmt2s43z/DLC%20Unlocker.zip?dl=0)
## Post #832
- Username: alex61194
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Wed Sep 16, 2015 1:42 am
- Post datetime: 2015-10-19T18:33:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Poisonedmods
>
> Higus wrote:Well I can't seem to find where to purchase the dlc, but it's definitely "come out" now with this update.

https://youtu.be/XzXEqjKOdlc
https://youtu.be/01gt_AMNUy4
https://youtu.be/YFC82mhVXNQ

did you try to see if my mod works with them? 

https://www.dropbox.com/s/n6onp2nqmt2s4 ... r.zip?dl=0
i did dosent work
## Post #833
- Username: Solidcal
- Rank: beginner
- Number of posts: 26
- Joined date: Thu Apr 30, 2015 4:05 am
- Post datetime: 2015-10-19T19:38:39+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Ah this is interesting to see they are included. I guess the newly added lua file will contain the switch to turn the outfits on maybe.
## Post #834
- Username: Poisonedmods
- Rank: n00b
- Number of posts: 12
- Joined date: Wed Oct 07, 2015 4:02 am
- Post datetime: 2015-10-19T20:27:59+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

updated mod looks like they moved the DLC im guessing the unlock is probly in cloud storage similiar to FOB stuff [http://www.nexusmods.com/metalgearsolidvtpp/mods/129/](http://www.nexusmods.com/metalgearsolidvtpp/mods/129/)?

> Reply from atvaark
>
> Higus wrote:Anybody looked into the new update?
00.dat 37MB -> 61MB
+14 fpk files
+14 fpkd files
+14 pftxs files
+1 lua file

01.dat 24MB -> 110MB
+1 ftex file
+1 .1.ftexs file
+89 .2. ftexs files
+88 .3. ftexs files

Any idea what that new lua files is?
## Post #835
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-10-20T01:30:25+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Poisonedmods
>
> updated mod looks like they moved the DLC im guessing the unlock is probly in cloud storage similiar to FOB stuff http://www.nexusmods.com/metalgearsolidvtpp/mods/129/?

You appear to be using an old lua file, during one of the game patches parameter p36 was added to all tables, and also 7 new tables, none of which your modded file has. You also appear to be using a pack tool with an outdated dictionary, your f4866469f343.lua is \Assets\tpp\motherbase\script\EquipDevelopConstSetting.lua 

Please pull a fresh copy from an unmodified 00.dat and redo your mod.
Things are challenging enough without giving users games incorrect data.
## Post #836
- Username: Poisonedmods
- Rank: n00b
- Number of posts: 12
- Joined date: Wed Oct 07, 2015 4:02 am
- Post datetime: 2015-10-20T01:35:11+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> Poisonedmods wrote:updated mod looks like they moved the DLC im guessing the unlock is probly in cloud storage similiar to FOB stuff http://www.nexusmods.com/metalgearsolidvtpp/mods/129/?

You appear to be using an old lua file, during one of the game patches parameter p36 was added to all tables, and also 7 new tables, none of which your modded file has. You also appear to be using a pack tool with an outdated dictionary, your f4866469f343.lua is \Assets\tpp\motherbase\script\EquipDevelopConstSetting.lua 

Please pull a fresh copy from an unmodified 00.dat and redo your mod.
Things are challenging enough without giving users games incorrect data.

wanna link me a newer version for Qar tool?

> Reply from Tex
>
> Poisonedmods wrote:updated mod looks like they moved the DLC im guessing the unlock is probly in cloud storage similiar to FOB stuff http://www.nexusmods.com/metalgearsolidvtpp/mods/129/?

You appear to be using an old lua file, during one of the game patches parameter p36 was added to all tables, and also 7 new tables, none of which your modded file has. You also appear to be using a pack tool with an outdated dictionary, your f4866469f343.lua is \Assets\tpp\motherbase\script\EquipDevelopConstSetting.lua 

Please pull a fresh copy from an unmodified 00.dat and redo your mod.
Things are challenging enough without giving users games incorrect data.

just tried editing \Assets\tpp\motherbase\script\EquipDevelopConstSetting.lua  does not work like the F4866 Lua does so im not sure.
## Post #837
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-10-20T02:57:09+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

It's the only file in the game calling the function TppMotherBaseManagement.RegCstDev and most of the data like in your file
[https://imgur.com/BCZQ61T](https://imgur.com/BCZQ61T)
So something's not going right with your repacking I guess.

I do see the qar tool on nexus is out of date, so from this thread: 
[https://www.dropbox.com/s/0rtpumx2mxsja ... R_Tool.rar](https://www.dropbox.com/s/0rtpumx2mxsjaby/MGSV_QAR_Tool.rar)
Or try GzsTool
[https://github.com/Atvaark/GzsTool/releases](https://github.com/Atvaark/GzsTool/releases)
## Post #838
- Username: Poisonedmods
- Rank: n00b
- Number of posts: 12
- Joined date: Wed Oct 07, 2015 4:02 am
- Post datetime: 2015-10-20T03:53:27+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> It's the only file in the game calling the function TppMotherBaseManagement.RegCstDev and most of the data like in your file
https://imgur.com/BCZQ61T
So something's not going right with your repacking I guess.

I do see the qar tool on nexus is out of date, so from this thread: 
https://www.dropbox.com/s/0rtpumx2mxsja ... R_Tool.rar
Or try GzsTool
https://github.com/Atvaark/GzsTool/releases

yea i realize it is there but it simply doesint change anything like that lua does and im unsure why another modder Fraridr brought it up to me and it doesint work im not sure why only that lua file will affect the unlock system and there no specific reason for it we have to wait for an update anyway as the golden robotic arm and the sniper wolf Suit are missing from the Lua file ive been updating.




True big boss mods is possible.
## Post #839
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-20T19:30:10+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Poisonedmods
>
> 


True big boss mods is possible.
Anyone remember where the medic model is located in GZ? Let's see if that works.
## Post #840
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-10-20T20:39:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Poisonedmods
>
> atvaark wrote:Higus wrote:Anybody looked into the new update?
00.dat 37MB -> 61MB
+14 fpk files
+14 fpkd files
+14 pftxs files
+1 lua file

01.dat 24MB -> 110MB
+1 ftex file
+1 .1.ftexs file
+89 .2. ftexs files
+88 .3. ftexs files

Any idea what that new lua files is?
It's just an updated /Assets/tpp/script/lib/TppEmblem.lua.
[https://www.diffchecker.com/7vbzsfqu](https://www.diffchecker.com/7vbzsfqu)
## Post #841
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-20T20:54:10+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Gonna find a way to put Big Boss' head on The Boss' body.

Make The Biggest Boss
## Post #842
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-10-20T21:09:52+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Poisonedmods
>
> 
yea i realize it is there but it simply doesint change anything like that lua does and im unsure why another modder Fraridr brought it up to me and it doesint work im not sure why only that lua file will affect the unlock system and there no specific reason for it we have to wait for an update anyway as the golden robotic arm and the sniper wolf Suit are missing from the Lua file ive been updating.
So, yet another patch since then (lets call it 1.0.4.1a since they didn't update the version number) which apparently fixed the golden arm, and sniper wolf. However that patch just seemed to be an exe update only (only updating foxpatch.dat to match the exe, or am I missing something?), so it suggests that the DLC filtering is exe side (and that they screwed up and added the legit golden arm/sniper wolf initially).

There was a function call added in 1.0.4.1 - TppUiCommand.ExcludeNonPermissionContents(), but disabling it doesn't do much, I suspect it's also called in-engine. Not bothered by that too much, just where it was blocking previous content, but like said, that's apparently fixed.

I did have a go at modding EquipDevelopConstSetting from scratch, gives me the bunch of development unlocked stuff I wouldn't have prior (and also the dlc items are listed in the unlock announce, but like said, they now seem to be filtered on a UI level). 
End result seems to be the same as your mod. So I don't know where you're going wrong sorry.

All this prompts me to ask the file format gurus here again, has anyone looked at the *.ui* files?

Again, on the reasoning that the game is very data driven, and most ui systems in games nowdays likewise.
## Post #843
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-20T21:22:15+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Is it possible to open ftexs files? I mainly mess around with models, not textures, so I don't know.
## Post #844
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-10-20T21:34:49+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> All this prompts me to ask the file format gurus here again, has anyone looked at the *.ui* files?

Again, on the reasoning that the game is very data driven, and most ui systems in games nowdays likewise.
I took some notes on these files when I was checking out Ground Zeroes in January. 

UIGB are UI Graph Files
UILB are UI Layout Files
UIA are UI Animation Files
UIF are UI Model Files

UI Model Files are or contain these types:
- Node 
- Mesh
- Text
- Stencil
- Vertex

The hierarchy looks like this:
## Post #845
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-21T00:36:32+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

MGS3 model: master\0\00\389be06194c57_fpk\Assets\tpp\chara\dds\Scenes

> Reply from XrayDoc
>
> MGS3 model: master\0\00\389be06194c57_fpk\Assets\tpp\chara\dds\Scenes
Actually, I may have seen this wrong and it's a DD outfit. Can someone double check it for me?
## Post #846
- Username: morbidslinky
- Rank: beginner
- Number of posts: 27
- Joined date: Wed Oct 21, 2015 9:26 am
- Post datetime: 2015-10-21T01:29:03+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hi, would anyone happen to know how I can access the textures for the new DLC? I'd like to try recoloring the boss's sneaking suit, if it's possible.
## Post #847
- Username: DefaultMan
- Rank: beginner
- Number of posts: 22
- Joined date: Sat Jul 18, 2015 2:34 pm
- Post datetime: 2015-10-21T02:03:56+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> MGS3 model: master\0\00\389be06194c57_fpk\Assets\tpp\chara\dds\Scenes
Is a DD costume. 
I have decided to unpack most of the larger files in 00.dat and have found the MGS3 costumes below, seems they have the Prefix of DL rather than the usual DDS or SNA

MGS 3 Fatigues: c05ddadd3a9a.fpk(SNA) / 58f57ad81e45_fpk(DDS)
MGS 3 Fatigues (Naked): 5c51813917af.fpk(SNA) / 35430620ec4a9.fpk (DDS)
MGS 3 Sneaking: 1da785669b77b.fpk(SNA) / 3a34137dbf9d0.fpk(DDS)
Tuxedo: a391321f9b70.fpk(SNA) / 14c0b6baf6f7b.fpk (DDS)
Eva Jumpsuit: 2ac17a2301a7b.fpk(zip) / 20db082934940.fpk(unzip)
Boss Sneaking: 3538dd2f4ffd9.fpk(zip) / d8c75b2c66d4.fpk (unzip)
## Post #848
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-21T02:15:11+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DefaultMan
>
> XrayDoc wrote:MGS3 model: master\0\00\389be06194c57_fpk\Assets\tpp\chara\dds\Scenes
Is a DD costume. 
I have decided to unpack most of the larger files in 00.dat and have found the MGS3 costumes below, seems they have the Prefix of DL rather than the usual DDS or SNA

MGS 3 Fatigues: c05ddadd3a9a.fpk(SNA) / 58f57ad81e45_fpk(DDS)
MGS 3 Fatigues (Naked): 5c51813917af.fpk(SNA) / 35430620ec4a9.fpk (DDS)
MGS 3 Sneaking: 1da785669b77b.fpk(SNA) / 3a34137dbf9d0.fpk(DDS)
Tuxedo: a391321f9b70.fpk(SNA) / 14c0b6baf6f7b.fpk (DDS)
Eva Jumpsuit: 2ac17a2301a7b.fpk(zip) / 20db082934940.fpk(unzip)
Boss Sneaking: 3538dd2f4ffd9.fpk(zip) / d8c75b2c66d4.fpk (unzip)
Yet for some reason, when I swapped these, none of the texture would work. Anyone know a solution?
## Post #849
- Username: DefaultMan
- Rank: beginner
- Number of posts: 22
- Joined date: Sat Jul 18, 2015 2:34 pm
- Post datetime: 2015-10-21T03:01:07+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> 
Yet for some reason, when I swapped these, none of the texture would work. Anyone know a solution?
Can you take a screenshot, I just swapped over the DD versions to Snake for a normal arm and it all seems fine on my end besides the finger texture on the fatigues which surprisingly didnt happen on the tux model.

Regarding the arms is the model for the rocket fist in a different location to the other arms? Seems to be the only one to show up after nulling out all the arm models.
## Post #850
- Username: Clark Kent
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Wed Oct 21, 2015 11:22 am
- Post datetime: 2015-10-21T03:28:17+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DefaultMan
>
> XrayDoc wrote:
Yet for some reason, when I swapped these, none of the texture would work. Anyone know a solution?
Can you take a screenshot, I just swapped over the DD versions to Snake for a normal arm and it all seems fine on my end besides the finger texture on the fatigues which surprisingly didnt happen on the tux model.

Regarding the arms is the model for the rocket fist in a different location to the other arms? Seems to be the only one to show up after nulling out all the arm models.

Can you swap and give Snake a normal arm and Big Boss head on the MGS3 fatigues and upload it? I know how to install the mods, but have no clue about how to find the right models to swap.
## Post #851
- Username: DarknessValtier
- Rank: beginner
- Number of posts: 35
- Joined date: Sat Feb 07, 2009 11:47 pm
- Post datetime: 2015-10-21T07:46:13+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> DefaultMan wrote:XrayDoc wrote:MGS3 model: master\0\00\389be06194c57_fpk\Assets\tpp\chara\dds\Scenes
Is a DD costume. 
I have decided to unpack most of the larger files in 00.dat and have found the MGS3 costumes below, seems they have the Prefix of DL rather than the usual DDS or SNA

MGS 3 Fatigues: c05ddadd3a9a.fpk(SNA) / 58f57ad81e45_fpk(DDS)
MGS 3 Fatigues (Naked): 5c51813917af.fpk(SNA) / 35430620ec4a9.fpk (DDS)
MGS 3 Sneaking: 1da785669b77b.fpk(SNA) / 3a34137dbf9d0.fpk(DDS)
Tuxedo: a391321f9b70.fpk(SNA) / 14c0b6baf6f7b.fpk (DDS)
Eva Jumpsuit: 2ac17a2301a7b.fpk(zip) / 20db082934940.fpk(unzip)
Boss Sneaking: 3538dd2f4ffd9.fpk(zip) / d8c75b2c66d4.fpk (unzip)
Yet for some reason, when I swapped these, none of the texture would work. Anyone know a solution?

just swap the PFTXS of DLC on your model swap, for example: 20db082934940.pftxs to plparts_ddf_venom.pftxs (swaping eva to venom outfit)
this fix the texture problem
## Post #852
- Username: starkcoyote
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Wed Jun 17, 2015 11:49 am
- Post datetime: 2015-10-21T09:30:43+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Can someone post the unzipped version of the boss model, please?
Or pm it to me. Thank you
## Post #853
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-21T11:05:48+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DarknessValtier
>
> XrayDoc wrote:DefaultMan wrote:
Is a DD costume. 
I have decided to unpack most of the larger files in 00.dat and have found the MGS3 costumes below, seems they have the Prefix of DL rather than the usual DDS or SNA

MGS 3 Fatigues: c05ddadd3a9a.fpk(SNA) / 58f57ad81e45_fpk(DDS)
MGS 3 Fatigues (Naked): 5c51813917af.fpk(SNA) / 35430620ec4a9.fpk (DDS)
MGS 3 Sneaking: 1da785669b77b.fpk(SNA) / 3a34137dbf9d0.fpk(DDS)
Tuxedo: a391321f9b70.fpk(SNA) / 14c0b6baf6f7b.fpk (DDS)
Eva Jumpsuit: 2ac17a2301a7b.fpk(zip) / 20db082934940.fpk(unzip)
Boss Sneaking: 3538dd2f4ffd9.fpk(zip) / d8c75b2c66d4.fpk (unzip)
Yet for some reason, when I swapped these, none of the texture would work. Anyone know a solution?

just swap the PFTXS of DLC on your model swap, for example: 20db082934940.pftxs to plparts_ddf_venom.pftxs (swaping eva to venom outfit)
this fix the texture problem
Only problem is, I have no clue still how to open a PFTXS (no one answered my earlier question). I tried all tools on Nexus.
Edit: Wow tons of edits. I meant I don't know how to open ftexs files. pftxs I use gzs
## Post #854
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-10-21T11:22:25+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> DarknessValtier wrote:
Only problem is, I have no clue still how to open a PFTXS (no one answered my earlier question). I tried all tools on Nexus.
Edit: Wow tons of edits. I meant I don't know how to open ftexs files. pftxs I use gzs
See:
[https://github.com/Atvaark/FtexTool](https://github.com/Atvaark/FtexTool)
[http://www.nexusmods.com/metalgearsolidvtpp/mods/2](http://www.nexusmods.com/metalgearsolidvtpp/mods/2)
## Post #855
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-21T12:28:31+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from atvaark
>
> XrayDoc wrote:DarknessValtier wrote:
Only problem is, I have no clue still how to open a PFTXS (no one answered my earlier question). I tried all tools on Nexus.
Edit: Wow tons of edits. I meant I don't know how to open ftexs files. pftxs I use gzs
See:
https://github.com/Atvaark/FtexTool
http://www.nexusmods.com/metalgearsolidvtpp/mods/2
Ftex tool doesn't open those as of last I tried... Which was today.
## Post #856
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-10-21T12:37:28+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> atvaark wrote:
See:
https://github.com/Atvaark/FtexTool
http://www.nexusmods.com/metalgearsolidvtpp/mods/2
Ftex tool doesn't open those as of last I tried... Which was today.
It does open these files. But you need to use the tool on the ftex files with the same name as the ftexs file you want to unpack.
Otherwise the tool would not know the height, width and how many (zlib'd) chunks there are.
## Post #857
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-21T13:24:40+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from atvaark
>
> XrayDoc wrote:atvaark wrote:
See:
https://github.com/Atvaark/FtexTool
http://www.nexusmods.com/metalgearsolidvtpp/mods/2
Ftex tool doesn't open those as of last I tried... Which was today.
It does open these files. But you need to use the tool on the ftex files with the same name as the ftexs file you want to unpack.
Otherwise the tool would not know the height, width and how many (zlib'd) chunks there are.
Oh, so you drag both files together to the exe? In on mobile so I can't test.
## Post #858
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-10-21T13:31:12+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> atvaark wrote:XrayDoc wrote:
It does open these files. But you need to use the tool on the ftex files with the same name as the ftexs file you want to unpack.
Otherwise the tool would not know the height, width and how many (zlib'd) chunks there are.
Oh, so you drag both files together to the exe? In on mobile so I can't test.
No you don't. You just have to do what I wrote and use the ftex file.
## Post #859
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-21T17:25:20+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Oooh, the ftexs files just support how the ftex files look and work dimension wise, is that right?
## Post #860
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-10-21T17:37:12+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> Oooh, the ftexs files just support how the ftex files look and work dimension wise, is that right?
It's the other way around. Ftex files have the information about the dimensions, whether it is a diffuse/normal/... texture etc. and how many ftexs files the game can find in the archive. Ftexs files are just compressed (zlib and dxt) images with different pixel formats.
## Post #861
- Username: GoPro
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Thu Oct 22, 2015 5:15 am
- Post datetime: 2015-10-21T21:26:00+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hi! Need little help there.
I've downloaded simple mod that alters Quiet stats to S++ and smth.

When I just copy this lua file MbmCommonSetting.lua, use QAR then, game works fine - her stats are S++ and whatever.

When I do whatever change in this file by myself, even simply delete 5 and type the same 5 (no change visually), again QAR, after that the game doesn't behave right and all Quiet stats are put to E's.
What's the deal with manual changing?

upd Have no idea what was that, but it's ok now
## Post #862
- Username: Solidcal
- Rank: beginner
- Number of posts: 26
- Joined date: Thu Apr 30, 2015 4:05 am
- Post datetime: 2015-10-21T21:30:50+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Quick question. Does anyone know where the model of the gas mask Venom wears in the "Shing light, even in death" is? I looked in the fova folder in the chunk0 folder and checked in the player fova folder but can not find it. Not sure if it is a un-named file or is named differently. Most of the masks I found are either the chicken hat or a variant of the chicken hat. Want to know so I can make it invisible so I can do some stuff in the scene where he walks down the hallway before his head model swaps to the complete bloody long horned venom head.
## Post #863
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-22T00:06:17+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

The fruits of our labor.

"I hereby award you the title, of The Biggest Boss."

[http://steamcommunity.com/sharedfiles/f ... =539430728](http://steamcommunity.com/sharedfiles/filedetails/?id=539430728)

Found this on /vg/, posting here to save it.

Texture0
Standard - 3a720198df87a
Naked - 3bfb265cd424e

Texture0 - 1bc07db9d9eb5 - Venom Desert Fox
Texture0 - 3a720198df87a - Venom Olive Drab
Texture0 - 3bfb265cd424e - Venom Olive Drab Naked
Texture0 - 3f510ca99a4d5 - Venom Tiger Stripe
Texture0 - 188468aa6d280 - Venom Tiger Stripe Naked
Texture0 - 14171c08885b8 - Venom Wetwork
Texture0 - 13db7144dc14d - Venom Wetwork Naked
Texture0 - 23f7e374faae0 - Venom Splitter
Texture0 - 358b090bcb37f - Venom Splitter Naked
Texture0 - 33be72f7e5f46 - Venom Animal
Texture0 - 1268c91fab571 - Venom Animal Naked
Texture0 - 332842ab1caab - Venom Woodland
Texture0 - 35e88966fd8b4 - Venom Woodland Naked
Texture0 - ceb2dd35a0a6 - Venom Squares
Texture0 - b75dda21d95a - Venom Squares Naked
Texture0 - 17636af0d92a1 - Venom Golden Tiger Naked
Texture0 - 23d91894526c4 - Venom? Parasite Suit
Texture0 - d955d7c6b597 - Venom Parasite Suit Helmet
Texture0 - 15df14c7fd4da - Venom Leather Jacket Top?
Texture0 - 1bcb57bce8645 - Venom Glove
Texture0 - 249104230bec3 - Battle Dress
Texture0 - dd5fde0eb6a4 - Battle Dress2?
Texture0 - 78b7fb0549de - Chicken Hat
Texture0 - 1c1f9dcfc3783 - DD soldier Desert Fox
Texture0 - 2b716a97f5813 - Hand of Jehuty
Texture0 - 2998f2fba3b7d - Stun Arm
Texture0 - 2c9e4cea86b55 - DD Soldier Woodland?
Texture0 - 25b69ffad09dc - DD Soldier Desert Fox
Texture0 - 32d3217b049f8 - DD Soldier Olive Drab
Texture0 - 302cb8d2e5821 - DD Soldier Olive Drab (not sure exactly what it is)
Texture0 - 47a2a36df8d9 - DD Soldier Animals
Texture0 - 25251d5149df3 - DD Soldier Golden Tiger
Texture0 - 25997f52da660 - DD Soldier Tiger Stripe
Texture0 - 2418be87376c4 - DD Soldier Squares
Texture0 - 119413f2a346f - DD Soldier Wetwork
Texture0 - 359245b9aa5f0 - DD Soldier Splitter
Texture0 - 3081813736101 - DD Soldier Golden Tiger
Texture0 - c02dd4337169 - DD Soldier Unknown Camo

Texture0 - 3898e3417caea - Heavy Headgear
Texture0 - d8a05c485b20 - Quiet Face Dark Eyes
Texture0 - 2d74de7ac5145 - Quiet's equipment
Texture0 - 14fe6dca584e7 - Quiet's Hair
Texture0 - 2ff8ff8ecd95f - Snek Sneak Suit
Texture0 - 105afbb49cd0f - Huey Clothes
Texture0 - 314cafc1f03dd - Huey Face
Texture0 - 237bb07cab8f6 - Eli Clothes
Texture0 - 257ce67f1bd36 - Parasite Suit, unsure who for, might be Female DD staff
Texture0 - 5738ab79cf4b - Parasite Suit Helmet
Texture0 - c681a9ba4f51 - Quiet Naked
Texture0 - 273e329db08bb - Ocelot Belt & Gun
Texture0 - 481bd18d040a - Ocelot Clothes
Texture0 - 324707508f3f - Ocelot Clothes Sandy
Texture0 - c681a9ba4f51 - Ocelot Glasses
Texture0 - 919e14e7ed49 - Psycho Mantis Clothes
Texture0 - 1069dac3f1fdc - Psycho Mantis Mask, Legs & Feet
Texture0 - 1962b3fba5a08 - Code Talker Face
Texture0 - 2130eb881b600 - Code Talker Clothes
Texture0 - a7dc98fe593b - Miller Face
Texture0 - 1985d40f9081d - Miller Clothes
Texture0 - 3137307ab2191 - Pequod Face & Helmet
Texture0 - 14021180971fd - Skull face camo
Texture0 - a1c6a30be44 - XOF suit
Texture0 - sb581fadf7e4b - XOF suit2?
Texture0 - 2767e52dfde24 - Venom Decoy
Texture0 - 227248c4fc18b - Fulton Balloon
## Post #864
- Username: DarknessValtier
- Rank: beginner
- Number of posts: 35
- Joined date: Sat Feb 07, 2009 11:47 pm
- Post datetime: 2015-10-22T01:29:32+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> Found this on /vg/, posting here to save it.

Texture0
Standard - 3a720198df87a
Naked - 3bfb265cd424e

Texture0 - 1bc07db9d9eb5 - Venom Desert Fox
Texture0 - 3a720198df87a - Venom Olive Drab
Texture0 - 3bfb265cd424e - Venom Olive Drab Naked
Texture0 - 3f510ca99a4d5 - Venom Tiger Stripe
Texture0 - 188468aa6d280 - Venom Tiger Stripe Naked
Texture0 - 14171c08885b8 - Venom Wetwork
Texture0 - 13db7144dc14d - Venom Wetwork Naked
Texture0 - 23f7e374faae0 - Venom Splitter
Texture0 - 358b090bcb37f - Venom Splitter Naked
Texture0 - 33be72f7e5f46 - Venom Animal
Texture0 - 1268c91fab571 - Venom Animal Naked
Texture0 - 332842ab1caab - Venom Woodland
Texture0 - 35e88966fd8b4 - Venom Woodland Naked
Texture0 - ceb2dd35a0a6 - Venom Squares
Texture0 - b75dda21d95a - Venom Squares Naked
Texture0 - 17636af0d92a1 - Venom Golden Tiger Naked
Texture0 - 23d91894526c4 - Venom? Parasite Suit
Texture0 - d955d7c6b597 - Venom Parasite Suit Helmet
Texture0 - 15df14c7fd4da - Venom Leather Jacket Top?
Texture0 - 1bcb57bce8645 - Venom Glove
Texture0 - 249104230bec3 - Battle Dress
Texture0 - dd5fde0eb6a4 - Battle Dress2?
Texture0 - 78b7fb0549de - Chicken Hat
Texture0 - 1c1f9dcfc3783 - DD soldier Desert Fox
Texture0 - 2b716a97f5813 - Hand of Jehuty
Texture0 - 2998f2fba3b7d - Stun Arm
Texture0 - 2c9e4cea86b55 - DD Soldier Woodland?
Texture0 - 25b69ffad09dc - DD Soldier Desert Fox
Texture0 - 32d3217b049f8 - DD Soldier Olive Drab
Texture0 - 302cb8d2e5821 - DD Soldier Olive Drab (not sure exactly what it is)
Texture0 - 47a2a36df8d9 - DD Soldier Animals
Texture0 - 25251d5149df3 - DD Soldier Golden Tiger
Texture0 - 25997f52da660 - DD Soldier Tiger Stripe
Texture0 - 2418be87376c4 - DD Soldier Squares
Texture0 - 119413f2a346f - DD Soldier Wetwork
Texture0 - 359245b9aa5f0 - DD Soldier Splitter
Texture0 - 3081813736101 - DD Soldier Golden Tiger
Texture0 - c02dd4337169 - DD Soldier Unknown Camo

Texture0 - 3898e3417caea - Heavy Headgear
Texture0 - d8a05c485b20 - Quiet Face Dark Eyes
Texture0 - 2d74de7ac5145 - Quiet's equipment
Texture0 - 14fe6dca584e7 - Quiet's Hair
Texture0 - 2ff8ff8ecd95f - Snek Sneak Suit
Texture0 - 105afbb49cd0f - Huey Clothes
Texture0 - 314cafc1f03dd - Huey Face
Texture0 - 237bb07cab8f6 - Eli Clothes
Texture0 - 257ce67f1bd36 - Parasite Suit, unsure who for, might be Female DD staff
Texture0 - 5738ab79cf4b - Parasite Suit Helmet
Texture0 - c681a9ba4f51 - Quiet Naked
Texture0 - 273e329db08bb - Ocelot Belt & Gun
Texture0 - 481bd18d040a - Ocelot Clothes
Texture0 - 324707508f3f - Ocelot Clothes Sandy
Texture0 - c681a9ba4f51 - Ocelot Glasses
Texture0 - 919e14e7ed49 - Psycho Mantis Clothes
Texture0 - 1069dac3f1fdc - Psycho Mantis Mask, Legs & Feet
Texture0 - 1962b3fba5a08 - Code Talker Face
Texture0 - 2130eb881b600 - Code Talker Clothes
Texture0 - a7dc98fe593b - Miller Face
Texture0 - 1985d40f9081d - Miller Clothes
Texture0 - 3137307ab2191 - Pequod Face & Helmet
Texture0 - 14021180971fd - Skull face camo
Texture0 - a1c6a30be44 - XOF suit
Texture0 - sb581fadf7e4b - XOF suit2?
Texture0 - 2767e52dfde24 - Venom Decoy
Texture0 - 227248c4fc18b - Fulton Balloon

Very thanks dude!
i trying to find this textures
## Post #865
- Username: Clark Kent
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Wed Oct 21, 2015 11:22 am
- Post datetime: 2015-10-22T06:18:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Help, I was doing some swapping and he has green fingers for some reason, how do I fix this?
[None](https://xentaxbackup.github.io/file/9893_None)
## Post #866
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-10-22T06:23:32+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Clark Kent
>
> Help, I was doing some swapping and he has green fingers for some reason, how do I fix this?

You're going to have to grab the textures from the soldiers pftxs and place it in Snake's pftxs I think.
## Post #867
- Username: Clark Kent
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Wed Oct 21, 2015 11:22 am
- Post datetime: 2015-10-22T07:45:54+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> Clark Kent wrote:Help, I was doing some swapping and he has green fingers for some reason, how do I fix this?

You're going to have to grab the textures from the soldiers pftxs and place it in Snake's pftxs I think.
Thanks, that worked!
## Post #868
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-10-22T08:57:03+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from atvaark
>
> I took some notes on these files when I was checking out Ground Zeroes in January. 
...
Thanks atvaark

Thinking it through more, while it does seem like there's a nice system there, mention of prefabs with names that sound like common ui widgets/controls, but seems most of the actual 'driving' of the uis are in the exe, if evidence from the lua scripts and the last patch are any indication.
In the lua scripts all interaction seems to be via the engine object TppUiCommand, the function names indicate a pretty piecemeal approach to specfic ui functionality rather than any kind of flexible ui control system (or at least if they do they didn't extend it into the lua side).

A few TppUICommand function examples for example
	AnnounceLogViewLangId(string langId,langParameter ...) -- can accept a variable number of parameters, which fit into the lang string parameters ala standard string formatting.
	SetErrorPopupParam(unknown param)
	IsShowPopup()
	GetTapeLangIdByTrackId(t)
	IsEndMissionTelop()
	RegisterIconUniqueInformation{markerId=gameId,iconLangId=iconLangId,goalLangId=goalLangId}

There's a few luas dedicated to uis, but again they are very specifcally set up, likewise there are some that seem to be dedicated to providing specific data for the uis (ie the engine is pulling a lua function rather than lua calling engine), example being all the landing zones from initial deployment.

Anyhoo, not having access to good control over ui is a big limitation.

There was one other thing I was going to ask help for, but I worked out some of it. Basically was wondering how langId like
AnnounceLogViewLangId("announce_map_update")
mapped to lng2(xml) entry
    <Entry Key="225449528" Value="Map Info Updated" />

I guessed it would match to the output of an engine function - Fox.StrCode32(string) returns number - that's actually used a lot in the lua (to create numeric indexes to arrays from strings and such as well as said langid use).
Then confirmed it by spitting them through StrCode32 in game (through announcelog so I could see the output).

Though I'm wondering if a decoding function can be worked out by someone if it hasn't already somewhere? It would be useful for debugging, and convenience in creating our own keys without having to run the game every time (though I still have to test adding new strings to lng files with this to see if it actually works)
There's DEBUG_StrCode32ToString, but all that seems to do is set up a reverse lookup table using Fox.StrCode32 to the unencoded string.

Heres some more examples, hopefully no transcription errors
"announce_target_extract
    <Entry Key="2225007113" Value="Target Secured" />
"announce_target_eliminate"
    <Entry Key="3205446798" Value="Target Eliminated" />
"announce_target_destroy"
   <Entry Key="3738767267" Value="Target Destroyed&#xA;" />

basically announce_* lang id strings in the lua scripts match in tpp_announce_log.<language>.lng2 . Though now I'm wondering where the ui to particlar lng2 file mapping is. the lng2 is in lang_default_data_<language code>.fpk Ideally we'd be able to add another lng2 file rather than appending to the existing.
## Post #869
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-10-22T12:03:53+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I'm trying to get a separate character Big Boss mod working, but I can't find "Spying Harrier"s staff icon texture. Some of you have it set up so that you can view DDS files in your windows explorer, but I can't get this working so it'd be a massive help if somebody could help find it.
## Post #870
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-10-22T15:15:02+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> 
I'm trying to get a separate character Big Boss mod working, but I can't find "Spying Harrier"s staff icon texture. Some of you have it set up so that you can view DDS files in your windows explorer, but I can't get this working so it'd be a massive help if somebody could help find it.

Sure thing, I'll do it later on tonight.
## Post #871
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-10-22T15:49:57+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> Higus wrote:
I'm trying to get a separate character Big Boss mod working, but I can't find "Spying Harrier"s staff icon texture. Some of you have it set up so that you can view DDS files in your windows explorer, but I can't get this working so it'd be a massive help if somebody could help find it.

Sure thing, I'll do it later on tonight.
Great. If Snake's icon is found too, that'd be an appreciated find too, my idea is to design the Big Boss icon based off Venom Snake's with a bit of photoshop work.
## Post #872
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-10-22T19:39:07+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> atvaark wrote:I took some notes on these files when I was checking out Ground Zeroes in January. 
...

Thanks atvaark

Thinking it through more, while it does seem like there's a nice system there, mention of prefabs with names that sound like common ui widgets/controls, but seems most of the actual 'driving' of the uis are in the exe, if evidence from the lua scripts and the last patch are any indication.
In the lua scripts all interaction seems to be via the engine object TppUiCommand, the function names indicate a pretty piecemeal approach to specfic ui functionality rather than any kind of flexible ui control system (or at least if they do they didn't extend it into the lua side).

A few TppUICommand function examples for example
	AnnounceLogViewLangId(string langId,langParameter ...) -- can accept a variable number of parameters, which fit into the lang string parameters ala standard string formatting.
	SetErrorPopupParam(unknown param)
	IsShowPopup()
	GetTapeLangIdByTrackId(t)
	IsEndMissionTelop()
	RegisterIconUniqueInformation{markerId=gameId,iconLangId=iconLangId,goalLangId=goalLangId}

There's a few luas dedicated to uis, but again they are very specifcally set up, likewise there are some that seem to be dedicated to providing specific data for the uis (ie the engine is pulling a lua function rather than lua calling engine), example being all the landing zones from initial deployment.

Anyhoo, not having access to good control over ui is a big limitation.

There was one other thing I was going to ask help for, but I worked out some of it. Basically was wondering how langId like
AnnounceLogViewLangId("announce_map_update")
mapped to lng2(xml) entry
    <Entry Key="225449528" Value="Map Info Updated" />

I guessed it would match to the output of an engine function - Fox.StrCode32(string) returns number - that's actually used a lot in the lua (to create numeric indexes to arrays from strings and such as well as said langid use).
Then confirmed it by spitting them through StrCode32 in game (through announcelog so I could see the output).

Though I'm wondering if a decoding function can be worked out by someone if it hasn't already somewhere? It would be useful for debugging, and convenience in creating our own keys without having to run the game every time (though I still have to test adding new strings to lng files with this to see if it actually works)
There's DEBUG_StrCode32ToString, but all that seems to do is set up a reverse lookup table using Fox.StrCode32 to the unencoded string.

Heres some more examples, hopefully no transcription errors
"announce_target_extract
    <Entry Key="2225007113" Value="Target Secured" />
"announce_target_eliminate"
    <Entry Key="3205446798" Value="Target Eliminated" />
"announce_target_destroy"
   <Entry Key="3738767267" Value="Target Destroyed&#xA;" />

basically announce_* lang id strings in the lua scripts match in tpp_announce_log.<language>.lng2 . Though now I'm wondering where the ui to particlar lng2 file mapping is. the lng2 is in lang_default_data_<language code>.fpk Ideally we'd be able to add another lng2 file rather than appending to the existing.
That was easier than I thought. StrCode32 is the same hash function that's used to look up the Ground Zeroes g0s files and to decrypt lua files (CityHash64WithSeeds).
I could add a dictionary to LangTool so that the strings can be found by their code.
## Post #873
- Username: Solidcal
- Rank: beginner
- Number of posts: 26
- Joined date: Thu Apr 30, 2015 4:05 am
- Post datetime: 2015-10-22T19:59:40+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> 
I'm trying to get a separate character Big Boss mod working, but I can't find "Spying Harrier"s staff icon texture. Some of you have it set up so that you can view DDS files in your windows explorer, but I can't get this working so it'd be a massive help if somebody could help find it.
Texture1.dat and it is the e4846d5ef3db ftex file for Venom's portrait icon.
## Post #874
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-22T23:21:25+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

[http://steamcommunity.com/app/287700/di ... 426622619/](http://steamcommunity.com/app/287700/discussions/0/490123938426622619/)

Hold onto your seats boys... This is going to be one wild ride.
## Post #875
- Username: DefaultMan
- Rank: beginner
- Number of posts: 22
- Joined date: Sat Jul 18, 2015 2:34 pm
- Post datetime: 2015-10-23T02:29:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Finally decided to try out doing texture modding and thought i'd try changing up the posters on the cardboard boxes. Strangely enough they are all DXT1 so no alpha, I replaced vertical Paz (tex0/2708c8a9beecb) and was surprised that the original alpha was still there. [http://images.akamai.steamusercontent.c ... FB4036FEF/](http://images.akamai.steamusercontent.com/ugc/640994505175823065/82647E980A5BCF248A918CC95A832CAFB4036FEF/)
I even checked out the fpk with the cardboard box stuff and couldnt find anything like a specific model so I don't see why it would be displaying like this so im pretty stumped here, has anyone looked through the archives enough to have an idea the cause?
## Post #876
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-23T04:15:35+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I went to [https://www.reddit.com/r/moddergearsolid](https://www.reddit.com/r/moddergearsolid) and my first thought was "Wow! Cool a place where everyone is discussing the mods they have made and files they have found!"

All I found is [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] [REQUEST] of at the moment completely impossible things.

oh btw I made dd and dhorse birds, what fun
[http://steamcommunity.com/sharedfiles/f ... =540014899](http://steamcommunity.com/sharedfiles/filedetails/?id=540014899)
[http://steamcommunity.com/sharedfiles/f ... =540013693](http://steamcommunity.com/sharedfiles/filedetails/?id=540013693)
## Post #877
- Username: E3245
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sat Jun 20, 2015 9:35 pm
- Post datetime: 2015-10-23T04:28:20+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

This might be helpful: TppDefine.lua.
[https://www.reddit.com/r/NeverBeGameOve ... teresting/](https://www.reddit.com/r/NeverBeGameOver/comments/3nbfwn/datamine_tppdefinelua_lot_of_interesting/)

Here's the entire mission list. This should help when finding content within specific missions. I'm not sure if it has been posted before.
10010 : Prologue Awekening
10020 : Mission 1 Phantom Limbs 
10030 : Mission 2 Flashback Diamond Dogs 
10036 : Mission 3 A Heros Way 
10043 : Mission 4 C2W
10033 : Mission 5 Over the Fence 
10040 : Mission 6 Where Do the Bees Sleep
10041 : Mission 7 Red Brass 
10044 : Mission 8 Occupation Forces 
10054 : Mission 9 Backup Back Down 
10052 : Mission 10 Angel With Broken Wings
10050 : Mission 11 Cloaked in Silence 
10070 : Mission 12 Hellbound
10080 : Mission 13 Pitch Dark
10086 : Mission 14 Lingua Franca 
10082 : Mission 15 Footprints of Phantoms 
10090 : Mission 16 Traitors Caravan 
10091 : Mission 17 Rescue the Intel Agents 
10100 : Mission 18 Blood Runs Deep 
10195 : Mission 19 On the Trail 
10110 : Mission 20 Voices 
10121 : Mission 21 The War Economy 
10115 : Mission 22 Retake the Platform 
10120 : Mission 23 The White Mamba 
10085 : Mission 24 Close Contact 
10200 : Mission 25 Aim True Ye Vengeful 
10211 : Mission 26 Hunting Down 
10081 : Mission 27 Root Cause 
10130 : Mission 28 Code Talker 
10140 : Mission 29 Metallic Archaea 
10150 : Mission 30 Skull Face 
10151 : Mission 31 Sahelanthropus 
10045 : Mission 32 To Know Too Much
11043 : Mission 33 Subsistence C2W
11054 : Mission 34 Extreme Backup, Back Down
10093 : Mission 35 Cursed Legacy
11082 : Mission 36 Total Stealth Footprints of Phantoms
11090 : Mission 37 Extreme Traitors Caravan
10156 : Mission 38 Extraordinary
11033 : Mission 39 Total Stealth Over the Fence
11050 : Mission 40 Extreme Cloaked in Silence
10171 : Mission 41 Proxy War Without End
11140 : Mission 42 Extreme Metallic Archaea
10240 : Mission 43 Shining Lights, Even in Death
11080 : Mission 44 Total Stealth Pitch Dark
10260 : Mission 45 A Quiet Exit
10280 : Mission 46 Truth - The Man Who Sold the World
11121 : Mission 47 Total Stealth The War Economy
11130 : Mission 48 Extreme Code Talker
11044 : Mission 49 Subsistence Occupation Forces
11151 : Mission 50 Extreme Sahelanthropus
## Post #878
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-10-23T06:28:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from atvaark
>
> 
That was easier than I thought. StrCode32 is the same hash function that's used to look up the Ground Zeroes g0s files and to decrypt lua files (CityHash64WithSeeds).
I could add a dictionary to LangTool so that the strings can be found by their code.
Nice, thought it might be something in the ballpark of stuff already used, thanks (just have to hunt down the lua implementation that bound to be out there lol) having the outside tool would be great. 

Just did first test of appending new line to lng file, and using announcelogviewlangid, went good.

Do you think you could also build a tool that takes a text file of strings and gives the hashes? I'm already at 30+ lines I want to add and typing them off the screen isn't going to be fun.
## Post #879
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-10-23T07:53:04+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> atvaark wrote:
That was easier than I thought. StrCode32 is the same hash function that's used to look up the Ground Zeroes g0s files and to decrypt lua files (CityHash64WithSeeds).
I could add a dictionary to LangTool so that the strings can be found by their code.
Nice, thought it might be something in the ballpark of stuff already used, thanks (just have to hunt down the lua implementation that bound to be out there lol) having the outside tool would be great. 

Just did first test of appending new line to lng file, and using announcelogviewlangid, went good.

Do you think you could also build a tool that takes a text file of strings and gives the hashes? I'm already at 30+ lines I want to add and typing them off the screen isn't going to be fun.

Since that's basically a one liner I'll just upload the application.
It also requires .NET 4.5 and works by dragging text files on it.
[None](https://xentaxbackup.github.io/file/9901_None)
## Post #880
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-10-23T08:04:56+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Champion.
## Post #881
- Username: Solidcal
- Rank: beginner
- Number of posts: 26
- Joined date: Thu Apr 30, 2015 4:05 am
- Post datetime: 2015-10-23T09:19:10+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from E3245
>
> This might be helpful: TppDefine.lua.
https://www.reddit.com/r/NeverBeGameOve ... teresting/

Here's the entire mission list. This should help when finding content within specific missions. I'm not sure if it has been posted before.
10010 : Prologue Awekening
10020 : Mission 1 Phantom Limbs 
10030 : Mission 2 Flashback Diamond Dogs 
10036 : Mission 3 A Heros Way 
10043 : Mission 4 C2W
10033 : Mission 5 Over the Fence 
10040 : Mission 6 Where Do the Bees Sleep
10041 : Mission 7 Red Brass 
10044 : Mission 8 Occupation Forces 
10054 : Mission 9 Backup Back Down 
10052 : Mission 10 Angel With Broken Wings
10050 : Mission 11 Cloaked in Silence 
10070 : Mission 12 Hellbound
10080 : Mission 13 Pitch Dark
10086 : Mission 14 Lingua Franca 
10082 : Mission 15 Footprints of Phantoms 
10090 : Mission 16 Traitors Caravan 
10091 : Mission 17 Rescue the Intel Agents 
10100 : Mission 18 Blood Runs Deep 
10195 : Mission 19 On the Trail 
10110 : Mission 20 Voices 
10121 : Mission 21 The War Economy 
10115 : Mission 22 Retake the Platform 
10120 : Mission 23 The White Mamba 
10085 : Mission 24 Close Contact 
10200 : Mission 25 Aim True Ye Vengeful 
10211 : Mission 26 Hunting Down 
10081 : Mission 27 Root Cause 
10130 : Mission 28 Code Talker 
10140 : Mission 29 Metallic Archaea 
10150 : Mission 30 Skull Face 
10151 : Mission 31 Sahelanthropus 
10045 : Mission 32 To Know Too Much
11043 : Mission 33 Subsistence C2W
11054 : Mission 34 Extreme Backup, Back Down
10093 : Mission 35 Cursed Legacy
11082 : Mission 36 Total Stealth Footprints of Phantoms
11090 : Mission 37 Extreme Traitors Caravan
10156 : Mission 38 Extraordinary
11033 : Mission 39 Total Stealth Over the Fence
11050 : Mission 40 Extreme Cloaked in Silence
10171 : Mission 41 Proxy War Without End
11140 : Mission 42 Extreme Metallic Archaea
10240 : Mission 43 Shining Lights, Even in Death
11080 : Mission 44 Total Stealth Pitch Dark
10260 : Mission 45 A Quiet Exit
10280 : Mission 46 Truth - The Man Who Sold the World
11121 : Mission 47 Total Stealth The War Economy
11130 : Mission 48 Extreme Code Talker
11044 : Mission 49 Subsistence Occupation Forces
11151 : Mission 50 Extreme Sahelanthropus
Thanks for this it was a big help. Actually found the missions folder this way. Obviously they all have a "S" before the number but it has made them easier to find now.
## Post #882
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-10-23T09:39:27+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from E3245
>
> This might be helpful: TppDefine.lua.
https://www.reddit.com/r/NeverBeGameOve ... teresting/

Cheers E3245, have had something similar banging around my text editor for a while, but was reluctant to post it since forums are not good an accessible resource, with your post I decided to jump on the nexus modding wiki, for want of a better place: [http://wiki.tesnexus.com/index.php/Cate ... ar_Solid_5](http://wiki.tesnexus.com/index.php/Category:Metal_Gear_Solid_5)
A couple of pages up so far, the above mentioned, and a general collation of links to modding resources.
There's a lot of nice posts in here, and in the linked resources that would be better served in a wiki. If anyone wants to jump in and start getting stuff on the wiki it would be cool, otherwise I'll slowly pick my way at things.

One of the prior modding communities I was with had what I hold to be a gold standard for a modding wiki: [https://web.archive.org/web/20080616110 ... /Main_Page](https://web.archive.org/web/20080616110911/http://www.modwiki.net/wiki/Main_Page) (recently resurrected at modwiki.xnet.fi, but there you don't get to see it in it's original form, or my commits and comments lol)
But even then fell short due to the small community size. If we can get even a glimmer toward that I'd be happy, but for now just dumping stuff on the wiki wholesale would be cool.
## Post #883
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-10-23T10:26:34+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from atvaark
>
> Tex wrote:
Nice, thought it might be something in the ballpark of stuff already used, thanks (just have to hunt down the lua implementation that bound to be out there lol) having the outside tool would be great. 

Just did first test of appending new line to lng file, and using announcelogviewlangid, went good.

Do you think you could also build a tool that takes a text file of strings and gives the hashes? I'm already at 30+ lines I want to add and typing them off the screen isn't going to be fun.

Since that's basically a one liner I'll just upload the application.
It also requires .NET 4.5 and works by dragging text files on it.
In case anyone wants the source:
[https://dotnetfiddle.net/mGKGr0](https://dotnetfiddle.net/mGKGr0)
## Post #884
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-10-23T15:04:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> HeartlessSeph wrote:Higus wrote:
I'm trying to get a separate character Big Boss mod working, but I can't find "Spying Harrier"s staff icon texture. Some of you have it set up so that you can view DDS files in your windows explorer, but I can't get this working so it'd be a massive help if somebody could help find it.

Sure thing, I'll do it later on tonight.
Great. If Snake's icon is found too, that'd be an appreciated find too, my idea is to design the Big Boss icon based off Venom Snake's with a bit of photoshop work.

Here it is: texture1/132e1b1c4c6ab.ftex for Spying Harrier's Icon

And as SolidCal said: e4846d5ef3db.ftex should be Venom Snake's icon.

Also, in case anyone wants them:

texture1/3bd0c011abb19.ftex: Ocelot
texture1/6de249f779a.ftex: Hideo Kojima
texture1/36e35f4fbd194.ftex: Dude with Suit from that one mission
texture1/7645b9014d010.ftex: D-Dog
texture1/24199fc2827.ftex: D-Horse
texture1/39729b8e6d76e.ftex: Quiet
texture1/259798ce94739.ftex: Codetalker
## Post #885
- Username: CrazyIvan12
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Sat Oct 24, 2015 1:47 am
- Post datetime: 2015-10-23T23:22:33+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

So I've looked through this thread, and either I'm an idiot and missed it, or its not here, but I was wondering if anyone has found the ftex file for Quiet's Sniper Wolf outfit? I want to change her head especially, namely her lips, the yellow/gold thing is a bit weird.
## Post #886
- Username: DefaultMan
- Rank: beginner
- Number of posts: 22
- Joined date: Sat Jul 18, 2015 2:34 pm
- Post datetime: 2015-10-24T00:46:26+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from CrazyIvan12
>
> So I've looked through this thread, and either I'm an idiot and missed it, or its not here, but I was wondering if anyone has found the ftex file for Quiet's Sniper Wolf outfit? I want to change her head especially, namely her lips, the yellow/gold thing is a bit weird.
Im pretty sure I saw it in chunk 2 when i was browsing through everything yesterday, I was looking for other things so I didnt take note of the number though.
## Post #887
- Username: CrazyIvan12
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Sat Oct 24, 2015 1:47 am
- Post datetime: 2015-10-24T02:18:46+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DefaultMan
>
> CrazyIvan12 wrote:So I've looked through this thread, and either I'm an idiot and missed it, or its not here, but I was wondering if anyone has found the ftex file for Quiet's Sniper Wolf outfit? I want to change her head especially, namely her lips, the yellow/gold thing is a bit weird.
Im pretty sure I saw it in chunk 2 when i was browsing through everything yesterday, I was looking for other things so I didnt take note of the number though.
Do you mean texture 2?
## Post #888
- Username: DefaultMan
- Rank: beginner
- Number of posts: 22
- Joined date: Sat Jul 18, 2015 2:34 pm
- Post datetime: 2015-10-24T04:02:05+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from CrazyIvan12
>
> DefaultMan wrote:CrazyIvan12 wrote:So I've looked through this thread, and either I'm an idiot and missed it, or its not here, but I was wondering if anyone has found the ftex file for Quiet's Sniper Wolf outfit? I want to change her head especially, namely her lips, the yellow/gold thing is a bit weird.
Im pretty sure I saw it in chunk 2 when i was browsing through everything yesterday, I was looking for other things so I didnt take note of the number though.
Do you mean texture 2?
Oh right texture 2, my bad. I find the easiest method to finding what you are after is using sage thumbs and sorting by size, pretty sure it was near the top since it is one of the higher resolution textures in the file
## Post #889
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2015-10-24T04:12:42+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hey does anyone know where to get the head model of Paz like in the Quiet Variations pack? I wanna see how it looks with The Boss's sneaking suit
## Post #890
- Username: DefaultMan
- Rank: beginner
- Number of posts: 22
- Joined date: Sat Jul 18, 2015 2:34 pm
- Post datetime: 2015-10-24T04:31:45+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Ashtails
>
> Hey does anyone know where to get the head model of Paz like in the Quiet Variations pack? I wanna see how it looks with The Boss's sneaking suit
They would have done some hex editing to zero out the body for that, same goes for Paz since unfortunately they are a single model unlike snake, dd, soviets and pfs. If you wanted to give it a go I could give a few pointers now that im getting used to the formatting of the files.
## Post #891
- Username: CrazyIvan12
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Sat Oct 24, 2015 1:47 am
- Post datetime: 2015-10-24T05:45:47+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Thanks for your help, the file name was 3b75be781d4e0.ftexs for Sniper Wolf Quiet.

EDIT:
Err, wait, that didn't work... the texture was editable, and I repacked it into the ftex with a number forcing it to be 3 files. Something didn't go right...
Edit2:
Oh wait, it was f961185c0f69
Final Edit:
And done! Thanks for the help DefaultMan!
Link:
[http://www.nexusmods.com/metalgearsolidvtpp/mods/142/](http://www.nexusmods.com/metalgearsolidvtpp/mods/142/)?
## Post #892
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-10-24T11:54:13+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Thanks for the contributions guys, I'm practically finished but I can't for the life of me figure out where "Spying Harrier" is in the Motherbase staff script.

I'm having trouble changing his stats so he's just got those ridiculous stats there that end up kicking him to the bottom of the Combat Unit. If anybody finds out how to change Spying Harrier's stats, please further contribute to this mod's progress by posting your findings. (I've been looking in MbmCommonSettings.lua of data1.dat)
## Post #893
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-24T14:46:11+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> Thanks for the contributions guys, I'm practically finished but I can't for the life of me figure out where "Spying Harrier" is in the Motherbase staff script.

I'm having trouble changing his stats so he's just got those ridiculous stats there that end up kicking him to the bottom of the Combat Unit. If anybody finds out how to change Spying Harrier's stats, please further contribute to this mod's progress by posting your findings. (I've been looking in MbmCommonSettings.lua of data1.dat)
Good work! You should see if that will work with the new MGS3 sneaking suits, too!
## Post #894
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-10-24T16:30:40+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> Higus wrote:Thanks for the contributions guys, I'm practically finished but I can't for the life of me figure out where "Spying Harrier" is in the Motherbase staff script.

I'm having trouble changing his stats so he's just got those ridiculous stats there that end up kicking him to the bottom of the Combat Unit. If anybody finds out how to change Spying Harrier's stats, please further contribute to this mod's progress by posting your findings. (I've been looking in MbmCommonSettings.lua of data1.dat)
Good work! You should see if that will work with the new MGS3 sneaking suits, too!
It does, I just want to get the stats/skills issue fixed and i'll release it.
## Post #895
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2015-10-24T17:58:40+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DefaultMan
>
> Ashtails wrote:Hey does anyone know where to get the head model of Paz like in the Quiet Variations pack? I wanna see how it looks with The Boss's sneaking suit
They would have done some hex editing to zero out the body for that, same goes for Paz since unfortunately they are a single model unlike snake, dd, soviets and pfs. If you wanted to give it a go I could give a few pointers now that im getting used to the formatting of the files.

That would much be appreciated, I was also wondoring if you could replace the head models instead of the balaclavas
## Post #896
- Username: TruckerHatRyan
- Rank: n00b
- Number of posts: 11
- Joined date: Sun Oct 25, 2015 2:35 am
- Post datetime: 2015-10-24T19:10:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> XrayDoc wrote:Higus wrote:Thanks for the contributions guys, I'm practically finished but I can't for the life of me figure out where "Spying Harrier" is in the Motherbase staff script.

I'm having trouble changing his stats so he's just got those ridiculous stats there that end up kicking him to the bottom of the Combat Unit. If anybody finds out how to change Spying Harrier's stats, please further contribute to this mod's progress by posting your findings. (I've been looking in MbmCommonSettings.lua of data1.dat)
Good work! You should see if that will work with the new MGS3 sneaking suits, too!
It does, I just want to get the stats/skills issue fixed and i'll release it.

Finally found him in MbmCommonSetting.lua in data1.dat thanks to help of Cheat Engine thread and comparing to "High Rank Soldiers And Unique characters" by Glotty on Nexus.

You can find him with "staff_name_99_149" and setting his stats to or "sectionpoints" to 490 is max value which equals S++ in game. Can also set Skill to 
"none" or a combat related skill to make Big Boss more of a badass instead of "MechanicalEngineer" which is apparently the Bionics Specialist skill.

Can also set his known languages to better match Big Boss (though he is already set to know English and Russian which iirc were the main languages BB spoke fluently).

Fantastic work on your mod, hope this helps.


Edit: Added above image
## Post #897
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-24T21:56:39+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

What is the easiest way to upack/pack sound files? I remember a way to implement mp3s into GZ but that took a lot of time and steps and the softwares did not work well. Basically, how do I easily find audio files and easily put in my own audio?
## Post #898
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-10-24T23:57:20+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from TruckerHatRyan
>
> 
Finally found him in MbmCommonSetting.lua in data1.dat thanks to help of Cheat Engine thread and comparing to "High Rank Soldiers And Unique characters" by Glotty on Nexus.

You can find him with "staff_name_99_149" and setting his stats to or "sectionpoints" to 490 is max value which equals S++ in game. Can also set Skill to 
"none" or a combat related skill to make Big Boss more of a badass instead of "MechanicalEngineer" which is apparently the Bionics Specialist skill.

Can also set his known languages to better match Big Boss (though he is already set to know English and Russian which iirc were the main languages BB spoke fluently).

Fantastic work on your mod, hope this helps.


Edit: Added above image
Wow "MechanicalEnginner", no wonder the bugger was hard to find. Thanks a million, I'll try to sort out some issues and get this out on nexus as soon as possible, you guys have been a great help. (as it stands though BB has to be released without voice and no bandana, or at least a static physics bandana)
## Post #899
- Username: alex61194
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Wed Sep 16, 2015 1:42 am
- Post datetime: 2015-10-25T01:41:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> TruckerHatRyan wrote:
Finally found him in MbmCommonSetting.lua in data1.dat thanks to help of Cheat Engine thread and comparing to "High Rank Soldiers And Unique characters" by Glotty on Nexus.

You can find him with "staff_name_99_149" and setting his stats to or "sectionpoints" to 490 is max value which equals S++ in game. Can also set Skill to 
"none" or a combat related skill to make Big Boss more of a badass instead of "MechanicalEngineer" which is apparently the Bionics Specialist skill.

Can also set his known languages to better match Big Boss (though he is already set to know English and Russian which iirc were the main languages BB spoke fluently).

Fantastic work on your mod, hope this helps.


Edit: Added above image
Wow "MechanicalEnginner", no wonder the bugger was hard to find. Thanks a million, I'll try to sort out some issues and get this out on nexus as soon as possible, you guys have been a great help. (as it stands though BB has to be released without voice and no bandana, or at least a static physics bandana)
imagine a mod with David Hayter´s voice just dreaming
## Post #900
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2015-10-25T01:46:18+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> TruckerHatRyan wrote:
Finally found him in MbmCommonSetting.lua in data1.dat thanks to help of Cheat Engine thread and comparing to "High Rank Soldiers And Unique characters" by Glotty on Nexus.

You can find him with "staff_name_99_149" and setting his stats to or "sectionpoints" to 490 is max value which equals S++ in game. Can also set Skill to 
"none" or a combat related skill to make Big Boss more of a badass instead of "MechanicalEngineer" which is apparently the Bionics Specialist skill.

Can also set his known languages to better match Big Boss (though he is already set to know English and Russian which iirc were the main languages BB spoke fluently).

Fantastic work on your mod, hope this helps.


Edit: Added above image
Wow "MechanicalEnginner", no wonder the bugger was hard to find. Thanks a million, I'll try to sort out some issues and get this out on nexus as soon as possible, you guys have been a great help. (as it stands though BB has to be released without voice and no bandana, or at least a static physics bandana)

My only problem with this is how would you be able to make big boss's robo arms? plus will this make the prisoner you save in over the fence big boss?
## Post #901
- Username: Xiraiya
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Sun Oct 25, 2015 10:21 am
- Post datetime: 2015-10-25T02:34:22+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from TruckerHatRyan
>
> 
Finally found him in MbmCommonSetting.lua in data1.dat thanks to help of Cheat Engine thread and comparing to "High Rank Soldiers And Unique characters" by Glotty on Nexus.
You can find him with "staff_name_99_149" and setting his stats to or "sectionpoints" to 490 is max value which equals S++ in game. Can also set Skill to 
"none" or a combat related skill to make Big Boss more of a badass instead of "MechanicalEngineer" which is apparently the Bionics Specialist skill.

Can also set his known languages to better match Big Boss (though he is already set to know English and Russian which iirc were the main languages BB spoke fluently).

Actually I just did some research on this the other day while attempting to make Miller, Ocelot and Snake etc. more sensible by making their primary stats S Rank, which I gave up on as it doesn't stick if you replace the file, I wanted their stats to stick to my save, like I managed in Peace Walker making a custom group of badasses tied to my save with unique names.

S++:450 (Seems to cap at about 515, any higher and the bar stops moving)
S+:295
S:185
A++:110 ("Most" canon staff seem to peak at 130 in their highest stat, with Snake being 130 in combat and medical and 110 in most other areas, the exceptions are Huey at 127 R&D and Quiet who was like 112 in Combat)
A+:80
A:65
B:50
C:35
D:20
E:0 (10 is the lowest in-game value seen, it can go lower but they don't like to give anyone a lower value than 10 in a stat)

Be careful if anyone uses this info, because S+ and S++ soldiers don't really occur naturally in game, S+ seems to be a reward for completing chapter 1, and they do occasionally seem to show up under specific circumstances, but as far as I can tell the highest encounter rate possible in the field based on Motherbase levels is S at 30%, S+ and S++ at 0%, an update might have changed this since I was playing an older version to avoid online.

Why are you overwriting a soldier required for a mission anyway? if it was a randomly encountered soldier sure, but a soldier unique to a mission just doesn't seem like the right way to go about it.
## Post #902
- Username: TruckerHatRyan
- Rank: n00b
- Number of posts: 11
- Joined date: Sun Oct 25, 2015 2:35 am
- Post datetime: 2015-10-25T02:56:53+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> 
Wow "MechanicalEnginner", no wonder the bugger was hard to find. Thanks a million, I'll try to sort out some issues and get this out on nexus as soon as possible, you guys have been a great help. (as it stands though BB has to be released without voice and no bandana, or at least a static physics bandana)

Happy to help. Even without voice and a bandana w/ physics this will be awesome.

> Reply from Ashtails
>
> My only problem with this is how would you be able to make big boss's robo arms? plus will this make the prisoner you save in over the fence big boss?

> Reply from Xiraiya
>
> Why are you overwriting a soldier required for a mission anyway? if it was a randomly encountered soldier sure, but a soldier unique to a mission just doesn't seem like the right way to go about it.

This wouldn't make the prisoner in the mission appear as BB and I believe the point in using a unique soldier such as this is to replace a soldier everyone has access to. 

As I understand it, a unique soldier is only awarded to you as a mission award if that soldier is not already present in Motherbase. So if you somehow lose the soldier or just have not completed the mission, you need only complete it to unlock the soldier and in this case have access to BB thanks to the mod. 

Now I am not 100% on this part, but I believe that if you replay the mission with the unique soldier already in Motherbase, you are awarded a generic soldier with the same skill as the original unique soldier. So in theory you should only need to complete the mission once more to be awarded a generic soldier with the "Bionic Specialist" skill once you have unlocked Spying Harrier.

If someone has some confirmation on that or knows that to be incorrect, feel free to chime in. Either way Higus may have something in mind to resolve the potential issues.
## Post #903
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2015-10-25T03:48:25+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Ashtails
>
> Higus wrote:TruckerHatRyan wrote:
Finally found him in MbmCommonSetting.lua in data1.dat thanks to help of Cheat Engine thread and comparing to "High Rank Soldiers And Unique characters" by Glotty on Nexus.

You can find him with "staff_name_99_149" and setting his stats to or "sectionpoints" to 490 is max value which equals S++ in game. Can also set Skill to 
"none" or a combat related skill to make Big Boss more of a badass instead of "MechanicalEngineer" which is apparently the Bionics Specialist skill.

Can also set his known languages to better match Big Boss (though he is already set to know English and Russian which iirc were the main languages BB spoke fluently).

Fantastic work on your mod, hope this helps.


Edit: Added above image
Wow "MechanicalEnginner", no wonder the bugger was hard to find. Thanks a million, I'll try to sort out some issues and get this out on nexus as soon as possible, you guys have been a great help. (as it stands though BB has to be released without voice and no bandana, or at least a static physics bandana)

My only problem with this is how would you be able to make big boss's robo arms? plus will this make the prisoner you save in over the fence big boss?

I suggest doing it for glaz or paliz bcuz lets be honest, if you haven't played ground zeroes why are you playing The Phantom Pain
## Post #904
- Username: Poisonedmods
- Rank: n00b
- Number of posts: 12
- Joined date: Wed Oct 07, 2015 4:02 am
- Post datetime: 2015-10-25T04:41:52+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Because some people may have not played PC version as it was free on PS4 for PS+ members and i cant transfer my PS4 save to PC?
## Post #905
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-10-25T04:47:47+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Poisonedmods
>
> Because some people may have not played PC version as it was free on PS4 for PS+ members and i cant transfer my PS4 save to PC?

I was about to say that. I originally played Ground Zeroes on PS4. I got it with PC since I pre-ordered the game but not everyone may have done that.
## Post #906
- Username: Xiraiya
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Sun Oct 25, 2015 10:21 am
- Post datetime: 2015-10-25T05:56:47+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Save transfer is not cross platform.
## Post #907
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-10-25T06:28:05+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

To those using the Ftex tool, is anyone else having the game crash when using textures converted at 2048x2048? Even using the GZS tool to add the extra ftexs parts causes the game to crash regardless and it's becoming an annoyance.
## Post #908
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2015-10-25T06:57:40+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from TruckerHatRyan
>
> This wouldn't make the prisoner in the mission appear as BB and I believe the point in using a unique soldier such as this is to replace a soldier everyone has access to. 

As I understand it, a unique soldier is only awarded to you as a mission award if that soldier is not already present in Motherbase. So if you somehow lose the soldier or just have not completed the mission, you need only complete it to unlock the soldier and in this case have access to BB thanks to the mod. 

Now I am not 100% on this part, but I believe that if you replay the mission with the unique soldier already in Motherbase, you are awarded a generic soldier with the same skill as the original unique soldier. So in theory you should only need to complete the mission once more to be awarded a generic soldier with the "Bionic Specialist" skill once you have unlocked Spying Harrier.

If someone has some confirmation on that or knows that to be incorrect, feel free to chime in. Either way Higus may have something in mind to resolve the potential issues.
Took the words right out of my mouth. Only the prisoner in Over The Fence actually was Big Boss, but I've fixed it and it's now Spying Harrier's model only for that mission.

> Reply from Ashtails
>
> I suggest doing it for glaz or paliz bcuz lets be honest, if you haven't played ground zeroes why are you playing The Phantom Pain
At the moment it's technically impossible to do it for Glaz/Palitz because of the simple fact that neither have a second model part to replace: hair.

> Reply from Ashtails
>
> My only problem with this is how would you be able to make big boss's robo arms? plus will this make the prisoner you save in over the fence big boss?
If you're asking about the robotic arm then you don't fully know the (plot-wise) point of the mod and I suggest you finish phantom pain before you realize this mod subject is a huge spoiler.
## Post #909
- Username: TruckerHatRyan
- Rank: n00b
- Number of posts: 11
- Joined date: Sun Oct 25, 2015 2:35 am
- Post datetime: 2015-10-25T08:37:48+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> Took the words right out of my mouth. Only the prisoner in Over The Fence actually was Big Boss, but I've fixed it and it's now Spying Harrier's model only

My mistake on that one, great job finding a solution. Looking forward to the finished product.
## Post #910
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2015-10-25T17:44:03+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Ashtails
>
> My only problem with this is how would you be able to make big boss's robo arms? plus will this make the prisoner you save in over the fence big boss?
If you're asking about the robotic arm then you don't fully know the (plot-wise) point of the mod and I suggest you finish phantom pain before you realize this mod subject is a huge spoiler.[/quote]

I played it, Venom Snake, Big Boss, though they are different people the game pretty much says Venom snakes actions contribute to who Big Boss ("You're your own man, I'm Big Boss, and you are too. No. He's the two of us together") so I use them interchangeably. I am just saying that spying harrier allows you to make different robo arms for Venom Snake which I realized was a dumb thing to say since by the time you finish mission 46 (which is recommended before use of this mod) you most likely have all the arms built anyway
## Post #911
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-25T21:42:48+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Still looking around for ways to recreate the FPS mod from GZ.

-The camera files in afgh_large do nothing
-I believe the camera may be controlled by the parts/player fpkd file
-I think it may have to do with the plparts_venom.fox2 file, or the any other player file, so I'll try to look into that
-It may also have to do with the tppPlayer.fsd file, but I don't know how to open an fsd file, I'll look into that as well
## Post #912
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-10-25T21:57:03+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> Still looking around for ways to recreate the FPS mod from GZ.

-The camera files in afgh_large do nothing
-I believe the camera may be controlled by the parts/player fpkd file
-I think it may have to do with the plparts_venom.fox2 file, or the any other player file, so I'll try to look into that
-It may also have to do with the tppPlayer.fsd file, but I don't know how to open an fsd file, I'll look into that as well

I think the Fox Tool opens those. Check here: [https://github.com/Atvaark/TPP.FileForm ... /README.md](https://github.com/Atvaark/TPP.FileFormats/blob/master/README.md)
## Post #913
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-25T22:01:57+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> XrayDoc wrote:Still looking around for ways to recreate the FPS mod from GZ.

-The camera files in afgh_large do nothing
-I believe the camera may be controlled by the parts/player fpkd file
-I think it may have to do with the plparts_venom.fox2 file, or the any other player file, so I'll try to look into that
-It may also have to do with the tppPlayer.fsd file, but I don't know how to open an fsd file, I'll look into that as well

I think the Fox Tool opens those. Check here: https://github.com/Atvaark/TPP.FileForm ... /README.md
Just used it, nothing interesting found in them. However I think it may be in sna4_main0_asr.sim or sna4_main0_body.sim. Looking through them now and seeing x, y, z, and w stuff
## Post #914
- Username: DefaultMan
- Rank: beginner
- Number of posts: 22
- Joined date: Sat Jul 18, 2015 2:34 pm
- Post datetime: 2015-10-25T23:36:57+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> 
Just used it, nothing interesting found in them. However I think it may be in sna4_main0_asr.sim or sna4_main0_body.sim. Looking through them now and seeing x, y, z, and w stuff
.sim files are simulation files, those likely control the belt/tail physics and hair physics. Quiet has similar files controlling her breast physics same with Hospital Paz for hair physics.
## Post #915
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-26T01:35:18+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DefaultMan
>
> XrayDoc wrote:
Just used it, nothing interesting found in them. However I think it may be in sna4_main0_asr.sim or sna4_main0_body.sim. Looking through them now and seeing x, y, z, and w stuff
.sim files are simulation files, those likely control the belt/tail physics and hair physics. Quiet has similar files controlling her breast physics same with Hospital Paz for hair physics.
It may be under data01's /script/lib/TppPlayer.lua
## Post #916
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-10-26T02:01:19+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

A rough writeup of stuff I've come across while wrestling with the lng2 files: [http://wiki.tesnexus.com/index.php/Lng2_File_usage](http://wiki.tesnexus.com/index.php/Lng2_File_usage)
## Post #917
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-10-26T10:38:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> To those using the Ftex tool, is anyone else having the game crash when using textures converted at 2048x2048? Even using the GZS tool to add the extra ftexs parts causes the game to crash regardless and it's becoming an annoyance.
I guess the game still tries to load the original file in your case. Please say which file you edited and attach your custom ftex files that cause the crash. Otherwise I can't really help you.
## Post #918
- Username: macfifa
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Tue Oct 27, 2015 7:40 am
- Post datetime: 2015-10-26T23:44:17+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

hi
i hope some one will help me where do i find venom bandana texture file i want to change it to make it look cool thx
## Post #919
- Username: DefaultMan
- Rank: beginner
- Number of posts: 22
- Joined date: Sat Jul 18, 2015 2:34 pm
- Post datetime: 2015-10-27T04:58:24+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from macfifa
>
> hi
i hope some one will help me where do i find venom bandana texture file i want to change it to make it look cool thx
Just did a quick search seems to be 1acb3cf52f0b8.ftex in Texture0.dat. .pftxs for it appear to be chunk0\Assets\tpp\pack\player\fova\plfova_sna0_faceX_v00 (X = 4,5,6)
## Post #920
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-10-27T07:27:16+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> A rough writeup of stuff I've come across while wrestling with the lng2 files: http://wiki.tesnexus.com/index.php/Lng2_File_usage
With v0.2.4 I added a dictionary to the LangTool, which can be filled with known LangIds. That way manually looking up the StrCode32s won't be necessary anymore once all ids have been found. (There are about 8000-9000 LangIds.)
## Post #921
- Username: maurocio
- Rank: n00b
- Number of posts: 15
- Joined date: Wed Jan 27, 2010 3:45 am
- Post datetime: 2015-10-27T13:41:50+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

First step to get custom music:

[](http://postimg.org/image/9u1pyea85/)

I hope soon I can write a tutorial for this.
## Post #922
- Username: Solidcal
- Rank: beginner
- Number of posts: 26
- Joined date: Thu Apr 30, 2015 4:05 am
- Post datetime: 2015-10-27T18:50:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from maurocio
>
> First step to get custom music:



I hope soon I can write a tutorial for this.
But the game already has custom music enabled for it on the PC with the custom soundtrack folder in the game's directory. So by custom do you mean adding music in that should've been in the game already?
## Post #923
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-10-27T19:04:46+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Nice, and I already was provisionally using LangId as the attribute name for my new lng2.xmls, just need to delete my old manually transcribed keys lol.
Thanks again atvaark.

Here's a short lang dict from the lua calls to announcelogviewlangid [http://pastebin.com/h030Xa6d](http://pastebin.com/h030Xa6d)
Those left missing from tpp_announce_log lng2 would likely be called from in-engine (though a lua search for announce_ couldn't hurt), there's more to be pulled from the lua files, seaching for lang, langId, key_ and some cases of name could help, but I'm not geared up to pull stuff pragmatically, emoose, care to extend the dict project?

For my own project the limitations of the announcelog implementation in combining multiple localized strings is really getting me. Unless I'm missing something, it seems so just so silly and specific ie will allow langid, number but not number, langid. number, number, but not langid, langid where other localized strings used in other guis show these usages. At this current point it's not worth me shifting over to using localized strings because of this.

Anyway, updated the wiki page with the expanded usage of langtool.
## Post #924
- Username: macfifa
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Tue Oct 27, 2015 7:40 am
- Post datetime: 2015-10-28T01:05:04+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

i have done some texture change to desert fox out fit and the banbana (1bc07db9d9eb5 for desert fox and 1acb3cf52f0b8 for bandana)
but it seems that the game have a small version some where becouse it only showed up when zoomed in like the pictures



q2.jpg (175.09 KiB) Viewed 71 times
## Post #925
- Username: DefaultMan
- Rank: beginner
- Number of posts: 22
- Joined date: Sat Jul 18, 2015 2:34 pm
- Post datetime: 2015-10-28T01:45:26+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from macfifa
>
> i have done some texture change to desert fox out fit and the banbana (1bc07db9d9eb5 for desert fox and 1acb3cf52f0b8 for bandana)
but it seems that the game have a small version some where becouse it only showed up when zoomed in like the pictures
q2.jpg
Did you update the *.ftex and *.1.ftexs in the respective pftxs (snahead 4,5,6 & plparts_normal/scarf)? Same happened to me when I first tried changing my cardboard box posters, is pretty annoying
## Post #926
- Username: macfifa
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Tue Oct 27, 2015 7:40 am
- Post datetime: 2015-10-28T02:14:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DefaultMan
>
> macfifa wrote:i have done some texture change to desert fox out fit and the banbana (1bc07db9d9eb5 for desert fox and 1acb3cf52f0b8 for bandana)
but it seems that the game have a small version some where becouse it only showed up when zoomed in like the pictures
q2.jpg
Did you update the *.ftex and *.1.ftexs in the respective pftxs (snahead 4,5,6 & plparts_normal/scarf)? Same happened to me when I first tried changing my cardboard box posters, is pretty annoying

No
where are (snahead 4,5,6 & plparts_normal/scarf) so i can update them? thx
## Post #927
- Username: DefaultMan
- Rank: beginner
- Number of posts: 22
- Joined date: Sat Jul 18, 2015 2:34 pm
- Post datetime: 2015-10-28T04:42:26+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from macfifa
>
> DefaultMan wrote:macfifa wrote:i have done some texture change to desert fox out fit and the banbana (1bc07db9d9eb5 for desert fox and 1acb3cf52f0b8 for bandana)
but it seems that the game have a small version some where becouse it only showed up when zoomed in like the pictures
q2.jpg
Did you update the *.ftex and *.1.ftexs in the respective pftxs (snahead 4,5,6 & plparts_normal/scarf)? Same happened to me when I first tried changing my cardboard box posters, is pretty annoying

No. 
where are (snahead 4,5,6 & plparts_normal/scarf) so i can update them? thx
chunk0\Assets\tpp\pack\player\fova for the heads
chunk0\Assets\tpp\pack\player\parts for the body
Need to use the gzstool to unpack the pftxs archives.
## Post #928
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-10-28T05:56:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Trying to figure out if somethings wrong with the 1.0.4.4 patch or if it's just me.

It didn't actually download the update so had to use the steam betas/version selector, shows up at bottom of list, and selecting it gets it ok, the steam forums topic says it's the official release, yet switch back to 'betas off'/what should be main line release reverts back to 1.0.4.3

As for the actual patch about 20mb of files are actually removed from 00.dat. 1.0.4.1 had 172 files modified from base (many fpks, so possibly more actual), 1.0.4.4 has 42.
Is this a genuine reversion of those files to base or a mistake? Given that a lot of those files removed seem to be from the 'ui improvements' announced last patch it's odd.
## Post #929
- Username: macfifa
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Tue Oct 27, 2015 7:40 am
- Post datetime: 2015-10-28T20:42:16+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Did you update the *.ftex and *.1.ftexs in the respective pftxs (snahead 4,5,6 & plparts_normal/scarf)? Same happened to me when I first tried changing my cardboard box posters, is pretty annoying[/quote]

No. 
where are (snahead 4,5,6 & plparts_normal/scarf) so i can update them? thx[/quote]
chunk0\Assets\tpp\pack\player\fova for the heads
chunk0\Assets\tpp\pack\player\parts for the body
Need to use the gzstool to unpack the pftxs archives.[/quote]

i have found in snahead 4,5,6 1acb3cf52f0b8 ftex so i update it and it work very well
but in plparts_normal i have found 3a720198df87a which is (Venom Olive Drab) and in plparts_normal_scarf have found 3f510ca99a4d5 (Venom Tiger Stripe) so i change these two and update the files in texture0
this result that when Venom Tiger Stripe outfit is on the scarf works fine but in the other outfit (Venom Olive Drab),(Venom Desert Fox)
still have the same problem as befor
## Post #930
- Username: morbidslinky
- Rank: beginner
- Number of posts: 27
- Joined date: Wed Oct 21, 2015 9:26 am
- Post datetime: 2015-10-28T22:59:34+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from morbidslinky
>
> Hi, would anyone happen to know how I can access the textures for the new DLC? I'd like to try recoloring the boss's sneaking suit, if it's possible.

bump ;_; I still can't find it
## Post #931
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-10-28T23:58:06+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

C R A W L I N G
I N
M Y
S K I N
T H E S E
W O U N D S
T H E Y
W I L L
N O T
H E A L
[http://i.imgur.com/2jwITr3.png](http://i.imgur.com/2jwITr3.png)
## Post #932
- Username: DefaultMan
- Rank: beginner
- Number of posts: 22
- Joined date: Sat Jul 18, 2015 2:34 pm
- Post datetime: 2015-10-29T01:27:51+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from macfifa
>
> 
i have found in snahead 4,5,6 1acb3cf52f0b8 ftex so i update it and it work very well
but in plparts_normal i have found 3a720198df87a which is (Venom Olive Drab) and in plparts_normal_scarf have found 3f510ca99a4d5 (Venom Tiger Stripe) so i change these two and update the files in texture0
this result that when Venom Tiger Stripe outfit is on the scarf works fine but in the other outfit (Venom Olive Drab),(Venom Desert Fox)
still have the same problem as befor
Hmm, I haven't had much of a look into textures much yet, only recently started myself. Not sure where the Desert Fox camo texture would also be referenced from. I have a similar thing with some replacements of the photos in the ACC which revert back to normal during night sometimes.
I will try take a look and see if I can find anything.
Edit: Worked out the camos, they are in the same folder as the snahead files. Desert Fox is plfova_sna0_main1_c03
## Post #933
- Username: BloatheadSorcerer
- Rank: n00b
- Number of posts: 19
- Joined date: Fri Jan 16, 2015 5:10 am
- Post datetime: 2015-10-29T06:33:06+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hey everyone....I've read through the entire thread looking for a solution but failed.
When I unpack a snake related FPK (like plparts_battledress.fpk) there are only three model files not multiple files for arms, legs etc....
I tried messing with the FPK dictionary or adding the lines of the head,arms,legs etc.... but with no luck.
Can somebody help me?
## Post #934
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-10-29T07:05:45+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from macfifa
>
> 
i have found in snahead 4,5,6 1acb3cf52f0b8 ftex so i update it and it work very well
but in plparts_normal i have found 3a720198df87a which is (Venom Olive Drab) and in plparts_normal_scarf have found 3f510ca99a4d5 (Venom Tiger Stripe) so i change these two and update the files in texture0
this result that when Venom Tiger Stripe outfit is on the scarf works fine but in the other outfit (Venom Olive Drab),(Venom Desert Fox)
still have the same problem as befor
3a720198df87a.ftex and 3a720198df87a.1.ftexs is packed in the following archives:
mis_com_dd_soldier_gz.pftxs
plfova_sna0_main1_c00.pftxs
plparts_normal.pftxs
s10010_d01.pftxs
s10010_s09.pftxs
s10280_d12.pftxs
## Post #935
- Username: macfifa
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Tue Oct 27, 2015 7:40 am
- Post datetime: 2015-10-29T10:15:35+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from atvaark
>
> macfifa wrote:
i have found in snahead 4,5,6 1acb3cf52f0b8 ftex so i update it and it work very well
but in plparts_normal i have found 3a720198df87a which is (Venom Olive Drab) and in plparts_normal_scarf have found 3f510ca99a4d5 (Venom Tiger Stripe) so i change these two and update the files in texture0
this result that when Venom Tiger Stripe outfit is on the scarf works fine but in the other outfit (Venom Olive Drab),(Venom Desert Fox)
still have the same problem as befor
3a720198df87a.ftex and 3a720198df87a.1.ftexs is packed in the following archives:
mis_com_dd_soldier_gz.pftxs
plfova_sna0_main1_c00.pftxs
plparts_normal.pftxs
s10010_d01.pftxs
s10010_s09.pftxs
s10280_d12.pftxs

thx now every outfit works fine i will try to put the mod in nexusmods site
it is amazing atvaark and defaultman how you can locate the files so easy if you have the time give me the other outfits files in a pm or tell me how i can locate the files my self
## Post #936
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-10-29T12:44:56+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from macfifa
>
> atvaark wrote:macfifa wrote:
i have found in snahead 4,5,6 1acb3cf52f0b8 ftex so i update it and it work very well
but in plparts_normal i have found 3a720198df87a which is (Venom Olive Drab) and in plparts_normal_scarf have found 3f510ca99a4d5 (Venom Tiger Stripe) so i change these two and update the files in texture0
this result that when Venom Tiger Stripe outfit is on the scarf works fine but in the other outfit (Venom Olive Drab),(Venom Desert Fox)
still have the same problem as befor
3a720198df87a.ftex and 3a720198df87a.1.ftexs is packed in the following archives:
mis_com_dd_soldier_gz.pftxs
plfova_sna0_main1_c00.pftxs
plparts_normal.pftxs
s10010_d01.pftxs
s10010_s09.pftxs
s10280_d12.pftxs

thx now every outfit works fine i will try to put the mod in nexusmods site
it is amazing atvaark and defaultman how you can locate the files so easy if you have the time give me the other outfits files in a pm or tell me how i can locate the files my self
I just wrote an application that scans every .dat file and displays which archives reference the file I search.

The same can be done by unpacking every single dat/fpk/fpkd/pftxs archive and checking it manually.
## Post #937
- Username: LoveBox
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Fri Oct 30, 2015 11:18 am
- Post datetime: 2015-10-30T03:24:32+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hey guys I jut edited the Naked Snake fatigues and I'm still a little new to the modding scene.
How do I get my edited .dds file back into an ftex and 3 ftexs files? I remember somebody saying you had to open the command prompt but it didn't seem to work after typing the command that was shown in the readme of the ftex tool.

I'm trying to make the Santa Claus camo for Snake, for now I just made the entire camo area red and hope the normals keep the detail of the pockets and stitching intact. 
Once I can see how it looks I'll try and figure out what parts to add the white for the middle section and bottom part.
[None](https://xentaxbackup.github.io/file/9931_None)
## Post #938
- Username: macfifa
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Tue Oct 27, 2015 7:40 am
- Post datetime: 2015-10-30T14:21:56+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

hi
here is the mod on nexusmods.com
[http://www.nexusmods.com/metalgearsolidvtpp/mods/156/?](http://www.nexusmods.com/metalgearsolidvtpp/mods/156/?)
## Post #939
- Username: mgspw
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sat Oct 31, 2015 12:37 am
- Post datetime: 2015-10-30T16:41:48+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Can someone please tell me where i can find "Big Boss head model" for MGSV TPP on PS3? trying to swap Venom's head.
## Post #940
- Username: stealthcl0wn
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sat Oct 31, 2015 2:11 am
- Post datetime: 2015-10-30T18:12:34+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from mgspw
>
> Can someone please tell me where i can find "Big Boss head model" for MGSV TPP on PS3? trying to swap Venom's head.

You can't mod on PS3.
## Post #941
- Username: Solidcal
- Rank: beginner
- Number of posts: 26
- Joined date: Thu Apr 30, 2015 4:05 am
- Post datetime: 2015-10-30T18:18:17+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from stealthcl0wn
>
> mgspw wrote:Can someone please tell me where i can find "Big Boss head model" for MGSV TPP on PS3? trying to swap Venom's head.

You can't mod on PS3.
Actually you can. Redcode does it quite a lot. You just need a jailbroken ps3 and such to mess with stuff it would seem. That's how the people over at save mgo brought MGO2 back after all.
## Post #942
- Username: stealthcl0wn
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sat Oct 31, 2015 2:11 am
- Post datetime: 2015-10-30T18:38:53+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Solidcal
>
> stealthcl0wn wrote:mgspw wrote:Can someone please tell me where i can find "Big Boss head model" for MGSV TPP on PS3? trying to swap Venom's head.

You can't mod on PS3.
Actually you can. Redcode does it quite a lot. You just need a jailbroken ps3 and such to mess with stuff it would seem. That's how the people over at save mgo brought MGO2 back after all.

I meant this game specifically. At least, not yet.
## Post #943
- Username: mgspw
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sat Oct 31, 2015 12:37 am
- Post datetime: 2015-10-30T19:28:48+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

u actually can mod on ps3... i managed to swap the GZ big boss and Solid Snake outfit
i wanna do the same for Big boss's head over Venom's.
## Post #944
- Username: ziso1987
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Wed Aug 01, 2012 5:10 am
- Post datetime: 2015-10-30T19:55:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from mgspw
>
> u actually can mod on ps3... i managed to swap the GZ big boss and Solid Snake outfit
i wanna do the same for Big boss's head over Venom's.
Where you find this file to swap the outfit?
I am searching too for the real Big Boss head swap.
## Post #945
- Username: DefaultMan
- Rank: beginner
- Number of posts: 22
- Joined date: Sat Jul 18, 2015 2:34 pm
- Post datetime: 2015-10-31T06:36:07+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from atvaark
>
> 
I just wrote an application that scans every .dat file and displays which archives reference the file I search.

The same can be done by unpacking every single dat/fpk/fpkd/pftxs archive and checking it manually.
Any chance you could share the application, would save everyone a heap of time when looking through the files for the ridiculous amount of duplicate files the game uses.
## Post #946
- Username: mgspw
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sat Oct 31, 2015 12:37 am
- Post datetime: 2015-10-31T07:23:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Please share the App
## Post #947
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-10-31T10:02:47+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DefaultMan
>
> atvaark wrote:
I just wrote an application that scans every .dat file and displays which archives reference the file I search.

The same can be done by unpacking every single dat/fpk/fpkd/pftxs archive and checking it manually.
Any chance you could share the application, would save everyone a heap of time when looking through the files for the ridiculous amount of duplicate files the game uses.

> Reply from mgspw
>
> Please share the App

I've already uploaded it some time ago and it had its own [branch on the GzsTool git repository](https://github.com/Atvaark/GzsTool) by the way. But due to some changes in GzsTool it would only work with the GzsTool from one month ago.

-Requires the latest version of GzsTool in the same directory
-The usage is pretty simple. Just open the MGS_TPP/master directory from the file menu and make yourself a cup of tea while the tool reads through the files.
[None](https://xentaxbackup.github.io/file/9939_None)
## Post #948
- Username: mgspw
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sat Oct 31, 2015 12:37 am
- Post datetime: 2015-10-31T15:21:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Thank you... i think i found Big boss's head data ,it's on another big file on PS3 ,not the one that has Venom's data.
## Post #949
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2015-10-31T22:09:46+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Stupid question, how's the model exporter doing??
## Post #950
- Username: mgspw
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sat Oct 31, 2015 12:37 am
- Post datetime: 2015-11-01T01:06:04+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

[http://www.nexusmods.com/metalgearsolidvtpp/mods/159/](http://www.nexusmods.com/metalgearsolidvtpp/mods/159/)?
I finally managed to swap Venom's head with Big Boss's. I posted the mod in NexusMods(link above).Keep in mind this mod is for PS3.
## Post #951
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2015-11-01T20:14:17+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Is there a way to replace Ahab's/Venom Snake's robotic hand with the hospital hook hand? I think a mod that makes snake look like his original concept art with the hood would look cool
## Post #952
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-11-02T00:23:15+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Ashtails
>
> Is there a way to replace Ahab's/Venom Snake's robotic hand with the hospital hook hand? I think a mod that makes snake look like his original concept art with the hood would look cool
Maybe, it depends on if the hospital arm is a complete part of the skin or an attached part. Either way, I'm sure someone will find a way eventually.
## Post #953
- Username: Solidcal
- Rank: beginner
- Number of posts: 26
- Joined date: Thu Apr 30, 2015 4:05 am
- Post datetime: 2015-11-02T18:04:15+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Ashtails
>
> Is there a way to replace Ahab's/Venom Snake's robotic hand with the hospital hook hand? I think a mod that makes snake look like his original concept art with the hood would look cool
Well sadly there is no cutscene hospital hook hand. So what I think you'd have to do is learn hex editing and null out all the model bits on hospital venom's model except the hook hand.
## Post #954
- Username: Brotigan
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Wed Sep 30, 2015 8:51 pm
- Post datetime: 2015-11-03T02:36:15+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Can someone with PS3 or 360 insert the following code into one of the .lua files and post the result? I assume it returns a total number of active nukes and a maximum amount of them. You need to be online and logged into Konami's server.

```
TppUI.ShowAnnounceLog("find_diamond",TppServerManager.GetNuclearMax())

```


Don't know if consoles have the same file structure, on PC I used heli_common_sequence.lua and inserted the code into this.StartPilotMotion() function so notifications show up while you're sitting in the helicopter (ACC).

```
\0\00\Assets\tpp\pack\mission2\heli\heli_common_script_fpkd\Assets\tpp\level\mission2\heli\common\heli_common_sequence.lua
```


It should look something like that:



2015-11-03_00010.jpg (163.57 KiB) Viewed 203 times
## Post #955
- Username: Jax765
- Rank: n00b
- Number of posts: 12
- Joined date: Fri Sep 11, 2015 12:31 am
- Post datetime: 2015-11-03T20:29:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Is it possible to texture edit the DLC outfits yet? Using the Ftex tool (version 0.3.1) to convert the ftex files, but I just end up with stuff like this.
## Post #956
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-11-03T20:57:03+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Jax765
>
> Is it possible to texture edit the DLC outfits yet? Using the Ftex tool (version 0.3.1) to convert the ftex files, but I just end up with stuff like this.
Which file is that?
## Post #957
- Username: Jax765
- Rank: n00b
- Number of posts: 12
- Joined date: Fri Sep 11, 2015 12:31 am
- Post datetime: 2015-11-03T22:50:28+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from atvaark
>
> Jax765 wrote:Is it possible to texture edit the DLC outfits yet? Using the Ftex tool (version 0.3.1) to convert the ftex files, but I just end up with stuff like this.
Which file is that?

Unsure which files specifically, but I'm fairly certain they're from the d8c75b2c66d4.pftxs file (for the Boss' uniform).
## Post #958
- Username: DefaultMan
- Rank: beginner
- Number of posts: 22
- Joined date: Sat Jul 18, 2015 2:34 pm
- Post datetime: 2015-11-03T22:52:07+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Jax765
>
> Is it possible to texture edit the DLC outfits yet? Using the Ftex tool (version 0.3.1) to convert the ftex files, but I just end up with stuff like this.
It sure is, made some edits to the MGS3 Fatigues the other night. You need to extract the .ftex and .1.ftexs in the DLC outfit PFTXS (check my post a few pages back for those) and get the .2.ftexs and .3.ftexs from 01.dat and it should extract fine.
## Post #959
- Username: Jax765
- Rank: n00b
- Number of posts: 12
- Joined date: Fri Sep 11, 2015 12:31 am
- Post datetime: 2015-11-04T00:00:59+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DefaultMan
>
> Jax765 wrote:Is it possible to texture edit the DLC outfits yet? Using the Ftex tool (version 0.3.1) to convert the ftex files, but I just end up with stuff like this.
It sure is, made some edits to the MGS3 Fatigues the other night. You need to extract the .ftex and .1.ftexs in the DLC outfit PFTXS (check my post a few pages back for those) and get the .2.ftexs and .3.ftexs from 01.dat and it should extract fine.

Do you know which files correspond to the Boss' sneaking suit?
## Post #960
- Username: DefaultMan
- Rank: beginner
- Number of posts: 22
- Joined date: Sat Jul 18, 2015 2:34 pm
- Post datetime: 2015-11-04T01:01:51+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Jax765
>
> DefaultMan wrote:Jax765 wrote:Is it possible to texture edit the DLC outfits yet? Using the Ftex tool (version 0.3.1) to convert the ftex files, but I just end up with stuff like this.
It sure is, made some edits to the MGS3 Fatigues the other night. You need to extract the .ftex and .1.ftexs in the DLC outfit PFTXS (check my post a few pages back for those) and get the .2.ftexs and .3.ftexs from 01.dat and it should extract fine.

Do you know which files correspond to the Boss' sneaking suit?
Just did a quick unpack myself seems to be 1baf5bc564092.ftex /187c943a881ed.ftex & 2e2f8c615698a.ftex / 3e3de5e92e3b.ftex depends on which version of the outfit you wanted retextured
## Post #961
- Username: Jax765
- Rank: n00b
- Number of posts: 12
- Joined date: Fri Sep 11, 2015 12:31 am
- Post datetime: 2015-11-04T11:22:19+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DefaultMan
>
> Jax765 wrote:DefaultMan wrote:It sure is, made some edits to the MGS3 Fatigues the other night. You need to extract the .ftex and .1.ftexs in the DLC outfit PFTXS (check my post a few pages back for those) and get the .2.ftexs and .3.ftexs from 01.dat and it should extract fine.

Do you know which files correspond to the Boss' sneaking suit?
Just did a quick unpack myself seems to be 1baf5bc564092.ftex /187c943a881ed.ftex & 2e2f8c615698a.ftex / 3e3de5e92e3b.ftex depends on which version of the outfit you wanted retextured

Thanks. So what's the correct workflow? Drag ftex file onto ftex tool, edit dds, save as dxt1, drag back onto the tool, then place the ftex file where it needs to go?
## Post #962
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-11-04T11:53:41+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Jax765
>
> DefaultMan wrote:Jax765 wrote:
Do you know which files correspond to the Boss' sneaking suit?
Just did a quick unpack myself seems to be 1baf5bc564092.ftex /187c943a881ed.ftex & 2e2f8c615698a.ftex / 3e3de5e92e3b.ftex depends on which version of the outfit you wanted retextured

Thanks. So what's the correct workflow? Drag ftex file onto ftex tool, edit dds, save as dxt1, drag back onto the tool, then place the ftex file where it needs to go?
1. Find the ftex and all ftexs files of the texture you want to edit.
2. Drag the ftex file on the ftex tool or use the tool via command line to specify different options.
3. Edit the texture and save it as dxt5 if it has an alpha layer; else dxt1.
4. Drag the dds to the ftex tool or use the command line.
5. Replace the ftex and ftexs files in the pftxs files (add the pftxs to 00.dat) and add the ftex and ftexs filea to 01.dat.
The pftxs part can probably be skipped if you replace the pftxs archive with an empty one and add them to 00.dat.
## Post #963
- Username: Jax765
- Rank: n00b
- Number of posts: 12
- Joined date: Fri Sep 11, 2015 12:31 am
- Post datetime: 2015-11-04T12:06:28+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from atvaark
>
> Jax765 wrote:DefaultMan wrote:Just did a quick unpack myself seems to be 1baf5bc564092.ftex /187c943a881ed.ftex & 2e2f8c615698a.ftex / 3e3de5e92e3b.ftex depends on which version of the outfit you wanted retextured

Thanks. So what's the correct workflow? Drag ftex file onto ftex tool, edit dds, save as dxt1, drag back onto the tool, then place the ftex file where it needs to go?
1. Find the ftex and all ftexs files of the texture you want to edit.
2. Drag the ftex file on the ftex tool or use the tool via command line to specify different options.
3. Edit the texture and save it as dxt5 if it has an alpha layer; else dxt1.
4. Drag the dds to the ftex tool or use the command line.
5. Replace the ftex and ftexs files in the pftxs files (add the pftxs to 00.dat) and add the ftex and ftexs filea to 01.dat.
The pftxs part can probably be skipped if you replace the pftxs archive with an empty one and add them to 00.dat.

Recoloured the suit, this was the result. What would likely be the reason?
## Post #964
- Username: DefaultMan
- Rank: beginner
- Number of posts: 22
- Joined date: Sat Jul 18, 2015 2:34 pm
- Post datetime: 2015-11-04T12:09:53+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Jax765
>
> Thanks. So what's the correct workflow? Drag ftex file onto ftex tool, edit dds, save as dxt1, drag back onto the tool, then place the ftex file where it needs to go?
Pretty much, I will outline how I go through how I go about it though.
-Extract .pftxs with gzstool
-Extract Texture from ftex file (i got all extracted already so i tend to use this to find the texture im after based on the contents of a .pftxs)
-Move to working folder with Ftextool
-Make edits, save as DXT1 or DXT5 if texture has alpha
-Open up command prompt, ftextool -f 1 {texture}.dds (makes sure it only creates one .ftexs file, only recommended for player outfits since it gets rid of mip-maps otherwise -f should be how many .ftexs there are)
-Put .ftex and .1.ftexs into pftxs, if .2.ftexs and above were also made put them in the appropriate texture archive as the pftxs only contains the .1.ftexs 
-repack pftxs and place where it came from
-rebuild archives

And then everything should be all good. If you have any troubles feel free to ask, I might put up a video tutorial up sometime since it is a bit confusing at first.

Edit
> Reply from Jax765
>
> 
Recoloured the suit, this was the result. What would likely be the reason?
Looks as though something was named wrong or there is some kind of possible conflict with the .pftxs, had something similar on my first attempt
## Post #965
- Username: Jax765
- Rank: n00b
- Number of posts: 12
- Joined date: Fri Sep 11, 2015 12:31 am
- Post datetime: 2015-11-04T13:09:41+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DefaultMan
>
> Jax765 wrote:Thanks. So what's the correct workflow? Drag ftex file onto ftex tool, edit dds, save as dxt1, drag back onto the tool, then place the ftex file where it needs to go?
Pretty much, I will outline how I go through how I go about it though.
-Extract .pftxs with gzstool
-Extract Texture from ftex file (i got all extracted already so i tend to use this to find the texture im after based on the contents of a .pftxs)
-Move to working folder with Ftextool
-Make edits, save as DXT1 or DXT5 if texture has alpha
-Open up command prompt, ftextool -f 1 {texture}.dds (makes sure it only creates one .ftexs file, only recommended for player outfits since it gets rid of mip-maps otherwise -f should be how many .ftexs there are)
-Put .ftex and .1.ftexs into pftxs, if .2.ftexs and above were also made put them in the appropriate texture archive as the pftxs only contains the .1.ftexs 
-repack pftxs and place where it came from
-rebuild archives

And then everything should be all good. If you have any troubles feel free to ask, I might put up a video tutorial up sometime since it is a bit confusing at first.

EditJax765 wrote:
Recoloured the suit, this was the result. What would likely be the reason?

Looks as though something was named wrong or there is some kind of possible conflict with the .pftxs, had something similar on my first attempt

How do you get the command prompt to work? Whether I open it normally or via administrator, it just closes immediately.
## Post #966
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-11-04T13:47:40+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Jax765
>
> DefaultMan wrote:
Pretty much, I will outline how I go through how I go about it though.
-Extract .pftxs with gzstool
-Extract Texture from ftex file (i got all extracted already so i tend to use this to find the texture im after based on the contents of a .pftxs)
-Move to working folder with Ftextool
-Make edits, save as DXT1 or DXT5 if texture has alpha
-Open up command prompt, ftextool -f 1 {texture}.dds (makes sure it only creates one .ftexs file, only recommended for player outfits since it gets rid of mip-maps otherwise -f should be how many .ftexs there are)
-Put .ftex and .1.ftexs into pftxs, if .2.ftexs and above were also made put them in the appropriate texture archive as the pftxs only contains the .1.ftexs 
-repack pftxs and place where it came from
-rebuild archives

And then everything should be all good. If you have any troubles feel free to ask, I might put up a video tutorial up sometime since it is a bit confusing at first.

EditJax765 wrote:
Recoloured the suit, this was the result. What would likely be the reason?

Looks as though something was named wrong or there is some kind of possible conflict with the .pftxs, had something similar on my first attempt

How do you get the command prompt to work? Whether I open it normally or via administrator, it just closes immediately.
Your command prompt works just like it is supposed to work. If you execute a command line application from the windows explorer it will open a console, execute the application and close the console once the application is finished.
If you want it to stay open you have to first open a console/command prompt (e.g. cmd.exe) and then execute the application in it.
## Post #967
- Username: Jax765
- Rank: n00b
- Number of posts: 12
- Joined date: Fri Sep 11, 2015 12:31 am
- Post datetime: 2015-11-04T15:41:24+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from atvaark
>
> If you want it to stay open you have to first open a console/command prompt (e.g. cmd.exe) and then execute the application in it.

What would I put in the command prompt? The path to the tool on my system is: D:\Mods & Backups\Mods\Metal Gear Solid V Mods\Tools\FtexTool
## Post #968
- Username: Topher
- Rank: n00b
- Number of posts: 12
- Joined date: Thu Oct 01, 2015 8:08 pm
- Post datetime: 2015-11-04T15:58:11+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hey guys,

I'm working on a mod manager for MGSV ([https://github.com/topher-au/SnakeBite](https://github.com/topher-au/SnakeBite)) and an idea was put to me to add the option for users to choose which model will be replaced when installing a model swap mod. Great idea, but I need a little help.

Some model swaps work alright, but others seem to not install correctly, so it seems to me it's not just a matter of changing the FPK filename. If anyone has any info on what I need to do to correctly insert these mods for the end user it'd be a great help if you can get in touch.

You can contact me via PM here or email [topher@xobanimot.com](mailto:topher@xobanimot.com)

Thanks in advance

> Reply from Jax765
>
> atvaark wrote:If you want it to stay open you have to first open a console/command prompt (e.g. cmd.exe) and then execute the application in it.

What would I put in the command prompt? The path to the tool on my system is: D:\Mods & Backups\Mods\Metal Gear Solid V Mods\Tools\FtexTool

OK it's pretty obvious you don't have any idea how to use the command prompt so I'll try and help you understand the steps

First type 
```
D:
```
 this will switch to your D: drive and the prompt will change accordingly (it will probably say D:\>)

Next type 
```
cd "Mods & Backups\Mods\Metal Gear Solid V Mods\Tools\FtexTool"
```

This will Change Directory to the aforementioned directory (you still need to do the above drive change seperately every time you open cmd prompt)

Then type

```
FtexTool.exe parameters
```


you should see the output from FtexTool and hopefully that will solve your problem
## Post #969
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2015-11-04T16:23:37+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Jax765
>
> atvaark wrote:If you want it to stay open you have to first open a console/command prompt (e.g. cmd.exe) and then execute the application in it.

What would I put in the command prompt? The path to the tool on my system is: D:\Mods & Backups\Mods\Metal Gear Solid V Mods\Tools\FtexTool
Let's say your path is now called FTEX_PATH. Open the command prompt by pressing WinKey+R, entering cmd and pressing enter.
Now either write '"FTEX_PATH\ftextool"' (to execute it) or navigate to it by entering 'd:' followed by 'cd "FTEX_PATH"' and then 'ftextool'.
Mind the quotes around your path. They are necessary because it contains a space in it.

You can also open the command prompt in windows explorer via the context menu by holding shift and right clicking while you are in the FTEX_PATH folder.

Then just follow the help message that gets displayed when running the tool without arguments.
## Post #970
- Username: Jax765
- Rank: n00b
- Number of posts: 12
- Joined date: Fri Sep 11, 2015 12:31 am
- Post datetime: 2015-11-04T17:17:14+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Topher
>
> Jax765 wrote:atvaark wrote:If you want it to stay open you have to first open a console/command prompt (e.g. cmd.exe) and then execute the application in it.

What would I put in the command prompt? The path to the tool on my system is: D:\Mods & Backups\Mods\Metal Gear Solid V Mods\Tools\FtexTool
OK it's pretty obvious you don't have any idea how to use the command prompt so I'll try and help you understand the steps

First type Code: Select allD: this will switch to your D: drive and the prompt will change accordingly (it will probably say D:\>)

Next type Code: Select allcd "Mods & Backups\Mods\Metal Gear Solid V Mods\Tools\FtexTool"
This will Change Directory to the aforementioned directory (you still need to do the above drive change seperately every time you open cmd prompt)

Then type
Code: Select allFtexTool.exe parameters

you should see the output from FtexTool and hopefully that will solve your problem

No shit, that's why I asked. Thanks anyway for the help.

EDIT: It says "File/directory parameters not found".

EDIT2: Figured it out. Just did a quick and dirty edit in Photoshop to test.
## Post #971
- Username: Jax765
- Rank: n00b
- Number of posts: 12
- Joined date: Fri Sep 11, 2015 12:31 am
- Post datetime: 2015-11-06T02:01:41+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Does anyone know where to find the spec map for The Boss' outfit? Darkening the bump map helps out a bit, but the shiny parts of the suit are still there.
## Post #972
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-11-09T14:47:40+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Is thread kill? "No"
## Post #973
- Username: TruckerHatRyan
- Rank: n00b
- Number of posts: 11
- Joined date: Sun Oct 25, 2015 2:35 am
- Post datetime: 2015-11-10T06:24:18+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Does anyone know the location of a MSF soldier body model with no head and with gloves? 

I am aware of mis_com_dd_soldier_gz.fpk in chunk0\Assets\tpp\pack\mission2\common which is the MSF med fatigue w/o a head but unfortunately it does not have gloves (have been able to add gloves using the rocket slots, but hoping to find a model without that limitation).

I am also aware of svs0_dds0_v00.fpk in chunk1\Assets\tpp\pack\fova\chara\svs\ which is the Wandeirng MSF soldier with balaclava and headphones and gloves that someone was kind enough to point me toward but even with nulling out the undesired parts via hex edit it won't quite work for my purposes (basically results in neck seam issues which can be resolved but with the added downside of first person issues).

There is also a head fmdl someone sent me with MSF soldier balaclava, face and headphones called dds0_eqhd0_cov.fmdl but he was unsure which fpk it came from. With some luck that fmdl could be a part of an fpk with a MSF soldier model with no head and gloves, if anyone knows the location of it and can confirm either way please let me know that as well.

Alternatively, perhaps a model could be imported from GZ into TPP? I am not familiar enough with GZ at this point to know if such a model exists or if it would be possible.

I have created a mod that I've updated to nexus using the mis_com_dd_soldier_gz.fpk's MSF model with gloves added via rocket slots thanks to a suggestion from another modder: [http://www.nexusmods.com/metalgearsolid ... w%3D&pUp=1](http://www.nexusmods.com/metalgearsolidvtpp/mods/168/?tab=1&navtag=http%3A%2F%2Fwww.nexusmods.com%2Fmetalgearsolidvtpp%2Fajax%2Fmoddescription%2F%3Fid%3D168%26preview%3D&pUp=1)

You can view the images there to get a better idea of the type of model I am searching for.

Thanks so much!
## Post #974
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-11-11T18:26:09+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

As a point of reference:
The latest patch 1.0.6.0 changed the override order of the patch archives.
So when the engine is looking for a file it loads first found in archive: 
00.dat then 01.dat then original game archives.
## Post #975
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-11-13T05:27:03+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Has anyone tried to figure out what exactly is determined in .frdv files? What is the purpose of them?
## Post #976
- Username: afsoon
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Fri Nov 13, 2015 3:09 pm
- Post datetime: 2015-11-13T09:00:27+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DefaultMan
>
> Jax765 wrote:DefaultMan wrote:It sure is, made some edits to the MGS3 Fatigues the other night. You need to extract the .ftex and .1.ftexs in the DLC outfit PFTXS (check my post a few pages back for those) and get the .2.ftexs and .3.ftexs from 01.dat and it should extract fine.

Do you know which files correspond to the Boss' sneaking suit?
Just did a quick unpack myself seems to be 1baf5bc564092.ftex /187c943a881ed.ftex & 2e2f8c615698a.ftex / 3e3de5e92e3b.ftex depends on which version of the outfit you wanted retextured

DefaultMan, could you please be so kind and name (name and address) the PFTX files corresponding to this DLC (the boss sneaking suit (unzipped)) as well? I followed your previous posts as well but after a few hours of searching I could not find them....please help me out...thanks.
## Post #977
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-11-14T00:36:28+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from afsoon
>
> DefaultMan, could you please be so kind and name (name and address) the PFTX files corresponding to this DLC (the boss sneaking suit (unzipped)) as well? I followed your previous posts as well but after a few hours of searching I could not find them....please help me out...thanks.

Here's a list someone posted earlier:

MGS 3 Fatigues: c05ddadd3a9a.fpk(SNA) / 58f57ad81e45_fpk(DDS)
MGS 3 Fatigues (Naked): 5c51813917af.fpk(SNA) / 35430620ec4a9.fpk (DDS)
MGS 3 Sneaking: 1da785669b77b.fpk(SNA) / 3a34137dbf9d0.fpk(DDS)
Tuxedo: a391321f9b70.fpk(SNA) / 14c0b6baf6f7b.fpk (DDS)
Eva Jumpsuit: 2ac17a2301a7b.fpk(zip) / 20db082934940.fpk(unzip)
Boss Sneaking: 3538dd2f4ffd9.fpk(zip) / d8c75b2c66d4.fpk (unzip)

The pftxs of the dlc outfits is named the exact same way as the fpks. So, the boss sneaking suit unzipped would be d8c75b2c66d4.pftxs.
## Post #978
- Username: afsoon
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Fri Nov 13, 2015 3:09 pm
- Post datetime: 2015-11-14T22:38:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Jax765
>
> Does anyone know where to find the spec map for The Boss' outfit? Darkening the bump map helps out a bit, but the shiny parts of the suit are still there.

Could you please tell me which texture files correspond to the silver areas of the suit?
## Post #979
- Username: dante h3
- Rank: n00b
- Number of posts: 11
- Joined date: Fri Aug 28, 2015 6:11 am
- Post datetime: 2015-11-17T16:55:53+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hi everyone.
I want to translate MGS TPP but I have a problem.
My language characters are same as Arabic.
And Arabic characters must stick together,
But game add extra shadow around characters and cause a little space.
This is an example:
[http://www.mediafire.com/view/bxjnxp3c6 ... ROBLEM.jpg](http://www.mediafire.com/view/bxjnxp3c61n1xc6/TEXT%20PROBLEM.jpg)#

Anyone know how can I turn of text shadow?
(and if it is possible change text color?)

or any other way who solve this problem?

thanks, and sorry for my bad English.
## Post #980
- Username: CrazyIvan12
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Sat Oct 24, 2015 1:47 am
- Post datetime: 2015-11-19T01:44:27+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hey guys, wondering if anyone can tell me where the Diamond Dogs logo texture for uniform arms is located? I'm trying to extract the pftxs files, but I keep getting "disk error" when I try to open them in Photoshop.
## Post #981
- Username: afsoon
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Fri Nov 13, 2015 3:09 pm
- Post datetime: 2015-11-19T15:29:15+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

@CrazyIvan:
Ive come across the same problem when I use FtexTool on a texture with only .ftex and .1.ftexs files. It always say cannot open file because of a disk error.

So far I have been able to darken the suit by replacing the white colors with blackish colors and reducing the glow on shiny silver parts; see some images below:


[http://staticdelivery.nexusmods.com/mod ... 955118.jpg](http://staticdelivery.nexusmods.com/mods/1091/images/182-6-1447955118.jpg)
[http://staticdelivery.nexusmods.com/mod ... 955121.jpg](http://staticdelivery.nexusmods.com/mods/1091/images/182-1-1447955121.jpg)
[http://staticdelivery.nexusmods.com/mod ... 955119.jpg](http://staticdelivery.nexusmods.com/mods/1091/images/182-4-1447955119.jpg)


My next goal is to remove the scar tissue but I have not been able to find the related texture files. If anyone knows where they are please let me know. Thanks in advance.
## Post #982
- Username: TruckerHatRyan
- Rank: n00b
- Number of posts: 11
- Joined date: Sun Oct 25, 2015 2:35 am
- Post datetime: 2015-11-19T21:25:42+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from afsoon
>
> My next goal is to remove the scar tissue but I have not been able to find the related texture files. If anyone knows where they are please let me know. Thanks in advance.

All I know is someone in this thread named Fredrika found some textures that appear to be for the scars on the Boss outfit. Poster seemed to think they were apart of the textures for one of the nurses but still may not hurt to ask around there.

Edit: Oops, forgot the link: [https://facepunch.com/showthread.php?t= ... 9d925de0b2](https://facepunch.com/showthread.php?t=1443449&page=36&s=cff53bb3a1f913cce460a99d925de0b2)
## Post #983
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2015-11-20T00:25:57+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from TruckerHatRyan
>
> afsoon wrote:My next goal is to remove the scar tissue but I have not been able to find the related texture files. If anyone knows where they are please let me know. Thanks in advance.

All I know is someone in this thread named Fredrika found some textures that appear to be for the scars on the Boss outfit. Poster seemed to think they were apart of the textures for one of the nurses but still may not hurt to ask around there.

Edit: Oops, forgot the link: https://facepunch.com/showthread.php?t= ... 9d925de0b2

I don't think it's actually the texture you need to edit. If it was I doubt that it would only be white but would have variants for skin color.
## Post #984
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2015-11-21T04:07:35+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hey does anyone know where the model for the armor skulls are? I think it would work to recreate venom snake from the launch trailer where his skin is burned off using the corpse of the skulls by adding the eyepatch and horn to it
## Post #985
- Username: Taner038
- Rank: mega-veteran
- Number of posts: 179
- Joined date: Sat Aug 23, 2014 1:14 am
- Post datetime: 2015-11-26T07:29:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hi,
I have a one question.
I wanted the game (Gorund Zeoes) translated but I can't found menu files.
I found the subtitles files and I transtlated. But I can't found menu files
Can any one help?
## Post #986
- Username: allah1985
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Sat Sep 19, 2015 1:05 pm
- Post datetime: 2015-11-26T08:55:40+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Is there a tutorial for swapping the models of NPCs?

For instance I'd like to swap the doctor at the start of the game with Skullface
## Post #987
- Username: Taner038
- Rank: mega-veteran
- Number of posts: 179
- Joined date: Sat Aug 23, 2014 1:14 am
- Post datetime: 2015-11-26T20:26:07+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Taner038
>
> Hi,
I have a one question.
I wanted the game (Gorund Zeoes) translated but I can't found menu files.
I found the subtitles files and I transtlated. But I can't found menu files
Can any one help?

Any one 
plaease?
## Post #988
- Username: Taner038
- Rank: mega-veteran
- Number of posts: 179
- Joined date: Sat Aug 23, 2014 1:14 am
- Post datetime: 2015-11-29T14:11:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hello again, I'm translating Metal Gear GZ. I have a problem. When I use the SubpTool in FoxEngine.TranslationTool v0.1.3 and convert the e20010.subp file to xml and translate the contents, some characters that the font support are displayed as ?. When I use V.0.2, the characters get fixed but the subtitles don't show up in the game.
## Post #989
- Username: Devilot
- Rank: ultra-veteran
- Number of posts: 443
- Joined date: Tue Sep 07, 2010 5:12 pm
- Post datetime: 2015-12-01T12:27:03+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

A big thank you for the author of QAR tool and all that contribute to the dictionary.
## Post #990
- Username: Doctor Loboto
- Rank: mega-veteran
- Number of posts: 213
- Joined date: Mon Oct 06, 2008 9:52 am
- Post datetime: 2015-12-06T00:38:42+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Okay...so...I've been clicking through every page of this thread for help. I can't find any way to do what I am trying to do. All I want to do is extract "Psycho Mantis'"/ "Tretij Rebenok" model from this specific game, with textures and such. I don't need bones, or anything special...I just want his model with UV's and textures applied. Can anyone help me?

Also I'm looking for Volgin / Man on Fire...I still am having trouble figuring out anything. Also Skull Face...
## Post #991
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2015-12-11T02:42:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Anyone ever figure out the camera files for TPP? I tried searching for them for hours to make a First Person mod yet came up with nothing.
## Post #992
- Username: JohnBC
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Tue Sep 29, 2015 4:51 pm
- Post datetime: 2015-12-11T03:49:02+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

how to unpack FV2 file?
## Post #993
- Username: Coverop
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Tue Jun 17, 2014 5:41 pm
- Post datetime: 2015-12-12T16:34:37+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Does anyone have a program to extract .FSM file format?
I believe that's where the sounds/vo is stored.
## Post #994
- Username: emoose
- Rank: beginner
- Number of posts: 26
- Joined date: Fri Sep 11, 2015 4:06 am
- Post datetime: 2015-12-12T20:29:44+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Figured I should post this since it's noteworthy imo, and helpful for anyone modding MGSV: thanks to EcheloCross the [MGSV Dictionary Project](https://github.com/emoose/MGSV-QAR-Dictionary-Project) has got an additional 6284 filenames! (in addition to the 1645 filenames they also found a few weeks before!)

A lot more texture files are named now, so this should be especially helpful for texture modders. 

To use this dictionary simply replace the dictionary.txt/qar_dictionary.txt in your QAR tool of choice with the dictionary.txt from the github.
## Post #995
- Username: morbidslinky
- Rank: beginner
- Number of posts: 27
- Joined date: Wed Oct 21, 2015 9:26 am
- Post datetime: 2015-12-16T03:26:58+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I'm having a problem with FtexTool. 

I'm trying to retexture the DLC sneaking suit and I think the textures that are supposed to be mirrored across legs and arms are broken, as seen in the images below (notice the lack of grey color on the shin and forearm weaves). What's going on?
## Post #996
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2015-12-17T13:07:36+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

[https://facepunch.com/showthread.php?t= ... st49336023](https://facepunch.com/showthread.php?t=1443449&p=49336023&viewfull=1#post49336023)
## Post #997
- Username: shadowlonely1989
- Rank: veteran
- Number of posts: 83
- Joined date: Sun Nov 30, 2014 8:49 am
- Post datetime: 2015-12-20T04:35:27+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> MGS V FPK Tool v1.1
Updated FPK Tool now supports console versions.

Could you take and look PS3 file (Metal Gear Solid V Ground Zeroes), please? Thanks!
My example files: 

 EngText.rar
(228.64 KiB) Downloaded 17 times
## Post #998
- Username: mgspw
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sat Oct 31, 2015 12:37 am
- Post datetime: 2015-12-21T12:17:34+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I am looking for the Avator's bandana, wanna swap iit with Venom's since i changed the avatar's face to the real BIG BOSS.
Anyone can tell me where i can find the avatar and Venom's Bandana file???
## Post #999
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2015-12-21T18:31:49+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from cra0
>
> https://facepunch.com/showthread.php?t= ... st49336023
You're saying the fmdl file stores hashed texture names?
Given that many original/pre-hash texture names have been discovered, I suppose your tool tool rehashes them? Or do you have to extract the textures with a qar tool with an empty dictionary?
## Post #1000
- Username: Doctor Loboto
- Rank: mega-veteran
- Number of posts: 213
- Joined date: Mon Oct 06, 2008 9:52 am
- Post datetime: 2015-12-22T02:30:50+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Yeah, I can't seem to get the model conversion working properly, always gives me an error.

```
Message: Index was out of range. Must be non-negative and less than the size of the collection.
Parameter name: index
StackTrace: System.ArgumentOutOfRangeException: Index was out of range. Must be non-negative and less than the size of the collection.
Parameter name: index
   at System.ThrowHelper.ThrowArgumentOutOfRangeException()
   at FoxLib.FMDL..(Int16 )
   at FoxLib.FMDL.()
   at FoxLib.FMDL.(Boolean )
   at FoxLib.FMDL.(Boolean )
   at ..(Object , EventArgs )
   at System.Windows.Forms.Control.OnClick(EventArgs e)
   at System.Windows.Forms.Button.OnClick(EventArgs e)
   at ..(EventArgs )
   at System.Windows.Forms.Button.OnMouseUp(MouseEventArgs mevent)
   at System.Windows.Forms.Control.WmMouseUp(Message& m, MouseButtons button, Int32 clicks)
   at System.Windows.Forms.Control.WndProc(Message& m)
   at System.Windows.Forms.ButtonBase.WndProc(Message& m)
   at System.Windows.Forms.Button.WndProc(Message& m)
   at System.Windows.Forms.Control.ControlNativeWindow.OnMessage(Message& m)
   at System.Windows.Forms.Control.ControlNativeWindow.WndProc(Message& m)
   at System.Windows.Forms.NativeWindow.Callback(IntPtr hWnd, Int32 msg, IntPtr wparam, IntPtr lparam)
Date/Time: 12/17/2015 11:23:37 PM
```
## Post #1001
- Username: abuali
- Rank: beginner
- Number of posts: 20
- Joined date: Mon Dec 13, 2010 12:48 am
- Post datetime: 2015-12-27T20:07:57+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Taner038
>
> Hello again, I'm translating Metal Gear GZ. I have a problem. When I use the SubpTool in FoxEngine.TranslationTool v0.1.3 and convert the e20010.subp file to xml and translate the contents, some characters that the font support are displayed as ?. When I use V.0.2, the characters get fixed but the subtitles don't show up in the game.
as per the developer of this tool, you should add extra line in cmd line to decode .subp correctly, as the default is Latin ISO-8859-1
find your language 
```
-eng 	         English  ISO-8859-1
-fre 	         French   ISO-8859-1
-ger 	         German   ISO-8859-1
-ita 	         Italian  ISO-8859-1
-spa 	         Spanish  ISO-8859-1
-rus 	         Russian  ISO-8859-5
-ara 	         Arabic 	UTF-8
-jpn 	         Japanese  UTF-8
-por 	       Portuguese  UTF-8

Examples
Unpacking an encoded subtitle package.

SubpTool common.subp -jpn 


```
## Post #1002
- Username: Doctor Loboto
- Rank: mega-veteran
- Number of posts: 213
- Joined date: Mon Oct 06, 2008 9:52 am
- Post datetime: 2015-12-28T17:12:26+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Well, I discovered that the prior error so far has only consistently occurred on the 'volgin' model, which I technically can't post here. The "mis_com_volgin" fpk and related files cause it to crash for some reason, though I have all the textures changed to DDS and everything extracted properly. I was hoping someone could convert it or look into this error, as I need this specific model for a project of mine.
## Post #1003
- Username: Solidcal
- Rank: beginner
- Number of posts: 26
- Joined date: Thu Apr 30, 2015 4:05 am
- Post datetime: 2016-01-05T19:21:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Quick question for anyone who is still on this topic. Does anyone know where the TPP model of Kojima and his white glasses are yet?
## Post #1004
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2016-01-05T23:46:57+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Solidcal
>
> Quick question for anyone who is still on this topic. Does anyone know where the TPP model of Kojima and his white glasses are yet?
Kojima isn't really a model, rather, he has his face model and like all the other DD soldiers is put on a base body.

I found a bunch of .mtar files while searching for new stuff. Anyone have any idea how to open them or do they just open like normal .tar files? If so, how are they accessed?
## Post #1005
- Username: Solidcal
- Rank: beginner
- Number of posts: 26
- Joined date: Thu Apr 30, 2015 4:05 am
- Post datetime: 2016-01-07T18:22:45+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> Solidcal wrote:Quick question for anyone who is still on this topic. Does anyone know where the TPP model of Kojima and his white glasses are yet?
Kojima isn't really a model, rather, he has his face model and like all the other DD soldiers is put on a base body.
I figured that. So I imagine he will be in common source or the common char folder named DDS like he was in GZ.
## Post #1006
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2016-01-08T00:17:31+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Solidcal
>
> XrayDoc wrote:Solidcal wrote:Quick question for anyone who is still on this topic. Does anyone know where the TPP model of Kojima and his white glasses are yet?
Kojima isn't really a model, rather, he has his face model and like all the other DD soldiers is put on a base body.
I figured that. So I imagine he will be in common source or the common char folder named DDS like he was in GZ.
Yeah, he's under a dds folder somewhere but the problem is there are so many to look through.
## Post #1007
- Username: mgspw
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sat Oct 31, 2015 12:37 am
- Post datetime: 2016-01-08T13:00:09+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Please anyone knows where The bandana file is ?
## Post #1008
- Username: eleanorlamb
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Thu Dec 24, 2015 7:44 am
- Post datetime: 2016-01-09T10:41:41+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Can anyone rip (export as obj, nif or any other model format other than fmdl) Paz's model and texture file and provide a download link? I don't care about normal maps, just a base texture and base model.

Surely if you have the Cra0's FEMS, this shouldn't be too hard. I have the full game if you guys need verification.

If everyone can't do that, if you guys could supply a pre closed beta copy of FEMS, that would be nice, considering I have no use of using it for anything else but getting that model and getting the hell out of anything related to what you guys are doing. Will not distribute if received, willing to sign/do legal contracts/real life meetings. This is of course, if the creator wills the distribution of pre closed beta copies of FEMS.

If you guys can't do any of this, supplying a method for FMDL file model extraction would be nice. Again, I have the assets I just need to access them and convert them. I've spent 4 hours glossing over this thread and haven't found an alternative to FEMS, my eyes aren't what they used to be so it's a very real possibility I might have not seen this alternative method if you do point one out I missed.
## Post #1009
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2016-01-10T21:11:02+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from eleanorlamb
>
> Can anyone rip (export as obj, nif or any other model format other than fmdl) Paz's model and texture file and provide a download link? I don't care about normal maps, just a base texture and base model.

Surely if you have the Cra0's FEMS, this shouldn't be too hard. I have the full game if you guys need verification.

If everyone can't do that, if you guys could supply a pre closed beta copy of FEMS, that would be nice, considering I have no use of using it for anything else but getting that model and getting the hell out of anything related to what you guys are doing. Will not distribute if received, willing to sign/do legal contracts/real life meetings. This is of course, if the creator wills the distribution of pre closed beta copies of FEMS.

If you guys can't do any of this, supplying a method for FMDL file model extraction would be nice. Again, I have the assets I just need to access them and convert them. I've spent 4 hours glossing over this thread and haven't found an alternative to FEMS, my eyes aren't what they used to be so it's a very real possibility I might have not seen this alternative method if you do point one out I missed.

Yup, you missed it. The link to FEMS was on the last page but I can understand the fact that you missed it since it was just a link. Here you go: [https://facepunch.com/showthread.php?t= ... st49336023](https://facepunch.com/showthread.php?t=1443449&p=49336023&viewfull=1#post49336023)
## Post #1010
- Username: eleanorlamb
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Thu Dec 24, 2015 7:44 am
- Post datetime: 2016-01-11T05:25:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> eleanorlamb wrote:snip

Yup, you missed it. The link to FEMS was on the last page but I can understand the fact that you missed it since it was just a link. Here you go: https://facepunch.com/showthread.php?t= ... st49336023

Thanks for the link, but I'm having trouble finding the model, is it written in hash.
## Post #1011
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2016-01-12T20:00:07+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

MGO baby! Are we back in business?
## Post #1012
- Username: TruckerHatRyan
- Rank: n00b
- Number of posts: 11
- Joined date: Sun Oct 25, 2015 2:35 am
- Post datetime: 2016-01-12T20:42:59+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> MGO baby! Are we back in business?

Hopefully so! Looking forward to MGO reviving modding a little.
## Post #1013
- Username: Poisonedmods
- Rank: n00b
- Number of posts: 12
- Joined date: Wed Oct 07, 2015 4:02 am
- Post datetime: 2016-01-13T09:06:41+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Back and in style!!!!!
## Post #1014
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2016-01-13T09:34:25+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Currently going through MGO's files to find Avatar parts and models. Also, Ocelot from MGO works perfectly in single player, at least in terms of the first person glitch and hip weapons. It's doubtful stuff like his guns will be able to be ported.
## Post #1015
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2016-01-13T13:49:52+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Model swapping into MGO is a pain. The game is rejecting TPP textures whenever I try to get them in via custom PFTXS, I've only managed to swap this MGO Snake model over the plated mask. I can't see that i'm doing anything wrong.
[https://youtu.be/G_Ilq9FFB6g](https://youtu.be/G_Ilq9FFB6g)
## Post #1016
- Username: Poisonedmods
- Rank: n00b
- Number of posts: 12
- Joined date: Wed Oct 07, 2015 4:02 am
- Post datetime: 2016-01-13T17:48:00+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> Model swapping into MGO is a pain. The game is rejecting TPP textures whenever I try to get them in via custom PFTXS, I've only managed to swap this MGO Snake model over the plated mask. I can't see that i'm doing anything wrong.
https://youtu.be/G_Ilq9FFB6g
your not the game sync with the server every 5-10 min which is something i relized well trying make a trainer DLL injection is working for cheats but things like infinite health are kept servers side ammo is not nor is silencer duration so adding things like textures a large part of rejection is do to the server trying to sync going thats not right. so far im not aware if there any form of anti cheat or flagging similiar to GTA5 but people have been isolated on base game if they where cheating to a sort of cheaters pool
## Post #1017
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2016-01-14T21:40:37+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

hat0=Regular/Baseball Cap
hat1=Beenie
hat2=Beret
hat3=Military Cap/Busker Cap
hat4=Croc Cap (best hat)
hat5=Squid
hat6=Fish
hat7=Alien
hat8=Cat
hat9=REX
hat10=Snorkel Mask
hat11=Horse
hat12=Bear
hat13=RAY
hat14=Box
hat15=Cowboy Hat
hat16=Outback Cap
hat17=! Hat (dlc already in game confirmed)
hat18=? Hat
hat19=Clown
## Post #1018
- Username: DarknessValtier
- Rank: beginner
- Number of posts: 35
- Joined date: Sat Feb 07, 2009 11:47 pm
- Post datetime: 2016-01-15T04:51:58+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Quiet Bikini MGO Beta Mod
## Post #1019
- Username: GHzGangster
- Rank: n00b
- Number of posts: 19
- Joined date: Fri Aug 15, 2014 1:00 pm
- Post datetime: 2016-01-15T06:44:05+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Are the models or gear items referenced by their filename hash?
I know for sure that the Beret is 878119308, Alert! is 327502434, but I want to see what IDs I'm missing.
(P.S. I haven't looked at the TPP files yet)
## Post #1020
- Username: Mr.Mouse
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2016-01-15T09:00:57+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

RJfitaS.jpg (108.23 KiB) Viewed 142 times


Stefanie Joosten's personal bikini mod. 

I never understood the need to make a soft porn game character out of her. Apart from making loadz of money$ ofcoz targeting teen males that have a hard time controling their testosteron.
## Post #1021
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2016-01-17T04:06:55+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Can anybody share the fmdl/fpk names for Bikini models? Female AND Male.

> Reply from DarknessValtier
>
> Quiet Bikini MGO Beta Mod
*img*
*img*
Could you tell us what the FMDL name for that is?
## Post #1022
- Username: DarknessValtier
- Rank: beginner
- Number of posts: 35
- Joined date: Sat Feb 07, 2009 11:47 pm
- Post datetime: 2016-01-17T05:53:04+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> Can anybody share the fmdl/fpk names for Bikini models? Female AND Male.
DarknessValtier wrote:Quiet Bikini MGO Beta Mod
*img*
*img*
Could you tell us what the FMDL name for that is?
the location of bikini is: "Chunk0\Assets\mgo\pack\player\fova"
the bikini files is: infiltrator class= ins_f02.fpk
vanguard class= tes_f02.fpk
sniper class= res_f02.fpk

but somethigns about the mgo assets: the bikini model don't works if you replace her over main body, you need replace another part, in this case, i put the head of Quiet in main body file, and the bikini body over head file
## Post #1023
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2016-01-17T12:08:15+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DarknessValtier
>
> Higus wrote:Can anybody share the fmdl/fpk names for Bikini models? Female AND Male.
DarknessValtier wrote:Quiet Bikini MGO Beta Mod
*img*
*img*
Could you tell us what the FMDL name for that is?
the location of bikini is: "Chunk0\Assets\mgo\pack\player\fova"
the bikini files is: infiltrator class= ins_f02.fpk
vanguard class= tes_f02.fpk
sniper class= res_f02.fpk

but somethigns about the mgo assets: the bikini model don't works if you replace her over main body, you need replace another part, in this case, i put the head of Quiet in main body file, and the bikini body over head file
Cool. Did you happen to find the original FRDV's and FCNP's for the MGO characters?
## Post #1024
- Username: DarknessValtier
- Rank: beginner
- Number of posts: 35
- Joined date: Sat Feb 07, 2009 11:47 pm
- Post datetime: 2016-01-17T21:39:32+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> Cool. Did you happen to find the original FRDV's and FCNP's for the MGO characters?

the mgo model use the standard FRDV and FCNP located in: "Chunk0\Assets\mgo\pack\collectible\common\col_common_mgo.fpk" in this file have female and male files

look this example, i replace main costume of mgo to the dlc bikini in online game


i prefer the mod because the original costume in game you can't use vest over this costume, using the mod you can use any vest over the bikini model
## Post #1025
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2016-01-18T17:35:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

What are you guys doing with bikinis? WE NEED HAT MOD ASAP THIS IS OF VITAL IMPORTANCE
## Post #1026
- Username: stealthcl0wn
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sat Oct 31, 2015 2:11 am
- Post datetime: 2016-01-18T17:37:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

One thing I wonder about is; is there any chance of female avatars in singleplayer?
## Post #1027
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2016-01-18T18:31:27+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Anyone else notice QAR Tool is gone from Nexus? Should I reupload as a backup?

hg02 and hg03 weapons apply to the dual pistols Ocelot uses in MGO. The models are only 1 gun themselves so something else must be making it dual wield.
## Post #1028
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-01-19T05:42:26+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Here's what I know about the MGO files so far.

The files for the characters seem to be organized like this:
CLB_GNI.fpk (fpkd, pftxs)

CL = Class (in = Infiltrator, te = Enforcer, re = Sniper)
B = Body part? (Haven't explored this much, s = suit)
G = Gender (c = Common, f = Female, m = Male)
NI = Number identifier (i.e. 01)
## Post #1029
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2016-01-19T20:16:25+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> Here's what I know about the MGO files so far.

The files for the characters seem to be organized like this:
CLB_GNI.fpk (fpkd, pftxs)

CL = Class (in = Infiltrator, te = Enforcer, re = Sniper)
B = Body part? (Haven't explored this much, s = suit)
G = Gender (c = Common, f = Female, m = Male)
NI = Number identifier (i.e. 01)

Those would be helpful for costumes since the actual person is just a player avatar. Great find!
## Post #1030
- Username: GHzGangster
- Rank: n00b
- Number of posts: 19
- Joined date: Fri Aug 15, 2014 1:00 pm
- Post datetime: 2016-01-20T02:22:10+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> What are you guys doing with bikinis? WE NEED HAT MOD ASAP THIS IS OF VITAL IMPORTANCE
What do you mean, modding a hat into multiplayer, or wearing DLC hats?
## Post #1031
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2016-01-20T06:02:52+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from GHzGangster
>
> XrayDoc wrote:What are you guys doing with bikinis? WE NEED HAT MOD ASAP THIS IS OF VITAL IMPORTANCE
What do you mean, modding a hat into multiplayer, or wearing DLC hats?
Wearing MGO hats in singleplayer. The DLC hats lack textures so there's no point.
## Post #1032
- Username: DarknessValtier
- Rank: beginner
- Number of posts: 35
- Joined date: Sat Feb 07, 2009 11:47 pm
- Post datetime: 2016-01-22T04:19:55+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Surprise xD
[https://www.youtube.com/watch?v=ghVajmNHMUo](https://www.youtube.com/watch?v=ghVajmNHMUo)
## Post #1033
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-01-23T01:59:30+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Cat hat in single player:


I did it by injecting the hat textures into the Battle Dress pftxs, and replacing Snake's arm model with the hat. The arm model was also injected into the Battle Dress fpk.
## Post #1034
- Username: DarknessValtier
- Rank: beginner
- Number of posts: 35
- Joined date: Sat Feb 07, 2009 11:47 pm
- Post datetime: 2016-01-23T02:40:25+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

HAHA!!!!
female Avatar editable is comming!!!!!
## Post #1035
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2016-01-23T05:45:16+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

If the mgo bikini replaced the female camo uniforms would they change color to that camo?
## Post #1036
- Username: DarknessValtier
- Rank: beginner
- Number of posts: 35
- Joined date: Sat Feb 07, 2009 11:47 pm
- Post datetime: 2016-01-23T07:13:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Ashtails
>
> If the mgo bikini replaced the female camo uniforms would they change color to that camo?
this just work on Ascencion costumes
## Post #1037
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2016-01-23T09:48:11+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Does anyone know how to edit normal maps? Every time I edit one and try to convert it with the FtexTool it crashes.
## Post #1038
- Username: GHzGangster
- Rank: n00b
- Number of posts: 19
- Joined date: Fri Aug 15, 2014 1:00 pm
- Post datetime: 2016-01-23T19:05:02+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Have Lua files from FPK's inside QAR's been decrypted yet?
I know someone mentioned something about this earlier in the thread, but this thread has gotten way too long for me to look at every single page...
## Post #1039
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2016-01-23T20:32:00+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from GHzGangster
>
> Have Lua files from FPK's inside QAR's been decrypted yet?
I know someone mentioned something about this earlier in the thread, but this thread has gotten way too long for me to look at every single page...

Yeah, use command prompt on QAR Tool and put -r after the command to decrypt them
## Post #1040
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2016-01-24T03:58:53+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from GHzGangster
>
> Have Lua files from FPK's inside QAR's been decrypted yet?
I know someone mentioned something about this earlier in the thread, but this thread has gotten way too long for me to look at every single page...
Use this tool I got from someone on here, it works on most lua files.

[https://mega.nz/#!sI4jlA7D!AsuF5tkmJE1a ... xHmZKGhDi4](https://mega.nz/#!sI4jlA7D!AsuF5tkmJE1aADDHHARJc2XBxUK5WuRyqxHmZKGhDi4)
## Post #1041
- Username: GHzGangster
- Rank: n00b
- Number of posts: 19
- Joined date: Fri Aug 15, 2014 1:00 pm
- Post datetime: 2016-01-24T07:31:28+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

It seems some files are encrypted differently. For example, in some FPK, /Assets/mgo/script/ruleset/Freeplay.lua is encrypted, though a lot of other files from the FPKs aren't. Not sure what the difference is here.
## Post #1042
- Username: Eredus
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Mon Jun 08, 2015 7:39 pm
- Post datetime: 2016-01-24T12:26:07+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Does anyone know where the architecture models are located in the files? I'm talking about the walls/floors/props/etc that are used to make all the buildings and scenes in the game.
## Post #1043
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2016-01-24T14:14:04+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

TLShamon got banned on Nexus RIP in peace

I figured out how to update the Extra Extra High Settings mod to 1.7 updates and am just waiting to hear back from the original creator if I can upload it to Nexus.

Edit: It's up
## Post #1044
- Username: stealthcl0wn
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sat Oct 31, 2015 2:11 am
- Post datetime: 2016-01-25T01:01:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> TLShamon got banned on Nexus RIP in peace

No more spam mods, finally.
## Post #1045
- Username: paulscottttt
- Rank: beginner
- Number of posts: 23
- Joined date: Mon Jan 25, 2016 8:34 am
- Post datetime: 2016-01-25T20:09:12+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hi new here. Having issues with retextures. When I replace the ftexs the old colors show when light hits the suit.
## Post #1046
- Username: morbidslinky
- Rank: beginner
- Number of posts: 27
- Joined date: Wed Oct 21, 2015 9:26 am
- Post datetime: 2016-01-26T04:58:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from morbidslinky
>
> I'm having a problem with FtexTool. 

I'm trying to retexture the DLC sneaking suit and I think the textures that are supposed to be mirrored across legs and arms are broken, as seen in the images below (notice the lack of grey color on the shin and forearm weaves). What's going on?

Still no reply about this? Truly the gods have abandoned me. Did Atvaark die?

If anyone cares, I've deduced that the problem has got to be with the .ftex file. Probably one of the parameters are borked for this specific file, but the ftextool code is very... uninviting... .ftex file writing goes way over my head.
## Post #1047
- Username: DarknessValtier
- Rank: beginner
- Number of posts: 35
- Joined date: Sat Feb 07, 2009 11:47 pm
- Post datetime: 2016-01-26T12:18:41+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Quiet MGO3
## Post #1048
- Username: paulscottttt
- Rank: beginner
- Number of posts: 23
- Joined date: Mon Jan 25, 2016 8:34 am
- Post datetime: 2016-01-26T20:17:55+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

anyone know why ftextool is only give me 1 ftex and 1 ftexs and not with when using -f 3 xxxxxxx.dds
## Post #1049
- Username: morbidslinky
- Rank: beginner
- Number of posts: 27
- Joined date: Wed Oct 21, 2015 9:26 am
- Post datetime: 2016-01-26T22:50:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> anyone know why ftextool is only give me 1 ftex and 1 ftexs and not with when using -f 3 xxxxxxx.dds

That's happened to me. I restart my computer and it works normally again. weird.

> No more spam mods, finally.

He was 75% of the community, for better or worse. It's gonna get really quiet now.
## Post #1050
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2016-01-27T12:41:06+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

And by really quiet he means MGO3 Quiet
## Post #1051
- Username: paulscottttt
- Rank: beginner
- Number of posts: 23
- Joined date: Mon Jan 25, 2016 8:34 am
- Post datetime: 2016-01-27T17:31:17+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

does anyone know how to make a spec map for a texture (i believe its a spec map)
[None](https://xentaxbackup.github.io/file/10372_None)
## Post #1052
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2016-01-27T22:14:14+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from paulscottttt
>
> does anyone know how to make a spec map for a texture (i believe its a spec map)
What do you mean? That's not the actual texture for the patch. What are you looking for?
## Post #1053
- Username: paulscottttt
- Rank: beginner
- Number of posts: 23
- Joined date: Mon Jan 25, 2016 8:34 am
- Post datetime: 2016-01-27T22:42:40+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> paulscottttt wrote:does anyone know how to make a spec map for a texture (i believe its a spec map)
What do you mean? That's not the actual texture for the patch. What are you looking for?
its one of three its called sna2_pacth0_def_srm. i maybe wrong but i think this tells the game how light reacts to the patch. as i have edited sna2_pacth0_def_bsm_alp & sna2_pacth0_def_nrm. and i removed sna2_pacth0_def_srm but now light reflects oddly now on the patches.
## Post #1054
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2016-01-27T22:45:04+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from paulscottttt
>
> XrayDoc wrote:paulscottttt wrote:does anyone know how to make a spec map for a texture (i believe its a spec map)
What do you mean? That's not the actual texture for the patch. What are you looking for?
its one of three its called sna2_pacth0_def_srm. i maybe wrong but i think this tells the game how light reacts to the patch. as i have edited sna2_pacth0_def_bsm_alp & sna2_pacth0_def_nrm. and i removed sna2_pacth0_def_srm but now light reflects oddly now on the patches.
Not sure why you would need to know which one affects the light of the patch, but if you do I don't know anything about it.
## Post #1055
- Username: paulscottttt
- Rank: beginner
- Number of posts: 23
- Joined date: Mon Jan 25, 2016 8:34 am
- Post datetime: 2016-01-27T22:55:26+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

thats not what i was asking. i was asking how to make something like the pic i uploaded.
## Post #1056
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2016-01-28T02:07:07+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from paulscottttt
>
> thats not what i was asking. i was asking how to make something like the pic i uploaded.
Well I'm not sure about that either, lol
## Post #1057
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2016-01-28T09:09:46+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DarknessValtier
>
> HAHA!!!!
female Avatar editable is comming!!!!!

Well that seems pretty cool. Now we have to figure out how to actually swap voices instead of simply making the character silent.
## Post #1058
- Username: imarceldoe
- Rank: n00b
- Number of posts: 10
- Joined date: Thu Jan 28, 2016 9:55 pm
- Post datetime: 2016-01-28T13:56:55+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Would anyone happen to know the filepath to the weapon models?

better yet would anyone be willing to get paid to port some models for me? baha
## Post #1059
- Username: artworkplay
- Rank: veteran
- Number of posts: 116
- Joined date: Thu Oct 06, 2011 4:40 am
- Post datetime: 2016-01-28T15:04:49+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hopefully this is just a simple request... could anyone point me to where the MGO textures are?
## Post #1060
- Username: paulscottttt
- Rank: beginner
- Number of posts: 23
- Joined date: Mon Jan 25, 2016 8:34 am
- Post datetime: 2016-01-28T17:26:51+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from artworkplay
>
> Hopefully this is just a simple request... could anyone point me to where the MGO textures are?
im guessthing the folder in the MGSV folder calls "MGO" it has chunk0 & texture0 in there.

any one know how to edit textures for the left arm? i found the textures in texture0 but cant see a pftex for it. also nothing changes in game.
## Post #1061
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2016-01-28T20:17:42+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from artworkplay
>
> Hopefully this is just a simple request... could anyone point me to where the MGO textures are?
They might also be under the 1 folder in master, but they are definitely in the mgo folder in the texture0.dat file.
## Post #1062
- Username: artworkplay
- Rank: veteran
- Number of posts: 116
- Joined date: Thu Oct 06, 2011 4:40 am
- Post datetime: 2016-01-28T21:35:50+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> artworkplay wrote:Hopefully this is just a simple request... could anyone point me to where the MGO textures are?
They might also be under the 1 folder in master, but they are definitely in the mgo folder in the texture0.dat file.
Maybe I'm doing something wrong because nearly all the textures I extracted from the mgo folder are either for the head meshes or icon graphics, none for the parts.
## Post #1063
- Username: DarknessValtier
- Rank: beginner
- Number of posts: 35
- Joined date: Sat Feb 07, 2009 11:47 pm
- Post datetime: 2016-01-28T23:49:27+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from artworkplay
>
> XrayDoc wrote:artworkplay wrote:Hopefully this is just a simple request... could anyone point me to where the MGO textures are?
They might also be under the 1 folder in master, but they are definitely in the mgo folder in the texture0.dat file.
Maybe I'm doing something wrong because nearly all the textures I extracted from the mgo folder are either for the head meshes or icon graphics, none for the parts.
the characters texture stay inside the files "pftxs"
## Post #1064
- Username: paulscottttt
- Rank: beginner
- Number of posts: 23
- Joined date: Mon Jan 25, 2016 8:34 am
- Post datetime: 2016-01-30T01:13:06+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

as i did not like the watch on the "Default" arm re done it based off the bionic arm that came with the limited edition.
[None](https://xentaxbackup.github.io/file/10387_None)
## Post #1065
- Username: paulscottttt
- Rank: beginner
- Number of posts: 23
- Joined date: Mon Jan 25, 2016 8:34 am
- Post datetime: 2016-01-30T01:17:05+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

another screen
[None](https://xentaxbackup.github.io/file/10388_None)
## Post #1066
- Username: DarknessValtier
- Rank: beginner
- Number of posts: 35
- Joined date: Sat Feb 07, 2009 11:47 pm
- Post datetime: 2016-01-30T12:43:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Why wait DLC to play with Quiet Huh!?
[https://www.youtube.com/watch?v=mbtKuTgDk4o](https://www.youtube.com/watch?v=mbtKuTgDk4o)
## Post #1067
- Username: XrayDoc
- Rank: veteran
- Number of posts: 88
- Joined date: Thu Sep 10, 2015 5:02 am
- Post datetime: 2016-01-30T15:55:37+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from DarknessValtier
>
> Why wait DLC to play with Quiet Huh!?
https://www.youtube.com/watch?v=mbtKuTgDk4o
What the hell is wrong with your game, lol.

Why are they giving us playable Quiet DLC when we could have glorious one-armed Kaz DLC?
## Post #1068
- Username: DarknessValtier
- Rank: beginner
- Number of posts: 35
- Joined date: Sat Feb 07, 2009 11:47 pm
- Post datetime: 2016-01-30T17:10:07+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from XrayDoc
>
> DarknessValtier wrote:Why wait DLC to play with Quiet Huh!?
https://www.youtube.com/watch?v=mbtKuTgDk4o
What the hell is wrong with your game, lol.
Why? '-'
## Post #1069
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-02-01T10:24:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Another interesting find today! While I can't confirm this with 100% accuracy yet, it appears that each polygon in a model is made up of 6 bytes. So far this has held true in all of my tests, but I've only been testing it with one piece of one model so far, so further testing is needed. If this is correct though, it'll help big time when hex editing models!
## Post #1070
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2016-02-01T13:58:02+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> Another interesting find today! While I can't confirm this with 100% accuracy yet, it appears that each polygon in a model is made up of 6 bytes. So far this has held true in all of my tests, but I've only been testing it with one piece of one model so far, so further testing is needed. If this is correct though, it'll help big time when hex editing models!

Well, yeah, that's how faces work. Each face has to connect to 3 vertices. 

Anyway, I made a script last night for 3DSMax that lets you null out the faces of a mesh individually in the program, where you can then export and put into the model. I'll write up a tutorial for it and then release it, maybe by tonight.
## Post #1071
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-02-01T20:42:03+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> BobDoleOwndU wrote:Another interesting find today! While I can't confirm this with 100% accuracy yet, it appears that each polygon in a model is made up of 6 bytes. So far this has held true in all of my tests, but I've only been testing it with one piece of one model so far, so further testing is needed. If this is correct though, it'll help big time when hex editing models!

Well, yeah, that's how faces work. Each face has to connect to 3 vertices. 

Anyway, I made a script last night for 3DSMax that lets you null out the faces of a mesh individually in the program, where you can then export and put into the model. I'll write up a tutorial for it and then release it, maybe by tonight.
Sorry, I'm not very familiar with 3d modeling (I'm more of a programmer). If I understand correctly, each 2 bytes is referencing a vertex defined in the header of the model?

The script sounds great!
## Post #1072
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2016-02-02T17:44:11+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Well, I didn't really have the time to write up a detailed tutorial for it but I don't want to withhold it so here's the scripts: [https://www.dropbox.com/s/j90pwzc4i96rq ... ts.7z?dl=0](https://www.dropbox.com/s/j90pwzc4i96rqn8/Face%20Scripts.7z?dl=0)

You need the MGSV fmdl scripts for PC, a hex editor (I use HxD for this), and 3DSMax. Firstly, grab the model you want to remove meshes from and import it into 3DSMax with the fmdl script. Look for the part of the model you're going to be editing (example being Object001 which is what I'm going to be referring to for convenience) and select it. Then go to your MaxScripts and run the script I provided called Output faces and save it as something so you remember that's the unedited version of the faces (example: saving it as something like, Object001_original.face).

Now, you're going to want to make sure it is an editable mesh and then select faces as the selection type. Now begin clicking the faces you want to remove and clicking hide on them so they aren't in view. Once you get the model looking how you want it to with the faces you want removed, run the script called delete hidden faces on it. This will zero out the meshes that were hidden without actually deleting them. Now, run the Output Faces script on it again and name it so you know it's the edited set of faces (Object001_edited.face for example.)

Now you're going to want to open up HxD or whatever other hex editor you're using. I'll assume you're working with HxD here though. Open up your model's fmdl file and the two files you output from earlier. First, go into the unedited face file or Object001_original.face in this instance and press ctrl+A to highlight the entire file and then copy it with ctrl+c. Go into your fmdl and press ctrl+f to open up the search bar and then paste what you copied before into there and press enter. It should highlight the faces in the fmdl of the mesh you were editing.

Now go over to your edited face file or Object001_edited.face in this instance and press ctrl+a and copy the entire thing. This time though, you're going to go back into the fmdl where the data is already highlighted and press ctrl+b to paste the data into the file. Once you pasted the data in, save and then you're done.

I was originally going to make this a more in depth tutorial with pictures and stuff but maybe another day. Also, don't output more than one mesh at a time or use the Delete Hidden faces script on more than one mesh at a time. They aren't designed for that and I'm too new to maxscript to fix it right now to allow for that.

> Reply from BobDoleOwndU
>
> HeartlessSeph wrote:BobDoleOwndU wrote:Another interesting find today! While I can't confirm this with 100% accuracy yet, it appears that each polygon in a model is made up of 6 bytes. So far this has held true in all of my tests, but I've only been testing it with one piece of one model so far, so further testing is needed. If this is correct though, it'll help big time when hex editing models!

Well, yeah, that's how faces work. Each face has to connect to 3 vertices. 

Anyway, I made a script last night for 3DSMax that lets you null out the faces of a mesh individually in the program, where you can then export and put into the model. I'll write up a tutorial for it and then release it, maybe by tonight.
Sorry, I'm not very familiar with 3d modeling (I'm more of a programmer). If I understand correctly, each 2 bytes is referencing a vertex defined in the header of the model?

The script sounds great!

I hope I didn't come off as a douche when I said that. But yeah, somewhere in the fmdl that I don't exactly know right now has the start of that meshes' vertex 'array'. So if a face says 0300 0400 0500 that means the edges connect to vertices 4, 5, and 6 to make a face (since the array actually begins at 0). Before I made the script, I used that knowledge to delete faces by writing down the faces I wanted to delete through Max and then manually deleting them. I made the script because that got tedious as hell and I wanted a faster way of doing it.
## Post #1073
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-02-03T02:00:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> Well, I didn't really have the time to write up a detailed tutorial for it but I don't want to withhold it so here's the scripts: https://www.dropbox.com/s/j90pwzc4i96rq ... ts.7z?dl=0

You need the MGSV fmdl scripts for PC, a hex editor (I use HxD for this), and 3DSMax. Firstly, grab the model you want to remove meshes from and import it into 3DSMax with the fmdl script. Look for the part of the model you're going to be editing (example being Object001 which is what I'm going to be referring to for convenience) and select it. Then go to your MaxScripts and run the script I provided called Output faces and save it as something so you remember that's the unedited version of the faces (example: saving it as something like, Object001_original.face).

Now, you're going to want to make sure it is an editable mesh and then select faces as the selection type. Now begin clicking the faces you want to remove and clicking hide on them so they aren't in view. Once you get the model looking how you want it to with the faces you want removed, run the script called delete hidden faces on it. This will zero out the meshes that were hidden without actually deleting them. Now, run the Output Faces script on it again and name it so you know it's the edited set of faces (Object001_edited.face for example.)

Now you're going to want to open up HxD or whatever other hex editor you're using. I'll assume you're working with HxD here though. Open up your model's fmdl file and the two files you output from earlier. First, go into the unedited face file or Object001_original.face in this instance and press ctrl+A to highlight the entire file and then copy it with ctrl+c. Go into your fmdl and press ctrl+f to open up the search bar and then paste what you copied before into there and press enter. It should highlight the faces in the fmdl of the mesh you were editing.

Now go over to your edited face file or Object001_edited.face in this instance and press ctrl+a and copy the entire thing. This time though, you're going to go back into the fmdl where the data is already highlighted and press ctrl+b to paste the data into the file. Once you pasted the data in, save and then you're done.

I was originally going to make this a more in depth tutorial with pictures and stuff but maybe another day. Also, don't output more than one mesh at a time or use the Delete Hidden faces script on more than one mesh at a time. They aren't designed for that and I'm too new to maxscript to fix it right now to allow for that.
BobDoleOwndU wrote:Sorry, I'm not very familiar with 3d modeling (I'm more of a programmer). If I understand correctly, each 2 bytes is referencing a vertex defined in the header of the model?

The script sounds great!

I hope I didn't come off as a douche when I said that. But yeah, somewhere in the fmdl that I don't exactly know right now has the start of that meshes' vertex 'array'. So if a face says 0300 0400 0500 that means the edges connect to vertices 4, 5, and 6 to make a face (since the array actually begins at 0). Before I made the script, I used that knowledge to delete faces by writing down the faces I wanted to delete through Max and then manually deleting them. I made the script because that got tedious as hell and I wanted a faster way of doing it.
The scripts work great! You've saved me many hours of manual hex editing, and the next version of the my mod will be done much sooner thanks to you! I just need to fix an error I made when I was manually hex editing the files and it'll be done!
## Post #1074
- Username: Solidcal
- Rank: beginner
- Number of posts: 26
- Joined date: Thu Apr 30, 2015 4:05 am
- Post datetime: 2016-02-03T21:05:43+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> Well, I didn't really have the time to write up a detailed tutorial for it but I don't want to withhold it so here's the scripts: https://www.dropbox.com/s/j90pwzc4i96rq ... ts.7z?dl=0

You need the MGSV fmdl scripts for PC, a hex editor (I use HxD for this), and 3DSMax. Firstly, grab the model you want to remove meshes from and import it into 3DSMax with the fmdl script. Look for the part of the model you're going to be editing (example being Object001 which is what I'm going to be referring to for convenience) and select it. Then go to your MaxScripts and run the script I provided called Output faces and save it as something so you remember that's the unedited version of the faces (example: saving it as something like, Object001_original.face).

Now, you're going to want to make sure it is an editable mesh and then select faces as the selection type. Now begin clicking the faces you want to remove and clicking hide on them so they aren't in view. Once you get the model looking how you want it to with the faces you want removed, run the script called delete hidden faces on it. This will zero out the meshes that were hidden without actually deleting them. Now, run the Output Faces script on it again and name it so you know it's the edited set of faces (Object001_edited.face for example.)

Now you're going to want to open up HxD or whatever other hex editor you're using. I'll assume you're working with HxD here though. Open up your model's fmdl file and the two files you output from earlier. First, go into the unedited face file or Object001_original.face in this instance and press ctrl+A to highlight the entire file and then copy it with ctrl+c. Go into your fmdl and press ctrl+f to open up the search bar and then paste what you copied before into there and press enter. It should highlight the faces in the fmdl of the mesh you were editing.

Now go over to your edited face file or Object001_edited.face in this instance and press ctrl+a and copy the entire thing. This time though, you're going to go back into the fmdl where the data is already highlighted and press ctrl+b to paste the data into the file. Once you pasted the data in, save and then you're done.

Hello there. So I've followed your tutorial here making sure to do each bit correctly as you describe and all goes well. Come to the HxD part and when I ctrl+a from the unedited .face file in to the fmdl, it simple says it can't find that whole line. Not sure if I am doing something wrong or if I am using the wrong fmdl 3ds max sxcript that was posted a while ago, but it doesn't work from this point on. Any advice on this? Could it be the fmdl script or is there something I am doing wrong within 3ds max on the mesh bit I wanna hide?
## Post #1075
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-02-03T22:47:56+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Solidcal
>
> HeartlessSeph wrote:Well, I didn't really have the time to write up a detailed tutorial for it but I don't want to withhold it so here's the scripts: https://www.dropbox.com/s/j90pwzc4i96rq ... ts.7z?dl=0

You need the MGSV fmdl scripts for PC, a hex editor (I use HxD for this), and 3DSMax. Firstly, grab the model you want to remove meshes from and import it into 3DSMax with the fmdl script. Look for the part of the model you're going to be editing (example being Object001 which is what I'm going to be referring to for convenience) and select it. Then go to your MaxScripts and run the script I provided called Output faces and save it as something so you remember that's the unedited version of the faces (example: saving it as something like, Object001_original.face).

Now, you're going to want to make sure it is an editable mesh and then select faces as the selection type. Now begin clicking the faces you want to remove and clicking hide on them so they aren't in view. Once you get the model looking how you want it to with the faces you want removed, run the script called delete hidden faces on it. This will zero out the meshes that were hidden without actually deleting them. Now, run the Output Faces script on it again and name it so you know it's the edited set of faces (Object001_edited.face for example.)

Now you're going to want to open up HxD or whatever other hex editor you're using. I'll assume you're working with HxD here though. Open up your model's fmdl file and the two files you output from earlier. First, go into the unedited face file or Object001_original.face in this instance and press ctrl+A to highlight the entire file and then copy it with ctrl+c. Go into your fmdl and press ctrl+f to open up the search bar and then paste what you copied before into there and press enter. It should highlight the faces in the fmdl of the mesh you were editing.

Now go over to your edited face file or Object001_edited.face in this instance and press ctrl+a and copy the entire thing. This time though, you're going to go back into the fmdl where the data is already highlighted and press ctrl+b to paste the data into the file. Once you pasted the data in, save and then you're done.


Hello there. So I've followed your tutorial here making sure to do each bit correctly as you describe and all goes well. Come to the HxD part and when I ctrl+a from the unedited .face file in to the fmdl, it simple says it can't find that whole line. Not sure if I am doing something wrong or if I am using the wrong fmdl 3ds max sxcript that was posted a while ago, but it doesn't work from this point on. Any advice on this? Could it be the fmdl script or is there something I am doing wrong within 3ds max on the mesh bit I wanna hide?
You need to change to the type in find to hex.
## Post #1076
- Username: Solidcal
- Rank: beginner
- Number of posts: 26
- Joined date: Thu Apr 30, 2015 4:05 am
- Post datetime: 2016-02-03T22:51:55+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> 
You need to change to the type in find to hex.
Ah I knew I was forgetting something. Thanks.
## Post #1077
- Username: SuperflyJohnson
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Thu Feb 04, 2016 7:11 am
- Post datetime: 2016-02-03T23:23:20+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Has anyone figured out how to get glasses/hats to go on models heads instead of sliding around on the ground next to their feet like most of them seem to do?
## Post #1078
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2016-02-04T12:18:53+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from SuperflyJohnson
>
> Has anyone figured out how to get glasses/hats to go on models heads instead of sliding around on the ground next to their feet like most of them seem to do?

I think that may be stored in the frdv of the file but I can't be sure. I think that Fraridr got items like that working but now I don't know any way to contact him.
## Post #1079
- Username: Solidcal
- Rank: beginner
- Number of posts: 26
- Joined date: Thu Apr 30, 2015 4:05 am
- Post datetime: 2016-02-04T14:01:06+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> SuperflyJohnson wrote:Has anyone figured out how to get glasses/hats to go on models heads instead of sliding around on the ground next to their feet like most of them seem to do?

I think that may be stored in the frdv of the file but I can't be sure. I think that Fraridr got items like that working but now I don't know any way to contact him.

Yeah I believe you are right about the frdv being the file that contains the placement of models. I believe the user tao lung or someone of the same has been able to get glasses appearing properly on venom's face and such. But as I recall he was banned from the nexus but made a blog spot to still post his and others modding works. So you could always contact this guy about how he did the proper placement of glasses on the face. But if I recall English is not his first language.
## Post #1080
- Username: frozensushi
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Mon Feb 01, 2016 8:42 am
- Post datetime: 2016-02-05T08:29:54+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Solidcal
>
> 
Yeah I believe you are right about the frdv being the file that contains the placement of models. I believe the user tao lung or someone of the same has been able to get glasses appearing properly on venom's face and such.

You're right Solidcal, he does have a mod like that. If anyone is interested in contacting Tao Lung Shamon, here's some links:

[Tao Lung Shamon Personal Blog [Translated]](https://translate.google.com/translate?hl=en&sl=auto&tl=en&u=http%3A%2F%2Fmetalgearsolid-fanmade.blogspot.com%2F)
[Tao Lung Shamon Personal Blog](http://metalgearsolid-fanmade.blogspot.com)
[Tao Lung Shamon Youtube page](https://www.youtube.com/channel/UCeAhr7vqjgQRjBoTk6KxUHA)
## Post #1081
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2016-02-06T13:38:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

How do you combine meshes like in the BigBoss mod?
## Post #1082
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2016-02-06T17:03:42+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Ashtails
>
> How do you combine meshes like in the BigBoss mod?

I just take advantage of the pieces in the mod. Mainly, I have the body mesh and then replace the arms with a separate mesh to give them the illusion of being one mesh. You can generally see the negative side of this when you use the rocket arm.
## Post #1083
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2016-02-06T18:25:09+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> Ashtails wrote:How do you combine meshes like in the BigBoss mod?

I just take advantage of the pieces in the mod. Mainly, I have the body mesh and then replace the arms with a separate mesh to give them the illusion of being one mesh. You can generally see the negative side of this when you use the rocket arm.

Oh ok, so for Snake you can swap the head, body, and arm to make the model and for dd soldiers there is only the body and head to swap
But the avatar you can change the body, arm, horn, and hair piece models?
## Post #1084
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2016-02-06T21:27:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Ashtails
>
> HeartlessSeph wrote:Ashtails wrote:How do you combine meshes like in the BigBoss mod?

I just take advantage of the pieces in the mod. Mainly, I have the body mesh and then replace the arms with a separate mesh to give them the illusion of being one mesh. You can generally see the negative side of this when you use the rocket arm.

Oh ok, so for Snake you can swap the head, body, and arm to make the model and for dd soldiers there is only the body and head to swap
But the avatar you can change the body, arm, horn, and hair piece models?

Yup, that sounds just about right. Although for DD soldiers, if the soldier comes with glasses you can swap those as well.
## Post #1085
- Username: paulscottttt
- Rank: beginner
- Number of posts: 23
- Joined date: Mon Jan 25, 2016 8:34 am
- Post datetime: 2016-02-07T17:34:59+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

does anyone know if its possible to add meshes from other models to the suits?
like the DD emblem from the other suits with the diamond to the GZ suit.
## Post #1086
- Username: TruckerHatRyan
- Rank: n00b
- Number of posts: 11
- Joined date: Sun Oct 25, 2015 2:35 am
- Post datetime: 2016-02-07T18:31:11+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from paulscottttt
>
> does anyone know if its possible to add meshes from other models to the suits?
like the DD emblem from the other suits with the diamond to the GZ suit.

Yes. You'd have to null out everything except the emblem on one of the outfits and then set that as the main fmdl for an fpk and then have the model you want set as the arm models. Both models need to be of similar shape otherwise the emblem won't be in the right position. 

Keep in mind that this would mean no bionic arms would appear so you'd want to use a model with two arms and then you have to deal with the rocket arms which have two slots instead of one.
## Post #1087
- Username: crash!
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Mon Feb 08, 2016 8:15 am
- Post datetime: 2016-02-08T00:21:48+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hello everybody, i've been looking to retexture the SV/GZ Sneaking Suit to Black that was included in the GZ Modding tool, too bad TPP modding is very confusing to people like me who are rather new, so i have a question would anybody be able to swap the textures for me and send me the files i need to replace? i'll gladly provide the textures, [uploaded to mixtape.moe](https://my.mixtape.moe/ndkazo.zip) due to filesize
## Post #1088
- Username: paulscottttt
- Rank: beginner
- Number of posts: 23
- Joined date: Mon Jan 25, 2016 8:34 am
- Post datetime: 2016-02-08T08:38:58+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from crash!
>
> Hello everybody, i've been looking to retexture the SV/GZ Sneaking Suit to Black that was included in the GZ Modding tool, too bad TPP modding is very confusing to people like me who are rather new, so i have a question would anybody be able to swap the textures for me and send me the files i need to replace? i'll gladly provide the textures, uploaded to mixtape.moe due to filesize

to get it change colour i edited the texture and removed a line from the pftxs after extracting it.
[None](https://xentaxbackup.github.io/file/10445_None)
## Post #1089
- Username: crash!
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Mon Feb 08, 2016 8:15 am
- Post datetime: 2016-02-08T14:17:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from paulscottttt
>
> crash! wrote:Hello everybody, i've been looking to retexture the SV/GZ Sneaking Suit to Black that was included in the GZ Modding tool, too bad TPP modding is very confusing to people like me who are rather new, so i have a question would anybody be able to swap the textures for me and send me the files i need to replace? i'll gladly provide the textures, uploaded to mixtape.moe due to filesize

to get it change colour i edited the texture and removed a line from the pftxs after extracting it.

Very nice, could you detail on what exactly you edited and what line you removed? or just send me the actual pftxs file i need to replace. thanks in advance.
## Post #1090
- Username: paulscottttt
- Rank: beginner
- Number of posts: 23
- Joined date: Mon Jan 25, 2016 8:34 am
- Post datetime: 2016-02-10T16:47:22+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from crash!
>
> paulscottttt wrote:crash! wrote:Hello everybody, i've been looking to retexture the SV/GZ Sneaking Suit to Black that was included in the GZ Modding tool, too bad TPP modding is very confusing to people like me who are rather new, so i have a question would anybody be able to swap the textures for me and send me the files i need to replace? i'll gladly provide the textures, uploaded to mixtape.moe due to filesize

to get it change colour i edited the texture and removed a line from the pftxs after extracting it.

Very nice, could you detail on what exactly you edited and what line you removed? or just send me the actual pftxs file i need to replace. thanks in advance.

extract the pftxs with GZS tool. you'll get a xml edit it with notepad or what ever you use. look for the line that points to what you want to change.
delete that line save xml. repack pftxs. once thats done. any changes you make will show up.
## Post #1091
- Username: crash!
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Mon Feb 08, 2016 8:15 am
- Post datetime: 2016-02-10T20:15:43+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from paulscottttt
>
> 

extract the pftxs with GZS tool. you'll get a xml edit it with notepad or what ever you use. look for the line that points to what you want to change.
delete that line save xml. repack pftxs. once thats done. any changes you make will show up.
EDIT: Nevermind i figured out a way so that it works

And snakes sv sneaking suit remains blue, i give up this is too hard for me, gonna wait for someone to release a black sv sneaking suit retex. still thankful for all help i got from you though paul!
## Post #1092
- Username: Solidcal
- Rank: beginner
- Number of posts: 26
- Joined date: Thu Apr 30, 2015 4:05 am
- Post datetime: 2016-02-10T22:25:12+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Qucik question. Did the ftextool get updated recently as I am trying to unpack the ps3 TPP textures in hopes the day one dlc outfits are there. I want to import the over already exsisting camo scarf outfits so they can be used in TPP pc. But when I unpack any of the ftex files, ftex tool crashes. So not sure if the one I have is outdated. Thanks.
## Post #1093
- Username: paulscottttt
- Rank: beginner
- Number of posts: 23
- Joined date: Mon Jan 25, 2016 8:34 am
- Post datetime: 2016-02-10T23:02:25+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Solidcal
>
> Qucik question. Did the ftextool get updated recently as I am trying to unpack the ps3 TPP textures in hopes the day one dlc outfits are there. I want to import the over already exsisting camo scarf outfits so they can be used in TPP pc. But when I unpack any of the ftex files, ftex tool crashes. So not sure if the one I have is outdated. Thanks.

ive already made the console exclusive fatigues "ocelot black, blue urban, grey urban and all purpose dryland" if thats what your mean?
[http://www.nexusmods.com/metalgearsolid ... D244&pUp=1](http://www.nexusmods.com/metalgearsolidvtpp/mods/244/?tab=2&navtag=http%3A%2F%2Fwww.nexusmods.com%2Fmetalgearsolidvtpp%2Fajax%2Fmodfiles%2F%3Fid%3D244&pUp=1)
## Post #1094
- Username: Solidcal
- Rank: beginner
- Number of posts: 26
- Joined date: Thu Apr 30, 2015 4:05 am
- Post datetime: 2016-02-11T08:57:12+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from paulscottttt
>
> Solidcal wrote:Qucik question. Did the ftextool get updated recently as I am trying to unpack the ps3 TPP textures in hopes the day one dlc outfits are there. I want to import the over already exsisting camo scarf outfits so they can be used in TPP pc. But when I unpack any of the ftex files, ftex tool crashes. So not sure if the one I have is outdated. Thanks.

ive already made the console exclusive fatigues "ocelot black, blue urban, grey urban and all purpose dryland" if thats what your mean?
http://www.nexusmods.com/metalgearsolid ... D244&pUp=1
No what I was asking was if the ftex tool got updated. As I wanted to grab the day one dlc outfits textures from the console files. But yeah saw you did them so I guess I don't need to bother with the console textures now.  Though has it been updated at all? The ftex tool I mean.
## Post #1095
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-02-11T11:04:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Here's what I learned today: MGO textures are stored a bit differently than TPP ones.

Unlike TPP, the full texture files for outfits aren't stored together in the texture.dat files. Like in TPP, MGO stores the <hash>.ftex file and the <hash>.1.ftexs file in the pftxs file of the outfits. However, unlike TPP, the <hash>.2.ftexs and <hash>.3.ftexs are stored in texture0.dat without <hash>.ftex and <hash>.1.ftexs. If you want to view the full texture, you need to get the files from both the pftxs and texture0.dat.

Also, not sure if this is already known, but it's possible to inject a full texture into a pftxs file if you add the missing ftexs files and add entries for them in the xml GzsTool generates.
## Post #1096
- Username: paulscottttt
- Rank: beginner
- Number of posts: 23
- Joined date: Mon Jan 25, 2016 8:34 am
- Post datetime: 2016-02-11T15:18:11+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Solidcal
>
> paulscottttt wrote:Solidcal wrote:Qucik question. Did the ftextool get updated recently as I am trying to unpack the ps3 TPP textures in hopes the day one dlc outfits are there. I want to import the over already exsisting camo scarf outfits so they can be used in TPP pc. But when I unpack any of the ftex files, ftex tool crashes. So not sure if the one I have is outdated. Thanks.

ive already made the console exclusive fatigues "ocelot black, blue urban, grey urban and all purpose dryland" if thats what your mean?
http://www.nexusmods.com/metalgearsolid ... D244&pUp=1
No what I was asking was if the ftex tool got updated. As I wanted to grab the day one dlc outfits textures from the console files. But yeah saw you did them so I guess I don't need to bother with the console textures now.  Though has it been updated at all? The ftex tool I mean.

ive no clue i have 0.3.1
## Post #1097
- Username: frozensushi
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Mon Feb 01, 2016 8:42 am
- Post datetime: 2016-02-12T21:14:18+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> Here's what I learned today: MGO textures are stored a bit differently than TPP ones.

Unlike TPP, the full texture files for outfits aren't stored together in the texture.dat files. Like in TPP, MGO stores the <hash>.ftex file and the <hash>.1.ftexs file in the pftxs file of the outfits. However, unlike TPP, the <hash>.2.ftexs and <hash>.3.ftexs are stored in texture0.dat without <hash>.ftex and <hash>.1.ftexs. If you want to view the full texture, you need to get the files from both the pftxs and texture0.dat.

Also, not sure if this is already known, but it's possible to inject a full texture into a pftxs file if you add the missing ftexs files and add entries for them in the xml GzsTool generates.

Thank you for sharing this great info!! It's appreciated.
## Post #1098
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2016-02-14T09:11:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Solidcal
>
> HeartlessSeph wrote:SuperflyJohnson wrote:Has anyone figured out how to get glasses/hats to go on models heads instead of sliding around on the ground next to their feet like most of them seem to do?

I think that may be stored in the frdv of the file but I can't be sure. I think that Fraridr got items like that working but now I don't know any way to contact him.

Yeah I believe you are right about the frdv being the file that contains the placement of models. I believe the user tao lung or someone of the same has been able to get glasses appearing properly on venom's face and such. But as I recall he was banned from the nexus but made a blog spot to still post his and others modding works. So you could always contact this guy about how he did the proper placement of glasses on the face. But if I recall English is not his first language.

Actually I did that. I got Kazuhira's GZ model from the "Sahelanthropus" mission and manually nulled out all the bytes surrounding the glasses, then set it as the arm model. Then your friend Tao Lung just stole it and made a couple of mods out of it without crediting me. Maybe that kinda stuff is one of the reasons he got banned.
## Post #1099
- Username: crash!
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Mon Feb 08, 2016 8:15 am
- Post datetime: 2016-02-14T14:10:36+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> Maybe that kinda stuff is one of the reasons he got banned.

Officially he was banned for admitting to Piracy lmao, guy didnt read rules now hes mad at nexus.
## Post #1100
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2016-02-15T05:06:39+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

[http://www.nexusmods.com/metalgearsolidvtpp/mods/237/](http://www.nexusmods.com/metalgearsolidvtpp/mods/237/)?

Somebody on nexus found a way to mod the camera.
## Post #1101
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-02-15T08:35:27+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> http://www.nexusmods.com/metalgearsolidvtpp/mods/237/?

Somebody on nexus found a way to mod the camera.
Infinite Heaven lets you control a freecam now. I think the camera control was added to Infinite Heaven based on the mod you linked to.
## Post #1102
- Username: Solidcal
- Rank: beginner
- Number of posts: 26
- Joined date: Thu Apr 30, 2015 4:05 am
- Post datetime: 2016-02-15T18:38:48+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> 
Actually I did that. I got Kazuhira's GZ model from the "Sahelanthropus" mission and manually nulled out all the bytes surrounding the glasses, then set it as the arm model. Then your friend Tao Lung just stole it and made a couple of mods out of it without crediting me. Maybe that kinda stuff is one of the reasons he got banned.
Yeah I figured that out a little later. Also he is not a friend. Makes mroe sense why he got banned other than the piracy stuff. But if someone ever get's a chance they need to look at the frdv and see if that can be manually edited that way as I know the only other way to get classes to appear on the face correctly for venom is well a model editor which I know we don't have right now sadly.
## Post #1103
- Username: paulscottttt
- Rank: beginner
- Number of posts: 23
- Joined date: Mon Jan 25, 2016 8:34 am
- Post datetime: 2016-02-15T21:35:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

anyone know where the players gun models are?
## Post #1104
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-02-15T22:56:12+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Does anybody know how to display custom messages in the log?

I found the function; it's TppUI.ShowAnnounceLog(). I can get it to display the messages that are already in game, i.e. TppUI.ShowAnnounceLog("fobRivalArrive") shows the "Rival Arrived" message. I can't figure out where it actually loads the text from though. I went into TppUI.lua, and the only reference to "fobRivalArrive" is fobRivalArrive="announce_fob_helper_arrive" and I couldn't find a reference to announce_fob_helper_arrive in any of the lua scripts. All of the other variables for the log are similar, all starting with "announce" but I can't find a reference to any of them.
## Post #1105
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2016-02-16T01:53:16+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> Does anybody know how to display custom messages in the log?

I found the function; it's TppUI.ShowAnnounceLog(). I can get it to display the messages that are already in game, i.e. TppUI.ShowAnnounceLog("fobRivalArrive") shows the "Rival Arrived" message. I can't figure out where it actually loads the text from though. I went into TppUI.lua, and the only reference to "fobRivalArrive" is fobRivalArrive="announce_fob_helper_arrive" and I couldn't find a reference to announce_fob_helper_arrive in any of the lua scripts. All of the other variables for the log are similar, all starting with "announce" but I can't find a reference to any of them.
Well since the game has multiple text language support, I imagine you'd likely find that there are separate file banks for what "announce_fob_helper_arrive" means in files for different languages, and devs don't usually mass-store string in LUA-type script files, but in more like XML files.

Perhaps in these places?
chunk0\Assets\tpp\pack\ui
chunk0\Assets\tpp\pack\ui\lang
## Post #1106
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-02-16T09:54:41+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> Well since the game has multiple text language support, I imagine you'd likely find that there are separate file banks for what "announce_fob_helper_arrive" means in files for different languages, and devs don't usually mass-store string in LUA-type script files, but in more like XML files.

Perhaps in these places?
chunk0\Assets\tpp\pack\ui
chunk0\Assets\tpp\pack\ui\lang
Thanks! The strings are indeed in the location you pointed out, but in 0/00.dat; for English, they're in 0\00_dat\Assets\tpp\pack\ui\lang\lang_default_data_eng_fpk\Assets\tpp\lang\ui\tpp_announce_log.eng.lng2 to be specific. I figured there was probably language definitions for the strings, but I couldn't figure out where it was.

So far, I've only managed to make custom strings by hardcoding the existing strings themselves. The strings themselves are identified by key values, so there's probably another file referencing them somewhere that would need to be edited to add completely custom strings. Also, trying to pass parameter values to the existing strings just seems to make the game crash; I'll need to look more into this.



On a side note, in the announce log there seems to be some unused strings from cut content.
Time trials of some sort:
<Entry Key="4043829318" Color="8" Value="Added trial:" />
<Entry Key="2210320133" Color="8" Value="New trial record:" />
<Entry Key="1516481085" Color="7" Value="Canceled trial:" />

Quiet's commands popping up on the log:
<Entry Key="4227630274" Color="5" Value="Quiet: Has a shot" />
<Entry Key="825275856" Color="5" Value="Quiet: Ready for grenade ricochet" />
<Entry Key="733844849" Color="5" Value="Quiet: Unable to fire" />

Visitors being allowed to go to Motherbase (there were also similar lines for FOBs, so it looks like they were at one point supposed to be allowed to go to Motherbase as well):
<Entry Key="3760002448" Color="5" Value="Visitor at Mother Base" />

This is the one I found the most interesting, not sure if it was supposed to be used for Mission 45, or something different altogether:
<Entry Key="622141776" Color="6" Value="Quiet: Requesting rescue" />
## Post #1107
- Username: Solidcal
- Rank: beginner
- Number of posts: 26
- Joined date: Thu Apr 30, 2015 4:05 am
- Post datetime: 2016-02-16T18:52:03+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> Higus wrote:Well since the game has multiple text language support, I imagine you'd likely find that there are separate file banks for what "announce_fob_helper_arrive" means in files for different languages, and devs don't usually mass-store string in LUA-type script files, but in more like XML files.

Perhaps in these places?
chunk0\Assets\tpp\pack\ui
chunk0\Assets\tpp\pack\ui\lang
Thanks! The strings are indeed in the location you pointed out, but in 0/00.dat; for English, they're in 0\00_dat\Assets\tpp\pack\ui\lang\lang_default_data_eng_fpk\Assets\tpp\lang\ui\tpp_announce_log.eng.lng2 to be specific. I figured there was probably language definitions for the strings, but I couldn't figure out where it was.

So far, I've only managed to make custom strings by hardcoding the existing strings themselves. The strings themselves are identified by key values, so there's probably another file referencing them somewhere that would need to be edited to add completely custom strings. Also, trying to pass parameter values to the existing strings just seems to make the game crash; I'll need to look more into this.

On a side note, in the announce log there seems to be some unused strings from cut content.
Time trials of some sort:
<Entry Key="4043829318" Color="8" Value="Added trial:" />
<Entry Key="2210320133" Color="8" Value="New trial record:" />
<Entry Key="1516481085" Color="7" Value="Canceled trial:" />

Quiet's commands popping up on the log:
<Entry Key="4227630274" Color="5" Value="Quiet: Has a shot" />
<Entry Key="825275856" Color="5" Value="Quiet: Ready for grenade ricochet" />
<Entry Key="733844849" Color="5" Value="Quiet: Unable to fire" />

Visitors being allowed to go to Motherbase (there were also similar lines for FOBs, so it looks like they were at one point supposed to be allowed to go to Motherbase as well):
<Entry Key="3760002448" Color="5" Value="Visitor at Mother Base" />

This is the one I found the most interesting, not sure if it was supposed to be used for Mission 45, or something different altogether:
<Entry Key="622141776" Color="6" Value="Quiet: Requesting rescue" />
That's pretty cool with the unused stuff. I guess they saw how annoyed people got with the trials and stuff to get 100% in GZ and just decided to get rid of them. Though I wonder if the Quiet related stuff could be added back in, in some way as it seems pretty interesting.
## Post #1108
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-02-16T22:25:22+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Alright, I found a better function for printing custom strings to the log. It's TppUiCommand.AnnounceLogView(). It allows you to print whatever string you enter between the parentheses. No messing around with strings in the language files. I.e. TppUiCommand.AnnounceLogView("Hello World!") will print "Hello World!" without the quotes in the log.

> Reply from Solidcal
>
> That's pretty cool with the unused stuff. I guess they saw how annoyed people got with the trials and stuff to get 100% in GZ and just decided to get rid of them. Though I wonder if the Quiet related stuff could be added back in, in some way as it seems pretty interesting.
Yeah, Quiet's commands popping up in the log would be cool. I'm currently looking through all of the scripts, trying to format them properly and semi-deobfusticate them. If I come across the functions relating to Quiet's commands I'll see if I can add the command pop-ups to the log.
## Post #1109
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2016-02-17T16:00:05+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> I'm currently looking through all of the scripts, trying to format them properly and semi-deobfusticate them.
Please do update us with your findings, or as much as possible. Although I'm very interested in it myself, I don't have the time to study through the TPP code like you seem to. Good luck with your findings!
## Post #1110
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-02-17T19:27:35+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> Please do update us with your findings, or as much as possible. Although I'm very interested in it myself, I don't have the time to study through the TPP code like you seem to. Good luck with your findings!
Will do! Thanks!
## Post #1111
- Username: Pepper
- Rank: mega-veteran
- Number of posts: 278
- Joined date: Thu Apr 17, 2008 10:48 am
- Post datetime: 2016-02-17T20:34:33+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from paulscottttt
>
> anyone know where the players gun models are?

The game uses the same models for first person and third person as far as I know. you can really tell with certain guns, especially when the night vision goggles effect is on in first person.
## Post #1112
- Username: paulscottttt
- Rank: beginner
- Number of posts: 23
- Joined date: Mon Jan 25, 2016 8:34 am
- Post datetime: 2016-02-17T21:46:04+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Pepper
>
> paulscottttt wrote:anyone know where the players gun models are?

The game uses the same models for first person and third person as far as I know. you can really tell with certain guns, especially when the night vision goggles effect is on in first person.

im confused.
 i was asking where in the game files the fmdls where
## Post #1113
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-02-17T22:32:44+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> Does anybody know how to display custom messages in the log?

I found the function; it's TppUI.ShowAnnounceLog(). I can get it to display the messages that are already in game, i.e. TppUI.ShowAnnounceLog("fobRivalArrive") shows the "Rival Arrived" message. I can't figure out where it actually loads the text from though. I went into TppUI.lua, and the only reference to "fobRivalArrive" is fobRivalArrive="announce_fob_helper_arrive" and I couldn't find a reference to announce_fob_helper_arrive in any of the lua scripts. All of the other variables for the log are similar, all starting with "announce" but I can't find a reference to any of them.

Here's info on the lng2/show announcelog system:
[http://wiki.tesnexus.com/index.php/Lng2_File_usage](http://wiki.tesnexus.com/index.php/Lng2_File_usage)

But you're right, TppUiCommand.AnnounceLogView is easier to get stuff going since it allows plain strings. 
I also had to shift to it completely for my mod since TppUiCommand.AnnounceLogViewLangId is so limited with what it allows with its string formatting.
## Post #1114
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-02-18T00:43:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Here's my current efforts at deminfying the data luas.

[https://mega.nz/#!yBdQjBCL!DOqEDvZZ1m_K ... dYqhG7Z4OE](https://mega.nz/#!yBdQjBCL!DOqEDvZZ1m_KaTPgYoPBAxdpgj1IjBCoEdYqhG7Z4OE)

Can't guarantee I haven't added more bugs, you'll also have to cull out any of my mods code which is marked by '--tex'

This is a combination of a cruddy powershell script to add some line breaks, Lua Development Tools format/index function, but mostly gruntwork over the months I've been modding, manually renaming variables (via LDT feature) by backtracking those that weren't deminfied, function names and guesswork to fill some in-between. I've mostly done sections related to areas I was creating a feature for or just researching, because of the mass of overall code there's much I haven't really touched beyond the initial formatting.
## Post #1115
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-02-18T03:24:55+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> Here's my current efforts at deminfying the data luas.

https://mega.nz/#!yBdQjBCL!DOqEDvZZ1m_K ... dYqhG7Z4OE

Can't guarantee I haven't added more bugs, you'll also have to cull out any of my mods code which is marked by '--tex'

This is a combination of a cruddy powershell script to add some line breaks, Lua Development Tools format/index function, but mostly gruntwork over the months I've been modding, manually renaming variables (via LDT feature) by backtracking those that weren't deminfied, function names and guesswork to fill some in-between. I've mostly done sections related to areas I was creating a feature for or just researching, because of the mass of overall code there's much I haven't really touched beyond the initial formatting.
Thanks! You've saved me hours upon hours with these.
## Post #1116
- Username: szczuru
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Sat Sep 26, 2015 5:38 am
- Post datetime: 2016-02-18T23:35:31+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Does anyone know how to properly convert PS3 subp files to xml? I've unpacked psarc, decrypted oryginal fpk with MGSV_ResDec tool and decrypted to subp with MGSV_FPK_Tool but I can't covert it to xml - Subptool just crashed when i was trying to use it with ps3's subp files 

SOLVED

//Edit

Another thing - can't convert any ftex/ftexs files to dds (PS3 version).

FTEX first bytes:

```
59 24 96 65 C3 E5 AE 23 06 63 CA 29 88 EA 4B AD
```


FTEXS first bytes:

```
3A 8A FB 4C 3D 1D 7E D7 73 A0 83 58 E7 60 16 C1
```


Can anyone help?

//Edit 2

Nevermind  QAR tool with -u switch and FtexTool with big endian support did the work
## Post #1117
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2016-02-21T06:01:04+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

So there's only one example line I can find of the conditional code for checking if a button is pressed:
"bit.band(PlayerVars.scannedButtonsDirect,PlayerPad.STANCE)==PlayerPad.STANCE"

I know from there is also PlayerPad.UP, PlayerPad.DOWN, PlayerPad.LEFT, PlayerPad.RIGHT

I've gotten a custom camera preset manager script working very well, but I can't find out the rest of the PlayerPad names which I need to code the switching of each camera preset.

Could anybody please post any confirmed PlayerPad inputs they might know?

EDIT: Found out another two

L1 = PlayerPad.CALL
R3 = PlayerPad.ZOOM_CHANGE

Got some pretty good camera mod results going:
[https://www.youtube.com/watch?v=d3ZWM31fRl8](https://www.youtube.com/watch?v=d3ZWM31fRl8)

Download:
[http://www.nexusmods.com/metalgearsolidvtpp/mods/258](http://www.nexusmods.com/metalgearsolidvtpp/mods/258)

Though I think the scripting behind it is pretty primitive at the moment. I can't find enough of the 'PlayerStatus' variables, aside from the basics (STAND,SQUAT,CRAWL,BEHIND). Hopefully we can find new variables out and improve on this system so that we can add more camera state over-rides such as the currently missing CQC-Hold camera state.
## Post #1118
- Username: paulscottttt
- Rank: beginner
- Number of posts: 23
- Joined date: Mon Jan 25, 2016 8:34 am
- Post datetime: 2016-02-21T17:58:44+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

anyone know how to fix the pink tint to snakes hair when you lighten it?
## Post #1119
- Username: szczuru
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Sat Sep 26, 2015 5:38 am
- Post datetime: 2016-02-21T18:14:10+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I'm looking for GZ menu files (especially english menu text). Does anyone know where to find it?

//Edit

Ok, found it.
## Post #1120
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-02-21T19:03:14+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> So there's only one example line I can find of the conditional code for checking if a button is pressed:
"bit.band(PlayerVars.scannedButtonsDirect,PlayerPad.STANCE)==PlayerPad.STANCE"

I know from there is also PlayerPad.UP, PlayerPad.DOWN, PlayerPad.LEFT, PlayerPad.RIGHT

I've gotten a custom camera preset manager script working very well, but I can't find out the rest of the PlayerPad names which I need to code the switching of each camera preset.

Could anybody please post any confirmed PlayerPad inputs they might know?

EDIT: Found out another two

L1 = PlayerPad.CALL
R3 = PlayerPad.ZOOM_CHANGE
I found a few more, by looking at 0\00_dat\Tpp\Scripts\Ui\TppUiBootInit.lua and seeing if any of the key bindings listed in there would work for PlayerPad. Some do, some don't.

The ones I can confirm that work are:
PlayerPad.ACTION
PlayerPad.SUBJECT
PlayerPad.RELOAD

Edit: I decided to open up TPP's exe file in HxD and searched for PlayerPad. This appears to be all of the PlayerPad commands:
DECIDE
STANCE
ACTION
RELOAD
STOCK
MB_DEVICE
CALL
UP
DOWN
LEFT
RIGHT
SIDE_ROLL
ZOOM_CHANGE
LIGHT_SWITCH
EVADE
VEHICLE_FIRE
VEHICLE_CALL
VEHICLE_DASH
BUTTON_PLACE_MARKER
PLACE_MARKER
INTERROGATE
RIDE_ON
RIDE_OFF
VEHICLE_CHANGE_SIGHT
VEHICLE_LIGHT_SWITCH
VEHICLE_TOGGLE_WEAPON
JUMP
MOVE_ACTION
PRIMARY_WEAPON
SECONDARY_WEAPON
STICK_L
STICK_R
TRIGGER_L
TRIGGER_R
TRIGGER_ACCEL
TRIGGER_BREAK
ALL

Edit2: I realized that this might not be all of the commands as SUBJECT was not in the list, yet is valid.
## Post #1121
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2016-02-21T19:20:11+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Did anyone find the models for all the child soldiers yet?
## Post #1122
- Username: szczuru
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Sat Sep 26, 2015 5:38 am
- Post datetime: 2016-02-21T19:50:12+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Does anyone have LangTool with PS3 support? Latest release from GitHub doesn't work with lng files from PS3 version of GZ  First i thought it was issue related to big endian in ps3 version of file (opposing to of little endian on pc) but looking at the source of LangTool there is already support for big endian. Does anybody have a clue?
## Post #1123
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-02-22T07:14:52+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> Got some pretty good camera mod results going:
https://www.youtube.com/watch?v=d3ZWM31fRl8

Download:
http://www.nexusmods.com/metalgearsolidvtpp/mods/258

Though I think the scripting behind it is pretty primitive at the moment. I can't find enough of the 'PlayerStatus' variables, aside from the basics (STAND,SQUAT,CRAWL,BEHIND). Hopefully we can find new variables out and improve on this system so that we can add more camera state over-rides such as the currently missing CQC-Hold camera state.

Nice, I was taking the same approach of separate settings switched on playerstatus, you can see it in my mods InfMain:UpdateCameraAdjust, disabled, but there, though as it's using my other mod systems it's not quite applicable.

I would have released it in r128 but wasn't happy with some of my realtime editing in respect to switching all the status, and had other technical issues related to saving, trying to be too fancy I guess. Plus it's been my general policy to not do a feature if the community has one that can work along side my mod. In the case of the free cam it was a case of me already having been working on it for a week or so, and it being a different enough feature even though it was a variant of the same script function. I did contact mxmstr at release with this same basic explanation.

Anyway I'm happy to leave it unused since you've got something pretty good out yourself.

There is an issue of getting these separate-module/Update mods to install nice, ThreeSocks3 who provided the example mxmstr based his setup on did also provide a batch file with his mods that patches Tpp.lua and TppMain without conflicting with other ones, and since it's patching wouldn't be affected by a game update (beyond having to re-run), and likewise works with the modified files in my mod. 
The downside is it's an extra step before installing the files itself.

Ideally I should set up my input and menu modules so other mods could use them so to not reinvent the wheel, not that they're particularly great, but it would run into the same issue of patching parts of scripts.

Again, ideally snakebite would be able to handle this step but unfortunately Topher is not actively developing snakebite. snakebite is however open source and he's said he's happy for anyone to carry on, but I haven't mustered up the enthusiasm to do anything with it.

Anyway, some actual info:

Other flags for playerstatus according to the exe
STAND
SQUAT
CRAWL
NORMAL_ACTION
PARALLEL_MOVE
IDLE
GUN_FIRE
GUN_FIRE_SUPPRESSOR
STOP
WALK
RUN
DASH
ON_HORSE
ON_VEHICLE
ON_HELICOPTER
HORSE_STAND
HORSE_HIDE_R
HORSE_HIDE_L
HORSE_IDLE
HORSE_TROT
HORSE_CANTER
HORSE_GALLOP
BINOCLE
SUBJECT
INTRUDE
LFET_STOCK
CUTIN
DEAD
DEAD_FRESH
NEAR_DEATH
NEAR_DEAD
FALL
CBOX
CBOX_EVADE
TRASH_BOX
TRASH_BOX_HALF_OPEN
INJURY_LOWER
INJURY_UPPER
CURE
CQC_CONTINUOUS
BEHIND
ENABLE_TARGET_MARKER_CHECK
UNCONSCIOUS
PARTS_ACTIVE
CARRY
CURTAIN
VOLGIN_CHASE

Haven't explored those values in detail

bitflags for PlayerPad

DECIDE=0,
STANCE=1,
DASH=2,
HOLD=3,
FIRE=4,
RIDE_ON=5,
RIDE_OFF=5,
ACTION=5,
MOVE_ACTION=5,
JUMP=5,
RELOAD=6,
STOCK=7,
ZOOM_CHANGE=7,
VEHICLE_CHANGE_SIGHT=7,
MB_DEVICE=8,
CALL=9,
INTERROGATE=9,
SUBJECT=10,
UP=11,
PRIMARY_WEAPON=11,
DOWN=12,
SECONDARY_WEAPON=12,
LEFT=13,
RIGHT=14,
VEHICLE_LIGHT_SWITCH=14,
VEHICLE_TOGGLE_WEAPON=14,
CQC=15,
SIDE_ROLL=16,
LIGHT_SWITCH=17,
EVADE=18,
VEHICLE_FIRE=19,
VEHICLE_CALL=20,
VEHICLE_DASH=21,
BUTTON_PLACE_MARKER=22,
PLACE_MARKER=22,
ESCAPE=23,--tex Not in PlayerPad, own name

dash,hold,fire,subject and cqc aren't listed in exe for whatever reason but are used at different points in script. I worked through it all manually anyway back when, both printing out the value of the flags and testing flags that would fall in the gaps.

The numbers on the list are the pow values, so do 2^flag index (except for ALL obviously) if for whatever reason you want to use a direct value, though not much use since they mostly seem accounted for.

ESCAPE (my naming) is a bit odd, figured it out manually from the next logical value/outputting scannedbuttons, but there's no actual matching use of it I could see in the scripts, it's not strictly the Pause binding since it's still set on press even if Pause is rebound.

2^24 is set on both quick dive and RS click, which has so much bound to it that I can't really figure out what it's supposed to signify.

Testing 2^25 to 2^32(assuming uint) didn't come up with anything further, though it can't remember how exhaustively I tested those (it's been a while)

You'll see a bunch of the flags use the same values, which means there's no way to differentiate on those when pressed.

The naming of the functions band/bor/bxor and the rest in the exe suggest fox engine is using an implementation of bitops [http://bitop.luajit.org](http://bitop.luajit.org)

STICK_L
STICK_R
TRIGGER_L
TRIGGER_R
TRIGGER_ACCEL
TRIGGER_BREAK
are used with other functions/variables/not used with scannedButtons

An updated version of my deminification attempts is on my nexus page:
[http://www.nexusmods.com/metalgearsolid ... 3D45&pUp=1](http://www.nexusmods.com/metalgearsolidvtpp/mods/45/?tab=2&navtag=http%3A%2F%2Fwww.nexusmods.com%2Fmetalgearsolidvtpp%2Fajax%2Fmodfiles%2F%3Fid%3D45&pUp=1)
## Post #1124
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2016-02-22T13:01:26+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> ...
This is one of the most usefuls posts posted in this topic. 

This list of PlayerStatus states massively expands the potential of my 'camera framework'. And I didn't know SnakeBite was discontinued, i'll be sure to switch to ThreeSocks3's installation method to support yours, his, and other future script mods. And I'll definitely be crediting where is due.

Thank you very much for the help and info.
## Post #1125
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2016-02-23T07:13:13+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

It's a bit of a long shot to ask, but does anyone know how to make models that appear invisible in normal gameplay inside of an fmdl become visible? I'm talking about items like Skull Face's mask and Venom Snake's scarf. Swapping their models onto the player has these models invisible but they are triggered to appear during cutscenes (Skull Face's mask generally appears in Scenes with him and Venom Snake's face scarf pops up when using the scarf model during the mission where you rescue Kaz).
## Post #1126
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2016-02-24T14:19:23+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Has anybody found a way to possibly fix the issue of Kaz/CP talking over Cassette Tapes? It didn't happen in GZ. I've been looking for evidence of a radio order/sequence for what audio type overtakes what (Motherbase Radio, CP Radio, Cassette Tapes), but I've found nothing other than CpRadioSeqCommon.json which is identical to GZ's one.

EDIT:
I've found some lines of code in Tpp/start.lua

"VoiceCommand:SetVoiceTypePriority( int, int, int )"

Although i've had no success modifying it. Putting in GZ's table of these doesn't even do the trick.
## Post #1127
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-02-25T01:46:31+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I was gonna wait 'til I had proof of concept, but I'm kinda stuck for progress at the moment. Anyway, I got audio swapping somewhat working. Prepare for a lot of words....

Sound is stored in sbp files. Sbp files can be unpacked with GzsTool. Upon unpacking you will have 3 files. A bnk file, an sab file and an stp file.
The sab and stp files are supposed to be related to 3D models somehow, but oddly enough the stp file contains wwise audio files.

The bnk file is a Wwise audio container file. It also contains wwise sound files. There doesn't seem to be a clear pattern between which files are contained in the bnk file and which are countained in the stp file.

Now we get to the fun part. You'll need [RavioliGameTools](http://www.scampers.org/steve/sms/other.htm).

The first thing you're going to want to do is use the RExtractor to get all of the sound files. Select the bnk file as your input file and select the "Allow scanning of unknown files" option. Allow it to extract all of the files somewhere. You'll end up with a bunch of wwise files. Keep track of how many of these files were extracted! Once you've got the number of audio files that were extracted memorized or written down, you can delete all of these files.

Next, go to the original sbp file that you unpacked the bnk, sab and stp files from. Rename the extension from sbp to bnk. Select the file you renamed from sbp to bnk file in RExtractor as the input file. This time, choose the "Allow scanning of unknown files" option and the "Convert sounds to Wave" option. Extract these files somewhere other than you extracted the other files. These are all of the sounds in an audible format.

At this point you can rename the renamed bnk file back to sbp. Now you're going to want to open up RScanner and do a new scan on the sbp file. Choose "Extract All" and extract them to somewhere besides the other two folders. Now you have all of the sounds in an audible format (wav) and their original format (wwise)!

Now you're going to need to repeat these last two steps (you don't need to open the sbp with GzsTool to get the wwise files from the unpacked bnk file. You do need to get the wwise files and wav files from the sbp though) to get the sounds that you want to swap in.

Once you've found them, you can swap them in -- but wait! There's a catch (or a few catches...)! The size of the file you're swapping in MUST be smaller than the file you're replacing! If that doesn't restrict you enough, you also can't do a straight swap with any of the files that came from the bnk file! The number you wrote down with the amount of files that came from the bnk file can tell you which files came from the bnk file, and which came from the stp file. If you extracted 75 wwise files from the bnk file, that means the files File0001-File0075 came from the bnk file. Don't touch these files yet, there's a way to swap them, but you'll get mixed results at best, and it's much more complicated than doing the files that came from the stp file.

So how do we swap the stp files? This is the simple part. Take the wwise files that you want to inject, and rename it to the wwise file you want to replace. After that, just drag it into the folder that contains the file you want to replace and overwrite it. Done! Repeat for each sound you're replacing.

Now we get to the wwise files that came from the bnk. This is the part I haven't been able to figure out completely. I have a semi-working method. By semi-working, I mean it works with some sounds and doesn't work with others. I haven't figured out why.

Anyway, this is what you need to do. Open up HxD. Now open up both the file you want to inject and the file you're replacing in the HxD.
Look for a series of characters that looks like this: ¢R....X..<....@DDs

Note that the X can be any character. The character that's in place of the X is where you're going to want to start highlighting. Highlight from (including) the X all the way to the bottom of both files. Select to copy from the file you're injecting and paste it over the file you're replacing. Save the file you're replacing. Done! You've injected your file. Note that this has mixed results, and even if you've done everything correctly the audio might not play in-game. Now, HxD will have created a bak backup file of the file you just edited in the folder the file was in. Delete the bak file.
Repeat this process for each file from the bnk you want to replace.

Ok. We've now replaced all our audio files, how do we get it back together? Open RScanner and select the sbp file you were injecting to. Select "Combine" and select the folder that contains all of the files from the sbp you were injecting to. It will probably tell you that it needs to add padding to the files you injected to make them the correct size. Allow it to do so. Done! You're file is repacked with your edits.

Now, place the sbp back where you got it from and rebuild whatever chunk it came from. Start the game, and do whatever action that causes the sound to play. If the sound came from the stp file, you should hear your edits! If it came from the bnk file, you might hear your edits!

This is what I've figured out so far. If anybody wants to try to help out with finding a reliable way to swap the audio files stored in bnk files, it would be appreciated.
## Post #1128
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2016-02-25T02:16:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> ...
Wow, nice. What kind of swaps have you tried and has there been any kind of pattern to what kinds of sounds worked and didn't? Does swapping music work this way?
## Post #1129
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2016-02-25T03:12:31+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> -snip-

Man this is some great information. Even if it's not used to replace the sounds in-game at least there's now information on how to extract the sounds from the game which will come in handy.
## Post #1130
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-02-25T03:51:23+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> Wow, nice. What kind of swaps have you tried and has there been any kind of pattern to what kinds of sounds worked and didn't? Does swapping music work this way?
So far I've just tried playing around with voice files. I was putting some of Quiet's voice clips over Snake's to see if it would work. 

There's no clear pattern to what sounds work with sounds from the bnk file that I've been able to figure out so far. I switched one of Quiet's hums with Snake's "hands up," "don't move," "speak," and "talk" voice clips. It seemed to work fine with "hands up," but the rest I just got an odd, low sound. I'm going to continue looking into this to see if there's a way to make all of the clips work.

I haven't tried music yet; I'll have to get back to you on that.
## Post #1131
- Username: Solidcal
- Rank: beginner
- Number of posts: 26
- Joined date: Thu Apr 30, 2015 4:05 am
- Post datetime: 2016-02-25T22:30:39+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Nice to see some new stuff anf finds popping up lately. Gonna add to this by saying I am going through trying to find which files within chunk3 that contain the models for the optional cutscenes. So the fpks I found so far are:

f30050_d100 - Quiet Rain scene
f30050_d101 - Quiet after parasite soldier trying to stab him scene
f30050_d8010 - Flashback phantom Paz storyline intro (Basically the scene that plays where you figure out paz is "alive". It contains the Medic with a covered up masked face too as well as chico, gz paz and so on.)

Still trying to find more. But so far those are the three optional cutscenes I can find that happen on motherbase. Still trying to find the Low morale scene and any others.
## Post #1132
- Username: szczuru
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Sat Sep 26, 2015 5:38 am
- Post datetime: 2016-02-26T11:10:37+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hi guys, does anybody know where in files from GZ i can find texture of this sign?
## Post #1133
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2016-02-27T01:34:42+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

If anybody from this thread was interested in downloading my "Camera Framework" mod but didn't because of Infinite Heaven conflict, it is now updated to work with any script mod like it. (along with some bug fixes and a no cqc cam)

[http://www.nexusmods.com/metalgearsolidvtpp/mods/258/](http://www.nexusmods.com/metalgearsolidvtpp/mods/258/)
## Post #1134
- Username: crash!
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Mon Feb 08, 2016 8:15 am
- Post datetime: 2016-02-27T07:05:50+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Looks like an old friend has risen with an.... [amazing(?) mod](http://www.nexusmods.com/metalgearsolidvtpp/mods/263/?)
## Post #1135
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2016-02-27T11:55:51+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from crash!
>
> Looks like an old friend has risen with an.... amazing(?) mod

Hey, Im not complaining, least now we can be true firemen with a dalmation
## Post #1136
- Username: SuperflyJohnson
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Thu Feb 04, 2016 7:11 am
- Post datetime: 2016-02-28T21:08:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Has anyone been able to swap D-Horse with anything? Everything I try shows up for a couple of seconds in the mission loadout screen then just crashes the game.
## Post #1137
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2016-02-28T22:02:31+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from SuperflyJohnson
>
> Has anyone been able to swap D-Horse with anything? Everything I try shows up for a couple of seconds in the mission loadout screen then just crashes the game.

What models are you trying to swap it with? The model probably is missing some bones that are necessary for D-Horse to function which would probably be why it's crashing.
## Post #1138
- Username: SuperflyJohnson
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Thu Feb 04, 2016 7:11 am
- Post datetime: 2016-02-29T01:39:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I wanted a magnificent Ocelot steed. But I guess you are right since I just swapped it with a different horse model and the game allowed it.
## Post #1139
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2016-02-29T04:28:39+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from SuperflyJohnson
>
> I wanted a magnificent Ocelot steed. But I guess you are right since I just swapped it with a different horse model and the game allowed it.
Different Horse model? You mean a D-Horse DLC model? I don't know of any wild/enemy horses in the game.
## Post #1140
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-02-29T09:45:59+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I made a short video of my sound modding progress if anyone's interested in that.
[https://www.youtube.com/watch?v=ErjHvFkPNmw](https://www.youtube.com/watch?v=ErjHvFkPNmw)

Also, update on the game's songs. They can be extracted in the same way you can extract the sounds from an sbp, but the songs are stored in wem files. The wem files also only contain a single wwise file which contains the song. I haven't tried swapping any of them yet, but I imagine it should work in the same way it does for the sbp files.
## Post #1141
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2016-02-29T14:15:16+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> I made a short video of my sound modding progress if anyone's interested in that.
https://www.youtube.com/watch?v=ErjHvFkPNmw

Also, update on the game's songs. They can be extracted in the same way you can extract the sounds from an sbp, but the songs are stored in wem files. The wem files also only contain a single wwise file which contains the song. I haven't tried swapping any of them yet, but I imagine it should work in the same way it does for the sbp files.

I was going to attempt an Ocelot sound mod, but stopped the moment I realized that most of his sound clips from MGO that corresponded with Snake's quotes had a larger filesize. I really was disappointed, it would be awesome to have an Ocelot voice for when I use his MGO model.
## Post #1142
- Username: SuperflyJohnson
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Thu Feb 04, 2016 7:11 am
- Post datetime: 2016-02-29T22:05:03+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
>  Different Horse model? You mean a D-Horse DLC model? I don't know of any wild/enemy horses in the game.

It let me swap D-Horse with the furicorn model. There are zebra and donkey models but they crash the game too.
## Post #1143
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-03-04T07:23:45+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Alright! I got sound mods in the bnk files working (seemingly) perfect now!

My previous instructions for modding the sounds from the bnk files still hold true, but if you want them to sound right, there's an additional step.

Following my previous instructions for modding the bnk files via HxD will inject the sounds, but they will sound distorted in-game. If you want them to sound proper, you need to replace the four bytes located at 0x50-0x53 in the sound you want to replace with the four bytes at the same location in the file you're replacing it with. After that your sounds should sound right! Note that this only applies to voice clips. Sound effects seem to use a different format.

Hopefully we can figure out how to replace sound files with larger files than the ones we're replacing eventually, but I haven't been able to come up with anything on that end so far.
## Post #1144
- Username: SecaProject
- Rank: beginner
- Number of posts: 31
- Joined date: Wed Apr 11, 2012 1:48 am
- Post datetime: 2016-03-07T23:51:58+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> Alright! I got sound mods in the bnk files working (seemingly) perfect now!

My previous instructions for modding the sounds from the bnk files still hold true, but if you want them to sound right, there's an additional step.

Following my previous instructions for modding the bnk files via HxD will inject the sounds, but they will sound distorted in-game. If you want them to sound proper, you need to replace the four bytes located at 0x50-0x53 in the sound you want to replace with the four bytes at the same location in the file you're replacing it with. After that your sounds should sound right! Note that this only applies to voice clips. Sound effects seem to use a different format.

Hopefully we can figure out how to replace sound files with larger files than the ones we're replacing eventually, but I haven't been able to come up with anything on that end so far.

If you need info about modify sbp files, I can help you a lot.
## Post #1145
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-03-08T14:29:47+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from tbg
>
> If you need info about modify sbp files, I can help you a lot.
If you have any additional info on modifying sbp files, I'd love to hear it!
## Post #1146
- Username: georgesears
- Rank: beginner
- Number of posts: 25
- Joined date: Wed Mar 09, 2016 10:19 pm
- Post datetime: 2016-03-11T11:42:30+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Poisonedmods
>
> 
your not the game sync with the server every 5-10 min which is something i relized well trying make a trainer DLL injection is working for cheats but things like infinite health are kept servers side ammo is not nor is silencer duration so adding things like textures a large part of rejection is do to the server trying to sync going thats not right. so far im not aware if there any form of anti cheat or flagging similiar to GTA5 but people have been isolated on base game if they where cheating to a sort of cheaters pool

Hello, about dll injection
i was trying to rip some model via Ninja Ripper, and done so pretty succsessfully, until Steam update on march 8. Now game just won't start with Ripper in dx11 wrapper mode, which puts d3d11.dll in .exe directory. Intruder mode not working either now. But ripping models from MGO is far easier, than trying to export them via Cra0's FEMS. I just can't set it working even for singleplayer models...
Now even GZ refuses to work with ripper involved. Is there any solution to this? Thus don't want to cheat or anything, i'm just want to get characters' models, especially female avatars' faces...
## Post #1147
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2016-03-15T17:14:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

For the new Quiet update, add this line to your dictionary.txt before unpacking the mgo chunk0 for the outfit:
/Assets/mgo/pack/player/parts/plparts_qui1_main

Also, some other lines that you can add to your dictionary.txt for mgo:
/Assets/mgo/pack/player/avatar/deform/pldfrm_avm0_type0_v00
/Assets/mgo/pack/player/avatar/deform/pldfrm_avm0_type1_v00
/Assets/mgo/pack/player/avatar/deform/pldfrm_avm0_type2_v00
/Assets/mgo/pack/player/avatar/deform/pldfrm_avm0_type3_v00
/Assets/mgo/pack/player/avatar/deform/pldfrm_avm0_type4_v00
/Assets/mgo/pack/player/avatar/deform/pldfrm_avm0_type5_v00
/Assets/mgo/pack/player/avatar/deform/pldfrm_avm0_type6_v00
/Assets/mgo/pack/player/avatar/deform/pldfrm_avm0_type7_v00
/Assets/mgo/pack/player/avatar/deform/pldfrm_avm1_type0_v00
/Assets/mgo/pack/player/avatar/deform/pldfrm_avm1_type1_v00
/Assets/mgo/pack/player/avatar/deform/pldfrm_avm1_type2_v00
/Assets/mgo/pack/player/avatar/deform/pldfrm_avm1_type3_v00
/Assets/mgo/pack/player/avatar/deform/pldfrm_avm1_type4_v00
/Assets/mgo/pack/player/avatar/deform/pldfrm_avm1_type5_v00
/Assets/mgo/pack/player/avatar/deform/pldfrm_avm1_type6_v00
/Assets/mgo/pack/player/avatar/deform/pldfrm_avm1_type7_v00
/Assets/mgo/pack/player/avatar/face/plfova_avm0_type0_v00
/Assets/mgo/pack/player/avatar/face/plfova_avm0_type1_v00
/Assets/mgo/pack/player/avatar/face/plfova_avm0_type2_v00
/Assets/mgo/pack/player/avatar/face/plfova_avm0_type3_v00
/Assets/mgo/pack/player/avatar/face/plfova_avm0_type4_v00
/Assets/mgo/pack/player/avatar/face/plfova_avm0_type5_v00
/Assets/mgo/pack/player/avatar/face/plfova_avm0_type6_v00
/Assets/mgo/pack/player/avatar/face/plfova_avm0_type7_v00
/Assets/mgo/pack/player/avatar/hair/plfova_avm_hair_a0_v00
/Assets/mgo/pack/player/avatar/hair/plfova_avm_hair_a0_v01
/Assets/mgo/pack/player/avatar/hair/plfova_avm_hair_b0_v00
/Assets/mgo/pack/player/avatar/hair/plfova_avm_hair_b0_v01
/Assets/mgo/pack/player/avatar/hair/plfova_avm_hair_c0_v00
/Assets/mgo/pack/player/avatar/hair/plfova_avm_hair_c0_v01
/Assets/mgo/pack/player/avatar/deform/pldfrm_avf0_type0_v00
/Assets/mgo/pack/player/avatar/deform/pldfrm_avf0_type1_v00
/Assets/mgo/pack/player/avatar/deform/pldfrm_avf0_type2_v00
/Assets/mgo/pack/player/avatar/deform/pldfrm_avf0_type3_v00
/Assets/mgo/pack/player/avatar/deform/pldfrm_avf0_type4_v00
/Assets/mgo/pack/player/avatar/deform/pldfrm_avf0_type5_v00
/Assets/mgo/pack/player/avatar/deform/pldfrm_avf0_type6_v00
/Assets/mgo/pack/player/avatar/deform/pldfrm_avf0_type7_v00
/Assets/mgo/pack/player/avatar/face/plfova_avf0_type0_v00
/Assets/mgo/pack/player/avatar/face/plfova_avf0_type1_v00
/Assets/mgo/pack/player/avatar/face/plfova_avf0_type2_v00
/Assets/mgo/pack/player/avatar/face/plfova_avf0_type3_v00
/Assets/mgo/pack/player/avatar/face/plfova_avf0_type4_v00
/Assets/mgo/pack/player/avatar/face/plfova_avf0_type5_v00
/Assets/mgo/pack/player/avatar/face/plfova_avf0_type6_v00
/Assets/mgo/pack/player/avatar/face/plfova_avf0_type7_v00
/Assets/mgo/pack/player/avatar/hair/plfova_avf_hair_a0_v00
/Assets/mgo/pack/player/avatar/hair/plfova_avf_hair_a0_v01
/Assets/mgo/pack/player/avatar/hair/plfova_avf_hair_b0_v00
/Assets/mgo/pack/player/avatar/hair/plfova_avf_hair_b0_v01
/Assets/mgo/pack/player/avatar/hair/plfova_avf_hair_c0_v00
/Assets/mgo/pack/player/avatar/hair/plfova_avf_hair_c0_v01
/Assets/mgo/pack/player/parts/plparts_avatar_man
/Assets/mgo/pack/player/parts/plparts_avatar_woman
## Post #1148
- Username: crash!
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Mon Feb 08, 2016 8:15 am
- Post datetime: 2016-03-15T23:27:23+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

lmao whats up with this AnonymousSergeant guy over at Nexus? also. i doubt it but, any chances of being able to port the knife from the MP to SP?
## Post #1149
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2016-03-16T10:27:58+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from crash!
>
> lmao whats up with this AnonymousSergeant guy over at Nexus? also. i doubt it but, any chances of being able to port the knife from the MP to SP?
Totally  not Tao Lung, he just happens to be the only person on the planet to dub Tao Lung "a great modder", in broken English too, might I add.

But yeah from what I've experienced around MGS5's files, I don't believe we're gonna get that knife in. I always felt like there was this large portion of direct player scripting that's hidden somewhere deep in the game that we've never found (like where the hell is the script that manages which of Snake's animations the game is requesting for suited states in script? There's so much missing shit it just stinks of meagre traces of missing script), but anyways, assuming you'd understand MGS5's scripting enough to miraculously get the game to logically expect a knife to be in place and function as in MGO, there's also more issues to come, like missing animations in the singleplayer anim container, missing sounds, etc.
## Post #1150
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-03-16T12:16:46+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> Totally  not Tao Lung, he just happens to be the only person on the planet to dub Tao Lung "a great modder", in broken English too, might I add.

But yeah from what I've experienced around MGS5's files, I don't believe we're gonna get that knife in. I always felt like there was this large portion of direct player scripting that's hidden somewhere deep in the game that we've never found (like where the hell is the script that manages which of Snake's animations the game is requesting for suited states in script? There's so much missing shit it just stinks of meagre traces of missing script), but anyways, assuming you'd understand MGS5's scripting enough to miraculously get the game to logically expect a knife to be in place and function as in MGO, there's also more issues to come, like missing animations in the singleplayer anim container, missing sounds, etc.
A lot of the game is coded directly into the exe, which seems to contain everything that's missing. Some of the functions you can piece back together by searching through the exe with a hex editor, but for entire files that are missing, it'd be unlikely you could find them.
## Post #1151
- Username: volfin
- Rank: ultra-veteran
- Number of posts: 452
- Joined date: Sun Jul 06, 2014 1:30 pm
- Post datetime: 2016-03-16T23:11:45+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from georgesears
>
> Poisonedmods wrote:
your not the game sync with the server every 5-10 min which is something i relized well trying make a trainer DLL injection is working for cheats but things like infinite health are kept servers side ammo is not nor is silencer duration so adding things like textures a large part of rejection is do to the server trying to sync going thats not right. so far im not aware if there any form of anti cheat or flagging similiar to GTA5 but people have been isolated on base game if they where cheating to a sort of cheaters pool

Hello, about dll injection
i was trying to rip some model via Ninja Ripper, and done so pretty succsessfully, until Steam update on march 8. Now game just won't start with Ripper in dx11 wrapper mode, which puts d3d11.dll in .exe directory. Intruder mode not working either now. But ripping models from MGO is far easier, than trying to export them via Cra0's FEMS. I just can't set it working even for singleplayer models...
Now even GZ refuses to work with ripper involved. Is there any solution to this? Thus don't want to cheat or anything, i'm just want to get characters' models, especially female avatars' faces...

Copy the dxgi.dll from C:\Windows\System32 directory to the MGS_TPP Directory where Ninja ripper places the d3d11.dll. Worked for me on Win 10 at least.
Side effect is no steam overlay.
## Post #1152
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-03-18T09:36:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> It's a bit of a long shot to ask, but does anyone know how to make models that appear invisible in normal gameplay inside of an fmdl become visible? I'm talking about items like Skull Face's mask and Venom Snake's scarf. Swapping their models onto the player has these models invisible but they are triggered to appear during cutscenes (Skull Face's mask generally appears in Scenes with him and Venom Snake's face scarf pops up when using the scarf model during the mission where you rescue Kaz).
I think it's the .fv2 files aka fova aka Form Variations:
[https://youtu.be/6bEV3P564ps](https://youtu.be/6bEV3P564ps)
In the video the debugshiz just sets vars.playerPartsType = PlayerPartsType.HOSPITAL, not new stuff, though I don't think there's been much actual discussion about it.

The engine aparently monitoring when the variable is set (and similar vars) so it can do the model change the same as mission prep would (or the same as prologue mission in the case of this model).

The engine must have an internal list for enum to file pack and .parts file.

I did hunt around to see if the parts file could be set for the player model from script - since that's what defines the fmdl and related files that are used, the enemy soldier system does (one main one and an alternate), and the hostages can be set more or less individually if needed. 

There are the Player.RegisterPartsPackagePath calls in start.lua, but as it's incomplete and there is no apparent effect on swapping them around I'm guessing it's orphaned code.

One function that looked promising was Player.SetPartsInfoAtInstanceIndex which is referenced in the exe but has no use cases in the scripts to learn from. Passing it a parts path like the soldier fova functions take shows some interesting behavior where the player model will disappear in like setting the player vars, but unfortunately when it returns the model hasn't been changed.

One frustrating thing is how special-case most of the script>engine calls are for things that are seem just a step away from something more generic/flexible.

So, back to the original point: .fv2/fova files - plparts_hospital.fpk seems to be the only player parts pack with multiple .fv2 files. In the prologue mission the function Player.ApplyFormVariationWithFile is used change to these fovas, it's the only example of it's use in the scripts.
That said, both male and female parasite suit fpks have two fovas, but testing them shows no apparent change.

If you look in data1.dat\\Assets\tpp\level_asset\chara\enemy\Soldier2FaceAndBodyData.lua - use this: [http://pastebin.com/96U6Xp61](http://pastebin.com/96U6Xp61) as it's a slightly more updated version from my deminified luas where I've added some notes. 
You'll see face and body ids index into tables of .fv2 paths along side the fpk that includes them, and in the case of faces (which the dd player model type uses) it indexes to face, face decoration, hair file, and hair decoration .fv2 files/fpks.
The packs/files themselves will likely be familiar to those who have poked around them manually.

I still don't understand how a fmdl maps to a fv2, and there's no parts files that I can find that reference them, it may just be in the specific handling function for head fova fpks, or yet more tables in the exe. Then you have stuff like glasses which are separate fmdls in the same fova fpk.

The .fv2 file itself? I guess it's some kind of mask into a specific fmdls mesha and material definitions? I don't know, I'm weak on file formats and modelling in general, someone else will have to take the reigns, though I'd like to learn more.

Also which fmdl is the hideo head? Would be a nice reference point since it seems unique? (But then unlike others the facefova indices listed are unexpected)  If anyone has their own notes on different files it would be nice to try and cross reference.
## Post #1153
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-03-18T17:09:26+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Using the mentioned cutscene fovas: [https://youtu.be/xTDMDrVo4Ec](https://youtu.be/xTDMDrVo4Ec)
You'll see the tiger camo is part of those fovas settings, and they're specifically for the scarf model/sna0_main1 , giving the fova function a fova that doesn't apply to the current player model will crash the game.
## Post #1154
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2016-03-18T17:54:00+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> I think it's the .fv2 files aka fova aka Form Variations:
-snip-

Using the mentioned cutscene fovas: https://youtu.be/xTDMDrVo4Ec
You'll see the tiger camo is part of those fovas settings, and they're specifically for the scarf model/sna0_main1 , giving the fova function a fova that doesn't apply to the current player model will crash the game.

Ah, I had some suspicions that the fv2 files had something to do with it since the dds2_main0 fv2 file I looked in had texture hashes inside of the file but I had no idea how I could apply them to the model. How did you manage to apply them by the way? Using the soldier lua you linked? If so I'll look into it.

Also, the Hideo Kojima head is stored somewhere in chunk0\Assets\tpp\pack\fova\common_source\chara\cm_head\face. It's one of the ones that say cm_unq but I didn't check all of them.

By the way, you're awesome. While model swaps are great and all your mod extends the life of the game a lot especially with the new warp camera.

EDIT: Reread what you said more thoroughly, and from what I can gather, you managed to apply the changes by using the function Player.ApplyFormVariationWithFile from the prologue. Does this mean that scripting is necessary to do this? I have no problem with that but that does mean that making certain items visible for player models does become a bit of a pain when swapping models.
## Post #1155
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-03-19T06:39:40+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Yeah, sorry, Player.ApplyFormVariationWithFile(fovaFilePath) is the one.

For my test, as mentioned hospital already had fova files in it's pack, for scarf I just grabbed the fova files from the cutscene fpk (sna0_main1_v00.fv2 is the mask) and jammed them in the plparts_normal_scarf.fpk

There's a couple of downsides: 
If there's a player emblem will change to the default emblem, not that big of a deal.

Player fova is reset on any load (mission start, checkpoint restart). A bigger deal.

I know you're capable enough to use that to start testing stuff, so what I intend to do:

I have a method in mind that might mean all a model swap needs to provide is a lua file with the same name as the plparts fpk which will contain simple info about the fova (path + description), and bundle the fova in the plparts pack. Hopefully it actually pans out.

And I would have to work out saving (easyish with my current setup) and restoring (a matter of finding the right place in execution to run it). Though this will be complicated a bit to allow the user to change model swap pack at will.

That of course does does mean relying on infinite heaven, but an independent system would essentially have to do what inf heaven would be doing anyway: button input>menu/data file>menu selection of fova etc.

Would that cover what you had hoped to be able to do? If not what did you have in mind?
## Post #1156
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2016-03-19T08:36:31+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> Yeah, sorry, Player.ApplyFormVariationWithFile(fovaFilePath) is the one.

For my test, as mentioned hospital already had fova files in it's pack, for scarf I just grabbed the fova files from the cutscene fpk (sna0_main1_v00.fv2 is the mask) and jammed them in the plparts_normal_scarf.fpk

There's a couple of downsides: 
If there's a player emblem will change to the default emblem, not that big of a deal.

Player fova is reset on any load (mission start, checkpoint restart). A bigger deal.

I know you're capable enough to use that to start testing stuff, so what I intend to do:

I have a method in mind that might mean all a model swap needs to provide is a lua file with the same name as the plparts fpk which will contain simple info about the fova (path + description), and bundle the fova in the plparts pack. Hopefully it actually pans out.

And I would have to work out saving (easyish with my current setup) and restoring (a matter of finding the right place in execution to run it). Though this will be complicated a bit to allow the user to change model swap pack at will.

That of course does does mean relying on infinite heaven, but an independent system would essentially have to do what inf heaven would be doing anyway: button input>menu/data file>menu selection of fova etc.

Would that cover what you had hoped to be able to do? If not what did you have in mind?

That should be able to cover it. If there were a method to load it automatically that would be better but I don't know how that would be able to be done. I don't mind using infinite heaven though, considering I already use it anyway.

Also, did a quick test with it for the Medic's outfit and it worked. dds0_main2_v01.fv2 brought up the clean medical glove he used when operating on Paz [http://i.imgur.com/wMlSSnB.jpg](http://i.imgur.com/wMlSSnB.jpg)

Now I just need to find the fv2 that loads up the model for the gloves that are present on the model since that's the reason I posted that in the first place. Thanks a lot Tex, this can potentially solve a issue me and another user were trying to fix for a couple of months now.

EDIT: Found it, it was simply the dds0_main2_v05 fova file. [http://i.imgur.com/5scmnqg.jpg](http://i.imgur.com/5scmnqg.jpg)

Thanks a lot Tex. Can't wait for your fova loading method with Infinite Heaven.
## Post #1157
- Username: artworkplay
- Rank: veteran
- Number of posts: 116
- Joined date: Thu Oct 06, 2011 4:40 am
- Post datetime: 2016-03-19T09:14:41+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Would anyone know where the latest fpk dictionary for MGO3 can be downloaded?
## Post #1158
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-03-22T10:02:55+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Getting there:
[https://youtu.be/Kx2_cjmPEG0](https://youtu.be/Kx2_cjmPEG0)

Model swapped the main afgh soldiers model and using the related fovas.
The soldier game object uses a different system to show/hide the enemy prep equipment though (helmet/cap,nvg/nvg mount,gas mask,light body armor).
A workaround would be if someone could create a tool to make fovas, and have it spit out fovas of all the combinations of submeshes/textures, throw that into a table for infinite heaven to manage.


While most of the fovas are referenced in the script for the body system (in the prior mentioned Soldier2FaceAndBodyData.lua), there's a bunch that aren't: svs0_quip0_v00 etc show un-enemy prepped models with different camos,  svs0_quip1_v01 shows no difference from svs0_quip1_v00 for some reason.

The equivalent named fovas applied to the Africa soldier model doesn't seem to be along the same lines, it doesnt hide any meshes:
[https://i.imgur.com/5JbWevc.jpg](https://i.imgur.com/5JbWevc.jpg)

And the africa model has texture loading issues: [https://i.imgur.com/YJZUqOL.jpg](https://i.imgur.com/YJZUqOL.jpg)
loading a level that loads the textures itself (africa, or mother base with DD suit set to africa soldiers) fixes it, and the textures will remain correct on going back to ACC. I don't know why africa soldiers would have this issue and soviet not.


Also has a proper fix to the first-person view been created? I don't think the method I saw mentioned - of jam full model into head, null body - is going to work for this.
## Post #1159
- Username: TruckerHatRyan
- Rank: n00b
- Number of posts: 11
- Joined date: Sun Oct 25, 2015 2:35 am
- Post datetime: 2016-03-22T20:58:13+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> Also has a proper fix to the first-person view been created? I don't think the method I saw mentioned - of jam full model into head, null body - is going to work for this.

Unfortunately no. Unless someone has devised of a method that has not been shared, it is still limited to the typical nulling/slotting methods to bypass first person issues. Hopefully someone can figure something out.

Also excellent work Tex, you sir are a genius.
## Post #1160
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2016-03-22T21:04:22+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> Also has a proper fix to the first-person view been created? I don't think the method I saw mentioned - of jam full model into head, null body - is going to work for this.

Nah, none that I can think of anyway. I can compare the MGO Ocelot and the original model in a hex editor to see what I can find though.
## Post #1161
- Username: AliceJxas
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Wed Mar 23, 2016 11:01 am
- Post datetime: 2016-03-23T03:32:48+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hey! I'm kind of a noob when it comes to modding, and I usually just examine other people's mods to figure things out or lurk on forums like this to research how to do things. I'm interested in trying to mod some stuff in TPP but I'm in a little over my head. So this time I figured I'd ask some questions to get a head start and be productive instead of waiting for someone else to solve my problems. 

One thing I'm interested in is modifying the properties of weapons and items, and right now I'm specifically looking at how to use the Sneaking Suit model while having the properties of the Raiden Uniform or the Parasite Suit. From their appearance I assume both of them are made up of a single model and can't be replaced simply, so I wanted to ask about modifying the properties directly. First of all, from what you more experienced modders have seen so far, would it even be possible? If it could be, can someone point me in a direction to look? Like would that be something in a script? Or somewhere else?

If anyone can help me out I'd be really thankful, and if I find anything new I'll post it here.
## Post #1162
- Username: crash!
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Mon Feb 08, 2016 8:15 am
- Post datetime: 2016-03-24T15:54:24+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Holy shit, is Tao now advertising his site and literally spamming other modders to put "his mods eyes" haha lmfao im so done.
## Post #1163
- Username: kagami
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Fri Mar 25, 2016 5:44 pm
- Post datetime: 2016-03-25T20:11:28+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I've read already some 30 pages of the main thread, and I'm wondering...

have the weapon/items names tables already been found?

I'm interested in stuff like:
p06="name_wp_3060"

and also, I've seen lots of "TppEquip" references around, but no .lua file (or any file) with that name...unless I'm looking in the wrong place...

is that mystery already solved? (I wanted to create a weapon database)...

also, same thing for the .ui* files, nothing yet I guess?
## Post #1164
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-03-25T21:43:10+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Read this for general knowledge.
[http://wiki.tesnexus.com/index.php/Lng2_File_usage](http://wiki.tesnexus.com/index.php/Lng2_File_usage)

Use my crude lang_dictionary.txt (made from just ripping all strings from the lua files): 
[https://mega.nz/#!vIkRETAb!fGqS3IaQAv8G ... CCfx5-ytmM](https://mega.nz/#!vIkRETAb!fGqS3IaQAv8GqOwzWuz82_szMgCOVY5UeCCfx5-ytmM)

With the latest lang tool: 
[https://github.com/Atvaark/FoxEngine.Tr ... l/releases](https://github.com/Atvaark/FoxEngine.TranslationTool/releases)

TppEquip is an engine module, not a lua module.

ui files are in various fpks. A little research has been done on them, 
[viewtopic.php?f=10&t=12407&p=111315#p111315](http://forum.xentax.com/viewtopic.php?f=10&t=12407&p=111315#p111315)
I think most of the set up and manipulation of them is in the engine however so we're not likely to be able to add anything of note.
## Post #1165
- Username: kagami
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Fri Mar 25, 2016 5:44 pm
- Post datetime: 2016-03-26T00:52:14+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

hey buddy!, thanks for the reply here!

> Reply from Tex
>
> Use my crude lang_dictionary.txt (made from just ripping all strings from the lua files): 
https://mega.nz/#!vIkRETAb!fGqS3IaQAv8G ... CCfx5-ytmM

So, there's a dictionary update?, makes a lot of sense on why I was pretty much just reading hashes!, will have a further look at it!

are there any more dictionaries for the tools that are available around here?, I basically just have GZS updated regarding that (from github), I'm specially interested regarding the fpk tool 

> Reply from Tex
>
> 
TppEquip is an engine module, not a lua module.

makes sense, but which file is it or where it is located?




thanks a lot for the heads-up, I was literally reading 'til 4:30am trying to get more documentation, but the thread is littered with tons of "quiet" and "nude quiet" requests
## Post #1166
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-03-26T01:59:53+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

When I say engine module I mean it's defined by the exe, it's not a lua file.

While a forum is good for conversation and pulling together focus, it's naturally bad as an information resource (more so with one monolithic thread).
It's why I started putting things on the wiki: [http://wiki.tesnexus.com/index.php/Cate ... ar_Solid_5](http://wiki.tesnexus.com/index.php/Category:Metal_Gear_Solid_5)
Though progress is glacial, since I'm only one guy, mostly I just dump a chunk of text from a post into one page, make sure it has the main category, and leave it for a few weeks.

There is a great bunch of in this thread, it's just scattered, as you mention, the 'signal to noise' ratio is bad lol

lang tool has it's own dictionary, as far as I'm aware I'm the only one who's made one (since I basically asked for the feature from aatvark), it came much later than the dictionary project of file hashes.

gzstool uses the main dictionary, which you've said.
I just noticed foxtool has one (fox_dictionary.txt), but I'm not actually sure what hashes it's attempting to resolve.
I'm not sure if any other tools do, basically just check all atvaarks tools folders to see if there is one.
## Post #1167
- Username: kagami
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Fri Mar 25, 2016 5:44 pm
- Post datetime: 2016-03-26T03:55:07+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I do this 'cause I get lots of fun modding (sometimes more than playing the game), but yeah, it seems just a few people are interested in those "hidden" things, lol

Dunno if it would help, but maybe I can do the weapon "database" I had in mind as part of the wiki instead?

But it seems not all the data for weapons is resolved isn't it?, I think I've read that the main damage and stuff like that is not completely "resolved" on how it works...I think I saw a post mentioning several numbers but only the first one was "raw" damage
## Post #1168
- Username: SecaProject
- Rank: beginner
- Number of posts: 31
- Joined date: Wed Apr 11, 2012 1:48 am
- Post datetime: 2016-03-30T21:26:30+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Here you can find updated emoose dictionary with mgo filenames
[https://github.com/secaproject/MGSV-QAR ... ry-Project](https://github.com/secaproject/MGSV-QAR-Dictionary-Project)
## Post #1169
- Username: kagami
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Fri Mar 25, 2016 5:44 pm
- Post datetime: 2016-04-02T23:46:02+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

it's not the same as the secaproject? (as in, any issues in using it, I know it's forked from the emoose)

[https://github.com/secaproject/MGSV-QAR ... ry-Project](https://github.com/secaproject/MGSV-QAR-Dictionary-Project)
## Post #1170
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-04-09T16:48:06+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Is there any info about where the game stores list of available guns on sortie prep screen [http://i.imgur.com/xz4Z1vQ.png](http://i.imgur.com/xz4Z1vQ.png) ? I want to add "None" as an option for primary and secondary guns. I suppose this info is in `master\0\00\Tpp\Scripts\Equip\EquipIdTable.lua` file, but any changes to it crash the game. 
There is also no "None" option in this file, however shields have it and primaries don't.
## Post #1171
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-04-09T19:08:33+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I've scraped together some information on route files (.frt is the main interest I think), but again, having no real experience working with file formats I was wondering if anyone could take a look, being able to edit or create new one would really open up a lot of options.

[http://pastebin.com/jTmPafPu](http://pastebin.com/jTmPafPu)
## Post #1172
- Username: analblaze
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Thu Dec 17, 2015 5:05 pm
- Post datetime: 2016-04-14T04:54:50+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Sorry, but this thread's 82 pages long; can anyone point me to the tools needed to pull sounds from the game? I've found some partial collections that directly refer to .SBP files with proper names, but as far as I can tell the QAR tool isn't outputting anything similar, and then of course I have no way to open the archives themselves.
## Post #1173
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-04-14T05:57:49+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from analblaze
>
> Sorry, but this thread's 82 pages long; can anyone point me to the tools needed to pull sounds from the game? I've found some partial collections that directly refer to .SBP files with proper names, but as far as I can tell the QAR tool isn't outputting anything similar, and then of course I have no way to open the archives themselves.
I posted some instructions on how to sound swap a while ago. The instructions include how to extract the sounds.

See my posts here: [viewtopic.php?f=10&t=12407&start=1180](http://forum.xentax.com/viewtopic.php?f=10&t=12407&start=1180)
and here: [viewtopic.php?f=10&t=12407&start=1196](http://forum.xentax.com/viewtopic.php?f=10&t=12407&start=1196)
## Post #1174
- Username: Solidcal
- Rank: beginner
- Number of posts: 26
- Joined date: Thu Apr 30, 2015 4:05 am
- Post datetime: 2016-04-23T18:45:14+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

So been a while since I posted. So wanted to ask if anyone ever figured out how to edit camera angles and such in scenes or how to open mission sequence files so we could change the time od day and weather that was preset on a few missions in the game. Like the mission where you take miller back to DD mother base.
## Post #1175
- Username: georgesears
- Rank: beginner
- Number of posts: 25
- Joined date: Wed Mar 09, 2016 10:19 pm
- Post datetime: 2016-05-10T15:18:14+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Solidcal
>
> So been a while since I posted. So wanted to ask if anyone ever figured out how to edit camera angles and such in scenes or how to open mission sequence files so we could change the time od day and weather that was preset on a few missions in the game. Like the mission where you take miller back to DD mother base.

That's most useful and cool, maybe someday we'll be able to direct our own cutscenes and machinimas on FOX))
Anyway, there is new update, adding some bunch of content to game, such as TORNADO-6 for singleplayer.
Thus we do need updated dictionary for QAR Tools, cause old modifications refuse to work with new update...
## Post #1176
- Username: whump whump
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Tue May 17, 2016 6:17 pm
- Post datetime: 2016-05-17T10:23:40+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Edit nvm for now. Thanks for all the hard work y'all are doing.
## Post #1177
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-06-03T05:56:30+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Is there a known way to read the hashed texture names from fmdls? I know they're in there, but I don't know how to convert the hashed names to and from the format the fmdl stores them in.

Edit: Nevermind. I figured it out. Each 2-bytes of the hex values are backwards... I feel dumb for not noticing that sooner. XD

I.e. the hashed textures name is: 1a83482d8fef

Separate the name into two-byte sections: 1a 83 48 2d 8f ef

Reverse the order of each two-byte section: ef 8f 2d 48 83 1a

Now you know the hex value to search for: ef8f2d48831a

Edit2: There is also another 2 hex bytes following the hashed entry that denote a preceding number. The two bytes (in all cases I've seen thus far) are either 68, 69, 6A, or 6B followed by 15 to indicate what I assume is the next entry in an array.

It seems like 68 = No preceding number, 69 = 1, 6A = 2, and 6B = 3.

Here's an example so what I've written above doesn't look so confusing.

We have a hashed texture name: 245f7164a964b

If we separate it into two-byte sections starting with the end first, we get: 2 45 f7 16 4a 96 4b
We're stuck with a leftover 2. So how do we know what to search for?

Firstly, ignore the two and reverse the order as normal to get: 4b964a16f745

Now, in this case we had a left over 2, so we need to append 6A to the end: 4b964a16f7456a

And that's it! We now know the complete hex value to search for!
## Post #1178
- Username: Shinteo
- Rank: beginner
- Number of posts: 28
- Joined date: Wed Apr 06, 2016 11:26 am
- Post datetime: 2016-06-07T23:29:13+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hi.

I've been looking for the model for Paz in Ground Zero, but had no luck.

Can someone point me in the right direction?
## Post #1179
- Username: imarceldoe
- Rank: n00b
- Number of posts: 10
- Joined date: Thu Jan 28, 2016 9:55 pm
- Post datetime: 2016-06-15T11:01:11+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Has anyone somehow gotten Ninjaripper to work again with the new update? I tried to do the dxgi thing but it did not work.
## Post #1180
- Username: QOTSANINSOADKORN
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Fri Jul 01, 2016 7:26 pm
- Post datetime: 2016-07-01T12:14:43+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Shinteo
>
> Hi.

I've been looking for the model for Paz in Ground Zero, but had no luck.

Can someone point me in the right direction?

i'm not sure but i thought i read somewhere that both versions of Paz were found in TPP Assets...
## Post #1181
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-07-05T15:03:52+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I'm back with more info on MGSV's audio files.

While digging through the various .sbp files of MGSV, I noticed that there's a ton of seemingly useless .wav files. They are all marked with JUNK, and cannot be played by any normal audio player. Using the Ravioli conversion method on these files doesn't work either. I originally thought that this meant these .wav files are completely useless, and that all of the data was junk, essentially just serving as padding for the wwise files. I also thought this seemed very strange considering the mass amount of wav files compared to the few wwise files in most .sbps. As it turns out, the wav files aren't useless!

The JUNK is actually a chunk marker used on wav files which just means that the data within the chunk is padding and should be skipped when playing the audio file. Apparently the JUNK chunk is used to align audio files for CDs, or other storage devices. If a single file has the JUNK chunk though, it cannot be played by a standard audio player. However, there is still a way to play them. Audacity automatically strips the JUNK chunk from the file if the file is imported as raw data, and this results in a playable audio file. Now I know where all of the audio files I couldn't find are. XD

I haven't tried swapping any of these files yet, so I don't know how this would work out, but at least they're playable now! With this info, I believe all of the sounds in MGSV should now be accessible.
## Post #1182
- Username: Paul44
- Rank: advanced
- Number of posts: 47
- Joined date: Thu Sep 18, 2014 1:06 am
- Post datetime: 2016-07-15T13:03:36+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

On pg 1, #Sergeanur posted the algorithm that is used to (de)hash the filenames.
I can't do much with that so: anyone knows of a little tool that can do that; meaning giving a name based on hash-value, and vice versa (commandline would be great as I could easily write a batchfile).
Reason why I'd like such a tool: I've been experimenting with filename identification. And while doing so, I could find new names based on 'similarity'. Unfortunately, the success rate depends on whether the file actually resides within that particular .dat-file. Plus it is pure guess-work of course.
So if I would have the actual names, it would be much easier to "link" them with existing/identified files...

ps: what is the reason why only identified names are 'categorised', while unknown files receive a 'hash' name & reside in the root folder?

ps2: I read sofar that FMDLs contain the hash-values for related texture files (I assume they reference to TextureX.dat files). Besides identifying those files (see #BobDoleOwndU above), is there any logic on identifying those filenames (incl path)?

@BobDoleOwndU: that is what I thought at first too. I should have added an example though, on which I based my assumption... 
ps: regarding FMDLs, does it just contain the hash-values, or does it contain path/name info as well?

-EDIT-
Not sure what happened here (prev edit got removed), but - again - I confirm that the hash-value is based on both path- and filename (see attached)
[None](https://xentaxbackup.github.io/file/11323_None)
## Post #1183
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-07-15T22:08:55+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Paul44
>
> On pg 1, #Sergeanur posted the algorithm that is used to (de)hash the filenames.
I can't do much with that so: anyone knows of a little tool that can do that; meaning giving a name based on hash-value, and vice versa (commandline would be great as I could easily write a batchfile).
Reason why I'd like such a tool: I've been experimenting with filename identification. And while doing so, I could find new names based on 'similarity'. Unfortunately, the success rate depends on whether the file actually resides within that particular .dat-file. Plus it is pure guess-work of course.
So if I would have the actual names, it would be much easier to "link" them with existing/identified files...

ps: what is the reason why only identified names are 'categorised', while unknown files receive a 'hash' name & reside in the root folder?

ps2: I read sofar that FMDLs contain the hash-values for related texture files (I assume they reference to TextureX.dat files). Besides identifying those files (see #BobDoleOwndU above), is there any logic on identifying those filenames (incl path)?
If I understand correctly, you're looking for a tool that can directly unhash a file name? If so, I don't think that's possible. I don't know exactly how the QAR Tool/GzsTool unhash the names, but I know they require the filename and filepath to do so.

The reason identified files are categorized is because the hashed name doesn't only include the filename itself, it also includes the filepath. Take for example, plparts_battledress. When the name is hashed, it's not hashing the string "plparts_battledress" it's hashing the string "/Assets/tpp/pack/player/parts/battledress". So when the name is unhashed, the filepath is as well. This is also why unnamed files sit it the root folder. Their filepath is unknown. This also applies to the hashed filenames found inside the fmdl files.

> Reply from Paul44
>
> @BobDoleOwndU: that is what I thought at first too. I should have added an example though, on which I based my assumption... (see attached)
ps: regarding FMDLs, does it just contain the hash-values, or does it contain path/name info as well?
I believe those are hashing constants. I have no idea how they work though. I know they're hashed using CityHash, but I don't know much else. Maybe look at GzsTool on GitHub? All of its source code is available there, including what it does to unhash the names.

Only the hashed names/paths are stored in the FMDLs. The game can use the hashed values to locate files, which is why all of the names are hashed in the first-place. The game's supposed to be able to find the files, we're not.
## Post #1184
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2016-07-23T03:39:59+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Forgot to drop this here in forever so here it is, a vertex repositioning tool for MGSV: [https://www.dropbox.com/s/qs9gpa8isqocq ... rt.ms?dl=0](https://www.dropbox.com/s/qs9gpa8isqocqv6/Output%20vert.ms?dl=0)

Used in a similar way to the faces script, except since you're just moving verts you only need one script. Problem with it is that you can't edit UV Maps and reweigh the verts (mostly because no import tool for MGSV supports bone weights).

I can add a UV Editing function if someone could show me how to convert float values to half float in Maxscript but I haven't seen anywhere online how to do that in Maxscript.
## Post #1185
- Username: YouRePrettyGood
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Fri Jul 22, 2016 4:39 pm
- Post datetime: 2016-07-23T22:08:45+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hi all, i'm completely new to model/texture modding, but this thread (especially BobDoleOwndU and HeartlessSeph) was of incredible help.

In short: i am trying to replace the female soldier fatigues with Quiet's Sniper Wolf outfit, with automatic skin color adaptation.

To do so, i dug into the FOVA .fv2 files for The Boss's and EVA's outfits (they both have skin color adjustment).
Here are my findings (for an explanation on how i deduced the textures from hex, read BobDoleOwndU's trick a few posts above):



Comparison of both .fv2 files:







Relation between the .fv2 file and the skin color textures:







Cross-reference between .fv2 and .fmdl files ("red" reference - dunno what it stands for exactly)







Cross-reference between .fv2 and .fmdl files (1st skin texture for the related object)





So, from all that, i am almost able to make it work for my mod: i just have to create 5 versions of Sniper Wolf's skin texture, then insert/replace their hashed names in the .fv2 file. Only problem is: how do i know which reference (red in the pictures) to use ? Or rather, how can i pinpoint it exactly in the .fmdl file ??? Does someone here happen to have a detailed description of this part of the .fmdl file structure, so we could identify exactly where the red part will appear in any .fmdl ?

Thanks !
## Post #1186
- Username: paulscottttt
- Rank: beginner
- Number of posts: 23
- Joined date: Mon Jan 25, 2016 8:34 am
- Post datetime: 2016-07-24T22:47:52+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

does anyone know the location of the avatars beard models?
## Post #1187
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2016-07-24T23:45:18+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from paulscottttt
>
> does anyone know the location of the avatars beard models?

It's part of the Avatar's face model.
## Post #1188
- Username: paulscottttt
- Rank: beginner
- Number of posts: 23
- Joined date: Mon Jan 25, 2016 8:34 am
- Post datetime: 2016-07-25T17:36:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> paulscottttt wrote:does anyone know the location of the avatars beard models?

It's part of the Avatar's face model.
 damn, i'm guessing you cant replace avatar face ?
## Post #1189
- Username: Paul44
- Rank: advanced
- Number of posts: 47
- Joined date: Thu Sep 18, 2014 1:06 am
- Post datetime: 2016-07-26T09:19:26+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I'm trying to collect all DLC suit info (Tuxedo, etc), but can't seem to collect everything from 'D-Horse Western & Parade Tack'.
I still seem to be missing some files here (like the "horns" on 'D-Horse Western').
Anyone has experience with this particular DLC?

PS: I made some batchfiles to collect all appropriate info (textures & INF entries). If you're interested, just mail me.
[None](https://xentaxbackup.github.io/file/11375_None)
## Post #1190
- Username: Paul44
- Rank: advanced
- Number of posts: 47
- Joined date: Thu Sep 18, 2014 1:06 am
- Post datetime: 2016-07-26T12:09:49+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I've downloaded a PS3 vs (Duplex) to see if I could unpack the DLC files (like Shields, Suits, some weapons), but the tool returned an 
error:

[MGSV_ QAR_Tool "<game_path>\master\7b9"\3dc8acbf53e78f06.dat -u -r -e2]

MGS V QAR Tool v1.3.2
Made by Sergeanur
ERROR: Unsupported QAR version = 0x826042ae

Checked and this seems to be latest version?!

-EDIT-
Nevermind, I figured it out [ [https://github.com/Atvaark/TPP.FileForm ... les_ps3.md](https://github.com/Atvaark/TPP.FileFormats/blob/master/files_ps3.md) ] (only Qar dat-files can be extracted)

That said: I'm now trying to unpack some fpk & pftxs files; and Gzstool returns with an error. (attached: DLC Shield)

-EDIT 2-
Nevermind... again. I was using v0.5.2, but apparently, v0.4.1b (only) seems to support these ps3 files?!

-EDIT3-
When I use the original/ps3 files, the games crashes as soon as one tries to equip a shield. What I've tried since:
a. extract fpk, fpkd, pftxs with v0.4.1b; then packed again with v0.5.2
b. convert ftex-files to DDS, then back to DDS
(except for 1 dds file, which only produced 2 files, all other DDS files returned analogue ftex files)
c. extract standard shield fpk, fpkd, pftxs; copied corresponding PS3 files, packed and renamed "properly".

Anyone has experience in converting these type of files to PC environment? I was kinda hoping that the Gzstool/Ftextool would convert these files to PC versions, but probably not...?

ps: there seems definitely to be differences in PS3 vs PC files. Did some 'fc' between 'identically_named' files, which gives differences... And the game definitely tries to load those files: when they are not present, the equipment viewer would show/load "nothing"...
(added some "Trial & error importing ps3 file" findings as well)
[None](https://xentaxbackup.github.io/file/11438_None)
## Post #1191
- Username: paulscottttt
- Rank: beginner
- Number of posts: 23
- Joined date: Mon Jan 25, 2016 8:34 am
- Post datetime: 2016-08-01T23:01:35+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

is it possable to repostion parts of a mesh?
for example if i null everything what what i want off and use whats left on on "arms" how would i repostion it?
## Post #1192
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-08-03T04:53:06+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from paulscottttt
>
> is it possable to repostion parts of a mesh?
for example if i null everything what what i want off and use whats left on on "arms" how would i repostion it?
Yes, via HeartlessSeph's vertex Maxscript.

Open up 3DS Max and run the fmdl script to import the fmdl you're editing. Select the object you want to reposition and run the vertex script to output a .vert file. Name it Unedited, or something similar.

Now, select the vertices of the object you are editing. Reposition them to where you want them positioned. Run the vertex script again and this time, save it as Edited.vert.

Open up the fmdl, Unedited.vert and Edited.vert in HxD. Go to Unedited.vert and press ctrl+a to select everything then press ctrl+c to copy.

Go to the fmdl and press ctrl+f to find. In the Search for textbox press ctrl+v to paste. Change the datatype to Hex-values. Press enter and it should highlight a bunch of text. Go to Edited.vert and press ctrl+a then ctrl+c to copy everything. Go back to the fmdl and press ctrl+v to overwrite the hex values you had selected. Save the file. Repeat for each object you need to move.
## Post #1193
- Username: morbidslinky
- Rank: beginner
- Number of posts: 27
- Joined date: Wed Oct 21, 2015 9:26 am
- Post datetime: 2016-08-03T09:15:42+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Sound-swapping was difficult, but I cured Flaming Buffalo's asthma. Thanks Bob for the tutorial!

> Reply from HeartlessSeph
>
> Forgot to drop this here in forever so here it is, a vertex repositioning tool for MGSV: https://www.dropbox.com/s/qs9gpa8isqocq ... rt.ms?dl=0

This will be useful, thanks!
## Post #1194
- Username: YouRePrettyGood
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Fri Jul 22, 2016 4:39 pm
- Post datetime: 2016-08-03T17:05:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hi, still working on MGSV files (see previous page), i made a lot of progress in identifying FMDL, FCNP and FV2 file structures, will post it soon, but for now i need your help.



As you know, FMDL files in GZ contained clear names, whereas FMDLs in TPP contain only hashes (the full name list can be found in sub-section with id 0x16 in section 1 of the FMDL file, but i'll present it better when posting my findings).

Good thing is: GZ and TPP have model files in common  . So i've studied a few such files (sna2_main0_def, chi1_main0_def, dds0_main0_def, dds1_main0_def, kaz1_main0_def, nin0_main0_def, paz0_main0_def, rai0_main0_def, wsp0_main0_def) and i've identified the most common name hashes found in FMDL files, here's the result: 

[http://txt.do/5e3xo](http://txt.do/5e3xo)
(you can save as txt and import in Excel/Calc as fixed-length or .prn)



In the mod i'm working on, i will need to insert hashes in said sub-section 0x16. So, in order to use correct hashes for each corresponding filename, i would need to hash the names in the same manner.

I've read that names are hashed using CityHash64-with-Seed, so i've downloaded the CityHash master from github, installed Dev-C++, but as i'm not a progammer at all, i'm a little stuck, hence my n00b question:

Could someone please explain to me how to use these tools to input the example string "SKL_000_WAIST" and output the generated hash ? I'll figure out the rest.

Thanks
## Post #1195
- Username: pewposterous
- Rank: advanced
- Number of posts: 41
- Joined date: Thu Jul 30, 2015 12:05 pm
- Post datetime: 2016-08-04T10:26:39+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Does anyone know the location of the female skull snipers file names and texture names? would be much appreciated
## Post #1196
- Username: YouRePrettyGood
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Fri Jul 22, 2016 4:39 pm
- Post datetime: 2016-08-04T12:44:04+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from pewposterous
>
> Does anyone know the location of the female skull snipers file names and texture names? would be much appreciated

(See notes at the end on how to find them for yourself  )

The model file you're looking for is named wmu1_main0_def.fmdl
You can find it in \Assets\tpp\chara\wmu\Scenes\ in the following fpk's:
\chunk3\Assets\tpp\pack\mission2\free\f30250\f30250.fpk (assets for quarantine platform)
or
\chunk4\Assets\tpp\pack\mission2\story\s10130\s10130_area.fpk (assets for CodeTalker mission)


The texture files you're looking for are (you will find them in either the pftxs corresponding to the fpk's above, or texture0/texture3/texture4)
2195ADC38D6B1
B81536417396
18E10B5A8DF53
3F6FEE0FD9847
0EFD7AA60D43
01F056112A47
3C6720C8D6422
BEBFC402A70E
3C509AE6A7B43
1EA29B5A8018B
14A06260FE3FA
3245B09A38258
CA5F5B03F2A3
15944C86C9A1C
182F837C9BAD0
1F927596BF0E4
2741745DD3F4
129484C37AD31
1D42C7301374A
1DD74A0E46CFF
2F6D8910DA39B
292A16C3A84D6
3B27A44791AFF
3983AC8F4E1F8
27F44AA4F1FBF
2D92D8E2ABEC
8532F7C044BE
1A98E5156C981
1BD95C1B88E3E
1E42D2821558E
3EC078703B160
11BC7A5DFB42
294ACED7BE490
2FE1ABDCA2CBB
2976B4FF68BA0
C633B5049201
1BBF0BA1417D5
26F21349479A2
3AC7F54F5EC37
1D580055443BA
3F79563AAF278
0364B80B8160
22E29D0A62ECC
1F03F04A586F
2B496F8E6F82
3C4233662EFB8
12909A73D4210
2940442532DD5



NOTE 1:
To find a model file, first identify the mission/area where you encounter the character. Get the corresponding mission code (check .prn file in attached zip), then search in the corresponding folder:
0/00.dat is patch data (including DLC outfits)
chunk0.dat is Cyprus and common/player models
chunk1.dat is mostly buddies
chunk2.dat is Afghanistan
chunk3.dat is Motherbase
chunk4.dat is Africa




NOTE 2:
To find the texture names, open your FMDL in a hex editor, go to line 0xD0,
you will find the following 8 bytes:
15 00 30 00 28 39 00 00
this is the index entry for sub-section with id 0x15 (texture hashes) of section 1 of the file. The 5th byte and following give you the offset for the subsection. Read bytes in inverted order, you will get 3928. Add 100 (offset of section 1), you now know that you will find texture hashes at address 0x3928 + 0x100 = 0x3A28.
After that, simply use BobDoleOwndU's trick to reverse hashes into texture filenames [viewtopic.php?f=10&t=12407&p=119200#p119200](http://forum.xentax.com/viewtopic.php?f=10&t=12407&p=119200#p119200) .



NOTE 3:
The texture files you're looking for may have been translated to human-readable names while unpacking. If so, search in the .inf files generated by QAR tool (they contain both hash and filename/filepath).
[None](https://xentaxbackup.github.io/file/11481_None)
## Post #1197
- Username: pewposterous
- Rank: advanced
- Number of posts: 41
- Joined date: Thu Jul 30, 2015 12:05 pm
- Post datetime: 2016-08-04T14:21:14+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from YouRePrettyGood
>
> pewposterous wrote:Does anyone know the location of the female skull snipers file names and texture names? would be much appreciated

(See notes at the end on how to find them for yourself  )

The model file you're looking for is named wmu1_main0_def.fmdl
You can find it in \Assets\tpp\chara\wmu\Scenes\ in the following fpk's:
\chunk3\Assets\tpp\pack\mission2\free\f30250\f30250.fpk (assets for quarantine platform)
or
\chunk4\Assets\tpp\pack\mission2\story\s10130\s10130_area.fpk (assets for CodeTalker mission)


The texture files you're looking for are (you will find them in either the pftxs corresponding to the fpk's above, or texture0/texture3/texture4)
2195ADC38D6B1
B81536417396
18E10B5A8DF53
3F6FEE0FD9847
0EFD7AA60D43
01F056112A47
3C6720C8D6422
BEBFC402A70E
3C509AE6A7B43
1EA29B5A8018B
14A06260FE3FA
3245B09A38258
CA5F5B03F2A3
15944C86C9A1C
182F837C9BAD0
1F927596BF0E4
2741745DD3F4
129484C37AD31
1D42C7301374A
1DD74A0E46CFF
2F6D8910DA39B
292A16C3A84D6
3B27A44791AFF
3983AC8F4E1F8
27F44AA4F1FBF
2D92D8E2ABEC
8532F7C044BE
1A98E5156C981
1BD95C1B88E3E
1E42D2821558E
3EC078703B160
11BC7A5DFB42
294ACED7BE490
2FE1ABDCA2CBB
2976B4FF68BA0
C633B5049201
1BBF0BA1417D5
26F21349479A2
3AC7F54F5EC37
1D580055443BA
3F79563AAF278
0364B80B8160
22E29D0A62ECC
1F03F04A586F
2B496F8E6F82
3C4233662EFB8
12909A73D4210
2940442532DD5



NOTE 1:
To find a model file, first identify the mission/area where you encounter the character. Get the corresponding mission code (check .prn file in attached zip), then search in the corresponding folder:
0/00.dat is patch data (including DLC outfits)
chunk0.dat is Cyprus and common/player models
chunk1.dat is mostly buddies
chunk2.dat is Afghanistan
chunk3.dat is Motherbase
chunk4.dat is Africa




NOTE 2:
To find the texture names, open your FMDL in a hex editor, go to line 0xD0,
you will find the following 8 bytes:
15 00 30 00 28 39 00 00
this is the index entry for sub-section with id 0x15 (texture hashes) of section 1 of the file. The 5th byte and following give you the offset for the subsection. Read bytes in inverted order, you will get 3928. Add 100 (offset of section 1), you now know that you will find texture hashes at address 0x3928 + 0x100 = 0x3A28.
After that, simply use BobDoleOwndU's trick to reverse hashes into texture filenames viewtopic.php?f=10&t=12407&p=119200#p119200 .



NOTE 3:
The texture files you're looking for may have been translated to human-readable names while unpacking. If so, search in the .inf files generated by QAR tool (they contain both hash and filename/filepath).

Holy crap! Thanks for writing this up for me! Been scratching my head for hours xD
## Post #1198
- Username: YouRePrettyGood
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Fri Jul 22, 2016 4:39 pm
- Post datetime: 2016-08-04T16:02:41+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from pewposterous
>
> Holy crap! Thanks for writing this up for me! Been scratching my head for hours xD

You're welcome !

It's not especially for you that i wrote it though. I only recently started working on model modding, and i had to collect/centralize every info i could find, so if i can spare newcomers this long gathering process, it's a win-win: The more people we have working on the matter, the more stuff and tricks we're likely to find
## Post #1199
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2016-08-05T17:46:10+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Do you think it would be possible to replace Quiet's model in MGO with the Skulls Sniper?
## Post #1200
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-08-06T04:50:51+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Ashtails
>
> Do you think it would be possible to replace Quiet's model in MGO with the Skulls Sniper?
Yes, but first-person will be completely blocked by the head.
## Post #1201
- Username: SuperflyJohnson
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Thu Feb 04, 2016 7:11 am
- Post datetime: 2016-08-06T08:27:48+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Is there any way to extract audio from fsm files? Ravioli doesn't work on most of them.
## Post #1202
- Username: YouRePrettyGood
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Fri Jul 22, 2016 4:39 pm
- Post datetime: 2016-08-07T16:21:12+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

For those interested in .fv2 files, you will find attached:
- a full description of the file structure (as stated, MGO's .fv2 files have a somewhat different SECTION4).
- a .hsl script to easily parse any .fv2 file in Hex Workshop (warning: parsing is really slow for .fv2 files with no entries in SECTION2)

I'll make similar files for .fcnp and .fmdl formats once i'm done studying them

[and of course, thanks to people here who gave me great hints  ]
[None](https://xentaxbackup.github.io/file/11507_None)
## Post #1203
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-08-07T18:51:30+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from SuperflyJohnson
>
> Is there any way to extract audio from fsm files? Ravioli doesn't work on most of them.
Can you give a specific fsm?

I can possibly get audio out of them.

Also, on the topic of audio, I did a bit more reversing on the wwise format. I was able to swap a voice clip with no effects in the place of one that had effects. Previously this was impossible. Here's my notes on it:

```
0x0-0x3: File Type Header
0x4-0x7: Unknown
0x8-0xF: File Type Header
0x1C-0x1D: Unknown
0x28: Sound type indicator? Seems to denote effects from voice clips, etc....
0x2C-0x2E: Unknown
0x30: Unknown, same byte as 0x40
0x34-0x37: File Size Indicator? (Same bytes appear immediately following "data")
0x3A-0x3B: Unknown, same bytes as 0x46-0x47
0x40: Unknown, same byte as 0x30
0x44-0x45: Unknown, but significant
0x46-0x47: Unknown, same bytes as 0x3A-0x3B
0x48-0x4D: Related to sound type indicator. Changing the indicator without changing this will cause a crash.
0x50-0x53: Tone/Pitch Indicator?

Converting between voice and effect:
Change 0x28
Change 0x48-0x4D
Change 0x50-0x53
Swap all of the data AFTER the 4-bytes following the second "data" string (the one that has the file size indicating bytes attached). Copy this same section of data from the file you want to swap in.
```


If I can figure out exactly how the size indicator works, we can possibly swap in sounds that are larger than the original.
## Post #1204
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-08-08T01:54:59+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from YouRePrettyGood
>
> For those interested in .fv2 files...
Nice work. I'm still terribad with file format stuff, so cool to see someone else digging in.

You may have already gathered from perusing the mgsv exe that:
Seems player models can have several fv2s applied, as indicated by
handFv2File
headFv2File
camoFv2File

Ai characters have (soldier/hostages) faceFova, bodyFova, faceDecoFova, hairFova, hairDecoFova
They also have a fovaSeed set to allow variation within one fova

No idea how this affects/is represented in the fv2 files

Updated my Deminified data1 lua files to the Inf heaven files page under miscellaneous
[http://www.nexusmods.com/metalgearsolidvtpp/mods/45](http://www.nexusmods.com/metalgearsolidvtpp/mods/45)

Of interest to you YouRePrettyGood in there is Soldier2FaceAndBodyData.lua which I've added notes on the soldier fova body files, also InfFova.lua from the infinite heaven snakebite .mgsv has some notes on what various player packs are.

Edit: You may want to look at Atvaarks tools
[https://github.com/Atvaark/](https://github.com/Atvaark/)
LangTool is probably the simplest tool that also uses a dictionary to check hashes
[https://github.com/Atvaark/FoxEngine.TranslationTool](https://github.com/Atvaark/FoxEngine.TranslationTool)
## Post #1205
- Username: YouRePrettyGood
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Fri Jul 22, 2016 4:39 pm
- Post datetime: 2016-08-08T06:00:44+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

That's great, i had downloaded your deminification files but i had kept them aside until now, i thought they didn't have any connection with FOVA settings and would only be useful later in the process (in future steps, i'd like to have a look at how we can add outfits rather than swap them, but i'm not there yet). I'll have a careful look at it this week
## Post #1206
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-08-08T07:32:54+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

It's the ai characters fova setup in the scripts, player stuff doesn't seem to be there unfortunately.

Here was my first post on that:
[viewtopic.php?f=10&t=12407&p=116912#p116912](http://forum.xentax.com/viewtopic.php?f=10&t=12407&p=116912#p116912)
## Post #1207
- Username: SuperflyJohnson
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Thu Feb 04, 2016 7:11 am
- Post datetime: 2016-08-08T09:18:16+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> Can you give a specific fsm?

I can possibly get audio out of them.
I was trying to get the audio from p31_050060_000_final.fsm in chunk2.
## Post #1208
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2016-08-08T14:32:26+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

i post fmdl specs on github soon when I have time with all my/our research.
## Post #1209
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-08-08T19:34:18+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from SuperflyJohnson
>
> I was trying to get the audio from p31_050060_000_final.fsm in chunk2.
From what I can gather, this specific audio file only contains part of the audio data, which is why it's failing to convert. I was able to get the first few seconds to play, using ww2ogg. It sounds like a helicopter (possibly the ACC). After the first few seconds it breaks though, because the audio data is gone.

This quote from hcs explains it well:

> A hybrid approach is sometimes used, and I think this is the difficulty you are encountering here: The in-memory sound bank contains the beginning of the audio file, the header data and a second or so of audio data, and the rest is located in another file elsewhere on disc to be streamed in. The resident beginning of the file can be played immediately as it is already in memory, and ideally this will give enough time for the streaming to get going.
>
> 
>
> This is a fine engineering solution but it makes things a mess for us trying to read the audio! In the sound bank we can find the very beginning of the sound file but the rest may be somewhere entirely different on the disc. For systems like wwise where everything is numbered with hash codes it is hard to figure this out with inspection. What you are seeing here is that the RIFF is actually truncated, the rest of it lives somewhere else, and there is something else stuffed in the sound bank next.
>
> 
>
> In particular this is frustrating because the rest of the audio data may be stuck somewhere with no header! If we knew more about how the whole wwise bank system works it might be easier to locate this headless data.
## Post #1210
- Username: YouRePrettyGood
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Fri Jul 22, 2016 4:39 pm
- Post datetime: 2016-08-09T06:41:33+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

For those interested: attached is a slightly modified version i made of HeartlessSeph's great 3dsmax import script for FMDLs (i post it with his agreement of course).

In the faces buffer for each FMDL, there are 2 sets of faces for each object. HeartlessSeph's original script imports the 1st set (high-polygon faces), this modified script imports the 2nd set (lower-polygon faces) instead.
According to HeartlessSeph they are LODfaces, so i guess if you remove them along with the other faces, the related objects won't appear even at far distance. I'm also curious about whether it makes the white-glowing silhouette of marked soldiers disappear. I haven't had time to test it out, though.
[None](https://xentaxbackup.github.io/file/11519_None)
## Post #1211
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2016-08-09T21:11:27+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from YouRePrettyGood
>
> For those interested: attached is a slightly modified version i made of HeartlessSeph's great 3dsmax import script for FMDLs (i post it with his agreement of course).

In the faces buffer for each FMDL, there are 2 sets of faces for each object. HeartlessSeph's original script imports the 1st set (high-polygon faces), this modified script imports the 2nd set (lower-polygon faces) instead.
According to HeartlessSeph they are LODfaces, so i guess if you remove them along with the other faces, the related objects won't appear even at far distance. I'm also curious about whether it makes the white-glowing silhouette of marked soldiers disappear. I haven't had time to test it out, though.

Woah just to clarify I didn't make the import script. It was made by Jayveerk I believe. Sorry for confusion regarding that. It is a github script though so there shouldn't be any problem with posting an edited one.

But yeah they are indeed LOD faces. Test it out by nulling out a soldier's high poly set and then running away from one and watch them magically appear again.
## Post #1212
- Username: morbidslinky
- Rank: beginner
- Number of posts: 27
- Joined date: Wed Oct 21, 2015 9:26 am
- Post datetime: 2016-08-10T00:56:49+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> SuperflyJohnson wrote:I was trying to get the audio from p31_050060_000_final.fsm in chunk2.
From what I can gather, this specific audio file only contains part of the audio data, which is why it's failing to convert. I was able to get the first few seconds to play, using ww2ogg. It sounds like a helicopter (possibly the ACC). After the first few seconds it breaks though, because the audio data is gone.

It sounds like the beginning of a cutscene, when the helicopter is beginning to land. For reference, the ACC's sound effect is File0036 in chunk2's env_mtbs_common.stp.

On a similar, audio-related note, I can't find the Sortie Prep music anywhere. I'll keep mulling over the .sbp files, but if anyone's got some suggestions about where it might be hiding, please help me out. I'm going crazy.
## Post #1213
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-08-10T02:14:03+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from morbidslinky
>
> On a similar, audio-related note, I can't find the Sortie Prep music anywhere. I'll keep mulling over the .sbp files, but if anyone's got some suggestions about where it might be hiding, please help me out. I'm going crazy.
chunk1\Assets\tpp\sound\external\tape\tp_bgm_02_03.wem.
chunk3\Assets\tpp\sound\asset\env_mtbs_common.sbp - File 390 (pretty sure this is the radio version).

Other than those two places, check any sbps marked with bgm.
## Post #1214
- Username: morbidslinky
- Rank: beginner
- Number of posts: 27
- Joined date: Wed Oct 21, 2015 9:26 am
- Post datetime: 2016-08-10T02:38:48+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> 
chunk1\Assets\tpp\sound\external\tape\tp_bgm_02_03.wem.
chunk3\Assets\tpp\sound\asset\env_mtbs_common.sbp - File 390 (pretty sure this is the radio version).

Other than those two places, check any sbps marked with bgm.
Unfortunately the external tape 02_03 is a remnant of Ground Zeroes and external tape 11_31 is the cassette tape file, which is different from the sortie prep file (really frustrating).
I'll keep looking in the bgm's. In any case, thanks for the input.

Update: I've listened through every single file with a file size greater than a few kilobytes, I still can't find it. Can it be stored in the .exe or something?
## Post #1215
- Username: YouRePrettyGood
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Fri Jul 22, 2016 4:39 pm
- Post datetime: 2016-08-10T12:43:30+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> Woah just to clarify I didn't make the import script. It was made by Jayveerk I believe. Sorry for confusion regarding that. It is a github script though so there shouldn't be any problem with posting an edited one.

But yeah they are indeed LOD faces. Test it out by nulling out a soldier's high poly set and then running away from one and watch them magically appear again.

Oops, my bad
## Post #1216
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-08-10T15:49:45+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from morbidslinky
>
> Unfortunately the external tape 02_03 is a remnant of Ground Zeroes and external tape 11_31 is the cassette tape file, which is different from the sortie prep file (really frustrating).
I'll keep looking in the bgm's. In any case, thanks for the input.

Update: I've listened through every single file with a file size greater than a few kilobytes, I still can't find it. Can it be stored in the .exe or something?
Highly doubt it'd be stored in the exe. The exe pretty much only contains what I assume is the C++ side of the code.

The only other place to check would be the fsm files, but those are probably pretty hit and miss for converting.
## Post #1217
- Username: Paul44
- Rank: advanced
- Number of posts: 47
- Joined date: Thu Sep 18, 2014 1:06 am
- Post datetime: 2016-08-11T09:00:00+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Anyone interested/able to add PS3 support for this tool (in analogy with the gzstool)? Need it to "port" DLC PS3 weapons to pc...
I can handle most other files, but the XML files - if these can be decompiled - would save a lot of hex-editing time.
(see attached example)
[None](https://xentaxbackup.github.io/file/11543_None)
## Post #1218
- Username: Solidcal
- Rank: beginner
- Number of posts: 26
- Joined date: Thu Apr 30, 2015 4:05 am
- Post datetime: 2016-08-11T09:45:20+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Ah nice to see more stuff is being added to the topic and a vertex/placement script is up. With that being avaliable. Has anyone tried to morph BB's GZ sneaking suit to a more female look body type? Would be an interesting swap for the black MGS1 styled sneaking suit.
## Post #1219
- Username: morbidslinky
- Rank: beginner
- Number of posts: 27
- Joined date: Wed Oct 21, 2015 9:26 am
- Post datetime: 2016-08-11T14:54:13+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

↓
## Post #1220
- Username: morbidslinky
- Rank: beginner
- Number of posts: 27
- Joined date: Wed Oct 21, 2015 9:26 am
- Post datetime: 2016-08-11T15:00:02+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> 
The only other place to check would be the fsm files, but those are probably pretty hit and miss for converting.

It's worth a try, I guess. Gotta be around here somewhere.

> Reply from Solidcal
>
> Has anyone tried to morph BB's GZ sneaking suit to a more female look body type? Would be an interesting swap for the black MGS1 styled sneaking suit.

That sounds like an interesting proposition, but can it be done properly with model swapping? I thought that the eyeballs would be missing if you swapped an outfit out for the GZ suit.
## Post #1221
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2016-08-11T19:48:04+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

So, Can we swap Quiet's model in MGO with Raiden's model in TPP?
## Post #1222
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-08-11T21:25:36+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Ashtails
>
> So, Can we swap Quiet's model in MGO with Raiden's model in TPP?
Yes.
## Post #1223
- Username: Solidcal
- Rank: beginner
- Number of posts: 26
- Joined date: Thu Apr 30, 2015 4:05 am
- Post datetime: 2016-08-11T21:37:05+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from morbidslinky
>
> BobDoleOwndU wrote:
The only other place to check would be the fsm files, but those are probably pretty hit and miss for converting.

It's worth a try, I guess. Gotta be around here somewhere.
Solidcal wrote:Has anyone tried to morph BB's GZ sneaking suit to a more female look body type? Would be an interesting swap for the black MGS1 styled sneaking suit.

That sounds like an interesting proposition, but can it be done properly with model swapping? I thought that the eyeballs would be missing if you swapped an outfit out for the GZ suit.
I'd assume with the vertex editor script it might be possible, since that script allowed the posibily of moving the vertex of the banada to be moved whn the horn was removed for the TMWSTW mod on the nexus I believe. Not sure how many vertexs/vertices can be morphed though.
## Post #1224
- Username: morbidslinky
- Rank: beginner
- Number of posts: 27
- Joined date: Wed Oct 21, 2015 9:26 am
- Post datetime: 2016-08-11T22:44:45+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I gave the .fsm files a listen. From what I can hear of the sounds, they're the beginning of cutscenes. You can hear almost entire cutscenes in some instances, but only from very short cutscenes.
I didn't hear the Sortie Prep music like I had hoped, but I did hear the opening to Sins of the Father and The Man Who Sold The World. Those two were used in intros and outros in parts of the game. It's possible that the Sortie Prep music is in the .fsm, but I'd need to hear more of the sound file in order to be sure. In any case, I think I'm done trying to dig up that Peace Walker theme. Thanks for the pointers, mates.
## Post #1225
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2016-08-11T23:49:54+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Solidcal
>
> morbidslinky wrote:BobDoleOwndU wrote:
The only other place to check would be the fsm files, but those are probably pretty hit and miss for converting.

It's worth a try, I guess. Gotta be around here somewhere.
Solidcal wrote:Has anyone tried to morph BB's GZ sneaking suit to a more female look body type? Would be an interesting swap for the black MGS1 styled sneaking suit.

That sounds like an interesting proposition, but can it be done properly with model swapping? I thought that the eyeballs would be missing if you swapped an outfit out for the GZ suit.
I'd assume with the vertex editor script it might be possible, since that script allowed the posibily of moving the vertex of the banada to be moved whn the horn was removed for the TMWSTW mod on the nexus I believe. Not sure how many vertexs/vertices can be morphed though.

That was done before the vertex script, did that by hand (bragging rights intensify)

Nah but in all seriousness, you can't do that simply because it'd distort the face. You would most likely have to re-rig the model. Also, one eye remains since Big Boss had one eye on his model so you could just keep that there but you'd probably have to use his eyepatch too to hide the missing eye.
## Post #1226
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2016-08-12T00:19:45+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> Ashtails wrote:So, Can we swap Quiet's model in MGO with Raiden's model in TPP?
Yes.

But when I swapped Raiden's model with Snake the model got messed up
## Post #1227
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-08-12T00:46:44+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Ashtails
>
> But when I swapped Raiden's model with Snake the model got messed up
Did you replace the frdv as well? It won't look right if you don't.
## Post #1228
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2016-08-12T03:30:39+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> Ashtails wrote:But when I swapped Raiden's model with Snake the model got messed up
Did you replace the frdv as well? It won't look right if you don't.

No I only replaced the fmdl, ill try again

> Reply from Ashtails
>
> BobDoleOwndU wrote:Ashtails wrote:But when I swapped Raiden's model with Snake the model got messed up
Did you replace the frdv as well? It won't look right if you don't.

No I only replaced the fmdl, ill try again

The model is fine but how do I fix the textures?
## Post #1229
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-08-12T05:53:45+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Ashtails
>
> The model is fine but how do I fix the textures?
You need to inject the textures into the relative pftxs of the model you swapped.

Use GzsTool to unpack the pftxs. In the unpacked pftxs, add the textures. In the xml file GzsTool generated add the entries for the textures you added. After that, repack the pftxs.
## Post #1230
- Username: Paul44
- Rank: advanced
- Number of posts: 47
- Joined date: Thu Sep 18, 2014 1:06 am
- Post datetime: 2016-08-12T08:39:05+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Find attached a number of files to download. This info has been built up since the game came out; and the release of the modding tools. With the experience on DLC PS3 "porting", I figured this would be very helpfull to others as well...

The PS3 stuff in particular is very interesting, but I'd like to wait & see if I can finalize the weapons part. If nothing comes out of that, I will probably post that part end of this month too.
[None](https://xentaxbackup.github.io/file/11551_None)
## Post #1231
- Username: Solidcal
- Rank: beginner
- Number of posts: 26
- Joined date: Thu Apr 30, 2015 4:05 am
- Post datetime: 2016-08-12T09:48:33+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from HeartlessSeph
>
> Solidcal wrote:
Solidcal wrote:Has anyone tried to morph BB's GZ sneaking suit to a more female look body type? Would be an interesting swap for the black MGS1 styled sneaking suit.

That sounds like an interesting proposition, but can it be done properly with model swapping? I thought that the eyeballs would be missing if you swapped an outfit out for the GZ suit.
I'd assume with the vertex editor script it might be possible, since that script allowed the posibily of moving the vertex of the banada to be moved whn the horn was removed for the TMWSTW mod on the nexus I believe. Not sure how many vertexs/vertices can be morphed though.

Nah but in all seriousness, you can't do that simply because it'd distort the face. You would most likely have to re-rig the model. Also, one eye remains since Big Boss had one eye on his model so you could just keep that there but you'd probably have to use his eyepatch too to hide the missing eye.[/quote]
Ah I see. I was also looking to using the actual Big Boss GZ suit wearing full model character than Venom's version. But thanks. That answers my question.

Edit: Another question. Does anyone know which file deals with the NVG's/Thermal's greenish overlay effect when selected? I would like to do a mod that replaces the NVG with Raiden's sheathed sword as seen in GZ's Jaminus Vu and use the vertex script to move it so it is placed on Raiden's back. Though I can't remember if TPP makes the NVG model invisible when using the raiden model like it did with Raiden in the GZ side op. So yeah if anyone can tell me. That'd be great.
## Post #1232
- Username: morbidslinky
- Rank: beginner
- Number of posts: 27
- Joined date: Wed Oct 21, 2015 9:26 am
- Post datetime: 2016-08-17T10:28:11+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Solidcal
>
> Does anyone know which file deals with the NVG's/Thermal's greenish overlay effect when selected?
I wouldn't know where to begin with that. Is editing item abilities possible currently?
## Post #1233
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2016-08-17T21:22:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

So they just announced Metal Gear Survival. The game takes place after Metal Gear Solid v Ground Zeroes with Militarias Sans Frontiers. What I am hoping for is that they remake the Peace Walker suits like the Sneaking suit and Bomb suit so we wont have to use any vertex editing to make the ground zeroes suit for females.They might even incorporate Metal Gear zeke into the game.
## Post #1234
- Username: morbidslinky
- Rank: beginner
- Number of posts: 27
- Joined date: Wed Oct 21, 2015 9:26 am
- Post datetime: 2016-08-17T22:14:40+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Ashtails
>
> So they just announced Metal Gear Survival. The game takes place after Metal Gear Solid v Ground Zeroes with Militarias Sans Frontiers. What I am hoping for is that they remake the Peace Walker suits like the Sneaking suit and Bomb suit so we wont have to use any vertex editing to make the ground zeroes suit for females.They might even incorporate Metal Gear zeke into the game.

I thought you were joking at first, but then I watched the trailer. To be honest, it could be a little mindless fun. But yeah, if anything, it should give modders some more material to work with for mgsv.
## Post #1235
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2016-08-18T01:18:14+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from morbidslinky
>
> Ashtails wrote:So they just announced Metal Gear Survival. The game takes place after Metal Gear Solid v Ground Zeroes with Militarias Sans Frontiers. What I am hoping for is that they remake the Peace Walker suits like the Sneaking suit and Bomb suit so we wont have to use any vertex editing to make the ground zeroes suit for females.They might even incorporate Metal Gear zeke into the game.

I thought you were joking at first, but then I watched the trailer. To be honest, it could be a little mindless fun. But yeah, if anything, it should give modders some more material to work with for mgsv.

Maybe we can even transfer our character from MGO to Metal Gear Survive
## Post #1236
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-08-18T02:32:44+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Ashtails
>
> Maybe we can even transfer our character from MGO to Metal Gear Survive
Looks like it's using the same character creation system, so even if you can't transfer them, you should be able to recreate them.

The game actually looks like it could be fun, despite all of the hate it's getting. I'm willing to give it a chance at least.
## Post #1237
- Username: morbidslinky
- Rank: beginner
- Number of posts: 27
- Joined date: Wed Oct 21, 2015 9:26 am
- Post datetime: 2016-08-27T04:34:26+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Since the thread's dead again, I'll report something fun.

I've managed to successfully add more animals into an area. I'm still tinkering with it, but I'm feeling good about my progress. Hopefully, I can make something worthwhile for TPP's anniversary.

Update: Adding and moving animal spawns is surprisingly easy. I've populated the Aabe Shifap Ruins with 30 goats, where there were originally 4. I need to mix up the numbers when I publish the mod, but I have 5 groups of 6 goats spread across the ruins. This is great! I've been dying to make TPP's open world less empty.
## Post #1238
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-08-27T11:06:06+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from morbidslinky
>
> Since the thread's dead again, I'll report something fun.

I've managed to successfully add more animals into an area. I'm still tinkering with it, but I'm feeling good about my progress. Hopefully, I can make something worthwhile for TPP's anniversary.

Update: Adding and moving animal spawns is surprisingly easy. I've populated the Aabe Shifap Ruins with 30 goats, where there were originally 4. I need to mix up the numbers when I publish the mod, but I have 5 groups of 6 goats spread across the ruins. This is great! I've been dying to make TPP's open world less empty.
This sounds awesome!

I want to see an area full of bears just for the fun of it. I think it would be hilarious to have a giant pack of bears charge at you. XD
## Post #1239
- Username: morbidslinky
- Rank: beginner
- Number of posts: 27
- Joined date: Wed Oct 21, 2015 9:26 am
- Post datetime: 2016-08-27T12:09:47+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> 
I want to see an area full of bears just for the fun of it. I think it would be hilarious to have a giant pack of bears charge at you. XD

Be careful what you wish for =P
## Post #1240
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-08-27T13:50:14+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from morbidslinky
>
> Since the thread's dead again, I'll report something fun.

I've managed to successfully add more animals into an area. I'm still tinkering with it, but I'm feeling good about my progress. Hopefully, I can make something worthwhile for TPP's anniversary.

Update: Adding and moving animal spawns is surprisingly easy. I've populated the Aabe Shifap Ruins with 30 goats, where there were originally 4. I need to mix up the numbers when I publish the mod, but I have 5 groups of 6 goats spread across the ruins. This is great! I've been dying to make TPP's open world less empty.

Good idea, that sounds like a cool addition. Is there an issue with spawning them passed a certain point? I was reading some thread on Nexus where people were trying something similar with soldiers but it ended up causing issues (crashes, Houdini soldiers, etc.). If not then that sounds awesome. I'm going to check if animals have a maxClimbableAngle property and set it at 90. You know, for absolute chaos in my sniper battle with Quiet.

I'm currently putting together notes for vehicle physics tweaks, so I'll upload them for you all whenever I get a handle on it.
## Post #1241
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-08-27T19:29:30+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from morbidslinky
>
> Since the thread's dead again, I'll report something fun.

That's neat. I've been sitting on something similar for a while, but didn't know whether to have it as a standalone nexus page or optional file on IH, then I got distracted lol. I'll leave it be if you're doing something though.
Are you just upping the count property on the TppAnimalLocatorParameters, or are you also adding more locators?



I finally circled back around to looking at the face fova system that's shared between soldiers and the player when using DD male/female.

The main meat of a face definition is basically 4 fova definitions, though they are kinda interrelated.
Each fova can have it's own fpk.
There's
faceFova - has the main face fmdl - in some cases this is a stand-alone complete face.
faceDecoFova - which is just a fv2 to switch the face mesh texture.
hairFova - the main hair fmdl
hairDecoFova - fv2 to switch face texture.

I did some experiments of adding some more face definitions using stuff from your quiet pack BobDoleOwndU, simply because it was nicely laid out and easy to test with. I won't release anything based on your work, but I might send you an example built from it.
[https://youtu.be/cqXujX4m9Qs](https://youtu.be/cqXujX4m9Qs)

In the video I added several face definition entries only using the faceFova (with the other 3 fovas set to none) pointed to a new fpk with the dds6_head_z_cov.fmdl and the fv2.
There's still issues, one of the face models fails to show for some reason, and also the eyeballs don't show, though the iris does.
Also the janky texture loading is because the pftx is unmodded
Most of that stuff is outside my current knowledge of model editing.

Also in the video I have IH options to change player type, parts type, camo type, and head id.
Nothing terribly new, Three-Socks did it with his basic trainer a million years ago, this just gives it friendly labels.
These are just the index into the existing defined ones, apart from the heads, that stuff is in the exe unfortunately. The soldier bodies are defined in script, but as known the player doesn't use those.
I extended my plparts_<name>_modelnfo.lua support from my other fova option so the parts type can have the name of the model swap in the IH option if the author adds it.

Back to the face definition - it needs scripting support to actually change the head, and ideally have a system for mod authors to just describe their face models in a file then have the main mod do the actual face definition modding on load. But that's a more free-form situation where for IH's separate fova feature I was relying on specific plparts names since the fovas had to match, since there doesn't seem to be any 'files of this type' function in script. The fallback would be to have a single specific lua as the added face registry and have the user or a tool mod that.

If this works out it would increase the options for player models.
## Post #1242
- Username: morbidslinky
- Rank: beginner
- Number of posts: 27
- Joined date: Wed Oct 21, 2015 9:26 am
- Post datetime: 2016-08-27T20:45:47+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from CantStoptheBipBop
>
> Is there an issue with spawning them passed a certain point? I was reading some thread on Nexus where people were trying something similar with soldiers but it ended up causing issues (crashes, Houdini soldiers, etc.).

So far, the only hard restriction I've found is that a group of goats can't be larger than 6. I imagine the same goes for the other animals, i.e. wolves in groups of 2. That said, I've 'stacked' groups without problems, and had 5 groups of 6 goats in one place before. I haven't been stress testing, or being creative with the animal variety, but I've quadrupled the number of animals in 6 locations without any performance loss or crashing.

> Reply from Tex
>
> Are you just upping the count property on the TppAnimalLocatorParameters, or are you also adding more locators?

Both! Like I said, the Locator parameters can only go so high, but I've been recycling pointers from the other animal files to add more locators for each file. I thought it was a bit sketchy at first, but it's worked out very well for me. I have to thank you for the ability to print out marker locations, btw, it's a great way to place animals!


Good luck on both of your endeavors, guys!
## Post #1243
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-08-28T17:42:37+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Solidcal
>
> Edit: Another question. Does anyone know which file deals with the NVG's/Thermal's greenish overlay effect when selected?

You may have found it by now but it's NightVisions.fox2 (\chunk0\*\col_common_tpp_fpkd\*\NightVisions.fox2). It has some parameters for the noise filter and tinting.
## Post #1244
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2016-08-29T15:40:13+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Has anyone tried taking the skulls sniper and nulling everything except for the eyepatch and replacing it with one of the avatars hairstyles?
## Post #1245
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-08-30T18:53:55+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

So progress update I guess. 

[https://youtu.be/cKBZ4Fg5fj4](https://youtu.be/cKBZ4Fg5fj4)

I've narrowed down whatever property was limiting vehicle speed modifications to a few possibilities. I still have to play with it to make it handle less... absurd. It seems to be a combination of .veh and .ph files in a vehicle's .fpkd. Tweaked files below are using veh_rl_east_lv.fpkd (soviet 4wd). 

```
    specPointAngularVelocity (8 values set 15,000; vanilla 0 - 12,000)
        --Apparently affects rotation speed of wheels; 0 causes it to barely move

    specPointTorque (8 values set 2,000; vanilla max 260 5th gear)
        --force generated each gear

slv.ph
    mass (2; vanilla 1,000)

    maxLinearVelocity (600; vanilla 100)

    maxAngularVelocity (900; vanilla 90)

```


Edit: btw Tex, probably a stupid question but how did you add entries to the langTool dictionary? I tried adding some entries (swimsuit lang descriptions and names) but it just kinda screws up all of key entries and langIds within the .lng2 files when I try unpacking them with my added entries.
## Post #1246
- Username: morbidslinky
- Rank: beginner
- Number of posts: 27
- Joined date: Wed Oct 21, 2015 9:26 am
- Post datetime: 2016-08-30T19:27:31+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from CantStoptheBipBop
>
> So progress update I guess. 

https://youtu.be/cKBZ4Fg5fj4
> GOTTA GO FAST

that looks like a lot of fun lol. The cardboard box might have similar parameters for sliding. That might be fun to mess with too.

For me, I've completely populated Afghanistan with more animals. Tex, if you're out there, do you know how to widen the coordinates of the spawn points? like spawning animals farther away from waterway_I. Also, if you were working on something similar, you should publish it anyways. The modding scene is dead enough already, and your's is probably better than mine.
## Post #1247
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-08-30T20:27:07+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Nice work.

Do you mean keys for completely new entries? or for the recent 'new' ones referenced from EquipDevelopSettings?

For the latter I just scraped all the lua files for strings, ugly but does the job.
Heres an updated scrape:
[https://mega.nz/#!bc9hUKaA!4mWVYc1kDFZg ... faQizy97Qo](https://mega.nz/#!bc9hUKaA!4mWVYc1kDFZgMwWYTi3ev9jELdlFfn0X0faQizy97Qo)

> Reply from morbidslinky
>
> 
For me, I've completely populated Afghanistan with more animals. Tex, if you're out there, do you know how to widen the coordinates of the spawn points? like spawning animals farther away from waterway_I. Also, if you were working on something similar, you should publish it anyways. The modding scene is dead enough already, and your's is probably better than mine.

I've only increased the counts on existing locators, and haven't added any new ones.
You need to edit all the fox2s in \chunk1_dat\Assets\tpp\pack\mission2\animal\*\*.fpkd since each fpk is loaded/unloaded for its area
[https://imgur.com/a/2dy1C](https://imgur.com/a/2dy1C)

Edit: Have a look at infinite heavens InfLang.lua cpNames.afgh.eng / cpNames.mafr.eng tables to get a rough idea of what the areas are.
## Post #1248
- Username: morbidslinky
- Rank: beginner
- Number of posts: 27
- Joined date: Wed Oct 21, 2015 9:26 am
- Post datetime: 2016-08-30T23:54:57+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> 
Edit: Have a look at infinite heavens InfLang.lua cpNames.afgh.eng / cpNames.mafr.eng tables to get a rough idea of what the areas are.
I see. One more thing, if I could trouble you for some more advice =P

buried deep in the game files, chunk2_dat\Assets\tpp\pack\location\afgh\pack_common\afgh_script_fpkd\Assets\tpp\script\location\afgh, there's a script titled afgh_animal.
[https://drive.google.com/file/d/0B4HIOk ... sp=sharing](https://drive.google.com/file/d/0B4HIOk1QhmKAN0xSajdvVW93VGs/view?usp=sharing)

 In this lua, it mentions animal groupNumbers, corresponding to the areas where the animals spawn. I assumed these were the number of locators in each area, however these numbers don't need to be changed in order for me to add more locators. Plus, the numbers don't always correspond exactly to the # of locators. Do you have a guess as to what these are? Maybe they're just rough estimates.

Additionally, in the afgh_animal.animalAreaSetting, there are loadAreas and activeAreas, followed by 4 numbers. These must be some sort of coordinate system that loads and unloads the animal's fpk files, right? Do you know what this coordinate system is? I'd like to expand these areas, so I can place locators in regions that aren't loaded by any of the fpk's.

If not, I won't worry about it. I'm decently satisfied with the current state of the mod.
## Post #1249
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-08-31T03:24:42+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from morbidslinky
>
> 
> GOTTA GO FAST

that looks like a lot of fun lol. The cardboard box might have similar parameters for sliding. That might be fun to mess with too.

I was going to hold off on releasing anything until I get all of the vehicles tuned in a practical way, but now I want to release it under the name "Sonic '06 Simulator". But yeah it's tons of fun to mess with. Raising the engine torque on 4wds by around 2.5x seems to be fast enough since moving too quickly between load areas may cause load/save hangs. Fun fact: a goat running into the vehicle with a mass of two will send you flying across the map.

I'm not sure what can be done with the boxes though. I checked col_common_tpp.fpkd and they don't have a .ph file, nor any relevant properties to change. It might be possible but I can't think of a way to go about it without using cheat engine to try changing its behavior in the exe.

> Reply from Tex
>
> 
For the latter I just scraped all the lua files for strings, ugly but does the job.
Heres an updated scrape:
https://mega.nz/#!bc9hUKaA!4mWVYc1kDFZg ... faQizy97Qo

Cool, thanks man. That eliminates some guess work when reading files. 

I meant adding entries to the dictionary. I just manually copy pasted the swimsuit description and name langIds from DevConst into the dictionary. What I was wondering is if there was something else I had to do with it to make it work properly, since it doesn't unpack correctly when I append stuff to its dictionary.
## Post #1250
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-08-31T04:41:54+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from morbidslinky
>
> groupNumbers
groupNumber is used by TppAnimalBlock.lua as the number of groups/locators of that animal type in the area. As you know each locator can be a group of animals (of one type).
Apart from managing the loading/unloading of the animal area fpks; TppAnimalBlock is mostly used to assign the routes that were designed for the group.
So in theory they should match the number of locators.
Also I don't think modifying these will achieve much since it will just point to routes that don't exist.
(my kingdom for a route file editor).
So a question is how they behave if they aren't assigned a route, I'm guessing they have some default AI, you'd actually know better than me, as said, I didn't get around to adding new locators. You mentioned they seem fine, I suppose they just mill about within their radius parameter?

> Reply from morbidslinky
>
> Additionally, in the afgh_animal.animalAreaSetting, there are loadAreas and activeAreas, followed by 4 numbers. These must be some sort of coordinate system that loads and unloads the animal's fpk files, right? Do you know what this coordinate system is? I'd like to expand these areas, so I can place locators in regions that aren't loaded by any of the fpk's.
Ah OK, I wasn't quite following you in the last question, hadn't thought about the area coverage.

You've got it mostly understood, but for posterity:
You can see animalAreaSetting loadArea/activeArea also referenced in TppAnimalBlock
Its the extents of the area in 'small block' indices. Ie taking the whole map from a top-down perspective it's reduced to blocks indexed by x/y. 
If I'm reading Tpp.CheckBlockArea correctly, origin is bottom left, area extents are xMin,yMin,xMax,yMax
I'm not sure what the block division to world units is though.
loadArea is the extents where it loads/unloads the fpk, activeArea where it actually initializes stuff, in this case, as mentioned, setting routes.
Looks like they have activeArea extents being one block smaller than its loadArea

So I guess you can just try bumping up the extents, and either manually, or using Tpp.CheckBlockArea make sure they don't overlap since the system was designed for one animal module loaded at a time.

I'll release my updated deminified luas after my next IH release since I've done a bunch in respect to the above. I might throw in some debug printing stuff for blocks.

> Reply from CantStoptheBipBop
>
> 
I meant adding entries to the dictionary. I just manually copy pasted the swimsuit description and name langIds from DevConst into the dictionary. What I was wondering is if there was something else I had to do with it to make it work properly, since it doesn't unpack correctly when I append stuff to its dictionary.

The scraper is basically doing the same thing, so I don't know what's up with that.
## Post #1251
- Username: morbidslinky
- Rank: beginner
- Number of posts: 27
- Joined date: Wed Oct 21, 2015 9:26 am
- Post datetime: 2016-08-31T11:43:36+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> You mentioned they seem fine, I suppose they just mill about within their radius parameter?

That's basically it. Although, I've noticed a behavior where distant groups of goats and bears will travel beyond their radii in order to hang out with other packs. probably another default behavior.

Thanks for the explanations, btw! quality stuff

So this is a little weird, apparently TPP specifically crashes when there's more than 6 wolves in a given area, but only when helicopter patrols are toggled on in free-roam with IH, even if it's just one helicopter. I'll just release a helicopter compatible version lol
## Post #1252
- Username: Paul44
- Rank: advanced
- Number of posts: 47
- Joined date: Thu Sep 18, 2014 1:06 am
- Post datetime: 2016-09-01T10:43:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I'm still trying to convert the DLC weapons from PS3, but the FMDL files show a major 'stop' sign.
If anyone with experience in the field could give me some guidance, that would be highly appreciated...

As an example : [ [http://imgur.com/a/3khIa](http://imgur.com/a/3khIa) ]... (anything before this part, I seem to be able to handle)
If you can help, I can provide ample ps3~pc files.

thx in advance.

ps: I wrote a little batchfile to convert 2/4/8-byte pairs in a file (using SFK). let me know if you're interested.

-EDIT-
@nasanhak: unfortunately, that is not the case. A good example is the DLC suit (w/ Black Ocelot). But I did use many PC analogue files, and then had those hexedit-ed to refer to the correct files.

In relation to this: I have converted all shields but was never happy with the Gold/Silver ones (the other 2 are perfect). Based on my current "hex_edit" experience, I tried those again (with small edits). The results: [ [http://imgur.com/a/rpzfX](http://imgur.com/a/rpzfX) ].
As you will notice, the shields show up perfectly while in the helicopter, but in-mission, not so much (in fact, the silver shield is no way near silver...). 
ps: you get the same 'in-field' result while viewing during equipment (pre-mission)

Anyone could tell me which files are used in-field (vs helicopter/ACC based); just to narrow down my research?

If you need more info/files, just ask...
## Post #1253
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-09-03T09:22:43+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Paul44
>
> I'm still trying to convert the DLC weapons from PS3, but the FMDL files show a major 'stop' sign.
If anyone with experience in the field could give me some guidance, that would be highly appreciated...

If the definitive edition on Steam actually has all the PS/Xbox DLC files like the advertising suggests, then you'll have an easier time
## Post #1254
- Username: morbidslinky
- Rank: beginner
- Number of posts: 27
- Joined date: Wed Oct 21, 2015 9:26 am
- Post datetime: 2016-09-07T01:09:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Also I don't think modifying these will achieve much since it will just point to routes that don't exist.
>
> (my kingdom for a route file editor).

Isn't the route information in the .frt files? Maybe we could ask Atvaark to add .frt functionality to his FoxTool...?
## Post #1255
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-09-07T05:43:39+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from morbidslinky
>
> 
Isn't the route information in the .frt files? Maybe we could ask Atvaark to add .frt functionality to his FoxTool...?

I asked back in April, [viewtopic.php?f=10&t=12407&p=117650#p117650](http://forum.xentax.com/viewtopic.php?f=10&t=12407&p=117650#p117650)
Given that Atvaark had mostly moved on from MGSV back in November I'm not hopeful lol.
## Post #1256
- Username: morbidslinky
- Rank: beginner
- Number of posts: 27
- Joined date: Wed Oct 21, 2015 9:26 am
- Post datetime: 2016-09-08T09:23:25+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> 
I asked back in April, viewtopic.php?f=10&t=12407&p=117650#p117650
Given that Atvaark had mostly moved on from MGSV back in November I'm not hopeful lol.

Perhaps if I ask nicely he'll do it =P I might commission it, if he doesn't want to do it for free.

on another note, I'm trying to change donkeys into okapis for a specific area. I edited the fpk, fpkd and pfxs to look the same as an okapi area, however, the game crashes when the area loads. I'm probably overlooking something obvious, so do you have any ideas?

Here's a link to the fpk, fpkd and pftxs I edited. The location is in the jungle area, south of Code Talker's mansion.
[https://drive.google.com/folderview?id= ... sp=sharing](https://drive.google.com/folderview?id=0B4HIOk1QhmKASlZiODBCdHg2Wms&usp=sharing)

In any case, the Africa animal mod is pretty much finished. woo.
## Post #1257
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-09-11T07:01:51+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from morbidslinky
>
> I gave the .fsm files a listen. From what I can hear of the sounds, they're the beginning of cutscenes. You can hear almost entire cutscenes in some instances, but only from very short cutscenes.
I didn't hear the Sortie Prep music like I had hoped, but I did hear the opening to Sins of the Father and The Man Who Sold The World. Those two were used in intros and outros in parts of the game. It's possible that the Sortie Prep music is in the .fsm, but I'd need to hear more of the sound file in order to be sure. In any case, I think I'm done trying to dig up that Peace Walker theme. Thanks for the pointers, mates.

Check radio_all.sbp - File0071 - Sortie Prep music

*BUT* it has a lot of static on it so not sure if it's the exact same track or not.

radio_all.sbp seems to contain all the radio tracks(which is what I was looking into ripping) except Sins of a Father and The Man Who Sold The World. Don't know where those two are. Still haven't found the Peace Walker theme
## Post #1258
- Username: morbidslinky
- Rank: beginner
- Number of posts: 27
- Joined date: Wed Oct 21, 2015 9:26 am
- Post datetime: 2016-09-11T08:55:33+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> Check radio_all.sbp - File0071 - Sortie Prep music

Nah, that's not it. that track's used for Shining Lights, Even in Death. It can also play in quiet's cell, but it's not the sortie prep music. I found the peace walker theme in two other places as well, but they were for other parts of the game, not the sortie prep music.

I appreciate you looking into it, though. I think it's a lost cause IMO, I spent hours listening through those files, with no luck.

On an unrelated note - After I finished adding more animals, I was hoping to add more vehicles to free roam. Places like the airport has an entire parking lot, but only one car, which makes the area feel very deserted. However, I had to stop myself, I still need to find a job IRL haha. I'll have to revisit it.
## Post #1259
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-09-11T10:40:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from morbidslinky
>
> nasanhak wrote:Check radio_all.sbp - File0071 - Sortie Prep music

Nah, that's not it. that track's used for Shining Lights, Even in Death. It can also play in quiet's cell, but it's not the sortie prep music. I found the peace walker theme in two other places as well, but they were for other parts of the game, not the sortie prep music.

I appreciate you looking into it, though. I think it's a lost cause IMO, I spent hours listening through those files, with no luck.

On an unrelated note - After I finished adding more animals, I was hoping to add more vehicles to free roam. Places like the airport has an entire parking lot, but only one car, which makes the area feel very deserted. However, I had to stop myself, I still need to find a job IRL haha. I'll have to revisit it.

Am sorry slinky, I can't help myself:
\chunk1\Assets\tpp\sound\external\tape

[viewtopic.php?p=66311#p66311](http://forum.xentax.com/viewtopic.php?p=66311#p66311)
[http://steamcommunity.com/sharedfiles/f ... =364941272](http://steamcommunity.com/sharedfiles/filedetails/?id=364941272)
[http://steamcommunity.com/sharedfiles/f ... =400150988](http://steamcommunity.com/sharedfiles/filedetails/?id=400150988)

Check the xentax forum on how to convert .wem to .ogg - use the method while it still works. Audio quality isn't that great ~130kbps but still. The first steam guide will show you how to convert any .wav file to .wem. Second one is on adding additional tracks to the game.

Peace Walker theme:
Sortie screen(I think): tp_bgm_02_03.wem
Radio tape: tp_bgm_11_31.wem

The Man Who Sold The World - tp_bgm_11_32.wem
Sins of the Father - tp_bgm_11_33.wem

Cross reference with tpp_cassette.eng.lng2 for an easier time.

As a bonus - GZ's music .wem files (I think all) are already included under that folder! Plus all TPP's cassettes.

Am going to leave the task of trying to mod bgm to you good sir.

PS: Get a job first, I mean that with the best possible intent. This game's modding scene isn't going anywhere.
## Post #1260
- Username: morbidslinky
- Rank: beginner
- Number of posts: 27
- Joined date: Wed Oct 21, 2015 9:26 am
- Post datetime: 2016-09-11T23:33:57+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> 
http://steamcommunity.com/sharedfiles/f ... =364941272
http://steamcommunity.com/sharedfiles/f ... =400150988
m8, I made that custom music tool for ground zeroes. They mentioned me in the first lines.

> Peace Walker theme:
>
> Sortie screen(I think): tp_bgm_02_03.wem
>
> Radio tape: tp_bgm_11_31.wem
tp_bgm_02_03.wem is one of GZ's music files, it's not used in TPP.
tp_bgm_11_31.wem is the cassette tape's music file, which unfortunately isn't the same file as the Sortie Prep music.

the sortie prep music is hidden somewhere else in the game files.
## Post #1261
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-09-12T10:58:10+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> The scraper is basically doing the same thing, so I don't know what's up with that.
I think I found the issue. Apparently LangTool treats whitespace as part of the entry in dictionaries. I remember copy-pasting stuff between quotes so I'm not sure how whitespace got tacked on to the other entries.

Anyway I've been updating the dictionary through guesswork and brute-force for parts of langIds. There are 1,088 additions. tpp_cast_staff, tpp_cassete, and tpp_emblem have mostly complete dictionary entries now. tpp_ending I'm currently working on but it's mostly name_* style langIds so it should be fairly easy to get everything. etc_* is another langId format but I've only seen it used once in tpp_cast_staff for "etc_and". Am I right in assuming a lot of the stuff in the dictionary is garbage text from your scraper? If so I was going to remove stuff like file paths and *|*|* lines.

[lang_dictionary.txt](https://mega.nz/#!n0gDVbjA!CNVqT_lBj9G1VCTevXFzrMdaDyEsDOPBknegk2WNaxE)
[Batch files and several .txt files with varying string formats](https://mega.nz/#!HhxzlJjS!SiJ_xQ4OF35oZfdfWyzfV4did63dILWNPUjCstqzaWk)

I'm using a couple of batch scripts to generate alphanumeric combinations, with characters on the ends so you can create strings for LangTool to try. Basically if a langId has the value "Kazuhira Miller" and none of the other file keys have a dictionary entry to base your guess off of, it's probably just lowercase 2-5 characters prefacing the rest (string_Kazuhira_Miller, string_kazuhira_miller, string_kaz).

numGen.cmd

```
set count=-1
set count2=0
goto :text_n5_n2
:: ------------------------Block generates x_00000_00_y entries
:f_calc_n5_n2
set /a count+=1
set /a count2+=1
set mC=0000%count%
set mC=%mC:~-5%
for /l %%G in (0,1,9) do echo x_%mC%_0%%G_y>> lang_dictionary.txt
for /l %%G in (10,1,99) do echo x_%mC%_%%G_y>> lang_dictionary.txt
goto :eof

:text_n5_n2
if %count2% GEQ 99999 (call :done)
call :f_calc_n5_n2
if %count2% LSS 99999 (call :f_calc_n5_n2)
goto :recurser__text_n5_n2

:recurser__text_n5_n2
if %count2% LSS 99999 (goto :text_n5_n2)
exit

::------------------------x_00_y entries
:f_calc_n2
for /l %%G in (0,1,9) do echo x_0%%G_y>> lang_dictionary.txt
for /l %%G in (10,1,99) do echo x_%%G_y>> lang_dictionary.txt
exit

:done
exit
```


The first block had to be coded in the manner it is instead of a simple self-loop because the script would terminate after hitting a max recursion count after ~560. Just change the goto at the start of the script to whatever generation you want to do. For 0_0 blocks point it towards text_n#_n# and for straight counts point it to an individual f_calc_n# block. The .cmd has a few variations in it already.

alphaNumGen.cmd ([this guy's script](http://stackoverflow.com/questions/21583054/how-to-generate-string-for-bruteforce-attack-using-batchfile))

```
:: change that to the ones you want to use

:: you can throw in a couple lines for generating numbers as well here
:: aA00 processes pretty quickly
:INFINITE_LOOP
CALL :READ_ITER "%ITER_FILE%" _ITER_CONTENTS
echo X^&__!_ITER_CONTENTS!__^&Y>>"%~dp0NameLangBuild.txt" & echo X^&__!_ITER_CONTENTS!__^&Y
CALL :NEXT_ITER "%ITER_FILE%"

GOTO :INFINITE_LOOP

EXIT /B
```


That's not all of it of course, but I didn't want to turn my post into a giant wall of text. For an i5-2500k cpu with a few other processes running it's ~3.5 hours to generate a 4 character length string made up of 26 characters. If you want it to go 5 characters it would take over 48 hours, so keep that in mind when choosing how many characters to use. After a certain point it's also more time-efficient to just replace a leading character with each additional one you want to use (instead of processing x99999y do x9999y and replace the x with a 0, copy-paste to a new file, then replace x with 1 and so on).

Edit: Typos. Btw tex I put your dictionary in a batch tool I threw on Nexus a few days ago. I figured you wouldn't mind, just letting you know. Speaking of, cmd's echo isn't being very helpful for debugging today. [") was unexpected at this time"](http://i.imgur.com/y4aIL07.png). It would be nice if Microsoft updated it to point out what command was causing the syntax error when used inside of an if statement on a single line. Or said something that doesn't immediately make you think you forgot an open parenthesis somewhere. It's a pita to have to break down everything into multiple lines to diagnose the issue. /rant

Edit 2: Turns out it wasn't an issue with certain commands or anything being on a single line. I removed a variable set to an unpacker tool for some reason. So instead of reading it as (if not exist %directoryVar% (command)) it read it as (if not exist (command)). I'm both glad the rest is running fine and bewildered about why it reads a non-existent variable as an empty space in the batch file but handles a similar argument fine when typed into the cmd.
## Post #1262
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-09-12T13:53:58+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from morbidslinky
>
> 
m8, I made that custom music tool for ground zeroes. They mentioned me in the first lines.

Damn, I didn't look at the username. I feel like quite the idiot now CalibratedMishap sir.
## Post #1263
- Username: morbidslinky
- Rank: beginner
- Number of posts: 27
- Joined date: Wed Oct 21, 2015 9:26 am
- Post datetime: 2016-09-12T22:25:47+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> morbidslinky wrote:
m8, I made that custom music tool for ground zeroes. They mentioned me in the first lines.


Damn, I didn't look at the username. I feel like quite the idiot now CalibratedMishap sir.

=P lol
## Post #1264
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-09-17T08:59:20+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from morbidslinky
>
> 
on another note, I'm trying to change donkeys into okapis for a specific area. I edited the fpk, fpkd and pfxs to look the same as an okapi area, however, the game crashes when the area loads. I'm probably overlooking something obvious, so do you have any ideas?
[https://imgur.com/a/P4vuC](https://imgur.com/a/P4vuC)

You have to repack the fpkd so it's file order is close to it's original. Manually edit its fpkd.xml so its

    <Entry FilePath="/Assets/tpp/level/mission2/animal/lab_IN_S/anml_lab_IN_S_00.fox2" />
    <Entry FilePath="/Assets/tpp/parts/chara/okp/okp0_main0_def_v00.parts" />
    <Entry FilePath="/Assets/tpp/effect/vfx_data/fire/fx_tpp_firchr02_s2.vfx" />
    <Entry FilePath="/Assets/tpp/parts/chara/hrs/hrs0_targetdefense.tgt" />
    <Entry FilePath="/Assets/tpp/script/mission/animal_block.lua" />

You'll probably have to manually pack it into 00.dat too since I think snakebite likes to mess with the file order.

This is another weirdness that I brought up with Atvaark, but hadn't got to the bottom of it.

Basically: fpkds that have fox2s inside them are very sensitive to file order (the problem may extend to fpkds and or fpks in general, but fpkd+fox2 is what I've been able to trigger the issue reliably with)

My theory (again, not really being that great with file formats) is either there's some defined extension order that they like to be in (but then how would it know when the data changes from one type to the next), or there was some other aspect to the file format that was overlooked.
Looking a bunch of fpkd.xmls you'll see files are grouped by type, and in the same orders, but as fpks have different types would have to build some type of tool to try and reconstuct the order for all types (if that's actually what's needed).

The side effects of fpkds with 'bad' order range from hard crash (like you saw), or extreme memory leak (several GB in a minute), seems pretty much in keeping with trying to stream load data going wrong.

I've also thrown up an example head/fova mod on the IH files page for those who want to try stuff.

> Reply from CantStoptheBipBop
>
> 
Anyway I've been updating the dictionary through guesswork and brute-force for parts of langIds.

Nice work.

For my extraction duties I mostly shifted to powershell scripts for lighter stuff and thrashed together C# programs for stuff complicated enough to need decent debugging.

I'll try to look through your stuff when I get time, likewise Pauls. emoose probably had some similar tools back when he was doing the main dict project, I probably should have thought to ask him about it at the time.
## Post #1265
- Username: morbidslinky
- Rank: beginner
- Number of posts: 27
- Joined date: Wed Oct 21, 2015 9:26 am
- Post datetime: 2016-09-18T11:21:11+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Thanks Tex, I honestly don't know where we'd be without you.

> Reply from Tex
>
> You'll probably have to manually pack it into 00.dat too since I think snakebite likes to mess with the file order.
I'm glad you caught this. I would've been at it for hours, otherwise.
## Post #1266
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-09-19T02:13:52+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> thrashed together C# programs for stuff complicated enough to need decent debugging.

Decent debugging sounds nice right about now. I must have spent hours over the past few days trying to figure out why my files counts were so off. Apparently 'for do' loops in batch treat anything on the same line as another command that it needs to execute. Kinda obvious in hindsight since & tells cmd to treat the next command as part of one line, but uh... whatever.  

```
:f_UnpackFfnt
for /r %%G in (*.ffnt) do ("%~dp0unpacker_tools\foxTrans\FfntTool.exe" "%%G")& exit /b

:: Will run on every .ffnt file it finds before returning
:f_UnpackFfnt
for /r %%G in (*.ffnt) do ("%~dp0unpacker_tools\foxTrans\FfntTool.exe" "%%G")
exit /b
```

[lang_dictionary.txt with ~460 additions](https://mega.nz/#!rxZ2AA6L!nlXm8uzaQepaDo8JYVZxmWrsCs9O774UEjTQAzD_nAo) (also .txt files listing additions/removals)
[updated .bats with dictionary attack .cmd and more strings](https://mega.nz/#!rtBzVSoQ!0vswqSWm3rNPQssQttkR0y_xH9JXPKIPrBJmQPftXJg) (355mb unpacked, 7zip archive)

I added some more definitions and purged some lines I figured weren't used for anything (file paths and whatnot) so the dictionary is a little under half the size it was before. That should speed up LangTool and duplicate removal scripts quite a bit. I did a count with notepad++ and there are at least 22,428 entries that aren't being used (16,121 total entry keys in the 36 lng files). I'll have to take a crack at some of those at some point. I tried a dictionary attack method of generating langIds and have had a ton of success with it so far. Credit to whoever wrote the original random string grab on Stack Overflow. I just hacked it up to run fast and form a dictionary. After 10,000kb it does two word generation at roughly 84kb per minute and once it gets closer to 20,000kb it slows down to 60kb per minute. It would probably be more efficient to stop it every 15,000kb and paste the results into a master dictionary file.

```
set "file=dictList.txt"
for /f %%G in ('findstr "." "%file%"^|find /c /v ""') do set l=%%G
:loop
set n=0& call :rL
goto :loop
:rL
set /a n+=1
set /a "skip=%random% %% %l%"
if %skip% lss 1 (set "skip=") else set "skip=skip^=%skip%"
for /f usebackq^ %skip%^ delims^=^ eol^= %%G in ("%file%") do (
if %n% == 1 (set a=%%G& call :rL)
if %n% == 2 (set b=%%G& echo @%a%_%b%#>> dictAtk.txt)
exit /b)
:: if %n% == 3 (set c=%%G)
```


Quick note for anyone planning to use it: don't place comments or empty lines anywhere between the :loop label and the end of the for loop. It has been a few days since I've tested it so I'm spacing on the word generation count I set it for, but a single REM'd line within the for loop caused it to take 3 minutes longer to generate the same number of words as the version with the unused line moved to the bottom of the script. That made me curious how much of a time difference it made to start a line with :: (or any syntax error), a blank line, or REM. The results are pretty interesting, albeit mostly only applicable to brute-force scripts or any with constant looping or recursion.

I dialed the test up to the extreme and created 1036 lines between the :loop label and the for loop.

```
\r=end of line
\n=start of line

REM\r = 5317.4603174603174603174603174603
:: \r	= 12350.230414746543778801843317972
::\r   =  Didn't save result. But a couple of minutes faster than a blank line.
\n\r	= 12884.615384615384615384615384615

```


The summary is REM lines run twice as slow as :: or blank lines. :: followed by a space is slightly slower than blank lines and :: by itself is a bit faster to read than a blank line.

Edit: Forgot how to first-grade math. 84 and 60kb per minute.
## Post #1267
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-09-19T08:36:51+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from CantStoptheBipBop
>
> 
lang_dictionary.txt with ~460 additions (also .txt files listing additions/removals)

It would be really nice of you to make a github repository to track additions and changes, something like [https://github.com/secaproject/MGSV-QAR ... ry-Project](https://github.com/secaproject/MGSV-QAR-Dictionary-Project).
## Post #1268
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-09-19T10:00:09+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> It would be really nice of you to make a github repository to track additions and changes, something like https://github.com/secaproject/MGSV-QAR ... ry-Project.

Good idea. I'll let Tex create it if he wants to since he started it AFAIK. That would make it much easier to monitor changes and add some visibility to it. And maybe get some more people contributing to it. I've somewhat exhausted my two-word searches so I'll have to add some more entries for the dictionary attack .cmd to use later. I'll put up some file count statistics like the QAR project has later since I've got some free time today.
## Post #1269
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-09-22T08:58:44+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from CantStoptheBipBop
>
> unknown123 wrote:It would be really nice of you to make a github repository to track additions and changes, something like https://github.com/secaproject/MGSV-QAR ... ry-Project.
Good idea. I'll let Tex create it if he wants to since he started it AFAIK.

You've put more work on it than I, you should make it.
Might be good to throw up your batch files/description of your process as documentation on how it was build may be useful for future reference.
You can mention the starting point was just a scrape of lua strings.

In other news, a tale of embarrassing oversight that could have saved me/others a lot of pain.

So the lua io functions work, or at least partially.

Rambling explanation you're free to skip:
I had tried them very early on, I guess a year ago lol but didn't have any success.
But I was comparatively an idiot lua wise (I'm still an idiot in the grand scheme of things), I put it aside in my mind mistakenly chalking it up to Konami blocking the functions - though that conclusion was backed up by Konami stripping a lot of debug stuff out of the retail build, and under some theory of stuff needing to be sanitized for console.

nasanhak, you heard this foolish explanation from me before, many moons ago, so sorry for putting you wrong on that.

Finally had another attempt at using the functions as a follow up to IHs Profile feature.

Back to the real world:
There's still some oddness, read and write mode work, but append mode doesn't seem to, it returns 'Domain error', same message for trying to read non existent files. No real google hits on that so I guess it's a message specific to fox engine.

Still need to do more testing, but there's a bunch of features I put on the shelf back when (mostly focusing on ease of use for the IH user rather than gameplay), so will be nice to belatedly get to those.
## Post #1270
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-09-22T09:29:17+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> 
nasanhak, you heard this foolish explanation from me before, many moons ago, so sorry for putting you wrong on that.

Tex you are a genius. I had been thinking about looking into I/O again myself (when I mentioned the 99 limit on the iDroid logs) but never got around to it with little free time on hand. This completely changes how far we can look into globals and suddenly opens up a whole new dimension to what may be possible with lua modding.

Not to mention way easier debugs
## Post #1271
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-09-22T11:37:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

You're taking that wrong. I am, and always will be, a fool.
Should probably shift (most of) our conversations to here, this probably would have been rectified earlier with more eyes on it/not in PM.

Still hitting 'Domain error' for non existing file in append mode, and no change writing to existing file in append
Ditto r+ mode, so cant seek("end"), write, to emulate append.

Same code works fine in a separate lua vm (via LDT)
## Post #1272
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-09-22T11:46:04+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

From our PM:

Here's a bit of an improvement to the file logs:

```


local elapsedTime=Time.GetRawElapsedTimeSinceStartUp()
  local elapsedTime=os.date("%H.%M.%S").."_"..elapsedTime
  --tex TODO os time?
```


EDIT2: Also:

```
local readHandle = handle:read'*l'
handle:close()

this.gamePath=readHandle--works! def path is MGSV_TPP.exe path
```


Still need to create the logs folder manually though, a os.execute("mkdir") should be enough but you knw, cmd opens up n everything 

You can create a new log file every time and save the hassle of appends plus like you've mentioned the file being very big won't be an issue this way. Logs won't really serve any purpose to the end user, if you're monitoring for something then you'd be sure to rename the log anyway.

Also if the folder doesn't exist and a file open is used, the error is Response is too big
## Post #1273
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-09-23T01:25:54+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> You've put more work on it than I, you should make it.
Might be good to throw up your batch files/description of your process as documentation on how it was build may be useful for future reference.
You can mention the starting point was just a scrape of lua strings.

lol I think the unoffical lang count puts it more like 50/50, with it weighing a little more in your favor . Well if you're cool with it then sure. I'm currently sitting on a 2,000+ entry update for it that completes basically all of tpp_quest, most of tpp_mission and tpp_ending, and adds quite a few to tpp_system, tpp_system_*, and some others. I can't figure out what the LangId style is for tpp_gmp_mission (dispatch missions) is. I figured it would be similar to mission where it's "name/info_locationNum_missionID_optionalNum" or quest where it's "name/info_[q]sideOpID" but I'm not having any luck with it. The last six I couldn't figure out in quest were the Driver's Ed side ops. Either they changed the names to something not matching the format of the rest, or the reason I can't resolve it is that it uses an older name format from an earlier stage of development. I'm guessing the latter, since they didn't do anything crazy to Battle Gear's LangIds.

I took lang_dictionary.txt to fat camp and it lost 91.4% of it's weight. It's now sitting at a fit 234 kb. There are still quite a few excess entries in there but it should still be a huge speed improvement since LangTool doesn't need to read through an absurd amount of lines now. I verified langId counts for MGO3 and TPP before and after the trimming.

Btw I've never toyed with GZ's game files. Can anyone explain the deal with data00.g0s? Apparently GzsTool can't unpack it and my searching resulted in a whole lot of nothing. Most of the results just point to unrelated things and Physics .pdf files for some reason.
## Post #1274
- Username: SuperflyJohnson
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Thu Feb 04, 2016 7:11 am
- Post datetime: 2016-09-23T07:39:25+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from CantStoptheBipBop
>
> Can anyone explain the deal with data00.g0s?I think that's just a prerendered cutscene.
## Post #1275
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-09-23T07:58:04+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

All Globals printed for anybody wanting to look in without worrying about doing their own IO.

Ignore the following functions in table TppPlayer as they are custom:
DebugPrint
PrintLogs
PrintToFileTex
CopyLogToPrev
InspectEverything

Ignore the complete table InfInspect

[https://mega.nz/#!6oAmlKZb!YBaYy7SGbj7a ... rEO31cS_Wk](https://mega.nz/#!6oAmlKZb!YBaYy7SGbj7aOdlVZBgOGIkVy5RUld6jprEO31cS_Wk)

The game at some point was going to have voice commands.

These logs serve very little purpose other than to discover some hidden functions(which would be very difficult to know how to call anyway) and to show how data is setup in a number of tables for easier manipulation
## Post #1276
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-09-23T10:27:06+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> All Globals printed for anybody wanting to look in without worrying about doing their own IO.

Ignore the following functions in table TppPlayer as they are custom:
DebugPrint
PrintLogs
PrintToFileTex
CopyLogToPrev
InspectEverything

Ignore the complete table InfInspect

https://mega.nz/#!6oAmlKZb!YBaYy7SGbj7a ... rEO31cS_Wk

The game at some point was going to have voice commands.

These logs serve very little purpose other than to discover some hidden functions(which would be very difficult to know how to call anyway) and to show how data is setup in a number of tables for easier manipulation
[https://github.com/unknown321/mgsvdump/](https://github.com/unknown321/mgsvdump/) - globals
[https://github.com/unknown321/mgsv_lua_dump](https://github.com/unknown321/mgsv_lua_dump) - all luas in the game including ones from gz.

> Reply from nasanhak
>
> discover some hidden functions(which would be very difficult to know how to call anyway)
some of them are used in ground zeroes
## Post #1277
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-09-23T11:30:12+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> 
https://github.com/unknown321/mgsvdump/ - globals
https://github.com/unknown321/mgsv_lua_dump - all luas in the game including ones from gz.

Okay wow was not aware. You really know your Lua. Am not gonna care about looking dumb and just ask. What are these "imports" for?

```
local helpers = require("helpers")

```


Lua libraries or C librariers? Works in the game? C classes can be loaded alongside? If Lua libs then why the explicit require. Yes I am a novice novice.

Anyway, went through your dumps and they look pretty neat. Although I used Inpect.lua and the end result is a lot more readable. Of course it's all in one single file and not separated into table/function folders.

I also did dumps for all free roam locations. TBH they aren't going to be of much use to anyone not working with the code but doesn't hurt having a point of reference every time you want to check how the any table is setup etc.

Did the tostring() attempts fail or is there something wrong with my browser? AFAIK, functions are StrCode32-ed as well in a lot of places.

Mr unknown123, on a completely separate note, I couldn't help but notice that you have figured out how weapon mods work. And had I discovered your work earlier, it would have saved me a lot of time doing the same thing over. I'd like to share this:

[https://mega.nz/#!Wlg1ESgI!b5dRyxpflP8_ ... akTX8DD9A0](https://mega.nz/#!Wlg1ESgI!b5dRyxpflP8_LrDOV7ZgIbCEjwJGFlEIVakTX8DD9A0)

I regex-ed my way to a script that is capable of loading all weapon parts on all receivers. This of course does not work as well as you'd want. The game can apply *all* of any 2-3 parts types (depending on individual numbers) to *all* receivers before it will stop applying further parts.

There is definitely an instance/numerical limit in place somewhere.

You can however, apply let's say scopes and silencers to all guns (in addition to what the game already applies). I was going to map which receivers are capable of correctly working(I mean do not look broken) with *all* of the parts of a particular type but the process is long and slow and haven't gotten around to it yet.

It should also be possible to map which receiver is compatible with each part type (as well as each individual part, if I ever end up with nothing else to do) to but the effort required on that would be insane. Haven't figured out a way to switch parts while in game and the easiest way I know of is to change the file and rebuild the data file, boot the game.
## Post #1278
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-09-23T15:00:48+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> 
Code: Select alllocal persistence = require("persistence")
local helpers = require("helpers")
My custom Lua libraries. [https://github.com/unknown321/mgsv_rese ... pages/mods](https://github.com/unknown321/mgsv_research/tree/gh-pages/mods). Persistence is for dumping, I had to modify it a little. Helpers are duh, helpers.

> Reply from nasanhak
>
> Did the tostring() attempts fail
If you are talking about [[loadstring()]] ones, they are defined in lua files and there is no need to include them in the dump.

> Reply from nasanhak
>
> The game can apply *all* of any 2-3 parts types (depending on individual numbers) to *all* receivers before it will stop applying further parts.
Are you sure about *all* part? You can put anything on a gun, yes, but there are cases when game fails to load gun parts (or at least I think so), there is an example on github ("Changing frame to RASP SG+P with more slots, game hangs on sortie prep: "). Silencers and optics are universal, can confirm that.

> Reply from nasanhak
>
> I was going to map which receivers are capable of correctly working
Not worth it, however you can speed it up a little.

> Reply from nasanhak
>
> Haven't figured out a way to switch parts while in game
[https://github.com/unknown321/mgsv_rese ... 698f116e06](https://github.com/unknown321/mgsv_research/commit/5eef167bb46dba4b0596ec415e2a86698f116e06) my old script, it should make things clear. It is incompatible with stuff I made, but if you are interested, I can make it slightly better. After changing a part you'll have to reload the gun - change to another gun category (on sortie prep screen) or call a supply drop with that gun.
## Post #1279
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-09-23T15:42:40+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Awesome work guys. I had no idea people were putting stuff like this together.

> Reply from nasanhak
>
> These logs serve very little purpose other than to discover some hidden functions(which would be very difficult to know how to call anyway) and to show how data is setup in a number of tables for easier manipulation

Due to a mixture of extreme boredom and curiosity I decided to take the keys from ACC_afterAfgh_inspect.txt and throw them into a massive .xml file for LangTool to decipher. Tex's last lang_dictionary scrape (should be a few pages back if you don't have it) actually resolves quite a few of those consistently. 3,576 in total and 791 Id's created. It's not really something I've got knowledge about but I figured if LangTool could determine LangIds from keys in .lng files that the same concept could apply here. Just figured I'd share.

[test .lng file](https://mega.nz/#!n9xQ3LhD!IJH8zZSBDO0lfQEakUd-UoKgOYzu6iC_61EoB0GqONE)

I'll edit in a lang_dictionary update or something later. I added Side Op mission codes to the [Nexus Wiki](http://wiki.tesnexus.com/index.php/Mission_codes#Side_Op_mission_codes) for anyone that's interested.
## Post #1280
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-09-23T18:10:30+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> 
Are you sure about *all* part? You can put anything on a gun, yes, but there are cases when game fails to load gun parts (or at least I think so), there is an example on github ("Changing frame to RASP SG+P with more slots, game hangs on sortie prep: "). Silencers and optics are universal, can confirm that.
I don't know exactly what you meant by the above but I think you were attempting to load additional parts onto the Urugan-SG. Attempting to change the receiver would unlock more parts, since the parts are mapped to receivers but like you mentioned it would fuck up after sortie prep. Most likely cause the game expects the Urugan receiver in place of the Rasp.

My script simply applies any and all parts to a receiver, allowing previously locked parts to be unlocked for that receiver.

[http://imgur.com/a/40uGl](http://imgur.com/a/40uGl)

Applying under barrel grenades to a gun that doesn't support them only leaves you firing grenades launchers. I recorded a video but somehow it ended up being 5GB and I don't feel like waiting an hour to upload(also output is skewed in VirtualDub for some reason, thank you Afterburner), but the game works fine with this approach.

This script unlocks all parts *only* for the Urugan and all Shotguns(since i didn't know the RASP receiver): 
[https://mega.nz/#!6ogjVRgS!glNz3av0Q4AY ... ferxzpdm2g](https://mega.nz/#!6ogjVRgS!glNz3av0Q4AY2U0Jcc3A8AMOW9ggZhv11ferxzpdm2g)

Also this is why I feel like mapping each part that would work with a receiver. As a general rule, don't apply barrels the gun's ammo doesn't work with cause once deployed you'll have 0/0 ammo for it.

> Reply from unknown123
>
> 
https://github.com/unknown321/mgsv_rese ... 698f116e06 my old script, it should make things clear. It is incompatible with stuff I made, but if you are interested, I can make it slightly better. After changing a part you'll have to reload the gun - change to another gun category (on sortie prep screen) or call a supply drop with that gun.

Thanks for the script, I'll see what I can do with it. Also pretty epic work on all the weapons tables - I don't have to map receiver names anymore manually. Just how did you achieve it anyway?

> Reply from CantStoptheBipBop
>
> I added Side Op mission codes to the Nexus Wiki for anyone that's interested.
Thank you
## Post #1281
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-09-23T19:25:00+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> I don't know exactly what you meant by the above but I think you were attempting to load additional parts onto the Urugan-SG.
Exactly.

> Reply from nasanhak
>
> Also pretty epic work on all the weapons tables - I don't have to map receiver names anymore manually. Just how did you achieve it anyway?
Part names are there - tpp_parts.eng.lng2.xml which is buried in chunk0 and 00.dat, look for lang_tpp_parts_eng.fpk.
[https://github.com/unknown321/mgsmonste ... s/scripts/](https://github.com/unknown321/mgsmonsterguns/blob/gh-pages/scripts/) - python script that gathers all that stuff into json files.
## Post #1282
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-09-23T21:11:02+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> https://github.com/unknown321/mgsvdump/ - globals
https://github.com/unknown321/mgsv_lua_dump - all luas in the game including ones from gz.

Oh crap, I remember coming across your guns info some time after you started it, but remember mentally putting it aside to actually look at at some point, then forgot about it. One flaw is I get my head stuck in my own code and don't check out others stuff as I should.
And skimming your other repos geeze you've done a lot of work man, good stuff. You should have advertised more heh.

Seeing your script loader I realize I've been unwittingly following in the same path, been breaking out chunks of IH (the menu/commands definitions) so I can reload while in-game, which looking now seems similar to what you have.

You might want to grab/adapt the 'installer' batch file from Threesocks weapon drop weapon mod since it can patch the Tpp.lua requires and TppMain.lua OnUpdate module list, because including a some patched version of IHs files is going to cause trouble with the rate I modify stuff.
Of note that batch has a limitation where it breaks if Tpp/TppMain files have any empty lines, not an issue for the vanilla game files, and I keep IHs versions with that in mind.

And speaking on the batch front, any one know of a batch way to get TPPs install folder? 
I did a look through regedit to see if there's any useful key, all I've found is an uninstaller key "HKLM\SOFTWARE\WOW6432Node\Microsoft\Windows\CurrentVersion\Uninstall\Steam App 287700"
But don't know how consistent that is across users.

> Reply from CantStoptheBipBop
>
> 
Due to a mixture of extreme boredom and curiosity I decided to take the keys from ACC_afterAfgh_inspect.txt and throw them into a massive .xml file for LangTool to decipher. Tex's last lang_dictionary scrape (should be a few pages back if you don't have it) actually resolves quite a few of those consistently. 3,576 in total and 791 Id's created. It's not really something I've got knowledge about but I figured if LangTool could determine LangIds from keys in .lng files that the same concept could apply here. Just figured I'd share.

Nice idea.
I think an approach would be to load the langdict from in-game and use fox.strcode32 to try and get matches.
Or (likely better performance) build an external tool with the lang tool strcode/cityhash function to do it on the external dumps - which would just be a more custom version of what bipbop it doing.
(not volunteering to do that yet heh).
## Post #1283
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-09-23T21:52:31+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from SuperflyJohnson
>
> I think that's just a prerendered cutscene.

Thanks man. That was bugging me.

> Reply from Tex
>
> And speaking on the batch front, any one know of a batch way to get TPPs install folder? 
I did a look through regedit to see if there's any useful key, all I've found is an uninstaller key "HKLM\SOFTWARE\WOW6432Node\Microsoft\Windows\CurrentVersion\Uninstall\Steam App 287700"
But don't know how consistent that is across users.

I don't know how you're intending to do it but you could just tell people to drop the batch file in their steam folder. "%~dp0" adds quotes to the file path to account for spaces and doesn't need to know the directories before it. Unless you mean something else.

```
cd "%~dp0steamapps\common\MGS_TPP\master"

::same as "C:\Program Files (x86)\Steam\steamapps\common\MGS_TPP\master"
```


If you're trying to do it from the cmd I guess you could throw in an if else condition to account for 32/64 differences. If they changed the default install location then I'd almost say it's not worth the effort trying to track down a registry key for a universal solution but that's just me. Again, unless I'm misunderstanding why you're asking.

Edit: [lang_dictionary.txt](https://mega.nz/#!aoAkzITD!Ti0lR4GDeXvaTHsmkwMsDjzPrW2YEkFUhbTjsihCmuI)

Added 2,246 entries. Removed one that I'm assuming is a false positive or something from LangTool. I'll have to test it out later. Had a couple duplicates hiding in it. Looks like I was looking at the old lang dictionary for the stated removal percent or something, but essentially the same as I was saying before.

IDs LangTool resolves but seem like non-sense when looking at the values they're for and other IDs:
bino_listen
rough_diamonds_curing (for a code talker mission task iirc)
callheli_destroyed_boaster
## Post #1284
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-09-23T22:47:04+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

On the topic of weapons, I sort of got Skullface's gun (aka SKULL CUSTOM) into the game.



It's unusable though. You can't shoot it, or even aim with it. All of the necessary information appears to be there for it to work though, so I think there might be a piece of code disabling it from being used. I'll search a bit more to see what I can find.
## Post #1285
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-09-24T00:09:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> On the topic of weapons, I sort of got Skullface's gun (aka SKULL CUSTOM) into the game.

Sweet. How'd you manage that? I'm curious how you got around the infinite loading issue when trying to add it to your inventory. And yeah the code for it seemed to all be there the last time I check as well. Including ammo, damage parameters, etc. Just something locking it to the two Skullface cut-scenes I guess? The wooden AR the child soldiers carry is actually used in-game but has the same load issue as with Skullface's gun and console DLC if you try to equip it.

I tried the LangIds I wrote off as false positives in-game and they actually work fine, which makes my job significantly easier. Time to spam LangTool with millions of lines consisting of random four-word combos and seeing what sticks then.
## Post #1286
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-09-24T01:00:45+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from CantStoptheBipBop
>
> Sweet. How'd you manage that? I'm curious how you got around the infinite loading issue when trying to add it to your inventory. And yeah the code for it seemed to all be there the last time I check as well. Including ammo, damage parameters, etc. Just something locking it to the two Skullface cut-scenes I guess? The wooden AR the child soldiers carry is actually used in-game but has the same load issue as with Skullface's gun and console DLC if you try to equip it.
I used a function for changing equipment I came across while digging through the mission files. I figured there'd be one for guns since there's a similar function for outfits. Then I decided to see if it would work for equipping the unobtainable weapons.

```
    equipId = TppEquip.EQP_WP_SkullFace_hg_010,
    stock = 90,
    stockSub = 0,
    ammo = 6,
    ammoSub = 0,
    suppressorLife = 0,
    isSuppressorOn = false,
    isLightOn = false,
    toActive = true,
    dropPrevEquip = true,
}
```
## Post #1287
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2016-09-24T02:28:20+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> 
It's unusable though. You can't shoot it, or even aim with it. All of the necessary information appears to be there for it to work though, so I think there might be a piece of code disabling it from being used. I'll search a bit more to see what I can find.

Cant you just replace the model to another gun?
## Post #1288
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-09-24T05:49:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Ashtails
>
> Cant you just replace the model to another gun?
Yes, but if I get this working, it'll actually bring the gun in with its correct stats, etc..., rather than just be a model swap over another weapon.
## Post #1289
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-09-24T07:04:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from CantStoptheBipBop
>
> I'm curious how you got around the infinite loading issue when trying to add it to your inventory.
You can also equip them on soldiers and the game loads fine. Infact any weapon that is NPC equippable will load just fine. Check EquipIdTable or I can share the list of all NPC equippable guns and what works and what doesn't. Player weapons however cannot be equipped onto NPCs.

> Reply from CantStoptheBipBop
>
> And yeah the code for it seemed to all be there the last time I check as well. Including ammo, damage parameters, etc. Just something locking it to the two Skullface cut-scenes I guess?
Most likely cause it is not fired during the cutscenes - just an anime. Same for child soldier wooden guns, they are assigned for M13 Pitch Dark but can't be picked up right. Because the data isn't there. Equipping them on enemy soldiers will spawn fine but you still can't pick them up.

From my testing, a gun consists of different code that handles different parts - equip icon, equipping, ADS sights textures, zoom sights textures, aim anim, shoot anim etc etc. Basically EVERY weapon in the game is the result of the chimera weapons system - even the soldier weapons. And every weapon needs a minimum set of parts for full functionality. If a part is missing then you''ll find broken functionality.

For example, equipping a ZZZ pistol onto enemy soldiers and then *snatching* it off their hands will allow you to use the pistol just fine. However, the anim for loading every shot in the chamber will not play out this way, until you drop the gun and pick it up again. Then it works fine. There seem to be triggers in place with the weapons system.

Quiet's weapons can be loaded this way into the game as well - but again are broken. Although, her Brennan(invisible as it was) could be fired last time I checked. But only by the player. NPCs couldn't fire it. Meaning there is separate data for NPC firing and player firing as well.

It may be as simple as adding parts to the weapon combination. I know soldier weapons have parts files they refer to so that the weapons are not "constructed" every time - check EquipIdTable. But haven't tried changing or modding these files yet. Player weapons are "constructed" through numerous different files but haven't ever bothered looking through that data either.

Here is a very long list of every NPC equippable weapon so far.

-X means ADS missing textures or equip Icons - or equipping or missing firing functionality
All PR weapons seem to be place holder weapons for cutscenes(as some of you already know)

```
--      HANDGUN2=TppEquip.EQP_WP_West_hg_020,
--      SMG=TppEquip.EQP_WP_East_sm_020,
--      SMG2=TppEquip.EQP_WP_West_sm_020,
--      SMG3=TppEquip.EQP_WP_East_sm_010,
--      SHOTGUN=TppEquip.EQP_WP_Com_sg_020_FL,
--      SHOTGUN2=TppEquip.EQP_WP_Com_sg_011_FL,
--      ASSAULT=TppEquip.EQP_WP_East_ar_030_FL, --default
----      ASSAULT2=TppEquip.EQP_WP_West_ar_020_FL, --
----      ASSAULT2=TppEquip.EQP_WP_East_ar_020, --not work
----      ASSAULT3=TppEquip.EQP_WP_East_ar_010_FL, --works
--      ASSAULT2=TppEquip.EQP_WP_West_ar_050,
--      ASSAULT3=TppEquip.EQP_WP_West_ar_030,
--      SNIPER=TppEquip.EQP_WP_EX_sr_000,
--      SNIPER2=TppEquip.EQP_WP_West_sr_010,
--      SNIPER3=TppEquip.EQP_WP_West_sr_011,
--      SNIPER4=TppEquip.EQP_WP_West_sr_020,
--      SNIPER5=TppEquip.EQP_WP_East_sr_011,
--      SNIPER6=TppEquip.EQP_WP_East_sr_020,
--      MG=TppEquip.EQP_WP_West_mg_030,
--      MG2=TppEquip.EQP_WP_West_mg_010,
--      MG3=TppEquip.EQP_WP_East_mg_010,
--      MISSILE=TppEquip.EQP_WP_Com_ms_020,
--      MISSILE2=TppEquip.EQP_WP_West_ms_010,
--      --      GRENADE=TppEquip.EQP_SWP_Grenade_G05, --r16 these don't work, maybe? --TODO WIP test
--      --      STUN_GRENADE=TppEquip.EQP_SWP_StunGrenade_G03,
--      --      SMOKE_GRENADE=TppEquip.EQP_SWP_SmokeGrenade_G04,
--      --      GRENADE_LAUNCHER=TppEquip.EQP_WP_EX_gl_000,
--      SHIELD=TppEquip.EQP_SLD_SV


--r13 testing results
----      HANDGUN=TppEquip.EQP_WP_West_hg_010,      --AM D114 Grade 1
----      HANDGUN=TppEquip.EQP_WP_West_hg_010_WG,   --X
--      HANDGUN=TppEquip.EQP_WP_West_hg_020,      --AM D114 Grade 4 + FL + SUP *BEST* EQUIP:
----      HANDGUN=TppEquip.EQP_WP_West_hg_030,      --Geist P3 Grade 4, shotgun icon, not useful
----      HANDGUN=TppEquip.EQP_WP_West_hg_030_cmn,  --X
----      HANDGUN=TppEquip.EQP_WP_East_hg_010,      --Burkov Grade 1
----      HANDGUN=TppEquip.EQP_WP_West_thg_010,     --WU S.Pistol Grade 1 ZZZ, Broken reload when disarmed
----      HANDGUN=TppEquip.EQP_WP_West_thg_020,     --WU S.Pistol Grade 2 ZZZ No SUP, Broken reload when disarmed
----      HANDGUN=TppEquip.EQP_WP_West_thg_030,     --WU S.Pistol Grade 5 ZZZ, Broken reload when disarmed
----      HANDGUN=TppEquip.EQP_WP_West_thg_040,     --WU S.Pistol Grade 5 ZZZ, Broken reload when disarmed
----      HANDGUN=TppEquip.EQP_WP_West_thg_050,     --WU S.Pistol CB Grade 7 ZZZ No SUP, Broken reload when disarmed, cannot develop, unique butt
----      HANDGUN=TppEquip.EQP_WP_SkullFace_hg_010, --SKULL Cutom Grade 1, kick ass stats, somewhat animation, broken
----      HANDGUN=TppEquip.EQP_WP_SP_hg_010,        --X SP do not load, infinite loading
----      HANDGUN=TppEquip.EQP_WP_SP_hg_020,        --X SP do not load, infinite loading
----      HANDGUN=TppEquip.EQP_WP_EX_hg_000,        --AM A114RP Grade 9!!! Grenade launcher?! missing reload after CQC grab
--        HANDGUN=TppEquip.EQP_WP_EX_hg_000_G01,    --AM A114 RP ZZZ Grade 8, missing reload after CQC grab
--        HANDGUN=TppEquip.EQP_WP_EX_hg_000_G02,    --AM A114 RP ZZZ Grade 9, missing reload after CQC grab
--        HANDGUN=TppEquip.EQP_WP_EX_hg_000_G03,    --AM A114 RP ZZZ Grade 10, missing reload after CQC grab
--        HANDGUN=TppEquip.EQP_WP_EX_hg_000_G04,    --AM A114 RP ZZZ Grade 11, missing reload after CQC grab
--        HANDGUN=TppEquip.EQP_WP_EX_hg_010,    --Tornado Grade 3
--        HANDGUN=TppEquip.EQP_WP_EX_hg_011,    --Tornado Grade 5
--        HANDGUN=TppEquip.EQP_WP_EX_hg_012,    --Tornado Grade 6
--        HANDGUN=TppEquip.EQP_WP_EX_hg_013,    --Tornado Grade 7 *BEST*
--
--
--
----      SMG=TppEquip.EQP_WP_West_sm_010,      --ZE'EV Grade 3
----      SMG=TppEquip.EQP_WP_West_sm_010_WG,   --X
----      SMG=TppEquip.EQP_WP_West_sm_014,      --X
----      SMG=TppEquip.EQP_WP_West_sm_015,      --X
----      SMG=TppEquip.EQP_WP_West_sm_020,      --Mach 37 Grade 3
----      SMG=TppEquip.EQP_WP_East_sm_010,      --Sz. 336 Grade 3 EQUIP:
--      SMG=TppEquip.EQP_WP_East_sm_020,      --Sz. 336 CS Grade 5, matches Sz. 336 HS Grade 5 *BEST* EQUIP:
----      SMG=TppEquip.EQP_WP_East_sm_030,      --Sz. 336 Grade 3 + SUP + FL
----      SMG=TppEquip.EQP_WP_East_sm_042,      --Riot SMG Grade 1, cannot develop
----      SMG=TppEquip.EQP_WP_East_sm_043,      --X
----      SMG=TppEquip.EQP_WP_East_sm_044,      --X
----      SMG=TppEquip.EQP_WP_East_sm_045,      --X
----      SMG=TppEquip.EQP_WP_Pr_sm_010,        --X PR are Invisible
----      SMG=TppEquip.EQP_WP_SP_sm_010,        --X SP do not load, infinite loading
----      SMG=TppEquip.EQP_WP_West_sm_016,      --X
----      SMG=TppEquip.EQP_WP_West_sm_017,      --X
----      SMG=TppEquip.EQP_WP_East_sm_047,      --STN
----      SMG=TppEquip.EQP_WP_West_sm_019,      --X
----      SMG=TppEquip.EQP_WP_West_sm_01a,      --X
----      SMG=TppEquip.EQP_WP_West_sm_01b,      --X
----      SMG=TppEquip.EQP_WP_East_sm_049,      --X
----      SMG=TppEquip.EQP_WP_East_sm_04a,      --X
----      SMG=TppEquip.EQP_WP_East_sm_04b,      --X
--
--
--
----      ASSAULT=TppEquip.EQP_WP_West_ar_010,      --AM MRS-4R Grade 3, grouping slightly higher
----      ASSAULT=TppEquip.EQP_WP_West_ar_010_FL,   --AM MRS-4R Grade 3, grouping slightly higher + FL EQUIP:
----      ASSAULT=TppEquip.EQP_WP_West_ar_055,      --X
----      ASSAULT=TppEquip.EQP_WP_West_ar_020,      --UN-ARC Grade 3
----      ASSAULT=TppEquip.EQP_WP_West_ar_020_FL,   ----UN-ARC CS Grade 3 + FL
----      ASSAULT=TppEquip.EQP_WP_West_ar_030,      --UN-ARC-PT CS Grade 4 + FL, stats similar to UN-ARC Grade 4
----      ASSAULT=TppEquip.EQP_WP_West_ar_040,      --AM MRS-4 Grade 1
----      ASSAULT=TppEquip.EQP_WP_West_ar_042,      --X
----      ASSAULT=TppEquip.EQP_WP_West_ar_050,      --AM MRS-4R Grade 5 EQUIP:
----      ASSAULT=TppEquip.EQP_WP_West_ar_060,      --UN-ARC-NL Grade 2 STN
----      ASSAULT=TppEquip.EQP_WP_West_ar_063,      --X
----      ASSAULT=TppEquip.EQP_WP_West_ar_070,      --UN-ARC-NL Grade 4 STN + FL
----      ASSAULT=TppEquip.EQP_WP_West_ar_075,      --STN
----      ASSAULT=TppEquip.EQP_WP_East_ar_010,      --SVG-76 Grade 1
----      ASSAULT=TppEquip.EQP_WP_East_ar_010_FL,   --SVG-76 Grade 1 + FL
----      ASSAULT=TppEquip.EQP_WP_East_ar_020,      --SVG-67 Grade 4
----      ASSAULT=TppEquip.EQP_WP_East_ar_030,      --SVG-67 CS Grade 6, cannot develop
--      ASSAULT=TppEquip.EQP_WP_East_ar_030_FL,   --SVG-67 CS Grade 6 + FL, cannot develop *BEST*
----      ASSAULT=TppEquip.EQP_WP_Wood_ar_010,      --X ROFL as the name suggests is a wooden gun XD
----      ASSAULT=TppEquip.EQP_WP_Pr_ar_010,        --X Invisible
----      ASSAULT=TppEquip.EQP_WP_West_ar_057,      --X
----      ASSAULT=TppEquip.EQP_WP_West_ar_077,      --STN
----      ASSAULT=TppEquip.EQP_WP_West_ar_059,      --X
----      ASSAULT=TppEquip.EQP_WP_West_ar_05a,      --X
----      ASSAULT=TppEquip.EQP_WP_West_ar_05b,      --X
----      ASSAULT=TppEquip.EQP_WP_West_ar_079,      --X
----      ASSAULT=TppEquip.EQP_WP_West_ar_07a,      --X
----      ASSAULT=TppEquip.EQP_WP_West_ar_07b,      --X
--
--
--
----      SNIPER=TppEquip.EQP_WP_West_sr_010,       --M2000-D Grade 2
----      SNIPER=TppEquip.EQP_WP_West_sr_011,       --M2000-D CS Grade 2;  cannot develop, slighty less damage
----      SNIPER=TppEquip.EQP_WP_West_sr_013,       --X
----      SNIPER=TppEquip.EQP_WP_West_sr_014,       --X
--      SNIPER=TppEquip.EQP_WP_West_sr_020,       --AM MRS-71 CS Grade 5 *BEST* EQUIP:
----      SNIPER=TppEquip.EQP_WP_West_sr_037,       --AM MRS-73 NL Grade 1 ZZZ
----      SNIPER=TppEquip.EQP_WP_East_sr_011,       --Renov-ICKX CS Grade 1
----      SNIPER=TppEquip.EQP_WP_East_sr_020,       --Bambetov SV CS Grade 4
----      SNIPER=TppEquip.EQP_WP_East_sr_032,       --Renov-ICKX TP CS Grade 4 ZZZ
----      SNIPER=TppEquip.EQP_WP_East_sr_033,       --X
----      SNIPER=TppEquip.EQP_WP_East_sr_034,       --X
----      SNIPER=TppEquip.EQP_WP_Quiet_sr_010,      --Wicked Butterfly Grade 2
----      SNIPER=TppEquip.EQP_WP_Quiet_sr_020,      --Guilty Butterfly Grade 3
----      SNIPER=TppEquip.EQP_WP_Quiet_sr_030,      --Sinful Butterfly Grade 4
----      SNIPER=TppEquip.EQP_WP_BossQuiet_sr_010,  --X Invisible
----      SNIPER=TppEquip.EQP_WP_Pr_sr_010,         --X Invisible
----      SNIPER=TppEquip.EQP_WP_EX_sr_000,         --Molotok-68 Grade 9!!! WTF!  *BEST*  Extreme(unreliable) damage but guard towers are not destroyed
----      SNIPER=TppEquip.EQP_WP_West_sr_027,       --X
----      SNIPER=TppEquip.EQP_WP_West_sr_047,       --X
----      SNIPER=TppEquip.EQP_WP_West_sr_048,       --X
----      SNIPER=TppEquip.EQP_WP_West_sr_029,       --X
----      SNIPER=TppEquip.EQP_WP_West_sr_02a,       --X
----      SNIPER=TppEquip.EQP_WP_West_sr_02b,       --X
----      SNIPER=TppEquip.EQP_WP_West_sr_049,       --X
----      SNIPER=TppEquip.EQP_WP_West_sr_04a,       --X
----      SNIPER=TppEquip.EQP_WP_West_sr_04b,       --X
--
--
--
----      SHOTGUN=TppEquip.EQP_WP_Com_sg_010,       --S1000 Grade 2
----      SHOTGUN=TppEquip.EQP_WP_Com_sg_011,       --S1000 CS Grade 2 + FL; cannot develop
----      SHOTGUN=TppEquip.EQP_WP_Com_sg_011_FL,    --S1000 CS Grade 2 + FL; cannot develop
----      SHOTGUN=TppEquip.EQP_WP_Com_sg_013,       --X
----      SHOTGUN=TppEquip.EQP_WP_Com_sg_015,       --X
----      SHOTGUN=TppEquip.EQP_WP_Com_sg_020,       --Kabarga 83 Grade 4
--      SHOTGUN=TppEquip.EQP_WP_Com_sg_020_FL,    --Kabarga 83 Grade 4 + FL *BEST* EQUIP:
----      SHOTGUN=TppEquip.EQP_WP_Com_sg_023,       --S1000 Air-S CS Grade 3 STN
----      SHOTGUN=TppEquip.EQP_WP_Com_sg_024,       --X
----      SHOTGUN=TppEquip.EQP_WP_Com_sg_025,       --X
----      SHOTGUN=TppEquip.EQP_WP_Com_sg_030,       --S1000 Air-S CS Grade 6 STN + FL, cannot develop
----      SHOTGUN=TppEquip.EQP_WP_Pr_sg_010,        --X Invisible gun
----      SHOTGUN=TppEquip.EQP_WP_Volgin_sg_010,    --X S1000 Grade 1 Broken gun
----      SHOTGUN=TppEquip.EQP_WP_SP_sg_010,        --X SP do not load, infinite loading
----      SHOTGUN=TppEquip.EQP_WP_Com_sg_038,       --X
----      SHOTGUN=TppEquip.EQP_WP_Com_sg_016,       --X
----      SHOTGUN=TppEquip.EQP_WP_Com_sg_018,       --X--
--
--
--
----      MG=TppEquip.EQP_WP_West_mg_010,     --UN-AAM Grade 2 Cannot develop
----      MG=TppEquip.EQP_WP_West_mg_020,     --ALM 48 Grade 2 EQUIP:
----      MG=TppEquip.EQP_WP_West_mg_023,     --X
----      MG=TppEquip.EQP_WP_West_mg_024,     --X
----      MG=TppEquip.EQP_WP_West_mg_021,     --ALM 48 Grade 4 EQUIP:
--      MG=TppEquip.EQP_WP_West_mg_030,     --ALM 48 Grade 5 *BEST* EQUIP:
----      MG=TppEquip.EQP_WP_East_mg_010,     --LPG-61 Grade 4
----      MG=TppEquip.EQP_WP_mgm0_mgun0,      --X Invisible gun
----      MG=TppEquip.EQP_WP_West_mg_037,     --X
----      MG=TppEquip.EQP_WP_West_mg_039,     --X
----      MG=TppEquip.EQP_WP_West_mg_03a,     --X
----      MG=TppEquip.EQP_WP_West_mg_03b,     --X
--
--
--
----      MISSILE=TppEquip.EQP_WP_Com_ms_010,   --Killer Bee Grade 3 EQUIP:
----      MISSILE=TppEquip.EQP_WP_Com_ms_020,   --Killer Bee Grade 5 EQUIP: *BEST*
----      MISSILE=TppEquip.EQP_WP_Com_ms_023,   --X
----      MISSILE=TppEquip.EQP_WP_Com_ms_024,   --X
----      MISSILE=TppEquip.EQP_WP_West_ms_010,  --FB MR R-Launcher Grade 3
----      MISSILE=TppEquip.EQP_WP_West_ms_020,  --FB MR R-L NLSP. Grade 6, cannot develop, 2-8x Zoom, stats similar to lethal Grade 5
----      MISSILE=TppEquip.EQP_WP_East_ms_010,  --Grom-11 Grade 2
--      MISSILE=TppEquip.EQP_WP_East_ms_020,  --CGM 25 Grade 4 -- no explosion when sodiers use this(maybe coz tested as assualt - NOPE - confirmed broken)
----      MISSILE=TppEquip.EQP_WP_HoneyBee,     --Honey Bee Grade 1, equal to Killer Bee Grade 3
----      MISSILE=TppEquip.EQP_WP_Com_ms_026,   --X
----      MISSILE=TppEquip.EQP_WP_West_ms_029,   --X
----      MISSILE=TppEquip.EQP_WP_West_ms_02a,   --X
----      MISSILE=TppEquip.EQP_WP_West_ms_02b,   --X
----      MISSILE=TppEquip.EQP_WP_Com_ms_029,   --X
----      MISSILE=TppEquip.EQP_WP_Com_ms_02a,   --X
----      MISSILE=TppEquip.EQP_WP_Com_ms_02b,   --X
--
--
--
--        GRENADE_LAUNCHER=TppEquip.EQP_WP_EX_gl_000, --doesn't use by default
--
--      SHIELD=TppEquip.EQP_SLD_SV
```


PS: tex, grenade launchers can be equipped onto NPCs at least those that are part of EquipIdTable. I had tried assigning the Miraz as an ASSAULT before it was even revealed and found it worked. I was confused cause it was firing 12 grenades at a time though so thought it might be because it was assigned as an assault lol.

Assigning grenade launchers is a matter of adding a custom power and and assigning it at the end. Although, they and up killing other soldiers lol - limited AI and what not, same issue with Stun grenades
## Post #1290
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-09-24T10:12:24+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> On the topic of weapons, I sort of got Skullface's gun (aka SKULL CUSTOM) into the game.
It's unusable though. You can't shoot it, or even aim with it. All of the necessary information appears to be there for it to work though, so I think there might be a piece of code disabling it from being used. I'll search a bit more to see what I can find.

You need call TppEquip.RequestLoadToEquipMissionBlock at some point during load with a table that includes the equipId, ie 
TppEquip.RequestLoadToEquipMissionBlock{TppEquip.EQP_WP_SkullFace_hg_010}

The gun isn't set up as a viable weapon - it's a one shot kill, in pistol slot, and the holding animation looks janky - which is why I never added it as a feature, and never got round to looking in detail at weapon definitions, nasanhak and unknown123 have done more on that.
## Post #1291
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-09-24T13:11:04+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> You need call TppEquip.RequestLoadToEquipMissionBlock at some point during load with a table that includes the equipId, ie 
TppEquip.RequestLoadToEquipMissionBlock{TppEquip.EQP_WP_SkullFace_hg_010}

The gun isn't set up as a viable weapon - it's a one shot kill, in pistol slot, and the holding animation looks janky - which is why I never added it as a feature, and never got round to looking in detail at weapon definitions, nasanhak and unknown123 have done more on that.
Thanks! That did it.

You're right though, it's hilariously broken. You can't even reload it.
## Post #1292
- Username: Gh0stBlade
- Rank: Moderator
- Number of posts: 719
- Joined date: Tue Jul 06, 2010 3:55 am
- Post datetime: 2016-09-24T14:45:57+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hi, just a friendly reminder. Please do not double post as you may risk being subjected to warnings and/or bans from this forum. Posting once then posting again a few minutes later is absolutely unacceptable, if a day passed and you're adding extremely useful information then I'll let that slide, but please get used to editing posts and be sensible.

If I have to come and clean this thread again, it will be temporarily locked.
Cheers.

Edit: Warnings handed out.
Edit 2: Since there's so much to clean up. Thread will be locked for the next 24 hours.
Edit 3: Hi, thread has been cleaned up. There's at least 6 pages less as I have now cleaned up various double, triple, quad posts and merged them into single posts.
## Post #1293
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-09-24T21:30:41+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> You need call TppEquip.RequestLoadToEquipMissionBlock at some point during load with a table that includes the equipId, ie 
TppEquip.RequestLoadToEquipMissionBlock{TppEquip.EQP_WP_SkullFace_hg_010}

There are at least 2 workarounds. 

The first one is the easiest one - add more weapons to the weapons table. [https://github.com/unknown321/mgsv_rese ... ubsistence](https://github.com/unknown321/mgsv_research/tree/gh-pages/mods/good_subsistence) - good_subsistence+guns will allow you to develop and equip honey bee, training rifle and skullfaces shotgun, as well as 'None' slots as primary and secondary weapon - no more forced equip changes via lua. It works in a fun way, I'll try to explain it further in a separate article when I have time. You can just run a diff between my files and original ones, that alone should give you rough idea of what's happening. However there may be overlapping issues when konami adds more stuff, idk what happens then. 

Second workaround is to call lua function to drop a supply box with a weaponId you need (still need to wait for a box to land). Boxes are free btw.

Third one is to add weapon to enemy weapon table then just grab it out of their hands (long way, never used it, I think it was in some of infheaven videos). Or even better, call TppPickable.DropItem or whatever it was, that one function that drops briefcase with blueprint from blown helicopter in mission with weapons dealer. It is also used in IH for dropping supplies from soldiers.

[http://i.imgur.com/hrPzCHU.jpg](http://i.imgur.com/hrPzCHU.jpg) - empty slots.
## Post #1294
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-09-25T04:20:49+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> 
The first one is the easiest one - add more weapons to the weapons table. https://github.com/unknown321/mgsv_rese ... ubsistence - good_subsistence+guns will allow you to develop and equip honey bee, training rifle and skullfaces shotgun, as well as 'None' slots as primary and secondary weapon - no more forced equip changes via lua.

Have known about how the files affect the development page/weapon sections/dev build trees. Always thought about trying EQP_None but never got around to it. Your post kept me up all night. It works but there are flaws and it's not as perfect as *I* would like it to be, though no doubt it is sufficient.

First, icons are broken, not supplying an icon sets the last used gun's icon. Next the customize page lists the None slot lol. Plus it has stats for some reason. Maybe if all the stats files were tweaked as well, and if you could stop the weapon from being loaded where ever the weapons are assigned for customize tab, then this approach may very well work as a final method.

But still don't know where a weapon is decided to be customizable or not - would like to see Miraz, water pistol etc put through it.

Third issue is that when using DD Staff and the Handgun slot, the ammo count shows up in the slot as 0/0. While the slot is completely missing for Snake, only the Arm slot is available. Probably the result of a confused approach to HUD menus.

Although, with this modding, the game automatically selects the None slot on opening the PRIMARY_HIP/HANDGUN/SMG tabs, this is interesting because it works similar to PRIMARY_BACK in this regard, meaning the menus are configured to select the EQP_None slot by default.

Plus this code works as well, don't even have to develop - it would be good idea to assign a dummy slot icon however! Anybody trying, add at end of respective file.

```
TppMotherBaseManagement.RegCstDev{
        p00=900,
	p01=TppEquip.EQP_None,
	p02=TppMbDev.EQP_DEV_TYPE_Handgun,
	p03=0,
	p04=0,
	p05=65535,
	p06="",
	p07="",
	p08="",
	p09=65535,
	p10="",
	p30="",
	p31=0,
	p32=0,
	p33=0,
	p34=0,
	p35=0,
	p36=0
}
TppMotherBaseManagement.RegCstDev{
        p00=901,
	p01=TppEquip.EQP_None,
	p02=TppMbDev.EQP_DEV_TYPE_Assault,
	p03=0,
	p04=0,
	p05=65535,
	p06="",
	p07="",
	p08="",
	p09=65535,
	p10="",
	p30="",
	p31=0,
	p32=0,
	p33=0,
	p34=0,
	p35=0,
	p36=0
}
TppMotherBaseManagement.RegCstDev{
        p00=902,
	p01=TppEquip.EQP_None,
	p02=TppMbDev.EQP_DEV_TYPE_Shotgun,
	p03=0,
	p04=0,
	p05=65535,
	p06="",
	p07="",
	p08="",
	p09=65535,
	p10="",
	p30="",
	p31=0,
	p32=0,
	p33=0,
	p34=0,
	p35=0,
	p36=0
}
TppMotherBaseManagement.RegCstDev{
        p00=903,
	p01=TppEquip.EQP_None,
	p02=TppMbDev.EQP_DEV_TYPE_GrenadeLauncher,
	p03=0,
	p04=0,
	p05=65535,
	p06="",
	p07="",
	p08="",
	p09=65535,
	p10="",
	p30="",
	p31=0,
	p32=0,
	p33=0,
	p34=0,
	p35=0,
	p36=0
}
TppMotherBaseManagement.RegCstDev{
        p00=904,
	p01=TppEquip.EQP_None,
	p02=TppMbDev.EQP_DEV_TYPE_Submachinegun,
	p03=0,
	p04=0,
	p05=65535,
	p06="",
	p07="",
	p08="",
	p09=65535,
	p10="",
	p30="",
	p31=0,
	p32=0,
	p33=0,
	p34=0,
	p35=0,
	p36=0
}

--FLOW file
TppMotherBaseManagement.RegFlwDev{
  p50=876,
	p51=0,
	p52=0,
	p53=0,
	p54=0,
	p55=0,
	p56=0,
	p57=0,
	p58="",
	p59=0,
	p60="",
	p61=0,
	p62=0,
	p63=0,
	p64=0,
	p65="",
	p66=0,
	p67="",
	p68=0,
	p69=0,
	p70=0,
	p71=0,
	p72=0,
	p73=0,
	p74=0
}
TppMotherBaseManagement.RegFlwDev{
  p50=877,
	p51=0,
	p52=0,
	p53=0,
	p54=0,
	p55=0,
	p56=0,
	p57=0,
	p58="",
	p59=0,
	p60="",
	p61=0,
	p62=0,
	p63=0,
	p64=0,
	p65="",
	p66=0,
	p67="",
	p68=0,
	p69=0,
	p70=0,
	p71=0,
	p72=0,
	p73=0,
	p74=0
}
TppMotherBaseManagement.RegFlwDev{
  p50=878,
	p51=0,
	p52=0,
	p53=0,
	p54=0,
	p55=0,
	p56=0,
	p57=0,
	p58="",
	p59=0,
	p60="",
	p61=0,
	p62=0,
	p63=0,
	p64=0,
	p65="",
	p66=0,
	p67="",
	p68=0,
	p69=0,
	p70=0,
	p71=0,
	p72=0,
	p73=0,
	p74=0
}
TppMotherBaseManagement.RegFlwDev{
  p50=879,
	p51=0,
	p52=0,
	p53=0,
	p54=0,
	p55=0,
	p56=0,
	p57=0,
	p58="",
	p59=0,
	p60="",
	p61=0,
	p62=0,
	p63=0,
	p64=0,
	p65="",
	p66=0,
	p67="",
	p68=0,
	p69=0,
	p70=0,
	p71=0,
	p72=0,
	p73=0,
	p74=0
}
TppMotherBaseManagement.RegFlwDev{
  p50=880,
	p51=0,
	p52=0,
	p53=0,
	p54=0,
	p55=0,
	p56=0,
	p57=0,
	p58="",
	p59=0,
	p60="",
	p61=0,
	p62=0,
	p63=0,
	p64=0,
	p65="",
	p66=0,
	p67="",
	p68=0,
	p69=0,
	p70=0,
	p71=0,
	p72=0,
	p73=0,
	p74=0
}

```


At this point I really don't know why Konami just won't add in this feature as a default. Am gonna write them a letter. Also how about removing weapons from the customization slot. I use only one MG, I made another one for fun by accident, let me delete it Konami! Please! Am gonna write them a letter.

Also, how far have you looked into MGO code for EQP_None and weapon customization deletion? I know we can't change the UI but the code will help a lot if it's there. I haven't looked at any MGO code at all other than a few XP hacks but I'll be doing that now.

> Reply from unknown123
>
> 
Second workaround is to call lua function to drop a supply box with a weaponId you need (still need to wait for a box to land). Boxes are free btw.
How to do this? Forcing TppPlayer.RestoreSupplyCbox() or calling Player.RequestToSupplyCbox - but what would be the inputs to the latter? Item id and a Vector3? It's not called through existing code.

> Reply from unknown123
>
> 
Third one is to add weapon to enemy weapon table then just grab it out of their hands (long way, never used it, I think it was in some of infheaven videos)

This would be my default approach since I was too uncomfortable with a lot of code earlier and testing 7 different weapon types this way proved much easier.

> Reply from unknown123
>
> 
Or even better, call TppPickable.DropItem or whatever it was

While this works it won't drop player equip as far as I can tell. Other than the ones that have enemy usable equivalents. I tried an approach where I would force *all* the weapons to load using RequestLoadToEquipMissionBlock and then try to drop them in concentric circles around the player. Issues included the regular gamut with invisibility, no HUD icons, can't fire etc. Although I was not adequately prepared for this at the time so will take it up again.
## Post #1295
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-09-25T07:43:52+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> First, icons are broken, not supplying an icon sets the last used gun's icon. Next the customize page lists the None slot lol. Plus it has stats for some reason.
Icons work fine for me, I am using dummy icon on sortie prep (white square), nothing while playing. About customizing - set p32 and p33 to 0, that will block the 'gun'. It has stats because technically it is a weapon, while genuine "None" slots are more like a separate option. See [https://github.com/unknown321/mgsmonste ... meters.txt](https://github.com/unknown321/mgsmonsterguns/blob/gh-pages/parameters.txt) for p* stuff.


> Reply from nasanhak
>
> Third issue is that when using DD Staff and the Handgun slot, the ammo count shows up in the slot as 0/0.
I think you've messed up something, no ammo count for me. Or am I looking in the wrong places?

[http://i.imgur.com/Hy4BADq.jpg](http://i.imgur.com/Hy4BADq.jpg) picrelated.

> Reply from nasanhak
>
> 
Plus this code works as well, don't even have to develop - it would be good idea to assign a dummy slot icon however! Anybody trying, add at end of respective file.
Code: Select all--DEV file
TppMotherBaseManagement.RegCstDev{
        p00=902,
	p01=TppEquip.EQP_None,
	p02=TppMbDev.EQP_DEV_TYPE_Shotgun,
-----
	p02=TppMbDev.EQP_DEV_TYPE_GrenadeLauncher,
-----
	p02=TppMbDev.EQP_DEV_TYPE_Submachinegun,

--FLOW file
TppMotherBaseManagement.RegFlwDev{
  p50=876,
You have to develop, because you already developed weapons with p00=900-904 - their development number. "None" slots for any weapon slot aside from primary hip and secondary gun are redundant - there are built-in None slots for them. Also setting p50=876 is not needed I think.

> Reply from nasanhak
>
> At this point I really don't know why Konami just won't add in this feature as a default. Am gonna write them a letter.
I wrote them a letter like what, 6 months ago, tried to contact that community guy on reddit and yet no answer.

> Reply from nasanhak
>
> Also how about removing weapons from the customization slot. I use only one MG, I made another one for fun by accident, let me delete it Konami! Please! Am gonna write them a letter. Also, how far have you looked into MGO code for EQP_None and weapon customization deletion? I know we can't change the UI but the code will help a lot if it's there. I haven't looked at any MGO code at all other than a few XP hacks but I'll be doing that now.
Eazy, fill vars.userPresetCustomizedWeapon with zeroes.

> Reply from nasanhak
>
> Forcing TppPlayer.RestoreSupplyCbox() or calling Player.RequestToSupplyCbox - but what would be the inputs to the latter? Item id and a Vector3? It's not called through existing code.

```
_equipId = TppEquip.EQP_WP_EX_hg_013
_dropType = 0 --weapon/loadout?
function dropbox(_chute, _equipId, _dropType)
	-- RequestToSupplyCbox - with chute
	-- RequestToDropCbox - without
	
	if (_chute == true) then
		TppUiCommand.AnnounceLogView( string.format('sending %s', tostring(_equipId)) )
                -- height is not working?
		Player.RequestToSupplyCbox{ aimPosition = Vector3(TppPlayer.GetPosition()), height = 25.0, equipId=_equipId, dropType=_dropType }
	else
		TppUiCommand.AnnounceLogView('Dropping a box on you!')
		Player.RequestToDropCbox{ aimPosition = Vector3(TppPlayer.GetPosition()), height=100.0 }
	end
end

```


> Reply from nasanhak
>
>  I tried an approach where I would force *all* the weapons to load using RequestLoadToEquipMissionBlock and then try to drop them in concentric circles around the player. Issues included the regular gamut with invisibility, no HUD icons, can't fire etc.
There is a size limit of a block, look for EQUIP_BLOCK_SIZE or something like that, I think it prevents all guns from loading. Tried to mess with it before, but results were disappointing.
## Post #1296
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2016-09-25T10:24:49+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> 
The first one is the easiest one - add more weapons to the weapons table. https://github.com/unknown321/mgsv_rese ... ubsistence - good_subsistence+guns will allow you to develop and equip honey bee, training rifle and skullfaces shotgun, as well as 'None' slots as primary and secondary weapon - no more forced equip changes via lua. It works in a fun way, I'll try to explain it further in a separate article when I have time. You can just run a diff between my files and original ones, that alone should give you rough idea of what's happening. However there may be overlapping issues when konami adds more stuff, idk what happens then.

Sooooo how do you install it? What folder am I supposed to put the lua files in? Also you should release this on the nexus
## Post #1297
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-09-25T13:22:46+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Ashtails
>
> Sooooo how do you install it? What folder am I supposed to put the lua files in? Also you should release this on the nexus
I dunno, with snakebite? There are mgsv files in that folder. [http://i.imgur.com/rZ2TKVo.png](http://i.imgur.com/rZ2TKVo.png)

And no, there will be no release on nexus. I don't like the interface, don't like ads and the most important - I don't want to update github AND nexus, it takes some time already and with nexus it will be taking even more.
## Post #1298
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-09-25T14:50:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> 
Icons work fine for me, I am using dummy icon on sortie prep (white square), nothing while playing.
Well yeah i meant they are working but there is a bit of breaking - check the double EQP:
[http://imgur.com/a/nvIlk](http://imgur.com/a/nvIlk)

> Reply from unknown123
>
> 
I think you've messed up something, no ammo count for me. Or am I looking in the wrong places?
This is what I meant, should have explained better: [http://imgur.com/xTI2SfQ](http://imgur.com/xTI2SfQ). I test everything out a lot.

more P* details:

```
p33=1	--rX46 Allow color change: set to 0 to restrict some level of customizability, I can see that color alone is disabled :? --maybe it is only for color customizability like for MISSILES! Of course


p51 is the order of dev of item chains, when 0 it is the first item in the dev chain
p52 is grade
** combo of p51 and p52 creates the dev chain for an item/weapon - can be customized but if not careful, may break development menu tabs/game in subtle ways
p53 is dev GMP
** first unit type requirement is not set in this file, or in any file as far as I can tell
p56 is the second unit type requirement that is required, can be zero but still u never know. Values range from 1-7, each corresponds to an MB unit, dnt remember exact order
p55 and p57 are unit lvl requiremenets, these cannot be zero if a unit type is set
p58, p60 are dev resource types
p59, p61 are dev resource values
p65 and p67 are usage resource types
p66 and p68 are usage resource vales
p71 is dev time

Also order of records in these files seems to be strict meaning you can't insert the same number of records at the beginning or in the middle in both the Const and Flow files and expect it to work. The dev pages/chains break. Anything new has to go at the end.

```


> Reply from unknown123
>
> 
You have to develop, because you already developed weapons with p00=900-904 - their development number. "None" slots for any weapon slot aside from primary hip and secondary gun are redundant - there are built-in None slots for them. Also setting p50=876 is not needed I think.
Yes - I missed the dev part cause thought I had replaced the save file correctly, cannot skip developing any new items.
Yes - Built in slots much better are
Yes - Setting p50 isn't necessary, I just did it for some consistency

> Reply from unknown123
>
> 
I wrote them a letter like what, 6 months ago, tried to contact that community guy on reddit and yet no answer.
Well they'll be hearing from me about this too then!


As for your dump.txt, parts of it showing the 'loadstring' look like this: [http://imgur.com/Cpuqfe8](http://imgur.com/Cpuqfe8). Not sure if this is normal.

> Reply from unknown123
>
> 
Eazy, fill vars.userPresetCustomizedWeapon with zeroes.
Well yeah, I figured it would be something like this. But it seems to be some kind of table I can't read or understand. Infact all such tables leave me at a dead end. What the inspect tells me is this:

```
      [-285212666] = 24,
      [-285212665] = <userdata 463>,
      __index = <function 10388>,
      __newindex = <function 10389>,
      <metatable> = <table 1958>
    },
```

I think the vey first entry 24 is the size of the table but that's as far as I have gotten.


Thanks for the Supply Drop trigger code! How did you figure out the params though?! If you did some kind of source code finding thing then you could apply the same process to every single function that is hidden couldn't you?
## Post #1299
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-09-25T15:13:20+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Double equip is not a big deal I think. About ammo count - game does the same on subsistence missions, so this is not a bug, but intended behaviour. [http://i.imgur.com/lecOOLB.jpg](http://i.imgur.com/lecOOLB.jpg) - C2W subsistence.

P* details are nice, will add to my tables.

> Reply from nasanhak
>
> 
What the inspect tells me is this:Code: Select alluserPresetCustomizedWeapon = <1958>{
My bad. userPresetCustomizedWeapon - table with customized weapon ids, 24 is indeed a table size.

```
while type(vars.userPresetCustomizedWeapon[index]) == 'number' do
		vars.userPresetCustomizedWeapon[index] = 0
		index = index + 1
	end	

```

Then null table userPresetChimeraParts, which has parts for every weapon from table above. Same code, 288 values.

> Reply from nasanhak
>
> Thanks for the Supply Drop trigger code! How did you figure out the params though?!
Just applied some common sense.
## Post #1300
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2016-09-25T16:12:33+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> Ashtails wrote:Sooooo how do you install it? What folder am I supposed to put the lua files in? Also you should release this on the nexus
I dunno, with snakebite? There are mgsv files in that folder. http://i.imgur.com/rZ2TKVo.png

And no, there will be no release on nexus. I don't like the interface, don't like ads and the most important - I don't want to update github AND nexus, it takes some time already and with nexus it will be taking even more.

Well, guess it's time to switch to using snakebite, But it will be worth it to play a playthrough as Paz with a water gun, wooden assault rifle, and magazine. Thanks for the files!
## Post #1301
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-09-25T19:33:59+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I'll have to catch up on what's going on in the thread later I guess. Anyway I've got a lua script question. I'm modifying TppRevenge.lua to keep track of the revenge levels during sorties and output a message once enough points have been generated to reach the next level. The part of that I'm having issues with is that when I assign the initial values for the levels and points it outputs what looks like the function ID for e.GetRevengeLv and e.GetRevengePoint. 

```
rCmbtSubTtl=0
rStlhSubTtl=0
rVehLv=e.GetRevengeLv(e.REVENGE_TYPE.VEHICLE)
rVehPt=e.GetRevengePoint(e.REVENGE_TYPE.VEHICLE)
TppUiCommand.AnnounceLogViewLangId("announce_rvng_lvl_curr","rvng_type_name_veh",rVehLv,rVehPt)
ToolRanCheckRevenge=ToolRanCheckRevenge+1
end
```


Edit: So I've figured out what the issue is and the solution is that you can't assign a variable as the function but you can create it as a table. So instead of rVehLv you would do e.rVehLv in that lua file. It works fine like that and allows you to perform arithmetic on the original number but TppUiCommand.AnnounceLogViewLangId seems to not handle multiple tables as the input.

```
TppUiCommand.AnnounceLogViewLangId("announce_rvng_lvl_curr","rvng_type_name_veh",e.rVehLv,e.rVehPt)
```


I mean I could just call them in separate LangIds but that doesn't look as nice. The more efficient solution at this point would be just to modify the vanilla functions to get a value to use as a constant rather than calling functions multiple times.
## Post #1302
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-09-26T04:11:54+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from CantStoptheBipBop
>
> So instead of rVehLv you would do e.rVehLv in that lua file. It works fine like that and allows you to perform arithmetic on the original number but TppUiCommand.AnnounceLogViewLangId seems to not handle multiple tables as the input.

Nope, don't do this. Use this instead:

```
    TppUiCommand.AnnounceLogView("RevengeTypeName: "..tostring(this.REVENGE_TYPE_NAME[revengeTypeCode+1])..", points set to: "..tostring(gvars.rev_revengePoint[revengeTypeCode])..", level: "..tostring(this.GetRevengeLv(revengeTypeCode)))
  end
```


TppUiCommand.AnnounceLogView will print any and all concatenated strings. Provided they are fed as strings. Max char limit of 255 courtesy of tinmantex

Since I have looked a lot at the revenge code:
REVENGE_TYPE_NAME - has name of each revenge
REVENGE_TYPE - uses the name as an index to set a corresponding code for the revenge (numbers are easier to compare). Code set here will be 1 less than the index of the revenge type in REVENGE_TYPE_NAME

Here's each revenge type and it's corresponding code:

```
	--r43 INFO
  "STEALTH", --0 --Points max: 599 --Revenge blocking missions 3
  "NIGHT_S", --1 --Points max: 399 --Revenge blocking missions 1
  "COMBAT", --2 --Points max: 599 --Revenge blocking missions 5
  "NIGHT_C", --3 --Points max: 199 --Revenge blocking missions 1
  "LONG_RANGE", --4 --Points max: 299 --Revenge blocking missions 1
  "VEHICLE", --5 --Points max: 399 --Revenge blocking missions 1
  "HEAD_SHOT", --6 --Points max: 799 --Revenge blocking missions 1
  "TRANQ", --7 --Points max: ? --Revenge blocking missions 0
  "FULTON", --8 --Points max: ? --Revenge blocking missions 0
  "SMOKE", --9 --Points max: 399 --Revenge blocking missions 1
  "M_STEALTH", --10 --Points max: ? --Revenge blocking missions 0
  "M_COMBAT", --11 --Points max: ? --Revenge blocking missions 0
  "DUMMY", --12 Extra dummy values provided to match up with this.REVENGE_LV_MAX? - uuuhhhh maybe not
  "DUMMY2", --13
  "DUMMY3", --14
  "DUMMY4", --15
  "MAX" --DEFAULT: 16
}
```


DUMMY are not used

REVENGE_LV_LIMIT_RANK_MAX=6 is an *index* for each entry of the table REVENGE_LV_MAX. Notice that REVENGE_LV_MAX uses the revenge types as an index and each value is a table, a table holding a max of 6 values. That is what REVENGE_LV_LIMIT_RANK_MAX is for.

How it works, GetRevengeLvMax() will use REVENGE_LV_MAX[revengeType] to fetch the max revenge level allowed for a particular type of revenge.

```
[this.REVENGE_TYPE.HEAD_SHOT]={0,1,2,3,5,7}
```


HEAD_SHOT as a result has max level of 7(game is bugged and will actually look for max level 10 in some places, but HEAD_SHOT is the only revenge bugged in this way).

Revenge points required to hit a level are = level*100. So level 2 requires 200 points and level 7 requires 700 points. Max points a revenge can have will be =(MAX revenge level*100)+99

There's a lot more detail in there. I'll share if you want. Have a look at the source here:
[http://www.nexusmods.com/metalgearsolidvtpp/mods/349/](http://www.nexusmods.com/metalgearsolidvtpp/mods/349/)?

I have provided comments for a lot of the vanilla functionality.
## Post #1303
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-09-26T05:25:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> About ammo count - game does the same on subsistence missions, so this is not a bug, but intended behaviour
Well yeah its intended behavior but am pretty sure its a patch up job to a bug. The Handgun slot completely disappears for Snake with EQP_None and only the Arm slot is visible when selecting a Secondary. DD Soldiers don't get an arm slot so am pretty sure the Secondary slot would have been completely disappearing from the UI. Someone patched it up cheap instead of fixing the UI

> Reply from unknown123
>
> 
Code: Select alllocal index = 0
while type(vars.userPresetCustomizedWeapon[index]) == 'number' do
		vars.userPresetCustomizedWeapon[index] = 0
		index = index + 1
	end
Should have thought of this! I assumed the data would be unreadable, which am pretty sure it is even in this case. A numerical sequence from some combination we won't be able to figure out for a while. Some people on cheat engine however have figured out staff headers and the likes  tho.

> Reply from unknown123
>
> 
Just applied some common sense.
Well sure but I would have never figured out the _chute part.
Drop types are here:

```
    DROP_TYPE_AMMO = 4,
    DROP_TYPE_EMPTY = 5,
    DROP_TYPE_EQUIPMENT = 0,
    DROP_TYPE_HAND = 2,
    DROP_TYPE_SUIT = 1
  }
```


Also, just throwing it out there:
1. Know of a way to change existing MB staff data through code? Like changing existing staff params - or changing all staff to female.
2. Any way to change staff faceIds which will have the same effect as above
3. Any way to work with staff headers? vars.mbmStaffSvarsHeaders
4. Way to activate the chicken head caps?
5. Stealth triggering and maybe stealth not being removed if you bump into someone.

I have figured out the TppMotherBaseManagement.AddVolunteerStaffs() and TppMotherBaseManagement.DirectAddStaff() functions.

I can build an all female army using the latter - not the best approach in the world but it works. But there are issues - like most of them having similar names. Stats and faces are different tho. Need to fine tune my approach but if it is at all possible to change existing staff in one go (I think it is possible to reroll staff stats through code if you keep visiting MB, haven't tried, very slow approach to change 3500 randomly picked staff) it would be much much better than my current approach.

@tex
One of the female faces in your femaleFaceIds list is broken - menu shows no face icon, inivisi head on MB, I'll check and get back to you on which one it is.
## Post #1304
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-09-26T08:49:11+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> I used a function for changing equipment I came across while digging through the mission files. I figured there'd be one for guns since there's a similar function for outfits. Then I decided to see if it would work for equipping the unobtainable weapons.
Pretty nifty function. I'll have to toy with it at some point to see if I can do anything crazy with it.

> Reply from nasanhak
>
> Nope, don't do this. Use this instead

Awesome, that should help and it's nice to know the other stuff you noted. I've rewritten the script and all of the math seems to be working correctly now. Basically it fetches the initial revenge lvl and points of every category after any trigger is hit if a boolean I put in isn't nil, throws current points for each level at the screen, and defines the boolean so it doesn't run again. Then it calculates everything and throws a "level will increase by n+1" message at the screen once, if the conditions are met, or returns. I still need to add a stealth/combat end function since those two are special snowflakes as far as the way the game handles them goes. So I'm off to find a decent way of detecting that. I guess something like "on left hotzone" or "on heli door close" would work? Or is there already a known function for detecting the sortie ending/starting?

```
if ToolRanCheckRevenge<1 then rvngCalcRan() end
local l,m,n,o,q
-- might be redundant. Not sure how lua handles non-existant variables in conditionals.
-- I was getting Batch flashbacks so I threw on a secondary nil anyway.
local p=rGasChk or nil
-- trigger value
l=15
-- sets mission decay based on level if applicable
if e.rGasLv>0 then
m=50 else
m=10
end
e.n=e.rGasLv
e.o=e.rGasPt+l
e.n=e.n*100
-- (points+triggerPoints) - (lvl*100) - (currentLvlPointDecay)
e.n=e.o-e.n-m
-- accumulated points cap at 99
if e.n>=99 then
if p==nil then
e.q=e.rGasLv+1
TppUiCommand.AnnounceLogViewLangId("announce_rvng_lvl_max","rvng_type_name_gas",e.q)
rGasChk=1
return
else
return
end
end
-- saves new value of points if less than max
e.rGasPt=e.o
end
end
```


> Reply from nasanhak
>
> (game is bugged and will actually look for max level 10 in some places, but HEAD_SHOT is the only revenge bugged in this way)

Uh might be because of it being set at 10 for the special max level in hard missions, unless my memory is betraying me on that. It's been a few months since I've thoroughly read the whole revenge file. Though on the topic of bugs: the gas/smoke response I'm sure is bugged. If you throw a log view statement under both of the e.AddRevengePointByTriggerType(e.REVENGE_TRIGGER_TYPE.SMOKE) functions then you'll see what I mean. For smoke it pops up a handful of times for each soldier, plus multiple times for any nearby that see the smoke. Then if you melee them it counts a few times again. Wake them up and it counts once again. 

It certainly explains why they always seem to don gas masks immediately after the sortie when I had only thrown a few smoke nades. Kind of a weird bug but I can see how it slipped past the testers since it's something so minor.
## Post #1305
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-09-26T09:09:24+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from CantStoptheBipBop
>
> 
Uh might be because of it being set at 10 for the special max level in hard missions
Hard missions use the same GetRevengeLvMax func so max revenge level will still be based on REVENGE_LV_MAX table.

> Reply from CantStoptheBipBop
>
> 
If you throw a log view statement under both of the e.AddRevengePointByTriggerType(e.REVENGE_TRIGGER_TYPE.SMOKE) functions then you'll see what I mean. For smoke it pops up a handful of times for each soldier, plus multiple times for any nearby that see the smoke. Then if you melee them it counts a few times again. Wake them up and it counts once again.
Look for this:

```
(((((((((((e==TppDamage.ATK_Smoke or e==TppDamage.ATK_SmokeOccurred)or e==TppDamage.ATK_SleepGus)or e==TppDamage.ATK_SleepGusOccurred)or e==TppDamage.ATK_SupportHeliFlareGrenade)or e==TppDamage.ATK_SupplyFlareGrenade)or e==TppDamage.ATK_SleepingGusGrenade)or e==TppDamage.ATK_SleepingGusGrenade_G1)or e==TppDamage.ATK_SleepingGusGrenade_G2)or e==TppDamage.ATK_SmokeAssist)or e==TppDamage.ATK_SleepGusAssist)or e==TppDamage.ATK_Grenader_Smoke)or e==TppDamage.ATK_Grenader_Sleep
```


And the _OnDamage(t,E,r) func right below it. They itended it to be like that. Problem is Smoke gains 15 points for each trigger when it should have been lower like 5.

> Reply from CantStoptheBipBop
>
> 
stealth/combat end function since those two are special snowflakes as far as the way the game handles them goes
REVENGE_POINT_TABLE - point increases for each trigger type
MISSION_TENDENCY_POINT_TABLE - stealth and combat tendency increase table

_GetMissionTendency(missionId) - decides the stealth/combat tendency of the *mission* based on M_STEALTH and M_COMBAT points. Which ever is higher by at least 10 points is the tendency. Otherwise it's a draw.

ApplyMissionTendency(missionId) - based on mission tendency, increases Stealth/Combat depending on points table MISSION_TENDENCY_POINT_TABLE. Resets M_STEALTH and M_COMBAT to 0 at the end.

REVENGE_POINT_TABLE triggers increase M_STEALTH and M_COMBAT but never STEALTH and COMBAT - these will only increase at mission end(maybe abort?) by ApplyMissionTendency

Seriously check the mod files I pointed to on Nexus, it has everything in it. Sure I changed the revenge system a bit but it was very interesting work and will clear everything up for you.
## Post #1306
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-09-26T09:24:46+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> They itended it to be like that. Problem is Smoke gains 15 points for each trigger when it should have been lower like 5.

That's what I mean though. Surely it would have made more sense for them to have it only trigger once per "stun-lock" loop with a larger value or a lower value multiple times like you're saying. That and I don't get why it would trigger while they're unconscious. It just seems like there was a lot of oversight surrounding when it should apply.

> Reply from nasanhak
>
> Seriously check the mod files I pointed to on Nexus, it has everything in it. Sure I changed the revenge system a bit but it was very interesting work and will clear everything up for you.

I already know how it works. The "special snowflake" thing was more of just a cheeky comment about the somewhat convoluted way they calculate it compared to the rest. Though I appreciate all the help man. Your notes a page back on the npc guns should come in handy once I start messing with those.
## Post #1307
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-09-26T12:09:06+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> Also, just throwing it out there:
1. Know of a way to change existing MB staff data through code? Like changing existing staff params - or changing all staff to female.
2. Any way to change staff faceIds which will have the same effect as above
3. Any way to work with staff headers? vars.mbmStaffSvarsHeaders
Never bothered with those, I other stuff in mind.

> Reply from nasanhak
>
> 
4. Way to activate the chicken head caps?
5. Stealth triggering and maybe stealth not being removed if you bump into someone.

```
svars.chickCapEnabled = true
```

Then restart from checkpoint. This will enable Chick hat, no idea how to turn on Chicken hat.

> Reply from nasanhak
>
> I can build an all female army using the latter - not the best approach in the world but it works. But there are issues - like most of them having similar names.
Female names pool is quite small, even if you increase it, it will probably make issues with FOB guards.
## Post #1308
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-09-26T12:23:41+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

@CantStoptheBipBop
Revenge points and level monitoring code, call the function from TppPlayer.Update. Will allow for real time monitoring based on your/NPC actions.

If the code doesn't work as is, you may have to change 'this.' to 'e.' if your working with vanilla game files. It should work just fine tho.

```
	["STEALTH"]={currentPoints=-1, currentLevel=-1}, --Stealth based stuff - check revengeDefine
	["NIGHT_S"]={currentPoints=-1, currentLevel=-1}, --Night Stealth - leads to NVGs
	["COMBAT"]={currentPoints=-1, currentLevel=-1}, --Combat based stuff - check revengeDefine
	["NIGHT_C"]={currentPoints=-1, currentLevel=-1}, --Night Combat - leads to Flashlights
	["LONG_RANGE"]={currentPoints=-1, currentLevel=-1}, --Snipers
	["VEHICLE"]={currentPoints=-1, currentLevel=-1}, --Missiles
	["HEAD_SHOT"]={currentPoints=-1, currentLevel=-1}, --Helmets
	["TRANQ"]={currentPoints=-1, currentLevel=-1}, --STRONG_NOTICE_TRANQ
	["FULTON"]={currentPoints=-1, currentLevel=-1}, --FULTON_HIGH, FULTON_SPECIAL
	["SMOKE"]={currentPoints=-1, currentLevel=-1}, --Gasmasks
	["M_STEALTH"]={currentPoints=-1, currentLevel=-1}, --Mission S
	["M_COMBAT"]={currentPoints=-1, currentLevel=-1}, --Mission C
}

function this.MonitorRevengePointsEtcEtc()
	
	for revengeTypeCode=0,TppRevenge.REVENGE_TYPE.MAX-1 do
		local revName = TppRevenge.REVENGE_TYPE_NAME[revengeTypeCode+1]
		local pointsForCurRev = gvars.rev_revengePoint[revengeTypeCode]
		local lvlForCurRev = TppRevenge.GetRevengeLv(revengeTypeCode)

		if this.monitorRevengeTable[revName] then
			if this.monitorRevengeTable[revName].currentPoints~=pointsForCurRev or this.monitorRevengeTable[revName].currentLevel~=lvlForCurRev then
				local pointsDelta=pointsForCurRev-this.monitorRevengeTable[revName].currentPoints
				this.monitorRevengeTable[revName].currentPoints=pointsForCurRev
				this.monitorRevengeTable[revName].currentLevel=lvlForCurRev
		    TppUiCommand.AnnounceLogView("RevengeName:"..tostring(revName)..", level:"..tostring(lvlForCurRev)..", points:"..tostring(pointsForCurRev)..", pointsDelta:"..tostring(pointsDelta))
			end
		end
  end
end
```
## Post #1309
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-09-26T13:46:40+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> @CantStoptheBipBop
Revenge points and level monitoring code, call the function from TppPlayer.Update. Will allow for real time monitoring based on your/NPC actions.

Sweet, thanks again dude. tbh my code was starting to become a bit too complex for my taste once I went beyond basic, universal, math functions for everything. Since every category would need max levels and points taken into account (so I guess more so a pita than complex). I'll try out your code in a copy and see how it compares. It looks like it should lower my stress levels by a few notches though 

Edit: btw my workaround for not being able to put more than one table value in TppUiCommand.AnnounceLogViewLangId was what you suggested with AnnounceLogView. Throwing them into a single string might work as well but I haven't tried it yet. I was actually originally editing this to say I found a solution but my mind was playing tricks on me. Also for announcing LangIds: color 9 outputs green text and colors 6/8 output gold. I'm not sure about red or any others. I didn't see it mentioned anywhere so just doing so here.

```
[...]
e.rHsLv=e.GetRevengeLv(e.REVENGE_TYPE.HEAD_SHOT)
e.rHsPt=e.GetRevengePoint(e.REVENGE_TYPE.HEAD_SHOT)
rCurrentResponseLvPt(e.rHsPt,"Headshot",e.rHsLv,"rvng_type_name_hs")
[...]
ToolRanCheckRevenge=ToolRanCheckRevenge+1
end

function rCurrentResponseLvPt(catPt,catName,catLvl,catLangName)
local n
e.n=catPt
if e.n<=100 then e.n=100
else
e.n=e.n/100
e.n=math.floor(e.n)+1
e.n=e.n*100
end
if catPt==e.n-1 then
e.n=catLvl+1
TppUiCommand.AnnounceLogViewLangId("announce_rvng_lvl_max",catLangName,e.n)
else
e.n=("["..catName.." Response]: ".."lvl "..catLvl.." ("..catPt.."/"..e.n..")")
TppUiCommand.AnnounceLogView(e.n)
end
end

```


Some obvious limitations with it, of course.
## Post #1310
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-09-26T18:20:06+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> 
Then restart from checkpoint. This will enable Chick hat, no idea how to turn on Chicken hat.

Had figured it out before you posted 

```
GameConfig.SetStealthAssistEnabled(true)

Followed by either:
TppPlayer.SetRetryFlag() --Normal chicken hat, yes contrary to what you'd think it's for :) - The give away was finally GameConfig.GetStealthAssistEnabled()
OR
TppPlayer.SetRetryFlagWithChickCap() --Lil' Chicken Hat this is it :)
```


When set at the right point during loading:
[http://imgur.com/a/bqomg](http://imgur.com/a/bqomg)

> Reply from unknown123
>
> 
Female names pool is quite small, even if you increase it, it will probably make issues with FOB guards.
Well yeah, I was thinking that was it. Will test some more and get back to you.
## Post #1311
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2016-09-27T00:39:18+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Would it be possible to replace the model of the chicken hat with one of the MGO hats? Like a crocodile cap to make it feel like snake eater?
## Post #1312
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-09-27T06:47:55+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Ashtails
>
> Would it be possible to replace the model of the chicken hat with one of the MGO hats? Like a crocodile cap to make it feel like snake eater?
It is possible, but there are issues. 
First one: [http://i.imgur.com/7FDyzQJ.png](http://i.imgur.com/7FDyzQJ.png) - hat will be rendered at your feet without proper textures. Probably solved by packing textures along with hat and editing model. (missing head is not related).
Second - Chicken hat (with big eyes) disappears after 3 alerts, so it leaves us with chick hat.
Third - you will be in chick-mode.
## Post #1313
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-09-27T07:44:18+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> 
Code: Select allAlso order of records in these files seems to be strict meaning you can't insert the same number of records at the beginning or in the middle in both the Const and Flow files and expect it to work. The dev pages/chains break. Anything new has to go at the end.

How badly does it break things? Does reverting the order fix it again? I'm wondering, as unknown123 did, what might happen if Konami adds stuff.
## Post #1314
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-09-27T08:08:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> How badly does it break things? Does reverting the order fix it again? I'm wondering, as unknown123 did, what might happen if Konami adds stuff.
Missing weapons. Try adding a new weapon at the beginning of the file, it will either remove first weapon (wu pistol I think), or remove all weapons from development table completely. It doesn't affect your saves in any way, so reverting weapon tables back will fix everything. 

As for new stuff - if new weapons' ids overlap with ours, then new weapons will be already developed locally. But server will be saying otherwise, so.. The only way to see what happens is to wait for new weapons with ids >= 900.
## Post #1315
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-09-27T10:00:42+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
>  so.. The only way to see what happens is to wait for new weapons with ids >= 900.
Given that the p00 ids in DevelopConst start at 1000 and increase it would seem to be less of an issue for entries added as they have been so far, but just brings the question why kjp started at 1000 and that your 900/901 isn't trampling on anything we can't see.

I also notice p50 in develop flow is sequential for entries, your dummies are at 0, I guess it's ok with that.
## Post #1316
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-09-27T10:39:23+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> 
I also notice p50 in develop flow is sequential for entries, your dummies are at 0, I guess it's ok with that.

p50 seems to be non important- just a numerical index for the number of rows in the file.

p00 Ids started at 1000 with the need to separate weapon groups and keep things maintainable. If the p00 is 3005 then you immediately know it's an assault rifle. That kind of thing.

We can wait for an update that adds more outfits/guns whatever and then try to append in more entries with those same p00 Ids and see what happens. But as unknown123 already knows, connecting to the servers downloads some files and client files are overwritten. So it may not lead anywhere.

Actually, it's not the files but rather the commands. The server calls the same function call again most likely, fixing any tampering from the player's end. Still doesn't explain why not all GMP costs go back to vanilla values, and resource values are never updated at all.
After connecting to the sever and having the costs updated correctly, I tried reloading the modules EquipDevelopConstSetting and EquipDevelopFlowSetting in between the game loads but did not find any change in deployment costs etc. Maybe I did it wrong.

Also, breaking the Const and Flow files and hence the dev trees/tabs/sortie menus doesn't mess up the save game, coz the game stores what weapons are developed by their id into the save file. So yeah, adding in new ids is likely messing with the save file. But I'd say it's a table based approach else the save file wouldn't work after additional weapons are removed - altho the save file size almost never changes. Probably hasn't changed since the game's release.
## Post #1317
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-09-27T11:15:51+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> 
Actually, it's not the files but rather the commands. The server calls the same function call again most likely, fixing any tampering from the player's end. Still doesn't explain why not all GMP costs go back to vanilla values, and resource values are never updated at all.
I'd say it is all about priorities: table with server values has more priority than local one. But why do you need to change values? I believe there are server checks, so developing a weapon with modified cost (lets say 1 online GMP) will still drain the regular amount of GMP (100 online GMP). 

Command is called only once per game session - remember when Mirazh had low cost to deploy? Online message for patch that fixed deployment price said that you need to restart the game - so it is invoked somewhere between 'Connected to server' and title screen. Probably it is one of those - [https://github.com/unknown321/mgsvdump/ ... anager.lua](https://github.com/unknown321/mgsvdump/blob/master/tpp/packages/TppServerManager.lua) , or maybe something from TppNetworkUtil.lua.

Also there is a non-lua check function on FOBs that checks your equipment (CheckPlayerEquipmentServerItemCorrect) so allowing player who uses your mod to equip items not available for develompent may result in ban (if he equips it during online mission). I don't use my dummy slots on FOBs since I am not sure what exactly konami gets on their end and neither should you.
## Post #1318
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-09-27T11:39:02+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> 
I'd say it is all about priorities: table with server values has more priority than local one
That explains a lot, like why the online item GMP costs cannot be reduced to 0 even when you start the game offline. There is another offline table maintaining something somewhere.

> Reply from unknown123
>
> 
But why do you need to change values?
Only want to turn down GMP costs for online items to reasonable levels as I play offline mostly. Resources can be turned down to 0 but not GMP for some reason. Example - the Womhole Mine will have some 30K GMP cost even when u start the game offline and have the cost set to 0.

> Reply from unknown123
>
> 
I believe there are server checks, so developing a weapon with modified cost (lets say 1 online GMP) will still drain the regular amount of GMP (100 online GMP).
Yeah no way to turn down online item dev costs. But you can develop all online items through code but they reset on connecting to the servers(id you haven't developed them online yet that is).

> Reply from unknown123
>
> so it is invoked somewhere between 'Connected to server' and title screen. Probably it is one of those - TppServerManager.lua , or maybe something from TppNetworkUtil.lua.
It is invoked whenever you connect to the servers the very first time. I skip the connect during bootup and connect manually through the menus. Am pretty sure it's not a function in TppServerManager or TppNetworkUtil but something else that is called through them somewhere.

Also connecting online or going to FOBs loads new lua objects into memory. I ran an FOB inspect and found this to be true. I did it with my modded game so I'll do a vanilla dump soon.

> Reply from unknown123
>
> 
Also there is a non-lua check function on FOBs that checks your equipment (CheckPlayerEquipmentServerItemCorrect) so allowing player who uses your mod to equip items not available for develompent may result in ban (if he equips it during online mission). I don't use my dummy slots on FOBs since I am not sure what exactly konami gets on their end and neither should you.
Found this myself a few days ago, don't know what is checked for but I avoid playing modded on FOBs, unless I wanna try something like failed UAV testing.

Speaking of which, how's that going tex? Expecting something from you soon!
## Post #1319
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-09-27T12:21:48+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Can any good soul here (@morbidslinky maybe ) please give me a tutorial on texture modding.

Let's say I want to edit the Sneaking Suit textures for Snake.
1. I extract plparts_venom.pftxs using GzsTool.
2. I go into the unpacked 'plparts_venom_pftxs' folder and check every ftexs file and then go into texture0 and find every single 2,3 ftexs file??! Oh my god! This is slow and painful as all hell.
3. Okay okay, after 30 minutes and using SearchEverything I managed to get all the 2,3 suffixed ftexs files I need and placed them on correct paths under the 'plparts_venom_pftxs' folder so that FtexTool does not give any errors.
4. I edit the DDS texture and save it.

Now come the part I need help with. I can now use the DDS file to create either 1 ftexs or the original number. So which approach do I use.

Q1: For example if I create only 1 ftexs, then I can repack it into the pftxs, add the pftxs to 00.dat and will that be enough to apply my texture edits? Will the existing textures in texture0 not cause conflicts?

@morbidslinky, I can see your black retuxture for Snake contains mostly 1 ftexs and only 2,3 for one particular texture so I assume you used the above route. But doesn't this approach remove mip-maps? Isn't that like a bad thing for visual fidelity?

Q2: If I create the original number of ftexs (let's say 3), then again I pack the 1st one into the pftxs, place the pftxs into 00.dat, and then place the 2,3 pftxs into 01.dat. Is this the correct way to do it?

@morbidslinky, When using this approach, mip-maps are present I guess and I can see the texture "fade" back to the original one in the sortie screen as I move the camera closer to Snake. What am I doing wrong then?

Q3: I read on one of the previous pages that the 1,2,3 ftexs can be directly placed into 00.dat provided the pftxs is empty. Can anybody explain this correclty. How do i create an empty pftxs file? Would a renamed blank text file be enough or should I remove all entries from the xml and repack an empty file that way? Does the file not have a shit tonne of textures for other stuff like effects etc etc as well? Where do those go?
[viewtopic.php?f=10&t=12407&p=111921&hil ... ar#p111921](http://forum.xentax.com/viewtopic.php?f=10&t=12407&p=111921&hilit=.dds+metal+gear#p111921)

> Reply from atvaark
>
> The pftxs part can probably be skipped if you replace the pftxs archive with an empty one and add them to 00.dat.
If you guys can help clear this up, I promise I'll document this for future reference! Even make a video on it!

I would tell you what I am trying to do and which textures I am getting at but since nobody has done it till now, I'm going to be a bit selfish.
## Post #1320
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-09-27T19:20:43+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> p50 seems to be non important- just a numerical index for the number of rows in the file.
Well with p50 set to 0 it doesn't show in the development tab for the item type. Only in the Development requirements met tab.
With it set to the next sequential it doesn't show in the dev-met tab but does show in its item tab. (but then that would conflict on any additions)
## Post #1321
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-09-27T19:29:47+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> nasanhak wrote:p50 seems to be non important- just a numerical index for the number of rows in the file.
Well with p50 set to 0 it doesn't show in the development tab for the item type. Only in the Development requirements met tab.
With it set to the next sequential it doesn't show in the dev-met tab but does show in its item tab. (but then that would conflict on any additions)
Well.... Uhhh... p52 is the grade and has to be at least 1 in order to show the item in the correct category's tab. Should be at the very bottom. p51 is the order of the item in the dev chain.

A chain would look like this:
Item 1: p51=0, p52=1
Item 2: p51=1; p52=3

 |Grade 1 Item 1|-----|Empty Grade 2|-----|Grade 3 Item 2|

With p51 and p52 set, p50 isn't necessary at all. The dev tab the item will show up in depends on p02(this is also the item's type)
For example: p02=TppMbDev.EQP_DEV_TYPE_GrenadeLauncher

Further, parent id(p03) for Item 2, should be the id(p00) for Item 1.
Item 1: p00=1001, p03=0
Item 2: p00=1002, p03=1001

Then only will the chain be shown.

If we have a third item like this:
Item 3: p00=1003, p03=1001, p51=0, p52=3

Notice that p51(pos in chain) is 0, so this is the first item in a new chain.

 |Grade 1 Item 1|-----|Empty Grade 2|-----|Grade 3 Item 2|
      |
      |-----------------|Empty Grade 2|-----|Grade 3 Item 3|

(Forgive the graphics, tabbing(\t) don't seem to work)

If you share exactly what ur trying to add then I can tell you why it's showing up in the dev-items tab
## Post #1322
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-09-27T22:08:58+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I'm just describing the behavior of p50 that I see, for the same item (editing the same entry)

RegFlwDev{p50=0,p51=0,p52=1,
will show on the development-met tab, and not in its item category tab

RegFlwDev{p50=876,p51=0,p52=1,
will not show on development-met tab, but will in its item category tab


> Reply from unknown123
>
> 
Also there is a non-lua check function on FOBs that checks your equipment (CheckPlayerEquipmentServerItemCorrect) so allowing player who uses your mod to equip items not available for develompent may result in ban (if he equips it during online mission). I don't use my dummy slots on FOBs since I am not sure what exactly konami gets on their end and neither should you.
Good info, thanks.
## Post #1323
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-09-28T03:57:46+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I'm considering changing my username to CantStoptheSyntaxErrors. Or perhaps CantStoptheExplitives, due to the aforementioned syntax errors.

Just popping in to add to the list of things you can't do with TppUiCommand. Apparently it only accepts strings/numbers, any number of variables with a standard value (like 6 or "6"), and one table or value derived from tabled functions in the case of TppUiCommand.AnnounceLogViewLangId. If you do something like this:

```
    variable=math.max(unpack(egTable))
    TppUiCommand.AnnounceLogView(variable)
end
```


Or this:

```

function name(egTable)
    for k,v in pairs(egTable) do
        if v==level then
            local a=v
            TppUiCommand.AnnounceLogView(a)
        end
    end
end
```


It won't output anything. I was kind of expecting it to behave more like print().
## Post #1324
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-09-28T05:53:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from CantStoptheBipBop
>
> 
It won't output anything. I was kind of expecting it to behave more like print().
Just wrap any non-string values in a tostring() call when passing to the func. A bit annoying but works.
## Post #1325
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-09-28T06:40:34+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> I'm just describing the behavior of p50 that I see, for the same item (editing the same entry)

RegFlwDev{p50=0,p51=0,p52=1,
will show on the development-met tab, and not in its item category tab

RegFlwDev{p50=876,p51=0,p52=1,
will not show on development-met tab, but will in its item category tab
Most recent testing results:
--Suits have the same equip name(p01) i.e. TppEquip.EQP_SUIT, so changing p00 for suits(and other items) that have the same p01 will create a totally new item. You would then be able to develop it, but when selected in the sortie screen, the id p00 won't have any data associated with it so, you just reset to the Olive Drabs outfit 
--p50 cannot be 0 for suits at least AFAIK
--p69=1 hides DLC items from dev menu's individual item tabs (at least suits)
## Post #1326
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-09-28T23:51:31+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I'm starting to wonder how much easier it would have been to write some of my batch files in lua instead. Converting the unpacker over to do file counts with robocopy (seems to be much faster than xcopy) took more time than I anticipated. 

> Reply from nasanhak
>
> Just wrap any non-string values in a tostring() call when passing to the func. A bit annoying but works.

Oh good idea. I'll have to try that method. I skimmed through your revenge file's notes and noticed it said combat/stealth response totals are stored in the M_NAME. I was under the impression it didn't keep track of revenge points for stealth/combat in general outside of missions. Or does it still generate the points in free-roam, apply tendency points to the "actual" categories according to whichever is highest/equal at the end of a mission, and then reset the M_NAME points?

I was also curious what the point decay was for things not listed in e.REDUCE_POINT_TABLE or e.REDUCE_TENDENCY_POINT_TABLE. Like for helmets. I figured e.REDUCE_REVENGE_POINT=10 was the default for those cases but the last time I paid attention to it the total dropped by at least 40 points after mission completion.

Edit: Good lord lua runs like it just hit a bathtub full of coke compared to batch.
## Post #1327
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-09-29T04:31:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from CantStoptheBipBop
>
> I skimmed through your revenge file's notes and noticed it said combat/stealth response totals are stored in the M_NAME. I was under the impression it didn't keep track of revenge points for stealth/combat in general outside of missions. Or does it still generate the points in free-roam, apply tendency points to the "actual" categories according to whichever is highest/equal at the end of a mission, and then reset the M_NAME points?Absolutely correct. Free roam/MB visits do not shift mission tendencies unless you force them on like with IH. But that is not really a good approach. Even if you don't do anything, Stealth and Combat are still adjusted and because of a DRAW in such a case will both rise/fall towards level 3.

> Reply from CantStoptheBipBop
>
> I was also curious what the point decay was for things not listed in e.REDUCE_POINT_TABLE or e.REDUCE_TENDENCY_POINT_TABLE. Like for helmets. I figured e.REDUCE_REVENGE_POINT=10 was the default for those cases but the last time I paid attention to it the total dropped by at least 40 points after mission completion._ReduceRevengePointOther() reduces points for all revenge points at ends of missions. Reduction will be (revenge reduction value)*(current revenge level). MAX of 50 points can be reduced. Using the chicken cap reduces all revenge points by 100.

> Reply from CantStoptheBipBop
>
> Edit: Good lord lua runs like it just hit a bathtub full of coke compared to batch.Very very fast. But not really CPU optimized. Any huge for/while loops bring the system to a halt.
## Post #1328
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-09-29T12:08:17+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> _ReduceRevengePointOther() reduces points for all revenge points at ends of missions. Reduction will be (revenge reduction value)*(current revenge level).
I must have misread that then. For some reason I was thinking that was for just stealth/combat.

> Reply from nasanhak
>
> Very very fast. But not really CPU optimized. Any huge for/while loops bring the system to a halt.
I don't doubt it. I was using Sublime to monitor it and printing stuff to its console lags behind like crazy. To the point that it just freezes after a few minutes of constant printing.

I wrote lua versions of the batch files I was using for building lang_dictionary. I can't get over the performance difference. It builds a 3.4m line text file for three-word combinations from a 1,600 line text file in five seconds. The brute-force block still needs improvement. It's not a slug but it's slower than it could be. It uses [ASCII numbers](http://www.asciitable.com/index/asciifull.gif) as the table input just because it's less effort to type.

I was too lazy to throw the three generators in their own giant functions so that's why the comment brackets are at the top and bottom of each. If anyone uses the script just turn two of them into comment blocks before running it.

[script dictionary](http://pastebin.com/J9BZzX0K)

```
-- | A-Z == 65,90 | a-z == 97,122 | 0-9 == 48,57 | special == 32,47 & 58-64 & 91-96 & 123-126 |
--[[]]
local i
local langDictBrute=io.open("langDictBrute.txt", "w")
local m,t
t={}

for m=97,122 do
	m=string.char(m)
	table.insert(t,m)
end

for m=65,90 do
	m=string.char(m)
	table.insert(t,m)	
end

local function keyGen()
	local a,b,c,d,e,f,g
	for _,v in ipairs(t) do
		a=v
		for _,v in ipairs(t) do
			b=v
			for _,v in ipairs(t) do
				c=v
				for _,v in ipairs(t) do
					d=v
					for _,v in ipairs(t) do
						e=v
						langDictBrute:write("@"..a..b..c..d..e.."$", "\n")
					end
				end
			end
		end
	end
	langDictBrute:close()
end
keyGen()
--[[--]]
----------------------------------------------------DICTIONARY ATTACK----------------------------------------------------
--[[]]
local startOfScript=os.time()
math.randomseed(os.time())
math.random()
local dictionary=io.open("dictList.txt")
local dictionaryAtk=io.open("dictAtk.txt", "w")
local dT={}
for line in dictionary:lines() do
	table.insert(dT,line)
end
local d=#dT

while true do
	if os.time()>=startOfScript+1 then dictionaryAtk:flush(); break end
	local a,b,c
	a=dT[math.random(d)]
	b=dT[math.random(d)]
	c=dT[math.random(d)]
	dictionaryAtk:write("@"..a.."_"..b.."_"..c.."$", "\n")
end
--[[--]]
----------------------------------------------------NUMBER GENERATOR----------------------------------------------------
-- Far faster to use this instead of pulling values from brute-force table blocks
--[[]]
local n,m
local langDictNum=io.open("langDictNum.txt", "w")
for n=0,9999 do
	for m=0,999 do
		langDictNum:write("@"..string.format("%05d", n).."_"..m.."$", "\n")
	end
end
--[[--]]
```
## Post #1329
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-09-29T13:47:34+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

This is what I had in mind with texture editing:
[http://imgur.com/a/UeZ4R](http://imgur.com/a/UeZ4R)

Don't know if they look good or not

Also Mr. CantStoptheBipBop, would you consider using this for your Radio Silence mod?

```
TppRadio.Stop()
```

It essentially stops all codec radio dialogue. Removes all subtitles as well but that's okay I guess. Have know about it for a while but didn't want to maintain/release another mod. No fulton extraction dialogue, no tips n hints, no mission briefings or "That's the target". Nothing seems to break. Have been playing for months really. Haven't played all missions but still. Cutscene audio plays as normal.

Cal it in an Update function style manner. With ThreeSocks3' batch installer it would be usable with any other mod. Alternately @tex you can add this as an option too.
## Post #1330
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-09-30T09:11:58+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Alternate drop code that also drops support items:

```
    --tex NOTE: currentInventorySlot doesn't seem to ever be set to PlayerSlotType.ITEM
    if vars.currentInventorySlot==PlayerSlotType.ITEM then
      subIndex=vars.currentItemIndex
    elseif vars.currentInventorySlot==PlayerSlotType.SUPPORT then
      subIndex=vars.currentSupportWeaponIndex
    end

    Player.UnsetEquip{
      slotType=vars.currentInventorySlot,
      subIndex=subIndex,
      dropPrevEquip=true,
    }

```
## Post #1331
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-09-30T10:19:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> Alternate drop code that also drops support items:
Code: Select all    local subIndex=nil
    --tex NOTE: currentInventorySlot doesn't seem to ever be set to PlayerSlotType.ITEM
    if vars.currentInventorySlot==PlayerSlotType.ITEM then
      subIndex=vars.currentItemIndex
    elseif vars.currentInventorySlot==PlayerSlotType.SUPPORT then
      subIndex=vars.currentSupportWeaponIndex
    end

    Player.UnsetEquip{
      slotType=vars.currentInventorySlot,
      subIndex=subIndex,
      dropPrevEquip=true,
    }

```
	      slotType=PlayerSlotType.ITEM,
	      subIndex=vars.currentItemIndex,
	      dropPrevEquip=true,
	    }
```
Works but items have to be equipped in order for the index to be updated soo... Plus they don't have drop icons ie. are not pickup-able.

Oh also:

```
    	{msg="OnEquipItem",
    		func=function(a,b,c,d,e,f,g,h)	
    			TppPlayer.DebugPrint(
          "OnEquipItem"
          .." a: "..tostring(a)
          .." b: "..tostring(b)
          .." c: "..tostring(c)
          .." d: "..tostring(d)
          .." e: "..tostring(e)
          .." f: "..tostring(f)
          .." g: "..tostring(g)
          .." h: "..tostring(h)
          ,3)
    		end
    		},
}
```

Too complicated

EDIT:

```
equivalent to
TppUiCommand.ResetNoUseEquipId(TppEquip.EQP_SWP_WormholePortal)

```
enables the portal mine icon in the HUD but when equipped icon is still crossed out and the mine's not usable :/
## Post #1332
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-10-01T22:19:55+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> This is what I had in mind with texture editing:
Don't know if they look good or not
Looks good to me. Though I don't do texture editing so I wouldn't be able to give you a detailed critique or anything.

> Reply from nasanhak
>
> Also Mr. CantStoptheBipBop, would you consider using this for your Radio Silence mod?
Code: Select allTppRadio.Stop()
I honestly forgot about that mod. It sounds like a nifty function but I prefer keeping the optional mission codecs and one-time calls (like the first time you find digitalis) in, as well as the ones that indicate when the mission is complete, certain intro calls, etc.

> Reply from Tex
>
> Alternate drop code that also drops support items
Cool inf addition. I tried merging it and that weapon drop mod awhile back but could never get them working together properly. For some reason it would cause me to spawn without a collision box (I guess) and fall below the map.

So I've been working on a lua script to automate the whole lang_dictionary process and it's basically complete. There are still some small inefficiencies in the code but nothing I'm too concerned about since lua's end of things already runs in a heartbeat. Now it can run more like actual brute-force and dictionary attacks instead of simply generating large text files that have to be cut down and edited for LangTool to use (apparently it doesn't run with enough memory to load files of absurd size).

The gist is that it loads a file with the current entries+new ones that it has generated into a table. Then it performs the dictionary attack function for one second, runs LangTool on everything or just selected files, pulls lines containing "LangId" with cmd's findstr command, loads those into a table and isolates the entries with regex, calls a function to remove entries that are duplicates from the original table, overwrites the file loaded at the start with values from the new table, and loops. The table duplicate functions are from [here](http://lua-users.org/wiki/TableUtils).

```
math.random()
local file=io.open("newDict.txt")
local t={}
for line in file:lines() do
	t[#t+1]=line
end
os.execute[["type nul>lang_dictionary.txt"]]
os.execute[["for /r %G in (*.lng?) do (LangTool.exe "%G")"]]

local function table_count(argTable,argEntry)
  local count
  count=0
  for _,v in pairs(argTable) do
    if argEntry==v then
    	count=count+1
    end
  end
  return count
end

local function table_unique(idTable,fullTable)
  local newTable
  newTable={}
  for _,v in pairs(fullTable) do
  	idTable[#idTable+1]=v
  end
  for _,v in ipairs(idTable) do
    if(table_count(newTable,v)==0) then
      newTable[#newTable+1]=v
    end
  end
  return newTable
end


local function dictionaryAttack()
	local startOfScript=os.time()
	local fileIn=io.open("dictList.txt")
	local fileOut=io.open("lang_dictionary.txt", "w")
	local t={}
	for line in fileIn:lines() do
		t[#t+1]=line
	end
	local d=#t

	while true do
		if os.time()>=startOfScript+1 then fileOut:flush(); fileOut:close(); break end
		local a,b --,c
		a=t[math.random(d)]
		b=t[math.random(d)]
		--c=t[math.random(d)]
		fileOut:write("announce".."_"..a.."_"..b, "\n")
	end
end

local function runLangTool()
	local tC={}
	local m={}
	local file="tempIdComp.txt"
	--os.execute[["for /r %G in (*.lng?) do (LangTool.exe "%G")"]]
	os.execute[["LangTool.exe tpp_announce_log.eng.lng2"]]
	os.execute[["LangTool.exe tpp_fob.eng.lng2"]]
	os.execute[["findstr /r "LangId" *.xml>tempIdComp.txt"]]
	file=io.open(file)
	for line in file:lines() do
		tC[#tC+1]=line
	end
	for _,v in pairs(tC) do
		m[#m+1]=(v:match(".*LangId=.([a-z,A-Z,0-9,_]*).*"))
	end
	for i=1,#tC do
		tC[#tC+1]=nil
	end
	m=table_unique(m,t)
	return m
end

while true do
	dictionaryAttack()
	local m=runLangTool()
	local file=io.open("newDict.txt", "w")
	for _,v in pairs(m) do
		file:write(v,"\n")
	end
	file:flush(); file:close()
	file=io.open("newDict.txt")
	t={}
	for line in file:lines() do
		t[#t+1]=line
	end
end
```


It seems to work flawlessly but let me know if anyone has issues with it. I recommend sticking to a max of two-word generation with a common word of your choosing since that seems to be the best method of getting clean results. Just spamming LangTool with the three+ word combos gives back functional "wrong" entries, they just look ugly.
## Post #1333
- Username: abuali
- Rank: beginner
- Number of posts: 20
- Joined date: Mon Dec 13, 2010 12:48 am
- Post datetime: 2016-10-02T20:12:37+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I'm working on translating the game to arabic, I'm interested only on the subtitles not the user-interface.  However I tried to many options, the one that worked out is to modify Kanjifont.ffnt by adding extra glyps to the file and use the Japanese language as a base... the work is going smoothly in this part. But the problem is in the user-interface, since I choose the Japanese language, I had to at least use the original English files in the game and replace the Japanese ones, I found most of - jpn.lng/lng2 - that is needed by there still some missing, I searched in all un-named fpk and i found only two .lng/lng2 more, but the game still had some Japanese lines in some parts...

Anyone can lead me to all other .lng?, or if someone had a way for telling the English base of the game to just read foreign letters?

I know it is a hard task for you people.
## Post #1334
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-10-02T20:36:11+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from abuali
>
> Anyone can lead me to all other .lng?, or if someone had a way for telling the English base of the game to just read foreign letters?

I know it is a hard task for you people.
[http://pastebin.com/rdiQ5ype](http://pastebin.com/rdiQ5ype)

See [https://github.com/unknown321/mgsv_lua_ ... master/inf](https://github.com/unknown321/mgsv_lua_dump/tree/master/tpp/master/inf) for files that were packed in fpks.
## Post #1335
- Username: abuali
- Rank: beginner
- Number of posts: 20
- Joined date: Mon Dec 13, 2010 12:48 am
- Post datetime: 2016-10-02T20:53:52+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> abuali wrote:Anyone can lead me to all other .lng?, or if someone had a way for telling the English base of the game to just read foreign letters?

I know it is a hard task for you people.
http://pastebin.com/rdiQ5ype

See https://github.com/unknown321/mgsv_lua_ ... master/inf for files that were packed in fpks.
Thanks, I found All of those files but maybe I miss place them.
Btw I'm using Gztools, can I edit the un-named fpks then repack them as un-named again?
## Post #1336
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-10-02T21:06:14+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from abuali
>
> Btw I'm using Gztools, can I edit the un-named fpks then repack them as un-named again?
I am pretty sure you can, nothing stops you.
## Post #1337
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-10-03T15:49:24+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

@unknown123 and @Tex

EquipDevelopConstSetting(Const file)
New Entries:

```
TppMotherBaseManagement.RegCstDev{p00=901,p01=TppEquip.EQP_None,p02=TppMbDev.EQP_DEV_TYPE_Assault,p03=0,p04=0,p05=65535,p06="cmmn_wp_none",p07="cmmn_wp_none",p08="/Assets/tpp/ui/texture/EquipIcon/ui_dev_dummy_alp",p09=TppMbDev.EQP_DEV_GROUP_Assault,p10="cmmn_wp_none",p30="cmmn_wp_none",p31=0,p32=0,p33=0,p34=0,p35=0,p36=0}
TppMotherBaseManagement.RegCstDev{p00=902,p01=TppEquip.EQP_None,p02=TppMbDev.EQP_DEV_TYPE_Shotgun,p03=0,p04=0,p05=65535,p06="cmmn_wp_none",p07="cmmn_wp_none",p08="/Assets/tpp/ui/texture/EquipIcon/ui_dev_dummy_alp",p09=TppMbDev.EQP_DEV_GROUP_None,p10="cmmn_wp_none",p30="cmmn_wp_none",p31=0,p32=0,p33=0,p34=0,p35=0,p36=0}
TppMotherBaseManagement.RegCstDev{p00=903,p01=TppEquip.EQP_None,p02=TppMbDev.EQP_DEV_TYPE_GrenadeLauncher,p03=0,p04=0,p05=65535,p06="cmmn_wp_none",p07="cmmn_wp_none",p08="/Assets/tpp/ui/texture/EquipIcon/ui_dev_dummy_alp",p09=TppMbDev.EQP_DEV_GROUP_None,p10="cmmn_wp_none",p30="cmmn_wp_none",p31=0,p32=0,p33=0,p34=0,p35=0,p36=0}
TppMotherBaseManagement.RegCstDev{p00=904,p01=TppEquip.EQP_None,p02=TppMbDev.EQP_DEV_TYPE_Submachinegun,p03=0,p04=0,p05=65535,p06="cmmn_wp_none",p07="cmmn_wp_none",p08="/Assets/tpp/ui/texture/EquipIcon/ui_dev_dummy_alp",p09=TppMbDev.EQP_DEV_GROUP_None,p10="cmmn_wp_none",p30="cmmn_wp_none",p31=0,p32=0,p33=0,p34=0,p35=0,p36=0}
```

All new entries to this file need to be added at the end. Otherwise dev flow, equip menus, sometimes even the sortie prep screen exit breaks. So order of this file matters. But it matters for a very specific reason I haven't figured out yet - maybe never will.

-------------------------------------------------------------------------------
EquipDevelopFlowSetting(Flow file)
New Entries:

```
TppMotherBaseManagement.RegFlwDev{p50=877,p51=0,p52=0,p53=0,p54=0,p55=0,p56=0,p57=0,p58="",p59=0,p60="",p61=0,p62=0,p63=0,p64=0,p65="",p66=0,p67="",p68=0,p69=0,p70=0,p71=0,p72=0,p73=0,p74=0}
TppMotherBaseManagement.RegFlwDev{p50=878,p51=0,p52=0,p53=0,p54=0,p55=0,p56=0,p57=0,p58="",p59=0,p60="",p61=0,p62=0,p63=0,p64=0,p65="",p66=0,p67="",p68=0,p69=0,p70=0,p71=0,p72=0,p73=0,p74=0}
TppMotherBaseManagement.RegFlwDev{p50=879,p51=0,p52=0,p53=0,p54=0,p55=0,p56=0,p57=0,p58="",p59=0,p60="",p61=0,p62=0,p63=0,p64=0,p65="",p66=0,p67="",p68=0,p69=0,p70=0,p71=0,p72=0,p73=0,p74=0}
TppMotherBaseManagement.RegFlwDev{p50=880,p51=0,p52=0,p53=0,p54=0,p55=0,p56=0,p57=0,p58="",p59=0,p60="",p61=0,p62=0,p63=0,p64=0,p65="",p66=0,p67="",p68=0,p69=0,p70=0,p71=0,p72=0,p73=0,p74=0}
```

After much, much testing, order of Flow file does *not* matter - confirmed by rearranging entries. As long as EquipDevelopConstSetting has new entries added at the end, then order makes no difference in this file, at least with initial testing. p50 IS IMPORTANT and has to be unique. *p50* corresponds to the order entries are made at in the Const file, meaning:
Entry 1 in Const file is related to the Flow file using p50=0
Entry 236 in Const file is related to the Flow file using p50=235
Entry 700 in Const file is related to the Flow file using p50=699

Setting additional entries with p50=0 breaks the dev flow in a very subtle way:
What the first pistol should look like: [https://imgur.com/cF9DB9e](https://imgur.com/cF9DB9e)
What it looks like if additional entries have p50=0: [https://imgur.com/bbvRS9X](https://imgur.com/bbvRS9X)

Look at the grade info and the star replaced by a dash. Ignore the low GMP for how it should look due to my modded files.

In fact, since the "entries" are nothing more than function calls, if you add additional entries with p50=0, then it is pointless as the p50 id 0 belongs to this pistol and all additional Flow info that you really want to be adding is actually being defaulted by the game 

-------------------------------------------------------------------------------
This next part puzzles me:

These file are not really called line by line, that was just an incorrect impression.

Do not know how the two files are linked together however - as in how the game decides that okay this is the 1st entry in the Const file. If the Const file is called in one go, then what difference does it's order make? But all our testing confirms that the Const file order does matter. So how and where is it called from?

1. It is called during the game's bootup phase where all Lua code is compiled. I can confirm this by having used print statements at the end which are printed before the auto save popup.

2. But how is the Const file called then? Does the game store all TppEquip items in a call table(CT1 for example) using a predetermined index, then iterate over this file in order of the index using p01 as a match? If that were the case then any new items would have to be added to CT1 as well and we would not be able to add in the EQP_None items(or any additional items) at all because the game would not even be looking for them correct. Not to mention newlines make no difference.

-------------------------------------------------------------------------------
Observations:

> Rearranging entries in the Const and Flow files similarly breaks dev flow.
>
> Adding new entries to Const at the top breaks dev flow.
>
> Adding new entries to Const and Flow files at the top and then setting the Flow file to start new entries with p50=0 and incrementing all existing entries accordingly breaks dev flow.
>
> Incrementing/changing p50 in Flow file alone breaks dev flow.
So, the game EXPECTS the entries in the Const file to be in a particular order. How and why - no idea. There is definitely a third table somewhere but maybe not in the available code.
-------------------------------------------------------------------------------
Why the hell does the Const file order matter?!
## Post #1338
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-10-03T16:45:56+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> EquipDevelopConstSetting(Const file)
All new entries to this file need to be added at the end. Otherwise dev flow, equip menus, sometimes even the sortie prep screen exit breaks. So order of this file matters. But it matters for a very specific reason I haven't figured out yet - maybe never will.
They are tied to hardcoded values in exe. TppEquip is a C class after all and all weapons (not development entries!) are hardcoded into it from the beginning. You can run strings.exe on executable to get a list of them - [https://technet.microsoft.com/en-us/sys ... rings.aspx](https://technet.microsoft.com/en-us/sysinternals/strings.aspx)

> EquipDevelopFlowSetting(Flow file)
>
> After much, much testing, order of Flow file does *not* matter - confirmed by rearranging entries. p50 IS IMPORTANT and has to be unique. 
>
> *p50* corresponds to the order entries are made at in the Const file
>
> Entry 1 in Const file is related to the Flow file using p50=0
Because they are assigned to the C table - indexing in C starts with 0.

> Setting additional entries with p50=0 breaks the dev flow in a very subtle way:
My bad, I totally forgot that p50 has to be unique. Was so excited to finally have empty slots, that I forgot about wu pistol completely.


> These file are not really called line by line, that was just an incorrect impression.
>
> Do not know how the two files are linked together however - as in how the game decides that okay this is the 1st entry in the Const file. If the Const file is called in one go, then what difference does it's order make? But all our testing confirms that the Const file order does matter. So how and where is it called from?
They are called line by line. First, game iterates over const file, creating parent-child relations to make a development table with dev entries. Then it calls flow file line by line adding entry costs, grades and everything else using p50 as index. I believe that breaking parent-child relations is the cause of broken game - ie some weapon has a parent that hasn't been registered yet. Best way to check it would be to leave like 2-3 entries in both files and make some tests on them.

> Does the game store all TppEquip items in a call table(CT1 for example) using a predetermined index, then iterate over this file in order of the index using p01 as a match?
Of course no, p01 is just an index for development entry, not a weapon itself.


Honestly I think that ordering is not that interesting as long as everything works. What bothers me more is p* keys - some of them are still a mystery.
## Post #1339
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-10-03T17:48:47+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> 
They are tied to hardcoded values in exe. TppEquip is a C class after all and all weapons (not development entries!) are hardcoded into it from the beginning. You can run strings.exe on executable to get a list of them - https://technet.microsoft.com/en-us/sys ... rings.aspx
Well yes I did know the weapons, ammo, receivers, suit(only one entry), support items, item items, tools etc are already defined before hand. This makes it much clearer however. Still does not explain why the order matters. We can add new entries because like you said the development tree is what these files are defining.

> Reply from unknown123
>
> 
Because they are assigned to the C table - indexing in C starts with 0. Of course  But what I meant was that the order of the Flow file does not matter as long as p50 is 1 less than the order number of the item you want it to refer to from the Const file.

> They are called line by line. First, game iterates over const file, creating parent-child relations to make a development table with dev entries. Then it calls flow file line by line adding entry costs, grades and everything else using p50 as index. I believe that breaking parent-child relations is the cause of broken game - ie some weapon has a parent that hasn't been registered yet. Best way to check it would be to leave like 2-3 entries in both files and make some tests on them.
I had exactly this in mind, what I meant was that the files were not called one line at a time *together* for a particular development entry. As for breaking the parent child relationship, well if you mess around with the things I have mentioned, the development trees "shift". You can tell that the costs, grade, etc jump around to weapons/items before or after depending on how you mess with the Const file.

> Does the game store all TppEquip items in a call table(CT1 for example) using a predetermined index, then iterate over this file in order of the index using p01 as a match? 
>
> 
>
> Of course no, p01 is just an index for development entry, not a weapon itself.
Well not quite. p01 is unique and refers exactly to the hard coded weapon entry - check your/my dumps. TppEquip.EQP_WP_10102 has a value associated with it and this is important for all references to the weapon/item. The index that does not matter is p00 - this, although unique, can be whatever but the game must then refer to the same p00 id in code if it wants to refer to a particular weapon/item.

Basically, the code uses p00 and p01 in certain places depending on func calls.

Since the order of the file matters, and if weapons, items, suits, support items, item items and tools are all mixed together then there is obviously some way the game knows which entry corresponds to which item/equip development tree. If p01 alone were responsible, then changing order would not make any difference but that is not the case here.

> Honestly I think that ordering is not that interesting as long as everything works. What bothers me more is p* keys - some of them are still a mystery.
Well yeah I know everything works but what I would like to do is to add the "None" slots to the top of the ASSAULT, SHOTGUN, GRENADE LAUNCHER, HANDGUN and SMG menus in the sortie screen. For p* keys, a way to figure them out would be to test with a save file that has not developed everything and is relatively early in the game.

I tried this to find p31, p34 and p35 but no luck yet. Still that should be the way to go about it.
## Post #1340
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2016-10-03T21:52:24+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Excuse me but how would I go about taking Huey's model and nulling everything except for the hair and replacing one of the avatar hair styles with it?
## Post #1341
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-10-04T15:16:45+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Made a huge post about cosmetics and models - [https://unknown321.github.io/mgsv_resea ... etics.html](https://unknown321.github.io/mgsv_research/cosmetics.html). No, there is no clear solution for simple porting hats from mgo to tpp (yet), but I think I've found stuff that leads to it.
## Post #1342
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-10-04T15:30:18+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> Made a huge post about cosmetics and models - https://unknown321.github.io/mgsv_resea ... etics.html. No, there is no clear solution for simple porting hats from mgo to tpp (yet), but I think I've found stuff that leads to it.
Very nice read. And depressing. You are a good writer however
## Post #1343
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2016-10-04T22:19:36+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> Made a huge post about cosmetics and models - https://unknown321.github.io/mgsv_resea ... etics.html. No, there is no clear solution for simple porting hats from mgo to tpp (yet), but I think I've found stuff that leads to it.

So you are getting close? And your definition of porting mgo hats is the free toggle of the hats rather than having to replace a model? That sounds pretty hard but you make it seem like it might be possible. Shigu did a video where he put the scarf and goggles on snake through what seems like coding but he said it frequently caused crashes
## Post #1344
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-10-04T22:29:24+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Ashtails
>
> And your definition of porting mgo hats is the free toggle of the hats rather than having to replace a model? That sounds pretty hard but you make it seem like it might be possible. So you are getting close?
Yes, like in sortie prep screen. Game does that already, so we should be able to do the same. But I am out of ideas, stuck - that was the reason for publishing all of that. I don't like to post unfinished stuff, but this has to be an exception.

> Reply from Ashtails
>
> Shigu did a video where he put the scarf and goggles on snake through what seems like coding but he said it frequently caused crashes
Link? I'd like to take a look.
## Post #1345
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2016-10-04T22:35:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> Ashtails wrote:And your definition of porting mgo hats is the free toggle of the hats rather than having to replace a model? That sounds pretty hard but you make it seem like it might be possible. So you are getting close?
Yes, like in sortie prep screen. Game does that already, so we should be able to do the same. But I am out of ideas, stuck - that was the reason for publishing all of that. I don't like to post unfinished stuff, but this has to be an exception.
Ashtails wrote:Shigu did a video where he put the scarf and goggles on snake through what seems like coding but he said it frequently caused crashes
Link? I'd like to take a look.
[https://m.youtube.com/watch?v=CcicEW4IHLk](https://m.youtube.com/watch?v=CcicEW4IHLk)

Another question I have is would it be possible to replace the model of the capture cages with the plushies? I never use them sooooooo.....
## Post #1346
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-10-04T22:58:13+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Ashtails
>
> https://m.youtube.com/watch?v=CcicEW4IHLk
I totally forgot about glasses-scarf. Looks like he is applying fv2 files since model is not reloaded. I assume that game crashed because wrong fv2 was applied.

> Reply from Ashtails
>
> Another question I have is would it be possible to replace the model of the capture cages with the plushies? I never use them sooooooo.....
Models - sure, you just need to find them in tpp and mgo and make a swap. Not a big deal. Of course they wouldn't work as MGO plushies, their behaviour is coded straight into exe. Theoretically it could be possible to add a trap(trigger) with huge radius around placed plushie and stun/put to sleep enemies if they walk in, but it will work only in missions where you add that trap. Best code example for traps would be "recover volgin body" quest - [https://github.com/unknown321/mgsv_lua_ ... q99040.lua](https://github.com/unknown321/mgsv_lua_dump/blob/master/tpp/master/chunk2/fpks/tent_q99040_fpkd/Assets/tpp/level/mission2/quest/afgh/tent/tent_q99040.lua). 

I cannot work on it yet because I am still occupied by models (and later it will be weapons), sorry.
## Post #1347
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2016-10-04T23:17:47+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> Ashtails wrote:https://m.youtube.com/watch?v=CcicEW4IHLk
I totally forgot about glasses-scarf. Looks like he is applying fv2 files since model is not reloaded. I assume that game crashed because wrong fv2 was applied.
Ashtails wrote:Another question I have is would it be possible to replace the model of the capture cages with the plushies? I never use them sooooooo.....
Models - sure, you just need to find them in tpp and mgo and make a swap. Not a big deal. Of course they wouldn't work as MGO plushies, their behaviour is coded straight into exe. Theoretically it could be possible to add a trap(trigger) with huge radius around placed plushie and stun/put to sleep enemies if they walk in, but it will work only in missions where you add that trap. Best code example for traps would be "recover volgin body" quest - https://github.com/unknown321/mgsv_lua_ ... q99040.lua. 

I cannot work on it yet because I am still occupied by models (and later it will be weapons), sorry.

Maybe he was trying to apply the ashes on snakes face, but the game loads a different snake head to do it. And yeah I know replacing the model won't replace the effects but I just wanna do it to take screenshots with it or to give Paz some new toys to play with. Also would it be possible to force the game to let snake use the railgun on d walker without him using code?
## Post #1348
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2016-10-05T10:45:32+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Ashtails
>
> Shigu did a video where he put the scarf and goggles on snake through what seems like coding but he said it frequently caused crashes

Shigu here- The answer to how I did that mod is not very exciting. FV2 modded the scarf, then script modded in the gas mask and model swapped it with the goggles before vertex editing it into place.
The scripting for the gas mask wasn't air-tight, I was having trouble with the gas mask permanently hiding itself, conflicts with night vision goggles, disappearing between loadings, and general unexplained crashes.

Modding over the gas mask is still great in concept though, it just needs to be scripted properly. I'm not sure if/how Tex might've done it in IH, but I'm sure he could be capable of writing a stable version of what I tried.
## Post #1349
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-10-05T11:08:10+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> Shigu here- The answer to how I did that mod is not very exciting. FV2 modded the scarf, then script modded in the gas mask and model swapped it with the goggles before vertex editing it into place.
FV2 modded? Were you applying fv2 files directly like 

```

```

or via GameObject.SendCommand?

> Reply from Higus
>
> The scripting for the gas mask wasn't air-tight, I was having trouble with the gas mask permanently hiding itself, disappearing between loadings, and general unexplained crashes.
I assume you addded fpk with gas mask to TppMissionList.lua then loaded corresponding mission and called Player.AttachGasMask, right? If I am wrong and you've found a way to dynamically load fpks anywhere, that would be great.

> Reply from Higus
>
> Modding over the gas mask is still great in concept though, it just needs to be scripted properly. I'm not sure if/how Tex might've done it in IH, but I'm sure he could be capable of writing a stable version of what I tried.
The problem is vertex editing model into place. You can attach models/effects into the right places easily by specifying bones and connect points - that's how it is done in mgo. I am pretty sure you have seen that already since you digged a lot of .parts files. If only we knew the right function, that allows us to specify all parameters; Player.AttachGasMask is just a wrapper over it.
## Post #1350
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-10-06T09:23:45+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

[Another lng dictionary update](http://pastebin.com/9rG83xTT). I haven't been keeping track of the ones I added so no fancy entry counts. There are still some additions I didn't get around to removing in it. I'd prefer not having the "technically correct" ones in it. I'll put it on GitHub eventually.

I also optimized the script I've been using. The changes are mostly just localizing globals and using "for i=1,#table do" loops instead of ipairs/pairs. I've had some luck with using an english dictionary from some site I can't seem to find again, but I'm mostly at the point that I'd need to leave it running for a few hours doing two-word generation and then sift through the crap entries it generates.

edit: messed up something when I pasted the script

edit2: left some old stuff in. Set used words/phrases to variables at top for convenience and so the script didn't waste time generating/concatenating the same strings each iteration.

```
local __,w1,w2,w3="_","announce_destroy_","",""
for line in file:lines() do
	t[#t+1]=line
end
file=io_open("dictList.txt")
for line in file:lines() do
	tD[#tD+1]=line
end
dL=#tD
os_execute[["type nul>lang_dictionary.txt"]]
os_execute[["for /r %G in (*.lng?) do (LangTool.exe "%G")"]]



local function table_count(argTable,argEntry)
	local count=0
	for i=1,#argTable do
		if argEntry==argTable[i] then
			count=count+1
		end
	end
	return count
end

local function table_unique(t1,t2)
	local t3,indice={},#t2
	for i=1,#t1 do
		indice=indice+1
		t2[indice]=t1[i]
	end
	indice=#t3
	for i=1,#t2 do
		if(table_count(t3,t2[i])==0) then
			indice=indice+1
			t3[indice]=t2[i]
		end
	end
	return t3
end


local function runLangTool()
	local m,indice,file={},0,"tempIdComp.txt"
	--os_execute[["for /r %G in (*.lng?) do (LangTool.exe "%G")"]]
	os_execute[["LangTool.exe tpp_announce_log.eng.lng2"]]
	--os_execute[["LangTool.exe tpp_fob.eng.lng2"]]
	--os_execute[["LangTool.exe tpp_common.eng.lng2"]]
	--os_execute[["LangTool.exe tpp_menu.eng.lng2"]]
	os_execute[["findstr /r "LangId" *.xml>tempIdComp.txt"]]
	file=io_open(file)
	for line in file:lines() do
		indice=indice+1
		m[indice]=line
	end
	for i=1,#m do
		m[i]=(m[i]:match("LangId=.([a-z,A-Z,0-9,_]*)"))
	end
	m=table_unique(m,t)
	return m
end


local function bruteForce()
	local string_char,count,indice,file,tASCII,a,b,c,d,e,f,g,s=string.char,0,0,io_open("lang_dictionary.txt","w"),{"",_}
	for i=97,122 do
		indice=indice+1
		tASCII[indice]=string_char(i)
	end
	for i=1,indice do a=tASCII[i]
		for i=1,indice do b=tASCII[i]
			for i=1,indice do c=tASCII[i]
				for i=1,indice do d=tASCII[i]
					for i=1,indice do e=tASCII[i]
						for i=1,indice do f=tASCII[i]
							for i=1,indice do g=tASCII[i]
								s=w1..a..b..c..d..e..f..g
								file:write(s,"\n")
								count=count+1
								if count==14e5 or s==w1.."zzzzzzz" then 
									count=0
									file:flush(); file:close()
									local m=runLangTool()
									file=io_open("newDict.txt","w")
									for i=1,#m do
										file:write(m[i],"\n")
									end
									file:flush(); file:close()
									file=io_open("newDict.txt")
									t={}
									for line in file:lines() do
										t[#t+1]=line
									end
									if s==w1.."zzzzzzz" then
										os.exit(exit)
									end
									file=io_open("lang_dictionary.txt","w")
								end
							end
						end
					end
				end
			end
		end
	end
end


local function dictionaryAttack()
	local startOfScript,file=os_time(),io_open("lang_dictionary.txt","w")
	while true do
		if os_time()>=startOfScript+1 then file:flush(); file:close(); break end
		local a,b--,c
		a=tD[math_random(dL)]
		b=tD[math_random(dL)]
		--c=tD[math_random(dL)]
		file:write(w1..a..__..b,"\n")
	end
end


while true do
	dictionaryAttack()
	--bruteForce()
	local m=runLangTool()
	local file=io_open("newDict.txt", "w")
	for i=1,#m do
		file:write(m[i],"\n")
	end
	file:flush(); file:close()
	file=io_open("newDict.txt")
	t={}
	for line in file:lines() do
		t[#t+1]=line
	end
end
```
## Post #1351
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-10-06T18:45:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Just a litte more info about cosmetics - [https://unknown321.github.io/mgsv_resea ... etics.html](https://unknown321.github.io/mgsv_research/cosmetics.html), that should make things clearer. New stuff is at the end of the article (see [diff](https://github.com/unknown321/mgsv_research/commit/7ce303a084b5a3c7309b2be4a3514cbc097ec9f7))

Also game is being updated on steam - [https://steamdb.info/sub/132506/history/](https://steamdb.info/sub/132506/history/), looks like definitive edition.
## Post #1352
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-10-07T01:39:24+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> Made a huge post about cosmetics and models - https://unknown321.github.io/mgsv_resea ... etics.html. No, there is no clear solution for simple porting hats from mgo to tpp (yet), but I think I've found stuff that leads to it.
Nice writeup.

Beyond my [prior post](http://forum.xentax.com/viewtopic.php?f=10&t=12407&p=116912#p116912) which you've possibly seen, I only have a couple of comments.

I think the actor object referenced in the mgo scripts is the MgoActor class. Referenced functions are in a section of the exe that has names matching those from your dump for MgoActor.
Same conclusion though since TPP uses TppPlayer2 / MgoActor isn't in MGSV_TPP exe

No telling how long ago the TPP/MGO project split happened.

Likewise seems like there was a big refactoring of the Fox codebase from comparing with GZ, I think it's likely that the TppDemoPuppet class doesn't exist any more.
## Post #1353
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-10-07T12:37:46+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> I think the actor object referenced in the mgo scripts is the MgoActor class. Referenced functions are in a section of the exe that has names matching those from your dump for MgoActor. Same conclusion though since TPP uses TppPlayer2 / MgoActor isn't in MGSV_TPP exe
That's what I thought. There was some code for searching actors (chunk0_dat/ruleset_teamsneak_fpkd/Assets/mgo/script/ruleset/teamsneak/TeamSneak_Exfil.lua):

```
		{      id = "Search",
			criteria = 
			{
				type = TppPoi.POI_GENERIC,
				tags = {"CONTROL_POINT",},
			}
		}
	local pointsSearch = GameObject.SendCommand( this.owner.POI_SYSTEM_ID, controlQuery )
	if pointsSearch.resultCount < 1 then
		Utils.DisplayError( "TeamSneak_Exfil:SetupPointsAndFlags. Could not find any control points. POI Search Tags=" .. Utils.StringArrayToCSV( controlQuery.criteria.tags ) )    
	else
		for i = 1, #pointsSearch.results do
			local controlPointId = pointsSearch.results[i].gameObjectId
			local controlPointTags = pointsSearch.results[i].tags
			if( controlPointId == nil ) then
				Utils.DisplayError( "TeamSneak_Exfil:SetupPointsAndFlags couldn't get control point gameObjectId for " .. controlPointTags )
			else
				local actor = MgoGameObject.GetActor( controlPointId )
				table.insert( PointsTable, actor )
			end
		end
	end
```


However MgoGameObject.GetActor returns something different, these objects don't have methods such as AttachParts. It's metatable is much smaller, like 8 methods overall; trying to call methods that supposed to be there gives errors. You can inspect it yourself by creating territory control passworded match then running code above.

Now about fovas. 
First mission has Ocelot and Miller with their eyewear. Miller has a nice entry in his .parts file under the name "Sunglasses". He doesn't have any fv2 files - his form is stable.
Ocelot, however, doesn't have any mentions about his glasses in his .parts - he has 3 fv2 files instead. He gets his eyewear by changing fovas and of course there is only garbage in them.
This is getting really complicated, the only mention of Ocelot's glasses is in demo file - path to the model, same with Snake's goggles. I don't understand how 48 bytes of fv2 tell game engine to load that exact model, I don't understand how Miller is getting his sunglasses back. Copypasting Miller's sunglasses entry into Snake's regular parts does nothing, applying Ocelot's fv2 to Snake leads to the crash. Game just does some magic I guess.

Edit: it's even worse, Ocelot with broken fv2 doesn't have glasses - [http://imgur.com/2IEvbv2.jpg](http://imgur.com/2IEvbv2.jpg), but he gets them back no matter what in a cutscene - [http://imgur.com/9mWUmKd.jpg](http://imgur.com/9mWUmKd.jpg). It means that there are 2 ways of slapping things together - using demo and using fv2.
## Post #1354
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-10-07T18:33:20+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from CantStoptheBipBop
>
> Another lng dictionary update.
Nice work.

Another possible approach:
grab Fox.StrCode32
[viewtopic.php?f=10&t=12407&p=111415#p111415](http://forum.xentax.com/viewtopic.php?f=10&t=12407&p=111415#p111415)

This takes in a list of keys and spits out the strcode for it.

So the new process would be:

run langtool without a dictionary and all lngs
grab all the str32 hashes from the lng xmls indicated by Key=" (should realy be called Hash=) and put them into a table with the hash as the key
ie
hashToKey[hash]=-1 --initialize to key not yet found for hash


then for each attack key in your attack dictionary 
write the attack key to a text file
run Fox.StrCode32 with that
read the output txt - <input filename>_result.txt
read the generated hash
then
if hashToKey[gennedHash] --have a match
hashToKey[gennedHash]=attackKey

Probably group the step above so StrCode32 is churning through a bunch of keys to minimize the overhead of file-write os.execute file-read

Then to speed up further you can save the hashToKey table (using the persistence script) and load it at the start instead of initializing it from scratch, you can just run through the keys and write them when you want to output your lang_dictionary


> Reply from unknown123
>
> ...
fv2s basically just trigger mesh or texture references in a fmdl.

YourePrettyGood did a relatively complete breakdown of the fv2 format:
[viewtopic.php?f=10&t=12407&p=121318#p121318](http://forum.xentax.com/viewtopic.php?f=10&t=12407&p=121318#p121318)

There's two ways of handling a model in relation to an existing one, have it directly as a sub mesh in the main fmdl, or have it as a separate fmdl and have a model description in the parts file.
## Post #1355
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-10-08T09:28:52+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Who figured out the PlayerStatus names? And how?? Same for PlayerPad. Was it you Tex? Numeric values are easy enough to find out since they are 2^x bit flags anyway.

[http://wiki.tesnexus.com/index.php/PlayerStatus](http://wiki.tesnexus.com/index.php/PlayerStatus)
[http://wiki.tesnexus.com/index.php/Input_handling](http://wiki.tesnexus.com/index.php/Input_handling)

@Tex thanks for the info on coroutines - had figured that one out. They seem useful if called in game, that is if I can manage to write something up. Update funcs are pretty fast anyway and there should be no need for an
## Post #1356
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-10-08T11:36:47+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> And how?? Same for PlayerPad.
They are listed in the exe, use [strings.exe](https://technet.microsoft.com/en-us/sysinternals/strings.aspx) to get a dump. You can also try to parse them from lua files, but it is not that reliable.
## Post #1357
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-10-08T11:40:32+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> nasanhak wrote:And how?? Same for PlayerPad. 
They are listed in the exe, use strings.exe to get a dump. You can also try to parse them from lua files, but it is not that reliable.
Aahh of course. Thanks!
## Post #1358
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-10-08T11:49:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> Another possible approach:
grab Fox.StrCode32
viewtopic.php?f=10&t=12407&p=111415#p111415

You the MVP Tex. I had a feeling there had to be a way to get them from just the entry keys. I've yet to try it but the process you suggest looks it should be pretty easy to implement in a copy of my current script. Just pattern matching Entry Key instead of LangId, keeping only duplicate keys in a table compare with the current dictionary output instead of the opposite, etc.
## Post #1359
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-10-08T12:08:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

@Tex May want to add these conditions to drop weapon

```
if vars.playerVehicleGameObjectId~=GameObject.NULL_ID then return end --takes care of vehicles, D-Horse, D-Walker and heli

--NORMAL_ACTION --takes care of every unique action like using AA Guns, ladders, hanging, fultoning, getting in and out of supply boxes etc - pretty much everything. Seems to take care of buddies and vehicles too but did not test
--BEHIND --is true when in cover, is false when aiming out of cover
--LFET_STOCK (sic) --true when camera is over to the left of the player else false
if not PlayerInfo.OrCheckStatus{PlayerStatus.NORMAL_ACTION,PlayerStatus.BEHIND} then return end

if slotType==6 then return end --Don't want to drop bionic arm varieties lol XD
```
## Post #1360
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-10-09T05:57:00+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

@Tex
I'm still in the process of writing the file (need to rewrite tableHashMatch(t1,t2) because it's returning an empty table for whatever bizarre reason). The fact that the .xml files don't need reset with a blank dictionary at the start and that LangTool doesn't need to run on anything is big time-saver, and that may let me raise dictionaryAttack() word generation time and bruteForce() entry length if Fox.StrCode32.exe doesn't have a similar memory cap to LangTool. I was eyeballing performance and it's something like five seconds for the current tableMatch(t1,t2) functions to run. The current implementation of your suggested method is calling two identical table comparison functions, which puts it at roughly 50% faster than running LangTool on every file but 50% slower than running LangTool on a handful or less files. I'm more concerned with getting the script working so optimization to make it run faster than the current method can always come later.

I decided to stop being lazy and finally created the [MGSV Lang Dictionary Project](https://github.com/cstBipBop/MGSV-Lang-Dictionary-Project) on GitHub. Though I'm still far too lazy to do an updated LangId/Entry Key count for each file so I didn't edit it into the readme. I'll be pushing updates on there instead of here. The best part for me is that I can update it as often as I want without it coming across as spammy. I'll add langForce.lua to the project after I finish the Fox.StrCode32.exe version and merge it with the previous file version.

I never got around to finishing my vehicle notes but the meat of it was there. I can't find it anywhere on my computer >.>. It's formatted as .xml pseudo-code because auto-tabbing and code block collapsing is too convenient of a feature in programmer text editors to pass up. For "but why .xml", afaik it's the cleanest language for general note-taking in psuedo-code. I could just write a custom format preset for notepad++ and/or Sublime to write under, but like I said, I'm lazy.

With another "because I was bored" reason, I've started reformatting TppRevenge.lua so that the file is far easier to read. Metatables are being formatted as

```
    table1={}
    table2={
        table2a={}
        table2b={}
    }
}
```
## Post #1361
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2016-10-10T04:17:25+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Anyone know how to unlock the bandana and Ishmael hat in mgo by messing with the files like in this video?

[https://m.youtube.com/watch?v=l18y3WR7ryg](https://m.youtube.com/watch?v=l18y3WR7ryg)
## Post #1362
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-10-10T07:15:50+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Ashtails
>
> Anyone know how to unlock the bandana and Ishmael hat in mgo by messing with the files like in this video?

https://m.youtube.com/watch?v=l18y3WR7ryg
Video was posted over six months ago lol. Love how Konami isn't interested in providing updates and unlocks to game at all.
## Post #1363
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2016-10-10T11:38:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> Ashtails wrote:Anyone know how to unlock the bandana and Ishmael hat in mgo by messing with the files like in this video?

https://m.youtube.com/watch?v=l18y3WR7ryg
Video was posted over six months ago lol. Love how Konami isn't interested in providing updates and unlocks to game at all.

I'm guessing they are probably gonna release it either as a competition perk for a Japanese mgo match or a survival perk, either of which I don't like since I don't live in Japan and no one plays survival anymore and if they did play mgo for the bandana specifically I most likely wouldn't get a 5 win streak with d/c and everyone wanting one. I just want to see how it looks on my infiltrator because I don't use any hats on her
## Post #1364
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-10-10T17:52:55+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> Video was posted over six months ago lol. Love how Konami isn't interested in providing updates and unlocks to game at all.

They're allergic to money. I'd throw my wallet at them for console DLC and a playable battlegear, but apparently console DLC ports are a buy-the-game-again exclusive, and making a usable vehicle as DLC from assets that are already there is a poor investment  Maybe they should try adding more single-player content instead of banking all of their investment on MGO3. Or I guess they're banking everything on Survive right now. Though it honestly does look like it might be fun.

It took some searching and experimenting but I think I've got the fastest method of duplicate removals in my script now. It's damn fast when dealing with 1m+ entries at a time. Obviously only loading a table with undefined entry keys would be a major speed improvement, but that's too much of a pain to keep on top of to bother. The new version of the script is basically done aside from clutter variables laying around from trying multiple ways of writing the functions. Well it has one major bug right now that I can't pinpoint, so if someone could skim through it and point out the obvious for me I'd appreciate it. The problem is the tableHashMatch function returns a table value of zero after the script finishes its first loop. Everything works fine the first time, so I'm not sure what's up with that. Current code:

```
__,w1,w2,w3,w4="_","mb_staff_health_","","",""-- adjust 2nd to 5th variable to desired string for w1-w4. 1st is for inserting underscores between words or letters for bruteForce function.
createBackup=0-- 0/1 backup newDict.txt after each overwrite. False by default.
stringRepeatNum=5-- length of bruteForce function character generation.
local debugStart,runTime=os_time()

--cmd[["@echo off& tasklist /fi "imagename eq lua.exe" |find ":" > nul|| taskkill /f /im "lua.exe"|| @echo on&& prompt $B$T$B$S&& echo cmd found an existing lua.exe process but could not terminate it.&& echo Manually terminate the process with Task Manager to continue."]]
for line in file:lines() do
	t[#t+1]=line
end
file=io_open("hashList.txt")
for line in file:lines() do
	tHash[#tHash+1]=line+0
end
file=io_open("dictList.txt")
for line in file:lines() do
	tD[#tD+1]=line
end
dL=#tD


local function backup()
	cmd[["@echo off& if exist newDict.txt then xcopy /q /h /y newDict.txt "newDict - Backup.txt"|| prompt $B$T$B$S& echo Error cmd could not create a backup&& echo The file does not exist or xcopy failed to overwrite newDict - Backup.txt for some reason."]]
end


local function tableDictMatch(t1,t2)
	local t3,tHash,ipairs,n={},{},ipairs,#t1
	for i=1,#t2 do
		n=n+1
		t1[n]=t2[i]
	end
	n=0
	for _,v in ipairs(t1) do
		if (not tHash[v]) then
			n=n+1
			t3[n]=v
			tHash[v]=true
		end
	end
	cmd("echo dictMatch returned table length "..#t3)
	return t3
end

--returns table with only matching hashes
local function tableHashMatch(t1,t2)
	local t3,tHash,ipairs,n={},{},ipairs,0
	--removes duplicates from generated hashes
	for _,v in ipairs(t1) do
		if (not tHash[v]) then
			n=n+1
			t3[n]=v
			tHash[v]=true
		end
	end
	--sets up tHash for matching entries
	t1,tHash,n=t3,{},0;t3={}
	for _,v in ipairs(t2) do
		tHash[v]=true
	end
	--purges generated hashes that don't match hashlist
	for _,v in ipairs(t1) do
		if (tHash[v]) then
			n=n+1
			t3[n]=v
		end
	end
	return t3
end


local function runFoxString()
	local tTemp,m,tResult,n,indice2,file,varTemp={},{},{},0,0,"lang_dictionary_result.txt",{}
	cmd[["Fox.StrCode32.exe lang_dictionary.txt"]]
	file=io_open(file)
	for line in file:lines() do
		n=n+1
		tResult[n]=line
	end
	for i=1,#tResult do
		m[i]=((tResult[i]:match("%s([%d+]+)"))+0)
	end
	n,m=0,tableHashMatch(m,tHash)
	cmd("echo tableHashMatch finished")
	cmd("echo "..#m)
	t1,tHash,n=t3,{},0;t3={}
	--create table from raw generated hashes and LangIds
	for i=1,#tResult do
		n=n+1
		tTemp[n]=((tResult[i]:match("%s([%d+]+)"))+0)
		varTemp[n]=tResult[i]:match("([%a+,%d+,_]+)%s")
	end
	--convert returned tableHashMatch table (m) to LangId
	for i=1,#m do
		for I=1,#tTemp do
			if m[i]==tTemp[I] then
				m[i]=varTemp[I]
			end
		end
	end
	cmd("echo finished langId pull")
	m=tableDictMatch(m,t)
	cmd("echo "..#m)
	return m
end


local function dictionaryAttack()
	local startOfScript,file=os_time(),io_open("lang_dictionary.txt","w")
	while true do
		if os_time()>=startOfScript+1 then file:flush(); file:close(); break end
		local a,b,c
		a=tD[math_random(dL)]
		b=tD[math_random(dL)]
		--c=tD[math_random(dL)]
		file:write(w1..a,"\n")
	end
end


while true do
	dictionaryAttack()
	--bruteForce()
	local m,file=runFoxString(),io_open("newDict.txt","w")
	for i=1,#m do
		file:write(m[i],"\n")
	end
	file:flush(); file:close()
	if createBackup==1 then backup() end
	t,file={},io_open("newDict.txt")
	for line in file:lines() do
		t[#t+1]=line
	end
end
```
## Post #1365
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-10-10T22:18:28+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

What's you're reasoning behind your variable declaration stye?

```
__,w1,w2,w3,w4="_","mb_staff_health_","","",""-- adjust 2nd to 5th variable to desired string for w1-w4. 1st is for inserting underscores between words or letters for bruteForce function.

```

Instead of:

```
local tHash={}--lang dictionary hashes

local math_random=math.random
local os_time=os.time
local cmd=os.execute
local io_open=io.open

--for generating attack key in dictionaryAttack function
local tD={}--dictionaryAttack words (dictList)
local dL=0--dictList length
local __="_"--for inserting underscores between words or letters for bruteForce function.
local w1="mb_staff_health_"
local w2=""
local w3=""
local w4=""

math.randomseed(os_time())
math_random()

local file=io_open("newDict.txt")

```

It hurts legibility/maintainability/makes me scared, lol
lua is first compiled to bytecode on loading lua file then run, rather than full interpreted from text if that's your worry.


I'm thinking you could write out matching keys and hashes two matching files (so line number = match across files)
and a 3rd for as yet unmatched

So it would be:
Only as input:
attack_dictionary.txt (lang_dictionary.txt in your posted script) - a list of potential keys, ex scrape of lua strings, or output from your dictionary attack function 
As both input/output
unknown_hashes.txt - initially pulled from scraping lng.xml Key="" entries/hashes, but using culled/updated version after script has been run.
lang_dictionary.txt (newDict.txt in your posted script) - the ultimate goal, for use by langtool, initially empty but built up by script
lang_hashes.txt (hashList.txt in your posted script) - hashes matching keys/lines in lang_dictionary, initially empty but built up by script

Also do you have your initial hash grab from lng files >  hashList.txt function?
## Post #1366
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-10-11T00:48:03+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> What's you're reasoning behind your variable declaration stye?
I think that's mostly habit from writing batch files far too much. Honestly it might just be that I hate typing local before each declaration, which is why I prefer doing it as part of a "list". You kinda just get used to reading it to the point it's easy to read, though I'm sure it's painful for other people that try to interpret what your script is doing. So the huge amount of single line variable declarations I'll probably bring down to small lists in a grouped format like what you're saying. For the rest of the script the reason is actually to assist in readability. As counter-intuitive as that sounds. Basically my thinking is that it's easier to read a function with many variable changes when they aren't making your code blocks longer than they would be with many multi-line variable declarations.

So I've got my reasons but they probably aren't very convincing lol.

> Reply from Tex
>
> I'm thinking you could write out matching keys and hashes two matching files

Well I'm open to different methods. That might be faster/easier than reading/reassigning a bunch of tables on each loop.

> Reply from Tex
>
> Also do you have your initial hash grab from lng files > hashList.txt function?
[Current lua script and all used files](https://mega.nz/#!LlZmiDhY!F9-PNV7lS-khhVEnqxFYG2PowZSSTaPIN2ai1RcrT5Q)

dictList backups are copies of the english dictionary and lng word lists. Lng word list is a lowercase scrape of all words used in LangIds and Values.

lang_dictionary - Backup.txt is a copy of the last collection entries, even though there is a current backup text file because I'm paranoid about experimenting with my script and it blanking both dictList.txt and its backup copy.

edit: lol damn it Tex, you had a completely legitimate point about it being better to write it in a way that's easy to read and understand. I fixed the count bug while adding in a bunch of comments and multi-line variable declarations for readability. I don't even know what I changed to fix it. It just works now  .

edit2: updated link again. Exe is in it now. Working version of script with bruteForce function put back in. New entries will appear at the bottom of newDict.txt.
## Post #1367
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-10-11T09:06:58+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

In case somebody is wondering, the DE update makes zero changes to any of the luas. Some fpk/fpkds have been changed but mostly missing textures and models for the console DLC have been added.

Mods don't need updates in most cases.

Konami didn't even bother changing one single thing in the Lua scripts this time. Can't help but feel that there are no future updates to the single player
## Post #1368
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-10-11T10:58:37+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> In case somebody is wondering, the DE update makes zero changes to any of the luas. Some fpk/fpkds have been changed but mostly missing textures and models for the console DLC have been added.

Mods don't need updates in most cases.

Konami didn't even bother changing one single thing in the Lua scripts this time. Can't help but feel that there are no future updates to the single player

Can confirm - [https://github.com/unknown321/mgsv_lua_ ... f4660c0006](https://github.com/unknown321/mgsv_lua_dump/commit/971b4eac4c27dc664eb0facc7837d5f4660c0006). All lua changes are leftovers from modding, sorry for letting them into the commit - totally forgot about these. Just models and textures were added.
## Post #1369
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-10-11T11:36:31+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> In case somebody is wondering, the DE update makes zero changes to any of the luas. Some fpk/fpkds have been changed but mostly missing textures and models for the console DLC have been added.

Mods don't need updates in most cases.

Konami didn't even bother changing one single thing in the Lua scripts this time. Can't help but feel that there are no future updates to the single player
Yeah that doesn't surprise me. Have they said anything about releasing the console DLC onto the Steam marketplace since they're already porting it? I'm having a hard time believing that they wouldn't, unless they've added whale exploitation to their repertoire.

Btw, I edited my previous post with a bug-free copy of the langForce lua for anyone that's interested in using it.

edit: [The string code exe is here](http://forum.xentax.com/viewtopic.php?f=10&t=12407&p=111415#p111415). I forgot to put it in the folder. And now it's in it.

edit2: Alright these edits are getting ridiculous. I grabbed a different script in the link update. NOW it has all of the right files. Quick note that you should manually run Fox.StrCode32.exe once (drag a text file on it) and choose to disable the warning about running it each time. Anti-viruses seem to think it's suspicious for an exe to turn a word into a hash. When running it from the script it seems to only pause the script once so it can scan it but just figured I'd mention it. I'm going back to bed since my IQ seems to have dropped several points from a little sleep deprivation >.>.
## Post #1370
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-10-11T12:23:49+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

@unknown123
Here is the updated info on SP weapons. All SP guns now are NPC usable but SHIELDS are not! This is weird as I clearly remember the Olive Drab shield could be equipped on NPCs even if it had missing icon textures. Brackets hold (p00) id

> TppEquip.EQP_WP_SP_hg_020, --WEAPON_ADAM_SKA_SP DLC Grade 3 (1090)
>
> TppEquip.EQP_WP_SP_hg_010, --WEAPON_WU_S333_CB_SP DLC Grade 3 (1091)
>
> TppEquip.EQP_WP_SP_sm_010, --WEAPON_MACHT_P5_WEISS DLC Grade 3 (2030)
>
> TppEquip.EQP_WP_SP_sg_010, --WEAPON_RASP_SB_SG_GOLD DLC Grade 3 (4060) --broken firing with Shield and alone there is no data for two shot mechanism for NPCs - treated as a pump action shotgun, don't use
>
> TppEquip.TppEquip.EQP_WP_SP_SLD_030, --WEAPON_PB_SHIELD_SIL DLC Grade 2 (9010) --no load :/
>
> TppEquip.TppEquip.EQP_WP_SP_SLD_010, --WEAPON_PB_SHIELD_OD DLC Grade 2 (9011) --no load :/
>
> TppEquip.TppEquip.EQP_WP_SP_SLD_020, --WEAPON_PB_SHIELD_WHT DLC Grade 2 (9012) --no load :/
>
> TppEquip.TppEquip.EQP_WP_SP_SLD_040, --WEAPON_PB_SHIELD_GLD DLC Grade 2 (9013) --no load :/

> Reply from CantStoptheBipBop
>
> Yeah that doesn't surprise me. Have they said anything about releasing the console DLC onto the Steam marketplace since they're already porting it? I'm having a hard time believing that they wouldn't, unless they've added whale exploitation to their repertoire.
Somebody posted a twitter grab on reddit sub from someone at Konami mentioning the console DLC will be available in the DE for Steam. I think it's officially launching on the 13th now

EDIT:
October 11, 2016
* The PC (Steam®) version will be released on October 12th (Thu.)
Source: [https://www.konami.com/mg/mgsv/na/](https://www.konami.com/mg/mgsv/na/)#

Oct 12th is Wednesday lol

Also:
* The 2000 MB Coins are not included with the PC (Steam®) version

BURN Konami!
## Post #1371
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-10-11T13:13:48+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> 
TppEquip.TppEquip.EQP_WP_SP_SLD_030, --WEAPON_PB_SHIELD_SIL DLC Grade 2 (9010) --no load :/
TppEquip.TppEquip.EQP_WP_SP_SLD_010, --WEAPON_PB_SHIELD_OD DLC Grade 2 (9011) --no load :/
TppEquip.TppEquip.EQP_WP_SP_SLD_020, --WEAPON_PB_SHIELD_WHT DLC Grade 2 (9012) --no load :/
TppEquip.TppEquip.EQP_WP_SP_SLD_040, --WEAPON_PB_SHIELD_GLD DLC Grade 2 (9013) --no load :/
 Everything works fine, it's just you copypasting blindly. TppEquip.EQP_WP_SP_SLD_030 is the way to go.
## Post #1372
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-10-11T13:25:06+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> nasanhak wrote:
TppEquip.TppEquip.EQP_WP_SP_SLD_030, --WEAPON_PB_SHIELD_SIL DLC Grade 2 (9010) --no load :/
TppEquip.TppEquip.EQP_WP_SP_SLD_010, --WEAPON_PB_SHIELD_OD DLC Grade 2 (9011) --no load :/
TppEquip.TppEquip.EQP_WP_SP_SLD_020, --WEAPON_PB_SHIELD_WHT DLC Grade 2 (9012) --no load :/
TppEquip.TppEquip.EQP_WP_SP_SLD_040, --WEAPON_PB_SHIELD_GLD DLC Grade 2 (9013) --no load :/
 Everything works fine, it's just you copypasting blindly. TppEquip.EQP_WP_SP_SLD_030 is the way to go.
ROFL Am I an idiot or am I an idiot. Thanks!
## Post #1373
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-10-11T16:49:45+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Some progress on fv2 files for npc, player files are more complicated. Looks like you just need to provide path to the model in fv2 and apply the fova. 
[http://imgur.com/a/kzK3a](http://imgur.com/a/kzK3a) - Ocelot with /Assets/tpp/item/ewr/Scenes/gog1_main0_def and /Assets/tpp/item/ewr/Scenes/gog0_main0_def respectively. 



Observations: 
 * Generally attachment is right - eye connect point, but the exact placement is somewhat wrong. 
 * Textures loaded by their own which is great - no need to specify them in fv2?
 * Works for both cutscenes and gameplay: goggles were added to the model in demo, goggles replaced glasses during gameplay

Some notes on fv2 itself:

> Reply from Tex
>
> YourePrettyGood did a relatively complete breakdown of the fv2 format:
viewtopic.php?f=10&t=12407&p=121318#p121318
Generally it works, but there are some issues with sections and names of fields. One of the "texture hash" entries was actually a path to glasses fmdl, needs some research.

I'll be looking into existing fv2s, pretty sure that fast hat change is near.
## Post #1374
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-10-11T20:46:14+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

@Tex
It took me what 9 months to get completely comfortable with everything happening in the game's lua scripts. You were already pretty good when I started with my mod 9 months ago and over time your code has gotten much, much more complex than the game's! I realized this when I started looking into how you are calling your Updates and Inits. Dear God I feel exactly like I did looking at the game's code 9 months ago.

When I started it was easy to use your code base as a reference point but if someone were to do the same today, they'd just give up.

You sir are legendary o7
## Post #1375
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2016-10-11T23:13:43+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Is the mgsv nexus community dead or something?
## Post #1376
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-10-12T02:53:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Ashtails
>
> Is the mgsv nexus community dead or something?
If you're talking about their forum then yes. But it has been pretty dead since several months ago. 90% of the threads there are just requests and 5% are people asking why their totally legit copy doesn't have a 00.dat so I can see why people don't really use it. I noticed that there are usually quite a few lurkers on there regularly though. [/r/moddergearsolid](https://www.reddit.com/r/moddergearsolid/) is a little better but it's still pretty slow.

> Reply from nasanhak
>
> The 2000 MB Coins are not included with the PC (Steam®) version
I'm not even buying the re-release and am a little bent out of shape about it.

edit:
> Reply from nasanhak
>
> @Tex
Dear God I feel exactly like I did looking at the game's code 9 months ago.
It's a well known fact that he's actually Hideo Kojima. It's the only explanation that fits.

I've been thinking and I should be able to modify my current script to generate QAR tool file paths as well. That should be another fun project to start.
## Post #1377
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-10-12T15:51:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from YourePrettyGood
>
>  breakdown of the fv2 format:
viewtopic.php?f=10&t=12407&p=121318#p121318

Any ideas what names could be hashed in section 1? It says "name hash found in FMDL". How can I find these hashes in FMDL? Is there any idea what do they reference? I feel like they stand for connecting points (ie CNP_EYE), but hashed connecting points have different hashes. FMDL masters are welcome.

Section 4 is for filenames (models/textures), I can easily find referenced files.
[https://dotnetfiddle.net/3RBp5V](https://dotnetfiddle.net/3RBp5V) - hashing strings suitable for section 4. /Assets/tpp/item/ewr/Scenes/gog1_main0_def gives out a working hash which works - tested on a fova.

-------------------

nevermind, found it - [viewtopic.php?p=121100#p121100](http://forum.xentax.com/viewtopic.php?p=121100#p121100). 92 pages of scattered info is not good.
## Post #1378
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-10-13T07:41:54+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Just wanted to share that I removed the fugly entries in [lang_dictionary](https://raw.githubusercontent.com/cstBipBop/MGSV-Lang-Dictionary-Project/master/lang_dictionary.txt) as well as non-LangIds. It's now sitting at 154 kb of 100% pure LangIds. Now that the massive clean-up is over I can confidently remove 42% of lines in hashList.txt and the smaller dictionary size should help a little with LangId generation speed as well, not that it would matter as much.
## Post #1379
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-10-14T07:51:31+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from CantStoptheBipBop
>
> ...Honestly it might just be that I hate typing local before each declaration
...
Basically my thinking is that it's easier to read a function with many variable changes when they aren't making your code blocks longer than they would be with many multi-line variable declarations.
...
edit: lol damn it Tex, you had a completely legitimate point about it being better to write it in a way that's easy to read and understand. I fixed the count bug while adding in a bunch of comments and multi-line variable declarations for readability. I don't even know what I changed to fix it. It just works now  .

My own constant war with myself is trying not to write code to generate something when I should just man up and write it out plain lol. 
Sometimes it's useful, but more often it just makes it harder to figure out when coming back to it, and will be rewritten long before I get to the scale of data I'd push through it anyway.

Apart from that, I think the fight between brevity and verbosity is a common thing. For my part I tend to err toward verbosity as my I get more exposure to having to figure out other peoples stuff, or more often just coming back to my own stuff as project size or time increases (and I have a goldfish memory).

So while too-short variable/function names give me angst, I do notice that stuff that's too long also has a detrimental cognitive load (breaking out the $5 words today lol).

Haven't got to looking at anything you've posted after my last post yet, but thanks for your efforts still.

> Reply from CantStoptheBipBop
>
> I've been thinking and I should be able to modify my current script to generate QAR tool file paths as well. That should be another fun project to start.

I was going to say in my last post (or maybe I already said it before, to someone at least lol) that it felt like we were chasing emoose with the approach, it would have been nice if he had posted whatever tools he had build along side the qar dict project, but anyways. 
Also should probably see what Paul44 has done
[http://www.nexusmods.com/metalgearsolidvtpp/mods/324/](http://www.nexusmods.com/metalgearsolidvtpp/mods/324/)
[search.php?author_id=46464&sr=posts](http://forum.xentax.com/search.php?author_id=46464&sr=posts)


> Reply from nasanhak
>
> .. when I started looking into how you are calling your Updates and Inits. Dear God I feel exactly like I did looking at the game's code 9 months ago.

When I started it was easy to use your code base as a reference point but if someone were to do the same today, they'd just give up.

Part of that is my overengineering again.
The original goals for that were:
'easily' add update functions without having to add them to TppMain.SetUpdateFunction
Filter execution for performance since updates are per frame.
The updateRate stuff was built for the enemy phase change feature, but now I think that using repeating timer messages might be better.
Putting the update state info in the Ivars was a so-so idea, it broke down a bit as some updates are either not really associated with any option, or actually associated with multiple options.
My last versions shift from an explicit list of update vars to just pulling them from ivar definitions was a mis-step.

Working through an overhaul of the system anyway which should make things hopefully more manageable.

Should probably document/analyze TPPs script execution flow at some point.
## Post #1380
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-10-14T19:24:18+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> I was going to say in my last post (or maybe I already said it before, to someone at least lol) that it felt like we were chasing emoose with the approach, it would have been nice if he had posted whatever tools he had build along side the qar dict project, but anyways. 
Also should probably see what Paul44 has done
I believe you did. I also remember him mentioning on GitHub something about brute-force methods being used, but he didn't go into detail or anything. But yes, it would have been nice if he made a mention of or shared the tools he used.

I've used Paul's batch before but I didn't have any luck with generating new file paths. That and batch/sfk is really slow/inaccurate at pulling file paths from the lua files.

Btw I don't know if you saw it yet but I posted a bug fix for your inf batch file on Nexus. I made some more edits to it (patched a few errors and removed some unnecessary code). You can see what I changed [here](https://www.diffchecker.com/RRFfiqlB).
## Post #1381
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-10-14T21:12:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from  CantStoptheBipBop
>
> nasanhak wrote:
@Tex
Dear God I feel exactly like I did looking at the game's code 9 months ago.

It's a well known fact that he's actually Hideo Kojima. It's the only explanation that fits.
This made me laugh. Although I doubt if Kojima works on any code.

> Reply from  Tex
>
> Part of that is my overengineering again.
The original goals for that were:
'easily' add update functions without having to add them to TppMain.SetUpdateFunction
Filter execution for performance since updates are per frame.
The updateRate stuff was built for the enemy phase change feature, but now I think that using repeating timer messages might be better.
Putting the update state info in the Ivars was a so-so idea, it broke down a bit as some updates are either not really associated with any option, or actually associated with multiple options.
TBH your approach is pretty much the only way to go about it since the game won't support any UI modding. If anybody wants to build a menu that's pretty much the only way they'll achieve it.

If you are gonna use timer messages then remember that demos seem to disable all timers.

Now for some sharing:
I had been tinkering with route randomization and may have figured it out. It's not really by any engine call but rather intercepting the engine calls and randomizing the about to be selected routes.
[https://youtu.be/z4YFRaQkS3A](https://youtu.be/z4YFRaQkS3A)

The same mission played twice at the same time of day with different results (apologies for the shitty quality). What the randomization does is simple shift entries around in the table to be returned. Not really a big deal. BUT it kinda looks cool. The video clearly shows issues with LRRP route selection which has been addressed in the code below.

Pros:
1. Doing a mission at the same time over and over will no longer be a sniper here, armor there kind of run
2. Triggering a caution alert sends the base into a sort of chaotic frenzy. Normally, each soldier will be assigned a caution route closest to their position but with randomization, this isn't the case. Soldiers will run about till they get to their route positions. Things quiet down after but it looks cool nonetheless.

Cons:
1.a. LRRPs have issues that may not be possible to sort out. While testing, LRRP foot patrols work gloriously but vehicles do not. So it turns out, for each outpost LRRPs have an in route("_lin_") and an out route("_lout_") as well as a "hold" route("_l_") in between for that outpost. When they travel out of the outpost, the engine fires the route selector and if a new random route is picked, different than where they are supposed to be going originally, well - all hell breaks loose if the LRRP is driving a vehicle. They'll suddenly gain a craving for off-roading. So LRRPs are a no go.
1.b. In the case of LRRPs, the very first route assigned seems to be fixed and is actually a good thing but adding it here anyways since further randomization is not really feasible.
2.  Game(Fox Engine?) has no path finding unless in combat alert. This sucks as soldiers follow a fixed path when a caution alert is triggered to get to new far away route.
3. Over use of the phantom cigar may sometimes lead to soldiers in close proximity leaving wide gaps to sneak in.
4. Needs extensive testing for each mission obviously.

Replace following two functions in TppEnemy. ShuffleRoutes func is mine.

```
--sysPhaseOrSoldierGroupOrLrrpTravelOrDefault - check mvars.ene_routeSets for clarity on absurd naming
  local routeSetsForCpId=mvars.ene_routeSets[cpId]
  if routeSetsForCpId==nil then
    return{"dummyRoute"}
  end
  if sysPhaseOrSoldierGroupOrLrrpTravelOrDefault==StrCode32"immediately"then
    if routeTypeStrCode32==StrCode32"old"then
      local routeTypeToSelect=this.GetCurrentRouteSetType(nil,this.GetPhaseByCPID(cpId),cpId)
      return this.GetPrioritizedRouteTable(cpId,mvars.ene_routeSetsTemporary[cpId][routeTypeToSelect],mvars.ene_routeSetsPriorityTemporary)
    else
      local routeTypeToSelect=this.GetCurrentRouteSetType(nil,this.GetPhaseByCPID(cpId),cpId)
      return this.GetPrioritizedRouteTable(cpId,routeSetsForCpId[routeTypeToSelect],mvars.ene_routeSetsPriority)
    end
  end
  if sysPhaseOrSoldierGroupOrLrrpTravelOrDefault==StrCode32"SYS_Sneak"then
    local routeTypeToSelect=this.GetCurrentRouteSetType(nil,this.PHASE.SNEAK,cpId)
    return this.GetPrioritizedRouteTable(cpId,routeSetsForCpId[routeTypeToSelect],mvars.ene_routeSetsPriority,sysPhaseOrSoldierGroupOrLrrpTravelOrDefault)
  end
  if sysPhaseOrSoldierGroupOrLrrpTravelOrDefault==StrCode32"SYS_Caution"then
    local routeTypeToSelect=this.GetCurrentRouteSetType(nil,this.PHASE.CAUTION,cpId)
    return this.GetPrioritizedRouteTable(cpId,routeSetsForCpId[routeTypeToSelect],mvars.ene_routeSetsPriority,sysPhaseOrSoldierGroupOrLrrpTravelOrDefault)
  end
  local routeTypeToSelect=this.GetCurrentRouteSetType(routeTypeStrCode32,this.GetPhaseByCPID(cpId),cpId)
  local routesToUse=routeSetsForCpId[routeTypeToSelect][sysPhaseOrSoldierGroupOrLrrpTravelOrDefault]
  if routesToUse then
--  	TppPlayer.DebugPrint(
--	  "_______________________EarlyReturn_______________________"
--	  .."\ncpId: "..tostring(cpId)
--	  .."\nrouteTypeToSelect: "..tostring(routeTypeToSelect)
--	  .."\nsysPhaseOrSoldierGroupOrLrrpTravelOrDefault: "..tostring(sysPhaseOrSoldierGroupOrLrrpTravelOrDefault)
--  	,1)
  	
  	local tableSize=0
  	for k,v in pairs(routeSetsForCpId[routeTypeToSelect]) do
  		tableSize=tableSize+1
  	end
  	
--  	TppPlayer.DebugPrint(
--  	"routeSetsForCpId["..tostring(routeTypeToSelect).."]: "..tostring(InfInspect.Inspect(routeSetsForCpId[routeTypeToSelect]))
--  	.."\nrouteSetsForCpId["..tostring(routeTypeToSelect).."]Size: "..tostring(tableSize)
--  	,1)
--	  TppPlayer.DebugPrint(
--	  "-------------------BeforeShuffle-------------------"
--	  .."\nroutesToUse: "..tostring(InfInspect.Inspect(routesToUse))
--	  .."\nroutesToUseSize: "..tostring(InfInspect.Inspect(#routesToUse))
--	  ,1)
	  
	  --Nope sadly, even with the conditions, while you can "fix" LRRP routes while *at* an outpost, the moment they leave new routes are selected using this same function. So, simply exclude LRRP from this over randomization
  	if tableSize>1 and routeTypeToSelect~="travel" and not string.find(routesToUse[1], '_l_') and not string.find(routesToUse[1], '_lin_') and not string.find(routesToUse[1], '_lout_') then
  		TppPlayer.DebugPrint("Setting new route!",1)
  		local indexOfRouteToSelect = math.random(tableSize)
  		local i=0
  		local nameOfNewRouteToSelect=nil
  		for indexName, routes in pairs(routeSetsForCpId[routeTypeToSelect]) do
  			i=i+1
  			if (i==indexOfRouteToSelect) then
  				nameOfNewRouteToSelect=indexName
  				break
  			end
  		end
--  		TppPlayer.DebugPrint(
--  		"OLDsysPhaseOrSoldierGroupOrLrrpTravelOrDefault:"..tostring(sysPhaseOrSoldierGroupOrLrrpTravelOrDefault)
--  		.." nameOfNewRouteToSelect:"..tostring(nameOfNewRouteToSelect)
--  		,1)
  		routesToUse=routeSetsForCpId[routeTypeToSelect][nameOfNewRouteToSelect]
  		
  	end
  	
  	
	  routesToUse=this.ShuffleRoutes(routesToUse)
--	  TppPlayer.DebugPrint(
--	  "-------------------AfterSuffle-------------------"
--	  .."\nroutesToUse: "..tostring(InfInspect.Inspect(routesToUse))
--	  .."\nroutesToUseSize: "..tostring(InfInspect.Inspect(#routesToUse))
--	  ,1)
    return routesToUse
  else
    if routeTypeToSelect=="hold"then
      local routeTypeToSelect=this.GetCurrentRouteSetType(nil,this.GetPhaseByCPID(cpId),cpId)
      return this.GetPrioritizedRouteTable(cpId,routeSetsForCpId[routeTypeToSelect],mvars.ene_routeSetsPriority)
    else
      local routeTypeToSelect=this.GetCurrentRouteSetType(nil,this.GetPhaseByCPID(cpId),cpId)
      return this.GetPrioritizedRouteTable(cpId,routeSetsForCpId[routeTypeToSelect],mvars.ene_routeSetsPriority)
    end
  end
end

function this.GetPrioritizedRouteTable(cpId,selectedRoutesForCpId,routeSetsPriority,sysPhaseOrSoldierGroupOrLrrpTravelOrDefault)
--	TppPlayer.DebugPrint("_______________________TppEnemy.GetPrioritizedRouteTable BEG_______________________"
--	.."\ncpId: "..tostring(cpId)
--  .." sysPhase: "..tostring(sysPhaseOrSoldierGroupOrLrrpTravelOrDefault)
--  ,1)
  local routesToUse={}
  local priorityRouteSetsForCP=routeSetsPriority[cpId]
  if not IsTypeTable(priorityRouteSetsForCP)then
    return
  end
  if mvars.ene_funcRouteSetPriority then
    routesToUse=mvars.ene_funcRouteSetPriority(cpId,selectedRoutesForCpId,routeSetsPriority,sysPhaseOrSoldierGroupOrLrrpTravelOrDefault)
  else
    local t=0
    for a,e in ipairs(priorityRouteSetsForCP)do
      if selectedRoutesForCpId[e]then
        local e=#selectedRoutesForCpId[e]
        if e>t then
          t=e
        end
      end
    end
    local e=1
    for t=1,t do
      for r,a in ipairs(priorityRouteSetsForCP)do
        local n=selectedRoutesForCpId[a]
        if n then
          local n=n[t]
          if n and Tpp.IsTypeTable(n)then
            routesToUse[e]=n
            e=e+1
          end
        end
      end
    end
    for r=1,t do
      for a,t in ipairs(priorityRouteSetsForCP)do
        local n=selectedRoutesForCpId[t]
        if n then
          local n=n[r]
          if n and not Tpp.IsTypeTable(n)then
            routesToUse[e]=n
            e=e+1
          end
        end
      end
    end
  end
--  TppPlayer.DebugPrint(
--  "selectedRoutesForCpId: "..tostring(InfInspect.Inspect(selectedRoutesForCpId))
--  .."\nrouteSetsPriority["..tostring(cpId).."]: "..tostring(InfInspect.Inspect(routeSetsPriority[cpId]))
--  ,1)
  
--  TppPlayer.DebugPrint(
--  "-------------------BeforeShuffle-------------------"
--  .."\nroutesToUse: "..tostring(InfInspect.Inspect(routesToUse))
--  .."\nroutesToUseSize: "..tostring(InfInspect.Inspect(#routesToUse))
--  ,1)
  routesToUse=this.ShuffleRoutes(routesToUse)
--  TppPlayer.DebugPrint(
--  "-------------------AfterSuffle-------------------"
--  .."\nroutesToUse: "..tostring(InfInspect.Inspect(routesToUse))
--  .."\nroutesToUseSize: "..tostring(InfInspect.Inspect(#routesToUse))
--  ,1)
--  TppPlayer.DebugPrint("TppEnemy.GetPrioritizedRouteTable END",3)
  return routesToUse
end

function this.ShuffleRoutes(routesToUse)
	math.random()math.random()math.random()
	local tempRoutesList = {}
	local actualRoutesCopy={}
	
	if #routesToUse > 0 then
		for k,v in pairs(routesToUse) do
			table.insert(actualRoutesCopy, v)
		end
	end
	
	while #actualRoutesCopy>0 do
		local index=math.random(#actualRoutesCopy)
		table.insert(tempRoutesList, actualRoutesCopy[index])
		table.remove(actualRoutesCopy, index)
		math.random()math.random()math.random()
	end
	
	return tempRoutesList
	
--	for index,routeName in ipairs(routesToUse) do
--		table.insert(tempRoutesList, routeName)
--		table.remove(routesToUse, index)
--	end
--	TppMain.Randomize()
--	while #tempRoutesList > 0 do
--		local index=math.random(#tempRoutesList)
--		table.insert(routesToUse, tempRoutesList[index])
--		table.remove(tempRoutesList, index)
--	end
--	
--	return routesToUse
	
end

```

Ignore/delete commented debug print statements.

Doing this I learned that '#' operator only works on array tables and not on indexed tables.

A randomseed can be set on the mission random seed value to create a bit more consistent inconsistency - specially for mission restarts, checkpoint reloads won't work as well. While this randomization does not make a big deal of difference, I played the same mission thrice at the deployment time with slightly different results so it's somewhat worth it.

This would have been perfect if there could be 31 soldiers per outpost, but then that also involves adding in (even if repeated) new routes for those additional soldiers.

Soldier chat routes are triggered by player proximity and have nothing to do with the route selector. Chats worked fine.

Firing this randomization on MB leads to something very special. The 4 (or 2 if using roof LZ) salute soldiers may be from any platform on the command cluster. Meaning they move back to their appropriate platform. But when I used the Phantom Cigar, TppEnemy.RouteSelector did not fire even though it is registered for the MB Cps.

mtbs_enemy.GetRouteSetPriority doesn't fire on MB either, I think it's FOB only. If MB route randomization can be figured out it would be really cool having the default soldiers move about platforms at shift change.

Looking at the routes for MB, there do seem to be different night/day route names at least, so either they never change once assigned or even if they are changed somewhere, then they are the same routes anyway(most likely). Still, a shuffle wouldn't hurt.
## Post #1382
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-10-15T11:05:10+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

@nasanhak I'm running behind so I don't have time to check it out, but that sounds look a pretty cool mod.

@tex I forgot to address the rmdir error. You just need to move your switches to after rmdir but before the target directory, like "rmdir /a /b "folder"". Or "rd /a /b "folder"" works too if you like doing shorthand versions of commands.
## Post #1383
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-10-15T22:58:12+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Can't believe it took this long to figure it out. I wasn't so comfortable with the game's systems the first time I tackled it plus the recent I/O dumps helped (thanks Tex!)

Shut up radio when a cassette tape is playing. Fire as an update func:

```

	--want to play end mission result radio
  if mvars.mis_missionStateIsNotInGame or mvars.mis_loadRequest then
    return
  end

  if 
  	TppMusicManager.IsPlayingMusicPlayer() 
--  	and RadioDaemon.IsPlayingRadio() --did not test
--  	and TppRadioCommand.IsPlayingRadio() --the radio-in sound plays at least
  then
  	TppRadioCommand.StopDirect()
  end
  
end
```
## Post #1384
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-10-17T07:17:11+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

TppEnemy.ShiftChangeByTime() does an early return for MB and MBQF. Removing the return allows for shift change at morning and evening. With that am able to randomize routes such that soldiers move about platforms. It does lead to situations where one platform may be completely empty BUT the game clearly has routes for upto 10 (and 13 in some cases) soldiers per platform.

@Tex not sure if you utilized these routes or made your own movement between existing routes, haven't tried that feature from IH. Also you should be able to do the same instead of creating a timer based event like it currently is, only downside is that the shift happens only twice per day.

[https://youtu.be/DvIXl0Kd2nQ](https://youtu.be/DvIXl0Kd2nQ)
## Post #1385
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-10-17T19:54:14+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Made a tool to calculate filename hashes used in fmdl/fv2 files (see [viewtopic.php?p=121141#p121141](http://forum.xentax.com/viewtopic.php?p=121141#p121141)).

[https://github.com/unknown321/mgsv_path_hasher](https://github.com/unknown321/mgsv_path_hasher) code
[https://github.com/unknown321/mgsv_path_hasher/releases](https://github.com/unknown321/mgsv_path_hasher/releases) - compiled exe.
Of course it's a one-way hashing, no way to get filename out of hash.

------------------------------------

Recalculated hashed for files in fpk archives, now you can search for them as well - [commit](https://github.com/unknown321/mgsv_lua_dump/commit/a7671cc7cbb89e67892ec4330b6684827b370860).
## Post #1386
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-10-18T18:45:15+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> - route shuffling -
Neato.

Yeah randomizing vehicle lrrp routes isn't really going to work, the routes for their travel plans pretty much only cover their designed routes.

I did a shitty map of the free roam travel plans when I was working out the convoy feature, as the only ones that will work for that kind of thing is complete loops with no reversing.
[http://imgur.com/a/d39RJ](http://imgur.com/a/d39RJ)
(Really should pull together maps using the idroid map textures)
It also roughly notes the positions of the lv/light vehicles (jeeps) and trc/trucks.
The lrrp travel numbers are defined by afgh/mafr_travelPlans.lrrpNumberDefine

> Reply from nasanhak
>
> TppEnemy.ShiftChangeByTime() does an early return for MB and MBQF. Removing the return allows for shift change at morning and evening
Cool.
I'll be staying with my method for MB for my feature though, which shifts individual soldiers roughly every minute, but balances the route selection so platforms aren't emptied or overcrowded.
Entire shift changes would be neat too, but I'd have to see if my current system isn't overriding the normal system completely.

> Reply from unknown123
>
> Made a tool to calculate filename hashes used in fmdl/fv2 files

Recalculated hashed for files in fpk archives, now you can search for them as well.
Nice stuff.
## Post #1387
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-10-19T06:15:00+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> (Really should pull together maps using the idroid map textures)
I actually quilted the satellite textures of Africa a few months ago. [Big ol' quilt](https://mega.nz/#!X1gwzQRL!N2LIeLGbo9fF_cS0GPiYjuO1MjlWMA_UYXFlhp2VaSw). You'll probably notice the contrast is weird on one of the squares. That's because I flattened the image back when I made it but didn't have the sense to turn it from grey-scale to something more like the iDroid's coloration. If you look to the upper right of the image you'll see that some devs got bored and put face doodles as mountains and such in a few spots. Which is just hilarious to me. Or perhaps I'm seeing things?
## Post #1388
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-10-22T22:26:10+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> Made a tool to calculate filename hashes used in fmdl/fv2 files

Sweet that might be useful for doing hash compares like with the lang dictionary. It would probably be a little more complex to find filepaths in some cases but I can get away with recycling code at least. While I was trying to get the ball rolling for that I created seperate text documents that are lists of unique folder/file names, sorted alphabetically. They're just stuff I pulled from the fox, qar, and fpk dictionaries. [link](https://mega.nz/#!H4Yw1SCZ!N1gPNqrwgt7slHFc7fQwqJ5fODX-Ajl_eYb0tsKy-BQ). I was planning to chop the lists up to make dictionary attack word lists but figured someone here might have their own use for them.
## Post #1389
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-10-26T20:25:20+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

[viewtopic.php?p=117015#p117015](http://forum.xentax.com/viewtopic.php?p=117015#p117015)

> Reply from Tex
>
> Getting there:
https://youtu.be/Kx2_cjmPEG0
Model swapped the main afgh soldiers model and using the related fovas.
The equivalent named fovas applied to the Africa soldier model doesn't seem to be along the same lines, it doesnt hide any meshes:
https://i.imgur.com/5JbWevc.jpg

And the africa model has texture loading issues: https://i.imgur.com/YJZUqOL.jpg
loading a level that loads the textures itself (africa, or mother base with DD suit set to africa soldiers) fixes it, and the textures will remain correct on going back to ACC. I don't know why africa soldiers would have this issue and soviet not.

It happens because you were in afgh-themed acc enviroment. When you return to acc from let's say Afgh, game loads low-poly map of Afghanistan, probably to keep weather/lightning settings. Same for motherbase/africa. Game doesn't have to unload assets if you choose to play more missions in the same region so it is smart resource-wise. You can teleport outside the heli to run around these maps if you want.

For those wanting to run around - you won't warp from heli immidiately. Use code below to break free:

```
Player.RequestToPlayDirectMotion {	
		"missionclear"
		{
			"/Assets/tpp/motion/SI_game/fani/bodies/snap/snapnon/snapnon_f_idl7.gani",
			false,
			"",
			"",
			"",
			false
		},{}
	}

--motion for player
Player.RequestToPlayDirectMotion {	
		"missionclear"
		{
			"/Assets/tpp/motion/SI_game/fani/bodies/snap/snapnon/snapnon_f_idl7.gani",
			false,
			"",
			"",
			"",
			false
		},{}
	}
Player.RequestToStopDirectMotion()

```


----------------------------------------------
My current progress on fovas:
There is no difference between NPC and player fovas (judging by bytecode), but applying NPC fovas to player will crash the game no matter what. I teared apart ocelot's fova from mission 2 first demo, it uses command EB77FEBF to attach 3912EA51948CA384 (tpp/item/ewr/Scenes/ewr0_eqhd0_cov) to 989F16BF (ALWAYS FIRST SKL HASH). Skl hash exists in every model, so there is no problem with it. Filepath is also fine, added needed files into plparts_normal.fpk(d). The mystery is EB77FEBF command that apparently loads and attaches the model. It also manages the position of glasses because there is nothing that points to model eye region (maybe that byte at 0x25 does the trick?).
Replacing texture paths in fv2 works fine, made some abominations but no screenshots. [https://developer.valvesoftware.com/wik ... ent_tables](https://developer.valvesoftware.com/wiki/MDL#Skin_replacement_tables) - similar mechanism is used in fovas as well.

Teared player fovas from hospital too (sna1_v04.fv2 from plparts_hospital.fpk), mostly it uses 3 commands to manipulate textures:

```
SpecularMap_Tex_LIN
24F7F217
```

and E6DB2698 command to apply bandage mesh.

List of used files:

```
2 10a9f5617b387.ftex - facemask

3 25b1e1d8ac451.ftex - bandage

4 19db40a9af383.ftex - body
5 2be12abeb1323.ftex - bodymask

6 25bd197efbf1e.ftex - pants
7 3fc288b2d1607.ftex - pants mask
```

I'll try to make a more proper explanation on fova structure (how I see it) and commands used, but it will take a long time.


Stuff that should help:
Figure out how strings are hashed in fmdls to find out name of that command - see [viewtopic.php?p=121100#p121100](http://forum.xentax.com/viewtopic.php?p=121100#p121100) for manually ripped hashes. It is definitely not CityHash64 used for filepaths, something more compact that hashes any string into 12 bytes.
Unpack all pftxs files to calculate their hashes as well - can't find some of them in my pre-calculated hashes.
## Post #1390
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-10-28T00:50:34+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> 
It happens because you were in afgh-themed acc enviroment.
Model-swapped pfcs has incorrect texutures on game load to both afgh and mtbs acc or actual map, fine on mafr acc/map.
In line with what you're saying.
But model-swapped soviets textures work fine on game load to either mafr or mtbs acc/map (from cold start).

For pfcs it's only some textures that are loading incorrect.
So either the soviet textures are pegged to load in any map, or there's some textures with the same name as pfs that load by default, and it's only when loading mafr that they get priority? I don't know lol.

Try yourself if you want:
[https://mega.nz/#!Pd1gxRBK!HGcJBixIzFNS ... jRk_ieleYc](https://mega.nz/#!Pd1gxRBK!HGcJBixIzFNSB9O_EYctyOplFzJt6uLTZjRk_ieleYc)

With IH since for pfc you have to actually apply a fova, since I guess the fmdl isn't set up for a default look unlike svs? 
Turn on Use fova in the Player settings > Player Appearance > Form variation menu 

> My current progress on fovas:

Great stuff.

ewr0_eqhd0_cov is referenced in the demo files, p31_010010_demo.fox2 p31_010020_demo.fox2 . Maybe demo files can also do attachment setup? (I think you've already suggested this yourself)
The DemoStreamAnimations that they are referenced in do reference a parts file, but it looks like it's for another fmdl.
## Post #1391
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-10-28T04:43:51+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> Model-swapped pfcs has incorrect texutures on game load to both afgh and mtbs acc or actual map, fine on mafr acc/map.
In line with what you're saying.
But model-swapped soviets textures work fine on game load to either mafr or mtbs acc/map (from cold start).

For pfcs it's only some textures that are loading incorrect.
So either the soviet textures are pegged to load in any map, or there's some textures with the same name as pfs that load by default, and it's only when loading mafr that they get priority? I don't know lol.

Try yourself if you want:
https://mega.nz/#!Pd1gxRBK!HGcJBixIzFNS ... jRk_ieleYc

With IH since for pfc you have to actually apply a fova, since I guess the fmdl isn't set up for a default look unlike svs? 
Turn on Use fova in the Player settings > Player Appearance > Form variation menu
I might know why the textures aren't loading correctly.

For some textures in the texture.dat files, the .ftex and .1.ftexs aren't there. Only the .2.ftexs and .3.ftexs are located in the texture.dat files for these textures. The .ftex and .1.ftexs files for these textures are stored in the .pftxs of the respective model. If the game hasn't loaded the files from the .pftxs you'll get missing/distorted textures showing up on the model since only the .2.ftexs and .3.ftexs have been loaded.

You can get around this by injecting the files from the .pftxs into either the .pftxs of the player model you swapped over, or directly into the texture.dat files themselves. Once you've done that, the textures should show up correctly even if the files from the .pftxs haven't been loaded by the game.

I think the enemy soldier textures are stored in chunk0\Assets\tpp\pack\mission2\common\mis_com_afgh.pftxs and chunk0\Assets\tpp\pack\mission2\common\mis_com_mafr.pftxs respectively. This would explain why the enemies' textures only load correctly in their respective areas. I haven't checked the chunk.dat files to see if the .ftex and .1.ftexs files are missing for those textures though, so I could be wrong.
## Post #1392
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-10-28T08:51:18+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I had tried copying pfs pftxs over the player models back when I made the original post, tried again for good measure, still no dice.

Loading mother base with DD soldiers using the mis_com_mafr body does cause the model swaps textures to load. 
Strange that it's not picking up the same pftxs when it replaces the player models.
## Post #1393
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-10-28T12:20:59+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Oh man this guy is good:
[https://www.youtube.com/watch?v=xGbDZv4-hCQ](https://www.youtube.com/watch?v=xGbDZv4-hCQ)

Was he ever in the modding scene?
## Post #1394
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-10-28T15:42:24+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> 
Try yourself if you want:
https://mega.nz/#!Pd1gxRBK!HGcJBixIzFNS ... jRk_ieleYc
Crashes before title screen for both soviets and pfs. I am using a male dd soldier as primary one so he would appear on the title screen, but it looks like something is wrong. Maybe you are forgetting something?

Edit: change main character to snake, then install the mod and select dd soldier on sortie prep screen. Changing camos to swimsuits will fix that horrifying mess on first picture leaving us only with disfigured face - [http://imgur.com/a/LQRdS](http://imgur.com/a/LQRdS).
-------------------------------

> ewr0_eqhd0_cov is referenced in the demo files, p31_010010_demo.fox2 p31_010020_demo.fox2 . Maybe demo files can also do attachment setup? (I think you've already suggested this yourself)
I am not quite sure how it works myself, some models are mentioned and some are not. Snake's pilot glasses are not mentioned (as far as I remember) and yet they are there.
## Post #1395
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-10-28T18:21:16+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> 
Crashes before title screen for both soviets and pfs. I am using a male dd soldier as primary one so he would appear on the title screen, but it looks like something is wrong. Maybe you are forgetting something?

Edit: change main character to snake, then install the mod and select dd soldier on sortie prep screen. Changing camos to swimsuits will fix that horrifying mess on first picture leaving us only with disfigured face - http://imgur.com/a/LQRdS.
Is that with or without IH?

I've never had any crashing or warped bones(?) issues related to that modelswap on my end.

Changing to swimsuits should change it to the actual swimsuit model since it's a completely different fpk than the dd_male modelswap I provided, I don't even know how it could still be showing.
## Post #1396
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-10-28T18:35:28+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> 
Is that with or without IH?
I've never had any crashing or warped bones(?) issues related to that modelswap on my end.

Changing to swimsuits should change it to the actual swimsuit model since it's a completely different fpk than the dd_male modelswap I provided, I don't even know how it could still be showing.
Without, I am used to my gimmicks. By changing to swimsuits I meant 'change to swimsuits and back (olive drab for example)'. It doesn't matter though, warped faces are not an issue. 

Here comes another problem: soldier fovas have references only to textures, no additional fmdls.

```
fovaFile="/Assets/tpp/fova/chara/pfs/pfs0_unq_v250.fv2",
```

works fine, but it seems that fova just applies textures to regions, nothing more. No additional geometry created, nothing attached. Does this mean that all meshes (ie beret) are already in the model and they just wait to be textured and switched on? I need to take a look at the model itself, but installing 3dsmax just for that is too much. Can anyone import the base model and make 2-3 screenshots? [https://mega.nz/#!Pd1gxRBK!HGcJBixIzFNS ... jRk_ieleYc](https://mega.nz/#!Pd1gxRBK!HGcJBixIzFNSB9O_EYctyOplFzJt6uLTZjRk_ieleYc) - model pack, pfs/Assets/pack/player/parts/plparts_dd_male.fpk/Assets/tpp/chara/dds/Scenes/dds5_main0_def.fmdl. Thanks.
## Post #1397
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-10-28T20:48:56+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

The modelswap I provided also works for me with no face issues without IH installed, so you've got something else going on with your setup maybe?

> Reply from unknown123
>
>  Does this mean that all meshes (ie beret) are already in the model and they just wait to be textured and switched on?

I think so, likewise I don't have a modeling program set-up to verify, but in the absence of multiple fmdls it's a good bet. 
Would kind of explain why the pfs model with no fova set at all displays extra stuff, the fmdl must have it's own equivalent of a default fv2 in it? Or the sub-models have a visible by default flag?
## Post #1398
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-10-28T21:48:55+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> Can anyone import the base model and make 2-3 screenshots?
[http://imgur.com/a/WR5nr](http://imgur.com/a/WR5nr)
Hidden meshes are present on many of MGSV's models, most are controlled with the .fv2 files. The beret on the Ocelot unit soldiers during Quiet's arrival cutscene is actually an exception to this though. The beret is its own independent model, applied to the soldiers only during that cutscene.
## Post #1399
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-10-29T11:54:28+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> unknown123 wrote:Can anyone import the base model and make 2-3 screenshots?
http://imgur.com/a/WR5nr
Hidden meshes are present on many of MGSV's models, most are controlled with the .fv2 files. The beret on the Ocelot unit soldiers during Quiet's arrival cutscene is actually an exception to this though. The beret is its own independent model, applied to the soldiers only during that cutscene.
Much appreciated, that saves me a lot of time. Now I can throw away most of fv2 that contain only texture references. It also explains why we cannot have nice things such as enemy cosmetics on snake - they are just a part of the enemy model. That leaves us with exceptions: ocelot unit beret, ocelot glasses, huey glasses, plastic glasses on scientists in Shining Lights (and probably some more undiscovered ones). I'll take a look at beret, maybe it will work out somehow.

-------------------------

Beret model - chunk2\fpks\s10050_d02_fpk\Assets\tpp\chara\dds\Scenes\dds3_eqhd3_cov.fmdl, really easy to spot - [http://i.imgur.com/R5cz6Hu.png](http://i.imgur.com/R5cz6Hu.png)
Uses texture texture2\c32a1d6da49a.ftex that looks like a proper one.
Corresponding fova - chunk2\fpks\s10050_d02_fpk\Assets\tpp\fova\chara\dds\dds5_main0_v01.fv2 (\fpks\ is a folder where I keep all unpacked fpk files)
Uses same mechanic to attach model as with ocelot's glasses (see [viewtopic.php?p=123826#p123826](http://forum.xentax.com/viewtopic.php?p=123826#p123826)): command EB77FEBF followed by (ALWAYS FIRST SKL HASH) - attaches the fmdl to the skeleton. Everything else is texture manipulation to change eyes color and stuff not related to the beret.

Important note - if it uses same mechanic, how does the game knows the attachment region? It seems that it is not specified, which can mean two things:

 Beret/glasses models have special positioning to fit soldiers' models (ie not (0,0,0), but something more like (0,0,soldier_height));
 I am missing position parameter in fova.

--------------------------

Unfortunately models have their own positions: replacing glasses with beret (in fova, not direct model file replacement) tells us that there is no way to change the position (maybe changing SKL hash in fova?). Since ocelot's model differs from his unit, he is having some clipping issues, but it looks fine overall. So.. you cannot replace one model with another and expect a tight fit, you will have to adjust the position of new fmdl by hand via your favorite model editor (which will take time).
## Post #1400
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-11-01T10:42:54+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I think it deserves a separate post.
After gorillion tries I finally managed to attach model to a model using fova.
Biggest mistake was the assumption that Player.ApplyFormVariationWithFile() applies fova properly. In fact, it fails on most player fovas (the correct ones, even those being injected into fpk and such). 
How do I know that? There are 3 fovas in s10240_d03.fpk (chunk3\Assets\tpp\pack\mission2\story\s10240\s10240_d03.fpk) - Assets\tpp\fova\chara\sna\sna0_main4_v00-02.fv2. This is an fpk for funeral scene in Shining Lights, but I haven't seen any significant changes during it. These fovas apply models and some textures to player, but when I tried to apply them using ApplyFormVariationWithFile, game crashed. Fova files are also mentioned in s10240_d03_fpkd\Assets\tpp\demo\fox_project\p51_070500\fox\p51_070500_demo.fox2 file (the one that has demo resources), so I believe they should be working fine. 

It made me to try things in other directions. I've decided to modify plfova_sna0_face4_v00_fpk - bandana with small horn. I've made a copy of fova ('new_fova.fv2'), added another model and edited fova to point at new model instead of old one. But the game did nothing after calling ApplyFormVariationWithFile('new_fova.fv2'), bandana stayed in place, snake got his olive drab and dd emblem instead of custom ones - looked like a regular bug described by tex like 20 pages ago. What should be happening:

 Game loads fpk, uses ApplyFormVariationWithFile with supplied fova file, loads models and attaches them.

What happens when you try to recreate that process:

 No models loaded, olive drab, dd emblem.

Therefore, game uses a magic method to apply things to snake's model (snake's .parts?) which is definitely not ApplyFormVariationWithFile. That method is called when you switch headgear (and probably camos) and when the game loads your model for the first time (ie title screen, probably after each loading screen as well). Maybe it is the same method with some options, maybe there has to be some kind of procedure before applying fovas - who knows? It also should be noted that npc fovas (similar, not modded one - no checks were made!) can be applied to modded player model (ie soviets one) without bugs - see tex's pack some posts above. Maybe snake is the problem?

Problems with fovas (at least for now):

 Player.ApplyFormVariationWithFile() is wonky so we cannot use it (at least for snake) for fast-switch;
 We have to modify existing fv2 files (at least for snake) - low flexibility (maybe there is a workaround using TppDefine.lua to point to other fpks ingame);
 Fv2 format is complicated; I cannot reliably add new models. Fv2 specification posted back then by YourePrettyGood is not complete and some section names are confusing, section sizes are wrong sometimes. Wish he could back up his conclusions by showing some files, because some of them look like pure speculation. Nonetheless it helped me a lot.

Pics (full album [https://imgur.com/a/W0ykX](https://imgur.com/a/W0ykX)):




[https://mega.nz/#!N5gz0QRC!2OmosuUsPuD_ ... EWaY3_cuBM](https://mega.nz/#!N5gz0QRC!2OmosuUsPuD_ywb2HUHeIlYLCTPGwOBzvEWaY3_cuBM)
You will need to get rid of demon points and equip bandana. 

 sna0_face4_v00 - ocelot's glasses
 sna0_face4_v01 - ocelot unit hat
 sna0_face4_v02 - original file
ApplyFormVariationWithFile will not work, replace sna0_face4_v00 with another fv2 file.

If anyone figures out how to properly add a third fmdl entry, please share the wisdom.
List of fv2 with 2 fmdls - [http://pastebin.com/HTxkJ4hz](http://pastebin.com/HTxkJ4hz). There are no fv2 files which handle more than 2 fmdls.
## Post #1401
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-11-01T17:14:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

[QAR dictionary update](https://mega.nz/#!upRFkYxT!qoOqj9C1UQk7ZnzfMvE4NNxEWghOrIUNU_nxmurKQrg) (1\00 and 0\00 folders; 1\00 has everything but the .dat defined).

It's a build off of Seca's last dictionary update, so let me know if there's a more current dictionary already.

I was trying to come up with different methods of figuring out unknown filepaths and it looks like the easiest solution is pulling unpacked fpk/fpkd/pftxs folders with hashed names from directories and doing a search to find what other folders have the same type of tree. Then just doing some regex to remove unneeded bits from the fpk/pftxs names. 

So running GzsTool on the .dat file, doing a compare between the old and new .dat.xml with 'fc' command, and cutting away everything but the filepath:

Then a little more precise editing in NotePad++ and throwing the text into a text file that's read by a lua script to create a new file by concatenating suffix (filenames) to all used prefix file paths. And just removing duplicates whenever with a different lua script because I'm too lazy to merge everything into one file. If I didn't explain it well enough you're basically using the following on target folders to get the root path into a text file like so:

```
::----gets root of every folder in current path----::
for /r %G in (*.*) do (echo %G)>>output.txt


::-----batch compare and parsing----::
(del /f /s /q pathDif?.txt)>nul
(gzstool.exe "%cd%\0\00.dat")>nul
(fc 00.dat.xml "%cd%\comparison\00.dat.xml")>>pathDif1.txt
(findstr /r "FilePath=./" pathDif1.txt)>>pathDif2.txt
for /f delims^=^=^".^ tokens^=^2* %%G in (pathDif2.txt) do (echo %%G)>>pathDif3.txt

::----------after parsing strings with the batch file---------------------::
\8585f0e54aa7_fpk\Assets\tpp\fova\chara\dlf\dlf1_enem0_f_v04.fv2
\8585f0e54aa7_fpk\Assets\tpp\fova\chara\dlf\dlf1_enem0_v04.fv2
\8585f0e54aa7_fpkd\Assets\tpp\fova\TexturePackLoadConditioner.fox2

\d5631c03adbd_fpk\Assets\tpp\fova\chara\dlf\dlf1_enem0_f_v03.fv2
\d5631c03adbd_fpk\Assets\tpp\fova\chara\dlf\dlf1_enem0_v03.fv2
\d5631c03adbd_fpkd\Assets\tpp\fova\TexturePackLoadConditioner.fox2
```


Then you can look it up by the folder name, search for "Assets\tpp\fova\chara\" in windows explorer or the dictionary, or whatever to find a likely parent folder format. It's usually some variation of a filename within the folder.

edit: It's a niche use thing but something kinda useful that I found earlier is that creating a folder with robocopy that has  all of the unpacked folders in it lets you index the whole game directory:

```

for /d %G in (*_dat 0\*_dat 1\M*\0\*_dat) do (robocopy "%G" "%cd%\test" /e /xf *)>nul
```


edit2: syntax error in findstr line. chara\dlf is probably the swimsuit stuff Konami added. No luck on my end as far as getting a filepath for that stuff goes. They appear to not have a naming format that matches dla - dle fova/parts files.
## Post #1402
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-11-02T17:56:37+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

@unknown123
Excel sheets containing nearly all pXX values from development const and flow files figured out using the same file from MGO. That one has proper names for most function params.

[https://mega.nz/#!Ds4x3Iia!23RYod9aMroS ... W9qaFfkbcc](https://mega.nz/#!Ds4x3Iia!23RYod9aMroSa7Ozfygbyo1Crg9WRhiAsW9qaFfkbcc)

Still p34, p35, p36 are a mystery. Haven't found a pattern yet.
Same for p63, p64, p69, p70

p63 might be first unit func level and p64 might be the unit level requirement.

Late here, need sleep - will look into these later.

PS:
Used regex on the Const and Flow files, pasted in an excel sheet then used Java to rewrite the Const sheet so that p10-p17 values are included for every entry. This is just to show am not an idiot who copy-paste-edited 876 rows
## Post #1403
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-11-05T15:55:25+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> Excel sheets containing nearly all pXX values from development const and flow files figured out using the same file from MGO. That one has proper names for most function params.
Made a commit of p-names to monsterguns repo, thanks. I think that names of parameters are more than enough, making tables is not necessary.

> Reply from  CantStoptheBipBop
>
> 
QAR dictionary update (1\00 and 0\00 folders; 1\00 has everything but the .dat defined).
I've made a pull request to secaproject, I think we should keep info in places where it belongs. 

Is there any info about different types of player? I am talking about master\chunk0\Assets\tpp\pack\player\fova\* files. What's the difference between dds5 and dds6, sna0 and sna8, has there been any research on that? I really don't want to go through each one to figure out the differences.

Some fova progress:
I can't attach third model to player's face fovas no matter what. Maybe there is a limit, or I am editing fv2 in a wrong way. Females have troubles with additional models since their posture and model are different. Pics - [https://imgur.com/a/VIfQP](https://imgur.com/a/VIfQP).

-------------------------

Edit: females in battledress have much better attachments - [http://i.imgur.com/rDCI4rV.jpg](http://i.imgur.com/rDCI4rV.jpg)
## Post #1404
- Username: Ashtails
- Rank: beginner
- Number of posts: 36
- Joined date: Mon Sep 21, 2015 3:57 am
- Post datetime: 2016-11-05T22:28:31+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> nasanhak wrote:Excel sheets containing nearly all pXX values from development const and flow files figured out using the same file from MGO. That one has proper names for most function params.

Made a commit of p-names to monsterguns repo, thanks. I think that names of parameters are more than enough, making tables is not necessary.
 CantStoptheBipBop wrote:
QAR dictionary update (1\00 and 0\00 folders; 1\00 has everything but the .dat defined).

I've made a pull request to secaproject, I think we should keep info in places where it belongs. 

Is there any info about different types of player? I am talking about master\chunk0\Assets\tpp\pack\player\fova\* files. What's the difference between dds5 and dds6, sna0 and sna8, has there been any research on that? I really don't want to go through each one to figure out the differences.

Some fova progress:
I can't attach third model to player's face fovas no matter what. Maybe there is a limit, or I am editing fv2 in a wrong way. Females have troubles with additional models since their posture and model are different. Pics - https://imgur.com/a/VIfQP.

-------------------------

Edit: females in battledress have much better attachments - http://i.imgur.com/rDCI4rV.jpg

Wait so how are you doing using the mgo appeals in the image with the salute?
## Post #1405
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-11-05T22:38:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> from development const and flow files figured out using the same file from MGO. That one has proper names for most function params.

Nice find.


> Reply from unknown123
>
> 
Is there any info about different types of player? I am talking about master\chunk0\Assets\tpp\pack\player\fova\* files. What's the difference between dds5 and dds6, sna0 and sna8, has there been any research on that? I really don't want to go through each one to figure out the differences.

The names of the plparts fpks that the fmdls of the same name are in?

Also my notes in InfFova.lua

--Camo fovas
--<id> == fova camo id
--00,--drab - also already in plparts_dd_male.fpk
--01,--tiger
--02,--golden tiger
--03,--desert fox
--05,--wetwork
--06,--splitter
--10,--woodland
--12,--square (grey)
--14,--animals (leopard)

--SNAKE/AVATAR NORMAL, NORMAL_SCARF Camo fovas
--in \chunk0_dat\Assets\tpp\pack\player\fova\plfova_sna0_main1_c<id>.fpk
--fova files="\Assets\tpp\fova\chara\sna\sna0_main1_c<id>.fv2"
--naming matches NORMAL_SCARF

--SNAKE/AVATAR NAKED Camo fovas
--in \chunk0_dat\Assets\tpp\pack\player\fova\plfova_sna8_main0_c<id>.fpk
--fova files="\Assets\tpp\fova\chara\sna\sna8_main0_c<id>.fv2"

--AVATAR NAKED body fovas -- to match avatar skin color
--in \chunk0_dat\Assets\tpp\pack\player\fova\plfova_sna8_main0_body0_c<skinId>.fpk
--fova files="\Assets\tpp\fova\chara\sna\sna8_main0_body0_c<skinId>.fv2"

--DD_MALE/DD_FEMALE NORMAL Camo fovas
--in \chunk0_dat\Assets\tpp\pack\player\fova\plfova_dds<5/6>_main0_ply_v<id>.fpk
--where dds5==dd male, dds6==dd female
-- fova files="/Assets/tpp/fova/chara/sna/dds<5/6>_main0_ply_v<id>.fv2",--drab - also already in plparts_dd_male.fpk

--FOB reward fatigues, still ony hashed/undictionaried in emooses dictionary, are in secaproject fork
--in /1/MGSVTUPDATE0100/00.dat
--/Assets/tpp/pack/player/fova/plfova_sna0_main1_c23
--/Assets/tpp/pack/player/fova/plfova_sna0_main1_c24
--/Assets/tpp/pack/player/fova/plfova_sna0_main1_c27
--/Assets/tpp/pack/player/fova/plfova_sna0_main1_c29
--/Assets/tpp/pack/player/fova/plfova_sna0_main1_c30
--/Assets/tpp/pack/player/fova/plfova_sna0_main1_c35
--/Assets/tpp/pack/player/fova/plfova_sna0_main1_c38
--/Assets/tpp/pack/player/fova/plfova_sna0_main1_c39
--/Assets/tpp/pack/player/fova/plfova_sna0_main1_c42
--/Assets/tpp/pack/player/fova/plfova_sna0_main1_c46
--/Assets/tpp/pack/player/fova/plfova_sna0_main1_c49
--/Assets/tpp/pack/player/fova/plfova_sna0_main1_c52
--/Assets/tpp/pack/player/fova/plfova_sna8_main0_c23
--/Assets/tpp/pack/player/fova/plfova_sna8_main0_c24
--/Assets/tpp/pack/player/fova/plfova_sna8_main0_c27
--/Assets/tpp/pack/player/fova/plfova_sna8_main0_c29
--/Assets/tpp/pack/player/fova/plfova_sna8_main0_c30
--/Assets/tpp/pack/player/fova/plfova_sna8_main0_c35
--/Assets/tpp/pack/player/fova/plfova_sna8_main0_c38
--/Assets/tpp/pack/player/fova/plfova_sna8_main0_c39
--/Assets/tpp/pack/player/fova/plfova_sna8_main0_c42
--/Assets/tpp/pack/player/fova/plfova_sna8_main0_c46
--/Assets/tpp/pack/player/fova/plfova_sna8_main0_c49
--/Assets/tpp/pack/player/fova/plfova_sna8_main0_c52
--/Assets/tpp/pack/player/fova/plfova_dds5_main0_ply_v23
--/Assets/tpp/pack/player/fova/plfova_dds5_main0_ply_v24
--/Assets/tpp/pack/player/fova/plfova_dds5_main0_ply_v27
--/Assets/tpp/pack/player/fova/plfova_dds5_main0_ply_v29
--/Assets/tpp/pack/player/fova/plfova_dds5_main0_ply_v30
--/Assets/tpp/pack/player/fova/plfova_dds5_main0_ply_v35
--/Assets/tpp/pack/player/fova/plfova_dds5_main0_ply_v38
--/Assets/tpp/pack/player/fova/plfova_dds5_main0_ply_v39
--/Assets/tpp/pack/player/fova/plfova_dds5_main0_ply_v42
--/Assets/tpp/pack/player/fova/plfova_dds5_main0_ply_v46
--/Assets/tpp/pack/player/fova/plfova_dds5_main0_ply_v49
--/Assets/tpp/pack/player/fova/plfova_dds5_main0_ply_v52
--/Assets/tpp/pack/player/fova/plfova_dds6_main0_ply_v23
--/Assets/tpp/pack/player/fova/plfova_dds6_main0_ply_v24
--/Assets/tpp/pack/player/fova/plfova_dds6_main0_ply_v27
--/Assets/tpp/pack/player/fova/plfova_dds6_main0_ply_v29
--/Assets/tpp/pack/player/fova/plfova_dds6_main0_ply_v30
--/Assets/tpp/pack/player/fova/plfova_dds6_main0_ply_v35
--/Assets/tpp/pack/player/fova/plfova_dds6_main0_ply_v38
--/Assets/tpp/pack/player/fova/plfova_dds6_main0_ply_v39
--/Assets/tpp/pack/player/fova/plfova_dds6_main0_ply_v42
--/Assets/tpp/pack/player/fova/plfova_dds6_main0_ply_v46
--/Assets/tpp/pack/player/fova/plfova_dds6_main0_ply_v49
--/Assets/tpp/pack/player/fova/plfova_dds6_main0_ply_v52
--thanks HeartlessSeph

--retail 1.10 swimwear camos
--plfova_cmf0_main0_def_v00
--plfova_cmf0_main0_def_v01
--plfova_cmf0_main0_def_v02
--plfova_cmf0_main0_def_v03
--plfova_cmf0_main0_def_v05
--plfova_cmf0_main0_def_v06
--plfova_cmf0_main0_def_v38
--plfova_cmf0_main0_def_v39
--plfova_cmf0_main0_def_v44
--plfova_cmf0_main0_def_v46
--plfova_cmf0_main0_def_v48
--plfova_cmf0_main0_def_v53

Edit:
plparts_avatar_man={modelId="avm0_body0"},--tex for avatar cusomization
  plparts_dd_female={modelId="dds6_main0"},
  plparts_dd_male={modelId="dds5_main0"},
  plparts_ninja={modelId="nin0_main0"},
  plparts_raiden={modelId="rai0_main0"},
  plparts_normal={modelId="sna0_main0"},
  plparts_normal_scarf={modelId="sna0_main1"},
  plparts_hospital={modelId="sna1_main0"},
  plparts_sneaking_suit={modelId="sna2_main0"},
  plparts_gz_suit={modelId="sna2_main1"},
  plparts_leather={modelId="sna3_main1"},
  plparts_venom={modelId="sna4_main0"},
  plparts_ddf_venom={modelId="sna4_plyf0"},
  plparts_ddm_venom={modelId="sna4_plym0"},
  plparts_battledress={modelId="sna5_main0"},
  plparts_ddf_battledress={modelId="sna5_plyf0"},
  plparts_ddm_battledress={modelId="sna5_plym0"},
  plparts_mgs1={modelId="sna6_main0"},
  plparts_parasite={modelId="sna7_main0"},
  plparts_ddf_parasite={modelId="sna7_plyf0"},
  plparts_ddm_parasite={modelId="sna7_plym0"},
  plparts_naked={modelId="sna8_plym0"},
  plparts_gold={modelId="sna9_plym0"},
  plparts_silver={modelId="sna9_plym1"},
  plparts_ddf_swimwear={modelId="dlf0_main0"},--tex the fmdl for this breaks the naming convention of <modelid>_def (of all others in this table) and is named dlf0_main0_def_f.fmdl
  plparts_ddm_swimwear={modelId="dlf1_main0"},
  plparts_dla0_main0_def_v00={modelId="dla0_main0"},
  plparts_dla0_plym0_def_v00={modelId="dla0_plym0"},
  plparts_dla1_main0_def_v00={modelId="dla1_main0"},
  plparts_dla1_plym0_def_v00={modelId="dla1_plym0"},
  plparts_dlb0_main0_def_v00={modelId="dlb0_main0"},
  plparts_dlb0_plym0_def_v00={modelId="dlb0_plym0"},
  plparts_dlc0_plyf0_def_v00={modelId="dlc0_plyf0"},
  plparts_dlc1_plyf0_def_v00={modelId="dlc1_plyf0"},
  plparts_dld0_main0_def_v00={modelId="dld0_main0"},
  plparts_dld0_plym0_def_v00={modelId="dld0_plym0"},
  plparts_dle0_plyf0_def_v00={modelId="dle0_plyf0"},
  plparts_dle1_plyf0_def_v00={modelId="dle1_plyf0"},
## Post #1406
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-11-06T13:42:23+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> 
--where dds5==dd male, dds6==dd female
That's what I was looking for, thanks.

> Reply from  Ashtails
>
> 
Wait so how are you doing using the mgo appeals in the image with the salute?
[https://unknown321.github.io/mgsv_research/motions.html](https://unknown321.github.io/mgsv_research/motions.html)
## Post #1407
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-11-06T13:58:14+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from  unknown123
>
> Made a commit of p-names to monsterguns repo, thanks. I think that names of parameters are more than enough, making tables is not necessary.
Tables with the data actually helped me figure out the correct p-names.

Here are the updated workbooks:
[https://mega.nz/#!q1wRxIBL!RTvohLvQD8EI ... 0S2W_TLRIc](https://mega.nz/#!q1wRxIBL!RTvohLvQD8EInegmMS2l87Gjqfz65LQm30S2W_TLRIc)

Here's the summary if you don't feel like going through the sheets. Tested stuff out so others don't have to.
p34, p35, p36 are still a mystery - can't seem to find a pattern. p70 is 0 for all but don't know what it's for.

```

p01 = equipID - named id understood by the game - not string

p02 = equipDevelopTypeID - weapon/item type

p03 = baseEquipDevelopId - id of parent in dev chain

p04 = skill - special staff required

p05 = bluePrintId - special blueprint required

p06 = langEquipName - name

p07 = langEquipInfo - info

p08 = ftexPath - self explanatory

p09 = equipDevelopGroupID - dev group weapon/item belongs to

--The following are abilities
p10 = langPowerUpInfo0
p11 = langPowerUpInfo1
p12 = langPowerUpInfo2
p13 = langPowerUpInfo3
p14 = langPowerUpInfo4
p15 = langPowerUpInfo5
p16 = langPowerUpInfo6
p17 = langPowerUpInfo7
p18 = langPowerUpInfo8 --not used in EquipDevelopConstSetting but is present in MGO version
p19 = langPowerUpInfo9 --not used in EquipDevelopConstSetting but is present in MGO version
p20 = langPowerUpInfo10 --not used in EquipDevelopConstSetting but is present in MGO version
p21 = langPowerUpInfo11 --not used in EquipDevelopConstSetting but is present in MGO version
--abilities end

p30 = langEquipRealName - full weapon name

p31 = isResultRankLimited - NOT tested if turning to 0 removes rank restricted result - probably not as the result is based on PlayerPlay flags

p32 = isCustomEnable - can weapon be customized - in most cases turning from 0 to 1 will crash game in customize menu

p33 = isColorChangeEnable - can weapon color be changed - in most cases turning from 0 to 1 will crash game in customize menu

p34 = ??? --Seems to be 1 for most high level weapons/items plus items not added to final game like Battle Gear; also unusable weapons/items
p35 = ??? --Never 1 along with p36
p36 = ??? --Never 1 along with p35

p34 and p36 are 1 together only for the following:
	p01=TppEquip.EQP_WP_SP_SLD_030_G01
	p01=TppEquip.EQP_WP_SP_SLD_030_G02
	p01=TppEquip.EQP_WP_SP_SLD_010_G01
	p01=TppEquip.EQP_WP_SP_SLD_010_G02
	p01=TppEquip.EQP_WP_SP_SLD_020_G01
	p01=TppEquip.EQP_WP_SP_SLD_020_G02
	p01=TppEquip.EQP_WP_SP_SLD_040_G01
	p01=TppEquip.EQP_WP_SP_SLD_040_G02
	p01=TppEquip.EQP_IT_CBox_CLB_A_G01
	p01=TppEquip.EQP_IT_CBox_CLB_B_G01
	p01=TppEquip.EQP_IT_CBox_CLB_C_G01

	So what does this mean???

p50 = idRelatingToConstFile - order matters for these

p51 = derivationIndex - 0 means same dev chain, 1 means new dev chain one level below. Works in combination with p03 to form chains

p52 = developRank2 - grade, 0 value won't show in dev chain or menus(probably same for higher values)

p53 = developGmpCost

p54 = usageGmpCost

p55 = sectionLvForDevelop - level requirement for 1st unit type

p56 = sectionID2ForDevelop - ID of 2nd unit requirement

p57 = sectionLv2ForDevelop - level requirement for 2nd unit type

p58 = resourceType1

p59 = resourceType1Count

p60 = resourceType2

p61 = resourceType2Count

p62 = initialAvailable - auto develops weapon/item

p63 = sectionIDForDevelop - **ID of 1st unit requirement for SOME weapons/items - seems to override p55(higher preference)

p64 = developSectionLv - **level requirement for 1st unit type for SOME weapons/items - SPECULATION(did not test): If 0, then p55 acts as 1st unit level?

p65 = resourceUsageType1

p66 = resourceUsageType1Count

p67 = resourceUsageType2

p68 = resourceUsageType2Count

p69 = displayInfo - values are
	0 - show in dev menus
	1 - DLC and then some
	2 - show as '?' maybe
	3 - only for wormhole fulton all 4 grades
	5 - seem to be unused items

p70 = ??? Mystery Column - seems to be 0 for everything

p71 = developTimeMinute

p72 = isValidMbCoin - Online dev items
	Set to 0 to make online stuff available offline - disappears when connected online as usual
	Set to 1 and offline items can only be seen/developed when connected online, but you'll see "A network error has occurred" message :)

p73 = intimacyPoint - Buddy equip develop points :)

p74 = isFobAvailable
	0 means items cannot be equipped for FOBs at sortie screen - cannot commence FOB mission
	This does not control item usage once on FOBs
	So changing from 0 to 1 will allow you to deploy to FOBs with let's say the infinity bandanna/parasite suit
	but the Stealth Camo, supply flare, support flare, cigar, parasites will still not be usable
```
## Post #1408
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-11-06T19:17:30+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

[https://github.com/NuLLxD/MGSVLUA/blob/ ... ctions.txt](https://github.com/NuLLxD/MGSVLUA/blob/master/Functions.txt) has the note:
 p35=0 //Equippable by security staff (boolean) 

No sure how he figured that, so can you verify? 
Could see if the items match / change others to see if they get the sec staff equipable indication in the ui? (green name 'Equippable by Security Team staff' in description).
## Post #1409
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-11-06T19:27:31+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> https://github.com/NuLLxD/MGSVLUA/blob/ ... ctions.txt has the note:
 p35=0 //Equippable by security staff (boolean) 
No sure how he figured that, so can you verify?
I think it was from [cheatengine topic](http://forum.cheatengine.org/viewtopic.php?t=583862), can't link you the exact post - 200 pages is too much to go through.
## Post #1410
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-11-07T13:44:53+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> https://github.com/NuLLxD/MGSVLUA/blob/ ... ctions.txt has the note:
 p35=0 //Equippable by security staff (boolean) 

No sure how he figured that, so can you verify? 
Could see if the items match / change others to see if they get the sec staff equipable indication in the ui? (green name 'Equippable by Security Team staff' in description).
Yup confirmed. Thanks tex!

With the exclusion of p70, only p34 and p36 are left unexplained.

EDIT:
p34 = Is Online Dev Item
	0 seems to be set for nearly all online develop weapons and items and also GZ sneaking suit (but more importantly may denote blueprints for GZ transfer and online dev)
	These may not have p72 (isValidMbCoin) set to 1 in all cases
	Grade 6 Ze'ev, ATB and EMN mines also have p34=0 for some reason(along with others) but have p72=0 and there are some missing items

p35 = Equippable by Security Team staff

p36 = Set to 1 seems to be for DLC but there is other crap (unused/un-develop-able) too

Performed a p52(Grade) based filtering to figure out p34 and p36. p34 seems accurate but p36 is all over the place. Not sure how manipulating these makes a difference - still need to figure out. Maybe the deployment costs are correctly reflected?
## Post #1411
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-11-08T18:11:41+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

unknown's writeup on importing appeal actions to single player inspired me to look into the .mtar format. I've still got a lot of progress to make, but this is my progress so far:

```
Uses Little-Endian
0x0 - 0x3 (32): Signature? 9C A8 FF 0B = Gzs, 72 2B 01 0C = Tpp
0x4 - 0x7 (32): Number of files. Each line (or 2 lines[?] for player2_resident.mtar?) starting at 0x20 seems to indicate a file
0x8 - 0xB (32): Unknown. TppGzPlayerLayers and player2_resident share bytes 12 00 38 00. TppGzPlayerFacial (26 00 44 00) and TppPlayer2Facial (23 00 44 00) slightly differ.
0xC - 0xF (32): Unknown. TppGzPlayerLayers and player2_resident share bytes 00 00 00 00. TppGzPlayerFacial and TppPlayer2Facial share bytes 06 00 01 00.
0x10 - 0x1F: Unknown.

File declaring/listing begins at 0x20. All files in the list follow this format:
(Note: some files i.e. player2_resident seem to use a different format)
0x20 - 0x27: Unknown. Best guess is this might be the hashed name of the file. I.e. 63 0C 20 DA FA AF 53 = 3affada200c63
0x28 - 0x2B (32): File location offset.
0x2C - 0x2F (32): File length.

Gani File format:
0x0 - 0x4 (40): Signature (D2 A2 FC 0B 20).
0x5 - 0x7 (24): Padding.
0x8 - 0xB (32): File length.
0xC - 0xF (32): Padding.
```


From here it gets more confusing. What I assume are .gani files in some of the files, seem to be lacking a distinguishable header. The offset for file length also doesn't seem to match up. There also seems to be an additional line attached to each file in the file list. I haven't figured out what this additional line does or means yet.

Edit: I can confirm that my .gani format notes are correct now. I found some .gani files sitting outside of a .mtar in one of GZs .fpks. Unfortunately, this doesn't help much with the second .mtar format. Still trying to figure that one out.
## Post #1412
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-11-08T18:46:34+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> Mtar
Just a wild guess, but can it be based on .tar format? Since fmdl is 'Fox mdl', then mtar could be 'Motion tar' as well.

Fv2 progress:
I think I am ready to make a lot of fv2 files for headgear. Haven't touched body gear yet.
Issues: 

head models for snake and dd soldier (male) use one fova, but their main models are just a bit different.
See [https://imgur.com/a/kE23b](https://imgur.com/a/kE23b) - soldier has his glasses a little bit farther from where it should be, while snake looks like that guy from MiB3. I think all head cosmetics will suffer from that issue in one way or another as long as they use the same model.

You will have to swap fv2 files inside fpks and repack them, no quick change allowed due to the issues related to ApplyFormVariationWithFile stated in a couple of posts back.

--------------------
or not.. For some insane reason mgo models doesn't show if they are attached using method I was using before. What a mess.
## Post #1413
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-11-08T19:45:43+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Code to S rank and complete all mission objectives. Call from end of TppMain.OnInitialize func:

```

	local missionsToTinker = TppDefine.MISSION_ENUM
	local setScore=200000 --preferably over 120,000
	local setRank=1 --1=S, 2=A, 3=B, 4=C, 5=D, 6=E

	for missionCodeString,enumId in pairs(missionsToTinker)do
    local missingMissionEnumId=TppDefine.MISSING_NUMBER_MISSION_ENUM[missionCodeString]
    if not missingMissionEnumId then
    
      for i=0,TppUI.GetMaxMissionTask(tonumber(missionCodeString))-1 do
		    local n=enumId*TppDefine.MAX_MISSION_TASK_COUNT+i
		    gvars.ui_isTaskLastComleted[n]=true
		  end
		  
		  gvars.rnk_missionBestScore[enumId]=setScore
		  gvars.res_bestRank[enumId]=setRank
		  TppStory.SetMissionOpenFlag( tonumber(missionCodeString), true )
	    TppStory.UpdateMissionCleardFlag(tonumber(missionCodeString))
	    --TppStory.UpdateStorySequenceOnMissionClear(tonumber(missionCodeString)) --Uncomment to progress story

    end
  end
end
```


Need to complete at least one mission to unlock more stuff like ninja outfits
## Post #1414
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-11-09T00:32:22+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> Just a wild guess, but can it be based on .tar format? Since fmdl is 'Fox mdl', then mtar could be 'Motion tar' as well.
I took a brief look at the .tar format, but didn't notice any obvious correlation. I haven't ruled it out yet though. I'll need to take a more in-depth look at the format to be sure.

It would make sense if it is based off of another format though considering it doesn't have seem to have a similar signature to other Fox Engine archive formats. I.e. QAR files have "SQAR" as their first 4 bytes in plain text, FPKs have "foxfpk" FPKDs have "foxfpkd", etc....
## Post #1415
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-11-09T03:58:35+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> Here's the summary if you don't feel like going through the sheets.

Sweet, I was wondering what all of those were for. I tried looking for patterns awhile back and ran into a lot of scenarios like: "Oh p##, it's obviously a parameter only for items with... a battery/timer? I guess that makes sense. Is that really it? I mean there's one item that should fall under this that doesn't, but I might be close. Nope there's a damn theory-destroying cardboard box hiding in my search."

[QAR dictionary project fork](https://github.com/cstBipBop/MGSV-QAR-Dictionary-Project). Fork of a fork of a fork where I'm uploading updates to the dictionary.

[all unique qar filepath hashes](https://mega.nz/#!75JgWJxB!eQNgoOf_EzxuoVOjxpN3P1SjwP6ztcJXjcwuz1hh9eY)

I modified my lua script that brute-forces lng dictionary entries to generate QAR entries with unknown123's [mgsv_path_hasher](https://github.com/unknown321/mgsv_path_hasher). I initially gave up on the idea of integrating it but when I checked the page for it again I noticed that the reason the results didn't match the filepath hashes was that you have to run it from cmd with the /r switch to keep it from reversing hashes. TPP's filepath hashes are 8 - 13 lowercase hex characters, with the 13 character hashes using numbers 1-3 for the leading character. mgsv_path_hasher generates 12 character strings which match up with the filepaths; apparently KJP just set up the filepath hashes to randomly be truncated to 8 - 12 characters and/or generated with 13 characters with a pseudo-random/random character in the range of 1-3. I coded around it by just using 11 - 13 character length hashes that I truncated to the latter 11 characters (wth is the term for the ending character of a string?), and stripping the leading character from mgsv_path_hasher's generated hash with pattern matching when importing output.txt into a table. I haven't seen any collisions so far in the dictionary's appended entries but bringing the hashes down to 8 characters to try get everything would probably introduce issues since the script writes up to 1.4m (around a 100 mb .txt file for paths) in 20+ seconds at a time, so a collision would still be unlikely unless my napkin math is off, but I'd need to verify that before changing the hash table compares around.

Anyway here are some stats and patterns with the hashes for anyone that can make use of it:

```

--[[
|Totals|
all: 44,024
8 char: 1
9 char: 2
10 char: 37
11 char: 650
12 char: 10,220
13 char: 33,114

collisions (trunc. 8 char): 0

|Frequency of leading char in 13 char hash|
0: 0
1: 11,108
2: 10,959
3: 11,047
4-9, a-f: 0
]]

```


I'll edit in the script in whenever I clean up some of the unused and temp debug code.
## Post #1416
- Username: Jonathan Ingram
- Rank: n00b
- Number of posts: 11
- Joined date: Mon Jun 22, 2015 6:20 am
- Post datetime: 2016-11-09T08:18:16+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> Just a wild guess, but can it be based on .tar format? Since fmdl is 'Fox mdl', then mtar could be 'Motion tar' as well.
I believe it's just short for motion archive.
Similarly .qar comes from the .dar (data archive) files from MGS1 but they seem to adjust the format with each game despite reusing the extension names.
## Post #1417
- Username: morbidslinky
- Rank: beginner
- Number of posts: 27
- Joined date: Wed Oct 21, 2015 9:26 am
- Post datetime: 2016-11-10T11:01:10+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hi all, it's been a while.

@tex, I was hoping you could implement a "skip the splashscreen logos" toggle to IH. I wanted to make a standalone mod for it, but it edits init_sequence.lua in the init.fpkd, which is also used by IH.

The change would simply be: 

```
  local slot = TppDefine.SAVE_FILE_INFO[TppScriptVars.CATEGORY_GAME_GLOBAL].slot
  TppScriptVars.CopySlot( slot, { TppDefine.SAVE_SLOT.SAVING, slot } )
  TppScriptVars.LoadVarsFromSlot( TppDefine.SAVE_SLOT.GLOBAL, TppDefine.VARS_GROUP_GAME_DATA_ON_START_MISSION, TppScriptVars.CATEGORY_GAME_GLOBAL )
	SplashScreen.Delete(SplashScreen.GetSplashScreenWithName("konamiLogo"))
	SplashScreen.Delete(SplashScreen.GetSplashScreenWithName("kjpLogo"))
	SplashScreen.Delete(SplashScreen.GetSplashScreenWithName("foxLogo"))
    this._StartPreTitleSequence()
end
```

Instead of:

```
  local slot = TppDefine.SAVE_FILE_INFO[TppScriptVars.CATEGORY_GAME_GLOBAL].slot
  TppScriptVars.CopySlot( slot, { TppDefine.SAVE_SLOT.SAVING, slot } )
  TppScriptVars.LoadVarsFromSlot( TppDefine.SAVE_SLOT.GLOBAL, TppDefine.VARS_GROUP_GAME_DATA_ON_START_MISSION, TppScriptVars.CATEGORY_GAME_GLOBAL )

  if not TppSave.IsNewGame() then
    TppSequence.SetNextSequence("Seq_Demo_ShowKonamiAndFoxLogo")
  else
		
		SplashScreen.Delete(SplashScreen.GetSplashScreenWithName("konamiLogo"))
		SplashScreen.Delete(SplashScreen.GetSplashScreenWithName("kjpLogo"))
		SplashScreen.Delete(SplashScreen.GetSplashScreenWithName("foxLogo"))
    this._StartPreTitleSequence()
  end
end
```

What do you think?
## Post #1418
- Username: TruckerHatRyan
- Rank: n00b
- Number of posts: 11
- Joined date: Sun Oct 25, 2015 2:35 am
- Post datetime: 2016-11-12T20:02:02+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hey all, glad to see the MGSV modding community is still around. Don't suppose anyone has found something that would explain how the game decides which models don't show up in first person when using the int scope? 

Almost seems like it would be something contained within the .fmdl files that the game looks for, or maybe it could be related to .fv2 files somehow? Of course can use the arm slotting tricks to get around it but being able to prevent any model from showing up in first person would open up a lot of more possibilities with model swapping.
## Post #1419
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-11-12T20:12:20+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from TruckerHatRyan
>
> Don't suppose anyone has found something that would explain how the game decides which models don't show up in first person when using the int scope?
You mean parts of player's model? I think it is hardcoded and depends on camera. You see, there is a bug, which allows you to see through intscope, but in third-person mode. Your body is fully seen along with your head. So it depends on camera distance. I haven't seen anything camera-related in fv2 yet.
[http://i.imgur.com/RKyVTfN.jpg](http://i.imgur.com/RKyVTfN.jpg) - pic of the bug, I cannot reproduce it reliably.
## Post #1420
- Username: TruckerHatRyan
- Rank: n00b
- Number of posts: 11
- Joined date: Sun Oct 25, 2015 2:35 am
- Post datetime: 2016-11-12T20:26:34+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> You mean parts of player's model? I think it is hardcoded and depends on camera.

Yep that is what I was referring to, how on models that were not intended to be playable you will see them in first person when using the int scope if you make them the main .fmdl of an fpk. 

That is unfortunate if it is hardcoded, but I suppose that does make sense. I seem to recall someone finding some camera related lua files and I think Shigu (or Higus on this forum) was looking into using those to solve the same problem but looks like it may have been a dead end.
## Post #1421
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-11-12T20:59:05+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

@morbidslinky
I had a logo skip back in version r41 but removed it in r90 (well actually replaced) because:

It was before I knew how to pull pre-load save values so I couldn't have it as a toggle (no longer an issue).

The only situation where logos would increase the load>title screen time is if the load time is less than the logos appear time.
In practice this is only unmodded and offline.
Online adds a chunk of time to loading (and can be quite variable due to however konamis servers are).
IHs initial startup by itself pushes it past that. 
So it just meant looking at a black screen, even though the logos aren't tied to loading timing it at least gives some sense of progress.

I played around with a replacement in light of the fact that it wasn't holding things up (in r90), where it would throw up random emblems, but ran in to issues with stability for some users (so I removed that in r115).
I was also bit wary that the nvidia logo was called by the exe rather than the scripts, in light of the above.

However your method pretty clear, and uses the new-game execution path which doesn't do logos in init (so it's a vanilla path rather than the kludge I had back when). So I'll add the option.
Cheers.


On my own end:

As some may have noticed, I've had more luck creating new fpkds, previously I had issues as the engine seems to require a specific file type order in fpkds or it will crash. fpks don't seem to have the same issue as far as I can tell.

This was acerbated by makebite just building fpks in whatever order it came across the files at.

My current workaround is to repack the fpkds after makebite with the gztool xml giving a specific file type order.
snakebite keeps the file order of packs it gets in the .mgsv

Since most of my packs I created by stripping down an existing pack, I've been using the type order from that is holding up.

I've thrown together a script to pull together the orders from the fpkd.xmls
[https://mega.nz/#!jd1B3RCA!wh-pTVPBAT-y ... EdNM1eYzVU](https://mega.nz/#!jd1B3RCA!wh-pTVPBAT-y3x7lEfJ7tcZLzPx18QfTVEdNM1eYzVU)
And this is the nearest I can figure from that:
--tex reconstructed file type order from analysing output of this process.
--all positions reletively solid except for "bnd", analysis from my ExtensionOrder.lua puts it somewhere between veh and tgt. 
--have put it between des and tgt in line with init.lua RegisterPackageExtensionInfo call
-- RegisterPackageExtensionInfo call seems to mostly match my derived order in reverse - however clo doesnt fit the order and lng isn't in its table.
local fpkdExtensionsOrder={ "fox2", "evf", "parts", "vfxlb", "vfx", "vfxlf", "veh", "frld", "des", "bnd", "tgt", "phsd", "ph", "sim", "clo", "fsd", "sdf", "lua", "lng" }
Should probably patch makebite at some point.

Apart from that, I'm hitting some overall gameobject limit, enough instances and the game gets crashy at different points (sometimes rolling into an area with the specific gameobjects, sometimes on checkpoint reload, sometimes on map exit).
This means I've had to rein back on my total count of helis,skulls,walkers,soldiers (since I can't run-time change the count and cant guarantee users don't have all enabled at once).
That's the issue we're hitting with IH and your animals mod morbidslinky, I haven't got round to atualy testing your mod with IH or even checked out what you have for your counts though sorry.

There's various references to memory allocation amounts both in the startup luas and in some fox2s, but my initial (brief) tinkering hasn't had any noticeable effect.
## Post #1422
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-11-12T21:07:28+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from TruckerHatRyan
>
> 
Don't suppose anyone has found something that would explain how the game decides which models don't show up in first person when using the int scope?

Almost seems like it would be something contained within the .fmdl files that the game looks for, or maybe it could be related to .fv2 files somehow? Of course can use the arm slotting tricks to get around it but being able to prevent any model from showing up in first person would open up a lot of more possibilities with model swapping.
unknown123 wrote:You mean parts of player's model? I think it is hardcoded and depends on camera.

Yep that is what I was referring to, how on models that were not intended to be playable you will see them in first person when using the int scope if you make them the main .fmdl of an fpk. 
.

I was of the same impression as you TruckerHatRyan - while the game clearly triggers it on camera, it seems like it's the equivalent of the fv2 hide model functionality, and the fmdl submodel hide functionality (as shown by the svs body models).
Otherwise if it was a hardcoded reference you'd think the head would still hide when the body model is the only thing that's been swapped?
## Post #1423
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-11-12T23:09:43+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from TruckerHatRyan
>
> 
Don't suppose anyone has found something that would explain how the game decides which models don't show up in first person when using the int scope?

Almost seems like it would be something contained within the .fmdl files that the game looks for, or maybe it could be related to .fv2 files somehow? Of course can use the arm slotting tricks to get around it but being able to prevent any model from showing up in first person would open up a lot of more possibilities with model swapping.

> Reply from Tex
>
> I was of the same impression as you TruckerHatRyan - while the game clearly triggers it on camera, it seems like it's the equivalent of the fv2 hide model functionality, and the fmdl submodel hide functionality (as shown by the svs body models).
Otherwise if it was a hardcoded reference you'd think the head would still hide when the body model is the only thing that's been swapped?
Before YouRePrettyGood disappeared, he mentioned to me in a PM that he might've found an offset in the .fmdl files that determines whether a mesh disappears or not when entering first-person/the Int-Scope. Unfortunately, he didn't mention what the offset may have been and he hasn't posted since. Seems like it might be determined whether a mesh should disappear or not based on both the offset and camera distance.

On an unrelated note, I've made some some more progress on the .mtar format(s). I've separated the two different formats with different names. I call them Mtar Type 1 and Mtar Type 2. Mtar Type 2 is the more confusing format and still needs more research.

```
Uses Little-Endian
0x0 - 0x3 (32): Signature? 9C A8 FF 0B = Gzs, 72 2B 01 0C = Tpp
0x4 - 0x7 (32): Number of files. Each line starting at 0x20 seems to indicate a file
0x8 - 0xB (32): Unknown. TppGzPlayerLayers and player2_resident share bytes 12 00 38 00. TppGzPlayerFacial (26 00 44 00) and TppPlayer2Facial (23 00 44 00) slightly differ.
0xC - 0xF (32): Unknown. TppGzPlayerLayers and player2_resident share bytes 00 00 00 00. TppGzPlayerFacial and TppPlayer2Facial share bytes 06 00 01 00.
0x10 - 0x1F: Padding.

File declaring/listing begins at 0x20. All files in the list follow this format:
0x20 - 0x27: Unknown. Best guess is this might be the hashed name of the file. I.e. 63 0C 20 DA FA AF 53 = 3affada200c63
0x28 - 0x2B (32): File location offset.
0x2C - 0x2F (32): File length.

Gani Type 1 File Format:
0x0 - 0x4 (40): Signature (D2 A2 FC 0B 20).
0x5 - 0x7 (24): Padding.
0x8 - 0xB (32): File length.
0xC - 0xF (32): Padding.


Mtar Type 2 Format (i.e. player2_resident.mtar):
0x0 - 0x3 (32): Signature? 72 2B 01 0C = Tpp
0x4 - 0x7 (32): Number of files. Each 2 lines starting at 0x20 seems to indicate a file
0x8 - 0xB (32): Unknown. TppGzPlayerLayers and player2_resident share bytes 12 00 38 00. TppGzPlayerFacial (26 00 44 00) and TppPlayer2Facial (23 00 44 00) slightly differ.
0xC - 0xF (32): Unknown. TppGzPlayerLayers and player2_resident share bytes 00 00 00 00. TppGzPlayerFacial and TppPlayer2Facial share bytes 06 00 01 00.
0x10 - 0x13: Unknown.
0x14 - 0x17 (32): Offset for some kind of signature (EF AA BD 4F).
0x18 - 0x1F (80): Padding.

EF AA BD 4F seems to be a file header of some sort. On the line that contains this header, 0x8 - 0xB declares file length. Another file header appears after this file. The
following header can either be 4B 53 E4 91 or 84 77 9A 3B. More possibilities for this header may exist.

File declaring/listing begins at 0x20. All files in the list follow this format:
0x20 - 0x27: Unknown. Best guess is this might be the hashed name of the file. I.e. 63 0C 20 DA FA AF 53 = 3affada200c63
0x28 - 0x2B (32): File location offset.
0x2C - 0x2F (32): File length. A repeated pattern in this area seems to mean multiply by 0x10 to get the length. It also indicates that the file is extended(?).
0x30 - 0x31 (16): If the previous file was extended, there will be a value here. Multiply the value by 0x10 to get the extension length. The extension immediately follows the end of the extended file.
0x32 - 0x37 (48): Padding.
0x38 - 0x3B (32): Unknown:
0x3C - 0x3F (32): Padding.
```


I've attached a sample of what I believe are various files I've manually extracted from Mtar Type 2s. If anyone could take a look at them in a hex editor and see if they can notice anything related to the .fmdl format such as bones names, it would be a big help. Thanks!
[None](https://xentaxbackup.github.io/file/11907_None)
## Post #1424
- Username: TruckerHatRyan
- Rank: n00b
- Number of posts: 11
- Joined date: Sun Oct 25, 2015 2:35 am
- Post datetime: 2016-11-12T23:33:30+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> I was of the same impression as you TruckerHatRyan - while the game clearly triggers it on camera, it seems like it's the equivalent of the fv2 hide model functionality, and the fmdl submodel hide functionality (as shown by the svs body models).
Otherwise if it was a hardcoded reference you'd think the head would still hide when the body model is the only thing that's been swapped?

> Reply from BobDoleOwndU
>
> Before YouRePrettyGood disappeared, he mentioned to me in a PM that he might've found an offset in the .fmdl files that determines whether a mesh disappears or not when entering first-person/the Int-Scope. Unfortunately, he didn't mention what the offset may have been and he hasn't posted since. Seems like it might be determined whether a mesh should disappear or not based on both the offset and camera distance.

Thanks guys. I have sent YouRePrettyGood a PM just in case he returns. Not getting my hopes up, but with some luck maybe we can get this figured out.
## Post #1425
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2016-11-13T03:09:39+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> On an unrelated note, I've made some some more progress on the .mtar format(s). I've separated the two different formats with different names. I call them Mtar Type 1 and Mtar Type 2. Mtar Type 2 is the more confusing format and still needs more research.
Code: Select all*details*

I've attached a sample of what I believe are various files I've manually extracted from Mtar Type 2s. If anyone could take a look at them in a hex editor and see if they can notice anything related to the .fmdl format such as bones names, it would be a big help. Thanks!
In case it can be any help, here are some MGS4 MTAR + MTSQ sample files:
[https://yadi.sk/d/iFCQjSzmyVVvv](https://yadi.sk/d/iFCQjSzmyVVvv)
## Post #1426
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-11-13T04:18:11+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> In case it can be any help, here are some MGS4 MTAR + MTSQ sample files:
https://yadi.sk/d/iFCQjSzmyVVvv
Thanks! I'll take a look through them when I get a chance.
## Post #1427
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-11-15T00:00:28+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

It seems that direct port of mgo cosmetics using only fv2 is impossible without model adjustments. Things got even more complicated. Looks like fv2 has no control over positioning, or people in charge of modeling/attachments decided that it would be too bothersome. 

Player's model consist of 2 parts - body and head. There are different kinds of bodies - battledress, regular camo, sneaking suit etc. They have visual differences, but the only one that bothers us is the skeleton inside them. Body is considered as the main part and has attachment bones for head, eyes, mouth etc. Head gets attached to the body, so it's position depends on bones the body provided. 
 

Let's move on to cosmetics. I add cosmetics by using a fv2 file. All you need is to add a filename, magic command and a pointer to the filename. Magic command positions new model to the center of the main model, without it new model moves to your feet. I wouldn't go into the details right now, it will be a huge wall of text explaining things (will be posted later on github). It worked almost flawlessly on tpp cosmetics that are used by npc. 



On the pic above you can see 3 models - ocelot unit beret, ocelot's glasses and mgo cap. As you can see, beret and glasses are pushed back so they would attach to the head nicely. But mgo hats have different center point and don't fit at all. That means that mgo uses different mechanism based on bone connections rather than simple model spawning. Unfortunately I haven't seen anything related to bone connections in fv2 files, which leads to the conclusion that it is impossible to make a nice mgo hat attachment without editing the model beforehand. I guess mgo adds cosmetics the same way it attaches head to the body (it can be related to '.parts' files).

Some pics of badly attached croc hat - [https://imgur.com/a/emYKQ](https://imgur.com/a/emYKQ), same behaviour with baseball cap.
## Post #1428
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2016-11-15T00:35:42+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> *cosmetics details*
Do many of these MGO cosmetics have the same distance from Snake's face? Because if the offset is common for all the attached models, refitting all of them should be no problem after the first one, we'd only need to apply the same XYZ position adjustment once to every MGO model with a vertex editor before adding them in. Which should be no problem at all.
## Post #1429
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-11-15T01:30:19+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> Do many of these MGO cosmetics have the same distance from Snake's face?
I am pretty sure that they have the same distance. You can use beret model (chunk3\...\s10240_d03_fpk\Assets\tpp\chara\dds\Scenes\dds3_eqhd3_cov.fmdl) as a reference. 

Oh yea, it is not over yet - I still have body cosmetics to play with. However fv2 files for bodies are more complicated, but I'll see what can I do.
## Post #1430
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-11-15T15:20:43+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Seems the game was updated but only the TPP exe changed?

I had a 330MB download but that was due to the modded 00.dat as well
## Post #1431
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-11-15T15:40:36+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> Seems the game was updated but only the TPP exe changed?

I had a 330MB download but that was due to the modded 00.dat as well
Same here, 00.dat is unchanged. Exe's size was reduced by 2 megabytes for english version and 16 megabytes for japan.
## Post #1432
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-11-15T16:27:16+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> nasanhak wrote:Seems the game was updated but only the TPP exe changed?

I had a 330MB download but that was due to the modded 00.dat as well
Same here, 00.dat is unchanged. Exe's size was reduced by 2 megabytes for english version and 16 megabytes for japan.
Thanks! Your tracking the JAP version as well? Does switching languages through Steam change the exe too?
## Post #1433
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-11-15T16:31:19+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> 
Thanks! Your tracking the JAP version as well? Does switching languages through Steam change the exe too?
[https://steamdb.info/app/287700/history/](https://steamdb.info/app/287700/history/)
 287702/maxsize: 30610043742 (28.51 GB) › 30593090911 (28.49 GB) (diff = -16.17 MB)
 287701/maxsize: 30628958110 (28.53 GB) › 30626312607 (28.52 GB) (diff = -2.52 MB)
287702 is jap, 287701 is eng
## Post #1434
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-11-18T03:32:11+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Took me a little bit, but I present:
[MtarTool v0.1](https://github.com/BobDoleOwndU/MtarTool/releases)

Currently supports unpacking and repacking Mtar Type 1 files. It technically works on GZ .mtars as well, but the file names will be wrong; so repacking a GZ .mtar will break it. I tried to make it work similarly to GzsTool. It exports an XML file that can be dragged onto the tool and it will repack the file.

I'm still working on the Mtar Type 2 format. I'll update it to support that when it's ready.

Unfortunately, all of the .gani file names are hashed. The names need to be found and added to a dictionary for it to produce the real file names.
## Post #1435
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2016-11-18T08:50:50+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> Took me a little bit, but I present:
MtarTool v0.1

Currently supports unpacking and repacking Mtar Type 1 files. It technically works on GZ .mtars as well, but the file names will be wrong; so repacking a GZ .mtar will break it. I tried to make it work similarly to GzsTool. It exports an XML file that can be dragged onto the tool and it will repack the file.

I'm still working on the Mtar Type 2 format. I'll update it to support that when it's ready.

Unfortunately, all of the .gani file names are hashed. The names need to be found and added to a dictionary for it to produce the real file names.
That's what I'm talking about!  
I'm eagerly awaiting the Type 2 update, awesome work. Do you have any desire to also look into the .mog/FOXMOTIONGRAPH format?
## Post #1436
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-11-18T19:35:15+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> Took me a little bit, but I present:
MtarTool v0.1

Nice work dude.

I've added a few more links to [http://wiki.tesnexus.com/index.php/MGSV ... references](http://wiki.tesnexus.com/index.php/MGSV_-_External_references), let me know/or add yourself anything I've missed.

On my end I've successfully added some new sideops:
[https://www.youtube.com/watch?v=Xe5VjKC2f9w](https://www.youtube.com/watch?v=Xe5VjKC2f9w)
Focusing on stuff that doesn't require AI routes.

You can puzzle your way through my InfQuest . RegisterQuests if you want to figure out the various data required (like most of my over engineering, I'm built a function to patch the various scattered tables the game uses to define quests).
## Post #1437
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-11-18T20:39:09+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> That's what I'm talking about!  
I'm eagerly awaiting the Type 2 update, awesome work. Do you have any desire to also look into the .mog/FOXMOTIONGRAPH format?
Thanks!

I might take a look into .mog format after I finish researching the Type 2 format. Is there any information on what it's used for? I'm assuming it's used for switching between animations.

> Reply from Tex
>
> Nice work dude.

I've added a few more links to http://wiki.tesnexus.com/index.php/MGSV ... references, let me know/or add yourself anything I've missed.

On my end I've successfully added some new sideops:
https://www.youtube.com/watch?v=Xe5VjKC2f9w
Focusing on stuff that doesn't require AI routes.

You can puzzle your way through my InfQuest . RegisterQuests if you want to figure out the various data required (like most of my over engineering, I'm built a function to patch the various scattered tables the game uses to define quests).
Thanks!

The custom sideops look great! I'm looking forward to seeing what else can be accomplished through those.
## Post #1438
- Username: daemon1
- Rank: MEGAVETERAN
- Number of posts: 2649
- Joined date: Wed Mar 25, 2015 3:12 am
- Post datetime: 2016-11-18T21:32:12+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I hope you all here know that its now possible to convert MGSV animations. Converting it back into game format will also be possible, but it will require some additional work.
## Post #1439
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2016-11-19T02:39:53+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> 
Thanks!

I might take a look into .mog format after I finish researching the Type 2 format. Is there any information on what it's used for? I'm assuming it's used for switching between animations.
I assume MOG to be something similar also. As for [daemon1's animation conversion](http://zenhax.com/viewtopic.php?t=3172), I'm equally still interested in you completing your Mtar Tool with this GzsTool-like organized format. I've more interest in animation swapping and such than trying to meddle with the messy business of custom animation import. In-fact I hope daemon's tool can open individual .gani's so that even if I try animation modding, I can continue to use your Mtar tool for everything MTAR-container related.

> Reply from Tex
>
> On my end I've successfully added some new sideops:
https://www.youtube.com/watch?v=Xe5VjKC2f9w
Focusing on stuff that doesn't require AI routes.

You can puzzle your way through my InfQuest . RegisterQuests if you want to figure out the various data required (like most of my over engineering, I'm built a function to patch the various scattered tables the game uses to define quests).
That's amazing. Do you possibly plan on making mods like this not attached to IH, to go for a more external officially-integrated-kinda-feeling mod outside of IH's increasingly expanding trainer-like layout?
## Post #1440
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-11-19T04:27:18+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> 
On my end I've successfully added some new sideops:
https://www.youtube.com/watch?v=Xe5VjKC2f9w
Focusing on stuff that doesn't require AI routes.

You can puzzle your way through my InfQuest . RegisterQuests if you want to figure out the various data required (like most of my over engineering, I'm built a function to patch the various scattered tables the game uses to define quests).

Awesome Tex! I had thought about adding animals to MB but didn't go down that road yet. Seems you used the dynamic loading of Side Ops to accomplish this instead of the type of loading the Zoo uses.

I'll try the Zoo route instead and see how that goes

Also, since your building custom fpkds now - how likely do you think it is that custom fpkds for armored vehicles can be successfully created now allowing for their usage in free roam? Again something I'm gonna take up but would like your inputs before I hit a brick wall. M3 and M35 seem like enough to get all the parts because of the vehicle reinforcements in these missions.

The only exception would be the missile launcher which can be got through M8



----------------- OPEN QUESTION -------------------

MGO uses a lot of different skins for suits - are they simple pftxs files or is more complicated than that? Anybody have any idea??
## Post #1441
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-11-19T06:49:43+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> ----------------- OPEN QUESTION -------------------

MGO uses a lot of different skins for suits - are they simple pftxs files or is more complicated than that? Anybody have any idea??
The MGO outfits use a diffuse texture for the outfit and skin where the outfit is white. To apply camos, they use a separate .ftex which is either just a flat colour or a pattern that can be repeated. They then take this colour or pattern and apply it over the white part of the outfit. This way they didn't need to create a separate diffuse texture for every camo the outfit uses.
## Post #1442
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-11-19T08:18:05+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> nasanhak wrote:----------------- OPEN QUESTION -------------------

MGO uses a lot of different skins for suits - are they simple pftxs files or is more complicated than that? Anybody have any idea??
The MGO outfits use a diffuse texture for the outfit and skin where the outfit is white. To apply camos, they use a separate .ftex which is either just a flat colour or a pattern that can be repeated. They then take this colour or pattern and apply it over the white part of the outfit. This way they didn't need to create a separate diffuse texture for every camo the outfit uses.
Yeah figured it would be something automatic like that. Thanks!
## Post #1443
- Username: daemon1
- Rank: MEGAVETERAN
- Number of posts: 2649
- Joined date: Wed Mar 25, 2015 3:12 am
- Post datetime: 2016-11-19T11:02:52+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> Took me a little bit, but I present:
MtarTool v0.1

Currently supports unpacking and repacking Mtar Type 1 files.

I see you're the same person who tried contacting me on youtube. I'm not visiting it lately and I'm not currently working on MGS. But I'll be back here soon.

Do you have all your questions solved?
## Post #1444
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-11-19T18:09:56+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from daemon1
>
> I see you're the same person who tried contacting me on youtube. I'm not visiting it lately and I'm not currently working on MGS. But I'll be back here soon.

Do you have all your questions solved?
I'm still working on the second Mtar format. I have a few questions about it that you might be able to help me with.

So, from what I've figured out, the structure seems to follow this:

```
0x4 - 0x7 (32): Number of files. Each 2 lines starting at 0x20 to indicates a file
0x8 - 0xB (32): Unknown. TppGzPlayerLayers and player2_resident share bytes 12 00 38 00. TppGzPlayerFacial (26 00 44 00) and TppPlayer2Facial (23 00 44 00) slightly differ.
0xC - 0xF (32): Unknown. TppGzPlayerLayers and player2_resident share bytes 00 00 00 00. TppGzPlayerFacial and TppPlayer2Facial share bytes 06 00 01 00.
0x10 - 0x13: Unknown.
0x14 - 0x17 (32): Offset for some kind of signature (EF AA BD 4F).
0x18 - 0x1F (80): Padding.

EF AA BD 4F seems to be a file header of some sort. On the line that contains this header, 0x8 - 0xB declares file length. Another file header appears after this file. The
following header can either be 4B 53 E4 91 or 84 77 9A 3B. More possibilities for this header may exist.

File declaring/listing begins at 0x20. All files in the list follow this format:
0x20 - 0x27 (64): Hashed name of file. I.e. 63 0C 20 DA FA AF 53 FC = 3affada200c63.gani
0x28 - 0x2B (32): File location offset.
0x2C - 0x2F (32): File length. A repeated pattern in this area seems to mean multiply by 0x10 to get the length. It also indicates that the file is extended(?).
0x30 - 0x31 (16): If the previous file was extended, there will be a value here. Multiply the value by 0x10 to get the extension length. The extension immediately follows the
		  end of the extended file.
0x32 - 0x37 (48): Padding.
0x38 - 0x3B (32): Offset for some kind of signature (F6 2C FE 0B).
0x3C - 0x3F (32): Padding.
```


The parts I'm still trying to figure out are: the file marked by the offset at 0x14, the file that follows the file at that offset (signature: 4B 53 E4 91 or 84 77 9A 3B), and the file marked by the offset 0x38 (for each file, 0x58, 0x78, etc...). Also, the .gani files in this format don't seem to have a header. Do they share one listed earlier in the file?

Thanks in advance!
## Post #1445
- Username: daemon1
- Rank: MEGAVETERAN
- Number of posts: 2649
- Joined date: Wed Mar 25, 2015 3:12 am
- Post datetime: 2016-11-19T18:56:51+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

0x8 - bone groups and bones. you dont need them

0x14 - this is not a header. Animation files here dont have headers, like .gani files did in GZ, because they are not actually needed. I don't see any useful info in them.

This data segment at 0x14 is actually a description of main animation tracks. They animate models' bones. Since all animations in MTAR file are sharing the same skeleton, this description is common for all animations in MTAR.

0x30 - what you call an extension, is a chunk with some additional animation tracks, usually 4 or 5. I didn't yet check what they animate. 

0x38 - offset to a chunk of animation, which were also present in GZ MTARs, but there it was after each animation, and here they are all gathered in the end of MTAR, and their offsets are given in this table. I think this may be notifications of some kind.
## Post #1446
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-11-19T20:51:11+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> Do you possibly plan on making mods like this not attached to IH, to go for a more external officially-integrated-kinda-feeling mod outside of IH's increasingly expanding trainer-like layout?
I want to add some kind of external "sub mod" like support for sideops (there's too much stuff involved in adding them to have anything completely separate from IH that wont conflict), but there's a couple of challenges.

IH system being able to figure out what sub mods are 'installed', I can either: 
Handle it the way I've been handling the other stuff, have the user manually edit a list of them, but that can be a hassle.
Use os.execute to use dir to get a file list, but that pops up a command prompt for a second which can be annoying.

I kinda want to be able to include my defaults stuff without the user having to get/install it separately, but that kinda goes against my default-by-default policy.

It's the same issues that some of my other features (that I have no idea if anyone is using) fova for model swaps, new head mods, and profiles has, ideally I should come up with a pattern that handles them all.

Sideops have a couple of further restrictions that make things tricky:
Their open/active/cleared states are saved to an integer indexed array, while the game doesn't seem to care what goes in/out, so stuff could be added in any order, or removed, it does mean I'll have to figure out a way to handle that. Actually, head mods have a similar issue, which I haven't done anything about, but currently the user can just manually change the head setting and it will fix. 

There's also possibly some kinks in the completion system, or something else, that I haven't discovered.

Another issue is the quest system uses a specific format for its questName - <something_>q<quest id number>
ie cliffTown_q11040 or quest_q52080
I see a couple of functions where it parses the questName by grabbing the last 6 characters (ex q20103) or 5 (ex 20103)
I don't think the <something_> has to be anything specific, the game does have them either named after their quest area, or just as "quest_". Again, it's possible that I've missed something though.

This means sideops mods would have to choose an id number that doesn't conflict with any existing ids (easy enough), or any other sideops mods.
Though for just testing/unreleased sidops you can use whatever you want and handle any collisions yourself.

Ultimately it could possibly be worked around, but would require an outside install step writing a given id to lng.xml files, running lang tool on those, packing it and who knows what else.

The simplest solution is 'hey tex, I want to release a sideops mod, what id should i use?', even though in general I don't like the 'relying on a guy' method, more so when I'm the guy lol.

> Reply from nasanhak
>
> 
Also, since your building custom fpkds now - how likely do you think it is that custom fpkds for armored vehicles can be successfully created now allowing for their usage in free roam?

Do you mean allowing the player to use them, or the reinforcement system to, or just in general?

At the moment the patched player/relief vehicle packs veh_rl achieves the the last two.

For the player being able to use vehicles, I'm not sure what actually flags them as usable, I had a brief look (a million years ago) at M30 since it has empty usable tanks, but didn't find anything noticeable back then.

For the reinforcement system in free is already complete as far as I can tell and it's something in the engine that's stopping the reinforcement vehicle call.

I think reinforcement vehicle should be able to be extended to other missions if the reinforcement block is included, was actually looking into that before I got side tracked by sideops.

Should also probably shift the patched player/relief vehicle packs to their own, but that would essentially be recreating them. I'm also still not sure what take priority in terms of data definitions of the same gameobject.
## Post #1447
- Username: ibrakul
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Fri Nov 27, 2015 5:15 am
- Post datetime: 2016-11-19T22:22:22+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Guys I need help to find the hospital prosthetic arm and the silver arm. I made new version of proper Venom inspired by the new images from the upcoming official artbook [http://i.imgur.com/96bRRO3.jpg](http://i.imgur.com/96bRRO3.jpg) .
Now I want retexture the silver arm in medical arm and the hospital prosthetic arm more like the concept art in grey/blueish. 
Back in september Shigu on this forum has written that Snake's prosthetic arm - currently unnamed "3b872a19bdc48.fpk" is in chunk0, I can't find'em but in texture0 I found 19cc4a9ce16dc, so I start retexturing and now I need to test and see how the game read the color.
The silver arm I don't know where is it, can someone help me?
## Post #1448
- Username: caplagrobin
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Fri Oct 07, 2016 2:17 am
- Post datetime: 2016-11-19T22:43:22+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from ibrakul
>
> Guys I need help to find the hospital prosthetic arm and the silver arm. I made new version of proper Venom inspired by the new images from the upcoming official artbook http://i.imgur.com/96bRRO3.jpg .
Now I want retexture the silver arm in medical arm and the hospital prosthetic arm more like the concept art in grey/blueish. 
Back in september Shigu on this forum has written that Snake's prosthetic arm - currently unnamed "3b872a19bdc48.fpk" is in chunk0, I can't find'em but in texture0 I found 19cc4a9ce16dc, so I start retexturing and now I need to test and see how the game read the color.
The silver arm I don't know where is it, can someone help me?

By "prosthetic arm" you mean the hook hand from the hospital level, right? Because you can use this for your mod
[https://drive.google.com/file/d/0BwBNFl ... sp=sharing](https://drive.google.com/file/d/0BwBNFl6FGvu5dDVabzVmcUJwSlU/view?usp=sharing)
## Post #1449
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-11-20T00:16:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from ibrakul
>
> Back in september Shigu on this forum has written that Snake's prosthetic arm - currently unnamed "3b872a19bdc48.fpk" is in chunk0, I can't find'em 
The silver arm I don't know where is it, can someone help me?
chunk0\Assets\tpp\pack\player\fova\plfova_sna0_arm0_v00.fpk(d) - 3b872a19bdc48.fpk
Silver arm should be there as well, but I believe it is just a fv2 file that changes textures on the model.
## Post #1450
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-11-20T04:53:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from daemon1
>
> 0x8 - bone groups and bones. you dont need them

0x14 - this is not a header. Animation files here dont have headers, like .gani files did in GZ, because they are not actually needed. I don't see any useful info in them.

This data segment at 0x14 is actually a description of main animation tracks. They animate models' bones. Since all animations in MTAR file are sharing the same skeleton, this description is common for all animations in MTAR.

0x30 - what you call an extension, is a chunk with some additional animation tracks, usually 4 or 5. I didn't yet check what they animate. 

0x38 - offset to a chunk of animation, which were also present in GZ MTARs, but there it was after each animation, and here they are all gathered in the end of MTAR, and their offsets are given in this table. I think this may be notifications of some kind.
Thanks! This information will save me a lot of time.
## Post #1451
- Username: iamuser12
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Tue Nov 22, 2016 10:32 am
- Post datetime: 2016-11-22T02:42:14+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Does anyone know the location of the tux texture is?  I cannot for the love of god find it.  I looked in sna folder in texture0.dat and cannot find it.  Please if anyone.

Thanks!
## Post #1452
- Username: caplagrobin
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Fri Oct 07, 2016 2:17 am
- Post datetime: 2016-11-22T04:03:40+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from iamuser12
>
> Does anyone know the location of the tux texture is?  I cannot for the love of god find it.  I looked in sna folder in texture0.dat and cannot find it.  Please if anyone.

Thanks!

Try master\0\00 or 01. The tuxedo ftex and 1.ftexs textures are in a391321f9b70.pftxs and 14c0b6baf6f7b.pftxs
## Post #1453
- Username: iamuser12
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Tue Nov 22, 2016 10:32 am
- Post datetime: 2016-11-22T04:34:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from caplagrobin
>
> iamuser12 wrote:Does anyone know the location of the tux texture is?  I cannot for the love of god find it.  I looked in sna folder in texture0.dat and cannot find it.  Please if anyone.

Thanks!

Try master\0\00 or 01. The tuxedo ftex and 1.ftexs textures are in a391321f9b70.pftxs and 14c0b6baf6f7b.pftxs

It doesn't exist in my master\0\00 or 01.  I searched for both of those files.  I do have the legit copy too and have DLC for it.
## Post #1454
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-11-22T06:12:53+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from iamuser12
>
> caplagrobin wrote:iamuser12 wrote:Does anyone know the location of the tux texture is?  I cannot for the love of god find it.  I looked in sna folder in texture0.dat and cannot find it.  Please if anyone.

Thanks!

Try master\0\00 or 01. The tuxedo ftex and 1.ftexs textures are in a391321f9b70.pftxs and 14c0b6baf6f7b.pftxs

It doesn't exist in my master\0\00 or 01.  I searched for both of those files.  I do have the legit copy too and have DLC for it.

If you are using this dictionary
[https://github.com/emoose/MGSV-QAR-Dictionary-Project](https://github.com/emoose/MGSV-QAR-Dictionary-Project)

it may have been updated with the correct name for the file and hence you can't find it by the hashed name.

Use this older dictionary:
[https://mega.nz/#!Sw4BSRAJ!KFe43fTayNH7 ... V2tmJuIJnk](https://mega.nz/#!Sw4BSRAJ!KFe43fTayNH7-6Fo1mnsIDHekSxlMWB1qV2tmJuIJnk)

Unpack both 00.dat and 01.dat as you'd need the 2,3 ftxes from 01.dat as well to form the DDS



> Reply from Tex
>
> 
Do you mean allowing the player to use them, or the reinforcement system to, or just in general?

At the moment the patched player/relief vehicle packs veh_rl achieves the the last two.
I meant allowing players to use them.

> Reply from Tex
>
> 
For the player being able to use vehicles, I'm not sure what actually flags them as usable, I had a brief look (a million years ago) at M30 since it has empty usable tanks, but didn't find anything noticeable back then.
No specific flags in M30. I had already mentioned this on nexus but from my testing which involved stunning all soldiers via Cheat Engine, armored reinforcement vehicles as well as any armored vehicles in missions can be used by the player. Only relief vehicles cannot be used by the player. Relief vehicles are also used for side ops and thus cannot be used by the player after stunning the driver.

This lead me to believe that relief vehicle fpkds are missing some kind of data to make them usable.

Missions with vehicles in them ALL use the reinforcement vehicle fpk/fpkds as a base and then go on to add additional parts for the vehicles through the mission fpk/fpkd. Evident form the packaging for M3, M8, M9, M10, M16, M30, M31, M41 and M45 (don't know if I missed any missions with armored vehicles in them). Didn't include hard ones cause they use the base mission fpk/fpkds.

I tried creating custom fpk/fpkds a while back using the reinforce ones and then adding parts from the mission packages but since had no idea on the custom fpkd ordering, it did not work.

Will look at this again.

> Reply from Tex
>
> 
Should also probably shift the patched player/relief vehicle packs to their own, but that would essentially be recreating them. I'm also still not sure what take priority in terms of data definitions of the same gameobject.
No need to do this really unless you want to figure out the priority thing. Not sure how side ops would be affected with a custom fpk/fpkd with the same contents.


---------- OPEN QUESTION ---------- 
Does anyone who how to manipulate the call menu - soldier instructions like "Get Down" and buddy commands when in-game like DD's bark, Get Him, etc etc?

I tried TppBuddyService.SetDisableCallBuddyType(BuddyCommand.DOG_BARK) but no idea what it does or even if am calling it right.
## Post #1455
- Username: Sergeanur
- Rank: advanced
- Number of posts: 53
- Joined date: Fri Dec 30, 2011 7:26 pm
- Post datetime: 2016-11-22T12:16:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

'kay folks, I was notified that QAR Tool doesn't work with MGO files and fixed that. Here's an update 
MGSV QAR Tool v1.3.3
## Post #1456
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-11-22T12:22:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Sergeanur
>
> 'kay folks, I was notified that QAR Tool doesn't work with MGO files and fixed that. Here's an update 
Download
Very nice, thanks. Can you add -r flag as a default? Having to add it every time is annoying.
Also do you mind sharing source code on github?
## Post #1457
- Username: Paul44
- Rank: advanced
- Number of posts: 47
- Joined date: Thu Sep 18, 2014 1:06 am
- Post datetime: 2016-11-22T15:26:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

@Sergeanur: testing & working on ALL dat-files (did them again, just to be sure). thx a mil.

btw: I've attached a little batchfile I use, to ease ex/importing of dat_files. Just put in same folder as Qar_tool. And edit batchfile to refer to "base' dat-file location.
(I extract the qar_Tool always in a subfolder, within the main game folder.  Hence: [set sInpVal=..\master\]
p

ps: feel free to edit/change/distribute/whatever (no need to request my permission)
ps2: I have updated this batchfile for console as well (just edit if needed)
ps3: this is just an 'elevated' DOS prompt; iow you can use arrow keys to "recall" previous entries...
[None](https://xentaxbackup.github.io/file/11942_None)
## Post #1458
- Username: iamuser12
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Tue Nov 22, 2016 10:32 am
- Post datetime: 2016-11-23T01:20:33+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

If you are using this dictionary
[https://github.com/emoose/MGSV-QAR-Dictionary-Project](https://github.com/emoose/MGSV-QAR-Dictionary-Project)

it may have been updated with the correct name for the file and hence you can't find it by the hashed name.

Use this older dictionary:
[https://mega.nz/#!Sw4BSRAJ!KFe43fTayNH7 ... V2tmJuIJnk](https://mega.nz/#!Sw4BSRAJ!KFe43fTayNH7-6Fo1mnsIDHekSxlMWB1qV2tmJuIJnk)

Unpack both 00.dat and 01.dat as you'd need the 2,3 ftxes from 01.dat as well to form the DDS

That was it!  Dictionary list was using was the issue when I was unpacking.  Thank you so much!  Now I'm able to give my ava snake a nice pink tux
## Post #1459
- Username: iamuser12
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Tue Nov 22, 2016 10:32 am
- Post datetime: 2016-11-23T02:18:02+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

++
Do you guys also know the location of the tux shoes texture too?  I was only able to find the bump and norms of tux shoes.  The .3 and .2 were not found in 01.

Thanks
## Post #1460
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-11-23T15:29:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from iamuser12
>
> ++
Do you guys also know the location of the tux shoes texture too?  I was only able to find the bump and norms of tux shoes.  The .3 and .2 were not found in 01.

Thanks
Haven't looked, just guessing here but they maybe in one of the sub folders when you unpack the pftxs. You'll have to get the corresponding 2,3 ftexs again from 01.dat

Guessing so because textures for the SneakingSuit/BattleDress water canister on the player's back are also under a sub folder.
## Post #1461
- Username: iamuser12
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Tue Nov 22, 2016 10:32 am
- Post datetime: 2016-11-23T17:32:59+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> iamuser12 wrote:++
Do you guys also know the location of the tux shoes texture too?  I was only able to find the bump and norms of tux shoes.  The .3 and .2 were not found in 01.

Thanks
Haven't looked, just guessing here but they maybe in one of the sub folders when you unpack the pftxs. You'll have to get the corresponding 2,3 ftexs again from 01.dat

Guessing so because textures for the SneakingSuit/BattleDress water canister on the player's back are also under a sub folder.

Nope I checked the sub folders already under a391321f9b70_pftxs and 14c0b6baf6f7b_pftxs and the files aren't there.  Under a391321f9b70_pftxs, the file fc14bde510d6.ftex is the bump map for the tux shoes.  fc14bde510d6 files 2,3 can be found under 01, but there are some ftex that cannot be found in 01.  One of them being 3408814b65c04.ftex (possibly the tux shoes diffuse, not sure).  I search in 01 for 3408814b65c04 but it doesn't exists.  I'm guessing 01 holds all of the 2,3 texture files, but I'm wondering if it is the directory list again that may not have unpacked it. 

Thanks
## Post #1462
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-11-23T17:41:13+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I've almost finished my article about fv2 when a weird issue popped up. 
I am using plfova_sna0_msk0_v00.fpk to change the appearance of all DD male soldiers and snake using only one fv2 file. This is the fova for chicken head that works without being in chicken mode.
It works for ocelot's glasses, hideo's glasses, but it doesn't work for glasses of spying harrier, bioengineer from "Over the fence" episode. However glasses appear when I turn chicken mode on.
Replacing ocelot's glasses with engineers doesn't work, so it means there is a problem in fmdl. Is there a fmdl guru that can take a look at included fmdls and tell the difference? Or is there some kind of fmdl description, I have seen only 'I'll post specs later' posts.
FPKs, put them into \00\Assets\tpp\pack\player\fova\ - [https://mega.nz/#!Nww2TK6I!OqIQSFMCGr_5 ... SIyeC5QIZ8](https://mega.nz/#!Nww2TK6I!OqIQSFMCGr_5fTA3QQpi8F75P-3bM92ncSIyeC5QIZ8)



Edit: these are TPP models, not MGO.
## Post #1463
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-11-26T20:58:41+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

@unknown123 - this is awesome!

I have been looking into the Snake's head replacing DD/Avatar heads during the funeral demo issue and maybe with your fv2 insight I may be able to figure out how to stop the head replacement. I did manage to figure out what the exact load line in a fox2 file was and removing that removed the head but that isn't what I want. I'll have to figure it out again anyways since it was a long time ago, I have the conversation with Tex over on nexus for help though.
WARNING: Graphic Images (headless Snake) - [http://imgur.com/a/CT85j](http://imgur.com/a/CT85j)

OPEN QUESTION ----------------------
Does anybody know whether the dirt textures on guns is per weapon or is it a single dirt texture applied to all weapons? I want to use a completely black gun texture but it has to be a pattern camo and not the solid colors as only the patterns cover the whole gun. But the dirt textures don't make the black/white look clean and are well... ugly.
## Post #1464
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-11-27T02:47:49+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> I have been looking into the Snake's head replacing DD/Avatar heads during the funeral demo issue and maybe with your fv2 insight I may be able to figure out how to stop the head replacement.
Wasn't there a mod that allowed you to keep DD soldiers in cutscenes?
As far as I remember, there is a separate fv2 (5 of them I think) for funeral scene, and I think that they require snake's model. Of course you can edit them, but I have a strong feeling that there will be issues.

Also what do you mean by "dirt" textures? Scratches on the weapons or dirt from the ground that sticks to the gun if you roll on the ground?
## Post #1465
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-11-27T06:23:17+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> 
Wasn't there a mod that allowed you to keep DD soldiers in cutscenes?
As far as I remember, there is a separate fv2 (5 of them I think) for funeral scene, and I think that they require snake's model. Of course you can edit them, but I have a strong feeling that there will be issues.
Yes, but the original DD soldiers in demos mod was not perfect. M2 and M43 demos would always use Snake - some demos super force Snake to be used. I found a way around this so DD/Avatar and any outfit can be used in M2/M43 now.

BUT for M43's funeral demo, Snake's head always replaces DD/Avatar head. I went back and replayed it with the female bikini just now. The bikini neck becomes invisible when Snake's head is swapped. For other outfits, this is less noticeable. The corridor demo is different than the funeral demo also.
WARNING: You will not be able to un-see this:
Sexy Snake: [http://imgur.com/a/K5RKp](http://imgur.com/a/K5RKp)

As you can see, the bones fuse with the the female head.

I found the info I had shared with Tex a while back:

> For head replacement, I found the fox2 file where the head information is stored. p51_070500_demo.fox2.xml under the folder:
>
> MGS_TPP\master\QAR\chunk3\Assets\tpp\pack\mission2\story\s10240\s10240_d03_fpkd\Assets\tpp\demo\fox_project\p51_070500\fox\
>
> I abhor the file packing in this game.
>
> 
>
> Anyway, the file has an entry called HM_sna0_face0_cov which is loaded into an array called highestTextureStreamModel.
>
> HM_sna0_face0_cov has two entries associated with it, one for the face model and the other for the bones.
>
> 
>
> Commenting out the reference in helpBoneFiles or changing the bone file name crashed the OS sadly(yes Windows). But changing only the fmdl file name under coverModelFiles results in the head model not being loaded. The head is still replaced. Get ready for a laugh.
>
> 
>
> http://imgur.com/a/CT85j
>
> 
>
> Don't know if this is progress.
>
> 
>
> So we only need to find out where HM_sna0_face0_cov is used under StringMap coverModelFiles and stop this from happening.
This info is obviously inaccurate with the the terminology you'd use but I ain't no model/texture swapping wizard.

> Reply from unknown123
>
> 
Also what do you mean by "dirt" textures? Scratches on the weapons or dirt from the ground that sticks to the gun if you roll on the ground?
[http://imgur.com/a/eBuWT](http://imgur.com/a/eBuWT)
I tried to use completely black and white for these particular camos but as you can see the guns do have a grain applied to them. These grains are applied to ALL type 1 camos. For type 2 camos (that cover only the gun's butt and grip), there is clearly no grain. Looks like it is weapon specific and so impossible to remove unless changing every weapon's textures. Just want to be sure about this though.

Having completely single color weapon camos would have been soo cool.
## Post #1466
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-11-27T06:49:43+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> 
http://imgur.com/a/eBuWT
Aha, scratches. As far as I remember, there are a lot of fv2 files related to specific parts of weapons, bet they apply textures to the guns.
[http://pastebin.com/R0ZrGDnp](http://pastebin.com/R0ZrGDnp) - here is a list of textures from weapon-related fv2s sorted by frequency. If there is a separate 'scratch' texture, I bet it will be in first 10-20 entries. Cannot look for them myself because only .2.ftexs and .3.ftexs are available, the rest is hidden somewhere in pxtfs and right now I have some things to do.
## Post #1467
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-11-27T07:26:14+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> 
Aha, scratches. As far as I remember, there are a lot of fv2 files related to specific parts of weapons, bet they apply textures to the guns.
http://pastebin.com/R0ZrGDnp - here is a list of textures from weapon-related fv2s sorted by frequency. If there is a separate 'scratch' texture, I bet it will be in first 10-20 entries. Cannot look for them myself because only .2.ftexs and .3.ftexs are available, the rest is hidden somewhere in pxtfs and right now I have some things to do.
Will look into this but finding the pftxs will be a problem of course. They are likely hash named. Starting with 01.dat and recent weapons might help.

@Tex - do you know if it's possible to load custom lang fpks? Like lang_default_data_eng.fpk. The idea is having a custom fpk with custom lng2 files so that we don't have to mess with the game's existing files. This would allow for better control over custom messages. Not really a top priority or anything, just curious if it can work.

TppUiBootInit has references to the language fpks but I am not seeing those being used anywhere for any type of loading purposes, in the same file at least.
## Post #1468
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-11-28T18:35:34+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Mtar Tool v0.2 is finished!

It now supports unpacking and repacking both Mtar Type 1 and Mtar Type 2 files. It should now be possible to swap animations (I didn't try myself yet though).

A few notes on Type 2 files:
-Unpacking an Mtar Type 2 will produce a .trk file, a .chnk file and .gani files. The .gani files may also come along with a .exchnk and/or a .enchnk file.
-The .trk file is the main animation track that daemon mentioned a few posts ago.
-The .chnk file is a chunk of data with an unknown purpose, but it belongs to the .mtar file itself.
-The .exchnk files are extra chunks of animation tied to the .gani files. If you're swapping an animation, include this file as well if the .gani file has one. The tool will automatically detect if it has one or not.
-The .enchnk files are chunks of animation that appear at the end of the .mtar files, but are also tied to .gani files. Include this file as well if you're swapping an animation and the .gani file has one. Just like .exchnk files, the tool can automatically detect if the .enchnk is there or not.

Have fun messing around with the tool!
## Post #1469
- Username: daemon1
- Rank: MEGAVETERAN
- Number of posts: 2649
- Joined date: Wed Mar 25, 2015 3:12 am
- Post datetime: 2016-11-28T19:43:26+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> -The .trk file is the main animation track that daemon mentioned a few posts ago.

This is the description of all main animation tracks, not the track itself.

Also I just published the new version of animation tool that supports PP MTAR files. Checked with .gani files produced by your tool.
## Post #1470
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-11-29T00:01:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> 
@Tex - do you know if it's possible to load custom lang fpks? Like lang_default_data_eng.fpk.
The game will load all .lngs in the lang fpks, so just create a file with a new name.

> Reply from BobDoleOwndU
>
> Mtar Tool v0.2 is finished!
Nice.

Where did you derive the filenames in your current mtar_dictionary from?
I also noticed nmt_sna_drv_div is the only line with .gani extension, is this a mistake on your part or theirs, ie is the hash name /Assets/tpp/motion/SI_game/fani/props/nmt_/nmt/nmt_sna_drv_div.gani.gani?


Here's a mtar_dictionary with some .gani names scraped from the tpp exe,luas,fox2s:
[https://mega.nz/#!bJV0QAxT!nHZs5lLX7RsY ... B_TX_p14m8](https://mega.nz/#!bJV0QAxT!nHZs5lLX7RsYH-TGWignJtgSrjmwyxifeB_TX_p14m8)
## Post #1471
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2016-11-29T04:03:09+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> Mtar Tool v0.2 is finished!

It now supports unpacking and repacking both Mtar Type 1 and Mtar Type 2 files. It should now be possible to swap animations (I didn't try myself yet though).

> Reply from daemon1
>
> Also I just published the new version of animation tool that supports PP MTAR files. Checked with .gani files produced by your tool.

> Reply from Tex
>
> Here's a mtar_dictionary with some .gani names scraped from the tpp exe,luas,fox2s:
https://mega.nz/#!bJV0QAxT!nHZs5lLX7RsY ... B_TX_p14m8
Now this is Christmas spirit. This is amazing everyone, animation modding is here. 
Bob Dole, can you add perhaps a 3 or 4 digit ID prefix to the gani filenames?

It'd be far more efficient for animation documenting if we had it as such:

```

0000_1c95233f2a25.gani		- CQC Hold Aim Strafe Left
0001_1cf72c3f2a3ae.gani		- CQC Choke Release
0002_1d1dc06c5fd9c.gani		- Knife Interrogation Release
```

or

```

0000		- CQC Hold Aim Strafe Left
0001		- CQC Choke Release
0002		- Knife Interrogation Release
```

as opposed to currently:

```

1c95233f2a25.gani		- CQC Hold Aim Strafe Left
1cf72c3f2a3ae.gani		- CQC Choke Release
1d1dc06c5fd9c.gani		- Knife Interrogation Release
```

It'd also help keep track of documented animations that later have their names found and added to the dictionary.
## Post #1472
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-11-29T06:40:17+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

That is not a good idea, the input/output of the tool should be pure - actual name or hash like all the other tools.
But it does bring up a point:
The tool should output a list of verified name to hash pair (like I was suggesting for the dictionary attack tool) so, like you say, you can figure out what is what when you only have documented to the hash. 
As you can see from iamuser12s posts about textures this has been an issue for all the tools for a while.
## Post #1473
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-11-29T07:03:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from daemon1
>
> This is the description of all main animation tracks, not the track itself.

Also I just published the new version of animation tool that supports PP MTAR files. Checked with .gani files produced by your tool.
Oops, my bad! I'll update the readme on GitHub with the correct description.

Awesome work on the tool!

> Reply from Tex
>
> Nice.

Where did you derive the filenames in your current mtar_dictionary from?
Thanks!

I pulled most of the names from the GZ .exe. For the MGO ones, I got them from Assets\mgo\level_asset\player\ParameterTables\AppealActions.lua.

> Reply from Tex
>
> 
I also noticed nmt_sna_drv_div is the only line with .gani extension, is this a mistake on your part or theirs, ie is the hash name /Assets/tpp/motion/SI_game/fani/props/nmt_/nmt/nmt_sna_drv_div.gani.gani?
Oops, this is a mistake on my part. I was originally going to have the dictionary include the extensions, but then removed them to match the other tools. I must've missed that one when I was removing the extensions. I'll fix that.

> Reply from Tex
>
> Here's a mtar_dictionary with some .gani names scraped from the tpp exe,luas,fox2s:
https://mega.nz/#!bJV0QAxT!nHZs5lLX7RsY ... B_TX_p14m8
Awesome! I'll add this to GitHub repo!

> Reply from Higus
>
> Now this is Christmas spirit. This is amazing everyone, animation modding is here. 
Bob Dole, can you add perhaps a 3 or 4 digit ID prefix to the gani filenames?

> Reply from Tex
>
> The tool should output a list of verified name to hash pair (like I was suggesting for the dictionary attack tool) so, like you say, you can figure out what is what when you only have documented to the hash.
I like Tex's idea here of outputting a list of the unhashed names along with their respective hashed names. It's definitely a good idea to have documentation of what a file's hashed name is in case the name is found later though. It should be easy to implement as well.
## Post #1474
- Username: xtrmntr777
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Tue Nov 29, 2016 6:03 pm
- Post datetime: 2016-11-29T10:09:50+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

[Subject: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archive](http://forum.xentax.com/viewtopic.php?p=110989#p110989)

> Reply from Escapist
>
> Hi
I made 2 playable Quiet mods for the PS3. One for female soldiers and one for Venom Snake.
I would've rather ported the pc mods, but I couldn't figure out how. PS3's fmdl (fox model)  sizes, endianness, and some lines of code are different. So I swapped and hex edited the PS3 files for now.
Thanks to Higus/Shigu, DarknessValtier, Sergeanur, and others for figuring out how to mod the game.

The problems are listed in readme file.
The biggest ones being:
-How to remove the Quiet's bra tassel to improve her breast physics (editing Quiet's fmdl beyond making polygons invisible is a mystery to me)
-Preventing Quiet's textures from disappearing (workaround in the readme file)
-Model swapping Venom Snake without making his face glitched in other costumes
If anyone has information on fixing these, I'll take any info I can get. Otherwise the mod works well I've been playing as Quiet for a while.

Here's a video of the mod in action (I don't own a tv capture device, sorry)
http://www.youtube.com/watch?v=zD3K1GKQ6gA

Files Download Link - https://mega.nz/#!Hho3UIAB!TOVMVEw8JSgt ... vvI6Hm-kMM

Hi I'm trying to use your Playable Queit mod, for which version of PS3 MGS5 was it made?

I've tried 1.00 and replacing 77e6d53969026de.dat with recompiled one prevents from starting game.

Vesrsion 1.04 runs with modified dat. file but seriously a cannot see any effect, I've tried as in video choose no head cloths + Olive Grab for Venom Snake and nothing happens. Does Venom Snake Queit demands loading Quiet as a buddy for textures or smt?
## Post #1475
- Username: luxox18
- Rank: mega-veteran
- Number of posts: 176
- Joined date: Sat Jul 30, 2011 4:18 am
- Post datetime: 2016-11-30T11:15:55+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I'm here just to say: PT was decrypted and the files can be already analyzed.

Torrent was published too

(there is one big file with format DAT but the header is different from MGSV files)
## Post #1476
- Username: Jonathan Ingram
- Rank: n00b
- Number of posts: 11
- Joined date: Mon Jun 22, 2015 6:20 am
- Post datetime: 2016-12-01T03:30:20+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from luxox18
>
> (there is one big file with format DAT but the header is different from MGSV files)
File names in pfs_image.dat are listed beginning at offset 50040. The .psarc file, pathid_list_ps4.bin, and texture.qar files mirror the original console release of Ground Zeroes. Makes sense, since it would have been built from a revision of FOX from around the same time.

```
sce_sys
chunk1.psarc
eboot.bin
pathid_list_ps4.bin
sce_discmap.plt
texture.qar
```

Edit: There's more file names in between a chunks of null data. Seems to be for files in the subdirectories like the Sony libs.
## Post #1477
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-12-01T03:36:47+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Jonathan Ingram
>
> *PT stuff*
I think you should make another thread for pt only, even though games are built on same engine.
## Post #1478
- Username: luxox18
- Rank: mega-veteran
- Number of posts: 176
- Joined date: Sat Jul 30, 2011 4:18 am
- Post datetime: 2016-12-01T05:26:48+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Jonathan Ingram
>
> luxox18 wrote:(there is one big file with format DAT but the header is different from MGSV files)
File names in psf_image.dat are listed beginning at offset 50040. The .psarc file, pathid_list_ps4.bin, and texture.qar files mirror the original console release of Ground Zeroes. Makes sense, since it would have been built from a revision of FOX from around the same time.
Code: Select allsce_module
sce_sys
chunk1.psarc
eboot.bin
pathid_list_ps4.bin
sce_discmap.plt
texture.qar
Edit: There's more file names in between a chunks of null data. Seems to be fore files in the subdirectories like the Sony libs.

the PSARC file is fully extractable and readable but the fpk files are not possible to extract. About the textures.qar, I can't locate the begins of the data 

I think I will make a thread
## Post #1479
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-12-02T02:23:56+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

MtarTool v0.2.1 is up.

Taking Tex's idea, the tool now outputs a hashed_names.txt file which contains any unhashed names and their hashed equivalents. It also now repacks files in the order of their hash which solves a few bugs. Doing a quick test, I was able to add additional animations to player2_resident.mtar and play them back without issue, so it seems to be working as intended now.
## Post #1480
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2016-12-03T00:25:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> MtarTool v0.2.1 is up.

Taking Tex's idea, the tool now outputs a hashed_names.txt file which contains any unhashed names and their hashed equivalents. It also now repacks files in the order of their hash which solves a few bugs. Doing a quick test, I was able to add additional animations to player2_resident.mtar and play them back without issue, so it seems to be working as intended now.
I feel my request's been brushed off too quickly. To me that still doesn't really 'solve' the issue of animation lists being based off of unhashed names, as the alphabetically ordered list will just get shuffled and fucked about and it'll still be a bother to have to check the txt to identify every single animation you want to check from your now out-dated, wrongly ordered animation list using unhashed names. 

Adding ID prefixes to the animation filenames based on the order they're found in the archive will also (i imagine) give you a comprehensible order of files to check of the sometimes thousands of animations, as opposed to alphabetical order, where with unhashed names (which likely many of them will stay) you find the start of one animation at the top of the bunch, and the second part of the animation god-knows-where in the middle of the alphabetical shuffle of thousands of motions.

The extract order may be even easier to identify than a plethora of unsorted hashed motions with ambiguous, abbreviated names.
i.e;
0000_*hash/name* - Stand Loop
0001_*hash/name* - Stand to Walk
0002_*hash/name* - Walk Loop
0003_*hash/name* - Walk to Run

Yes it is technologically unwise to mess with the filename, but it doesn't even take half-decent programming to have the tool disregard the first five characters of the gani filenames as it reads them in to repack them. This isn't about making the perfect container tool, that's what FPKs are for. This is meant to be ONLY for animation modding. I dare say that without complete filename hashing, this kind of organisation is the only reason this tool would even be useful, as the player's main animation base has 1,253 motions, and nobody is going to do the monkey work of modding that without any form of decent organization or practicality.

So please, just indulge the idea and try at least add some optional feature for this.
## Post #1481
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-12-03T02:18:20+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> So please, just indulge the idea and try at least add some optional feature for this.
I misunderstood the context of your request last time. I see what you mean now.

Currently, packed files are unpacked by the tool in the order of their hash, as that is how they are listed in the beginning. If I added an id to the extracted files as the tool pulls the files right now, you'd run into the same organizational issue you're having currently. However, the actual data is stored alphabetically based on the file's real name (as far as I can tell anyway, based on the few known .gani names), which gives the organization you're looking for.

Unfortunately, this kind of organization will only be useful on an archive that's never been repacked, since there's no way to repack the archive in the same manner without knowing every file's real name. I'll see if I can add in a parameter that allows for this.

Edit: [v0.2.2](https://github.com/BobDoleOwndU/MtarTool/releases) now supports the -n command which adds a four digit id to the front of all of the extracted files. The id tracks the order the file was stored in the .mtar.

Usage: 

```
MtarTool.exe Example.mtar -n
```
## Post #1482
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-12-03T03:43:11+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

@higgus:
You can file compare the .mtar.xml (or equivalent for the rest of the atvaark tools) between the previous time you extracted an archive and the next (after a dictionary update, assumingly) to get exactly what files changed to which.

[http://imgur.com/a/5ZOtE](http://imgur.com/a/5ZOtE)

You could also start your notes by processing the xml file, simplest would be to just by cutting down the xml by hand, maybe just replace-all/convert the file paths to your actual systems paths so you can just copy the full path to explorer when you want to open the file.

@BobDoleOwndU: What order were you repacking them prior to hash order? And what issues did you actually have with that?
## Post #1483
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-12-03T13:51:45+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> @BobDoleOwndU: What order were you repacking them prior to hash order? And what issues did you actually have with that?
Originally, they were repacked based on the order they were listed in the .xml. When I tried adding the appeal action animations to player2_resident.mtar I wasn't able to play them back repacking this (unorganized) way. Repacking them based on hash doesn't have this issue though. I also noticed that certain animations would "stick" when I repacked with no organization. I would have to crouch to break out of the stuck animation.

The game doesn't seem to like it when the file list at the beginning of the .mtar isn't ordered correctly. It doesn't seem to care what order the actual data from the files is listed in though.
## Post #1484
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2016-12-03T13:58:57+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Thank you dearly.

documented player2_resident motion ranges:

```

0000-0017 D-Walker/D-Horse poses
0018 - unused Idle?
0019-0115 - Weapon aiming poses and transitions (mostly to locomotion entries)
0116-0131 - Wall hugging
0132 - Prone Empty hand aiming poses
0133-0134 - Int-Scope aiming poses
0135-0140 - Staircase motions
0141-0142 - Cardboard Box motions
0142-0165 - C4 motions
0166-0167 - Phantom Cigar motions
0168-0170 - Climbing motions
0171-0178 - (Slipping?)
0179-0182 - (Kinda looks like swimming...? Maybe somebody else should look at this one?)
*0182-0197 - CQC
	0192 - Bionic Arm Punch
0197-0213 - Carrying bodies
0214 - Sprint Loop
0215-0218 - unused environment-interactive animations?
0219-0224 - Carrying bodies
0225-0231 - Injured motions
0232-0261 - Attack reactions/deaths (Prone)
0262-0285 - Attack reactions/deaths (Squat)
0286-0324 - Attack reactions/deaths
*0325-0327 - Diving motions
0328-0332 - Door opening motions
0333-0347 - Ledge/Rail motions
0348-0359 - Fulton motions
0360 - Int-scope removal
0361-0368 - Pistol aim poses
0369-0374 - Human "Knock" motions
0375 - bionic arm knock motions
0376-0392 - Idroid motions/poses
0393 - Random ladder motions
0394-0399 - Vehicle motions
0400-0477 - Prone motions
0478-0479 - Hard landing motions
0480-0481 - Running staircase motions
0482-0664 - Squat locomotion
0665-0701 - Sprint locomotion
0702-0826 - Stand locomotion/motions
0827 - D-Dog petting motions
0828-0840 - Vehicle motions
0841-0872 - Support weapon motions (c4 and throwing decoys and stuff)
0873-0878 - Prone Rolling motions
0879-1152 - Strafe motions, Empty hand motions and poses
1153-1154 - some 2h weapon aim poses
1155 - Rocket arm aim entry
1156 - unidentifiable ledge drop/vehicle exit?
1157-1159 - Aiming whilst holding body motions/poses
1160-1164 - ? (Nothing important looking)
1165-1172 - Staircase motions
1173 - ? (Export failure)
1174-1175 - Weapon pulling out/putting back
1176-1195 - Staircase motions
1196 - Pressing button to open motherbase door
1197 - Entering shower
1198-1204 - Prone throwing weapon
1205-1212 - Throwing weapon
1213-1216 - Locker/Shower motions
1217-1219 - Throwing weapon
1220-1228 - Bin motions
1229-1237 - Wild wolf attack reaction motions + unused prone motions
1238-1244 - Skulls machete counterattack motions
1245-1252 - Puppet soldier attack reaction motions
```

(if you've an old dictionary, some motion listings may be off by 1-3 motions)

> Reply from BobDoleOwndU
>
> v0.2.2 now supports the -n command which adds a four digit id to the front of all of the extracted files. The id tracks the order the file was stored in the .mtar. 
I'd appreciate it if you added named files to be affected by the ID prefix too. As it is, when more filenames get hashed, I think this list will get unpleasant offsets. Also I can't yet seem to repack mtars extracted with -n?
## Post #1485
- Username: AnonBaiter
- Rank: veteran
- Number of posts: 82
- Joined date: Fri Oct 16, 2015 3:15 am
- Post datetime: 2016-12-03T14:05:33+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Look, I know this is a little off-topic for such an research thread dedicated for MGSV but I'll have to ask this question:
Does anyone know the encryption algorithm for the header of STAGE.DAT that is used in Metal Gear Solid 2 and beyond(ZOE2, MGS3)? I know Solidus can decrypt it just fine(and then do nothing with it or sometimes even crash the program itself since said tool was designed for the PC version of that game), but this question has been bugging me for days, if not months and I couldn't find a solution for it.
## Post #1486
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-12-03T16:36:39+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> @bobdoleowndu 
I'd appreciate it if you added named files to be affected by the ID feature too. As it is, when more filenames get hashed, this list will get unpleasant offsets.
Oops, it was actually already supposed to do that. I missed a "/" which caused the folder and file name of named files to be merged.

It's fixed now. Fixed version is up [here](https://github.com/BobDoleOwndU/MtarTool/releases).
## Post #1487
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-12-03T16:50:31+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

@BobDoleOwndU - Great job on the MTAR file format.

Also to the people who decrypted PT. And are already trying out it's models in MGSV.

Here is an update on the pXX dev ids - some info has been updated not all. p34/p36 are still a mystery

```

p01 = equipID - named id understood by the game - not string

p02 = equipDevelopTypeID - weapon/item type

p03 = baseEquipDevelopId - id of parent in dev chain

p04 = skill - special staff required

p05 = bluePrintId - special blueprint required

p06 = langEquipName - name

p07 = langEquipInfo - info

p08 = ftexPath - self explanatory

p09 = equipDevelopGroupID - dev group weapon/item belongs to

--The following are abilities
p10 = langPowerUpInfo0
p11 = langPowerUpInfo1
p12 = langPowerUpInfo2
p13 = langPowerUpInfo3
p14 = langPowerUpInfo4
p15 = langPowerUpInfo5
p16 = langPowerUpInfo6
p17 = langPowerUpInfo7
p18 = langPowerUpInfo8 --not used in EquipDevelopConstSetting but is present in MGO version
p19 = langPowerUpInfo9 --not used in EquipDevelopConstSetting but is present in MGO version
p20 = langPowerUpInfo10 --not used in EquipDevelopConstSetting but is present in MGO version
p21 = langPowerUpInfo11 --not used in EquipDevelopConstSetting but is present in MGO version
--abilities end

p30 = langEquipRealName - full weapon name

p31 = isResultRankLimited - NOT tested if turning to 0 removes rank restricted result - probably not as the result is based on PlayerPlay flags

p32 = isCustomEnable - can weapon be customized - in most cases turning from 0 to 1 will crash game in customize menu

p33 = isColorChangeEnable - can weapon color be changed - in most cases turning from 0 to 1 will crash game in customize menu

p34 = ??? --Seems to be 1 for most high level weapons/items plus items not added to final game like Battle Gear; also unusable weapons/items
	Is Online Dev
	0 seems to be set for nearly all online develop weapons and items and also GZ sneaking suit (but more importantly may denote blueprints for GZ transfer and online dev)
	These may not have p72 (isValidMbCoin) set to 1 in all cases
	Grade 6 Ze'ev, ATB and EMN mines also have p34=0 for some reason(along with others) but have p72=0 and there are some missing items
	Performed a p52(Grade) based filtering
	

p35 = Equippable by Security Team staff

p36 = Set to 1 seems to be for DLC but there is other crap (unused/un-develop-able) too

p34 and p36 are 1 together only for the following:
	p01=TppEquip.EQP_WP_SP_SLD_030_G01
	p01=TppEquip.EQP_WP_SP_SLD_030_G02
	p01=TppEquip.EQP_WP_SP_SLD_010_G01
	p01=TppEquip.EQP_WP_SP_SLD_010_G02
	p01=TppEquip.EQP_WP_SP_SLD_020_G01
	p01=TppEquip.EQP_WP_SP_SLD_020_G02
	p01=TppEquip.EQP_WP_SP_SLD_040_G01
	p01=TppEquip.EQP_WP_SP_SLD_040_G02
	p01=TppEquip.EQP_IT_CBox_CLB_A_G01
	p01=TppEquip.EQP_IT_CBox_CLB_B_G01
	p01=TppEquip.EQP_IT_CBox_CLB_C_G01

	So what does this mean???

p50 = idRelatingToConstFile - order matters for these

p51 = derivationIndex - 0 means same dev chain, 1 means new dev chain one level below. Works in combination with p03 to form chains

p52 = developRank2 - grade, 0 value won't show in dev chain or menus(probably same for higher values)

p53 = developGmpCost

p54 = usageGmpCost

p55 = sectionLvForDevelop - level requirement for 1st unit type

p56 = sectionID2ForDevelop - ID of 2nd unit requirement

p57 = sectionLv2ForDevelop - level requirement for 2nd unit type

p58 = resourceType1

p59 = resourceType1Count

p60 = resourceType2

p61 = resourceType2Count

p62 = initialAvailable - auto develops weapon/item

p63 = sectionIDForDevelop - **ID of 1st unit requirement for SOME weapons/items - seems to override p55(higher preference)

p64 = developSectionLv - **level requirement for 1st unit type for SOME weapons/items - SPECULATION(did not test): If 0, then p55 acts as 1st unit level? At any rate set to 1 for easy level requirements

p65 = resourceUsageType1

p66 = resourceUsageType1Count

p67 = resourceUsageType2

p68 = resourceUsageType2Count

p69 = displayInfo - values are
	0 - show in dev menus
	1 - DLC and then some
	2 - Anything un-develop-able - Enemy weapons(cause these need equip info too, just can't be developed), Infected NVG from M43, Balaclava & Headgear, Looks to be unused DD skins(Ocelot & Miller), One Walker Gear pistol, Battle Gear stuff, Honeybee, Skull face gun, Volgin gun(his attack that is), Enemy shields and D.MINE MARKER
	3 - only for wormhole fulton all 4 grades
	5 - All unused - Fulton cargo, fulton normal, fulton wormhole; Hides equip from equip menu as well

p70 = ??? Mystery Column - seems to be 0 for everything

p71 = developTimeMinute

p72 = isValidMbCoin - Online dev items
	Set to 0 to make online stuff available offline - disappears when connected online as usual
	Set to 1 and offline items can only be seen/developed when connected online, but you'll see "A network error has occurred" message :)

p73 = intimacyPoint - Buddy equip develop points :)

p74 = isFobAvailable
	0 means items cannot be equipped for FOBs at sortie screen - cannot commence FOB mission
	This does not control item usage once on FOBs
	So changing from 0 to 1 will allow you to deploy to FOBs with let's say the infinity bandanna/parasite suit
	but the Stealth Camo, supply flare, support flare, cigar, parasites will still not be usable

```
## Post #1488
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2016-12-03T17:09:00+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> Higus wrote:@bobdoleowndu 
I'd appreciate it if you added named files to be affected by the ID feature too. As it is, when more filenames get hashed, this list will get unpleasant offsets.
Oops, it was actually already supposed to do that. I missed a "/" which caused the folder and file name of named files to be merged.

It's fixed now. Fixed version is up here.
Awesome!

Finally got around to tests:
[https://youtu.be/_UlPAXhu4ok](https://youtu.be/_UlPAXhu4ok)
[https://youtu.be/ht29ls3XobY](https://youtu.be/ht29ls3XobY)

Two more inquiries, doesn't really matter at all, but would it be easy to implement shortcut support for the tool? As in being able to repack a file by dragging the xml on a shortcut of MtarTool instead of lugging over the source exe and all it's companion files to repack. It's something that works nicely in GzsTool. And second, do you plan on adding support for GZ mtars?
## Post #1489
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-12-04T03:50:52+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> Two more inquiries, doesn't really matter at all, but would it be easy to implement shortcut support for the tool? As in being able to repack a file by dragging the xml on a shortcut of MtarTool instead of lugging over the source exe and all it's companion files to repack. It's something that works nicely in GzsTool. And second, do you plan on adding support for GZ mtars?
Implementing shortcut support should be easy enough. I just have to figure out why the program is looking in its own folder for files when repacked via command line.

GZ .mtar support should be easy to add as well. GZ's .mtar format is the same as TPP's Mtar Type 1 format, with the only difference being the hash's format differs slightly.

Edit: Fixed the command line/shortcut issue. Uploaded the fixed version on [my GitHub](https://github.com/BobDoleOwndU/MtarTool/releases). I'll work on GZ support later. I still need to figure out the exact differences between GZ's .mtar hash format and TPP's before I can fully implement it.
## Post #1490
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-12-04T20:20:45+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I'm doing a (long overdue) update to SnakeBite with a couple of fixes, and updating its qar dictionary to the MGSV-QAR-Dictionary-Project current.
So anyone that has mods with files with hashed names will have to update those (providing the actual names if those files were added to dictionary between snakebite 0.8.3 dictionary and current).
If not, you shouldn't have to do anything, but can't hurt testing anyway.

Sorry this is only a short heads up because I want to push the version out to get the fixes out soon.
Grab the 0.8.4 prerelease:
[https://mega.nz/#!eddWWIaK!QWJ56ZwtXtSQ ... ofgVImqgDc](https://mega.nz/#!eddWWIaK!QWJ56ZwtXtSQQNAngaJWE1uM4wvvkbA9PofgVImqgDc)

Edit: prerelease IH repacked for 0.8.4:
[https://mega.nz/#!uBNxUTjb!2K899QcOpouE ... vzcqPElbSA](https://mega.nz/#!uBNxUTjb!2K899QcOpouEftfuXbybRHu_gafbSqUSwvzcqPElbSA)

Barring anything making me too busy, I'll try and put out the full snakebite release this weekend.
## Post #1491
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-12-07T15:18:30+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

[https://unknown321.github.io/mgsv_research/fv2.html](https://unknown321.github.io/mgsv_research/fv2.html)
MGO hats have been ported to TPP. Still needs some work to put them into the game, won't be as easy as using snakebite.
I don't think I can work with body cosmetics (too tired), maybe someone else will do it. It should work in the same way as head fv2, add a new hash to sec4, link it in sec1 with command, try. For full-body cosmetics you can try replacing base model.
## Post #1492
- Username: Rodocks
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Sat Oct 15, 2016 10:34 pm
- Post datetime: 2016-12-07T22:45:20+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

@unknown123
Are you working on custom terrains or something or are you just out of bounds for some reason?
## Post #1493
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-12-08T08:56:39+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Rodocks
>
> 
This is how the map looks like outside the helicopter. Not out of bounds, just out of helicopter, because there is no space in heli and "!" hat was cut off by heli roof.
## Post #1494
- Username: Paul44
- Rank: advanced
- Number of posts: 47
- Joined date: Thu Sep 18, 2014 1:06 am
- Post datetime: 2016-12-10T10:14:18+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I've updated most of my info, based on the DE vs. Attached you'll find textfile with appropriate info & corresponding links.
[None](https://xentaxbackup.github.io/file/12011_None)
## Post #1495
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2016-12-10T10:28:41+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Paul44
>
> In order to download any of these files, you either need to use a Social Media account; or create a 4Shared account!
This is how your files will never be downloaded. Why do I have to login with my separate social account? Why do I have to create 4Shared account? There are tons of free filesharing sites where you just click on 'download' and it downloads - mega, dropbox, google drive, puush, pomf, even github. Sharing is nice, but it feels like 4shared wants to prevent downloading files. Putting links into txt into zip is another weird way. Why don't you use something like pastebin to link your stuff? One click, easy to copypaste, easy to edit.

Don't get me wrong, you are doing nice stuff, but the ways how you share them are really inconvenient.
## Post #1496
- Username: stealthcl0wn
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sat Oct 31, 2015 2:11 am
- Post datetime: 2016-12-11T05:40:49+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Here's hoping that one day we see female avatars in Single Player.
## Post #1497
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-12-11T22:33:25+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Thrown up an example IH sidop on the inf heaven files page, there's more information in a txt file in there, but feel free to ask any questions.

Current limitations:
Can't use the sideops systems soldiers (the vanilla sideops system reuses 8 specific soldier instances), because they require routes.
(heres my collected info on those again: [https://mega.nz/#!mR9TwZIK!FSBa-AiDCGQB ... Mxqx1mte4w](https://mega.nz/#!mR9TwZIK!FSBa-AiDCGQBJiwZYcdmMdj-OTJBu6nkoMxqx1mte4w))

Likewise manned vehicles require a route (for most sideops it's just staying stay put and look around I think).

Cant place containers since they use .lba / locator binary arrays, which I don't think anyone's looked at.

But modders still could build sideops:
in existing cps.
with hostages (though I'll be trying stuff with that to try and get an easier system going).
with different animals
minefields
(basically just look at the existing sideop fpks)
probably could do pickups
and combinations of thereof.
## Post #1498
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-12-13T08:40:26+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Good to see you guys are still making tons of progress with the game. I haven't had time to really work on anything but I figured I'd share the stuff I'd been using to force entries for the QAR and lang dictionaries. I'll have to find some time to do a decent writeup for using them but if you look at the documentation txt, QAR works essentially the same way. However it has a dictionary built into the script which you can use to do a combo dictionary and brute force attack for entries.

[mgsv_dict_gen](https://mega.nz/#!i8QmxD5S!4Yx-ohdOgInoFd3BlFqblor_NDeFQ8-Nx0qchiqiOdo)

edit: [lang_dictionary update](https://raw.githubusercontent.com/cstBipBop/MGSV-Lang-Dictionary-Project/master/lang_dictionary.txt) 2,565 new entries from a string dump of the Companion App from [here](https://www.reddit.com/r/NeverBeGameOver/comments/3onerc/data_from_the_companion_app/). Apparently the app uses the strings in plain-text format or something. The guy's files use [CR][LF] [CR][LF] when inserting blank lines for some reason but you can get rid of them with    [find:\r\n \r\n]    [replace:\r\n]   in notepad++ or whatever.

I had some errors with the file I linked or issues I forgot to mention when I originally posted this.

newDict.txt in .\mainDir\lang had a random file I was removing duplicates from instead of the contents of lang_dictionary.txt. Replace both it and the dictionary in .\tppTool\langTool with the latest update.
backup() in .\mainDir\qar\qarForce.lua still had something leftover from when I was testing different parts of the script. Comment out the line with os.exit(exit).
.cmd and .lua scripts that were never finished or were temp test files for scripts are in the download, so don't use them; just .\mainDir\qar\qarForce.lua and .\mainDir\lang\langForce.lua are intended for use.

I'll upload a more clean and complete version to GitHub whenever I finish writing some up-to-date basic use instructions for both of the main files and get the small scripts finished.
## Post #1499
- Username: afsoon
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Fri Nov 13, 2015 3:09 pm
- Post datetime: 2016-12-16T13:07:42+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hello all!
For the past few months I have been working on a mod to no avail. I've been trying to add boots to the swimsuits that came with the recent patches as FOB event rewards.
In order to better describe my problem, I will give a short report on what I have done so far.
I found out that the model and texture files for female swimsuits are located in 00.dat\19971a2b34806.fpk file. So I extracted the model file (dlf0_main0_def_f.fmdl) and used the 3ds max scripts provided by the dear members of the community to make changes to the model.
In order to add boots, I extracted the boots mesh from the female combat fatiques (chunk0\Assets\tpp\pack\player\parts\plparts_dd_female.fpkd\dds6_main0_def.fmdl) and added them to the leg mesh of the swimsuit model. During this process I kept the total number of vertices and faces intact by deleting a number of vertices and faces from the leg mesh and adding some after attaching the boots mesh.
so I replaced the modifies leg mesh using the scripts and the hex editor and as far as viewing the model in 3ds max goes, I made it work. But when I injected the mod files into the game, the model became distorted and I have not been able to make it work ever since. I have attached some screenshots of my work process and the final results in order to give you guys a better description.

I've also added a link to all my files in case you want to try something yourself. [https://drive.google.com/open?id=0B0k_K ... TZyWmozb2M](https://drive.google.com/open?id=0B0k_KdBi7paYRGFORTZyWmozb2M)



work progress2.jpg (188.05 KiB) Viewed 66 times



I appreciate any help that you guys can offer...Thanks a lot!
## Post #1500
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2016-12-16T16:23:23+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from afsoon
>
> -Snip-
As far as I know, nobody has successfully gotten a model with a modified mesh (barring repositioned vertices and deleted faces) back into MGSV.

If you successfully did it, you'd be the first.
## Post #1501
- Username: daemon1
- Rank: MEGAVETERAN
- Number of posts: 2649
- Joined date: Wed Mar 25, 2015 3:12 am
- Post datetime: 2016-12-16T20:32:57+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from afsoon
>
> so I replaced the modifies leg mesh using the scripts and the hex editor

I don't see the skeleton on your screenshots. To make meshes work properly you need to have them properly weighted to the skeleton. Your game screenshot also looks like it was not done.
## Post #1502
- Username: afsoon
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Fri Nov 13, 2015 3:09 pm
- Post datetime: 2016-12-17T02:00:18+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from daemon1
>
> afsoon wrote:so I replaced the modifies leg mesh using the scripts and the hex editor

I don't see the skeleton on your screenshots. To make meshes work properly you need to have them properly weighted to the skeleton. Your game screenshot also looks like it was not done.

I didn't know that had to be done...I don't even know how to do that...
## Post #1503
- Username: daemon1
- Rank: MEGAVETERAN
- Number of posts: 2649
- Joined date: Wed Mar 25, 2015 3:12 am
- Post datetime: 2016-12-17T07:50:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from afsoon
>
> I didn't know that had to be done...I don't even know how to do that...

Model in game is not just vertices and faces. Every vertex must be connected to some bone in the skeleton. Usually to a number of bones with certain coefficients called weights. This is needed so that the mesh parts will move properly with the animation movements.

Every editor like 3dmax have tools to edit this. Then that script you used to put model back to FMDL must properly put these weights back into game format. Where is that script? Does it support weights modification?
## Post #1504
- Username: afsoon
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Fri Nov 13, 2015 3:09 pm
- Post datetime: 2016-12-17T09:10:51+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from daemon1
>
> afsoon wrote:I didn't know that had to be done...I don't even know how to do that...

Model in game is not just vertices and faces. Every vertex must be connected to some bone in the skeleton. Usually to a number of bones with certain coefficients called weights. This is needed so that the mesh parts will move properly with the animation movements.

Every editor like 3dmax have tools to edit this. Then that script you used to put model back to FMDL must properly put these weights back into game format. Where is that script? Does it support weights modification?

oh you mean the bone structure! yes it is present in the model; I just have it's visibility turned off so that I can modify the mesh easier...
I put the script in here with other files...[https://drive.google.com/open?id=0B0k_K ... TZyWmozb2M](https://drive.google.com/open?id=0B0k_KdBi7paYRGFORTZyWmozb2M)
## Post #1505
- Username: daemon1
- Rank: MEGAVETERAN
- Number of posts: 2649
- Joined date: Wed Mar 25, 2015 3:12 am
- Post datetime: 2016-12-17T12:01:51+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from afsoon
>
> oh you mean the bone structure! yes it is present in the model; I just have it's visibility turned off so that I can modify the mesh easier...
I put the script in here with other files.

yes, just as i thought. These scripts allow you to replace vertices and faces, but they don't touch the weights.

I understand the amount of work you done, but this is not enough. The guys who made the scripts must make it somehow put the weights back into FMDL, and you have to properly assign new weights to your new mesh before that.

Right now you see arms work correctly. But when I move your new legs, they all got broken because of OLD weights are still in place. And when I move left leg bone, these weights make right leg vertices move instead of left leg etc.
## Post #1506
- Username: afsoon
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Fri Nov 13, 2015 3:09 pm
- Post datetime: 2016-12-17T21:05:52+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from daemon1
>
> afsoon wrote:oh you mean the bone structure! yes it is present in the model; I just have it's visibility turned off so that I can modify the mesh easier...
I put the script in here with other files.

yes, just as i thought. These scripts allow you to replace vertices and faces, but they don't touch the weights.

I understand the amount of work you done, but this is not enough. The guys who made the scripts must make it somehow put the weights back into FMDL, and you have to properly assign new weights to your new mesh before that.

Right now you see arms work correctly. But when I move your new legs, they all got broken because of OLD weights are still in place. And when I move left leg bone, these weights make right leg vertices move instead of left leg etc.

oh! I see!  you sir, are a legend!
but since, you're saying that this is because of a feature that is missing from the script, I suppose there is nothing to be done about it? by me or anyone else?
Thanks for your replies nonetheless!
## Post #1507
- Username: afsoon
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Fri Nov 13, 2015 3:09 pm
- Post datetime: 2016-12-17T21:24:52+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from daemon1
>
> afsoon wrote:oh you mean the bone structure! yes it is present in the model; I just have it's visibility turned off so that I can modify the mesh easier...
I put the script in here with other files.

yes, just as i thought. These scripts allow you to replace vertices and faces, but they don't touch the weights.

I understand the amount of work you done, but this is not enough. The guys who made the scripts must make it somehow put the weights back into FMDL, and you have to properly assign new weights to your new mesh before that.

Right now you see arms work correctly. But when I move your new legs, they all got broken because of OLD weights are still in place. And when I move left leg bone, these weights make right leg vertices move instead of left leg etc.

Regarding the left leg causing the right leg to move, I think I might now what is causing that...
you see, When I deleted the some of the vertices and faces of the legs mesh and then added the boots, 3ds max renumbered all the vertices and faces in the mesh starting from 1 again. This does not cause any problems in the mesh structure since I replace all the mesh data in the original file by Hex editing but based on what you are saying, after those changes, the old bone structure nodes, are now connected to the wrong vertices in the new mesh (since their numbers have changed) and that is probably the cause of this.

The work around this might be, for one skilled with 3ds max, to re-arrange the original mesh to the shape of boots without doing any operation that cause re-numbering. That however is beyond my 3d editing skills. sadly....
if anyone, can do this however, please, feel free to do so....all files are placed in the link in my previous posts. Thanks.
## Post #1508
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2016-12-21T23:12:10+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

edit: Just realised I used inequality operators as "about equal to" to describe something in a lua script. Added in some info about flag patterns I forgot to mention.

> Reply from nasanhak
>
> Code: Select allp34 = ??? --Seems to be 1 for most high level weapons/items plus items not added to final game like Battle Gear; also unusable weapons/items
   Is Online Dev
   0 seems to be set for nearly all online develop weapons and items and also GZ sneaking suit (but more importantly may denote blueprints for GZ transfer and online dev)
   These may not have p72 (isValidMbCoin) set to 1 in all cases
   Grade 6 Ze'ev, ATB and EMN mines also have p34=0 for some reason(along with others) but have p72=0 and there are some missing items
   Performed a p52(Grade) based filtering

Just a wild guess, but maybe it's some kind of boolean for "don't display tile if not developed" that gets superseded by a true p72 value when connected to Konami's servers.

I've been researching weapon and equipment tables lately. I made a spreadsheet for DamageParameterTables.lua [here](https://docs.google.com/spreadsheets/d/1VVcthy86QGg3M7IeFWx1ou-c7x1iKb1Qa_sX7VW8Bq0/edit?usp=sharing). I'm not really sure what changing some of those do aside from the obvious last three, but ignoring ATK, INJ, and DAM_SOURCE entries, there are 28 parameters. p26-p28 are lethal damage, non-lethal damage, and impact force. p01-p05 appear to be values relating to damage. p01-p03 usually have a value when an ATK has lethal damage and p04-p05 when an ATK has non-lethal damage. p06-p07 values seem to be associated with anything that has some type of knockback effect on a target.

p08-p09 look like flags, though I haven't noticed any obvious patterns with them aside from stuff I noted in the spreadsheet. p10-p25 are booleans.

```
p01-p03 ≅ lethal DMG association
p04-p05 ≅ non-lethal DMG association
p06-p07 ≅ amount of ATK "knockback"

FLAGS
p08 = ? 0,2,4,8,15,50,500; F[8] VehicleBlast. F[15 | 50 | 500] if p10==true.  F[500] BossQuiet_sr_010 & Quiet_sr_010.
p09 = ? 0,2,10,20; Usually F[20] for VehicleBlast, sniper bullets, explosives, support weapons, miniguns, and WG handguns. F[2] Handgun, SMG, LMG. F[10] shotguns or autocannon.

    Combination patterns (p08,p09)
        0,20 = ATK_Fall
        15,10 = Shotgun DMG_Source, parasite SG, and ATK_10503
        15,2 = HG, SMG, LMG, HeliChainGun, mgm_mgun0
        2,10 = Wav1, 20/30mm tank autocannons
        4,20 = Explosives or Gear Railguns (for some reason ATB-Mines are 0,0. Flags affect ballistics?)
        50,20 = Sniper/anti-material rifle bullet, HeliMiniGun, WalkerGear_MiniGun, WalkerGear_HandGun_[00-04]
        500,0 = BossQuiet_sr_010 & Quiet_sr_010
        8,20 = VehicleBlast

BOOLEANS
p10 ≅ association with ATKs that behave as bullets
p11 ≅ is sniper/anti-material rifle bullet
p12 ≅ shotgun DMG
p13 == ZZZ or Jehuty
p14 ≅ CQC or NL ATK
p15 == explosive
p16 == ?
p17 ≅ cutting/slashing ATK
p18 == fire
p19 ≅ certain parasite ATKs
p20 ≅ missile, turret, Nad/Sad ATK
p21 = ?
p22 = ? all are false
p23 - p25 ≅ association with vehicle/stationary ATKs

DAMAGE
p26 == lethal
p27 == non-lethal
p28 == impact force (presumably stat that determines how much durability/resistance an ATK cuts through)
```


And for EquipParameterTables.lua:

```
    { [Blast name], [blast flag], max or effect range, max or optimal range}
},

SupportWeaponParameter={0,
    { [Support weapon name], ammo, p1, p2, grade}
}

p1 = fuse, trigger distance, range, durability, or other
p2 = duration, activation or explosion in degrees, or other
```
## Post #1509
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-12-22T09:37:51+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Apart from end of year busyness limiting what I can do, I've been banging against some limitations.

Got UAVs working in a test capacity for both MB and freeroam, but:
UAVs aren't that useful without routes, otherwise I think they'd be cool for some free roam sideops but trying to repurpose heli sideop routes didn't work out because they fly too high, and they don't have look direction nodes.

And for mb the only routes that match the mb layout is one particular fob layout for just the command platform. Well there may be a few more I can cherry pick from other clusters, but that would be ~27 layouts *7 clusters to check, and I'm hitting the combined gameobject limit issue which is also hampered by currently not having a good fpk load/unload by cluster system.

Had the nova braga security cams added to free roam but I'm hitting the combined gameobject crash on exiting map.

Bumping up memory allocation sizes in lua doesn't seem to fix that particular problem. There's a few other allocation named settings in various fox2 files that I haven't tried, but the naming doesn't seem like they'd apply to this situation anyway.

Could try and see if script block fpk/ds have any special leeway/control for allocation, I'm guessing not though.

Last resort would be to only allow user to enable a few features that add gameobjects (additional soldiers that I used in patrols, walker gears, helis etc) at a time.

But I don't think I'll have time to do much of anything for a while.
## Post #1510
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-12-25T14:04:22+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

@Tex

So I finally moved my mod to a settings based version. As difficult to test and time consuming as it was, I should have done it earlier. Being able to remove a feature completely with a toggle is a blessing. Plus it allowed me to add more settings to help with my cheat mode/warping which makes testing soo much easier.

I have seen you were looking for a good insert point for the settings file and not sure you know or not, but Tpp.lua seems to be the first major game file loaded. You can load the settings file there and use those settings anywhere at all. Even in the title/init fpkds as well as the motherbase dev scripts.

this.requires if the same file contains a *priority* based load list. So placing InfInspect/InfLog at the top will allow logging pretty much anywhere at all.

On another note, figured out how to remove cutscene credits without any nasty lng2 file editing. It uses an update method, BUT it works. Which proves that cutscenes set the cast info and then call them dynamically as they are playing. All attempts to remove the staff credits, even as a cutscene has started did not work.

```
	if not IsDemoPlaying() then return end

	--r51 Settings - has to be via Update func sadly, so am starting to think (and this kinda confirms) that each and every telop during a demo is formed and then posted at a particular time in the demo. Since the update func here is resetting *every* frame, I am able to hide the telops
--		TppPlayer.DebugPrint("TppDemo.Update stopping teleop cast",3,true)
		TppUiCommand.AllResetTelopCast() --WORKS! Removes all cast! But will also remove the mission objective if shown during a demo - not sure if that happens ever
--		TppUiCommand.EraseTelopCast() --NOPE
--		TppUiCommand.StopTelopCast() --All appear overlapping once cutscene is skipped/finishes
end
```

While not the ideal approach, it works
## Post #1511
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2016-12-25T20:52:47+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

init.lua is actually the first lua file loaded. I've had my log/bootstrap loading there since r182, but haven't shifted my settings system to that point since I still have a few dependencies on later scripts that I need to break.

But thanks for bringing it up, I can at least post the (rough) execution flow for exe vs scripts I've been meaning to for a while. 
noting where exe is directly loading a script (as opposed to the loading scripts loading others), and the return to exe execution:

exe > init.lua > exe
exe > start.lua > Tpp.lua > TppDefine.lua > 
This is where things are a bit fuzzy, even though execution isn't fully back to the exe because start.lua isn't done, Tpp.lua is done at this point and the exe loads all scripts listed in TppDefine.requires table in order.
I'm guessing (I should actually test to confirm) that Script.LoadLibraryAsync loads all of a requires table on the module it's loaded.
> TppVarInit.StartInitMission > Mission.LoadMission 1/init mission > exe (start.lua done)

exe various mission loady stuff for 1/init mission

Mission.LoadMission just seems to be and indicator from script to exe that a mission should be loaded, the exe only starts loading once the current lua thread is done/execution is returned to exe.

The exe mission load execution is roughly:
exe > TppMission.GetMissionPackagePath > exe
In exe : load ScripBlock lua scripts defined in the fox2 files in the fpk/ds in the missionpackagepath list.
exe > mission_main.OnAllocate (from the mission pack returned by GetMissionPackagePath) > TppMain.OnAllocate > exe
exe > mission_main.OnInit > TppMain.OnInit> exe

init.lua is actually the first lua file loaded. I've had my log/bootstrap loading there since r182, but haven't shifted my settings system to that point since I still have a few dependencies on later scripts that I need to break.

But thanks for bringing it up, I can at least post a (rough) execution flow for exe vs scripts, noting where exe is directly loading a script (as opposed to the loading scripts loading others), and the return to exe execution:

exe > init.lua > exe
exe > start.lua > Tpp.lua > TppDefine.lua > 
This is where things are a bit fuzzy, even though execution isn't fully back to the exe because start.lua isn't done, Tpp.lua is done at this point and the exe loads all scripts listed in TppDefine.requires table in order.
I'm guessing (I should actually test to confirm) that Script.LoadLibraryAsync loads all of a requires table on the module it's loaded.
> TppVarInit.StartInitMission > Mission.LoadMission 1/init mission > exe (start.lua done)

exe various mission loady stuff for 1/init mission

Mission.LoadMission seems to be script > exe indicator that a mission should be loaded, the exe only starts loading once the current lua thread is done/execution is returned to exe.

Engine mission load execution is roughly:
exe > TppMission.GetMissionPackagePath > exe
In exe : load ScripBlock lua scripts defined in the fox2 files in the fpk/ds in the missionpackagepath list.
exe > mission_main.OnAllocate (from the mission pack returned by GetMissionPackagePath) > TppMain.OnAllocate > exe
exe > mission_main.OnInit > TppMain.OnInit> exe

Each game frame:
exe > mission_main.OnUpdate > TppMain.OnUpdate > exe

Edit: Might as well dump my log with my various logging turned on from session start to continued to acc even though there's a bunch of IH specific stuff mixed in:
[https://mega.nz/#!7B0T1Rob!mvu2ePcBV_ay ... 5n3vuAF70k](https://mega.nz/#!7B0T1Rob!mvu2ePcBV_ayITa_Vl3_q9bQLcfe8WvsU5n3vuAF70k)
Most of this logging is manual, need to run a proper debug trace at some point, but the potential brutality of output on top of not having io write append has held me off.
## Post #1512
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2016-12-31T10:55:26+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

@Tex

Thanks for the flow log. What you reported is pretty much what I saw too so had nothing to add to it.

I saw some problems with my start on foot LZs for MB and realized that vars.mbLayoutCode is not always 3 and does indeed change with time.

So did some troubleshooting. vars.mbLayoutCode changes with each Command plant built. The overall MB layout depends on the Command cluster layout. The surrounding clusters attach to command and as a result, their position offsets change as more Command plants are built.

When I had first built and then later corrected the MB LZ positions, I thought KJP did some extra legwork. I should have tried it out with an undeveloped base. It's interesting nobody ever reported falling through the floor before.

Anyway - and this is important for you too! - if you develop the Command plat while in the ACC and then head to the R&D plant 0 LZ(this plant has different start locs for every vars.mbLayoutCode), you'll fall through the floor. This is because, you are looking up pos based on (vars.mbLayoutCode+1) but vars.mbLayoutCode has not incremented by the time ReservePlayerLoadingPosition is called. Meaning instead of mbLayoutCode 3, pos is loaded for mbLayoutCode 2.

Flaw in your code and mine now too I guess.

The second time you travel to the same R&D LZ however vars.mbLayoutCode has been updated permanently and the correct pos is selected.

New game save file with M2 completed for testing. Completely offline, previous missions S ranked with all objectives:
[https://mega.nz/#!G1YghCJa!TFoSINTreLjw ... EdQEhorE-g](https://mega.nz/#!G1YghCJa!TFoSINTreLjw-KjS9gq9Vp6I5ShlmMGkZEdQEhorE-g)
## Post #1513
- Username: abuali
- Rank: beginner
- Number of posts: 20
- Joined date: Mon Dec 13, 2010 12:48 am
- Post datetime: 2017-01-01T20:30:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Anyway to add colors to game subtitles? the .subp files
## Post #1514
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2017-01-01T21:23:30+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from abuali
>
> Anyway to add colors to game subtitles? the .subp files
I don't think so. subp files are just the lines, IDs, flag, timing, etc. They don't have color parameters like lng files. The closest thing you can really do is recolor text in the ffnt files.

I keep forgetting to mention this on here but the lng files seem to be what determine the icon that gets displayed with a langId. Which is useful if you're creating a few custom langIds and want a certain icon to appear for button hints or whatever. Rocket Arm's use of it:
```
'Once released, the hand is controlled using <I=G=MOVE>, accelerating with <I=G=PAD_R2> and decelerating with <I=G=PAD_L2>.'
```


<I=G=MOVE> == movement keys / WASD
<I=G=PAD_R2> == contextual action (generator button)
<I=G=PAD_L2> == radio / command menu

Was playing around with devFlow/Const lua files and got the console dlc to remain usable after being developed by changing their p69 values in devFlow to 0. The exceptions being player fatigues. The dev icons will still display but won't pop up a message about needing to be in Sortie Prep to equip them while in the ACC and do not appear as options in the field. Any ideas why that is? Also apparently there are "none" weapon slot options for primaries and secondaries that let you just not equip anything. Having that as a permanent toggle option for those two weapons is pretty convenient.
## Post #1515
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2017-01-01T21:28:34+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from CantStoptheBipBop
>
> Also apparently there are "none" weapon slot options for primaries and secondaries that let you just not equip anything. Having that as a permanent toggle option for those two weapons is pretty convenient.
More info about it?
## Post #1516
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2017-01-01T21:55:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> More info about it?
I deleted the save a few days ago, but it came about from messing with Const/Flow lua files. I set everything to auto-develop (p62=1) and may have changed a couple of other things, but that's the gist of it. It created a slot in the secondary and primary (hip) weapon choices that essentially worked like the NONE slot when choosing a primary (back) weapon. The name and info displays both just had " --- " as their entries. I'll mess with it some more and share if I find out any specifics for duplicating it.
## Post #1517
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2017-01-01T22:01:58+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from CantStoptheBipBop
>
> unknown123 wrote:More info about it?
I deleted the save a few days ago, but it came about from messing with Const/Flow lua files. I set everything to auto-develop (p62=1) and may have changed a couple of other things, but that's the gist of it. It created a slot in the secondary and primary (hip) weapon choices that essentially worked like the NONE slot when choosing a primary (back) weapon. The name and info displays both just had " --- " as their entries. I'll mess with it some more and share if I find out any specifics for duplicating it.

Ah, that's just a mod of mine that got ported into IH, see [https://github.com/unknown321/mgsv_rese ... lua#L17747](https://github.com/unknown321/mgsv_research/blob/gh-pages/mods/good_subsistence/good_subsistence/Assets/tpp/motherbase/script/EquipDevelopConstSetting.lua#L17747). New entries have ids 900 and 901, empty slots for handgun and primary. Probably you tried it at one point and forgot to remove.
## Post #1518
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2017-01-01T22:21:40+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> that's just a mod of mine that got ported into IH
Oh I didn't know about that, it would explain why I'm having trouble replicating it. Thanks for letting me know. I probably would have been at it for a couple of hours trying to repeat the impossible.
## Post #1519
- Username: morbidslinky
- Rank: beginner
- Number of posts: 27
- Joined date: Wed Oct 21, 2015 9:26 am
- Post datetime: 2017-01-02T07:51:25+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

@tex

It seems that using IH's "startOffline" toggle also restricts me from developing/equipping the cosmetic DLC's.I tinkered with the init_sequence.lua, and I believe I have a solution.
This is a quick revision I made to init_sequence.lua: [https://drive.google.com/file/d/0B4HIOk ... sp=sharing](https://drive.google.com/file/d/0B4HIOk1QhmKAdThQSnFNYUNhLUU/view?usp=sharing). TL;DR I rerouted CreateOrLoadSaveData() to Seq_Demo_CheckDlc, Instead of Seq_Demo_Init. Then, I rerouted Seq_Demo_CheckDlc to Seq_Demo_CheckPatchDlc. Otherwise, the DlcAnnouncePopup appears every time I start the game offline. 

I hope this was useful to you.

@everyone,

I recently created a discord server for MGSV modding community. I know that the MGSV Xentax community is geared more towards research, but maybe you guys might be interested nonetheless.
Here's a link: [https://discord.gg/6kf9cJZ](https://discord.gg/6kf9cJZ)

Anyway, Happy New Year!
## Post #1520
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2017-01-02T15:42:13+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from CantStoptheBipBop
>
> Was playing around with devFlow/Const lua files and got the console dlc to remain usable after being developed by changing their p69 values in devFlow to 0. The exceptions being player fatigues. The dev icons will still display but won't pop up a message about needing to be in Sortie Prep to equip them while in the ACC and do not appear as options in the field. Any ideas why that is?
Paul44 and I looked into enabling DLCs. Can't be done via code. While you'll unlock the dev trees by setting p69=0, the guns show in the Equip/Supply drop menus but outfits do not. There is an exe function hiding them I guess. If you start the mission with the DLC guns, they are removed. You can however supply drop them in.

The exception to this are the two D-Horse tacks - they work just fine.

So there is an exe level check hiding outfits from the Equip/Supply drop menus plus an exe level check that removes the DLC guns. There is an additional safety check in the exe that resets the outfit to Olive Drab for when you move a save file from a game with any DLC outfit equipped to a game that doesn't have them. This safety check also was not present prior to v1.006. These exe checks work with info from the Steam API.

TppTerminal has a AcquireDlcItemKeyItem function that prior to v1.006 was tasked with unlocking DLC. But at the time DLC wasn't present in the game. After v1.006, manipulating this function correctly only unlocks the Gold Bionic Arm (and maybe the GZ Sneaking Suit but not 100% sure about this) but not any of the other DLCs.

So, it is impossible to unlock the DLC via code. It is possible to unlock it via a particular Steam related hack.

> Reply from CantStoptheBipBop
>
> Also apparently there are "none" weapon slot options for primaries and secondaries that let you just not equip anything. Having that as a permanent toggle option for those two weapons is pretty convenient.
Tex added the extra NONE slot definitions to start2nd.lua. So not sure how you managed to get the extra slots by editing the Const/Dev files! You may have been tinkering with some other modded file.
## Post #1521
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2017-01-02T17:34:13+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> So, it is impossible to unlock the DLC via code. It is possible to unlock it via a particular Steam related hack.
It kind of makes me wonder why they bothered setting up checks for the console dlc since they refuse to take my money by offering them individually or as a pack, rather than exclusive to people willing to buy the same two games again.

Anyway can you share what you know about the Steam method of getting them?

> Reply from nasanhak
>
> You may have been tinkering with some other modded file.
Probably something like that. I think I may have disabled Snakebite's compatibility check or something while IH was already installed.
## Post #1522
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2017-01-02T17:41:11+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from CantStoptheBipBop
>
> Anyway can you share what you know about the Steam method of getting them?
Exe makes a call to steam services using steam_api64.dll checking if you own corresponding dlcs. You can change this behaviour by using dlls from pirated versions and fiddling with settings, but this will make the game illegal.
## Post #1523
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2017-01-03T14:46:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from CantStoptheBipBop
>
> 
Anyway can you share what you know about the Steam method of getting them?
Against forum rules! Piracy(even if DLC) and any kind of hack related discussion is off limit. You can find the info you are looking for via Google and Reddit easily enough though. Valve doesn't seem to care much about the hack itself
## Post #1524
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2017-01-03T18:13:02+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> Exe makes a call to steam services using steam_api64.dll checking if you own corresponding dlcs. You can change this behaviour by using dlls from pirated versions and fiddling with settings, but this will make the game illegal.
Thanks for the info. I figured out what to look for from that.

> Reply from nasanhak
>
> Valve doesn't seem to care much about the hack itself
That seems to be the consensus from random messages I read in my search. Anyway I guess it does fall under pirating so I'll just stop discussing it.

I found out the one thing I was really curious about with the console DLC. Black Ocelot really does get a nighttime camo bonus. I tried it out on a few different surface types at night and guard suspicion range never raised from 15m when crouch walking while the guard's vision cone was baited towards me via decoy. The player camouflage bonus lua file only deals with surface decals and models so I'm not sure how you'd go about giving a uniform a nighttime bonus.

Aside from that I've been experimenting with vehicles and damage/blast parameters lately. Not too much to share about the vehicles since that last time I talked about the physics files, just that I'm getting them a little more fine-tuned. Or perhaps usable is a better word.

```
<"PhVehicleAxisParam">
    <"maxBreakTorque"> <!--max braking power each axle-->
        <value>1234</value>
    </>
</>

<"PhVehicleNormalEngineParam">
    <"specPointAngularVelocity" arraySize=7> <!--factor in speed each gear-->
         <value>1234</value>
    </>
    <"specPointTorque" arraySize=7> <!--engine torque each gear-->
         <value>1234</value>
    </>
    <"specPointBreakTorque" arraySize=7> <!--seems to be braking power each gear-->
         <value>1234</value>
    </>
</>


|fpkdName.fox2| <!--sets weapon params, ui, vehicle index, instance counts-->
<"TppVehicle2WeaponParameter">
    <name="attackId" type="string"> <!--TppDamage.ATK_[string]; check EquipParameters.lua-->
        <value>ATK_Tankgun_30mmAutoCannon</value>
    </>
    <name="bulletId" type="string"> <!--TppEquip.BL_[string]; EquipParameters.lua-->
        <value>BL_Tankgun_30mmAutoCannon</value>
    </>
    <name="fireInterval" type="float"> <!--rate of fire; E=60\x where x is the desired RoF-->
        <value>0.12</value> <!--500RPM-->
    </>
    <name="minPitch" type="float"> <!--turret max depression angle-->
        <value>-0.04</value> <!-- -4 degrees-->
    </>
    <name="maxPitch" type="float"> <!--turret max elevation angle-->
        <value>0.6</value> <!--60 degrees-->
    </>
    <name="rotSpeed" type="float"> <!--turret rotation speed in degrees per second-->
        <value>0.3</value>
    </>
</>
```


You can also tweak vehicle performance by changing tire friction and vehicle body mass but it causes the physics to start acting funky, mainly when it comes to tire friction. Vehicle weapon number value types that are floating points apparently need to stay as that. It doesn't seem to matter if the value you're entering falls under uint8 or not.

The stuff I did with blast parameters is related to the vehicle tweaks. Namely you can make anti-tank missiles and HEAT tank shells behave like you'd expect them to (realistically you'd pretty much have to get hit directly with a HEAT round). Peace Walker did this pretty well so no idea why it changed in TPP, but I'm getting off topic.

```
BlastParameter={0,
    {TppEquip.BLA_[name], blastFlag, p2, p3} -- p2 seems to always be the damage/effect/warning range; p3 doesn't appear to change anything
    {TppEquip.BLA_ms00, 4, 0.1, 0} -- GROM-11 modified to only damage on direct hits
}
SupportWeaponParameter={0,--[p0==name, p1==ammoTotal, p2-3==check below, p4==grade]
	--[[Category
		[grenade]: 	p2==fuse, 				p3==effectDuration
		[mine]:		p2==triggerDistance,	p3==triggerConeDegrees
		[mineEMN]:	p2==triggerDistance,	p3==effectDuration
		[bait]:		p2=? aiAudioDistance or effectDistance,	p3==effectDuration
		[decoy]:	p2==durability
	]]
    {TppEquip.SWP_[p0], p1, p2, p3, p4}
    {TppEquip.SWP_DMine, 6, 2.5, 120, 3} -- [mine]
}
```
## Post #1525
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2017-01-03T18:38:45+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from CantStoptheBipBop
>
> 
I found out the one thing I was really curious about with the console DLC. Black Ocelot really does get a nighttime camo bonus. I tried it out on a few different surface types at night and guard suspicion range never raised from 15m when crouch walking while the guard's vision cone was baited towards me via decoy. The player camouflage bonus lua file only deals with surface decals and models so I'm not sure how you'd go about giving a uniform a nighttime bonus.
I had an exchange with jvarnes over from Nexus in March 2016 and here's what he had to say:

> So I can't find any of my MGS stuff (grrrreat). Here is what I can tell you based on my faulty memeory:
>
> 
>
> 
>
> 
>
> I never figured out *exactly* which number mapped to which specific ground texture (except maybe red Dirt since it was the only texture in that camo that was affected), but you can kind of figure out which "groups" of textures they are based by the camo iteslf. i.e. Golden Tiger only works on one terrain texture - the red dirt texture, Square works on all kinds of concrete/metal/flooring, Wetwork on the African marshy textures, Woodland/Olive drab on all the grass/bush textures, etc.
>
> 
>
> 
>
> 
>
> There is no entry for darkness/night time/shadow. My best guess is this is designated somewhere else. Splitter also has all zeros for it's terrain so either it simple doesn't work (couldn't 100% confirm) or again this special ability (camo while in a vehicle or mounted gun) is set elsewhere.
>
> 
>
> 
>
> 
>
> Camos were (hope I get this order right and hopefully they've added the new camos to the bottom of the list):
>
> 
>
> Olive Drab, Splitter, Square, Tiger Stripe, Gold Tiger, Desert Fox, Woodland, Wetwork, Gray Urban (same mappings as Square), Blue Urban (same mappings as Wetwork), ADP (desert fox + woodland)
>
> 
>
> Dunno where black ocelot falls, but I suspect it's one of the many zero ones on the end which most likely map to things like raiden, ninja, etc. since none of those costumes give a terrain camo bonus. If i had to guess Black ocelot is the very next value after ADP. BTW dunno how far this file has changed in the newer patches because I have even looked at the game in a few months. Based on the prior additions my guess is either they tacked the new camos to the end or they filled in some of those lines which were orginally zeros.
>
> 
>
> The camo numbers act as some kind of negative % penalty to the AI's notice check, but they make these checks so frequently that is almost useless when moving or when they are staring directly at you. The only real effect is has is to add an extra meter or two to distance you can be crouched or prone on the matching terrain type. Carboard Boxes work so much better than any camo does. You might try raising these numbers very high (above 99) to see if you can increase the effectiveness but my testing didn't really show much conclusive beyond I could crouch approach a few meters closer if the numbers were very high (over 60). 
>
> 
>
> To give a camo the benefits of another one just carefully copy the numbers from one camo to another. Like I said these appear to be grouped into related textures.
>
> 
>
> In the end the changes I made to camo were the least impactfull because well in my testing camo has the least effective use. In nearly every situation the box, shadows, weather, etc. are far more effective means of not being noticed since they actively reduce the amount of meters that vision cones and hearing radius reach out to.
>
> 
>
> Anyway that's the best I can offer. Like anything with modding it takes a lot of trial and error and testing to find results. If you uncover more you may want to include your discoveries in a readme or what not so future modders like yourself can benefit. I clearly should have added more nuts and bolts data to mine 
>
> 
>
> Good luck with the modding and hope you are still enjoying the game!
>
> 
>
> PS - I think it's a fantastic stealth and open world game. I just can't stand the story and campaign mode any more. I beat the game and that's good enough for me.
From my own experience, soldier sight works on an update function which likely updates every frame. There's a chance for the soldier to see you that is calculated every update. This is evident by the fact that while standing still within the 60m radius a soldier will see you all of a sudden when he couldn't a few seconds earlier. Likely this is an exe thing which is what would be needed for a real time system anyway.

Apart from camo indexes, all suit properties are part of the exe - the noise(again real time) they make as well as any special properties like the nigh time bonus or the higher healing rate of the Sneaking Suit or the damage resistance of the Battle Dress.

It's obvious there's no Lua for these and maybe a fox2 is responsible for assigning properties.

I do remember that after the v1.006 update The Boss and Naked Snake Sneaking Suits had broken sound elimination. An exe update is what fixed those.

Also, great work identifying the vehicle properties as well as the missile blast params.
## Post #1526
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2017-01-03T20:28:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> There's a chance for the soldier to see you that is calculated every update.
edit:Assets\tpp\pack\location\afgh\pack_common\afgh_common_fpkd\Assets\tpp\level\location\afgh\block_common has a lot of interesting things that sound like they should modify the effects of camo index. afgh_common_terrainMaterial.fox2 has collisionMaterialName properties with values that assign materials under the entity class GeoxTextureMaterialRegister. So for searching for what the material is assigned to like I mentioned further down you'd just preface the material with MTR_ (MTR_TURF_A). The properties under entity class ObjectBrushPluginBushDataElement in afgh_common_objectBrush.fox2 are also pretty interesting. camoufDensity, camofRadius, camofHeight properties may have something to do with the bushDensityThresold value in Soldier2ParameterTables.lua.

/edit

The special suit properties are probably all exe stuff like you were saying though. The most convincing part being what you said about an exe patch fixing sneak suit step noise. I've tried diving into different suit fpkd files before but didn't see anything that seemed connected to abilities. Those files seem to be mostly for handling the player model. I may as well share what I researched about the player camo file awhile back. I'm pretty confident about the material and fatigue names being accurate. You can look up the material name (MTR_IRON_A) in the location fpkd files to see what objects have been assigned it, and then check the texture files to see what it looks like. The unused materials in the camo file seem to mostly be small shit not worth bothering with anyway (tents, buckets, stuff like that). The material name order was acquired from RecoilMaterialTable.lua. EVA outfit is one of the greenery/desert mix camo types between PANTHER and C23.

```

this.fieldClothings={--o50050_sequence.lua 
	PlayerCamoType.OLIVEDRAB,
	PlayerCamoType.SPLITTER,
	PlayerCamoType.SQUARE,
	PlayerCamoType.TIGERSTRIPE,
	PlayerCamoType.GOLDTIGER,
	PlayerCamoType.FOXTROT,
	PlayerCamoType.WOODLAND,
	PlayerCamoType.WETWORK,
	PlayerCamoType.ARBANGRAY,
	PlayerCamoType.ARBANBLUE,
	PlayerCamoType.SANDSTORM,
	PlayerCamoType.BLACK,
	PlayerCamoType.MGS3,
	PlayerCamoType.PANTHER,
	PlayerCamoType.C23,--table 37
	PlayerCamoType.C24,
	PlayerCamoType.C27,
	PlayerCamoType.C29,
	PlayerCamoType.C30,
	PlayerCamoType.C35,
	PlayerCamoType.C38,
	PlayerCamoType.C39,
	PlayerCamoType.C42,
	PlayerCamoType.C46,
	PlayerCamoType.C49,
	PlayerCamoType.C52,
	PlayerCamoType.C16,--table 49
	PlayerCamoType.C17,
	PlayerCamoType.C18,
	PlayerCamoType.C19,
	PlayerCamoType.C20,
	PlayerCamoType.C22,
	PlayerCamoType.C25,
	PlayerCamoType.C26,
	PlayerCamoType.C28,
	PlayerCamoType.C31,
	PlayerCamoType.C32,
	PlayerCamoType.C33,
	PlayerCamoType.C36,
	PlayerCamoType.C37,
	PlayerCamoType.C40,
	PlayerCamoType.C41,
	PlayerCamoType.C43,
	PlayerCamoType.C44,
	PlayerCamoType.C45,
	PlayerCamoType.C47,
	PlayerCamoType.C48,
	PlayerCamoType.C50,
	PlayerCamoType.C51,
	PlayerCamoType.C53,
	PlayerCamoType.C54,
	PlayerCamoType.C55,
	PlayerCamoType.C56,
	PlayerCamoType.C57,
	PlayerCamoType.C58,
	PlayerCamoType.C59,
	PlayerCamoType.C60,
}

        -- /U==urban    /D==desert    /W==swamp/farmland    /R==redsoil    /M==mountain/rocky    /G==greenery
	{--82 materials
		0,--IRON_A		/U
		0,--IRON_B		/U
		0,--IRON_C
		0,--IRON_D
		0,--IRON_E		/U
		0,--IRON_F		/U
		0,--IRON_G		/U
		0,--IRON_M		/U
		0,--IRON_N		/U
		0,--IRON_W		/U
		0,--PIPE_A		/U
		0,--PIPE_B		/U
		0,--PIPE_S		/U
		0,--TIN_A
		0,--FENC_A		/U
		0,--FENC_B		/U
		0,--FENC_F		/U
		0,--CONC_A		/U
		0,--CONC_B		/U
		0,--BRIC_A
		0,--PLAS_A
		0,--PLAS_B
		0,--PLAS_W
		0,--PAPE_A
		0,--PAPE_B
		0,--PAPE_C		/U
		0,--PAPE_D
		0,--RUBB_A		/U
		0,--RUBB_B		/U
		0,--CLOT_A
		0,--CLOT_B
		0,--CLOT_C
		0,--CLOT_D		/U
		0,--CLOT_E		/U
		0,--GLAS_A
		0,--GLAS_B
		0,--GLAS_C
		0,--VINL_A
		0,--VINL_W
		0,--TILE_A		/U
		0,--TLRF_A
		0,--ALRM_A
		0,--COPS_A
		0,--COPS_B
		0,--BRIR_A
		0,--BLOD_A
		0,--SOIL_A		/D
		0,--SOIL_B		/D
		0,--SOIL_C		/W
		0,--SOIL_D		/W
		0,--SOIL_E		/W
		0,--SOIL_F
		0,--SOIL_G		/R
		0,--SOIL_H		/W
		0,--SOIL_R		/D
		0,--SOIL_W		/M
		0,--GRAV_A		/D
		0,--SAND_A		/D
		0,--SAND_B		/D
		0,--SAND_C		/D
		50,--LEAF		/G
		0,--RLEF
		0,--RLEF_B
		50,--WOOD_A		/G
		50,--WOOD_B		/G
		50,--WOOD_C		/G
		50,--WOOD_D		/G
		50,--WOOD_G		/G
		50,--WOOD_M		/G
		50,--WOOD_W		/G
		0,--FWOD_A
		50,--PLNT_A		/G
		0,--ROCK_A		/M
		0,--ROCK_B		/M
		0,--ROCK_P
		50,--MOSS_A		/G
		50,--TURF_A		/G
		0,--WATE_A
		0,--WATE_B		/W
		0,--WATE_C
		0,--AIR_A
		0--NONE_A
	},
```
## Post #1527
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2017-01-08T23:28:04+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

So update on the camo stuff. I've made a ton of progress on it and have the important stuff figured out. All of the lua tables are now ID'd aside from six that don't receive bonuses (Sneaking Suit (NS) is one of those). The associated textures and models for bonuses are ID'd as well with the exception of greenery model bonuses and urban bonuses. I've also written a [lua file to write a customized version](https://gist.github.com/cstBipBop/d316230d8d3a53d50eff5873ffcb196c) of player2_camouf_param.lua. It's pretty self-explanatory just change the camoParam.materialAssignment values to a different material table key if you want to change it or create a new table within material with a string(s) from material.nameToIndex.

[Wet/Swamp soil](http://i.imgur.com/xrhP54Q.png)
[Rocky soil](http://i.imgur.com/bMC4R4g.png)
[Red soil](http://i.imgur.com/EKUmm6S.png)
[Greenery soil](http://i.imgur.com/28Xce7T.png)
[Desert soil and models](http://i.imgur.com/eN7VQ8x.png)

ROCK_B covers basically every rock model, including the ruins where you fight quiet.
Desert: stone AFGH buildings are SOIL_A, sandbags are SAND_B.

The lua file I linked has comments in the material table with a little more info. I just don't feel like writing it out again. I did a recount of the entries and there are 91 tables, not 72 or whatever I said. The camo notes were kind of old.

Anyway [here's a lua](https://gist.github.com/cstBipBop/efe1afe19ae73115d65e110076978f75) with default values that's commented with fatigue names before each table.

I tried out a mod with lower values than 50 but at <32/40 (can't remember what I set it at) guard suspicion range jumped up to 70m when standing on the appropriate surface in daylight. Above those numbers it was a flat 45m. So I'd say the way camo affects AI vision is by player camo index being in x-y range. e.g. 100-150=45m, 0-99=70m.
## Post #1528
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2017-01-10T22:57:39+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> @Tex
I saw some problems with my start on foot LZs for MB and realized that vars.mbLayoutCode is not always 3 and does indeed change with time.
I mentioned this on Nexus back in May lol, but I only came across it myself because I was following up another bug back then (and I probably have missed a bunch in your messages myself so no worries)


> Reply from nasanhak
>
> vars.mbLayoutCode changes with each Command plant built. The overall MB layout depends on the Command cluster layout. The surrounding clusters attach to command and as a result, their position offsets change as more Command plants are built
Ah, that makes sense, good info.

> Reply from nasanhak
>
> vars.mbLayoutCode has not incremented by the time ReservePlayerLoadingPosition is called
Nice catch, thanks, doesn't seem to be any clear workaround, can't find any other variables with accurate equivalent info.
TppMotherBaseManagement.GetMbsClusterGrade seems to be updated at the same point as mblayout, other stuff is based on those rather than being independent.
So I guess the fallback is to shift the player back to the actual position on map start if they're out of bounds (the game already does this for a couple of situations, but it's at a point before mblayout is updated) 

> Reply from morbidslinky
>
> @tex
It seems that using IH's "startOffline" toggle also restricts me from developing/equipping the cosmetic DLC's.I tinkered with the init_sequence.lua, and I believe I have a solution.
Nice fix, thank you.

> Reply from CantStoptheBipBop
>
> So update on the camo stuff..
Neato. You could probably roll the camo modding code into player2_camouf_param itself.

Still trying to pull out of change of year busyness, but going ahead I don't think I'll be developing at the same pace. Even though the IH TODO remains endless.

IH r197 also allows alternative loading of most scripts from MGS_TPP\mod\<normal assets script path>, for those that want to do some slightly more rapid experimentation of with the existing game scripts.
## Post #1529
- Username: HeartlessSeph
- Rank: advanced
- Number of posts: 72
- Joined date: Tue Sep 15, 2015 9:13 am
- Post datetime: 2017-01-11T18:15:58+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hey everyone, got a new script for all of you to play around with. This lets you edit UVW maps on models. It is unfortunately a lot more tedious to work with since I'm too lazy to have these scripts search through the models and auto inject. First of all the link to what you need: [https://www.dropbox.com/s/n9uhcxipglt19 ... g.zip?dl=0](https://www.dropbox.com/s/n9uhcxipglt191r/MGSV%20UV%20Editing.zip?dl=0)

Okay first things first, you'll need to import the model you're going to be UV editing using the MGSV Import script that I provided in the link. You HAVE to use that one unless you know the size of the Vbuffer. Immediately, open up the MaxScript Listener and it will list (multiple times) the value you need to use. Now open up Inject UV Maps.ms toward the bottom of the file it will show:

fseek f 0x1C #seek_cur
--Write the value that 3ds tells you over 1C

Just write what 3DSMax value was shown over 0x1C. Now, go back to 3DS Max and go to the models you are going to edit the UVW maps of and use the OutputUV.ms script on one mesh at a time and save them so you know it's the original file for those objects. We'll be using Object000original.UV. Now do any UVW map edits on anything you need to edit, and make sure that it's collapsed on the model (aka: Make sure that you have no modifiers.)

Here comes the annoying part: Open up your UV file, Object000original and highlight the first four bytes in the file and search for that in the model you were editing. Now that that value is highlighted inside of HxD or whatever Hex Editor you use, copy down the Address that the value is located at. Now you back into InjectUVMaps.ms and you will see this line:

fseek f 0x30E4C #seek_set
--Write the Offset where the UV Maps begin over 30E4C

Write down the offset/address that you copied over 0x30E4C. Now you can save the script and go back into 3DSMax, select the mesh that you made the UV edits to and open the InjectUVMaps.ms file. It will ask you to open up a file, go to the FMDL file that you imported from the beginning and open it. Finally, after that point all of the newly edited UV Maps should be put into your model.

I know this isn't exactly the best description of how to use this but I kind of suck at explaining stuff. If there is any confusion I will try to clear it up. At some point I'm planning on making edits to all of my scripts so that it's an auto inject into the file anyway but once again I'm a very lazy person so it might be a while.
## Post #1530
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2017-01-12T16:39:36+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> I mentioned this on Nexus back in May lol, but I only came across it myself because I was following up another bug back then (and I probably have missed a bunch in your messages myself so no worries)
Totally remember but always thought it was unrelated lol! There was this nagging feeling at the back of my head that kept telling me to check MB LZs with a new save file. But (4 LZs*7 Clusters*4 Layouts) always seemed like a pain in the butt.

> Reply from Tex
>
> 
TppMotherBaseManagement.GetMbsClusterGrade seems to be updated at the same point as mblayout, other stuff is based on those rather than being independent.
So I guess the fallback is to shift the player back to the actual position on map start if they're out of bounds (the game already does this for a couple of situations, but it's at a point before mblayout is updated)
From all my testing mbLayoutCode is finally updated in TppMission.Load() and only applied during the load. Since on foot position is decided before that point in TppMain.ReservePlayerLoadingPosition, there is no way to fix it at load time.

I used a warp at TppMain.OnMissionCanStart the same as you. My warp only activates if the layout code has changed. Which means it may run only 4 times MAX instead of every time unlike yours(albeit with a -9 height posY check) but there doesn't seem to be a clean way to fix this.

Also and this is interesting, since I am using a fake heli gimmick, the heli actually uses the PullOutRoute for MB. When the MB layout changes, the heli route is still the same but the heli spawn point is correctly over the new LZ co-ords. This means that routes may be pos based?

The PullOut route is nothing but the Drop Route with a different suffix:
DropRt: ly003_cl00_30050_heli0000|cl00pl2_mb_fndt_plnt_heli_30050|rt_apr
PullOutRt: ly003_cl00_30050_heli0000|cl00pl2_mb_fndt_plnt_heli_30050|rt_tkof

For MB, only the two roof LZ PullOut routes do not follow this convention so have used StrCode32 numbers for those instead.

Also since we are already on the topic, and since this has been bugging me about your LZs code for a while, the tables in TppLandingZone are misleading:
aprLandingZoneName is actually the LZ name
drpLandingZoneName is actually the drop route. "_drp_" is simply added between the "lz" and actual name part

There are proper approach routes for each free roam(non-MB) LZ present which can be used by replacing "_drp_" with "_apr_" if I remember correctly. These are used by default when the heli is called from stand by to an LZ.

I could not figure out the names for the take off routes for free roam so ended up using the integer values lol. Yes lots and lots of deployments and pullouts.

EDIT:
Almost forgot and this is interesting lol. After you pointed me to init.lua for your InfLog, I decided to do the same myself. Loading Settings, InfInspect, Log and Startup luas in init and I now see you have done the same 

And it seems Init(missionTable) as well as OnReload(missionTable) functions are required when creating a messageExecTable in a _requireList Lua table. Otherwise if the message is tied to a "sender", it will not work. It will work without these functions provided a sender is not present. This is weird behavior but I haven't debugged as to why this is
## Post #1531
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2017-01-14T16:50:58+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> Neato. You could probably roll the camo modding code into player2_camouf_param itself.
That would probably be simpler than keeping track of changes to it outside of the game.

I finished an alpha build of a camo index UI feedback mod. Some things still don't work properly but it takes most parameters into account. It just references player status and misc environment factors like weather and mission time. You can trigger it by holding the reload button to get an iDroid log display at a max of every second.

Notes about player status since I couldn't find anything about them:

```
	'STAND',--standing; false if HORSE_STAND; true when ON_VEHICLE
	'SQUAT',--crouching or doing cbox slide
	'CRAWL',--prone or when CBOX_EVADE
	'NORMAL_ACTION',--true for most generic on-foot movement-related actions including STOP; false when ON_VEHICLE or ON_HORSE or CBOX
	'PARALLEL_MOVE',--aiming
	'IDLE',
	'GUN_FIRE',--true even with suppressor; GUN_FIRE and GUN_FIRE_SUPPRESSOR not true with player vehicle weapons
	'GUN_FIRE_SUPPRESSOR',--true when discharge with suppressor; GUN_FIRE also true when this
	'STOP',--when idle on foot or cbox; true when CBOX_EVADE; always true if ON_VEHICLE; 
	'WALK',--slow speed
	'RUN',--default speed
	'DASH',--fast speed
	'ON_HORSE',--piloting D-Horse
	'ON_VEHICLE',--piloting vehicle
	'ON_HELICOPTER',
	'HORSE_STAND',
	'HORSE_HIDE_R',
	'HORSE_HIDE_L',
	'HORSE_IDLE',--HORSE_[speed] also used for D-Walker
	'HORSE_TROT',--slow speed
	'HORSE_CANTER',--default speed
	'HORSE_GALLOP',--fast speed
	'BINOCLE',--using int-scope
	'SUBJECT',--first-person camera
	'INTRUDE',
	'LFET_STOCK',
	'CUTIN',--placing guard in something (probably dev typo for PUT_IN)
	'DEAD',
	'DEAD_FRESH',
	'NEAR_DEATH',
	'NEAR_DEAD',
	'FALL',
	'CBOX',--true while in cbox and not sliding and not CBOX_EVADE
	'CBOX_EVADE',--crawling out of cbox; CBOX false if true
	'TRASH_BOX',
	'TRASH_BOX_HALF_OPEN',
	'INJURY_LOWER',
	'INJURY_UPPER',
	'CURE',
	'CQC_CONTINUOUS',
	'BEHIND',--pressed against cover/wall
	'ENABLE_TARGET_MARKER_CHECK',
	'UNCONSCIOUS',
	'PARTS_ACTIVE',--seems to always be true when deployed or in ACC
	'CARRY',
	'CURTAIN',
	'VOLGIN_CHASE'
}
```


Notes about camo index mod (If anyone has more info on these then do share):
```
To do:
	- CBOX: check current equipped item itemID when PlayerStatus.CBOX and when doing cbox slide to override fatigue camo with cbox camo type
Limitations:
	- Camo surface bonus being given if material type exists at location rather than by catching player collision with material. Need to experiment with getting info from Capture Cage functions.
	- Player illumination not checked. Might be able to do partial with OnDamage() ATK_Flashlight and ATK_FlashlightAttack
	- No status check for prone stealth mode. Might be possible by keeping track of action button press
	- No status check for vehicle weapon discharge. Need to add vehicle fire button press to calculation. Will still need to get ammo count at some point.
	- Free Roam enclosed vehicle bonus being given for piloting any deployable vehicle. Need to figure out how to detect player vehicle name to differentiate.
	- No status check for vehicle speed. PlayerStatus always returns STOP.
	- Hiding in truck cabin is not checked. PlayerStatus always STAND in vehicles. Button could be checked but would still need to detect player vehicle name.
	- Stealth Camouflage and parasite abilities not factored into index.
]]
```

[Mod main script](https://gist.github.com/cstBipBop/d20c0cdb57217f6ac830d18317607d9b)
## Post #1532
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2017-01-14T17:22:26+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Figured something out so here's a guide

How to add BGM from any other mission:
1. First find the code associated with the BGM track via the mission specific '_sequence' or '_demo' Lua file. In this example, I have taken the heli pullout BGM from Mission 2 Diamond Dogs:

```
	TppSound.SetSceneBGMSwitch("Set_Switch_bgm_s10030_departure")
```


2. Next step is to look in the mission's '_sound' Lua file and identify the BGM information. In this case, that file is 's10030_sound.lua':

```
		bgm_mtbs_departure = {
			start = "Play_bgm_s10030_departure",
			finish = "Stop_bgm_s10030_departure",
			switch = {
				"Set_Switch_bgm_s10030_helicall",
				"Set_Switch_bgm_s10030_departure",
			}
		}
	}
```


3. Now we will look at how to add this BGM track to the Zoo which is a perfect example since it does not have it's own BGM info. For the purposes of this demo, this particular BGM has already been added to Motherbase free roam f30050 correctly and f30050 files will be used to setup the BGM data in f30150(Zoo)

4. So first things first. The BGM banks are located in the path "\Assets\tpp\sound\asset" in each of the chunk dats. The sound banks are sbp files. These sbp files are loaded via a mission specific sdf file which is present in the '_area.fpkd' file of the mission.

5. The BGM we are porting over is from M2(s10030) and belongs to chunk3. The paths to the sbp and sdf files are as below:
	chunk3\Assets\tpp\sound\asset\bgm_s10030.sbp
	chunk3\Assets\tpp\pack\mission2\story\s10030\s10030_area_fpkd\Assets\tpp\sound\package\bgm_s10030.sdf

6. The sdf file can be unpacked and repacked via the FOX2 tool. It simply has a reference to which sound banks to load from the "\Assets\tpp\sound\asset" folder. So in the case of s10030, the entry in the sdf file looks like this:

```
		  <value>bgm_s10030</value>
```


7. Any additional sound banks can be added via an extra value tag.

8. Let's begin porting over this BGM to the Zoo. Unpack f30050.fpkd and f30150.fpkd via GzsTool.

9. f30150 does not have it's own BGM data so copy the following files:
	f30050_sound.lua
	f30050_sound_music.fox2

	from:
	f30050_fpkd\Assets\tpp\level\mission2\free\f30050

	to:
	f30150_fpkd\Assets\tpp\level\mission2\free\f30150

10. Rename the copied files to match with the f30150 naming convention:
	f30150_sound.lua
	f30150_sound_music.fox2

11. We are only interested in the BGM list present in 'f30150_sound.lua' so change the list to as follows:

```
			bgm_mtbs_departure = {
				start = "Play_bgm_s10030_departure",
				finish = "Stop_bgm_s10030_departure",
				switch = {
					"Set_Switch_bgm_s10030_helicall",
					"Set_Switch_bgm_s10030_departure",
				}
			},
	}
```


12. This is an important step. Unpack 'f30150_sequence.fox2' via FOX2 tool. Look for the entity TppSimpleMissionData in the generated xml. Under the subScripts tag, you want to update the sound key so it will now look like this:

```
	<value key="sound">/Assets/tpp/level/mission2/free/f30150/f30150_sound.lua</value>
```


	For a mission that already uses BGM this step isn't necessary but for Zoo(f30150) and MBQF(f30250) it is important! Once the xml is update, rebuild the FOX2 file via the FOX2 tool.

13. 'f30150_sound_music.fox2', that we copied over and renamed earlier, holds the reference to the sdf file and can be unpacked via FOX2 tool. Since the file was copied over from f30050, it holds the same sdf file path as for Motherbase(f30050). It should be possible to change the sdf name but have not tried this yet. So in this case, simply use the same name for the sdf file.

14. Copy 'bgm_mtbs_phase.sdf' from:
	f30050_fpkd\Assets\tpp\sound\package

	to:
	f30150_fpkd\Assets\tpp\sound\package

15. Unpack the copied over 'bgm_mtbs_phase.sdf' via FOX2 tool. It will hold the load banks as mentioned earlier. Since this file it from f30050, it already holds sound banks from MB:

```
	  <value>bgm_mtbs_phase</value>
	  <value>p51_020030</value>
	</property>
```


16. Change this to:

```
	  <value>bgm_s10030</value>
	</property>
```


	Now repack the xml via FOX2 tool.

	While there is no need to remove the other sound banks at all, Zoo doesn't use any BGM so they are really not necessary. If adding sound banks to a mission that already has BGM sound banks, you would want to add an extra value tag entry.

17. Now that all our files and data is ready, all we need to do is repack the 'f30150.fpkd' file with the additional files and write the code.

18. Open 'f30150.fpkd.xml' that GzsTool would have generated and add the following entries:
	<Entry FilePath="/Assets/tpp/level/mission2/free/f30150/f30150_sound_music.fox2" />
	<Entry FilePath="/Assets/tpp/sound/package/bgm_mtbs_phase.sdf" />
	<Entry FilePath="/Assets/tpp/level/mission2/free/f30150/f30150_sound.lua" />

	Entries have to be added in alphabetic order first by file type and then by full path to the file. It's a bit tricky but if you look at 'f30050.fpkd.xml' you will understand.

	Repack the fpkd via GzsTool.

19. In order to fire this BGM, I have tied it to the pullout message from the heli, but that really isn't necessary:

```
		return Tpp.StrCode32Table{
			GameObject={
				{
					msg = "StartedPullingOut", sender = {"SupportHeli", "TppHeli2"},
					func = function ()
						this.PlayPulloutBGMFromM2()
					end
				},
			}
		}
	end
	..................
	..................
	..................

	function this.PlayPulloutBGMFromM2()
		TppSound.SetSceneBGM("bgm_mtbs_departure")
		TppSound.SetSceneBGMSwitch("Set_Switch_bgm_s10030_departure")
		TppSoundDaemon.SetMute( 'HeliClosing' )
	end
```


20. If you did everything right, and if I didn't miss any step then you would have ported over the BGM from M2 to the Zoo.

21. Interesting tidbit: the engine is capable of playing audio files from the middle. The BGM file in this case is present in bgm_s10030.sbp as the file 'File0001'. This actually consists of two separate tracks which the call TppSound.SetSceneBGMSwitch knows how to distinguish based on the bgmList in '_sound' Lua file. A lot of missions use this approach for example the Prologue/M46 have TMWSTW track stitched together with two other tracks. Why they would do something like this is beyond me. Maybe some kind of performance improvement by loading a single track into memory instead of switching tracks?

22. It may be possible to load sbp sound banks across chunks provided they are added to 00.dat


Final results(please forgive the shitty quality of the first video):
[https://youtu.be/4jWel1BPF1Q](https://youtu.be/4jWel1BPF1Q)
[https://youtu.be/xpUNNDQW6KY](https://youtu.be/xpUNNDQW6KY)
[https://youtu.be/58aX4zDia_8](https://youtu.be/58aX4zDia_8)


@morbidslinky Helispaces have the following fpkds associated with them:
	h40010_area.fpkd
	h40020_area.fpkd
	h40050_area.fpkd
	h40010_area.fpkd

While they do have '_sound_music.fox2' file, this file does not refer to any sdf file. They do have '_sound_se.fox2' as well which does refer to sdf files which in turn refer to either "se" or "vox" sbp packs. These are sound effect and dialogue packs not BGM.

The reason I mention this is for that elusive sortie prep BGM.

So my guess is that the BGM is either part of the exe(highly unlikely) or is stitched together with some other common BGM file that is loaded for the ACC
## Post #1533
- Username: youarebritish
- Rank: n00b
- Number of posts: 13
- Joined date: Fri Oct 30, 2015 4:23 am
- Post datetime: 2017-01-14T22:41:56+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hello! Long time lurker, first time poster. The videos of the custom sideops inspired me to finally start doing some digging of my own, as I want to contribute to the effort.

I've been investigating the terrain data, with the hopes of figuring out how to modify it. I've made a decent bit of progress, and thought I'd share what I've found so far.

tre2 files
This was what I figured contained the terrain data at first and was what I spent most of my time so far investigating. So far, I've found the format to go something like this:

Metadata: 704 bytes
Heightmap
Splatmap (0.4x size of heightmap)
MaterialIds? (1/4 size of splatmap)
??? (same size as materialIds)
Footer: 240 bytes

I haven't figured out what any of the metadata is yet, but the heightmap is what we're really interested in. It looks to be a bunch of 4-byte float heights, which I assumed would be a power of 2 size, but it appears to be 10x a power of two. Cypr's heightmap is 163840 bytes, Afgn/Mafr is 655360 bytes, Afc0 is 10240 bytes, Afda is 10240, and Afn0 is also 10240.

I tried replacing the heightmap data for Afc0 with all 0 values, hoping to load a totally flat terrain, but there wasn't any visible difference. I also thought that the resolution of the data is suspiciously small given how big the maps are. So my current theory is that the .tre2 terrain files are actually a lower-res version of the terrain that's loaded to show the distance terrain. I'll need to try my flattening idea on a bigger map to see if I get noticeable results.

That led to my finding...

htre files
I haven't yet found any references to these files in any XML files, and I stumbled upon them by accident. They have a very similar format to the .tre2 files, except the heightmap data is power of two size (!). There appear to be multiple of these for each MGO map, and are named with the format: afc0_107_101_terrain.htre. I haven't looked too deeply into them yet, but I'm guessing/hoping these contain the actual terrain tile height data.

I'm pretty new to reversing so I haven't yet been able to massage the height data into something usable, but I'm going to take a stab at it a little later today.

EDIT: So I managed to extract cypr's tre2 heightmap data and converted it to floats. I expected values in the range of 0-1, but the largest value I'm seeing is 7.972397. :/

EDIT 2: I tried interpreting afc0's height data as raw16 and, while it doesn't look correct, you can clearly see what look like terrain-like features. Hmm...
[None](https://xentaxbackup.github.io/file/12218_None)
## Post #1534
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2017-01-18T02:17:05+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from youarebritish
>
> terrain data infoInteresting stuff. Nice work.

I updated the camo script. It's mostly bug fixes and minor script optimization. [link](https://gist.github.com/cstBipBop/d20c0cdb57217f6ac830d18317607d9b)

edit: error in script. Fixed now.
## Post #1535
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2017-01-19T14:47:52+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Is there a person who specializes in cyphers? I dumped some traffic between konami servers and the game. All data is encoded using base64, but it looks like garbage after decrypting. I can provide tcp dump (to look at using wireshark) or just raw data. PM me for more info, I don't want to share my login information to everyone on the internet.
## Post #1536
- Username: cra0
- Rank: ultra-veteran
- Number of posts: 438
- Joined date: Fri Apr 27, 2012 4:37 pm
- Post datetime: 2017-01-20T02:29:03+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Since I haven't done anything for this project for a long time here are my source files
[https://github.com/cra0kalo/FoxEngineLib/](https://github.com/cra0kalo/FoxEngineLib/)
## Post #1537
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2017-01-20T19:47:47+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from cra0
>
> Since I haven't done anything for this project for a long time here are my source files
https://github.com/cra0kalo/FoxEngineLib/You're the one that made that model viewer right? Any chance you can release it?
## Post #1538
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2017-01-21T18:49:04+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

@CantStoptheBipBop
I am working on a camo setting for my mod. So came across this. We all have tried values between 0-100 but have u ever tried 1000 or 2000?

With 1000 soldiers will not see you at all in plain sight provided you have the right camo! They will hear you however and then they'll see you. But with a value like 2000 they do not see you even if they can hear you. I think the stealth camo item sets the camo index to ridiculous values similar to 2000.

Also and this is awesome, a value like 2000 means you can sprint through enemy outposts which also means you can figure out exactly what terrain a certain area is. Contrary to my assumptions, camo does not tie in to the shrubs/grass/soil in the immediate vicinity around the player but belongs to an entire block(small chunks of the map). At least this seems to be the initial result of this new testing.

Also regarding BlastParameter and SupportWeaponParameter info that you shared earlier - thank you! Saved me a tonne of work!
## Post #1539
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2017-01-22T04:27:18+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> camo experimentVery interesting. I never tried because I assumed 640 was the max applicable bonus since it's the highest value used in enemyParams. So that means when using stealth camouflage the camo index gets boosted to at least 1e3 since the AI behavior you described matches up with it. Parasite camo gets boosted to at least 2e3. Both of them get disabled during a combat alert. I'd assume the night and vehicle bonuses happen in a similar way, maybe under the same function. Their values get boosted by 50, the default material bonus in the camoParam table. Stealth button press when prone and vehicle should operate in a similar manner to camouflage. The camo bonus sheet from the official game guide someone posted (clearly old information based on material bonuses being 50 instead of 10) says that the stealth button reduces enemy sight to 8 meters, so 640+n is its bonus. The function is probably structured as follows:
```
	local n=0
	local c=camoIndex
	local ENCLOSED={Vehicle.type.EASTERN_TRACKED_TANK,Vehicle.type.WESTERN_TRACKED_TANK,Vehicle.type.EASTERN_WHEELED_ARMORED_VEHICLE,Vehicle.type.WESTERN_WHEELED_ARMORED_VEHICLE}

	if (bit.band(vars.playerPlayFlag,PlayerPlayFlag.USE_STEALTH)==PlayerPlayFlag.USE_STEALTH) or (bit.band(vars.playerPlayFlag,PlayerPlayFlag.USE_INSTANT_STEALTH)==PlayerPlayFlag.USE_INSTANT_STEALTH) then
		if vars.playerPhase~=TppGameObject.PHASE_COMBAT then
			n=n+1e3
		end
	end

	if (bit.band(vars.playerPlayFlag,PlayerPlayFlag.USE_PARASITE_CAMO)==PlayerPlayFlag.USE_PARASITE_CAMO) then
		if vars.playerPhase~=TppGameObject.PHASE_COMBAT then	
			n=n+2e3
		end
	end

	if (bit.band(vars.playerFlag,PlayerFlag.CHARA_COLLISION_DATA)) then -- pseudo code; actual exe string minus PlayerFlag
		if PlayerInfo.AndCheckStatus{PlayerStatus.ON_VEHICLE} then
			if vars.playerCamoType==PlayerCamoType.SPLITTER then
				n=n+50
			end
		end
	end

	if PlayerInfo.AndCheckStatus{PlayerStatus.ON_VEHICLE} then
		if vars.missionCode==30010 or vars.missionCode==30020 then
			if vars.playerPhase~=TppGameObject.PHASE_COMBAT then
				local CHECKED=false
				for _,v in ipairs(ENCLOSED) do
					if not CHECKED then
						if v==Player2GameObject.TppVehicle2 -- psuedo code
							n=(n+((TppSoldier2.ReloadSoldier2ParameterTables.sightCamouflageParameter.discovery.chara.enemy)*1.3))
							CHECKED=true
						end
					end
				end
			end
		end
	end

	if TppClock.GetTimeOfDay()=='night' and vars.playerCamoType==PlayerCamoType.BLACK then
		n=n+50
	end

	return c+n
end
```


So I should be able to check the use of stealth camo now in the Camo Index mod. Do you happen to know how to check the itemId of the currently equipped item? I couldn't find a function or vars.player.* anywhere for them. With that I could also give an appropriate surface bonus for the cboxes. Also curious about getting currently equipped cbox poster.

I checked the exe awhile back and found a flag that indicated whether a material, or night, or vehicle bonus is being is being received. Quick way to see it is to stand on a bonused surface and do a scan for the value 1112014848 and then step on an unbonused surface and scan for the value 0. No idea what its name is for calling that from lua but that would be way easier for checking surfaces than baiting AI towards you everywhere.

It's mainly surface bonuses and rock model bonuses for fatigue camos but bushDensity looks to be the max bonus from hiding in bushes, which you can find the exact bonus of in the common location files.
## Post #1540
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2017-01-22T23:32:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> Also since we are already on the topic, and since this has been bugging me about your LZs code for a while, the tables in TppLandingZone are misleading:
aprLandingZoneName is actually the LZ name
drpLandingZoneName is actually the drop route. "_drp_" is simply added between the "lz" and actual name part
Those are KJPs names for those vars, not something I deminified. I just continued using them.
I do agree they can be a bit misleading, and I do see one case where it tripped me up naming a var in one of my own features. And there's probably some other cases where I'm specifically referring to the drop route that I should label as such.
KJPs reasoning as near as I can figure is they are trying to differentiate variable wise between one lz being used for both approach (heli going to lz mid mission) and drop (carrying player from mission start).
The issue there is the landing zone entity has a reference to the actual approach route, so the lz name is used as the id for various functions there, but it doesn't have a reference to the drop route, so the functions use the drop route name instead.
Goodness knows why they just didn't extend the lz entity.

You were looking for the return route, which is usually the lz name with a _rtn tag, seen via the TppLandingZoneData entities in the fox2.
I don't remember if you'd asked me about return routes before, sorry I'm telling you after you've already had to manually gather them.

@CantStoptheBipBop
Bringing out some of your questions since they're generally informative:

Messages: recieving/subscribing to messages for your own module requires a bit of setup:

```
  return Tpp.StrCode32Table{
    GameObject={
      {msg="Damage",func=this.OnDamage},
    },
  }
 end

function this.Init(missionTable)
  this.messageExecTable=Tpp.MakeMessageExecTable(this.Messages())
end

function this.OnReload(missionTable)
  this.messageExecTable=Tpp.MakeMessageExecTable(this.Messages())
end


function this.OnMessage(sender,messageId,arg0,arg1,arg2,arg3,strLogText)
  Tpp.DoMessage(this.messageExecTable,TppMission.CheckMessageOption,sender,messageId,arg0,arg1,arg2,arg3,strLogText)
end

```


This setup works for Tpp.requires modules along with IH external (MGS_TPP\mod) modules.

For your particular request CantStoptheBipBop you could possibly use PlayerDamaged message

```
{msg="PlayerDamaged",func=function(playerIndex,attackId,attackerId)

```

or msg OnDamage(gameId,attackId,attackerId) like you were asking, but you'd need to do a GetTypeIndex check on gameId to see if it's a player.
attackId is the TppDamage.ATK_
You can look at InfMain.OnDamage for an example usage (though I see I have a bug, my GetTypeIndex check has gone awol somehow), though there I'm checking damage on soldiers not player.
Can also look at InfLookup.tppDamageEnumToName to see my debug function to get TppDamage enum name from the enum (but it needs a bit of a rework to seperate out all the other enums in TppDamage)


For currently-selected-item I had quick test of:
Player.GetEquipTypeIdBySlot(PlayerSlotType.ITEM,vars.currentItemIndex)

But the returned equipId didn't seem to be right and wouldn't change with currentItemIndex.

Otherwise theres a couple of messages you may want to experiment with:

```
    {msg="OnEquipItem",

    {msg="OnEquipHudClosed",

```


You can get the Vehicle.type via

```
local vehicleType=GameObject.SendCommand(vars.playerVehicleGameObjectId,{id="GetVehicleType"})
```


Has anyone had any success with loading lua dll modules in the engine? As far as I've figured mgsvtpp.exe doesn't export any of the lua functions (or export any functions for that matter) so it's probably a no-go anyway, but it's worth asking.
## Post #1541
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2017-01-24T20:09:26+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

It seems that game sends queries with login-related info(i.e. your amount of nukes) on one url, while everything else(global amount of nukes, fob event info, etc) is sent on another.
Here is a request for nuke amount and server response (TppServerManager.GetNuclearNum()) (most likely base64, 76 characters per line, separated by \r\n) - [https://mega.nz/#F!0lBmwSTK!Hxo4l6VbsnqaaK0TMR1YuQ](https://mega.nz/#F!0lBmwSTK!Hxo4l6VbsnqaaK0TMR1YuQ). It feels like xml, but I can't advance any further. If someone deciphers this, we will be able to talk to server without launching the game (or at least pull info that doesn't require auth).

All requests start with 
```
YnHdLj/1b4RBZXynl0xG1B0domEayp/
```
 which looks like a header. 

Stuff I tried:

matching first 12 bytes with 12 bytes of files in TPP (encrypted and decrypted using MGSV_QAR_TOOL) - no success
same for GZ - no matches as well

EDIT: all nuke requests are done during login procedure. Calling TppServerManager.GetNuclearNum() will just print cached value instead of pulling it from server. Looks like captured info above is just keep-alive requests.
## Post #1542
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2017-01-27T18:44:20+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Figured I would leave this here in case anyone wants to mess around with it:

FsmTool v0.1

Quickly made tool to extract the chunks from .fsm files. Cannot repack them currently.

There appears to be two separate types of data chunks stored in .fsm files. DEMO chunks and SND chunks. I think the DEMO chunks are the animation data and SND chunks appear to be Wwise Vorbis audio files cut into chunks. I haven't tried patching the SND chunks back together to see if they make a complete audio file yet.
## Post #1543
- Username: Wormheart
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Wed Oct 07, 2015 4:28 am
- Post datetime: 2017-01-27T21:15:28+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Off the beaten path, but has anyone found out where Quiet's boss model is?
## Post #1544
- Username: caplagrobin
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Fri Oct 07, 2016 2:17 am
- Post datetime: 2017-01-28T05:26:22+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Wormheart
>
> Off the beaten path, but has anyone found out where Quiet's boss model is?
Assets\tpp\pack\mission2\common\mis_com_quiet.fpk works for me
## Post #1545
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2017-01-28T06:49:10+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Has anyone figured out what all the params in ReloadDamageParameter in DamageParameterTables.lua are for.

The 3rd and 2nd last are Lethal and Non-Lethal damage.
## Post #1546
- Username: Wormheart
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Wed Oct 07, 2015 4:28 am
- Post datetime: 2017-01-28T09:17:59+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from caplagrobin
>
> Wormheart wrote:Off the beaten path, but has anyone found out where Quiet's boss model is?
Assets\tpp\pack\mission2\common\mis_com_quiet.fpk works for me

Thanx!
That means any model swap for Assets\tpp\pack\mission2\common\mis_com_quiet.fpk will appear in Mission 11, right?
Gonna try it out.
## Post #1547
- Username: caplagrobin
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Fri Oct 07, 2016 2:17 am
- Post datetime: 2017-01-28T16:49:45+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Wormheart
>
> caplagrobin wrote:Wormheart wrote:Off the beaten path, but has anyone found out where Quiet's boss model is?
Assets\tpp\pack\mission2\common\mis_com_quiet.fpk works for me

Thanx!
That means any model swap for Assets\tpp\pack\mission2\common\mis_com_quiet.fpk will appear in Mission 11, right?
Gonna try it out.
Not in the Helispace/Mother Base cutscenes after Mission 11.
## Post #1548
- Username: Jonathan Ingram
- Rank: n00b
- Number of posts: 11
- Joined date: Mon Jun 22, 2015 6:20 am
- Post datetime: 2017-01-28T20:48:03+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> There appears to be two separate types of data chunks stored in .fsm files. DEMO chunks and SND chunks. I think the DEMO chunks are the animation data and SND chunks appear to be Wwise Vorbis audio files cut into chunks. I haven't tried patching the SND chunks back together to see if they make a complete audio file yet.
You should be able to make a complete stream out of the sound chunks. I wish I remember who wrote it, but I found a tool for extracting the wwise streams and its source on Reddit a while back. [https://dl.dropboxusercontent.com/u/884 ... xtract.zip](https://dl.dropboxusercontent.com/u/88446209/fsmextract.zip)
## Post #1549
- Username: Wormheart
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Wed Oct 07, 2015 4:28 am
- Post datetime: 2017-01-29T12:29:20+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

All these tutorials on how to swap Snake, but very little in the way of swapping other characters (I know, multiple versions for this quest and that make it more difficult).

Mewants to swapz which keep the new model on Quiets Motherbase versions (mtbs cutscenes, medbay) AND her boss model. So far only been successful with her basic buddy model, but she turns back to original model once off the helicopter at motherbase (so she's scripted to switch to another model after going invisible at the helipad).

So far found these on Quiet (as in the fpk/fpkd/ptfxs set).

Chunk0/Assets/tpp/pack/mission2/common>mis_com_quiet (where is this one used?)
Chunk1/Assets/tpp/pack/buddy/quiet (yuge bundle of buddy versions. I guess it does what is says on the can)
Chunk1/Assets/tpp/pack/mission2/quest/battle/bossQuiet (this must be her mission11 model, QARTools crashes when repacking with swaps on this one)
Chunk3/Assets/tpp/pack/mission2/free/f30050>f30050_mbQuiet (motherbase version? Is this the model used in her Motherbase roaming, medbay cell and motherbase cutscenes-rain, shower, stinky Snake?)

Shamelessly asking for it.
## Post #1550
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2017-01-29T12:39:41+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Wormheart
>
> quiet models

```
chunk0/mis_com_quiet_fpk\Assets\tpp\chara\qui\Scenes\qui0_main0_def.fmdl
chunk0/s10010_d01_fpk\Assets\tpp\chara\qui\Scenes\qui1_main0_def.fmdl
chunk0/s10280_d01_fpk\Assets\tpp\chara\qui\Scenes\qui1_main0_def.fmdl
chunk1/buddy_quiet2_00_fpk\Assets\tpp\chara\qui\Scenes\qui0_main0_def.fmdl
chunk1/buddy_quiet2_01_fpk\Assets\tpp\chara\qui\Scenes\qui0_main0_bld.fmdl
chunk1/buddy_quiet2_02_fpk\Assets\tpp\chara\qui\Scenes\qui0_main0_slv.fmdl
chunk1/buddy_quiet2_03_fpk\Assets\tpp\chara\qui\Scenes\qui0_main0_gld.fmdl
chunk1/buddy_quiet2_04_fpk\Assets\tpp\chara\qui\Scenes\qui4_main0_def.fmdl
chunk1/buddy_quiet2_05_fpk\Assets\tpp\chara\qui\Scenes\qui5_main0_def.fmdl
chunk1/qest_bossQuiet_00_fpk\Assets\tpp\chara\qui\Scenes\qui0_main0_def.fmdl
chunk2/s10050_area_fpk\Assets\tpp\chara\qui\Scenes\qui5_main0_def.fmdl
chunk2/s10050_d01_fpk\Assets\tpp\chara\qui\Scenes\qui0_eqhd0_cov.fmdl
chunk2/s10050_d01_fpk\Assets\tpp\chara\qui\Scenes\qui0_eqpd0_def.fmdl
chunk2/s10050_d02_fpk\Assets\tpp\chara\qui\Scenes\qui0_main0_def.fmdl
chunk2/s10050_d02_fpk\Assets\tpp\chara\qui\Scenes\qui0_slng0_cov.fmdl
chunk2/s10151_d04_fpk\Assets\tpp\chara\qui\Scenes\qui0_main0_def.fmdl
chunk2/s10151_d06_fpk\Assets\tpp\chara\qui\Scenes\qui0_main0_def.fmdl
chunk2/s10260_d01_fpk\Assets\tpp\chara\qui\Scenes\qui3_main0_def.fmdl
chunk2/s10050_area_fpk\Assets\tpp\chara\qui\Scenes\qui5_main0_def.fmdl
chunk2/s10050_d01_fpk\Assets\tpp\chara\qui\Scenes\qui0_eqhd0_cov.fmdl
chunk2/s10050_d01_fpk\Assets\tpp\chara\qui\Scenes\qui0_eqpd0_def.fmdl
chunk2/s10050_d02_fpk\Assets\tpp\chara\qui\Scenes\qui0_main0_def.fmdl
chunk2/s10050_d02_fpk\Assets\tpp\chara\qui\Scenes\qui0_slng0_cov.fmdl
chunk2/s10151_d04_fpk\Assets\tpp\chara\qui\Scenes\qui0_main0_def.fmdl
chunk2/s10151_d06_fpk\Assets\tpp\chara\qui\Scenes\qui0_main0_def.fmdl
chunk2/s10260_d01_fpk\Assets\tpp\chara\qui\Scenes\qui3_main0_def.fmdl
chunk3/f30050_d021_fpk\Assets\tpp\chara\qui\Scenes\qui0_main0_def.fmdl
chunk3/f30050_d022_fpk\Assets\tpp\chara\qui\Scenes\qui2_main0_def.fmdl
chunk3/f30050_d031_fpk\Assets\tpp\chara\qui\Scenes\qui0_main0_def.fmdl
chunk3/f30050_d040_fpk\Assets\tpp\chara\qui\Scenes\qui0_main0_def.fmdl
chunk3/f30050_d050_fpk\Assets\tpp\chara\qui\Scenes\qui0_main0_def.fmdl
chunk3/f30050_d080_fpk\Assets\tpp\chara\qui\Scenes\qui0_main0_def.fmdl
chunk3/f30050_d090_fpk\Assets\tpp\chara\qui\Scenes\qui0_hood0_cov.fmdl
chunk3/f30050_d090_fpk\Assets\tpp\chara\qui\Scenes\qui0_hood1_cov.fmdl
chunk3/f30050_d090_fpk\Assets\tpp\chara\qui\Scenes\qui0_main0_def.fmdl
chunk3/f30050_d090_fpk\Assets\tpp\chara\qui\Scenes\qui0_rope0_cov.fmdl
chunk3/f30050_d100_fpk\Assets\tpp\chara\qui\Scenes\qui0_eqit0_def.fmdl
chunk3/f30050_d100_fpk\Assets\tpp\chara\qui\Scenes\qui0_eqit1_def.fmdl
chunk3/f30050_d100_fpk\Assets\tpp\chara\qui\Scenes\qui0_main1_def.fmdl
chunk3/f30050_d1000_fpk\Assets\tpp\chara\qui\Scenes\qui0_main0_def.fmdl
chunk3/f30050_d101_fpk\Assets\tpp\chara\qui\Scenes\qui0_main0_def.fmdl
chunk3/f30050_mbQuiet_fpk\Assets\tpp\chara\qui\Scenes\qui2_main0_def.fmdl
```
## Post #1551
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2017-01-29T16:16:19+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> Has anyone figured out what all the params in ReloadDamageParameter in DamageParameterTables.lua are for.

The 3rd and 2nd last are Lethal and Non-Lethal damage.Nah, last one is impact force though. My guess is the lethal and NL dmg varies across the weapons in-game based on the receiver. So those are probably base damages. As for the rest of the settings I put together [a spreadsheet](https://docs.google.com/spreadsheets/d/1VVcthy86QGg3M7IeFWx1ou-c7x1iKb1Qa_sX7VW8Bq0/edit#gid=0) with what patterns I could find a while back if you haven't seen it already. You can click on the one of the cells below the parameter row if you want more info on a p value.

@Tex
thanks man, exactly why I was looking for. I wasn't expecting the messages the be able to reference functions that hadn't been created in the file yet. That clears up a lot of things. Also apparently putting in random strings for the messages doesn't negatively affect the game in any way, so that opens the door for brute-forcing strings or just mass-testing known ones, albeit the pita way. No dice trying to get player illumination from that, but I'm assuming that's because the ATK has to actually damage the player to trigger the message. As for the items that function just kept returning 17 (TppEquip.EQP_TYPE_Item ?) but I found the next best thing with a combination of onHudClosed and part of a line from TppDebug.lua.
```
	return Tpp.StrCode32Table{
		Player={
    		{msg="OnEquipHudClosed",func=e.OnEquipHudClosed()}
		}
	}
end

function e.OnEquipHudClosed()
	for o=0,8 do
		TppUiCommand.AnnounceLogView(string.format("Slot:%d : vars.items = %04d, vars.initItems = %04d, gvars.ply_lastItemsUsingTemp = %04d",o,vars.items[o],vars.initItems[o],gvars.ply_lastItemsUsingTemp[o]))
	end
end
```


I guess vars.items is the table I'd want. After specifying a slot index with it, it returns a 4 digit itemId. I also came across Player.IsVarsCurrentItemCBox() which returns a boolean. Not that useful in itself but I can probably remove some lines from Update() function calls since messages and existing KJP functions essentially auto-handle them. Still haven't found a way to check if a drug/stealth camo/ability is active though. The closest thing would be
```
	if not guardPhase or guardPhase==_.PHASE_ALERT then return 0 end
	local n=e.index.points.item
	if (bit.band(vars.playerPlayFlag,PlayerPlayFlag.USE_STEALTH)==PlayerPlayFlag.USE_STEALTH) or (bit.band(vars.playerPlayFlag,PlayerPlayFlag.USE_INSTANT_STEALTH)==PlayerPlayFlag.USE_INSTANT_STEALTH) then
		return n.stealthCamo
	end
	if (bit.band(vars.playerPlayFlag,PlayerPlayFlag.USE_PARASITE_CAMO)==PlayerPlayFlag.USE_PARASITE_CAMO) then
		return n.parasiteCamo
	end
	return 0
end
```


But that's a one-time thing since it's essentially just for checking if a player disqualified themselves from an S rank or No Traces bonus. I mean you could reset it to 0 or whatever the default value is I guess but creative resets and variable tracking to avoid interfering with gameplay aside I don't think it would be too useful since it would border on being convoluted for a workaround. Then again I haven't checked vars.playerPlayFlag on its own so I might try that later.
## Post #1552
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2017-01-29T16:55:59+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from CantStoptheBipBop
>
> so that opens the door for brute-forcing strings or just mass-testing known ones
[https://github.com/unknown321/mgsvdump/ ... /sequences](https://github.com/unknown321/mgsvdump/tree/master/tpp/sequences)
I had these parsed like months ago, but occasionaly removed them with cleanup script. These are tpp only, I never bothered with mgo.
messages = msg
commands = commands used with SendCommand function
## Post #1553
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2017-01-29T19:21:16+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Jonathan Ingram
>
> You should be able to make a complete stream out of the sound chunks. I wish I remember who wrote it, but I found a tool for extracting the wwise streams and its source on Reddit a while back. https://dl.dropboxusercontent.com/u/884 ... xtract.zip
Cool! I didn't even know anyone had already written a tool with this functionality.
## Post #1554
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2017-01-31T11:47:33+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> CantStoptheBipBop wrote:so that opens the door for brute-forcing strings or just mass-testing known ones
https://github.com/unknown321/mgsvdump/ ... /sequences
I had these parsed like months ago, but occasionaly removed them with cleanup script. These are tpp only, I never bothered with mgo.
messages = msg
commands = commands used with SendCommand functionAwesome, thanks dude. I tested out all of the messages under both Player and GameObject and took some notes. Most of these are obvious but I figured I may as well include them.

```
	Player={
		CBoxSlideEnd={freq='once', info='after cbox slide end'},
		CalcFultonPercent={freq='continuous', info='on player next to fultonable object'},
		CallMenuMessage_HideCallMenu={freq='once', info='on call menu close'},
		CallMenuMessage_ShowCallMenu={freq='once', info='on call menu open'},
		EnableCQC={freq='once', info='on CQC icon popup'},
		FinishOpeningDemoOnHeli={freq='once', info='on control given back to player after init heli door open'},
		IconCrawlStealthShown={freq='once', info='on prone stealth icon popup'},
		IconFultonShown={freq='once', info='on fulton icon popup'},
		IconMBCBoxShown={freq='once', info='on player next to supply drop box'},
		IconTBoxOnShown={freq='once', info='on trash box icon popup'},
		IconToiletOnShown={freq='once', info='on toilet icon popup'},
		LandingFromHeli={freq='once', info='on player exit heli'},
		OnAmmoLessInMagazine={freq='once', info='on trigger pull on empty mag'},
		OnBehind={freq='once', info='on player start press against cover'},
		OnBinocularsMode={freq='varies', info='fires once while using binos or continuous while in first-person vehicle primary turret'},
		OnComeOutSupplyCbox={freq='once', info='on finish supply box'},
		OnCrawl={freq='once', info='on entering prone stance'},
		OnElude={freq='once', info='on hang ledge'},
		OnEquipHudClosed={freq='once', info='on closing equipment slot ui'},
		OnEquipItem={freq='once', info='on active item change'},
		OnEquipWeapon={freq='once', info='on weapon/support slot change'},
		OnPickUpCollection={freq='once', info='on player picked plant, small container, etc.'},
		OnPickUpSupplyCbox={freq='once', info='on start supply box'},
		OnPlayerElude={freq='once', info='on player hang ledge'},
		OnPlayerGatling={freq='once', info='on player enter stationary AA gun'},--didn't test
		OnPlayerHeliHatchOpen={freq='once', info='on control given back to player after init heli door open'},
		OnPlayerMachineGun={freq='once', info='on player enter stationary MG'},--does not include vehicle MG
		OnPlayerMortar={freq='once', info='on player enter statonary mortar'},
		OnPlayerSearchlight={freq='once', info='on player use searchlight'},
		OnPlayerToilet={freq='once', info='player in toilet'},
		OnVehicleDrive={freq='once', info='fires after getting in vehicles'},
		OnVehicleRide_Start={freq='once', info='on player in/out vehicle or pilotable object'},
		PlayerDamaged={freq='once', args={'playerIndex','attackId','attackerId'}, info='on player damage'},
		PlayerHeliGetOff={freq='once', info='on player exit heli'},
		PlayerHoldWeapon={freq='once', info='on player weapon aim'},
		PressedCarryIcon={freq='once', info='player start/stop carry or left ene veh'},
		PutMarkerWithBinocle={freq='once', info='manual marker placement with binos'},
		SetMarkerBySearch={freq='once', info='marker autoplacement via binos or zoom'},
		StartPlayerBrainFilter={freq='once', info='on heavy damage that obscures vision with blood'},
		SuppressorIsBroken={freq='once', info='on suprressor break'},
		WarpEnd={freq='once', info='on control given back to player after init heli door open'}    
	},

	Object={
		BreakGimmick={freq='once', info='stationary enemy equip destroy (weapons, guard tower}'},
		ChangePhase={freq='varies', args={'gameObjectId','newPhase','oldPhase'}, info='once on phase change or multiple if patrol truck passes from alert base to another'},
		CommandPostAnnihilated={freq='once', info='on base or guard post capture'},--use with TppEnemy.IsBaseCp(arg0) & TppEnemy.IsOuterBaseCp(arg0)
		Concious={freq='once', info='transition from unconcious -> concious'},
		ConversationEnd={freq='once', info='conversation stopped naturally or interrupted by player or prevented from starting'},
		Damage={freq='once', args={'gameId','attackId','attackerId'}, info='AI recieved damage'},--apparently needs to be something that can "report" damage to engine, not empty vehicle or random object
		Down={freq='once', info='AI knocked to ground (bleed out, CQC, etc)'},
		EndInvestigate={freq='once', info='on AI player search end'},
		Fulton={freq='once', info='on object fultoned'},
		HeadShot={freq='once', info='on neutralize with headshot'},
		HeadShotDistance={freq='once', info='on neutralize with headshot'},
		Holdup={freq='once', info='player heldup AI'},
		InAnimalLocator={freq='once', info='entered spawn area of animal pack/herd'},
		Interrogate={freq='once', info='on player interrogate soldier'},
		InterrogateEnd={freq='once', info='interrogation failure'},
		InterrogateSetMarker={freq='once', info='interrogation success, enemy gave asset position'},
		InterrogateUpHero={freq='once', info='interrogation earned heroism'},
		MapUpdate={freq='once', info='on map update announce'},
		Neutralize={freq='once', info='on dead, unconcious, destroyed, or held up'},
		PlayerHideHorse={freq='once', info='on player start horse hide'},
		RadioEnd={freq='once', info='on AI radio end'},
		Restraint={freq='once', info='object is being restrained (player CQC hold)'},
		RouteEventFaild={freq='once', info='apparently error feedback if AI route fails'},
		SpecialActionEnd={freq='once', info='triggers every few seconds in ACC'},
		TapCqc={freq='once', info='on neutralize with CQC in valid way for tactical action point.'},
		TapHoldup={freq='once', info='holdup qualifies for mission tactical action point bonus'},
		TapRocketArm={freq='once', info='on neutralize with rocket arm in valid way for tactical action point'},
		Unconcious={freq='once', info='AI knocked unconcious'},
		VehicleAction={freq='once', info='on misc AI actions with vehicle including in/out'},
		VehicleBroken={freq='once', info='vehicle engine fire start (blowup countdown) and after second explosion'}
	}
}
```


Messages like OnPlayerMortar only fire once but I guess player status and the message IconFultonShown could be monitored easily enough to check if the player left a stationary weapon. SpecialActionEnd is a weird one. It just kind of triggers every few seconds if you're in the ACC. I'm not sure exactly what triggers RouteEventFaild but that might be a useful debug message for anyone toying with AI routes.

I got around to messing with vars.playerPlayFlag. It only updates on mission completion or new flag activation. Meaning you can reset it to 256 or 0 to keep track of when stealth camo is used again but the flag doesn't update while the item is active, only at the start of each use.
```
	[0]='no disqualifications',
	[256]='spent ammo/resupply/support fire/dmg to enemy (disqualified from no traces bonus)',--FAILED_NO_TRACE_PLAY
	[264]='used consumable prototype stealth camo during mission',--USE_INSTANT_STEALTH
	[288]='used parasite stealth camo during mission',--USE_PARASITE_CAMO
	[296]='used both consumable prototype stealth camo and parasite stealth camo during mission'--?
}
--[[
USE_CHICK_CAP
USE_CHICKEN_CAP
USE_STEALTH
USE_FULTON_MISSILE
USE_MUGEN_BANDANA
USE_HIGHGRADE_EQUIP
]]
```


Things that apparently don't negate the No Traces bonus based on that: killing/CQCing animals and driving into exploding barrels.

edit: here's how I ended up checking cbox and stealth camo items in case anyone was curious:
```
	local t={TppEquip.EQP_IT_CBox_WR,TppEquip.EQP_IT_CBox_SMK}
	for i=1,#t do
		if cbox==t[i] then
			return false
		end
	end
	return true
end

function e.cboxCamoType(cbox)
	local boxType={
		desert={TppEquip.EQP_IT_CBox_DSR,TppEquip.EQP_IT_CBox_DSR_G01,TppEquip.EQP_IT_CBox_DSR_G02},
		green={TppEquip.EQP_IT_CBox_FRST,TppEquip.EQP_IT_CBox_FRST_G01},
		red={TppEquip.EQP_IT_CBox_BOLE,TppEquip.EQP_IT_CBox_BOLE_G01},
		urban={TppEquip.EQP_IT_CBox_CITY,TppEquip.EQP_IT_CBox_CITY_G01},
		mix={TppEquip.EQP_IT_CBox_CLB_A,TppEquip.EQP_IT_CBox_CLB_A_G01},
		rock={TppEquip.EQP_IT_CBox_CLB_B,TppEquip.EQP_IT_CBox_CLB_B_G01},
		wet={TppEquip.EQP_IT_CBox_CLB_C,TppEquip.EQP_IT_CBox_CLB_C_G01}
	}

	local s={'desert','green','red','urban','mix','rock','wet'}

	for i=1,#s do
		for _,v in ipairs(boxType[s[i]]) do
			if cbox==v then
				return s[i]
			end
		end
	end
	return false
end

function e.isStealthItem(item)
	local t={TppEquip.EQP_IT_InstantStealth,TppEquip.EQP_IT_Stealth,TppEquip.EQP_IT_ParasiteCamouf}

	for i=1,#t do
		if item==t[i] then
			return true
		end
	end
	return false
end

function e.stealthItemType(item)
	local t={
		limited=TppEquip.EQP_IT_InstantStealth,
		battery=TppEquip.EQP_IT_Stealth,
		parasite=TppEquip.EQP_IT_ParasiteCamouf
	}

	for k,v in pairs(t) do
		if item==v then
			return k
		end
	end
	return false
end

function e.Messages()
	return Tpp.StrCode32Table{
	    Player={
			{msg='PlayerDamaged',func=e.OnPlayerDamaged},
			{msg='OnEquipItem',func=e.OnEquipItem}
		}
  	}
end

function e.Init(missionTable)
  e.messageExecTable=Tpp.MakeMessageExecTable(e.Messages())
end

function e.OnReload(missionTable)
  e.messageExecTable=Tpp.MakeMessageExecTable(e.Messages())
end

function e.OnMessage(sender,messageId,arg0,arg1,arg2,arg3,strLogText)
  Tpp.DoMessage(e.messageExecTable,TppMission.CheckMessageOption,sender,messageId,arg0,arg1,arg2,arg3,strLogText)
end

function e.OnPlayerDamaged()
	e.var.stealthCamo=false
	e.var.keepTime.parasiteStealth=false
end

function e.OnEquipItem()
	local itemIndex=vars.items[vars.currentItemIndex]
	
	if e.var.stealthCamo~='parasite' then
		e.var.stealthCamo=false
	elseif e.isStealthItem(itemIndex) then
		e.var.keepTime.parasiteStealth=false
	end

	if Player.IsVarsCurrentItemCBox() then
		e.var.ride='cbox'
		if e.isCboxCamo(itemIndex) then
			e.var.cboxCamo=e.cboxCamoType(itemIndex)
			return
		end
		e.var.cboxCamo=false
		return
	elseif e.var.ride=='cbox' then
		e.var.ride='none'
	end
	e.var.cboxCamo=false

	if e.isStealthItem(itemIndex) then
		e.var.stealthCamo=e.stealthItemType(itemIndex)
		if e.var.stealthCamo=='parasite' then
			e.var.keepTime.parasiteStealth=(Time.GetRawElapsedTimeSinceStartUp()+30)--need to get actual time based on suit grade
		end
		return
	end
end

function e.checkStealthItem(guardPhase)
	if not guardPhase or not e.var.stealthCamo then return 0 end
	if guardPhase==_.PHASE_ALERT then
		e.var.keepTime.parasiteStealth=false
		e.var.stealthCamo=false
		return 0
	end
	local n=e.index.points.item
	if e.var.stealthCamo~='parasite' then
		return n.stealthCamo
	else
		if e.var.keepTime.parasiteStealth then
			if e.buttonHold<e.var.keepTime.parasiteStealth then
				return n.parasiteCamo
			end
		end
	end
	return 0
end
```
## Post #1555
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2017-02-07T20:45:14+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

So I discovered it's possible to get TPP to load new .dat files.

In chunk0, there's a file named foxfs.dat (Fox File System), which is just an .xml with its extension changed. When TPP loads, it uses a hardcoded reference to look for chunk0, but it only uses this reference to load foxfs.dat, and ignores the rest of the files from chunk0.

Inside foxfs.dat it contains a section for loading the chunk.dat files; this is when it loads the other files from chunk0 (and the rest of the chunk.dat files as well). From my testing, it seems that it loads the chunk.dat files in the order they are listed there, but it actually seems to load the texture.dat files in alphabetic order. You can create a .dat with priority over the original files by placing it in the list before the original files (or with a name that comes first alphabetically in the case of texture.dats). From my testing, it doesn't seem possible for .dats created with this method to gain priority over 0/00.dat and 0/01.dat. Hardcoded references are in the .exe for both of these files, and I think their priority is hardcoded as well.

If we could gain priority over 0/00.dat and 0/01.dat, it would allow us to easily add dedicated modding .dat files, and it would also allow SnakeBite to directly install loose .ftex(s) files as mods. It would also mean SnakeBite wouldn't need to shove all of 00.dat's files into 01.dat. There are other ways to work around this, but gaining priority over those files would be the most convenient.
## Post #1556
- Username: caplagrobin
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Fri Oct 07, 2016 2:17 am
- Post datetime: 2017-02-07T20:50:32+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> So I discovered it's possible to get TPP to load new .dat files.

!
But that's only TPP, right? Won't work on MGO .dats or .G0s?
## Post #1557
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2017-02-07T22:27:10+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from caplagrobin
>
> !
But that's only TPP, right? Won't work on MGO .dats or .G0s?
MGO also has the foxfs.dat, so it should be possible for MGO. Taking a quick look at GZ, it doesn't have one, so I don't think it'll work there.
## Post #1558
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2017-02-10T19:18:22+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Sometime ago I saw an image file detailing how the inputs to Player.SetAroundCameraManualModeParams work. It showed how the camera position offsets resulted in actual in-game camera position. Can't seem to find this image again.

If anybody knows what I am talking about and has the images or the link to them, then please do share!

Would save me a tonne of work
## Post #1559
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2017-02-10T19:30:15+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> Sometime ago I saw an image file detailing how the inputs to Player.SetAroundCameraManualModeParams work. It showed how the camera position offsets resulted in actual in-game camera position. Can't seem to find this image again.
Wasn't it made by Tex? I think he uses that in IH.
## Post #1560
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2017-02-11T03:42:39+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> nasanhak wrote:Sometime ago I saw an image file detailing how the inputs to Player.SetAroundCameraManualModeParams work. It showed how the camera position offsets resulted in actual in-game camera position. Can't seem to find this image again.

Wasn't it made by Tex? I think he uses that in IH.
Yeah I had thought so too but can't find those images. I may as well start with the leg work till I find it.
## Post #1561
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2017-02-11T09:33:15+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> So I discovered it's possible to get TPP to load new .dat files.
...
If we could gain priority over 0/00.dat and 0/01.dat, it would allow us to easily add dedicated modding .dat files.
That would be great, but I likewise suspect it's defined in the exe. I recall they flipped priority of 00.dat vs 01.dat during one patch.

Any chance anyone has chunk0.dat\foxfs.dat from past versions of the game?


> Reply from nasanhak
>
> Sometime ago I saw an image file detailing how the inputs to Player.SetAroundCameraManualModeParams work. It showed how the camera position offsets resulted in actual in-game camera position. Can't seem to find this image again.
This: [https://i.imgur.com/H52zJg0.jpg](https://i.imgur.com/H52zJg0.jpg)
From here:
[https://forums.nexusmods.com/index.php? ... ipt/page-3](https://forums.nexusmods.com/index.php?/topic/3739875-custom-camera-script/page-3)

Inspired by CantStoptheBipBop I extended my debug output of messages, I've have had the debugMessages option for a few versions, but I was just throwing a bunch of different lookup tables at the args. 
I now can define what the message parameters are for the function to give the args their names and define their type for the lookup functions which makes output a bit clearer, and doubles as documentation of the messages I guess. All that is in mod\modules\InfLookup.lua

If you want to run IH with debugMessages grab the 'InfStrcode lookup (IH debugging)' file from the files on IH nexus page (just a string scrape for runtime str32 comparison). 

Otherwise here's an ih_log with all of IH debug logging on, just pretty much loading map and quitting, messages start on line 113.
[http://pastebin.com/Zd62Lk1k](http://pastebin.com/Zd62Lk1k)


I fixed some stuff so simple modules using Update should with IH just by throwing them in \mod\modules, without needing to edit Tpp,TppMain.
So in theory your show camo value mod should work CantStoptheBipBop, but I haven't actually tested it because I'm terribad.
Not sure how your script loader would fare either unknown123, since it attempts to load all lua files in \modules it might trip over the extra luas you require(), if so it would likely just need a sub folder and changing to require"somesubfolder.somemodulename"
## Post #1562
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2017-02-11T09:50:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> Not sure how your script loader would fare either unknown123, since it attempts to load all lua files in \modules it might trip over the extra luas you require(), if so it would likely just need a sub folder and changing to require"somesubfolder.somemodulename"
I don't update it since no one uses it aside from me, so it's fine. 
Btw, logs should be formatted using the same format, see line 298 and 302. Dumping arrays like this breaks the log and makes it unparseable, they should be printed in one line. Same with 

```
|128.20381369792|TppRevenge.SetRevengePoint: revengeType:M_STEALTH from:0 to:0
```

| time | function | or : ?
Some log strings doesn't even have function names, just array values.
I don't have a lot of time to actually review your code (it's not on github, so I can't see what you've changed), but it seems that you don't have a template for log strings. One day someone (maybe even you) will try to write a parser for your logs and it will fail, so please, follow one template.
## Post #1563
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2017-02-11T19:30:53+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> Any chance anyone has chunk0.dat\foxfs.dat from past versions of the game?
From a chunk0 last modified September 6th, 2015:
[https://mega.nz/#!OgYn2LzR!nC14XVQ_om8J ... ZMJKtjEpGg](https://mega.nz/#!OgYn2LzR!nC14XVQ_om8J6KtQtRBOfrVj8f_85cYk8ZMJKtjEpGg)

```
<fs>
	<safiles>
		<file code="16355669509839002145"/>
		<file code="16355281632549195911"/>
		<file code="16355925670434988166"/>
		<file code="16355565633005451293"/>
		<file code="16355073395740587526"/>
	</safiles>
	<version build="f0c9f82d-61cc-46d6-95f3-eff6492368c3"/>
	<layout dataroot="master" locater="1" sqar="1"/>
	<chunks>
		<chunk id="0" label="cypr" qar="chunk0.dat" textures="texture0.dat"/>
		<chunk id="1" label="base" qar="chunk1.dat" textures="texture1.dat"/>
		<chunk id="2" label="afgh" qar="chunk2.dat" textures="texture2.dat"/>
		<chunk id="3" label="mtbs" qar="chunk3.dat" textures="texture3.dat"/>
		<chunk id="4" label="mafr" qar="chunk4.dat" textures="texture4.dat"/>
		<chunk id="5" label="mgo"/>
	</chunks>
	<textures/>
	<qars>
		<qar ext="164" name="data1.dat"/>
		<qar ext="2056" name="data1.dat"/>
		<qar ext="1740" name="data1.dat"/>
		<qar ext="2609" name="data1.dat"/>
		<qar ext="7189" name="data1.dat"/>
		<qar ext="1591" name="data1.dat"/>
		<qar ext="3832" name="data1.dat"/>
		<qar ext="3609" name="data1.dat"/>
		<qar ext="796" name="data1.dat"/>
		<qar ext="5533" name="data1.dat"/>
		<qar ext="1752" name="data1.dat"/>
		<qar ext="1439" name="data1.dat"/>
	</qars>
</fs>

```
## Post #1564
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2017-02-11T20:56:13+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Higus
>
> Tex wrote:Any chance anyone has chunk0.dat\foxfs.dat from past versions of the game?
From a chunk0 last modified September 6th, 2015:
https://mega.nz/#!OgYn2LzR!nC14XVQ_om8J ... ZMJKtjEpGgContents of the current patched foxfs.dat:
```
<fs>
	<safiles>        <!--values always start at 16355-->
		<file code="16355565633005451293"/>
		<file code="16355073395740587526"/>
		<file code="16355925670434988166"/>    <!--only unchanged file code-->
		<file code="16355669509839002145"/>
		<file code="16355281632549195911"/>
	</safiles>
	<version build="2f8f0203-824c-40f5-b14e-8e5068b32fd3"/>
   <!--values below here were not changed-->
	<layout dataroot="master" locater="1" sqar="1"/>
	<chunks>
		<chunk id="0" label="cypr" qar="chunk0.dat" textures="texture0.dat"/>
		<chunk id="1" label="base" qar="chunk1.dat" textures="texture1.dat"/>
		<chunk id="2" label="afgh" qar="chunk2.dat" textures="texture2.dat"/>
		<chunk id="3" label="mtbs" qar="chunk3.dat" textures="texture3.dat"/>
		<chunk id="4" label="mafr" qar="chunk4.dat" textures="texture4.dat"/>
		<chunk id="5" label="mgo"/>
	</chunks>
	<textures/>
	<qars>
		<qar ext="164" name="data1.dat"/>
		<qar ext="2056" name="data1.dat"/>
		<qar ext="1740" name="data1.dat"/>
		<qar ext="2609" name="data1.dat"/>
		<qar ext="7189" name="data1.dat"/>
		<qar ext="1591" name="data1.dat"/>
		<qar ext="3832" name="data1.dat"/>
		<qar ext="3609" name="data1.dat"/>
		<qar ext="796" name="data1.dat"/>
		<qar ext="5533" name="data1.dat"/>
		<qar ext="1752" name="data1.dat"/>
		<qar ext="1439" name="data1.dat"/>
	</qars>
</fs>

```
@Tex
Thanks for the notice. I forgot to mention but the previous method didn't work for me. After adding it to the inf table the game just acted like the file didn't exist by not printing out anything to the announce log.

edit: just tested it out on r199, works great. I noticed some things with inf itself though. In the debug menu the print buttons option appears twice (9 & 16). When one module has trouble loading (like calling a nonexistent function) it prevents the entire mod from working properly
```
|4.0540596269714|...teamapps\common\MGS_TPP\mod\modules\cbpCamoIndex.lua:620: attempt to call global 'getCamoTableValues' (a nil value)

|4.0540596269714|Infinite Heaven: Could not load modules from MGS_TPP\mod\. See Installation.txt
```
TppDefine has some error message being logged.
```
|0.80914343259551|Load TppDefine.lua
|0.80914343259551|InfCore.StrCode32: WARNING: Attempting to encode a number: 982961015
|0.80914343259551|caller: /Assets/tpp/script/lib/TppDefine.lua:470 - 
|0.80914343259551|InfCore.StrCode32: WARNING: Attempting to encode a number: 2770109797
|0.80914343259551|caller: /Assets/tpp/script/lib/TppDefine.lua:470 - 
|0.80914343259551|TppDefine.lua done
```
## Post #1565
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2017-02-12T09:31:36+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> 
nasanhak wrote:Sometime ago I saw an image file detailing how the inputs to Player.SetAroundCameraManualModeParams work. It showed how the camera position offsets resulted in actual in-game camera position. Can't seem to find this image again.
This: https://i.imgur.com/H52zJg0.jpg
From here:
https://forums.nexusmods.com/index.php? ... ipt/page-3

Thanks Tex! Exactly what I was looking for. I did however do a complete testing of the camera funcs anyways:

```
	offset=Vector3(-1,2,-3), --Camera offset from Snake. (X,Y,Z) --X: +ve moves horizontally left, -ve moves horizontally right. Default is negative value(-0.65 I think) --Y is height: +ve moves vertically up, -ve moves vertically down(but will never go below the floor) --Z: +ve moves horizontally up, -ve moves horizontally down  
	distance=4, --Camera distance from Snake
	focalLength=21, --Should not be zero! How much to focus in on the target point
	focusDistance=8.75, --If 0, blur is removed. Higher values set blur distance farther from the screen
	aperture = 1.6, --If 0, blur is removed. Higher values reduce blur
	targetInterpTime=.2, --Time taken for camera to acquire new pos
	targetIsPlayer=true, --Sets whether camera target is player or not
	target=Vector3(2,10,10), --When targetIsPlayer is false, the camera targets these co-ords. Diving breaks this camera as focus goes back to Snake. Can be set to Vector3(vars.playerPosX,vars.playerPosY,vars.playerPosZ)
	ignoreCollisionGameObjectName="Player", --No idea what this does
	rotationLimitMinX=10, --Lower vertical rotation, Min should ideally be -90. Lower values will rotate camera further
	rotationLimitMaxX=10, --Upper vertical rotation, Max should ideally be +90. Higher values will rotate camera further
	alphaDistance=.5, --Distance from cam Snake starts to disappear. This is not in meters unlike all other distance/offset values
},
Player.RequestToSetCameraRotation{
	rotX = 10, --Camera should rotate to this X pos(vertical). Can be set to vars.playerCameraRotation[0]. Range seems to be -90 to +90
	rotY = vars.playerCameraRotation[1], --Camera should rotate to this Y pos(horizontal). Can be set to vars.playerCameraRotation[1]. Range seems to be -90 to +90
	interpTime = 0.3 --Time taken for camera to rotate around to new pos. When set to 10, you will see a cinematic pan
},
```


With these exact settings, am able to do this:
[https://youtu.be/pTsqkrTyk9s](https://youtu.be/pTsqkrTyk9s)

It's an MGS style fixed camera with the vertical rotation removed. Horizontal can't be removed(and shouldn't be anyways). While the video isn't the best example due to the vertical terrain, the game is surprisingly playable.

The only issue being that the camera rot forces the binocs/weapon aim vertical rotation as well. Does anybody know how to influence the aiming/binocs rotation?

This failed:

```
	--Nope only for TPS camera
	TUPPMLog.Log("Resetting camera rots for "..tostring(msg),3,true)
	vars.playerCameraRotation[0]=0
	vars.playerCameraRotation[1]=0
end

----Messages to fix camera angle while aiming/binocs, doesn't work without timers either
Player = {
	{
		msg="OnBinocularsMode",
		func=function() GkEventTimerManagerStart("Timer_CorrectAim", timerForCameraFix) end,
	},
	{
		msg="PlayerHoldWeapon",
		func=function() GkEventTimerManagerStart("Timer_CorrectAim", timerForCameraFix) end,
	},
	{
		msg="OnPlayerUseBoosterScope",
		func=function() GkEventTimerManagerStart("Timer_CorrectAim", timerForCameraFix) end,
	},
},
Timer={
	{
		msg="Finish",
		sender="Timer_CorrectAim",
		func=this.FixCameraRot
	},
},

```


EDIT:
Here's a better look with M3: [https://youtu.be/VX7u2_Hl0dk](https://youtu.be/VX7u2_Hl0dk)
## Post #1566
- Username: youarebritish
- Rank: n00b
- Number of posts: 13
- Joined date: Fri Oct 30, 2015 4:23 am
- Post datetime: 2017-02-12T20:55:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I finally managed to find the htre files which I believe contain the terrain tile data. Afghanistan's is in Assets/tpp/pack/environ/stagelow/afgh/small_lod0. I tried extracting the height data from one of them (afgh_144_145) and imported it into World Machine in raw32 format:



And it looks like I've hit the jackpot! I'm not sure why it came in chopped up and doubled. Is it maybe a 64-bit height format instead of 32? Hmmm. This is what the heightmap itself looks like:



It looks like each tile has a corresponding fox2 file in its matching fpkd. The most pertinent information I find in that is the position of that terrain tile (for instance, that tile is at x="1472" y="0" z="1600" w="0"). Each one also has a terrain decal pack file (ftdp).

EDIT: I found that some of the tiles also have a corresponding fmdl, which appears to be the foliage and rocks on that part of the terrain:



I noticed that the origin of the fmdl was way off in the middle of nowhere, so on a hunch, I imported another one into the same scene:
## Post #1567
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2017-02-13T18:08:31+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

MGS1 camera style, somewhat working but playable. TPS camera can't be influenced.

```
Player.SetAroundCameraManualModeParams{
	offset=Vector3(-1,2,-3), --Camera offset from Snake. (X,Y,Z) --X: +ve moves horizontally left, -ve moves horizontally right. Default is negative value --Y is height: +ve moves vertically up, -ve moves vertically down(but will never go below the floor) --Z: +ve moves horizontally up, -ve moves horizontally down  
	distance=4, --Camera distance from Snake
	focalLength=21, --Should not be zero! How much to focus in on the target point
	focusDistance=8.75, --If 0, blur is removed. Higher values set blur distance farther from the screen
	aperture = 1.6, --If 0, blur is removed. Higher values reduce blur
	targetInterpTime=.2, --Time taken for camera to acquire new pos
	targetIsPlayer=true, --Sets whether camera target is player or not
	target=Vector3(2,10,10), --When targetIsPlayer is false, the camera targets these co-ords. Diving breaks this camera as focus goes back to Snake. Can be set to Vector3(vars.playerPosX,vars.playerPosY,vars.playerPosZ)
	ignoreCollisionGameObjectName="Player", --No idea what this does
	rotationLimitMinX=10, --Lower vertical rotation, Min should ideally be -90. Lower values will rotate camera further
	rotationLimitMaxX=10, --Upper vertical rotation, Max should ideally be +90. Higher values will rotate camera further
	alphaDistance=.5, --Distance from cam Snake starts to disappear. This is not in meters unlike all other distance/offset values
},
Player.RequestToSetCameraRotation{
	rotX = 10, --Camera should rotate to this X pos(vertical). Can be set to vars.playerCameraRotation[0]. Range seems to be -90 to +90
	rotY = vars.playerCameraRotation[1], --Camera should rotate to this Y pos(horizontal). Can be set to vars.playerCameraRotation[1]. Range seems to be -90 to +90
	interpTime = 0.3 --Time taken for camera to rotate around to new pos. When set to 10, you will see a cinematic pan
},


---Function to fix FPS aim/binocs - TPS aims can't be influenced?
function this.FixCameraRot(msg)
	Player.RequestToSetCameraRotation{
		rotX = 0, --Should be zero to level off the aim
		rotY = vars.playerCameraRotation[1], --
		--		rotY = vars.playerRotY, --A bit wonky in cover
		interpTime = 0, --Time taken for camera to rotate around to new pos. When set to 10, you will see a cinematic pan
	}
end


---Messages
Player = {
	{
		msg="OnBinocularsMode",
		func=function()
			--Do not do this if weapon is held
			if bit.band(PlayerVars.scannedButtonsDirect,PlayerPad.HOLD)==PlayerPad.HOLD then return end
			this.FixCameraRot"OnBinocularsMode"
		end,
	},
	{
		msg="PlayerHoldWeapon",
		func=function()
			this.FixCameraRot"PlayerHoldWeapon"
		end,
	},
},



```



Also, vars.playerCameraRotation[0] and vars.playerCameraRotation[1] hold the final values of the cam(for save file purposes I guess) and are not the actual camera rotation values. Am guessing this is true for most other 'vars' as well judging from my previous attempts at changing weapons.


EDIT:
On a different note, somebody had mentioned loading DLL files sometime back I think. Here is the error message when a Lua file fails to load via pcall(require,moduleName):

> module 'TUPPMSettings' not found:
>
> 	no field package.preload['TUPPMSettings']
>
> 	no file '.\TUPPMSettings.lua'
>
> 	no file 'C:\MyData\Games\Steam\steamapps\common\MGS_TPP\lua\TUPPMSettings.lua'
>
> 	no file 'C:\MyData\Games\Steam\steamapps\common\MGS_TPP\lua\TUPPMSettings\init.lua'
>
> 	no file 'C:\MyData\Games\Steam\steamapps\common\MGS_TPP\TUPPMSettings.lua'
>
> 	no file 'C:\MyData\Games\Steam\steamapps\common\MGS_TPP\TUPPMSettings\init.lua'
>
> 	no file '.\TUPPMSettings.dll'
>
> 	no file 'C:\MyData\Games\Steam\steamapps\common\MGS_TPP\TUPPMSettings.dll'
>
> 	no file 'C:\MyData\Games\Steam\steamapps\common\MGS_TPP\loadall.dll'
Does this mean it could be possible to load C/C++ code via DLL files via lua require function??
## Post #1568
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2017-02-13T19:52:07+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> 
On a different note, somebody had mentioned loading DLL files sometime back I think.

Theoretically, you can do it. [http://lua-users.org/wiki/BindingCodeToLua](http://lua-users.org/wiki/BindingCodeToLua)
I was thinking about it, but honestly this is pointless. What will that module do? 
We already have access to almost everything in Lua, why manipulate it with C?
The only thing I have in mind is advanced logging, but it still will be limited to Lua memory space (or whatever it called).
## Post #1569
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2017-02-14T06:30:50+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> 
Theoretically, you can do it. http://lua-users.org/wiki/BindingCodeToLua
I was thinking about it, but honestly this is pointless. What will that module do? 
We already have access to almost everything in Lua, why manipulate it with C?
The only thing I have in mind is advanced logging, but it still will be limited to Lua memory space (or whatever it called).
Advanced logging is exactly what I had in mind. Logging unknown Lua/C functions params and function calls using hooks. I think all of these are possible but require some coding effort. Granted the reward at this point would not be great but it may allow modders to manipulate functions that have so far been beyond our reach.

Here's a vid for the camera options I used, including the MGS1 style cam with somewhat fixed FPS camera at least:
[https://youtu.be/HQJgit991fQ](https://youtu.be/HQJgit991fQ)
## Post #1570
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2017-02-14T09:19:02+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> 
MGS1 camera style, somewhat working but playable. TPS camera can't be influenced.I haven't played with the camera settings so I wouldn't know anything about it. But I was pulling strings for vars tables and misc function names from the exe a few days ago and there are a ton of what look like camera variables under Player. I guess you could give those a try if you haven't done something similar already. The second group is the one I'm referring to. [link](https://gist.githubusercontent.com/cstBipBop/9099efd2248a37deaad2ec642bc7fa2d/raw/8ed52f95ec68f0c21a869c1c208d568fcb595a87/tppMiscExeStrings_00.txt)
## Post #1571
- Username: Higus
- Rank: advanced
- Number of posts: 78
- Joined date: Sat Jun 30, 2012 12:35 pm
- Post datetime: 2017-02-14T22:52:15+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I know this thread is more for research than modding, however I just want to drop this where it can be seen, so that somebody may possibly pick it up:

I started a Sword/Eli/Skulls mod with a bit of animation swaps and such, and I think it's a nice concept for a mod to be taken on, however I don't have the time/interest to see it completed, so to whoever may be interested in that, you can download the files of my draft here if you wish-
[https://www.youtube.com/watch?v=-k4sXn26cQg](https://www.youtube.com/watch?v=-k4sXn26cQg)

@nasanhak
I'm not sure if you've seen this or not, but I've done work regarding this myself if it's what you're looking into now:
[https://www.youtube.com/watch?v=d3ZWM31fRl8](https://www.youtube.com/watch?v=d3ZWM31fRl8)
[http://www.nexusmods.com/metalgearsolidvtpp/mods/258/](http://www.nexusmods.com/metalgearsolidvtpp/mods/258/)?
## Post #1572
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2017-02-19T14:34:18+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I am proud to announce that I've been able to make a client emulator which is capable of communicating with konami servers.
That includes decoding and encoding messages sent from and to servers (only for COMPOUND and COMMON encryption types, haven't seen others in use yet).

[http://pastebin.com/raw/PaDVkh20](http://pastebin.com/raw/PaDVkh20) - decoded steam session, removed a lot of unneeded stuff (like list of my 3500 soldiers) and censored account-related info.

Right now I am busy with making a [url - request] list to make proper requests. 
Please note that I work on that only during weekends (and sometimes my weekends are really busy), so don't expect frequent updates and (especially) releases.

I am also looking for people with any console (ps3/4, xbox360/xbone) capable of setting up a proxy server with ssl decryption to capture packets between your console and konami server. Steam version has it's own auth protocol based on steam tickets; urls are also version-specific (tppstm), so I can't make requests for other platforms. This is the only reason I posted the announcement without releasing code.

My goals are:

Getting current nuke amount from all platforms at once (captures from other platforms are required)
Developing a konami server emulator so people can set up custom fob games
## Post #1573
- Username: Bluesoju
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Fri Mar 26, 2010 7:25 pm
- Post datetime: 2017-02-21T11:33:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Could anyone tell me how I can extract sounds from the game? Is there a special tool I need?
I tried looking through this thread, but with over 100 pages it would take me forever. Any help would be greatly appreciated.
## Post #1574
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2017-02-21T17:23:48+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Bluesoju
>
> Could anyone tell me how I can extract sounds from the game?
See [https://forum.xentax.com/viewtopic.php?p=120135#p120135](https://forum.xentax.com/viewtopic.php?p=120135#p120135) and some posts onwards.
I also believe that gzstool works with .sbp files as well, although I haven't tried it myself (in terms of sound extraction).
## Post #1575
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2017-02-22T02:18:38+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Bluesoju
>
> Could anyone tell me how I can extract sounds from the game? Is there a special tool I need?
I tried looking through this thread, but with over 100 pages it would take me forever. Any help would be greatly appreciated.
[Ravioli Game Tools](http://www.scampers.org/steve/sms/other.htm) is what you need.
## Post #1576
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2017-02-25T14:57:25+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Working client emulator, [https://github.com/unknown321/mgsv_emulator](https://github.com/unknown321/mgsv_emulator) .
Script that pulls information list, fob event info and nuke count every hour: [https://github.com/unknown321/mgsv_nuke_watcher](https://github.com/unknown321/mgsv_nuke_watcher)
Results of script work: [https://unknown321.github.io/mgsv_nuke_watcher/](https://unknown321.github.io/mgsv_nuke_watcher/)

If you want to see nukes from other platforms, you own a console and have 2 physical network interfaces in your pc - please contact me (pm or just post here).
## Post #1577
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2017-02-26T03:05:36+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> Working client emulator, https://github.com/unknown321/mgsv_emulator .
Script that pulls information list, fob event info and nuke count every hour: https://github.com/unknown321/mgsv_nuke_watcher
Results of script work: https://unknown321.github.io/mgsv_nuke_watcher/

If you want to see nukes from other platforms, you own a console and have 2 physical network interfaces in your pc - please contact me (pm or just post here).
Nice work!

I have access to the game on PS4 and PS3. My laptop has Ethernet and wi-fi. So I might be able to help with the console stuff.
## Post #1578
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2017-03-02T16:21:17+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I haven't really found anything too interesting lately but I realized that you can adjust vehicle speed a little more precisely with some math. The player x,y,z whole numbers are equivalent to the in-game representation of meters. So basically this:

```

local m=math
local sqrt=m.sqrt
local floor=m.floor
m=nil

local F={
	gameElapsedTime=TppTime.GetRawElapsedTimeSinceStartUp,
	announce=TppUiCommand.AnnounceLogView
}

this.var={
	player={
		oldPos=false,
		newPos=false
	},
	time={
		prev=false
	}
}

if not this.var.time.prev then this.var.time.prev=F.gameElapsedTime()end

function this:calcSpeed()
	local op=this.var.player.oldPos or false

	if not op then
		this.var.player.oldPos=self
		return
	end

	local np=self

	local x,y,z=(np[1]-op[1]),(np[2]-op[2]),(np[3]-op[3])

	x=sqrt((x*x)+(y*y)+(z*z))
	x=((floor(x*10))*-10)
	x=floor(x/1e3)
	F.announce(x..' KPH')
	
	return x
end

function this.Update()
	if ((this.var.time.prev+1)<=F.gameElapsedTime()) then
		this.var.time.prev=F.gameElapsedTime()
		local vars
		this.var.player.newPos=this.calcSpeed({vars.playerPosX,vars.playerPosY,vars.playerPosZ})
	end
end
```


I haven't actually tried it but that's essentially what you'd do with it.

Oh yeah I was curious about something with the game. Anyone know why running pairs or whatever on some global tables causes the game to just crash? When you just do tostring() on the vars below it prints out table hashes but going through them with pairs just results in a CTD.

```
	--e.debug.multiEcho({'cbox vars','cboxIsValid',vars.cboxIsValid,'cboxLife',vars.cboxLife,'cboxFlag',vars.cboxFlag,'cboxPosterType',vars.cboxPosterType,'cboxEquipId',vars.cboxEquipId,'cboxLocation',vars.cboxLocation})
	do
		local t={vars.cboxIsValid,vars.cboxLife,vars.cboxFlag,vars.cboxPosterType,vars.cboxEquipId,vars.cboxLocation}
		for i=1,#t do
			F.echo('indice '..i)
			for k,v in pairs(t[i])do
				if k and v then
					F.echo(tostring(k)..'='..tostring(v))
				elseif k then
					F.echo('key='..tostring(k))
				elseif v then
					F.echo('value='..tostring(v))
				end
			end
		end
	end
--
```
## Post #1579
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2017-03-02T17:16:49+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from CantStoptheBipBop
>
> 
Oh yeah I was curious about something with the game. Anyone know why running pairs or whatever on some global tables causes the game to just crash? When you just do tostring() on the vars below it prints out table hashes but going through them with pairs just results in a CTD.

These are C functions/data. So I don't think Lua is capable of traversing them. You can run the InfInspect module from Infinite Heaven on _G and print all globals.

That that will give you is this:

```
      [-285212666] = 16,
      [-285212665] = <userdata 133>,
      __index = <function 10017>,
      __newindex = <function 10018>,
      <metatable> = <table 514>
    },
    cboxFlag = <515>{
      [-285212666] = 16,
      [-285212665] = <userdata 134>,
      __index = <function 10019>,
      __newindex = <function 10020>,
      <metatable> = <table 515>
    },
    cboxIsValid = <516>{
      [-285212666] = 16,
      [-285212665] = <userdata 135>,
      __index = <function 10021>,
      __newindex = <function 10022>,
      <metatable> = <table 516>
    },
    cboxLife = <517>{
      [-285212666] = 16,
      [-285212665] = <userdata 136>,
      __index = <function 10023>,
      __newindex = <function 10024>,
      <metatable> = <table 517>
    },
    cboxLocation = <518>{
      [-285212666] = 64,
      [-285212665] = <userdata 137>,
      __index = <function 10025>,
      __newindex = <function 10026>,
      <metatable> = <table 518>
    },
    cboxPosterIndices = <519>{
      [-285212666] = 16,
      [-285212665] = <userdata 138>,
      __index = <function 10027>,
      __newindex = <function 10028>,
      <metatable> = <table 519>
    },
    cboxPosterType = <520>{
      [-285212666] = 16,
      [-285212665] = <userdata 139>,
      __index = <function 10029>,
      __newindex = <function 10030>,
      <metatable> = <table 520>
    },
```


The first entry under each type is the size of the object. So in this case it is 16. So each of these variables can store up to 16 data that is accessed like any array[x] value. Trouble is it is nearly impossible to guess what the index 'x' would be. In a few cases it is 0 based but mostly it's StrCode32 encoded text or something else.
## Post #1580
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2017-03-03T02:20:50+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> Working client emulator, https://github.com/unknown321/mgsv_emulator .
Fantastic.


> Reply from unknown123
>
> Theoretically, you can do it. http://lua-users.org/wiki/BindingCodeToLua
I was thinking about it, but honestly this is pointless. What will that module do? 
We already have access to almost everything in Lua, why manipulate it with C?
It would be nice for better input/output between lua and whatever.

Some existing modules I'd like to use:
luasocket to get LDT debugging
luafilesystem to work with files better than having to parse dir output.

Otherwise:
Bypassing/fixing whatever kjp did to io.
Communication with other processes.
Full keyboard input.

But as far as I understand from [http://lua-users.org/wiki/BuildingModules](http://lua-users.org/wiki/BuildingModules), more specifically:

> Lua modules expect that the Lua core is already present before they are loaded. This works because the Lua core symbols are exported globally
And checking mgsvtpp.exe with dumpbin, they aren't (not surprising), so it seems it's a no go.
## Post #1581
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2017-03-03T20:42:05+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I have compiled a list of links to tools and posts of interest in this thread separated by categories (because almost no one will read whole thread).
Feel free to contribute.

[https://github.com/unknown321/mgsv_wiki](https://github.com/unknown321/mgsv_wiki)
## Post #1582
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2017-03-04T01:41:35+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from nasanhak
>
> C functions/dataThanks, that makes sense. I'll have to give the langForce.lua script a shot at figuring out some of the globals at some point. From what I remember Fox.StrCode32.exe worked with finding out what the hashes represented, with the old langTool.exe dictionary. Or more practically just creating a lua to attempt random strings on unknown tables until a non-nil condition is met.

Speaking of I'm currently working on rewriting the qar and lng scripts from a few months ago. I'll just update on that whenever they're ready and throw them on GitHub (the old code is a hot mess).

> Reply from unknown123
>
> I have compiled a list of links to tools and posts of interest in this threadSweet. It's easy to miss a lot of that stuff even when you reread the thread.

--

working out-of-game version of the speed calculation example:
```

--##|emulation lines|##
local vars={
	playerPosX=110,
	playerPosY=470,
	playerPosZ=350
}

local Time={
	GetRawElapsedTimeSinceStartUp=os.clock
}

local TppUiCommand={
	AnnounceLogView=print
}
--##|/|##

e.var={
	player={
		oldPos={100,450,300},
		newPos=false,
	},
	time={
		oldTime=Time.GetRawElapsedTimeSinceStartUp()+1
	}
}

--##|emulation lines|##
while Time.GetRawElapsedTimeSinceStartUp()<e.var.time.oldTime+1 do
end
--##|/|##

function e:playerSpeed()
	local op=e.var.player.oldPos
	local np=self
	self=nil

	local x,y,z=(np[1]-op[1]),(np[2]-op[2]),(np[3]-op[3])
	op=nil
	x=math.sqrt((x*x)+(y*y)+(z*z))
	y=nil
	x=(math.floor(x*10)*1e-1)
	local secToHour=(60*60)
	local mInKm=1e3
	x=x*secToHour
	x=x/mInKm
	secToHour,mInKm=nil
	z=x%1
	if 0<z then
		if z<0.5 then
			x=(math.floor(x*10)*1e-1)
		else
			x=(math.ceil(x*10)*1e-1)
		end
	end
	TppUiCommand.AnnounceLogView(x..' KPH')
	return np
end

function e.Update()
	if e.var.time.oldTime<Time.GetRawElapsedTimeSinceStartUp() then
		e.var.player.oldPos=e.playerSpeed({vars.playerPosX,vars.playerPosY,vars.playerPosZ})
	end
end

e.Update()
```
So with something like that it should be possible to create some kind of formula to adjust vehicle speed precisely, rather than the "throw shit at the file and see what sticks" approach.
## Post #1583
- Username: Tex
- Rank: veteran
- Number of posts: 89
- Joined date: Sat Aug 20, 2011 11:51 am
- Post datetime: 2017-03-05T01:03:46+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

So there's some demos(cutscenes) that run during normal in game play with the player still in control, most of them are in epilogue, but theres one where some soldiers are interrogating a dude in Mission 6 at the bridge while you look from afar in full control.
In line with this, you can disable demo cameras by removing their references in the cameraTypes property of the DemoData object in the demos fox2.
This will return the camera to the normal player camera.

You can also stop demo control of the player character by removing the reference to the player in the controlCharacters property in the DemoData object (look for a DemoControlCharacterDesc with a characterId of Player to find which).

There's some other stuff that you need to tweak in TppDemo to regain control of the player camera (or full control if you remove player from demo control), you can force isInGame, isNotAllowedPlayerAction in Play(), though there's likely to be some side effects to this approach.

I have a submod on the IH files page that removes demo cam from all demos.
And the forceDemoAllowAction is now an option in IH (but pretty much relies on above submod), and you can also toggle IHs free cam with this option on via the quick menu (as Announce log is disabled during demos, haven't really looked to see if its possible to enable).
## Post #1584
- Username: nasanhak
- Rank: advanced
- Number of posts: 71
- Joined date: Sat Nov 28, 2015 1:01 pm
- Post datetime: 2017-03-05T10:13:52+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Tex
>
> I have a submod on the IH files page that removes demo cam from all demos.
And the forceDemoAllowAction is now an option in IH (but pretty much relies on above submod), and you can also toggle IHs free cam with this option on via the quick menu (as Announce log is disabled during demos, haven't really looked to see if its possible to enable).
Seriously Tex, awesome work! But how long did it take for you to edit all those demo files?! XD
## Post #1585
- Username: CantStoptheBipBop
- Rank: advanced
- Number of posts: 53
- Joined date: Sat Aug 27, 2016 4:43 pm
- Post datetime: 2017-03-08T03:09:29+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Finished the rewrite. It's optimized as much as I could manage; still not as fast as I'd like but it should be fine for most people. decipher.lua is a combination of langForce.lua and qarForce.lua. You change the settings in the input table and have a minimal amount to manually change inside of method functions. Instead of copy pasting different dictionaries and hash lists you can just select what you want from the e.lib table, which has keys holding relative paths to the target file. If you're doing QAR hashes then use the cat11 hash list. I didn't bother to create dynamic pattern matching based on the hash for QAR.

[MGSV dictionary generator](https://github.com/cstBipBop/MGSV-dictionary-generator)

Some build results showing general speed and script flow:
```
7862.837: calling e.createNewDictionary()
7863.159: entries
7864.105: creating output file
7868.425: freeing memory
7868.708: importing lines from output file
#oHashes=500000
#oEntries=500000
oEntries[1]=/Assets/tpp/common_source/environ/guantanamo/cm_cypr_pllt053/sourceimages/cm_cypr_pllt053_gg_clp
7868.894: s.find done
7869.261back in e.loop()
7870.571: max generated line count of 500000 reached; calling e.loop()
7870.605: calling e.createNewDictionary()
7870.933: entries
7872.051: creating output file
7876.492: freeing memory
7876.794: importing lines from output file
#oHashes=500000
#oEntries=500000
oEntries[1]=/Assets/tpp/common_source/environ/guantanamo/cm_mafr_nett053/sourceimages/cm_mafr_nett053_st_shm
7876.944: s.find done
7877.352back in e.loop()
```


Those build results aren't 100% accurate because I moved blocks inside functions before moving the console feedback to the proper position, but it gives the general idea of what the script is doing I guess. It spends most of its time importing lines from generated entry files for the oEntries table but I'm not sure what can be done about that. I'm open to suggestions on it.
## Post #1586
- Username: abuali
- Rank: beginner
- Number of posts: 20
- Joined date: Mon Dec 13, 2010 12:48 am
- Post datetime: 2017-03-08T05:17:23+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

As I am translating the game, I use japanese as a base. I finished almost everything but there's one problem, which is the server messages. As it appears I cannot do anything with it, but I need it to be in English rather than Japanese.
## Post #1587
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2017-03-08T08:49:08+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from abuali
>
> As I am translating the game, I use japanese as a base. I finished almost everything but there's one problem, which is the server messages. As it appears I cannot do anything with it, but I need it to be in English rather than Japanese.
Server messages such as fob event info while you log in? These depend on your game language setting.
## Post #1588
- Username: abuali
- Rank: beginner
- Number of posts: 20
- Joined date: Mon Dec 13, 2010 12:48 am
- Post datetime: 2017-03-08T09:00:00+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> abuali wrote:As I am translating the game, I use japanese as a base. I finished almost everything but there's one problem, which is the server messages. As it appears I cannot do anything with it, but I need it to be in English rather than Japanese.
Server messages such as fob event info while you log in? These depend on your game language setting.
Yep.
Maybe it can be modded in the game files so it showed the English messages instead of Japanese while using the Japanese language settings.
## Post #1589
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2017-03-10T02:39:50+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I've managed to successfully emulate server part - server login procedures and some routine stuff.
Right now it cannot be released because I am using hardcoded values for my steam account.
There are also some issues with authenticating: client sends steam ticket (probably generated by overlay) to the server, server parses ticket and returns corresponding steamid + password. You need steamworks api key to parse ticket, but that key is on konami side and there is no way to get it. I have a couple of ideas on how to make auth system even with steam tickets, but it will take some time.

Mb coins are (obviously) saved on server and are pulled from it every time you go online. You cannot change their value on custom server and then transfer it to konami server. 
Update: online-only weapons are uhh, online-only. You get a list of weapons you've developed (and not developed yet) with their status from server. Server will overwrite your local progress no matter what, so you cannot develop them on custom server and transfer to legit server.

I've also achieved nuclear disarmament without modding the game (so this is legit disarmament). Cutscene plays, monument stays, no chapter 3 card shown.

Bonus pic of modded mbcoins:
## Post #1590
- Username: GHzGangster
- Rank: n00b
- Number of posts: 19
- Joined date: Fri Aug 15, 2014 1:00 pm
- Post datetime: 2017-04-10T04:46:52+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> ...
Surprised someone else went through the trouble of doing this honestly.

Unless you have a hacked console, you won't be getting on the other "servers". I have a Steam and PS3 server, really just for MGO though. Really, I think a Steam server is really the only accessible option. A hacked PS3 would work, but there are going to be a whole lot less people with that.

I used to have an MGO stat lookup tool for Steam, you could use old auth info just fine. You can do the same for the PS3 version. Konami doesn't seem to double-check the time on the PS3 tickets, at least. I used the same ticket for months at least. It would probably still be working if my PSN didn't get banned.

Cool to see that the encryption really is Blowfish though. I honestly just translated the PPC code over to C.

EDIT: PM'd you my PS3 PSN ticket and auth params. I'm banned from PSN, but it still seems to work for the server.
## Post #1591
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2017-04-10T05:49:30+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from GHzGangster
>
> unknown123 wrote:...
PS3 stuff

So that's where MGO stats came from! I remember googling for it, but when I stumbled upon that site (mgostat.com, was it?) it was already down, so I had no way to contact creators. 

Thank you for providing ticket, BobDoleOwndU was trying to do the same to get me a ticket, but he moved onto other projects.
I am having some troubles though, sent you PM with details. Nevermind - game uses only login_id to log on ps3.

PS: if you are still interested in modding the game, you probably should join mgsv modding discord.
## Post #1592
- Username: GHzGangster
- Rank: n00b
- Number of posts: 19
- Joined date: Fri Aug 15, 2014 1:00 pm
- Post datetime: 2017-04-10T06:27:14+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> So that's where MGO stats came from! I remember googling for it, but when I stumbled upon that site (mgostat.com, was it?) it was already down, so I had no way to contact creators. 

Thank you for providing ticket, BobDoleOwndU was trying to do the same to get me a ticket, but he moved onto other projects.
I am having some troubles though, sent you PM with details. Nevermind - game uses only login_id to log on ps3.

PS: if you are still interested in modding the game, you probably should join mgsv modding discord.
Ah, if you did manage to log in, that's good.

Site was mgo.io, but there wasn't really much activity there.

Not really interesting in modding the game honestly. I was really only interesting in some MGO stuff, but I don't even play that anymore. Haven't touched TPP in a long time either. I'd be happy to help you with the server stuff, though I really didn't do a whole lot for the TPP server.

Also, I'm really busy with MGO2 stuff as well.
## Post #1593
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2017-04-10T06:35:23+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from GHzGangster
>
> 
I'd be happy to help you with the server stuff, though I really didn't do a whole lot for the TPP server.

Best thing you can do is to opensource your scripts which pull data for mgo (without any private data ofc). This will give people a way to resurrect your site (which is always nice).
TPP has a lot of data and I don't have time to work on both TPP and MGO; you will save me some time by opensourcing your scripts.

And btw, how did you dump keys from ps3? MITM attack with ssl cert replacement, like I did?
## Post #1594
- Username: GHzGangster
- Rank: n00b
- Number of posts: 19
- Joined date: Fri Aug 15, 2014 1:00 pm
- Post datetime: 2017-04-10T14:51:47+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from unknown123
>
> Best thing you can do is to opensource your scripts which pull data for mgo (without any private data ofc). This will give people a way to resurrect your site (which is always nice).
TPP has a lot of data and I don't have time to work on both TPP and MGO; you will save me some time by opensourcing your scripts.

And btw, how did you dump keys from ps3? MITM attack with ssl cert replacement, like I did?
I didn't dump keys actually. I changed the SSL verification callback in the game to accept any certificate. Then I just talked to my server, and my server proxied requests to the main server.

I will probably open-source that stuff now, yeah. It's a bit messy, but someone else can figure that out. Just need to figure out what is really needed though.
## Post #1595
- Username: youarebritish
- Rank: n00b
- Number of posts: 13
- Joined date: Fri Oct 30, 2015 4:23 am
- Post datetime: 2017-05-06T17:04:59+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

So I got my hands on the terrain shader, and after studying it, I've figured out exactly what parameters it takes. This should making deciphering the htres a lot easier.

The texture maps it consumes:
WorldTexture
SrmTexture
NormalTexture
AlbedoTexture
MaterialIndicesTexture
MaterialSelectMapTexture
TileMapTexture
HeightMapTexture

The bolded ones are the new discoveries. The first few are all normal ftx texture that are assigned in the terrain's fox2. The heightmap we already knew was encoded in the htre, but I don't know anything about where the bolded ones are. My guess is that they're somewhere in the htre. The MaterialIndicesTexture is probably what the htre calls materialIDs. I'm guessing it specifies what terrain materials go where.

The heightmap is read as a float in the shader, so that confirms that the height is encoded in a 32-bit format. Interestingly, MaterialIndices, MaterialSelectMap, MaterialWeightMap, and TileMap are each read in as half4's, so they're probably encoded in a 16-bit format. For MaterialIndicesMap and the heightmap, only the r channel of the texture is read, so each value is probably only stored as one channel (makes sense for the heightmap, no idea what that says about the material IDs, though). Interestingly, though, the others seem to use four channels, so I'd expect to see them encoded as a 16-bit RGBA. That should help a lot in tracking the data down.

Here's a snippet from the shader that shows how the maps are used:

```

	
	materialAndWeight.xy = materialAndWeight.x > materialAndWeight.y ? materialAndWeight.xy : materialAndWeight.yx ;
	materialAndWeight.zw = materialAndWeight.z > materialAndWeight.w ? materialAndWeight.zw : materialAndWeight.wz ;
	
	materialAndWeight.xz = materialAndWeight.x > materialAndWeight.z ? materialAndWeight.xz : materialAndWeight.zx ;
	materialAndWeight.yw = materialAndWeight.y > materialAndWeight.w ? materialAndWeight.yw : materialAndWeight.wy ;
	
	materialAndWeight.yz = materialAndWeight.y > materialAndWeight.z ? materialAndWeight.yz : materialAndWeight.zy ;

	outMaterialIndex = (half4)frac( materialAndWeight ) * 256.0h ;
	outMaterialWeight = (half4)floor( materialAndWeight ) / 256.0h ;

	half2	materialSelectTableUvParam = half2( 1.0h/16.0h, 0.5h/16.0h );
	half2	materialSelectTableUv = half2( outMaterialIndex.x * materialSelectTableUvParam.x + materialSelectTableUvParam.y, 0 );
	outTopMaterialIndex = (half)TFetch2DH( inMaterialIndicesTexture, SamplerPoint, materialSelectTableUv ).x ;
```
## Post #1596
- Username: youarebritish
- Rank: n00b
- Number of posts: 13
- Joined date: Fri Oct 30, 2015 4:23 am
- Post datetime: 2017-05-07T20:44:02+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I think I've mostly decoded the lba format. My thinking was that it was probably just a binary form of the TransformEntitys from the fox2's. I used TppLandingZone.lua to find the name of a random locator and get some coordinates to compare against (check OverwriteBuddyVehiclePosForALZ() in that file). sovietBase_aacr001 has the locator name of afgh_antn006_gim_n0000|srt_afgh_antn006, also defined in afgh_sovietBase_asset.fox2. I found that, after the header, the first four values were -2147.00024, 441.305634, -1511.29321, 3.113926e-39, which was very close to -2006.886,425.727,-1127.261, the vehicle drop point for that LZ as defined in TppLandingZone.lua.

Here's an 010 Editor header to parse the lba files. I ran it on a few files and it looked good, but it's my first attempt at making one:

```
//--- 010 Editor v7.0.2 Binary Template
//
//      File: *.lba
//   Authors: youarebritish
//   Version: 1.0
//------------------------------------------------
LittleEndian();

struct Lba {
    struct Header {
	    int numLocators;
        int unknown1;
        int unknown2;
        int unknown3;
    } header;
    
    struct Locator
    {
        struct Vector3
        {
            float x;
            float y;
            float z;
            float w;
        } transform_translation;
        struct Quat
        {
            float x;
            float y;
            float z;
            float w;
        } transform_rotation_quat;
        uint locatorName;
        uint unknown4;
    } locator[file.header.numLocators];
} file;
```
## Post #1597
- Username: redspike474
- Rank: n00b
- Number of posts: 12
- Joined date: Fri Feb 05, 2016 2:24 am
- Post datetime: 2017-05-08T15:35:43+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

How did you get the terrain shader? are the other shaders accessible too? I would like to write a max/maya shader that emulates tpp rendering.
## Post #1598
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2017-05-08T15:59:13+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from redspike474
>
> How did you get the terrain shader? are the other shaders accessible too? I would like to write a max/maya shader that emulates tpp rendering.
You need to xor the .fsop files located in data1\shaders\dx11 by 0x9C. This will give you the source code.
## Post #1599
- Username: redspike474
- Rank: n00b
- Number of posts: 12
- Joined date: Fri Feb 05, 2016 2:24 am
- Post datetime: 2017-05-08T20:57:45+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Could you post them or PM me them ? Im pretty sure when I last looked into it there wasnt full shader source... just bits.
## Post #1600
- Username: youarebritish
- Rank: n00b
- Number of posts: 13
- Joined date: Fri Oct 30, 2015 4:23 am
- Post datetime: 2017-05-10T03:51:35+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Managed to extract (what I think is) a splatmap from an htre. The big block of data after the heightmap is an RGBA texture encoded as ubytes. I'm not sure which terrain input texture this corresponds to, although my guess would be that it's the MaterialWeightMapTexture, as the sum of all values in a given pixel is 255. It has the same weird interleaving appearance as the heightmap. No idea what's causing that.

We still haven't located the following terrain tile textures:
-MaterialIndicesTexture (only R channel is used, so probably a greyscale texture).
-TileMapTexture (RGB)
-MaterialSelectMapTexture (probably RGBA)
[None](https://xentaxbackup.github.io/file/12877_None)
## Post #1601
- Username: youarebritish
- Rank: n00b
- Number of posts: 13
- Joined date: Fri Oct 30, 2015 4:23 am
- Post datetime: 2017-05-13T01:15:30+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I've got a revised version of the .lba template. This one works on three of the four .lba formats I've found so far. The fourth format is completely different from the others and I haven't been able to make sense of it yet. Luckily, I've only found two examples of this fourth type so far (one being mafr_drum001.lba).

```
//--- 010 Editor v7.0.2 Binary Template
//
//      File: *.lba
//   Authors: youarebritish
//   Version: 2.0
//------------------------------------------------
LittleEndian();

//------------------------------------------------
// Struct definitions
//------------------------------------------------
enum <uint> Format { TYPE_0 = 0, TYPE_2 = 2, TYPE_3 = 3, TYPE_UNKNOWN };

struct Vector4
{
    float x;
    float y;
    float z;
    float w;
};
//------------------------------------------------
// File format
//------------------------------------------------
struct LbaFile
{
    struct Header
    {
        uint numLocators;
        Format format;
        double empty <hidden=true>;
    } header;

    if (header.format == TYPE_0)
    {
        struct LocatorType0
        {
            Vector4 translation;
            Vector4 rotation;
        } locators[header.numLocators];
    }

    else if (header.format == TYPE_2)
    {
        struct LocatorType2
        {
            Vector4 translation;
            Vector4 rotation;
        } locators[header.numLocators];
        struct LocatorType2Metadata
        {
            uint locatorName;
            uint dataSet;
        } metadata[header.numLocators];
    }

    else if (header.format == TYPE_3)
    {
        struct LocatorType3
        {
            Vector4 translation;
            Vector4 rotation;
            uint unknown30;
            uint unknown31;
            uint unknown32;
            uint unknown33;
        } locators[header.numLocators];
        struct LocatorType3Metadata
        {
            uint unknown34;
            uint unknown35;
        } metadata[header.numLocators];
    }
} file;
```
## Post #1602
- Username: youarebritish
- Rank: n00b
- Number of posts: 13
- Joined date: Fri Oct 30, 2015 4:23 am
- Post datetime: 2017-05-23T01:36:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I've started on deciphering the .frt route files. I've identified most of the data, but the relationships between them still aren't clear. For instance, I don't know how nodes and edges are mapped to events, or how exactly the route is traversed.

An frt file contains a list of hashed route IDs, a list of vector3 node locations, a list of what I think are edges in the node graph, and a list of route events, which have an event type and parameters.

Here's my current template:

```
//--- 010 Editor v7.0.2 Binary Template
//
//      File: frt.bt
//   Authors: youarebritish
//   Version: 0.1
//------------------------------------------------
LittleEndian();
struct Header
{
    char ROUT[4] <hidden = true>;
    short unknown1 <hidden = true>;
    short routeIdCount;
    int unknown2 <hidden = true>;
    int unknown3;
} header;

int routeNodesAddress <hidden = true>;
int routeEdgesAddress <hidden = true>;
int rouseNodeEventsAddress <hidden = true>;

uint routeIds[header.routeIdCount];

struct UnknownStruct
{
    int unknown4a;
    int unknown4b;
    int unknown4c;
    int unknown4d;
} unknown4[header.routeIdCount];

struct RouteNode
{
    float x;
    float y;
    float z;
} routeNodes[(routeEdgesAddress - routeNodesAddress)/sizeof(RouteNode)];

struct RouteEdge
{
    ushort from;
    ushort to;
} routeEdges[(rouseNodeEventsAddress - routeEdgesAddress)/sizeof(RouteEdge)];

struct RouteNodeEvent
{
    uint type;
	uint params[11];
} routeNodeEvents[(FileSize() - rouseNodeEventsAddress)/sizeof(RouteNodeEvent)];
```
## Post #1603
- Username: CreaseInTime
- Rank: n00b
- Number of posts: 10
- Joined date: Tue Dec 13, 2016 11:59 am
- Post datetime: 2017-08-01T18:17:22+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hey there, looking to see if anyone can help me out with this FTEX file. It's quite a few KBs large, but when I convert it with FtexTool it ends up 1KB and completely black. Does anyone know why this might happen?
## Post #1604
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2017-08-01T20:01:56+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Can you upload sample?
## Post #1605
- Username: CreaseInTime
- Rank: n00b
- Number of posts: 10
- Joined date: Tue Dec 13, 2016 11:59 am
- Post datetime: 2017-08-01T20:29:23+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Yes, [here's a link](https://my.mixtape.moe/ebsvhi.zip) to all the .FTEXS and .FTEX files for the texture.
## Post #1606
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2017-08-02T06:45:50+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

FtexTool doesn't support that file. It's using a format only <1% of all texures have (non chunked, non compressed, no metadata in the ftexs files)

Here's the fixed dds:
[https://my.mixtape.moe/iecrlo.zip](https://my.mixtape.moe/iecrlo.zip)
## Post #1607
- Username: CreaseInTime
- Rank: n00b
- Number of posts: 10
- Joined date: Tue Dec 13, 2016 11:59 am
- Post datetime: 2017-08-03T00:35:32+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

You're a lifesaver, atvaark. Thanks! 

Quick edit, is there any possibility you could get the other textures associated with it, linked [here](https://my.mixtape.moe/bvkqbq.zip)? They give the same error.
## Post #1608
- Username: atvaark
- Rank: advanced
- Number of posts: 52
- Joined date: Fri Aug 28, 2015 10:19 pm
- Post datetime: 2017-08-03T20:12:59+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from CreaseInTime
>
> You're a lifesaver, atvaark. Thanks! 

Quick edit, is there any possibility you could get the other textures associated with it, linked here? They give the same error.

They can also be unpacked by my patched tool.
[https://my.mixtape.moe/ntfndx.zip](https://my.mixtape.moe/ntfndx.zip)

I won't be releasing the patch because I can't test if it breaks converting other textures and this bug only appears with <1% of all textures I guess.
## Post #1609
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2017-08-12T21:50:07+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I would like to leave a note here about lua and C functions.

You can inspect any C function like this:

```
for key,value in pairs(a) do --pseudocode
    print(key..value)
end

```


It will print out info like this:

```
what : C
func : function: 0x1b15100
lastlinedefined : -1
source : =[C]
currentline : -1
namewhat :
linedefined : -1
short_src : [C]

```


However that function address is NOT the actual address of C function. I built an executable with embedded lua, where C function write is called via lua. Here are the addresses of functions in C and in Lua:

```
write: 0x401716
l_write: 0x401742

```


write is the function itlself, l_write is a wrapper for lua. Both addresses are static and never change, while address from lua always changes. Most likely this is an address in Lua machine.
Code attached to the post, was built on linux machine. You will need liblua5.1, lua5.1-dev and g++.
[None](https://xentaxbackup.github.io/file/13197_None)
## Post #1610
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2017-08-27T14:13:01+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I have tried to load a DLL and failed.

Steps I took:

First, disable DEP to be able to load our dll. If you cannot disable DEP, you will run into errors like I did (and still do).
You will need to disable software and hardware DEP. Software DEP is disabled like this:

```
bcdedit.exe /set {current} nx AlwaysOff
```

Hardware DEP is disabled by turning it off in BIOS, look for 'execution bit' or something like that. Some BIOSes (like mine) don't have that option, so you are probably out of luck - DEP will prevent dll from loading, mgsvtpp.exe will crash with BEX64/StackHash error. Reboot after turning them off.

Second, you need to get a 64 bit compilator - game uses 64-bit version of lua and doesn't like 32 bit dlls (this is just a guess, not 100% confirmed). I used gcc from [http://winbuilds.org/](http://winbuilds.org/). Download the installer, install everything, veryfy that it is working by typing 'gcc' in console. If it is not working - check your PATH or invoke it directly from the installation directory.

Third, write your dll. This is the hardest part, so I chose to get the source from the internet. 


 test.tar
(10 KiB) Downloaded 17 times



Fourth, compile it.

```
gcc -O -static -o test.dll test.o 
```


Note: we are compiling it as a static library. 
You can also try to build a shared library. To do so, get Lua 5.1.5 windows x64 build - [https://sourceforge.net/projects/luabin ... p/download](https://sourceforge.net/projects/luabinaries/files/5.1.5/Tools%20Executables/lua-5.1.5_Win64_bin.zip/download) . Put lua5.1.dll along with test.cpp, compile:

```
gcc -O -shared -o test.dll test.o -L . -llua5.1
```


Now we have a compiled DLL and ready to load it in the game. Put it along with mgsvtpp.exe to avoid path issues. If you have built shared library, copy lua5.1.dll there as well. You can put require code into init.lua or load it on button press - whatever you like.

```
test.add1(2)
```
 or 
```
add1(2)
```


And here are the problems:

If you have shared library, game loads your dll AND lua5.1.dll, which results in soft hang - game is running, but the screen is frozen, inputs are not working. I see 2 possible problems with is:

 Internal lua engine conflicts with lua5.1.dll;
 dll is missing something.
No idea how to solve any of them.

If you have a static library, game tries to load your dll, but DEP is preventing it to load, crashing with BEX64/StackHash errors. I was unable to disable hardware part of DEP - my BIOS is missing settings. I have also tried disabling antivirus, turning on compability settings, running as admin - same error. This bug needs to be reproduced on another machine, maybe the problem is in my pc. There is also a possibility that I don't fully understand the mechanism of loading shared/static libraries and static lib is worthless.

I have also tried to load the dll using Fox module methods by calling them one by one with 'test' as parameter. Unfortunately it didn't work and I haven't seen any low-level C modules in the game that had functions with ability to load stuff (aside from Script.LoadLibrary, which loads luas only).

Edit: I have also tried to build a proxy dll as described here: [http://lua-users.org/wiki/LuaProxyDll](http://lua-users.org/wiki/LuaProxyDll). All 4 methods failed (or maybe it's just me). Hope that will help anyone trying to do the same.
## Post #1611
- Username: NeverAgain
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Sun Aug 27, 2017 4:19 am
- Post datetime: 2017-09-11T22:03:32+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I have a question. Is it possible to locate the E3 2013 foliage textures and models stored on Phantom pain?



I am curios if they could be used to replace the existing foliage and trees use in Afghanistan's map. if they don't exist within Phantom Pain then maybe they could be re-created? it might be worth a shot.
## Post #1612
- Username: FirasZinou
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Thu Sep 14, 2017 8:10 pm
- Post datetime: 2017-09-14T12:12:54+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from atvaark
>
> CreaseInTime wrote:You're a lifesaver, atvaark. Thanks! 

Quick edit, is there any possibility you could get the other textures associated with it, linked here? They give the same error.

They can also be unpacked by my patched tool.
https://my.mixtape.moe/ntfndx.zip

I won't be releasing the patch because I can't test if it breaks converting other textures and this bug only appears with <1% of all textures I guess.

Hi mate i'm from PES editing community and i'm asking you for help about ftex files similair to what you patched .
when convert .ftex to .dds with your tool it comes with black dds so i think your patched tool is the solution for this problem ..
## Post #1613
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2017-09-14T16:07:04+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from FirasZinou
>
> 
Hi mate i'm from PES editing community and i'm asking you for help about ftex files similair to what you patched .
when convert .ftex to .dds with your tool it comes with black dds so i think your patched tool is the solution for this problem ..
I think you should make an issue here - [https://github.com/Atvaark/FtexTool/issues](https://github.com/Atvaark/FtexTool/issues)
## Post #1614
- Username: Thomas Anderson
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Tue Oct 03, 2017 2:39 am
- Post datetime: 2017-10-02T18:50:11+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hi, im new to this forum but i was send here by Atvaark.

I was in the idea of making an asthetic mod for the mgo part of the game more precise for the weapons, since we all know is not very active with zero support from the developers and probably gonna get shut down next year with the coming of MG Survive, so i said "why the hell not?". The question is: if anyone has any idea where the colour for the weapons of mgo are located? i which lua file? or where? any help would be welcome.

I did find the colours for the gear that was very easy Assets>Mgo>Config>Gear, and there i could find the hashes that the game uses for the colours, for example com_c72 is golden and com_c18 is silver, i could even put camo pattern on gear that didn't had such colour available, so im guessing it can be done for the weapons i just gotta find where they are located.
## Post #1615
- Username: unknown123
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Apr 10, 2016 12:36 am
- Post datetime: 2017-10-03T09:42:51+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Thomas Anderson
>
> Hi, im new to this forum but i was send here by Atvaark.

I was in the idea of making an asthetic mod for the mgo part of the game more precise for the weapons, since we all know is not very active with zero support from the developers and probably gonna get shut down next year with the coming of MG Survive, so i said "why the hell not?". The question is: if anyone has any idea where the colour for the weapons of mgo are located? i which lua file? or where? any help would be welcome.

I did find the colours for the gear that was very easy Assets>Mgo>Config>Gear, and there i could find the hashes that the game uses for the colours, for example com_c72 is golden and com_c18 is silver, i could even put camo pattern on gear that didn't had such colour available, so im guessing it can be done for the weapons i just gotta find where they are located.
Try updated dictionaty - [https://github.com/TinManTex/mgsv-looku ... t?raw=true](https://github.com/TinManTex/mgsv-lookup-strings/blob/master/GzsTool/qar_dictionary.txt?raw=true) or [https://github.com/TinManTex/mgsv-looku ... t?raw=true](https://github.com/TinManTex/mgsv-lookup-strings/blob/master/GzsTool/qar_dictionarytppmgo.txt?raw=true)
## Post #1616
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2017-11-09T09:02:06+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Forgot to post this here.

Fmdl Studio v2

Unity based fmdl importer and FBX exporter (and planned to be fmdl exporter).

Can currently:
-Read fmdl data and build the model in Unity.
-Apply diffuse textures to the model if the textures are in a folder with the model's name located in the Fmdl Studio v2 folder.
-Export rigged and (diffuse) textured models from Unity to the FBX format. (The FBX by default will look for textures in a folder with the fmdl's name at the same location the fbx is located.)

To do list:
-Implement a better system for handling textures. Edit: Done!
-Apply textures other than diffuse to the model. Edit: Partially done. Normal maps are supported as well now.
-Apply more than the first UV set to models with multiple UV sets. Edit: Done!
-Do something with the numerical material parameters.
-Write Unity data back to the fmdl format.

[https://github.com/BobDoleOwndU/FMDL-Studio-v2](https://github.com/BobDoleOwndU/FMDL-Studio-v2)

Requires Unity 2017.2+.
## Post #1617
- Username: lionheartuk
- Rank: double-veteran
- Number of posts: 749
- Joined date: Wed May 17, 2006 5:55 am
- Post datetime: 2017-11-10T03:04:36+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from BobDoleOwndU
>
> Forgot to post this here.

Fmdl Studio v2

Unity based fmdl importer and FBX exporter (and planned to be fmdl exporter).

Can currently:
-Read fmdl data and build the model in Unity.
-Apply diffuse textures to the model if the textures are in a folder with the model's name located in the Fmdl Studio v2 folder.
-Export rigged and (diffuse) textured models from Unity to the FBX format. (The FBX by default will look for textures in a folder with the fmdl's name at the same location the fbx is located.)

To do list:
-Implement a better system for handling textures.
-Apply textures other than diffuse to the model.
-Apply more than the first UV set to models with multiple UV sets.
-Do something with the numerical material parameters.
-Write Unity data back to the fmdl format.

https://github.com/BobDoleOwndU/FMDL-Studio-v2

Requires Unity 2017.2+.

That sounds awesome!
Will it be supporting terrain in the near future?
## Post #1618
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2017-11-10T23:56:43+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from lionheartuk
>
> That sounds awesome!
Will it be supporting terrain in the near future?
Another project, FoxKit, is working on getting terrain/map importing working. It utilizes Fmdl Studio v2 for its model stuff.

You can follow FoxKit here: [https://github.com/youarebritish/FoxKit](https://github.com/youarebritish/FoxKit).
## Post #1619
- Username: youarebritish
- Rank: n00b
- Number of posts: 13
- Joined date: Fri Oct 30, 2015 4:23 am
- Post datetime: 2017-12-07T03:33:55+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

To add to that, terrain has a completely different format from the other models, so it's outside the scope of Fmdl Studio. Terrain support's still a while off but it's definitely feasible.
## Post #1620
- Username: youarebritish
- Rank: n00b
- Number of posts: 13
- Joined date: Fri Oct 30, 2015 4:23 am
- Post datetime: 2017-12-11T07:06:51+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

I've gotten most of the .obr format figured out. Here's a template:

```
//--- 010 Editor v7.0.2 Binary Template
//
//      File: obr.bt
//   Authors: youarebritish
//   Version: 0.1
//------------------------------------------------
struct Header
{
    ushort u1;                      // Always 3?
    ushort u2;                      // Always 32?
    uint fileSize;
    uint ObjectBrush <hidden=true>; // Hash for "ObjectBrush"
    uint ObjectBrushOffset;         // Points to the text "ObjectBrush"

    FSkip(6*4);

    uint u3;                        // Always 1?
    uint numBlocksHOffset;
    uint offset1;                   // Near the bottom if there are objects

    FSkip(4*4);

    uint u4;

    FSkip(8);
    FSkip(16);
    
    struct HeaderMetadata
    {
        ushort u1;
        ushort u2;
        uint variableNameHash <hidden=true>;
        uint u3;                    // Always 76?
        uint value;
    };

    HeaderMetadata blockSizeWmetadata;
    HeaderMetadata blockSizeHmetadata;
    HeaderMetadata numBlocksWmetadata;
    HeaderMetadata numBlocksHmetadata;
    HeaderMetadata numObjectsmetadata;
} header;

FSkip (80);

struct Object
{
    float yTranslation;
    float v2;
    float v3;
    ushort v4a;
    ushort v4b; // Some kind of offset?
    ushort v5a;
    ushort v5b; // Some kind of offset?
    uint id;
} objects[header.numObjectsmetadata.value];
```

Object Brush (obr) files are used in Cyprus and Mother Base to place grass, bushes, and other misc semi-procedural debris. There's a corresponding _objBrush.fox2 which sets up data such as what fmdl to place. I believe v2 and v3 are components of a location, rotation, or scale but am not sure just yet. I also believe v5a is some kind of index, but I'm not sure into what yet.
## Post #1621
- Username: lionheartuk
- Rank: double-veteran
- Number of posts: 749
- Joined date: Wed May 17, 2006 5:55 am
- Post datetime: 2017-12-11T07:19:50+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Awesome update.

As it stands right now, is your tool capable of importing the terrain into Unity even without textures?
Not exporting is fine for me, I'm more interested in taking the terrains elsewhere as obj files honestly.
## Post #1622
- Username: youarebritish
- Rank: n00b
- Number of posts: 13
- Joined date: Fri Oct 30, 2015 4:23 am
- Post datetime: 2017-12-12T06:56:32+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Unfortunately not. I'm very close on the terrain format but there are a couple small things I haven't figured out yet. I've put it down for a while in the hopes of having some fresh perspective when I return to it, and am working on other features of FoxKit at the moment.
## Post #1623
- Username: BobDoleOwndU
- Rank: advanced
- Number of posts: 68
- Joined date: Thu Dec 24, 2015 2:45 pm
- Post datetime: 2018-01-16T17:09:00+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Making an update on Fmdl Studio v2 progress. We have successfully gotten custom and modified models into MGSV!

[https://i.imgur.com/9Bt4epT.jpg](https://i.imgur.com/9Bt4epT.jpg)
[https://staticdelivery.nexusmods.com/im ... 958256.png](https://staticdelivery.nexusmods.com/images/1091/4085798-1515958256.png)

In the image with Quiet, materials weren't properly set up; so textures with alpha look weird. I recently implemented an improved material system though; so it should be possible to fix that now.

The tool is in a nearly ready state now. We're still looking into bones a bit though. I figured out that the bones must be in alphabetical name order to work correctly; but we don't know exactly why yet. You can remove helper bones and the model will still work correctly; but if a helper bone is in the wrong position, it tends to mess up the model's rig in-game.

[https://github.com/BobDoleOwndU/FMDL-Studio-v2](https://github.com/BobDoleOwndU/FMDL-Studio-v2)

Edit: An official beta release of the tool is now available.
## Post #1624
- Username: youarebritish
- Rank: n00b
- Number of posts: 13
- Joined date: Fri Oct 30, 2015 4:23 am
- Post datetime: 2018-02-04T22:39:52+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

FoxLib 1.1.0 has been released, which now supports reading and writing frt (AI route) files.

[https://github.com/youarebritish/FoxLib](https://github.com/youarebritish/FoxLib)

Example code can be found here:

[https://github.com/youarebritish/FoxLibExamples](https://github.com/youarebritish/FoxLibExamples)
## Post #1625
- Username: slayer983
- Rank: n00b
- Number of posts: 11
- Joined date: Sat Jun 30, 2012 4:26 am
- Post datetime: 2018-04-20T09:09:43+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

We need to edit .fnt file. 
atvaark's FoxEngine.TranslationTool is good but missing... .ffnt font files are done, .ftexs files are done, but there isn't any tool for these files. Please fix this, we must edit to iDroid font, and maybe others too.

[http://www.mediafire.com/file/jcba50gix ... tfiles.rar](http://www.mediafire.com/file/jcba50gixjvpjxi/MGSV_Ftex_and_fnt_Fontfiles.rar)
## Post #1626
- Username: [C]oopeZz
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Wed Apr 25, 2018 3:12 am
- Post datetime: 2018-04-24T20:16:32+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hello,

I read guide aboutinjecting .wem files to the .bnk but I don't understand one think. I managed to swap Sortie music (my test) with my own music. What I want is to modify .bnk. I want (another test, swap one file and then Im able to swap what I want) to modify File0714.wem (sound when choose gun in-game). Last step, editing with HexEditor...Last step is to modify sectors, I noticed, my files have data string at 56-59. Sadly, MGS original .wem have data string at 38-3B an then I'm not able to overwrite sectors from guide, it's missing. Also, the JUNK string is there and data string come earlier because of this. When I try to replace anything, I go "spooky" sound or no sound. Someone know what to do? If someone modify file I want and send it back, I learn A LOT from it.

Thanks!
[None](https://xentaxbackup.github.io/file/14262_None)
## Post #1627
- Username: CreaseInTime
- Rank: n00b
- Number of posts: 10
- Joined date: Tue Dec 13, 2016 11:59 am
- Post datetime: 2018-08-18T01:26:21+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

What tools work consistently on Ground Zeroes? As it stands right now I've tried just about every version of FPK/QAR/whatever tools I can find on the FPKs from GZS, but nothing seems to work. If anyone has any working tools for it, would they mind sending them my way?
## Post #1628
- Username: BPSxX
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Mon Feb 25, 2019 6:47 am
- Post datetime: 2019-02-24T23:17:59+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Has anyone ever been able to extract cutscene dialogue or find their location in the game's files? I've only been able to find some background noises and optional dialogue audio (like Code Talker's singing from the birthday event, but I can't find Kaz/Ocelot/soldiers' singing track).
## Post #1629
- Username: camaross7
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Mon Feb 25, 2019 11:07 am
- Post datetime: 2019-02-25T03:12:19+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

hello   dude   im   newbie  in  modding  mgsv  plz  a  little  help

   i  want  to get  those  throat slit  animation   from  metalgear online   to swap  with   regular  chest stabbing in tpp  i  follow  this  tutorial [https://www.youtube.com/watch?v=bkqMLUF5-oQ&t=116s](https://www.youtube.com/watch?v=bkqMLUF5-oQ&t=116s)  and  almost  done   but   little problem that  what  the  .gani  code  which one  that  do  throat  slit animation    any  idea   plz   help      is  that 0182-0197  code  for  cqc   need  a  little  explain  or  descrebtion  man   plz   help
## Post #1630
- Username: Stallone
- Rank: n00b
- Number of posts: 14
- Joined date: Thu Mar 12, 2020 5:24 am
- Post datetime: 2020-08-15T18:34:25+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

hi, 'hope someone can help me here: I listened to the thousands of audio sounds for the game, but I can't find the ONE I was looking for, the Bionic Arm sound effect (when hitting / running - comes from Million Dollar Man) please help me find it!!


Thanks
## Post #1631
- Username: caplagrobin
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Fri Oct 07, 2016 2:17 am
- Post datetime: 2020-08-17T03:56:24+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from Stallone ↑Sun Aug 16, 2020 2:34 am at Sun Aug 16, 2020 2:34 am
>
> 
hi, 'hope someone can help me here: I listened to the thousands of audio sounds for the game, but I can't find the ONE I was looking for, the Bionic Arm sound effect (when hitting / running - comes from Million Dollar Man) please help me find it!!


Thanks

Here it is, it's [29560edc.wem](https://drive.google.com/file/d/1JI7M0TBunprixTHaxAtKrwvk4LLPIlJA/view?usp=sharing) in common_bank_01.sbp, if you extract it with [SecaProject's SBP_Tool](https://github.com/secaproject/SBP_tool).
## Post #1632
- Username: Stallone
- Rank: n00b
- Number of posts: 14
- Joined date: Thu Mar 12, 2020 5:24 am
- Post datetime: 2020-08-20T12:27:36+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from caplagrobin ↑Mon Aug 17, 2020 11:56 am at Mon Aug 17, 2020 11:56 am
>
> 
Stallone wrote: ↑Sun Aug 16, 2020 2:34 am
hi, 'hope someone can help me here: I listened to the thousands of audio sounds for the game, but I can't find the ONE I was looking for, the Bionic Arm sound effect (when hitting / running - comes from Million Dollar Man) please help me find it!!


Thanks


Here it is, it's 29560edc.wem in common_bank_01.sbp, if you extract it with SecaProject's SBP_Tool.

You made my day Sir!

With your explanation, I'll try to find it to learn more about extracting, awesome, thanks!!
## Post #1633
- Username: darkside970
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Wed Nov 21, 2018 12:56 am
- Post datetime: 2020-08-31T21:40:16+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hello, I'm new at this.
but I would like to know what file is to unlock all metal gear items online? since some are impossible to obtain and some users achieved this but there is not much information on how they do it
here an example:
[https://www.youtube.com/watch?v=l18y3WR ... dex=4&t=0s](https://www.youtube.com/watch?v=l18y3WR7ryg&list=LLOz4vsklZkz3qZG1w766l-A&index=4&t=0s)
## Post #1634
- Username: GHzGangster
- Rank: n00b
- Number of posts: 19
- Joined date: Fri Aug 15, 2014 1:00 pm
- Post datetime: 2020-12-25T15:52:07+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

> Reply from darkside970 ↑Tue Sep 01, 2020 5:40 am at Tue Sep 01, 2020 5:40 am
>
> 
Hello, I'm new at this.
but I would like to know what file is to unlock all metal gear items online? since some are impossible to obtain and some users achieved this but there is not much information on how they do it
here an example:
https://www.youtube.com/watch?v=l18y3WR ... dex=4&t=0s

He's a friend. He used my proxy server for PC which does stuff like unlock all items, dlc maps, etc. I haven't touched it in forever and it probably doesn't work right now. Can't share while the game is still online, sorry.
## Post #1635
- Username: szczuru
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Sat Sep 26, 2015 5:38 am
- Post datetime: 2022-07-28T08:35:16+00:00
- Post Title: Re: Metal Gear Solid 5 Ground Zeroes/Phantom Pain g0s archiv

Hi does anyone managed to convert PS3 ftex font files to dds and vice versa? It seems that they are encrypted somehow. Random other ftex from PS3 version have bigendian header:


but fonts located at:
\PS3_GAME\USRDIR\data\qar\texture.qar\Assets\tpp\ui\Font

are garbarage in hex:



I've tried to process them via MGSVResDec tool but it seems it's something else. Ftextool with BigEndian support throws out 1kb dds file as output.
