## Post #1
- Username: daemon1
- Rank: MEGAVETERAN
- Number of posts: 2649
- Joined date: Wed Mar 25, 2015 3:12 am
- Post datetime: 2016-07-24T10:25:10+00:00
- Post Title: 007 Quantum of Solace

007 Quantum of Solace tools. Extracts skeletal models from FF files. Later I may add support for images, static meshes maybe animations or something else if needed. Usage:

1. unpack FF file with offzip. Later I may add unpacking to the tool itself.
     Example: offzip.exe -a common.ff <folder> 0
2. drag unpacked file onto 007_Quantum_ff.exe



Skeleton also extracted:


[007_Quantum_ff.rar](https://xentaxbackup.github.io/file/11364_007_Quantum_ff.rar)
## Post #2
- Username: artworkplay
- Rank: veteran
- Number of posts: 116
- Joined date: Thu Oct 06, 2011 4:40 am
- Post datetime: 2016-07-24T13:55:51+00:00
- Post Title: 007 Quantum of Solace

Looking forward to this one. 

Also, any chance you can line up Call of Duty 4 Modern Warfare (or even MW2/MW3 as it uses a modified version of the same engine) model extraction for a future project? It uses the same engine and although a tool already exists it requires you to run the game (as models are pulled from memory with the game running, leaving out a number of models that aren't being accessed once the game is running) and requires you to use Maya for assembling and exporting the models (which limits its use to only those with and knowledgeable in Maya).
## Post #3
- Username: daemon1
- Rank: MEGAVETERAN
- Number of posts: 2649
- Joined date: Wed Mar 25, 2015 3:12 am
- Post datetime: 2016-07-24T16:11:51+00:00
- Post Title: 007 Quantum of Solace

well, if this will be similar to 007, i can easily do that. But it can be very different there. At least I'm getting 007 models from files, not from memory.
## Post #4
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2016-07-24T19:42:58+00:00
- Post Title: 007 Quantum of Solace

daemon1,
I sholud admit that you make good effort on the topic so far. Odd coincidence is that I'm playing the game right now to rip some weapon models and if your technique will support props/weapons that would be just great.

Speaking of call of duty at least World at War should use same technology or even engine 'cause both of them created by treyarch company back in 2008. Btw Spider-Man: Web of Shadows was also made by this developer in the same year so if you find a time I could provide samples for both games.

I'll keep an eye on this topic. Thanks for your work.
## Post #5
- Username: daemon1
- Rank: MEGAVETERAN
- Number of posts: 2649
- Joined date: Wed Mar 25, 2015 3:12 am
- Post datetime: 2016-07-25T06:24:42+00:00
- Post Title: 007 Quantum of Solace

My aim was to extract models with bones, which can't be done with rippers. But this may work for weapons too. We'll know that soon.
## Post #6
- Username: daemon1
- Rank: MEGAVETERAN
- Number of posts: 2649
- Joined date: Wed Mar 25, 2015 3:12 am
- Post datetime: 2016-07-25T07:49:37+00:00
- Post Title: 007 Quantum of Solace

ok weapons got exported with bones too.
## Post #7
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2016-07-25T07:53:23+00:00
- Post Title: 007 Quantum of Solace

> Reply from daemon1
>
> ok weapons got exported with bones too.looking great!    the game has some unique modification of well know weapon.
## Post #8
- Username: daemon1
- Rank: MEGAVETERAN
- Number of posts: 2649
- Joined date: Wed Mar 25, 2015 3:12 am
- Post datetime: 2016-07-25T08:07:17+00:00
- Post Title: 007 Quantum of Solace

cars...
## Post #9
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2016-07-25T08:12:36+00:00
- Post Title: 007 Quantum of Solace

> Reply from daemon1
>
> cars...whoo, at first I thought that cars in this game are terrible but then I looked closer at the texture an they have really good ones. How did you open the doors, is it skinned as well? how did you managed to extract resources and textures?
## Post #10
- Username: daemon1
- Rank: MEGAVETERAN
- Number of posts: 2649
- Joined date: Wed Mar 25, 2015 3:12 am
- Post datetime: 2016-07-25T08:37:38+00:00
- Post Title: 007 Quantum of Solace

Yes, cars have bones too.
## Post #11
- Username: Highflex
- Rank: beginner
- Number of posts: 34
- Joined date: Wed Jul 23, 2014 12:41 am
- Post datetime: 2016-07-25T12:30:51+00:00
- Post Title: 007 Quantum of Solace

Amazing, i remember trying to extract models back in the days when this game came out, i am curious do you extract the meshes directly from the .FF format?

As this is running on the IW4 engine i think, that would be a interesting approach as the most common known tools ( from TomBMX ) are memory based to grab assets.
## Post #12
- Username: daemon1
- Rank: MEGAVETERAN
- Number of posts: 2649
- Joined date: Wed Mar 25, 2015 3:12 am
- Post datetime: 2016-07-25T12:47:49+00:00
- Post Title: 007 Quantum of Solace

ok I found the cars wheels. Now its all ready and published at the first post. Have fun.



> Reply from Highflex
>
> i am curious do you extract the meshes directly from the .FF format?
Yes
## Post #13
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2016-07-25T19:30:04+00:00
- Post Title: 007 Quantum of Solace

> Reply from daemon1
>
> 
Looks like normal smooth is recalculated, not original?
## Post #14
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2016-07-25T22:15:08+00:00
- Post Title: 007 Quantum of Solace

thank you daemon1,

looking good



bond_siena_prev001_sm.jpg (45.92 KiB) Viewed 326 times


I ripped textures with ninja ripper. for import into 3ds max I'm using xnalara importer by mariokart.
## Post #15
- Username: daemon1
- Rank: MEGAVETERAN
- Number of posts: 2649
- Joined date: Wed Mar 25, 2015 3:12 am
- Post datetime: 2016-07-26T07:59:05+00:00
- Post Title: 007 Quantum of Solace

> Reply from Andrakann
>
> Looks like normal smooth is recalculated, not original?

They look ok, but don't work. If you can tell me whats wrong here, I'll apply them. Sample file: [http://www109.zippyshare.com/v/3F4DUaVP/file.html](http://www109.zippyshare.com/v/3F4DUaVP/file.html)
## Post #16
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2016-07-26T08:58:17+00:00
- Post Title: Re: 007 Quantum of Solace

> Reply from daemon1
>
> If you can tell me whats wrong here, I'll apply them.
They looks like autogenerated averaged normals, epecially on car fuel cap - this makes lighting to looks different.
You need to read normals data from game models and apply to converted ones, but I'm not a programmer, so I can't say if it possible in this case.
You can see difference between averaged and properly read normals here: [viewtopic.php?p=120766#p120766](http://forum.xentax.com/viewtopic.php?p=120766#p120766)
Maybe you can get clues by comparing original and fixed scripts?..
## Post #17
- Username: daemon1
- Rank: MEGAVETERAN
- Number of posts: 2649
- Joined date: Wed Mar 25, 2015 3:12 am
- Post datetime: 2016-07-26T09:02:20+00:00
- Post Title: Re: 007 Quantum of Solace

> Reply from Andrakann
>
> They looks like autogenerated averaged normals

I know. I've sent you file with normals from the game. Look at them and tell me whats wrong.
## Post #18
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2016-07-26T09:40:18+00:00
- Post Title: Re: 007 Quantum of Solace

> Reply from daemon1
>
> I know. I've sent you file with normals from the game. Look at them and tell me whats wrong.
Not sure I have a proper importer for ascii, and this is character model, so it's harder to see a difference between "original" and averaged normals, but this lines looks wrong:
[](http://fastpic.ru/view/77/2016/0726/69e43386275b2c7376c6cb552584851b.png.html)
Maybe it because I used wrong tool.
## Post #19
- Username: daemon1
- Rank: MEGAVETERAN
- Number of posts: 2649
- Joined date: Wed Mar 25, 2015 3:12 am
- Post datetime: 2016-07-26T10:37:48+00:00
- Post Title: Re: 007 Quantum of Solace

> Reply from Andrakann
>
> but this lines looks wrong

The problem is not in this line. ALL NORMALS are not working. They are properly extracted from model, but they just don't work. Until someone can tell me how to fix them, I'll leave them for autogeneration.
## Post #20
- Username: daemon1
- Rank: MEGAVETERAN
- Number of posts: 2649
- Joined date: Wed Mar 25, 2015 3:12 am
- Post datetime: 2016-07-26T12:03:27+00:00
- Post Title: Re: 007 Quantum of Solace

I checked files from World at War. They are all different. So I need time to reverse their formats.

Why is it all needed? I thought all CoD games were already researched. Or they can't be ripped now for some reasons?
## Post #21
- Username: Highflex
- Rank: beginner
- Number of posts: 34
- Joined date: Wed Jul 23, 2014 12:41 am
- Post datetime: 2016-07-26T12:10:06+00:00
- Post Title: Re: 007 Quantum of Solace

> Reply from daemon1
>
> I checked files from World at War. They are all different. So I need time to reverse their formats.

Why is it all needed? I thought all CoD games were already researched. Or they can't be ripped now for some reasons?

There are only memory rippers for COD Games, and they only work starting with Black Ops 1 and up, do you think you could give more details on how you read the meshes from the .FF? Any chance for a sourcecode release on github? Nobody so far has really managed to read out meshes directly from the .ff, not sure why but i never bothered to check them myself
## Post #22
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2016-07-26T13:16:18+00:00
- Post Title: Re: 007 Quantum of Solace

> Reply from daemon1
>
> They are properly extracted from model, but they just don't work.
Ok, I figured out than you are using XNA-Lara mesh.ascii file format, but [most recent importer](http://www.tombraiderforums.com/showpost.php?p=5415379&postcount=1) also have same problem with normals in your files.
I do some (stupid) comparison of [model with normals looking correct](https://yadi.sk/d/JKEh_bJtte5Wv) and yours, and see some difference here:
[](http://fastpic.ru/view/80/2016/0726/5e7006585aa358f2db2c6ada612c7b6a.png.html)
I didn't dig mesh.ascii format structure, but you are using 4 digits instead of 3 and, maybe, different sequence of data lines?
## Post #23
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2016-07-26T13:18:43+00:00
- Post Title: Re: 007 Quantum of Solace

> Reply from daemon1
>
> Why is it all needed? I thought all CoD games were already researched. Or they can't be ripped now for some reasons?they can but you have to install official modding tool for specific game. Unfortunately official mod tools are hard to find this days even for sale.
## Post #24
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2016-07-26T13:22:57+00:00
- Post Title: Re: 007 Quantum of Solace

I do another comparison, with gun model, and it's looks very alike:
[](http://fastpic.ru/view/77/2016/0726/3ad11a3bb37614979e26a2596468013e.png.html)
So, maybe devs uses autosmoothed models + normal maps for rendering?
I will do some rips for test later...
## Post #25
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2016-07-26T13:27:01+00:00
- Post Title: Re: 007 Quantum of Solace

> Reply from Andrakann
>
> So, maybe devs uses autosmoothed models + normal maps for rendering?yes, this is how normal maps works — you need to smooth all the model to properly use normal map on it. except the case where you need a hard angle.
## Post #26
- Username: daemon1
- Rank: MEGAVETERAN
- Number of posts: 2649
- Joined date: Wed Mar 25, 2015 3:12 am
- Post datetime: 2016-07-26T13:28:25+00:00
- Post Title: Re: 007 Quantum of Solace

> Reply from Andrakann
>
> So, maybe devs uses autosmoothed models + normal maps for rendering?

NO. They have normals in models. You don't understand what I say.

I posted a tool without normals. Because I can't apply them to the model.

I only made 1 file with normals extracted to show you that they don't work.

Может так будет понятнее. Это не касается формата ascii файла, там всё правильно. Я могу извлечь нормали из моделей, но я этого не делаю, потому что они не работают как надо.
## Post #27
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2016-07-26T13:38:34+00:00
- Post Title: Re: 007 Quantum of Solace

> Reply from daemon1
>
> They have normals in models.I think those models have been saved into game format with autogenerated models. The game looks a bit quality lack even for that year. I suppose it's because it was made for film advertisement. So I don't think devs had much time to bother making smooth groups for the models. I suggest to leave these models smooth as it is. btw I ripped the models and their smoothing is not worth of time.
## Post #28
- Username: daemon1
- Rank: MEGAVETERAN
- Number of posts: 2649
- Joined date: Wed Mar 25, 2015 3:12 am
- Post datetime: 2016-07-26T13:40:56+00:00
- Post Title: Re: 007 Quantum of Solace

> Reply from Tosyk
>
> So I don't think devs had much time to bother making smooth groups for the models.

They made them. I see them. I can extract them. They are proper normals.
## Post #29
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2016-07-26T14:25:45+00:00
- Post Title: Re: 007 Quantum of Solace

> Reply from daemon1
>
> They made them. I see them. I can extract them. They are proper normals.I'm sure they are. I'm just saying that since they are autogenerated they just looks wrong. Even if you autogenerating normals 3D software still inputs information about normals inside each vertex on export. So they are normals, yes but they are improperly made.
## Post #30
- Username: daemon1
- Rank: MEGAVETERAN
- Number of posts: 2649
- Joined date: Wed Mar 25, 2015 3:12 am
- Post datetime: 2016-07-26T15:06:39+00:00
- Post Title: Re: 007 Quantum of Solace

> Reply from Tosyk
>
> I'm just saying that since they are autogenerated

No they are not. What you see in current tool is autogenerated by 3Dmax because I didn't put proper normals into the tool yet.
## Post #31
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2016-07-26T16:10:49+00:00
- Post Title: Re: 007 Quantum of Solace

> Reply from daemon1
>
> They made them. I see them. I can extract them. They are proper normals.
Can you give me a gun or car model with those non-working normals?

Ripped normals are broken (upper model):
[](http://fastpic.ru/view/77/2016/0726/2a01c8216dc097f06d012bcb6efa12cb.png.html)

(Трое русских упражняются в английском, вместо того чтобы на форуме Тосика все быстро обсудить )
## Post #32
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2016-07-26T17:12:07+00:00
- Post Title: Re: 007 Quantum of Solace

> Reply from Highflex
>
> Nobody so far has really managed to read out meshes directly from the .ff, not sure why but i never bothered to check them myself
Maybe it's because nobody's extract those FF to big DAT file with unpacked data iside?
## Post #33
- Username: daemon1
- Rank: MEGAVETERAN
- Number of posts: 2649
- Joined date: Wed Mar 25, 2015 3:12 am
- Post datetime: 2016-07-26T18:03:24+00:00
- Post Title: Re: 007 Quantum of Solace

> Reply from Andrakann
>
> Can you give me a gun or car model with those non-working normals?
here you go:

[http://www3.zippyshare.com/v/piiQcaXP/file.html](http://www3.zippyshare.com/v/piiQcaXP/file.html)

> Reply from Andrakann
>
> Maybe it's because nobody's extract those FF to big DAT file with unpacked data iside?
No its because proper parsing unpacked FF file is almost impossible.
## Post #34
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2016-07-26T18:17:38+00:00
- Post Title: Re: 007 Quantum of Solace

Ok, I did another test, 3dsmax scripts can't resave Bond model, because of errors, but Blender scripts do the job:
[](http://fastpic.ru/view/80/2016/0726/2d24d7ac546ad7abaf88e5c6ba3012a4.png.html)
As you can see, normals data loaded and saved back, but model looks as before:
[](http://fastpic.ru/view/80/2016/0726/952cf7d456e287e84f4cef7e77ef0350.png.html)
So, I think normals in game models is averaged/autogenerated and controlled by shader - that a reason of strange normals in ripped gun.

PS: XNALara XPS can't load this mesh.ascii, even after resaving in Blender. Maybe my version is too old.
## Post #35
- Username: Highflex
- Rank: beginner
- Number of posts: 34
- Joined date: Wed Jul 23, 2014 12:41 am
- Post datetime: 2016-07-26T18:40:03+00:00
- Post Title: Re: 007 Quantum of Solace

> Reply from Andrakann
>
> Ok, I did another test, 3dsmax scripts can't resave Bond model, because of errors, but Blender scripts do the job:

As you can see, normals data loaded and saved back, but model looks as before:

So, I think normals in game models is averaged/autogenerated and controlled by shader - that a reason of strange normals in ripped gun.

PS: XNALara XPS can't load this mesh.ascii, even after resaving in Blender. Maybe my version is too old.

I don't think normals are auto generated or controlled by shaders, don't forget this is running on IWEngine 3 if i remember correctly, same build as WAW/COD4, so normals are done the same way, i remember Tom BMX also had some trouble aquiring normal data from memory but he solved it, so normal data should be fine once parsed correctly, maybe just the end format has some issues (. ascii)
## Post #36
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2016-07-26T18:56:50+00:00
- Post Title: Re: 007 Quantum of Solace

> Reply from Highflex
>
> I don't think normals are auto generated or controlled by shaders
Shading looks the same, if you import mesh.ascii without normal data (0.0 0.0 0.0) and with those data.
If normal data is wrong and autoaveraged in 3d software, then, after export, normal data must differs, but it is the same (my last test).
## Post #37
- Username: daemon1
- Rank: MEGAVETERAN
- Number of posts: 2649
- Joined date: Wed Mar 25, 2015 3:12 am
- Post datetime: 2016-07-26T19:36:18+00:00
- Post Title: Re: 007 Quantum of Solace

Actually it work on a trigger of a pistol. But for other submeshes blender just ignore it all.
## Post #38
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2016-07-26T20:47:11+00:00
- Post Title: Re: 007 Quantum of Solace

I tried to extract texture, without big success, textures are in chunks, but adding a header helps not much, I think my header miss some mip-levels data:
[](http://fastpic.ru/view/78/2016/0727/59c86ebdfef4ee305f19cd849e14ad8f.png.html)
Some research:
[](http://fastpic.ru/view/78/2016/0727/a5efe019959b285d839bd73da0d59fc7.png.html)

Normal Map textures in this game have one channel in RGB and another in alpha.
For making it standard, we need to convert RGB to gray and put it to Green channel of normal map, alpha goes to Red, Blue is white.

Attached semi-converted texture.
[secrty_cmra_n.zip](https://xentaxbackup.github.io/file/11384_secrty_cmra_n.zip)
## Post #39
- Username: daemon1
- Rank: MEGAVETERAN
- Number of posts: 2649
- Joined date: Wed Mar 25, 2015 3:12 am
- Post datetime: 2016-07-26T21:13:17+00:00
- Post Title: Re: 007 Quantum of Solace

> Reply from Andrakann
>
> I think my header miss some mip-levels data

No. Normal DDS first have biggest mip, then all small. Here its otherwise. So the best way is to cut off all small mips and save it as 1-mip DDS.
## Post #40
- Username: daemon1
- Rank: MEGAVETERAN
- Number of posts: 2649
- Joined date: Wed Mar 25, 2015 3:12 am
- Post datetime: 2016-07-27T10:19:24+00:00
- Post Title: Re: 007 Quantum of Solace

World at War research complete. I'll think if I create a new thread for it, or put them all here.



So for now, latest versions for 007 Quantum of solace and for WaW
## Post #41
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2016-07-27T10:39:31+00:00
- Post Title: Re: 007 Quantum of Solace

> Reply from daemon1
>
> World at War research complete. I'll think if I create a new thread for it, or put them all here.



So for now, latest versions for 007 Quantum of solace and for WaWgreat! Does it work for modern warfare? 
You could rename thread to "IWEngine 3 engine meshes" or something like that.
## Post #42
- Username: daemon1
- Rank: MEGAVETERAN
- Number of posts: 2649
- Joined date: Wed Mar 25, 2015 3:12 am
- Post datetime: 2016-07-27T10:44:15+00:00
- Post Title: Re: 007 Quantum of Solace

> Reply from Tosyk
>
> Does it work for modern warfare?

Dont know. But I'd bet its different again.
## Post #43
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2016-07-27T12:55:01+00:00
- Post Title: Re: 007 Quantum of Solace

> Reply from daemon1
>
> So for now, latest versions for 007 Quantum of solace and for WaW
Thank you 
A lot more meshes extracted from 007 with this version (346 instead of 59 for airport map).

Btw, do you rotate meshes before screening? Because my scripts import things laying on they sides and rotated by 90d:
[](http://fastpic.ru/view/78/2016/0727/36c922e500281d130b20cb2f0a1770c8.png.html)

Of course I can select skeleton's origin and rotate it twice by 90d, but if I then delete a skeleton part, corresponding mesh drops to unrotated position.

So, can you, please, swap XYZ before saving to ascii?
## Post #44
- Username: Highflex
- Rank: beginner
- Number of posts: 34
- Joined date: Wed Jul 23, 2014 12:41 am
- Post datetime: 2016-07-27T13:19:33+00:00
- Post Title: Re: 007 Quantum of Solace

I tried the waw tool with COD4 .ffs it extracts a few meshes then crashes so i don't think there is too much changes between the mesh format from WAW  great work so far!
## Post #45
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2016-07-27T13:23:58+00:00
- Post Title: Re: 007 Quantum of Solace

> Reply from Andrakann
>
> Btw, do you rotate meshes before screening? Because my scripts import things laying on they sides and rotated by 90d:


Of course I can select skeleton's origin and rotate it twice by 90d, but if I then delete a skeleton part, corresponding mesh drops to unrotated position.

So, can you, please, swap XYZ before saving to ascii?you can just select all and rotate and if you delete skeleton afterwards anyway - you can just delete skeleton BEFORE rotation and rotate model itself.
## Post #46
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2016-07-27T14:09:24+00:00
- Post Title: Re: 007 Quantum of Solace

airport\elite_body_blue.mesh.ascii hands is missing:
[](http://fastpic.ru/view/79/2016/0727/92892d82f09b36669911c434f9b4ca3b.png.html)
## Post #47
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2016-07-27T14:12:36+00:00
- Post Title: Re: 007 Quantum of Solace

> Reply from Andrakann
>
> airport\elite_body_blue.mesh.ascii hands is missing:I'm sure most of the npc could share one hands model. try to find a model of the hands separately.
## Post #48
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2016-07-27T14:19:42+00:00
- Post Title: Re: 007 Quantum of Solace

> Reply from Tosyk
>
> Andrakann wrote:airport\elite_body_blue.mesh.ascii hands is missing:
I'm sure most of the npc could share one hands model. try to find a model of the hands separately.
Most of NPC bodies have hands, but I found separate hands model airport\airport\hands_black_1.mesh.ascii
## Post #49
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2016-07-27T14:23:58+00:00
- Post Title: Re: 007 Quantum of Solace

> Reply from Andrakann
>
> Tosyk wrote:Andrakann wrote:airport\elite_body_blue.mesh.ascii hands is missing:
I'm sure most of the npc could share one hands model. try to find a model of the hands separately.
Most of NPC bodies have hands, but I found separate hands model airport\airport\hands_black_1.mesh.asciiIt's common practice to share resources throughout the game characters to reduce the size of the final game size. So yes, I think these hands are used for different characters.
## Post #50
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2016-07-27T21:47:11+00:00
- Post Title: Re: 007 Quantum of Solace

here's some files from world at war on which unpacker crashed:
[http://www.mediafire.com/download/3d9wv ... example.7z](http://www.mediafire.com/download/3d9wvcmcijsb4b9/codwaw_issued_archives_example.7z)

also here's list of archives from quantum of solace. the ones with -- in front of the names are crashed as well:



full_extract.jpg (119.61 KiB) Viewed 143 times



basically almost all the archives related to multiplayer are crashed on unpack - for world at war and for quantum of solace. some of them crashed on extracting characters. will be cool if you look at them.
## Post #51
- Username: daemon1
- Rank: MEGAVETERAN
- Number of posts: 2649
- Joined date: Wed Mar 25, 2015 3:12 am
- Post datetime: 2016-07-28T07:19:42+00:00
- Post Title: Re: 007 Quantum of Solace

> Reply from Tosyk
>
> also here's list of archives from quantum of solace. the ones with -- in front of the names are crashed as well

Most of those crash at the very end of file, you can safely ignore that. All meshes extracted there. Can you name one that crashes on character?
## Post #52
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2016-07-28T07:36:23+00:00
- Post Title: Re: 007 Quantum of Solace

> Reply from daemon1
>
> Tosyk wrote:also here's list of archives from quantum of solace. the ones with -- in front of the names are crashed as wellMost of those crash at the very end of file, you can safely ignore that. All meshes extracted there. Can you name one that crashes on character?the one was "civilian_..."-something and the "bond_miami_..." (from one of the mp_ files). can check only when I get home this evening.
noticed that most of the crashes were also after "skydome..." models. the models that have a crash are 0 bytes when extracted, even characters.
## Post #53
- Username: daemon1
- Rank: MEGAVETERAN
- Number of posts: 2649
- Joined date: Wed Mar 25, 2015 3:12 am
- Post datetime: 2016-07-28T11:29:59+00:00
- Post Title: Re: 007 Quantum of Solace

Added support for MW. Again a lot of differences, and the worst is that this oldest game uses a lot of links inside files. These will be impossible to resolve, so many models will have missing parts. Anyway, here are the latest versions for all 3 games. 

I could swap XZY, but this messes up normals completely. Until we know how to handle normals, I'll not change axes. I did too much research in these days, so now I need some rest.
[007_waw_mw.rar](https://xentaxbackup.github.io/file/11418_007_waw_mw.rar)
## Post #54
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2016-07-28T12:55:47+00:00
- Post Title: Re: 007 Quantum of Solace

> Reply from daemon1
>
> Added support for MW. Again a lot of differences, and the worst is that this oldest game uses a lot of links inside files. These will be impossible to resolve, so many models will have missing partsso you saying this missing parts are just in other archives or completely missing?

> Reply from daemon1
>
> I could swap XZY, but this messes up normals completely. Until we know how to handle normals, I'll not change axes.the thing is that normals could be easily redone in 3d software without affecting the animation but flip models will ruin animation in any case. so if swap is not hard thing to do it would be great to have it.

> Reply from daemon1
>
> I did too much research in these days, so now I need some rest.thanks for your work, man. didn't know anyone could handle the COD archives but you actually did. hope you'll take a look at the aw archives.
## Post #55
- Username: daemon1
- Rank: MEGAVETERAN
- Number of posts: 2649
- Joined date: Wed Mar 25, 2015 3:12 am
- Post datetime: 2016-07-29T13:55:29+00:00
- Post Title: Re: 007 Quantum of Solace

> Reply from Tosyk
>
> so you saying this missing parts are just in other archives or completely missing?
They are in the same archive. But there's no way to tell where (until they loaded in memory).

> Reply from Tosyk
>
> flip models will ruin animation in any case
You can't get these models animated anyway, because the bones have no local rotations. Actually they have, but I didn't extract them, because I didn't think anyone will animate them.
## Post #56
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2016-07-29T15:20:09+00:00
- Post Title: Re: 007 Quantum of Solace

> Reply from daemon1
>
> Tosyk wrote:flip models will ruin animation in any case
You can't get these models animated anyway, because the bones have no local rotations. Actually they have, but I didn't extract them, because I didn't think anyone will animate them.well sure if axis extraction it is a trivial thing it would be cool to get them for animation purposes.
## Post #57
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2017-08-02T20:44:42+00:00
- Post Title: Re: 007 Quantum of Solace

how to extract textures?
## Post #58
- Username: AxelNoir
- Rank: mega-veteran
- Number of posts: 247
- Joined date: Sat Feb 03, 2018 4:24 am
- Post datetime: 2020-02-24T14:58:05+00:00
- Post Title: Re: 007 Quantum of Solace

How do you extract textures with this tool?
## Post #59
- Username: xenexabc
- Rank: beginner
- Number of posts: 28
- Joined date: Mon Sep 03, 2018 7:02 am
- Post datetime: 2021-04-07T05:52:04+00:00
- Post Title: Re: 007 Quantum of Solace

how does this work?
i tried to run it with ff file but nothing happens.
## Post #60
- Username: AxelNoir
- Rank: mega-veteran
- Number of posts: 247
- Joined date: Sat Feb 03, 2018 4:24 am
- Post datetime: 2022-01-07T19:10:58+00:00
- Post Title: Re: 007 Quantum of Solace

Still no way to extract textures except Ninja Ripper? NR isn't very reliable tbh and is quite messy and unorganized to use...
