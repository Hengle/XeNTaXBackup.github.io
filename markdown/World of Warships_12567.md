## Post #1
- Username: amzerof6
- Rank: advanced
- Number of posts: 57
- Joined date: Sat Oct 23, 2010 10:50 pm
- Post datetime: 2015-02-03T07:39:47+00:00
- Post Title: World of Warships

this game is like 'World_of_Tanks' , just used Bigworld  engine. but 3D object Converter 6.0 open those .primitives files ,just found bad polygons ,just a little of them could be right.
I upload a example file , anyone can help me??  thank'U very much
[JSD019_Fubuki_1943_MidBack.zip](https://xentaxbackup.github.io/file/8587_JSD019_Fubuki_1943_MidBack.zip)
## Post #2
- Username: Szkaradek123
- Rank: mega-veteran
- Number of posts: 292
- Joined date: Thu May 06, 2010 3:21 am
- Post datetime: 2015-02-03T18:18:02+00:00
- Post Title: World of Warships

Hi
Here is importer for JSD019_Fubuki_1943_MidBack .
I don't know if it works for others models. 
It requires Blender249 and Python 26.
I used own  Bigworld importer from  [viewtopic.php?p=103175#p103175](http://forum.xentax.com/viewtopic.php?p=103175#p103175)
How use:
1.unpack importer
2.run Blender249.blend
3.in Blender Text Window press alt+p and select visual files
[Blender249[WorldOfWarships][PC][visual][2015-02-03].zip](https://xentaxbackup.github.io/file/8593_Blender249[WorldOfWarships][PC][visual][2015-02-03].zip)
## Post #3
- Username: raykingnihong
- Rank: mega-veteran
- Number of posts: 179
- Joined date: Mon Apr 07, 2014 3:06 am
- Post datetime: 2015-02-04T05:08:59+00:00
- Post Title: World of Warships

Hi amzerof6，My friends, I try to download the game client from the official website, but I had no luck, can not download the client, hoping to upload a game to download the client, for everyone to download the game, thank you for your help
[BaiduShurufa_2015-2-4_13-7-54.jpg](https://xentaxbackup.github.io/file/8597_BaiduShurufa_2015-2-4_13-7-54.jpg)
## Post #4
- Username: amzerof6
- Rank: advanced
- Number of posts: 57
- Joined date: Sat Oct 23, 2010 10:50 pm
- Post datetime: 2015-02-04T07:10:17+00:00
- Post Title: World of Warships

> Reply from Szkaradek123
>
> Hi
Here is importer for JSD019_Fubuki_1943_MidBack .
I don't know if it works for others models. 
It requires Blender249 and Python 26.
I used own  Bigworld importer from  viewtopic.php?p=103175#p103175
How use:
1.unpack importer
2.run Blender249.blend
3.in Blender Text Window press alt+p and select visual files

thank'U very much, "Szkaradek123" you're a great man!!
## Post #5
- Username: amzerof6
- Rank: advanced
- Number of posts: 57
- Joined date: Sat Oct 23, 2010 10:50 pm
- Post datetime: 2015-02-04T12:36:35+00:00
- Post Title: World of Warships

> Reply from raykingnihong
>
> Hi amzerof6，My friends, I try to download the game client from the official website, but I had no luck, can not download the client, hoping to upload a game to download the client, for everyone to download the game, thank you for your help

so sorry,I can't do that ,my client copy from someone,and I promised him do not copy to otherone.
and I found this client just include a little warships, I'm disappointed. so I think waitting for a complete demo.
## Post #6
- Username: raykingnihong
- Rank: mega-veteran
- Number of posts: 179
- Joined date: Mon Apr 07, 2014 3:06 am
- Post datetime: 2015-02-04T12:41:50+00:00
- Post Title: World of Warships

> Reply from amzerof6
>
> raykingnihong wrote:Hi amzerof6，My friends, I try to download the game client from the official website, but I had no luck, can not download the client, hoping to upload a game to download the client, for everyone to download the game, thank you for your help

so sorry,I can't do that ,my client copy from someone,and I promised him do not copy to otherone.
and I found this client just include a little warships, I'm disappointed. so I think waitting for a complete demo.Hi amzerof6，My friends,Thank you very much for your help, it seems we wait the full client, thanks again
## Post #7
- Username: amzerof6
- Rank: advanced
- Number of posts: 57
- Joined date: Sat Oct 23, 2010 10:50 pm
- Post datetime: 2015-02-04T14:36:47+00:00
- Post Title: World of Warships

Hi Szkaradek123 , your import script is very great, but I try import some "visual" found a error,then blender stop import that  file.
can U fix'it ??  I kown , maybe that's excessive .anyway thank U for your done
[ASA004_Langley_1929.7z](https://xentaxbackup.github.io/file/8601_ASA004_Langley_1929.7z)
## Post #8
- Username: raykingnihong
- Rank: mega-veteran
- Number of posts: 179
- Joined date: Mon Apr 07, 2014 3:06 am
- Post datetime: 2015-02-04T16:36:25+00:00
- Post Title: World of Warships

Hi amzerof6，My friends, Upload all unpacked best model file, otherwise there will be other models are not compatible, others are difficult to help you now
## Post #9
- Username: Killstr3aKs
- Rank: beginner
- Number of posts: 22
- Joined date: Tue Sep 30, 2014 5:08 am
- Post datetime: 2015-04-21T07:18:54+00:00
- Post Title: World of Warships

Trying to use the importer script for blender but it gives some errors, and 3d object converter doesnt work at all. Any luck with other software?

EDIT: I have access to the CBT so if you need any model files just ask and i'll try to send them.
## Post #10
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-04-23T03:29:44+00:00
- Post Title: World of Warships

[out]
## Post #11
- Username: Killstr3aKs
- Rank: beginner
- Number of posts: 22
- Joined date: Tue Sep 30, 2014 5:08 am
- Post datetime: 2015-04-24T06:38:23+00:00
- Post Title: World of Warships

> Reply from Wobble
>
> This is a closed beta.  No downloads available.  I suggest uploading a complete ship.  All .primitives, .visual, .model, and related .xml files.

Alright, i'll upload it this afternoon. But i'm not sure if i can get banned for it, because the models are supposed to be copyrighted content right? Just wanted to know, i don't want to break any rules.
## Post #12
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-04-24T16:28:20+00:00
- Post Title: World of Warships

[out]
## Post #13
- Username: Killstr3aKs
- Rank: beginner
- Number of posts: 22
- Joined date: Tue Sep 30, 2014 5:08 am
- Post datetime: 2015-04-24T17:35:35+00:00
- Post Title: World of Warships

-Snip-
## Post #14
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-04-24T19:29:31+00:00
- Post Title: World of Warships

[out]
## Post #15
- Username: Killstr3aKs
- Rank: beginner
- Number of posts: 22
- Joined date: Tue Sep 30, 2014 5:08 am
- Post datetime: 2015-04-24T22:38:03+00:00
- Post Title: World of Warships

I couldn't find anything related with the ships in the scripts folder, only some files for hit detection, planes and other stuff :/
## Post #16
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-04-25T00:57:56+00:00
- Post Title: Re: World of Warships

[out]
## Post #17
- Username: Killstr3aKs
- Rank: beginner
- Number of posts: 22
- Joined date: Tue Sep 30, 2014 5:08 am
- Post datetime: 2015-04-27T06:42:38+00:00
- Post Title: Re: World of Warships

I've only seen the folders divided by nation in the /res/content/gameplay folder, which is where the models and textures are. I'll search again in the other directories today.

Btw will you be able to make some sort of model extractor or something if i find you that file? it would be really useful.
## Post #18
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-04-27T08:24:07+00:00
- Post Title: Re: World of Warships

[out]
## Post #19
- Username: Killstr3aKs
- Rank: beginner
- Number of posts: 22
- Joined date: Tue Sep 30, 2014 5:08 am
- Post datetime: 2015-04-27T10:29:53+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> Does this game have zipped .pkg archives like Tanks/Warplanes?

The .primitives model format is the same as Tanks/Warplanes.  But primitives files are just individual meshes.  
You need a specific script to put them all together.

Now that you mention it, there are no .pkg files, the models are located in standard folders. Which is weird because WoWS uses the same engine as WoT and WoWP. 

I managed to extract WoWP models just fine despite being separated into multiple parts (wings, tail, fuselage, landing gear, etc...)
## Post #20
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-04-27T12:06:15+00:00
- Post Title: Re: World of Warships

[out]
## Post #21
- Username: Killstr3aKs
- Rank: beginner
- Number of posts: 22
- Joined date: Tue Sep 30, 2014 5:08 am
- Post datetime: 2015-04-27T12:24:50+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> This is what it looks like without any script:

The parts just happen to align up.

But, the parts may not align up so nicely for other ships without the main .xml script.
There might be some special node positioning missing.

It looks like there are some missing details, there is another folder, /res/gameplay/common which contains different models like portholes or ropes, classified on folders that correspond to each ship.

I have tried importing the different ship models with 3D Object Converter, but only the bow model of each ship works. The other parts (midfront, midback, etc) were completely messed up or didn't work at all. How did you import those models without errors?
## Post #22
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-04-27T14:56:16+00:00
- Post Title: Re: World of Warships

[out]
## Post #23
- Username: Killstr3aKs
- Rank: beginner
- Number of posts: 22
- Joined date: Tue Sep 30, 2014 5:08 am
- Post datetime: 2015-04-27T17:39:19+00:00
- Post Title: Re: World of Warships

I couldn't find any relevant .xml files, or maybe i did but i mistook them with something else. 

About the shared meshes, the /res/content/gameplay/common/misc/ folder contains over 2000 different folders, and additionally inside each nation folder there is also a "misc" folder that contains even more folders   

/res/content/gameplay/japan/ for example has a misc folder that contains 3.626 different folders. I have only checked a bunch of them but it seems that inside each folder there are only 3 files (.visual, .primitives and .model) that correspond to a single model, appart from a "lods" folder which contains different lods for that model.

They've used quite an interesting system here, and it explains why some details start popping up a while after the main ship model is loaded ingame in the main menu, it needs to search through all those folders and load the models.
## Post #24
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-04-28T02:17:47+00:00
- Post Title: Re: World of Warships

[out]
## Post #25
- Username: Killstr3aKs
- Rank: beginner
- Number of posts: 22
- Joined date: Tue Sep 30, 2014 5:08 am
- Post datetime: 2015-04-28T12:28:33+00:00
- Post Title: Re: World of Warships

Any other folders you want me to upload? I never worked with the .xml files of WoT or WoWP since 3D object converter was able to load the models just fine. So if you want me to upload any file or folder in particular just ask.
## Post #26
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-04-28T21:20:38+00:00
- Post Title: Re: World of Warships

[out]
## Post #27
- Username: Killstr3aKs
- Rank: beginner
- Number of posts: 22
- Joined date: Tue Sep 30, 2014 5:08 am
- Post datetime: 2015-04-28T22:22:23+00:00
- Post Title: Re: World of Warships

The folder names seem to correspond the main ship models folder, in this case JSD001. I searched for that in the "misc" directory and 11 folders showed up.

By the way, when i try to import any ship part except the bow i get this:



I should be able to at least import the models, but some of them dont work despite being in .primitives format. Do you know why this happens?
## Post #28
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-04-29T06:39:32+00:00
- Post Title: Re: World of Warships

[out]
## Post #29
- Username: Killstr3aKs
- Rank: beginner
- Number of posts: 22
- Joined date: Tue Sep 30, 2014 5:08 am
- Post datetime: 2015-04-29T07:05:51+00:00
- Post Title: Re: World of Warships

Could it be a .json file instead of .xml? A friend of mine told me that it's possible since they are similar. Yesterday i searched for *.xml in the whole WoWS directory but there is no .xml file that "builds" the ship.

And thanks for that tool, i knew about it but i forgot its name so i couldn't find it
## Post #30
- Username: shakotay2
- Rank: MEGAVETERAN
- Number of posts: 4300
- Joined date: Fri Apr 20, 2012 4:24 pm
- Post datetime: 2015-04-29T09:41:12+00:00
- Post Title: Re: World of Warships

> Reply from Killstr3aKs
>
> [...], but only the bow model of each ship works. The other parts (midfront, midback, etc) were completely messed up or didn't work at all. How did you import those models without errors?You could try hex2obj (view link in my sig):



WoW_misc.JPG (93.84 KiB) Viewed 130 times
## Post #31
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-04-29T16:50:09+00:00
- Post Title: Re: World of Warships

[out]
## Post #32
- Username: Killstr3aKs
- Rank: beginner
- Number of posts: 22
- Joined date: Tue Sep 30, 2014 5:08 am
- Post datetime: 2015-04-29T17:29:21+00:00
- Post Title: Re: World of Warships

Well, here you go. All 48197 directories and their contents are listed [here](http://puu.sh/hvhYl/0849f649e2.txt).

By the way, is it possible to disable the boundary edges in Ultimate Unwrap 3D? i've tried changing the color to black but they are too thick.
## Post #33
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-04-29T19:25:36+00:00
- Post Title: Re: World of Warships

[out]
## Post #34
- Username: Killstr3aKs
- Rank: beginner
- Number of posts: 22
- Joined date: Tue Sep 30, 2014 5:08 am
- Post datetime: 2015-04-29T21:13:49+00:00
- Post Title: Re: World of Warships

No idea how to open that .data file, i've tried with notepad++ but it doesn't recognize the content propperly. Any ideas?
## Post #35
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-04-30T04:58:46+00:00
- Post Title: Re: World of Warships

[out]
## Post #36
- Username: Killstr3aKs
- Rank: beginner
- Number of posts: 22
- Joined date: Tue Sep 30, 2014 5:08 am
- Post datetime: 2015-04-30T08:48:26+00:00
- Post Title: Re: World of Warships

I tried using the HEX editor plugin for notepad++, but i can't make sense of whats inside the file. 



It might be binary, and i'm not sure it's possible to read that :/
## Post #37
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-04-30T10:01:16+00:00
- Post Title: Re: World of Warships

[out]
## Post #38
- Username: Killstr3aKs
- Rank: beginner
- Number of posts: 22
- Joined date: Tue Sep 30, 2014 5:08 am
- Post datetime: 2015-04-30T10:14:17+00:00
- Post Title: Re: World of Warships

Yeah i already checked those, they are for representing the ship module icons on the GUI. God damnit, where could that file be?
## Post #39
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-04-30T12:36:01+00:00
- Post Title: Re: World of Warships

[out]
## Post #40
- Username: Killstr3aKs
- Rank: beginner
- Number of posts: 22
- Joined date: Tue Sep 30, 2014 5:08 am
- Post datetime: 2015-04-30T12:53:16+00:00
- Post Title: Re: World of Warships

Sure thing, i'll try that right away. Wargaming sure did a good job hiding that file
## Post #41
- Username: Killstr3aKs
- Rank: beginner
- Number of posts: 22
- Joined date: Tue Sep 30, 2014 5:08 am
- Post datetime: 2015-05-01T11:12:20+00:00
- Post Title: Re: World of Warships

God damnit, i couldn't find anything useful. I searched for "midback" in the whole WoWS directory and the only files that came up were models. It's absurd
## Post #42
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-05-01T17:05:47+00:00
- Post Title: Re: World of Warships

[out]
## Post #43
- Username: Killstr3aKs
- Rank: beginner
- Number of posts: 22
- Joined date: Tue Sep 30, 2014 5:08 am
- Post datetime: 2015-05-01T18:21:52+00:00
- Post Title: Re: World of Warships

I hope you are right, after all we are trying to work on the files of a game that hasn't been released yet unlike WoT and WoWP. I love porting models and the ones in WoWS look fantastic.
## Post #44
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-05-02T21:03:43+00:00
- Post Title: Re: World of Warships

[out]
## Post #45
- Username: tedparkes
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sun Sep 20, 2009 7:47 am
- Post datetime: 2015-07-12T23:20:39+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> Ok, I'm officially done then.  If anybody else wants to take a crack at it, be my guest.

Now that the game is in public beta, any chance of picking up on this again?  I'd love to make some ship renders but cannot find anyone who has made any progress in fully extracting or converting the meshes.
## Post #46
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-07-15T23:30:29+00:00
- Post Title: Re: World of Warships

[out]
## Post #47
- Username: tedparkes
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sun Sep 20, 2009 7:47 am
- Post datetime: 2015-07-21T19:14:24+00:00
- Post Title: Re: World of Warships

How are you converting all of the files?  3d obj converter only seems to work on the bow, it corrupts the rest of the parts.

I can place the parts manually in 3ds max for renders if I can find a way to get them converted cleanly.
## Post #48
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-07-22T23:26:53+00:00
- Post Title: Re: World of Warships

[out]
## Post #49
- Username: tedparkes
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sun Sep 20, 2009 7:47 am
- Post datetime: 2015-07-27T19:54:03+00:00
- Post Title: Re: World of Warships

Apologies, not sure how I missed that.

Thanks.
## Post #50
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-07-31T18:00:19+00:00
- Post Title: Re: World of Warships

> Reply from Killstr3aKs
>
> God damnit, i couldn't find anything useful. I searched for "midback" in the whole WoWS directory and the only files that came up were models. It's absurd  :(

> Reply from Wobble
>
> The problem is, there are no .xml scripts that tell how to put the pieces together.
Guys, you both really disappointed me ))
All data you trying to find so long time is stored in .visual files right in the ship folder. Sorry I didn't see this topic earlier )
[](http://fastpic.ru/view/72/2015/0731/832a85810b07632c70ea2bd2ca8d5ba9.png.html)

Also converter is already available - [WoT Model Editor](http://www.curse.com/wot-mods/worldoftanks/wot-model-editor). But i use old version [B23](https://yadi.sk/d/Wc-xOxh8iCnCw) which seems more quiet.
I convert every mesh to obj, then assemble in max. Hardest part is figure out which external part is, because they named like HP_JD_3, HP_JGA_7 - etc. With little logic you can figure out that JD is "Japanese Director" and JGA it's "Japanese Gun Artillery", but I can't find any clue for guns/directors/finders exact models. So I use [Process Monitor](https://technet.microsoft.com/en-us/library/bb896645.aspx) for tracing files loaded by game when I activate ship preview.

Some results:
[](http://fastpic.ru/view/72/2015/0731/2129951a81eec770b4b019d46aab9211.png.html) [](http://fastpic.ru/view/72/2015/0731/218913b9035c54343d8108ce74811067.png.html)
(Yamato and Aurora)

PS: About textures:
You can find up to four textures for one material - xxxxx_a.dds, xxxxx_n.dds, xxxxx_ao.dds, xxxxx_mg.dds.
[](http://fastpic.ru/view/71/2015/0731/_14c177b55afb133ccf2d2ccec33c1faf.jpg.html) [](http://fastpic.ru/view/71/2015/0731/_fffa7e012ed3899c57bc4cb635108e93.jpg.html) [](http://fastpic.ru/view/71/2015/0731/521bf0c89d1c3135c5334c28c8bc164d.jpg.html) [](http://fastpic.ru/view/71/2015/0731/_237b92e6cf22aa5488070faab62cb4c0.jpg.html)
I use _a for Diffuse, _n for Normal Map, and R G channels of _mg for Specular and Glossiness (easy to extract with [XnViewMP](http://www.xnview.com/en/xnviewmp/)):
[](http://fastpic.ru/view/71/2015/0731/_929846654f7e8058995978632fad55c1.jpg.html) [](http://fastpic.ru/view/71/2015/0731/_fda06fb6926a5eee629611f17f4d2d48.jpg.html)
As you can see it's looking enough good, but not like in game. It's because game uses new rendering model - [PBR](http://jmonkeyengine.org/299803/physically-based-rendering-part-one/), so those textures must be in Albedo, Bump, Metalness and Roughness channels of PBR-Material in PBR-compatible programs, like UE4, Unity, [PBR-build of Blender](http://blenderartists.org/forum/showthread.php?343278-GLSL-PBR-Shader-for-viewport), Substance and Marmoset.
Also, in later game build, devs adds new Blue channel to _mg textures:
[](http://fastpic.ru/view/71/2015/0731/_460ffaa502cbcd332c14e1615a8c70d1.jpg.html) [](http://fastpic.ru/view/71/2015/0731/_603b813ca266913051e08a595170962e.jpg.html)
Looks like mask for burned or rusty parts, but not sure.
Update: this is camo mask for sure :)

PPS: Materials in converter (tested with B23 only):
Converter seek for textures in .visual file with same name as .primitive you import. But in WarShips devs changed format, and instead of links to textures now nere link to something like material file - .mfm, which contains links to textures.
If you want to open already textured meshes, you have to edit .visual files by copypasting links from .mfm's to .visual:
Open .visual in text editor (I use [Notepad++](https://notepad-plus-plus.org/download/v6.8.html)), find row with link to .mfm, select than row, open corresponding .mfm in text editor, select rows for replace and copy them (Ctrl+C), then activate window with .visual and selected row and press Ctrl+V to replace that row:
[](http://fastpic.ru/view/70/2015/0801/7f0a91841dba38bd4841a2bcbd69fa1c.png.html)
Rows to replace must ends by Diffuse texture, because converter maps only last texture in list.
Result:
[](http://fastpic.ru/view/70/2015/0801/6a0f77084cd0b6328fbe94039c3918fa.png.html)
Repeat for another rows with links to .mfm and save.

Theoretically is enough to replace row with .mfm link only with link to Diffuse texture:

```
		<Texture>	content/gameplay/russia/ship/cruiser/textures/RSC001_Avrora_1917_a.tga	</Texture>
	</property>
```

I'm not sure of using data like:

```
		<Bool>	false	</Bool>
	</property>
```

in converter, but no any bugs  here so far, so i paste all.

After loading .primitive with edited .visual you should get this:
[](http://fastpic.ru/view/72/2015/0801/56bb8db59db25b61624849cf83b2aa57.png.html)
As you can see, link to .tga texture didn't affect loading in .dds, so no need to conversion or renaming here.
## Post #51
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-07-31T20:43:35+00:00
- Post Title: Re: World of Warships

[out]
## Post #52
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-07-31T21:10:28+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> There is a master .xml script for each tank that tells where to place the torret, chassis, hull, etc... in relation to each other.
You can't see turrets on my renders?
[](http://fastpic.ru/view/70/2015/0801/c2133c762a0937893be94929ed4b75b0.png.html)
But better to use xxxx_compound.visual - identical parts groupped here.
## Post #53
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-08-01T04:18:02+00:00
- Post Title: Re: World of Warships

[out]
[yamato_guns.JPG](https://xentaxbackup.github.io/file/9473_yamato_guns.JPG)
## Post #54
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-01T21:22:26+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> Now, where is the connection between the HP_JGM_1/2/3 and JGM001_460mm45_Type96 ?
Got your point, an this is only thing i didn't find too (i get filenames from Process Explorer).
But this not a big problem, like:

> Reply from Wobble
>
> The problem is, there are no .xml scripts that tell how to put the pieces together.
We know mount points for all pieces, only problem is exact external models detection - visually or with side software.

Anyway, good news here - Mike Overbay, author of WoT Model Editor, have plans for World of Warships support in his editor
## Post #55
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-08-02T00:13:46+00:00
- Post Title: Re: World of Warships

[out]
## Post #56
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-06T18:19:06+00:00
- Post Title: Re: World of Warships

Hello People!
This is Mike.. or Coffee Or Phux.. I know.. Confusing huh?
I prefer Coffee as I'm addicted to it 
Anyway... 
Good news.. My WoT/W editor can now export the entire loaded model set as one file in either FBX or OBJ Format
You can get it [http://www.curseforge.com/projects/48190/](http://www.curseforge.com/projects/48190/) there.

I am looking for some help..
I read every word in this forum thread and it seems we all have the same problem.. WHERE THE HELL IS THE INFORMATION ON WHAT GUNS ARE ON WHAT SHIPS??!!  
Yes... it is easy to get the Hard Points (HP) translations and I'm working on creating the datasets to store this in preparation of loading the all the extra pieces of each section.
What we know so far:
There are 4 main sections
bow
midfront
midback
stern
Each of these are built of sections.. Any name with crack in it is a damaged piece of the hull. In my editor, before exporting the entire model , either FBX or OBJ, you can hide these by double clicking on their names in the objects list in the upper right. double clicking is a big part of the editors interface. READ the help file!
Anyway.. I have came to the conclusion that the information about the gun types is stored in the client. It must be because I spent the last 5 hours looking everywhere for the an XML with this info.
So.. I have a solution but I need help.
What I need are files created that have the information we need. This will involved taking screen shots of each ship and creating a text file for each one.
I know this IS a lot of work but there is no other solution I can think to solve this problem.
I'm going to lay out the format these text files must be in so I can parse them. No need for XML tags.
We will make a bunch of files called usa_ship_data.txt , russian_ship_data.txt, japan_ship_data.txt... and so forth for all nations. As the game evolves and more ships are added, these files can be updated.
We could split this work up between a few members here and each person work on 1-2 files to get this done faster.
In these files we will expect that any line that starts with the # to be a comment line:
A ship entry in the file will look like this: Note..THIS IS AN EXAMPLE. I just cut and pasted the paths cause I dont know what they really are.

```
# Main Guns
AGM_1:content\gameplay\usa\gun\main\AGM019_8in55_CA68\AGM019_8in55_CA68.primitive
AGM_2:content\gameplay\usa\gun\main\AGM019_8in55_CA68\AGM019_8in55_CA68.primitive
AGM_3:content\gameplay\usa\gun\main\AGM019_8in55_CA68\AGM019_8in55_CA68.primitive
# AntiAircraft guns
HP_AGA_1:content\gameplay\usa\gun\aaircraft\AGA002_40mm_Bofors_Mk1\AGA002_40mm_Bofors_Mk1.primitives
#############################################
more ships listed 
#
SHIP:ASB006_New_York_1934
AGM_1:content\gameplay\usa\gun\main\AGM019_8in55_CA68\AGM019_8in55_CA68.primitive
AGM_2:content\gameplay\usa\gun\main\AGM019_8in55_CA68\AGM019_8in55_CA68.primitive
AGM_3:content\gameplay\usa\gun\main\AGM019_8in55_CA68\AGM019_8in55_CA68.primitive
# AntiAircraft guns
HP_AGA_1:content\gameplay\usa\gun\aaircraft\AGA002_40mm_Bofors_Mk1\AGA002_40mm_Bofors_Mk1.primitives
HP_AGA_2:content\gameplay\usa\gun\aaircraft\AGA002_40mm_Bofors_Mk1\AGA002_40mm_Bofors_Mk1.primitives
#############################################
More ships listed.

```

Any part of the ship that can't be found using either the port or compound files will need to be in this file under that ships section.
Most of the guns  will more than likely be the same gun so Gun AGA_1 is probably the same as AGA_2 BUT.. I still need these entries in to the file!
I will use the SHIP: to split the file in to data sets for each ship.
If you people want me to change the WoT/W Editor to load every part of the ships section ,main guns, AA guns and so on, I need these files created. I do NOT have the time to do this alone and work on the editor at the same time. I would like to have this part of the project done by this Saturday Aug, 8th.. But I dont think all the files can be created by then but I need at least one nation started  so I can add the code to read it. Start with the biggest ships first and work backwards.. It's always good to do the long part of a job first. The ship orders in the files do not matter. I will be searching the data by the ships full name as I have them in the example file format.

If you are willing to work on this.. Send me an Email : thecooltoolathotmail.com
I will give everyone that helps Credit in the Help file for your work 
Thanks,
Coffee
## Post #57
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-06T20:35:01+00:00
- Post Title: Re: World of Warships

Well.. After working on this for a while, there are so damn many unknowns this is out of control..
AD_n <--- American Directors
AGA_n <--- Antiaircraft gun
AMG_n <--- main gun..

on and on.. this will make creating lookup files so much work i'm doubting its worth the effort
## Post #58
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-08-07T02:45:40+00:00
- Post Title: Re: World of Warships

[out]
## Post #59
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-07T02:56:55+00:00
- Post Title: Re: World of Warships

This is good.. 
It doesn't matter to me and this would actually make it easy to edit in my editor: [http://www.curseforge.com/projects/69858/](http://www.curseforge.com/projects/69858/)
I have been looking for a file that has the info for 2 days on and off.. If its there.. its in some format I cant read.. Maybe it IS in the gameparams.data but I spent an hour looking and searching through it.
Thanks for the input..
Now get to work making these! (kidding) Its a huge amount of work! 
Coffee

EDIT: I have added the code to get all the data in the post or compound files.. there is no consistency in these.. some ships most of the data is in the port.. others its in the compound... some ships have NO compound file..

I just had an Idea.. Maybe I could write a tool that would create temple files that would only need the partial data put in.
I could even add most if not all the path to the components that we know what and where they are.
I'll do that
## Post #60
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-08-07T09:30:57+00:00
- Post Title: Re: World of Warships

[out]
## Post #61
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-07T14:54:46+00:00
- Post Title: Re: World of Warships

I like this...
I have 80% of the code done to extract the data.
I'm in the process of writing the code to figure what folder each part points in to.
There are a fiew I dont understand..
these are German items form GSB002_Tirpiz_1942_MidFront_ports.visual but it all relates.
HP_Deck <- no idea
HP_GD <-- think this is Gun Director
HP_GF <- not sure

I think I will create one xml for each ship. Im going to try to create them so I can load them back in as a dataset.
This whay, I can write a tool to edit them very easy.

```
  <sections>
     <bow>
          <bow_nodes>
          <\bow_nodes>
     <\bow>
     <midfornt>
          <midfront_nodes>
          <\midfront_nodes>
     <\midfront>
   <\sections>
< ship name>
```


I think this will work ok because I can read them back in as sub tables from the sections node. May take a little tweeking..
## Post #62
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-08-07T17:01:55+00:00
- Post Title: Re: World of Warships

[out]
## Post #63
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-07T17:19:11+00:00
- Post Title: Re: World of Warships

Not sure about the tech tree.. Ill look in a bit.
Hey.. thanks for working with me on this  
I getting very close to dumping/creating all the XML files.
There are some issues with name mapping I'm sorting out.
Here is the format I have.. If you think it can be improved.. chime in.
Edit: the files will be fairly large but it will be faster in the long run to edit and parse I think than breaking this in to 4 files per ship.

```
  <sections>
    <content/gameplay/usa/ship/aircarrier/ASA002_Bogue_1942/ASA002_Bogue_1942_bow_ports.visual>
      <node>
        <name>HP_AD_2<\name>
        <model>content/gameplay/usa/director/UNKNOWN_ITEM<\model>
      <\node>
      <node>
        <name>HP_AD_1<\name>
        <model>content/gameplay/usa/director/UNKNOWN_ITEM<\model>
      <\node>
      <node>
        <name>HP_AGA_4<\name>
        <model>content/gameplay/usa/UNKNOWN_ITEM<\model>
      <\node>
      <node>
        <name>HP_AGA_3<\name>
        <model>content/gameplay/usa/UNKNOWN_ITEM<\model>

```
## Post #64
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-08-07T20:03:11+00:00
- Post Title: Re: World of Warships

[out]
## Post #65
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-07T20:13:47+00:00
- Post Title: Re: World of Warships

Thanks.. I will change it to look like this.

There are so many odd things.. this may all be a waste of time. 
As soon as I get this app done, Ill figure out a way to get it to you than
Im going to work on the model editor to place dummy objects every where there is one base on the port/compound files.
This should help figure out what a lot of these strange named items are.
## Post #66
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-07T21:54:56+00:00
- Post Title: Re: World of Warships

Well.. that worked and it passed validation in Dreamweaver 

```
  <sections>
    <bow>
      <model>usa\ship\aircarrier\ASA003_Bogue_1943\ASA003_Bogue_1943_bow_ports.visual</model>
        <node>
           <name>HP_AD_2</name>
           <model>usa\director\UNKNOWN_ITEM</model>
        </node>
        <node>
           <name>HP_AD_1</name>
           <model>usa\director\UNKNOWN_ITEM</model>
        </node>
        <node>
           <name>HP_AGA_4</name>
           <model>usa\gun\aaircraft\UNKNOWN_ITEM</model>
        </node>
        <node>
           <name>HP_AGA_3</name>
           <model>usa\gun\aaircraft\UNKNOWN_ITEM</model>
        </node>
        <node>
           <name>HP_AGA_1</name>
           <model>usa\gun\aaircraft\UNKNOWN_ITEM</model>
        </node>
        <node>
           <name>HP_AGA_2</name>
           <model>usa\gun\aaircraft\UNKNOWN_ITEM</model>
        </node>
        <node>
```

Is there some why I could add something to this to lock the file so to speak. or could this be done using subversion?
This is a huge amount of work here and the files need to be safe once they are finished..
Maybe Im thinking to far ahead but these things need to be handled some way.
## Post #67
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-08-07T22:18:08+00:00
- Post Title: Re: World of Warships

[out]
## Post #68
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-07T23:46:03+00:00
- Post Title: Re: World of Warships

Yes.. totally open.. But some way to let someone know this file has been worked on.. Was just an idea.
Anyway.. I have this done.. but will fix anything that dosn't work right.
And.. the names .visual or .model doesn't really matter. I never read anything from the .models usually.
Here is a link to get the installer for the app. [http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)
PLEASE SCAN before running.. I had a bug a few weeks ago but I'm 99.9999999% sure its gone.
I will make the name changes or anything else once I get more feed back.
You have been great at helping!
We need a home for this project.. github or something just so the files can be worked on by anyone that wants too.
Ill look around after I get some coffee made and in my system
## Post #69
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-07T23:49:22+00:00
- Post Title: Re: World of Warships

crap. left a file out of the install.. one sec
OK.. that should work ok.. for got to include the damn HELP file lol
## Post #70
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-08T00:12:37+00:00
- Post Title: Re: World of Warships

you know.. with a little work, I could make that in to a kick ass editor.
Add a few things like:
A mode setting: EDIT or Create Initial XML
Syntax highlighting.
Load the entire folder back in to the buttons. (I like that kind of UI) Or a single file.
Add some other tools I haven't thought of yet.

Note to self.. Add Save Progress bar!
## Post #71
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-08T06:04:39+00:00
- Post Title: Re: World of Warships

Filled up JSB018_Yamato_1944.xml, also make log with file readings by game for this ship.
Maybe you can use this log in some way (reading sequence can match with nodes sequence).
Log in CSV-format, so can be imported into excel or open office calc - for better readability.

And don't forget about gun upgradeability of most ships in game, guys ;)

PS: Some exclusions:
HP_Fire_Burn - mount point for fire animation.
HP_NoseWave_Speed - same for water waves from ship (?).
HP_Smoke - smoke source point.
[JSB018_Yamato_1944.zip](https://xentaxbackup.github.io/file/9495_JSB018_Yamato_1944.zip)
## Post #72
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-08T06:59:23+00:00
- Post Title: Re: World of Warships

RSC001_Avrora_1917.xml is done. For other ships is good to have ability to visual comparison with ingame models.
Some mismatch found:
           <name>HP_RGM_1</name>
           <model>\russia\gun\secondary\RGS001_6in45\RGS001_6in45.primitives</model>
(RGS used as RGM here)
[RSC001_Avrora_1917.zip](https://xentaxbackup.github.io/file/9496_RSC001_Avrora_1917.zip)
## Post #73
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-08T07:42:10+00:00
- Post Title: Re: World of Warships

Logs for three premium ships (because they not upgradeable) to mess with.
And filter settings, just in case...
[](http://fastpic.ru/view/70/2015/0808/5ba57808a8af3fbfb0ec93948c2b6728.png.html)
[Atlanta, Atago, Murmansk (logs only).zip](https://xentaxbackup.github.io/file/9497_Atlanta, Atago, Murmansk (logs only).zip)
## Post #74
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-08-08T10:57:22+00:00
- Post Title: Re: World of Warships

[out]
## Post #75
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-08T11:23:09+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> .primitives should only be referenced in .visual files because this is where string name identifiers are located to match up trigs with indices.
Who cares? Game uses server database (most likely), and those xmls never be used in game anyway.
It's only purpose - making database for editor, and format must be comfortable enough to fill by hand and extract within editor.
## Post #76
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-08T13:09:45+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> Well, it looks like I can't your mind.  It's very bad practice putting .visual and .primitives files in the master ship script.   .primitives should only be referenced in .visual files because this is where string name identifiers are located to match up trigs with indices.  Very bad practice guys.  Good luck then.
Code: Select all    <bow>
      <model>japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_bow_ports.visual</model>
        <node>
           <name>MP_JM025JSB018Bow_0_0</name>
           <model>\japan\misc\JM025JSB018Bow\JM025JSB018Bow.primitives</model>
        </node>

Relax... lol.. This is proto work.. Ill fix it now.
Also there are "\" that don't belong.
I had to go to take a break.. to damn tired.
## Post #77
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-08T13:11:46+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> Wobble wrote:.primitives should only be referenced in .visual files because this is where string name identifiers are located to match up trigs with indices.
Who cares? Game uses server database (most likely), and those xmls never be used in game anyway.
It's only purpose - making database for editor, and format must be comfortable enough to fill by hand and extract within editor.

Lets not do to much more until i fix these last issues.. I want the xml correct for future work.
It wont take long and we can make globe edits to the script you have to make it match..
Give me a hour ok and Ill upload version 2 of this.
## Post #78
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-08T14:07:00+00:00
- Post Title: Re: World of Warships

Ok... I uploaded version 2
I made the changes.. 
Please look at this Wobble so we we know this is what you want.
Im open for Ideas and agree with the standardization of the files.
Same location [http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)
Also I added options to create only the selected nations.
## Post #79
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-08T14:32:09+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> RSC001_Avrora_1917.xml is done. For other ships is good to have ability to visual comparison with ingame models.
Some mismatch found:
           <name>HP_RGM_1</name>
           <model>\russia\gun\secondary\RGS001_6in45\RGS001_6in45.primitives</model>
(RGS used as RGM here)

Are you saying that My app is messing this up or WarGaming has it worng?
Im confused
## Post #80
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-08-08T16:07:19+00:00
- Post Title: Re: World of Warships

[out]
## Post #81
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-08T20:28:22+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> Andrakann wrote:
Who cares? Game uses server database (most likely), and those xmls never be used in game anyway.
It's only purpose - making database for editor, and format must be comfortable enough to fill by hand and extract within editor.

I do.  I wouldn't be offering my advice if I wasn't an expert.  I see other uses than just a database,  I just don't have the time to do it myself.

So do I just because, I don't know who all will be looking at it and I want it right and consistent.
## Post #82
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-08T21:32:48+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Are you saying that My app is messing this up or WarGaming has it worng?
Im confused
It's 100% not your app.
I think it's because WarGaming put low calibers to "secondary" folder, even if small ships uses them as main guns.
Just some more visual comparison for DB filling..
## Post #83
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-08T21:48:04+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> Coffee wrote:Are you saying that My app is messing this up or WarGaming has it worng?
Im confused
It's 100% not your app.
I think it's because WarGaming put low calibers to "secondary" folder, even if small ships uses them as main guns.
Just some more visual comparison for DB filling..

whew.. at least I didn't f that part up.
I changed your Japan XML to match what the new version of the generator puts out and i'm close to finishing the code to load all the port objects.
Ill post when I have something and put a direct link o my VPS so we can test without waiting on CURSE. They be slow sometimes.
## Post #84
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-08T22:11:16+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> i'm close to finishing the code to load all the port objects.
 wow!
And we can export whole port to single FBX/OBJ? 

Fixed Yamato and Aurora xmls attached.

PS: Reuploaded attach, forgot to clean "\" 
[Aurora and Yamato XMLs.zip](https://xentaxbackup.github.io/file/9500_Aurora and Yamato XMLs.zip)
## Post #85
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-08T22:36:57+00:00
- Post Title: Re: World of Warships

I'm hoping to export everything that's loaded.
There is an issue I have to sort out which may take some time.
I need to translate everything from local space to world space before exporting.
This is not hard other than the math and managed code has no 3d matrix functions so I will have to write my own matrix code or download a plugin.

Its too bad OpenGL wont let you use the engine to do math. It would be stupid fast.

Uploaded version 3 of the XML Generator..
Odd.. there is no code to create ".models" rather than "model"
[http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)
## Post #86
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-08-09T08:49:38+00:00
- Post Title: Re: World of Warships

[out]
## Post #87
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-08-09T11:10:18+00:00
- Post Title: Re: World of Warships

[out]
## Post #88
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-09T20:31:46+00:00
- Post Title: Re: World of Warships

Actually, the node names works for me in the datatset. Its easy to read in and digest.
I will fix that bug In the XML Creator tool. It should be disabled until there is data to export.

I have made good progress with the Model Editor and loading the other dress models.
Here's a pic.. Note that a lot is pointing backwards. WE could change the XML add a rotation angle but I think I need to export this issue more.
It could be the conversion from Direct3D to OpenGL..
## Post #89
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-09T23:47:40+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> It could be the conversion from Direct3D to OpenGL..
I have some issues with guns in B23 - lots of them exports with inverted faces and mirrored in left/right coordinate.
And on this screenshot at least main guns have mirroring too.

Some detailed pics of assembled Yamato:
[](http://fastpic.ru/view/69/2015/0810/294cf648424ab5da380de8211df0e887.png.html) [](http://fastpic.ru/view/69/2015/0810/a1ced988734c79fa855e80889a48cd86.png.html)
Lots of Alt-Tabing to game, and i make him looks mostly identical 
And this plane on the catapult added and posed manually.

PS: And some actual in-game screenshots:
[](http://fastpic.ru/view/69/2015/0810/82927d986a67bf80100aa4a468ad723d.jpg.html) [](http://fastpic.ru/view/69/2015/0810/588d08e93ebe3bb163620322a1cc4d62.jpg.html)
Looks like devs changed type of plane on the catapult and some rotation angles since CBT.

Sad, but GeDoSaTo didn't work with WoWS (black render window on hi-res), so maximum resolution of screenshots limited by monitor resolution 

PS: Found a nice mod [here](http://forum.worldofwarships.ru/index.php?/topic/16199-040-%D0%BF%D0%BE%D1%80%D1%82-%D0%B0%D0%B4%D0%BC%D0%B8%D1%80%D0%B0%D0%BB%D0%B0/) - removes B/W shader from locked ships.
Also I heavily modified another [camera mod](http://forum.worldofwarships.ru/index.php?/topic/19364-040-%D0%B1%D1%8B%D1%81%D1%82%D1%80%D0%B0%D1%8F-%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B0-%D0%BF%D0%BE%D1%80%D1%82%D0%B0/) (last one in list), so we can zoom very closely now to check out things like guns/directors/finders:
[](http://fastpic.ru/view/70/2015/0810/697be1215dc02635651f041dbe8558ec.jpg.html)

Both mods, adopted for last version of game (0.4.0.5), attached.
Extract to game's root folder (i.e. V:\Games\World of Warships\), replace or skip "paths.xml" (must be ok as is, if present).
[World of Warships mods (remove BW shader and extra zoom).zip](https://xentaxbackup.github.io/file/9503_World of Warships mods (remove BW shader and extra zoom).zip)
## Post #90
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-10T01:58:43+00:00
- Post Title: Re: World of Warships

Ok.. I uploaded the WOW to the the same place as the XML Creator tool.
It is not perfect nor are the rotations of the models.. I cant get it right.. I think this comes from the client some how.

You can select using the center mouse click and this will give you the name of the extra objects.
If there is no matching XML in the "XML_Scrtips" folder in the root of the install folder, than the editor will draw ellipsoids where there would of been a gun or what ever.

here is a pic with everything loaded that has been found. No idea where the plane comes from or a few other items.. like the gap between the top of the small guns and the radio antennas .



I wont be working on this much for the next week.. I start a new job tomorrow and its going to be rough to get used that crap again.
## Post #91
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-08-10T14:46:04+00:00
- Post Title: Re: World of Warships

[out]
## Post #92
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-10T21:04:35+00:00
- Post Title: Re: World of Warships

I just found the memory leak in the editor.. If it was crashing after so many loads, it is because I wasn't remove all the data.
Ill have this fix on the next update.
## Post #93
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-08-10T21:31:09+00:00
- Post Title: Re: World of Warships

[out]
## Post #94
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-10T22:06:00+00:00
- Post Title: Re: World of Warships

Just to be clear, version 29.3 does not export the dress models (extras).
There is code for this yet.. but there will be once I figure more dress models and clean up the code.
## Post #95
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-10T22:11:48+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> I just noticed this:

Sample .visual:
Code: Select all<mfm>	content/gameplay/japan/ship/battleship/textures/JSB018_Yamato_1944_hull.mfm	</mfm>


Sample .mfm:
Code: Select all<Texture>	content/gameplay/common/textures/default_ao.tga	</Texture>


Sample .model:
Code: Select all	<nodefullVisual>	content/gameplay/japan/ship/battleship/JSB018_Yamato_1944/JSB018_Yamato_1944 </nodefullVisual>


They are adding "content/gameplay" to all their scripts paths.  I have not seen any files that access outside "content/gameplay", but perhaps you might want to add it to your scripts to stay consistent.

I just ran into a problem when trying to load a texture with an extra ""content/gameplay" added to my path.

I added the code in in the editor to make up the difference.. When setting up the path in the editor, set it to point at the 'res' folder. I did this because there is other content that people may want to look at.
The XML is fine and works.. I dont really want to change it at this point unless you think its mandatory. Some master scripts are almost or are done and it would mean reworking them..
## Post #96
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-08-10T23:15:41+00:00
- Post Title: Re: World of Warships

[out]
## Post #97
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-08-10T23:20:17+00:00
- Post Title: Re: World of Warships

[out]
## Post #98
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-10T23:42:48+00:00
- Post Title: Re: World of Warships

Nice Job Wobble

You guys are kickin this up.
## Post #99
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-11T00:29:10+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> Side view.
Why your directors doesn't contain internal subnodes?

And my assembled model contains 359 758 verts and 251 903 faces. But i removed broken parts.
## Post #100
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-08-11T03:28:17+00:00
- Post Title: Re: World of Warships

[out]
## Post #101
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-11T10:26:15+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> The script I'm using must be incomplete.  I still have missing parts.  Missing small stuff like flags, bouys, etc...
Looks like the top row near the two signal lights have missing covers too.

But the process is made easier by first focusing your attention on the 3 main big guns, and ignoring everything else.  If those don't get placed correctly, then nothing else will.

I'm also missing an entire plane that sits on the back rails.

I can't find them.. I getting everything that's in the port/compound XML.. the last item is fire_burn.. Im stripping anything with that or _smoke_ out as its for effects.
I'll look around when I get home.. Its time to go to work.
## Post #102
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-08-11T11:07:36+00:00
- Post Title: Re: World of Warships

[out]
## Post #103
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-11T18:29:37+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> HP = hull Point? / hull Primitive?
MP = mount Point? / main Primitive?
Maybe this is loading priority?
HP - High Priority.
MP - Medium Priority (or Minor).

In game, model loads with main guns already in places, then onther guns/finders/etc loads and pop-ups in realtime.
## Post #104
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-11T20:07:09+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> Wobble wrote:HP = hull Point? / hull Primitive?
MP = mount Point? / main Primitive?
Maybe this is loading priority?
HP - High Priority.
MP - Medium Priority (or Minor).

In game, model loads with main guns already in places, then onther guns/finders/etc loads and pop-ups in realtime.

I  have some of the bigworld documentation
HP stands for "Hard Point" Hard Points is where something mounts. In world of tanks.. these are things like the turret gun and so on but they have also used it for FX output locations like the exhaust.

MP as far  as I can decipher means Misc part because they always are located in the misc folders. I could be wrong on this tho.
## Post #105
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-11T20:19:51+00:00
- Post Title: Re: World of Warships

My editor has developed a bad memory leak.. 
I'm not sure where it came from but if you keep reloading models, at some point it will crash with "Texture not found" . This is Actually caused by the app eating to much memory on the stack.
There are a number of bitmaps being created for the texture preview but I have already been flushing that data when you reload a new model. Adding a model does not flush for obvious reasons.
Last night I found a few things and fixed them but it is still crashing if you keep loading using Open.
I also added code for the child models of the hulls to show the textures and ids, face count and so on like the main list. Tonight I will add a button to view them to the menu that will only be there if the kids are loaded.. I already added a button to disable loading the kids and to show them or not.. this will be in the next version which I will probably upload tonight.
## Post #106
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-08-11T21:38:04+00:00
- Post Title: Re: World of Warships

[out]
## Post #107
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-12T00:01:56+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> Coffee wrote:
MP as far as I can decipher means Misc part because they always are located in the misc folders. I could be wrong on this tho.


If that's right, then you found a tool to find where unknown HP and MP identifiers are located. MP are always locted in <country>\misc or common\misc folders.  And HP are located elsewhere.  Should help speed up the discovery process.

But, there are parts called:
MP_CM001_Propeller3_L
MP_JM112JSB018Stern_0_0

It may just be by coincidence that MP is always using misc folders.  The abbreviations CM and JM definitely stand for "common misc" and "japan misc", so MP must stand for something else, like Medium Priority, as Andrakann suggested.

The only exception to this rule seems to be HP_flag_nation.  Located in japan\misc\JM001\JM001.model.  So, the flag must be important, high priority.
That could be.. 
I just noticed something .. and I'd like you guys to look in to this.. 
Im looking at the Yamato, all the guns but the secondary are pointing in the wrong direction. If this is the case with the other ships, I can filter this and rotate the NON-secondary guns.
## Post #108
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-08-12T01:29:55+00:00
- Post Title: Re: World of Warships

[out]
## Post #109
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-12T02:06:12+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> So, the flag must be important, high priority.
Tested this moment - and yes, flags loads on earlier stage if you change ships.

> Reply from Coffee
>
> I can filter this and rotate the NON-secondary guns.
Not rotate, but invert by all axis, so all sides must flips and faces inverts. All this I do manually for B23 exports.
But skinning support, as Wobble mentioned - would be better 
Upd.: just tested - this problem exist in B29.3 too:
[](http://fastpic.ru/view/71/2015/0812/ee55034cf90c69ccdcb005b44ec31e30.png.html)
- all faces inverted and small director on top of turret placed at wrong side.
Screenshot from Deep Exploration, 3dsmax automatically makes faces double sided for "realistic" renderer window.
Gun exported as OBJ, because of bug with FBX exporter.


Wobble, did you test Mike's Editor B29.3 for WoWS? I can't get it working on my PC. For WoT all's ok, but WoWS primitives loads without textures and child objects, just like in older versions 
I think I miss some system libs, or maybe RU locale of windows make troubles...
## Post #110
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-08-12T14:37:10+00:00
- Post Title: Re: World of Warships

[out]
## Post #111
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-08-12T20:01:26+00:00
- Post Title: Re: World of Warships

[out]
## Post #112
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-12T21:33:36+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> Coffee wrote:
Im looking at the Yamato, all the guns but the secondary are pointing in the wrong direction. If this is the case with the other ships, I can filter this and rotate the NON-secondary guns.

How are you transforming your primitives?
Are you using the skinning information?

The main big guns like HP_JGM_3 are skinned, so you have to transform their vertices by their bones.
Other meshes are static.

If you overlay the visual skeletal system, you should see the guns pointing in the same direction as your bones:
I was looking at the .visual for the guns.
In these XML files there is a root_bendbone node matrix with the same scaling as the all other bone nodes. It does not contain rotation or translation information.

```
            <identifier>   Root_BlendBone </identifier>
            <transform>
               <row0>   1.000000 0.000000 0.000000 0.000000 </row0>
               <row1>   0.000000 1.000000 0.000000 0.000000 </row1>
               <row2>   0.000000 0.000000 -1.000000 0.000000   </row2>
               <row3>   0.000000 0.000000 0.000000 1.000000 </row3>
            </transform>
         </node>

```

This is nearly an identity matrix only the Z is mirrored (row2 z = -1.0)
Now if we look at a bend_bone:

```
                  <identifier>   Rotate_X_BlendBone   </identifier>
                  <transform>
                     <row0>   1.000000 0.000000 0.000000 0.000000 </row0>
                     <row1>   0.000000 1.000000 0.000000 0.000000 </row1>
                     <row2>   0.000000 0.000000 -1.000000 0.000000   </row2>
                     <row3>   -0.002679 -0.108695 -0.205988 1.000000 </row3>
                  </transform>
               </node>

```

You see that the scaling is the same but there is translation data.  This is the pivot point for the guns (up and down).
Ok... and finally the matrix as it is stored in the compound xml.

```
            <identifier>   HP_JGM_2 </identifier>
            <transform>
               <row0>   1.000000 0.000000 0.000000 0.000000 </row0>
               <row1>   0.000000 1.000000 0.000000 0.000000 </row1>
               <row2>   0.000000 0.000000 1.000000 0.000000 </row2>
               <row3>   0.000000 0.682223 2.024238 1.000000 </row3>
            </transform>
         </node>

```

once again.. there is scale .. (Identity in this case) and translation(into the ships space).. NO rotation
So the problem remains.. However, the difference in scaling between the root_bendbone and the compound matrix is interesting.
When I have time I will look at the relationship of the secondary's and the other gun's sign of ROW2 Z (3rd position). If all guns have negitive as the main gun above and only the secondaries are positive .. than that is the indicator of the guns rotation.. negitive would mean it needs rotated 180% or maybe just mirrored as the -Z would do.
Right now, Im to tired to think about it.
## Post #113
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-12T21:36:55+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> Coffee wrote:
Im looking at the Yamato, all the guns but the secondary are pointing in the wrong direction. If this is the case with the other ships, I can filter this and rotate the NON-secondary guns.

How are you transforming your primitives?
Are you using the skinning information?

The main big guns like HP_JGM_3 are skinned, so you have to transform their vertices by their bones.
Other meshes are static.

If you overlay the visual skeletal system, you should see the guns pointing in the same direction as your bones:
I was looking at the .visual for the guns.
In these XML files there is a Root_BlendBone node matrix with the same scaling as the all other bone nodes. It does not contain rotation or translation information.

```
            <identifier>   Root_BlendBone </identifier>
            <transform>
               <row0>   1.000000 0.000000 0.000000 0.000000 </row0>
               <row1>   0.000000 1.000000 0.000000 0.000000 </row1>
               <row2>   0.000000 0.000000 -1.000000 0.000000   </row2>
               <row3>   0.000000 0.000000 0.000000 1.000000 </row3>
            </transform>
         </node>

```

This is nearly an identity matrix only the Z is mirrored (row2 z = -1.0)
Now if we look at a Rotate_X_BlendBone  :

```
                  <identifier>   Rotate_X_BlendBone   </identifier>
                  <transform>
                     <row0>   1.000000 0.000000 0.000000 0.000000 </row0>
                     <row1>   0.000000 1.000000 0.000000 0.000000 </row1>
                     <row2>   0.000000 0.000000 -1.000000 0.000000   </row2>
                     <row3>   -0.002679 -0.108695 -0.205988 1.000000 </row3>
                  </transform>
               </node>

```

You see that the scaling is the same but there is translation data.  This is the pivot point for the guns (up and down).
Ok... and finally the matrix as it is stored in the compound xml.

```
            <identifier>   HP_JGM_2 </identifier>
            <transform>
               <row0>   1.000000 0.000000 0.000000 0.000000 </row0>
               <row1>   0.000000 1.000000 0.000000 0.000000 </row1>
               <row2>   0.000000 0.000000 1.000000 0.000000 </row2>
               <row3>   0.000000 0.682223 2.024238 1.000000 </row3>
            </transform>
         </node>

```

once again.. there is scale .. (Identity in this case) and translation(into the ships space).. NO rotation
So the problem remains.. However, the difference in scaling between the Root_BlendBone and the compound matrix is interesting.
When I have time I will look at the relationship of the secondary's and the other gun's sign of ROW2 Z (3rd position). If all guns have negitive as the main gun above and only the secondaries are positive .. than that is the indicator of the guns rotation.. negitive would mean it needs rotated 180% or maybe just mirrored as the -Z would do.
Right now, I'm to tired to think about it.
## Post #114
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-12T21:41:45+00:00
- Post Title: Re: World of Warships

The guns local transforms have to be added to the whats stored for that gun in the compound to bring the bone locations in to the ships space.

Andrakann.
Trying downloading it again. 
I installed using that same exact file and it runs fine.. other than that damn memory leak.

EDIT.. I know some one that works for WarGaming in Seattle and I sent him an email.. Maybe he can get some info. I dont think so tho because he works on WoT stuff.
## Post #115
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-12T23:55:01+00:00
- Post Title: Re: World of Warships

which matrix are you using Wobble to transform the verts?
## Post #116
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-08-13T01:02:37+00:00
- Post Title: Re: World of Warships

[out]
## Post #117
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-13T05:31:27+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> Andrakann wrote:did you test Mike's Editor B29.3 for WoWS?
Nope, got a download link to it?
It's in same folder with XML Tool [here](http://209.159.152.184:8080/WoW/). [Direct link](http://209.159.152.184:8080/WoW/WoT_Model_Editor_B29_3.zip).

> Reply from Coffee
>
> Andrakann.
Trying downloading it again. 
I installed using that same exact file and it runs fine.. other than that damn memory leak.
I'll try it on my wife's PC for test.

Upd: test failed 
After start of Editor, it's gives me error:
[](http://fastpic.ru/view/71/2015/0813/b9133dc48a99c9b441b16146606e0f6c.png.html)
This file is present in Editor's root.
I press [OK], but after i set working path and try to open .primitive, i get another error:
[](http://fastpic.ru/view/71/2015/0813/ff8c83d061c2bbb5f3956242733d6185.png.html)
(full log attached)
None loads after i press [Continue].

I trying reinstall with default paths and settings (checked "Just Me", not "Everyone" as always), then trying to reinstall with Administrative rights - same errors here.

So, i think my wife's PC missing a lot more libraries than my does 
On my PC that UK ship loads as always - no textures or childs, but no any errors too.
Versions of Windows are the same - 7 x64
[error_log.zip](https://xentaxbackup.github.io/file/9524_error_log.zip)
## Post #118
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-08-13T10:50:46+00:00
- Post Title: Re: World of Warships

[out]
## Post #119
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-13T14:38:09+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> I noticed there is a sub folder called "WoWs_Scripts".  Does this program actually load the Yamato script?  If so, how to load it?
Must loads automatically, when you open Yamato parts.
Btw, do you have WoWS models textured or white in editor?
## Post #120
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-08-13T15:26:17+00:00
- Post Title: Re: World of Warships

[out]
## Post #121
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-08-13T15:32:02+00:00
- Post Title: Re: World of Warships

[out]
## Post #122
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-13T15:55:43+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> I can only load single parts.  Not the entire ship.  And the parts are all white.  And if the program can't find a texture, I get spammed endlessly with can't find texture/folder/path messages over and over again.  That error message should be taken out and dumped to a log file.  Too much spam.
Looks like you have same problem as me.
But i didn't receive errors spam, did you set "working path" to "World of Warships\res" folder?
And for loading more than one part you must use "add primitive" button, after you open one.
## Post #123
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-13T19:38:00+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> Wobble wrote:I noticed there is a sub folder called "WoWs_Scripts".  Does this program actually load the Yamato script?  If so, how to load it?
Must loads automatically, when you open Yamato parts.
Btw, do you have WoWS models textured or white in editor?
this  is where the master scripts need to be placed.
The Yamato's should be in there already.
## Post #124
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-13T19:47:50+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> I can only load single parts.  Not the entire ship.  And the parts are all white.  And if the program can't find a texture, I get spammed endlessly with can't find texture/folder/path messages over and over again.  That error message should be taken out and dumped to a log file.  Too much spam.
Ok  .. I get it.. 
I'll add a dump routine for the errors.
Im starting to wonder if the reason the editor is crashing has something to do with localization. As in .. where you are.
## Post #125
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-13T20:33:01+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> Suggestion.  Please add a rotation field to the script.  This is the only way I can get the catapults to point straight.  You don't have to add a default rotation (0,0,0) to every line.  Just check to see if it exists or not.

Example:
Code: Select all<JSB018_Yamato_1944.xml>
  <sections>
    <stern>
      <model>japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_Stern_ports.model</model>
        <node>
           <name>HP_JC_1</name>
           <rotation>0 90 0</rotation>
           <model>japan\catapult\JC001_Catapult_Shiki2\JC001_Catapult_Shiki2.model</model>
        </node>
        <node>
           <name>HP_JC_2</name>
           <rotation>0 -90 0</rotation>
           <model>japan\catapult\JC001_Catapult_Shiki2\JC001_Catapult_Shiki2.model</model>
        </node>
    </stern>
  </sections>
</JSB018_Yamato_1944.xml>
The way my editor works is like this:
It checks to see if there is a compound file.. if there is, it loads that XML. If not  it loads the post XML (If there is a compound file, post just points at it or has exactly the same data.. this may change as they develop the game).
Once I have that XML, I use to to find the matching object in the master script(they should be in the WoTs_Scripts folder) by its matching name and the the actual path to that object.
I also use LINQ Datatables to preform XML parsing and this will break with Nodes having attributes in only some node children.

How about adding a table for the extra missing objects?
It would make it a snap to detect if it exists and not require changing to much in whats been done.
Just need a child named "extra" with that data in it.
As far as exporting the data once its all in.. FBX does not support matrices and neither does OBJ. Ideally it would be nice to apply the transforms to the vertices and normals during export.
Im good in Trig but know just enough about matrix math to be dangerous. I'm looking for code to do this and I think I found it but have not had time to mess with it yet.

I spent 3 hours last night trying to track down why the texture loader starts crapping out after a few loads of the WoWs models.. I had NO success.
Im going to spend more time on this tonight.. There is NO point doing anything else when the app is not stable.
You both are getting errors with the texture loading routine from the start so its probably some shit programming I did that is doing this. A path is getting screwed up some where.
## Post #126
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-14T01:27:42+00:00
- Post Title: Re: World of Warships

I think we need some others to test and see if this version is crashing on their systems as well.
If you download this, please report if its running on your system or not.
I will upload the latest version. in a few. Look for version 29.4
[http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)

I found a major issue with the texture loading. Some how it was creating 2 IL images for each OpenGL texture. I dont know how the hell the code was changed.
I move all loading errors to a log and a button to open the log under the file menu.
## Post #127
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-14T03:21:43+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> If you download this, please report if its running on your system or not.
Exactly the same bugs. And log window is empty, nothing prints here, not on load parts, not after export error.

Did export to FBX full Yamato works on yours side?
Without hidden parts and to binarised FBX.

Upd.: Export of tanks with same settings works fine. And [Cancel] button works too
## Post #128
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-08-14T17:50:29+00:00
- Post Title: Re: World of Warships

[out]
[ship1.JPG](https://xentaxbackup.github.io/file/9532_ship1.JPG)
## Post #129
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-14T19:40:29+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> Coffee wrote:If you download this, please report if its running on your system or not.
Exactly the same bugs. And log window is empty, nothing prints here, not on load parts, not after export error.

Did export to FBX full Yamato works on yours side?
Without hidden parts and to binarised FBX.

Upd.: Export of tanks with same settings works fine. And [Cancel] button works too

Im at a loss here. I have installed this same version and I have no problems.
The last thing I can check is if I have hard coded the game directory by accident. I dont think so because its set by the user but I will look.

When you set the editor up for WoWs, a new item menu item should show up under file called 'Load Ship Child Models'. Uncheck this and see if it will load any of the yamato.. either one at a time or adding them together.
If this stops the crash at least it will be narrowed down.
BTW.. A blank log means there were no errors finding the textures. I will add more information but at this point I need to find out what the hell is crashing this.
## Post #130
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-14T19:57:23+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> Coffee wrote:
As far as exporting the data once its all in.. FBX does not support matrices and neither does OBJ. Ideally it would be nice to apply the transforms to the vertices and normals during export.
Im good in Trig but know just enough about matrix math to be dangerous. I'm looking for code to do this and I think I found it but have not had time to mess with it yet.


Just Google for vector-matrix multiplication.  It's very easy to multiply a 3D point by a 4x4 matrix, assuming 3D point is (x,y,z,1):
Code: Select allfor (int i=0; i < M.rows(); i++) {
   for (int j=0; j < M.cols(); j++) {
      resultVector[i] += M[i][j] * v[j];
   }
}


Thanks.. I will save that.

And if you want to render the ship properly, I can tell you right now, it cannot be done without using the skinning information.

Thanks.. I will try that code later.
I get that you are using the skinning information but how? Using rows 0, 1 and 2 turns the AA guns so they point towards or away from the bow and they are not consistent. The main guns transform on the midfront section OK but the stern gun is the same unless I flip the signs on row0.x and row2.z but than the guns on the front are backwards.
Im very frustrated with the whole of this.
## Post #131
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-08-14T21:05:05+00:00
- Post Title: Re: World of Warships

[out]
## Post #132
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-14T21:41:27+00:00
- Post Title: Re: World of Warships

OpenGL is right hand. Or.. I should say that is how I have it set (Y positive is up and Z positive is faces out towards the user.
Thanks Wobble ..
Ill do some work on this after dinner.
## Post #133
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-15T04:23:28+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Im at a loss here. I have installed this same version and I have no problems.
The last thing I can check is if I have hard coded the game directory by accident. I dont think so because its set by the user but I will look.
Do you installed it to your's working PC or another one?
And I already tried to recreate your's game path without success.

> When you set the editor up for WoWs, a new item menu item should show up under file called 'Load Ship Child Models'. Uncheck this and see if it will load any of the yamato.. either one at a time or adding them together.
Nothing here, so i think it's path detection bug - I tried to set path to all folders one by one, from root "World of Warships" to "japan" - nothing shows.
But for World of Tanks path all is working fine (textures loads, export works), so i think it's not RU locale of windows but some error in code.
Which files or folders you try to detect, before this "Load Ship Child Models" option gets visible?

Btw, it's very strange that it's works for you, maybe you set some system path variables for work?

And for locale - I have this settings:
[](http://fastpic.ru/view/72/2015/0815/767e66e5f42d6a8fe81b35c5bc713078.png.html)
Most buggy thing here, it's comma by default instead of dot, so, many exporters produce broken OBJs, with lots of commas inside.
But i fixed this long time ago, so it's not an issue in ours case.
## Post #134
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-08-15T12:28:35+00:00
- Post Title: Re: World of Warships

[out]
## Post #135
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-15T13:25:03+00:00
- Post Title: Re: World of Warships

So when you go to reset the path it is not pointing to where you set it before?
If thats the case we found the problem. Its not saving the path on your systems for some reason.

Andrakann,
Because this is USA app, it should default to dot (Decimal) in number strings.
In russia, you use comma. correct?


You may want to uninstall the editor and than do a search for this file
Model_Viewer.exe.config
Make sure it is GONE! I added the storage of the path to this file and it could be why its not running correctly. I have seen this issue before with other apps I created.


The numbers in the XML are using Dot strings correct?

IM gonna grab some coffee ( not myself  ) and fix a few things.
1.. add event to long on every item load.
2.. add path to top of log file.
## Post #136
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-15T14:33:45+00:00
- Post Title: Re: World of Warships

Try this one [WoT_Model_Editor_B29_5.zip](http://209.159.152.184:8080/WoW/)
Sample of log file:

```
loaded Texture:C:\Games\World_of_Warships\res\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_a.dds
loaded Texture:C:\Games\World_of_Warships\res\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_ao.dds
loaded Texture:C:\Games\World_of_Warships\res\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_mg.dds
loaded Texture:C:\Games\World_of_Warships\res\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_n.dds
loaded Model:sec:1:C:\Games\World_of_Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_MidBack.visual
loaded Model:sec:2:C:\Games\World_of_Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_MidBack.visual
loaded Texture:C:\Games\World_of_Warships\res\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_deck_a.dds
loaded Texture:C:\Games\World_of_Warships\res\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_deck_ao.dds
loaded Texture:C:\Games\World_of_Warships\res\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_deck_mg.dds
loaded Texture:C:\Games\World_of_Warships\res\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_deck_n.dds

```
## Post #137
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-15T19:22:52+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> I'm assuming WOT Editor can handle Unicode character sets, otherwise any Cyrillic characters in the filepath would return back as garbage.
I'm not using cyrillic symbols in paths for any tools, also not for user name and computer name. Btw, someone is Russia do it 100%, so it's better to prevent this type of errors in code.

> Reply from Coffee
>
> In russia, you use comma. correct?
Yeah, comma is used in Russian locale, but I changed it to dot long time ago.

> Reply from Coffee
>
> You may want to uninstall the editor and than do a search for this file
Model_Viewer.exe.config
Make sure it is GONE! I added the storage of the path to this file and it could be why its not running correctly. I have seen this issue before with other apps I created.
Editor uninstalls very correctly, fully removes installation folder, but if there any new files, like manually added XMLs - leaves them untouched.

> Reply from Coffee
>
> Try this one WoT_Model_Editor_B29_5.zip
Installing... 

Upd.: Got this:

```
loaded Model:sec:1:V:\Games\World of Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_Bow.visual
loaded Model:sec:2:V:\Games\World of Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_Bow.visual
loaded Model:sec:3:V:\Games\World of Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_Bow.visual
loaded Model:sec:4:V:\Games\World of Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_Bow.visual
loaded Model:sec:5:V:\Games\World of Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_MidFront.visual
loaded Model:sec:6:V:\Games\World of Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_MidFront.visual
loaded Model:sec:7:V:\Games\World of Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_MidFront.visual
loaded Model:sec:8:V:\Games\World of Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_MidFront.visual
loaded Model:sec:9:V:\Games\World of Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_MidFront.visual
loaded Model:sec:10:V:\Games\World of Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_MidFront.visual
loaded Model:sec:11:V:\Games\World of Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_MidBack.visual
loaded Model:sec:12:V:\Games\World of Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_MidBack.visual
loaded Model:sec:13:V:\Games\World of Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_MidBack.visual
loaded Model:sec:14:V:\Games\World of Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_MidBack.visual
loaded Model:sec:15:V:\Games\World of Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_MidBack.visual
loaded Model:sec:16:V:\Games\World of Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_MidBack.visual
loaded Model:sec:17:V:\Games\World of Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_MidBack.visual
loaded Model:sec:18:V:\Games\World of Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_Stern.visual
loaded Model:sec:19:V:\Games\World of Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_Stern.visual
loaded Model:sec:20:V:\Games\World of Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_Stern.visual
loaded Model:sec:21:V:\Games\World of Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_Stern.visual

```

But there's no dynamic update in log window, so i must click "File\Log File" every time something changes, but after export do error then I press [continue] - menu buttons stays gray and inactive even after closing export window. Btw, floating bar buttons is active after errors.
## Post #138
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-15T19:48:20+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Try this one WoT_Model_Editor_B29_5.zip
Installing...
Check the log and see if the path shows up correctly.. I have a feeling this is the main problem because everything else works but the ships. This means something is getting trashed in the path to the WoWs folder. 
Also make sure it points to the 'res' folder.. any deeper in the path and it won work with any XMLs period.
## Post #139
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-15T19:55:53+00:00
- Post Title: Re: World of Warships

> Editor uninstalls very correctly, fully removes installation folder, but if there any new files, like manually added XMLs - leaves them untouched.
This is good.. and it won't delete anything it did not install.
We are going to be adding more to the master XML to deal with the extra missing items like the planes and the frame for the aerials on top of the 2 secondary guns forward and aft.
As far as I can tell after searching for ever, these are NOT in the XML any where.. Wobble added them to his version of the master script and I think we will need to do this but I want to add these as an 'extra' node to make it very easy to test for their existence.
I will change the XML Generator to add a default 'extra' node once the I get the damn editor working for you again.
I am still trying to understand what broke the loading of the ships and I hope the logs will show something.
## Post #140
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-15T20:10:36+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> 
But there's no dynamic update in log window, so i must click "File\Log File" every time something changes, but after export do error then I press [continue] - menu buttons stays gray and inactive even after closing export window. Btw, floating bar buttons is active after errors.
Ok.. I will fix the menu and floater remaining disabled on an error. An oversight by me.
The path looks good.. The paths are full and no extra garbage.

Did the models load OK?
## Post #141
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-15T20:14:01+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Check the log and see if the path shows up correctly..
See update in previous post.

Installer leaves log file in windows temp directory:

```
Property: [AdminUser] = true {boolean}
Property: [InstallMode] = HomeSite {string}
Property: [NTProductType] = 1 {int}
Property: [ProcessorArchitecture] = AMD64 {string}
Property: [VersionNT] = 6.1.1 {version}
Running checks for package 'Windows Installer 4.5', phase BuildList
Looking up path for special folder 'WindowsFolder'
Running check with folder 'C:\Windows\System32' and file 'msi.dll'
Attempting to find file 'C:\Windows\System32\msi.dll'
File version is '5.0.7601.17514'
Setting value '5.0.7601.17514 {version}' for property 'VersionMsiDll'
The following properties have been set for package 'Windows Installer 4.5':
Property: [VersionMsiDll] = 5.0.7601.17514 {version}
Running checks for command 'WindowsInstaller4_5\WindowsXP-KB942288-v3-x86.exe'
Result of running operator 'VersionGreaterThanOrEqualTo' on property 'VersionMsi' and value '4.5': true
Result of checks for command 'WindowsInstaller4_5\WindowsXP-KB942288-v3-x86.exe' is 'Bypass'
Running checks for command 'WindowsInstaller4_5\WindowsXP-KB958655-v2-x86-ENU.exe'
Result of running operator 'VersionGreaterThanOrEqualTo' on property 'VersionMsiDll' and value '4.5.6001.22299': true
Result of checks for command 'WindowsInstaller4_5\WindowsXP-KB958655-v2-x86-ENU.exe' is 'Bypass'
Running checks for command 'WindowsInstaller4_5\WindowsServer2003-KB942288-v4-x86.exe'
Result of running operator 'VersionGreaterThanOrEqualTo' on property 'VersionMsi' and value '4.5': true
Result of checks for command 'WindowsInstaller4_5\WindowsServer2003-KB942288-v4-x86.exe' is 'Bypass'
Running checks for command 'WindowsInstaller4_5\WindowsServer2003-KB958655-v2-x86-ENU.exe'
Result of running operator 'VersionGreaterThanOrEqualTo' on property 'VersionMsiDll' and value '4.5.6001.22299': true
Result of checks for command 'WindowsInstaller4_5\WindowsServer2003-KB958655-v2-x86-ENU.exe' is 'Bypass'
Running checks for command 'WindowsInstaller4_5\WindowsServer2003-KB942288-v4-x64.exe'
Result of running operator 'VersionGreaterThanOrEqualTo' on property 'VersionMsi' and value '4.5': true
Result of checks for command 'WindowsInstaller4_5\WindowsServer2003-KB942288-v4-x64.exe' is 'Bypass'
Running checks for command 'WindowsInstaller4_5\WindowsServer2003.WindowsXP-KB958655-v2-x64-ENU.exe'
Result of running operator 'VersionGreaterThanOrEqualTo' on property 'VersionMsiDll' and value '4.5.6001.22299': true
Result of checks for command 'WindowsInstaller4_5\WindowsServer2003.WindowsXP-KB958655-v2-x64-ENU.exe' is 'Bypass'
Running checks for command 'WindowsInstaller4_5\Windows6.0-KB958655-v2-x86.MSU'
Result of running operator 'VersionGreaterThanOrEqualTo' on property 'VersionMsiDll' and value '4.5.6001.22308': true
Result of checks for command 'WindowsInstaller4_5\Windows6.0-KB958655-v2-x86.MSU' is 'Bypass'
Running checks for command 'WindowsInstaller4_5\Windows6.0-KB958655-v2-x64.MSU'
Result of running operator 'VersionGreaterThanOrEqualTo' on property 'VersionMsiDll' and value '4.5.6001.22308': true
Result of checks for command 'WindowsInstaller4_5\Windows6.0-KB958655-v2-x64.MSU' is 'Bypass'
'Windows Installer 4.5' RunCheck result: No Install Needed
Running checks for package '.NET Framework 3.5 SP1', phase BuildList
Reading value 'SP' of registry key 'HKLM\Software\Microsoft\NET Framework Setup\NDP\v3.5'
Read integer value 1
Setting value '1 {int}' for property 'DotNet35SP'
The following properties have been set for package '.NET Framework 3.5 SP1':
Property: [DotNet35SP] = 1 {int}
Running checks for command 'DotNetFX35SP1\dotNetFx35setup.exe'
Result of running operator 'ValueGreaterThanEqualTo' on property 'DotNet35SP' and value '1': true
Result of checks for command 'DotNetFX35SP1\dotNetFx35setup.exe' is 'Bypass'
'.NET Framework 3.5 SP1' RunCheck result: No Install Needed
Launching Application.
Running command 'C:\Windows\SysWOW64\msiexec.exe' with arguments ' -I "W:\Install\ForGames\!_Utils\BigWorld Engine (WoT, WoWP, WoWS)\WoT Model Editor B29.5\WoT_Model_Editor_B29_5.msi" '
```

Property: [ProcessorArchitecture] = AMD64 {string} - I have i5, but it's not important i think.
'.NET Framework 3.5 SP1' RunCheck result: No Install Needed - I have 1.1 and 4.5.2 eng and rus, maybe I need to install exactly 3.5 SP1?
And content of exe.config for B29.5:

```
<configuration>
    <configSections>
        <sectionGroup name="userSettings" type="System.Configuration.UserSettingsGroup, System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
            <section name="Model_Viewer.My.MySettings" type="System.Configuration.ClientSettingsSection, System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" allowExeDefinition="MachineToLocalUser" requirePermission="false"/>
        </sectionGroup>
    </configSections>
    <system.diagnostics>
        <sources>
            <!-- This section defines the logging configuration for My.Application.Log -->
            <source name="DefaultSource" switchName="DefaultSwitch">
                <listeners>
                    <add name="FileLog"/>
                    <!-- Uncomment the below section to write to the Application Event Log -->
                    <!--<add name="EventLog"/>-->
                </listeners>
            </source>
        </sources>
        <switches>
            <add name="DefaultSwitch" value="Information"/>
        </switches>
        <sharedListeners>
            <add name="FileLog" type="Microsoft.VisualBasic.Logging.FileLogTraceListener, Microsoft.VisualBasic, Version=8.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a, processorArchitecture=MSIL" initializeData="FileLogWriter"/>
            <!-- Uncomment the below section and replace APPLICATION_NAME with the name of your application to write to the Application Event Log -->
            <!--<add name="EventLog" type="System.Diagnostics.EventLogTraceListener" initializeData="APPLICATION_NAME"/> -->
        </sharedListeners>
    </system.diagnostics>
    <userSettings>
        <Model_Viewer.My.MySettings>
            <setting name="pic_path" serializeAs="String">
                <value>c:\</value>
            </setting>
            <setting name="txt_path" serializeAs="String">
                <value>c:\</value>
            </setting>
            <setting name="texture_win_location" serializeAs="String">
                <value>50, 50</value>
            </setting>
            <setting name="texture_win_client_size" serializeAs="String">
                <value>480, 600</value>
            </setting>
            <setting name="frmMove_location" serializeAs="String">
                <value>0, 0</value>
            </setting>
            <setting name="in_U" serializeAs="String">
                <value>False</value>
            </setting>
            <setting name="export_u" serializeAs="String">
                <value>False</value>
            </setting>
            <setting name="in_V" serializeAs="String">
                <value>True</value>
            </setting>
            <setting name="export_V" serializeAs="String">
                <value>True</value>
            </setting>
            <setting name="main_path" serializeAs="String">
                <value>C:\Games\World_of_Tanks\extracted</value>
            </setting>
            <setting name="app_mode" serializeAs="String">
                <value>True</value>
            </setting>
            <setting name="terrain_type" serializeAs="String">
                <value>0</value>
            </setting>
            <setting name="show_child_models" serializeAs="String">
                <value>True</value>
            </setting>
            <setting name="load_child_models" serializeAs="String">
                <value>True</value>
            </setting>
        </Model_Viewer.My.MySettings>
    </userSettings>
<startup><supportedRuntime version="v2.0.50727"/></startup>
  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <dependentAssembly>
        <assemblyIdentity name="System.Runtime" publicKeyToken="b03f5f7f11d50a3a" culture="neutral"/>
        <bindingRedirect oldVersion="0.0.0.0-2.6.10.0" newVersion="2.6.10.0"/>
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Threading.Tasks" publicKeyToken="b03f5f7f11d50a3a" culture="neutral"/>
        <bindingRedirect oldVersion="0.0.0.0-2.6.10.0" newVersion="2.6.10.0"/>
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Net.Http" publicKeyToken="b03f5f7f11d50a3a" culture="neutral"/>
        <bindingRedirect oldVersion="0.0.0.0-2.2.29.0" newVersion="2.2.29.0"/>
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Net.Http.Primitives" publicKeyToken="b03f5f7f11d50a3a" culture="neutral"/>
        <bindingRedirect oldVersion="0.0.0.0-2.2.29.0" newVersion="2.2.29.0"/>
      </dependentAssembly>
    </assemblyBinding>
  </runtime>
</configuration>

```

<value>C:\Games\World_of_Tanks\extracted</value> - It's not  my path, but I didn't tried to load WoT models in this version.
<!--<add name="EventLog"/>--> - Some adventures with that parameter. After first run of newly installed editor, i didn't see any changes, and File Log stays empty (not sure if i try to reopen it or not), so i delete this exe.config (backed up), and restart editor - installer pops up and recreated this exe.config with same content.
Next time i deleted entire content of exe.config, leave just this:

```
<configuration></configuration>

```

- nothing starts.
So, last time i changed only this commented string to uncommented:
<add name="EventLog"/>
and log works (btw, not 100% sure about).

> Reply from Coffee
>
> Did the models load OK?
No textures, no childs, as always.

Upd.: content of C:\Windows\Temp\wot_temp\

```
Bow_crack_MidFront_inShape.vertices.sec
Bow_crack_MidFrontShape.indices.sec
Bow_crack_MidFrontShape.vertices.sec
Bow_patch_MidFrontShape.indices.sec
Bow_patch_MidFrontShape.vertices.sec
BowShape.indices.sec
BowShape.vertices.sec
default.cmodl.sec
hit_locations.cmodl.sec
MidBack_crack_MidFront_inShape.indices.sec
MidBack_crack_MidFront_inShape.vertices.sec
MidBack_crack_MidFrontShape.indices.sec
MidBack_crack_MidFrontShape.vertices.sec
MidBack_crack_Stern_inShape.indices.sec
MidBack_crack_Stern_inShape.vertices.sec
MidBack_crack_SternShape.indices.sec
MidBack_crack_SternShape.vertices.sec
MidBack_DeckHouseShape.indices.sec
MidBack_DeckHouseShape.vertices.sec
MidBack_patch_SternShape.indices.sec
MidBack_patch_SternShape.vertices.sec
MidBackShape.indices.sec
MidBackShape.vertices.sec
MidFront_crack_Bow_inShape.indices.sec
MidFront_crack_Bow_inShape.vertices.sec
MidFront_crack_BowShape.indices.sec
MidFront_crack_BowShape.vertices.sec
MidFront_crack_MidBack_inShape.indices.sec
MidFront_crack_MidBack_inShape.vertices.sec
MidFront_crack_MidBackShape.indices.sec
MidFront_crack_MidBackShape.vertices.sec
MidFront_patch_MidBackShape.indices.sec
MidFront_patch_MidBackShape.vertices.sec
MidFrontShape.indices.sec
MidFrontShape.vertices.sec
Stern_crack_MidBack_inShape.indices.sec
Stern_crack_MidBack_inShape.vertices.sec
Stern_crack_MidBackShape.indices.sec
Stern_crack_MidBackShape.vertices.sec
Stern_netShape.indices.sec
Stern_netShape.vertices.sec
SternShape.indices.sec
SternShape.vertices.sec
xml_temp.xml
```


Upd.2: I updated my .NET Framework to v4.6 and do versions check with [this tool](http://www.asoft.be/prod_netver.html), so i have this:
[](http://fastpic.ru/view/70/2015/0816/0d2f2bd129bab2ad9410c1cb4ef0bd80.png.html)
## Post #142
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-15T20:51:43+00:00
- Post Title: Re: World of Warships

Dont worry about the AMD64.. its just saying its 64bit CPU and is how MicroSoft decided to do it.
The .cfg has a defaut path

```
                <value>C:\Games\World_of_Tanks\extracted</value>
            </setting>
```

When you set it under the file menu, it will probably just be pointing at your C:\ root.. this is normal if the path does not exist.

Log shows no errors for missing textures.. What the hell??
## Post #143
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-15T20:54:14+00:00
- Post Title: Re: World of Warships

You can delete that wot_temp on C: It is not used anymore.

Its all placed in a temp folder in user\app_data\ or what ever the OS gives me for a root temp folder.
I ask Windows for the folder path and add wow_temp to it.. when you close the app, it deletes that folder and its contents.

edit:
.NET looks fine.. I use 3.5 with this app but the installer uses 4.0.
## Post #144
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-15T21:00:28+00:00
- Post Title: Re: World of Warships

Hey.. 
you could check the system event logs.. maybe there is some info there.
## Post #145
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-15T21:04:28+00:00
- Post Title: Re: World of Warships

Im going to add code to log when it gets to the start of the load texture routine to see of it even get that far OK?
I am not changing the version for this small addition.. wait for me to update this post.

OK... try that version.
## Post #146
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-15T21:07:29+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> You can delete that wot_temp on C: It is not used anymore.

Its all placed in a temp folder in user\app_data\ or what ever the OS gives me for a root temp folder.
I ask Windows for the folder path and add wow_temp to it.. when you close the app, it deletes that folder and its contents.
It's automatically deletes after i close editor, i check it for more updated log after error, but not find it here.
And all system temp paths is set to windows\temp by me, so editor temp folder is here to 

Tested my trick with replacing link to .mfm in .visual with .mfm's content - works as always, textures loads, log:

```
loaded Texture:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_a.dds
loaded Texture:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_ao.dds
loaded Texture:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_mg.dds
loaded Texture:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_n.dds
loaded Model:sec:1:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_Bow.visual
loaded Model:sec:2:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_Bow.visual
loaded Model:sec:3:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_Bow.visual
loaded Model:sec:4:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_Bow.visual

```

It's working copy of game content for experimens, so, path is different, didn't have spaces in name (another issue sometimes), but bugs are the same.

Upd.: I replace all .mfm links with content for Yamato bow primitive, so it's loads fully textured. Then i try to export to FBX, and it's works fine!
So. i think export errors occurs for untextured parts only, maybe when exporter trying to create materials and finds .mfm's instead of textures.

Upd.2:

> Reply from Coffee
>
> Hey.. 
you could check the system event logs.. maybe there is some info there.
Nothing important here, as far as i can see.

> Reply from Coffee
>
> Im going to add code to log when it gets to the start of the load texture routine to see of it even get that far OK?
I am not changing the version for this small addition.. wait for me to update this post.
Ok, I'm waiting. Now trying.
## Post #147
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-15T21:26:00+00:00
- Post Title: Re: World of Warships

So its not finding the MFMs..
Try the new version (has same 29_5) and post what the log returns.
There is something wrong with it finding the MFMs it looks like.
## Post #148
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-15T21:32:44+00:00
- Post Title: Re: World of Warships

Have a problem here with installer 
I unpack new archive to same folder as previous with replacing files, now it's asking to uninstal old version, before install new, but i replaced this installer and didn't have a copy of archive.
So i need to clear registry or something alike...

Upd.: fixed.

Upd.2: New Log:

```
Entry build_textures:
loaded Model:sec:1:V:\Games\World of Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_Bow.visual
Entry build_textures:
loaded Model:sec:2:V:\Games\World of Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_Bow.visual
Entry build_textures:
loaded Model:sec:3:V:\Games\World of Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_Bow.visual
Entry build_textures:
loaded Model:sec:4:V:\Games\World of Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_Bow.visual

```
## Post #149
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-15T21:48:00+00:00
- Post Title: Re: World of Warships

Ok that gets me closer.. ty

EDIT: I will upload a new version to dig deeper.
This WILL have a new version number for you.

EDIT: Its uploadting.. Give it 3 minutes
## Post #150
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-15T21:52:26+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Ok that gets me closer.. ty
NP, but that empty lines looks not very promising for me 

Should I wait for next version in short time?..

Upd.:

> Reply from Coffee
>
> This WILL have a new version number for you.
EDIT: Its uploadting.. Give it 3 minutes
I fixed this issue very easy, by going to "control panel"\"add\remove programs" and just uninstall from list, instead of running old setup again and check "remove"
## Post #151
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-15T21:55:35+00:00
- Post Title: Re: World of Warships

New version to try..(29_6) it will spit out lots of information.
## Post #152
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-15T22:00:05+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> New version to try..(29_6) it will spit out lots of information.
Installing...

Upd.: Got this:

```
 Id: 1 Searching .Visual for Texture paths.
Entry build_textures:
No Texture Name for Diffuse.
loaded Model:sec:1:V:\Games\World of Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_Bow.visual
 Id: 2 Searching .Visual for Texture paths.
Entry build_textures:
No Texture Name for Diffuse.
loaded Model:sec:2:V:\Games\World of Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_Bow.visual
 Id: 3 Searching .Visual for Texture paths.
Entry build_textures:
No Texture Name for Diffuse.
loaded Model:sec:3:V:\Games\World of Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_Bow.visual
 Id: 4 Searching .Visual for Texture paths.
Entry build_textures:
No Texture Name for Diffuse.
loaded Model:sec:4:V:\Games\World of Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_Bow.visual
```
## Post #153
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-15T22:05:23+00:00
- Post Title: Re: World of Warships

OK... Im reading and what I am seeing is this:
It is NOT finding the path to the MFM folder.. or textures folder under that ship.

EDIT:
One cause could be the path to 'res' not actually set right.. Let me get an image.
## Post #154
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-15T22:06:49+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> OK... Im reading and what I am seeing is this:
It is NOT finding the path to the MFM folder.. or textures folder under that ship.
Maybe another mysterious "s" somewhere?..

Upd.: log for modified visual, with replaced .mfm links:

```
 Id: 1 Searching .Visual for Texture paths.
Entry build_textures:
Entry get_image_and_Bmp:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_a.dds
Checking Cache for already loaded texture:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_a.dds
loaded Texture:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_a.dds
Entry get_image_and_Bmp:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_ao.dds
Checking Cache for already loaded texture:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_ao.dds
loaded Texture:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_ao.dds
Entry get_image_and_Bmp:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_mg.dds
Checking Cache for already loaded texture:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_mg.dds
loaded Texture:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_mg.dds
Entry get_image_and_Bmp:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_n.dds
Checking Cache for already loaded texture:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_n.dds
loaded Texture:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_n.dds
loaded Model:sec:1:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_Bow.visual
 Id: 2 Searching .Visual for Texture paths.
Entry build_textures:
Entry get_image_and_Bmp:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_a.dds
Checking Cache for already loaded texture:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_a.dds
Entry get_image_and_Bmp:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_ao.dds
Checking Cache for already loaded texture:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_ao.dds
Entry get_image_and_Bmp:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_mg.dds
Checking Cache for already loaded texture:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_mg.dds
Entry get_image_and_Bmp:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_n.dds
Checking Cache for already loaded texture:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_n.dds
loaded Model:sec:2:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_Bow.visual
 Id: 3 Searching .Visual for Texture paths.
Entry build_textures:
Entry get_image_and_Bmp:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_a.dds
Checking Cache for already loaded texture:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_a.dds
Entry get_image_and_Bmp:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_ao.dds
Checking Cache for already loaded texture:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_ao.dds
Entry get_image_and_Bmp:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_mg.dds
Checking Cache for already loaded texture:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_mg.dds
Entry get_image_and_Bmp:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_n.dds
Checking Cache for already loaded texture:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_n.dds
loaded Model:sec:3:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_Bow.visual
 Id: 4 Searching .Visual for Texture paths.
Entry build_textures:
Entry get_image_and_Bmp:U:\!_WoWS_new1\content\gameplay\common\textures\C003_Razlom_old_a.dds
Checking Cache for already loaded texture:U:\!_WoWS_new1\content\gameplay\common\textures\C003_Razlom_old_a.dds
loaded Texture:U:\!_WoWS_new1\content\gameplay\common\textures\C003_Razlom_old_a.dds
Entry get_image_and_Bmp:U:\!_WoWS_new1\content\gameplay\common\textures\default_ao.dds
Checking Cache for already loaded texture:U:\!_WoWS_new1\content\gameplay\common\textures\default_ao.dds
loaded Texture:U:\!_WoWS_new1\content\gameplay\common\textures\default_ao.dds
Entry get_image_and_Bmp:U:\!_WoWS_new1\content\gameplay\common\textures\C003_Razlom_old_mg.dds
Checking Cache for already loaded texture:U:\!_WoWS_new1\content\gameplay\common\textures\C003_Razlom_old_mg.dds
loaded Texture:U:\!_WoWS_new1\content\gameplay\common\textures\C003_Razlom_old_mg.dds
Entry get_image_and_Bmp:U:\!_WoWS_new1\content\gameplay\common\textures\C003_Razlom_old_n.dds
Checking Cache for already loaded texture:U:\!_WoWS_new1\content\gameplay\common\textures\C003_Razlom_old_n.dds
loaded Texture:U:\!_WoWS_new1\content\gameplay\common\textures\C003_Razlom_old_n.dds
loaded Model:sec:4:U:\!_WoWS_new1\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_Bow.visual

```
## Post #155
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-15T22:10:27+00:00
- Post Title: Re: World of Warships

this is where the path has to be set to. not Im on C: abd you will be on U:
EDIT.. for get this.. you have it right
## Post #156
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-15T22:11:59+00:00
- Post Title: Re: World of Warships

zip your XML (.visual)for one of the ships sections and post it.
I need to look at it OK?
There is something very odd with the MFM paths that I dont understand
## Post #157
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-15T22:18:11+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> zip your XML (.visual)for one of the ships sections and post it.
I need to look at it OK?
There is something very odd with the MFM paths that I dont understand
All visuals for Yamato attached.

And content of JSB018_Yamato_1944_hull.mfm - just is case:

```
	<fx>	shaders/std_effects/PBS_ship.fx	</fx>
	<collisionFlags>	0	</collisionFlags>
	<materialKind>	0	</materialKind>
	<property>	metallicGlossMap
		<Texture>	content/gameplay/japan/ship/battleship/textures/JSB018_Yamato_1944_hull_mg.tga	</Texture>
	</property>
	<property>	normalMap
		<Texture>	content/gameplay/japan/ship/battleship/textures/JSB018_Yamato_1944_hull_n.tga	</Texture>
	</property>
	<property>	diffuseMap
		<Texture>	content/gameplay/japan/ship/battleship/textures/JSB018_Yamato_1944_hull_a.tga	</Texture>
	</property>
	<property>	ambientOcclusionMap
		<Texture>	content/gameplay/japan/ship/battleship/textures/JSB018_Yamato_1944_hull_ao.tga	</Texture>
	</property>
</JSB018_Yamato_1944_hull.mfm>
```

[JSB018_Yamato_1944_visuals.zip](https://xentaxbackup.github.io/file/9536_JSB018_Yamato_1944_visuals.zip)
## Post #158
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-15T22:22:20+00:00
- Post Title: Re: World of Warships

thanks you.. give me a little bit to look these over.
Have a beer or Vodka
## Post #159
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-15T22:25:09+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> thanks you.. give me a little bit to look these over.
Have a beer or Vodka
I don't drink often than 2 times in month with good friends 

But cup of tea would be a good idea - 1:25 AM on my clocks %)

Upd.: Maybe those tabs between path and tags copy-pasted somewhere and makes trouble?..
[](http://fastpic.ru/view/71/2015/0816/21e289d62eda0da71c0bc5cf34dffb48.png.html)
## Post #160
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-15T22:36:53+00:00
- Post Title: Re: World of Warships

You XML is exactly the same as mine. No issues there.

Ok..  I uploaded version 29_7.
This will post some more info in the log once it gets to the part that tries to load the MFM.
It might help figure this out.
If it never gets to this point in the program, we will try adding logging to an earlier point.
Its the only way I know to sort this out.
## Post #161
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-15T22:40:27+00:00
- Post Title: Re: World of Warships

Log is done:

```
 Id: 1 Searching .Visual for Texture paths.
Entry build_textures:
No Texture Name for Diffuse.
loaded Model:sec:1:V:\Games\World of Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_Bow.visual
 Id: 2 Searching .Visual for Texture paths.
Entry build_textures:
No Texture Name for Diffuse.
loaded Model:sec:2:V:\Games\World of Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_Bow.visual
 Id: 3 Searching .Visual for Texture paths.
Entry build_textures:
No Texture Name for Diffuse.
loaded Model:sec:3:V:\Games\World of Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_Bow.visual
 Id: 4 Searching .Visual for Texture paths.
Entry build_textures:
No Texture Name for Diffuse.
loaded Model:sec:4:V:\Games\World of Warships\res\content\gameplay\japan\ship\battleship\JSB018_Yamato_1944\JSB018_Yamato_1944_Bow.visual

```

Looks identical, and in window header version says B29.5, so exe size is 1 323 008 bytes, for check.
## Post #162
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-15T22:50:05+00:00
- Post Title: Re: World of Warships

i didnt change the text for the version.
Let me look at that for a bit.

Edit:
You can see the menu item for "load child models"?
If so check that and see what happens.

This is what I get when I open the Bow of the Yamato. No errors at all:

```
looking for MFM: 
Found MFM: content/gameplay/japan/ship/battleship/textures/JSB018_Yamato_1944_hull.mfm
 Id: 1 Searching .Visual for Texture paths.
Entry build_textures:
Entry get_image_and_Bmp:C:\Games\World_of_Warships\res\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_a.dds
Checking Cache for already loaded texture:C:\Games\World_of_Warships\res\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_a.dds
loaded Texture:C:\Games\World_of_Warships\res\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_a.dds
Entry get_image_and_Bmp:C:\Games\World_of_Warships\res\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_ao.dds
Checking Cache for already loaded texture:C:\Games\World_of_Warships\res\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_ao.dds
loaded Texture:C:\Games\World_of_Warships\res\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_ao.dds
Entry get_image_and_Bmp:C:\Games\World_of_Warships\res\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_mg.dds
Checking Cache for already loaded texture:C:\Games\World_of_Warships\res\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_mg.dds
loaded Texture:C:\Games\World_of_Warships\res\content\gameplay\japan\ship\battleship\textures\JSB018_Yamato_1944_hull_mg.dds

```

So some where, it is losing the MFM all together.
## Post #163
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-15T22:54:23+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> You can see the menu item for "load child models"?
Nope, and never seen this far 

Btw, if it's not shown, editor thinks it's not WoWS path, and not use .mfm reading and childs processing?

So, if you replace autodetection of WoWS folder (probably bug is here) with autodetection of texture-or-mfm in materials - this must works.
Or remake WoT/WoWS checkbox to forced manually WoWS processing of materials and childs.
## Post #164
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-15T23:09:13+00:00
- Post Title: Re: World of Warships

OK.. there is a button under file... 
Its called "WoTanks/WoWarships" 
This should NOT be checked
Check means World of Tanks mode.
Try that.

This is why it never finds the MFMs.. Its not looking for them in World of Tanks mode.
Edit:
Once this is checked, open the file menu again and check LOAD CHILDREN.
## Post #165
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-15T23:15:30+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> OK.. there is a button under file... 
Its called "WoTanks/WoWarships" 
This should NOT be checked
Check means World of Tanks mode.
Try that.

This is why it never finds the MFMs.. Its not looking for them in World of Tanks mode.
Edit:
Once this is checked, open the file menu again and check LOAD CHILDREN.
OMG, it's soo easy to solve  
Now it works fine, all loads..

And all guns and directors rotated like in game.
Only catapults rotated wrong.
## Post #166
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-15T23:16:15+00:00
- Post Title: Re: World of Warships

I will remove the mode button. I can search the .visual for MFM and that will tell me the file type.. its an easier solution.
## Post #167
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-15T23:17:22+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> Coffee wrote:OK.. there is a button under file... 
Its called "WoTanks/WoWarships" 
This should NOT be checked
Check means World of Tanks mode.
Try that.

This is why it never finds the MFMs.. Its not looking for them in World of Tanks mode.
Edit:
Once this is checked, open the file menu again and check LOAD CHILDREN.
OMG, it's soo easy to solve  
Now it works fine, all loads..

Hey.. its all good other than you be pulling out hair im sure..
WE have a log file now. just need to clean it up and make it more useful and..
I found out the mode button is very confusing.
## Post #168
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-15T23:18:16+00:00
- Post Title: Re: World of Warships

It is collaborative work like this that builds great things
## Post #169
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-15T23:26:02+00:00
- Post Title: Re: World of Warships

Are the kids loading too?

I have the translations almost working for all the children models...
Just a few things to sort.. 
Not sure if this will work with all ships.. Im hard wiring some based on its type.. Main, Secondary..
## Post #170
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-15T23:33:19+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Hey.. its all good other than you be pulling out hair im sure..
WE have a log file now. just need to clean it up and make it more useful and..
I found out the mode button is very confusing.
I'm too tired to pull out just one hair :))
Yeah, log is cool ;)
Especially after you say me in one of letter "didn't touch it" :)

> Reply from Coffee
>
> It is collaborative work like this that builds great things :)
Like logs! ;)
But - cheers!

> Reply from Coffee
>
> Are the kids loading too?

I have the translations almost working for all the children models...
Just a few things to sort.. 
Not sure if this will work with all ships.. Im hard wiring some based on its type.. Main, Secondary..
Yeah, all loads fine, going to try with Aurora xml...

Upd.: Aurora loads fine, all textured and with childs, but guns rotated incorrectly (or loaded in wrong order) and bow gun loads pre-selected, nothing wrong but different from Yamato.
[](http://fastpic.ru/view/69/2015/0816/89e2dcf24db461f2a92a40464d7614a5.png.html)
Upd.2: In game rotation (and flag):
[](http://fastpic.ru/view/69/2015/0816/9688f843a9f0532b672b3c045880a79b.jpg.html)

PS: I'm going to sleep now, tomorrow I'll try to make XML for air carrier, and we get in troubles here for sure... :)
## Post #171
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-16T00:12:52+00:00
- Post Title: Re: World of Warships

Good night 

> PS: I'm going to sleep now, tomorrow I'll try to make XML for air carrier, and we get in troubles here for sure... With out a doubt we will LOL
## Post #172
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-16T08:06:30+00:00
- Post Title: Re: World of Warships

Started working with air carrier, some bugs so far:
Airplane(s?) have inverted UV-mapping:
[](http://fastpic.ru/view/71/2015/0816/4c83ab3615a0e0db4fda6da1fb550ca8.png.html)
- also subnode position still unfixed, and no transparency in editor window (not really important atm).
But ship is inverted also, so it's maybe not UV inversion, but mesh:
[](http://fastpic.ru/view/71/2015/0816/09bcb62b11810c81c6e80157c123f33d.png.html) [](http://fastpic.ru/view/69/2015/0816/52b98da57213e1cd44e484a6a43a4ab9.jpg.html)

Also here's no dummies for unassigned parts, and Child Model List not scalable and have bug in scroll.
And i cant find already added director in this list...

```
           <model>usa\director\AD042_Director_Mk37_Mod2\AD042_Director_Mk37_Mod2.model</model>
```

Only MP_* nodes shown, maybe it's on list end, which didn't scrolls to that point.

And it's would be good to add some markers for selected part from list, something like those axis arrows in edit mode but thinner and 2x smaller in size.

Can't find newly attached childs on reloaded bow.primitive, then realize to reload editor and all's loads (inverted directions) 
So XMLs preloads at start of editor, not with model parts, i see.

I have problems with "MidBack" part - lots of childs loaded, and i can't middle click them to check names because of error "System.OverflowException" - early mentioned memory leak I think.
Btw, program allocates 342 mb of system memory and reads 118 mb of data - not much in my opinion...
Maybe some internal buffers overloads, or video memory is full (I have 2 Gb, but game runs at backround).

So, I stuck, for radars i use method of visual identification, they are 4 types in 4 points, so it's easy enough, but boring.
And for artillery this trick is useless, too many points with 1-3 types.
Waiting for fixing this leak or whatever it is...

Some suggestion - would be really cool, if you add load child button to that small window with part name, which showns after I middle-click child. And loaded child automatically replaces older and changes writes to XML. It's makes composing really fast and comfortable and can be used to change upgrades (all parts of this aircarrier is for stock version, because it's locked for me).

Ever better, if you add thumbnail generation for models (manually, just screenshot of editor workspace, and stored outside game, like XMLs) - I already have headache with those AGA018_*, AGA056_*, AGA002_*... so thumbnails can save life, especially if they showns not only for primitives, but also for folders which names starts with AGA002_*.
Btw, not sure it's possible..

Unfinished XML attached, fully done bow and MidFront, MidBack have wrong placed guns (as dummies), stern untouched.
[ASA015_Midway_1945_unfinished_XML+log.zip](https://xentaxbackup.github.io/file/9540_ASA015_Midway_1945_unfinished_XML+log.zip)
## Post #173
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-16T12:30:04+00:00
- Post Title: Re: World of Warships

Ok.. I got the midway XML 
You have been busy.
Im getting some coffee and I will look at the UVs being reversed but I noticed this morning, Seems the entire hull is backwards on some ship or all of them.. Look at the Siapan US carrier. Tower is on the wrong side.

Edit 1. The yellow place holders are working for you? You can center mouse click them and it will give you the name of that item.

Edit 2.

> Also here's no dummies for unassigned parts, and Child Model List not scalable and have bug in scroll.
>
> And i cant find already added director in this list...
OK.. I fixed the child list scroll.. And it can be scaled.. this is by design because of the thumbs nails.
I will look at inversion of ship.. I never noticed this until I loaded the Siapan.
## Post #174
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-08-16T14:25:56+00:00
- Post Title: Re: World of Warships

[out]
## Post #175
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-16T15:27:43+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> Now that's a huge ship.

btw, usa flag is not stored at Am001.   This is something else called BollardShape.
Found usa flag at AM032.

I have no idea how you are getting these things transformed or how you are even reading the .primitives.

If I just shove the matrix in to opengl nothing transforms correctly. I tried inverting some of the values..  Some rotate OK.. but than the others are backwards. So i hard coded based on the object type.. main. secondary.. so on.. works for Yamato but fails hard on the carrier.
I'm lost and burnt out on this project.
## Post #176
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-16T18:32:43+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Edit 1. The yellow place holders are working for you? You can center mouse click them and it will give you the name of that item.
They present only if loaded primitive didn't have XML, so it's useles for this time.
In partially edited XLM I saw only one dummy for "HP_NoseWave_Speed" - I don't know why others didnt shown, maybe because their incomplete path, like "usa\director\UNKNOWN_ITEM" instead of just "UNKNOWN_ITEM".

> I will look at inversion of ship.. I never noticed this until I loaded the Siapan.
I think it's also a reason why Aurora guns posed like on my yestarday screenshot - wrong left/right sides.

> Reply from Wobble
>
> btw, usa flag is not stored at Am001.   This is something else called BollardShape.
Found usa flag at AM032.
Yeah, i just add one to all points to make dummies, but bugs stops me from finishing.

> Reply from Coffee
>
> I tried inverting some of the values..  Some rotate OK.. but than the others are backwards.
I think you must invert them all, not some.

> Reply from Coffee
>
> I'm lost and burnt out on this project.
Hey, stay focused :) Do something relaxing, like hunting for this memory leak ;)
## Post #177
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-16T20:28:01+00:00
- Post Title: Re: World of Warships

LOL

DUDE! I think I got it!

I found the mem leak.. I was not clearing the display lists (OpenGL).

I think I found the right transform scheme too. 
Ill be uploading version 29.8 in a few minutes. Look for it 

OK.. its uploading.
Added this:
Double clicking on the items in the child list (top list in window) will select that item in the display.
You can center click anything to select it. If its a child, the info will pop up with its name (unless its sub to a child than these text is blank).
Fixed the yellow markers not showing on partially created master XML.
Included the Midway carrier master XML you posted here earlier.
Change the Transforms.. Looks like its working 100%
Add code to filter out the crap from the airplanes.. (discShape and chassis_offShape). They are not loaded so the planes look right.
Found a bug in deleting the OpenGL display lists.. (Was leaving huge amounts of data attached to the video cards memory).
## Post #178
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-16T20:48:59+00:00
- Post Title: Re: World of Warships

Oh.. Be careful and set up the CORRECT Mode for the editor..
Read whats in the file menu drop down and check the correct box.
## Post #179
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-16T21:55:37+00:00
- Post Title: Re: World of Warships

OK.. the planes on the deck of the midway have a funky skew to them.
Not sure why yet.

EDIT.. Uploading 29.8.1
This should fix the skew in the airplanes
## Post #180
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-17T05:36:50+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> DUDE! I think I got it!

I found the mem leak.. I was not clearing the display lists (OpenGL).

I think I found the right transform scheme too.
Great news! 

> Double clicking on the items in the child list (top list in window) will select that item in the display.
Cool, i forgot to ask for it, but you do it already 

> (unless its sub to a child than these text is blank)

> Add code to filter out the crap from the airplanes.. (discShape and chassis_offShape). They are not loaded so the planes look right.
It's better to fix and autohide them at load, like cracks.
And maybe you can add groups in editor? Then you can use them as containers for childrens - create group with name "HP_Deck_XX" and put all plane parts inside with normal names. Like this:


And disable please those "Id:1", etc. added on export. Can you leave them only to default named parts and in form of just numbers, without "Id:" prefix?

> Included the Midway carrier master XML you posted here earlier.
Btw, why you skip Aurora XML, something wrong with it?

> Reply from Coffee
>
> Oh.. Be careful and set up the CORRECT Mode for the editor..
Read whats in the file menu drop down and check the correct box.
Got it. And now it looks very clear 

Upd.: Fresh Bugs! 
AGA018 and AD027 still inverted by front/back coordinate, even if loaded alone.
Trying to load ASA015 stern before adding something in XML gives me error "System.IndexOutOfRangeException", so yellow dummies still untested  Hope it's loads with parts in places...

Upd.2: Midway is finished, I try to find correct flags, but there's no loading for flag models in log, so I use AM032 as placeholder, as suggested by Wobble. I think in game flags are special effects like fire burns, nose waves, etc.

Btw, find another bug when digging common\misc models - CM040 cause error on load: System.IO.DirectoryNotFoundException: Cant find part of path "U:\!_WoWS_new1\content\location\ship\boat\textures\LSB018.mfm".

Screenshots:
[](http://fastpic.ru/view/66/2015/0817/501d7ebb614e9da1b7c9a63674a7b2e6.png.html) [](http://fastpic.ru/view/70/2015/0817/21fa69853ac02f98988d57538d26a06b.jpg.html)
Blue bombers I use as placeholders for take-off and landing animation points: HP_LiftOffPoint, HP_DeckStart, HP_DeckLand and HP_DisappearPoint - looks good, but you can hide them on load, if you wish like-in-game-dock look for loaded model.

Upd.3: Some DIY in action:
[](http://fastpic.ru/view/70/2015/0817/24f7407de9128f3bd1a2a3f29985b447.jpg.html)

[ASA015_Midway_1945_XML+log.zip](https://xentaxbackup.github.io/file/9545_ASA015_Midway_1945_XML+log.zip)
## Post #181
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-17T09:44:55+00:00
- Post Title: Re: World of Warships

Arkansas Beta done.
I do it really fast, one type of main gun, one type of director, two types of secondary guns to sort out - that's all hand work.
No camo, btw.
[](http://fastpic.ru/view/65/2015/0817/a8180e56fd774dd1769240674568b32c.png.html) [](http://fastpic.ru/view/72/2015/0817/01533378c115957eff547ac26f9f0b9f.jpg.html)
[ASB013_Arkansas_1912_(CBT_Reward)_XML+log.zip](https://xentaxbackup.github.io/file/9546_ASB013_Arkansas_1912_(CBT_Reward)_XML+log.zip)
## Post #182
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-17T10:59:27+00:00
- Post Title: Re: World of Warships

Atlanta done.
[](http://fastpic.ru/view/68/2015/0817/07087a4bb71f09a194eaea5f4700a9ef.png.html) [](http://fastpic.ru/view/70/2015/0817/2c4517b54b1589805ec13ae7fca572c5.jpg.html)

Torpedo launchers is empty, but in game there are torpedos loaded (usa\projectile\torpedo\APT001_Torpedo_533mm_Mk_15\APT001_Torpedo_533mm_Mk_15.model).
[](http://fastpic.ru/view/70/2015/0817/f11e6252f81d66bac8bc6b3eac572e1f.jpg.html)

Also some inverted childs present, main guns too.
[ASC006_Atlanta_1942_XML+log.zip](https://xentaxbackup.github.io/file/9547_ASC006_Atlanta_1942_XML+log.zip)
## Post #183
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-17T12:17:56+00:00
- Post Title: Re: World of Warships

Montana done.
[](http://fastpic.ru/view/67/2015/0817/9522f41132c61deafb08dfbe46254a57.png.html) [](http://fastpic.ru/view/72/2015/0817/38f1b4f7a2b5890a6761ccb7a277c3d3.jpg.html)

Catapults unfixed and no plane on one of them (usa\aircraft\scout\AAS010_Curtiss_SC1\AAS010_Curtiss_SC1.model).
[ASB017_Montana_1945_XML+log.zip](https://xentaxbackup.github.io/file/9548_ASB017_Montana_1945_XML+log.zip)
## Post #184
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-17T13:55:02+00:00
- Post Title: Re: World of Warships

Murmansk done.
[](http://fastpic.ru/view/68/2015/0817/e4f37c596992f341553d742816e7b852.png.html) [](http://fastpic.ru/view/67/2015/0817/d5f12d89d994a5c4990b2015542db3f3.jpg.html)

No plane on catapult (russia\aircraft\scout\RAS001_KOR_2\RAS001_KOR_2.model).
No torpedos in launchers (usa\projectile\torpedo\APT001_Torpedo_533mm_Mk_15\APT001_Torpedo_533mm_Mk_15.model).
[](http://fastpic.ru/view/67/2015/0817/b3ef05d1f922e5bcc8dff0ae2f0be3f0.jpg.html)

Some dummie bugs on bow and stern parts (nothing to add here manually, btw).
[RSC003_Murmansk_1944_XML+log.zip](https://xentaxbackup.github.io/file/9549_RSC003_Murmansk_1944_XML+log.zip)
## Post #185
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-17T15:12:53+00:00
- Post Title: Re: World of Warships

Des Moines done.
[](http://fastpic.ru/view/72/2015/0817/af64bade648c30b5983e7488ce1ab775.png.html) [](http://fastpic.ru/view/71/2015/0817/d09f34945ed4bb9aec077cc34403d62e.jpg.html)

No plane on catapult (usa\aircraft\fighter\AAF024_XP_40S\AAF024_XP_40S.model).
No external stuff on main guns turrets:
[](http://fastpic.ru/view/67/2015/0817/eec1f97d483704aa84fd6c8ccf8bec51.jpg.html) [](http://fastpic.ru/view/72/2015/0817/c0b4aeb3da1ed0aa2d1013dbc8ed131d.png.html)
[ASC020_Des_Moines_1948_XML+log.zip](https://xentaxbackup.github.io/file/9550_ASC020_Des_Moines_1948_XML+log.zip)
## Post #186
- Username: Tsukotaku
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Tue Jul 28, 2015 8:14 pm
- Post datetime: 2015-08-17T15:45:34+00:00
- Post Title: Re: World of Warships

I'm currently using the Blender Add-on linked at the begin of the topic to load and modify some of the ships (Yamato, Shimakaze and Taihou). Is there a tool to export back to .visual said custom 3D models, so that can be used in the game? I've already seen a modification that basically add stuff to Kongou. It's been already 1 month since I've started to dig about it but couldn't find literally anything outside XeNTaX. I'm going crazy over this.
## Post #187
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-17T16:18:04+00:00
- Post Title: Re: World of Warships

> Reply from Tsukotaku
>
> Is there a tool to export back to .visual said custom 3D models, so that can be used in the game?
Yes tool [exists](http://worldoftanks.curseforge.com/wot-mods/wot-model-editor/), and author posting in this topic regularly, nick Coffee.
But model files is .primitive ones, .visual it's configs.
## Post #188
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-17T19:49:43+00:00
- Post Title: Re: World of Warships

> Reply from Tsukotaku
>
> I'm currently using the Blender Add-on linked at the begin of the topic to load and modify some of the ships (Yamato, Shimakaze and Taihou). Is there a tool to export back to .visual said custom 3D models, so that can be used in the game? I've already seen a modification that basically add stuff to Kongou. It's been already 1 month since I've started to dig about it but couldn't find literally anything outside XeNTaX. I'm going crazy over this.

Hey... Yes, you can use my app to import the model back and save it as a primitive. DO NOT export everything from my editor because it currently can only import one thing at a time. (you could export everything and than export from blender the parts one at a time. There is a tutorial at the CURSE site that will help a lot.
The thing is, Blender has some issues with the .OBJ format when Exporting. If you have and problems, let me know. I need to look at blenders OBJ output and fix it anyway if its still broken.
## Post #189
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-17T19:52:28+00:00
- Post Title: Re: World of Warships

nice work Andrakann 

I like your ideas about the tree view containers.
I will need to find a good way to implement it.
Also, I will try t find that bug with crashing when loading just the stern.
Its been a hot long day and I'm tired but I try to get something on this done.
## Post #190
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-17T20:19:15+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> nice work Andrakann 

I like your ideas about the tree view containers.
I will need to find a good way to implement it.
Also, I will try t find that bug with crashing when loading just the stern.
Thanks 

It's not my, it's how standard groups looks like in Deep Exploration / SAP Enterprise Author, but main idea is also export with groups - FBX support them, OBJ don't (AFAIK). It's very handy and good looking, especially with lots of objects, like we have in WoWs models.

Not just stern - any XML cause crash, if you try to load part with some unfilled nodes like "usa\gun\main\UNKNOWN_ITEM".
So I fill those nodes with any similar parts from log, then load in editor and fix misplaced.
## Post #191
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-17T20:25:38+00:00
- Post Title: Re: World of Warships

send me a partial filled xml so I can test it.
That would help me
Thanks
NM.. i have some here
## Post #192
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-17T20:33:05+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> NM.. i have some here
Ok..

I'm feel very sleepy, so if you not planning anything with my cooperation required - I'll go to bed, ok?.

Upd.: CYA tomorrow :)
## Post #193
- Username: sPlizi
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Mon Aug 17, 2015 11:49 pm
- Post datetime: 2015-08-17T20:48:36+00:00
- Post Title: Re: World of Warships

Hello,

I downloaded the last version of the Model Editor, but I can't load any primitives from WoWs. It loads textures paths, but I can't get any mesh to display.

I have set it to World of Warships Mode and loading from the "res" folder. It shows the number of polygons but no mesh.

Thanks.
## Post #194
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-17T21:21:41+00:00
- Post Title: Re: World of Warships

Uploading Version 29.8.2
This fixes the yellow place holders.
I wasn't re-sizing the list of items.. that's where the index out of range was coming from.
[http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)
## Post #195
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-17T21:29:21+00:00
- Post Title: Re: World of Warships

> Reply from sPlizi
>
> Hello,

I downloaded the last version of the Model Editor, but I can't load any primitives from WoWs. It loads textures paths, but I can't get any mesh to display.

I have set it to World of Warships Mode and loading from the "res" folder. It shows the number of polygons but no mesh.

Thanks.
Look at the log file and see if there is any info there.
edit:
I just uploaded a new version..
uninstall and try the new version.
## Post #196
- Username: sPlizi
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Mon Aug 17, 2015 11:49 pm
- Post datetime: 2015-08-17T21:39:59+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> 
Look at the log file and see if there is any info there.
edit:
I just uploaded a new version..
uninstall and try the new version.

I just did. This is how I proceeded:

Uninstalled previous version; Installed 8_2. Set Path to "world of Warships\res"; Set mode to World of Warships.

Opened ASB001_Michigan_1916_Bow.primitives. It shows poly/vertex count. Shows the textures and shows each unique part along with faces. I can even click Hide/unhide. But I can´t see any model. It's empty. It only happens with World of Warships, as with world of tanks it works fine.

Here is the log:

```
 ======== Model Load Start =========
Entry get_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\ship\battleship\textures\ASB001_Michigan_1916_a.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\usa\ship\battleship\textures\ASB001_Michigan_1916_a.dds
Entry get_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\ship\battleship\textures\ASB001_Michigan_1916_ao.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\usa\ship\battleship\textures\ASB001_Michigan_1916_ao.dds
Entry get_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\ship\battleship\textures\ASB001_Michigan_1916_mg.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\usa\ship\battleship\textures\ASB001_Michigan_1916_mg.dds
Entry get_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\ship\battleship\textures\ASB001_Michigan_1916_n.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\usa\ship\battleship\textures\ASB001_Michigan_1916_n.dds
loaded Model:ID:1:D:\Jogos\World of Warships\res\content\gameplay\usa\ship\battleship\ASB001_Michigan_1916\ASB001_Michigan_1916_Bow.visual
Entry get_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\ship\battleship\textures\ASB001_Michigan_1916_a.dds
Entry get_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\ship\battleship\textures\ASB001_Michigan_1916_ao.dds
Entry get_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\ship\battleship\textures\ASB001_Michigan_1916_mg.dds
Entry get_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\ship\battleship\textures\ASB001_Michigan_1916_n.dds
loaded Model:ID:2:D:\Jogos\World of Warships\res\content\gameplay\usa\ship\battleship\ASB001_Michigan_1916\ASB001_Michigan_1916_Bow.visual
Entry get_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\ship\battleship\textures\ASB001_Michigan_1916_a.dds
Entry get_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\ship\battleship\textures\ASB001_Michigan_1916_ao.dds
Entry get_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\ship\battleship\textures\ASB001_Michigan_1916_mg.dds
Entry get_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\ship\battleship\textures\ASB001_Michigan_1916_n.dds
loaded Model:ID:3:D:\Jogos\World of Warships\res\content\gameplay\usa\ship\battleship\ASB001_Michigan_1916\ASB001_Michigan_1916_Bow.visual
Entry get_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\C002_Razlom_a.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\C002_Razlom_a.dds
Entry get_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Entry get_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\C002_Razlom_mg.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\C002_Razlom_mg.dds
Entry get_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\C002_Razlom_n.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\C002_Razlom_n.dds
loaded Model:ID:4:D:\Jogos\World of Warships\res\content\gameplay\usa\ship\battleship\ASB001_Michigan_1916\ASB001_Michigan_1916_Bow.visual
 ======== Chidren Model(s) Load Start =========
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM219_Bollard_a.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM219_Bollard_a.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM219_Bollard_a.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM219_Bollard_mg.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM219_Bollard_mg.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM219_Bollard_mg.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_n.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_n.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_n.dds
loaded Child Model:Id:1:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\AM219\AM219.visual
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM219_Bollard_a.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM219_Bollard_a.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM219_Bollard_mg.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM219_Bollard_mg.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_n.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_n.dds
loaded Child Model:Id:2:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\AM219\AM219.visual
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM219_Bollard_a.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM219_Bollard_a.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM219_Bollard_mg.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM219_Bollard_mg.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_n.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_n.dds
loaded Child Model:Id:3:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\AM219\AM219.visual
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM219_Bollard_a.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM219_Bollard_a.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM219_Bollard_mg.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM219_Bollard_mg.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_n.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_n.dds
loaded Child Model:Id:4:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\AM219\AM219.visual
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM215_Hatch_a.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM215_Hatch_a.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM215_Hatch_a.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM215_Hatch_mg.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM215_Hatch_mg.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM215_Hatch_mg.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM215_Hatch_n.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM215_Hatch_n.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM215_Hatch_n.dds
loaded Child Model:Id:5:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\AM216\AM216.visual
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM215_Hatch_a.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM215_Hatch_a.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM215_Hatch_mg.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM215_Hatch_mg.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM215_Hatch_n.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM215_Hatch_n.dds
loaded Child Model:Id:6:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\AM218\AM218.visual
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM215_Hatch_a.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM215_Hatch_a.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM215_Hatch_mg.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM215_Hatch_mg.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM215_Hatch_n.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM215_Hatch_n.dds
loaded Child Model:Id:7:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\AM218\AM218.visual
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM219_Bollard_a.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM219_Bollard_a.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM219_Bollard_mg.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM219_Bollard_mg.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_n.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_n.dds
loaded Child Model:Id:8:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\AM219\AM219.visual
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM205_Crane_a.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM205_Crane_a.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM205_Crane_a.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM205_Crane_mg.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM205_Crane_mg.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM205_Crane_mg.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM205_Crane_n.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM205_Crane_n.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM205_Crane_n.dds
loaded Child Model:Id:9:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\AM207\AM207.visual
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM253_Ventilation_a.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM253_Ventilation_a.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM253_Ventilation_a.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM253_Ventilation_mg.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM253_Ventilation_mg.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM253_Ventilation_mg.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM253_Ventilation_n.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM253_Ventilation_n.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM253_Ventilation_n.dds
loaded Child Model:Id:10:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\AM289\AM289.visual
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\misc\textures\CM004_Barbette_Out_a.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\misc\textures\CM004_Barbette_Out_a.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\common\misc\textures\CM004_Barbette_Out_a.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\misc\textures\CM004_Barbette_Out_mg.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\misc\textures\CM004_Barbette_Out_mg.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\common\misc\textures\CM004_Barbette_Out_mg.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_n.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_n.dds
loaded Child Model:Id:11:D:\Jogos\World of Warships\res\content\gameplay\common\misc\CM004\CM004.visual
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM350_Filling_connection_a.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM350_Filling_connection_a.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM350_Filling_connection_a.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM350_Filling_connection_mg.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM350_Filling_connection_mg.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM350_Filling_connection_mg.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_n.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_n.dds
loaded Child Model:Id:12:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\AM347\AM347.visual
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM350_Filling_connection_a.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM350_Filling_connection_a.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM350_Filling_connection_mg.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM350_Filling_connection_mg.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_n.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_n.dds
loaded Child Model:Id:13:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\AM347\AM347.visual
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM350_Filling_connection_a.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM350_Filling_connection_a.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM350_Filling_connection_mg.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM350_Filling_connection_mg.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_n.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_n.dds
loaded Child Model:Id:14:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\AM347\AM347.visual
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM350_Filling_connection_a.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM350_Filling_connection_a.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM350_Filling_connection_mg.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM350_Filling_connection_mg.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_n.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_n.dds
loaded Child Model:Id:15:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\AM347\AM347.visual
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\misc\textures\CM010_Fire_Hose_Reel_a.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\misc\textures\CM010_Fire_Hose_Reel_a.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\common\misc\textures\CM010_Fire_Hose_Reel_a.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\misc\textures\CM010_Fire_Hose_Reel_mg.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\misc\textures\CM010_Fire_Hose_Reel_mg.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\common\misc\textures\CM010_Fire_Hose_Reel_mg.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\misc\textures\CM010_Fire_Hose_Reel_n.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\misc\textures\CM010_Fire_Hose_Reel_n.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\common\misc\textures\CM010_Fire_Hose_Reel_n.dds
loaded Child Model:Id:16:D:\Jogos\World of Warships\res\content\gameplay\common\misc\CM011\CM011.visual
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\misc\textures\CM010_Fire_Hose_Reel_a.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\misc\textures\CM010_Fire_Hose_Reel_a.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\misc\textures\CM010_Fire_Hose_Reel_mg.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\misc\textures\CM010_Fire_Hose_Reel_mg.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\misc\textures\CM010_Fire_Hose_Reel_n.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\misc\textures\CM010_Fire_Hose_Reel_n.dds
loaded Child Model:Id:17:D:\Jogos\World of Warships\res\content\gameplay\common\misc\CM011\CM011.visual
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\misc\textures\CM080_Anchor_a.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\misc\textures\CM080_Anchor_a.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\common\misc\textures\CM080_Anchor_a.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\misc\textures\CM080_Anchor_mg.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\misc\textures\CM080_Anchor_mg.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\common\misc\textures\CM080_Anchor_mg.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\misc\textures\CM080_Anchor_n.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\misc\textures\CM080_Anchor_n.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\common\misc\textures\CM080_Anchor_n.dds
loaded Child Model:Id:18:D:\Jogos\World of Warships\res\content\gameplay\common\misc\CM080\CM080.visual
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM515_Hatch_a.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM515_Hatch_a.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM515_Hatch_a.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM310_Hatch_mg.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM310_Hatch_mg.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM310_Hatch_mg.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM310_Hatch_n.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM310_Hatch_n.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM310_Hatch_n.dds
loaded Child Model:Id:19:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\AM517\AM517.visual
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM515_Hatch_a.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM515_Hatch_a.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM310_Hatch_mg.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM310_Hatch_mg.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM310_Hatch_n.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM310_Hatch_n.dds
loaded Child Model:Id:20:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\AM517\AM517.visual
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM515_Hatch_a.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM515_Hatch_a.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM310_Hatch_mg.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM310_Hatch_mg.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM310_Hatch_n.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM310_Hatch_n.dds
loaded Child Model:Id:21:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\AM517\AM517.visual
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM515_Hatch_a.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM515_Hatch_a.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM310_Hatch_mg.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM310_Hatch_mg.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM310_Hatch_n.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM310_Hatch_n.dds
loaded Child Model:Id:22:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\AM517\AM517.visual
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM003_Fairlead_1_a.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM003_Fairlead_1_a.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM003_Fairlead_1_a.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM003_Fairlead_1_mg.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM003_Fairlead_1_mg.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM003_Fairlead_1_mg.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_n.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_n.dds
loaded Child Model:Id:23:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\AM003\AM003.visual
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM003_Fairlead_1_a.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM003_Fairlead_1_a.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM003_Fairlead_1_mg.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM003_Fairlead_1_mg.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_n.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_n.dds
loaded Child Model:Id:24:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\AM003\AM003.visual
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM563_Hatch_a.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM563_Hatch_a.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM563_Hatch_a.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\common\textures\default_ao.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM563_Hatch_mg.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM563_Hatch_mg.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM563_Hatch_mg.dds
Entry get_kid_image_and_Bmp:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM563_Hatch_n.dds
Checking child Cache for already loaded texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM563_Hatch_n.dds
loaded Texture:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\textures\AM563_Hatch_n.dds
loaded Child Model:Id:25:D:\Jogos\World of Warships\res\content\gameplay\usa\misc\AM563\AM563.visual
 ======== Children Load Complete =========
 ======== Model Load Complete =========
```
## Post #197
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-17T21:56:13+00:00
- Post Title: Re: World of Warships

Try this...
under the graphic settings,
uncheck show diffuse and show diffuse2 and see if you can see anything.
If so, the shaders probably did not compile.

What Video card are you using? Brand, mem.. ect.
## Post #198
- Username: sPlizi
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Mon Aug 17, 2015 11:49 pm
- Post datetime: 2015-08-17T22:19:24+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Try this...
under the graphic settings,
uncheck show diffuse and show diffuse2 and see if you can see anything.
If so, the shaders probably did not compile.

What Video card are you using? Brand, mem.. ect.

No, still doesn't work.

NVidia GTX 970 (4gb)/ Win7 64
## Post #199
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-17T22:33:24+00:00
- Post Title: Re: World of Warships

> Reply from sPlizi
>
> Coffee wrote:Try this...
under the graphic settings,
uncheck show diffuse and show diffuse2 and see if you can see anything.
If so, the shaders probably did not compile.

What Video card are you using? Brand, mem.. ect.

No, still doesn't work.

NVidia GTX 970 (4gb)/ Win7 64
I run win7 64 too and I have a nVidia GTX 660 Ti.
This is very strange..
Works with Tanks but not WoWs.. hmmm
Im lost as to how this could even happen.
Press W (wire frame) this uses NO shaders at all.
Also, try clicking around in the screen with the middle mouse.. this selects polys (If you hit one it will tell you in the bottom of the window.
## Post #200
- Username: sPlizi
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Mon Aug 17, 2015 11:49 pm
- Post datetime: 2015-08-17T23:21:38+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> 
I run win7 64 too and I have a nVidia GTX 660 Ti.
This is very strange..
Works with Tanks but not WoWs.. hmmm
Im lost as to how this could even happen.
Press W (wire frame) this uses NO shaders at all.
Also, try clicking around in the screen with the middle mouse.. this selects polys (If you hit one it will tell you in the bottom of the window.
EDIT: One more thing..
On upper right, there should be a list with the names of the objects loaded. Some should be sorta blue and some gray.. If they are all gray, they are hid.. DBL click on one of them to un-hide it'

Yeah I've tried unhiding, but still doesn't work. :/ I really don't know.

EDIT: I tried to load a simple model like a torpedo, and once again nothing appeared. However, while clicking around as suggested I got a selection of "primitive: 0" and "ID:20". However, theres only ID:1 in the list on the side.
## Post #201
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-17T23:57:30+00:00
- Post Title: Re: World of Warships

> Reply from sPlizi
>
> Coffee wrote:
I run win7 64 too and I have a nVidia GTX 660 Ti.
This is very strange..
Works with Tanks but not WoWs.. hmmm
Im lost as to how this could even happen.
Press W (wire frame) this uses NO shaders at all.
Also, try clicking around in the screen with the middle mouse.. this selects polys (If you hit one it will tell you in the bottom of the window.
EDIT: One more thing..
On upper right, there should be a list with the names of the objects loaded. Some should be sorta blue and some gray.. If they are all gray, they are hid.. DBL click on one of them to un-hide it'

Yeah I've tried unhiding, but still doesn't work. :/ I really don't know.

EDIT: I tried to load a simple model like a torpedo, and once again nothing appeared. However, while clicking around as suggested I got a selection of "primitive: 0" and "ID:20". However, theres only ID:1 in the list on the side.

The id in this case is the poly id.. or the 20th polygon in the model.
This is even more bazaar as it has to draw to be selected. EDIT. The frame buffer is not swapped for selection.
Im uploading version 29.8.3
It stops the rendering to the shadow map when its not set for shadows. This wasnt an issue with 10k polys but 400k , its slowing things down.. try that version and see if it helps.
## Post #202
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-18T00:05:10+00:00
- Post Title: Re: World of Warships

Andrakann,
I updated to 29.8.3
This will speed up the render and.. I was rendering the shadow map regardless of the setting for shadows.
I added a menu item under file. It will open Windows Explore and point it at the WoWs_Scripts folder. It might help you navigate a little easier.
## Post #203
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-18T07:08:03+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> I added a menu item under file. It will open Windows Explore and point it at the WoWs_Scripts folder. It might help you navigate a little easier.
Thanks 

I found some really strange here - JSC038_Atago_1944 have JSC038_Atago_1944_MidBack_ports.primitives part (_ports.primitives, Carl!).
Can't open it in editor, because it's crashed with "System.NullReferenceException" error, but 3D Object Converter can open it:
[](http://fastpic.ru/view/71/2015/0818/c10ebec22dfc9250e3632b8660827078.png.html)
I'll try to make this ship and check for holes after that.

Upd.: Atago done.
[](http://fastpic.ru/view/72/2015/0818/12f38f6a087a33070e8160c86e9b3f15.png.html) [](http://fastpic.ru/view/70/2015/0818/487031e96aa2efa0dfa6f5fbe05b5796.jpg.html)

No torpedos in launchers (japan\projectile\torpedo\JPT002_Sea_Torpedo_Type90\JPT002_Sea_Torpedo_Type90.model).
No plane on catapult (japan\aircraft\fighter\JAF017_Mitsubishi_A6M2_N\JAF017_Mitsubishi_A6M2_N.model).
No camo.

No any holes here for JSC038_Atago_1944_MidBack_ports.primitives, so it's loads automatically or just garbage leaved by devs:
[](http://fastpic.ru/view/72/2015/0818/3e60bf87ba174bed01426f054cb137be.png.html)

Again some visible yellow dummies on bow and stern here.
[JSC038_Atago_1944_XML+log.zip](https://xentaxbackup.github.io/file/9553_JSC038_Atago_1944_XML+log.zip)
## Post #204
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-18T09:29:07+00:00
- Post Title: Re: World of Warships

Gearing done.
[](http://fastpic.ru/view/65/2015/0818/cab9a87c3d59450007c16e91f15ce772.png.html) [](http://fastpic.ru/view/72/2015/0818/d1d1b4c90df94ffbb122ca25c1426339.jpg.html)

No torpedos in launchers (usa\projectile\torpedo\APT001_Torpedo_533mm_Mk_15\APT001_Torpedo_533mm_Mk_15.model).
[ASD013_Gearing_1945_XML+log.zip](https://xentaxbackup.github.io/file/9555_ASD013_Gearing_1945_XML+log.zip)
## Post #205
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-18T11:47:34+00:00
- Post Title: Re: World of Warships

Warspite done.
[](http://fastpic.ru/view/70/2015/0818/7fdcae21a9df39d9f53de40552ac18a3.png.html) [](http://fastpic.ru/view/70/2015/0818/46cfe54a0bd3344372566624505e3401.jpg.html)

No plane on catapult (uk\aircraft\scout\BAS001_Walrus\BAS001_Walrus.model).

I didn't have this ship in game, but this ship is alone in UK folder, so I make it by googling screenshots.
[BSB002_Warspite_1941_XML+paths.zip](https://xentaxbackup.github.io/file/9557_BSB002_Warspite_1941_XML+paths.zip)
## Post #206
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-18T13:13:49+00:00
- Post Title: Re: World of Warships

Arkansas fix.
Wrong type of some secondary guns placed 
[ASB013_Arkansas_1912_XML_fixed.zip](https://xentaxbackup.github.io/file/9558_ASB013_Arkansas_1912_XML_fixed.zip)
## Post #207
- Username: sPlizi
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Mon Aug 17, 2015 11:49 pm
- Post datetime: 2015-08-18T13:30:51+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> 
The id in this case is the poly id.. or the 20th polygon in the model.
This is even more bazaar as it has to draw to be selected. EDIT. The frame buffer is not swapped for selection.
Im uploading version 29.8.3
It stops the rendering to the shadow map when its not set for shadows. This wasnt an issue with 10k polys but 400k , its slowing things down.. try that version and see if it helps.

Well, thanks but still no luck. Same problem. It seems that it is loading all the stuff, but it shows no mesh. No errors, nothing. I wish I could provide more info, but I really don't know.
I'll keep an eye on this thread.

Good Luck.
## Post #208
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-18T14:07:50+00:00
- Post Title: Re: World of Warships

ASB027_Iowa_1943 done.
[](http://fastpic.ru/view/72/2015/0818/94015c8aaeb97c1e49441b66bd0d11a8.png.html) [](http://fastpic.ru/view/67/2015/0818/7956f584e4e36ac5f95af59206ca649d.jpg.html)

No plane on catapult (usa\aircraft\scout\AAS001_Vought_OS2U\AAS001_Vought_OS2U.model).

ASB018_Iowa_1944 and ASB028_Iowa_1945 - it's a hull upgrades in game for this ship, also directors upgradeable, so we need to unlock this ship in game and upgrade it to have correct loading log, or modify ship tree menu adding another ships to preview (not sure it's possible or not).
[ASB027_Iowa_1943_XML+log.zip](https://xentaxbackup.github.io/file/9560_ASB027_Iowa_1943_XML+log.zip)
## Post #209
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-18T15:06:45+00:00
- Post Title: Re: World of Warships

ASB037_North_Carolina_1942 done.
[](http://fastpic.ru/view/72/2015/0818/72cdbbb72181f413edcbe5495b22a116.png.html) [](http://fastpic.ru/view/67/2015/0818/8896e7f56d3e4b91307c85e5f4dda35d.jpg.html)

No plane on catapult (usa\aircraft\scout\AAS012_Vought_OS2U_2\AAS012_Vought_OS2U_2.model).

This ship also have upgraded version - ASB012_North_Carolina_1945.
[ASB037_North_Carolina_1942_XML+log.zip](https://xentaxbackup.github.io/file/9561_ASB037_North_Carolina_1942_XML+log.zip)
## Post #210
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-18T19:53:45+00:00
- Post Title: Re: World of Warships

Again Andrakann..
Nice job.

I dont have a lot of time to work on this after work so I try to do simple things I can get done.

Im going to hunt down why the yellow dummy is showing up still.. I noticed that last night but it was too late to even post here.

sPlizi....
I need to know what version your nVidia driver is. I'll look and see if there have been in issues with OpenGL and that drive.
## Post #211
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-19T05:58:50+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Again Andrakann..
Nice job.
Thanks 

> Reply from Andrakann
>
> or modify ship tree menu adding another ships to preview (not sure it's possible or not).
Now I know, it's possible by half 
I do some modding to gui\lobby\shipstree.xml (copied to mods folder of course):
[](http://fastpic.ru/view/69/2015/0819/fcf6f1cb4c9e6b217b606142b2a6c9fe.jpg.html) [](http://fastpic.ru/view/69/2015/0819/2d5616f0ea4858c45505552775cba00d.jpg.html) [](http://fastpic.ru/view/69/2015/0819/b9d3faf6551793423e39c4958cfbff53.jpg.html)
Some of "unlocked" ships (those ones in "premium" columns for USA and Japan) is already be present in shipstree.xml, but "locked" with wrong coordinates, pointing outside of screen. Other IDs I get by more complex way and some luck 

Because I want IDs for upgraded ships and German ones, I start googling known IDs and found [THIS](http://pastebin.com/zKB6U0BC) and [this](http://pastebin.com/7ff84prG).
Second of those JSONs it's shorter version of first, which is looking very likely that long awaited "master.xml", but not so useful, because all upgrades presents as IDs here.
No any IDs for german ships here, but I got IDs for some rare ships and put them into russian tree - preview works, so I can get loading logs 
[World of Warships lobby previews mod.zip](https://xentaxbackup.github.io/file/9562_World of Warships lobby previews mod.zip)
## Post #212
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-19T07:50:34+00:00
- Post Title: Re: World of Warships

ASA025_Essex_1943 done.
[](http://fastpic.ru/view/69/2015/0819/9fa3baca3b58ab689c05d5e64d58f831.png.html) [](http://fastpic.ru/view/72/2015/0819/41f3a1988ec07ebd8d70a44d86ceba9f.jpg.html)
This ship have hull upgrade ASA013_Essex_1945.


Coffee you already make very useful option "Center on Selected Poly", but can you expand it's functionality also to childs and dummies, so camera must automatically centers on them after I middle click them or double click in Child List (if this option enabled)? Sometimes I waste a lot of time, trying to find those red dummie, hidden on another floor or even in mesh...
[ASA025_Essex_1943_XML+log.zip](https://xentaxbackup.github.io/file/9563_ASA025_Essex_1943_XML+log.zip)
## Post #213
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-19T08:37:47+00:00
- Post Title: Re: World of Warships

ASC044_Marblehead_1924 done.
[](http://fastpic.ru/view/66/2015/0819/68c65491a0e776c964d70d34014f2803.png.html) [](http://fastpic.ru/view/72/2015/0819/11aa247b5423e242ec4171284756b3df.jpg.html) [](http://fastpic.ru/view/72/2015/0819/49dda3ed344f66fb02a8bd1cf830814d.jpg.html)

No torpedos in launchers (usa\projectile\torpedo\APT011_Sea_Torpedo_Mk_11\APT011_Sea_Torpedo_Mk_11.model).
No plane on catapult (usa\aircraft\fighter\AAF021_F4B_float\AAF021_F4B_float.model).
No camo.

No any difference between "Marblehead" and "Marblehead Lima" found, only camo textures differs.
[ASC044_Marblehead_1924_XML+log.zip](https://xentaxbackup.github.io/file/9564_ASC044_Marblehead_1924_XML+log.zip)
## Post #214
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-19T10:22:08+00:00
- Post Title: Re: World of Warships

RSC002_Diana_1905 done.
[](http://fastpic.ru/view/67/2015/0819/584c88eeafd007bf75fed7d2da5961ed.png.html) [](http://fastpic.ru/view/66/2015/0819/cb65183b397f8bc6bf77151b24510d73.jpg.html) [](http://fastpic.ru/view/66/2015/0819/16811a4dcbecdbd03e2433d419b0fe00.jpg.html)
Again no difference between normal and Lima versions, except camo textures.


Strange bug here, pair of guns flattened:
[](http://fastpic.ru/view/70/2015/0819/915d92a1c28f463a89a38d330c0cb575.png.html)
Problems with transformation by one axis?
[RSC002_Diana_1905_XML+log.zip](https://xentaxbackup.github.io/file/9566_RSC002_Diana_1905_XML+log.zip)
## Post #215
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-19T10:43:18+00:00
- Post Title: Re: World of Warships

JSD001_Tachibana_1912 done.
[](http://fastpic.ru/view/66/2015/0819/12d01ceda53fc8fe446e1feb967c675f.png.html) [](http://fastpic.ru/view/67/2015/0819/ca747404dfd09a5697c25c0da5c78b0d.jpg.html) [](http://fastpic.ru/view/67/2015/0819/7d34997d648116dfb2e04dd6386089dd.jpg.html)

No torpedos in launchers (japan\projectile\torpedo\JPT006_Sea_Torpedo_450mm_Type44_m2\JPT006_Sea_Torpedo_450mm_Type44_m2.model).
[JSD001_Tachibana_1912_XML+log.zip](https://xentaxbackup.github.io/file/9567_JSD001_Tachibana_1912_XML+log.zip)
## Post #216
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-19T11:19:09+00:00
- Post Title: Re: World of Warships

JSB011_Mikasa_1905 done.
[](http://fastpic.ru/view/68/2015/0819/1891e42d89d903da455fc715e09d27fa.png.html) [](http://fastpic.ru/view/71/2015/0819/9a8cbecf54a775b6de87dd3e96fa3f00.jpg.html)

No camo?
[JSB011_Mikasa_1905_XML+log.zip](https://xentaxbackup.github.io/file/9568_JSB011_Mikasa_1905_XML+log.zip)
## Post #217
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-19T11:41:41+00:00
- Post Title: Re: World of Warships

RSD001_Gremyashchy_1942 done.
[](http://fastpic.ru/view/72/2015/0819/17d23962e05df6b6b038c12adbbe8c5a.png.html) [](http://fastpic.ru/view/67/2015/0819/261d6d180285a8f610cdb0bdf1db083b.jpg.html)

No torpedos in launcher (usa\projectile\torpedo\APT001_Torpedo_533mm_Mk_15\APT001_Torpedo_533mm_Mk_15.model).
[RSD001_Gremyashchy_1942_XML+log.zip](https://xentaxbackup.github.io/file/9569_RSD001_Gremyashchy_1942_XML+log.zip)
## Post #218
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-19T12:09:51+00:00
- Post Title: Re: World of Warships

> Coffee you already make very useful option "Center on Selected Poly", but can you expand it's functionality also to childs and dummies, so camera must automatically centers on them after I middle click them or double click in Child List (if this option enabled)? Sometimes I waste a lot of time, trying to find those red dummie, hidden on another floor or even in mesh...

Yes.. I will do that.
Ill download and add these new XMLs to the programs.
## Post #219
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-19T12:12:43+00:00
- Post Title: Re: World of Warships

ASD029_Sims_1941 done.
[](http://fastpic.ru/view/65/2015/0819/beb499ff883b73519df73789b68dd949.png.html) [](http://fastpic.ru/view/69/2015/0819/8f3d9927290759ef3cae38e720a87502.jpg.html)

No torpedos in launchers (usa\projectile\torpedo\APT001_Torpedo_533mm_Mk_15\APT001_Torpedo_533mm_Mk_15.model).
[ASD029_Sims_1941_XML+log.zip](https://xentaxbackup.github.io/file/9570_ASD029_Sims_1941_XML+log.zip)
## Post #220
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-19T12:23:26+00:00
- Post Title: Re: World of Warships

Got really strange bug here:
1. Load all parts of complete model (RSD001_Gremyashchy_1942), make screenshot by PrtSc.
2. Close editor (!).
3. Put "empty" XML for next model (ASD029_Sims_1941) in editor XML folder, load editor.
4. Load some parts for next model one by one to make screens.
5. Load bow, then load MidFront, then MidBack - ta-da!:
[](http://fastpic.ru/view/65/2015/0819/bd95728a48b8a2c93c3f71aa8486d8b3.png.html)
Flag from previous ship in place! No anything in XML for this node. And lots of flag textures in childs window.

Earlier this morning I have similar bug with director in place (wrong type for current, "empty" XML), but i think it's because I forgot to restart editor.
But now I 100% sure I restarted it.
Logs attached.
[bug_ghost_childs.zip](https://xentaxbackup.github.io/file/9571_bug_ghost_childs.zip)
## Post #221
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-19T12:53:45+00:00
- Post Title: Re: World of Warships

ASC003_Albany_1898 done.
[](http://fastpic.ru/view/69/2015/0819/bf6bf6381f97946b0fc0a2c0c4a35717.png.html) [](http://fastpic.ru/view/71/2015/0819/343da7f8c345e56e35f5bd124b19f242.jpg.html)


Have bug here, some of guns distorted:
[](http://fastpic.ru/view/65/2015/0819/3f499bc8ee38430e3a8c6da7e0ec1edd.png.html)
[ASC003_Albany_1898_XML+log.zip](https://xentaxbackup.github.io/file/9572_ASC003_Albany_1898_XML+log.zip)
## Post #222
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-19T13:02:06+00:00
- Post Title: Re: World of Warships

I'm looking at this right now.
I think I found it but it needs tested.
I'm also looking for whats causing the extra yellow dummies to show up.

I added the code so dbl clicking in the child list centers the camera on it.
## Post #223
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-19T15:51:22+00:00
- Post Title: Re: World of Warships

Just uploaded 29.8.4
Try this and see if it clears everything when you load something (not add something).

Also, I added the center on dbl click and a tree view to the child list.
Im still working in the tree view.
I think i fixed the issue with the extra yellow dummies. I was not resizing the array of objects correctly.

Oh.. and I added all the XMLs you did over night.
EDIT: I didn't add Albany .. It will be in next update.
## Post #224
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-19T16:57:15+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Just uploaded 29.8.4
Try this and see if it clears everything when you load something (not add something).
No bugs so far.
Upd.:
Whoops, same bug...
[](http://fastpic.ru/view/71/2015/0819/e82741e590e329cb9732c41b663ca46c.png.html)
And if I close Childs List by [X] - next time it opens only from second click, first click have no effect.

> Also, I added the center on dbl click and a tree view to the child list.
Cool, really useful! 

> Im still working in the tree view.
Plane propellers on desk of carrier have name of mount point, other parts didn't have names at all.
And making one part as "folder" for group it's not really good I think...

> EDIT: I didn't add Albany .. It will be in next update.
You also forgot Marblehead...

Do you have plans to add some code from XML tool to editor? Like recognition of paths to all misc parts by mount point name?
Lots of ships in World of Warships\res\content\location\ship have shildren parts and didn't load them
## Post #225
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-19T17:31:05+00:00
- Post Title: Re: World of Warships

JSC026_Iwaki_1944 done.
[](http://fastpic.ru/view/66/2015/0819/a9805f743ceb52cc00347b3cc51efdef.png.html) [](http://fastpic.ru/view/71/2015/0819/4d5e1c45743b802719784bda266afc21.jpg.html)

No torpedos in launchers (japan\projectile\torpedo\JPT010_Sea_Torpedo_610mm_Type8\JPT010_Sea_Torpedo_610mm_Type8.model).
[JSC026_Iwaki_1944_XML+log.zip](https://xentaxbackup.github.io/file/9573_JSC026_Iwaki_1944_XML+log.zip)
## Post #226
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-19T17:39:04+00:00
- Post Title: Re: World of Warships

Im still trying to fix the main gun transform on the Albany.. 
Ill fix the other stuff after.
## Post #227
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-19T18:01:31+00:00
- Post Title: Re: World of Warships

JSC004_Yubari_1944 done.
[](http://fastpic.ru/view/69/2015/0819/137e14eb7b44ee66a3685ad0553cac66.png.html) [](http://fastpic.ru/view/68/2015/0819/291f1975c3fc99cb22c42eb7015d1bd2.jpg.html)

No torpedos in launchers (japan\projectile\torpedo\JPT010_Sea_Torpedo_610mm_Type8\JPT010_Sea_Torpedo_610mm_Type8.model).
[JSC004_Yubari_1944_XML+log.zip](https://xentaxbackup.github.io/file/9574_JSC004_Yubari_1944_XML+log.zip)
## Post #228
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-19T18:04:38+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Im still trying to fix the main gun transform on the Albany..
Don't forget to check [flattened Diana guns](http://forum.xentax.com/viewtopic.php?p=108808#p108808).
## Post #229
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-19T18:35:49+00:00
- Post Title: Re: World of Warships

I'm home today.. Had some serious cramping in my right leg last night and it's very sore. I'm getting old and this crap sucks!

I think I have the issue with the main gun solved. I noticed some secondary guns are flipped on Z on the Albany.
## Post #230
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-19T18:51:44+00:00
- Post Title: Re: World of Warships

JSB008_Ishizuchi_1921 done.
[](http://fastpic.ru/view/72/2015/0819/baa4d599c8721e40e26923a281f86da7.png.html) [](http://fastpic.ru/view/65/2015/0819/f4bf2b25d8952f489b96959e04568799.jpg.html)
[JSB008_Ishizuchi_1921_XML+log.zip](https://xentaxbackup.github.io/file/9575_JSB008_Ishizuchi_1921_XML+log.zip)
## Post #231
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-19T18:53:27+00:00
- Post Title: Re: World of Warships

I have the main gun fixed on Diana.

I need that zoom and color mod you have.
I cant get close enough to tell of the midback secondary is flipped or not. I got it pointing the right way but I think its flipped on Z or X.
## Post #232
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-19T19:01:32+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> I'm home today.. Had some serious cramping in my right leg last night and it's very sore. I'm getting old and this crap sucks!
Sad to hear it - get well soon!

> I think I have the issue with the main gun solved. I noticed some secondary guns are flipped on Z on the Albany.
Lots of guns, finders, radars, directors flipped by front/back - those always opened from back side in editor.
I think it's same bug everywhere, maybe you missed to clean some old rotate/invert code, after start using matrix as Wobble suggest?

> Reply from Coffee
>
> I need that zoom and color mod you have.
I cant get close enough to tell of the midback secondary is flipped or not. I got it pointing the right way but I think its flipped on Z or X.
Uploaded all my mods here: [https://yadi.sk/d/f9rjpIV7iYVL6](https://yadi.sk/d/f9rjpIV7iYVL6)
Better zoom, Ice Dock (better ligthing), no black and white on locked ships, rare ships in research tree.

Upd.:
It's really easy to find inverted guns - if gun loads like this:
[](http://fastpic.ru/view/71/2015/0819/a99e199c429face96ca2c79a53587f60.png.html)
It's inverted - check in game:
[](http://fastpic.ru/view/70/2015/0819/db78fb2695331003e5471f8f596347d5.jpg.html)
Confirmed.
Also in game same guns loaded with different setup, closer one have extra shield on top, but far one not have it.
Can't wait you support this stuff, it's same things as torpedos in launchers and planes on catapult.
## Post #233
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-19T19:33:24+00:00
- Post Title: Re: World of Warships

Thanks for the mods.. Now I can see the damn guns better.

Im working on it.. It will take some time to sort it all out.
## Post #234
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-19T20:33:23+00:00
- Post Title: Re: World of Warships

OK.. Uploaded 29.8.5
This should fix the main and secondary guns on all the ships.. I did NOT test this on all of them but its working on the ones I did.
I think I have all the XML in there that you have done.
Please check
## Post #235
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-19T21:32:12+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> I think I have all the XML in there that you have done.
Please check
Skipped fresh two JSC004_Yubari_1944 and JSC026_Iwaki_1944.

> This should fix the main and secondary guns on all the ships.. I did NOT test this on all of them but its working on the ones I did.
Yes, ships looks right.
But all gun models, that looks right loaded as childs are inverted if you open them alone, AGS001 I posted before still inverted, and most of AG*.
And models of directors, alone not inverted - inverted on the ships:
[](http://fastpic.ru/view/70/2015/0820/bfcdad958bca3af0143651522e05399a.png.html)
(JD1 is JD074, ship is JSB008)

PS: I'm going to sleep, bye
## Post #236
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-19T21:46:36+00:00
- Post Title: Re: World of Warships

Im not to worried about opening them alone right now..
Once I get all the children to transform right I will go back and figure out why they load wrong when loaded alone.
## Post #237
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-19T22:09:53+00:00
- Post Title: Re: World of Warships

This is a shot from the editor:

and from the game.


The director looks right to me.
I'll look at some other ships as well and their children now that I can actually see them.
## Post #238
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-20T02:20:32+00:00
- Post Title: Re: World of Warships

Well... 29.8.6 is ready to try.

Its not perfect but I did fix the issue with lingering items between loads. It would seem loading a dataset from a file adds to the data.. it does not replace it. (No documentation it behaves this way).
[http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)
## Post #239
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-20T05:30:06+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> The director looks right to me.
Hmm, you right, it's not inverted, just rotated to wrong side by devs 

But it looks the same if loaded alone or as child, so, if you think than fixing inversion for loading alone didn't makes you re-invert childs - I close this question.
## Post #240
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-20T06:39:44+00:00
- Post Title: Re: World of Warships

JSC014_Kitakami_1945 done.
[](http://fastpic.ru/view/71/2015/0820/8d749106b40716ea4db74a22d8b98fe4.png.html) [](http://fastpic.ru/view/65/2015/0820/21ba1f5968aa36bd480c6ec00b83028e.jpg.html)

No torpedos in launchers (japan\projectile\torpedo\JPT002_Sea_Torpedo_Type90\JPT002_Sea_Torpedo_Type90.model).


Lots of inverterted childs here:
[](http://fastpic.ru/view/71/2015/0820/a2e233a7777897602a791e87d10e439b.png.html) [](http://fastpic.ru/view/71/2015/0820/ce82bf8ae4cc9acfd6c70b04c286fae0.png.html) [](http://fastpic.ru/view/71/2015/0820/e591d77278bdea30e1b53dbbe64dce7e.png.html) [](http://fastpic.ru/view/71/2015/0820/b88323267c786e5bf2dc8c78267879bd.png.html)
[JSC014_Kitakami_1945_XML+log.zip](https://xentaxbackup.github.io/file/9579_JSC014_Kitakami_1945_XML+log.zip)
## Post #241
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-20T08:09:46+00:00
- Post Title: Re: World of Warships

JSA017_Hakuryu_1942 done.
[](http://fastpic.ru/view/70/2015/0820/dfcc401738899b76efff54f6683f20d2.png.html) [](http://fastpic.ru/view/65/2015/0820/1218c4a3badcb2203c2d503d8c857186.jpg.html)


Inverted radars:
[](http://fastpic.ru/view/70/2015/0820/4bfedb46d84935ab953b5d6c0efa2230.png.html)

Secondary guns misplaced by some offset:
[](http://fastpic.ru/view/70/2015/0820/5241f4887d6d192954d526b632e78e3c.png.html)
[JSA017_Hakuryu_1942_XML+log.zip](https://xentaxbackup.github.io/file/9580_JSA017_Hakuryu_1942_XML+log.zip)
## Post #242
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-20T09:12:36+00:00
- Post Title: Re: World of Warships

JSC034_Zao_1944 done.
[](http://fastpic.ru/view/72/2015/0820/037e32d0247784d727cd907022b1a2f0.png.html) [](http://fastpic.ru/view/69/2015/0820/afb23f286e447d6a1934a2a48584b581.jpg.html)

No plane on catapult (japan\aircraft\fighter\JAF002_Kawanishi_N1K1\JAF002_Kawanishi_N1K1.model).
No torpedos in launchers (japan\projectile\torpedo\JPT011_Sea_Torpedo_610mm_TypeF3\JPT011_Sea_Torpedo_610mm_TypeF3.model).


Inverted parts:
[](http://fastpic.ru/view/72/2015/0820/729b1b532127b2ff7cfccb8c385f5168.png.html) [](http://fastpic.ru/view/72/2015/0820/248859f009fa3f24538a10d2975de0c8.png.html)

Bug with child's subnode:
[](http://fastpic.ru/view/72/2015/0820/18f20ab749442b0b4cd8f7d8e524528e.png.html)
[JSC034_Zao_1944_XML+log.zip](https://xentaxbackup.github.io/file/9581_JSC034_Zao_1944_XML+log.zip)
## Post #243
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-20T10:18:15+00:00
- Post Title: Re: World of Warships

JSD012_Shimakaze_1943 done.
[](http://fastpic.ru/view/69/2015/0820/56e3fd7ddcf53e45c5b975f133578db5.png.html) [](http://fastpic.ru/view/66/2015/0820/9e15edbde31e68a6db1d7b7a361d67ca.jpg.html)

No torpedos in launchers (japan\projectile\torpedo\JPT001_Sea_Torpedo_Type93\JPT001_Sea_Torpedo_Type93.model).
[JSD012_Shimakaze_1943_XML+log.zip](https://xentaxbackup.github.io/file/9582_JSD012_Shimakaze_1943_XML+log.zip)
## Post #244
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-20T10:59:43+00:00
- Post Title: Re: World of Warships

JSB021_Izumo_1938 done.
[](http://fastpic.ru/view/70/2015/0820/ee7db68cbcf53bc1e8e3fd1ce178e376.png.html) [](http://fastpic.ru/view/67/2015/0820/1ae80aae239236acf18109e2dc4bae19.jpg.html)

No plane on catapult (japan\aircraft\scout\JAS005_Aichi_E13A1b\JAS005_Aichi_E13A1b.model).


Some inverted childs:
[](http://fastpic.ru/view/70/2015/0820/dd5268ac880b8167fbd2b6defea4d339.png.html)
[JSB021_Izumo_1938_XML+log.zip](https://xentaxbackup.github.io/file/9584_JSB021_Izumo_1938_XML+log.zip)
## Post #245
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-20T11:49:26+00:00
- Post Title: Re: World of Warships

JSB037_Amagi_1926 done.
[](http://fastpic.ru/view/69/2015/0820/5335642a2974e48cf26cba8a6179b887.png.html) [](http://fastpic.ru/view/65/2015/0820/cf5eba7e6b83cd483ff67f9001d6d2cf.jpg.html)

No plane on catapult (japan\aircraft\scout\JAS005_Aichi_E13A1b\JAS005_Aichi_E13A1b.model).


Some childs on wrong side of ship:
[](http://fastpic.ru/view/69/2015/0820/3b3d11a432c31d86741754ffd9729a96.png.html) [](http://fastpic.ru/view/69/2015/0820/d76bf14f664bb3f6f1d64a323e331464.png.html) [](http://fastpic.ru/view/69/2015/0820/ffbc9691ce7587b3b013d3056103deff.png.html)

And inverted ones:
[](http://fastpic.ru/view/69/2015/0820/22a579159a0d3ee21752aae629672d4c.png.html)
[JSB037_Amagi_1926_XML+log.zip](https://xentaxbackup.github.io/file/9587_JSB037_Amagi_1926_XML+log.zip)
## Post #246
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-20T12:29:55+00:00
- Post Title: Re: World of Warships

JSB002_Nagato_1933 done.
[](http://fastpic.ru/view/65/2015/0820/7d6a451329c55d23ca36828556b34bc0.png.html) [](http://fastpic.ru/view/72/2015/0820/ee72029e1cbc75922dfa2a374b240757.jpg.html)

No plane on catapult (japan\aircraft\scout\JAS005_Aichi_E13A1b\JAS005_Aichi_E13A1b.model).
[JSB002_Nagato_1933_XML+log.zip](https://xentaxbackup.github.io/file/9590_JSB002_Nagato_1933_XML+log.zip)
## Post #247
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-20T12:47:52+00:00
- Post Title: Re: World of Warships

JSB020_Fuso_1919 done.
[](http://fastpic.ru/view/67/2015/0820/d5601ff03a00fa80ac4e8871402b41f0.png.html) [](http://fastpic.ru/view/66/2015/0820/f63bbe4efc1fd822d97594ce7d60c759.jpg.html)
[JSB020_Fuso_1919_XML+log.zip](https://xentaxbackup.github.io/file/9591_JSB020_Fuso_1919_XML+log.zip)
## Post #248
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-20T13:03:18+00:00
- Post Title: Re: World of Warships

JSB004_Kongo_1913 done.
[](http://fastpic.ru/view/65/2015/0820/b85b5603c50fe747ff750f209e55241d.png.html) [](http://fastpic.ru/view/70/2015/0820/2e21004ff4a2fa692dab07bb96fe3a22.jpg.html)
[JSB004_Kongo_1913_XML+log.zip](https://xentaxbackup.github.io/file/9593_JSB004_Kongo_1913_XML+log.zip)
## Post #249
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-20T13:19:26+00:00
- Post Title: Re: World of Warships

JSB003_Myogi_1912 done.
[](http://fastpic.ru/view/65/2015/0820/d25a3b9d212408a993e88684020159bf.png.html) [](http://fastpic.ru/view/71/2015/0820/2b88caf6d0c13378ca57107e3d2abb1e.jpg.html)
[JSB003_Myogi_1912_XML+log.zip](https://xentaxbackup.github.io/file/9594_JSB003_Myogi_1912_XML+log.zip)
## Post #250
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-20T13:41:08+00:00
- Post Title: Re: World of Warships

JSB001_Kawachi_1912 done.
[](http://fastpic.ru/view/65/2015/0820/d87158875eb919889567d653056f561a.png.html) [](http://fastpic.ru/view/65/2015/0820/1b67ac25aa10e07b7d47114a1f61f52a.jpg.html)
[JSB001_Kawachi_1912_XML+log.zip](https://xentaxbackup.github.io/file/9595_JSB001_Kawachi_1912_XML+log.zip)
## Post #251
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-20T14:52:53+00:00
- Post Title: Re: World of Warships

JSC012_Ibuki_1944 done.
[](http://fastpic.ru/view/65/2015/0820/ab167f9fd5e08f285c9728eac9f27835.png.html) [](http://fastpic.ru/view/69/2015/0820/91b3b411c061dfae3e8c64f56d328834.jpg.html)

No plane on catapult (japan\aircraft\fighter\JAF002_Kawanishi_N1K1\JAF002_Kawanishi_N1K1.model).
No torpedos in launchers (japan\projectile\torpedo\JPT002_Sea_Torpedo_Type90\JPT002_Sea_Torpedo_Type90.model).


Some childs is inverted:
[](http://fastpic.ru/view/65/2015/0820/83b68131861a1981ac43769fd44ae50e.png.html)
[JSC012_Ibuki_1944_XML+log.zip](https://xentaxbackup.github.io/file/9596_JSC012_Ibuki_1944_XML+log.zip)
## Post #252
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-20T19:46:59+00:00
- Post Title: Re: World of Warships

Hey Andrakann,
Find this line in the camerasConfig.xml file in the res_mods folder
Change this line:       <dockInactivityTimeout> 50 </dockInactivityTimeout>
Change it to 5000. This is how long the camera will sit before moving back to default location. It makes it easier to look at the ship with out it changing.

I have been looking in to these transforms and doing a lot of reading.
I find it very hard to believe the Devs would place things wrong in their default start up positions.
I'm sure they are in the proper position just not transformed correctly. If i find the magic transform,, everything should show up with out having to add any special code for each group of items.
## Post #253
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-08-21T00:49:53+00:00
- Post Title: Re: World of Warships

[out]
## Post #254
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-21T06:21:32+00:00
- Post Title: Re: World of Warships

JSC009_Mogami_1935 done.
[](http://fastpic.ru/view/70/2015/0821/f41fec639fa5b0d2dd7ceb3da5cd7ed1.png.html) [](http://fastpic.ru/view/65/2015/0821/d2914e62ad6e526120e9d3983df60156.jpg.html)

No plane on catapult (japan\aircraft\fighter\JAF017_Mitsubishi_A6M2_N\JAF017_Mitsubishi_A6M2_N.model).
No torpedos in launchers (japan\projectile\torpedo\JPT002_Sea_Torpedo_Type90\JPT002_Sea_Torpedo_Type90.model).
[JSC009_Mogami_1935_XML+log.zip](https://xentaxbackup.github.io/file/9599_JSC009_Mogami_1935_XML+log.zip)
## Post #255
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-21T07:10:06+00:00
- Post Title: Re: World of Warships

JSC032_Myoko_1941 done.
[](http://fastpic.ru/view/67/2015/0821/eb257c041231b6a48f8e5ab193e49679.png.html) [](http://fastpic.ru/view/67/2015/0821/b69228e6b67f32dc018bc031177951ef.jpg.html)

No plane on catapult (japan\aircraft\fighter\JAF017_Mitsubishi_A6M2_N\JAF017_Mitsubishi_A6M2_N.model).
No torpedos in launchers (japan\projectile\torpedo\JPT010_Sea_Torpedo_610mm_Type8\JPT010_Sea_Torpedo_610mm_Type8.model).

No grandchilds loaded by gun towers (old problem):
[](http://fastpic.ru/view/67/2015/0821/3cc5299cdd07199cf8bfd01740a520a0.png.html)
[JSC032_Myoko_1941_XML+log.zip](https://xentaxbackup.github.io/file/9600_JSC032_Myoko_1941_XML+log.zip)
## Post #256
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-21T08:04:06+00:00
- Post Title: Re: World of Warships

JSA015_Taiho_1944 done.
[](http://fastpic.ru/view/67/2015/0821/f052e326d520ba0b24be1cc1195534ee.png.html) [](http://fastpic.ru/view/72/2015/0821/582b0898f08f394ecc1ed4200fd1e63b.jpg.html)


Again problems with secondary guns placement:
[](http://fastpic.ru/view/67/2015/0821/c12439fa1a8ae25f6f3b895b2b8b3d71.png.html) [](http://fastpic.ru/view/67/2015/0821/6b55d44bce3daa1d49dc89c0e6c3defa.png.html)
[JSA015_Taiho_1944_XML+log.zip](https://xentaxbackup.github.io/file/9601_JSA015_Taiho_1944_XML+log.zip)
## Post #257
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-21T09:39:19+00:00
- Post Title: Re: World of Warships

JSA012_Zuikaku_1944 done.
[](http://fastpic.ru/view/68/2015/0821/e2ed429525aaa159a9622d2af16f39e4.png.html) [](http://fastpic.ru/view/66/2015/0821/ceb4b50916c5f20e7f6e026e57522681.jpg.html)


Also having problems with secondary guns positioning.
[JSA012_Zuikaku_1944_XML+log.zip](https://xentaxbackup.github.io/file/9603_JSA012_Zuikaku_1944_XML+log.zip)
## Post #258
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-21T10:22:58+00:00
- Post Title: Re: World of Warships

JSA011_Hiryu_1942 done.
[](http://fastpic.ru/view/67/2015/0821/8c5c557a56d8170a96bff1aeb2330dda.png.html) [](http://fastpic.ru/view/67/2015/0821/37afe51719ed727e3382cc90e6e5638a.jpg.html)


Again here's problems with secondary guns positioning.
[JSA011_Hiryu_1942_XML+log.zip](https://xentaxbackup.github.io/file/9604_JSA011_Hiryu_1942_XML+log.zip)
## Post #259
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-22T08:09:21+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> Coffee wrote:
Im looking at the Yamato, all the guns but the secondary are pointing in the wrong direction. If this is the case with the other ships, I can filter this and rotate the NON-secondary guns.

How are you transforming your primitives?
Are you using the skinning information?

The main big guns like HP_JGM_3 are skinned, so you have to transform their vertices by their bones.
Other meshes are static.

If you overlay the visual skeletal system, you should see the guns pointing in the same direction as your bones:

> Reply from Wobble
>
> Root_BlendBone is not assigned to any vertices, so I don't see how it's being used.
Since the wargaming.net 3D artists use Maya to create their work, perhaps it's part of a leftover IK system. Root_BlendBone may be a controller bone from Maya.
Coffee wrote:which matrix are you using Wobble to transform the verts?

I create a hierarchy from all the visual nodes, and transform the vertices with a final world matrix that I calculate myself.

> Reply from Wobble
>
> Just stick this into a 4x4 matrix, exactly as it appears.
Last row (row3) is translation.
Code: Select all<transform>
   <row0>	1.000000 0.000000 0.000000 0.000000	</row0>
   <row1>	0.000000 1.000000 0.000000 0.000000	</row1>
   <row2>	0.000000 0.000000 1.000000 0.000000	</row2>
   <row3>	0.000000 0.487237 3.540462 1.000000	</row3>
</transform>
 
Matrix = |row0 row0 row0 row0| = | 1   0   0  0 |
         |row1 row1 row1 row1|   | 0   1   0  0 |
         |row2 row2 row2 row2|   | 0   0   1  0 |
         |row3 row3 row3 row3|   | 0 .48 3.5  1 |


btw, if you need your translation in the 4th column (instead of the 4th row), just transpose the matrix.  This usually depends on whether you're using a left-handed or right-handed coordinate system.  And if do transpose it, then you may also need to transpose the vector-matrix multiplication too.

But really, if you don't have this setup, then you should test it out first on a known system with a known dataset, so you know it works the way you designed it.

> Reply from Wobble
>
> If you're using the skinning information, everything should transform correctly, except the catapults. I believe this is by design, even if you're using the skinning information.  Catapult rotation should be added in using the ship's script.  I gave an example of how to do this a while ago.
Wobble, can you explain step-by-step how you read (recreate?) skeleton and skinning information, and what is "final world matrix" you created?
Because I think Mike is not very familiar with skeletal animation or missed something important...
## Post #260
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-08-22T11:25:11+00:00
- Post Title: Re: World of Warships

[out]
## Post #261
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-22T14:59:42+00:00
- Post Title: Re: World of Warships

The problem Wobble is I'm working in OpenGL where the game is done in Direct3D (DirectX).
There are a couple of things that are different.
First.. Direct3D uses left hand coordinates. This means that the Z plus in direct3D points in to the screen from the viewers prospective. OpenGL Z is negative. Its opposite. This can be fixed by flipping the sign of the Z for the vertex and the Z of the normal. This however turns everything inside out so it looks backwards. So I invert both X and Z and this gives me the correct looking model but trashes all transforms.
There is NO magic transform that works for all times (As Wobble stated long ago).

I can pull any one item of the matrices from the guns .visual and use it. The 3x3 part of the transform is the same for any bone related node. I'm using Y_BlendBone or some name close to that. This seems to work and last night before I hit the issues with the deck planes being all screwed up, it looked like everything was correct except the planes. There are some translations on the finders that need to be summed. I don't even have code in place for this yet.

Bottom line: I can not and never will make this exactly the same as what a ship looks like in the port.
There are some things that are rotated by the clients engine like RADAR and some finders (Amagi has some finders slightly rotated along with some of the side secondary guns) . We could added a rotation matrix to the master xml for these but Im not sure the work is worth the effort.
This entire program has turned in to a huge bunch of spaghetti code if you know what that is.
Key areas need to be totally rewritten.

I'll be updating this at the server in a hour or so and you guys can look over the transforms.
Can't thank you guys enough for the help.
## Post #262
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-22T16:22:28+00:00
- Post Title: Re: World of Warships

Mike, it's again seems for me as you don't use [skeletal animation](https://www.opengl.org/wiki/Skeletal_Animation) at all, and use transformations for bones as transformations for meshes?..
Without skeleton in model we can't animate up/down aiming for guns as example, because it's one object, and all morphing done by skeleton.
Especially those guns with soft bags where it's connected to towers, even if I separate mesh to objects, i can't animate it correctly without manually adding skeleton and reskinning in 3dsmax, so those bags can do deforms correctly. But all needed information already in models, and Wobble using it in his importer (totally unshared btw  ).
## Post #263
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-22T18:56:13+00:00
- Post Title: Re: World of Warships

Alrighty...
I have added code to load any extra models in to the scene.
These need to be placed after the <section> tag.
The Parent tag is 0 to 3. Name MUST BE UNIQUE. Duplicates screw the table when I load it. 
Zero being the bow and three being the stern.
is_new will tell me if I'm loading a new model or translating a already loaded model.
I'm having issues with some of the RADAR transforms. I think the matrix is canceling its self out, Im working in that now and the issue with the planes.

Looki here 

```
  <sections>
         <aux_items>
          <item>
              <parent>0</parent>
              <is_new>true</is_new>
              <name>big plane1</name>
              <model>usa\aircraft\bomber\AAB013_A2D_Skyshark\AAB013_A2D_Skyshark.model</model>
              <row0> 1.0000 0.0000 0.0000 0.0000</row0>
              <row1> 0.0000 1.0000 0.0000 0.0000</row1>
              <row2> 0.0000 0.0000 1.0000 0.0000</row2>
              <row3> 0.0000 3.0000 0.0000 1.0000</row3>
           </item>
          <item>
              <parent>0</parent>
              <is_new>true</is_new>
              <name>big plane2</name>
              <model>usa\aircraft\bomber\AAB013_A2D_Skyshark\AAB013_A2D_Skyshark.model</model>
              <row0> 1.0000 0.0000 0.0000 0.0000</row0>
              <row1> 0.0000 1.0000 0.0000 0.0000</row1>
              <row2> 0.0000 0.0000 1.0000 0.0000</row2>
              <row3> 0.0000 3.2000 0.0000 1.0000</row3>
           </item>
          <item>
              <parent>0</parent>
              <is_new>true</is_new>
              <name>big plane3</name>
              <model>usa\aircraft\bomber\AAB013_A2D_Skyshark\AAB013_A2D_Skyshark.model</model>
              <row0> 1.0000 0.0000 0.0000 0.0000</row0>
              <row1> 0.0000 1.0000 0.0000 0.0000</row1>
              <row2> 0.0000 0.0000 1.0000 0.0000</row2>
              <row3> 0.0000 3.4000 0.0000 1.0000</row3>
           </item>
          <item>
              <parent>0</parent>
              <is_new>true</is_new>
              <name>big plane4</name>
              <model>usa\aircraft\bomber\AAB013_A2D_Skyshark\AAB013_A2D_Skyshark.model</model>
              <row0> 1.0000 0.0000 0.0000 0.0000</row0>
              <row1> 0.0000 1.0000 0.0000 0.0000</row1>
              <row2> 0.0000 0.0000 1.0000 0.0000</row2>
              <row3> 0.0000 3.6000 0.0000 1.0000</row3>
           </item>
        </aux_items>
  <bow>
    <model>usa\ship\aircarrier\ASA015_Midway_1945\ASA015_Midway_1945_bow_ports.model</model>
        <node>
           <name>HP_LiftOffPoint</name>
           <model>usa\aircraft\bomber\AAB009_Douglas_AD1\AAB009_Douglas_AD1.model</model>
        </node>
        <node>
```

It works : But the transforms are wrong for the planes still.. Working on that next.
## Post #264
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-22T20:01:16+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> Mike, it's again seems for me as you don't use skeletal animation at all, and use transformations for bones as transformations for meshes?..
Without skeleton in model we can't animate up/down aiming for guns as example, because it's one object, and all morphing done by skeleton.
Especially those guns with soft bags where it's connected to towers, even if I separate mesh to objects, i can't animate it correctly without manually adding skeleton and reskinning in 3dsmax, so those bags can do deforms correctly. But all needed information already in models, and Wobble using it in his importer (totally unshared btw  ).

Wobble is using the Unwrap3D and the .primitive importer. I played with it some and it can import some things OK
That importer is supposed to load the bones of characters. Im not sure how that works with Guns 

Importing everything including bones and then exporting them in FBX or any format is a HUGE amount of work.
This was never designed to load the bones data. Even If I did, exporting it using FBX is going to take a very long time to get working. The documentation is horrible regarding anything to do with writing FBX. On the other hand, there are tons of samples on reading FBX. AutoDesk f'ed the dog when it came to creating examples on how to export using it. It took me 2 weeks the first time to get the thing to export one model.. Then I added the ability to export multiple models in one file.. that took quite a bit of sorting. It says in the documents that the names of items does not effect how its link to UVs or other items but they are way wrong. If you use the same name for an item, it gets replaced with the last item with the same name. That is why I attached the ID to the names.. 2 names like "vertices" wont work. There are other names in the data to chose from.. Node Identity is one but they too will replicate with in a model with a lot of primitives.
Im not sure what will happen with material names if they replicate in the FBX.. I have a feeling they will silently be overwritten. There are other formats like DirectX or .X that also can deal with everything that's needed including multi-UV coordinates. The issue is how many apps can import it. 3DS Max 2015 can not .. maybe with a plugin.. I didnt look.

I am willing to try to change this to export the bones and everything that is needed to animate the objects. This will mean re-writing the .primitive importer because so much of it will change, there is no point in trying to modify the code and, there are better ways to build and store the data.

The real issue is the time I have to work on it. Right now I would be happy to get every item to transform correctly.
## Post #265
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-22T22:08:29+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> There are other formats like DirectX or .X that also can deal with everything that's needed including multi-UV coordinates. The issue is how many apps can import it. 3DS Max 2015 can not .. maybe with a plugin.. I didnt look.
I did some experiments with exporting/importing into .X with couple of tools, and always been disappointed with result - loss of smoothing groups, misplaced parts, weird names for objects, etc.
It's of course mostly an optimization moments, but as alternative to FBX it's only DAE looking enough good, but I think it's also has lots of problems like you mentioned for FBX - incomplete documentation, many revisions, problems with importers from other software than you are optimize it to.
Btw, SAP Visual Author (Deep Exploration), which I use to convert and browse models, also have problems with importing your FBX (broken normals), but same problem with importing FBX produced by 3dsmax itself, so I assumed it's SAP importer problems, not your exporter, and I use 3dsmax to import your FBX - works fine.
## Post #266
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-22T23:09:04+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> Coffee wrote:There are other formats like DirectX or .X that also can deal with everything that's needed including multi-UV coordinates. The issue is how many apps can import it. 3DS Max 2015 can not .. maybe with a plugin.. I didnt look.
I did some experiments with exporting/importing into .X with couple of tools, and always been disappointed with result - loss of smoothing groups, misplaced parts, weird names for objects, etc.
It's of course mostly an optimization moments, but as alternative to FBX it's only DAE looking enough good, but I think it's also has lots of problems like you mentioned for FBX - incomplete documentation, many revisions, problems with importers from other software than you are optimize it to.
Btw, SAP Visual Author (Deep Exploration), which I use to convert and browse models, also have problems with importing your FBX (broken normals), but same problem with importing FBX produced by 3dsmax itself, so I assumed it's SAP importer problems, not your exporter, and I use 3dsmax to import your FBX - works fine.

Yes.. FBX is a mother to get working right. The issue is I think Autodesk wants to keep this format for use with its own apps.. the own 3DS and Maya and and other mainline 3D apps and I remember reading something about them trying to buy out Lightwave as well.
Anyway.. I thought about this for a while and FBX is probably the best choice because I have some experience with it now  and the FBX Converter that AutoDesk gives away for free is a good way to test it. It it loads in that tool, it should load in anything that Autodesk sales. Also it has a FBX explorer tool that lets you look at the FBX in a tree node view so you can see whats attached to what.... Well sorta.. that could be better but it helps
Im still having issues with the damn planes. When I get them to rotate in all 3 axis to their final position, the planes have a weird skew in the Z axis.

OMG! It worked.. I made some changes and it was loading when I was typing. Ill upload this so you can check it out.
Note that not everything is perfect to view in port. Like Wobble said.. I think some of items default positions are just like the are and are transformed by the client when the game is running.
## Post #267
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-23T00:07:00+00:00
- Post Title: Re: World of Warships

OK..
Try this one ( 29.8.8 )
I changed how the version comes from. This might fix the uninstall issues once this one is installed... the next update should uninstall this version. (I hope).
[http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)

I think this might have it all fixed.

OK.. Its fixed.. get it while you can.
Oddly.. the Catapults are rotated correctly on the Yamato as is everything as far as I can tell..Need that plane Info from Wobble (location and translation) and I'll add that to the Master XML.
## Post #268
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-23T10:14:21+00:00
- Post Title: Re: World of Warships

All catapults now rotated straight forward, and for Yamato it's not really identical, but better than previous rotation to sides:
[](http://fastpic.ru/view/72/2015/0823/f1b9a91817b7b6d20ea39623667c1ba9.png.html) [](http://fastpic.ru/view/67/2015/0823/12f17eab4192962f7d9eb571d07eda2c.jpg.html)
But for Izumi it's not like in game at all, but better than to sides too, IMHO:
[](http://fastpic.ru/view/69/2015/0823/b4150f78fb133db2d13fcfa288173125.png.html) [](http://fastpic.ru/view/66/2015/0823/860b3c2261da263363e31662abfca0d9.jpg.html)
And here some problems with finders, also rotated to front (early they rotated to center - also wrong):
[](http://fastpic.ru/view/70/2015/0823/bf2bbbed92e40ff7bf031e0362f4821e.png.html)

Not sure I got right what you fixing with planes on desk - for me it's alreagy looks good, but BIG problem with secondary guns misplacement on japanese aircarriers (wrong side of ship) leaved untouched:
[](http://fastpic.ru/view/71/2015/0823/7798178b05166c2079a4ce90bcc3e114.png.html)
Finders also looking to front here (again, early they wrong looking to center).

> Reply from Coffee
>
> Need that plane Info from Wobble (location and translation) and I'll add that to the Master XML.
This info available only in loading logs AFAIK, and we need some routine to add those grandchilds to the Master XML, so I can change those paths:
[](http://fastpic.ru/view/69/2015/0823/7436912e6566986ccb466ac65c677567.png.html) [](http://fastpic.ru/view/71/2015/0823/7ce5e77b145c9af1f9f4887cd26769cc.png.html) [](http://fastpic.ru/view/69/2015/0823/cd5e3356d2664dce8f9f6afc10f2260d.png.html)
## Post #269
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-23T11:05:41+00:00
- Post Title: Re: World of Warships

ASC001_Erie_1936 done.
[](http://fastpic.ru/view/65/2015/0823/b34a7840a21da2cab37b2d0a12d1aef1.png.html) [](http://fastpic.ru/view/67/2015/0823/9c6887988804248fc36d739f9afb8832.jpg.html)

Also I upgraded this ship in game and do "upgraded" version of XML:
[](http://fastpic.ru/view/65/2015/0823/8371cb3f16c1b5bf4362b6d2c25b416f.png.html) [](http://fastpic.ru/view/67/2015/0823/281991ec0660b124bdb124bc777c0521.jpg.html)

But upgraded only main guns, hull didn't changed despite the fact that in game it changes from (A) to (B) visually it's not have any difference, so i replace ASC001_Erie_1936.xml by content of ASC001_Erie_1936_upgraded.xml in editor XML directory to load changed version.
Bigger ships have different hull models for their upgrades.
[ASC001_Erie_1936+upgraded_XML+log.zip](https://xentaxbackup.github.io/file/9617_ASC001_Erie_1936+upgraded_XML+log.zip)
## Post #270
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-23T11:44:44+00:00
- Post Title: Re: World of Warships

ASC002_Chester_1908 done.
[](http://fastpic.ru/view/72/2015/0823/02da1ddddf58b51d45cb67864827ff0c.png.html) [](http://fastpic.ru/view/67/2015/0823/ef863d13862d8f4c0e889c2d999dded2.jpg.html)

ASC037_Chester_1915 - upgraded version done too.
[](http://fastpic.ru/view/72/2015/0823/f0d118d9b33c32c130f46d4e37b1d78b.png.html) [](http://fastpic.ru/view/67/2015/0823/dcbc15712e8f91ee16c1e1e5cc90853b.jpg.html)
[ASC002_Chester_1908+ASC037_Chester_1915_upgrade_XMLs+logs.zip](https://xentaxbackup.github.io/file/9618_ASC002_Chester_1908+ASC037_Chester_1915_upgrade_XMLs+logs.zip)
## Post #271
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-23T12:12:12+00:00
- Post Title: Re: World of Warships

JSC037_Hashidate_1940 done. Upgraded version didn't have any differencies from base.
[](http://fastpic.ru/view/68/2015/0823/8b557220f57fc9ef1e74aef9a1e35488.png.html) [](http://fastpic.ru/view/72/2015/0823/b99ead80339cd52b149a26b3c5a450e6.jpg.html) [](http://fastpic.ru/view/72/2015/0823/c54fc2e1e296fe72485b34e05ec48dd5.jpg.html)
[JSC037_Hashidate_1940_XML+logs.zip](https://xentaxbackup.github.io/file/9619_JSC037_Hashidate_1940_XML+logs.zip)
## Post #272
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-23T13:18:19+00:00
- Post Title: Re: World of Warships

Actually the transforms are all wrong.
Every thing is mirrored on X's location.
I didn't notice until I loaded the JSA017_Hakuryu_1942_Stern
You will see that everything is shifted about the center. Also.. the 2 port side propellers are screwed up.. (flattened).

I added code to load the extra models and posted an example of the modified code. I don't know where the transform information is. 
Let me grab all your work on the these latest master XMLs.

Nice job banging out all these masters 

EDIT:
There are without a doubt some things that are not going to look prefect compared to what you see in the game.
My logic is, if the crane on the back of the Yamato is exactly the same as whats in the game than the translations should be right but for all static models.
The client is rotating some of these objects. I'm not sure about the finders and the secondary guns. Some have bones.. most do not.
## Post #273
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-23T17:01:08+00:00
- Post Title: Re: World of Warships


## Post #274
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-23T20:33:56+00:00
- Post Title: Re: World of Warships

OK..
Try version 29.8.9
[http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)
I just can not get all the finders to transform correctly. I spent the better part of the last 5 hours on it and the AA guns and I believe at this point they are rotated by the client. Nothing works. I get it to rotate right on a carrier and they crap out on other ships.


EDIT Slight Bug in this so I had to recompile and upload it again.. Same version number.
## Post #275
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-24T12:08:11+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> OK..
Try this one ( 29.8.8 )
I changed how the version comes from. This might fix the uninstall issues once this one is installed... the next update should uninstall
Same error "Uninstall another version before installing 29.8.9".

> Reply from Coffee
>
> Try version 29.8.9
Lighting looks strange for me, like normals are inverted or something wrong.
Then I enable shadows:
[](http://fastpic.ru/view/66/2015/0824/13342fd6a647a713f132a210205b35eb.png.html)
## Post #276
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-24T13:25:50+00:00
- Post Title: Re: World of Warships

ASB011_Colorado_1921 done.
[](http://fastpic.ru/view/71/2015/0824/77abb5838018c7fde38077b7f89fbaf8.png.html) [](http://fastpic.ru/view/71/2015/0824/6258d94e68e1ee14fa6d3f2733cfaaa7.jpg.html)

No plane on catapult (usa\aircraft\scout\AAS006_N3N\AAS006_N3N.model).
[ASB011_Colorado_1921_XML+log.zip](https://xentaxbackup.github.io/file/9622_ASB011_Colorado_1921_XML+log.zip)
## Post #277
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-24T14:04:44+00:00
- Post Title: Re: World of Warships

ASB009_New_Mexico_1918 done.
[](http://fastpic.ru/view/70/2015/0824/4aca195e8f2bfbef688cf5ea00abdb0c.png.html) [](http://fastpic.ru/view/68/2015/0824/f1ea359bdaa3b9d496a95372613370f2.jpg.html)
[ASB009_New_Mexico_1918_XML+log.zip](https://xentaxbackup.github.io/file/9623_ASB009_New_Mexico_1918_XML+log.zip)
## Post #278
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-24T14:28:14+00:00
- Post Title: Re: World of Warships

ASB006_New_York_1934 done.
[](http://fastpic.ru/view/67/2015/0824/4430283b454fd749d9e5bbbed701db13.png.html) [](http://fastpic.ru/view/72/2015/0824/fe4adabda4b35a32c2e7d6d2fc4c7a57.jpg.html)
[ASB006_New_York_1934_XML+log.zip](https://xentaxbackup.github.io/file/9624_ASB006_New_York_1934_XML+log.zip)
## Post #279
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-24T14:49:24+00:00
- Post Title: Re: World of Warships

ASB004_Arkansas_1912, aka Wyoming in game, done.
[](http://fastpic.ru/view/67/2015/0824/c74c3d86dc9a454e0ac19eb50f0e2cdc.png.html) [](http://fastpic.ru/view/69/2015/0824/abd3a092742b841d80f27641661c7552.jpg.html)

One of main turrets rotated wrong:
[](http://fastpic.ru/view/67/2015/0824/38fd21f960558cf1acbdb2b6b20fa475.png.html)
[ASB004_Arkansas_1912_XML+log.zip](https://xentaxbackup.github.io/file/9625_ASB004_Arkansas_1912_XML+log.zip)
## Post #280
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-24T15:04:46+00:00
- Post Title: Re: World of Warships

ASB001_Michigan_1916, aka South Carolina in game, done.
[](http://fastpic.ru/view/71/2015/0824/d5a8edc1285dd068dfd7aa1d529db9c7.png.html) [](http://fastpic.ru/view/69/2015/0824/06296e7b9bc9a90441aa0853ba60c338.jpg.html)
[ASB001_Michigan_1916_XML+log.zip](https://xentaxbackup.github.io/file/9626_ASB001_Michigan_1916_XML+log.zip)
## Post #281
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-24T19:41:47+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> Coffee wrote:OK..
Try this one ( 29.8.8 )
I changed how the version comes from. This might fix the uninstall issues once this one is installed... the next update should uninstall 
Same error "Uninstall another version before installing 29.8.9".
Coffee wrote:Try version 29.8.9
Lighting looks strange for me, like normals are inverted or something wrong.
Then I enable shadows:
Yeah.. Shadows are not transformed right. This is super easy to fix but the bias is off anyway for these zero wall thickness hulls and it looks bad anyway.
Not sure about the normals.. Press the N key and see if they are consistent.
## Post #282
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-24T21:02:18+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Not sure about the normals.. Press the N key and see if they are consistent.
Model looks too dark from outside and normal bright from inside:
[](http://fastpic.ru/view/67/2015/0825/ba4ff051b45a2bf1be50adc05309fbd6.png.html)
But I can't understand your normals visualisation, it's say nothing to me:
[](http://fastpic.ru/view/67/2015/0825/f19cb84cd38c8692ce1348eeb61317f6.png.html)
So, I convert this piece to OBJ and load into DE:
[](http://fastpic.ru/view/67/2015/0825/6df1a5f1a1db291a3bcf4dbfa7f418ce.png.html)
Yes, normals inverted, but faces not :)

Upd.: Export to FBX, import in 3dsmax, saving to MAX and open in DE give better result:
[](http://fastpic.ru/view/72/2015/0825/7ecc08f30526f79b3c3cfc6dc3979836.png.html)
So, idk what is wrong here and wrong or not... %]
## Post #283
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-24T22:13:55+00:00
- Post Title: Re: World of Warships

All my normal view does is use the normals for the color.
Everything should have the same colors in relationship to the view. If a face is red and one is blue and they both are facing you, one of them is backwards.

As far as your images of the normal projections, They look the same to me. If they are right, they will point away from the objects center.
I changed the shader slightly because of all the transforms. The Normals have to be multiplied by the normal matrix so they are rotated in to the same view space as the vertices.
Im playing with the shader and trying to find why this is screwing the lighting up so bad. In theory, all that should happen is everything should light the same where before the children where not lit on the same sides as the hull because of the transforms.
Ig I get it working before I have to go to sleep, Ill post an update.

Oh.. and I got the main gun issue fixed.
## Post #284
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-25T20:02:33+00:00
- Post Title: Re: World of Warships

Well.. not that I blew that one image up, the normals are backwards on the hull.. 
Im looking in to this now.

Update..
As if things cant get any more interesting...
The normals are backwards in the models compared to world of tanks. Why this is I have no idea.
Load a tank hull and export as an object and compare that to a ships hull.. You will see the ship's normals are flipped.
This might be caused by my code.. Im looking.

Update 2
No...  this is NOT caused by my code.  I loaded one of the planes from WoWs and exported it.. The Normals are all pointing OK as long as they are NOT on the bottom of the plane. All the normals on the bottom of the wing and horizontal stabilizer are point the wrong way. All the ones on the upper parts are fine.. However, loading a ships hull,, the normals point IN.. This is WRONG.
I can add code to flip the normals based on winding order but this will slow down an already slow loading process. (which needs to be fixed).
It has been a very trying day at work and I'm exhausted. I will work on this when I have more GO in me.
Oh.. and I found a bug loading WOT models that was introduced with all the SHIP loading crap.. I fixed it.
## Post #285
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-27T10:58:00+00:00
- Post Title: Re: World of Warships

ASC017_Baltimore_1944 done.
[](http://fastpic.ru/view/69/2015/0827/63c0aefe508da337f2638579399e3ac9.png.html) [](http://fastpic.ru/view/68/2015/0827/8822a9ea37df288a941c3260ffc72180.jpg.html)

No plane on catapult (usa\aircraft\fighter\AAF024_XP_40S\AAF024_XP_40S.model).
[ASC017_Baltimore_1944_XML+log.zip](https://xentaxbackup.github.io/file/9632_ASC017_Baltimore_1944_XML+log.zip)
## Post #286
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-27T11:43:59+00:00
- Post Title: Re: World of Warships

ASC014_New_Orlean_1944 done.
[](http://fastpic.ru/view/65/2015/0827/bf44e01133eab279ecf2b4adae66bfec.png.html) [](http://fastpic.ru/view/69/2015/0827/f2e8a43cb980df8523891847cbcd9e7b.jpg.html)

No plane on catapult (usa\aircraft\fighter\AAF023_F4F_float\AAF023_F4F_float.model).


One director rotated wrong:
[](http://fastpic.ru/view/65/2015/0827/9dda4ab98d3fa6cfab38fb68a08157e6.png.html)

All secondary guns flattened:
[](http://fastpic.ru/view/65/2015/0827/b3b544381e0c044236f770bd4ab92cfb.png.html)
[ASC014_New_Orlean_1944_XML+log.zip](https://xentaxbackup.github.io/file/9633_ASC014_New_Orlean_1944_XML+log.zip)
## Post #287
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-27T12:23:04+00:00
- Post Title: Re: World of Warships

ASC043_Pensacola_1942 done.
[](http://fastpic.ru/view/69/2015/0827/c02781eecbfbf4d139c7eb76d6abb97d.png.html) [](http://fastpic.ru/view/69/2015/0827/3853220450a3b715076fa6abb4e5b799.jpg.html)

No plane on catapult (usa\aircraft\fighter\AAF023_F4F_float\AAF023_F4F_float.model).


Some directors rotated wrong:
[](http://fastpic.ru/view/69/2015/0827/5cde12142accd286a6a686f8fabbea3d.png.html) [](http://fastpic.ru/view/69/2015/0827/fadd819372b9400a685d2c468cc4dd80.png.html)

2 of secondary guns flattened:
[](http://fastpic.ru/view/69/2015/0827/8f4ff41479bd0aafa0fa527822f03fe4.png.html)
[ASC043_Pensacola_1942_XML+log.zip](https://xentaxbackup.github.io/file/9634_ASC043_Pensacola_1942_XML+log.zip)
## Post #288
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-27T12:46:05+00:00
- Post Title: Re: World of Warships

ASC036_Cleveland_1942 done.
[](http://fastpic.ru/view/65/2015/0827/f43c3992cb6affa25dc133bf0ca50450.png.html) [](http://fastpic.ru/view/67/2015/0827/f787830c80ff7ed5c3e5c7f62036e690.jpg.html)

No plane on catapult (usa\aircraft\fighter\AAF022_F3F_float\AAF022_F3F_float.model).
[ASC036_Cleveland_1942_XML+log.zip](https://xentaxbackup.github.io/file/9635_ASC036_Cleveland_1942_XML+log.zip)
## Post #289
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-27T13:03:29+00:00
- Post Title: Re: World of Warships

ASC005_Omaha_1923 done.
[](http://fastpic.ru/view/71/2015/0827/a6792e4868ff7f932a421e4a6568e564.png.html) [](http://fastpic.ru/view/72/2015/0827/20a0c5e1abe6fbbfad5b26dffbcc8652.jpg.html)

No plane on catapult (usa\aircraft\fighter\AAF021_F4B_float\AAF021_F4B_float.model).
No torpedos in launchers (usa\projectile\torpedo\APT011_Sea_Torpedo_Mk_11\APT011_Sea_Torpedo_Mk_11.model).


Lighting looks strange, I think normals also wrong here.
[ASC005_Omaha_1923_XML+log.zip](https://xentaxbackup.github.io/file/9636_ASC005_Omaha_1923_XML+log.zip)
## Post #290
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-27T13:27:16+00:00
- Post Title: Re: World of Warships

ASC024_Phoenix_1917 done.
[](http://fastpic.ru/view/68/2015/0827/83065d690a3ee54ab8fe0fdf2c954f44.png.html) [](http://fastpic.ru/view/68/2015/0827/a986eb52d6a6be56b8553b6c0e9e2f3b.jpg.html)

No torpedos in launchers (usa\projectile\torpedo\APT011_Sea_Torpedo_Mk_11\APT011_Sea_Torpedo_Mk_11.model).


Lighting looks strange again.
[ASC024_Phoenix_1917_XML+log.zip](https://xentaxbackup.github.io/file/9637_ASC024_Phoenix_1917_XML+log.zip)
## Post #291
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-27T13:47:35+00:00
- Post Title: Re: World of Warships

ASC004_St_Louis_1906 done.
[](http://fastpic.ru/view/68/2015/0827/582af6d7b5fe2359fba7fc0803ed6d18.png.html) [](http://fastpic.ru/view/66/2015/0827/15d830ae0f207138d0970e20f5835cfb.jpg.html)
[ASC004_St_Louis_1906_XML+log.zip](https://xentaxbackup.github.io/file/9638_ASC004_St_Louis_1906_XML+log.zip)
## Post #292
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-28T20:34:39+00:00
- Post Title: Re: World of Warships

I uploaded version 29.9.1
See if that helps the lighting and exporting.
I will need to sort out why some things are backwards or flattened with these new ships.

Thanks for the XMLs
## Post #293
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-29T20:56:03+00:00
- Post Title: Re: World of Warships

OK...
Try this version 29.9.2
It should fix the issues with the 2nd guns
[http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)

EDIT: Forgot to mention I added all the latest Master XMLs.

What I need is someone that's really good in GLSL to fix the shaders.
You can get at them from the file menu or just press E
The shader named "bump" is the main shader.
There is something strange going on with the winding order of some of the models.
Turn double sided off and you will see that some items are culling the front faces and not the back.. This is a winding order problem.
## Post #294
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-30T15:26:12+00:00
- Post Title: Re: World of Warships

Lighting have bug in shadows and light source directions mismatch:
[](http://fastpic.ru/view/72/2015/0830/cd125f360c123ff5c70ae8ccbc8bf086.png.html)
Here I load model with "calculate normals on load" option on, so model don't have smoothing, but normals looks directed outside, as far as I can read your visualiser :)
Disabling option "bump mapped" make all lighting flatten, but childs not affected by those options.
Disabling "show diffuse2 texture" removes hilight from light source - not sure it's correct. And why you use ambient lighting texture as diffuse2? It's precalculated shadow map for "daylight" simulation, and it's uses same UV-coordinates as diffuse1, but logically diffuse2 must be something with different UV-map, like camouflage or labels/badges on main texture.

Also old small bug with additional line on interface's top, it's stays after multiple loadings in progress bar place, then progress bar shows at bottom of this line.

PS: I slightly changed my camera mod - in <dock> section set <pitchInfluenceOnHeight>5</pitchInfluenceOnHeight> instead of 3 before - it's makes camera fly higher, so no problem to see details on top of ship now:
[](http://fastpic.ru/view/72/2015/0830/3927b36e08ce4daae3c73e8f95658b85.jpg.html)
[Camera_Mod.zip](https://xentaxbackup.github.io/file/9657_Camera_Mod.zip)
## Post #295
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-31T01:06:46+00:00
- Post Title: Re: World of Warships

The diffuse2 is multiplied by diffuse and this gives the final color. It works with the AO maps as well as regular textures.

And yes.. I know the normals are wrong.. I posted about that and the winding order of some of the models.
There is a command for opengl called "glenable(gl_normalize)". This is suppose to fix the normals after any transforms.
Enabled or disabled it seems to make no difference. Probably because Im using shaders to render with.
But in the shader I multiply the normals by the gl_NormalMatrix which does the same thing yet, the lighting is still wrong.
So.. with all this bull shit it boils down to I'm not sure what's wrong with it.
I have been working on this since I got up at 7AM.. its now almost 9:00 PM.

I removed any disk buffering of model data.. All of it is read one time and stored in memory. This speeds up the load time by a lot.
I have also been trying to get SlimDX (Wrapper for DirectX3d) integrated so I can use its math and texture functions. This is proving to be a total bitch. I know nothing about direct3D and as it usually is with these wrappers, it has shit documentation. Wht the fuck cant they write some simple examples on how to create dummy device contexts for manipulating textures??? No.. they have only 3 examples and they are useless. I have been reading direct3D samples but.. I'm having a hard time getting anything to work with the SlimDX.

Anyway.. I have never seen that bug along the top of the screen left from the progress bar. The bar is visible or not.. and that's it. Once its set to invisible.. it simply is not drawn by the GUI. So... this bug you are seeing must be from something else.

BTW.. the site where you are uploading the images keeps sending me to 'who the hell knows' every time I click to enlarge the image.
Last time some window popped up with a women's blaring voice telling me my computer was infected.
Maybe there is a better place to store images?
If you could email me an image of that bug with the line on the top, I might be able to tell what's causing it.
Thanks for all the help.. Hopefully we will finish this up in the next week or so.. There is still a fair amount of work to do tho.
## Post #296
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-31T10:28:43+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Anyway.. I have never seen that bug along the top of the screen left from the progress bar. The bar is visible or not.. and that's it. Once its set to invisible.. it simply is not drawn by the GUI. So... this bug you are seeing must be from something else.
I'll test it more deeply, maybe I can get sequence to cause this bug.

> BTW.. the site where you are uploading the images keeps sending me to 'who the hell knows' every time I click to enlarge the image.
>
> Last time some window popped up with a women's blaring voice telling me my computer was infected.
>
> Maybe there is a better place to store images?
Funny, I use [Adblock Plus](https://adblockplus.org/) very long time, and forget about any ads and popups (especially with "element hiding helper" plugin).
Also I use "[Mouseover Popup Image Viewer](https://greasyfork.org/en/scripts/404-mouseover-popup-image-viewer)" for [Greasemonkey](https://addons.mozilla.org/ru/firefox/addon/greasemonkey/) ([Tampermonkey](https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo) in Chrome), so I never click them to see, as maximum I use "T" for opening image in new tab.
I can use another image hosting, if you wish, but I can't test it's usability, because of this ^^^

> If you could email me an image of that bug with the line on the top, I might be able to tell what's causing it.
It's already on my latest image, yellow lines and text 
Upper toolbar just extends to progress bar space, and progress bar draws in bottom of this extension.
## Post #297
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-08-31T12:14:35+00:00
- Post Title: Re: World of Warships

I found the bug with the interface changing the top tool area.
When double clicking to go to full view and back, it is re sizing the view area wrong. (Funny I never noticed that).
Thanks for pointing it out
## Post #298
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-31T21:47:40+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Funny I never noticed that
I noticed it because I move floating toolbox every time I run editor (it's not saving coordinates) and placing it just beyond toolbar line, with a small indentation down - matching v-size of progress bar. So I easily noticed this change
## Post #299
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-31T23:16:46+00:00
- Post Title: Re: World of Warships

JSC007_Aoba_1943 done.
[](http://fastpic.ru/view/68/2015/0901/65965160da392558e1420ee97a6f7770.png.html) [](http://fastpic.ru/view/71/2015/0901/4575a17a49a4f97ebaea89b0c0c17fb9.jpg.html)

No plane on catapult (japan\aircraft\fighter\JAF017_Mitsubishi_A6M2_N\JAF017_Mitsubishi_A6M2_N.model).
No torpedos in launchers (japan\projectile\torpedo\JPT010_Sea_Torpedo_610mm_Type8\JPT010_Sea_Torpedo_610mm_Type8.model).


Some rotation bugs:
[](http://fastpic.ru/view/68/2015/0901/fa147ef08c9613e127fa1babda230d87.png.html)
[JSC007_Aoba_1943_XML+log.zip](https://xentaxbackup.github.io/file/9663_JSC007_Aoba_1943_XML+log.zip)
## Post #300
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-31T23:35:58+00:00
- Post Title: Re: World of Warships

JSC005_Furutaka_1926 done.
[](http://fastpic.ru/view/68/2015/0901/b859461a08841686516c933d452e05e6.png.html) [](http://fastpic.ru/view/70/2015/0901/ff923b2fc9e48373922cb221aa1e7a32.jpg.html)

No plane on catapult (japan\aircraft\fighter\JAF016_A5M2_N\JAF016_A5M2_N.model).
No torpedos in launchers (japan\projectile\torpedo\JPT010_Sea_Torpedo_610mm_Type8\JPT010_Sea_Torpedo_610mm_Type8.model).
[JSC005_Furutaka_1926_XML+log.zip](https://xentaxbackup.github.io/file/9664_JSC005_Furutaka_1926_XML+log.zip)
## Post #301
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-08-31T23:59:04+00:00
- Post Title: Re: World of Warships

JSC031_Kuma_1920 done.
[](http://fastpic.ru/view/70/2015/0901/0e27f73a17ced7eb7f3a029c0578c468.png.html) [](http://fastpic.ru/view/66/2015/0901/e137c3f997f1c0fc26d5f6bf89588f6c.jpg.html)

No torpedos in launchers (japan\projectile\torpedo\JPT004_Sea_Torpedo_533mm_Type6\JPT004_Sea_Torpedo_533mm_Type6.model).


Some rotation bugs:
[](http://fastpic.ru/view/70/2015/0901/8faf4bdc8a26687419b9580597c94579.png.html)
[JSC031_Kuma_1920_XML+log.zip](https://xentaxbackup.github.io/file/9665_JSC031_Kuma_1920_XML+log.zip)
## Post #302
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-09-01T00:15:20+00:00
- Post Title: Re: World of Warships

JSC015_Tatsuta_1919, aka Tenryu in game, done.
[](http://fastpic.ru/view/71/2015/0901/9a320c79d278fd952b8e31e20dff0e8c.png.html) [](http://fastpic.ru/view/69/2015/0901/39310b166279dd4569ee9b55b8bb95cd.jpg.html)

No torpedos in launchers (japan\projectile\torpedo\JPT008_Sea_Torpedo_533mm_Type44_m2\JPT008_Sea_Torpedo_533mm_Type44_m2.model).


Some rotation bugs:
[](http://fastpic.ru/view/71/2015/0901/ae360ef0d9cd71224ab5213711c06b4f.png.html)
[JSC015_Tatsuta_1919_XML+log.zip](https://xentaxbackup.github.io/file/9666_JSC015_Tatsuta_1919_XML+log.zip)
## Post #303
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-09-01T00:28:33+00:00
- Post Title: Re: World of Warships

JSC035_Chikuma_1912 done.
[](http://fastpic.ru/view/66/2015/0901/a3cefdad3f086fb21c66017dfce83ca6.png.html) [](http://fastpic.ru/view/69/2015/0901/3e48db39c2b63653664f6ac56d2dc454.jpg.html)


Some rotation bugs:
[](http://fastpic.ru/view/66/2015/0901/7e05e09f68a6d50eab11c2510444017e.png.html)
[JSC035_Chikuma_1912_XML+log.zip](https://xentaxbackup.github.io/file/9667_JSC035_Chikuma_1912_XML+log.zip)
## Post #304
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-09-01T22:48:38+00:00
- Post Title: Re: World of Warships

Found unused file in editor's XML package - ASA015_Midway_1945_backup.xml


ASA011_Lexington_1942 done.
[](http://fastpic.ru/view/65/2015/0902/0b605dcab3586ed59864c49d46de2c03.png.html) [](http://fastpic.ru/view/67/2015/0902/6be71e38c5ec3dfe7a00da4f732f964a.jpg.html)


All plane positions doubles in XML - I didn't fill second nodes to prevent loading of plane doubles, but doubles for dummies didn't shown on final loading, so nothing to fix here I think 
[ASA011_Lexington_1942_XML+log.zip](https://xentaxbackup.github.io/file/9670_ASA011_Lexington_1942_XML+log.zip)
## Post #305
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-09-01T23:43:40+00:00
- Post Title: Re: World of Warships

ASA022_Ranger_1941 done.
[](http://fastpic.ru/view/72/2015/0902/e3a175f0e1f790b9c35df5b9204390fb.png.html) [](http://fastpic.ru/view/67/2015/0902/91674bd0d775b45d60d56495f7b26317.jpg.html)
[ASA022_Ranger_1941_XML+log.zip](https://xentaxbackup.github.io/file/9671_ASA022_Ranger_1941_XML+log.zip)
## Post #306
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-09-02T00:20:06+00:00
- Post Title: Re: World of Warships

ASA024_Independence_1944 done.
[](http://fastpic.ru/view/66/2015/0902/77597595d4940249f8bb64b8de59a1f2.png.html) [](http://fastpic.ru/view/69/2015/0902/8aa150f329264558215b71a0dd58f83b.jpg.html)
[ASA024_Independence_1944_XML+log.zip](https://xentaxbackup.github.io/file/9672_ASA024_Independence_1944_XML+log.zip)
## Post #307
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-09-02T00:53:14+00:00
- Post Title: Re: World of Warships

ASA002_Bogue_1942 done.
[](http://fastpic.ru/view/65/2015/0902/0eff264733fef516eb31819d119879cb.png.html) [](http://fastpic.ru/view/72/2015/0902/bac072c541b54bc88e1b3f0b81fc0255.jpg.html)


Many plane dummies is set to one position in bow part, I fill only first one - HP_Deck_16, HP_Deck_17-35 leaved empty, so those empty dummies exists in final loading.
[ASA002_Bogue_1942_XML+log.zip](https://xentaxbackup.github.io/file/9673_ASA002_Bogue_1942_XML+log.zip)
## Post #308
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-09-02T01:09:09+00:00
- Post Title: Re: World of Warships

ASA004_Langley_1929 done.
[](http://fastpic.ru/view/67/2015/0902/e9d0778389b7c83ecea8e7d20a9a60ff.png.html) [](http://fastpic.ru/view/69/2015/0902/5f3baadbaf3aa541123c5e69197f32cd.jpg.html)


Again, many plane dummies is set to one position in bow part, I fill only first one - HP_Deck_18, HP_Deck_19-35 leaved empty, so those empty dummies exists in final loading.
[ASA004_Langley_1929_XML+log.zip](https://xentaxbackup.github.io/file/9674_ASA004_Langley_1929_XML+log.zip)
## Post #309
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-03T01:44:53+00:00
- Post Title: Re: World of Warships

Nice job 
You are doing this pretty fast!

OK.. I have been working on the editor a lot.
1. Re did all the translations. I found a article on the proper way to convert from direct3d to opengl.
2. Added DXT5 exporting from the swizzler along with TGA and BitMap.. DXT5 leaves artifacts because of the compression.. Its actually pretty bad.
3. Remove all hard drive buffering of the data. Its all loaded in to memory. (Loads faster)
4. Fixed the bug with the view port changing size.
5. Fixed the lighting.. Sorta. Its never going to be perfect.. Its a trade off with all the transforms.
6. Add all the XMLs you have done. *THANKS!!!*

Get it at this link. version 29.9.3 [http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)
## Post #310
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-09-03T20:19:59+00:00
- Post Title: Re: World of Warships

Thanks! 

You make a good progress too!

1. Cool, but [some directors](http://forum.xentax.com/viewtopic.php?p=109294#p109294) stays rotated wrong...
2. I'm fan of PNG, and never use TGA/BMP  Btw, it's good to have some lossles formats to export.
3. Yeah, slightly faster for me  I have 4 HDDs, and my OS installed on first one, swap file placed on second, and working files on third, so it's not a bottleneck for me.
4. Good job 
5. Game uses PBR/PBS lighting model (albedo, metalness, etc.), so it's never be the same in traditional lighting (diffuse, specular, gloss), and I not sure it's ever possible to create PBR-environment in OpenGL. But one guy make a Blender version with PBR Shader: [http://blenderartists.org/forum/showthr ... r-viewport](http://blenderartists.org/forum/showthread.php?343278-GLSL-PBR-Shader-for-viewport) - not sure it's for OpenGL btw...

And normals looks unfixed in latest version:
[](http://fastpic.ru/view/69/2015/0904/895d16344f8d934534af0ac912fc9fca.png.html)
- I can't get same hilights on outside of hull, and in Ultimate Unwrap3D normals looks right, both - vertex and face:
[](http://fastpic.ru/view/69/2015/0904/200250930e5f9de7e1ee525f7d89666d.png.html)
But they may use averaging on load, so it's not looks really good from other points:
[](http://fastpic.ru/view/69/2015/0904/953c5bad11240d732218864960ba6be4.png.html) [](http://fastpic.ru/view/69/2015/0904/107903db6dbbd23fc3e4feb705ec088f.png.html)
Btw, I totally lost with your hilights, they present mostly from front(back?) side of main model and childs, and if child rotated, hilights also rotated, hilights also fully disappear if I disable diffuse2 channel, but most strange thing is changing direction of appearing with view change:
[](http://fastpic.ru/view/69/2015/0904/73a84e6bef70dbe76c6097ca157490b1.png.html)
- secondary guns hilighted from front.
[](http://fastpic.ru/view/69/2015/0904/72cbfd97664f1c79eb35eb2a6ea1389d.png.html)
I moving camera close and hilights disappear...
Now this gun have hilight from 45 degree view:
[](http://fastpic.ru/view/69/2015/0904/99c7dbb1b01230341b3f59623b02bbda.png.html)
 

6. You missed JSC005, JSC007 and JSC031 
Also leaved ASA015_Midway_1945_backup.xml in distributive.
## Post #311
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-09-03T21:51:09+00:00
- Post Title: Re: World of Warships

JSA009_Ryujo_1933 done.
[](http://fastpic.ru/view/68/2015/0904/6719e30c5ff40cce6f5bfebe9524eabe.png.html) [](http://fastpic.ru/view/70/2015/0904/7b0541dd0aa4dcc2de45ac0c2ffe4e21.jpg.html)


Old bug with sub-node position is present here:
[](http://fastpic.ru/view/70/2015/0904/912102522f7daa9a107e5d7a6a962c0c.png.html)
[JSA009_Ryujo_1933_XML+log.zip](https://xentaxbackup.github.io/file/9677_JSA009_Ryujo_1933_XML+log.zip)
## Post #312
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-09-03T22:25:47+00:00
- Post Title: Re: World of Warships

JSA007_Zuiho_1940 done.
[](http://fastpic.ru/view/69/2015/0904/a1f1662e332ddd684cc8ea65a9fb5bd2.png.html) [](http://fastpic.ru/view/71/2015/0904/b43da9728d2c5f109f5653bc13d214e7.jpg.html)


One finder rotated wrong:
[](http://fastpic.ru/view/69/2015/0904/5444c4073fc2d212a31dfb84de10832a.png.html)


Also strange bug with bow lighting present here - if I load bow part it's lighted very dark:
[](http://fastpic.ru/view/69/2015/0904/e8459114d19ab0b2eb02b27b559b8f6c.png.html)
But after I add MidFront part, lighting changes to normal:
[](http://fastpic.ru/view/69/2015/0904/19f8d58ae1c3c95a8a29f54b9e761e8c.png.html)

* After I reload editor, bow opens with normal lighting, then I add MidFront and nothing changes, then I open bow alone and it's dark again.
[JSA007_Zuiho_1940_XML+log.zip](https://xentaxbackup.github.io/file/9679_JSA007_Zuiho_1940_XML+log.zip)
## Post #313
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-09-03T22:46:35+00:00
- Post Title: Re: World of Warships

JSA002_Hosho_1939 done.
[](http://fastpic.ru/view/67/2015/0904/128eb28269b609a3db6c9cf264b10d47.png.html) [](http://fastpic.ru/view/71/2015/0904/ea5acac41cf471278bf7f9871cbd5d90.jpg.html)


Finders rotated backward.
[JSA002_Hosho_1939_XML+log.zip](https://xentaxbackup.github.io/file/9680_JSA002_Hosho_1939_XML+log.zip)
## Post #314
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-03T22:51:46+00:00
- Post Title: Re: World of Warships

Hey Andrakann..
Nice job putting these XMLs together!

Some of these things that are not rotating in to position correctly have me at a loss.
I can only change the loaded matrix to one value.
This is what Im doing for the guns.

```
                                    children(kid_group).kid(jj).row0.x, children(kid_group).kid(jj).row0.y, children(kid_group).kid(jj).row0.z, 0.0F, _
                                    children(kid_group).kid(jj).row1.x, children(kid_group).kid(jj).row1.y, children(kid_group).kid(jj).row1.z, 0.0F, _
                                    -children(kid_group).kid(jj).row2.x, -children(kid_group).kid(jj).row2.y, -children(kid_group).kid(jj).row2.z, 0.0F, _
                                    children(kid_group).kid(jj).row3.x, children(kid_group).kid(jj).row3.y, children(kid_group).kid(jj).row3.z, 1.0F _
                                    }

```

Note Im flipping the sign of the row2.
The Direct3d documents say to flip the Z in the projection matrix and than flip that row. It works on some types of models but not all. I can not figure out why some need this and some don't to transform correctly. Its like the models are wrong to start with.

The reason some of the models lighting is goofy is because of this transform. I found that multiplying the normal by the normal matrix makes things look worse.
When I'm not so tired, Ill add code to multiply the normals by the transform matrix and see if that fixes the lighting. In theory it should bring the normals in to the right orientation.

Also, I think the reason the bow is dark when loaded alone is because of the code that fits the window to the loaded model. I think the light is being positioned wrong. I need to look at that.
I can add PNG to the list of save formats as well.. It should not be any problem.

EDIT:
Also, There are other models hiding in some of the main guns. If you look at the gun turrets that have the rafts on them, those rafts are in side the guns .visual file. They have the same damn naming as the port files. The actual name is not there.. just the obscure name. Im sure this is where that missing frame is at on the Yamoto's 2nd forward and aft guns.
## Post #315
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-03T23:02:47+00:00
- Post Title: Re: World of Warships

One more thing..
I forgot to mention...
The editor has 2 paths for the 2 modes .. WOTs or WOWs..
Once these paths are set, changing game modes will load the right path for that game.
## Post #316
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-09-03T23:24:38+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> I can add PNG to the list of save formats as well.. It should not be any problem.
It's would be really cool! 

> Also, There are other models hiding in some of the main guns. If you look at the gun turrets that have the rafts on them, those rafts are in side the guns .visual file. They have the same damn naming as the port files. The actual name is not there.. just the obscure name. Im sure this is where that missing frame is at on the Yamoto's 2nd forward and aft guns.
Erm... Finally you found this "grandchilds" problem, which I mentioned [long ago](http://forum.xentax.com/viewtopic.php?p=108988#p108988) 

So, we need new version of WoWS XML Creator...
Good time to fix some bugs in this tool:
- catapults path didn't contain nation folder (catapult\UNKNOWN_ITEM instead of usa\catapult\UNKNOWN_ITEM)
- radars didn't have any paths (ARS it's usa\radar\search, ARF it's usa\radar\fcontrol, etc.)
- flags paths can be fixed to those:
uk\misc\BM002\BM002.model
usa\misc\AM032\AM032.model
japan\misc\JM001\JM001.model
russia\misc\RM001\RM001.model
germany\misc\GM021\GM021.model

> The editor has 2 paths for the 2 modes .. WOTs or WOWs..
>
> Once these paths are set, changing game modes will load the right path for that game.
Cool, and good to know 
Btw, I need to set path everytime as editor version changes...
## Post #317
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-03T23:45:29+00:00
- Post Title: Re: World of Warships

I guess I could store the paths in the users temp data area.
I don't like leaving junk that will never be deleted but its minor.

I'm not sure how to deal with the grandchild items. We dont want to be writing grandchild XMLs.
I think a better solution is to add them to the master some how.
I need to think about this.

EDIT:
I'll work on the XML Creator when I get home tomorrow.
## Post #318
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-03T23:58:35+00:00
- Post Title: Re: World of Warships

You know, it looks like the actual name of the raft (boat) is in the guns .visual
I can look for them if the .visual is for a main gun.
I can also do this for the catapult. Still.. The actual plane type is not given. We will need a work-around.

If you look that midway backup xml, it shows one way of adding extra things.
The code is already done and in the editor.
## Post #319
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-09-04T01:30:37+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> I guess I could store the paths in the users temp data area.
I don't like leaving junk that will never be deleted but its minor.
Maybe you can add checkbox to uninstaller "Keep user settings" (checked by default)?

> You know, it looks like the actual name of the raft (boat) is in the guns .visual
>
> I can look for them if the .visual is for a main gun.
>
> I can also do this for the catapult.
And for civilian ships in location\ship\ ? :)

> The actual plane type is not given. We will need a work-around.
Torpedoes in launchers can vary also.

> If you look that midway backup xml, it shows one way of adding extra things.
>
> The code is already done and in the editor.
Maybe you just add similar nodes (without matrix) for ships XML's with *GT (torpedo launcher) and *C (catapult) with plane/torpedo type?
Then check those nodes on childs loading if need.

So we can have someting like this:

```
           <name>HP_JGT_1</name>
           <model>japan\gun\torpedo\JGT090_610mm5_Type_93R\JGT090_610mm5_Type_93R.model</model>
        </node>
        <node>
           <name>Torpedo_Type_1</name>
           <model>japan\projectile\torpedo\UNKNOWN_ITEM</model>
        </node>
        <node>
           <name>HP_JGT_2</name>
           <model>japan\gun\torpedo\JGT089_610mm5_Type_93L\JGT089_610mm5_Type_93L.model</model>
        </node>
        <node>
           <name>Torpedo_Type_2</name>
           <model>japan\projectile\torpedo\UNKNOWN_ITEM</model>
        </node>
        <node>
           <name>HP_JGT_3</name>
           <model>japan\gun\torpedo\JGT090_610mm5_Type_93R\JGT090_610mm5_Type_93R.model</model>
        </node>
        <node>
           <name>Torpedo_Type_3</name>
           <model>japan\projectile\torpedo\UNKNOWN_ITEM</model>
        </node>
        <node>
           <name>HP_JGT_4</name>
           <model>japan\gun\torpedo\JGT089_610mm5_Type_93L\JGT089_610mm5_Type_93L.model</model>
        </node>
        <node>
           <name>Torpedo_Type_4</name>
           <model>japan\projectile\torpedo\UNKNOWN_ITEM</model>
        </node>
```

And for catapults:

```
           <name>HP_JC_1</name>
           <model>japan\catapult\JC001_Catapult_Shiki2\JC001_Catapult_Shiki2.model</model>
        </node>
        <node>
           <name>Plane_Type_1</name>
           <model>japan\aircraft\scout\UNKNOWN_ITEM</model>
        </node>
        <node>
           <name>HP_JC_2</name>
           <model>japan\catapult\JC001_Catapult_Shiki2\JC001_Catapult_Shiki2.model</model>
        </node>
        <node>
           <name>Plane_Type_2</name>
           <model>japan\aircraft\scout\UNKNOWN_ITEM</model>
        </node>
```

Upd.: Only destroyers remains to fill, all with torpedoes, so I'll be waiting for your new XML tool to finish.
Next step is asking people for help with loading logs of upgraded ships on the official forum, but it's better to get editor into maximally working condition to this moment, because I can't predict devs reaction to our work, sometimes it's can be really inadequate, like demands to close project, so it's safer to have fully functional editor before we go from the underground (IMHO).
## Post #320
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-04T21:27:58+00:00
- Post Title: Re: World of Warships

OK.. I made the changes to the XML Creator.
Please test and see if its doing everything you wanted me to add 
Look for version 4 [http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)

EDIT..
If you want to add these other items to the master, they MUST have some other name but NODE.
You can call them what ever you want, just not node or my LING function will group them all together.
Just a path to where they are would be good and we can get them from the grandchild addresses?
## Post #321
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-09-05T01:05:22+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> OK.. I made the changes to the XML Creator.
Please test and see if its doing everything you wanted me to add
All in place, but most of modified nodes contains "\" in beginning of path - flags, radars, antiair, torpedo, main and secondary guns - only catapults is fine.

> If you want to add these other items to the master, they MUST have some other name but NODE.
>
> You can call them what ever you want, just not node or my LING function will group them all together.
>
> Just a path to where they are would be good and we can get them from the grandchild addresses?
Yeah, just a path in similar format, like this:

```
           <name>Torpedo_Type_1</name>
           <model>japan\projectile\torpedo\UNKNOWN_ITEM</model>
        </subnode>
```

Btw, i think you add this routine to XML tool, but it's not a problem for me to add those subnodes manually.
I can add this subnodes once in XLM, or for every torpedo launcher/catapult, in this case we need some naming standards.
## Post #322
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-05T02:13:54+00:00
- Post Title: Re: World of Warships

I cant load the midway now.. Something has changed in the file.
The port and compound files used to be exactly the same.. now they seem to be different for the midway.
## Post #323
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-09-05T03:16:29+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> I cant load the midway now.. Something has changed in the file.
The port and compound files used to be exactly the same.. now they seem to be different for the midway.
Before last patch Midway don't have compound files, but now it have (I have backup).
I think you make compound high priority, so editor tries to load compound, but XML for Midway is made from ports file.

Some ports files also edited by devs:
[](http://fastpic.ru/view/66/2015/0905/7efd1509c6205c4f955a32493d54f04d.png.html)

.primitives untouched.
## Post #324
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-05T14:47:36+00:00
- Post Title: Re: World of Warships

What is the purpose of 2 files?
It looks like the're almost copies of each other.
Think I'll look at the translations.

OK.. Im going to change the XML Creator to search both files..
I'm also going to add a checkbox to check for the old XML and a path for it
If It looks like there are a number of things that either changed names or was moved to the 2nd file.
There are a bunch of files.. here is a few, that where never in the master XML for the midway.

```
MP_AM157ASA015Bow_0_0
MP_AM157ASA015Bow_0_0
MP_CM051ASA015Bow_0_0
MP_CM051ASA015Bow_0_0
```


Does anyone have a clue why they would make 2 files containing almost all the same things?
And the names of these files.. Ports and Compound.
## Post #325
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-05T15:03:21+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> I think you make compound high priority, so editor tries to load compound, but XML for Midway is made from ports file.
Yes.. I look for compound first.. If it doesn't exist, I look for the ports file.
Im still confused why there are 2 files.
Hey.. maybe the compound only contains files that have grandchildren? Wild stab in the dark here.
EDIT: NOPE .. there are a lot of simple models in both files.
In any case, the editor is not loading a lot of the kids now. They are not in the Master XMLs.
Let me add the code to the Generator to append the existing XMLs.

LOL.. now ASC039_Pensacola_1930_Bow is using their UV map as a texture. 
Need to load the LOD model I guess
## Post #326
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-05T16:51:05+00:00
- Post Title: Re: World of Warships

Ok.. i added code to load the ***_ports.model and get the name of the file name.
Oddly it points to the compound which has less items then the ports file does.
I'll force a name change by replacing "_compound" with "ports" and see if that fixes this crap.

EDIT:
This wont work.. 
Where the ports file works for the midway, it will not for the ASC020_Des_Moines_1948_Bow. The data that matches the master XML is in the compound.
God they have this messed up. Why would you have 2 files with different names to the same items????

Edit 2:
I came up with a work around for the 2 files.
If it craps out (comes up with a missing file), it starts the child loading over with the other file.
First I try the compound and if that fails, I try the port.. It seems to work so far.
Im going to make a change to the auto fitting of the view port (position the light correctly) and I'll upload the new version after.
Look for my next post to know when this update is ready.
## Post #327
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-05T20:21:41+00:00
- Post Title: Re: World of Warships

Ok...
Got some good news.
I found out how to fix the normals.. 
I multiply them by the upper 3x3 matrix from the transforms and than normalize their length. 
I fixed the startup lighting issue also
I did NOT add the PNG save yet or the saving of the 2 game mode paths.

I just wanted to get this out for testing ASAP.
Please, anyone that's testing this respond OK?
I uploaded the MSI and a zip.. 
Get version 29.9.4 here : [http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)

Not sure anyone knows this but:
F2 spins the light and F3 spins the camera and the P key pauses them both.
## Post #328
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-09-05T20:40:52+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Why would you have 2 files with different names to the same items????
Ports have one link for one mount point, in compounds identical items grouped to single file with one mount point for every ship's part, so in game they loads simultaneously.

Ports uses only base model:
[](http://fastpic.ru/view/66/2015/0906/197ee5cc8514ec26513fd113a6a6f557.png.html)

Compounds use another primitive where first model is grouped to one mount point:
[](http://fastpic.ru/view/66/2015/0906/8942989d58d9b8e14653c24708854721.png.html)

PS: For editing purposes it's better to use ports only, because here one mount point = one item, and you can move/rotate it alone, without need to ungroup/detach. But loading take more time.
## Post #329
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-09-06T03:26:37+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Ok...
Got some good news.
I found out how to fix the normals.. 
I multiply them by the upper 3x3 matrix from the transforms and than normalize their length. 
I fixed the startup lighting issue also
I did NOT add the PNG save yet or the saving of the 2 game mode paths.

I just wanted to get this out for testing ASAP.
Sad, I didn't see this message, because I writing my post in same time, then not check previous...

Anyway, you did it! Great work! 
All looks just perfect for me, even childs stopped being different lit!
[](http://fastpic.ru/view/65/2015/0906/fed6eb8d97974b48f83dac5c9e76f8ce.png.html)

> Not sure anyone knows this but:
>
> F2 spins the light and F3 spins the camera and the P key pauses them both.
Nobody know this for sure! And it's very useful!
## Post #330
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-06T08:11:54+00:00
- Post Title: Re: World of Warships

I can't thank you enough Andrakann for all the effort you have put in to this.

And thanks for the info on the 2 file formats. Hopefully this wont be an issue later.

The lighting does work but the specular seems to be backwards.. I'll look in to that later.

I uploaded a new version 29.9.5
In this version I added:
1. Can set the back ground color of the render window. It can be set to gradient by selection 2 different colors.
Look under the Graphic Settings Menu.
2. I added onscreen help which shows the short cut keys and how to navigate.
3. I added some more short cut keys. G for Grid.. X for XML Folder view.. H for Help (was F1) and some others.

Tomorrow I'll work on the XML Generator again and add what ever you need to finish up the Masters.
Just let me know my friend 
Its 4:00 AM here and I'm tired and ready for sleep.

There are a few typos in the "on_screen_help.txt" file. If you wanna fix them, just change that file and reload the Editor. 
Its in the folder where the editor was installed.
## Post #331
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-06T08:13:12+00:00
- Post Title: Re: World of Warships

I can't thank you enough Andrakann for all the effort you have put in to this.

And thanks for the info on the 2 file formats. Hopefully this wont be an issue later.

The lighting does work but the specular seems to be backwards.. I'll look in to that later.

I uploaded a new version 29.9.5
In this version I added:
1. Can set the back ground color of the render window. It can be set to gradient by selecting 2 different colors.
Look under the Graphic Settings Menu.
2. I added onscreen help which shows the short cut keys and how to navigate.
3. I added some more short cut keys. G for Grid.. X for XML Folder view.. H for Help (was F1) and some others.

Tomorrow I'll work on the XML Generator again and add what ever you need to finish up the Masters.
Just let me know my friend 
Its 4:00 AM here and I'm tired and ready for sleep.

There are a few typos in the "on_screen_help.txt" file. If you wanna fix them, just change that file and reload the Editor. 
Its in the folder where the editor was installed.
## Post #332
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-06T19:08:07+00:00
- Post Title: Re: World of Warships

I am getting ready to update the FBX exporter to deal with the child models.
In order to do this and as requested, I need to grab all the bone information from the .visuals.
One nice thing about using LINQ with datasets is the auto indexing of related data.
Look at these example table from this project:

As you can see, node_Id is the Id of each node.. node_Id_0 is saying what node_Id this node belongs to.
In order to read this in a 'select from' statement, there can be no NULL values.. However, node_Id_0 row0 is always NULL.
This is because of obvious reasons but still because of it, I cant use a "Select" statement. 
For the last 4 hours I have been screwing with trying to remove that first row. Its not needed anyway as all nodes sit under the root node.
I have even posted a question at [stackoverflow](http://stackoverflow.com/questions/32426809/vb-net-deleting-row-from-datatable-is-removing-all-rows//url) asking for help.
Every damn time it deletes every row in the table and I have no Idea why. It is driving me NUTS!
## Post #333
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-06T20:18:16+00:00
- Post Title: Re: World of Warships

OK folks.. Step right up and give a hand.
Here are the nodes extracted from the Japanese 96 gun:

```
Name:Root                    	Node_Id:1	Node_Id_0:0
Name:Rotate_Y                	Node_Id:2	Node_Id_0:1
Name:Rotate_X                	Node_Id:3	Node_Id_0:2
Name:Roll_Back3              	Node_Id:4	Node_Id_0:3
Name:HP_gunFire3             	Node_Id:5	Node_Id_0:4
Name:Roll_Back3_BlendBone    	Node_Id:6	Node_Id_0:4
Name:Roll_Back2              	Node_Id:7	Node_Id_0:3
Name:HP_gunFire2             	Node_Id:8	Node_Id_0:7
Name:Roll_Back2_BlendBone    	Node_Id:9	Node_Id_0:7
Name:Roll_Back1              	Node_Id:10	Node_Id_0:3
Name:HP_gunFire1             	Node_Id:11	Node_Id_0:10
Name:Roll_Back1_BlendBone    	Node_Id:12	Node_Id_0:10
Name:HP_gunFireEffect        	Node_Id:13	Node_Id_0:3
Name:Rotate_X_BlendBone      	Node_Id:14	Node_Id_0:3
Name:Rotate_Y_BlendBone      	Node_Id:15	Node_Id_0:2
Name:Root_BlendBone          	Node_Id:16	Node_Id_0:1
Name:Type96                  	Node_Id:17	Node_Id_0:0
```

I need a diagram of how these need to be linked. I am not a Bone Doctor
## Post #334
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-07T03:19:34+00:00
- Post Title: Re: World of Warships

Had to fix the XML I attached to this post.. It was missing about 6 items for what ever reason.

I'm actually thinking this is going to only get worse until the completely break the entire thing.
[JSA017_Hakuryu_1942.zip](https://xentaxbackup.github.io/file/9691_JSA017_Hakuryu_1942.zip)
## Post #335
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-09-07T07:57:54+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> I can't thank you enough Andrakann for all the effort you have put in to this.
You are welcome 
Btw. I need it working too! 

> I uploaded a new version 29.9.5
>
> In this version I added:
>
> 1. Can set the back ground color of the render window. It can be set to gradient by selecting 2 different colors.
>
> Look under the Graphic Settings Menu.
>
> 2. I added onscreen help which shows the short cut keys and how to navigate.
>
> 3. I added some more short cut keys. G for Grid.. X for XML Folder view.. H for Help (was F1) and some others.
Helpful additions! 

> Tomorrow I'll work on the XML Generator again and add what ever you need to finish up the Masters.
>
> Just let me know my friend
I'm really busy today - replacing windows in my apartment (not OS  ), from wooden to composite.
It's going to be a crazy day, so I can't focus to development enough good.

But I really think you need to add some code from XML tool to Editor, so it's be able to read paths to misc stuff by itself.
And only looking into XML for unknown paths - for guns, finders, planes, etc.
It's also makes Editor able to fully read any civilian ships with childs, because they didn't have parts with undetectable path.
So we can avoid this:

> Reply from Coffee
>
> I'm actually thinking this is going to only get worse until the completely break the entire thing.

> Reply from Coffee
>
> Every damn time it deletes every row in the table and I have no Idea why. It is driving me NUTS!
Maybe it's because this bone is root, and all others related to it?
Game characters also have one main root bone, and if you need to move or rotate entire character, you move this bone.
Other bones only deforms related parts, but not moves character.

> Reply from Coffee
>
> I need a diagram of how these need to be linked. I am not a Bone Doctor
So, we need a doctor for consulting 
Something like Unwrap 3D:
[](http://fastpic.ru/view/67/2015/0907/835764b150eb923244d4c49ccee81ddc.png.html)
So, we have 3 bones here, root and 2 for barrels.
I think, root bone only have some rotation around Y-axis (in terms of your editor), maybe with some limitation (not 360 degrees).
Barrel bones imitates recoil (rollback) from firing, also with limits (but I'm not sure where those limits).
## Post #336
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-07T19:54:54+00:00
- Post Title: Re: World of Warships

Thanks for the info...
I will work on the XML creator now that I have the editor in a better state.

I just uploaded version 29.9.6
This fixes a bunch of bugs and updates a few things.
1. Added a few more short cut keys.
2. Added more functionality to the back color setting panel.
3. Fixed bugs related to loading from dbl clicking a .primitive in explorer.
    (YES, you can associate .primitives with the Model Editor)
4. Now when the editor loads a model via double clicking in explore, it will figure out what mode the editor needs to be in.
    (This will only work if it can find warships or tanks in the files path.)
5. Added a Tie Fighter model so there is something to look at when
    the editor opens and also so there is something in the back color setting window.
6. I think I finally figured out the uninstall before install problem.

You can get the latest version here : [http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)

Please, all you others that are downloading this, Please post any issues with it or send me a PM.
I can't fix it if I can't reproduce the problem!
## Post #337
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-09-08T04:10:42+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> I just uploaded version 29.9.6
This fixes a bunch of bugs and updates a few things.
2. Added more functionality to the back color setting panel.
6. I think I finally figured out the uninstall before install problem.
2. Can you also include option for grid color change?
[](http://fastpic.ru/view/70/2015/0908/ee8e9a3960c2cd3265c75fc85a02003b.png.html)
6. Yes, it works!  I install new version without uninstalling old first, and old version uninstalls silently during installation of new 
No more "Uninstall old version first" messages - cool! 

PS: You forgot to add some XMLs to folder - see attached archive.

PPS: And I forgot to comment:

> Reply from Coffee
>
> Had to fix the XML I attached to this post.. It was missing about 6 items for what ever reason.
All those items is autodetectable, if you make editor able to detect paths like XML tool - those modifications from devs doesn't make really matter.
And in JSA017_Hakuryu_1942 from latest editor version one more item exist, so it's progressing.
Another way it's adding some routine to comparison XMLs from last scan and previous in XML tool, so we can track changed ones.
[XMLs.zip](https://xentaxbackup.github.io/file/9700_XMLs.zip)
## Post #338
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-08T20:18:59+00:00
- Post Title: Re: World of Warships

Glad its Uninstalling now! Only took 3 tries to get it to work 

I can add an color option for the grid. Pretty easy.

I thought I may have missed the new XMLs. They were tagged as downloaded here so I thought I got them already LOL.
Just drop them in the WoWs_Scripts folder and it will find them when you load those ships.

About adding code to find missing child paths.
Yes.. I can do that. It will probably slow the loading down to a crawl if there are more than a few missing kids.
## Post #339
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-08T21:22:56+00:00
- Post Title: Re: World of Warships

OK...
I Uploaded version 5 of the XML Creator Tool. (MSI and ZIP formats) This too should uninstall the older version. (I hope)

[http://209.159.152.184:8080/WoW/WoW_Xml ... _ver_5.zip](http://209.159.152.184:8080/WoW/WoW_Xml_Creator_Tool_ver_5.zip)
## Post #340
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-09-08T23:48:33+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> About adding code to find missing child paths.
Yes.. I can do that. It will probably slow the loading down to a crawl if there are more than a few missing kids.
Would be great 
Just put dummy to all missing kids, so we can track it.

> Reply from Coffee
>
> I Uploaded version 5 of the XML Creator Tool. (MSI and ZIP formats) This too should uninstall the older version. (I hope)
Yep, uninstall works fine 

I add subnodes for JSC034_Zao_1944.xml - check it, and if all is ok, I'll continue adding subnodes this way.
I used names like "HP_PT_1" for Projectile Torpedo (note, I skipped nation letter, so it's not "JPT", "APT", etc.) and "HP_CP_1" for Catapultable Plane 
Subnodes added in same number as main nodes, in case if some ships have two or more types of torpedoes (btw, no second type of projectiles so far).
[JSC034_Zao_1944.zip](https://xentaxbackup.github.io/file/9704_JSC034_Zao_1944.zip)
## Post #341
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-09T00:54:49+00:00
- Post Title: Re: World of Warships

Nice.
Hey.. Before we get to carried away on adding the other things in the subnodes, I need to figure out how to get the transform matrix. 
Ill use that one and see what I can do with it but.. don't put to much effort in to this yet.

I uploaded 29.9.7 of the editor, it has the code to set the grid color and save/recall at startup.
Also, I added code to deal with some of the models using a strange format for the texture XMLs (MFM).
Its wierd..

```
Texture="content/gameplay/usa/projectile/bomb/textures/US_UP_400_d.tga">diffuseMap</property>
</material>

```

I have never seen that before but, I dealt with it and it works now  
EDIT... I actually wish they did all the texture IDs like that... Its super easy to grab the string between the 2 quotes.
## Post #342
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-10T20:08:13+00:00
- Post Title: Re: World of Warships

I added code to search for any item missing in the master XML. If it can be found using the name, it finds it.
I am going to add code tonight to find what it can when there is no master XML.
If I get this done before I have to sleep, I'll upload the new version.
## Post #343
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-10T23:09:21+00:00
- Post Title: Re: World of Warships

Alright....
I just uploaded version 29.9.8 of the editor.
This incorporates some of the code from the Master XML Generator to find the children models based on their names. It works with or with out a master. 
With out Andrakann's master XML's it will never find a lot of the children.
[http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)
## Post #344
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-09-12T16:44:50+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> I just uploaded version 29.9.8 of the editor.
This incorporates some of the code from the Master XML Generator to find the children models based on their names. It works with or with out a master.
Super cool! And working fine, but I not much testing it so far - really busy last days iRL.
Lighting looks even better, or I just not adapted for new look 

Some strange flattenning on some ships bottom, but cracks flattened same way, so I think it's devs cheating polycount...
Btw, normals looks strange too:
[](http://fastpic.ru/view/71/2015/0912/364e2b59a0a89b1a4239ab5d441fde23.png.html)
Flags also bugged in some way - dummies and half of flag loaded at same time:
[](http://fastpic.ru/view/72/2015/0912/30aa8592ba652b091b551fe6eb8bc479.png.html)

And what about subnodes I did for testing, it's ok or need some redone?
## Post #345
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-12T16:51:27+00:00
- Post Title: Re: World of Warships

OMG!
I just found a total idiotic bug in the Editor.
The app looks in the primitive and finds the individual parts that make up the entire model.
Some are a single mesh but some have a lot of parts like the midBack of the Midway Carrier which has 16.
What I just found was this:
In sudo code

```
get parts
call make_displaylist
next I
```

And the make lists:

```
for I = 0 to ship parts
make displaylist(i)
next I
end sub

```

Do you see the problem?
I was recreating the lists from 0 to N parts every time the make lists was called:
This is creating 0 to n-1 lists for every mesh. A total waste of time and video memory.
I can NOT believe I did this and even worse, that it has gone on for this long with out me spotting it. (From the day I started this app)
I fixed this and it will be in the next update.
I feel stupid
## Post #346
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-12T17:04:26+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> Coffee wrote:I just uploaded version 29.9.8 of the editor.
This incorporates some of the code from the Master XML Generator to find the children models based on their names. It works with or with out a master.
Super cool! And working fine, but I not much testing it so far - really busy last days iRL.
Lighting looks even better, or I just not adapted for new look 

Some strange flattenning on some ships bottom, but cracks flattened same way, so I think it's devs cheating polycount...
Btw, normals looks strange too:

Flags also bugged in some way - dummies and half of flag loaded at same time:


And what about subnodes I did for testing, it's ok or need some redone?
I have not tried the subnodes yet. I have been stuck on why it is so slow loading and I found one issue. LMAO! Read my last post. OMG I'm dumb some times. (This fix does speed it up some but its negligible) 
And yes.. That odd hull bottom shows up on a few models. I think its as you said.. Either the devs are trying to save a few polys or they made a mistake in the model. I'm going with its a mistake because the normals are all wrong as well.

Thanks for the comments.. The lighting IS much better and after 4 years of trying to sort this out, I finally got it right by reading some obscure post at some obscure site on the internet.
## Post #347
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-12T17:06:24+00:00
- Post Title: Re: World of Warships

I was not looping thru all child models. This was causing the last child to not show up. I also fixed this.

What ship is that in those images?
## Post #348
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-09-12T17:09:29+00:00
- Post Title: Re: World of Warships

Ships from World of Warships\res\content\location\ship\ looks fine too, but child list is empty, and I think this list is good place to create submeshes structure (and groups) for exporting fully composed model, what do you think about this?

> Reply from Coffee
>
> I can NOT believe I did this and even worse, that it has gone on for this long with out me spotting it. (From the day I started this app)
I fixed this and it will be in the next update.
It's old, wise and experienced bug, but you fix it! 

> What ship is that in those images?
GSB002_Tirpiz_1942
## Post #349
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-12T17:59:13+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> Ships from World of Warships\res\content\location\ship\ looks fine too, but child list is empty, and I think this list is good place to create submeshes structure (and groups) for exporting fully composed model, what do you think about this?
No sure Im following you on this.

I found and fixed the bug with that FLAG.. It was an indexing issue.
Thanks for testing this
## Post #350
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-13T01:19:32+00:00
- Post Title: Re: World of Warships

I spent the last few hours revisiting the GameParams.data file.
I searched it for every prefix for every compression format I found online.
As far as I can tell, its not compressed. I do know it starts with %BIN which is Bigworlds header for a binary file.
There are NO strings I can read. Once in a while and at best you might see 3 letters in a row but they are nonsense.
I also searched it in hex (with converted ship Ids) and found nothing.
I am however convinced this file has something to do with the construction of the ships. There is no other reason for it to be placed in the root folder of the ships if it didn't.
I think I'm going to try to disassemble the client and see if I can get a clue as to what this file is used for.
If anyone wants to take a stab at decoding that file, please by all means.. go for it!

Forget about decompiling the client. I tried 3 decompilers and all failed to even start. All I want is to know WTF is in that GameParams.data file.
## Post #351
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-09-13T03:19:23+00:00
- Post Title: Re: World of Warships

[out]
## Post #352
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-13T15:20:56+00:00
- Post Title: Re: World of Warships

Thanks for the input.
I know its binary data.. after that it could be anything.
Like you said and I agree, It's probably compressed some how.
AND.. Its probably the XMLs that build the ships.

I have 3 hex editors.. 2 can search for patterns.. None where found.
It could be compressed using some tricky method like:
Removing the headers after compression and adding them back before decompressing them.
Or.. they might be using source code from GZIP, LZW or others and are directly compressing/decompressing the data.  If this is the case, I have no idea how to decode it.
One could try reading the first DWORD (after %BIN) and use that as a size to read a chunk then,
add different zip headers to it and save it to different files with the appropriate extension. (IE .ZIP .RAR .7z )
Its a lot of work and probably wont work.


Tried to load WoWs and the .exe is fubar. I thought I made a back up before trying to decompile it. Now I get to download the game again. Oh well.. Im working on other things so It isn't a big deal.

I have been looking at the bone structures.
If you turn on bone colors in Ultimate Unwrap3D on and then shot of the material (go to material tree node and shut it off in there) then it will show what looks like weight maps. I used the Jap 96 MM gun.
I just looked and there is no color, bsp2 or any other section in the file that I think has anything to do with bone weights. There is a section called hit_locations.cmodl but, its not readable by me. (yet)
If this file is anything like the BSP2, It has an uint as the count followed by 9 sets of singles. Each 3 is a vertex (x,y,z) The uint is the number of vertices.
I don't see any reason to decode it. It has no use in what we are trying to get done here.

Im going to build and upload a new version of the editor (Need a name for this app).
version 29.9.9
give me 10 minutes.

Oh.. Forgot.
This fixes the lighting in the other modes. Wire and bump only.
Also when center clicking a child node, it shows the matrix along with its name.
Also, If you are in wire frame mode, you can click through the parent to select the child.
I move the location of the info panel to the bottom right corner of the main window. It works better this way.
Also, Mouse navigation works in the back ground color setting window now.
I fixed the stupid problem with creating unneeded display lists. (Really bad I did that).
## Post #353
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-09-13T18:23:32+00:00
- Post Title: Re: World of Warships

[out]
## Post #354
- Username: mins
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Sun Sep 13, 2015 2:47 pm
- Post datetime: 2015-09-14T01:45:22+00:00
- Post Title: Re: World of Warships

Dear Coffee.
Thanks to a good utility.
What is included in WoWs_Scripts Staying installed?
I'm sorry, but let Give detailed installation instructions.
Make efforts.
## Post #355
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-14T23:49:52+00:00
- Post Title: Re: World of Warships

> Reply from mins
>
> Dear Coffee.
Thanks to a good utility.
What is included in WoWs_Scripts Staying installed?
I'm sorry, but let Give detailed installation instructions.
Make efforts.
Hi...
There is not much to installing .. just run the MSI (MicroSoft Software Installer).
As far as the scripts, All that are done at this point are in the WoWs_Scripts folder. Every update will include these scripts and any new ones.
## Post #356
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-14T23:51:23+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> 

Search for QuickBMS on this forum.  It can test a file against hundreds of compression algorithms and hash/encryption signatures.
You don't have to search them one by one.

And it might give you some clues if you take a look at what the main executable is doing with it.
I will do that  Thanks.
## Post #357
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-14T23:56:00+00:00
- Post Title: Re: World of Warships

Just updated again .. Version 29.9.10
This adds visualizing the normals as vectors. 
Tap the M key to cycle off, mode 1 and mode 2.
Mode 1 is per vertex and mode 2 is per face. 

I had to write a shader that uses a geo shader to do this.
I actually had this done yesterday but I have been in bed with the flu.
I'm very sick.

[http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)
## Post #358
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-09-15T19:40:21+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> I'm very sick.
Get well soon! 

> This adds visualizing the normals as vectors. 
>
> Tap the M key to cycle off, mode 1 and mode 2.
>
> Mode 1 is per vertex and mode 2 is per face. 
>
> 
>
> I had to write a shader that uses a geo shader to do this.
Very cool and surprising! 
This type of normals visualisation is very informative for me 
Btw, length of vectors makes sense? Tirpitz bottom have a very tiny vectors, and lowest points not have any vectors.
And if I check "Calculate normals on load", all vectors is same size, but hull normals calculated pointing inside - maybe a bug?


PS: Builds 9 and 10 shows "Uninstall old version first" again
## Post #359
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-16T14:33:39+00:00
- Post Title: Re: World of Warships

I forgot to change the build version in the setup.
I'm uploading a new version.
I had the transform wrong for viewing the normal vectors on the parents.

Version 29.9.11 uploading.
## Post #360
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-16T14:45:18+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> 
Btw, length of vectors makes sense? Tirpitz bottom have a very tiny vectors, and lowest points not have any vectors.
And if I check "Calculate normals on load", all vectors is same size, but hull normals calculated pointing inside - maybe a bug?
Yes.. Its a bug. But the normals are wrong. There are a lot of models in World of Tanks that have messed up normals.
The tanks seem to all be fine but some buildings have the normals flipped on some polys.

update.
I looked at the Tripiz and its normals are not in unit length. I can add code to normalize them on load. (This is done in the shaders. It has to or the lighting will not work right)

When I feel better I'll work on this some more, I can't think clear with this god damn flu.
## Post #361
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-18T20:41:14+00:00
- Post Title: Re: World of Warships

well..
They fired me for missing work because of this god damn flu I have.  
Seems wrong to me. I have been in bed 90% of the time since last Sunday night.
It is a prefect example of a company caring more about money than their employee's health.
I should of gone to work anyway.. at least long enough to pass this flu over to them.
## Post #362
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-09-19T13:40:00+00:00
- Post Title: Re: World of Warships

[out]
## Post #363
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-19T15:44:37+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> Well, that sucks.  Were you full-time employee?  Could always offer to work at home if job is online or computer-related.
Yes.. 
And no.. I can't. I'm a machinist

I am giving up on the GameParams.data file.
I can't figure it out. There has to be some kind of table in this file. IT can NOT be one giant Compressed XML or can it?
## Post #364
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-09-19T21:59:39+00:00
- Post Title: Re: World of Warships

[out]
## Post #365
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-20T01:02:10+00:00
- Post Title: Re: World of Warships

That's what I was trying.
I created a simple app and was trying to find an offset where the decompressed size is.
I have had no luck yet.
Typically, they use Uint32s for everything as far as offsets or indexes.
All the numbers seem too big.
The only reference to BIN files, in what little bigworld documentation I have is not even close.
I know they use deflate for some things. Its what I had to use to get at some of the cdata files. (sections within files compressed using deflate)
With out the precompressed file size, I don't think there is a way do deflate the file. I need to look at my code again. I'm having a hard time thinking.
Maybe I'm wrong?

If there are tables in the file, I can't find them.
Bigworld usually pads tables or lists to 4 byte boundaries.
Usually these are filled with zeros/nulls. Knowing this it's easy to spot tables in the data but... not this time.
What ever method they are using is proving to be a pain to even sort out.

This flu is starting to scare me. Its been almost a full week and if anything, I feel worse.
## Post #366
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-21T16:14:04+00:00
- Post Title: Re: World of Warships

I renamed 7z.dll to _7z.dll and the game still launches and loads the ships fine.
## Post #367
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-21T18:08:26+00:00
- Post Title: Re: World of Warships

Well..
I found this:
[https://groups.google.com/d/msg/comp.co ... OF7iE12PEJ](https://groups.google.com/d/msg/comp.compression/_y2Wwn_Vq_E/SKOF7iE12PEJ)

It is a post by Mark Adler. One of the guys that wrote ZLIB.

I really wish some one would step up and help with figuring out the files format.
Being as sick as I am I just can't do this. I sit up for a few hours and I'm exhausted.
## Post #368
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-09-21T19:01:39+00:00
- Post Title: Re: World of Warships

[out]
## Post #369
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-22T14:15:16+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> We need a second .data file for comparison, to mask out any constants.

GameParams.data is the only .data file in the entire directory.  So, make a backup of GameParams.data right now, copy and rename to GameParams.data.backup, and wait for a client update.  If there's data in there that needs to be tweaked, the file will change through a client update.

[edit]
Got one.  

First 4 bytes are always %bin.
Last 4 bytes are always BDECDA78.  Which would be strange if this file was a zip file that had it bytes sorted backwards.  Zip stream pair starts with 78DA.  Reverse this file, byte-by-byte, and try zlib on it.

[edit]
It worked!  The data is text, but it's not in .xml format.  It's a list of data types (floats,ints,strings,etc...) and values.  6MB of text data.  Not sure if we can use it.  It's very jumbled.

Cool!
Let me see if I can get it decompressed here as well.
## Post #370
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-22T15:30:03+00:00
- Post Title: Re: World of Warships

Woohooo!
## Post #371
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-09-22T17:03:09+00:00
- Post Title: Re: World of Warships

[out]
## Post #372
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-23T14:13:13+00:00
- Post Title: Re: World of Warships

LOL.. laid down and never came back to the computer.

Good job Wobble at spotting that the data was stored backwards. I never expected that.

I see lots of structure in the data. I don't see how to use this data.
I does indeed look like a dump from a data base
Looks like data chunks are separated with a empty string:
S'' <- This could also be just a null entry in the data. 
Strings read as S'this is some text'
I'm guessing that:
F = a float value
I = an Integer
p?
NtRp?
p?
g?
(dp?
I don't know if this data is usable or if it has anything to do with ship assembly at this point.

Below is the section for the Midway. (Wish this site supported spoiler tags)

```
sbsS'PASA015_Midway_1945'
p6158
g3
(g4
g5
NtRp6159
(dp6160
S'ATBADefault'
p6161
g3
(g4
g5
NtRp6162
(dp6163
g420
F690
sg421
F1
sg452
F1
sg422
g3
(g4
g5
NtRp6164
(dp6165
g226
g425
sg426
F1.5
sg427
F150
sg428
F4
sg273
F8
sg429
g430
sg439
I01
sg122
F5
sg440
F1
sg441
F1
sg442
I01
sg443
F0.54000000000000004
sg444
F3
sg11
g445
sg446
(lp6166
g3257
ag3241
ag4619
ag4653
ag4559
ag4560
ag4635
ag4666
ag4561
ag4554
ag4600
ag4594
ag4555
ag4556
ag4557
ag4558
ag4562
ag4613
asg241
F0.040000000000000001
sg452
F1
sg453
F167
sg454
F1
sg455
F1
sg456
F1
sg457
F1
sg458
F4
sg228
F1
sg459
F1
sg460
F1
sg461
g462
sg283
g463
sbsg429
g464
sg475
F183
sg440
F1
sg476
F5000
sg457
F10
sg444
F10
sg4562
g3
(g4
g5
NtRp6167
(dp6168
g8
(iGameParams
TypeInfo
p6169
(dp6170
g11
g113
sg13
g114
sg14
g297
sbsg115
F0.59999999999999998
sg116
S''

```

I uploaded the decompressed file [http://209.159.152.184:8080/WoW/data.txt](http://209.159.152.184:8080/WoW/data.txt)
This file contains only 0xA0 line returns for string terminators so you need to use wordpad to look at this file.
(0xA0 hex = 10) = line return
## Post #373
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-09-23T15:03:13+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> 
p?
Looks like a "page" or "paragraph" counter, but starts from 177 and ignores string terminators.
## Post #374
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-23T15:17:59+00:00
- Post Title: Re: World of Warships

Could be..

I know that any entry that looks like this:
L4287542992L
can be found in the shiptree.xml
These are the IDs for ships and components.

EDIT:
I searched the .exe for a number of tag strings and if they are in there, I can't find them.
I do not believe the ship assembly info is in the .exe but the gameparams isnt being much help either.

Using the master XMLs works but it will probably require constant updating as WOWs evolves.
If we can crack how this data is stored and where, I can automate creating the masters. I like using the masters because they are directly readable.

I wonder if Wargaming is watching this thread closely.
## Post #375
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-09-23T20:55:26+00:00
- Post Title: Re: World of Warships

[out]
## Post #376
- Username: gr33nmous3
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Mon Sep 28, 2015 6:12 pm
- Post datetime: 2015-09-28T10:14:32+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> It's a Phython module or database object.

Just search for "ccopy_reg_reconstructor" and "c__builtin__object" and you'll get a couple hits on Google.
I don't use Phython, so I have no idea how to use it.

It's a python pickle, the game uses a few of those for network data as well.
## Post #377
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-09-28T22:13:40+00:00
- Post Title: Re: World of Warships

[out]
## Post #378
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-09-29T00:40:24+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> 6MB is too much data to look at.

You can use regex to rip out all strings between single quotes:
Code: Select allgrep32.exe "S\'[a-zA-Z0-9_/\.-]+\'" GameParams.dat.txt > GameParams_strings.txt


All content paths:
Code: Select allgrep32.exe "S\'content[a-zA-Z0-9_\\/\.-]+\'" GameParams.dat.txt > GameParams_paths.txt
I'll throw my hat in the ring, here's a response from a dev -
## Post #379
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-09-29T02:05:18+00:00
- Post Title: Re: World of Warships

[out]
## Post #380
- Username: gr33nmous3
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Mon Sep 28, 2015 6:12 pm
- Post datetime: 2015-09-29T05:19:18+00:00
- Post Title: Re: World of Warships

To get the pickle working you have to have a file named 'GameParams.py' in the same location as the main script for it's instanced classes.

```
class GPData(object): pass
class GameParams: pass

```

After this the pickle would load normally. The data does reference some additional models, but it contains a lot more than just the ships.

```
    import cPickle as pickle
except:
    import pickle

f = open('GameParams.txt')
gameParams = pickle.load(f)
f.close()

# Do something with gameParams
print gameParams['PWSD501_Blyskawica'].ArtilleryDefault.HP_WGM_1.model

```

Standard python to dump json text as well

```
f.close()

import json
class GPEncode(json.JSONEncoder):
    def default(self, o):
        return o.__dict__

f = open('PWSD501_Blyskawica.json')
f.write(json.dumps(gameParams['PWSD501_Blyskawica'], cls=GPEncode, sort_keys=True, indent=4, separators=(',', ': ')))
f.close()

```
## Post #381
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-09-29T05:24:37+00:00
- Post Title: Re: World of Warships

> Reply from gr33nmous3
>
> To get the pickle working you have to have a file named 'GameParams.py' in the same location as the main script for it's instanced classes.
Code: Select allclass TypeInfo(object): pass
class GPData(object): pass
class GameParams: pass

After this the pickle would load normally. The data does reference some additional models, but it contains a lot more than just the ships.
Code: Select alltry:
    import cPickle as pickle
except:
    import pickle

f = open('GameParams.txt')
gameParams = pickle.load(f)
f.close()

# Do something with gameParams
print gameParams['PWSD501_Blyskawica'].ArtilleryDefault.HP_WGM_1.model
Thanks m8, I put all of your scripts in a zip:[http://www.mediafire.com/download/jrqf1 ... ractor.zip](http://www.mediafire.com/download/jrqf1zr8sp1eo29/GameParams_Extractor.zip)

copy your GameParams.data file into the extracted folder, then run reverse first, then inflate - everything.py dumps all the contents into one .json (the result is a 30mb monster), shipids.py lists all the shipids and the ships they correspond to
## Post #382
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-09-29T18:33:55+00:00
- Post Title: Re: World of Warships

[out]
## Post #383
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-09-29T20:29:54+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> Awesome.  Can you get your scripts working with the latest Python version, 3.5.0?
I'm getting several errors.
I have Python26 installed and all works fine.
## Post #384
- Username: gr33nmous3
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Mon Sep 28, 2015 6:12 pm
- Post datetime: 2015-09-29T22:13:35+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> Awesome.  Can you get your scripts working with the latest Python version, 3.5.0?
I'm getting several errors.

The scripts were written for Python 2.7, I have no clue what differences python3 has with 2.
## Post #385
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-09-29T22:54:55+00:00
- Post Title: Re: World of Warships

[out]
## Post #386
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-09-30T01:16:22+00:00
- Post Title: Re: World of Warships

> Reply from TheSeeker
>
> shipids.py lists all the shipids and the ships they correspond to
Very useful, with that IDs I made a mod for previewing all available ships ingame 

[](http://fastpic.ru/view/65/2015/0930/a559e7a9a2873e86d09141b5f7afc394.jpg.html) [](http://fastpic.ru/view/65/2015/0930/23dd0cfaf2de25e88ba269a1d3248f70.jpg.html) [](http://fastpic.ru/view/65/2015/0930/1fddd40ad529d23b8f24614ed58bfa21.jpg.html)
[](http://fastpic.ru/view/65/2015/0930/97133f930793420993a14ae1c6ad890f.jpg.html) [](http://fastpic.ru/view/65/2015/0930/696ee6cf17d45d5a543381487dc9a5e3.jpg.html) [](http://fastpic.ru/view/65/2015/0930/9c246616a7786f2f4eec20ea19620408.jpg.html)

Archive content:
gui\lobby\shipstree.xml - modified ships tree, all ships unhidden, display resolution 1920x1080 is recommended.
camerasConfig.xml - camera mod for close zooming.
postfx_animations.xml - disable B/W shader in ships preview.
[preview_all_0501.zip](https://xentaxbackup.github.io/file/9806_preview_all_0501.zip)
## Post #387
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-09-30T03:28:20+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> TheSeeker wrote:shipids.py lists all the shipids and the ships they correspond to
Very useful, with that IDs I made a mod for previewing all available ships ingame 

  
  

Archive content:
gui\lobby\shipstree.xml - modified ships tree, all ships unhidden, display resolution 1920x1080 is recommended.
camerasConfig.xml - camera mod for close zooming.
postfx_animations.xml - disable B/W shader in ships preview.
I've had a mod out for quite some time that does this, except for the Worcester, Smith, and Pensacola 1930 which iirc are broken, if you click on them, they won't finish loading.
[http://forum.worldofwarships.com/index. ... tech-tree/](http://forum.worldofwarships.com/index.php?/topic/36605-mod-theseekers-extended-tech-tree/)
## Post #388
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-09-30T08:03:16+00:00
- Post Title: Re: World of Warships

[out]
## Post #389
- Username: gr33nmous3
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Mon Sep 28, 2015 6:12 pm
- Post datetime: 2015-09-30T10:21:28+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> The only reference to BIN files, in what little bigworld documentation I have is not even close

Speaking of those .BIN files, what do you know? There's only one .bin file in the game, res/particles/particles.bin and i've been trying to load that one up but I am hugely inexperienced.
## Post #390
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-09-30T19:51:20+00:00
- Post Title: Re: World of Warships

[out]
## Post #391
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-30T20:05:37+00:00
- Post Title: Re: World of Warships

This is great guys!!
So is there a way to use this to modify the master scripts or can we turn this in to something I can use with out integrating python in to .NET.
I don't think I CAN use python in .NET.

BTW.. I have been working on another project..
Busy!
## Post #392
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-09-30T20:23:37+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> 
I was wondering why you were dumping a list of shipids.  That is for modding.

Just so there's not a conflict of interest here, we would like to keep this thread about 2D/3D stuff.

I myself am not particularly interested about modding the game, the GUI, gathering ship statistics, etc...
I am only interested in 3D data.  Thanks.

hmmmm... Id not knock him to much. He has worked very hard on the master scripts.
Now if we can figure out a way to modify them using your Python skills that would be good shit !
## Post #393
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-09-30T23:32:28+00:00
- Post Title: Re: World of Warships

[out]
## Post #394
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-10-01T05:15:01+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> I was wondering why you were dumping a list of shipids.  That is for modding.
This mod is very helpful for getting loading logs for Germany ships for example, and make master.xml for them in "old school" mode.
Btw, with decoded GameParams.json I can make master.xml's for upgraded ships also, but it's much harder, because of data is spreaded over large text file (even for single ship).

> Reply from Coffee
>
> This is great guys!!
So is there a way to use this to modify the master scripts or can we turn this in to something I can use with out integrating python in to .NET.
I don't think I CAN use python in .NET.

BTW.. I have been working on another project..
Busy!
Hi Coffee!
Glad to see you is fine 
I'm worried about your flu.

I think you is not need to make any support for extracting GameParams.json, leave it for users.
I tested - game loads fine with GameParams.json extracted to same folder with GameParams.data, so it's can be a prerequisite to import ships with guns, directors, etc. in places.

It's better to concentrate in parsing this .json for data, it's looking not too hard, if you can detect tree structure and isolate branches.
I cutted off branch for "Iowa" ship, and this is how it looks (with closed sub-branches):
[](http://fastpic.ru/view/65/2015/1001/667ebb421f6500cb27833c30b06efd63.png.html)
(I hope you already installed Adblock Plus or uBlock and non butt-hurting about fastpic's ads and popups anymore )
First "surprise" is branch name - "PASB018_Iowa_1944". Because it's "Upgade B" name, not main "ASB027_Iowa_1943".
But it's not really important I think, because we firstly look for importing model name, like "ASB028_Iowa_1945.model" and it's only matches once in whole GameParams.json, and this match is "C_Hull" sub-branch of main ship's branch:
[](http://fastpic.ru/view/68/2015/1001/4b4677a8cf171e5967bc4da4bc4c2738.png.html)
So, we need to keep in mind "C" prefix of "C_Hull" branch we found, and go to upper branch level for search for childs.
Because we deal with "C" upgrade, we need "C" types of guns, radars, directors, etc.:
[](http://fastpic.ru/view/72/2015/1001/91a25ab4e7ee5b515cbe07748dde8ee8.png.html)
As you can see, some of them have "Default" type instead of "ABC(D?)", because it's the same for all upgrade levels.
So, we search for "C" in prefix or "Default" in the end of name in this sub-branches:
ATBA (secondary guns)
AirDefense (antiair guns)
Directors
Finders
Radars
AirArmament (catapults)
Artillery (main guns)
ScoutType (plane*)
Torpedoes (**)
- and find all paths we need inside of this sub-braches:
[](http://fastpic.ru/view/67/2015/1001/f2b4b2a394df2179c1b85a36c9a8ec3d.png.html)***
* at least two ships have "fighter" plane type (JSC005_Furutaka_1926 and JSC007_Aoba_1943), but those ships don't have "ScoutType" sub-branch at all, and no any path to plane model in their main branches, but in game they have this fighter on catapult, so it's can be a problem.
** sub-branch contains only path for launcher model, torpedo type have only name like "ammoList": ["PRPT001_53_36"], for RSD001_Gremyashchy_1942 ship, and another search through GameParams.json is need to find out model path and in this example it's RPT007_Torpedo_53_38.model - not really matches with "PRPT001_53_36".
*** it's good to also load _dead.model, but hidden, like cracks for hull, so we can have most complete ship model to export.

Anoter undewater rock is - some ships have "AB1_Artillery" and "AB2_Artillery" sub-branches with different guns, so maybe you add something like dialogue window popup "Multiple types of suitable childs found, please select type to load:" and list of options to select: AB1, AB2.
Or load all of them, but hidden by default except top ones (AB1 is hidden and AB2 visible in this example).
## Post #395
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-10-01T09:19:59+00:00
- Post Title: Re: World of Warships

[out]
## Post #396
- Username: gr33nmous3
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Mon Sep 28, 2015 6:12 pm
- Post datetime: 2015-10-01T11:48:57+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> 
PASB018_Iowa_1944

All the top root names start with the letter P.  Why is that?  P = Python?
A = American
S = Ship
B = Battleship

I'm guessing "Player" or "Playable", in the same sense as "Entity" or "Actor"
## Post #397
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-01T17:23:57+00:00
- Post Title: Re: World of Warships

I have not worked with jason or python.
I'll find out of I can get some kind of interface for .NET

Oh.. And thanks.. I feel better 

Im try to get a project done for some one and than Ill be back on this hard and heavy.
## Post #398
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-10-01T23:03:22+00:00
- Post Title: Re: World of Warships

[out]
## Post #399
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-10-02T00:46:54+00:00
- Post Title: Re: World of Warships

Coffee, I've got a question regarding your model editor - I use it to export WoT .primitives to .fbx, then convert them to .obj and piece the gun and hull together, and then finally export them to .stl so I can 3d print them.  This is not practical with WoWS models due to the sheer amount of children each model has - is it possible for you to modify the program so that, when you export files to .fbx, it also includes the child models?  Another thing - when you have a complete WoT model loaded (all 4 parts) and export it to .fbx, for whatever weird reason, the gun barrel is always backwards - I always have to export the gun and the rest of the tank separately.
## Post #400
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-02T03:42:27+00:00
- Post Title: Re: World of Warships

> Reply from TheSeeker
>
> Coffee, I've got a question regarding your model editor - I use it to export WoT .primitives to .fbx, then convert them to .obj and piece the gun and hull together, and then finally export them to .stl so I can 3d print them.  This is not practical with WoWS models due to the sheer amount of children each model has - is it possible for you to modify the program so that, when you export files to .fbx, it also includes the child models?  Another thing - when you have a complete WoT model loaded (all 4 parts) and export it to .fbx, for whatever weird reason, the gun barrel is always backwards - I always have to export the gun and the rest of the tank separately.
Get the version at CURSE.. I think it exports the tanks OK.
The version here got messed up trying to export the ships.
So much more to do on this project.

Yes.. the end goal is to export everything at once..
If you would like and when I can get back on this, I think I have code to export STL files. Ideally we would want these in binary. They are way smaller.
## Post #401
- Username: suhanaev
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Mon Oct 05, 2015 12:48 am
- Post datetime: 2015-10-04T17:37:25+00:00
- Post Title: Re: World of Warships

Hi guys. I installed Windows 10 that does not support the latest version of Net framevork, so the WoT Model Editor does not work and continually shows an error. Can You send me an email, model with the textures of cruiser Aurora in OBJ or FBX format? It is very necessary, please. I would be extremely grateful.

mailto: [suhanaev@mail.ru](mailto:suhanaev@mail.ru)
## Post #402
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-10-05T16:59:33+00:00
- Post Title: Re: World of Warships

> Reply from suhanaev
>
> mailto: suhanaev@mail.ru
Check it
## Post #403
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-05T17:26:21+00:00
- Post Title: Re: World of Warships

> Reply from suhanaev
>
> Hi guys. I installed Windows 10 that does not support the latest version of Net framevork, so the WoT Model Editor does not work and continually shows an error. Can You send me an email, model with the textures of cruiser Aurora in OBJ or FBX format? It is very necessary, please. I would be extremely grateful.

mailto: suhanaev@mail.ru

This is a well know issue and there is help all over the internet to get .NET working in windows 10.
Do some searching for 3.5. 4.0 and 4.5.
## Post #404
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-21T17:17:42+00:00
- Post Title: Re: World of Warships

OK...
I found a way to interface .NET with Python.
What I need is a script to convert the pickle in to XML
What I plan on doing is, loading this script as a string from a file and replacing the paths.
Whom ever writes this script can 'hard code' the paths and I'll replace them.
Once I have the XML I'm pretty sure I can lookup all the parts we need and create the master XML's.
the .NET frame work has built in functions to convert XML in to tables which makes it pretty easy to extract data.
The end goal is to have a tool that can create the masters in one pass without having to rely on any post editing.
I will need to setup a place to download the masters so as the game changes, people wont have to download and install an update to the editor just to get the masters. I could have the editor check for a revision to the masters and download updates on its own after the user OK's doing so.
I did this once before in another app by simple downloading a very short file that had only a number in it.
If the number didn't match, It would download the update and if everything was cool, it would save this new revision number for the next check at start up. In order for all of this to work, the place where this data is stored remotely must have a static address. My VPS's IP is static and will work fine for this.
Anyway...
I'm taking a break from the other project for a while to work on this project. I'ts been a while and I need to get some things done on this.

EDIT:
This Python tool I'm using only supports Python 2.7

EDIT_2
I found this.. it might help someone. I dont use python and dont want to learn it just for converting one file.
[https://code.google.com/p/pickle2txt/so ... kle2txt.py](https://code.google.com/p/pickle2txt/source/browse/trunk/pickle2txt.py)
## Post #405
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-10-21T18:22:50+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> The end goal is to have a tool that can create the masters in one pass without having to rely on any post editing.
I will need to setup a place to download the masters so as the game changes, people wont have to download and install an update to the editor just to get the masters.
Maybe you just put "WoW XML Creator 2.0" into the Editor distributive, so users can manually recreate master XMLs if game updated?
## Post #406
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-22T15:17:05+00:00
- Post Title: Re: World of Warships

I'm getting no where fast with this python shit.
Massive import exceptions.
I really need a basic script that I can pass an argument to and it will convert the pickle to XML, and save it in the same directory as the source pickle.
If some one reading this knows how to work in python, I posted an example from some site that has code to convert it but.. I don't know python enough to strip it down to the most basic functions.

If the XML is valid, I can read it right back in to a dataset.
From there I can just take what ever I want from the tables.

Here is the XML section from that link:

```
# XML

class Format_xml(Format):
    """Standard XML 1.0 using Python builtins."""

    def __init__(self):
        Format.__init__(self)

    def dict2xml(self, dct, root='Root', indent='\t'):
        """Convert a dictionary to an XML string.

        Rules:
            string -> escape(string)
            int, float -> as-is
            dict -> <key>value</key>
            tuple, list -> repeat tag for each value
            bool -> int(bool)
            None, empty string -> empty node
            other object -> escape(str(obj))

        """
        # from xml.sax.saxutils import escape
        
        def tagset(key, val, level):
            if val in (None, ""):
                return "%s<%s />\n" % (indent*level, key)

            if type(val) in (list, tuple):
                return "".join(tagset(key, v, level) for v in val)

            if type(val) is bool: 
                val = int(val)

            return "%s<%s>%s</%s>\n" % (indent*level, key, 
                                        format_value(key, val, level), key)

        def format_value(key, val, level):
            if type(val) in (float, int, str):
                pass

            elif type(val) is dict:
                lines = [tagset(k, v, level+1) for k, v in val.iteritems()]
                lines.sort()  # NB: Py dicts are unordered
                val = "\n%s%s" % (''.join(lines), indent*level)

            elif type(val) is not str:
                val = str(val)

            return val

        return tagset(root, dct, 0)

    def write(self, obj):
        """Serialize."""
        return '<?xml version="1.0" encoding="UTF-8">\n' + \
                self.dict2xml(obj.__dict__, root=__name__)


```
## Post #407
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-22T19:14:38+00:00
- Post Title: Re: World of Warships

I got python working but when I unzip the GameParams it is not complete. 
I obviously have something wrong in my unzip routine but have not located it yet.
I also think I can use the code posted before to get what I need but I need to do some testing.
## Post #408
- Username: xtcmax
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Fri Oct 23, 2015 4:04 am
- Post datetime: 2015-10-22T20:13:08+00:00
- Post Title: Re: World of Warships

Hello, Coffee.
I am interested in your project of WoWS ship viewer. I am trying to pull out ships as well to make wallpapers. I managed to pullout the hull of the ship but there are so many elements missing, like guns, AA, lifeboats, etc ,etc. I would assume the guns could be found more or less easy, but there are so many other elements. I wonder if you have any info if there is a file in the game that specifies what other miscellaneous items to be placed on ship.

Also, I have a question about .visual file. If you get this message, please reply.

Thank you
## Post #409
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-22T20:33:58+00:00
- Post Title: Re: World of Warships

> Reply from xtcmax
>
> Hello, Coffee.
I am interested in your project of WoWS ship viewer. I am trying to pull out ships as well to make wallpapers. I managed to pullout the hull of the ship but there are so many elements missing, like guns, AA, lifeboats, etc ,etc. I would assume the guns could be found more or less easy, but there are so many other elements. I wonder if you have any info if there is a file in the game that specifies what other miscellaneous items to be placed on ship.

Also, I have a question about .visual file. If you get this message, please reply.

Thank you
I am working on adding the ability to export everything but its going to take time.
In the mean time, you can install the editor (there are links to my VPS in this thread somewhere to get it) and afterwards, under the install folder there is one called "WoWs_Scripts". This has been almost the entire effort in this thread.
If the ship you want to use has a master done, all the items for that ship are listed in that file that matches the name of the ship.
Transforming these can be done by looking them up in the XML files.
## Post #410
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-22T20:37:20+00:00
- Post Title: Re: World of Warships

OK.. back on topic..

I can get the data from the GamesParams 
I am working on filtering to get the HP items and anything else that is needed.
Hey Wobble.. If you have a script for this already, please post it OK bud?
## Post #411
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-10-22T22:55:54+00:00
- Post Title: Re: World of Warships

[out]
## Post #412
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-23T00:23:05+00:00
- Post Title: Re: World of Warships

Thanks Wobble..

I am trying to get the data directly from the file after un-pickling it.
I can get tons of info but I cant figure out how to get the "HP_" variables.
I don't even know if this will work.
Almost every american ship has for example "HP_AGM_1".
If these HP_s in the gameparams can't be joined up to a particular ship, I'm not sure where Im headed.

Im tired.. I have been working on this since I got up.
I managed to get Python integrated with .NET and I can pass variables to the scripts. (good for passing the path to the gamesparams.data)
Using some of the code people have been posting in this thread, I can read and convert the data.
Now I need to figure out how to get the HP_ parts and their links to the ships.

Any insight would be helpful..
## Post #413
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-10-23T01:18:43+00:00
- Post Title: Re: World of Warships

[out]
## Post #414
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-23T13:32:19+00:00
- Post Title: Re: World of Warships

Yes.. I know this lol
The thing is.. I can't extract "HP_AGM_1" or any "HP"s so far.
This is from the ASA015_Midway_1945_MidFront_compound.visual 

```
            <identifier>   HP_Deck_31  </identifier>

```

We know this is a location of an Aircraft but nothing more.
I was hoping there was a table or something that could be used to cross reference this to the actual plane... but I'm not finding it.
I can find HP_ strings but they are not indexes or any other type. They look to be key names but so far, I cant figure out a way to find them using filtering.
Are these located under the ships tree? Maybe I need to get a json viewer.
## Post #415
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-23T18:20:39+00:00
- Post Title: Re: World of Warships

OK.. 
I found the HP_ lists for most items on the ships.. They are inside the ship objects.
I can not figure out how to read them.
I tried to access them as k.AirDefenseDefault but I can't iterate through the sub objects even tho clearly there.
I wish I knew Python.. This is being a bitch!
## Post #416
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-23T20:25:31+00:00
- Post Title: Re: World of Warships

OK..
I'm dead in the water...
The ship objects have the data.. It's nested. I can't figure out how to read it.
I don't really want to convert this from pickle to read the data. There should not be a reason to convert this to anything but an XML AFTER/WHILE getting the data out of the pickle and save that.
It takes so long just to read the data and a lot longer to write it as json. XML never did work.. it was stuck in a loop with non-stop exceptions.

Something else.. I can NOT find anything about what planes are used for the HP_Deck_n properties. If they are in there.. I can't find them and I spent a good 2 hours looking.
The best I can get are the amount of slots for them and how many planes there are for each type. The actual planes are listed in the ships object BUT.. they are just listed in the root for that ship. This makes it tough to extract them. They will have to be searched for using their prefix and.. there are a lot of nations and plane types.. 5 nations.. 4 plane types.. this means 5 x 4 different prefixes. I guess you could setup an array of strings ahead of time and search by each element in the array. That would make it easier OR.. you could get all the plane names and search using that. I however do not know how to do jack shit in Python and have no interest, as I said before, in learning it.

I need code.. examples of how to split this file by the ships and keep all its sub objects with it.. and also how to read the sub objects data.
If converting this to json first is the only option.. fine.. But that wont help me because I don't know how to work with json so I will still need some one to code exploding this data in to the ship objects.

As far as the HP_ for the guns, detectors and so on.. the ship objects have these sub objects under different names regardless of nation.
For example:
the AA guns might be under AirDefenseDefault.. or A_AirDefense.
This is the same for most items we need for the HP_

Also.. I noticed there is a lot of game data specific to hit points and damage... how much a shell does in damage.. how much HP an object has.
I sure as hell hope by figuring this file out we have not opened the door to a shit load of hacks.
## Post #417
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-10-23T23:16:23+00:00
- Post Title: Re: World of Warships

[out]
## Post #418
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-10-24T04:27:36+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> I can NOT find anything about what planes are used for the HP_Deck_n properties. If they are in there.. I can't find them and I spent a good 2 hours looking.
The best I can get are the amount of slots for them and how many planes there are for each type. The actual planes are listed in the ships object BUT.. they are just listed in the root for that ship. This makes it tough to extract them. They will have to be searched for using their prefix and.. there are a lot of nations and plane types.. 5 nations.. 4 plane types.. this means 5 x 4 different prefixes. I guess you could setup an array of strings ahead of time and search by each element in the array. That would make it easier OR.. you could get all the plane names and search using that. I however do not know how to do jack shit in Python and have no interest, as I said before, in learning it.
For ASA015_Midway_1945 I see three pre-setups - A1_FlightControl, A2B_FlightControl and A2F_FlightControl. I think A1 it's base setup and other two it's for fighters/bombers specializations or something alike.
So, we stick to A1.
Inside A1 sub-tree we have "squadrons" section, which indicates how deck is filled by planes: 6+6 fighters (HP_Deck_0-11), 6 bombers (HP_Deck_12-17), 6+6 dives (HP_Deck_18-29). This setup fully matches [in-game screenshot of this ship](http://forum.xentax.com/viewtopic.php?p=108696#p108696).
Also we have list of planes used:

```
            "planeType": "PAAB009_Douglas_AD1"
        },
        "PAUB013_A2D_SKYSHARK": {
            "planeType": "PAAB013_A2D_Skyshark"
        },
        "PAUD001_Curtiss_SB2C": {
            "planeType": "PAAD001_Curtiss_SB2C"
        },
        "PAUD005_DOUGLAS_XSB2D": {
            "planeType": "PAAD005_Douglas_XSB2D"
        },
        "PAUI010_F8F_Bearcat": {
            "planeType": "PAAF010_F8F_Bearcat"
        },
        "PAUI016_MCDONNELL_F2H": {
            "planeType": "PAAF016_McDonnell_F2H"
        },
```

So, here 2 bombers, 2 dives and 2 fighters. For me, it's good to import them all, and place 2 different models to each HP_Deck_# point, but second ones is hidden by default, so I can have really complete model for export.
Not sure I understand correctly your problem with path finding for planes - it's already in their names, for examlpe PAAF010_F8F_Bearcat have this path: (res\content\gameplay\)usA\Aircraft\Fighter\AAF010_F8F_Bearcat\AAF010_F8F_Bearcat.primitives (.model)

> Also.. I noticed there is a lot of game data specific to hit points and damage... how much a shell does in damage.. how much HP an object has.
>
> I sure as hell hope by figuring this file out we have not opened the door to a shit load of hacks.
Cheating can be easily prevented with checksums, like md5. I think it's done already.
## Post #419
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-24T14:45:03+00:00
- Post Title: Re: World of Warships

Yes.. you didn't understand what I was saying   I'll post a image.

Not only are the HP_ listed.. Inside of them is the path to the model.
Everything is there to build the entire masters.
I need help writing scripts for Python to extract the information and build a XML I can read in as a dataset.

If some one can show me how to get to just one of the sub objects in the pickle and iterate through them, I can do the rest.
ALSO.. I need to know how to find a sub objects using wildcards so I can grab the Planes using the PAU part of the name.
This will wind up being a lot of code as there are different nations and the ships have different names for the sub objects.

Right now.. I am completely lost as to how to "get at" these sub objects in the pickle.
I spent most of yesterday searching the net and trying different code. I could not get anything to work.

I Installed World of Warplanes last night. Someone was asking about my editor working with it. It used to but I don't know if it still does.
## Post #420
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-10-24T18:46:59+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> Coffee wrote:
Hey Wobble.. If you have a script for this already, please post it OK bud?

I didn't write a script, so if you're trying to automate the process, my method would probably be useless.

What I used:
JSONedit
http://tomeko.net/software/JSONedit/
http://tomeko.net/software/JSONedit/bin ... 0_9_14.zip

For validating and resaving JSON files, so they load better in other programs, like dicttoxml.

dicttoxml
https://pypi.python.org/pypi/dicttoxml
https://github.com/quandyfactory/dicttoxml

For converting JSON to XML.  Python scripting required:
Code: Select all# NOTE: dicttoxml by default is adding types to the XML
# OPTIONS:
# attr_type=False = Turn off types

import json
import dicttoxml

f = open('GameParams.json', 'r')
obj = json.loads(f.read())

xml = dicttoxml.dicttoxml(obj, attr_type=False)
#print xml

from xml.dom.minidom import parseString
dom = parseString(xml)

f2 = open('GameParams.xml', 'w')
f2.write("%s" % dom.toprettyxml())
f2.close()
OK, you can use the .json to .XML script with IKU's pickle-to-json script

[http://www.mediafire.com/download/9hupl ... ractor.zip](http://www.mediafire.com/download/9huplo03m05ols1/Extractor.zip)

Run reverse and then inflate, then everything.py
## Post #421
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-10-24T18:50:19+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> Coffee wrote:I can NOT find anything about what planes are used for the HP_Deck_n properties. If they are in there.. I can't find them and I spent a good 2 hours looking.
The best I can get are the amount of slots for them and how many planes there are for each type. The actual planes are listed in the ships object BUT.. they are just listed in the root for that ship. This makes it tough to extract them. They will have to be searched for using their prefix and.. there are a lot of nations and plane types.. 5 nations.. 4 plane types.. this means 5 x 4 different prefixes. I guess you could setup an array of strings ahead of time and search by each element in the array. That would make it easier OR.. you could get all the plane names and search using that. I however do not know how to do jack shit in Python and have no interest, as I said before, in learning it.
For ASA015_Midway_1945 I see three pre-setups - A1_FlightControl, A2B_FlightControl and A2F_FlightControl. I think A1 it's base setup and other two it's for fighters/bombers specializations or something alike.
So, we stick to A1.
Inside A1 sub-tree we have "squadrons" section, which indicates how deck is filled by planes: 6+6 fighters (HP_Deck_0-11), 6 bombers (HP_Deck_12-17), 6+6 dives (HP_Deck_18-29). This setup fully matches in-game screenshot of this ship.
Also we have list of planes used:
Code: Select all        "PAUB009_Douglas_AD1": {
            "planeType": "PAAB009_Douglas_AD1"
        },
        "PAUB013_A2D_SKYSHARK": {
            "planeType": "PAAB013_A2D_Skyshark"
        },
        "PAUD001_Curtiss_SB2C": {
            "planeType": "PAAD001_Curtiss_SB2C"
        },
        "PAUD005_DOUGLAS_XSB2D": {
            "planeType": "PAAD005_Douglas_XSB2D"
        },
        "PAUI010_F8F_Bearcat": {
            "planeType": "PAAF010_F8F_Bearcat"
        },
        "PAUI016_MCDONNELL_F2H": {
            "planeType": "PAAF016_McDonnell_F2H"
        },
So, here 2 bombers, 2 dives and 2 fighters. For me, it's good to import them all, and place 2 different models to each HP_Deck_# point, but second ones is hidden by default, so I can have really complete model for export.
Not sure I understand correctly your problem with path finding for planes - it's already in their names, for examlpe PAAF010_F8F_Bearcat have this path: (res\content\gameplay\)usA\Aircraft\Fighter\AAF010_F8F_Bearcat\AAF010_F8F_Bearcat.primitives (.model)
Also.. I noticed there is a lot of game data specific to hit points and damage... how much a shell does in damage.. how much HP an object has.
I sure as hell hope by figuring this file out we have not opened the door to a shit load of hacks.
Cheating can be easily prevented with checksums, like md5. I think it's done already.
Cheating is prevented because the actual calculation is done server-side, if there's a desync between the server-side GameParams file and the client-side one, you won't be able to even log in
## Post #422
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-24T19:38:35+00:00
- Post Title: Re: World of Warships

Thanks...
I am reversing the original file in VB.net
Single line :

```

```

Than I decompress in VB as well. 

```
        Dim s As New MemoryStream(data)
        s.Position = 0
        '---------------------------------------------------------
        'decompress the data
        Dim Decompress As Ionic.Zlib.ZlibStream = New Ionic.Zlib.ZlibStream(s, Ionic.Zlib.CompressionMode.Decompress, False)
        ' Copy the compressed file into the decompression stream. 
        Dim buffer As Byte() = New Byte(4096) {}
        Dim numRead As Integer = 1
        Do While numRead <> 0
            numRead = Decompress.Read(buffer, 0, buffer.Length - 1)
            ReDim Preserve buff((numRead + cnt) - 1)
            Dim ed = numRead + (cnt - 1)
            Dim pos As Integer = 0
            For i = cnt To ed
                buff(i) = CByte(buffer(pos))
                pos += 1
            Next
            cnt += numRead
        Loop
        Decompress.Dispose()
        '------------------------------------------------------------

```

After this I run the the Python on it to convert it to JSON
I'm going to write a parser for the JSON.
I found a .NET tool called JASON.NET and Im playing with that now but..
The json has so many objects that are different in size, what I have tried with it has not worked.
What I think I'm going to do first is write an extractor for the ships.
To do this Im going to first search the file for any ship header .. they are consistent in their naming.
"PASA" = American Ship Aircraft Carrier. 
"PJSA" = Japan Ship Aircraft Carrier. 
This all changed
This is probably not the best way to do things but I have control over how I extract it and bugs will be my fault.. not some outside code.
Once I spent weeks trying to debug part of a program and in the end.. it was the freaking calls to a buggy 3rd party app that was killing me.
## Post #423
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-24T22:50:42+00:00
- Post Title: Re: World of Warships

OK..
I have split off the ship sections of the Json.
I am trying to convert these in to XML.
It don't work.
Says name can not start with "6"

See attached file.
Has to be zipped or i cant attach it.
[PASA002_Bogue_1942.zip](https://xentaxbackup.github.io/file/9915_PASA002_Bogue_1942.zip)
## Post #424
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-10-24T23:41:04+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> I Installed World of Warplanes last night. Someone was asking about my editor working with it. It used to but I don't know if it still does.
Good news 
I think Warplanes don't have a much difference from Tanks, so it's not going to be a pain-in-ass like Warships 

PS: I put your json [here](http://www.utilities-online.info/xmltojson/) and didn't have any error... attached.
[PASA002_Bogue_1942_xml.zip](https://xentaxbackup.github.io/file/9916_PASA002_Bogue_1942_xml.zip)
## Post #425
- Username: gr33nmous3
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Mon Sep 28, 2015 6:12 pm
- Post datetime: 2015-10-25T01:55:38+00:00
- Post Title: Re: World of Warships

The issue he's having is that armor values are a dictionary with numbers on both sides, meaning the keys will be plain numbers.
In XML, keys cannot start with a number.

Try this script

```
    def __init__(self, unsafe=False, showtypes=True):
        self.unsafe = unsafe
        self.showtypes = showtypes

    def __convertdict(self, obj, root, indent='\t', level=0):
        lines = ["%s<%s>" % (indent * level, root)]
        for key in obj:
            lines += self.__helptype(obj[key], key, indent, level + 1)
        lines += ["%s</%s>" % (indent * level, root)]
        return lines

    def __convertlist(self, obj, root, indent='\t', level=0):
        lines = []
        for value in obj:
            lines += self.__helptype(value, root, indent, level)
        return lines

    def __convert(self, obj, root, indent='\t', level=0):
        showtype = ""
        if self.showtypes:
            showtype = " type=\"%s\"" % type(obj).__name__

        if not self.unsafe:
            if type(root) == int or type(root) == float or type(root) == long or type(root) == complex:
                lines = []
                if self.showtypes:
                    showtype += " keytype=\"%s\"" % type(root).__name__
                lines += ["%s<value key=\"%s\"%s>" % (indent * level, root, showtype)]
                lines += ["%s%s" % (indent * (level + 1), obj)]
                lines += ["%s</value>" % (indent * level)]
                return lines
        return ["%s<%s%s>%s</%s>" % (indent * level, root, showtype, str(obj), root)]

    def __helptype(self, obj, root, indent, level):
        if hasattr(obj, '__dict__'):
            return self.__convertdict(obj.__dict__, root, indent, level)
        elif type(obj) == dict or type(obj) == map:
            return self.__convertdict(obj, root, indent, level)
        elif type(obj) == list or type(obj) == tuple or type(obj) == hash:
            return self.__convertlist(obj, root, indent, level)
        else:
            return self.__convert(obj, root, indent, level)

    def convert(self, obj, root='Object', indent='\t', level=0):
        lines = ['<?xml version="1.0" encoding="UTF-8" ?>']
        lines += self.__helptype(obj, root, indent, level)
        lines += ['']

        return '\n'.join(lines)

```


Usage:

```
xmlenc = XMLEncoder()
f.write(xmlenc.convert(data['PASA002_Bogue_1942'], 'PASA002_Bogue_1942'))
f.close()

```


It should safely wrap numerical keys in 
```
<value key="key">value</value>
```
 tags, it also prints which type the values are.
You can disable either behaviour with:

```

```
## Post #426
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-25T15:24:05+00:00
- Post Title: Re: World of Warships

Thanks guys but...
I decided to do it the hard way and write code to grab the parts I/we need.
I can get all the planes for a ship at this point but.. Im also picking up copies and the upgrades.
I don't think this will matter.
When I get to the point of writing the xml chunks for the ships, I will try to get the ungraded plane.
I figure if there are more than one fighter in the list and the names don't match.. the 2nd one found has to be the upgrade.
This should be true for all planes in the list.
## Post #427
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-25T16:28:39+00:00
- Post Title: Re: World of Warships

OK..
I need some one to look at this and tell me if this is correct. I would do it my self but I'm trying to get this code done.
It looks like there are 2 different planes for the types.. for example, the fighters.
Look at what I have extracted and confirm for me that this makes sense.
Thanks!

```
["Fighter",6],["Fighter",6],["Bomber",6],["Dive",6]]
00 AAB002_Grumman_TBF
01 AAB009_Douglas_AD1
02 AAD001_Curtiss_SB2C
03 AAD004_Douglas_SBD2
04 AAF010_F8F_Bearcat
05 AAF012_Vought_F4U
06 AAB002_Grumman_TBF
07 AAB009_Douglas_AD1
08 AAD001_Curtiss_SB2C
09 AAD004_Douglas_SBD2
10 AAF010_F8F_Bearcat
11 AAF012_Vought_F4U
------------
ASA015_Midway_1945
["Fighter",6],["Fighter",6],["Bomber",6],["Dive",6],["Dive",6]]
00 AAB009_Douglas_AD1
01 AAB013_A2D_SKYSHARK
02 AAD001_Curtiss_SB2C
03 AAD005_DOUGLAS_XSB2D
04 AAF010_F8F_Bearcat
05 AAF016_MCDONNELL_F2H
06 AAB009_Douglas_AD1
07 AAB013_A2D_Skyshark
08 AAD001_Curtiss_SB2C
09 AAD005_Douglas_XSB2D
10 AAF010_F8F_Bearcat
11 AAF016_McDonnell_F2H
------------
```


Never mind.. Im looking myself.
## Post #428
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-25T16:52:42+00:00
- Post Title: Re: World of Warships

Looks like there are more HP_Deck locations than how many planes are placed on the deck.
I need to extract the total place count on the deck..
One moment please...
## Post #429
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-10-25T18:39:53+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Looks like there are more HP_Deck locations than how many planes are placed on the deck.
I need to extract the total place count on the deck..
One moment please...
There should be - there's a tier 5 captain skill that increases the amount of planes in dive bomber and fighter squadrons,  so that's why there are extra HP_Deck locations.
## Post #430
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-26T02:42:57+00:00
- Post Title: Re: World of Warships

> Reply from TheSeeker
>
> Coffee wrote:Looks like there are more HP_Deck locations than how many planes are placed on the deck.
I need to extract the total place count on the deck..
One moment please...
There should be - there's a tier 5 captain skill that increases the amount of planes in dive bomber and fighter squadrons,  so that's why there are extra HP_Deck locations.
Makes sense...
In side the ship sections there is a section that has something to do with upgrades.
I'm not sure how to deal with it.
I think for now I'm going to blow it off.. I need to get on with other things than I can go back and see if I can find a way to get the planes upgraded/replaced with the better models.
Anyway..
I have everything extracted I think we need.
Planes, Radars (2 types), Finders, Detectors, Catapults, Main, Secondary and AA Guns, I think everything else is found in the XML Generator?
Anyway.. I have XML output but Im only exporting planes. I'll add the other stuff later.. Its getting late here.
Look and see if this seems legit so far..
edit :removed xml
## Post #431
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-10-26T04:35:40+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Look and see if this seems legit so far..
All nodes closed with backslash instead of slash 
Also you miss second types for bombers and dives and add mixture of squadrons for fighters.
And why "vacant" instead of "UNKNOWN_ITEM" which is already generates a dummy in editor?..

Maybe you can add "model2(3, 4, etc.)" parameter:

```
  <node>
   <name>HP_Deck_00</name>
   <model>usa\aircraft\fighter\AAF009_Grumman_F4F\AAF009_Grumman_F4F.model</model>
   <model2>usa\aircraft\fighter\AAF012_Vought_F4U\AAF012_Vought_F4U.model</model2>
  </node>

```

Or without numbering - just check for <model> doublicates in <node> sections and load those models in editor hidden by default?

```
  <node>
   <name>HP_Deck_00</name>
   <model>usa\aircraft\fighter\AAF009_Grumman_F4F\AAF009_Grumman_F4F.model</model>
   <model>usa\aircraft\fighter\AAF012_Vought_F4U\AAF012_Vought_F4U.model</model>
  </node>

```
## Post #432
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-26T12:04:00+00:00
- Post Title: Re: World of Warships

I was assuming that the order the planes are listed in the data is the order they appear on the deck.
Obviously this is wrong.
I'm going to have to get the planes for the different setups from the ship section some how.

Sorry about the backslashes.. I was dead tired.

Edit:
I'm not going to add a bunch more work to this. Adding a way to select a plane layout is not worth it.
Because of the way I search the data and the way its laid out as far as the planes, the upgrade planes are after the standard ones...
So.. What I did was search backwards in the found plane list and I get this.
Disregarding multiple planes of the same type.. bomber, fighter.... 

```
edit : removed
  <node>
```
## Post #433
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-26T13:37:10+00:00
- Post Title: Re: World of Warships

Oh.. and the "vacant" will be used when I load these XMLs in to the XML Generator.. at that point I will change the name.. or ignore it.
I am going to ignore all the takeoff and landing locations too.. I don't see a reason to add them.
## Post #434
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-26T20:06:11+00:00
- Post Title: Re: World of Warships

OK.. I deleted that last long post.. It's a waste of space.
I have the XML Generator working well..
There are still a few minor things to iron out.. but for the most part.. it works.
## Post #435
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-26T20:54:41+00:00
- Post Title: Re: World of Warships

OK folks...
Here is the XML Creator Tool version 10.
[http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)

READ THE INSTRUCTIONS!
FOLLOW THE ORDER!
Copy and past the gameparams.data in the the same folder
and extract from that. Its safer!

EDIT: Some ships are missing some things.. I think this is a naming issue in the gameparams file.
## Post #436
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-26T22:23:21+00:00
- Post Title: Re: World of Warships

Up loaded version 11..
Fixes not grabbing some of the HP items.
## Post #437
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-10-26T22:49:37+00:00
- Post Title: Re: World of Warships

Little bug in report:

```
American ships:047
 Russian ships:016
  German ships:031
  Polish ships:001
Japanese ships:048
```

Missing one British ship, but XML for this ship extracted fine.

Also Editor restores old XMLs on startup, and some of them not fully correct - old RSC001_Avrora_1917.xml have links to .primitives, instead of .model, and setup rollback it to old version.

Update: Got first bug on loading MidBack part of GSB001_Bismarck_1941:
[](http://fastpic.ru/view/60/2015/1027/715d2886c0448a175eab93ad339fb1d9.png.html)
Report fragment:

```
(JIT) отладки вместо данного диалогового 
окна содержится в конце этого сообщения.

************** Текст исключения **************
System.NullReferenceException: В экземпляре объекта не задана ссылка на объект.
   в Model_Viewer.frmMain.get_child_data(Int32 I, Int32 group, String v_name, TreeNode node)
   в Model_Viewer.frmMain.get_children(String port_name)
   в Model_Viewer.frmMain.build_primitive_data(Boolean _add)
   в Model_Viewer.frmMain.m_add_prmitive_Click(Object sender, EventArgs e)
   в System.Windows.Forms.ToolStripItem.RaiseEvent(Object key, EventArgs e)
   в System.Windows.Forms.ToolStripMenuItem.OnClick(EventArgs e)
   в System.Windows.Forms.ToolStripItem.HandleClick(EventArgs e)
   в System.Windows.Forms.ToolStripItem.FireEventInteractive(EventArgs e, ToolStripItemEventType met)
   в System.Windows.Forms.ToolStripItem.FireEvent(EventArgs e, ToolStripItemEventType met)
   в System.Windows.Forms.ToolStripItem.PerformClick()
   в Model_Viewer.frmMain.tb_add_btn_Click(Object sender, EventArgs e)
   в System.Windows.Forms.Control.OnClick(EventArgs e)
   в System.Windows.Forms.Button.OnClick(EventArgs e)
   в System.Windows.Forms.Button.OnMouseUp(MouseEventArgs mevent)
   в System.Windows.Forms.Control.WmMouseUp(Message& m, MouseButtons button, Int32 clicks)
   в System.Windows.Forms.Control.WndProc(Message& m)
   в System.Windows.Forms.ButtonBase.WndProc(Message& m)
   в System.Windows.Forms.Button.WndProc(Message& m)
   в System.Windows.Forms.Control.ControlNativeWindow.OnMessage(Message& m)
   в System.Windows.Forms.Control.ControlNativeWindow.WndProc(Message& m)
   в System.Windows.Forms.NativeWindow.Callback(IntPtr hWnd, Int32 msg, IntPtr wparam, IntPtr lparam)
```


Update2: Found cause of bug:

```
           <name>HP_GGA_21</name>
           <model>germany\ship\battleship\GSB001_Bismarck_1941\GSB001_Bismarck_1941.model</model>
        </node>
        <node>
           <name>HP_GGA_22</name>
           <model>germany\gun\aaircraft\UNKNOWN_ITEM</model>
        </node>
```


Update3: Another little bug - if I select a poly by mid-clicking, grid draws over the ship:
[](http://fastpic.ru/view/73/2015/1027/8ea7adcabbc852f849dce340da76d4ec.png.html)
(Tirpiz loads fine, as you can see )
## Post #438
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-26T23:25:07+00:00
- Post Title: Re: World of Warships

Looks like some of the data is not in the same order.
Im finding the hp_ tags that have no model info in that group.
Im working on it but doubt Ill fix it tonight.
## Post #439
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-10-26T23:33:23+00:00
- Post Title: Re: World of Warships

XML for Poland ship WSD001_Blyskawica_1938 is not created.


Update: C:\Windows\Temp\the_xml_data is not cleaned up after closing XML Tool, but I find WSD501_Blyskawica.xml here (template).


Update2: Trying to load ASB012_North_Carolina_1945 and got this:
[](http://fastpic.ru/view/76/2015/1027/13195b96cfc7c7849d50c225a1650407.png.html)
Giant radar on small stand and too big finder, eating small one.

So, I do some investigations with .json file.
ASB012_North_Carolina_1945.model located in section C_Hull_1945 of json:
[](http://fastpic.ru/view/73/2015/1027/08e860c070f5f188c2736f55da3b2618.png.html)
so it's upgrade C of ship and must use C-type radars:
[](http://fastpic.ru/view/73/2015/1027/acdc547a598e74e2d60177054a5a34ef.png.html)
but it's not:
[](http://fastpic.ru/view/73/2015/1027/195024d8b65574d3511b1814841c1da2.png.html)


Update3: New ASB037_North_Carolina_1942.xml differs from old one - twice smaller and have empty nodes (UNKNOWN_ITEM). Attached both.
[ASB037_North_Carolina_1942_2xmls.zip](https://xentaxbackup.github.io/file/9925_ASB037_North_Carolina_1942_2xmls.zip)
## Post #440
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-27T15:11:54+00:00
- Post Title: Re: World of Warships

Thanks for point out all this...
There are some interesting things going on in the gameparams.

One that got me is not all ships have the same name as what the model actually is.

I'm going to update to 12 in a while.. Have a few things I want to check first.

EDIT: I uploaded version 12. [http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)
I can't find the flags for the Polish ship... LOL
Also.. we need to decide on what to do about the planes on the carriers.
## Post #441
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-27T16:44:50+00:00
- Post Title: Re: World of Warships

OK... 
Here is a link to my chat app I wrote a long time ago (2009 was the last time I worked on it)
[http://209.159.152.184:8080/crud_chat/](http://209.159.152.184:8080/crud_chat/)
When you login, you will need to pick a name (same one you use here is best) and enter the Connect to: IP in the above link. 209.159.152.184
Its a nice chat program for home brew and supports all kinds of things including avatars, smiles , colored text (tho Id not change it).
It has 5 rooms to move to..
Down side.. it only supports 30 connections. More than enough to chat live about this app.
I'll be in there if Im here.. If I'm in the "Away from Keys" room.. I'm not at my computer.
## Post #442
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-27T17:47:52+00:00
- Post Title: Re: World of Warships

Well.. It seems to create the XMLs correctly unless there is an issue in the ships section inside the gameparams.
The bismark is missing AAGs:

```
           <name>HP_GGA_21</name>
           <model>germany\gun\aaircraft\UNKNOWN_ITEM</model>
        </node>
        <node>
           <name>HP_GGA_22</name>
           <model>germany\gun\aaircraft\UNKNOWN_ITEM</model>
        </node>

```

ALL that is in the extracted ship section is this:

```
            "HP_GGA_21": {
                "capActive": true,
                "model": ""
            },
            "HP_GGA_22": {
                "capActive": true,
                "model": ""
            },

```

No model path ?!?
## Post #443
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-27T18:39:09+00:00
- Post Title: Re: World of Warships

had to re-upload version 12 of the XML creator.. 
If you have already installed this version, you have to removed it manually before installing again/
It was not finding the German Destroyers. I had a typo in the code.
## Post #444
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-10-27T19:46:46+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Thanks for point out all this...
There are some interesting things going on in the gameparams.

One that got me is not all ships have the same name as what the model actually is.
I post all I dig earlier [here](http://forum.xentax.com/viewtopic.php?p=110626#p110626), maybe you miss it?

> I can't find the flags for the Polish ship... LOL
Me too 

> Reply from Coffee
>
> chat app
Cool, but I think it's better to post all useful information on forum, just because it's stored and can be accessed for someone new.
Btw, chat is good way to call someone or check availability.

> No model path ?!?
Those mount points is empty in-game:
[](http://fastpic.ru/view/57/2015/1027/7420a0df4c070df078c66d8335006d88.jpg.html)


Update: GameParams Extractor report is not matches an actual number of the XMLs in output folder:

```
American ships:047 / 082
 British ships:001 / 001
 Russian ships:016 / 022
  German ships:012 / 014
  Polish ships:001 / 001
Japanese ships:048 / 079
```

Second number represents an actual XML count.


Update2: v12 extracts same empty ASB037_North_Carolina_1942.xml as v11.
## Post #445
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-27T21:52:05+00:00
- Post Title: Re: World of Warships

The first part of the xml creator is separate program that grabs every ship it can find in the gameparams file.
The 2nd part grabs every ship it can find under the gameplay folders.
The difference in the 2 numbers is because my program is not able to find them in gameparams because of issues in the data.
I'm still trying to find a way to find all the ships with their models buts its proving to be a bitch.
The German GSC002_Drezden_1908 is pointing to:
 "model": "content/gameplay/germany/ship/cruiser/GSC018_Drezden_1916/GSC018_Drezden_1916.model",
Clearly this is not the same ship.

I search for a ship header using strings like this USA one:

```
Public a_prefix As String = "PASA PASB PASC PASD PASX"
```

I read each line in the file in to a giant array and than read each line at a time.
looking at this line:

```
    "PASB012_North_Carolina_1945": {
```

I trim the line (removes all the white spaces) and remove the quotes.

```
PASB012_North_Carolina_1945:{
```

I than cut it down to the left 4 characters.

```
PASB
```

I check if this stub is in the search string and that there is also a "{" on that same line.

```
 Is "PASB" In "PASA PASB PASC PASD PASX" ?
```


```
 is there a "{" in "PASB012_North_Carolina_1945": { ?
```

Yep.. this is the start of a ship section.
I start a brace counter at 1
Every line I read, I check for a brace. Every time I hit a "{" I add 1 to the brace counter.
If I hit a "}" I take one off.
When the brace counter hits ZERO.. I'm at the end of the ships section.
For every left "{" there has to be a matching right "}"... My logic is sound.
This defines the start of a ship section.
ship_name { ( 1 )
load of data
{item}  (+1 -1)
{item}  (+1 -1)
{item}  (+1 -1)
{item}  (+1 -1)
} ( -1) <-- last brace.. Brace count = ZERO
I than search backwards from the end of this section for the first line that has "ship/" in it.
I search backwards because the model path is always near the end of the file.. Or at least it should be.
One possible problem is if lines have uneven braces .. 2 lefts and one right for example.. This would throw the brace counter off.
As I said before.. This path is not right for the ships name.. There are no other ship paths in the section.
How am I suppose to deal with this?
Maybe I need to look in the .model file and see whats in there. I know some of these .model files list the .primitive with a different name and path.

I don't know why this has to be so hard.. whaaaa whaaaaa.. feel my pain
## Post #446
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-10-28T04:11:50+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> The first part of the xml creator is separate program that grabs every ship it can find in the gameparams file.
The 2nd part grabs every ship it can find under the gameplay folders.
The difference in the 2 numbers is because my program is not able to find them in gameparams because of issues in the data.
I'm still trying to find a way to find all the ships with their models buts its proving to be a bitch.
The German GSC002_Drezden_1908 is pointing to:
 "model": "content/gameplay/germany/ship/cruiser/GSC018_Drezden_1916/GSC018_Drezden_1916.model",
Clearly this is not the same ship.
GSC002_Drezden_1908 here - it's just a name for tree branch, and this branch contained inside {}.
And your search for GSC018_Drezden_1916 stuff must be focused inside branch named "GSC002_Drezden_1908" and this name does matter only for that limitation of search, it's not ship name.

> I search for a ship header using strings like this USA one:
So, you search for tree branches, not for ships...
Not sure it's necessary, but ok, you got branch list.

Then you need to search for ships.
Search for "ASB037_North_Carolina_1942" + ".model", i.e. "ASB037_North_Carolina_1942.model".
Find it inside "B_Hull_1942": {} sub-branch of "PASB012_North_Carolina_1945": {} branch.
Now you need some branch name processing, I think it's not so hard, because those names always quoted and located before "{", separated by ": ".
You need to assign type for "ASB037_North_Carolina_1942", and this type coded in sub-branch name "B_Hull_1942" - type B.
So, stuff ASB037_North_Carolina_1942 ship can be found inside tree branch "PASB012_North_Carolina_1945" in sub-branches with "B" in prefix.
Store found ship as "ASB037_North_Carolina_1942, B, PASB012_North_Carolina_1945".

Next search for "ASB012_North_Carolina_1945.model", do same calculations and store as "ASB012_North_Carolina_1945, C, PASB012_North_Carolina_1945".

So, we have two ships setups in one tree branch, named "PASB012_North_Carolina_1945":
ASB037_North_Carolina_1942, B, PASB012_North_Carolina_1945 for ASB037_North_Carolina_1942.xml
ASB012_North_Carolina_1945, C, PASB012_North_Carolina_1945 for ASB012_North_Carolina_1945.xml

Of course you can't look for "ASB012_North_Carolina_1945.model" directly, I use full name for better understanding.
You need to seach for paths with "/ship/" in string, then got model name, then type, then branch name.

Btw, 232 hits for "/ship/" search atm, and we have only 199 XMLs as output...
Need to figure out this, making list of "ship_name, ship_type, branch" would be really helpfull. * see Update

Anyway, you can search for ships names with yours method:

```
Public a_prefix As String = "PASA PASB PASC PASD PASX"
```

But slightly altered:

```
Public a_prefix As String = "/PASA /PASB /PASC /PASD /PASX"
```


> One possible problem is if lines have uneven braces
No, it's always even, I use Notepad++ for viewing and it's have feature for hiding text between {} or [] - all hides correctly so far.

> As I said before.. This path is not right for the ships name.. There are no other ship paths in the section.
>
> How am I suppose to deal with this?
Hope I already helped to clear something in this post...


Update: Notepad++ do the job and created list of 232 hits for "/ship/" string search - looks good:

```
	Line 32542:             "model": "content/gameplay/usa/ship/aircarrier/ASA002_Bogue_1942/ASA002_Bogue_1942.model",
	Line 36137:             "model": "content/gameplay/usa/ship/aircarrier/ASA003_Bogue_1943/ASA003_Bogue_1943.model",
	Line 37932:             "model": "content/gameplay/usa/ship/aircarrier/ASA004_Langley_1929/ASA004_Langley_1929.model",
	Line 40175:             "model": "content/gameplay/usa/ship/aircarrier/ASA027_Langley_1939/ASA027_Langley_1939.model",
	Line 43366:             "model": "content/gameplay/usa/ship/aircarrier/ASA024_Independence_1944/ASA024_Independence_1944.model",
	Line 45935:             "model": "content/gameplay/usa/ship/aircarrier/ASA006_Independence_1945/ASA006_Independence_1945.model",
	Line 49659:             "model": "content/gameplay/usa/ship/aircarrier/ASA008_Saipan_1943/ASA008_Saipan_1943.model",
	Line 52884:             "model": "content/gameplay/usa/ship/aircarrier/ASA023_Saipan_1946/ASA023_Saipan_1946.model",
	Line 57416:             "model": "content/gameplay/usa/ship/aircarrier/ASA022_Ranger_1941/ASA022_Ranger_1941.model",
	Line 61727:             "model": "content/gameplay/usa/ship/aircarrier/ASA010_Ranger_1944/ASA010_Ranger_1944.model",
	Line 68659:             "model": "content/gameplay/usa/ship/aircarrier/ASA011_Lexington_1942/ASA011_Lexington_1942.model",
	Line 74112:             "model": "content/gameplay/usa/ship/aircarrier/ASA012_Lexington_1944/ASA012_Lexington_1944.model",
	Line 80473:             "model": "content/gameplay/usa/ship/aircarrier/ASA025_Essex_1943/ASA025_Essex_1943.model",
	Line 87487:             "model": "content/gameplay/usa/ship/aircarrier/ASA013_Essex_1945/ASA013_Essex_1945.model",
	Line 94768:             "model": "content/gameplay/usa/ship/aircarrier/ASA015_Midway_1945/ASA015_Midway_1945.model",
	Line 102068:             "model": "content/gameplay/usa/ship/aircarrier/ASA905_Essex_1945_Halloween/ASA905_Essex_1945_Halloween.model",
	Line 105830:             "model": "content/gameplay/usa/ship/battleship/ASB001_Michigan_1916/ASB001_Michigan_1916.model",
	Line 109605:             "model": "content/gameplay/usa/ship/battleship/ASB033_Michigan_1919/ASB033_Michigan_1919.model",
	Line 114290:             "model": "content/gameplay/usa/ship/battleship/ASB010_Arkansas_1919/ASB010_Arkansas_1919.model",
	Line 118838:             "model": "content/gameplay/usa/ship/battleship/ASB005_Arkansas_1942/ASB005_Arkansas_1942.model",
	Line 124028:             "model": "content/gameplay/usa/ship/battleship/ASB006_New_York_1934/ASB006_New_York_1934.model",
	Line 128077:             "model": "content/gameplay/usa/ship/battleship/ASB022_New_York_1942/ASB022_New_York_1942.model",
	Line 132096:             "model": "content/gameplay/usa/ship/battleship/ASB011_Colorado_1921/ASB011_Colorado_1921.model",
	Line 138628:             "model": "content/gameplay/usa/ship/battleship/ASB002_Colorado_1942/ASB002_Colorado_1942.model",
	Line 144480:             "model": "content/gameplay/usa/ship/battleship/ASB008_Colorado_1945/ASB008_Colorado_1945.model",
	Line 151782:             "model": "content/gameplay/usa/ship/battleship/ASB037_North_Carolina_1942/ASB037_North_Carolina_1942.model",
	Line 157340:             "model": "content/gameplay/usa/ship/battleship/ASB012_North_Carolina_1945/ASB012_North_Carolina_1945.model",
	Line 162062:             "model": "content/gameplay/usa/ship/battleship/ASB013_Arkansas_1912/ASB013_Arkansas_1912.model",
	Line 169816:             "model": "content/gameplay/usa/ship/battleship/ASB017_Montana_1945/ASB017_Montana_1945.model",
	Line 175126:             "model": "content/gameplay/usa/ship/battleship/ASB027_Iowa_1943/ASB027_Iowa_1943.model",
	Line 181572:             "model": "content/gameplay/usa/ship/battleship/ASB018_Iowa_1944/ASB018_Iowa_1944.model",
	Line 185707:             "model": "content/gameplay/usa/ship/battleship/ASB028_Iowa_1945/ASB028_Iowa_1945.model",
	Line 189659:             "model": "content/gameplay/usa/ship/battleship/ASB009_New_Mexico_1918/ASB009_New_Mexico_1918.model",
	Line 194149:             "model": "content/gameplay/usa/ship/battleship/ASB019_New_Mexico_1936/ASB019_New_Mexico_1936.model",
	Line 198738:             "model": "content/gameplay/usa/ship/battleship/ASB034_New_Mexico_1941/ASB034_New_Mexico_1941.model",
	Line 201371:             "model": "content/gameplay/usa/ship/cruiser/ASC001_Erie_1936/ASC001_Erie_1936.model",
	Line 202505:             "model": "content/gameplay/usa/ship/cruiser/ASC001_Erie_1936/ASC001_Erie_1936.model",
	Line 204738:             "model": "content/gameplay/usa/ship/cruiser/ASC002_Chester_1908/ASC002_Chester_1908.model",
	Line 207783:             "model": "content/gameplay/usa/ship/cruiser/ASC037_Chester_1915/ASC037_Chester_1915.model",
	Line 210915:             "model": "content/gameplay/usa/ship/cruiser/ASC003_Albany_1898/ASC003_Albany_1898.model",
	Line 214906:             "model": "content/gameplay/usa/ship/cruiser/ASC004_St_Louis_1906/ASC004_St_Louis_1906.model",
	Line 221401:             "model": "content/gameplay/usa/ship/cruiser/ASC034_St_Louis_1916/ASC034_St_Louis_1916.model",
	Line 224398:             "model": "content/gameplay/usa/ship/cruiser/ASC005_Omaha_1923/ASC005_Omaha_1923.model",
	Line 228955:             "model": "content/gameplay/usa/ship/cruiser/ASC005_Omaha_1923/ASC005_Omaha_1923.model",
	Line 233875:             "model": "content/gameplay/usa/ship/cruiser/ASC009_Omaha_1944/ASC009_Omaha_1944.model",
	Line 238227:             "model": "content/gameplay/usa/ship/cruiser/ASC006_Atlanta_1942/ASC006_Atlanta_1942.model",
	Line 242668:             "model": "content/gameplay/usa/ship/cruiser/ASC036_Cleveland_1942/ASC036_Cleveland_1942.model",
	Line 245125:             "model": "content/gameplay/usa/ship/cruiser/ASC007_Cleveland_1945/ASC007_Cleveland_1945.model",
	Line 249049:             "model": "content/gameplay/usa/ship/cruiser/ASC043_Pensacola_1942/ASC043_Pensacola_1942.model",
	Line 253582:             "model": "content/gameplay/usa/ship/cruiser/ASC012_Pensacola_1944/ASC012_Pensacola_1944.model",
	Line 258499:             "model": "content/gameplay/usa/ship/cruiser/ASC014_New_Orlean_1944/ASC014_New_Orlean_1944.model",
	Line 262387:             "model": "content/gameplay/usa/ship/cruiser/ASC014_New_Orlean_1944/ASC014_New_Orlean_1944.model",
	Line 267159:             "model": "content/gameplay/usa/ship/cruiser/ASC016_Worcester_1948/ASC016_Worcester_1948.model",
	Line 272244:             "model": "content/gameplay/usa/ship/cruiser/ASC017_Baltimore_1944/ASC017_Baltimore_1944.model",
	Line 275462:             "model": "content/gameplay/usa/ship/cruiser/ASC017_Baltimore_1944/ASC017_Baltimore_1944.model",
	Line 281903:             "model": "content/gameplay/usa/ship/cruiser/ASC019_Burlington_1944/ASC019_Burlington_1944.model",
	Line 286607:             "model": "content/gameplay/usa/ship/cruiser/ASC020_Des_Moines_1948/ASC020_Des_Moines_1948.model",
	Line 289166:             "model": "content/gameplay/usa/ship/cruiser/ASC024_Phoenix_1917/ASC024_Phoenix_1917.model",
	Line 292695:             "model": "content/gameplay/usa/ship/cruiser/ASC041_Phoenix_1924/ASC041_Phoenix_1924.model",
	Line 297036:             "model": "content/gameplay/usa/ship/cruiser/ASC042_Phoenix_1938/ASC042_Phoenix_1938.model",
	Line 300126:             "model": "content/gameplay/usa/ship/cruiser/ASC039_Pensacola_1930/ASC039_Pensacola_1930.model",
	Line 303359:             "model": "content/gameplay/usa/ship/cruiser/ASC044_Marblehead_1924/ASC044_Marblehead_1924.model",
	Line 306595:             "model": "content/gameplay/usa/ship/cruiser/ASC044_Marblehead_1924/ASC044_Marblehead_1924.model",
	Line 308712:             "model": "content/gameplay/usa/ship/auxiliary/ASX004_Cimarron_shooter/ASX004_Cimarron_shooter.model",
	Line 310534:             "model": "content/gameplay/usa/ship/auxiliary/ASX004_Cimarron_shooter/ASX004_Cimarron_shooter.model",
	Line 314855:             "model": "content/gameplay/usa/ship/cruiser/ASC907_Des_Moines_1948_Halloween/ASC907_Des_Moines_1948_Halloween.model",
	Line 316766:             "model": "content/gameplay/usa/ship/destroyer/ASD001_Smith_1910/ASD001_Smith_1910.model",
	Line 318022:             "model": "content/gameplay/usa/ship/destroyer/ASD022_Smith_1917/ASD022_Smith_1917.model",
	Line 320412:             "model": "content/gameplay/usa/ship/destroyer/ASD002_Sampson_1917/ASD002_Sampson_1917.model",
	Line 321777:             "model": "content/gameplay/usa/ship/destroyer/ASD002_Sampson_1917/ASD002_Sampson_1917.model",
	Line 324455:             "model": "content/gameplay/usa/ship/destroyer/ASD024_Farragut_1934/ASD024_Farragut_1934.model",
	Line 326763:             "model": "content/gameplay/usa/ship/destroyer/ASD005_Farragut_1944/ASD005_Farragut_1944.model",
	Line 328046:             "model": "content/gameplay/usa/ship/destroyer/ASD005_Farragut_1944/ASD005_Farragut_1944.model",
	Line 330866:             "model": "content/gameplay/usa/ship/destroyer/ASD006_Mahan_1936/ASD006_Mahan_1936.model",
	Line 333442:             "model": "content/gameplay/usa/ship/destroyer/ASD007_Mahan_1944/ASD007_Mahan_1944.model",
	Line 336283:             "model": "content/gameplay/usa/ship/destroyer/ASD023_Benson_1940/ASD023_Benson_1940.model",
	Line 338386:             "model": "content/gameplay/usa/ship/destroyer/ASD008_Benson_1945/ASD008_Benson_1945.model",
	Line 339663:             "model": "content/gameplay/usa/ship/destroyer/ASD008_Benson_1945/ASD008_Benson_1945.model",
	Line 343124:             "model": "content/gameplay/usa/ship/destroyer/ASD013_Gearing_1945/ASD013_Gearing_1945.model",
	Line 345670:             "model": "content/gameplay/usa/ship/destroyer/ASD014_Leader_1919/ASD014_Leader_1919.model",
	Line 348653:             "model": "content/gameplay/usa/ship/destroyer/ASD015_Leader_1938/ASD015_Leader_1938.model",
	Line 351202:             "model": "content/gameplay/usa/ship/destroyer/ASD019_Clemson_1920/ASD019_Clemson_1920.model",
	Line 353262:             "model": "content/gameplay/usa/ship/destroyer/ASD026_Clemson_1930/ASD026_Clemson_1930.model",
	Line 356356:             "model": "content/gameplay/usa/ship/destroyer/ASD025_LaVallette_1942/ASD025_LaVallette_1942.model",
	Line 358049:             "model": "content/gameplay/usa/ship/destroyer/ASD021_Fletcher_1943/ASD021_Fletcher_1943.model",
	Line 360991:             "model": "content/gameplay/usa/ship/destroyer/ASD027_Wickes_1918/ASD027_Wickes_1918.model",
	Line 362042:             "model": "content/gameplay/usa/ship/destroyer/ASD028_Wickes_1925/ASD028_Wickes_1925.model",
	Line 365433:             "model": "content/gameplay/usa/ship/destroyer/ASD029_Sims_1941/ASD029_Sims_1941.model",
	Line 367363:             "model": "content/gameplay/usa/ship/auxiliary/ASX001_Cimarron/ASX001_Cimarron.model",
	Line 369154:             "model": "content/gameplay/usa/ship/auxiliary/ASX004_Cimarron_shooter/ASX004_Cimarron_shooter.model",
	Line 386213:             "model": "content/gameplay/uk/ship/battleship/BSB002_Warspite_1941/BSB002_Warspite_1941.model",
	Line 411193:             "model": "content/gameplay/germany/ship/battleship/GSB001_Bismarck_1941/GSB001_Bismarck_1941.model",
	Line 416712:             "model": "content/gameplay/germany/ship/battleship/GSB002_Tirpiz_1942/GSB002_Tirpiz_1942.model",
	Line 419233:             "model": "content/gameplay/germany/ship/cruiser/GSC001_Hermelin_1940/GSC001_Hermelin_1940.model",
	Line 421956:             "model": "content/gameplay/germany/ship/cruiser/GSC002_Drezden_1908/GSC002_Drezden_1908.model",
	Line 424269:             "model": "content/gameplay/germany/ship/cruiser/GSC018_Drezden_1916/GSC018_Drezden_1916.model",
	Line 425588:             "model": "content/gameplay/germany/ship/cruiser/GSC003_Kolberg_1910/GSC003_Kolberg_1910.model",
	Line 427905:             "model": "content/gameplay/germany/ship/cruiser/GSC003_Kolberg_1910/GSC003_Kolberg_1910.model",
	Line 430822:             "model": "content/gameplay/germany/ship/cruiser/GSC005_Karlsruhe_1916/GSC005_Karlsruhe_1916.model",
	Line 431872:             "model": "content/gameplay/germany/ship/cruiser/GSC005_Karlsruhe_1916/GSC005_Karlsruhe_1916.model",
	Line 435089:             "model": "content/gameplay/germany/ship/cruiser/GSC007_Konigsberg_1927/GSC007_Konigsberg_1927.model",
	Line 436789:             "model": "content/gameplay/germany/ship/cruiser/GSC007_Konigsberg_1927/GSC007_Konigsberg_1927.model",
	Line 440784:             "model": "content/gameplay/germany/ship/cruiser/GSC009_Nurnberg_1935/GSC009_Nurnberg_1935.model",
	Line 442730:             "model": "content/gameplay/germany/ship/cruiser/GSC009_Nurnberg_1935/GSC009_Nurnberg_1935.model",
	Line 447279:             "model": "content/gameplay/germany/ship/cruiser/GSC010_Yorck_1942/GSC010_Yorck_1942.model",
	Line 450530:             "model": "content/gameplay/germany/ship/cruiser/GSC010_Yorck_1942/GSC010_Yorck_1942.model",
	Line 455243:             "model": "content/gameplay/germany/ship/cruiser/GSC012_Hipper_1939/GSC012_Hipper_1939.model",
	Line 457632:             "model": "content/gameplay/germany/ship/cruiser/GSC012_Hipper_1939/GSC012_Hipper_1939.model",
	Line 462834:             "model": "content/gameplay/germany/ship/cruiser/GSC016_Roon_1945/GSC016_Roon_1945.model",
	Line 465747:             "model": "content/gameplay/germany/ship/cruiser/GSC016_Roon_1945/GSC016_Roon_1945.model",
	Line 471198:             "model": "content/gameplay/germany/ship/cruiser/GSC015_Hindenburg_1945/GSC015_Hindenburg_1945.model",
	Line 503065:             "model": "content/gameplay/japan/ship/aircarrier/JSA002_Hosho_1939/JSA002_Hosho_1939.model",
	Line 504251:             "model": "content/gameplay/japan/ship/aircarrier/JSA002_Hosho_1939/JSA002_Hosho_1939.model",
	Line 506324:             "model": "content/gameplay/japan/ship/aircarrier/JSA007_Zuiho_1940/JSA007_Zuiho_1940.model",
	Line 508171:             "model": "content/gameplay/japan/ship/aircarrier/JSA006_Zuiho_1944/JSA006_Zuiho_1944.model",
	Line 509517:             "model": "content/gameplay/japan/ship/aircarrier/JSA006_Zuiho_1944/JSA006_Zuiho_1944.model",
	Line 512130:             "model": "content/gameplay/japan/ship/aircarrier/JSA009_Ryujo_1933/JSA009_Ryujo_1933.model",
	Line 513986:             "model": "content/gameplay/japan/ship/aircarrier/JSA032_Ryujo_1944/JSA032_Ryujo_1944.model",
	Line 515935:             "model": "content/gameplay/japan/ship/aircarrier/JSA032_Ryujo_1944/JSA032_Ryujo_1944.model",
	Line 518938:             "model": "content/gameplay/japan/ship/aircarrier/JSA011_Hiryu_1942/JSA011_Hiryu_1942.model",
	Line 521095:             "model": "content/gameplay/japan/ship/aircarrier/JSA035_Hiryu_1945/JSA035_Hiryu_1945.model",
	Line 525840:             "model": "content/gameplay/japan/ship/aircarrier/JSA012_Zuikaku_1944/JSA012_Zuikaku_1944.model",
	Line 530115:             "model": "content/gameplay/japan/ship/aircarrier/JSA012_Zuikaku_1944/JSA012_Zuikaku_1944.model",
	Line 534255:             "model": "content/gameplay/japan/ship/aircarrier/JSA012_Zuikaku_1944/JSA012_Zuikaku_1944.model",
	Line 537731:             "model": "content/gameplay/japan/ship/aircarrier/JSA015_Taiho_1944/JSA015_Taiho_1944.model",
	Line 540084:             "model": "content/gameplay/japan/ship/aircarrier/JSA036_Taiho_1945/JSA036_Taiho_1945.model",
	Line 544853:             "model": "content/gameplay/japan/ship/aircarrier/JSA017_Hakuryu_1942/JSA017_Hakuryu_1942.model",
	Line 549366:             "model": "content/gameplay/japan/ship/battleship/JSB001_Kawachi_1912/JSB001_Kawachi_1912.model",
	Line 553242:             "model": "content/gameplay/japan/ship/battleship/JSB031_Kawachi_1919/JSB031_Kawachi_1919.model",
	Line 557388:             "model": "content/gameplay/japan/ship/battleship/JSB003_Myogi_1912/JSB003_Myogi_1912.model",
	Line 560271:             "model": "content/gameplay/japan/ship/battleship/JSB035_Myogi_1919/JSB035_Myogi_1919.model",
	Line 564641:             "model": "content/gameplay/japan/ship/battleship/JSB033_Myogi_1932/JSB033_Myogi_1932.model",
	Line 569030:             "model": "content/gameplay/japan/ship/battleship/JSB020_Fuso_1919/JSB020_Fuso_1919.model",
	Line 574265:             "model": "content/gameplay/japan/ship/battleship/JSB006_Fuso_1943/JSB006_Fuso_1943.model",
	Line 577587:             "model": "content/gameplay/japan/ship/battleship/JSB006_Fuso_1943/JSB006_Fuso_1943.model",
	Line 581839:             "model": "content/gameplay/japan/ship/battleship/JSB004_Kongo_1913/JSB004_Kongo_1913.model",
	Line 586170:             "model": "content/gameplay/japan/ship/battleship/JSB007_Kongo_1942/JSB007_Kongo_1942.model",
	Line 588554:             "model": "content/gameplay/japan/ship/battleship/JSB007_Kongo_1942/JSB007_Kongo_1942.model",
	Line 593400:             "model": "content/gameplay/japan/ship/battleship/JSB008_Ishizuchi_1921/JSB008_Ishizuchi_1921.model",
	Line 598063:             "model": "content/gameplay/japan/ship/battleship/JSB002_Nagato_1933/JSB002_Nagato_1933.model",
	Line 602654:             "model": "content/gameplay/japan/ship/battleship/JSB010_Nagato_1944/JSB010_Nagato_1944.model",
	Line 605156:             "model": "content/gameplay/japan/ship/battleship/JSB010_Nagato_1944/JSB010_Nagato_1944.model",
	Line 610291:             "model": "content/gameplay/japan/ship/battleship/JSB011_Mikasa_1905/JSB011_Mikasa_1905.model",
	Line 615062:             "model": "content/gameplay/japan/ship/battleship/JSB037_Amagi_1926/JSB037_Amagi_1926.model",
	Line 622639:             "model": "content/gameplay/japan/ship/battleship/JSB013_Amagi_1942/JSB013_Amagi_1942.model",
	Line 626686:             "model": "content/gameplay/japan/ship/battleship/JSB013_Amagi_1942/JSB013_Amagi_1942.model",
	Line 633633:             "model": "content/gameplay/japan/ship/battleship/JSB018_Yamato_1944/JSB018_Yamato_1944.model",
	Line 637270:             "model": "content/gameplay/japan/ship/battleship/JSB021_Izumo_1938/JSB021_Izumo_1938.model",
	Line 642696:             "model": "content/gameplay/japan/ship/battleship/JSB022_Izumo_1942/JSB022_Izumo_1942.model",
	Line 648268:             "model": "content/gameplay/japan/ship/battleship/JSB023_Izumo_1945/JSB023_Izumo_1945.model",
	Line 652689:             "model": "content/gameplay/japan/ship/battleship/JSB001_Kawachi_1912/JSB001_Kawachi_1912.model",
	Line 657389:             "model": "content/gameplay/japan/ship/battleship/JSB031_Kawachi_1919/JSB031_Kawachi_1919.model",
	Line 664389:             "model": "content/gameplay/japan/ship/battleship/JSB018_Yamato_1944/JSB018_Yamato_1944.model",
	Line 665587:             "model": "content/gameplay/japan/ship/cruiser/JSC004_Yubari_1944/JSC004_Yubari_1944.model",
	Line 671095:             "model": "content/gameplay/japan/ship/cruiser/JSC005_Furutaka_1926/JSC005_Furutaka_1926.model",
	Line 672140:             "model": "content/gameplay/japan/ship/cruiser/JSC005_Furutaka_1926/JSC005_Furutaka_1926.model",
	Line 673764:             "model": "content/gameplay/japan/ship/cruiser/JSC023_Furutaka_1941/JSC023_Furutaka_1941.model",
	Line 677690:             "model": "content/gameplay/japan/ship/cruiser/JSC007_Aoba_1943/JSC007_Aoba_1943.model",
	Line 679660:             "model": "content/gameplay/japan/ship/cruiser/JSC007_Aoba_1943/JSC007_Aoba_1943.model",
	Line 682736:             "model": "content/gameplay/japan/ship/cruiser/JSC032_Myoko_1941/JSC032_Myoko_1941.model",
	Line 685648:             "model": "content/gameplay/japan/ship/cruiser/JSC032_Myoko_1941/JSC032_Myoko_1941.model",
	Line 689954:             "model": "content/gameplay/japan/ship/cruiser/JSC008_Myoko_1945/JSC008_Myoko_1945.model",
	Line 693773:             "model": "content/gameplay/japan/ship/cruiser/JSC009_Mogami_1935/JSC009_Mogami_1935.model",
	Line 696769:             "model": "content/gameplay/japan/ship/cruiser/JSC010_Mogami_1944/JSC010_Mogami_1944.model",
	Line 699082:             "model": "content/gameplay/japan/ship/cruiser/JSC010_Mogami_1944/JSC010_Mogami_1944.model",
	Line 704325:             "model": "content/gameplay/japan/ship/cruiser/JSC012_Ibuki_1944/JSC012_Ibuki_1944.model",
	Line 708926:             "model": "content/gameplay/japan/ship/cruiser/JSC012_Ibuki_1944/JSC012_Ibuki_1944.model",
	Line 712410:             "model": "content/gameplay/japan/ship/cruiser/JSC031_Kuma_1920/JSC031_Kuma_1920.model",
	Line 713708:             "model": "content/gameplay/japan/ship/cruiser/JSC013_Kuma_1938/JSC013_Kuma_1938.model",
	Line 717129:             "model": "content/gameplay/japan/ship/cruiser/JSC014_Kitakami_1945/JSC014_Kitakami_1945.model",
	Line 719511:             "model": "content/gameplay/japan/ship/cruiser/JSC015_Tatsuta_1919/JSC015_Tatsuta_1919.model",
	Line 721090:             "model": "content/gameplay/japan/ship/cruiser/JSC016_Tatsuta_1937/JSC016_Tatsuta_1937.model",
	Line 727120:             "model": "content/gameplay/japan/ship/cruiser/JSC018_Tone_1944/JSC018_Tone_1944.model",
	Line 728569:             "model": "content/gameplay/japan/ship/cruiser/JSC026_Iwaki_1944/JSC026_Iwaki_1944.model",
	Line 735962:             "model": "content/gameplay/japan/ship/cruiser/JSC034_Zao_1944/JSC034_Zao_1944.model",
	Line 738669:             "model": "content/gameplay/japan/ship/cruiser/JSC035_Chikuma_1912/JSC035_Chikuma_1912.model",
	Line 740506:             "model": "content/gameplay/japan/ship/cruiser/JSC035_Chikuma_1912/JSC035_Chikuma_1912.model",
	Line 742411:             "model": "content/gameplay/japan/ship/cruiser/JSC037_Hashidate_1940/JSC037_Hashidate_1940.model",
	Line 743554:             "model": "content/gameplay/japan/ship/cruiser/JSC037_Hashidate_1940/JSC037_Hashidate_1940.model",
	Line 748534:             "model": "content/gameplay/japan/ship/cruiser/JSC038_Atago_1944/JSC038_Atago_1944.model",
	Line 751920:             "model": "content/gameplay/japan/ship/cruiser/JSC999_Yubari_Special/JSC999_Yubari_Special.model",
	Line 753277:             "model": "content/gameplay/japan/ship/destroyer/JSD001_Tachibana_1912/JSD001_Tachibana_1912.model",
	Line 756261:             "model": "content/gameplay/japan/ship/destroyer/JSD021_Umikaze_1911/JSD021_Umikaze_1911.model",
	Line 757805:             "model": "content/gameplay/japan/ship/destroyer/JSD002_Umikaze_1925/JSD002_Umikaze_1925.model",
	Line 760409:             "model": "content/gameplay/japan/ship/destroyer/JSD003_Isokaze_1917/JSD003_Isokaze_1917.model",
	Line 761854:             "model": "content/gameplay/japan/ship/destroyer/JSD016_Isokaze_1925/JSD016_Isokaze_1925.model",
	Line 764331:             "model": "content/gameplay/japan/ship/destroyer/JSD004_Minekadze_1920/JSD004_Minekadze_1920.model",
	Line 766836:             "model": "content/gameplay/japan/ship/destroyer/JSD004_Minekadze_1920/JSD004_Minekadze_1920.model",
	Line 769218:             "model": "content/gameplay/japan/ship/destroyer/JSD005_Mutsuki_1926/JSD005_Mutsuki_1926.model",
	Line 771173:             "model": "content/gameplay/japan/ship/destroyer/JSD008_Mutsuki_1939/JSD008_Mutsuki_1939.model",
	Line 773280:             "model": "content/gameplay/japan/ship/destroyer/JSD009_Mutsuki_1942/JSD009_Mutsuki_1942.model",
	Line 775965:             "model": "content/gameplay/japan/ship/destroyer/JSD018_Hatsuharu_1935/JSD018_Hatsuharu_1935.model",
	Line 778481:             "model": "content/gameplay/japan/ship/destroyer/JSD006_Hatsuharu_1945/JSD006_Hatsuharu_1945.model",
	Line 780954:             "model": "content/gameplay/japan/ship/destroyer/JSD013_Fubuki_1942/JSD013_Fubuki_1942.model",
	Line 783846:             "model": "content/gameplay/japan/ship/destroyer/JSD007_Fubuki_1944/JSD007_Fubuki_1944.model",
	Line 786995:             "model": "content/gameplay/japan/ship/destroyer/JSD019_Fubuki_1943/JSD019_Fubuki_1943.model",
	Line 789950:             "model": "content/gameplay/japan/ship/destroyer/JSD010_Kagero_1943/JSD010_Kagero_1943.model",
	Line 791593:             "model": "content/gameplay/japan/ship/destroyer/JSD010_Kagero_1943/JSD010_Kagero_1943.model",
	Line 793903:             "model": "content/gameplay/japan/ship/destroyer/JSD020_Kagero_1944/JSD020_Kagero_1944.model",
	Line 797680:             "model": "content/gameplay/japan/ship/destroyer/JSD012_Shimakaze_1943/JSD012_Shimakaze_1943.model",
	Line 799435:             "model": "content/gameplay/japan/ship/destroyer/JSD001_Tachibana_1912/JSD001_Tachibana_1912.model",
	Line 802550:             "model": "content/gameplay/japan/ship/destroyer/JSD017_Kamikaze_1930/JSD017_Kamikaze_1930.model",
	Line 804818:             "model": "content/gameplay/japan/ship/destroyer/JSD024_Wakatake_1923/JSD024_Wakatake_1923.model",
	Line 805843:             "model": "content/gameplay/japan/ship/destroyer/JSD024_Wakatake_1923/JSD024_Wakatake_1923.model",
	Line 808492:             "model": "content/gameplay/japan/ship/destroyer/JSD003_Isokaze_1917/JSD003_Isokaze_1917.model",
	Line 809930:             "model": "content/gameplay/japan/ship/destroyer/JSD016_Isokaze_1925/JSD016_Isokaze_1925.model",
	Line 832550:             "model": "content/gameplay/russia/ship/battleship/RSB001_Nikolay_I_1917/RSB001_Nikolay_I_1917.model",
	Line 835975:             "model": "content/gameplay/russia/ship/cruiser/RSC001_Avrora_1917/RSC001_Avrora_1917.model",
	Line 839450:             "model": "content/gameplay/russia/ship/cruiser/RSC002_Diana_1905/RSC002_Diana_1905.model",
	Line 843574:             "model": "content/gameplay/russia/ship/cruiser/RSC003_Murmansk_1944/RSC003_Murmansk_1944.model",
	Line 847393:             "model": "content/gameplay/russia/ship/cruiser/RSC002_Diana_1905/RSC002_Diana_1905.model",
	Line 849216:             "model": "content/gameplay/russia/ship/cruiser/RSC008_Orlan_1941/RSC008_Orlan_1941.model",
	Line 849935:             "model": "content/gameplay/russia/ship/cruiser/RSC008_Orlan_1941/RSC008_Orlan_1941.model",
	Line 852863:             "model": "content/gameplay/russia/ship/destroyer/RSD001_Gremyashchy_1942/RSD001_Gremyashchy_1942.model",
	Line 854846:             "model": "content/gameplay/russia/ship/destroyer/RSD002_SM_Storojevoy_1915/RSD002_SM_Storojevoy_1915.model",
	Line 856302:             "model": "content/gameplay/russia/ship/destroyer/RSD002_SM_Storojevoy_1915/RSD002_SM_Storojevoy_1915.model",
	Line 858348:             "model": "content/gameplay/russia/ship/destroyer/RSD003_Derzky_1915/RSD003_Derzky_1915.model",
	Line 859531:             "model": "content/gameplay/russia/ship/destroyer/RSD013_Derzky_1916/RSD013_Derzky_1916.model",
	Line 861859:             "model": "content/gameplay/russia/ship/destroyer/RSD008_Izyaslav_1917/RSD008_Izyaslav_1917.model",
	Line 864022:             "model": "content/gameplay/russia/ship/destroyer/RSD017_Izyaslav_1930/RSD017_Izyaslav_1930.model",
	Line 867198:             "model": "content/gameplay/russia/ship/destroyer/RSD010_Pr_7_Gnevny_1938/RSD010_Pr_7_Gnevny_1938.model",
	Line 869387:             "model": "content/gameplay/russia/ship/destroyer/RSD005_Pr_7_Gnevny_1942/RSD005_Pr_7_Gnevny_1942.model",
	Line 871811:             "model": "content/gameplay/russia/ship/destroyer/RSD006_Pr_30_Ognevoy_1939/RSD006_Pr_30_Ognevoy_1939.model",
	Line 873752:             "model": "content/gameplay/russia/ship/destroyer/RSD009_Pr_30_Ognevoy_1945/RSD009_Pr_30_Ognevoy_1945.model",
	Line 877025:             "model": "content/gameplay/russia/ship/destroyer/RSD007_Pr_35_Udaloy_1940/RSD007_Pr_35_Udaloy_1940.model",
	Line 879722:             "model": "content/gameplay/russia/ship/destroyer/RSD011_Pr_35_Udaloy_1945/RSD011_Pr_35_Udaloy_1945.model",
	Line 883379:             "model": "content/gameplay/russia/ship/destroyer/RSD016_Pr_20i_Tashkent_1942/RSD016_Pr_20i_Tashkent_1942.model",
	Line 885032:             "model": "content/gameplay/russia/ship/destroyer/RSD015_Pr_20i_Tashkent_1945/RSD015_Pr_20i_Tashkent_1945.model",
	Line 888257:             "model": "content/gameplay/russia/ship/destroyer/RSD012_Pr_48_Kiev_1939/RSD012_Pr_48_Kiev_1939.model",
	Line 889991:             "model": "content/gameplay/russia/ship/destroyer/RSD014_Pr_48_Kiev_1944/RSD014_Pr_48_Kiev_1944.model",
	Line 893383:             "model": "content/gameplay/russia/ship/destroyer/RSD004_Pr_24_Khabarovsk_1947/RSD004_Pr_24_Khabarovsk_1947.model",
	Line 899773:             "model": "content/gameplay/poland/ship/destroyer/WSD001_Blyskawica_1938/WSD001_Blyskawica_1938.model",

```

Some duplicates is present, because one hull model can be used for 2 or more upgrades in game, i.e. "A" and "B" (and "C").
Not sure how to deal with it, maybe just skip (drop?) "A" setup if "B" is present with same hull model?
Or, assuming your Editor turns to Viewer/Exporter in "Load Ship Child models" mode, you can save XML for both upgrades with postfix like ASC001_Erie_1936[A].xml + ASC001_Erie_1936.xml and add selection menu for import dialogue with variants of upgrades (A or B) to import, if Editor in "Load Ship Child models" mode.
## Post #447
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-10-28T14:04:47+00:00
- Post Title: Re: World of Warships

Last night I was speaking with Coffee in his chat, we figured out exactly how the game assembles models.  The name of each ship's branch means nothing, does not matter what the year is.  There are sub-branches of the ship that list the nodes and their model paths, they are labeled either default or A, B, C... At the end of the ship's branch, there are 1-3 branches, one for each of the ship's hull upgrades (the name includes the year), and all of the components that are used in the model.  The generator, when it isolates the .json for a specific ship, needs to read that component list for each hull, and assemble .xmls for each individual ship hull.  Right now, it does this weird thing where, for example, if you load the Taiho 1945 model, all of the hardpoints that are present on the stock ship will be filled with 25mm guns, and all of the hardpoints that are not present on the stock ship are filled with 40mm guns.  It reads from ALL of the component branches, not just the ones specific to a certain hull.

After that, some ships use one set of models for multiple hull upgrades, like the Shokaku, for example.  I was thinking, we could reference the 4 main primitive components in the xml and configure the viewer to load the xml files directly (if that's possible).
## Post #448
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-28T18:14:19+00:00
- Post Title: Re: World of Warships

Warning.. Very long list.. I cut a lot out of the middle:
This is what I can get from each hull upgraded in the ShipUpgradeInfo section:
Notice how the last ship has no date on its name. I can and will get the ships names and paths from the the path in the hull sections.

```

EDIT: deleted
----------------------------------------

```
## Post #449
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-10-28T19:53:11+00:00
- Post Title: Re: World of Warships

the Cimarron is not a playable ship
## Post #450
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-10-28T21:32:40+00:00
- Post Title: Re: World of Warships

Andrakann, I've got a rather large issue, we both have tech tree mods, right...
Well, WG left us a big surprise for 0.5.1.0, this:

the grayed out ships are now unclickable, I'm going to try to hunt down the specific change, maybe it's in a config file, probably in the flash, I don't know but I've got to find it
## Post #451
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-10-28T21:50:17+00:00
- Post Title: Re: World of Warships

alright I figured it out, here's the fixed dock.xml for 0.5.1.0 and instructions for how to fix the subsequent dock.xml files

edit: I found a better way, give me a moment to upload
## Post #452
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-10-29T01:18:17+00:00
- Post Title: Re: World of Warships

[http://www.mediafire.com/download/zw73p ... 1_dock.zip](http://www.mediafire.com/download/zw73pt6d8zxxa5b/0.5.1_dock.zip)
the first one had some issues, this is the easy way to do it
## Post #453
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-10-29T03:31:48+00:00
- Post Title: Re: World of Warships

Funny, but RU-version is 0.5.0.3 so far...
## Post #454
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-10-29T03:34:36+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> Funny, but RU-version is 0.5.0.3 so far...
there is a 0.5.1 public test
## Post #455
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-10-29T03:48:28+00:00
- Post Title: Re: World of Warships

> Reply from TheSeeker
>
> there is a 0.5.1 public test
Right :))
## Post #456
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-29T05:31:48+00:00
- Post Title: Re: World of Warships

I uploaded a zip with the master XMLs in it.
Before I go uploading shit that dont work...
please put this in your XML_Scripts folder.
Here is the link --> [http://209.159.152.184:8080/WoW/Master_XMLs.zip](http://209.159.152.184:8080/WoW/Master_XMLs.zip)

Please let me know how they are working..
Good night
## Post #457
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-10-29T14:33:47+00:00
- Post Title: Re: World of Warships

seems to be working well, Taiho's guns are correct for the 1945 hull, Iowa's rangefinder is appearing properly, and Amagi's secondaries are no longer borked
## Post #458
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-29T14:35:27+00:00
- Post Title: Re: World of Warships

I forgot the catapults LOL
I'm almost done with the generator.
I would like to get the ammo for the torpedo tubes.
I can find it and I'm including it in the XML but I will need to change the Editor to grab this info from the master along with the catapult rotations.
## Post #459
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-29T18:22:08+00:00
- Post Title: Re: World of Warships

OK...
I uploaded the latest version of the XML Master Generator.
[http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)

There are 2 ships it simply can not create XMLs for.
ASB004_Arkansas_1912 and GSC006_Karlsruhe_1924
After a few hours of looking at the code, it looks like these are messed up in the gameparams.data file.

Let me know how this version is working.
## Post #460
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-10-30T01:16:04+00:00
- Post Title: Re: World of Warships

I installed v15 over old v12 and got unchanged v12 for first time 
Then uninstall and do clean install again - have some bad feelings, because file version for newly installed WoWs_Data_Creator.exe stays 1.12.0.0.
But I see differs in log of gameparams extractor, and report is changes:

```
American ships:087
 British ships:001
 Russian ships:024
  German ships:020
  Polish ships:001
Japanese ships:094
```

Also here is another report in left window of XML Creator:

```
   ASB004_Arkansas_1912
Missing Jason XML:
   ASC043_Pensacola_1944
Missing Jason XML:
   GSC006_Karlsruhe_1924
Missing Jason XML:
   JSB035_Masamune_1919
Missing Jason XML:
   JSC001_Katori_1940
Missing Jason XML:
   JSD023_Sakura_1918
Missing Jason XML:
   JSD501_Tachibana_1912
Missing Jason XML:
   JSD502_Umikaze_1925
Missing Jason XML:
   JSD503_Isokaze_1917
Missing Jason XML:
   JSD516_Isokaze_1925
Missing Jason XML:
   JSD521_Umikaze_1911
Missing Jason XML:
   JSD523_Sakura_1918
```


> I uploaded a zip with the master XMLs in it.
Your zip contain 191 xml-file, and my last outputs have 199 of them.
So, I do some compares:

```
ASC043_Pensacola_1944
JSB035_Masamune_1919
JSC001_Katori_1940
JSD023_Sakura_1918
JSD501_Tachibana_1912
JSD502_Umikaze_1925
JSD503_Isokaze_1917
JSD516_Isokaze_1925
JSD521_Umikaze_1911
JSD523_Sakura_1918

You have:
ASC045_Marblehead_1924_Asus
ASC803_Cimarron_shooter
```
## Post #461
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-30T01:33:37+00:00
- Post Title: Re: World of Warships

Uninstall and download that version again.

I made a bad mistake in the build.
I tried to remove the post before anyone saw it but I was too late obviously... LOL
sorry..
## Post #462
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-10-30T01:52:09+00:00
- Post Title: Re: World of Warships

I compared current output XMLs with old ones (manually made) and see you stick to _compound.visual instead of _ports.visual - for me it's not really good, because personal mount points for small objects replaced by one MP for group of such objects, and this will make additional difficulties if I try to hide or move just one small object.
## Post #463
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-30T02:40:58+00:00
- Post Title: Re: World of Warships

It would be nice if you used the chat so we can talk faster.

Anyway.. There was a reason I started useing the compound.. I think WG changed the files and alot fo the info is no longer in the ports.

I'm thinking of taking this XML Generator to the next level.
Loading info for the grandchildren.
I mean.. I have the model paths now from the param file.
I can look up the visuals for each part and check it for grandchildren.
If this child has children, I can get that info and insert it in the the master as a 2nd datatable..
OR.. I could create a 2nd XML with the same name as the first one only add to the name with something like "_Gkids".
This is from one of the american Turrets.

```
               <transform>
                  <row0>   -0.455292 -0.874213 0.168701 0.000000  </row0>
                  <row1>   -0.819731 0.485542 0.303791 0.000000   </row1>
                  <row2>   -0.347490 0.000025 -0.937684 0.000000  </row2>
                  <row3>   -0.281230 0.030617 0.030718 1.000000   </row3>
               </transform>
            </node>
            <node>
               <identifier>   MP_AM133_Boat_7_INDEX_1 </identifier>
               <transform>
                  <row0>   0.287229 0.017891 0.746445 0.000000 </row0>
                  <row1>   -0.655785 0.388434 0.243033 0.000000   </row1>
                  <row2>   -0.356995 -0.699142 0.154127 0.000000  </row2>
                  <row3>   -0.258667 0.052305 0.056938 1.000000   </row3>
               </transform>
            </node>
            <node>
               <identifier>   MP_AM133_Boat_7_INDEX_2 </identifier>
               <transform>
                  <row0>   0.287229 -0.017891 -0.746445 0.000000  </row0>
                  <row1>   0.655785 0.388434 0.243033 0.000000 </row1>
                  <row2>   0.356995 -0.699142 0.154127 0.000000   </row2>
                  <row3>   0.258667 0.052305 0.056938 1.000000 </row3>
               </transform>

```

I could lookup and replace those MPs with the path to the model.
I think MP means "Miscellaneous Part". Not that it matters...

Edit:
Grandchildren are tied to the transform of their parent and I'm not sure how to do that yet but that can be dealt with in the editor.
## Post #464
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-10-30T02:55:55+00:00
- Post Title: Re: World of Warships

Of course.. this will slow down the building of the XMLs a LOT but.. it will save so much in loading this crap from each child.
I could even put the texture info in that xml
## Post #465
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-10-30T03:13:03+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Anyway.. There was a reason I started useing the compound.. I think WG changed the files and alot fo the info is no longer in the ports.
I searching in folder "gameplay" for "*_MidFront_compound.visual" and got 174 hits, then I search for "*_MidFront_ports.visual" and got 199 hits - same number as XMLs in Generator's output.
For example JSA017_Hakuryu_1942 didn't have any _compound.visual at all.

> I'm thinking of taking this XML Generator to the next level.
>
> Loading info for the grandchildren.
Great idea I think 

> Reply from Coffee
>
> Of course.. this will slow down the building of the XMLs a LOT but.. it will save so much in loading this crap from each child.
I could even put the texture info in that xml
All process takes about 3 minutes for me, with reinstalling tool
## Post #466
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-11-01T17:45:31+00:00
- Post Title: Re: World of Warships

OK..
I started a major re-write of the editor.
This has to be done for a number of reasons.

1. The data formats I originally used were fine for simple models with 1 to 10 parts. WoWs has dozens and need to be nested in a tree format.
2. Because there are so many models , I need to recycle any data I can. Therefor, I am going to be using instancing of all objects and though I am instancing textures now, this is going to be improved.
3. I'm removing things that are useless such as:
3a Shadow mapping.. It has never worked and eats a lot of memory.
3b. Editing of objects. Because of how drastic this re-write is in the data formats, every part of the editing would need changed. Its not worth the work.
3c. I'm removing the ability to select single polygons. It servers no purpose. However, I will keep and improve the selection of objects.
4. The way textures are being show on the right panel is going away. There is far to many with the complete ship models.
5. I am removing the list of objects in favor of a structured Tree View Control. This will make the entire interface much more organized.

With the help of those that have, The XML Creator now exports every part of every ship including grandchild objects.
With this, I will be able to add all the detail items such as the rafts hanging on the turrets, guns, stands.. and so on.
This addition is the main reason for the rewrite of how the data is organized.
Any objects that are children of parent object MUST inherit its transforms.
The way the data was being stored before made this impossible.

This is such a major re-write I will be doing it in increments.
Here is my outline for the workflow needed:

1. I am developing a Class I call "Model Manager"
It's job is to maintain the instancing of all models loaded. It will create the display lists if a new one is needed or return one that already has been created for this model. After 10 hours of pulling my hair out and researching online. I have determined that display list are easier to build and faster to display than VBOs.
2. Get to the point were loading of all the models and building the Tree View is working as expected. This includes all kids and grand kids. For now I'm ignoring texturing and fancy shading.
3. Once step 2 is done, I'm going to write a Class called "Texture Manager" that will handle the instancing of textures and the creation of material groups. Because so many models use the same set of textures, It makes more since and when its time to start exporting a ship as one giant package of models, "one texture many models" is much better than "one texture one model".
4. Re-write the exporters for FBX and OBJ formats.
5. Make improvements and fine tune the code.[/list]

And finally...
I want to rename this app to something with more class.
I'm open to ideas...
## Post #467
- Username: xtcmax
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Fri Oct 23, 2015 4:04 am
- Post datetime: 2015-11-01T22:15:34+00:00
- Post Title: Re: World of Warships

I am very excited about the app and pooping diamonds while waiting for the final version. With that being said, if this app is for WoWS's ships (for now at least) here are some ideas:

- WoWS Model Assembler 
- WoWS Model Ship Yard
- WoWS Model Exporter
- Ship Factory or WoWS Ship Factory
- WoWS Compoer or WoWS Ship Composer
## Post #468
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-11-01T23:56:06+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> OK..
I started a major re-write of the editor.
Epic move!  

> And finally...
>
> I want to rename this app to something with more class.
>
> I'm open to ideas...
"Big World Viewer/Editor" if you don't have plans for reversing another game engine formats, like WarThunder 

> Reply from xtcmax
>
> if this app is for WoWS's ships (for now at least)
For now it also for World of Tanks, you just need to change mode.
## Post #469
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-11-02T21:04:44+00:00
- Post Title: Re: World of Warships

Well... I got the Tree View done.. 
Why does this have to be harder than it needs to be??

I need towork on the code to add the children back in now..

This view is mostly dummy values.
## Post #470
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-11-03T02:02:51+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Well... I got the Tree View done..
Looks just GREAT!
## Post #471
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-11-03T10:01:25+00:00
- Post Title: Re: World of Warships

Ok.. an update...
I got the TreeView working the way I want...
I'm loading all models including the grandchildren.
I still have to get the translations worked out but in the lower pic,
you can see the rafts in the image and also.. the one turret is muted.. 
It's unchecked in the TreeView.
## Post #472
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-11-05T16:48:07+00:00
- Post Title: Re: World of Warships

Well.. My VPS was shut down because I can't pay it.
This means no access to the program or chat. 
Maybe now is a good time to consider clicking the donate button at CURSE.
## Post #473
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-11-05T20:43:18+00:00
- Post Title: Re: World of Warships

For those that care....
Temp Chat IP Address for now...
108:01:93:65
## Post #474
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-11-05T23:49:01+00:00
- Post Title: Re: World of Warships

The Tree view is as good as its ever going to get.
I added a check box under graphic settings to turn on auto sizing of the Tree view. It only works going UP in size.
I can select .. It ignores empty nodes.. Has a context menu to expand and collapse all or just single trees.
Selecting with the center mouse button works.. It shows the path to the selected model in the info area at the bottom.
## Post #475
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-11-06T04:41:50+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> The Tree view is as good as its ever going to get.
Well done!
I even can't find any imperfection and have really strange feeling in this case... 

> Reply from Coffee
>
> Temp Chat IP Address for now...
101:01:93:65
Can't connect to 101.1.93.65 - chat just stops responding.
## Post #476
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-11-06T04:58:17+00:00
- Post Title: Re: World of Warships

try 108:1:93:65
## Post #477
- Username: xtcmax
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Fri Oct 23, 2015 4:04 am
- Post datetime: 2015-11-07T04:01:14+00:00
- Post Title: Re: World of Warships

Looks awesome. Can't wait till you done. I will be making some mad looking wallpapers.
## Post #478
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-11-11T01:37:52+00:00
- Post Title: Re: World of Warships

Ok.. I made some good progress on this.
UV drawing is working again.. 
And more importantly, I figured out how, and what great grand kid items are included with what parents.. 
AND I figure out the translations for them... This works prefect on all of the ships but one and why this is I have no idea!!
Here are a few pics of the grand kids on the turrets. Note that in the bottom image, the turrets have different or missing objects. That part was a bitch to sort out.
## Post #479
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-11-12T02:42:30+00:00
- Post Title: Re: World of Warships

Well.. I'm not happy..
I spent the entire day trying to figure out how to import the planes from the gameparams info.
I can do some.. but the way I look up the ships in the xml creator, it its screwing things up.
Long story short.. I wasted an entire day and need to start over.
I think the best thing to do is just create a file for the catapults planes.
Also, I'm having one shit time trying to figure out the transforms for the planes.
I can get close but not the same as the game shows them.
Anyway.. here is a pic of my fucked up work so far.
## Post #480
- Username: xtcmax
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Fri Oct 23, 2015 4:04 am
- Post datetime: 2015-11-12T04:11:54+00:00
- Post Title: Re: World of Warships

Mr. Coffee, don't give up. What you do is a great project and a lot of us pooping diamonds while patiently waiting for your finished version. The work is not fucked up, just a little obstacle.
## Post #481
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-11-12T09:18:25+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Anyway.. here is a pic of my fucked up work so far.
Looks good, but one transform from gameparams is missing:
[](http://fastpic.ru/view/73/2015/1112/411d597f10ceb3819ee29b60f6c26a92.png.html)
(Update: (after checking catapults places in editor) this scheme is actual if you look at ship from bottom, not sure how coordinate system is done, if this wrong, we have double transform apply)

So, if you add this transformation ship obtains like-in-game look:
[](http://fastpic.ru/view/66/2015/1112/113767aa1abeb7917c040ed25ec99d2c.jpg.html)

Also "G_children" tree branch looks wrong - this branch must have plane model name and placed inside catapult branch (HP_AC_1 > AC002_Catapult_2 > AAF024_XP_40S) because catapult is child and plane is grand child and must reflect all catapult transformations.

So, ship on your screenshot looks like you have applied transformations for mount points, but have missed transformations for catapults (and planes).

Or transform information is doubled, and you apply it both times, but game chose one.
## Post #482
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-11-12T16:26:46+00:00
- Post Title: Re: World of Warships

I'm not giving up lol.. I only give up on people.. never my projects.

Andrakann... 
The tree view is correct.. Its how all the trees that have grandkids are.

Thank you but.. I know about the location of the catapult rotations.. I have not been messing with that part yet..
The issue I'm having is with the translation:

Ship ---> Catapult ----> plane

Ship translation is Identity
The ASC020_Des_Moines_1948_Stern_ports.visual matrix for catapult 1:

```
<identifier>   HP_AC_1  </identifier>
<transform>
<row0>   0.000000 0.000000 1.000000 0.000000 </row0>
<row1>   0.000000 1.000000 0.000000 0.000000 </row1>
<row2>   -1.000000 0.000000 0.000000 0.000000   </row2>
<row3>   -0.480707 0.529198 -5.737267 1.000000  </row3>
</transform>

```


And inside the AC002_Catapult_2.visual we have this:

```
<transform>
<row0>1.000000 0.000000 0.000000 0.000000</row0>
<row1>0.000000 1.000000 0.000000 0.000000</row1>
<row2>0.000000 0.000000 1.000000 0.000000</row2>
<row3>0.000000 0.016654 -0.399279 1.000000</row3>
</transform>
```


```
<transform>
<row0>1.000000 0.000000 0.000000 0.000000</row0>
<row1>0.000000 1.000000 0.000000 0.000000</row1>
<row2>0.000000 0.000000 1.000000 0.000000</row2>
<row3>0.000000 0.026961 -0.399143 1.000000</row3>
</transform>
<node>
<identifier>Float_1_BlendBone</identifier>
<transform>
<row0>1.000000 0.000000 0.000000 0.000000</row0>
<row1>0.000000 1.000000 0.000000 0.000000</row1>
<row2>0.000000 0.000000 -1.000000 0.000000</row2>
<row3>0.000000 -0.083056 0.399279 1.000000</row3>
</transform>

```

and this..

```
<transform>
<row0>1.000000 0.000000 0.000000 0.000000</row0>
<row1>0.000000 1.000000 0.000000 0.000000</row1>
<row2>0.000000 0.000000 -1.000000 0.000000</row2>
<row3>0.000000 -0.066402 0.000000 1.000000</row3>
</transform>
```


Now... look at the row3 Y and Z locations.
0.000000 0.016654 -0.399279 Float_1
0.000000 -0.083056 0.399279 Float_1_BlendBone
-------------------------------------------------
0.000000 -0.066402 0.000000  Rotate_Y_BlendBone

You can see that the addition of float_1 and Float_1_BlendBone =  Rotate_Y_BlendBone
So Right now, in that image, I'm using the Rotate_Y_BlendBone and the HP_Plane_Start.
This is how I do all the other grand kids on the turrets is the same.
I get the objects transform form the parents matrix.. For the plane this is HP_Plane_Start
and add the XYZs to the Rotate_Y_Blendbone. So far this has worked for all grandkids on all the turrets.
The transform of the plane is close.. But it is NOT the same as the game.
The real issue I'm having is with getting the planes from the gameparams.
The way my extractor is working (looping thru each ship and grabbing the best items it can find) is not finding Planes for every ship upgrade.
I spent 3 hours staring at the code trying to understand how this can be.
I also have to figure out how to import the catapults rotation. It is NOT a child of any object.
The only solution I can come up with is to pre-multiply the catapults matrix by the rotation before exporting to the master XML.
## Post #483
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-11-12T20:14:52+00:00
- Post Title: Re: World of Warships

OK... I added code to the extractor part of the XML creator and create files for each ship that has all the info for each catapult.
This is for the Yamato:

```
HP_Plane_Start:japan\aircraft\fighter\JAF002_Kawanishi_N1K1\JAF002_Kawanishi_N1K1.model
HP_JC_1:japan\catapult\JC001_Catapult_Shiki2\JC001_Catapult_Shiki2.model:90
HP_JC_2:japan\catapult\JC001_Catapult_Shiki2\JC001_Catapult_Shiki2.model:109

```

I find all planes that can be placed on the catapult(s).
I find all catapults ( HP_ : Model Path : rotation Angle)
with this I should be able to read these files in the XML creator and build something usable by the editor.
EDIT:
I just checked and the rotation angles I'm finding are wrong. I'm looking in to this now.
EDIT 2: Fixed and updated the code above.
## Post #484
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-11-13T06:21:57+00:00
- Post Title: Re: World of Warships

Ok.. 
I got the catapults working.. Planes will be tomorrow.
## Post #485
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-11-13T06:28:21+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> The tree view is correct.. Its how all the trees that have grandkids are.
It's not contain group for plane with plane model name, so if you put two planes in that MP their parts all mixed in "G_children" group.
And even for one plane you can't find model name after export.

> You can see that the addition of float_1 and Float_1_BlendBone =  Rotate_Y_BlendBone
>
> So Right now, in that image, I'm using the Rotate_Y_BlendBone and the HP_Plane_Start.
Why you use those low priority "BlendBone"s?
They looks like some sort of backward connections in skeleton for unknown purpose:
[](http://fastpic.ru/view/74/2015/1113/01a9bc71ef8018514da4fb6278e32e4a.png.html)
If you change position for Rotate_Y_BlendBone it's moves from Root point to new point without affecting something, but if you change position for Rotate_Y - all connected skeleton moves to this new point.
And even in .visual you can clearly see low priority for that point:
[](http://fastpic.ru/view/74/2015/1113/cb365f19ee7ba2e0f29c4bf4e038e512.png.html)
## Post #486
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-11-13T06:31:39+00:00
- Post Title: Re: World of Warships

You can see in the bottom image above that the AA guns are facing backwards.
This not usually the case and I have not sorted out why this is happening.
Maybe some kind of problem in how I get the matrix. Ill need to go back and look at it but not until I get the planes on the catapults!
## Post #487
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-11-13T06:33:26+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> Coffee wrote:The tree view is correct.. Its how all the trees that have grandkids are.
It's not contain group for plane with plane model name, so if you put two planes in that MP their parts all mixed in "G_children" group.
And even for one plane you can't find model name after export.
You can see that the addition of float_1 and Float_1_BlendBone =  Rotate_Y_BlendBone
So Right now, in that image, I'm using the Rotate_Y_BlendBone and the HP_Plane_Start.
Why you use those low priority "BlendBone"s?
They looks like some sort of backward connections in skeleton for unknown purpose:

If you change position for Rotate_Y_BlendBone it's moves from Root point to new point without affecting something, but if you change position for Rotate_Y - all connected skeleton moves to this new point.
And even in .visual you can clearly see low priority for that point:

Be cause its the only matrix location that gives me the right transforms!
If there is any item you want to know about..
Open the Visual editor under the file menu and click on the item you want. It will load the visual for it and as always.. the full name of the item is at the start.
## Post #488
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-11-13T06:36:50+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Be cause its the only matrix location that gives me the right transforms!
So, you have some invertions in scene, because this "bone" is backward oriented.

Only difference between Rotate_Y_BlendBone and Rotate_Y is two negative numbers (same!) instead of positive.
## Post #489
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-11-13T07:08:27+00:00
- Post Title: Re: World of Warships

About the Treeview...
The planes have HP_Plane_Start.. its the only root I could use...
I know the planes have multiple parts but all of them in the end are g_kids to the catapult.
This is what the g children look like.
I don't see a problem. Also.. Every child on that turret below is transformed using the Rotate_Y_Blendbone.  Its the only one that works.. Like I said.
This is the Des_Moines_1948_Bow : Check it against the game.. the shells in the net are perfectly transformed as is all the other items.
## Post #490
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-11-13T07:08:28+00:00
- Post Title: Re: World of Warships

About the Treeview...
The planes have HP_Plane_Start.. its the only root I could use...
I know the planes have multiple parts but all of them in the end are g_kids to the catapult.
This is what the g children look like.
I don't see a problem. Also.. Every child on that turret below is transformed using the Rotate_Y_Blendbone.  Its the only one that works.. Like I said.
This is the Des_Moines_1948_Bow : Check it against the game.. the shells in the net are perfectly transformed as is all the other items.
## Post #491
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-11-13T07:34:27+00:00
- Post Title: Re: World of Warships

Maybe this is more like what you want the grand kid tree to look like?
## Post #492
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-11-13T09:08:38+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Maybe this is more like what you want the grand kid tree to look like?
Yes, it's closer.
Btw, why not use same system as for childs - parent name (bow) \ mount point name (HP_AGM_1) \ child model name (AGM001_*) \ child shapes and g_childs mount point names \ g_child model name \ g_child shapes.
Maybe with something one of GC-MP / GC-model names, like this:

Note group hide option - atm you have to click child and every GC-shape for hiding.
## Post #493
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-11-13T20:34:48+00:00
- Post Title: Re: World of Warships

Im giving up on trying to get a prefect fit.
Look at the game and than at my transform.








It is what it is.. I can't make it any better. I just dont have the numbers.
## Post #494
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-11-13T21:46:43+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> It is what it is.. I can't make it any better. I just dont have the numbers.
Looks pretty identical for me
## Post #495
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-11-13T23:23:10+00:00
- Post Title: Re: World of Warships

yeah.. I think its right...

One more thing we need...
Where is it decided which slide is used for which plane on the Catapults.
As it is I'm importing 2 planes for each cat.
## Post #496
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-11-14T03:45:45+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> Coffee wrote:It is what it is.. I can't make it any better. I just dont have the numbers.
Looks pretty identical for me
Sorry, re-checked in game - catapult is inverted left-to-right:
[](http://fastpic.ru/view/66/2015/1114/9442af6d16a217973589ba1935e85b64.jpg.html) [](http://fastpic.ru/view/65/2015/1114/f7b7b4ca14adc010824a259b24622181.png.html)
## Post #497
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-11-16T22:37:48+00:00
- Post Title: Re: World of Warships

I'm afraid this has to be put on hold for a while.
I had a heart attack.

I am ok... but need rest.
## Post #498
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-11-16T23:35:07+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> I'm afraid this has to be put on hold for a while.
I had a heart attack.

I am ok... but need rest.
Glad you're alright dude
## Post #499
- Username: sophia097
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Tue Nov 17, 2015 4:57 pm
- Post datetime: 2015-11-17T09:02:18+00:00
- Post Title: Re: World of Warships

Why no downloads available [www.etuicoquesamsung.com](http://www.etuicoquesamsung.com) [etuicoquesamsung.com](http://www.etuicoquesamsung.com/category-accessoires-coque-etui-film-sony-xperia-m5-705.html)
## Post #500
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-11-17T13:39:00+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> I'm afraid this has to be put on hold for a while.
I had a heart attack.

I am ok... but need rest.
Bad news 
Get well soon!

I'm sick as hell too - bronchitis makes me coughing like mad and sweat like a pig 

> Reply from sophia097
>
> Why no downloads available ???
Because nothing is complete.
## Post #501
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-11-17T14:54:27+00:00
- Post Title: Re: World of Warships

Thanks Guys...
I had to replace part of my roof.. was packing all the old roofing material to the front .. I have friends with experience doing the roofing and figured I would do the clean up.
I got sorta faint and decided to take a break.. 
I went in to A-Fib. Out of control electrical signals. Basically my heart was firing non-stop. (they don't actually call this a heart attack I guess)
They shocked me 2 times to get my heart beat regular again. Never felt it.. They put me out 
I spent 3 days in the hospital and now I will be on medications to (hopefully) stop this from happening again.
Good news is, As far as they can tell, I suffered no damage to my heart which, I was told was amazing considering my age and how long this went on before It was under control.

Get Better Andrakann.. And go see a doctor!
## Post #502
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-11-19T06:07:47+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Get Better Andrakann.. And go see a doctor!
Thanks! I feel better already
## Post #503
- Username: gr33nmous3
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Mon Sep 28, 2015 6:12 pm
- Post datetime: 2015-11-23T06:09:47+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> I'm afraid this has to be put on hold for a while.
I had a heart attack.

I am ok... but need rest.

Don't push yourself, take it easy dude.

Also; TheSeeker helped me solve the "cmodl" format which is in the non-LoD .primitive files.

```
uint32_le        magic;                    // always 0x654EA142
char*            data[????];               //
primitive_entry* entry_table;              // begins at 4 bytes + table_length from end
uint32_le        table_length;             // begins at 4 bytes from end

// primitive_entry (section)
uint32_le section_size;                    // notes: offset to entry = 4 + (previous entry sizes) from start
char[16]  padding;                         // ?
uint32_le name_length;                     //
char*     name[name_length];               //

// cmodl (files ending in ".cmodl")
uint32_le magic;                           // always 0x12200224
uint32_le block_count;                     //
block*    blocks[block_count];             //

// block (section)
uint32_le   verticle_count;                //
verticle*   verticles[verticle_count];     // order dependent
uint32_le   block_unk1_count;              //
block_unk1* block_unk1s[block_unk1_count]; // ?
uint32_le   polygon_count;                 //
polygon*    polygons;                      // some polygons are ngons consisting of 5 or more verticles

// verticle (section)
float x;                                   //
float y;                                   //
float z;                                   //

// block_unk1 (section)
uint32_le x;                               //
uint32_le y;                               //

// polygon (section)
uint32_le  index_count;                    //
uint32_le* indices[index_count];           // index of verticle in block
uint32_le* polygon_unk1[index_count];      // ?
uint32_le  armor_id;                       // relates to GameParams

// splash (files ending in ".splash")
uint32_le hitbox_count;                    // warning: no magic identifier
hitbox*   hitboxes[hitbox_count];          //

// hitbox (section)
uint32_le name_length;                     //
char*     name[name_length];               //
verticle  top_left_front_corner;           // verticle reused to save time, structure is identical.
verticle  bottom_right_back_corner;        //

```
## Post #504
- Username: xtcmax
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Fri Oct 23, 2015 4:04 am
- Post datetime: 2015-11-27T15:39:51+00:00
- Post Title: Re: World of Warships

Hello there.
I am glad that Coffee is ok. You, guys, are so close to having an awesome end product. Any news on how is the project going? I am still eagerly waiting for the ability to render news and make new wallpapers.

Regards,
m.
## Post #505
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-11-27T17:09:23+00:00
- Post Title: Re: World of Warships

OK....
I am feeling better.. But my wife decided to remodel the bathroom and I have been working on that with what energy I can muster.
I did do a little work on this last night and need this to be tested.
I uploaded a VERY rough beta of the new version of the Big World Tool.
Version 30.0.0

[http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)

I left the old version on the server to revert back to if you decide to do so.

Loading is MUCH faster.
I reuse anything that has been loaded already. Models and Textures. I never load anything more than once now.

1. There is NO GLSL shading in this version.. Only the built in lighting model.
2. It will NOT work with World of Tanks PERIOD!
3. It will NOT export anything and will crash if you try. The Exporting has not been updated to work with the new data storage I'm using.
4. the Help info is completely out of data and useless.

This version is to look for bugs in the Treeview, Transforms and anything else that has to do with loading and translating the ships and their children and grand children.

Please remember this is for looking for bugs in translations and the treeview only! Most every thing else is disabled or not even coded yet.
F2 spins the light
F3 spins the model


Thanks and have a great day.
## Post #506
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-11-28T04:09:18+00:00
- Post Title: Re: World of Warships

it crashes if it can't find a .visual, none of the german ships will load because they all reference an object called GM507... which has a .visual

can we get the new xml generator too?
## Post #507
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-11-28T04:16:59+00:00
- Post Title: Re: World of Warships

I found the issue, it's trying to load the .visual from C:\Games\World_of_Warships\res, which does not exist - even though I have my working directory set correctly
## Post #508
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-11-28T16:17:07+00:00
- Post Title: Re: World of Warships

> Reply from TheSeeker
>
> I found the issue, it's trying to load the .visual from C:\Games\World_of_Warships\res, which does not exist - even though I have my working directory set correctly

Odd.. did you set the mode?
Try setting the path and than closing and reopening the editor.


Ill upload the XML Generator in a few minutes.
## Post #509
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-11-28T16:54:00+00:00
- Post Title: Re: World of Warships

OK..
I uploaded a new version of the editor..
30.0.1
It fixes:
The catapult planes being inverted on X.
Issues with the back ground color setting window.
A bug with resizing the form and the Treeview Splitter window.
___
I also uploaded the new XML Master Creator/Generator.
Version 18

I added a button the the editor to force updates from the zip file so only the zip needs to be copied to the WoW_Scripts folder.
Once you copy that script, just click the "Force Update" under the file menu.

[http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)

Also the the chat sever is working at IP 209.159.152.184
## Post #510
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-11-30T02:35:24+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> TheSeeker wrote:I found the issue, it's trying to load the .visual from C:\Games\World_of_Warships\res, which does not exist - even though I have my working directory set correctly

Odd.. did you set the mode?
Try setting the path and than closing and reopening the editor.


Ill upload the XML Generator in a few minutes.
ok, I further isolated the problem, for the gkids it's looking for the .model in the correct path, but it always looks for the .visual in C:\Games\World_of_Warships\, no matter what

seems to only be happening with the gkids
## Post #511
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-11-30T14:52:42+00:00
- Post Title: Re: World of Warships

> Reply from TheSeeker
>
> Coffee wrote:TheSeeker wrote:I found the issue, it's trying to load the .visual from C:\Games\World_of_Warships\res, which does not exist - even though I have my working directory set correctly

Odd.. did you set the mode?
Try setting the path and than closing and reopening the editor.


Ill upload the XML Generator in a few minutes.
ok, I further isolated the problem, for the gkids it's looking for the .model in the correct path, but it always looks for the .visual in C:\Games\World_of_Warships\, no matter what

seems to only be happening with the gkids

let me look at that bit of code.
OK...
Yes... It looks like I have the path in the Gkids hardcoded to the C drive.
Let me fix that and post a new version of the generator and editor.
## Post #512
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-11-30T16:27:01+00:00
- Post Title: Re: World of Warships

I uploaded new versions of the Editor 30.0.2
and the XML Creator ver 19.
This should fix the Gkid issue.
## Post #513
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-11-30T22:26:41+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> I uploaded new versions of the Editor 30.0.2
and the XML Creator ver 19.
This should fix the Gkid issue.
when the model editor forces master xml update it does not look in the current install directory, it looks in the xml folder of the default install directory.
the gkid issue is fixed though
## Post #514
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-01T01:01:19+00:00
- Post Title: Re: World of Warships

> Reply from TheSeeker
>
> Coffee wrote:I uploaded new versions of the Editor 30.0.2
and the XML Creator ver 19.
This should fix the Gkid issue.
when the model editor forces master xml update it does not look in the current install directory, it looks in the xml folder of the default install directory.
the gkid issue is fixed though

Thats how its coded. To look in the WoWs_Scripts folder
## Post #515
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-12-01T03:22:18+00:00
- Post Title: Re: World of Warships

Hi there!
Nice to see work is going on again! 

XML Creator works fine for me, logs:

```
American ships:085
 British ships:001
 Russian ships:024
  German ships:020
  Polish ships:001
Japanese ships:091
```


```
   GSC006_Karlsruhe_1924
```

Creates a zip-file and bunch of folders as output, I put only zip into WoWs_Scripts folder of the Editor, replacing old one, then run from desktop link and wait for setup to "restore" old zip, as always, but all runs fine, zip not replaced but extracted.

Yamato model loads fine, all transformations looks perfect, except planes "diskShape" parts.
They in 0.0.0 coordinates again. In visual-file those items structured as sub-nodes of "propeller_disk" node, but named as "disk", not as "diskShape", so, maybe you just need to skip "Shape" postfix and all go in places? (In fact it's better to skip "Shape" postfix everywhere in mesh names, I think it's just internal marker of primitives-file.)
[](http://fastpic.ru/view/67/2015/1201/af6704a8f658d614dfd37423c9a55fb9.png.html)

Also here is no any plane model name in tree, only path in render window, so I can't recognize plane model after export.
Group hide button works fine, but hides both planes, can you add this button for all groups in scene? For "bow", "midfront", etc. too.
## Post #516
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-12-01T03:24:51+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> TheSeeker wrote:Coffee wrote:I uploaded new versions of the Editor 30.0.2
and the XML Creator ver 19.
This should fix the Gkid issue.
when the model editor forces master xml update it does not look in the current install directory, it looks in the xml folder of the default install directory.
the gkid issue is fixed though

Thats how its coded. To look in the WoWs_Scripts folder
it looks in C:\Program Files (x86)\Coffee_\WoT Model Editor\WoWs_Scripts all the time, even though I installed this particular version in a different folder - C:\Program Files (x86)\Coffee_\WoT Model Editor 2\WoWs_Scripts
## Post #517
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-12-01T03:38:46+00:00
- Post Title: Re: World of Warships

> Reply from TheSeeker
>
> it looks in C:\Program Files (x86)\Coffee_\WoT Model Editor\WoWs_Scripts all the time, even though I installed this particular version in a different folder - C:\Program Files (x86)\Coffee_\WoT Model Editor 2\WoWs_Scripts
Try to delete folder c:\Windows\Temp\wot_temp\

Edit: Ok, I tried this feature and it works fine for me, I replaced my newly generated zip with backup from Editor distributive, then use "Force MASTER XML update" button, and all content in folders is replaced by content from zip.

Btw, only difference between my XMLs and old one is ASC020_Des_Moines_1948_Stern.xml, and changes inside looks bad:
[](http://fastpic.ru/view/75/2015/1201/ed284f405a3e855f76deb34e523966f9.png.html)
(new one is on the left side of compare)
Fourth matrix column is skipped for HP_AC_1 and HP_AC_2 (and lots of tabs), I check ASC020_Des_Moines_1948_Stern_ports.visual in game folder:

```
				<identifier>	HP_AC_2	</identifier>
				<transform>
					<row0>	0.000000 0.000000 -1.000000 0.000000	</row0>
					<row1>	0.000000 1.000000 0.000000 0.000000	</row1>
					<row2>	1.000000 0.000000 0.000000 0.000000	</row2>
					<row3>	0.480707 0.529198 -5.737267 1.000000	</row3>
				</transform>
			</node>
			<node>
				<identifier>	HP_AC_1	</identifier>
				<transform>
					<row0>	0.000000 0.000000 1.000000 0.000000	</row0>
					<row1>	0.000000 1.000000 0.000000 0.000000	</row1>
					<row2>	-1.000000 0.000000 0.000000 0.000000	</row2>
					<row3>	-0.480707 0.529198 -5.737267 1.000000	</row3>
				</transform>
			</node>
```

looks ok, so it's XML Creator bug.

Edit2: Or feature, because catapults loads fine with this matrix, and posed incorrectly with "normal" one...
[](http://fastpic.ru/view/74/2015/1201/09d2d8efa5da6dcccc74d7e144ed27c0.png.html)

Bugs: Grid is not shown in this version of editor.
Also if I do Alt-Tabbing to game, then back to Editor, Editor rendering window is dark grey and not shown anything until I try to rotate model, or just click, then screen redraws.


Some fun with F2/F3 features 
[https://www.youtube.com/watch?v=Z0-dJGJ6LuM](https://www.youtube.com/watch?v=Z0-dJGJ6LuM)
## Post #518
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-01T16:05:38+00:00
- Post Title: Re: World of Warships

> it looks in C:\Program Files (x86)\Coffee_\WoT Model Editor\WoWs_Scripts all the time, even though I installed this particular version in a different folder - C:\Program Files (x86)\Coffee_\WoT Model Editor 2\WoWs_Scripts
Oh I get what your saying..
I got something hard coded again.

Edit.. OK.. I looked at the code..
Here is the ZIP extraction code.

```
            Try
                Using zip As ZipFile = ZipFile.Read(TargetDirectory + "Master_Xmls.zip")
                    zip.ExtractExistingFile = ExtractExistingFileAction.OverwriteSilently
                    zip.ExtractAll(TargetDirectory)
                End Using
            Catch ex As Exception
                MsgBox("Master XML Zip was not found." + vbCrLf + "Make sure it is located in the \WoWs_Scripts\ folder.", MsgBoxStyle.Exclamation, "Master XML Missing...")
            End Try

```

TargetDirectory is where the app started in + the WoWs_Scripts folder.
I don't see how this can fail at finding the correct folder. There is nothing hard coded.
The only thing I can think of is there is a weird bug in .NET and having the same app installed 2 times in different locations.
## Post #519
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-01T16:31:52+00:00
- Post Title: Re: World of Warships

Andrakannn,
The 4th column is always the same. In the editor I never read this form any XMLs.

The reason the numbers are different is because I am reading the rotation for the catapults from the gameparams file and applying it to the matrix before exporting.

I'm also reading all the matrix for all items and saving them in the Master XMLs. I have to read the Matrix for the Catapults and apply the rotation anyway and it.. In the end, this speeds load time.
I'll add the 4th column just to keep it consistent.

EDIT:
I tried stripping "Shape" and using that name to search for the correct matrix but it fails most of the time.
The only way I was able to solve most of the matrix problems was to check for the type of item.
Like if its a radar, I load an Identity matrix for the transform of its sub items.
Some models like radars are made of a few parts and have to be transformed.
A prefect example is the JF017 rangefinder on the Yamato.
It has parts that MUST be transformed to work.
Most radars point at the Rotate_Y_BlendBone matrix and doesn't work.

Also.. On the Midway.. The small AA guns are backwards.. I have yet to find out why this is only on the Midway.


I watched the YouTube video...  I like it.
It will look better once the shaders are back in place.
## Post #520
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-01T17:48:28+00:00
- Post Title: Re: World of Warships

I uploaded version 20 of the XML Creator.
I fixed the issues mentioned.
## Post #521
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-12-01T22:10:34+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> 
it looks in C:\Program Files (x86)\Coffee_\WoT Model Editor\WoWs_Scripts all the time, even though I installed this particular version in a different folder - C:\Program Files (x86)\Coffee_\WoT Model Editor 2\WoWs_Scripts
Oh I get what your saying..
I got something hard coded again.

Edit.. OK.. I looked at the code..
Here is the ZIP extraction code.
Code: Select all            Dim TargetDirectory As String = Application.StartupPath + "\WoWs_Scripts\"
            Try
                Using zip As ZipFile = ZipFile.Read(TargetDirectory + "Master_Xmls.zip")
                    zip.ExtractExistingFile = ExtractExistingFileAction.OverwriteSilently
                    zip.ExtractAll(TargetDirectory)
                End Using
            Catch ex As Exception
                MsgBox("Master XML Zip was not found." + vbCrLf + "Make sure it is located in the \WoWs_Scripts\ folder.", MsgBoxStyle.Exclamation, "Master XML Missing...")
            End Try

TargetDirectory is where the app started in + the WoWs_Scripts folder.
I don't see how this can fail at finding the correct folder. There is nothing hard coded.
The only thing I can think of is there is a weird bug in .NET and having the same app installed 2 times in different locations.
that seems likely, unless it's a registry error
## Post #522
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-12-02T18:17:27+00:00
- Post Title: Re: World of Warships

alright Coffee, I acquired the internal testing 0.5.2.0 gameparams - it is here: [http://www.mediafire.com/download/tsfah ... arams.data](http://www.mediafire.com/download/tsfah3lxqqq8rcd/GameParams.data)

the current xml generator cannot extract it, it says something like it cannot be opened because it's in use by another process - this is incorrect, the actual error is related to UTF8 encoding

Here's IKU19's scripts side by side, first the current one, and then the one updated for the future 0.5.2.0 version - the latin_1 encoding is what changed

> try:
>
>     import cPickle as pickle
>
> except:
>
>     import pickle
>
> 
>
> import json
>
> 
>
> class GPEncode(json.JSONEncoder):
>
>     def default(self, o):
>
>         return o.__dict__
>
> 
>
> try:
>
>     f = open('GameParams.txt')
>
>     d = pickle.load(f)
>
>     f.close()
>
> 
>
>     f = open('GameParams.json', 'w')
>
>     f.write(json.dumps(d, cls=GPEncode, sort_keys=True, indent=4, separators=(',', ': ')))
>
>     f.close()
>
> except Exception, e:
>
>     f = open('error.txt', 'w')
>
>     f.write("%s" % e)
>
>     f.close()

> try:
>
>     import cPickle as pickle
>
> except:
>
>     import pickle
>
> 
>
> import codecs, json
>
> 
>
> class GPEncode(json.JSONEncoder):
>
>     def default(self, o):
>
>         return o.__dict__
>
> 
>
> f = open('GameParams.txt')
>
> d = pickle.load(f)
>
> f.close()
>
> 
>
> f = codecs.open('GameParams.json', 'w', encoding='latin_1')
>
> f.write(json.dumps(d, cls=GPEncode, sort_keys=True, indent=2, separators=(',', ': '), encoding='latin_1'))
>
> f.close()
## Post #523
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-02T20:32:49+00:00
- Post Title: Re: World of Warships

> Reply from TheSeeker
>
> alright Coffee, I acquired the internal testing 0.5.2.0 gameparams - it is here: http://www.mediafire.com/download/tsfah ... arams.data

the current xml generator cannot extract it, it says something like it cannot be opened because it's in use by another process - this is incorrect, the actual error is related to UTF8 encoding

Here's IKU19's scripts side by side, first the current one, and then the one updated for the future 0.5.2.0 version - the latin_1 encoding is what changed
try:
    import cPickle as pickle
except:
    import pickle

import json

class GPEncode(json.JSONEncoder):
    def default(self, o):
        return o.__dict__

try:
    f = open('GameParams.txt')
    d = pickle.load(f)
    f.close()

    f = open('GameParams.json', 'w')
    f.write(json.dumps(d, cls=GPEncode, sort_keys=True, indent=4, separators=(',', ': ')))
    f.close()
except Exception, e:
    f = open('error.txt', 'w')
    f.write("%s" % e)
    f.close()
try:
    import cPickle as pickle
except:
    import pickle

import codecs, json

class GPEncode(json.JSONEncoder):
    def default(self, o):
        return o.__dict__

f = open('GameParams.txt')
d = pickle.load(f)
f.close()

f = codecs.open('GameParams.json', 'w', encoding='latin_1')
f.write(json.dumps(d, cls=GPEncode, sort_keys=True, indent=2, separators=(',', ': '), encoding='latin_1'))
f.close()

Is this setup to try the Latin if it fails on the default?
That would be the ideal way to do it.
## Post #524
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-03T16:34:28+00:00
- Post Title: Re: World of Warships

OK.. This is the script Im using.
Its shitting on the file I downloaded from that link. 
I gave up trying to just do a return if everything worked on first try. I kept getting an error.
Now I use a simple boolean test.
I'm still getting errors trying to read the .txt
Also.. this script works fine when I point it at the 5.1.3 version of the gameparams.data

file_name is passed in from the .NET app.

```
import cPickle as pickle
import codecs, json

#
# dump json 
#
class GPEncode(json.JSONEncoder):
	def default(self, o):
			return o.__dict__
t = False
try:
	f = open(file_name)
	d = pickle.load(f)
	f.close()
	f = open(path + 'GameParams.json', 'w')
	f.write(json.dumps(d, cls=GPEncode, sort_keys=True, indent=4, separators=(',', ': ')))
	f.close()
	t = True
except Exception, e:
	f.close()
	f = open('c:\error.txt', 'w')
	f.write("%s" % e)
	f.close()

if t == False:
	f = open('c:\error2.txt', 'w')
	f.write('Doing Latin Rumba')
	f.close()
	try:
		f = codecs.open(path + 'GameParams.json', 'w', encoding='latin_1')
		f.write(json.dumps(d, cls=GPEncode, sort_keys=True, indent=4, separators=(',', ': '), encoding='latin_1'))
		f.close()
	except Exception, e:
		f.close()
		f = open('c:\error3.txt', 'w')
		f.write("%s" % e)
		f.close()


```

and here is the error3.txt file

```
('unknown', u'\xd3', -1, 0, '')
```


edit: I see one difference.. indent=2.. I have it as 4.. let me change that and try it again.
edit2: Nope.. I get the same error output.
## Post #525
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-04T01:03:50+00:00
- Post Title: Re: World of Warships

I'm angry..
First over the moronic shootings going on in the US.
This mindless fucks need to go kill each other... not innocent people trying to have a life.

Second...
I have found main gun turrets with its grand child objects translated wrong!
The Cleveland class ships 1942 and 1954 have missing items.. and bad transforms.
For all I am worth.. I can not figure out why the transforms work perfect on most items and do not on a few.
Are these mistakes by the devs??? How do they make it work?
I'm sick of the bull shit with these transforms.
Some one figure this shit out! I can not do it.
## Post #526
- Username: gr33nmous3
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Mon Sep 28, 2015 6:12 pm
- Post datetime: 2015-12-04T03:55:49+00:00
- Post Title: Re: World of Warships

Try

```
    import cPickle as pickle
except:
    import pickle

import codecs, json, sys

class GPEncode(json.JSONEncoder):
    def default(self, o):
        t = o.__dict__
        for key in t:
            if isinstance(t[key], str):
                try:
                    t[key].decode('utf8')
                except:
                    try:
                        t[key] = t[key].decode('MacCyrillic')
                    except:
                        try:
                            t[key] = t[key].encode('hex')
                        except:
                            pass
        return o.__dict__

sys.stderr = open('error.txt', 'w')

f = open('GameParams.txt')
d = pickle.load(f)
f.close()

f = codecs.open('GameParams.json', 'w', encoding='utf8')
f.write(json.dumps(d, cls=GPEncode, sort_keys=True, indent=4, separators=(',', ': '), encoding='utf8'))
f.close()

```


The updated script will try to decode strings as UTF-8, if that fails then it'll replace the string with a decoded Mac-Cyrillic version, if that fails it'll replace it with a hex version.

Also is "path" defined?
## Post #527
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-04T21:44:13+00:00
- Post Title: Re: World of Warships

yes.. I pass the path to the script from .NET
## Post #528
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-05T05:55:29+00:00
- Post Title: Re: World of Warships

This wont work either.
I got an error..
Something about cant convert ascii 210d at position 0
## Post #529
- Username: Xentaxi
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Sun Dec 06, 2015 3:38 am
- Post datetime: 2015-12-05T20:52:54+00:00
- Post Title: Re: World of Warships

Could someone please give me a help? 
I've been using this Wot/WoW model editor and working with World of Warships .PRIMITIVES -files. 
I have exported them to .OBJ -format and then I want to import them to 3D modelling software. 
However importing them to Blender or 3DS Max 2016 doesn't work properly. Parts of those imported meshes geometry is missing! 
All vertices don't show up. Is the problem in .OBJ -files or am I using wrong import settings?
## Post #530
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-06T14:13:36+00:00
- Post Title: Re: World of Warships

> Reply from Xentaxi
>
> Could someone please give me a help? 
I've been using this Wot/WoW model editor and working with World of Warships .PRIMITIVES -files. 
I have exported them to .OBJ -format and then I want to import them to 3D modelling software. 
However importing them to Blender or 3DS Max 2016 doesn't work properly. Parts of those imported meshes geometry is missing! 
All vertices don't show up. Is the problem in .OBJ -files or am I using wrong import settings?

Have you been reading this thread?
Currently.. with the versions 30.0.X, the exporting does not work at all. This is because the entire program is being re-written, a section at a time.
The old version never wrote all the children objects.

I'm sorry but... right now, there is no way to write out the entire ship with its children and grand child objects.
I'm hoping to start working in the exporting again in the next week but right now, there are issues with translations and missing objects that has to be fixed.
## Post #531
- Username: Xentaxi
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Sun Dec 06, 2015 3:38 am
- Post datetime: 2015-12-07T12:41:29+00:00
- Post Title: Re: World of Warships

Thank you very much for your reply and sorry for the disturbance. This thread is so long (36 pages) so I didn't want to read every single post. 
Could you give any estimation  how long it would take for the next release of WoT/WoW Model Editor? Which would have functional OBJ-exporter in it? 
This tool was very useful for World of Tanks and it could be for World of Warships as well.
## Post #532
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-07T19:16:34+00:00
- Post Title: Re: World of Warships

Hi..
Yes.. A very long thread.

I have been giving a lot of thought about the WOW format and how best to export the entire ship with all of the additional child and grand child models.
The .OBJ format does NOT include a way to specify translation of a mesh.
Be cause the WOW models use matrices to position every child model, the only way to export the entire ship in OBJ is to translate each vertex and normal prior to exporting. This can be done.

FBX on the other hand can export translations but they do not work the same as WOWs.
The rotation in XYZ has to be extracted from the Matrix along with translation XYZ and scale XYZ.
Seems easy but there is the problem of compounded transforms.
All models are transformed and even some of the parts that make up a child are transformed by the child's own internal matrices.
I think I can get the numbers needed by starting with a identity matrix and multiplying it by all the matrix stack. After that, I will need to extract the rotation, scale and translations from the final matrix.
On the other hand.. I could just multiply the vertices and normals by the matrix stack and export them. This is what needs to be done to export in OBJ format.
The issue with this method is there will be NO easy way to rotate the turrets inside of Max, Maya or any 3d app. I would like to export the so called bone structure as well but after spending years looking at this, There seems to be no real structure going on that is compatible. There are no mesh weights and the skeleton is not the right shape to be useful with max. I may be wrong on this but as far as I can tell Big World has its own custom deform methods and are created using custom tools. From looking at their site, Models are created in Maya or Max and than exported using a special big world exporter, Once this is done, it is imported in to their modeler. I am not sure if the bones are converted in their modeler or if this is done during the export from Max/Maya.
In any case.. I don't know how to export them in FBX.
FBX has lots of samples floating around the internet on importing but finding info on exporting is hard to come by. I think this is mainly because its proprietary AutoDesk shit.

Before I can even start re-writing the exporter, I have to solve the issues with all the transforms.
There are Directors that translate perfect on one ship but yet this same exact director model is backwards on a different ship. This is true for a number of child models on different ships.
I did find a way to make sure I loaded the parts of each child in the correct order and this fixed some of the transform problems but not all.
An example of this causing problems are with the smaller main guns with shields.
Some of the models have the shield first and the gun/turret 2nd. This was causing problems with the matrix for the shield being applied to the gun rather than the gun matrix being applied to the shield.
Also, there are life rafts on one of the turrets on one of the ships that is completely translated wrong. I spent a bunch of hours trying to understand why its only effecting this one turret and cant find an answer.
I believe the ship is the Cleveland 1945 that has this issue.

I have been trying to sort out how the translations work for years and have yet to figure it out. What works for one model on one ship doesn't always work for that same model on a different ship. Why the hell this is I have no idea. All the ships hulls have the same base transform matrix.

Anyway... To answer your question "when will this export the entire ship?" the answer is I have no idea.
I am doing this when I have time and in the mood to pull my hair out trying to sort out issues with the transforms.

I have added shading back in and will release this today or tomorrow.
I changed the shader a lot... I removed all the shadow crap and added in code for selection highlighting and dealing with the NULL dummy place holders. This was done an entirely different way before by simply redrawing the selected item in red.
There is one main issue yet to deal with and this is the lighting on the grand children is wrong.
This is because the normals need to be translated a 2nd time by its own matrix. Although this is easy to do, it adds a shit load of time to the rendering process. The shader is only producing around 12 FPS with a fully loaded Midway carrier. (I have a nVidia 660 Ti and this is horrible FPS for this card)
For the last few days when I have felt like screwing with this, I have looked at ways to speed up the FPS.
Part of the reason is passing so many texture IDs and other info to the shader. 
I have to set the active texture.. bind the texture.. pass the ID to the shader and than repeat this 2 times for every item in the scene. I could try sorting the models by texture IDs and binding the textures less times but I'm not sure this will speed things up very much. There are so many different textures to load.

I can't get the new gameparams to convert to jason.
I don't know Python well enough to know what's wrong or why it won't read the file as text.
## Post #533
- Username: gr33nmous3
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Mon Sep 28, 2015 6:12 pm
- Post datetime: 2015-12-08T04:35:27+00:00
- Post Title: Re: World of Warships

The official gameparams shouldn't have the issue when it releases, it's happening because of a bunch of text strings that are in different encodings which i am assuming won't carry over to the production version so you shouldn't worry too much.

Also you could try [COLLADA](https://www.khronos.org/files/collada_spec_1_5.pdf) instead of OBJ/MTL, it supports multiple objects, complex materials and transforms, but it's one big blob of an XML file.
## Post #534
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-12-08T10:34:21+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> I have been trying to sort out how the translations work for years and have yet to figure it out. What works for one model on one ship doesn't always work for that same model on a different ship. Why the hell this is I have no idea. All the ships hulls have the same base transform matrix.
I think it's impossible to correct transform guns and other skinned objects without understanding how their skeleton and weights is done.
Because those transformations affects skeleton bones, not objects. Also just parts of objects involved sometimes, like gun barrels:
[](http://fastpic.ru/view/73/2015/1208/83be089df2c4664e0ad311e18981b986.png.html)
As you can see, morphing is present in game, so it's data must be inside primitives. I found a strange bytes in HEX view of AGM124_12in50_Mk7.primitives - in ~70% of mesh data those bytes is "09 09 09", but in other ~30% here's 03 and 06 mixed with 09:
[](http://fastpic.ru/view/76/2015/1208/c678890bf5982de6f8c2e5229f3a8b37.png.html)
Maybe it's weights data?
Also for unskinned primitives vertex data is 32 bytes for vertice(?) instead of 37 bytes for skinned:
[](http://fastpic.ru/view/74/2015/1208/0eed27e453ead079148cbae23cd52dd0.png.html)

Btw, "rival firm" is already have good transformations, skeleton and weights done:
[](http://fastpic.ru/view/75/2015/1208/a90e9b1e492c87b7c19737380218b3e7.png.html) [](http://fastpic.ru/view/75/2015/1208/8bc5ec0ce00fb8ae07bafd6629ca871b.png.html)
Maybe you ask author for help, or just reverse how it's done?

Even in BW-editor skeleton looks totally wrong:
[](http://fastpic.ru/view/75/2015/1208/15541e1d5ef2f84b9e8c6c7d4db0cb91.png.html)
(not structure, but point where's "GunFire" placed)

And your Editor, atm, loads this gun really bad:
[](http://fastpic.ru/view/75/2015/1208/39396fa15d4b973e87375aa2ef754090.png.html)

So, I think it's time to dig deeper in guns primitives and achieve results close to UUw3D ones.
## Post #535
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-08T17:31:16+00:00
- Post Title: Re: World of Warships

Thanks for pointing out the difference in the vertices length....

There are a few different formats the vertices are stored as.
Almost all models are stored as XYZNUVTB
N T and B (Normal, Tangent and Binormal) are the XYZ components compressed in to a single uint32.
There is also this format: XYZNUVIIIWWTB... It has the same compression of N, T and B but 5 extra bytes.
I forgot all about this other format. Only a few models use it but it looks like the main guns are indeed using this.
So this is probably the weights or for sure something to do with it.

There is also another format: XYZNUV ... In this format, all the numbers are real (N is actually 3 floats). Very few use this format. Mostly LOD from WoT tank models.

I think I will contact the author of that plugin and see if I can get any info.
## Post #536
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-08T17:51:01+00:00
- Post Title: Re: World of Warships

> Reply from gr33nmous3
>
> The official gameparams shouldn't have the issue when it releases, it's happening because of a bunch of text strings that are in different encodings which i am assuming won't carry over to the production version so you shouldn't worry too much.

Also you could try COLLADA instead of OBJ/MTL, it supports multiple objects, complex materials and transforms, but it's one big blob of an XML file.

Thanks...
I sure hope they are not actively trying to stop what we are doing.

I looked at Collada. It can do everything I need to export... but like you said, it creates one monster sized file. This isn't really a issue..
## Post #537
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-08T17:56:10+00:00
- Post Title: Re: World of Warships

> Btw, "rival firm" is already have good transformations, skeleton and weights done:
One model does not cover it.
Show me a fully loaded ship with all children and grand children and with all the correct transforms and I'll agree with the "done" part of that statement  
But seriously, who ever wrote that does understand the weights and I will contact them.

EDIT:
Im not wasting my time trying to contact this person. I thought this was wrote by some one other than the author of UUW3d.
This is trial/buy software.. there is NO way he will share anything about any part of that App.

I found some old code kicking around the net.. It's in C but sort of shows how the Index and weights work (IIIWW)
Its looking like the part of the matrix stack is being used but how Im not sure yet.
from AGM019_8in55_CA68_dead.visual :

```
      <node>   Roll_Back2_BlendBone </node>
      <node>   Roll_Back3_BlendBone </node>
      <node>   Rotate_X_BlendBone   </node>
      <node>   Rotate_Y_BlendBone   </node>

```

Also it looks like the index values point at which 3 of these are used.
They are dividing these index numbers by 3 before using them to index the matrix stack. This is probably because of the way the stack is stored??
I don't care about deforming the guns.. its the least of my problems right now and I dont want to pre multiply every vertex to get to the end transform. What I do want is to create a final matrix that can be used at render time and export to position the objects at the correct locations, rotations and scale. I am already grabbing the entire matrix stack so its a matter of figuring out which of these matrices are used.
I think I can take a identity matrix and multiply it by the stack and get the final transform. I'm not good at matrix math so I could be wrong about this.

Any one that knows matrix math is welcome to join this conversation.

The weights are mostly values of 255. so it should be pretty easy to create a weight map for export.
Also..
they are creating a 3rd value from the 2 weights. This is probably the actual value but I need to dig in the code more.
W3 = 1.0 - (w1/255) - (w2/255)

Also.. They look for "skinned" in the material. I would assume this is how they decide what kind of vertex this model uses but Im not 100% on that.
The vertex header has the name in plain text of what type vertex.
## Post #538
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-08T23:14:46+00:00
- Post Title: Re: World of Warships

I uploaded version 30.0.3
This adds back the shading tho its not 100% correct. it works good enough and adds the bump mapping and lighting with levels back in.
All the shading settings should be working now.
## Post #539
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-12-09T06:19:13+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Btw, "rival firm" is already have good transformations, skeleton and weights done:

One model does not cover it.
Show me a fully loaded ship with all children and grand children and with all the correct transforms and I'll agree with the "done" part of that statement  
But seriously, who ever wrote that does understand the weights and I will contact them.
I mean "for single mesh" of course 
Btw, I'm not sure if I understand weights correctly too - I think if weight is 1.0, then vertex reflects all bone transformations 1:1, and if weight is 0.5 - vertex does half of bone transforms. But "Count" value in weights table says nothing to me...

Also I didn't find any clue how primitive parts (or vertices) is attached to blendbones in HEX-view of primitives.
Maybe by numbers, related to blendbones order inside of visual file?..

> Reply from Coffee
>
> I looked at Collada. It can do everything I need to export... but like you said, it creates one monster sized file. This isn't really a issue..
Maybe it's better to export to .blend format for Blender?
I think it's support everything, and it's free.
And format documentation must be enough good.

Then, from Blender, everybody can export to COLLADA or FBX. Or just render in place.

Blender have slightly complicated but powerfull materials support, I even made material with two masks for EVE Online ship (with good tuto):
[](http://fastpic.ru/view/76/2015/1209/70f10eabe0254a0cfebb1b3e17ab6883.png.html)

> Reply from Coffee
>
> I uploaded version 30.0.3
This adds back the shading tho its not 100% correct. it works good enough and adds the bump mapping and lighting with levels back in.
Normal maps looks inverted (pushed instead of bumpy), and, if you activate light to fly around, there's only small sector of 360 degree in which you can see bumps - maybe 5-10 degrees of circle, otherwise they not reflect anything.
Tested on GSB001 Bismarck bow, in BW editor this bow looks really bumpy:
[](http://fastpic.ru/view/76/2015/1209/a772379b6deae402240b6a92c31b5192.png.html) [](http://fastpic.ru/view/76/2015/1209/cf276426ad72914903c1524fd423ce70.png.html)

And if you circle light with AGM124 loaded, gun barrels lighted mirrored (btw, transformations is also wrong).
## Post #540
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-12-09T08:33:23+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> Coffee wrote:Btw, "rival firm" is already have good transformations, skeleton and weights done:

One model does not cover it.
Show me a fully loaded ship with all children and grand children and with all the correct transforms and I'll agree with the "done" part of that statement  
But seriously, who ever wrote that does understand the weights and I will contact them.
I mean "for single mesh" of course 
Btw, I'm not sure if I understand weights correctly too - I think if weight is 1.0, then vertex reflects all bone transformations 1:1, and if weight is 0.5 - vertex does half of bone transforms. But "Count" value in weights table says nothing to me...

Also I didn't find any clue how primitive parts (or vertices) is attached to blendbones in HEX-view of primitives.
Maybe by numbers, related to blendbones order inside of visual file?..
Coffee wrote:I looked at Collada. It can do everything I need to export... but like you said, it creates one monster sized file. This isn't really a issue..
Maybe it's better to export to .blend format for Blender?
I think it's support everything, and it's free.
And format documentation must be enough good.

Then, from Blender, everybody can export to COLLADA or FBX. Or just render in place.

Blender have slightly complicated but powerfull materials support, I even made material with two masks for EVE Online ship (with good tuto):

Coffee wrote:I uploaded version 30.0.3
This adds back the shading tho its not 100% correct. it works good enough and adds the bump mapping and lighting with levels back in.
Normal maps looks inverted (pushed instead of bumpy), and, if you activate light to fly around, there's only small sector of 360 degree in which you can see bumps - maybe 5-10 degrees of circle, otherwise they not reflect anything.
Tested on GSB001 Bismarck bow, in BW editor this bow looks really bumpy:
 

And if you circle light with AGM124 loaded, gun barrels lighted mirrored (btw, transformations is also wrong).
Do you mind if I ask how you extracted that EVE model?  They changed the client architecture in March 2015 and there's basically tens of thousands of nondescript files numbered in hex, and I've got no idea what to do with them.
## Post #541
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-12-09T10:24:26+00:00
- Post Title: Re: World of Warships

> Reply from TheSeeker
>
> Do you mind if I ask how you extracted that EVE model?  They changed the client architecture in March 2015 and there's basically tens of thousands of nondescript files numbered in hex, and I've got no idea what to do with them.
I think my client was older, because I don't play a long time.
So, you'll need to find an older client somewhere on torrents for extraction, if nothing can extracts newest clients now.
PS: Successfully found and downloading Tiamat client ([EVE_Online_Installer_869010](http://www.btbay.org/file/2u85c/EVE-Online-Installer-869010) magnet).
## Post #542
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-09T14:52:58+00:00
- Post Title: Re: World of Warships

Burnt out on this project.
I just don't have the knowledge to do this.
## Post #543
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-12-09T23:15:36+00:00
- Post Title: Re: World of Warships

[out]
## Post #544
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-11T18:16:59+00:00
- Post Title: Re: World of Warships

UU3D does not transform JF017_Rangefinder_4_5m correctly.
The director that sits in side it is in the wrong location.

This is a prefect example of why I'm having a very hard time figuring out the matrices.

EDIT:

Interestingly enough... 
the AGM009_6in47_CL55 gun's matrix stack is backwards from all other guns I have looked at.

```
      <node>   Rotate_X_BlendBone   </node>
      <node>   Roll_Back1_BlendBone </node>
      <node>   Roll_Back2_BlendBone </node>
      <node>   Roll_Back3_BlendBone </node>

```
## Post #545
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-12-11T22:26:40+00:00
- Post Title: Re: World of Warships

[out]
## Post #546
- Username: wen98
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Mon Sep 21, 2015 8:15 pm
- Post datetime: 2015-12-12T09:27:50+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> Coffee wrote:UU3D does not transform JF017_Rangefinder_4_5m correctly.
The director that sits in side it is in the wrong location.


Looks fine to me.  

You sure you have the latest plugin?  It might have been updated in the past month or so.
yamato_director.jpg

Hi, do you know where can I find this world of warships plug-in.
## Post #547
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-12T15:54:57+00:00
- Post Title: Re: World of Warships

Wobble,
I have the latest app and plugin.

What XML are you using to load the entire ship?
Also..
Try loading the JF017 alone and you will see the problem.

wen98,
You can get the plugin for UU3D under their download section at their site.
It's too bad UU3D can't export anything WoWs.
## Post #548
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-12-12T22:11:10+00:00
- Post Title: Re: World of Warships

[out]
## Post #549
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2015-12-13T00:17:38+00:00
- Post Title: Re: World of Warships

[out]
## Post #550
- Username: wen98
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Mon Sep 21, 2015 8:15 pm
- Post datetime: 2015-12-13T10:35:11+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Wobble,
I have the latest app and plugin.

What XML are you using to load the entire ship?
Also..
Try loading the JF017 alone and you will see the problem.

wen98,
You can get the plugin for UU3D under their download section at their site.
It's too bad UU3D can't export anything WoWs.

Thank you Coffee. I only found a World of Tanks (primitives) plug-in in their download list. Which only loads a single primitive file instead of a ship with children. Did I miss something?
## Post #551
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-13T16:02:35+00:00
- Post Title: Re: World of Warships

> Reply from Wobble
>
> Here you go.  Finder loaded by itself.  Innards now sit at the correct level.
The UU3D plugin was recently updated to fix for loading single primitives without a game xml script.

Thanks... 
I have almost all translations fixed. Still having issues with the catapult on some ships.
Also.. The lighting is not right for the child and grand children.. I'm trying to get the lighting fixed and than Ill look at the catapults again.
## Post #552
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-13T16:11:19+00:00
- Post Title: Re: World of Warships

> Reply from wen98
>
> 
Thank you Coffee. I only found a World of Tanks (primitives) plug-in in their download list. Which only loads a single primitive file instead of a ship with children. Did I miss something?

Read what wobble posted.. Early in this thread there is a script that you need to down load.
I dont know how to use it but I'm sure the info is in that post with the script.
## Post #553
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-14T00:17:59+00:00
- Post Title: Re: World of Warships

OK....

I uploaded version 30.0.4 [http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)

I think the lighting is pretty good.
Use 'D' to hide/show the diffuse texture and 'B" to hide/show bump mapping.
F2 spins the light... F2 spins the model.

At this point 99% of all items is transformed correctly.
Catapults are in the 1% that are not working 100% of the time.
I'm having to apply the rotation from the gameparams before export and I just dont have it figured out yet.

Please remember.. this can NOT export.. and will NOT work with World of Tanks.
It still has to be set for WOWs and the path MUST be set up also.

I'm not updating the XML Generator until I have the catapults working.

Side note.. A couple of the side effects for one of my medications is listed as 'Hard to Think' and 'Don't drive'. I'm hoping this goes away after I get used to taking it. I'm finding myself forgetting where I was in the code and what I was working on.


Anyway...
Please check this and look for things that look strange.. I know about the catapults so don't worry about that.
Thanks...
## Post #554
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-12-14T01:16:59+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> I think the lighting is pretty good.
I think the lighting is GREAT!   
Normal maps looks perfect too.

> Use 'D' to hide/show the diffuse texture and 'B" to hide/show bump mapping.
Very useful feature!

> Please check this and look for things that look strange..
Radar wires renders without using transparency, but in texture viewer they shown with alpha.
It's very old issue, but I hoping you make it working with renderer's rewrite...

Also, can you please store the settings for BG/grid colors, game type, childs loading, brightness/contrast/light position, HD-textures loading, tool box position and on|off state, etc. in c:\Windows\Temp\wot_temp\ ? Would be very useful.

Update: No torpedoes in torpedo launchers.
Group hide button(s) can't be implemented by some reason?
Can "Root" folder of tree have the ship's model folder name instead? It's can be a problem for loading multiple ships in other editors in future I think.
"Show Child List" button is obsolete I think?
## Post #555
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-14T15:08:48+00:00
- Post Title: Re: World of Warships

I'll try to answer in the right order..

It order to get the lighting to work on the kids and grand kids I have to multiply N T B by the matrix stack that I use to transform them. Oddly, I have to also do it BACKWARDS. 
Because I scale the scene by Z to get the models to draw correctly, I also have to multiply N T B , the light position and cam position Z by -1 in the vertex shader before passing them to the fragment shader.
All of this 'extra math' slows things down.

About the alpha transparency...
I this turned on in the last couple of versions... I don't know if you noticed but looking thru a radar grid made everything the first texture behind it transparent as well. There is a way to fix this other than sorting the rendering order. I did it in Terra (the Trees) and will look at the code to see how the alpha params need to be set.

The name of the path for the torpedoes is being extracted from the gameparams and put in the first XML sets during the decompress/extraction part of the program. I will need to add code to look specifically for torpedo launchers in both the viewer and XML Generator programs. 
The Torpedo tubes have these entries in the visual.

```

```

I am assuming these are the locations for the torpedoes..  I should load one in to UU3D and look at them.
I will need to add code to the Gkids.XML to load them.

Group Hide can be added I think with out being to much of a bitch to code.

I'll change the root name to be the ships name.. This is actually a very good idea 

"Show Child List" is obsolete. I will remove the button but I think I will leave the window and code in case I find a useful purpose later for it.

After this post I'm going to remove the last of the shadowing code.. do some cleaning and work on adding the torpedoes and fix the transparency.
## Post #556
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-14T21:56:00+00:00
- Post Title: Re: World of Warships

I fixed an issue with torpedo tube translations.
Oddly this is exactly the same issue with some of the other items.
If it has a Rotate_Y_Blendbone, it needs to be rotated by 180.. otherwise, keep the existing matrix.

I added a button to hide the light/sun.
I added code to save and recall the light settings.
I fixed the terrain rendering blank with out a model loaded. (Some variables for the shader wasn't being set.)
I replaced 'root' in the treeview with the name of the ship.

Some items like the rubber rafts (AM055) have messed up normals. The normals on the bottom of the inflated section are facing the wrong direction. This is NOT an issue with the editor... its how the models were created.

Ill be uploading a new version at some point. I'm just looking for more translation issues right now.
## Post #557
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-15T01:18:25+00:00
- Post Title: Re: World of Warships

I uploaded version 0.30.0.5
[http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)

This has all the things in the above post added or fixed.

I still have not added a way to hide branches in the Treeview. 
I need to figure out how to save their previous state. Hiding and unhiding should not effect objects that we hide at load like the cracked sections of hulls.
## Post #558
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-15T01:23:25+00:00
- Post Title: Re: World of Warships

Its been a long road getting to this point.

From hand editing XML to sorting out how the gameparams.data works to getting every single item to load with no dummy place holders (yellow rice shaped items).

A big THANK YOU to all those that have made this come together so far!
## Post #559
- Username: wen98
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Mon Sep 21, 2015 8:15 pm
- Post datetime: 2015-12-15T12:32:46+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Its been a long road getting to this point.

From hand editing XML to sorting out how the gameparams.data works to getting every single item to load with no dummy place holders (yellow rice shaped items).

A big THANK YOU to all those that have made this come together so far!
Coffee, we are grateful to have you here.  I seldom saw people like you who passionately and patiently sticks to such a hard part-time project.
## Post #560
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-12-15T17:04:41+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> I uploaded version 0.30.0.5
http://209.159.152.184:8080/WoW/

This has all the things in the above post added or fixed.
Cool 
Btw, transparency working strange - some objects behind transparent parts is not renders, some is ok:
[](http://fastpic.ru/view/74/2015/1215/4d215caecbfd097ba4af8e6bfb29eafd.png.html)
(GSB002)

> I still have not added a way to hide branches in the Treeview. 
>
> I need to figure out how to save their previous state. Hiding and unhiding should not effect objects that we hide at load like the cracked sections of hulls.
Folder checkbox must be higher priority than parts checkboxes, so, if folder checkbox is "off", all parts inside doesn't renders, even if have personal checkbox in "on" position.

Rename parts function is missing with new tree view?

> Reply from Coffee
>
> A big THANK YOU to all those that have made this come together so far!
You are welcome! 
Btw, without your skills all this beauty just cannot be done at all 
And you is the most patient and opened for suggestions programmer I ever see in my life!
## Post #561
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-15T17:58:39+00:00
- Post Title: Re: World of Warships

They transparency is because of the rendering order.
The Z buffer has to remain or the grill will be rendered over items closer to the camera.
This causes items that are rendered before the grill but behind it to be clipped by the z-buffer.

I just had an idea.. I may be able to just use the 'discard' function in the shader.
I'll try that.

Yeah... the rename is missing. I can add it back at some point after I add in the hide group function.

And thanks...
There is still a boat (ha ha) load of work to do just to get WOWs format finished.

BTW.. some of the ships under \vessel\ also use the short names for some guns and things.
I have not found them in the gameparams... can some one see if the can find where this data is stored in there?
## Post #562
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-12-15T18:12:11+00:00
- Post Title: Re: World of Warships

Catapults on the Tirpiz have some strange lines:
[](http://fastpic.ru/view/74/2015/1215/e7a89e045897b396b257fc89fd0284d1.png.html)
Plane is also not in like-in-game position (maybe Master XML became old):
[](http://fastpic.ru/view/76/2015/1215/27367e3e823d6dee6140d87f65fe773a.jpg.html)
(also note no torpedoes in launchers for Tirpiz in game)
## Post #563
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-15T18:30:35+00:00
- Post Title: Re: World of Warships

I see that...

I think the catapults are backwards?

The missing torpedoes is strange. Is this ship playable yet?

I fixed the issue with the transparent mesh clipping items in the background. I am just removing anything using the shader with a alpha below 0.1. It works well.
## Post #564
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-12-15T19:42:27+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> some of the ships under \vessel\ also use the short names for some guns and things.
I have not found them in the gameparams... can some one see if the can find where this data is stored in there?
LSV001 - is have a strange hull identifier - Cimarron_hull - I think this is some sort of link to ASX001_Cimarron hull properties in gameparams.
Other vessels didn't have short names for parts.
LSV005 - AGT017 is missing in game files (but i have it in one of my backups).
LSV007 - opens backwards, and have a lot of unnecessary guns.
LSV016 - JM203 is missing in game files (in my backups too).

> Reply from Coffee
>
> I think the catapults are backwards?
For sure 

> The missing torpedoes is strange. Is this ship playable yet?
This ship is premium, but it's battleship class, I think in game this ship can't fire torpedoes.

> I fixed the issue with the transparent mesh clipping items in the background. I am just removing anything using the shader with a alpha below 0.1. It works well.
Looks nice?
## Post #565
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-15T21:24:43+00:00
- Post Title: Re: World of Warships

Yes.. It looks nice.

I'll look at the gameparams later.. Thanks for the info.

Version 30.0.6 is uploading..

I added the hide buttons to the TreeView.. 
I can't add them to the hull roots. It just messing things up to bad.

I added mouse enter events to the light settings. Now once the mouse is over one of the sliders, the wheel will work with out having to click the slider first.

I fixed the transparency problem with the Nets and Radar baskets.
## Post #566
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-12-15T22:58:48+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> I added the hide buttons to the TreeView.. 
I can't add them to the hull roots. It just messing things up to bad.
Working good, but not all folders have this button, so I can't hide just one plane, only both or part-by-part:
[](http://fastpic.ru/view/74/2015/1216/0dbfa136131f812300b80c5583d2995d.png.html)

> I fixed the transparency problem with the Nets and Radar baskets.
Here's another problem - transparency is disables with medium camera distance for Tirpiz big radars, and for short distances have some weird looking patches:
[](http://fastpic.ru/view/74/2015/1216/012f08c9912dbe082333378a5aa70eb9.png.html)


Bug: I mid-click MidFrontShape in render window to center camera on them, then mid-click somewhere to disable red hilight. Then, if i move mouse cursor to tree window - this part is selects again without clicking something.
Update: ^ wrong a little, any part in top of tree list autoselects (with little name flashing) if I move mouse into tree window after selecting/deselecting something.
## Post #567
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-12-16T02:34:17+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> Coffee wrote:some of the ships under \vessel\ also use the short names for some guns and things.
I have not found them in the gameparams... can some one see if the can find where this data is stored in there?
LSV001 - is have a strange hull identifier - Cimarron_hull - I think this is some sort of link to ASX001_Cimarron hull properties in gameparams.
Other vessels didn't have short names for parts.
LSV005 - AGT017 is missing in game files (but i have it in one of my backups).
LSV007 - opens backwards, and have a lot of unnecessary guns.
LSV016 - JM203 is missing in game files (in my backups too).
Coffee wrote:I think the catapults are backwards?
For sure 
The missing torpedoes is strange. Is this ship playable yet?
This ship is premium, but it's battleship class, I think in game this ship can't fire torpedoes.
I fixed the issue with the transparent mesh clipping items in the background. I am just removing anything using the shader with a alpha below 0.1. It works well.
Looks nice?
Tirpitz CAN fire torpedoes in-game.
the Cimarron is an auxiliariy and is not playable
## Post #568
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-16T14:49:43+00:00
- Post Title: Re: World of Warships

Andrakann,
Thanks....
I'll add a button for the planes... 
The catapult planes are a special case and I created code to deal with just them. Adding a hide/show button will be super easy.
The issue with the nets and baskets is the [mip-mapping.](https://en.wikipedia.org/wiki/Mipmapurl)
Whats happening is OpenGL is selecting the next lower resolution image. This is causing the mesh to turn basically in to a solid face. I will need to see if I can find a way to change either the distance it switches or lower the total mipmap levels.
This would probably make the wood on the decks of some ships look better as well.

The problem with the treeview automatically selecting when the mouse enters has been driving me nuts.
I added NO code to do this in my app and I have tried to figure out where this is coming from. It's annoying!


TheSeeker,
Thanks....
If you load the ships in \World_of_Warships\res\content\location\ship\vessel\ some of them are not loading all the kids.
This is because they use the same acronym names for some of the items. HP_AGM_01 for example.
I'm going to be working on the XML Generator again and would like to add code to create XML for these other ships while I'm sorting out adding the torpedoes to the ships.
I also have to fix the issue with the catapults. It's strange that some are prefect and some are 180% off.

Other than these few problems, everything seems to be working. I spent quite a bit of time just looking for transform issues last night and found none other than the catapults.
## Post #569
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-12-16T22:29:59+00:00
- Post Title: Re: World of Warships

> Reply from TheSeeker
>
> Tirpitz CAN fire torpedoes in-game.
the Cimarron is an auxiliariy and is not playable
Anyway, launchers is empty in preview.
Cimaron is duplicated in res\content\gameplay\usa\ship\auxiliary\ and res\content\location\ship\vessel\LSV001\ so, they can share settings.

> Reply from Coffee
>
> I will need to see if I can find a way to change either the distance it switches or lower the total mipmap levels.
This would probably make the wood on the decks of some ships look better as well.
Would be cool, maybe you add anisotropic filtering too?
Btw, it's low priority issue I think.

> The problem with the treeview automatically selecting when the mouse enters has been driving me nuts.
>
> I added NO code to do this in my app and I have tried to figure out where this is coming from. It's annoying!
My guess it's caused by mouse events you added for lighting sliders.
## Post #570
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-17T00:14:23+00:00
- Post Title: Re: World of Warships

The Treeview was doing that before I even added the sliders... lol
Still cant find the problem with it.

Anyway... I cant add a hide/show for the planes..
The way the nodes in the treeview work... hiding a node above the plane node can't deal with the hide/show setting of the node I added for the other nodes... It's hard to explain. It's broke and I took it back out... Lets leave it at that.

I fixed the specular reflection. It was close but not 100% right.. Its prefect now.

I also sorta fixed the issue with the nets and basket/grills. It looks a lot better up close but has some funky aliasing going on from a distance. I will probably add a setting to turn this on and off but it will require reloading because the texture environment is being changed based on the texture type. It can't be reset with out reloading the textures. 

Anyway.. I'm not uploading a new version over these minor changes... I'll wait until there is something more substantial.

I'm going to work on the catapults next.. its really the last transform issue left. I noticed the planes are inverted on the catapults that are wrong... Its a clue but.. to what? lol
## Post #571
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-12-17T05:00:42+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> 
Would be cool, maybe you add anisotropic filtering too?
Btw, it's low priority issue I think.
yes, please
## Post #572
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-12-17T18:06:17+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> I fixed the specular reflection. It was close but not 100% right.. Its prefect now.
Did you use specular map too? (Green channel of _MG.dds)
## Post #573
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-17T18:17:37+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> Coffee wrote:I fixed the specular reflection. It was close but not 100% right.. Its prefect now.
Did you use specular map too? (Green channel of _MG.dds)
Let me see what I can do with it.
## Post #574
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-17T20:08:51+00:00
- Post Title: Re: World of Warships

OK...

I uploaded 30.0.7 (again). I uploaded it before I read the post about the _MG textures.
If you have installed this version, Uninstall first before installing this one, other wise, install over the previous version.

This adds the specular content of the G channel of the MetalGloss textures and [Ansiostophy filtering.](https://en.wikipedia.org/wiki/Anisotropic_filteringurl)
I tweaked the light setting sliders to give more control with the mouse wheel.

The lighting and texturing is much better overall now. Good idea on the Ansiotropic. I wasn't sure I could enable it but it works fine on my nVidia card

I need this tested on ATI/AMD cards please!!!
I have to make sure the sharder compiles and the Ansiostophy filtering works.
## Post #575
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-12-18T04:32:14+00:00
- Post Title: Re: World of Warships

The anisotropic filtering is gorgeous, it really is much better than it was - I'm using an nvidia card & it works fine.

 I figured out the problem behind my master_xml.zip issues, apparently it doesn't unzip unless the editor is run in administrator mode, hurr
## Post #576
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-12-18T07:11:27+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> This adds the specular content of the G channel of the MetalGloss textures and Ansiostophy filtering.
Render window looks better than ever, just superb! 
Radars is also looks perfect.

So, we have only two textures unused in preview - AO (standalone) and Glossiness (Red channel of MG).
With new function keys to disable/enable texture channels, maybe you add them too?
And little sub-menu in "Display Settings" menu with current textures status (just list of map channels checked/unchecked), with saving this info to config, so user can select which textures is shown by default.

Btw, editor didn't save settings after uninstall/install, you not implement it yet?

Some strange thing with GSB002_Tirpiz_1942_MidBack - I mid-click plane, catapult and catapult stand for plane, camera is centered not exactly on them, only catapult is straight in center of rotation, stand and plane have centers moved to sides, and, if you center on their pivot point, it's wrong placement can be a trouble in later use.
## Post #577
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-18T10:17:45+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> 
Render window looks better than ever, just superb! 
Radars is also looks perfect.
Thanks..  Never give up and eventually you get there.

> So, we have only two textures unused in preview - AO (standalone) and Glossiness (Red channel of MG).
>
> With new function keys to disable/enable texture channels, maybe you add them too?
>
> And little sub-menu in "Display Settings" menu with current textures status (just list of map channels checked/unchecked), with saving this info to config, so user can select which textures is shown by default.
Good Idea... Actually, AO is being used... Turn off bump 'B' and Diffuse 'D' and under settings shut off and turn on diffuse2. You will see how its effecting the lighting.
Only things not being used is R and B in the MG textures.. Not all MG textures have a B channel.
The check boxes under settings are effected by the keyboard short cuts. I need to add a short cut for the Diffuse2 texture and G channel of the GM texture.

> Btw, editor didn't save settings after uninstall/install, you not implement it yet?
Not sure why this is broke... I noticed that too. I'll look in to it.

> Some strange thing with GSB002_Tirpiz_1942_MidBack - I mid-click plane, catapult and catapult stand for plane, camera is centered not exactly on them, only catapult is straight in center of rotation, stand and plane have centers moved to sides, and, if you center on their pivot point, it's wrong placement can be a trouble in later use.
Yep.. Transforms are broke on the catapults.. this is being transferred to the planes on them.. they are wrong as well.

WoTs has a new update that broke Terra!
I have to fix that before continuing on this project.
## Post #578
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-18T10:23:28+00:00
- Post Title: Re: World of Warships

> Reply from TheSeeker
>
> The anisotropic filtering is gorgeous, it really is much better than it was - I'm using an nvidia card & it works fine.

 I figured out the problem behind my master_xml.zip issues, apparently it doesn't unzip unless the editor is run in administrator mode, hurr

CRAP! I know why.. from windows 7 on, apps are not allowed to write in to their own folders. Yeah.. It's stupid!!!
What I can do to fix this is to create the XML folders in the users temp folder structure. Its a pretty easy fix and I'm using the temp folder anyway to store settings.
Settings are messed up though for some reason. Probably something I screwed up some where
## Post #579
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-18T11:42:34+00:00
- Post Title: Re: World of Warships

War Gaming has Killed Terra!
The new data storage 9.13 is using for the maps has removed the CHUNK files from the .pkg files.
I don't know if this was intentional or just a side effect of them trying to reduce the download size.
I believe the CHUNKs are now compressed and stored in a file called space.bin
So far, I can not figure out how its stored.

Until this is sorted out.. Terra! has been ruined.
## Post #580
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-12-18T18:52:47+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Until this is sorted out.. Terra! has been ruined.
Tanks models is also have changes in extensions: Chassis.primitives_processed - "_processed" is added to visual files too.

Btw, files looks the same inside, with some changes, for examle in hull.visual_processed one word is added in the beginning of file "groupOrigin":
"Bool Float Texture Vector4 boundingBox collisionFlags fx geometry groupOrigin identifier material materialKind max min node primitive primitiveGroup property renderSet stream transform treatAsWorldSpaceObject vertices"
Looks like some format progression.
## Post #581
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-18T20:16:29+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> 
Tanks models is also have changes in extensions: Chassis.primitives_processed - "_processed" is added to visual files too.

Yeah.. I saw that. I'm not going to do anymore with the editor at CURSE for now.

I have to say.. the rendering is looking really nice...


I think I have the catapults fixed.. I'll upload a new version in a while.
## Post #582
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-18T22:01:31+00:00
- Post Title: Re: World of Warships

I uploaded version 30.0.8

This fixes most catapults. Some are wrong and I can't explain it.
The Yamato is prefect as in the Cleveland ships.. But the Des Moines is not.
The German battle ships catapults are also correct now.


I made a slight change to the math in the shader, you may not even notice it.

I change where the master xmls are stored. They are now stored in a user temp locations.
You can get to it my using the file menu and than open Master Xml Folder. (or something like that).
## Post #583
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-12-19T02:33:26+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> I have to say.. the rendering is looking really nice...
Fully agree! 


So, only torpedoes is remains?
And flags, I think we need new mesh for it:
[](http://fastpic.ru/view/76/2015/1219/497890cf9d95f3cbcdf35c2be9ad3701.png.html)
Normal map is present for flag, but seems unused, nothing changes if I press "B".
## Post #584
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-19T11:08:12+00:00
- Post Title: Re: World of Warships

The visual file for the flags is in a strange format compared to all the others.
I'll need to figure out how to deal with this.
## Post #585
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-19T19:11:30+00:00
- Post Title: Re: World of Warships

Ok...
I uploaded version 30.0.9
[http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)
This fixes the last issues with the Catapults... ( There are extra spaces in the XML and it was causing some transform rotations to be skipped )
I fixed the problem with the flags.
## Post #586
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-12-19T19:57:10+00:00
- Post Title: Re: World of Warships

Found something interesting/useful for exporting:
[http://assimp.sourceforge.net/main_feat ... rmats.html](http://assimp.sourceforge.net/main_features_formats.html)
and (same)
[http://sourceforge.net/projects/assimp/](http://sourceforge.net/projects/assimp/)
Can be used as is or as source code help.

> Reply from Coffee
>
> I fixed the problem with the flags.
Looks good 

Can you add slider for light rotation too? Sometimes I miss good position and wait for it to make another circle...

Bug: planes have wrong placing for ASA006_Independence_1945 - back wheel in air.
## Post #587
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-19T20:37:41+00:00
- Post Title: Re: World of Warships

Thanks..

ASSIMP is good for importing but ..
I tried using it to export and its doesn't expose everything needed to setup the data. Its to bad. You can load something in to its data and export it out as anything ASSIMP supports but trying to set the data ASSIMP uses is near impossible.

I think I can add a slider for the light spin. 2xPI x slider value will work
## Post #588
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-12-19T20:52:11+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> I tried using it to export and its doesn't expose everything needed to setup the data. Its to bad. You can load something in to its data and export it out as anything ASSIMP supports but trying to set the data ASSIMP uses is near impossible.
But you can study it's source codes for writing your own exporter 


ASA015_Midway_1945 is also have misplaced planes - front wheel of dives goes into desk a little.
And plane setup looks not in-game-like, bombers is missing completely, fighters are jets...
[](http://fastpic.ru/view/67/2015/1219/1ec27ddf54a12a0d9bc66ae9483914d4.jpg.html)
Btw, you can load all types of planes for every setup, just like as for catapults.
## Post #589
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-12-19T21:18:36+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> Coffee wrote:I tried using it to export and its doesn't expose everything needed to setup the data. Its to bad. You can load something in to its data and export it out as anything ASSIMP supports but trying to set the data ASSIMP uses is near impossible.
But you can study it's source codes for writing your own exporter 


ASA015_Midway_1945 is also have misplaced planes - front wheel of dives goes into desk a little.
And plane setup looks not in-game-like, bombers is missing completely, fighters are jets...

Btw, you can load all types of planes for every setup, just like as for catapults.
iirc he has it set to use the last loadout for CVs - Midway does have jets fully upgraded, and iirc its air-superiority loadout doesn't have any torpedo bombers
## Post #590
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-19T22:17:49+00:00
- Post Title: Re: World of Warships

TheSeeker is wise....
This is exactly how I load the planes... I look for the last ones.
Because the CVs have so many planes, I'd need a good way to switch between the sets.
Some thing  I can think about...

Anyway...
Version 30.0.10 is ready to test.
EDIT: Never Mind... I for got to turn on the 'load child models' lol
I added the torpedoes 
I also added the spinner for the light under the light sliders.
It tracks the spin location real time so F2 will make that slider , well... slide
## Post #591
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-19T22:48:17+00:00
- Post Title: Re: World of Warships

I loaded the AAD005_Douglas_XSB2D plane and its nose gear is buried over 1/2 way in to the ground.
Looks like a artist was drinking some vodka
## Post #592
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-12-19T22:49:55+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> I added the torpedoes
ASD013_Gearing_1945 didn't loads any...

> I also added the spinner for the light under the light sliders.
>
> It tracks the spin location real time so F2 will make that slider , well... slide
Good, very handy 

Another issue with flags lighting - light position is behind the camera:
[](http://fastpic.ru/view/73/2015/1220/f88a74ffaaa84630ebe25887cf2bc058.png.html)
and light is in front of camera:
[](http://fastpic.ru/view/73/2015/1220/e3e2177ee380320db0581db40ed1f5c8.png.html)
I think something is inverted here, but for flag is better to always light higher, because of transparency, so, maybe not invert, but clone brighten side to both?..
## Post #593
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-19T22:57:58+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> Coffee wrote:I added the torpedoes 
ASD013_Gearing_1945 didn't loads any...

Yeah..   

I'm looking in to it.
## Post #594
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-19T22:59:58+00:00
- Post Title: Re: World of Warships

The flags are single sided meshes and the normals point only one direction.
This causes them to light only one side.
I think I can fix this in the shader at some point but I will need to add some way to telling the shader to do so.
## Post #595
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-12-19T23:03:21+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Yeah..   

I'm looking in to it.
I think we need new master xmls for this?
## Post #596
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-19T23:12:13+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> Coffee wrote:Yeah..   

I'm looking in to it.
I think we need new master xmls for this?

I'm loading them as G-kids as that is what they are.
I looked and the torpedoes are in the Gkids XML so I must have a bug in the editor some where..
I'm looking
## Post #597
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-19T23:24:05+00:00
- Post Title: Re: World of Warships

OK... I think I know what it is.

You need to force an update of the master_XMLs.zip

Because the folders for the Masters is now stored in a user temp folder, They are not updated during the install.
## Post #598
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-12-19T23:29:38+00:00
- Post Title: Re: World of Warships

LOL, i just typing:
"I figure out than I need to "Force Master XML update" after installing new version of editor to renew them in temp folder.
Not doing it before, because always install in new folder, like D:\Programs\WoT Model Editor B30.0.10\"

Btw, restart of editor is required? Nothing loads after update, but without restarting.

It works after restart
## Post #599
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-19T23:31:58+00:00
- Post Title: Re: World of Warships

Make sure your path and mode is set..
It should run first load OK..
If not I don't know why you need to restart..
## Post #600
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-12-19T23:34:43+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> If not I don't know why you need to restart..
Maybe because I load this ship before updating XMLs?
Then another ship, then update, and load first one again - without torpedoes.

After restarting all is ok.

Light rotation not saves, other sliders do.

Tirpiz have torpedoes too, but they to short to see in game 


All planes in straight horizontal position, on catapults too.
They have been posed before you rewriting editor, I think you missed some code...


[Some Old/New comparison](http://screenshotcomparison.com/comparison/154994) 
Note the "compass" inversion.

[Another comparison](http://screenshotcomparison.com/comparison/154997)
## Post #601
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-20T13:45:45+00:00
- Post Title: Re: World of Warships

The compass is right...
Check it against the grid.. The colors line up with the heading.
The ships are drawn in the right direction in Z. You had me worried   

After a update, I usually start the app, set the path and the mode, turn on load child models.
This has to be done before loading a ship.

I spent 2 hours looking at the plane transforms.
Their is definitely rotation for X and Y in the matrices. We don't and want to see roll (z) in the matrices.
What I can't explain is why the rotation in X is not being applied. EDIT... Because with its so minor.
I doubled checked that all the matrix data is being loaded and saved correctly and also that OpenGL is getting this data.
I'm at a loss so far.

I like that image compare site 
Here is a plane transform from the Bogue_1942. This planes position (HP_Deck_12 midFront section)
is lined up with the deck in Z. (No rotation in Y)

```
           <name>HP_Deck_12</name>
           <model>usa\aircraft\dive\AAD007_Martin_BM2\AAD007_Martin_BM2.model</model>
           <row0>1.000000 0.000000 0.000000 0.000000</row0>
           <row1>0.000000 0.999986 -0.005236 0.000000</row1>
           <row2>0.000000 0.005236 0.999986 0.000000</row2>
           <row3>0.433041 0.939220 0.940420 1.000000</row3>
        </node>

```

This is an image of how the matrix values are used.

Like I said.. the rotation for X is there..
But the angle of rotation in degrees is only .3... You cant even see it.
The inverse sine of .005236 = .300000

So.. my question is.. where are the REAL rotations for these planes??

I found this.. It shows what rotations effect what axis..
## Post #602
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-20T16:30:13+00:00
- Post Title: Re: World of Warships

Something I just noticed.
I looks as if the specular is wrong on the planes.
Load a plane and look at it then load the Bogue_1942_MidFront and look at the planes.
It's very strange that the light is correct but the specular is wrong.
## Post #603
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-12-20T22:38:02+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> The compass is right...
Check it against the grid.. The colors line up with the heading.
The ships are drawn in the right direction in Z. You had me worried
So, it's have been wrong in old editor?

> After a update, I usually start the app, set the path and the mode, turn on load child models.
>
> This has to be done before loading a ship.
Can't be saved in wot_temp\config?
I also enable HD-textures load, toolbox (and change it's position), tune up BG, colors and light.

> I spent 2 hours looking at the plane transforms.
>
> Their is definitely rotation for X and Y in the matrices. We don't and want to see roll (z) in the matrices.
>
> What I can't explain is why the rotation in X is not being applied. EDIT... Because with its so minor.
>
> I doubled checked that all the matrix data is being loaded and saved correctly and also that OpenGL is getting this data.
>
> I'm at a loss so far.
It's extremely strange, because you didn't have any problems with planes from start.
In my [first screenshots](http://forum.xentax.com/viewtopic.php?p=108696#p108696) they are posed correctly - sitting is sit, flying is horisontal:
[](http://fastpic.ru/view/66/2015/0817/501d7ebb614e9da1b7c9a63674a7b2e6.png.html)

My only guess is devs changed something, you can compare old matrices with new, I attached old visuals for Bogue_1942 (from game version 0.4.0.106153).


> Reply from Coffee
>
> Something I just noticed.
I looks as if the specular is wrong on the planes.
Load a plane and look at it then load the Bogue_1942_MidFront and look at the planes.
It's very strange that the light is correct but the specular is wrong.
You didn't add keys for toggle Specular and Gloss textures?
Also it's better to rename Diffuse 2 to Ambient Occlusion, because Diffuse 2 must contain camo or labels (IMHO).

Not sure I got problem with plane specular solo/on ship, but your light is adopted to selected child (uses as center for spin, radius, etc.), and for solo plane light looks like this:
[](http://fastpic.ru/view/67/2015/1221/9823737f07de0ef53e8b605e9015bd9b.png.html)
and for loaded with ship looks like this:
[](http://fastpic.ru/view/67/2015/1221/c7accf7c1860d20fd2dc356ac085dfd9.png.html)
Settings the same, but light goes down and wider.
[ASA002_Bogue_1942.zip](https://xentaxbackup.github.io/file/10176_ASA002_Bogue_1942.zip)
## Post #604
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-20T23:26:12+00:00
- Post Title: Re: World of Warships

The Light's radius is initially calculated from the scene's size.
This doesn't have to be done but keeps the light from going through objects.

I was looking at the normals on that plane and they are all over the place.
The wings have them pointing off the leading edge wrong. <--- WRONG. I was flipping normals and for got I did.

The normals on the bottom of the ship point UP.. This is wrong as well.
I think that's a lot of what I'm seeing.

For sure something has changed with the planes transforms.
It happened before I ever started the rewrite. All at once the planes didn't sit correctly on the decks.
If you look at the port and compound visuals you will see the HP_Deck_n transforms are the same.
I was thinking maybe it was a column verses row major matrix issue but I'm reading them in to a
array of 16 floats and this cancels any difference as far as OpenGL is concerned.
The thing is, even if the planes transformed wrong, at least you would see it.
The numbers are saying .30000 degrees.. That's nothing!

No.. I didn't add hot keys for the specular yet.

I'll fix the config loading.. I never changed any thing that has to do with loading the settings but it is't working now.
## Post #605
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-12-20T23:48:54+00:00
- Post Title: Re: World of Warships

Checking planes in game, and for BS catapults they looks ok, Montana have the same positions as in [first post](http://forum.xentax.com/viewtopic.php?p=112240#p112240), and Iowa have same position as in editor.
But aircarriers have them sitted..

For Tirpiz plane position is also wrong:
[](http://fastpic.ru/view/73/2015/1221/f285d3460985b0979c75eba191e1790c.jpg.html) [](http://fastpic.ru/view/73/2015/1221/71696704c7f9e04e22cd309f3734f10f.png.html)

Maybe devs leave some of planes "as is" if them looks ok, but for others enable something like collision physics?..
## Post #606
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-21T16:58:40+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> Checking planes in game, and for BS catapults they looks ok, Montana have the same positions as in first post, and Iowa have same position as in editor.
But aircarriers have them sitted..

For Tirpiz plane position is also wrong:
 

Maybe devs leave some of planes "as is" if them looks ok, but for others enable something like collision physics?..

Glad you spotted that 
The German Catapults are using Matrix Translate_Z_BlendBone where all others use Rotate_Y_Blendbone.
I fixed it by checking for the name "Trans" and if matches, I uses that matrix.
I don't know where all the inconsistency of the data is coming from. Many People working on this is probably the reason.

I think this is as good as its going to get:
## Post #607
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-21T22:35:26+00:00
- Post Title: Re: World of Warships

OK...

Update time...

Version 30.0.11 [http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)

This fixes the plane translation on the Tripiz.

I added a slider for the specular reflection.. 

And most important...
I found a bug in the shader that I have been trying to fix for a long time.
Now all objects should light correctly regardless of where the center of the light is.
## Post #608
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-12-21T23:00:01+00:00
- Post Title: Re: World of Warships

there are some buildings in the game that have guns and listings in the gameparams, they are in the \res\content\location\gameplay\building folder - here is an example of one of them from the .json: [http://pastebin.com/Ah4jA0iU](http://pastebin.com/Ah4jA0iU)

can you configure the xml generator to generate xml files for them too?
## Post #609
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-22T01:00:46+00:00
- Post Title: Re: World of Warships

> Reply from TheSeeker
>
> there are some buildings in the game that have guns and listings in the gameparams, they are in the \res\content\location\gameplay\building folder - here is an example of one of them from the .json: http://pastebin.com/Ah4jA0iU

can you configure the xml generator to generate xml files for them too?

Yes.. and I need to find the Vessel ships as well...
The xml generator you are using is out of data.. but when you install a new version of the editor and than do a 'Force XML update", its all good.
You will need to restart the editor after.. I dont know why this is.. yet.
## Post #610
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-12-22T01:56:27+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> This fixes the plane translation on the Tripiz.
This fix is not suitable for aircarriers?
## Post #611
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-22T02:29:32+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> Coffee wrote:This fixes the plane translation on the Tripiz.
This fix is not suitable for aircarriers?

I don't know how to fix them. All I have is whats in the port or compound for the transforms.
All I can do is get the transforms and apply them. I checked that they being multiplied in OpenGL by the correct values. (The ones in the port)
Even if the matrices where backwards, there should be X rotation even if its wrong...
but after calculating it to be only .30000 degrees, If it is rotating, it isn't enough to really see.

One good thing.. The light is 100% working now. The only time I see any thing wrong is when a model has goofy normals.

Try this...
Set the lights R to zero... adjust the Y so the light is some where close to the ship and drag the center around. (Shift _ left mouse button).
All the objects on the ships are lighting correctly and the specular is correct.
It takes some fiddling with Brightness and Contrast to see this at its best.
## Post #612
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-12-22T02:47:39+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> I don't know how to fix them.
This solution won't work?

> The German Catapults are using Matrix Translate_Z_BlendBone where all others use Rotate_Y_Blendbone.
Btw, Tirpiz Plane2 position looks not perfect, but I can't check it in game.

Lighting and speculars looks really good
## Post #613
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-12-22T02:51:55+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Andrakann wrote:Coffee wrote:This fixes the plane translation on the Tripiz.
This fix is not suitable for aircarriers?

I don't know how to fix them. All I have is whats in the port or compound for the transforms.
All I can do is get the transforms and apply them. I checked that they being multiplied in OpenGL by the correct values. (The ones in the port)
Even if the matrices where backwards, there should be X rotation even if its wrong...
but after calculating it to be only .30000 degrees, If it is rotating, it isn't enough to really see.

One good thing.. The light is 100% working now. The only time I see any thing wrong is when a model has goofy normals.

Try this...
Set the lights R to zero... adjust the Y so the light is some where close to the ship and drag the center around. (Shift _ left mouse button).
All the objects on the ships are lighting correctly and the specular is correct.
It takes some fiddling with Brightness and Contrast to see this at its best.
Perhaps that 0.3 value is in radians, have you considered that?  It would seem bizarre but 0.3 radians is about 17 degrees, which seems accurate.
## Post #614
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-22T03:30:53+00:00
- Post Title: Re: World of Warships

> Reply from TheSeeker
>
> 
Perhaps that 0.3 value is in radians, have you considered that?  It would seem bizarre but 0.3 radians is about 17 degrees, which seems accurate.

Those are given as sine and cosine of the angles. sine(.005236) So it doesn't matter. It can be the sine in radian or degrees.
Nice thought tho.
## Post #615
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-22T03:34:17+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> Coffee wrote:I don't know how to fix them.
This solution won't work?
The German Catapults are using Matrix Translate_Z_BlendBone where all others use Rotate_Y_Blendbone.
Btw, Tirpiz Plane2 position looks not perfect, but I can't check it in game.

Lighting and speculars looks really good

Thanks... I think the lighting is finally fixed.

In the ports all there is, is the matrices defined as the HP_Deck_n locations.
They do work for rotation in Y but not X.
I'll look at it again tomorrow and see what I can find.
## Post #616
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-22T22:00:58+00:00
- Post Title: Re: World of Warships

Ok....
And away we gooooooooooooooo.

Update 30.0.12
[http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)

This should speed up rendering a bit.
I removed most of the 'If' statements in the shader.
I move the creation of the TBN matrix used in the fragment section to the vertex side of the shader. Its created per-vertex and not per-pixel now.
This may cause problems on AMD cards so I need feed back on it if you have a AMD card and are testing this.

If there is something selected in the scene, things will slow down a bit..
This is caused from switching rendering contexts between the main window and the 4 smaller texture windows.

I had accidentally left the T,B and N flipped on one of the vertices on each triangle. Maybe you saw it as being able to see the seam edges.
This is fixed.

I found that multiplying the R channel of the MG textures by the POWER of the specular, I can get the materials to look much better.
The R channel in the MG textures is the roughness and the POWER of the specular is its spread.. So this mimics PBR sorta.
I don't have a environment to do Physically Based Rendering the correct way but this definitely makes the rendering look better.

I still cant find how to rotate the planes on the carriers correctly.
## Post #617
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-12-22T22:53:26+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> The R channel in the MG textures is the roughness and the POWER of the specular is its spread.. So this mimics PBR sorta.
Roughness is close to Glossiness, not sure I can see changes in glossiness of surfaces in Editor render - they all glossy, but with some angle change.
In PBR non-glossy areas didn't have specular or very smoothy.
You can see it on the desk of Bismarck, it's non-shiny in central areas because of effacement (not sure this word is correct,  google translated):
[http://andrakann.netau.net/Bismarck/Bismarck.html](http://andrakann.netau.net/Bismarck/Bismarck.html)
(use "Layer Views" button to see how it done)

> I still cant find how to rotate the planes on the carriers correctly.
So, maybe it's time to take a break from it and make export feature?
## Post #618
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-23T00:12:13+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> Coffee wrote:The R channel in the MG textures is the roughness and the POWER of the specular is its spread.. So this mimics PBR sorta.
Roughness is close to Glossiness, not sure I can see changes in glossiness of surfaces in Editor render - they all glossy, but with some angle change.
In PBR non-glossy areas didn't have specular or very smoothy.
You can see it on the desk of Bismarck, it's non-shiny in central areas because of effacement (not sure this word is correct,  google translated):
http://andrakann.netau.net/Bismarck/Bismarck.html
(use "Layer Views" button to see how it done)
I still cant find how to rotate the planes on the carriers correctly.  
So, maybe it's time to take a break from it and make export feature?

I had to re-uploaded this version right after I uploaded it the first time.
Maybe your shader is the old one because the first upload included the wrong f-ing shader for some reason.

Some Ships have much more shine to the decks than others. Even Wood decks have differences from ship to ship.
The specular power times the R channel changes the scatter size of the reflection. I can easily see the difference.

To be honest, I think that that site is putting far too much ambient color from the environment in to the mix.
Colors look washed out and blurry.
That's just my opinion :p
## Post #619
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-12-23T00:48:00+00:00
- Post Title: Re: World of Warships

0.5.2 breaks the xml generator, you're going to have to find a way to implement IKU's updated code into the gameparams extractor

[http://pastebin.com/b0vFg6JZ](http://pastebin.com/b0vFg6JZ)
## Post #620
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-23T01:49:56+00:00
- Post Title: Re: World of Warships

OK.. I will work on it tomorrow
Thanks...
## Post #621
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-23T06:14:08+00:00
- Post Title: Re: World of Warships

I have tried for some time now to get the 0.5.2 to convert to jason.
I keep getting this error:

```
('ascii', u'\u0441', 1, 2, "'ascii' codec can't decode byte 441 in position 1: ordinal not in range")
```


I searched the internet and found that some have fixed these conversions by adding this:

```
sys.setdefaultencoding("utf-8")
```


I really need some help with this.. Anyone???
## Post #622
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-12-23T06:55:15+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> I had to re-uploaded this version right after I uploaded it the first time.
Maybe your shader is the old one because the first upload included the wrong f-ing shader for some reason.
Yep, I redownloaded and reinstalled, now it's looks really much better 
[](http://fastpic.ru/view/75/2015/1223/97e2ea114243b02eda4a4f4a2be8f5a7.png.html)
Shininess of deck is differs from metal - very nice 

> To be honest, I think that that site is putting far too much ambient color from the environment in to the mix.
>
> Colors look washed out and blurry.
>
> That's just my opinion :p
All lighting goes from background HDRI-map, and Marmoset Toolbag 2 didn't have really good HDRIs in distributive, I shoose this one because of big yellow light in front with good specular.
You can rotate BG with Shift+Mouse.
## Post #623
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-23T15:01:12+00:00
- Post Title: Re: World of Warships

> All lighting goes from background HDRI-map, and Marmoset Toolbag 2 didn't have really good HDRIs in distributive, I shoose this one because of big yellow light in front with good specular.
>
> You can rotate BG with Shift+Mouse.

Thanks, I thought it looked better. I have no idea why my compiler didn't update the shaders when it built the app the first time.
I have been having more and more problems with Visual Studio 2013 over time.

Yes.. I saw that. I think its a cool site and tool. I was just making an observation. In real world the refraction content can change drastically with the material type. For example, white cloth is going to soak up surrounding light where metal will only reflect it.
## Post #624
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-23T15:20:57+00:00
- Post Title: Re: World of Warships

Something I noticed about all the models.
There is not a single one I can find that has normals pointing down.
I don't know if this was intentional or a bug in their exporter.
What I do know is it causes my shader to generate 2 reflections of the Sun/Light on round objects in the Y (up/down) axis.


Gameparams.data in 0.5.2 as TheSeeker pointed out, will not work with the XML Generator.
I spent a few hours last night trying the code he linked to and different things with that code.
None of it works. No matter how I try, it keeps crapping out with the same error.


I can tell you this.. Wargaming ruined Terra! It no longer can load maps from World of Tanks.
They removed all the chuck sections from the pkg files and those are basically the Master XMLs for the maps.
I have a feeling the may be trying to disrupt all apps that load content to protect their data including WOWs.
I saw some asshole selling models from their games online. This is just WRONG and illegal as hell but what can they do if this is coming from China or India??
## Post #625
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-12-23T15:59:17+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> 
Gameparams.data in 0.5.2 as TheSeeker pointed out, will not work with the XML Generator.
I spent a few hours last night trying the code he linked to and different things with that code.
None of it works. No matter how I try, it keeps crapping out with the same error.
You keep getting an error about ascii encoding?  IKU's code has it so that it'll try utf8 first, and then mac_cyrillic if that fails, and then finally hex if both fail.  I don't know why you'd be getting an ascii error if it's not decoding in ascii

in the worst case scenario, you can remove the unpacking section of the code, and we can just use IKU's unpacking script and run the generator on the .json itself.
## Post #626
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-23T16:43:19+00:00
- Post Title: Re: World of Warships

I need to see the other scripts. ( the one that decompresses the .data file )
Please post them some where OK?
## Post #627
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-12-23T17:37:50+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> I need to see the other scripts. ( the one that decompresses the .data file )
Please post them some where OK?
[http://www.mediafire.com/download/sshsz ... ractor.zip](http://www.mediafire.com/download/sshsz1lolunjk5r/Extractor.zip)
## Post #628
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-23T19:05:40+00:00
- Post Title: Re: World of Warships

Its crapping out at reading the Key.
I put in code to print the key and I get this.. (last few lines shown)

```
key: dock
key: heroic
key: multiple
key: id
key: events
key: showProgress
('ascii', u'\u201d', 0, 1, "'ascii' codec can't decode byte 201D in position 0: ordinal not in range")
```

It looks to be failing at "for key in t:"
So its trying to read the key as ascii.
## Post #629
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-23T19:36:28+00:00
- Post Title: Re: World of Warships

No idea how to fix the Python...
It just wont read the dictionary key.
## Post #630
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-23T20:19:51+00:00
- Post Title: Re: World of Warships

I uploaded version 30.0.13
[http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)

This is to deal with the changes in the XMLs caused by the 0.5.2 game update.

I can't create new master XMLs yet so this is as good as its going to get.
It will place a yellow marker where there are missing items.
If you want to see these markers, uncheck "hide Dummies" under graphic settings.

They really f'ed up a lot of this work with this last update.
Some ships are missing 50% of the objects.
## Post #631
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-23T21:29:38+00:00
- Post Title: Re: World of Warships

Ok...

This is what it is...
The have renamed and relocated MANY of the child and grand child models.
They added a new folder under each nation called "technical".
Many of models have been moved to this folder and renamed.
This makes the master XMLs useless and the code in the editor to sort the paths from the names will not work either.

This is messed up.. 
I was planning on working on exporting... NOT rewriting all the code that sorts out how the names are related to file paths.

Until I can read the gameparams.data and rewrite the path decoding parts of the XML Generator, this project is on hold.
## Post #632
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-12-23T21:35:04+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> No idea how to fix the Python...
It just wont read the dictionary key.
Maybe this helps? [https://docs.python.org/2/howto/unicode.html](https://docs.python.org/2/howto/unicode.html)
Or this: [https://pythonhosted.org/kitchen/unicod ... tions.html](https://pythonhosted.org/kitchen/unicode-frustrations.html)
This looks useful too: [http://www.evanjones.ca/python-utf8.html](http://www.evanjones.ca/python-utf8.html)
## Post #633
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-12-24T01:10:44+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> No idea how to fix the Python...
It just wont read the dictionary key.
his scripts work for me...
what version of Python do you have installed?  It should be 2.7.10
## Post #634
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-24T15:37:39+00:00
- Post Title: Re: World of Warships

Thanks Andrakann,
I have been reading all over the net..

TheSeeker,
I am using IronPython. It's a interface/wrapper for .NET.
I queried the version and its telling me 2.7.5
I doubt the version is the problem.

I'm not using the python to decompress the data. I'm using Zlib with Ionic.
I added code to make sure the decompressed chunk sizes add up to the total length of the file. It does

With the newest gameparams.data.. before size is 1,207,375
After decompression, the gameparams.txt is 8,884,346 bytes
TheSeeker,
Can you check and see if you have exactly the same size using Python to decompress?
## Post #635
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-12-24T17:27:23+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Thanks Andrakann,
I have been reading all over the net..

TheSeeker,
I am using IronPython. It's a interface/wrapper for .NET.
I queried the version and its telling me 2.7.5
I doubt the version is the problem.

I'm not using the python to decompress the data. I'm using Zlib with Ionic.
I added code to make sure the decompressed chunk sizes add up to the total length of the file. It does

With the newest gameparams.data.. before size is 1,207,375
After decompression, the gameparams.txt is 8,884,346 bytes
TheSeeker,
Can you check and see if you have exactly the same size using Python to decompress?
same size for the .data, but .txt is 10,264,966 bytes
have it dump an error log to see what's wrong
## Post #636
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-24T18:16:12+00:00
- Post Title: Re: World of Warships

OK...
I got the same size of the txt now.. I am using the python now to reverse and inflate the data file
I'm still getting the same ascii error..  'ascii' codec can't decode byte 201D in position 0: ordinal not in range
I thought maybe my .data was bad but the game runs fine.
## Post #637
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-24T19:09:03+00:00
- Post Title: Re: World of Warships

I wrapped the "for key in t" with a Try:
It never throws an exception... this its shitting before it reads key.

I wish I knew python at all. It would probably make it 1000 times easier to figure this out.
## Post #638
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-24T20:20:56+00:00
- Post Title: Re: World of Warships

I finally figured this out...
I changed the last part of the script so I could see that it was actually working
but the thing that fixed it was a couple of small additions.
Here is the new script.
NOTE: file_name_in and file_name_out is passed from .NET to the python.

```
    import cPickle as pickle
except:
    import pickle
 
import codecs, json, sys
reload(sys)
print sys.version
sys.setdefaultencoding('utf-8')

class GPEncode(json.JSONEncoder):
	def default(self, o):
		t = o.__dict__
		try:
			for key in t:
				#print "key: %s" % key
				if isinstance(t[key], basestring):
					try:
						t[key].decode('utf8')
					except:
						try:
							t[key] = t[key].decode('MacCyrillic')
						except:
							try:
								t[key] = t[key].encode('hex')
							except:
								pass
								print "Pass: %s" % key
			return o.__dict__
		except Exception, e:
			print "error: %s" % e
			return o.__dict__


sys.stderr = open('c:\error1.txt', 'w')

f = open(file_name_in)
d = pickle.load(f)
f.close()
print "GameParams.txt loaded"

f = codecs.open(file_name_out, 'w', encoding='utf-8', errors='replace')
print "GameParams.json opened"
outs = json.dumps(d, cls=GPEncode, sort_keys=True, indent=4, separators=(',', ': '), encoding='utf-8', ensure_ascii=False)
print("outs created")
f.write("%s" % outs)
f.close()

```

This is the new ship count:

```
 British ships:001
 Russian ships:025
  German ships:020
  Polish ships:001
Japanese ships:097

```
## Post #639
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-25T00:08:02+00:00
- Post Title: Re: World of Warships

OK...

I fixed it to work with the new folder structures and gameparams.data

This adds a new file: "folders.xml"
It is included in the Master_XMLs.zip and created by the XML Generator.
You can open this and look at it (file --> View WoWs Master XMLs).
It is a cross reference list to all items based on the MP_ names.
Its faster to load these items now.
I updated the editor to use this to look for missing items when a Master XML is not present.
Note some things are still missing items but these are NOT main ship models. They are game scene items. Boats.. Buildings.. Things like that.

You will need to force a master XML update at the startup. More than likely you will get a message to do so.

Here is your Christmas present  Ho Ho Ho....
The link to version 30.0.14 : [http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)
You will need to update WoWs to version 0.5.2.0 or it wont work as planned.
## Post #640
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-12-25T00:50:20+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> OK...

I fixed it to work with the new folder structures and gameparams.data

This adds a new file: "folders.xml"
It is included in the Master_XMLs.zip and created by the XML Generator.
You can open this and look at it (file --> View WoWs Master XMLs).
It is a cross reference list to all items based on the MP_ names.
Its faster to load these items now.
I updated the editor to use this to look for missing items when a Master XML is not present.
Note some things are still missing items but these are NOT main ship models. They are game scene items. Boats.. Buildings.. Things like that.

You will need to force a master XML update at the startup. More than likely you will get a message to do so.

Here is your Christmas present  Ho Ho Ho....
The link to version 30.0.14 : http://209.159.152.184:8080/WoW/
You will need to update WoWs to version 0.5.2.0 or it wont work as planned.
you did not upload new version of the xml generator
## Post #641
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-25T01:42:23+00:00
- Post Title: Re: World of Warships

> Reply from TheSeeker
>
> 
you did not upload new version of the xml generator

No I did not.. the new master xml zip is in the new release.

Give me 10 minutes and I'll upload it.
## Post #642
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-25T01:56:20+00:00
- Post Title: Re: World of Warships

Ok.. I uploaded the new XML Generator.

NOTE: There will be a long pause after clicking "Execute"
This is because its generating the new folders.xml file.
That file is used to look up the items based on the name in the _ports file.

Also.. They have combined a lot of the small models in to one single model. Much like the _compound file was.
## Post #643
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2015-12-25T04:16:22+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Ok.. I uploaded the new XML Generator.

NOTE: There will be a long pause after clicking "Execute"
This is because its generating the new folders.xml file.
That file is used to look up the items based on the name in the _ports file.

Also.. They have combined a lot of the small models in to one single model. Much like the _compound file was.
thanks man

I've found another one of their super secret clients, the 0.5.3 prototype will hit it soon - I'll look to see what sort of new models it contains.
That makes three so far, Supertest, Localization, and TST client
## Post #644
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2015-12-25T06:25:59+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Here is your Christmas present  Ho Ho Ho....
Cool! 
Merry Christmas guys!
## Post #645
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-25T14:05:10+00:00
- Post Title: Re: World of Warships

Merry Christmas everyone
## Post #646
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-25T15:26:57+00:00
- Post Title: Re: World of Warships

WOW...
I am getting 30 FPS now with a fully loaded Midway model. It was closer to 16-18 before.
Why this is, is because they have combined many of the smaller models in to one large model.
This saves on rendering calls.. (Setting textures and calling the actual drawing of the polygons)

Also.. They fixed the transfrom issue with the AGA018_20mm_Oerlikon_MK20_Twin guns in the midway.
They were all backwards facing. Now If I can figure out why the CV planes are not sitting right, I'd be happy.
## Post #647
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-28T17:19:34+00:00
- Post Title: Re: World of Warships

I have started working on the FBX exporter.

This is proving to be a pain. Its easy to export the ship.. It has no transforms.
The children are not working. I need to do some research on how to extract rotation from a non-rotation only matrix.
## Post #648
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-30T01:40:39+00:00
- Post Title: Re: World of Warships

Well...
I have it exporting the ship and its child objects. Transforms are working ok.
In order to keep 3DS Max from removing items during the import, All items MUST have a unique name.
This sucks! 
I am having to translate the vertices before exporting by its HP_ or MP_ matrix in the master xml.
After this, I add the translation values of the models other parts. It works.
I can select the root and rotate all items in that model as a single unit.

There is still a shit load of work to be done.
## Post #649
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-30T14:48:49+00:00
- Post Title: Re: World of Warships

Ok... 
Figured I would post an update on where I am on this.

I figured out how to hide the 'Helper' nodes in 3DS Max.
As i stated before, Nodes with the same name are removed from the FBX.
I have to add an index number to the end of all names or they will never load.

I can rotate a turret with all its grand children.

I am exporting the light and its position. More than likely anyone working with this will want to mess around with lighting.

I had a rough time figuring out why the textures looked so bad in 3DS Max. You have to set them under the display settings.
Do a search on why the textures look bad and you will get lots of answers.

I am still having a nasty time getting the transforms worked out for the Gkids.
I should have this sorted by the end of today.

Here is a pic of the ASC020_Des_Moines_1948_Bow
## Post #650
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-30T22:49:31+00:00
- Post Title: Re: World of Warships

Ok... Before I release a version that Exports the entire ship with all the kids and grand kids in a format that can be loaded in almost any 3D app, PLEASE SHOW some appreciation for all my work in the form of a donation. I have worked for many MANY hours figuring this out.
If you feel I deserve something for this.. Go to my wife and I's paypal (TnM's peekapoos)  and [DONATE!](https://www.paypal.com/us/cgi-bin/webscr?cmd=_flow&SESSION=7T7g_XKYxTOmZ_n7jw_tlmnUTVSSIYnNZ0gjGz1JCYLQx1SFKWCphQau9KG&dispatch=5885d80a13c0db1f8e263663d3faee8d64ad11bbf4d2a5a1a0d303a50933f9b2) You will see it says its directed from CURSE but it wont matter. You can use a credit card if you don't have a Paypal account.

There are some clean up things to do.. Breaking the exported tree in to ship sections is one thing left to do. Other than that, I believe it is exporting everything 100% correct. 
I want to add control over the material ambient, specular and diffuse levels before exporting.
Materials and textures are reused. There are no materials being duplicated.

This is a render from 3DS Max 2015. I rotated some of the items.. the Catapult, Main Gun, Secondary gun and the one director. This is easy to do and can be animated.
The lighting could be setup better but this is just to show how it looks.
Yamato

Des Moines Some Items are rotated by me in 3DS Max.
## Post #651
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-31T13:36:52+00:00
- Post Title: Re: World of Warships

I am trying to figure out how to set a parameter in FBX Because the Nets, Grids and Radar baskets all need the diffuse texture assigned to the opacity channel and the mono channel output set to ALPHA.
Here is a pic of the param that needs set after the diffuse texture is assigned to the Opacity channel.
The 2nd attachment shows that the diffuse texture is used in the Opacity channel as well.
I can code this to be done automatically and will before I release the next version BUT.. I really need to find out how to set the mono channel output parameter.
[material_setting.jpg](https://xentaxbackup.github.io/file/10250_material_setting.jpg)
## Post #652
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-31T13:37:25+00:00
- Post Title: Re: World of Warships

And here is the 2nd image....
[material_setting2.jpg](https://xentaxbackup.github.io/file/10251_material_setting2.jpg)
## Post #653
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-31T17:38:33+00:00
- Post Title: Re: World of Warships

Well...
I can't change the setting I need for the alpha to work during export.
I also can NOT set 2 sided for textures that need to be. This sucks!
Normal Maps seem to be ok.. I think it is the lighting angle but.. it makes not sense.
## Post #654
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-31T18:01:55+00:00
- Post Title: Re: World of Warships

More good stuff..
## Post #655
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-31T20:34:29+00:00
- Post Title: Re: World of Warships

Ok.....

The sum of all my work so far.

Version 30.1.0 is ready to test.
[http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)

This only works with FBX exporting.
Blender will not load these. You will need to get AutoDesk's FBX converter and convert them to FBX what ever the hell Blender reads.
3DS Max should load FBX 2009 with no issues.

Like I said before.. consider donating for the cause. It's a lot of work figuring this out and coding it.
## Post #656
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2015-12-31T21:08:37+00:00
- Post Title: Re: World of Warships

I found a slight bug in the suffix number extensions.
Some objects wound up with exactly the same name in the helper node and the actual model node.
This caused the model node to be ignored.
I uploaded a new version 30.1.1 that fixes this.
Hit the link about..

Sorry bout that..
## Post #657
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-01T13:18:12+00:00
- Post Title: Re: World of Warships

I fixed a bug in the FBX exporting.

It had to do with the order of each model in the children.
The wrong Matrix was being used on some items.

I also added code to remember what folder the FBX was saved to.
After this update, the app should always remember this folder.

Get version 0.30.1.2
[http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)
## Post #658
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-01T16:18:52+00:00
- Post Title: Re: World of Warships

Warning!  Huge image! .. lol
Rendered with Daz Studio 4.8 pro... (It's free)
[http://209.159.152.184:8080/images/Daz_render_huge.jpg](http://209.159.152.184:8080/images/Daz_render_huge.jpg)
## Post #659
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2016-01-01T18:26:21+00:00
- Post Title: Re: World of Warships

Happy New Year everyone!   

> Reply from Coffee
>
> Warning!  Huge image! .. lol
Rendered with Daz Studio 4.8 pro... (It's free)
Not so huge, but nice! 


I got error at trying to export Tirpitz:

```
(JIT) отладки вместо данного диалогового 
окна содержится в конце этого сообщения.

************** Текст исключения **************
System.NullReferenceException: В экземпляре объекта не задана ссылка на объект.
   в Skill.FbxSDK.FbxTexture._Ref()
   в Skill.FbxSDK.FbxLayerElementArrayTemplateTexture.Add(FbxTexture item)
   в Model_Viewer.modExportImport.add_to_root(Single[]& matrix1, Single[]& matrix2, FbxMesh& mymesh, GKnode_& knode, FbxNode& child_node_, FbxNode& parent_node_, FbxTexture[]& ltextures)
   в Model_Viewer.modExportImport.export_fbx_wows()
   в Model_Viewer.frmFbx.Start_Export_btn_Click(Object sender, EventArgs e)
   в System.Windows.Forms.Control.OnClick(EventArgs e)
   в System.Windows.Forms.Button.OnClick(EventArgs e)
   в System.Windows.Forms.Button.OnMouseUp(MouseEventArgs mevent)
   в System.Windows.Forms.Control.WmMouseUp(Message& m, MouseButtons button, Int32 clicks)
   в System.Windows.Forms.Control.WndProc(Message& m)
   в System.Windows.Forms.ButtonBase.WndProc(Message& m)
   в System.Windows.Forms.Button.WndProc(Message& m)
   в System.Windows.Forms.Control.ControlNativeWindow.OnMessage(Message& m)
   в System.Windows.Forms.Control.ControlNativeWindow.WndProc(Message& m)
   в System.Windows.Forms.NativeWindow.Callback(IntPtr hWnd, Int32 msg, IntPtr wparam, IntPtr lparam)


************** Загруженные сборки **************
mscorlib
    Версия сборки: 2.0.0.0
    Версия Win32: 2.0.50727.5446 (Win7SP1GDR.050727-5400)
    CodeBase: file:///C:/Windows/Microsoft.NET/Framework/v2.0.50727/mscorlib.dll
----------------------------------------
Model_Viewer
    Версия сборки: 0.30.1.2
    Версия Win32: 0.30.1.2
    CodeBase: file:///D:/Programs/WoT%20Model%20Editor%20B30.1.2/Model_Viewer.exe
----------------------------------------
Microsoft.VisualBasic
    Версия сборки: 8.0.0.0
    Версия Win32: 8.0.50727.5420 (Win7SP1.050727-5400)
    CodeBase: file:///C:/Windows/assembly/GAC_MSIL/Microsoft.VisualBasic/8.0.0.0__b03f5f7f11d50a3a/Microsoft.VisualBasic.dll
----------------------------------------
System
    Версия сборки: 2.0.0.0
    Версия Win32: 2.0.50727.5442 (Win7SP1GDR.050727-5400)
    CodeBase: file:///C:/Windows/assembly/GAC_MSIL/System/2.0.0.0__b77a5c561934e089/System.dll
----------------------------------------
System.Windows.Forms
    Версия сборки: 2.0.0.0
    Версия Win32: 2.0.50727.5446 (Win7SP1GDR.050727-5400)
    CodeBase: file:///C:/Windows/assembly/GAC_MSIL/System.Windows.Forms/2.0.0.0__b77a5c561934e089/System.Windows.Forms.dll
----------------------------------------
System.Drawing
    Версия сборки: 2.0.0.0
    Версия Win32: 2.0.50727.5420 (Win7SP1.050727-5400)
    CodeBase: file:///C:/Windows/assembly/GAC_MSIL/System.Drawing/2.0.0.0__b03f5f7f11d50a3a/System.Drawing.dll
----------------------------------------
System.Runtime.Remoting
    Версия сборки: 2.0.0.0
    Версия Win32: 2.0.50727.5420 (Win7SP1.050727-5400)
    CodeBase: file:///C:/Windows/assembly/GAC_MSIL/System.Runtime.Remoting/2.0.0.0__b77a5c561934e089/System.Runtime.Remoting.dll
----------------------------------------
System.Configuration
    Версия сборки: 2.0.0.0
    Версия Win32: 2.0.50727.5420 (Win7SP1.050727-5400)
    CodeBase: file:///C:/Windows/assembly/GAC_MSIL/System.Configuration/2.0.0.0__b03f5f7f11d50a3a/System.Configuration.dll
----------------------------------------
System.Xml
    Версия сборки: 2.0.0.0
    Версия Win32: 2.0.50727.5420 (Win7SP1.050727-5400)
    CodeBase: file:///C:/Windows/assembly/GAC_MSIL/System.Xml/2.0.0.0__b77a5c561934e089/System.Xml.dll
----------------------------------------
System.Data
    Версия сборки: 2.0.0.0
    Версия Win32: 2.0.50727.5420 (Win7SP1.050727-5400)
    CodeBase: file:///C:/Windows/assembly/GAC_32/System.Data/2.0.0.0__b77a5c561934e089/System.Data.dll
----------------------------------------
System.Data.DataSetExtensions
    Версия сборки: 3.5.0.0
    Версия Win32: 3.5.30729.5420 built by: Win7SP1
    CodeBase: file:///C:/Windows/assembly/GAC_MSIL/System.Data.DataSetExtensions/3.5.0.0__b77a5c561934e089/System.Data.DataSetExtensions.dll
----------------------------------------
System.Core
    Версия сборки: 3.5.0.0
    Версия Win32: 3.5.30729.5420 built by: Win7SP1
    CodeBase: file:///C:/Windows/assembly/GAC_MSIL/System.Core/3.5.0.0__b77a5c561934e089/System.Core.dll
----------------------------------------
Tao.Platform.Windows
    Версия сборки: 1.0.0.5
    Версия Win32: 1.0.0.5
    CodeBase: file:///D:/Programs/WoT%20Model%20Editor%20B30.1.2/Tao.Platform.Windows.DLL
----------------------------------------
Tao.OpenGl
    Версия сборки: 2.1.0.12
    Версия Win32: 2.1.0.12
    CodeBase: file:///D:/Programs/WoT%20Model%20Editor%20B30.1.2/Tao.OpenGl.DLL
----------------------------------------
cttools
    Версия сборки: 1.0.4723.22902
    Версия Win32: 
    CodeBase: file:///D:/Programs/WoT%20Model%20Editor%20B30.1.2/cttools.DLL
----------------------------------------
msvcm90
    Версия сборки: 9.0.30729.6161
    Версия Win32: 9.00.30729.6161
    CodeBase: file:///C:/Windows/WinSxS/x86_microsoft.vc90.crt_1fc8b3b9a1e18e3b_9.0.30729.6161_none_50934f2ebcb7eb57/msvcm90.dll
----------------------------------------
Tao.FreeGlut
    Версия сборки: 2.4.0.2
    Версия Win32: 2.4.0.2
    CodeBase: file:///D:/Programs/WoT%20Model%20Editor%20B30.1.2/Tao.FreeGlut.DLL
----------------------------------------
Accessibility
    Версия сборки: 2.0.0.0
    Версия Win32: 2.0.50727.4927 (NetFXspW7.050727-4900)
    CodeBase: file:///C:/Windows/assembly/GAC_MSIL/Accessibility/2.0.0.0__b03f5f7f11d50a3a/Accessibility.dll
----------------------------------------
mscorlib.resources
    Версия сборки: 2.0.0.0
    Версия Win32: 2.0.50727.5446 (Win7SP1GDR.050727-5400)
    CodeBase: file:///C:/Windows/Microsoft.NET/Framework/v2.0.50727/mscorlib.dll
----------------------------------------
Ionic.Zip
    Версия сборки: 1.9.1.8
    Версия Win32: 1.9.1.8
    CodeBase: file:///D:/Programs/WoT%20Model%20Editor%20B30.1.2/Ionic.Zip.DLL
----------------------------------------
Tao.DevIl
    Версия сборки: 1.6.8.3
    Версия Win32: 1.6.8.3
    CodeBase: file:///D:/Programs/WoT%20Model%20Editor%20B30.1.2/Tao.DevIl.DLL
----------------------------------------
System.Windows.Forms.resources
    Версия сборки: 2.0.0.0
    Версия Win32: 2.0.50727.5420 (Win7SP1.050727-5400)
    CodeBase: file:///C:/Windows/assembly/GAC_MSIL/System.Windows.Forms.resources/2.0.0.0_ru_b77a5c561934e089/System.Windows.Forms.resources.dll
----------------------------------------
System.Data.SqlXml
    Версия сборки: 2.0.0.0
    Версия Win32: 2.0.50727.5420 (Win7SP1.050727-5400)
    CodeBase: file:///C:/Windows/assembly/GAC_MSIL/System.Data.SqlXml/2.0.0.0__b77a5c561934e089/System.Data.SqlXml.dll
----------------------------------------
System.Xml.Xsl.CompiledQuery.1
    Версия сборки: 0.0.0.0
    Версия Win32: 2.0.50727.5420 (Win7SP1.050727-5400)
    CodeBase: file:///C:/Windows/assembly/GAC_MSIL/System.Data.SqlXml/2.0.0.0__b77a5c561934e089/System.Data.SqlXml.dll
----------------------------------------
FbxSDK
    Версия сборки: 1.0.4593.24947
    Версия Win32: 
    CodeBase: file:///D:/Programs/WoT%20Model%20Editor%20B30.1.2/FbxSDK.DLL
----------------------------------------
SlimDX
    Версия сборки: 2.0.13.43
    Версия Win32: 
    CodeBase: file:///D:/Programs/WoT%20Model%20Editor%20B30.1.2/SlimDX.DLL
----------------------------------------

************** Оперативная отладка (JIT) **************
Для подключения оперативной (JIT) отладки файл .config данного
приложения или компьютера (machine.config) должен иметь
значение jitDebugging, установленное в секции system.windows.forms.
Приложение также должно быть скомпилировано с включенной
отладкой.

Например:

<configuration>
    <system.windows.forms jitDebugging="true" />
</configuration>

При включенной отладке JIT любое необрабатываемое исключение
пересылается отладчику JIT, зарегистрированному на данном компьютере,
вместо того чтобы обрабатываться данным диалоговым окном.
```

And after I click "Continue", all stucks like this:
[](http://fastpic.ru/view/67/2016/0101/fde4e5eb89ac82d9aa3edc1faa3a44fc.png.html)

Didn't tried another ships so far.

Update: GSC015_Hindenburg_1945 got same error, but with ID: 25 in export window.

Update2: "Export All - Exclude Hidden Items" works ok 

Update3: Cannot import with [correct scale](https://en.wikipedia.org/wiki/German_battleship_Tirpitz) into max:
[](http://fastpic.ru/view/73/2016/0101/2e0d5cf24122b5c144db420bc62d2b2c.png.html)
System units is Meters, import units is set to millimeters (scale factor 10.0) in FBX import dialogue window.
Same thing with old editor, I changed scale for Yamato and Aurora by 149.925% - this ratio I got by scaling helpers from res\content\helpers\ - but those helpers didn't exports from this version of editor because of error.
## Post #660
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-01T19:56:00+00:00
- Post Title: Re: World of Warships

Ok...
Try version 30.1.3 and see if it crashes.
## Post #661
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-01T20:09:56+00:00
- Post Title: Re: World of Warships

I'm not sure why anything about the scale would change. I apply no scaling at export.

Form what I remember World of Tanks setting for Maya and 3Ds... 10cm = 1 unit length.

I'd import it with no scale and then calculate what it needs to be.
if it imports at 125 meters and it needs to be 240 meters its:
240/125 = scale up value. = 1.92 or 192%

I finally fixed that problem with the mouse entering the treeview and re-selecting the node.
## Post #662
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-01T20:17:33+00:00
- Post Title: Re: World of Warships

Ok.. there is a nasty problem with that build... let me fix it.
## Post #663
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-01T20:27:49+00:00
- Post Title: Re: World of Warships

version 30.1.4 is uploading
Try that one.
[http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)
## Post #664
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-01T20:37:41+00:00
- Post Title: Re: World of Warships

If you have problems with this version..
Uninstall , download again and install fresh.

BTW.. this version should render a little faster.
## Post #665
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2016-01-01T20:46:36+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Ok...
Try version 30.1.3 and see if it crashes.
30.1.4 crashes on Tirpiz.
Also if I try to export res\content\helpers\Measure_100m.primitives to FBX.
## Post #666
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-01T20:49:41+00:00
- Post Title: Re: World of Warships

Im going to need to add code to check if the textures are present.
Looks like the 100m model has only diffuse.
## Post #667
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-01T21:09:45+00:00
- Post Title: Re: World of Warships

Version 30.1.5 is uploading.

This checks the paths of the textures in the data..
If there is not one.. that texture is not created in the FBX..
## Post #668
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2016-01-01T21:36:03+00:00
- Post Title: Re: World of Warships

All exports ok 
Measure_1000.primitives have rendering bugs in editor and it's 667.0m of lenght in max.
## Post #669
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-01T21:55:10+00:00
- Post Title: Re: World of Warships

Thats good its exporting..

If you want, you can add 2 lines to the bump shader.
Press E and on the bottom, select bump.
Find this

    float lambertTerm = max(dot(PN,L) , 0.0);

    if (lambertTerm > 0.0)

and put these 2 lines between those lines
    Spec  = mix (1.0, Spec, show_diffuse2);
    specM = mix (1.0, specM,  show_diffuse2);

so afterwards, it should look like this:

    float lambertTerm = max(dot(PN,L) , 0.0);
    Spec  = mix (1.0, Spec, show_diffuse2);
    specM = mix (1.0, specM,  show_diffuse2);

    if (lambertTerm > 0.0)

click 'Recompile'

Now when you shut off diffuse2 'K' and bump 'B'.. any objects with only the diffuse texture will render ok.


If you don't want to make the changes, They will be in the next version.
This is the entire fragment shader with the changes if you want to just replace all of it

```

#version 130

in vec3 vVertex;
in vec3 g_vertexnormal;
in vec3 g_viewvector;
in vec3 lightDirection;
in vec2 TC1;
//in vec3 BN;
//in vec3 BT;
in mat3 TBN;
out vec4 out_color;
//
uniform sampler2D colorMap;
uniform sampler2D colorMap2;
uniform sampler2D normalMap;
uniform sampler2D metalMap;
uniform float level0;
uniform float level1;
uniform float in_specular;
uniform float multi_textured;
uniform float show_diffuse2;
uniform float show_diffuse;
uniform float show_bumpmap;
uniform float alphaTest;
uniform vec2 detail_tile;
uniform float show_normals;
uniform float selected;
uniform float dummy;
////////////////////////////////////////////////////////////////////////////////////////////

void main()
{
    float   a;
    float alpha;
    vec3 bumpMap;
    const float light_diffuse = 0.4;
    const float harshness = 1.2;  // tweak gamma a bit
    vec3 N = normalize(g_vertexnormal);
   
    vec4 color2;
    float metal = 0.0;
    float shadow;
    vec4 final_color;
    vec4 color = texture2D(colorMap, TC1);
    if (alphaTest != 0.0)
    {
        if (color.a < 0.1)
        {
            discard;
        }
    }
    color       = mix(vec4(0.4,0.4,0.4,color.a), color, show_diffuse);
    final_color = vec4(color * vec4(0.5,0.5,0.5,1.0));
    bumpMap     = (2.0 * texture2D (normalMap, TC1).rgb - 1.0);
    bumpMap     = normalize(bumpMap);
    final_color = mix(final_color,vec4(0.9,0.9,0.0,1.0),dummy);
    color       = mix(color, color * vec4(1.0,0.0,0.0,1.0),selected);
    final_color = mix(final_color, vec4(color * vec4(0.8,0.0,0.0,1.0)), selected);
    vec4 cmix   = color;
    cmix.rgb  = color.rgb * texture2D(colorMap2, TC1.xy ).rgb * 1.35;
    color.rgb = mix (color.rgb, cmix.rgb, multi_textured * show_diffuse2);
    // Get the perturbed normal
    vec3 PN = normalize( TBN * bumpMap );
    PN = mix(N, PN, show_bumpmap);
    // light position
    vec3 L = normalize(lightDirection);
    float Spec = texture2D(metalMap, TC1.xy ).r ;
    float specM = texture2D(metalMap, TC1.xy ).g ;
    float lambertTerm = max(dot(PN,L) , 0.0);
    Spec  = mix (1.0, Spec, show_diffuse2);
    specM = mix (1.0, specM,  show_diffuse2);

    if (lambertTerm > 0.0)
    {
        final_color += (light_diffuse *  lambertTerm * color*1.5);
        vec3 E = normalize(g_viewvector.xyz);
        vec3 R = normalize(-reflect(L, PN));
        float specular = pow( max(dot(R, E), 0.0), 60.0 * specM);
        final_color += (specular * Spec * in_specular);
    }
    

    out_color = final_color *4.0 * level0;
    const vec3 vG = vec3(harshness , harshness , harshness);
    out_color.rgb = pow(out_color.rgb, vG/level1);
    out_color.rgb = mix(out_color.rgb, N.rgb, show_normals);
}
//end
```


I got around using 'If' statements by using the Mix function.. Its MUCH faster than doing 'If.. Then'
## Post #670
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2016-01-01T22:16:10+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> If you want, you can add 2 lines to the bump shader.
I'll try this, but later - I'm going to sleep, it's late here...

Both planes exports into one group, and no plane names here to identify:
[](http://fastpic.ru/view/67/2016/0102/2c792845f9bea9b103ea2c87b5663741.png.html)

Also I have to set ambient color for all materials to black and ambient map mode to "Modulate" instead of "Replace" (maybe this only Deep Exploration related).

Material names is very uninformative...
## Post #671
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-02T09:08:45+00:00
- Post Title: Re: World of Warships

what version of 3ds max are you using?
My treeview is nothing like that.

Anyway....
For now, hide the plane you don't care to export.. It's an easy fix. If you want to know the name of the plane.. look at its diffuse texture name.

It would of been much better if the models exported to FBX didn't remove things with the same name.

I have been trying to set some of the material parameters and I can't.
According to the FBX spec, there is no way to set double sided. I find this very hard to believe. Its an important material aspect!
The only things you can set about materials is basically the colors of diffuse, ambient and so on.

In my version of Max, all I have to do is select the object and the material that's bound to it will highlight.
I cant really change the material names to match objects.. the same material is used on a lot of different models.
I don't think we want to make new materials just to make the names match the object. It would eat a 'boat load' of space, slow down export/import and make the FBX file larger.

I have spent hundreds of hours on this project.. Not only do I have to load the models and export them, I have to get all the data from the gameparams.data before I can do anything.
The Master XML creator was a lot of work and will need to be updated every time the add a nation.
My app does 99.99999% of the work... all that's left is setting up the scene you want to render. Some materials will need to be edited for the Opacity and 2 sided setting.
## Post #672
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2016-01-02T16:14:28+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> what version of 3ds max are you using?
My treeview is nothing like that.
It's SAP Visual Enterprise Author (ex Deep Exploration), not max.
I use it for browsing, converting and storing models. Internal format (.rh) has lots of supporting features and very good compression - whole Tirpitz model packed into 2 mb in size (compressed .max is 7+ mb) without textures of course.
Also built-in renderer is good enough, even without material tuning (all glossy by default):
[](http://fastpic.ru/view/75/2016/0102/91d98e4c17874029be0a96cf51b66647.png.html)

> I don't think we want to make new materials just to make the names match the object. It would eat a 'boat load' of space, slow down export/import and make the FBX file larger.
It's possible to save original WoWS material names?
## Post #673
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-02T17:50:25+00:00
- Post Title: Re: World of Warships

> It's possible to save original WoWS material names?

Maybe.. I'll need to get them from the .visual
## Post #674
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-02T18:11:31+00:00
- Post Title: Re: World of Warships

Ok.. using the Material names in the visual isn't a good idea.
So many models have the same material name.
[material_list.jpg](https://xentaxbackup.github.io/file/10258_material_list.jpg)
## Post #675
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-02T23:44:11+00:00
- Post Title: Re: World of Warships

ARGH!

Setting the material shinniness in the FBX does not give linear glossiness results in 3DS.

```
100 = 66
50  = 56
25  = 46

```

I have spent the last hour looking for help with this online.
Any idea what's going on here?? Anyone??
## Post #676
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2016-01-03T06:11:14+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Ok.. using the Material names in the visual isn't a good idea.
So many models have the same material name.
Materials with same name has different textures?
And it looks like shader names. Not names of mfm-file.
## Post #677
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-03T13:21:23+00:00
- Post Title: Re: World of Warships

Yes. the same name with a bunch of different attached models. It is the shader name but I assumed MAT meant material.

Using the MFM name seems to work.
Either way, the Tirpiz creates 64 materials and 125 textures on export.

I uploaded version 0.30.1.6 [http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)
I added the P short cut key and a setting to the graphic settings... it turns on and off the MG_ textures in the shader. I didn't like shutting it off with the AO texture.
I also added code that shows the state of most of the settings when you press a key at the bottom of the screen.
This should also fix the path being restored for the FBX folder. It wasn't working.
I added 2 settings to the FBX export window for Specular and Glossiness. Glossiness does not export what the setting is... I have NO F'ing idea why and can't find any help on this issue anywhere.
## Post #678
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-06T18:19:26+00:00
- Post Title: Re: World of Warships

I was looking around to see if I could find anything on the new primitives_processed format and found this:
[https://github.com/SkaceKamen/wot-model ... imitive.py](https://github.com/SkaceKamen/wot-model-converter/blob/master/convert-primitive.py)

What that is, is a python script converted from my .NET code.
The names of the variables is the same.. the logic is identical.. with some minor changes.
I am not bitching about this.. I think its cool some one wrote a python version.
Looking at the code, it should run fine but it wont work with the new format World of Tanks is in.

I have figured out about 99% of the new format.
If anyone wants to work on that script... I can help you with the new format.

What I have found so far is there is some extra data in one of the vertex types.
I'm hacking my way thru this to figure out where it is in the data.. The normals are fubar in this format.. Im looking in to this.
Anyway... We are going to need to start a new thread for the work on the WoTs side of this.
## Post #679
- Username: wen98
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Mon Sep 21, 2015 8:15 pm
- Post datetime: 2016-01-07T12:18:03+00:00
- Post Title: Re: World of Warships

Hi, Coffee.
Opened in the editor v 30.16, some small parts are missing in many ships. For example, the anchors of CV essex are absent. For Midway, the 20mm guns are pointing backwards. Some secondary guns of a us destroyer are in the wrong position. I don't know why. 

Thanks
[essex.jpg](https://xentaxbackup.github.io/file/10275_essex.jpg)
## Post #680
- Username: wen98
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Mon Sep 21, 2015 8:15 pm
- Post datetime: 2016-01-07T12:27:30+00:00
- Post Title: Re: World of Warships

Here is the midway. AA guns are pointing backwards.
[midway.jpg](https://xentaxbackup.github.io/file/10276_midway.jpg)
## Post #681
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-07T12:47:12+00:00
- Post Title: Re: World of Warships

> Reply from wen98
>
> Here is the midway. AA guns are pointing backwards.

You probably forgot to update the master XMLS... I do it all the time LOL!
Go to File and than Force MASTER XML Update

This only needs to be done once after each update of the app.
It forces the old masters to be overwritten with the new Master XML zip.
If the game is updated, I will update the zip and the editor.


The Zip is created using the XML Creator but you don't need that tool.
The new zip is built in to the the latest release of the editor.
## Post #682
- Username: sefirott
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Thu Jan 07, 2016 8:44 pm
- Post datetime: 2016-01-07T13:17:17+00:00
- Post Title: Re: World of Warships

Hello Coffee I am surprised with his great work, the edited models already operating within the game ?
## Post #683
- Username: wen98
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Mon Sep 21, 2015 8:15 pm
- Post datetime: 2016-01-07T13:17:39+00:00
- Post Title: Re: World of Warships

I tried. Then I go to file>view master xml. The date of the folders still shows 2016/1/2, which is the time I installed the editor. And the date of the file  folders. xml is 2015/12/25.
When I re-open the ship, problems remain. 

> Reply from Coffee
>
> wen98 wrote:Here is the midway. AA guns are pointing backwards.

You probably forgot to update the master XMLS... I do it all the time LOL!
Go to File and than Force MASTER XML Update

This only needs to be done once after each update of the app.
It forces the old masters to be overwritten with the new Master XML zip.
If the game is updated, I will update the zip and the editor.


The Zip is created using the XML Creator but you don't need that tool.
The new zip is built in to the the latest release of the editor.
## Post #684
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-07T13:37:16+00:00
- Post Title: Re: World of Warships

try this...
Open the midways bow and center mouse button click on one of the rafts/boats under the backwards AA guns.

If it selects only one raft, the game data is out of data.
## Post #685
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-07T13:39:28+00:00
- Post Title: Re: World of Warships

also, you should see names for the midway's children like this:

MP_ATAxxxx

EDIT:
Maybe it has something to do with your location?
No one else has reported a problem with the last version...

We'll figure it out
## Post #686
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-07T14:12:37+00:00
- Post Title: Re: World of Warships

Im going to post some info on the UI in case some one doesnt understand how this works.

 Once a model is loaded, you can select anything in the window by center mouse clicking on it.
 The path to the selected model will be shown in the bottom of the window.
 While something is selected, you will see the 4 textures assigned to it under the TreeView to the right.
 Mousing over one of the textures lets you view it in the main window. The size of this is depended on the size of the window.
 Double clicking on one of the textures under the TreeView will open the Texture Viewer.
 The full path of the texture will be in the top of the window in the Title area.
 The Texture Viewer will allow you to see the UV map for all but the AO map.. (I will fix this in the next release)
 You can export the UV map WITH or WITHOUT the texture to use it as a layer to paint new maps. PNG is best because it supports the Alpha channel.
 From the Texture Viewer you can load the Swizzler program. This is a tool for reassigning the channels RGBA to other channels.
 The Swizzler is use to convert the blue style tangent bump maps to compressed GA maps and back.

F1 will display a onscreen list of short cut keys and other information.

About the lighting...
The bottom right has controls for the lights.
Must of the names are easy to understand.
The Specular should be set at 50% or lower unless you want everything to look like plastic.
I set the Light around 60-70% The Contrast to about 90% and Specular around 30%
The other 3 controls are for the lights Position.
Y is the up/down position
R is the Radius of the light... or distance to the point you are looking at.
S is the SPIN angle of the light.
F2 will spin the Light and F3 will spin the camera view.

Only Models that are visible will ever be exported to FBX.
Dummy place holders will NEVER be exported regardless of their visibility Settings.

Binary FBX is much more compact than ASCII and should be used unless there is a reason to export in ASCII.
Some apps may only read ASCII.
A good tool and one you should have is AutoDesk's FBX Converter. [Get it HERE.](http://usa.autodesk.com/adsk/servlet/pc/item?siteID=123112&id=22694909)
With the converter you can change the format from 2009 to 2013. Some apps.. like Blender wont load 2009 FBX.
You can convert FBX to OBJ and other formats using that tool.
It has a built n viewer and works with the FBX my app exports with no problems.
## Post #687
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-07T19:10:44+00:00
- Post Title: Re: World of Warships

Well...
The normals in the new World of Tanks primitives_processed files are different
Digging in the shaders.pkg I found this:
<type>UBYTE4_NORMAL_8_8_8</type>

Looks like they are stored as 3 unsigned bytes.

Hmmm...  a light bulb just lit up in my head.. LOL <-- did not work!

OK.. Here are some of the values for the bytes.

```
5a 06 7f
7f 7f 00
7f 7f 00
7f 7f fe
```

There are 2 values that are the same in some of the lines.
This looks wrong.
It would translate to a normal of  (1.0 ,1.0 ,0.0)
thats not right.
## Post #688
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-07T21:18:00+00:00
- Post Title: Re: World of Warships

Of course the above is assuming that the bytes are converted to +- values.
So in the range of +127 to - 128 range.

Normals need to be in "unit length" or... Normalized as it's called.
As you can see in the samples above.. they are NOT correct.

And this is what I get when viewing the normals:
[bad_normals.jpg](https://xentaxbackup.github.io/file/10277_bad_normals.jpg)
## Post #689
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-07T21:22:17+00:00
- Post Title: Re: World of Warships

I could really use some help with this if anyone wants to give it a shot.

Here is the entire xml for this vertex type.

```
 <elements>
  <POSITION>
  </POSITION>
  <NORMAL>
   <type>UBYTE4_NORMAL_8_8_8</type>
  </NORMAL>
  <TEXCOORD>
   <type>FLOAT2</type>
  </TEXCOORD>
  <BLENDINDICES>
   <type>SC_REVERSE_PADDED_III_</type>
  </BLENDINDICES>
  <BLENDWEIGHT>
   <type>SC_REVERSE_PADDED__WW_</type>
  </BLENDWEIGHT>
  <TANGENT>
   <type>UBYTE4_NORMAL_8_8_8</type>
  </TANGENT>
  <BINORMAL>
   <type>UBYTE4_NORMAL_8_8_8</type>
  </BINORMAL>
 </elements>
</xyznuviiiwwtbpc.xml>

```

Here is how they are in the .primitives_processed file. This is for the chassis of the IS-7
I deleted everything up to the start of the vertices so it would align.
[hex_format_image.jpg](https://xentaxbackup.github.io/file/10278_hex_format_image.jpg)
## Post #690
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-07T21:58:26+00:00
- Post Title: Re: World of Warships

X,Y, Z, U and V are floats. the I,s and W,s are bytes. As I noted.. there is some padding in there I don't understand.
It appears that the Normal, Tangent and Binormal all have an extra unused byte.

There is something strange going on because the values of the 3 bytes should add up to 1.0.
I have tried flipping them (Xor) .. Its worse.
I tried changing Z for X.. No luck there either.
I thought maybe they are actually using 10 bits per axis but I tested to see if uint32 normal ever showed up over 00 FF FF FF hex and it never does.

This problem has to be solved or there will be no exporting or saving of the tanks as primitives.
I must save the normals and rebuild the tangent and binormals. With out the normals, I cant rebuild them.
## Post #691
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-07T22:06:47+00:00
- Post Title: Re: World of Warships

> Reply from sefirott
>
> Hello Coffee I am surprised with his great work, the edited models already operating within the game ?

How I missed this I have no Idea...

No.. currently you can not save the WoWs models as .primitives.
At some point this will be there.
The format is far to different from World of Tanks and will need special code for the writing of the .primitives.

After I get a good handle on loading and exporting the WoTs models, I'll start writing importers and .primitives writers for both games.
## Post #692
- Username: sefirott
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Thu Jan 07, 2016 8:44 pm
- Post datetime: 2016-01-07T23:23:13+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> sefirott wrote:Hello Coffee I am surprised with his great work, the edited models already operating within the game ?

How I missed this I have no Idea...

No.. currently you can not save the WoWs models as .primitives.
At some point this will be there.
The format is far to different from World of Tanks and will need special code for the writing of the .primitives.

After I get a good handle on loading and exporting the WoTs models, I'll start writing importers and .primitives writers for both games.

Thank you for answering my message, I hope that in a future test your models in world of warships i will be very attentive to your project
## Post #693
- Username: wen98
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Mon Sep 21, 2015 8:15 pm
- Post datetime: 2016-01-08T12:41:13+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> also, you should see names for the midway's children like this:

MP_ATAxxxx

EDIT:
Maybe it has something to do with your location?
No one else has reported a problem with the last version...

We'll figure it out

Hi Coffee, I find no MP_ATAxxxx after opening the Midway bow. Also the raft under the AA guns is missing. I am in Asia.
## Post #694
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-08T12:57:46+00:00
- Post Title: Re: World of Warships

> Reply from wen98
>
> Coffee wrote:also, you should see names for the midway's children like this:

MP_ATAxxxx

EDIT:
Maybe it has something to do with your location?
No one else has reported a problem with the last version...

We'll figure it out 

Hi Coffee, I find no MP_ATAxxxx after opening the Midway bow. Also the raft under the AA guns is missing. I am in Asia.

Hi back 
What version of the game are you running there?
In the USA its 0.5.2.1
## Post #695
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-08T15:24:38+00:00
- Post Title: Re: World of Warships

I am updating my VPS so the downloads wont be available for a while.
I'm updating Apache to 2.4 and adding SVN, PHP, MYSQL and phpBB3
## Post #696
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2016-01-08T23:36:06+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> I am updating my VPS so the downloads wont be available for a while.
I'm updating Apache to 2.4 and adding SVN, PHP, MYSQL and phpBB3
what kind of board are you going to host?
## Post #697
- Username: wen98
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Mon Sep 21, 2015 8:15 pm
- Post datetime: 2016-01-08T23:56:35+00:00
- Post Title: Re: World of Warships

hi, my wows was old. Now I have updated to a North America client v 5.2.1. But the Editor 30.1.6 can load nothing now. If I use an older version 29.9.11, I can still load the ship, but with some children missing because the update of the game. Any suggestions?

> Reply from Coffee
>
> wen98 wrote:Coffee wrote:also, you should see names for the midway's children like this:

MP_ATAxxxx

EDIT:
Maybe it has something to do with your location?
No one else has reported a problem with the last version...

We'll figure it out 

Hi Coffee, I find no MP_ATAxxxx after opening the Midway bow. Also the raft under the AA guns is missing. I am in Asia.

Hi back 
What version of the game are you running there?
In the USA its 0.5.2.1
## Post #698
- Username: wen98
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Mon Sep 21, 2015 8:15 pm
- Post datetime: 2016-01-09T00:36:28+00:00
- Post Title: Re: World of Warships

Hi, Coffee. I re-download and re-installed the Editor, it is now loading everything!
## Post #699
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-09T03:19:03+00:00
- Post Title: Re: World of Warships

> Reply from TheSeeker
>
> Coffee wrote:I am updating my VPS so the downloads wont be available for a while.
I'm updating Apache to 2.4 and adding SVN, PHP, MYSQL and phpBB3
what kind of board are you going to host?

Just a simple PHPBB3 forums. I don't really plan on using it much. I may even take it back off.

I do have Apache/PHP/Mysql all installed now so I can create and test a site.
I really need a home but with little money I don't want to spend anymore on this.
My wife thinks its a total waste of time. I like doing it. It keeps my mind from dwelling over things I have no control over.

Anyway,
I'm on a TIGHT budge and my VPS is a single core with little ram. It is damn fast though.
This VPS is real cheap cost wise but barely handles anything over 1 person downloading at a time.

I still cant figure out how they packed the chucks in that space.bin... I see some index values but I can't figure out how it works.

And.. I can't figure out that damn 8_8_8 normal packing either. Maybe I'm getting to old for this.. LOL
## Post #700
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-09T03:20:53+00:00
- Post Title: Re: World of Warships

> Reply from wen98
>
> Hi, Coffee. I re-download and re-installed the Editor, it is now loading everything!

Kinda figured your game was out of data.
Glad it's all worked out
## Post #701
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-09T14:07:05+00:00
- Post Title: Re: World of Warships

I am not having a lot of fun with these new .primitives_processed world of tank models.

I have everything loading.. that is NOT the problem.
The problem is the normals, tangents and Binormals.
As I posted before, they will not work by converting them to from a byte to a single.
They face the wrong directions.
I can recalculate them at load time but this kills any smoothing or averaging of them.

I really need my hands on the source code for compressing and decompressing these.
## Post #702
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2016-01-10T15:02:36+00:00
- Post Title: Re: World of Warships

I think ripping a model from game can help with figuring out those normals by having result of like in game transforms of normal to compare with HEX one.
Unfortunately, most advanced 3D-ripper ATM (Ninja Ripper) can't rip from "World of ..." series due to anticheat/antihook presence in game.
Maybe [Intel GPA](http://dev.cra0kalo.com/?p=213) can do the job, but I'm not have it installed, and not sure of it capability to capture result normals, maybe it's limited of just meshes.
## Post #703
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-10T15:16:41+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> I think ripping a model from game can help with figuring out those normals by having result of like in game transforms of normal to compare with HEX one.
Unfortunately, most advanced 3D-ripper ATM (Ninja Ripper) can't rip from "World of ..." series due to anticheat/antihook presence in game.
Maybe Intel GPA can do the job, but I'm not have it installed, and not sure of it capability to capture result normals, maybe it's limited of just meshes.

Yes.. I even tried to decompile the client. I can't do it. In the 80's it was very easy to decompile programs. The all were pretty small in size and could even be hacked by just reading the hex. Z-80 and 8080 machine code was a snap to read. You could remember most of the codes.
If I could see how the shader used these it might help but they are precompiled HLSL code and there is NO way to decompile them.
I know exactly where they are and pretty much how the vertex data is stored.
I just don't understand how they are using these bytes. I have tired many different things but nothing works
## Post #704
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2016-01-10T15:20:18+00:00
- Post Title: Re: World of Warships

Googling "normals 8-8-8" got me nothing interesting, except this [big article](http://www.nvidia.com/object/real-time-normal-map-dxt-compression.html) from nvidia.

> An integer normal map texture can typically be stored with 16 (5:6:5), 24 (8:8:8), 48 (16:16:16) or 96 (32:32:32) bits per normal vector. Most of today's normal maps, however, are stored with no more than 24 (8:8:8) bits per normal vector.
Maybe devs uses normal vectors data in some combination with normal maps data?.. (yes, I'm nooob in this)

> Reply from Coffee
>
> Z-80
ZX-Spectrum - my first computer
## Post #705
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-10T15:58:22+00:00
- Post Title: Re: World of Warships

The think about the normals are the values I'm seeing.

Like 00 7f 7f hex

This is 00 127 127 in decimal.
80 hex is -128
FF hex is -1
negative numbers are 2's complement. (backwards)

Ok.. if you divide 127 by 127 you get 1.0.. so the common math is n/127 to convert it from 0 to 1.0.
BUT.. there are 2 values at 1.0... This is ALL wrong for normals. This would mean the the face is square to 2 faces!!!
It can't be!
I could try Xor'ing one of the values (flip all the bits) and see what happens.
Let me try that.
## Post #706
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-10T16:02:25+00:00
- Post Title: Re: World of Warships

HOLY SHIT!!!!

By using this method, it works!!!!!

```
        
        Dim pkz, pky, pkx As Int32
        pkx = CLng(packed) And &HFF Xor 127
        pky = CLng(packed >> 8) And &HFF Xor 127
        pkz = CLng(packed >> 16) And &HFF Xor 127

        Dim x As Single = (pkx)
        Dim y As Single = (pky)
        Dim z As Single = (pkz)

        Dim p As New vect3
        If x > 127 Then
            x = -128 + (x - 128)
        End If
        If y > 127 Then
            y = -128 + (y - 128)
        End If
        If z > 127 Then
            z = -128 + (z - 128)
        End If
        p.x = CSng(x) / 127
        p.y = CSng(y) / 127
        p.z = CSng(z) / 127
        Dim len As Single = Sqrt((p.x ^ 2) + (p.y ^ 2) + (p.z ^ 2))

        'avoid division by 0
        If len = 0.0F Then len = 1.0F
        'len = 1.0
        'reduce to unit size
        p.x = -(p.x / len)
        p.y = -(p.y / len)
        p.z = -(p.z / len)        
        Return p
    End Function
```

Xor'ing by 127 or 7F flips all the lower 7 bits but retains the sign bit.
WOOOHOOOOO!!!!
[fixed_888_normals.jpg](https://xentaxbackup.github.io/file/10286_fixed_888_normals.jpg)
## Post #707
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2016-01-10T16:08:16+00:00
- Post Title: Re: World of Warships

Great! 

PS: Those track reminds me about unfigured out .track format for HD-versions... But you is leveled up from last try, maybe from 70 to 90 lvl
## Post #708
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-10T16:22:03+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> Great!
Thanks!

I have been working on this for a freak'in week!

Now I will need to write code to convert from real normals to this 888 format.

Here is a pic of the new format with out the normals visible.
[IS-7_888_normals.jpg](https://xentaxbackup.github.io/file/10287_IS-7_888_normals.jpg)
## Post #709
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-10T16:28:16+00:00
- Post Title: Re: World of Warships

Well..
Now that I know how the transforms work for the ship children, I might be able to render using the track sections and not the chassis model. I'll need to look at.
First thing is to get this working and exporting. Than I need to be able to save them as primitives.
I also want to save the ship models as primitives as well.
Be cause each format has different sections.. I will need a lot of different functions to export in primitives format.
The chassis vertex format is different from the other tank models. Also some buildings also have a different vertex format.
## Post #710
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2016-01-10T16:30:11+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Here is a pic of the new format with out the normals visible.
Beautiful rendering 

But the gun looks misplaced a little?
Or [not](http://www.arbse.net/Files/WoT/id475/is_7_9_1_wot_06.jpg)... didn't have this tank in game to check closer.
## Post #711
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-10T16:46:56+00:00
- Post Title: Re: World of Warships

I think its transformed correctly?

Anyway.. Thanks..
This is the old editor from CURSE.
I am making changes to this one first to get it up and running for the public than I will move these changes to the new version. There is a lot that has to be changed because of the Treeview.
I changed the shader in this old version to use the MG maps the same way as the new version. That's why it looks a lot better.
I will be gone for the next couple of days. I'm going to Pittsburgh with Terri for a short biz trip she has to deal with.
## Post #712
- Username: Exmach
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Mon Jan 11, 2016 5:08 pm
- Post datetime: 2016-01-11T09:14:56+00:00
- Post Title: Re: World of Warships

Help me pliiiiz 
[Снимок.PNG](https://xentaxbackup.github.io/file/10289_Снимок.PNG)
## Post #713
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2016-01-11T20:43:20+00:00
- Post Title: Re: World of Warships

> Reply from Exmach
>
> Help me pliiiiz
Сейчас нет необходимости создавать XML-ки этой утилитой, в комплекте с редактором идет архив с уже созданными, нужно только распаковать/обновить их командой меню File>Force MASTER XML update.

> Reply from Coffee
>
> The Zip is created using the XML Creator but you don't need that tool.
The new zip is built in to the the latest release of the editor.
Lots of models is removed by devs, latest miss is Bismarck, would be good to have some abilities to convert them from backups.
Maybe you can make XML Creator with old/new data detection for creating master XMLs for earlier versions of game too?
## Post #714
- Username: Exmach
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Mon Jan 11, 2016 5:08 pm
- Post datetime: 2016-01-12T08:08:39+00:00
- Post Title: Re: World of Warships

Тогда я непонимаю почему не открывается ничего, 1 раз открылась часть корабля причем черная а сейчас вообще ошибку выдавать начало
## Post #715
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-12T12:41:05+00:00
- Post Title: Re: World of Warships

Uninstall the editor.
Update game to 0.5.2.0
Reinstall the editor.

Go to "File" --> "Force Master XML Update"

If this does not fix it, I'm not sure how to help. Maybe Andrakann can help more.. He's Speaks Russian.
## Post #716
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-12T12:45:13+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> 
Maybe you can make XML Creator with old/new data detection for creating master XMLs for earlier versions of game too?

Maybe at some point.
I have to get Terra! fixed before I go any further with this.
[http://worldoftanks.curseforge.com/wot- ... ages/main/](http://worldoftanks.curseforge.com/wot-mods/terra-3d-tactical-battle-designe/pages/main/)
[http://worldoftanks.curseforge.com/wot- ... ne/images/](http://worldoftanks.curseforge.com/wot-mods/terra-3d-tactical-battle-designe/images/)

I'm going to start a thread and post some info in it.

EDIT:
I started a thread to talk about the work on Terra!
[viewtopic.php?f=16&t=13802](http://forum.xentax.com/viewtopic.php?f=16&t=13802)
## Post #717
- Username: Exmach
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Mon Jan 11, 2016 5:08 pm
- Post datetime: 2016-01-12T14:24:01+00:00
- Post Title: Re: World of Warships

Install editor, force update xmls, set path to C:\Games\World_of_Warships\res   what i doing wrong?
because i have this error
[Снимок.PNG](https://xentaxbackup.github.io/file/10295_Снимок.PNG)
## Post #718
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-12T14:41:53+00:00
- Post Title: Re: World of Warships

I would guess it has something to do with your location.

The app in your local is expecting commas for the decimals.

100,100.00 <--- USA format
100.100,00 <-- Russian format.

change your computers location to USA.

try this link.. I dont know if it can be translated.
[http://windows.microsoft.com/en-us/wind ... =windows-7](http://windows.microsoft.com/en-us/windows/change-country-region-setting#1TC=windows-7)
## Post #719
- Username: Exmach
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Mon Jan 11, 2016 5:08 pm
- Post datetime: 2016-01-12T16:20:12+00:00
- Post Title: Re: World of Warships

Thanks, all works now
## Post #720
- Username: ShadowHunterRUS
- Rank: n00b
- Number of posts: 17
- Joined date: Wed Jan 13, 2016 6:04 pm
- Post datetime: 2016-01-13T16:47:49+00:00
- Post Title: Re: World of Warships

My add-on for blender [https://bitbucket.org/ShadowHunterRUS/b ... wowp-wows/](https://bitbucket.org/ShadowHunterRUS/bigworld-blender-tools-wot-wowp-wows/)
## Post #721
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2016-01-13T22:08:37+00:00
- Post Title: Re: World of Warships

I started a topic about the Editor on the russian forum and got [error report](http://www.koreanrandom.com/forum/topic/29363-wot-model-editor/#entry309588) as first answer.
Some shader troubles with Intel HD video.

Also here's a technical question - does your primitive exporter support [BSP](https://en.wikipedia.org/wiki/Binary_space_partitioning) tree v2 - it's required for hits decals drawing in game, and if so - how it's done?
## Post #722
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2016-01-14T17:33:59+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> I started a topic about the Editor on the russian forum and got error report as first answer.
Some shader troubles with Intel HD video.

Also here's a technical question - does your primitive exporter support BSP tree v2 - it's required for hits decals drawing in game, and if so - how it's done?
That error is ancient and it affects the curse version too, I addressed it earlier in the thread and there's not much he can do about it.
## Post #723
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-18T22:00:01+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> I started a topic about the Editor on the russian forum and got error report as first answer.
Some shader troubles with Intel HD video.

Also here's a technical question - does your primitive exporter support BSP tree v2 - it's required for hits decals drawing in game, and if so - how it's done?

I don't know how to use the BSP2 section.

The Intel chips have a lot of problems. They don't always compile shader code that will on AMD and nVidia.
Intel has also decide to remove depreciated OpenGL functions. This is a BAD BAD thing to do.
There are hundreds of games that need these old 2.0 and functions to run.
What Intel has done is basically say... "Screw You and your old games"
Some Intel chips do not support display lists anymore. This is a shame as display list have always proven to be faster for static geometry.

I went to that Russian board and those errors wont effect rendering the model in the window.
I need to remove the old and unused shadow and phong shaders all together.
## Post #724
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-18T22:57:16+00:00
- Post Title: Re: World of Warships

I removed the unused shaders. The files are there but they are not compiled.

Try this and please post any errors that show up at start up.
Version  30.1.7
[http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)
## Post #725
- Username: ShadowHunterRUS
- Rank: n00b
- Number of posts: 17
- Joined date: Wed Jan 13, 2016 6:04 pm
- Post datetime: 2016-01-18T23:06:33+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Try this and please post any errors that show up at start up.
[http://www.koreanrandom.com/forum/topic ... /?p=310324](http://www.koreanrandom.com/forum/topic/29363-/?p=310324)
## Post #726
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-19T15:07:32+00:00
- Post Title: Re: World of Warships

> Reply from ShadowHunterRUS
>
> Coffee wrote:Try this and please post any errors that show up at start up.
http://www.koreanrandom.com/forum/topic ... /?p=310324

I have no idea what's going on with it saying the .x files are missing.
I checked and they are in the build.
I just uninstalled and re-installed and tested this version again and I get no errors.

Maybe it has something to do with where you are installing it?
## Post #727
- Username: ShadowHunterRUS
- Rank: n00b
- Number of posts: 17
- Joined date: Wed Jan 13, 2016 6:04 pm
- Post datetime: 2016-01-19T15:18:43+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> ShadowHunterRUS wrote:Coffee wrote:Try this and please post any errors that show up at start up.
http://www.koreanrandom.com/forum/topic ... /?p=310324
Maybe it has something to do with where you are installing it?
C:\Program Files (x86)\Coffee_\WoT Model Editor\
Maybe using absolute paths to .x files?
## Post #728
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-19T16:37:52+00:00
- Post Title: Re: World of Warships

> Reply from ShadowHunterRUS
>
> 
Maybe using absolute paths to .x files?

No.. I checked the paths.
Try downloading and reinstalling it.
Look in the install folder and see if those files are there.
## Post #729
- Username: ShadowHunterRUS
- Rank: n00b
- Number of posts: 17
- Joined date: Wed Jan 13, 2016 6:04 pm
- Post datetime: 2016-01-19T16:46:18+00:00
- Post Title: Re: World of Warships

Снимок экрана (187).png (87.79 KiB) Viewed 81 times
## Post #730
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-19T17:07:51+00:00
- Post Title: Re: World of Warships

Ok... 
There are 2 things that could be going on.
1. The system is case sensitive. Windows can be configured to use case sensitive file names and paths. I doubt this is the problem.

2. Both of those .x files are text files. You can open them in any text editor. It uses a PERIOD for the decimal place. Russia numbers uses a comma for the decimal.
This means that windows cant convert the strings to numbers.

You could try setting your computers location to United States and see if that works. I posted a link earlier on how to do this.
OR.. you could open those .x files and try replacing the period "." with a comma ","
There are 2 matrices at the start but I'm not using thing.
MAKE A BACK UP OF THESE FILES BEFORE CHANGING THEM!
## Post #731
- Username: ShadowHunterRUS
- Rank: n00b
- Number of posts: 17
- Joined date: Wed Jan 13, 2016 6:04 pm
- Post datetime: 2016-01-19T17:21:49+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Ok... 
You could try setting your computers location to United States and see if that works. I posted a link earlier on how to do this.
OR.. you could open those .x files and try replacing the period "." with a comma ","
There are 2 matrices at the start but I'm not using thing.
MAKE A BACK UP OF THESE FILES BEFORE CHANGING THEM!
This helped
## Post #732
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2016-01-20T17:16:21+00:00
- Post Title: Re: World of Warships

The XML generator will need to be updated for the new Panasia tree coming in 0.5.2.3
## Post #733
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2016-01-25T14:25:20+00:00
- Post Title: Re: World of Warships

Wargaming make WebGL player for tank models with JPG textures: [http://content.wargaming.net/wot/commun ... shorn.html](http://content.wargaming.net/wot/community/hdcomp914-4/aiwidget-en-us-G40_Nashorn.html)
## Post #734
- Username: ShadowHunterRUS
- Rank: n00b
- Number of posts: 17
- Joined date: Wed Jan 13, 2016 6:04 pm
- Post datetime: 2016-01-25T17:44:15+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> Wargaming make WebGL player for tank models with JPG textures: http://content.wargaming.net/wot/commun ... shorn.html

> Данный продукт не является продуктом Wargaming.net и разработан согласно правилам WG DPP.
## Post #735
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2016-01-26T06:01:07+00:00
- Post Title: Re: World of Warships

> Reply from ShadowHunterRUS
>
> Andrakann wrote:Wargaming make WebGL player for tank models with JPG textures: http://content.wargaming.net/wot/commun ... shorn.html
Данный продукт не является продуктом Wargaming.net и разработан согласно правилам WG DPP.
the UI on the android app is absolutely awful, I personally prefer this: [https://play.google.com/store/apps/deta ... lege&hl=en](https://play.google.com/store/apps/details?id=com.enigmapro.wot.knowlege&hl=en)
## Post #736
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-31T21:46:04+00:00
- Post Title: Re: World of Warships

Ok...

Per TheSeekers request...

I have updated both the XML Data Creator and The editor
Editor is at version 30.1.8
XML Data Creator is at version 22

Get them here -> [http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)

Don't for get to FORCE AN XML UP DATA IN THE EDITOR!!!!
## Post #737
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-01-31T21:49:58+00:00
- Post Title: Re: World of Warships

I can't find the Flags for the Panasia ships 
It's putting the American ones on them...
I guess you could edit the master XMLs once we figure this out.
## Post #738
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-02-11T18:03:29+00:00
- Post Title: Re: World of Warships

I found a way to make the app culture irrelevant.
This means it will always read the files as in the correct number format.
There will be no need to change any settings regarding you computers location in order for it to work.

I up loaded version 30.1.9
[http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)
## Post #739
- Username: 987mis
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Sat Feb 20, 2016 12:58 am
- Post datetime: 2016-02-19T17:14:40+00:00
- Post Title: Re: World of Warships

Hey Coffee. I have a problem with WoT Model Editor. I run program, all is OK. Than I open .primitives file and part/ship will be opened. But if I wanna to export it in FBX file, there I have a problem. The model of the ship for example is composite of many parts. There is main body of the ship - that's OK, I export it and all is fine. But the second part what called Bow_patch_MidFrontShape I can't export. This part joined main parts of hull and if I try to export it, it shows error (picture) . The next case is part of Tirpitz front superstructure. Do you have any tip what is it? Thanks 

[http://postimg.org/image/43g05o28j/](http://postimg.org/image/43g05o28j/)
## Post #740
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-02-19T17:52:08+00:00
- Post Title: Re: World of Warships

> Reply from 987mis
>
> Hey Coffee. I have a problem with WoT Model Editor. I run program, all is OK. Than I open .primitives file and part/ship will be opened. But if I wanna to export it in FBX file, there I have a problem. The model of the ship for example is composite of many parts. There is main body of the ship - that's OK, I export it and all is fine. But the second part what called Bow_patch_MidFrontShape I can't export. This part joined main parts of hull and if I try to export it, it shows error (picture) . The next case is part of Tirpitz front superstructure. Do you have any tip what is it? Thanks 

http://postimg.org/image/43g05o28j/

Interesting.
I need the text from the exception thats being thrown.
Not all of it.. just the first 10 lines or so. It will help me figure this out.
I can convert it to English if I know what language it's in.
## Post #741
- Username: 987mis
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Sat Feb 20, 2016 12:58 am
- Post datetime: 2016-02-21T20:22:16+00:00
- Post Title: Re: World of Warships

Coffee: 

If you mean the warning "error" table, thats only said, that in aplication is any untreated exception.. Link of the object isn't  set on the instance of the object. Thas's all The other text only said what happens if I press continue or exit  . But I have a problem with the program from the beginning. If I basicly turn it on , it shows me this waring tables.
[http://postimg.org/image/vu00snq67/](http://postimg.org/image/vu00snq67/)
BUT I have there 2 modes of start of this program...the first what makes this errors is Integrated graphical processor and the second is NVIDIA high-powered graphical processor and this "mode" starts the program with no errors. I have no idea if it is OK and the program is running good or there are any hiden errors what can make this problem with this export of some parts. I tried to export it in .obj and it gives me error that I didn't choose none object to export. Is there any possibility that I do somethink wrong? For example that the opened model is black - with no textures. But that is no essential for me cause I only need to export model of the ship into 3D sofwhat I used to and redraw it into real curves. The models in WOWS looks good so it is good basis for my use. So I will be very happy if you helped me or said what I do wrong.

Thanks
## Post #742
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2016-02-22T18:14:41+00:00
- Post Title: Re: World of Warships

> Reply from 987mis
>
> Coffee: 

If you mean the warning "error" table, thats only said, that in aplication is any untreated exception.. Link of the object isn't  set on the instance of the object. Thas's all The other text only said what happens if I press continue or exit  . But I have a problem with the program from the beginning. If I basicly turn it on , it shows me this waring tables.
http://postimg.org/image/vu00snq67/
BUT I have there 2 modes of start of this program...the first what makes this errors is Integrated graphical processor and the second is NVIDIA high-powered graphical processor and this "mode" starts the program with no errors. I have no idea if it is OK and the program is running good or there are any hiden errors what can make this problem with this export of some parts. I tried to export it in .obj and it gives me error that I didn't choose none object to export. Is there any possibility that I do somethink wrong? For example that the opened model is black - with no textures. But that is no essential for me cause I only need to export model of the ship into 3D sofwhat I used to and redraw it into real curves. The models in WOWS looks good so it is good basis for my use. So I will be very happy if you helped me or said what I do wrong.

Thanks
The errors in your screenshot are long-standing issues the program has with Intel graphics chips
## Post #743
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-02-22T19:42:57+00:00
- Post Title: Re: World of Warships

TheSeeker is correct about the errors at start up.
Most but not all Intel Laptop Video chips are too low power to do anything useful with them.
They use these same Chips on some other boards for desktops. Micro and Mini ATX boards usually have a built in video chip.
Unless you have a good reason to use the on-board video, I would disable it in the BIOS settings and run only your nVidia hardware.

The info I need is the one you posted an image of originally. bottom left button (Details) will open a stack trace. The trace is all I need. I don't need the list of loaded assemblies.
## Post #744
- Username: 987mis
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Sat Feb 20, 2016 12:58 am
- Post datetime: 2016-02-22T20:33:07+00:00
- Post Title: Re: World of Warships

Yes, errors are ok now if I start program with boosted graphic mode 

The text is:

System.NullReferenceException: Odkaz na objekt není nastaven na instanci objektu.
   v Model_Viewer.modExportImport.add_to_root(Single[]& matrix1, Single[]& matrix2, FbxMesh& mymesh, GKnode_& knode, FbxNode& child_node_, FbxNode& parent_node_, FbxTexture[]& ltextures)
   v Model_Viewer.modExportImport.export_fbx_wows()
   v Model_Viewer.frmFbx.Start_Export_btn_Click(Object sender, EventArgs e)
   v System.Windows.Forms.Control.OnClick(EventArgs e)
   v System.Windows.Forms.Button.OnClick(EventArgs e)
   v System.Windows.Forms.Button.OnMouseUp(MouseEventArgs mevent)
   v System.Windows.Forms.Control.WmMouseUp(Message& m, MouseButtons button, Int32 clicks)
   v System.Windows.Forms.Control.WndProc(Message& m)
   v System.Windows.Forms.ButtonBase.WndProc(Message& m)
   v System.Windows.Forms.Button.WndProc(Message& m)
   v System.Windows.Forms.Control.ControlNativeWindow.OnMessage(Message& m)
   v System.Windows.Forms.Control.ControlNativeWindow.WndProc(Message& m)
   v System.Windows.Forms.NativeWindow.Callback(IntPtr hWnd, Int32 msg, IntPtr wparam, IntPtr lparam)

Odkaz na objekt není nastaven na instanci objektu -> Link on the object isn't set on the instance of the object. ( or somethink like that it says )
## Post #745
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-02-23T16:02:16+00:00
- Post Title: Re: World of Warships

Ok the Language is Slovak.
And it translates to:
Odkaz na objekt není nastaven na instanci objektu.
Object reference not set to an instance of an object.
What this is saying is something is missing.

I can indeed cause this exception if the Game path is set wrong...

This is caused by the textures not being loaded.
If you are getting a plain black ship you have something setup wrong.
Do this..
Start the editor..
Go to the File Menu and set up the editor for the correct mode.
It is important to do these steps in order!
1. Set Editor Mode to WoWs
2. Set Working Path. This should be where the game's resources are located. It should be set to something like "C:\Games\World_of_Warships\res
3. Make sure the game is set to load the ships child models and also to display them.
4. Close the editor so these settings are saved.
5. Restart the editor and check the path and game mode settings to make sure they have been saved and reloaded.
6. If step 5 is correct, the editor should load and display the hull and all its children with textures and lighting. If not.. Something is very wrong. (maybe a shader is not working though its compiling)

I attached a image that shows how the settings should be. Don't forget to set the path to the games resources. This is VERY important!
[WoWs_Setup.jpg](https://xentaxbackup.github.io/file/10521_WoWs_Setup.jpg)
## Post #746
- Username: 987mis
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Sat Feb 20, 2016 12:58 am
- Post datetime: 2016-02-23T22:30:25+00:00
- Post Title: Re: World of Warships

Aaaah...problem fixed  Bad path of recources  Thank you Coffee
## Post #747
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-02-24T14:01:59+00:00
- Post Title: Re: World of Warships

> Reply from 987mis
>
> Aaaah...problem fixed  Bad path of recources  Thank you Coffee

You are Welcome!
I'm glad it's working.
## Post #748
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-02-25T17:05:38+00:00
- Post Title: Re: World of Warships

Ok...
I have some really good news...
Someone at CURSE sent me a link to some sample code. It is based on some of my old original work BUT.. It has code that converts the packed Uint32 Normals, Tangents and BiNormals in to the correct signed vectors.
This fixes the problem with the normals pointing always up and produces much better lighting on the hull and other objects.
You can get the new 30.1.10 version here [http://209.159.152.184:8080/WoW/](http://209.159.152.184:8080/WoW/)

Also.. I'm not sure the last build (30.1.9) was effected but I accidentally over-wrote the bump shaders. This is what happens when you are tired an have source open for multiple apps at the same time.  Thankfully I have backups and the shaders are fixed.
## Post #749
- Username: Coffee
- Rank: ultra-veteran
- Number of posts: 518
- Joined date: Fri Aug 07, 2015 12:57 am
- Post datetime: 2016-02-25T17:15:00+00:00
- Post Title: Re: World of Warships

Version 30.1.10 Master XML is NOT up to date with the game.
If you Must have the new master xmls, download the xml_creator and create and save an updated master xml.
You will need to place it in the \WoWs_Scripts folder where the editor is installed.
Once this is done, start up the editor and do a 'Force Master XML Update".. It is located on the file menu in the editor.

I have been meaning to update WOWs to the latest game version but keep forgetting to start it.
My wife works at home and we share a cable internet connection and I can't download during the day. It freezes her Management software and she can't do her job without it working. I don't play these games anymore for basically the same reason.
## Post #750
- Username: xtcmax
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Fri Oct 23, 2015 4:04 am
- Post datetime: 2016-02-28T02:11:26+00:00
- Post Title: Re: World of Warships

Coffee,
I just installed your latest version of viewer. When I load a primitive it loads up as black. What am I missing ?
## Post #751
- Username: xtcmax
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Fri Oct 23, 2015 4:04 am
- Post datetime: 2016-03-02T03:46:28+00:00
- Post Title: Re: World of Warships

Mr.Coffee,
thank you for developing the viewer. I have been waiting for something similar for a long time.

Thanks to everyone else, who helped to develop it.

Thanks for Andrakhan for pointing me to this thread.

Below is my first WoWS wallpaper.

[](http://imgur.com/WnfsVQ4)
## Post #752
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2016-03-22T05:45:32+00:00
- Post Title: Re: World of Warships

All of this might have been for nothing, patch 0.5.5 will restructure the client like WoT, except that the .pkg files will be obfuscated
## Post #753
- Username: renation
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Sat Mar 26, 2016 3:33 am
- Post datetime: 2016-03-25T19:50:53+00:00
- Post Title: Re: World of Warships

> Reply from Coffee
>
> Version 30.1.10 Master XML is NOT up to date with the game.
If you Must have the new master xmls, download the xml_creator and create and save an updated master xml.
You will need to place it in the \WoWs_Scripts folder where the editor is installed.
Once this is done, start up the editor and do a 'Force Master XML Update".. It is located on the file menu in the editor.

I have been meaning to update WOWs to the latest game version but keep forgetting to start it.
My wife works at home and we share a cable internet connection and I can't download during the day. It freezes her Management software and she can't do her job without it working. I don't play these games anymore for basically the same reason.

i got this error with the latest gameparams.data (from 0.5.4 client)

error detail :

```
just-in-time (JIT) debugging instead of this dialog box.

************** Exception Text **************
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Decompress.modFunctions.get_lv(String& s)
   at Decompress.modFunctions.get_flight_component(upg_& s_data, FlightControl_[]& fcontrols, String[]& data)
   at Decompress.modFunctions.get_ship_upgrades_from_json(upg_& s_ship_data, String filename)
   at Decompress.DecompressMain.extract_the_data()
   at System.Windows.Forms.Control.OnClick(EventArgs e)
   at System.Windows.Forms.Button.OnMouseUp(MouseEventArgs mevent)
   at System.Windows.Forms.Control.WmMouseUp(Message& m, MouseButtons button, Int32 clicks)
   at System.Windows.Forms.Control.WndProc(Message& m)
   at System.Windows.Forms.ButtonBase.WndProc(Message& m)
   at System.Windows.Forms.Button.WndProc(Message& m)
   at System.Windows.Forms.Control.ControlNativeWindow.WndProc(Message& m)
   at System.Windows.Forms.NativeWindow.Callback(IntPtr hWnd, Int32 msg, IntPtr wparam, IntPtr lparam)


************** Loaded Assemblies **************
mscorlib
    Assembly Version: 2.0.0.0
    Win32 Version: 2.0.50727.8670 (QFE.050727-8600)
    CodeBase: file:///C:/Windows/Microsoft.NET/Framework64/v2.0.50727/mscorlib.dll
----------------------------------------
Decompress
    Assembly Version: 1.22.0.0
    Win32 Version: 1.22.0.0
    CodeBase: file:///C:/Program%20Files%20(x86)/MikesMind/WoW%20XML%20Creator/decompress.exe
----------------------------------------
Microsoft.VisualBasic
    Assembly Version: 8.0.0.0
    Win32 Version: 8.0.50727.8670 (QFE.050727-8600)
    CodeBase: file:///C:/Windows/assembly/GAC_MSIL/Microsoft.VisualBasic/8.0.0.0__b03f5f7f11d50a3a/Microsoft.VisualBasic.dll
----------------------------------------
System
    Assembly Version: 2.0.0.0
    Win32 Version: 2.0.50727.8670 (QFE.050727-8600)
    CodeBase: file:///C:/Windows/assembly/GAC_MSIL/System/2.0.0.0__b77a5c561934e089/System.dll
----------------------------------------
System.Windows.Forms
    Assembly Version: 2.0.0.0
    Win32 Version: 2.0.50727.8670 (QFE.050727-8600)
    CodeBase: file:///C:/Windows/assembly/GAC_MSIL/System.Windows.Forms/2.0.0.0__b77a5c561934e089/System.Windows.Forms.dll
----------------------------------------
System.Drawing
    Assembly Version: 2.0.0.0
    Win32 Version: 2.0.50727.8681 (QFE.050727-8600)
    CodeBase: file:///C:/Windows/assembly/GAC_MSIL/System.Drawing/2.0.0.0__b03f5f7f11d50a3a/System.Drawing.dll
----------------------------------------
System.Runtime.Remoting
    Assembly Version: 2.0.0.0
    Win32 Version: 2.0.50727.8670 (QFE.050727-8600)
    CodeBase: file:///C:/Windows/assembly/GAC_MSIL/System.Runtime.Remoting/2.0.0.0__b77a5c561934e089/System.Runtime.Remoting.dll
----------------------------------------
System.Data
    Assembly Version: 2.0.0.0
    Win32 Version: 2.0.50727.8677 (QFE.050727-8600)
    CodeBase: file:///C:/Windows/assembly/GAC_64/System.Data/2.0.0.0__b77a5c561934e089/System.Data.dll
----------------------------------------
System.Xml
    Assembly Version: 2.0.0.0
    Win32 Version: 2.0.50727.8679 (QFE.050727-8600)
    CodeBase: file:///C:/Windows/assembly/GAC_MSIL/System.Xml/2.0.0.0__b77a5c561934e089/System.Xml.dll
----------------------------------------
Microsoft.Scripting
    Assembly Version: 1.1.0.20
    Win32 Version: 1.1.0.21
    CodeBase: file:///C:/Program%20Files%20(x86)/MikesMind/WoW%20XML%20Creator/Microsoft.Scripting.DLL
----------------------------------------
Microsoft.Scripting.Core
    Assembly Version: 1.1.0.20
    Win32 Version: 1.1.0.21
    CodeBase: file:///C:/Program%20Files%20(x86)/MikesMind/WoW%20XML%20Creator/Microsoft.Scripting.Core.DLL
----------------------------------------
IronPython
    Assembly Version: 2.7.5.0
    Win32 Version: 2.7.5.1000
    CodeBase: file:///C:/Program%20Files%20(x86)/MikesMind/WoW%20XML%20Creator/IronPython.DLL
----------------------------------------
Microsoft.Dynamic
    Assembly Version: 1.1.0.20
    Win32 Version: 1.1.0.21
    CodeBase: file:///C:/Program%20Files%20(x86)/MikesMind/WoW%20XML%20Creator/Microsoft.Dynamic.DLL
----------------------------------------
System.Core
    Assembly Version: 3.5.0.0
    Win32 Version: 3.5.30729.8693 built by: QFE
    CodeBase: file:///C:/Windows/assembly/GAC_MSIL/System.Core/3.5.0.0__b77a5c561934e089/System.Core.dll
----------------------------------------
IronPython.Modules
    Assembly Version: 2.7.5.0
    Win32 Version: 2.7.5.1000
    CodeBase: file:///C:/Program%20Files%20(x86)/MikesMind/WoW%20XML%20Creator/IronPython.Modules.DLL
----------------------------------------
System.Configuration
    Assembly Version: 2.0.0.0
    Win32 Version: 2.0.50727.8670 (QFE.050727-8600)
    CodeBase: file:///C:/Windows/assembly/GAC_MSIL/System.Configuration/2.0.0.0__b03f5f7f11d50a3a/System.Configuration.dll
----------------------------------------
Anonymously Hosted DynamicMethods Assembly
    Assembly Version: 0.0.0.0
    Win32 Version: 2.0.50727.8670 (QFE.050727-8600)
    CodeBase: file:///C:/Windows/assembly/GAC_64/mscorlib/2.0.0.0__b77a5c561934e089/mscorlib.dll
----------------------------------------
Snippets.scripting
    Assembly Version: 0.0.0.0
    Win32 Version: 1.1.0.21
    CodeBase: file:///C:/Program%20Files%20(x86)/MikesMind/WoW%20XML%20Creator/Microsoft.Dynamic.dll
----------------------------------------
System.Data.DataSetExtensions
    Assembly Version: 3.5.0.0
    Win32 Version: 3.5.30729.8693 built by: QFE
    CodeBase: file:///C:/Windows/assembly/GAC_MSIL/System.Data.DataSetExtensions/3.5.0.0__b77a5c561934e089/System.Data.DataSetExtensions.dll
----------------------------------------

************** JIT Debugging **************
To enable just-in-time (JIT) debugging, the .config file for this
application or computer (machine.config) must have the
jitDebugging value set in the system.windows.forms section.
The application must also be compiled with debugging
enabled.

For example:

<configuration>
    <system.windows.forms jitDebugging="true" />
</configuration>

When JIT debugging is enabled, any unhandled exception
will be sent to the JIT debugger registered on the computer
rather than be handled by this dialog box.



```


can any1 give me the updated WoWs_Scripts folder for 0.5.4 client?
## Post #754
- Username: Killstr3aKs
- Rank: beginner
- Number of posts: 22
- Joined date: Tue Sep 30, 2014 5:08 am
- Post datetime: 2016-04-03T20:58:37+00:00
- Post Title: Re: World of Warships

Same problem here, would be nice if someone posted a working .xml for the current game version
## Post #755
- Username: Sov8302
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Sat May 07, 2016 11:21 am
- Post datetime: 2016-05-07T03:38:42+00:00
- Post Title: Re: World of Warships

I got the same error I hope they fix the problem
## Post #756
- Username: Albertog
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Wed May 11, 2016 9:01 am
- Post datetime: 2016-05-11T01:07:07+00:00
- Post Title: Re: World of Warships

Great game! I have played this one "World of Worship"
## Post #757
- Username: TheSeeker
- Rank: advanced
- Number of posts: 44
- Joined date: Tue Sep 29, 2015 8:36 am
- Post datetime: 2016-07-17T08:38:04+00:00
- Post Title: Re: World of Warships

Any progress?
The gameparams was changed since I last looked at
## Post #758
- Username: kenwandou
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Tue Dec 02, 2014 1:08 pm
- Post datetime: 2016-08-24T14:46:20+00:00
- Post Title: Re: World of Warships

I can't download, connection failed. Help me.
## Post #759
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2016-08-27T17:45:32+00:00
- Post Title: Re: World of Warships

> Reply from kenwandou
>
> I can't download, connection failed. Help me.
Uploaded latest available version [here](https://yadi.sk/d/frUSmZU8uXnYt) (not for current game version).
## Post #760
- Username: kenwandou
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Tue Dec 02, 2014 1:08 pm
- Post datetime: 2016-08-30T14:07:08+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann
>
> kenwandou wrote:I can't download, connection failed. Help me.
Uploaded latest available version here (not for current game version).

Thank, you'vebeen most helpful.
## Post #761
- Username: kuarif
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Thu Sep 08, 2016 7:01 am
- Post datetime: 2016-09-07T23:11:38+00:00
- Post Title: Re: World of Warships

hi, maybe i too late for asking this because of never updated tool

but, is there a new tool like a plugin for blender or software to export model from this game ?

i've found one software to export model from WoWS but only bow of the ships that i can export to .obj

another file like stern, midback, midfront, has artifact glitch on the model
## Post #762
- Username: stVALVe
- Rank: beginner
- Number of posts: 20
- Joined date: Sun Apr 06, 2014 1:11 pm
- Post datetime: 2016-11-09T07:33:11+00:00
- Post Title: Re: World of Warships

I have this error when trying to load any ships from WoWs
[http://ybex.com/d/q0og7ejrbkj9yzk7mkswm ... jj3uq.html](http://ybex.com/d/q0og7ejrbkj9yzk7mkswmo1z1l1xss7m476jj3uq.html)

Can someone handle it?
## Post #763
- Username: Portugalotaku
- Rank: mega-veteran
- Number of posts: 164
- Joined date: Fri Oct 02, 2015 10:35 pm
- Post datetime: 2017-01-04T13:55:25+00:00
- Post Title: Re: World of Warships

I am having the same error. It seems the newer version of wows no longer uses visual models.
## Post #764
- Username: ebross67
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Fri Mar 04, 2016 1:42 am
- Post datetime: 2017-12-09T11:37:21+00:00
- Post Title: Re: World of Warships

What is being used to extract the .pkg file? Thanks.
## Post #765
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2017-12-10T09:19:32+00:00
- Post Title: Re: World of Warships

> Reply from ebross67
>
> What is being used to extract the .pkg file? Thanks.
"wows_unpacker_gui" tool.
But you don't need to unpack pkg's if you want to use WoT Model Editor B30.1.10, you need to download and install World of Warships 0.5.2.4 (optimal for editor) or 0.5.4.3 (0.5.4.2) (more ships, but new ones missing master XMLs for editor) - you can find those versions on torrent trackers like live-rutor.org.
In newer versions all .visual and .model files are compiled to single assets.bin file, which is totally unreversed atm (afaik).
Latest versions of game use newer format of .primitives, which can't be loaded by editor, even if you have all .visual and .model files for them.
## Post #766
- Username: Monstrofil
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Wed Jan 10, 2018 3:57 am
- Post datetime: 2018-01-09T20:07:10+00:00
- Post Title: Re: World of Warships

Is there any progress in reversing assets.bin?
## Post #767
- Username: soulbrother73
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sun Jan 24, 2016 7:47 pm
- Post datetime: 2018-01-09T23:15:33+00:00
- Post Title: Re: World of Warships

This site has the models , and it works well with ninja ripper. 
[https://gamemodels3d.com/](https://gamemodels3d.com/)
## Post #768
- Username: Portugalotaku
- Rank: mega-veteran
- Number of posts: 164
- Joined date: Fri Oct 02, 2015 10:35 pm
- Post datetime: 2020-10-16T00:26:05+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann ↑Sun Dec 10, 2017 5:19 pm at Sun Dec 10, 2017 5:19 pm
>
> 
ebross67 wrote:What is being used to extract the .pkg file? Thanks.
"wows_unpacker_gui" tool.
But you don't need to unpack pkg's if you want to use WoT Model Editor B30.1.10, you need to download and install World of Warships 0.5.2.4 (optimal for editor) or 0.5.4.3 (0.5.4.2) (more ships, but new ones missing master XMLs for editor) - you can find those versions on torrent trackers like live-rutor.org.
In newer versions all .visual and .model files are compiled to single assets.bin file, which is totally unreversed atm (afaik).
Latest versions of game use newer format of .primitives, which can't be loaded by editor, even if you have all .visual and .model files for them.

I am extremely sorry for the bump, but there is something I am curious about.
Namely, where do you find the information to create the xml files (especially the Gkids ones). I know some of the information is in the visual files, but not all of it.

Furthermore, at what version of the game did the primitives format change exactly?
## Post #769
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2020-10-17T05:20:45+00:00
- Post Title: Re: World of Warships

> Reply from Portugalotaku ↑Fri Oct 16, 2020 8:26 am at Fri Oct 16, 2020 8:26 am
>
> 
Namely, where do you find the information to create the xml files (especially the Gkids ones). I know some of the information is in the visual files, but not all of it.
It's in gameparams.data file, you'll need to un-pickle it before use, starting info is [here](https://forum.xentax.com/viewtopic.php?f=16&t=12567&p=110550#p110550), but later there are some changes in unpickling, due to encoding changes in game.
Latest versions of game gives error if you try to full unpickle gameparams.data - something changed again. (Update: found [this](https://github.com/EdibleBug/WoWS-GameParams) and it's ok now)

> Furthermore, at what version of the game did the primitives format change exactly?
After 0.5.4.3 (0.5.4.2) (they both have the same set of ship models), 0.5.5.0 and later gives error.
## Post #770
- Username: Portugalotaku
- Rank: mega-veteran
- Number of posts: 164
- Joined date: Fri Oct 02, 2015 10:35 pm
- Post datetime: 2020-10-17T21:15:49+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann ↑Sat Oct 17, 2020 1:20 pm at Sat Oct 17, 2020 1:20 pm
>
> 
Portugalotaku wrote: ↑Fri Oct 16, 2020 8:26 am
Namely, where do you find the information to create the xml files (especially the Gkids ones). I know some of the information is in the visual files, but not all of it.
It's in gameparams.data file, you'll need to un-pickle it before use, starting info is here, but later there are some changes in unpickling, due to encoding changes in game.
Latest versions of game gives error if you try to full unpickle gameparams.data - something changed again. (Update: found this and it's ok now)

Furthermore, at what version of the game did the primitives format change exactly?

After 0.5.4.3 (0.5.4.2) (they both have the same set of ship models), 0.5.5.0 and later gives error.

Thanks for the links, I greatly appreciate it.

Is that true about the version? A friend of mine had an extracted version of 0.6.4.1 that had the models functioning properly on import.
And if it's true, do you know anyone who might have older versions of the client backed up? Older even than 0.5.4.3.

Thanks anyways, the unpickler alone will help me greatly.
## Post #771
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2020-10-18T03:00:23+00:00
- Post Title: Re: World of Warships

> Reply from Portugalotaku ↑Sun Oct 18, 2020 5:15 am at Sun Oct 18, 2020 5:15 am
>
> 
Is that true about the version? A friend of mine had an extracted version of 0.6.4.1 that had the models functioning properly on import.
And if it's true, do you know anyone who might have older versions of the client backed up? Older even than 0.5.4.3.
Hm.. I'm not tested every ship, just couple, maybe got bad luck?..

Years ago i found some working trackers with old versions of WoWS (but not very old ones), make ships lists from them, but didn't keep most of them, because they have the same ships.

List is [here](https://docs.google.com/spreadsheets/d/1pkAWbSIWAClFtD6vwlFatMjYbkExHGEeMHDpNLTcc1M/edit?usp=sharing), updated with current version.

Also i found wows_30.84772_client.zip (exe version 0.3.0.19236) somewhere, but it doesn't contain any ships (whole folder is missing), but have "locations" folder and GameParams.data.
## Post #772
- Username: Portugalotaku
- Rank: mega-veteran
- Number of posts: 164
- Joined date: Fri Oct 02, 2015 10:35 pm
- Post datetime: 2020-10-18T15:37:51+00:00
- Post Title: Re: World of Warships

> Reply from Andrakann ↑Sun Oct 18, 2020 11:00 am at Sun Oct 18, 2020 11:00 am
>
> 
Portugalotaku wrote: ↑Sun Oct 18, 2020 5:15 am
Is that true about the version? A friend of mine had an extracted version of 0.6.4.1 that had the models functioning properly on import.
And if it's true, do you know anyone who might have older versions of the client backed up? Older even than 0.5.4.3.

Hm.. I'm not tested every ship, just couple, maybe got bad luck?..

Years ago i found some working trackers with old versions of WoWS (but not very old ones), make ships lists from them, but didn't keep most of them, because they have the same ships.

List is here, updated with current version.

Also i found wows_30.84772_client.zip (exe version 0.3.0.19236) somewhere, but it doesn't contain any ships (whole folder is missing), but have "locations" folder and GameParams.data.

Thanks for the list and might I ask where you found those trackers? I am looking for a copy of 0.6.4.1 myself, as the one I got from my friend consisted only of Japanese ships and he has since lost the full client.
## Post #773
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2020-10-23T14:35:28+00:00
- Post Title: Re: World of Warships

> Reply from Portugalotaku ↑Sun Oct 18, 2020 11:37 pm at Sun Oct 18, 2020 11:37 pm
>
> Thanks for the list and might I ask where you found those trackers? I am looking for a copy of 0.6.4.1 myself, as the one I got from my friend consisted only of Japanese ships and he has since lost the full client.
Trackers (rutor mirrors) can be found today too, with lots of game versions, but have no seeds...
