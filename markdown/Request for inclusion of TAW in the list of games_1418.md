## Post #1
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2005-07-31T03:23:53+00:00
- Post Title: Request for inclusion of TAW in the list of games

On behalf of all enthusiasts of TAW (Total Air War by DID) I would like to have two f22 and f22ur.dat files worked on and possibly opened. 

There is a 3rd file did.dat, which opened very smoothly using Rollercoaster Tycoon Css. I tried all dat options in latest MultiEx, but with no satisfactory result. Good news is that f22 and f22ur have only little over 3MB and did.dat more than 50. 

Thank you in advance for your kind consideration.
## Post #2
- Username: mono24
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2005-07-31T08:24:00+00:00
- Post Title: Request for inclusion of TAW in the list of games

Ok, well, is it possible to attach zipped versions of them here? Or you can email them (see [http://multiex.xentax.com](http://multiex.xentax.com) ) 
Also, read the Request information in my signature  

Thanks!
## Post #3
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2005-07-31T12:28:37+00:00
- Post Title: Request for inclusion of TAW in the list of games

Thank you for fast reply , sending files now.
## Post #4
- Username: HawkeyePierce
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Mon Aug 22, 2005 1:27 pm
- Post datetime: 2005-08-22T05:33:54+00:00
- Post Title: Request for inclusion of TAW in the list of games

were these files ever opened, i can't seem to find them, please excuse me if i'm being blind
## Post #5
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-01-04T00:37:13+00:00
- Post Title: Request for inclusion of TAW in the list of games

I would like, if  I may refresh, this request. Please let me know if you need dat files to be resent.  And the question: apparently big dat file containing wavs can be opened with Rollorcoaster Tycoon MEX , but the smaller files are more stuborn. Error comes that MEX exceeds the size of the archive file. What does this mean? Thank you for all your efforts Mr. Mouse.
## Post #6
- Username: mono24
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2006-01-04T08:33:56+00:00
- Post Title: Request for inclusion of TAW in the list of games

Yes, please send the examples of these files. I will certainly take a look at them.
## Post #7
- Username: friendsofwatto
- Rank: VVIP member
- Number of posts: 532
- Joined date: Wed Jun 30, 2004 10:01 pm
- Post datetime: 2006-01-04T12:14:12+00:00
- Post Title: Request for inclusion of TAW in the list of games

Assuming that you are referring to the game F-22 Total Air War (which is also commonly known as simply Total Air War), I have put the specs on the wiki...

[http://wiki.xentax.com/index.php?title=Total_Air_War_Z](http://wiki.xentax.com/index.php?title=Total_Air_War_Z)
[http://wiki.xentax.com/index.php?title= ... ir_War_DAT](http://wiki.xentax.com/index.php?title=Total_Air_War_DAT)

This covers the 2 main archives - the *.z files have an unknown compression though, and the *.dat files contain names but I cannot find any way to link a name to a specific file. ( Mr Mouse...? )

Plugins for these 2 archive types will be included in the next Game Extractor update.

WATTO
[watto@watto.org](mailto:watto@watto.org)
[http://www.watto.org](http://www.watto.org)
## Post #8
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-01-04T18:14:46+00:00
- Post Title: Request for inclusion of TAW in the list of games

Thank you for such a prompt reaction and reply. I believe that there were several incarnation or we may say versions of this simulation , the last of which was TAW. The one in WIKI I think refers to the previous version which was called F22 Dominance Fighter. TAW to my knowledge does not contain *.z format files.  Anyway I am now travelling , but as soon as I get home I send the DAT files. And thank you again.
## Post #9
- Username: KorNet
- Rank: VVIP member
- Number of posts: 444
- Joined date: Tue Apr 12, 2005 6:36 pm
- Post datetime: 2006-01-04T18:46:23+00:00
- Post Title: Request for inclusion of TAW in the list of games

Xela attach please small archive .. thx
## Post #10
- Username: mono24
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2006-01-08T16:40:36+00:00
- Post Title: Request for inclusion of TAW in the list of games

Xela, the DAT files you send were executables. 

Rename to .exe and you could start them, probably TAW executables.
## Post #11
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-01-13T18:28:42+00:00
- Post Title: Request for inclusion of TAW in the list of games

Than you mr. Mouse for this information. I have done as suggested and renamed it to exe. They do not run, however with hex editor I can see inside those two files are some graphics.
## Post #12
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-02-19T19:08:20+00:00
- Post Title: Request for inclusion of TAW in the list of games

Apparently this subject I must continue, as I have learned recently that main content of files is not in the files I submitted , but in other dat file size about over 62 MB. I thought that those 62 MB were just wav files which I have extracted easilly, but failed to check if the total of extracted files sums up to 62MB which of course it does not. So there is a some significant lot left here to discover. 

My 1st question: is there any ripper which after extraction of those wavs would remove them from the file, leaving me to deal with only the other remaining content which now so interests me?   

And 2nd question if I fail to open that how cna I send 62MB to you guys for some snooping.
## Post #13
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-02-24T21:48:45+00:00
- Post Title: Request for inclusion of TAW in the list of games

quote:
--------------------------------------------------------------------------------
 9:29:03 AM f22.dat:1968 READ D:\Program Files\DID\TAW\PROGRAM\did.dat SUCCESS Offset: 10881171 Length: 1024 
9:29:03 AM f22.dat:1968 READ D:\Program Files\DID\TAW\PROGRAM\did.dat SUCCESS Offset: 10882195 Length: 1024 
9:29:03 AM f22.dat:1968 READ D:\Program Files\DID\TAW\PROGRAM\did.dat SUCCESS Offset: 10883219 Length: 1024 
9:29:03 AM f22.dat:1968 READ D:\Program Files\DID\TAW\PROGRAM\did.dat SUCCESS Offset: 10884243 Length: 1024 
9:29:03 AM f22.dat:1968 READ D:\Program Files\DID\TAW\PROGRAM\did.dat SUCCESS Offset: 10885267 Length: 1024 
9:29:03 AM f22.dat:1968 READ D:\Program Files\DID\TAW\PROGRAM\did.dat SUCCESS Offset: 10886291 Length: 1024 
9:29:03 AM f22.dat:1968 READ D:\Program Files\DID\TAW\PROGRAM\did.dat SUCCESS Offset: 10887315 Length: 1024 
9:29:03 AM f22.dat:1968 READ D:\Program Files\DID\TAW\PROGRAM\did.dat SUCCESS Offset: 10888339 Length: 1024 
9:29:03 AM f22.dat:1968 READ D:\Program Files\DID\TAW\PROGRAM\did.dat SUCCESS Offset: 10889363 Length: 1024 
9:29:03 AM f22.dat:1968 READ D:\Program Files\DID\TAW\PROGRAM\did.dat SUCCESS Offset: 10890387 Length: 1024 
9:29:03 AM f22.dat:1968 QUERY INFORMATION D:\Program Files\DID\TAW\PROGRAM\winfonts\f22_1.ext SUCCESS Attributes: A 
9:29:03 AM f22.dat:1968 OPEN D:\Program Files\DID\TAW\PROGRAM\winfonts\f22_1.ext SUCCESS Options: Open Access: All 
9:29:03 AM f22.dat:1968 QUERY INFORMATION D:\Program Files\DID\TAW\PROGRAM\winfonts\f22_1.ext SUCCESS Length: 49132 
9:29:03 AM f22.dat:1968 QUERY INFORMATION D:\Program Files\DID\TAW\PROGRAM\winfonts\f22_1.ext SUCCESS Length: 49132 
9:29:03 AM f22.dat:1968 CLOSE D:\Program Files\DID\TAW\PROGRAM\winfonts\f22_1.ext SUCCESS 
9:29:03 AM f22.dat:1968 QUERY INFORMATION D:\Program Files\DID\TAW\PROGRAM\winfonts\f22_2.ext SUCCESS Attributes: A 
9:29:03 AM f22.dat:1968 OPEN D:\Program Files\DID\TAW\PROGRAM\winfonts\f22_2.ext SUCCESS Options: Open Access: All 
9:29:03 AM f22.dat:1968 QUERY INFORMATION D:\Program Files\DID\TAW\PROGRAM\winfonts\f22_2.ext SUCCESS Length: 38616 
9:29:03 AM f22.dat:1968 QUERY INFORMATION D:\Program Files\DID\TAW\PROGRAM\winfonts\f22_2.ext SUCCESS Length: 38616 
9:29:03 AM f22.dat:1968 CLOSE D:\Program Files\DID\TAW\PROGRAM\winfonts\f22_2.ext SUCCESS 
9:29:03 AM f22.dat:1968 CLOSE D:\Program Files\DID\TAW\PROGRAM\did.dat SUCCESS 
9:29:03 AM f22.dat:1968 READ D:\Program Files\DID\TAW\PROGRAM\F22.DAT SUCCESS Offset: 1860608 Length: 8192 
9:29:03 AM f22.dat:1968 READ D:\Program Files\DID\TAW\PROGRAM\F22.DAT SUCCESS Offset: 1872896 Length: 24576 
9:29:03 AM explorer.exe:1404 QUERY INFORMATION D:\Program Files\DID\TAW\PROGRAM\_f22.exe SUCCESS Attributes: A 
9:29:03 AM f22.dat:1968 CLOSE D:\Program Files\DID\TAW\PROGRAM SUCCESS 

--------------------------------------------------------------------------------

[/quote]

Here is my attempt to discover what is hidden in TAW.dat file. What you see above is the end of File Monitor log file recording every bit of data the program reads from dat file before it starts. As the log indicates there is about 15000 entries in varius chunks, but mostly small amounting 1024 bytes. The above is the targets part, the terrain, sound, speech, and other graphics was much earlier. I do not know yest what this chunk carries - hopefully I'll find out this one the end.  

Any comments?
## Post #14
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-02-24T21:50:12+00:00
- Post Title: Request for inclusion of TAW in the list of games

This what you can get by just browsing huge 64MB dat file with hex editor in graphic form patiently adjusting hex per row value until something shows. I do not know what that is - probable music, but I can see some other "recognizable" formations of bytes, or as shown in this example bytes represented by pixels. 

PSYCHODELIC
## Post #15
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-02-24T21:51:17+00:00
- Post Title: Request for inclusion of TAW in the list of games

I have made Excel spreadsheet from the file monitor log to see what can be extracted. 
I have noticed somewhere in the middle that the program closed and opened did.dat file. I have marked this place in red and green (like a street lights:))

Let us see what can we extract here. Notice that the file is read as follows: chunk of 24576 (5x 4096)bytes contineously and then intermitently 8 x 4096 bytes from 2 different places. 

This is the reason some of the stuff cannot be readily recognised on the graphis interpretation of file in Hex Editor. The files are possibly "stitched" from different places - stripe after stripe.
## Post #16
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-02-24T21:51:59+00:00
- Post Title: 

Small "thinking alaud" observation: 

as it transpires from the loading sequence shown on the spreadsheet above after loading 5 chunks 4096 each in the row (yellow), program makes the break of 3500 bytes and lays first 4096 bytes of (orange). 

But strangely , then moves back to offset 7139924 and lays another 4096 chunk of data. So as you can see 4096-3500=596 bytes of yellow gets ovelapped and overlayed with orange.

Actually all orange data gets overwritten by yellow. 

Just thinking aloud ....
## Post #17
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-02-25T03:18:08+00:00
- Post Title: 

The "psycodelic" file on the previous page is definetely a wav file. 
I have succeded to open and extract 21.3 MB (sound and music)  out of 64.4MB total , leaving   77% for other interesting things there. 
HELP! please.
## Post #18
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-02-26T01:55:57+00:00
- Post Title: 

Using MultiEX *.dat for Rollocoaster Tycoon I suceeded to open all TAW's sfx wavs and midis with music. I know all of the offsets pertaining to this block of data.  At this stage of my GRA "experience"  for me to deal with the rest of the file is little too hard.  Therefore I would like to submit this dat file for exam but it has 62 MB. 

How can I submit it to you and can I? Many thanks in advance.
## Post #19
- Username: mono24
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2006-02-26T08:57:23+00:00
- Post Title: 

The contents of this post was deleted because of possible forum rules violation.
## Post #20
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-02-26T12:39:14+00:00
- Post Title: 

Thanks Mr. Mouse a lot. I'll send the file as soon as possible and let you know. 

Using file monitor other offsets can be also seen and it shows in what chunks the game takes it when it starts. However, just to get to the first screen (no action yet) and quit that approx. 15K line items and chunk  READS is over 10K. Some of the chunks are much larger than 1024 and perhaps those are bigger and more important chunks of data. 

I know that after is loaded nothing else remains "externaly" so just this process of startup all important adresses of data blocks are used and hence they are clearly spelled out and listed by Filemon. 

This to emphasise the importance of using Filemon program as a excellent road map finder for exploring how the game works. But effectively using that road map and trying to piece up all those chunks by hand is too big of the task. Is there any other way?
## Post #21
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-02-26T13:07:01+00:00
- Post Title: 

The file is now available: 
[http://rapidshare.de/files/14179699/did.rar.html](http://rapidshare.de/files/14179699/did.rar.html)
Thanks again.
## Post #22
- Username: mono24
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2006-03-05T21:13:21+00:00
- Post Title: 

```
SavePos TOO 0 ;
Get Tail Long 0 ;
GoTo Tail 0 ;
Get ResNum Int 0 ;
Get DNum Int 0 ;
Get ENum Int 0 ;
Get SSize Int 0 ;
SavePos J 0 ;
Math J += SSize ;
GoTo J 0 ;
For T = 1 To ResNum ;
Get U1 Long 0 ;
SavePos FOO 0 ;
Get FO Long 0 ;
SavePos FSO 0 ;
Get FS Long 0 ;
Log "" FO FS FOO FSO ;
Next T ;

```


With this script you can open the dat file and extract all files (without real filenames, as the names are not saved in the dat file in a way that I understood completely). I will have to test whether replacement of files is also working. I will get back on that. More details later. You can use MexBinder in the MexCom dir to start the Scriptor and save the script as a BMS file. Or just get the BMS file below. Use it in the Custom BMS option to open the dat file.
[dat.zip](https://xentaxbackup.github.io/file/630_dat.zip)
## Post #23
- Username: mono24
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2006-03-05T21:18:30+00:00
- Post Title: 

By the way, these are probably the extensions of the files in the archive. 

```
.hud..ian..ins..rog..dmo..taw..sjp..fig..icd.
.sav..gd2..brf..lst..smk..col..fad..fnt..ext.
.lbm..iff..pcx..4e2..4ev..asc..env..map.
.trg..wld..lab..opt..ssd..pak..pdl..udl..mdl.
.kdl..cdl..tcs..hlp..hpj..sss..act..raw..wav.
.bnk..sam..bin..idx..mds..rst..sf2..ok..13.
.tm..in..fn..sh..pk..4..5..3..6
```


So you know what to expect at least.
## Post #24
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-03-06T17:03:09+00:00
- Post Title: 

How could I missed that? Many many thanks Mr. Mouse Sir...
## Post #25
- Username: MGonzales
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Tue Mar 07, 2006 6:54 am
- Post datetime: 2006-03-06T23:20:33+00:00
- Post Title: 

Mr. Mouse, I want to thank you for helping Xela, and thank Xela for his persistence with "unlocking" and possibly improving DID's TAW (Total Air War).

I've been playing TAW for only a few months and I've never had so much fun with a flight sim, or any game for that matter! But there is at least one well known major flaw with the game, the massive re-spawning of aircraft. That, and some minor D3D graphical glitches (not surprising for an 8 year old game).

If there was ever a case where "They just don't make them like they use to", that's what TAW is to me compared with most current flight sims!

This thread is currently way over my head but I'll continue lurking and maybe learn something from it.

Thanks again for efforts Mr. Mouse! 
--


Mark
## Post #26
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-03-08T15:46:10+00:00
- Post Title: 

Thanks again for all this effort to unloack TAW. All working , but here is what is happening:

noname_1 size 104 offset 45962634
noname_2 size 315 offset 18988574
noname_3 size 16508 offset 12859856 
noname_4 size 18445 offset 12876364
and so on ......


File noname_1 and many others do not want to open and extract and flag Corrupted File Message and when extract operation is attempted the following error appears: 

"MEX File to extract exceeds archive size SIZE+OFF>TL TL=18988574"
I have noticed that TL is always the offset of the following file on the list above in this particualry example that of the "noname_2". 

So is this some sort of compressions going on here or chunks? And BTW, more general and perhaps OT question,  what determines the sequence of the files on the main Open GRA list as the one above - it is not the size, not the offset, so I guess not the location in main dat file? What is it? 

There are other files in that DAT file which open they are RIFF and RA  and some text files. RIFF even plays when clicked with no extraction or extension assigned , RA does not not, but I know that when renamed to *.wav it does.
## Post #27
- Username: mono24
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2006-03-08T16:49:47+00:00
- Post Title: 

Nope. In Options you should uncheck the Check File Ascending checkbox. Then try again.
## Post #28
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-03-08T22:35:22+00:00
- Post Title: 

Yeep that helped and all files have been extracted. 12588 to be exact. However, the search just only begun.  I will be coming back with more questions as soon as I gather some more informations. 

But before that, I wanted to mention there were many more files in "unextracted" GRA before I unchecked the option  of Check File Ascending. About 15000 plus, however most I could not open. Now there are fewer number of files, but the result is positive. Is it normal , or I have lost some chunks ? 

What determines sequence of "noname_XXX" files ?
## Post #29
- Username: mono24
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2006-03-08T22:57:45+00:00
- Post Title: 

That is odd, cause that's actually impossible. The File info Ascending check has nothing to do with the numer of resources in an archive.
## Post #30
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-03-09T00:51:34+00:00
- Post Title: 

Sorry my mistake. In both instancies there is same # of files 12588. Omnipresent is file with RA identification stamp. It is I am afraid custom compressed, or encrypted, (or both) resource file. Perhaps someone knows what RA files from somwhere else?
## Post #31
- Username: Strobe
- Rank: Moderator
- Number of posts: 411
- Joined date: Mon Oct 24, 2005 3:52 pm
- Post datetime: 2006-03-10T18:52:21+00:00
- Post Title: Hi

hi there.

That fat 62mb data file is packed with PCX images and some ILBM pictures.
in case you havent seen it =o

thanks to this big file ive found a flaw in my Jaeder Naub that
would infact render all images ripped from this archive useless due to
faulty length calculation. so...now i have to ask...

What is a good way to calculate the length of an PCX image?
all readers out there are piccy as hell, if they so differ 1 byte from
the original file they become "Unreadable".

Edit: PCX issue fixed. (atleast for these files)

Now ive found a new type of RIFF ive never seen before, MIDSfmt?
anyone know what these are?

I didnt get so much smarter by googling on it....
## Post #32
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-03-10T20:22:35+00:00
- Post Title: Hi

> Now ive found a new type of RIFF ive never seen before, MIDSfmt? anyone know what these are?
RIFFS are wavs and MIDs are being worked on , but probable ether music or video clips. But tell me , tell me please how to dig out those PCX s and LBMs?  Are the PCX with ASCI Stamp "RA"?
## Post #33
- Username: Strobe
- Rank: Moderator
- Number of posts: 411
- Joined date: Mon Oct 24, 2005 3:52 pm
- Post datetime: 2006-03-10T20:45:10+00:00
- Post Title: Hi

Here is how my analyzation went on the PCX data.
The tricky part is that there is no Length Header at all, and if
you make the slightest mistake in ripping them, no reader will
parse them. (yes i know, it sucks)


if you just want to rip them out quickly, you can use Jaeder Naub.
[http://jaedernaub.ath.cx](http://jaedernaub.ath.cx)

the archive contains RIFF MIDS, RIFF WAVE, PCX, ILBM and SF2 Banks.
so be sure to have these options clicked if ripping.

My guess is that RIFF MIDS are Midi files of some sort, that uses the SF2 Banks for the sounds. (as SF2 banks are midi sounds). Have fun!
[pcx.gif](https://xentaxbackup.github.io/file/648_pcx.gif)
## Post #34
- Username: Strobe
- Rank: Moderator
- Number of posts: 411
- Joined date: Mon Oct 24, 2005 3:52 pm
- Post datetime: 2006-03-10T20:49:55+00:00
- Post Title: Hi

LBM bitmaps are much easier to rip than PCX.

LBM starts with 
byte 1-4 = FORM
byte 5-8 = Length header  <-- Motorola byte order!!!
byte 9-12 = ILBM

use the Length header and add 8 to the value, and you have the whole image.
( ....i think it was add 8....not 4? ...nah...8..try? ..maybe gahh)   


the sad thing is that Photoshop does NOT read ilbm bitmaps, you will need
an external program or plugin for them.
## Post #35
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-03-10T21:39:22+00:00
- Post Title: Hi

Good job, I study and I rip them too. 
LBM is read by Irphanview. 
I just hope that those files which start with RA can be figured out too. I think they are compressed or something else. I did not make full inventory of those 12588 files found in did.dat , but I am afraid that PCXs and LBMs are small part of it. There are also  some probable graphic files  37 KB in size. I do not have their stamp now but those files are: 
noname 4336 , 1343, 7681, 7731, 7647, 1514, 4991 and perhaps still more.  If you can please take a look at them , from what I am thinking it could be tiles for the terrain . They open in RAW format header 12 and width 80  (8 bit), but they are still ???    

here are those RA enigmas - just 4 randomly chosen , but there are many of them in total
## Post #36
- Username: Strobe
- Rank: Moderator
- Number of posts: 411
- Joined date: Mon Oct 24, 2005 3:52 pm
- Post datetime: 2006-03-10T21:46:01+00:00
- Post Title: Hi

A little notice.
alot of the PCX files i ripped where 37kbs big, so that could be them.
Ill try see what i can make out of the RA files now! =o   *stay tuned, now for commercial*
## Post #37
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-03-11T02:14:08+00:00
- Post Title: Hi

Strobe,
I have opened and extracted all files with your program. 
ILBMs I cannot open in Irphanview. 
PCXs are not the pictures or maps I was talking about above. These extracted now were simple menu, cut screens and title pictures. There must be much more textures in the game besides that. 
Found also  3 files of *.sf2 format. I think they are sound or music files.
## Post #38
- Username: Strobe
- Rank: Moderator
- Number of posts: 411
- Joined date: Mon Oct 24, 2005 3:52 pm
- Post datetime: 2006-03-11T11:52:11+00:00
- Post Title: Hi

This is frustrating :X

So now the ILBMs are crunched aswell, same as with the RA (???).
we know that there are ILBM bitmaps, because
they have the same markers, so it is definitely an ILBM
file. except for that it looks packed.

And yes. i think with the music is like this:
RIFF MIDs file = Music Sheet
SF2 Banks      = Instruments used for the MIDs files.
[newilbm.gif](https://xentaxbackup.github.io/file/649_newilbm.gif)
## Post #39
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-03-11T12:37:27+00:00
- Post Title: Hi

Great work Strobe, 
looking at string dump from did.dat I remember seeing even some listing of lbm files. I cannot look for that now but later in the evening I'll try. 

Did you crunch RA files? What are they? 

Also if you come accross  *.ssd files . I suspect they are sort of shape files like Longbow2 with textures embeded in those files. 

TAW generally was well known from the stuborness of giving away its secrets. For the entire period of game lifetime no one so far came close really to unlock the files. Talks and gossips were about special tool used to encrypt files withing the files, but I do not really buy that?  Some clues perhaps could be found in earlier EF2000, F22_adf and later Typhoon , all by the same company. I have EF2000 but I did not yet look there. 

So we are climbing pretty steep mountain .
## Post #40
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-03-11T12:46:01+00:00
- Post Title: Hi

This could be of some relevance and help. Independence WAR 2 It is also by ATARI after DID team was no longer. Could be by some of the same people. 

[http://www.i-war2.com/modder_5.htm](http://www.i-war2.com/modder_5.htm)

[http://en.wikipedia.org/wiki/ILBM](http://en.wikipedia.org/wiki/ILBM)
## Post #41
- Username: Strobe
- Rank: Moderator
- Number of posts: 411
- Joined date: Mon Oct 24, 2005 3:52 pm
- Post datetime: 2006-03-11T13:12:39+00:00
- Post Title: Hi

atleast one more value is distinguished =o

and im about 99% sure of this, as it follows the same rule on every file.
this value is always Higher than the file length itself, so it must
be a "Depacked Length" value.
[raaa.gif](https://xentaxbackup.github.io/file/650_raaa.gif)
## Post #42
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-03-11T23:43:25+00:00
- Post Title: Hi

Outstanding ! And great work Holmes, err .... I mean  Strobe.
## Post #43
- Username: Strobe
- Rank: Moderator
- Number of posts: 411
- Joined date: Mon Oct 24, 2005 3:52 pm
- Post datetime: 2006-03-12T01:21:44+00:00
- Post Title: Hi

Now just someone have to make an depacker for it 
(now this is the tricky part!!) :X


but hopefully in about 32 years when somebody made the unpack
algoritm we can possibly apply it on the ILBM files aswell =D
## Post #44
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-03-12T01:49:14+00:00
- Post Title: Hi

With LBM it could be perhaps even simplier. Here is what I have to report: 

I have installed EF2000 earlier DID's game; 
*it has also DID.dat which CAN be open with MultiEX TAW.bms  (over 8000 files) ;
*that EF2000's did .dat carries  all similarity to  TAW's did.dat it has RA files, LBM files, RIFF, and text files,  and others perhaps those graphics ;

*but the surprise was when LBM files (those with FORM) stamp after simply RENAMING to *.lbm  OPENED clear and perfect in Irphanview.  

*same with RIFF when renamed to *.wav  play the sound (but that we knew already) 

I am going now back to TAW to fish out those FORMs and see if after renaming them I can also view them in Irphanview.


EDIT: half an hour later I am still trying to find those "FORMs" , but I confirm that those 39KB graphics whixh I was suspecting to be a terrain tiles are simply .... PCX pictures, exactly those found with your ripper.  Here in MultiEx one needs to extract them and rename to *.pcx.
## Post #45
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-03-12T02:31:05+00:00
- Post Title: Hi

Wouldn't that be wonderfull if "RA" files were RARs ad renaming them was the whole "trick"? 
Naaah ....  I tried that already and that would be ....flat and boring.
## Post #46
- Username: mono24
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2006-03-12T07:42:52+00:00
- Post Title: 

> Reply from Xela
>
> 
I have installed EF2000 earlier DID's game; 
*it has also DID.dat which CAN be open with MultiEX TAW.bms  (over 8000 files) ;

AH! Good to know! So I can add that to the list of supported games.
## Post #47
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-03-12T13:24:45+00:00
- Post Title: 

Yes , I can confirm that. Probably also this BMS could be compatible with F22_ADF  immediate predecessor to TAW , and even Typhoon the successor (50/50 chances here) , but not having  those files I cannot say for sure.
## Post #48
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-03-12T17:30:09+00:00
- Post Title: 

I have uploaded 2  what I am considering somehow unusual files found among many in did.dat . I call it an Asterix and it has a "noname" sequence number 734. There are few others , similar seeded in the dat file , but they always followed by what I call "no marker file". Asterix file is best viewed in 42 bytes per row and it aapears to be some kind of a table   


[http://rapidshare.de/files/15333013/734Asterix.zip.html](http://rapidshare.de/files/15333013/734Asterix.zip.html)
## Post #49
- Username: bored
- Rank: beginner
- Number of posts: 28
- Joined date: Mon Mar 13, 2006 4:03 am
- Post datetime: 2006-03-12T20:19:32+00:00
- Post Title: 

I'm a newbie at this but I'd like to join in since I have both TAW and ADF..and a newly registered version of multiex.
How do I start? There is a script earlier in this thread which I guess I need to use ,but what do I do with it?
## Post #50
- Username: bored
- Rank: beginner
- Number of posts: 28
- Joined date: Mon Mar 13, 2006 4:03 am
- Post datetime: 2006-03-12T21:31:08+00:00
- Post Title: 

OK, up and running now...Not sure what went wrong before.
I see what you mean with the RA files. Some of these files have some truncated plain text in them, as if there is some interleaving going on.
## Post #51
- Username: bored
- Rank: beginner
- Number of posts: 28
- Joined date: Mon Mar 13, 2006 4:03 am
- Post datetime: 2006-03-13T01:11:02+00:00
- Post Title: 

In the RA files I was expecting  the first 10 bytes (up to the 7D) to be unique, however this is not the case. noname7414 and 7417 have the same header.
It is also maybe interesting to note that noname7414 is identical to noname8877 from ADFs did.dat file.
## Post #52
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-03-13T03:42:07+00:00
- Post Title: 

Bored, 
I am glad you have joined this hunt.  ADF and TAW have probable very similar dat file. EF2000 has quite close , but not exactly. And I was told that EF2K, ADF, TAW is just evolution of the same engine. 
In RA header (possibly 10 bytes) 2nd and 3rd word are different . Strobe is suggesting earlier that it is length of unpacked file. I would also suggest some sort of identification must be there, because the game engine must be able to sort those files apart. 

Please take a look at that 734asterix file I posted above. It may be hard to unpeel the secret of RA because it is no much to go on. But it could be fun to try it.
## Post #53
- Username: bored
- Rank: beginner
- Number of posts: 28
- Joined date: Mon Mar 13, 2006 4:03 am
- Post datetime: 2006-03-13T19:04:45+00:00
- Post Title: 

I haven't really got a clue about the 734 file. It looks like some form of hash table, but there's not really a lot to go on.
## Post #54
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-03-13T19:45:29+00:00
- Post Title: 

Just a completely unfounded and wild guess.... 
Looking at the way the game reads the files (look at the shot of the spreadsheet on the 1st page of this thread towards very bottom) one can see that the game reads  first the block of data -yellow. And then comes back and overlays it again with another -brown. What I am trying to suggest that perhaps RA file (if that is RA file which is being read there) is sort of "laced" structure where the empty spaces are being filled later on at the 2nd pass. 
Just as I say ... wild guess and unsubstantiated suggestion.
## Post #55
- Username: bored
- Rank: beginner
- Number of posts: 28
- Joined date: Mon Mar 13, 2006 4:03 am
- Post datetime: 2006-03-14T08:57:45+00:00
- Post Title: 

I've been thinking along the same lines. I counted about 12300 files which are read from the dat file by the game if it is run until the main menu.
I think the MultiEx program finds 12588 files and I've been trying to match up these two sources of information.
A problem I have is that I can't seem to export the 'table of contents' from MultiEx into a text file. This option seems to be greyed out if I run the custom .bms file that I downloaded from the link in page 2 of this thread. 
Anyway, do you know why MultiEx does not find a file starting at offset 0?
The lowest I see is 12.
There are about 10 reads to the dat file before the login screen. These don't seem to be chunks of 1024 bytes like most of the later reads, but I, as yet, can't match these offsets or sizes with the output from MultiEx.
## Post #56
- Username: mono24
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2006-03-14T09:11:58+00:00
- Post Title: 

Answering your MultiEx Commander questions: 

* Add the BMS file to the MRF using the Add BMS to MRF option, then the TOC  export function should work. 

* There is no file starting at 0 because there is no resource there. Bytes 0-12  are part of the archive header and have nothing to do with the resources saved in the archive.
## Post #57
- Username: bored
- Rank: beginner
- Number of posts: 28
- Joined date: Mon Mar 13, 2006 4:03 am
- Post datetime: 2006-03-14T09:40:35+00:00
- Post Title: 

Wow, swift answer!

I think I might have tried adding the BMS to MRF but got an error message. I'll get back to you with the details. It's almost certainly RTFM trouble on my part.

Thanks for the information regarding the archive header. I've haven't really dealt with with this sort of stuff beforem, so I was expecting to be able to add up the sizes of the files found by MultiEx and get exactly the same value as the dat file stored on disk. It seems to be a bit more complicated than that.
## Post #58
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-04-11T20:12:58+00:00
- Post Title: 

I just wanted to let you know that this push to unlock TAW files paid off and thanks to combined efforts of ours and other TAW enthusiast Kruz we can enjoy now nearly completely unlocked and decompressed files . It took close to over 7 years as the game was made in late 1998. 
Here : 
[http://www.simhq.com/simhq3/sims/boards ... 4;t=001088](http://www.simhq.com/simhq3/sims/boards/bbs/ultimatebb.php?ubb=get_topic;f=64;t=001088)

It is just the begining, but it looks promising and for all simulation enthusiasts who perhaps do not know TAW I can say that it is perhaps one of the best if not the BEST simulation featuring so many things in 1998 being ahead of its time that even now is hard to beat as far as certain elements of gameplay and dynamic campaign and AI are concerned. 
I wholeheartedly recommend it and invite to further adventuring and discovery. 

PS. Polak = Xela = yours truly
## Post #59
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-04-14T12:38:49+00:00
- Post Title: 

This journey into the TAW _land picks up the speed as after the unlocking and decompressing files there are only few more "disguised" and "secret" file formats left. The walls of secure dat file have first cracked, then crumbled and now slowly are durning up to fine dust. 

In the next installment we just have figured out yesterday, that textures *.tm files open easily as RAW 256x192 single channel and *.col files which turning out to be *.act palette files perfectly good with Photoshop. So at this juncture all flat graphics are out. BTW - good guess STROBE about that length of decompressed RA file. However, RA files have been all opened using decompression routine from the main program.  What that guess helped me with is the assumption that 768 length of file must be probable a palette 256x3 (RGB) - which it was.  

We still may need help trying to uncover what are those :
- "3" files (3D models of vehicles and planes)  
- "SSD" files (I suspect they are 3D models for scenery and targets)  
- "SH" shape files (I think they are 0deg 45deg etc. sprite 3D object views for IR MFD) 
among few other little things   

Thanks a lot for help from this forum so far.
## Post #60
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-04-14T22:41:07+00:00
- Post Title: 

This could be a tough one   After conquering dat compression and  RA compression here are 3 more file formats to beat :
"3"  models 
"ssd" ??? do not know
"sh"  probable simplistic silhuette view for cockpit IR monitor

All are in formats not known to any civilised converter or viewer. I have also run the files through TRID online without conclusive results. I have uploaded example of all three files for F15  and for examination:
[http://rapidshare.de/files/18029218/F15.zip.html](http://rapidshare.de/files/18029218/F15.zip.html)

How many obstacles and stumbling blocks one can encounter in one game?
## Post #61
- Username: bored
- Rank: beginner
- Number of posts: 28
- Joined date: Mon Mar 13, 2006 4:03 am
- Post datetime: 2006-04-15T08:38:53+00:00
- Post Title: 

Damn, I still haven't had the time to try out krus/krusade's program. Although the at the rate that you're going Xela, I may not need to.
## Post #62
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-04-15T10:22:48+00:00
- Post Title: 

> Damn, I still haven't had the time to try out krus/krusade's program. Although the at the rate that you're going Xela, I may not need to.
But sure I am glad you are around. Do not worry there is plenty of stuff there to bite your teeth into. Like this   
BTW this   looks like it belongs to that green guy above.
## Post #63
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-08-02T01:29:52+00:00
- Post Title: 

I decided to give you small update whats happening on this front.  I am glad to report that with some members of simHQ TAW forum we undertook quite interesting excursion into the Hex world of TAW's 3D files. Here: 

[http://www.simhq.com/simhq3/sims/boards ... 4;t=001237](http://www.simhq.com/simhq3/sims/boards/bbs/ultimatebb.php?ubb=get_topic;f=64;t=001237)

Not much of a progress yet, but what initially appeared terrible muble jumble,  after some careful and  repeated reformating in notepad revealed quite recognisable patterns.  Here goes my special Tip of The Hat to Mr. Mouse and others here on this forum for their very insightfull PDF "Guide to exploring file formats". This is the document which thought me how to approach each hex file and simply look, look and then LOOK some more until you can see something there.  

I hereby invite all who want to assist in this adventure together. And thanks.
## Post #64
- Username: mono24
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2006-08-02T06:41:28+00:00
- Post Title: 

Thanks, Xela, you've done some cool work there!
## Post #65
- Username: bored
- Rank: beginner
- Number of posts: 28
- Joined date: Mon Mar 13, 2006 4:03 am
- Post datetime: 2006-09-11T21:50:51+00:00
- Post Title: 

Even though a lot of progress has been made, I still have some questions regarding this game:
Using Multiex it is possible to extract 12588 files although there are no names attached to them. Where are the filenames likely to be stored? in the .dat file itself or the game .exe? 
On page 2 of this thread Mr.Mouse lists some likely file extensions....where do these come from?

...and a more general question. Is it possible that the .exe itself contains separate files that can be extracted...or does the Windows PE format not permit this?
## Post #66
- Username: mono24
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2006-09-11T22:52:46+00:00
- Post Title: 

I've been unravelling so much archive formats that I can't readily trace what I did in this instance. I'm sure it's all pretty nifty or straightforward, but I will have to see exactly what I did to uncover those file extensions. :/
## Post #67
- Username: bored
- Rank: beginner
- Number of posts: 28
- Joined date: Mon Mar 13, 2006 4:03 am
- Post datetime: 2006-09-12T21:06:57+00:00
- Post Title: 

....but it was only six months ago!

It's your activity on March 5th 2006 I'm interested in. You provided the script to extract files from the DID.dat file and then suggested what the file extensions were, most of which have turned out to be correct.

I know it was a long time ago but I was wondering if you have any general advice about where to find filenames associated with an archive when they are buried, in this case, a '.dat' and/or .exe files.
## Post #68
- Username: bored
- Rank: beginner
- Number of posts: 28
- Joined date: Mon Mar 13, 2006 4:03 am
- Post datetime: 2006-10-07T12:07:06+00:00
- Post Title: 

Latest TAW news......

Well, the question above can be ignored since it seems the filenames are created 'on the fly' from various sources.

Interestingly, the area of DID.dat containing the strings for the file structure and extensions (from offset 3cc22ae) is not identified as part of a file by Multiex.

At the moment we have an excellent extractor from Krus which gives us information on most of the 'active' files in the game. This allows us to play the game without DID.dat...but does crash when a missing file is needed.

At the moment this extractor gives us 9804 files for a total of about 31MB. However, Multiex (not version 4.3) finds 12588 files for a total of about 56MB, but without filenames. The total size of DID.dat is just under 64MB.
The Multiex total was obtained by adding up the file sizes from the list it produced. If this is a valid mehod we have lost about 8MB somewhere.

Many of these missing files may not be used at all by the game and could be relics from previous DID games...I'd like to know for sure though.

One thing that would be helpful is to understand how the 'RA' compression system used by DID works. Thanks to Krus and Multiex we now have examples of compressed and uncompressed versions of the same file.

I've attached an example here if anyone wants to take a crack at identifying the type of compression used.
Seq4.dat is the uncompressed file and noname11427 is compressed.
[TAW_question.zip](https://xentaxbackup.github.io/file/893_TAW_question.zip)
## Post #69
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-10-09T04:22:06+00:00
- Post Title: 

About large DAT  files ...
I remember case of Gunship! CAT file, where Mr. Mouse gave us too an opener in MultiEx. It had also many items of legacy from M1Tank Platoon 2, eventhough we were hoping to find more than it really was there. 
Since M1Tank Platoon has been cancelled there was suspicion and hope that many development files could be hidden in Gunship!. It turned out not to be, but the hope and anticipation was high. 

Thank you Mr. Mouse for your input and opening that CAT file. Perhaps we can count this time again on you and others to help us with this RA compression.
## Post #70
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-10-09T14:30:02+00:00
- Post Title: 

But meanwhile, why not to take a look at those files. I bet that I maybe repeating somone elses steps or for experts like guys here this puny attempt below may really look like baby steps. But still..... 

I looked them over in Hex Editor and see the they are 50% compressed. Some of the elements and strings found in  the compressed form are clearly visible in uncompressed form. Since I am a human   I tried to read them in text form. I try to format the compressed part as much as I can to conform the shape and format of uncompressed one and then switch to the hex numbers to look for some relevance if any. 
NOTE: the compressed format is in very rough shape just to give the idea. Further refinement and identification of characters may be necessary.  

First this file in uncompressed form:


> ; Must be in this order!
>
> 
>
> ; "Hash"		(VIEW CALL NAME)
>
> ; NAME		(Displayed Name)
>
> ; KEY			(F?)
>
> ; REPEAT		(on/off)
>
> ; VIEW-NAME	TIME/secs	MAXDIST/feet
>
> ; :				:				:
>
> ; :				:				:
>
> ; END
>
> 
>
> # HIT_L_FLYBY
>
> Name			"SEQ"
>
> Key			NONE
>
> Repeat		ON
>
> HIT_FLYBY  	4 3000
>
> END
>
> 
>
> # MISSILE_SEQ
>
> Name			"SEQ"
>
> Key			NONE
>
> Repeat		OFF
>
> MISSILE_VIEW_1   	4 0
>
> MISSILE_MOVE   	4 0
>
> END
>
> 
>
> # LOOP_FLY_BY
>
> Name 	 				"LOOP FLYBY"
>
> Key  					SF6
>
> Repeat				ON
>
> FLYBY					4	4000
>
> END
>
> 
>
> # PV_LOOP_FLY_BY
>
> Name 	 		"PADLOCK LOOP FLYBY"
>
> Key  			SF10
>
> Repeat		ON
>
> PV_FLYBY		10	2000
>
> END
>
> 
>
> # FLY_BY_SEQ
>
> Name 	 		"SEQ"									; so we get PLANE FLYBY
>
> Key  			F6
>
> Repeat		OFF
>
> FLYBY			4	4000
>
> FIXED_EX_1	10 0
>
> END
>
> 
>
> # PV_FLY_BY_SEQ
>
> Name 	 		"SEQ"									; so we get PLANE FLYBY
>
> Key  			F10
>
> Repeat		OFF
>
> PV_FLYBY			10	2000
>
> PV_FIXED_EX_1		10 0
>
> END
>
> 
>
> 
>
> ; *** AID SEQs ***
>
> 
>
> # A_TAXIING
>
> Name 	 			TAXI_VIEW
>
> Key  				NONE
>
> Repeat			ON
>
> AID_LONG_FIXED	5	0
>
> END
>
> 
>
> # AID_CLO_FB
>
> Name 	 		CLO_FB
>
> Key  			NONE
>
> Repeat		ON
>
> AID_CLOSURE		 5 0
>
> AID_LONG_FLY_BY 5 0
>
> AID_FLY_BY		 5 0
>
> END

and now in compressed:


> RA 4   }Ã›mÃŒ{ 8!PpÃ‚(Ã‰Ã€RÃ
## Post #71
- Username: Deniz Oezmen
- Rank: VIP member
- Number of posts: 185
- Joined date: Mon Aug 28, 2006 9:07 pm
- Post datetime: 2006-10-11T15:35:16+00:00
- Post Title: 

Hello all,

Mr.Mouse pointed me at this thread to take a look at the compresion used in those "RA" files.

However, before beginning work on this particular topic, I have one question (just to be "up to date"): In the thread [here](http://www.simhq.com/simhq3/sims/boards/bbs/ultimatebb.php?ubb=get_topic;f=64;t=001091;p=1#000005) a decompressor for those files is mentioned. Is the format thus not already known? Or, if not, could someone at least provide me with a copy of the program (since the link in the original post is dead)?
Also, two or three additional example pairs of compressed/uncompressed files would be great.

Thanks a lot,

Deniz
## Post #72
- Username: mono24
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2006-10-11T15:52:49+00:00
- Post Title: 

> Reply from Deniz Oezmen
>
> Hello all,

Mr.Mouse pointed me at this thread to take a look at the compresion used in those "RA" files.

However, before beginning work on this particular topic, I have one question (just to be "up to date"): In the thread here a decompressor for those files is mentioned. Is the format thus not already known? Or, if not, could someone at least provide me with a copy of the program (since the link in the original post is dead)?
Also, two or three additional example pairs of compressed/uncompressed files would be great.

Thanks a lot,

Deniz

That was my question as well, but I believe the program you refer to extracts the files from memory after they have been decompressed by the games executable. The game needs to be launched for the tool to work. So, the compression method is not clear yet.
## Post #73
- Username: Deniz Oezmen
- Rank: VIP member
- Number of posts: 185
- Joined date: Mon Aug 28, 2006 9:07 pm
- Post datetime: 2006-10-11T17:09:49+00:00
- Post Title: 

> Reply from Mr.Mouse
>
> That was my question as well, but I believe the program you refer to extracts the files from memory after they have been decompressed by the games executable.
Ah, I see. Is there any place I can (legally) get a copy of the game executable? A demo perhaps?
## Post #74
- Username: mono24
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2006-10-11T17:50:34+00:00
- Post Title: 

Yes, there is. But I had trouble getting it to run on my high-end PC and did not really try hard to fix that problem. 

[http://www.3dgamers.com/dlselect/games/ ... o.zip.html](http://www.3dgamers.com/dlselect/games/f22taw/tawdemo.zip.html)
## Post #75
- Username: Deniz Oezmen
- Rank: VIP member
- Number of posts: 185
- Joined date: Mon Aug 28, 2006 9:07 pm
- Post datetime: 2006-10-11T17:57:17+00:00
- Post Title: 

> Reply from Mr.Mouse
>
> Yes, there is. But I had trouble getting it to run on my high-end PC and did not really try hard to fix that problem.
Thanks, I am enqueued now. I do not intend to run the game, I just want to peek into the exe ...
## Post #76
- Username: mono24
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2006-10-11T17:58:31+00:00
- Post Title: 

> Reply from Deniz Oezmen
>
> Mr.Mouse wrote:Yes, there is. But I had trouble getting it to run on my high-end PC and did not really try hard to fix that problem.
Thanks, I am enqueued now. I do not intend to run the game, I just want to peek into the exe ...
## Post #77
- Username: john_doe
- Rank: N/A
- Number of posts: N/A
- Joined date: N/A
- Post datetime: 2006-10-12T00:36:49+00:00
- Post Title: 

I figured out the decompression scheme.
Can someone send me some more compressed and matching decompressed files so I can test my decompressor more thouroughly to [john_doe@techie.com](mailto:john_doe@techie.com)? 10 files or so should be enough.
I'll then release the C++ source code so it can be implemented in MultiEx or other tools.

It's basically an LZ77-based algorithm, I think with Huffman.
I'll probably leave writing the specs to someone else
## Post #78
- Username: mono24
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2006-10-12T05:51:26+00:00
- Post Title: 

> Reply from john_doe
>
> I figured out the decompression scheme.
Can someone send me some more compressed and matching decompressed files so I can test my decompressor more thouroughly to john_doe@techie.com? 10 files or so should be enough.
I'll then release the C++ source code so it can be implemented in MultiEx or other tools.

It's basically an LZ77-based algorithm, I think with Huffman.
I'll probably leave writing the specs to someone else

That's awesome news! Xela, others? Got some files for him?
## Post #79
- Username: john_doe
- Rank: N/A
- Number of posts: N/A
- Joined date: N/A
- Post datetime: 2006-10-12T07:25:30+00:00
- Post Title: 

I sent Xela a PM two days ago but he didn't even read it yet 
So we'll have to wait until then.
## Post #80
- Username: mono24
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2006-10-12T07:25:54+00:00
- Post Title: 

> Reply from john_doe
>
> I sent Xela a PM two days ago but he didn't even read it yet 
So we'll have to wait until then.

Nope i've got some for you. Hold on.
## Post #81
- Username: mono24
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2006-10-12T07:28:46+00:00
- Post Title: 

Here you go. They are not text like, but have the same header. All files in the DID.DAT start with RA.
[ra_examples.zip](https://xentaxbackup.github.io/file/911_ra_examples.zip)
## Post #82
- Username: john_doe
- Rank: N/A
- Number of posts: N/A
- Joined date: N/A
- Post datetime: 2006-10-12T07:42:40+00:00
- Post Title: 

Good, I'll have a look at them when I'm home and try to finish the code.
## Post #83
- Username: Deniz Oezmen
- Rank: VIP member
- Number of posts: 185
- Joined date: Mon Aug 28, 2006 9:07 pm
- Post datetime: 2006-10-12T09:42:41+00:00
- Post Title: 

Ah, great!

Since I know the quality of Benjamin's work, I can stop now. 

Though I'd like to see the code when it's finished ...

[By the way: The disassembly seems to indicate there might be some sort of "JR" compression scheme as well. Did anyone encounter that?]
## Post #84
- Username: john_doe
- Rank: N/A
- Number of posts: N/A
- Joined date: N/A
- Post datetime: 2006-10-12T10:41:25+00:00
- Post Title: 

I also looked for the JR marker but couldn't find any data that looked right (i.e. as header of a compressed file).

And of course the code will be released when it's done
## Post #85
- Username: john_doe
- Rank: N/A
- Number of posts: N/A
- Joined date: N/A
- Post datetime: 2006-10-12T11:49:35+00:00
- Post Title: 

It's done 

You can download it from [http://gamefileformats.the-underdogs.in ... mpra-1.zip](http://gamefileformats.the-underdogs.info/files/decompra-1.zip)
Exe & C++ source code (with a project file for Dev-C++) is included.
The program is a simple command-line tool, use it like "decompra infile outfile".

If you find any bugs or have comments, mail me at john_doe at techie.com.

PS: It worked on the files you sent me, Mr. Mouse, at least I could display some GIF and PCX files.
## Post #86
- Username: mono24
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2006-10-12T12:01:17+00:00
- Post Title: 

> Reply from john_doe
>
> It's done 

You can download it from http://gamefileformats.the-underdogs.in ... mpra-1.zip
Exe & C++ source code (with a project file for Dev-C++) is included.
The program is a simple command-line tool, use it like "decompra infile outfile".

If you find any bugs or have comments, mail me at john_doe at techie.com.

PS: It worked on the files you sent me, Mr. Mouse, at least I could display some GIF and PCX files.

BRILLIANT!!! If I have compression problems in the future , I turn to Deniz or John-doe  Now for some understanding of it, because we (at the wiki) still have some specs to write. Could you at least point out how the RA files are made up and what specific parts we can distinguish?

EDIT: Indeed, it works. Here's an example of the second file in the DID that is actually a PCX file. 

I will try to inplement this compression type in MultiEx Commander, and create a plugin for the .DAT files. Is a compressor also possible, by the way? I assume so, but I first'd have to understand what is going on.
[test2.jpg](https://xentaxbackup.github.io/file/912_test2.jpg)
## Post #87
- Username: john_doe
- Rank: N/A
- Number of posts: N/A
- Joined date: N/A
- Post datetime: 2006-10-12T12:31:11+00:00
- Post Title: 

Thanks 

> Reply from Mr.Mouse
>
> 
Now for some understanding of it, because we (at the wiki) still have some specs to write. Could you at least point out how the RA files are made up and what specific parts we can distinguish?

I'll try to write some rough specs later.
Essentially it reads a byte as bitbuffer, and reads bits from this. If all 8 bits are used, it reads another byte. Depending on the bits it does more processing. In the end, it's one of two modes:
1. copy raw bytes from the input to the output
2. copy a number bytes from some offset in the output to the current offset into the output

The copy counts, lengths and offsets are calculated via the tables (lengthTable etc.)

> Reply from Mr.Mouse
>
> 
Is a compressor also possible, by the way? I assume so, but I first'd have to understand what is going on.

Yes, that should be possible. I still don't know how this table stuff works exactly, figuring that out is needed to make a compressor. It's probably some Huffman type, not sure.
Probably an existing LZ-compresser could be adjusted to create files in the RA format.

Oh, and the header for a RA file looks like this:

```
1 word    version number, always 2
1 dword   size of decompressed data
1 word    unknown (unused in decompressor code)
1 word    checksum of the decompressed data

```
## Post #88
- Username: Captain
- Rank: Site Admin
- Number of posts: 248
- Joined date: Thu Jan 16, 2003 1:25 am
- Post datetime: 2006-10-12T13:44:31+00:00
- Post Title: 

Holy crap dudes!!
## Post #89
- Username: Deniz Oezmen
- Rank: VIP member
- Number of posts: 185
- Joined date: Mon Aug 28, 2006 9:07 pm
- Post datetime: 2006-10-12T17:53:58+00:00
- Post Title: 

Well done, Benjamin. Fine stuff!
## Post #90
- Username: MGonzales
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Tue Mar 07, 2006 6:54 am
- Post datetime: 2006-10-12T22:10:22+00:00
- Post Title: 

I forgot I had an account here.  

<SNIP>The site's rules do not allow to trade full games

I recently acquired the collection...

[http://www.lt-solutions.com/images/DID_FSL.JPG](http://www.lt-solutions.com/images/DID_FSL.JPG)

...with TAW being the greatest and final version.



Moderators, please edit or delete my post as necessary to conform with this site's rules. Thanks. Done. - Mr.Mouse
--


Mark
## Post #91
- Username: Xela
- Rank: VIP member
- Number of posts: 225
- Joined date: Sun Jul 31, 2005 11:12 am
- Post datetime: 2006-10-12T22:13:33+00:00
- Post Title: 

Holly crap and well done indeed. 
It is so surprising turn of events that despite my pretty frequent visits to this forum, I slept over few last days and it was just in the time when action happened here. '
And eventhough I was not the originator of request I am too very much interested in unravelling RA compression and results and finds that may bring to TAW community. 
So before I read PM and start replying there I want quickly to express my thanks and gratitude for your help and time. 
Well done indeed and Thanks
## Post #92
- Username: MGonzales
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Tue Mar 07, 2006 6:54 am
- Post datetime: 2006-10-13T22:29:13+00:00
- Post Title: 

> The site's rules do not allow to trade full games

Understood. I'm looking forward to the day that EF2000 (1996) and TAW (1998) will be considered abandonware. Unfortunately, prices are somewhat inflated today...

[http://www.amazon.com/gp/offer-listing/ ... 58?ie=UTF8](http://www.amazon.com/gp/offer-listing/B00002S83V/sr=8-1/qid=1160777765/ref=pd_bbs_1/104-3289510-4854358?ie=UTF8)

I remember years ago seeing brand new jewel cases in the $10.00 bargain bins. I got lucky and found a brand new box for sale for only $20.00 just last November...

[http://www.lt-solutions.com/images/Desk.JPG](http://www.lt-solutions.com/images/Desk.JPG)

Anyway, I can host and provide a no-hassle direct link to the TAW demo if that's acceptable and if anyone needs it.

You should be receiving my payment for MultiEx registration via Paypal soon (sent it last night).

Many thanks for everything you guys are doing! 
--


Mark
## Post #93
- Username: mono24
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2006-10-13T23:23:03+00:00
- Post Title: 

No problem. Links to the demo are always allowed. Especially since these "official" downloads sites charge (understandably). 

That's a nice looking setup you got there! Bit of a air sim freak eh?  Where 're you based?
## Post #94
- Username: bored
- Rank: beginner
- Number of posts: 28
- Joined date: Mon Mar 13, 2006 4:03 am
- Post datetime: 2006-10-16T15:57:28+00:00
- Post Title: 

Wow!!!!!!!!!

I go away for a few days and this is what happens!!   

Many, many thanks to john_doe for such an elegant piece of work. I was looking into this but not really making much progress....now I don't have to bother. Excellent!

Thanks also to Mr.Mouse and Deniz for taking an interest.

This breakthrough helps us understand not only TAW, but the earlier DID games F22ADF and EF2000 as well.
## Post #95
- Username: FunteX
- Rank: n00b
- Number of posts: 16
- Joined date: Sun Aug 20, 2006 5:45 am
- Post datetime: 2006-10-24T17:19:05+00:00
- Post Title: 

superb work :D big thanks for bringing this code to the world.
thumbs up, keep up the good work
## Post #96
- Username: MGonzales
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Tue Mar 07, 2006 6:54 am
- Post datetime: 2006-12-08T08:51:33+00:00
- Post Title: 

> Reply from Mr.Mouse
>
> No problem. Links to the demo are always allowed. Especially since these "official" downloads sites charge (understandably). 

That's a nice looking setup you got there! Bit of a air sim freak eh?  Where 're you based?

First, my apologies Mr. Mouse for disappearing. I had some unexpected events happen in my life recently, along with some planed ones which didn't go quite as planned. I forgot all about this thread.

Here's the TAW demo for anyone who's interested...
[http://www.lt-solutions.com/images/TAWDemo.exe](http://www.lt-solutions.com/images/TAWDemo.exe)

Yup, I do like flight sims, but I don't have all of the latest ones. I'm in Jacksonville, FL. My setup now includes a real HOTAS (Saitek X52).

Mr Mouse, is it possible for me to get the MultiEx Commander registration code again? I know you sent it to me, I saw the e-mail in my CompuServe mail, but I forgot to save it and now it's gone. What a dunderhead thing for me to do. No problem if you can't, it's my fault.

Anyway, apologies again for getting back to this thread so much later.
--


Mark
## Post #97
- Username: MGonzales
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Tue Mar 07, 2006 6:54 am
- Post datetime: 2006-12-08T10:30:38+00:00
- Post Title: 

I forgot to mention above, just as with the full version of TAW, uncheck the Music option in the Demo installation. There's an issue with TAW's music and WinXP, and even with WinMe for me. Having no in-game music is no big loss, IMO.
--


Mark
## Post #98
- Username: MGonzales
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Tue Mar 07, 2006 6:54 am
- Post datetime: 2007-01-02T05:17:01+00:00
- Post Title: 

> Reply from MGonzales
>
> Mr.Mouse wrote:Mr Mouse, is it possible for me to get the MultiEx Commander registration code again? I know you sent it to me, I saw the e-mail in my CompuServe mail, but I forgot to save it and now it's gone. What a dunderhead thing for me to do. No problem if you can't, it's my fault.

Mr. Mouse, I guess you never came back to this thread. I just sent another $15.00 donation for a new registration code (it's for a good cause anyway). 
--


Cheers,
Mark
## Post #99
- Username: MGonzales
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Tue Mar 07, 2006 6:54 am
- Post datetime: 2007-01-03T02:18:04+00:00
- Post Title: 

> Reply from bored
>
> This breakthrough helps us understand not only TAW, but the earlier DID games F22ADF and EF2000 as well.

One can hope.
--


Mark
## Post #100
- Username: mono24
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2007-01-03T08:48:25+00:00
- Post Title: 

> Reply from MGonzales
>
> 
Mr. Mouse, I guess you never came back to this thread. I just sent another $15.00 donation for a new registration code (it's for a good cause anyway). 
--


Cheers,
Mark

Ah yes, sorry about that, my daily job has sucked up almost all of my time these days.  Thumbs up for the donation, though! Many thanks!!
## Post #101
- Username: MGonzales
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Tue Mar 07, 2006 6:54 am
- Post datetime: 2007-01-05T03:49:55+00:00
- Post Title: 

> Reply from Mr.Mouse
>
> Ah yes, sorry about that, my daily job has sucked up almost all of my time these days.  Thumbs up for the donation, though! Many thanks!!

You're very welcome. 
--


Mark
## Post #102
- Username: bored
- Rank: beginner
- Number of posts: 28
- Joined date: Mon Mar 13, 2006 4:03 am
- Post datetime: 2007-02-18T20:59:00+00:00
- Post Title: 

Unfortunately, I need to resurrect this thread..... 

First the good stuff.
Using Multiex and John Doe's excellent decompressor we can now extract and decompress the 'did.dat' file for the following related games:
F22 Total Air War (1998)
F22 Air Dominance Fighter (1997)
Super EF2000 (1997)

A big 'Thank You' for all involved in that.

....but also in 1997 a version of EF2000 was released in the US market under the name EF2000 V2.0. This is basically the same game as Super EF2000 but Multiex does not recognise the 'did.dat' file for this release,at least using the settings for the other games.

I have a compressed version of this which is about 30MB in size. Can I upload this somewhere so that you can take a look at it? Is that too big for an attachment on this site?
## Post #103
- Username: th3nmy
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Sun Feb 21, 2016 11:36 pm
- Post datetime: 2016-02-21T15:41:25+00:00
- Post Title: 

Guys,

I am a new member here. Does anybody have a copy of the RA decompressor sources posted previously?
The published link does not work anymore.

Thanks!
## Post #104
- Username: Deniz Oezmen
- Rank: VIP member
- Number of posts: 185
- Joined date: Mon Aug 28, 2006 9:07 pm
- Post datetime: 2016-02-21T16:07:23+00:00
- Post Title: 

I found a copy in my archives, dated 2006-10-12. See the attachment.

I don't know whether this is the latest version, though, since I did not follow the development anymore.
[decompra-1.zip](https://xentaxbackup.github.io/file/10517_decompra-1.zip)
## Post #105
- Username: th3nmy
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Sun Feb 21, 2016 11:36 pm
- Post datetime: 2016-02-21T16:17:35+00:00
- Post Title: 

Deniz,

Your attachment arrived successfully, thank you for the your quick help! I am working on extracting the content of DID.dat file for TFX (the file structure seems to be similar to the flight sim games developed by DID later). I plan to implement a playback routine for this game's music (which is in a proprietary format) as I pretty much loved listening to it back then.
## Post #106
- Username: Deniz Oezmen
- Rank: VIP member
- Number of posts: 185
- Joined date: Mon Aug 28, 2006 9:07 pm
- Post datetime: 2016-02-21T16:20:44+00:00
- Post Title: Re: Request for inclusion of TAW in the list of games

Sounds great. Have fun!
## Post #107
- Username: mono24
- Rank: Site Admin
- Number of posts: 4073
- Joined date: Thu Jan 16, 2003 1:45 am
- Post datetime: 2016-02-21T20:51:48+00:00
- Post Title: Re: Request for inclusion of TAW in the list of games

Surprise! It's Deniz ! Long time no see  



hqdefault (1).jpg (11.38 KiB) Viewed 48 times
## Post #108
- Username: Deniz Oezmen
- Rank: VIP member
- Number of posts: 185
- Joined date: Mon Aug 28, 2006 9:07 pm
- Post datetime: 2016-02-21T23:51:02+00:00
- Post Title: Re: Request for inclusion of TAW in the list of games

Yeah, I don't get much time to RE these days, so I mostly return when those decade-old threads still on my watch list -- written on ancient fragile papyrus -- suddenly rise from the dead. 

Nice to see you're still going strong around here.
## Post #109
- Username: bored
- Rank: beginner
- Number of posts: 28
- Joined date: Mon Mar 13, 2006 4:03 am
- Post datetime: 2017-05-14T09:26:52+00:00
- Post Title: Re: Request for inclusion of TAW in the list of games

> Reply from Deniz Oezmen
>
> [By the way: The disassembly seems to indicate there might be some sort of "JR" compression scheme as well. Did anyone encounter that?]YES!!

It's used by an earlier game called EPIC.
Anybody from this thread (and can remember events from 10 years ago) still around?
