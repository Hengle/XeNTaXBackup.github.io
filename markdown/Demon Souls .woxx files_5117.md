## Post #1
- Username: Researchman
- Rank: mega-veteran
- Number of posts: 315
- Joined date: Fri Jun 11, 2010 7:08 pm
- Post datetime: 2010-10-01T15:58:48+00:00
- Post Title: Demon Souls .woxx files

Use .moib files(MOS header), .mosb files(MOSB header). Also have three .momd files(MOMD header).

Main files with .wowb extension, which some files have RIFF, WAVEfmt, VAGp or nothing in code. Header - BND306H8V36.

example 1:

```
РmBzУ3\ҐС]ю!^L1Г5JЬЮR
"ТТnz3*A
ьN я@4Сt!-5П њ%юBаmРІҐр-mm#ВнюL$п•ФУ?аmП-,Д2
оµl,-тЫб
@\э_Р!Ф<іо PСю#юя/нФµРnѕ3l,СЭµ".{щ/Ю@а] <
ь4ь%#
```

example 2:

```
иH $Џ0     $$ 0wЂ     Bd 0›°     R4 0Ю      Д 10`     ID 1H0     jф 1‘Ђ     Xd 1ьЂ     R4 2Tр     Xd 2§0      2я      d 3А     =” 3-0     Q„ 3jР     -Д 3ј`     8 3к0     &д 4"P     1д 4I@     - 4{0     7d 4ЁP     i” 4ЯА     PФ 5I`     L 5љ@     uD 5жP     Md 6[      " 6©     ф 6Л0     Wґ 6й0     *T 7@р     „ 7kP     T 7…а     (ф 7Ґ@     6ґ 7О@     Tф 8      P$ 8Z      mґ 8Є0     Zt 9р     ]д 9rp       9Р`     ф 9рp     6 :p     A :DЂ     `¤ :…ђ     Њ¤ :ж@     YД ;rр     Lґ ;МА     #t <Ђ     0„ <=      qФ <mђ     7d <Яp     zД =а     @T =‘°     " =Т     Md =ф0     uD >A      z >¶р     Tф ?1     *T ?†     L ?°p     )¤ ?ьЂ     &4 @&0     &д @Lp     "Д @s`     " @–0     &4 @ёP     Rд @Юђ     Ot A1Ђ     ѓґ AЃ      jD BА     $Ф Bo     - B“р     Ф BБ     :Ф BЪр     8Д CР     T CN      6ґ Cn      6ґ C¤А     - CЫЂ     4¤ D      *T D=P     g„ Dg°     U¤ DП@     &4 E$р     " EK0     Iф EmP     ID E·P     aT F       3D Fb       ґ F•P     [$ F¶     Wґ G@     0„ Gi      ]4 G™ђ     5T GцР     Q„ H,0     ID H}А     P$ HЗ     lT I@     >ф Iѓ      U¤ IВ      4 JP     &д J3ђ     8Д JZЂ     - J“P     %„ JАp     +ґ Jж      14 KА     3D KC      Iф KvP     EФ KАP     2” L0     A L8Р     :$ Lyа     -Д Lґ     *T Lба     @T M@     3ф ML      Zt MЂ      dД MЫ      Dt N?р     G4 N„p     ¤ NЛ°     A Nк`     lT O+p     ;„ O—Р     Ѓ¤ OУ`     *T PU     ¤ Pp      ґ Pћ       ґ Pѕа     ?¤ PЯ      Д QP    ¤ь Q7     ”Ф RЬ     ”$ Vq     чњ [0    s4 ]ьР    ћD cp     Y e`            MOWV     р  ds_bgm_m03  с §vA <   '?@     »Ђ     Sр        ~1\takeyuu\L»Ђ     ‚        istEx\Conver»Ђ      X        01600.at3" ,»Ђ     
иH        "C:\DOCUME~1 »Ђ      $$        mp\XACTAssis »Ђ      Bd        _m01\v000010 »Ђ      R4        1 ,  , ""
"C »Ђ      Д        OCALS~1\Temp »Ђ      ID        ter\ds_bgm_m »Ђ      jф         16 , 0 , 1  »Ђ      Xd        \takeyuu\LOC »Ђ      R4        tEx\Converte »Ђ      Xd        001.at3" , 1 »Ђ              :\DOCUME~1\t »Ђ      d        \XACTAssistE »Ђ      =”        01\v00000400 »Ђ      Q„        ,  , ""
"C:\ »Ђ      -Д        ALS~1\Temp\X »Ђ      8        r\ds_bgm_m01 »Ђ      &д        6 , 0 , 1 ,  »Ђ      1д        akeyuu\LOCAL »Ђ      -        x\Converter\ »Ђ      7d        1.at3" , 16  »Ђ      i”        DOCUME~1\tak »Ђ      PФ        ACTAssistEx\ »Ђ      L        \v000005101. »Ђ      uD         , ""
"C:\DO »Ђ      Md        S~1\Temp\XAC »Ђ      "        ds_bgm_m01\v »Ђ      ф        , 0 , 1 ,  , »Ђ      Wґ        eyuu\LOCALS~ »Ђ      *T        Converter\ds »Ђ      „        at3" , 16 ,  »Ђ      T        CUME~1\takey »Ђ      (ф        TAssistEx\Co »Ђ      6ґ        000025001.at »Ђ      Tф         ""
"C:\DOCU »Ђ      P$        1\Temp\XACTA »Ђ      mґ        _bgm_m01\v13 »Ђ      Zt        0 , 1 ,  , " »Ђ      ]д        uu\LOCALS~1\ »Ђ               nverter\ds_b »Ђ      ф        3" , 16 , 0  »Ђ      6        ME~1\takeyuu »Ђ      A        ssistEx\Conv »Ђ      `¤        1002210.at3" »Ђ      Њ¤        "
"C:\DOCUME »Ђ      YД        Temp\XACTAss »Ђ      Lґ        gm_m01\v1310 »Ђ      #t        , 1 ,  , ""
 »Ђ      0„        ds_bgm_m01\v »Ђ      qФ        , 0 , 1 ,  , »Ђ      7d        eyuu\LOCALS~ »Ђ      zД        Converter\ds »Ђ      @T        at3" , 16 ,  »Ђ      "        CUME~1\takey »Ђ      Md        TAssistEx\Co »Ђ      uD        148501100.at »Ђ      z         ""
"C:\DOCU »Ђ      Tф        1\Temp\XACTA »Ђ      *T        _bgm_m01\v14 »Ђ      L        0 , 1 ,  , " »Ђ      )¤        uu\LOCALS~1\ »Ђ      &4        nverter\ds_b »Ђ      &д        3" , 16 , 0  »Ђ      "Д        ME~1\takeyuu »Ђ      "        ssistEx\Conv »Ђ      &4        8501200.at3" »Ђ      Rд        "
"C:\DOCUME »Ђ      Ot        Temp\XACTAss »Ђ      ѓґ        gm_m01\v1485 »Ђ      jD        , 1 ,  , ""
 ?Ђ      $Ф        \LOCALS~1\Te ?Ђ      -        erter\ds_bgm ?Ђ      Ф         , 16 , 0 ,  ?Ђ      :Ф        ~1\takeyuu\L ?Ђ      8Д        istEx\Conver ?Ђ      T        01203.at3" , ?Ђ      6ґ        "C:\DOCUME~1 ?Ђ      6ґ        mp\XACTAssis ?Ђ      -        _m01\v148501 ?Ђ      4?        1 ,  , ""
"C ?Ђ      *T        OCALS~1\Temp ?Ђ      g?        ter\ds_bgm_m ?Ђ      U?         16 , 0 , 1  ?Ђ      &4        \takeyuu\LOC ?Ђ      "        tEx\Converte ?Ђ      Iф        302.at3" , 1 ?Ђ      ID        :\DOCUME~1\t ?Ђ      aT        \XACTAssistE ?Ђ      3D        01\v14850130 ?Ђ       ґ        ,  , ""
"C:\ ?Ђ      [$        ALS~1\Temp\X ?Ђ      Wґ        r\ds_bgm_m01 ?Ђ      0?        6 , 0 , 1 ,  ?Ђ      ]4        akeyuu\LOCAL ?Ђ      5T        x\Converter\ ?Ђ      Q?        1.at3" , 16  ?Ђ      ID        DOCUME~1\tak ?Ђ      P$        ACTAssistEx\ ?Ђ      lT        \v148501402. ?Ђ      >ф         , ""
"C:\DO ?Ђ      U?        S~1\Temp\XAC ?Ђ      4        ds_bgm_m01\v ?Ђ      &д        , 0 , 1 ,  , ?Ђ      8Д        eyuu\LOCALS~ ?Ђ      -        Converter\ds ?Ђ      %?        at3" , 16 ,  ?Ђ      +ґ        CUME~1\takey ?Ђ      14        TAssistEx\Co ?Ђ      3D        148501501.at ?Ђ      Iф         ""
"C:\DOCU ?Ђ      EФ        1\Temp\XACTA ?Ђ      2?        _bgm_m01\v14 ?Ђ      A        0 , 1 ,  , " ?Ђ      :$        uu\LOCALS~1\ ?Ђ      -Д        nverter\ds_b ?Ђ      *T        3" , 16 , 0  ?Ђ      @T        ME~1\takeyuu ?Ђ      3ф        ssistEx\Conv ?Ђ      Zt        0001001.at3" ?Ђ      dД        "
"C:\DOCUME ?Ђ      Dt        Temp\XACTAss ?Ђ      G4        gm_m01\v0000 ?Ђ      ?        , 1 ,  , ""
 ?Ђ      A        \LOCALS~1\Te ?Ђ      lT        erter\ds_bgm ?Ђ      ;?         , 16 , 0 ,  ?Ђ      Ѓ?        bgm_m01\v122 ?Ђ      *T        = 
 ј ?Ђ      ?        LOCALS~1\Tem ?Ђ       ґ        rter\ds_bgm_ ?Ђ       ґ        vю/эяТ Z ?Ђ      ??        takeyuu\LOCA ?Ђ      Д        Ex\Converter ?Ђ     ?ь        63.at3 ?? ?Ђ     ?Ф        OCUME~1\take ?Ђ     ?$        CTAssistEx\C ?Ђ     чњ        v131000000.a ?Ђ     s4        ?C:\DOCUM ?Ђ     ћD        \Temp\XACTAs ?Ђ      Y        bgm_m01\v131RIFFиS WAVEfmt 4   юя Ђ?  ~  X  "     їЄ#йXЛqDЎяъдОb H*        fact   жЛ
 Є
  b
  smpl<           ?X  <                             ?ў GЧ
         dataHS 9bЁ@J(:=~yЯ}тљ"Ђ??їз+-?й;?Y?Аь9at  явФ@т;с@ І4?	РТѓ?g. ?зъі#пгVЧУKйwC? Г|5Ў??П?јfЌhЊНuЧo?уqќАxvЉфЂјҐxІ?7sIљV??є;YЂhB?{@--ќ);0Ш  ??ќ
Т`DqЕ?Ђ?Нґ9ВЦЦ !µыђWEЩcј)1П8h
ц95Њb?Юuuь(rХ3с?щяъь-?Z
iЋv
>?vJ?лЉЙјm?FfL?<?СKq8От`QvZе(Ь4>?/75?:џ?a\-lvк
?еУЦЬ?9?Hvnљ&IяBц2B{$gС?M(ц#?хќр?'r)К-%?т?0Р?ЛdQgp+вXҐ?7ъ-t)Q#xC[Z
ВлmХ|ЯwФW?АвЏъ???x9apЯ =ёZа Я?щ?3эг??яD?	yZi[ЫtP )0 bуhЬѓФgsЕdПzM+уOкІРё)1ЖЭџ?3?ћ?S?Юќ?У.ХаМtj?=?ѕжПдnmЛґ>wЈ6О}?и?э5 ?ФвЮZЋм4gцЗ?4jЙЛrЁ;9ЁrЗ-z?Ј` d?l1IШRЬuЅЃЯА?гЗБM?ёЂкв
```

example 3:

```
oЯЗ
ТhЌaхэ$Ж)wжЙоО+ґ=м??Aµћ[э??Э?wjМ?fb??пnV!!ЯЦbОЁЫnRЊЄ?KТ? ??|dBw&5ъ(Иѓяµ
$єh?я6бGтFҐМ?ЉџЇ?alЧ?ђrKФяeQЩ?Б$ђe?И6УЋf{ДЅѓ2?МЗ8ћЮ,rKЭ7І?!-ЋAМІђRX?ѓ?rт9ї?.+хЙьЪE?!X    ўKує
мЦqn?Ђ]ю?dѕKеyЅ4_n]&ЧEІУhСПЃ  ~`9TЊ$+!eCE?6ле3?lxjњЄm6ШМЂ? ІЦ[?
```

files - [http://ifolder.ru/19566002](http://ifolder.ru/19566002)

Need decoder or extractor for decode\unpack.
## Post #2
- Username: OrangeC
- Rank: double-veteran
- Number of posts: 868
- Joined date: Sun Apr 20, 2008 9:58 am
- Post datetime: 2010-10-01T17:58:38+00:00
- Post Title: Demon Souls .woxx files

The battle fantaisa is just atrac3 not sure if plus or not but refer to this thread.

[viewtopic.php?f=13&t=4450&start=45](http://forum.xentax.com/viewtopic.php?f=13&t=4450&start=45)

either use alpha's aa3 header scirpt for plus files or the at3 header script for non plus files.

The sonic is just ps adpcm data.
## Post #3
- Username: AlphaTwentyThree
- Rank: double-veteran
- Number of posts: 982
- Joined date: Tue Aug 25, 2009 5:55 am
- Post datetime: 2010-10-02T18:53:04+00:00
- Post Title: Demon Souls .woxx files

Here's the extraction script I wrote for the *.mowb files. Correct file names taken from the *.mosb files. 

```
open FDDE MOWB 0
open FDDE MOSB 1
goto 0x10 0
get FILES long 0
get MOWVpos long 0
get ZERO long 0
get ZERO long 0
goto 0x58 1
get NAMEOFF long 1
math NAMEOFF += 0xc


for i = 1 <= FILES
    get UNKNOWN long 0
    get SIZE long 0
    get OFFSET long 0
    if i == 1
        get NAME basename
        string NAME += ".mowv"
    else
        goto NAMEOFF 1
        get NAME string 1
        string NAME += ".at3"
        savepos NAMEOFF 1
    endif
    log NAME OFFSET SIZE 0
next i
```
## Post #4
- Username: AlphaTwentyThree
- Rank: double-veteran
- Number of posts: 982
- Joined date: Tue Aug 25, 2009 5:55 am
- Post datetime: 2010-10-06T10:09:45+00:00
- Post Title: Demon Souls .woxx files

No thanks? Didn't anyone find the script useful? I appel to the topic starter!
## Post #5
- Username: Researchman
- Rank: mega-veteran
- Number of posts: 315
- Joined date: Fri Jun 11, 2010 7:08 pm
- Post datetime: 2010-10-06T10:55:08+00:00
- Post Title: Demon Souls .woxx files

Thanks, of course, AlphaTwentyThree.

I just thought that I would not necessarily say thank you. I`m sorry.
## Post #6
- Username: AlphaTwentyThree
- Rank: double-veteran
- Number of posts: 982
- Joined date: Tue Aug 25, 2009 5:55 am
- Post datetime: 2010-10-06T15:17:04+00:00
- Post Title: Demon Souls .woxx files

Actually I meant the "Thank user" button as it appears in the profile.
## Post #7
- Username: gunslinger
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Tue Jul 31, 2012 10:15 pm
- Post datetime: 2012-07-31T14:22:54+00:00
- Post Title: Demon Souls .woxx files

I'm terribly sorry to revive an older thread, but I'm interested in the contents.

How does one use Alpha's script? I'm currently in college to become a programmer (Information Systems field), but I don't recognize the language alpha's script is in so I have no idea where to use it.
## Post #8
- Username: Pepper
- Rank: mega-veteran
- Number of posts: 278
- Joined date: Thu Apr 17, 2008 10:48 am
- Post datetime: 2012-07-31T18:47:39+00:00
- Post Title: Demon Souls .woxx files

As with most scripts on this site, it's quickbms: [http://aluigi.altervista.org/quickbms.htm](http://aluigi.altervista.org/quickbms.htm)
## Post #9
- Username: gunslinger
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Tue Jul 31, 2012 10:15 pm
- Post datetime: 2012-07-31T18:58:16+00:00
- Post Title: Demon Souls .woxx files

> Reply from Pepper
>
> As with most scripts on this site, it's quickbms: http://aluigi.altervista.org/quickbms.htm
Thank you so much! I'll give it a try right now and report back. (thanked!)
## Post #10
- Username: gunslinger
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Tue Jul 31, 2012 10:15 pm
- Post datetime: 2012-07-31T19:18:04+00:00
- Post Title: Demon Souls .woxx files

Hm.
I tried the script provided by Alpha, and it seems to make TONS of small (<10kb) .at3 files.

Downloaded the BMS program, made a "mowb.bms" ascii file with the script inside, and selected that, then a bunch of .mowb files.

It seems to work fine, then dumps out several small .at3 files.

What kind of diagnostics/troubleshooting can I do?
## Post #11
- Username: Pepper
- Rank: mega-veteran
- Number of posts: 278
- Joined date: Thu Apr 17, 2008 10:48 am
- Post datetime: 2012-08-02T15:27:54+00:00
- Post Title: Demon Souls .woxx files

> Reply from gunslinger
>
> Hm.
I tried the script provided by Alpha, and it seems to make TONS of small (<10kb) .at3 files.

Downloaded the BMS program, made a "mowb.bms" ascii file with the script inside, and selected that, then a bunch of .mowb files.

It seems to work fine, then dumps out several small .at3 files.

What kind of diagnostics/troubleshooting can I do?

can you play the .at3 files in vlc or anything? if its standard atrac3 you probably can with the right player/codecs.
## Post #12
- Username: gunslinger
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Tue Jul 31, 2012 10:15 pm
- Post datetime: 2012-08-03T19:10:44+00:00
- Post Title: Demon Souls .woxx files

> Reply from Pepper
>
> gunslinger wrote:Hm.
I tried the script provided by Alpha, and it seems to make TONS of small (<10kb) .at3 files.

Downloaded the BMS program, made a "mowb.bms" ascii file with the script inside, and selected that, then a bunch of .mowb files.

It seems to work fine, then dumps out several small .at3 files.

What kind of diagnostics/troubleshooting can I do?

can you play the .at3 files in vlc or anything? if its standard atrac3 you probably can with the right player/codecs.

I'll try again, but I'm near-positive that I was inable to play them in VLC. I've been fiddling with the tool and trying to make  proper output myself, to little avail though.

I'll report back with my results, thank you for the reply.
## Post #13
- Username: gunslinger
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Tue Jul 31, 2012 10:15 pm
- Post datetime: 2012-08-04T07:17:28+00:00
- Post Title: Demon Souls .woxx files

Got an .at3 codec, popped the files into VLC and I get some of them with lengths, some with no lengths many that are classified and give errors for "undf" which I assume means undefined.
## Post #14
- Username: kotn3l
- Rank: veteran
- Number of posts: 90
- Joined date: Thu Mar 16, 2017 9:48 pm
- Post datetime: 2020-12-23T17:03:01+00:00
- Post Title: Demon Souls .woxx files

Oof this is a really old thread.

I'd like to replace some music with the remake ones, but I'm quite confused how to repack (and unpack...) the files back to/from .mowb file format. I guess these are the music ones, since the file names contain bgm which usually mean the soundtrack. The files also contain RIFF formats.

Example file:
[https://drive.google.com/file/d/1n2vfT4 ... sp=sharing](https://drive.google.com/file/d/1n2vfT46lPzUFeu355Qfzjlx4pNF_871o/view?usp=sharing)

The header is BND306H8V36.
Any help is appreciated!

EDIT: oh, the QuickBMS ds script can extract them. Wonder if it can repack also.
## Post #15
- Username: kotn3l
- Rank: Site Admin
- Number of posts: 786
- Joined date: Mon Sep 13, 2004 8:55 am
- Post datetime: 2020-12-23T17:15:41+00:00
- Post Title: Demon Souls .woxx files

> Reply from kotn3l ↑Thu Dec 24, 2020 1:03 am at Thu Dec 24, 2020 1:03 am
>
> 
Oof this is a really old thread.

As long as you have new information to add, or a request for help that hasn't been handled by some earlier reply, or something similarly useful/constructive, there isn't any "too old" to reply to, so no worries.
## Post #16
- Username: kotn3l
- Rank: veteran
- Number of posts: 90
- Joined date: Thu Mar 16, 2017 9:48 pm
- Post datetime: 2020-12-23T17:22:08+00:00
- Post Title: Re: Demon Souls .woxx files

> Reply from Dinoguy1000 ↑Thu Dec 24, 2020 1:15 am at Thu Dec 24, 2020 1:15 am
>
> 
As long as you have new information to add, or a request for help that hasn't been handled by some earlier reply, or something similarly useful/constructive, there isn't any "too old" to reply to, so no worries.

haha thanks!
Actually new info: 
The QuickBMS ds script can actually extract them, with memory addresses as their filename. Wonder if it can repack them and if they would work in game. I will check it out.

i'm having problems converting the new audio files into ATRAC3 wav files. Weirdly enough, the original file's header reports RIFF, but media info say its ATRAC3.

FFmpeg has documentation on it, but I can't seem to encode it as atrac3. Anyone knows how to do it?

EDIT again: managed to get it to encode to ATRAC3, but the container is OpenMG, and not WAV  anyone has any idea how to encode it into a RIFF/wav container? with ATRAC3 inside?
Example, orignal file: [https://drive.google.com/file/d/1ysamhh ... sp=sharing](https://drive.google.com/file/d/1ysamhhuhGYMJksoXN5WvnYTE2lTRbfRx/view?usp=sharing)
That's how I want my file to "look", to convert the new remake musics into this exact format.
