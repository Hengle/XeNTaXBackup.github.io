## Post #1
- Username: kotovskuy
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Thu Feb 11, 2016 5:10 pm
- Post datetime: 2016-03-18T11:22:29+00:00
- Post Title: NFS 16

Hello, can somebody help me?
How rip models grom this game.
I extract all files from "cas", what I need to do next?
If I understand correctly, all the models are stored in a "chunk" the files, but I can not could to understand how pull them out.
## Post #2
- Username: zaramot
- Rank: double-veteran
- Number of posts: 783
- Joined date: Wed Jan 05, 2011 7:41 pm
- Post datetime: 2016-03-18T13:03:13+00:00
- Post Title: NFS 16

Tools for Frostbite engine should work (maybe new Star Wars Battlefront), if not you could provide few chunks as a sample.
## Post #3
- Username: kotovskuy
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Thu Feb 11, 2016 5:10 pm
- Post datetime: 2016-03-18T14:09:28+00:00
- Post Title: NFS 16

> Reply from zaramot
>
> Tools for Frostbite engine should work (maybe new Star Wars Battlefront), if not you could provide few chunks as a sample.
I have two folders with "chunk" files.
NFS/chunks and NFS/bundles/chunks
First archive - chunk file from NFS/chunks
[https://mega.nz/#!DhZQDB6a!53tiq_JnwTyq ... Ou4IvQ6P-U](https://mega.nz/#!DhZQDB6a!53tiq_JnwTyqjdwLGzPoqnFIoWmNHTRexOu4IvQ6P-U)
Second - chunk file from NFS/bundles/chunks
[https://mega.nz/#!GohHnR6B!SSnmos45FQVd ... 44SZqRzuNA](https://mega.nz/#!GohHnR6B!SSnmos45FQVdmI27sVSluYMvuYzsC9CS844SZqRzuNA)

The largest chunk file in NFS/bundles/chunks, weighs 85.3mb, but in NFS/chunks - 237mb.
## Post #4
- Username: wordhg
- Rank: advanced
- Number of posts: 49
- Joined date: Tue Oct 15, 2013 8:21 am
- Post datetime: 2016-03-18T14:53:28+00:00
- Post Title: NFS 16

> Reply from kotovskuy
>
> zaramot wrote:Tools for Frostbite engine should work (maybe new Star Wars Battlefront), if not you could provide few chunks as a sample.
I have two folders with "chunk" files.
NFS/chunks and NFS/bundles/chunks
First archive - chunk file from NFS/chunks
https://mega.nz/#!DhZQDB6a!53tiq_JnwTyq ... Ou4IvQ6P-U
Second - chunk file from NFS/bundles/chunks
https://mega.nz/#!GohHnR6B!SSnmos45FQVd ... 44SZqRzuNA

The largest chunk file in NFS/bundles/chunks, weighs 85.3mb, but in NFS/chunks - 237mb.

This is EA VP6 video file
## Post #5
- Username: kovalevich007
- Rank: n00b
- Number of posts: 17
- Joined date: Fri Nov 12, 2010 11:03 pm
- Post datetime: 2016-03-18T15:00:16+00:00
- Post Title: NFS 16

> Reply from zaramot
>
> Tools for Frostbite engine should work (maybe new Star Wars Battlefront), if not you could provide few chunks as a sample.

i have chunk

[https://yadi.sk/d/LZA5f8DGqJH5C](https://yadi.sk/d/LZA5f8DGqJH5C)

VB 52
UV 12
## Post #6
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-03-18T21:30:40+00:00
- Post Title: NFS 16

I have also tried and successfully extracted the whole game with one of the BF4 python scripts, yet textures do not get recognized, and extension is unknown, instead of I assume .itexture?
also meshes not sure if fully there, although all chunk files get nicely extracted.

all textures looks like this

ai_persona_bmwe46m3_livery01.png 0b000000010000000000000000000000.unknownres6bde20ba

Was the Frostbite bms script supposed to extract ONLY chunks with out folder structure and their specific ebx and other files?

tried to import using this 3dsmax script yet it asks for its specific chunk up on importing a mesh, will not work automatically like in the video, because that tool that puts them in order also does not work, nor the python script dumper.
more info in this YouTube link
[https://www.youtube.com/watch?v=VdgwQpWCk84](https://www.youtube.com/watch?v=VdgwQpWCk84)


more sample chunk files here for those who can help further

[https://mega.nz/#!DwV3gaZJ!rfhf1uCuyeSy ... Zz1KGMA0SY](https://mega.nz/#!DwV3gaZJ!rfhf1uCuyeSyuK_5P8Jw3VklVfQViraTCZz1KGMA0SY)
[https://mega.nz/#!fwlURQqL!ev3xCDlWiFQt ... yDCaOJu4xg](https://mega.nz/#!fwlURQqL!ev3xCDlWiFQthUqKzKYph6GRhs5mRnkzmyDCaOJu4xg)

cheers.
## Post #7
- Username: kotovskuy
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Thu Feb 11, 2016 5:10 pm
- Post datetime: 2016-03-26T10:41:25+00:00
- Post Title: NFS 16

Any progress?
## Post #8
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-03-27T17:36:52+00:00
- Post Title: NFS 16

[out]
## Post #9
- Username: kovalevich007
- Rank: n00b
- Number of posts: 17
- Joined date: Fri Nov 12, 2010 11:03 pm
- Post datetime: 2016-03-29T00:18:53+00:00
- Post Title: NFS 16

chunk + mesh files

[https://yadi.sk/d/TyF9ftlsqYtst](https://yadi.sk/d/TyF9ftlsqYtst)
## Post #10
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-03-29T10:25:39+00:00
- Post Title: NFS 16

[out]
## Post #11
- Username: kotovskuy
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Thu Feb 11, 2016 5:10 pm
- Post datetime: 2016-03-29T19:20:59+00:00
- Post Title: NFS 16

> Reply from Wobble
>
> Rename .mesh file to .meshSet.  Any program that can import SWBF 2015 models can read these files.
The starting offset is different though, so a small change needs to be made.  Meshes look correct.
nissan.JPG
Which changes we need to do?
## Post #12
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-03-29T20:46:52+00:00
- Post Title: NFS 16

[out]
## Post #13
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-03-30T01:28:32+00:00
- Post Title: NFS 16

> Reply from Wobble
>
> 
And the mega stuff is password-protected, so I don't see how the poster expects people to download it.
sorry about that, I didn't even notice the mistake, fixed now.
## Post #14
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-03-30T23:41:49+00:00
- Post Title: NFS 16

[out]
## Post #15
- Username: Alexnfs
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sun Mar 20, 2016 6:37 pm
- Post datetime: 2016-03-31T02:34:32+00:00
- Post Title: NFS 16

> Reply from Wobble
>
> mono24 wrote:
sorry about that, I didn't even notice the mistake, fixed now.

Thanks, but all those chunks are useless without their corresponding .meshSet file.
But, it has already been discovered they use the same format as SWBF 2015, so they're not needed anymore.
Thanks anyway.

I can't even import the model in the format .meshSet which program you're importing and exactly what scripts you are using to import, I tried the scripts from swbf 2015, but the model exactly is not imported into 3D max 2012.Could you make a video guide?
## Post #16
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-03-31T03:36:48+00:00
- Post Title: Re: NFS 16

[out]
## Post #17
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-04-01T01:59:23+00:00
- Post Title: Re: NFS 16

> Reply from Wobble
>
> Rename .mesh file to .meshSet.  Any program that can import SWBF 2015 models can read these files.
Yet I tried Ultimate Unwrap3D Pro (x64) Demo with its specific SWBF 2015 plugin, and it will not load them, simply nothing happens, can you advise on what other software to use?

cheers.
## Post #18
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-04-01T07:24:41+00:00
- Post Title: Re: NFS 16

[out]
## Post #19
- Username: Alexnfs
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sun Mar 20, 2016 6:37 pm
- Post datetime: 2016-04-01T11:48:44+00:00
- Post Title: Re: NFS 16

> Reply from Wobble
>
> Works for me.
nissan.JPG
Please could you give the plugin to import meshSet in Ultimate Unwrap3D Pro?
## Post #20
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-04-01T17:21:48+00:00
- Post Title: Re: NFS 16

> Reply from Wobble
>
> Works for me.
Ok, cool.
Now lets see.
1. Download/Install the demo 64bit version.
2. Download/Install the specific SWBF 2015 plugin, inside plugin folder directory.
3. Open Software\Edit\Open, select desired file,
          example:C:\Users\User\Desktop\NFS_dump\bundles\res\vehicles\player\car_bmw_m3e46_2003\car_bmw_m3e46_2003_mesh 1051000000000000e80200008000c000.mesh (even renaming to meshset same result)
4. Import window loads, info is: lods:6, meshes:53, bones:11
          I select Chunk Directory,
          example:C:\Users\User\Desktop\NFS_dump\bundles\chunks\
5. Click OK.
6. Nothing else happens.
7. Questions:
          Have I missed anything?
          What was supposed to be the python script for extraction, maybe I used the wrong one?

sample of the one I am trying to import
[https://mega.nz/#!6pkHEAAQ!nsPrBzOnm96i ... 3-GLkvCK5M](https://mega.nz/#!6pkHEAAQ!nsPrBzOnm96in0kwhxISNYA9c4b1Sn6aU3-GLkvCK5M)

Cheers.
## Post #21
- Username: Acewell
- Rank: VIP member
- Number of posts: 1330
- Joined date: Wed Nov 05, 2008 7:16 pm
- Post datetime: 2016-04-02T00:44:11+00:00
- Post Title: Re: NFS 16

Something must be wrong with your extraction, the meshSet file stores the 16 byte names of the chunk files it needs.
if you place the meshset file in the folder with the chunk files and try opening it with U3D and nothing happens then the chunk files it needs must be missing. you can look in your meshSet file to see the chunk names like in your sample car_bmw_m3e46_2003_mesh 1051000000000000e80200008000c000.meshset at 0xE0 and 0x1A0 and so on until there are no more FF FF FF FF bytes i guess.

you should check to see if your tools are actually working by trying the sample from this post
[viewtopic.php?p=117201#p117201](http://forum.xentax.com/viewtopic.php?p=117201#p117201)
## Post #22
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-04-02T13:43:57+00:00
- Post Title: Re: NFS 16

[out]
## Post #23
- Username: Alexnfs
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sun Mar 20, 2016 6:37 pm
- Post datetime: 2016-04-02T14:23:32+00:00
- Post Title: Re: NFS 16

> Reply from Wobble
>
> mono24 wrote:
          Have I missed anything?

The filename of the chunk is listed right there in the importer dialog:
BA02572DE9658AF0A4531482B559928D.chunk

Search all your folders for it.  There might be more than just one chunk directory.
untitled.JPG

So you can give the plugin to import .meshSet?
## Post #24
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-04-02T23:38:47+00:00
- Post Title: Re: NFS 16

> Reply from Wobble
>
> 
The filename of the chunk is listed right there in the importer dialog:
BA02572DE9658AF0A4531482B559928D.chunk
I was aware of that the whole time, just needed a whole different python script to get all chunks, one time got a bit over 14.000 chunks, and second time got over 130.000 chunks then it loaded.
It sucks that it will NOT support textures, the script that is, also shame that uu3d cant handle that either.
Anyway, thx.

Cheers.
## Post #25
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-04-03T00:23:02+00:00
- Post Title: Re: NFS 16

[out]
## Post #26
- Username: kovalevich007
- Rank: n00b
- Number of posts: 17
- Joined date: Fri Nov 12, 2010 11:03 pm
- Post datetime: 2016-04-03T23:35:04+00:00
- Post Title: Re: NFS 16

I modified BF4 script. Import only car parts.
When I import a car, there is an error. I do not know how to fix it.


 nfs16.ms.rar
(4.01 KiB) Downloaded 129 times



```
"ObjectFullName car_bmw_m2_2016_Mesh"
"ObjectType 17"
"GUID_Count 6"
"First_Data_Block_Offset 1280"
"Mesh_Object_Count 17"
"FaceIndiceOffset 2008400"
"------------------------------"
"loop1"
"Submesh_1_VB_Size 52"
6
1571
"Submesh_1_Vert_Count 2669"
"Submesh_1_Face_Indice_Count 9274"
"var2 9274"
"Submesh_1_Material_Name M_Carpaint_Max"
"Position before verts 0L"
"Position before f-indice`s 2008400L"
"Position after f-indice`s 2026946L"
"------------------------------"
"loop2"
"Submesh_2_VB_Size 52"
6
1571
"Submesh_2_Vert_Count 2213"
"Submesh_2_Face_Indice_Count 4792"
"var2 14066"
"Submesh_2_Material_Name M_Chassis_Max"
"Position before verts 0L"
"Position before f-indice`s 2026946L"
"Position after f-indice`s 2036528L"
"------------------------------"
"loop3"
"Submesh_3_VB_Size 52"
6
1571
"Submesh_3_Vert_Count 1293"
"Submesh_3_Face_Indice_Count 3346"
"var2 17412"
"Submesh_3_Material_Name M_GlassOpaque_Mirror_Max"
"Position before verts 0L"
"Position before f-indice`s 2036528L"
"Position after f-indice`s 2043218L"
-- Error occurred in sub_m loop; filename: C:\Program Files\Autodesk\3ds Max 2012\Scripts\scriptbf4.ms; position: 12795; line: 391
--  Frame:
--   Vert_Tangents_array: #([3.48985e-005,0.00488281,3.15607e-005], [3.50177e-005,0.000106812,3.15905e-005], [3.50475e-005,0.000610352,3.15905e-005], [3.50475e-005,-0.00012207,3.15607e-005], [3.50475e-005,-0.000366211,3.15607e-005], [3.49283e-005,-3584,3.15309e-005], [3.50475e-005,-1.25,3.15309e-005], [3.50773e-005,-0.375,3.15309e-005], [3.49283e-005,-0.000183105,3.15309e-005], [3.50773e-005,-0.0234375,3.14713e-005], [3.50177e-005,0.000106812,3.15011e-005], [3.51071e-005,-0.000488281,3.14713e-005], [3.50177e-005,512,3.14415e-005], [3.05176e-005,256,3.12924e-005], [3.48985e-005,-768,3.13818e-005], [3.05176e-005,0.00292969,3.12924e-005], [3.45707e-005,-1.25,3.1352e-005], [3.05176e-005,0.03125,3.1352e-005], [3.05176e-005,512,3.10242e-005], [3.05176e-005,-6144,3.09944e-005], ...)
--   BoneIndexSameBool: true
--   layer: undefined
--   vertex_count: undefined
--   mesh1: undefined
--   bi_arr: undefined
--   bool_for_query_box: undefined
--   sub_m: 3
--   Vert_Normal_Array: #([0.673828,-2.56055,0], [0.642578,-2.57227,0], [0.641602,-2.54492,0], [0.608398,-2.5625,0], [0.641113,-2.53906,0], [0.60791,-2.55859,0], [0.610352,-2.5918,0], [0.597168,-2.59961,0], [0.584473,-2.58008,0], [0.583008,-2.57422,0], [0.591309,-2.60742,0], [0.587402,-2.61719,0], [0.565918,-2.59375,0], [0.563965,-2.58789,0], [0.580566,-2.625,0], [0.564453,-2.59766,0], [0.562012,-2.59375,0], [0.562012,-2.60938,0], [0.564453,-2.60938,0], [0.57959,-2.63086,0], ...)
--   vertIndex_array: undefined
--   parts_array: undefined
--   bnarr: undefined
--   Vert_Positions_array: #([11.1886,34.5501,-68.5123], [14.9766,34.4571,-67.6205], [15.0682,33.6608,-69.0996], [19.0684,33.5187,-67.8128], [15.0987,33.4129,-69.3051], [19.1102,33.2673,-68.0131], [18.8944,34.3404,-66.3362], [20.4632,34.2888,-65.6699], [21.9547,33.3762,-66.6137], [22.086,33.1175,-66.7755], [21.1435,34.3537,-65.2145], [21.6546,34.5096,-64.6172], [24.1451,33.228,-65.587], [24.3439,32.9754,-65.7361], [22.4586,34.5412,-64.0674], [24.3163,33.2953,-65.3503], [24.5497,33.0587,-65.4615], [24.5466,33.4683,-64.6414], [24.3111,33.6471,-64.6728], [22.5702,34.6444,-63.7993], ...)
--   VB_positions: #(769, 0, 1569, 12, 1570, 16, 1571, 20, 1572, 24, 5052, 28, 3074, 32, 3358, 36, 2256, 40, 8244, 48, ...)
--   vbi1: undefined
--   BoneCount_From_Order: 6
--   ba: 0
--   Vert_BiNormals_array: #([3.48985e-005,0.00488281,3.15607e-005], [3.50177e-005,0.000106812,3.15905e-005], [3.50475e-005,0.000610352,3.15905e-005], [3.50475e-005,-0.00012207,3.15607e-005], [3.50475e-005,-0.000366211,3.15607e-005], [3.49283e-005,-3584,3.15309e-005], [3.50475e-005,-1.25,3.15309e-005], [3.50773e-005,-0.375,3.15309e-005], [3.49283e-005,-0.000183105,3.15309e-005], [3.50773e-005,-0.0234375,3.14713e-005], [3.50177e-005,0.000106812,3.15011e-005], [3.51071e-005,-0.000488281,3.14713e-005], [3.50177e-005,512,3.14415e-005], [3.05176e-005,256,3.12924e-005], [3.48985e-005,-768,3.13818e-005], [3.05176e-005,0.00292969,3.12924e-005], [3.45707e-005,-1.25,3.1352e-005], [3.05176e-005,0.03125,3.1352e-005], [3.05176e-005,512,3.10242e-005], [3.05176e-005,-6144,3.09944e-005], ...)
--   face_array: #([2213,1,1], [2,3,4], [5,3,2], [4,3,5], [4,6,2], [7,4,8], [4,7,9], [6,4,4], [8,9,6], [9,10,9], [8,11,12], [9,11,13], [10,9,9], [12,13,10], [13,14,15], [13,12,16], [14,13,13], [15,16,14], [16,17,18], [17,16,18], ...)
--   vbi2: undefined
--   BoneOrderOffset: 1571
--   Submesh_Face_Indice_Count: 3346
--   vbi3: undefined
--   Vert_Diffuse_Array: #([0.101318,0.389648,0], [0.104248,0.389893,0], [0.104187,0.388184,0], [0.107361,0.388916,0], [0.104187,0.387939,0], [0.107361,0.388672,0], [0.107422,0.390869,0], [0.108704,0.391357,0], [0.10968,0.389893,0], [0.109802,0.389648,0], [0.109253,0.391602,0], [0.10968,0.392334,0], [0.111511,0.390625,0], [0.111633,0.390381,0], [0.110352,0.392822,0], [0.111633,0.390869,0], [0.111816,0.390869,0], [0.111877,0.391846,0], [0.111694,0.391846,0], [0.110474,0.393066,0], ...)
--   vbi4: undefined
--   bw_arr: undefined
--   Submesh_Mat_Name_Offset: 12797
--   var6: 1
--   skinMod: undefined
-- Error occurred during fileIn in #C:\Program Files\Autodesk\3ds Max 2012\Scripts\scriptbf4.ms; line number: 391
>> MAXScript FileIn Exception:
-- Runtime error: Vertex index in face out of range: [2213,1,1] <<
```


Imported parts


These files:
[https://yadi.sk/d/FJSl9xVYqi4pC](https://yadi.sk/d/FJSl9xVYqi4pC)
## Post #27
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-04-04T07:31:20+00:00
- Post Title: Re: NFS 16

> Reply from Wobble
>
> What textures?  You haven't posted any of those.  To get textures, I think this info is stored in ebx files.  It's a bit of pain to get.
Search for something called Batch Itexture Converter.  I think it handles iTextures.  Converts them all to dds.
Textures are extracted now, hoping are the right ones, but cant see what they are, IrfanView, Photoshop, Noesis etc, cant preview them, and ctex_all.bat DDS_Converter wont fix them either.
Whole car sample provided in link below, I hope its all there.

> Reply from kovalevich007
>
> I modified BF4 script. Import only car parts.
When I import a car, there is an error. I do not know how to fix it.
Error indeed, plus a whole lot of mess.
Full sample provided below, for you to test or those with more knowledge as well.



03.JPG (113.92 KiB) Viewed 256 times


[https://mega.nz/#!upl0waRa!UvxSjMSYTSU6 ... OMlCco3s1w](https://mega.nz/#!upl0waRa!UvxSjMSYTSU6qEy-PZ2h4IOsklgirKsoBOMlCco3s1w)

Cheers.
## Post #28
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-04-04T15:02:52+00:00
- Post Title: Re: NFS 16

[out]
## Post #29
- Username: shakotay2
- Rank: MEGAVETERAN
- Number of posts: 4299
- Joined date: Fri Apr 20, 2012 4:24 pm
- Post datetime: 2016-04-04T18:45:23+00:00
- Post Title: Re: NFS 16

> Reply from kovalevich007
>
> I modified BF4 script. Import only car parts.
When I import a car, there is an error. I do not know how to fix it.Is it your script?  
(If 'no', read error messages carefully.  )
"Runtime error: Vertex index in face out of range: [2213,1,1]"

The script is 4 bytes off with face indices, should start at 0x1F1334:
0x1F1330   A4 08 00 00 00 00 01 00  02 00 03 00 04 00 02 00

(0x8A4+1= 2213)
## Post #30
- Username: kovalevich007
- Rank: n00b
- Number of posts: 17
- Joined date: Fri Nov 12, 2010 11:03 pm
- Post datetime: 2016-04-04T20:43:06+00:00
- Post Title: Re: NFS 16

> Reply from shakotay2
>
> 
Is it your script?  
(If 'no', read error messages carefully.  )
"Runtime error: Vertex index in face out of range: [2213,1,1]"

I changed only these values:

```
	(	
		fseek mFile (80+Inc3) #seek_set 
		ObjectFullPathName_Position = readshort mFile #unsigned
		fseek mFile ObjectFullPathName_Position #seek_set 
		print	("ObjectFullPathName " + (ObjectFullPathName = readstring mFile ))
				
		fseek mFile (88+Inc3) #seek_set 
		ObjectFullName_Position = readshort mFile #unsigned

		fseek mFile ObjectFullName_Position #seek_set 
		print	("ObjectFullName " + (ObjectFullName = readstring mFile))as string

		fseek mFile 136 #seek_set
		print	("ObjectType " + (ObjectType = readShort mFile #unsigned)as string)
	  
		fseek mFile 116 #seek_set
		print	("GUID_Count " + (GUID_Count = readShort mFile #unsigned)as string)
				
		fseek mFile 140 #seek_set
		print	("First_Data_Block_Offset " + (First_Data_Block_Offset = readshort mFile #unsigned)as string)	
			
		fseek mFile 136 #seek_set
		print	("Mesh_Object_Count " + (Mesh_Object_Count = readShort mFile #unsigned)as string)
											
		fseek mFile 220 #seek_set
		print ("FaceIndiceOffset "+ (FaceIndiceOffset = (readlong mFile))as string)
			
	)
```


and

```
	(		
		print "------------------------------"
		print ("loop"+(Inc2)as string)
					
		fseek mFile (First_Data_Block_Offset+Inc1+116) #seek_set
		print (("Submesh_"+ (Inc2)as string) + "_VB_Size "  + (VB_Size = readshort mFile #unsigned)as string)	
					
		--For each submesh in the file except the one that has VB size less than 20 ( usually means it`s useless)
		if VB_Size > 20 then 
		(
			VB_positions=#()
			bone_Order_array=#()
					
			fseek mFile (First_Data_Block_Offset+Inc1+61) #seek_set
			print (BoneCount_From_Order = readbyte mFile #unsigned)
						
			-- Read BoneOrderOffset And read Bone Order info into array
			fseek mFile (First_Data_Block_Offset+Inc1+64) #seek_set
			print (BoneOrderOffset = readshort mFile)	
			fseek mFile (BoneOrderOffset) #seek_set
					
			for bn_ord = 1 to BoneCount_From_Order do 
			(
				b = readshort mFile
				append bone_Order_array b	
			)					
						
			fseek mFile (First_Data_Block_Offset+Inc1) #seek_set	

			fseek mFile 8 #seek_cur
			Submesh_Mat_Name_Offset = readshort mFile
				
			fseek mFile 26 #seek_cur
			print (("Submesh_"+ (Inc2)as string) +"_Vert_Count "+(Submesh_Vert_Count = readlong mFile #unsigned)as string)
					
			fseek mFile 12 #seek_cur
			for zulu = 1 to 30 do
			(
				append VB_positions (readshort mFile)
			)
					
			fseek mFile (First_Data_Block_Offset+Inc1+220) #seek_set
			print (("Submesh_"+ (Inc2)as string) + "_Face_Indice_Count " +(Submesh_Face_Indice_Count = readlong mFile #unsigned-var2)as string)
					
			if Inc2 >=1 do (fseek mFile (First_Data_Block_Offset+Inc1+220) #seek_set
			print ("var2 "+(var2= readlong mFile #unsigned)as string))				
					
			fseek mFile Submesh_Mat_Name_Offset #seek_set
			print (("Submesh_" + (Inc2)as string) + "_Material_Name " +(Submesh_Material_Name = readstring mFile )as string)
					
			Inc1 += 192
			Inc2 += 1
			Var1 =  Submesh_Face_Indice_Count

			if vert_start_pos ==0 then (fseek C_File vert_start_pos #seek_set) else fseek C_File last_vert_pos #seek_set
					
			print ("Position before verts "+((ftell C_File)as string))
```
## Post #31
- Username: shakotay2
- Rank: MEGAVETERAN
- Number of posts: 4299
- Joined date: Fri Apr 20, 2012 4:24 pm
- Post datetime: 2016-04-04T21:00:37+00:00
- Post Title: Re: NFS 16

I don't have the time to check that in detail, sry.
Simplest workaround I could think of is like this:

read the first face index (fstFI) seperately (before looping the rest).
If (fstFI!=0) then ( -- skip 4 bytes
fseek C_File 4 #seek_cur
-- read fstFI again
)

(Didn't test this! It might be possible that you need to read those 4 bytes as  faceindicescount instead of skipping them.)

edit: works 'tll loop12 (though there seem to be some oddities):



bmw.JPG (38.84 KiB) Viewed 227 times

well, M_Interior. M_Chassis. M_GlassOpaque_Mirror are totally spoiled -
guess you'll need a better workaround...
## Post #32
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-04-04T21:27:28+00:00
- Post Title: Re: NFS 16

> Reply from Wobble
>
> Extracted with what script?  All of your .dds files are corrupt.  They have no header, so nothing will open them.
That header info should be found in .Texture or .iTexture files, but you didn't seem to include them.
I used the following script I found in the forum, to dump the whole data from the game, it is THE ONLY one that works with the game with out further modifications or errors.
BF_Four_Python_Scripts

Every single texture that it extracts is included, only difference is that they are named with, .unknownres6bde20ba
There is no .texture or .itexture format extracted other than .unknownres6bde20ba
That's why I left the folder structure intact, because I included all the files it gave me for that specific car.
That's why I included the .txt files too used with the EBX2TXT.py script.

I used the following batch texture converter, which is the ONLY one that works from al the versions I found out there.
[https://dl.dropboxusercontent.com/u/881 ... WBF%29.rar](https://dl.dropboxusercontent.com/u/88155050/StarWars%20BF/Batch_Itexture_Converter%28SWBF%29.rar)
With other versions either it tells me that it failed or nothing happens.

I am out of ideas as to what else to try, obviously the main scripts need modification for proper extraction for the NFS16 game, other wise I will still have same results.

If anyone has a proper working script, then please point me to the right one.

thx.
## Post #33
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-04-05T00:45:38+00:00
- Post Title: Re: NFS 16

[out]
## Post #34
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-04-05T02:09:44+00:00
- Post Title: Re: NFS 16

> Reply from Wobble
>
> Ah, no wonder why.  Those are old scripts.

You should have this listed as a resType:
Code: Select all0x6BDE20BA:".Texture",


Try these scripts:
SWBF_Extraction.rar
viewtopic.php?f=10&t=13702

btw, you are correct, those are .Texture files.  You can rename all of them to .Texture, but, you still need the original texture chunk filename, like:
A45ABF9C2E9C1A48CB2343CC740A80CD.chunk
Thank you for your response.
Been having that script since march 18th when I came across it while doing research for the game, I thought I could do it all on my own only with the info I could find out there, yet had no real luck.
Now that script gave me nothing but errors, lets see.
It has the following:

```
#Often the assets are actually stored in cascat archives (the sbtoc knows where to search in the cascat), which is taken care of too.
#The script does not overwrite existing files (mainly because 10 sbtocs pointing at the same asset in the cascat would make the extraction time unbearable).

swbfDirectory    = r"D:\Program Files (x86)\Origin Games\STAR WARS Battlefront"
targetDirectory  = r"E:\Symthic\SWBF\Data\dump\Jakku_Patch_2"
#do yourself a favor and don't dump into the Users folder (or it might complain about permission) 


###The following paths do not require adjustments (unless the devs decided to rename their folders). Note that they are relative to swbfDirectory.

#As files are not overwritten, the patched files need to be extracted first.
#The script will dump all tocs it can find in these two folders+subfolders:
tocRoot  = r"Patch" #patched FIRST
tocRootX = r"Update"#then and xpack files
tocRoot2 = r"Data"   #unpatched vanilla files LAST

#Note: The "Patch" tocRoot contains both patch (for vanilla AND xpack) and unpatched xpack files. The reason it still
#      works correctly is because it goes through the folders alphabetically, so the patch comes first.

Xp0CatPath        =r"Update\Xpack0\Data\Win32\xp0\xp0\cas.cat"
Xp0updateCatPath  =r"Patch\Win32\xp0\xp0\cas.cat"

catPathInit       = r"Data\Win32\installation\initialexperience\cas.cat"
updateCatPathInit = r"Patch\Win32\installation\initialexperience\cas.cat"

catPathMp       = r"Data\Win32\installation\mp\cas.cat"
updateCatPathMp = r"Patch\Win32\installation\mp\cas.cat"

catPathSp       = r"Data\Win32\installation\sp\cas.cat"
updateCatPathSp = r"Patch\Win32\installation\sp\cas.cat"


#About the names of the res files:
#   The first part after the actual name (but before the file extension) is the RID. It's used by ebx to import res files.
#   When it is not just nulls, the resMeta is added after the RID. Its purpose depends on the file type.

#####################################
#####################################
```

but I need it in order to match my game installation with its files like this, the way its from that other script you say its old.

```
##then run the script again with the unpatched ones to get all files at their most recent version.

bf4Directory=r"C:\Program Files (x86)\Origin Games\Need for Speed"
outputfolder=r"C:\Users\User\Desktop\NFS_dump"



PatchedCatName=bf4Directory+"\\"+r"Update\Patch\Data\cas.cat" #used only when tocRoot contains "Update"
catName=bf4Directory+"\\"+r"Data\cas.cat" #use "" or r"" if you have no cat; doing so will make the script ignore patchedCatName too

tocRoot=bf4Directory+"\\"+r"Update\Patch\Data\Win32"
tocRoot=bf4Directory+"\\"+r"Data\Win32"


#####################################
#####################################
```

There for if I modify that new script with its correct paths it should look like this,

```
#Often the assets are actually stored in cascat archives (the sbtoc knows where to search in the cascat), which is taken care of too.
#The script does not overwrite existing files (mainly because 10 sbtocs pointing at the same asset in the cascat would make the extraction time unbearable).

swbfDirectory    = r"C:\Program Files (x86)\Origin Games\Need for Speed"
targetDirectory  = r"C:\Users\User\Desktop\NFS_dump"
#do yourself a favor and don't dump into the Users folder (or it might complain about permission) 


###The following paths do not require adjustments (unless the devs decided to rename their folders). Note that they are relative to swbfDirectory.

#As files are not overwritten, the patched files need to be extracted first.
#The script will dump all tocs it can find in these two folders+subfolders:
##tocRoot  = r"Patch" #patched FIRST
tocRootX = r"Update"#then and xpack files
tocRoot2 = r"Data"   #unpatched vanilla files LAST

#Note: The "Patch" tocRoot contains both patch (for vanilla AND xpack) and unpatched xpack files. The reason it still
#      works correctly is because it goes through the folders alphabetically, so the patch comes first.

PatchedCatName=swbfDirectory+"\\"+r"Update\Patch\Data\cas.cat" #used only when tocRoot contains "Update"
catName=swbfDirectory+"\\"+r"Data\cas.cat" #use "" or r"" if you have no cat; doing so will make the script ignore patchedCatName too

tocRoot=swbfDirectory+"\\"+r"Update\Patch\Data\Win32"
tocRoot=swbfDirectory+"\\"+r"Data\Win32"

##Xp0CatPath        =r"Update\Xpack0\Data\Win32\xp0\xp0\cas.cat"
##Xp0updateCatPath  =r"Patch\Win32\xp0\xp0\cas.cat"

##catPathInit       = r"Data\Win32\installation\initialexperience\cas.cat"
##updateCatPathInit = r"Patch\Win32\installation\initialexperience\cas.cat"

##catPathMp       = r"Data\Win32\installation\mp\cas.cat"
##updateCatPathMp = r"Patch\Win32\installation\mp\cas.cat"

##catPathSp       = r"Data\Win32\installation\sp\cas.cat"
##updateCatPathSp = r"Patch\Win32\installation\sp\cas.cat"


#About the names of the res files:
#   The first part after the actual name (but before the file extension) is the RID. It's used by ebx to import res files.
#   When it is not just nulls, the resMeta is added after the RID. Its purpose depends on the file type.

#####################################
#####################################
```

its just an example of the many I have tried, and no matter what it will still shows me errors about trying to find specific files from the SWBF game, which obviously aren't there, I tried even making it like this, and still nothing.

```
#Often the assets are actually stored in cascat archives (the sbtoc knows where to search in the cascat), which is taken care of too.
#The script does not overwrite existing files (mainly because 10 sbtocs pointing at the same asset in the cascat would make the extraction time unbearable).

swbfDirectory    = r"C:\Program Files (x86)\Origin Games\Need for Speed"
targetDirectory  = r"C:\Users\User\Desktop\NFS_dump"
#do yourself a favor and don't dump into the Users folder (or it might complain about permission) 


###The following paths do not require adjustments (unless the devs decided to rename their folders). Note that they are relative to swbfDirectory.

#As files are not overwritten, the patched files need to be extracted first.
#The script will dump all tocs it can find in these two folders+subfolders:
##tocRoot  = r"Patch" #patched FIRST
tocRootX = r"Update"#then and xpack files
tocRoot2 = r"Data"   #unpatched vanilla files LAST

#Note: The "Patch" tocRoot contains both patch (for vanilla AND xpack) and unpatched xpack files. The reason it still
#      works correctly is because it goes through the folders alphabetically, so the patch comes first.


Xp0CatPath        =r"\\"+r"Update\Patch\Data\cas.cat"
Xp0updateCatPath  =r"\\"+r"Update\Patch\Data\cas.cat"

catPathInit       = r"\\"+r"Data\cas.cat"
updateCatPathInit = r"\\"+r"Update\Patch\Data\cas.cat"

catPathMp       = r"\\"+r"Data\cas.cat"
updateCatPathMp = r"\\"+r"Update\Patch\Data\cas.cat"

catPathSp       = r"\\"+r"Data\cas.cat"
updateCatPathSp = r"\\"+r"Update\Patch\Data\cas.cat"


#About the names of the res files:
#   The first part after the actual name (but before the file extension) is the RID. It's used by ebx to import res files.
#   When it is not just nulls, the resMeta is added after the RID. Its purpose depends on the file type.

#####################################
#####################################
```

So my only solution remains to add all the missing resType in the working old script and dump all game one more time, and see what else it brings.
Because I simply have no advanced knowledge on how to properly modify the script other than proper path names.
And once again if you/someone has a proper way of adding the paths with out giving errors that has been working on it and its flawless, please advise.
thank you.

cheers.
## Post #35
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-04-05T02:26:23+00:00
- Post Title: Re: NFS 16

[out]
## Post #36
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-04-05T17:50:17+00:00
- Post Title: Re: NFS 16

> Reply from Wobble
>
> If the old script works, then use it.  Just copy the entire resTypes array from the new script to the old script.
It has a much better list.
Indeed it worked like that as well, also other than given proper/new names as specified by the resType, nothing else was changed, the extracted files pretty much where the same.
Does that mean based on the sample I provided will you be able to support proper import of the cars with all wheels in place and also textures?
Also, just wondering, the two sample textures I attached, seem large in size, yet up on extraction only two small png are converted, do they hold anything else inside that are so large?


 textures.7z
(182.54 KiB) Downloaded 51 times
## Post #37
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-04-05T20:45:23+00:00
- Post Title: Re: NFS 16

[out]
## Post #38
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-04-05T21:08:41+00:00
- Post Title: Re: NFS 16

> Reply from Wobble
>
> The SWBF 2015 plugin only imports .meshSet files.  Within this mesh file, there is no direct reference to the .Texture, so it won't be able to load any of them.
Meshes and textures are just smaller components of a bigger framework.

A proper loader needs to process the EBX file instead.  This is the master script.  It brings all these components together (meshes, materials, textures, transforms, etc..), but it's a pain to use.
Oh, ok, thank you for explaining, I wasn't aware of that part, that's good to know.

Now, on a different note.
I tried using the demo again of uu3d, but this time for the NFS Rivals game, and I get only this from the plug-in, can I get a sample of it and would like to take a look at the files and see why aren't being imported?



error.JPG (13.6 KiB) Viewed 191 times
## Post #39
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-04-06T00:00:25+00:00
- Post Title: Re: NFS 16

[out]
## Post #40
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-04-06T00:08:18+00:00
- Post Title: Re: NFS 16

> Reply from Wobble
>
>  I would need to see a .meshSet/.chunk pair to test it here.
Sample sent, please check your PM.

Thank you.
## Post #41
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-04-06T02:56:23+00:00
- Post Title: Re: NFS 16

[out]
## Post #42
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-04-06T03:09:16+00:00
- Post Title: Re: NFS 16

[out]
## Post #43
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-04-06T03:54:42+00:00
- Post Title: Re: NFS 16

> Reply from Wobble
>
> Got it.  Plugin should be updated.

Wheels are not transformed.  Transforms should be found the ebx file.

btw, don't let your script or any tools rename your mesh chunks or texture chunks.
These chunks should have a 32-bit SHA1 hash name.  If they get renamed, then the SWBF plugin won't be able to find them.
Thank you, now that was quick.
Much appreciated.
I only renamed them manually from the 32-bit SHA1 for you to see them in same folder alongside mesh/texture files.

BTW, I have also included in that PM all required .ebx and also decompressed/decrypted .txt with that required info, because since I never used before the uu3d, I have no idea how to use that info from .ebx/.txt and import it, so all meshes be placed accordingly, like tires/brakes/wheels etc etc etc.

Please have a look at them, and let me know how its done.
Since the those .txt are the actual .ebx converted, do you think maybe uu3d and its plugin can import that information and adjust the geometry in space as it should be?

For instance, the plug in asks for the required .chunk location and/or additional meshes which is neat, maybe an option where we can add that required info from .ebx/.txt could be implemented.

PS
Finally got the license and the export is smooth.
Ill do more tests/imports/exports on my own in coming days.
But the updated script works nicely.

cheers.
## Post #44
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-04-06T03:56:25+00:00
- Post Title: Re: NFS 16

> Reply from Wobble
>
> btw, .DxTexture files are slightly different than .Texture files.  It's basically the same format, except everything has been shifted over by 4 bytes.  They are an older version, so you can't just rename them to .Texture.  Tools will read in wrong.
Yes I tried renaming them and they end up messy, but unfortunately I have no clue as to how to convert them, any suggestions?

thanks
## Post #45
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-04-06T19:50:39+00:00
- Post Title: Re: NFS 16

[out]
## Post #46
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-04-06T23:33:59+00:00
- Post Title: Re: NFS 16

> Reply from Wobble
>
> I wrote a texture converter tool for my own testing purposes, but it needs to be cleaned up before I can release it.  It may not be the fastest or do batches.  It relies on texconv.exe (DirectX 11 Texture Converter (DirectXTex version)) to convert DX11 DDS textures to PNG.  So, you should have at least that.

Here it is:
https://directxtex.codeplex.com/wikipage?title=Texconv
Thank you I shall give it a try.

What do you think about what I wrote couple of posts up, about implementing in the plug-in an option to import the .ebx information, that is stored in the .txt files. You said that .ebx itself its a mess to work with, but extracted to a .txt its human readable.
Like proper import of the coordinates in the 3D space of the wheels, or other props a mesh might have.

cheers
## Post #47
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-04-07T03:20:43+00:00
- Post Title: Re: NFS 16

[out]
## Post #48
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-04-07T05:12:22+00:00
- Post Title: Re: NFS 16

> Reply from Wobble
>
> Well, it's not that simple.

I need to know first how to assign the ebx info to the mesh data.  I need something that tells me this wheel info belongs to a specific mesh part, as the mesh file contains multiple mesh parts.  The ebx transform belongs to "RaceWheelComponentData".  There's nothing like that in the mesh file.  I don't see how this is assigned to a specific mesh part.  The info may be spread across multiple ebx files, so it may be too complex to figure out.
OK, I guess that is complex to figure out since there is more than one wheel meshes in separate location and its add-ons etc etc etc.

There for how did you performed the following operation, I cant really figure out inside uu3d.
Because many meshes/objects with in the game have a specific transform to be placed in they're correct location.

> Reply from Wobble
>
> btw, each car wheel is missing a transform.  Without the transform, they sit at the origin.
Here's one transform:

```
                    trans::Vec3
                        x 0.7427433
                        y 0.18698251
                        z 1.4726108

```




wheel.JPG (82.56 KiB) Viewed 208 times



cheers
## Post #49
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-04-07T17:35:36+00:00
- Post Title: Re: NFS 16

[out]
## Post #50
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-04-07T20:31:57+00:00
- Post Title: Re: NFS 16

[out]
## Post #51
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-04-07T22:38:22+00:00
- Post Title: Re: NFS 16

> Reply from Wobble
>
> There is a last resort option.  Someone would need to create a database of all wheel transforms, either by hand or script.  Preferably in XML format.   And this single master script file could be loaded by the plugin.

It would look like this:
Code: Select all<car_bugatti_veyronsupersport_2012_mesh.mesh>
   <part>M_Tire_High</part>
   <wheels>
      <fl><trans>0.7427433 0.18698251 1.4726108</trans></fl>
      <fr><trans>0.7427433 0.18698251 1.4726108</trans></fr>
      <rl><trans>0.7427433 0.18698251 1.4726108</trans></rl>
      <rr><trans>0.7427433 0.18698251 1.4726108</trans></rr>
   </wheels>
</car_bugatti_veyronsupersport_2012_mesh.mesh>

etc...


It would need:
- name of car (filename)
- name of mesh part to assign these transforms to it. 
- positions for all 4 wheels
Oh, now that's neat, tedious but neat and not hard to do, as soon as I get some free time from work ill start to play with it, that's good news none the less.

> Reply from Wobble
>
> I think there's only one tire mesh, so it would have to be duplicated 4 times.

Not sure how to handle wheels imported as a single mesh.

car_bmw_m3e46_2003_wheelfl_seta_generic_mesh.mesh
car_bmw_m3e46_2003_wheelfr_seta_generic_mesh.mesh
car_bmw_m3e46_2003_wheelrl_seta_generic_mesh.mesh
car_bmw_m3e46_2003_wheelrr_seta_generic_mesh.mesh

Maybe just:
Code: Select all<car_bmw_m3e46_2003_wheelfl_seta_generic_mesh.mesh>
   <trans>0.7427433 0.18698251 1.4726108</trans>
</car_bmw_m3e46_2003_wheelfl_seta_generic_mesh.mesh>


This is all just ideas.  I wouldn't spend any time on it if it's not doable, though.
Nope, every part has its own mesh/chunk, there for its easier you don't have to mess with duplication rotation translate etc etc etc  etc... All customizations/add-ons are separate for each side of the car or what ever else are designed for.I'm actually excited to give it a try,
## Post #52
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-04-07T23:46:19+00:00
- Post Title: Re: NFS 16

[out]
## Post #53
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-04-08T04:45:21+00:00
- Post Title: Re: NFS 16

> Reply from Wobble
>
> What I'm saying is that I can include a transform for a entire file.

A mesh like car_bmw_m3e46_2003_wheelfl_seta_generic_mesh.mesh has two or more parts.
They all import at the origin.  Adding a <trans> transform will translate the entire file.
This way, I don't need to know what this mesh is.   All parts will get translated.  Nothing is duplicated.

But, I wouldn't do anything tedious, until it's been proved that this works.  Just focus on one car or so to test things out.
Damn that's a pain, lol, first of all the most tricky for me is to get used to the software, since I never ever used it before, second, wow tougher than I thought.
Looked trough the documentation, but couldn't really find how would one deal with something like this in uu3d for instance.

```
            right::Vec3
                x 1.0
                y 0.0
                z 0.0
            up::Vec3
                x 0.0
                y 1.0
                z 0.0
            forward::Vec3
                x 0.0
                y 0.0
                z 1.0
            trans::Vec3
                x 0.0
                y 0.0
                z 0.0
```
## Post #54
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-04-08T05:36:40+00:00
- Post Title: Re: NFS 16

[out]
## Post #55
- Username: streetracer23
- Rank: n00b
- Number of posts: 10
- Joined date: Sun Sep 28, 2014 8:51 pm
- Post datetime: 2016-04-08T08:22:45+00:00
- Post Title: Re: NFS 16

> Reply from Wobble
>
> You can ignore the right/up/forward axes, those are just for rotation.  Wheels only have translation.

Also, it doesn't matter if FL translation is actually for the FL wheel.   You can just fill in the translation in any order.  The plugin will make no distinction between them.

And I had to make some changes.  A wheel has more than one part to it.  Have to transform all parts.
Code: Select all<car_bugatti_veyronsupersport_2012_mesh.mesh>
   <parts>
      <part>M_Tire_High</part>
      <part>M_BrakeDisc_High</part>
      <part>M_Caliper_High</part>
      <part>M_Rim_High</part>
   </parts>
   <wheels>
      <fl><trans>0.86325896 0.22018297 1.2942749</trans></fl>
      <fr><trans>-0.81053865 0.24464998 -1.419171</trans></fr>
      <rl><trans>-0.86325896 0.22018297 1.2942749</trans></rl>
      <rr><trans>0.81053865 0.24464998 -1.419171</trans></rr>
   </wheels>
</car_bugatti_veyronsupersport_2012_mesh.mesh>

<car_bmw_m3e46_2003_wheelfl_seta_generic_mesh.mesh>
 <trans>0.7427433 0.18698251 1.4726108</trans>
</car_bmw_m3e46_2003_wheelfl_seta_generic_mesh.mesh>

<car_bmw_m3e46_2003_wheelfr_seta_generic_mesh.mesh>
 <trans>0.73564607 0.1891137 -1.2637401</trans>
</car_bmw_m3e46_2003_wheelfr_seta_generic_mesh.mesh>

<car_bmw_m3e46_2003_wheelrl_seta_generic_mesh.mesh>
 <trans>-0.7429049 0.18698251 1.4726108</trans>
</car_bmw_m3e46_2003_wheelrl_seta_generic_mesh.mesh>

<car_bmw_m3e46_2003_wheelrr_seta_generic_mesh.mesh>
 <trans>-0.7357229 0.1891137 -1.2637401</trans>
</car_bmw_m3e46_2003_wheelrr_seta_generic_mesh.mesh>


Script seems to work well.  But, I have no idea what this rod thing that's sticking out at the bottom.
That was there before and has nothing to do with the script.
Parts: 
M_Badges_High
M_Internal_Engine_High
wheels.JPG

Where I can download this script ?
## Post #56
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-04-08T13:52:21+00:00
- Post Title: Re: NFS 16

[out]
## Post #57
- Username: zimex25
- Rank: veteran
- Number of posts: 143
- Joined date: Fri Feb 05, 2016 4:20 am
- Post datetime: 2016-04-08T15:02:28+00:00
- Post Title: Re: NFS 16

wait at moment because i'm lost xD I have folders res bundels etc. but textures have stupid name example car_porsche_991gt3_2015_caliperbadge_d 43c1b66ecf57d635 0b000000010000000000000000000000.unknownres 6bde20ba but how convert to .itexture second problem I used Bf3_MeshFile_Type_Reader to convert chunks to named of cars but still had failed (yes i test from bf3 to swbf..)
[https://www.mediafire.com/folder/os4js8 ... 91gt3_2015](https://www.mediafire.com/folder/os4js8ayt286o/car_porsche_991gt3_2015)
## Post #58
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-04-08T15:43:15+00:00
- Post Title: Re: NFS 16

Mine had almost the same format in .xml, except that the car like Bugatti is from the game NeedForSpeed Rivals, and there is only one mesh for it, no other customizable parts to chase them around, like disk brakes tire, etc etc, and that's what made it easier to work with,
While on the other hand with the BMW car is from Need for Speed 2016 new version, and boy, does it have multiple customization parts or what, to chase them around, that's one more tedious part.
OH, and good to know about the rotation option, was clueless as to what it does, lol.

> Reply from Wobble
>
> You can ignore the right/up/forward axes, those are just for rotation.  Wheels only have translation.

Also, it doesn't matter if FL translation is actually for the FL wheel.   You can just fill in the translation in any order.  The plugin will make no distinction between them.

And I had to make some changes.  A wheel has more than one part to it.  Have to transform all parts.
Code: Select all<car_bugatti_veyronsupersport_2012_mesh.mesh>
   <parts>
      <part>M_Tire_High</part>
      <part>M_BrakeDisc_High</part>
      <part>M_Caliper_High</part>
      <part>M_Rim_High</part>
   </parts>
   <wheels>
      <fl><trans>0.86325896 0.22018297 1.2942749</trans></fl>
      <fr><trans>-0.81053865 0.24464998 -1.419171</trans></fr>
      <rl><trans>-0.86325896 0.22018297 1.2942749</trans></rl>
      <rr><trans>0.81053865 0.24464998 -1.419171</trans></rr>
   </wheels>
</car_bugatti_veyronsupersport_2012_mesh.mesh>

<car_bmw_m3e46_2003_wheelfl_seta_generic_mesh.mesh>
 <trans>0.7427433 0.18698251 1.4726108</trans>
</car_bmw_m3e46_2003_wheelfl_seta_generic_mesh.mesh>

<car_bmw_m3e46_2003_wheelfr_seta_generic_mesh.mesh>
 <trans>0.73564607 0.1891137 -1.2637401</trans>
</car_bmw_m3e46_2003_wheelfr_seta_generic_mesh.mesh>

<car_bmw_m3e46_2003_wheelrl_seta_generic_mesh.mesh>
 <trans>-0.7429049 0.18698251 1.4726108</trans>
</car_bmw_m3e46_2003_wheelrl_seta_generic_mesh.mesh>

<car_bmw_m3e46_2003_wheelrr_seta_generic_mesh.mesh>
 <trans>-0.7357229 0.1891137 -1.2637401</trans>
</car_bmw_m3e46_2003_wheelrr_seta_generic_mesh.mesh>
and also ...

> Reply from Wobble
>
> But, I have no idea what this rod thing that's sticking out at the bottom.
That was there before and has nothing to do with the script.
Parts: 
M_Badges_High
M_Internal_Engine_High
Its that back mechanism that when the car is in high speed to keep it on the ground for some balance of some sort, Part 1 tilts and comes up in the back a bit, to allow the Part2 that mechanism to come up, something like that, not sure if the script doesn't load its position or it needs also its translate options somewhere in the file.
Also has an animation to make it go up and back down I believe, somewhere or maybe its just a translate option as well as how it goes up and back down, but definitely not in the middle of the car where its at now.



part.JPG (215.66 KiB) Viewed 141 times
## Post #59
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-04-08T15:49:20+00:00
- Post Title: Re: NFS 16

> Reply from zimex25
>
> wait at moment because i'm lost xD I have folders res bundels etc. but textures have stupid name example car_porsche_991gt3_2015_caliperbadge_d 43c1b66ecf57d635 0b000000010000000000000000000000.unknownres 6bde20ba but how convert to .itexture second problem I used Bf3_MeshFile_Type_Reader to convert chunks to named of cars but still had failed (yes i test from bf3 to swbf..)
https://www.mediafire.com/folder/os4js8 ... 91gt3_2015
Ohhh, I kind of gave up on textures, you see, I have tried all the tools I found for all those frostbite games, and they give poor to none results for the new NeedForSpeed (.Texture) game, and literally no result for the NeedForSpeed Rivals (.DxTexture) game.
The only thing here is for those developers of those tools is to update them to support those textures as well, because some extract only the diffuse, yet ignore the normal maps or whet ever other textures might be there. I don't remember which one does what since I tried waaay tooo many, sorry.

cheers.
## Post #60
- Username: zimex25
- Rank: veteran
- Number of posts: 143
- Joined date: Fri Feb 05, 2016 4:20 am
- Post datetime: 2016-04-08T17:33:44+00:00
- Post Title: Re: NFS 16

> Reply from mono24
>
> zimex25 wrote:wait at moment because i'm lost xD I have folders res bundels etc. but textures have stupid name example car_porsche_991gt3_2015_caliperbadge_d 43c1b66ecf57d635 0b000000010000000000000000000000.unknownres 6bde20ba but how convert to .itexture second problem I used Bf3_MeshFile_Type_Reader to convert chunks to named of cars but still had failed (yes i test from bf3 to swbf..)
https://www.mediafire.com/folder/os4js8 ... 91gt3_2015
Ohhh, I kind of gave up on textures, you see, I have tried all the tools I found for all those frostbite games, and they give poor to none results for the new NeedForSpeed (.Texture) game, and literally no result for the NeedForSpeed Rivals (.DxTexture) game.
The only thing here is for those developers of those tools is to update them to support those textures as well, because some extract only the diffuse, yet ignore the normal maps or whet ever other textures might be there. I don't remember which one does what since I tried waaay tooo many, sorry.

cheers.

thx but i think ninja ripper is work for new nfs?
## Post #61
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-04-08T21:45:33+00:00
- Post Title: Re: NFS 16

> Reply from zimex25
>
> thx but i think ninja ripper is work for new nfs?
it does not extract textures intact though, they are extracted with shaders on it.
## Post #62
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-04-09T04:31:24+00:00
- Post Title: Re: NFS 16

[out]
## Post #63
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-04-10T01:29:09+00:00
- Post Title: Re: NFS 16

> Reply from Wobble
>
> Anyone like to try out this NFS texture converter?

This file is required:
https://directxtex.codeplex.com/wikipage?title=Texconv

I couldn't include texconv.exe here, as the attachment was too big.
Just copy texconv.exe to the same directory as nfs_converter.exe.
nfs_converter.zip
Sure, id love to give it a try, but, ummm, hehe, quick question, am I the only one getting nothing but the source code as download for the "texconv.exe"? Where's the damn .exe? lol
Because if it requires me to compile it, then, am out of luck.

cheers
## Post #64
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-04-10T02:07:52+00:00
- Post Title: Re: NFS 16

[out]
## Post #65
- Username: Acewell
- Rank: VIP member
- Number of posts: 1330
- Joined date: Wed Nov 05, 2008 7:16 pm
- Post datetime: 2016-04-10T02:24:50+00:00
- Post Title: Re: NFS 16

> Reply from mono24
>
> Sure, id love to give it a try, but, ummm, hehe, quick question, am I the only one getting nothing but the source code as download for the "texconv.exe"? Where's the damn .exe? lol
Because if it requires me to compile it, then, am out of luck.
i thought the same at first   
here is where the exe is
[https://github.com/Microsoft/DirectXTex/releases](https://github.com/Microsoft/DirectXTex/releases)
## Post #66
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-04-10T02:58:58+00:00
- Post Title: Re: NFS 16

Hmm, strangely, that texconv.exe got out only the .dds, and no .png.
And also thank you for the handy tool, I appreciate it very much.

> Reply from Wobble
>
> Ok, ignore that.  Try this one.  Texconv included:
http://www.mediafire.com/download/h66og ... verter.zip
Yet this texconv.exe you posted here AceWell, works flawlessly, with both games I tried so far NeedForSpeed 2016 .texture and NeedForSpeed Rivals .DxTexture.
Also big thanks for it, much appreciated.

> Reply from AceWell
>
> i thought the same at first   
here is where the exe is
https://github.com/Microsoft/DirectXTex/releases
I still do NOT understand why the resulted .dds after the process wont open in, lest say, IrfanView and Photoshop with its required NVidia plug-in, why those .dds are so picky?

cheers
## Post #67
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-04-10T03:14:12+00:00
- Post Title: Re: NFS 16

[out]
## Post #68
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-04-12T17:15:41+00:00
- Post Title: Re: NFS 16

[out]
## Post #69
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-04-13T05:55:33+00:00
- Post Title: Re: NFS 16

[out]
## Post #70
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-04-13T06:02:57+00:00
- Post Title: Re: NFS 16

> Reply from Wobble
>
> Got NFS The Run working.
Once again thank you for looking in to it further, and for your patience.
It is more than great news, as I thought the format was pretty much dead and unsupported.
btw, I know meshes gave you quite the trouble, what about textures? as tricky to make them work?

cheers
## Post #71
- Username: zimex25
- Rank: veteran
- Number of posts: 143
- Joined date: Fri Feb 05, 2016 4:20 am
- Post datetime: 2016-04-13T13:27:09+00:00
- Post Title: Re: NFS 16

But for Rivals isn't working
[Bez tytułu.png](https://xentaxbackup.github.io/file/10769_Bez tytułu.png)
## Post #72
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-04-13T17:01:15+00:00
- Post Title: Re: NFS 16

[out]
## Post #73
- Username: zimex25
- Rank: veteran
- Number of posts: 143
- Joined date: Fri Feb 05, 2016 4:20 am
- Post datetime: 2016-04-13T18:11:51+00:00
- Post Title: Re: NFS 16

I have .mesh and .chunks in one folder [http://www.mediafire.com/download/jzfly ... 3_2014.rar](http://www.mediafire.com/download/jzflybl12g8a3va/car_porsche_911gt3_2014.rar)
## Post #74
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-04-13T22:18:48+00:00
- Post Title: Re: NFS 16

[out]
## Post #75
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-04-14T04:48:39+00:00
- Post Title: Re: NFS 16

> Reply from zimex25
>
> But for Rivals isn't working
I think you got confused as to what that little tool is for, that's just for you to check the GUID info with in a mesh file for the correct .chunk file.
Everything works beautifully for the following Need for Speed games.

Need For Speed The Run (2011)
Need For Speed Rivals (2013)
Need For Speed 2016

In order to get all car meshes and its customizable content you need the following.
Both software to use and its third party plug in can be found [HERE](http://www.unwrap3d.com/u3d/downloads.aspx).

cheers
## Post #76
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-04-14T05:00:22+00:00
- Post Title: Re: NFS 16

> Reply from Wobble
>
> The mesh doesn't reference the texture directly, so you'll have to convert these separately using texconv.exe.
Oh, I know that , what I meant is that, the textures aren't recognized/converted from The Run game, I assume it needs to be updated, your convert tool?.
Because naming them to either .texture, .itexture or .dxtexture, wont help in any way, maybe its an odd format like the way meshes where?
If you still have the sample, from The Run game please have a look, the textures do not get converted at all in any of the three options, and results are all like this, or just a pixel horizontally, nothing else.



ast_one_77_10_mask_00000001.PNG (38.42 KiB) Viewed 347 times



cheers
## Post #77
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-04-14T05:25:50+00:00
- Post Title: Re: NFS 16

[out]
## Post #78
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-04-14T21:52:47+00:00
- Post Title: Re: NFS 16

[out]
## Post #79
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-04-14T21:54:55+00:00
- Post Title: Re: NFS 16

[out]
## Post #80
- Username: zimex25
- Rank: veteran
- Number of posts: 143
- Joined date: Fri Feb 05, 2016 4:20 am
- Post datetime: 2016-04-15T14:06:01+00:00
- Post Title: Re: NFS 16

First sorry guys for previos reply... NFS Texture converter isn't working for Rivals, all textures have noise
[1.png](https://xentaxbackup.github.io/file/10779_1.png)
## Post #81
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-04-15T18:46:23+00:00
- Post Title: Re: NFS 16

> Reply from zimex25
>
> First sorry guys for previos reply... NFS Texture converter isn't working for Rivals, all textures have noise
Do the following, for all three games texture extensions, if you have them all that is.
Need For Speed The Run (2011) texture is .itexture
Need For Speed Rivals (2013) texture is .dxtexture
Need For Speed 2016 texture is .texture

then all should work nicely with the nfs tex conv.

cheers
## Post #82
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-04-15T18:51:49+00:00
- Post Title: Re: NFS 16

> Reply from Wobble
>
> Rename your blank textures to .itexture.  This shows the correct texture dimensions.
e.g. If something says, "512 x 1", then it's the wrong texture format.


If you can find me these two GUID chunks, then I can take a look at it:
Code: Select allFile: chassis_00000001.itexture
Guid: 55A7041D12D96D8CA621A1063DFB754F.chunk, w,h: 512 x 512, format: 1

File: chassis_n_00000001.itexture
Guid: 4AD232A71E20E8BA3B48896109E558DB.chunk, w,h: 512 x 512, format: 1


I'm guessing textures are in the same compressed chunk format as meshes.
I just need a sample to test my theory.
Thank you for the updated tex converter.

all of those that start with ast_one_77_10 from
"\bb_ast_one_77_10_kit00_blueprintbundle\_c4\vehicles\nfs\ast_one_77_10\textures" the sample i sent you, are working ok, except the _n as you mentioned
but those from
"\bb_ast_one_77_10_kit00_blueprintbundle\_c4\vehicles\textures" still nothing, part of those two you requested, and i just included all chunks from that folder for further testing.

[https://mega.nz/#!uwkh2BhL!mYT9KUpD_luO ... jnvNvPCmlQ](https://mega.nz/#!uwkh2BhL!mYT9KUpD_luO9mzumvLqq9XCH3qc8PH7XjnvNvPCmlQ)

cheers
## Post #83
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-04-15T19:16:10+00:00
- Post Title: Re: NFS 16

[out]
## Post #84
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-04-15T19:48:00+00:00
- Post Title: Re: NFS 16

[out]
## Post #85
- Username: zimex25
- Rank: veteran
- Number of posts: 143
- Joined date: Fri Feb 05, 2016 4:20 am
- Post datetime: 2016-04-16T09:50:50+00:00
- Post Title: Re: NFS 16

> Reply from kovalevich007
>
> shakotay2 wrote:
Is it your script?  
(If 'no', read error messages carefully.  )
"Runtime error: Vertex index in face out of range: [2213,1,1]"


I changed only these values:
Code: Select all	--First readouts from .mesh file
	(	
		fseek mFile (80+Inc3) #seek_set 
		ObjectFullPathName_Position = readshort mFile #unsigned
		fseek mFile ObjectFullPathName_Position #seek_set 
		print	("ObjectFullPathName " + (ObjectFullPathName = readstring mFile ))
				
		fseek mFile (88+Inc3) #seek_set 
		ObjectFullName_Position = readshort mFile #unsigned

		fseek mFile ObjectFullName_Position #seek_set 
		print	("ObjectFullName " + (ObjectFullName = readstring mFile))as string

		fseek mFile 136 #seek_set
		print	("ObjectType " + (ObjectType = readShort mFile #unsigned)as string)
	  
		fseek mFile 116 #seek_set
		print	("GUID_Count " + (GUID_Count = readShort mFile #unsigned)as string)
				
		fseek mFile 140 #seek_set
		print	("First_Data_Block_Offset " + (First_Data_Block_Offset = readshort mFile #unsigned)as string)	
			
		fseek mFile 136 #seek_set
		print	("Mesh_Object_Count " + (Mesh_Object_Count = readShort mFile #unsigned)as string)
											
		fseek mFile 220 #seek_set
		print ("FaceIndiceOffset "+ (FaceIndiceOffset = (readlong mFile))as string)
			
	)

and
Code: Select all	for sub_m = 1 to mesh_object_count do
	(		
		print "------------------------------"
		print ("loop"+(Inc2)as string)
					
		fseek mFile (First_Data_Block_Offset+Inc1+116) #seek_set
		print (("Submesh_"+ (Inc2)as string) + "_VB_Size "  + (VB_Size = readshort mFile #unsigned)as string)	
					
		--For each submesh in the file except the one that has VB size less than 20 ( usually means it`s useless)
		if VB_Size > 20 then 
		(
			VB_positions=#()
			bone_Order_array=#()
					
			fseek mFile (First_Data_Block_Offset+Inc1+61) #seek_set
			print (BoneCount_From_Order = readbyte mFile #unsigned)
						
			-- Read BoneOrderOffset And read Bone Order info into array
			fseek mFile (First_Data_Block_Offset+Inc1+64) #seek_set
			print (BoneOrderOffset = readshort mFile)	
			fseek mFile (BoneOrderOffset) #seek_set
					
			for bn_ord = 1 to BoneCount_From_Order do 
			(
				b = readshort mFile
				append bone_Order_array b	
			)					
						
			fseek mFile (First_Data_Block_Offset+Inc1) #seek_set	

			fseek mFile 8 #seek_cur
			Submesh_Mat_Name_Offset = readshort mFile
				
			fseek mFile 26 #seek_cur
			print (("Submesh_"+ (Inc2)as string) +"_Vert_Count "+(Submesh_Vert_Count = readlong mFile #unsigned)as string)
					
			fseek mFile 12 #seek_cur
			for zulu = 1 to 30 do
			(
				append VB_positions (readshort mFile)
			)
					
			fseek mFile (First_Data_Block_Offset+Inc1+220) #seek_set
			print (("Submesh_"+ (Inc2)as string) + "_Face_Indice_Count " +(Submesh_Face_Indice_Count = readlong mFile #unsigned-var2)as string)
					
			if Inc2 >=1 do (fseek mFile (First_Data_Block_Offset+Inc1+220) #seek_set
			print ("var2 "+(var2= readlong mFile #unsigned)as string))				
					
			fseek mFile Submesh_Mat_Name_Offset #seek_set
			print (("Submesh_" + (Inc2)as string) + "_Material_Name " +(Submesh_Material_Name = readstring mFile )as string)
					
			Inc1 += 192
			Inc2 += 1
			Var1 =  Submesh_Face_Indice_Count

			if vert_start_pos ==0 then (fseek C_File vert_start_pos #seek_set) else fseek C_File last_vert_pos #seek_set
					
			print ("Position before verts "+((ftell C_File)as string))
any progress in importer mesh?
## Post #86
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-04-18T01:17:59+00:00
- Post Title: Re: NFS 16

> Reply from Wobble
>
> Rename your blank textures to .itexture.  This shows the correct texture dimensions.
e.g. If something says, "512 x 1", then it's the wrong texture format.


If you can find me these two GUID chunks, then I can take a look at it:
Code: Select allFile: chassis_00000001.itexture
Guid: 55A7041D12D96D8CA621A1063DFB754F.chunk, w,h: 512 x 512, format: 1

File: chassis_n_00000001.itexture
Guid: 4AD232A71E20E8BA3B48896109E558DB.chunk, w,h: 512 x 512, format: 1


I'm guessing textures are in the same compressed chunk format as meshes.
I just need a sample to test my theory.
Yep, those textures, are the only ones left now that sill can NOT be converted.
## Post #87
- Username: Luca
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Wed Apr 06, 2016 9:03 am
- Post datetime: 2016-04-24T01:26:59+00:00
- Post Title: Re: NFS 16

Has anyone figured out how to get the UV map from the .ebx?
(This is in the context of NFS16)

Sorry for my ignorance.
## Post #88
- Username: shakotay2
- Rank: MEGAVETERAN
- Number of posts: 4299
- Joined date: Fri Apr 20, 2012 4:24 pm
- Post datetime: 2016-04-26T08:24:20+00:00
- Post Title: Re: NFS 16

> Reply from zimex25
>
> kovalevich007 wrote:shakotay2 wrote:
Is it your script?  
(If 'no', read error messages carefully.  )
"Runtime error: Vertex index in face out of range: [2213,1,1]"

any progress in importer mesh?I've made another dirty patch (since I don't have the time to dig into 3D formats).
Checked it with one model only (with one submesh left spoiled):



car_bmw_m2_2016_mesh.JPG (124.64 KiB) Viewed 185 times


(script doesn't work with the porsche sample which you uploaded!)
## Post #89
- Username: zimex25
- Rank: veteran
- Number of posts: 143
- Joined date: Fri Feb 05, 2016 4:20 am
- Post datetime: 2016-04-26T13:59:59+00:00
- Post Title: Re: NFS 16

great  LOD 1 can be imported only if the LOD 0 ?
## Post #90
- Username: shakotay2
- Rank: MEGAVETERAN
- Number of posts: 4299
- Joined date: Fri Apr 20, 2012 4:24 pm
- Post datetime: 2016-04-27T07:20:09+00:00
- Post Title: Re: NFS 16

dunno what you mean exactly - there seem to be two lods, yes.

The Nissan is also imported by the script kovalevich007 uploaded. As you may know there's a "two bytes off" problem in this script.
It should be as simple as just increasing the face indices start address but that would affect the proper SMs, too, iirc.

The patch includes an automatical detection for skipping but for the Nissan there's a manual patch required to get the M_Interior_Max displayed properly, 
since the wrong face index (the script points to) is below the vertex count - thus this patch snippet is very ugly:

```
			  fa > Submesh_Vert_Count then fa=readshort C_File #unsigned -- at 0x1F4790
```
and it makes no sense to release it since it's very likely you'll need such for other models, too.

Patching the M_Glass_Window_Max automatically:

```
				fa= fb
				fb=readshort C_File #unsigned +1
			)
```
yeah, this code snippet is really very far from being "fail save" 



Nissan_SMs.jpg (195.62 KiB) Viewed 160 times



edit: well, I could exclude the manual handling of 2235 by simple means:

```
			then (
				fa= fb
				fb=readshort C_File #unsigned +1
			)		
```
## Post #91
- Username: zimex25
- Rank: veteran
- Number of posts: 143
- Joined date: Fri Feb 05, 2016 4:20 am
- Post datetime: 2016-05-09T15:42:45+00:00
- Post Title: Re: NFS 16

any progress?
## Post #92
- Username: AirOne
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Sep 08, 2010 4:29 pm
- Post datetime: 2016-05-10T18:47:24+00:00
- Post Title: Re: NFS 16

@ Wobble -> Is there a possibility to update nfs_filter_64.dlx with smoothing groups?
Tell me if I'm wrong, but apparently they're missing...

If you want to convert all DDS to PNG, (even normal maps), you may use apenov's DDS Converter ([http://www.nexusmods.com/fallout4/download/23549](http://www.nexusmods.com/fallout4/download/23549)).

Here is my xml for Corolla into UU3D:
<cars>
<car_toyota_sprintergtapex_1986_wheelfl_seta_generic_mesh.mesh>
 <trans>0.60710824 0.07055642 1.1981843</trans>
</car_toyota_sprintergtapex_1986_wheelfl_seta_generic_mesh.mesh>

<car_toyota_sprintergtapex_1986_wheelfr_seta_generic_mesh.mesh>
 <trans>-0.60704637 0.07055642 1.1981845</trans>
</car_toyota_sprintergtapex_1986_wheelfr_seta_generic_mesh.mesh>

<car_toyota_sprintergtapex_1986_wheelrl_seta_generic_mesh.mesh>
 <trans>0.629536 0.07055642 -1.1660806</trans>
</car_toyota_sprintergtapex_1986_wheelrl_seta_generic_mesh.mesh>

<car_toyota_sprintergtapex_1986_wheelrr_seta_generic_mesh.mesh>
 <trans>-0.6292627 0.07055641 -1.1660806</trans>
</car_toyota_sprintergtapex_1986_wheelrr_seta_generic_mesh.mesh>

<car_toyota_sprintergtapex_1986_animatedheadlightl_seta_generic_mesh>
 <trans>0.63606423 0.48411864 1.7665852</trans>
</car_toyota_sprintergtapex_1986_animatedheadlightl_seta_generic_mesh>

<car_toyota_sprintergtapex_1986_animatedheadlightl_setb_generic_mesh>
 <trans>0.63606423 0.48411864 1.7665852</trans>
</car_toyota_sprintergtapex_1986_animatedheadlightl_setb_generic_mesh>

<car_toyota_sprintergtapex_1986_animatedheadlightr_seta_generic_mesh>
 <trans>-0.63606423 0.48411864 1.7665852</trans>
</car_toyota_sprintergtapex_1986_animatedheadlightr_seta_generic_mesh>

<car_toyota_sprintergtapex_1986_animatedheadlightr_setb_generic_mesh>
 <trans>-0.63606423 0.48411864 1.7665852</trans>
</car_toyota_sprintergtapex_1986_animatedheadlightr_setb_generic_mesh>
</cars>
## Post #93
- Username: AirOne
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Sep 08, 2010 4:29 pm
- Post datetime: 2016-05-10T20:08:27+00:00
- Post Title: Re: NFS 16

Nevermind: it works.
## Post #94
- Username: AirOne
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Sep 08, 2010 4:29 pm
- Post datetime: 2016-05-10T22:11:26+00:00
- Post Title: Re: NFS 16

Regarding the texture extraction tool (nfs_converter_v102), I'm afraid this tool is not totally accurate for now because alpha maps are missing.
Several maps (ie badge / grill / chassis maps) need transparency in order to be applied on the car.
Is there any possility someone can update the itexture/chunk converter?
On the sample below you can see that squared bolts need transparency:
## Post #95
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-05-10T22:57:37+00:00
- Post Title: Re: NFS 16

[out]
## Post #96
- Username: AirOne
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Sep 08, 2010 4:29 pm
- Post datetime: 2016-05-11T08:20:14+00:00
- Post Title: Re: NFS 16

Some maps have alpha transparency, ie brembo badge caliper, but they're very rare.
Maybe are the _m maps used as a transparency for _d maps, but these are RGB maps and not B&W alpha map as usual.
I use:
_d as diffuse
_n as normal
_m as reflection level
I will try to put _m as opacity/transparency, changing RGB channel output to alpha as grey and see what happened...
## Post #97
- Username: AirOne
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Sep 08, 2010 4:29 pm
- Post datetime: 2016-05-11T09:26:04+00:00
- Post Title: Re: NFS 16

Maybe here is a clue:
[https://docs.unrealengine.com/latest/IN ... o/Masking/](https://docs.unrealengine.com/latest/INT/Engine/Rendering/Materials/HowTo/Masking/)
Red Channel: Ambient Occlusion information. In the Material, this is used to help add some surface variation to the base color.
Green Channel: Metallic Mask. In the Material, this is used to define which parts are supposed to be metal. This is also used to help define what color the metal should be.
Blue Channel: Non-Metallic Mask. In the Material, this is used to define which parts are non-metal. This mask also helps to define the color of the non-metal parts.
Alpha Channel: Whole object Mask. This is not currently used by the Material.
Will try later.
## Post #98
- Username: AirOne
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Sep 08, 2010 4:29 pm
- Post datetime: 2016-05-12T09:25:39+00:00
- Post Title: Re: NFS 16

x
## Post #99
- Username: AirOne
- Rank: beginner
- Number of posts: 35
- Joined date: Wed Sep 08, 2010 4:29 pm
- Post datetime: 2016-05-12T09:26:03+00:00
- Post Title: Re: NFS 16

OK, I'm on my way regarding texturing...
Most of _m maps (m for materials) store transparency/opacity as Blue channel, specular level as Green channel and reflective as Red channel.
On some _n normal maps, like grills for example, Red and Green channel are reserved for normal mapping but Blue channel is used as transparency/opacity.
I'm still working on lights and light glass, because channel data in these maps looks a bit different, and I can't get the right diffuse/opacity/specular/reflective/bump combo right now.
But I've got one question: in the game, some rims have primary and secondary color, but apparently when extracted in UU3D, I don't get material ID in order to separate and apply two different materials.
Can someone have a look on a rim and confirm this please?
If necessary, I can provide a chunk sample of a dual colors rim, just let me know.
Thank you!
## Post #100
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-05-12T21:56:46+00:00
- Post Title: Re: NFS 16

[out]
## Post #101
- Username: JONATHANTKB
- Rank: beginner
- Number of posts: 30
- Joined date: Mon Nov 24, 2014 12:24 pm
- Post datetime: 2016-05-23T00:50:56+00:00
- Post Title: Re: NFS 16

how use for extract mesh and chunks ? ?
## Post #102
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-06-01T00:10:04+00:00
- Post Title: Re: NFS 16

> Reply from Wobble
>
> Updated version with both programs included:
nfs_converter_v102.zip
Hi Wobble,
     ...is there a chance you could update the tex conversion tool, to look in subfolders as well, and not to manually keep selecting each texture location for every car?  

cheers
## Post #103
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-06-01T15:57:05+00:00
- Post Title: Re: NFS 16

[out]
## Post #104
- Username: JONATHANTKB
- Rank: beginner
- Number of posts: 30
- Joined date: Mon Nov 24, 2014 12:24 pm
- Post datetime: 2016-06-02T04:59:34+00:00
- Post Title: Re: NFS 16

? what is my error?
[](http://www.imagebam.com/image/bd46e9487210921)
## Post #105
- Username: Wobble
- Rank: ultra-veteran
- Number of posts: 584
- Joined date: Wed Jan 05, 2005 4:47 am
- Post datetime: 2016-06-02T05:36:29+00:00
- Post Title: Re: NFS 16

[out]
## Post #106
- Username: JONATHANTKB
- Rank: beginner
- Number of posts: 30
- Joined date: Mon Nov 24, 2014 12:24 pm
- Post datetime: 2016-06-02T14:08:59+00:00
- Post Title: Re: NFS 16

sorry but need one tutorial
## Post #107
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-06-02T23:51:54+00:00
- Post Title: Re: NFS 16

> Reply from JONATHANTKB
>
> sorry but need one tutorial
Here's first mistake I've noticed straight from the image you posted.
Make the change and let me know how it works.



errors.jpg (209.51 KiB) Viewed 379 times
## Post #108
- Username: JONATHANTKB
- Rank: beginner
- Number of posts: 30
- Joined date: Mon Nov 24, 2014 12:24 pm
- Post datetime: 2016-06-03T02:59:59+00:00
- Post Title: Re: NFS 16

> Reply from mono24
>
> JONATHANTKB wrote:sorry but need one tutorial 
Here's first mistake I've noticed straight from the image you posted.
Make the change and let me know how it works.
errors.jpg
     thanks bro
## Post #109
- Username: JONATHANTKB
- Rank: beginner
- Number of posts: 30
- Joined date: Mon Nov 24, 2014 12:24 pm
- Post datetime: 2016-06-03T16:48:27+00:00
- Post Title: Re: NFS 16

no have end?

[](http://www.imagebam.com/image/9dfe43487467438)
## Post #110
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-06-04T01:32:20+00:00
- Post Title: Re: NFS 16

> Reply from JONATHANTKB
>
> no have end?
I have no clue as to what is your showing regarding those chunks, or asking, you'll have to do better than that and explain your issue.
And also, again, just by looking at your image I can see the extraction is incomplete, or maybe you do NOT have the legit fully updated game, because the number of chunks is way higher than what you have there, or maybe your using the wrong extraction script.
## Post #111
- Username: JONATHANTKB
- Rank: beginner
- Number of posts: 30
- Joined date: Mon Nov 24, 2014 12:24 pm
- Post datetime: 2016-06-05T00:38:31+00:00
- Post Title: Re: NFS 16

> Reply from mono24
>
> JONATHANTKB wrote:no have end?
I have no clue as to what is your showing regarding those chunks, or asking, you'll have to do better than that and explain your issue.
And also, again, just by looking at your image I can see the extraction is incomplete, or maybe you do NOT have the legit fully updated game, because the number of chunks is way higher than what you have there, or maybe your using the wrong extraction script.
have full game and update
[Sin título.jpg](https://xentaxbackup.github.io/file/11016_Sin título.jpg)
## Post #112
- Username: zimex25
- Rank: veteran
- Number of posts: 143
- Joined date: Fri Feb 05, 2016 4:20 am
- Post datetime: 2016-06-10T15:06:47+00:00
- Post Title: Re: NFS 16

any progress? LOD B it's possible import?
## Post #113
- Username: ElyZium
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Fri Jun 17, 2016 4:06 pm
- Post datetime: 2016-06-18T23:18:29+00:00
- Post Title: Re: NFS 16

Any progress for the nfs import script for 3ds max?
## Post #114
- Username: shawn0317
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sun May 15, 2016 10:25 am
- Post datetime: 2016-07-06T23:36:01+00:00
- Post Title: Re: NFS 16

anything new for importing mesh with no smooth errors? nfs script works for me on all cars in max but all have smoothing issues
## Post #115
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2016-07-26T00:16:24+00:00
- Post Title: Re: NFS 16

> Reply from shawn0317
>
> anything new for importing mesh with no smooth errors? nfs script works for me on all cars in max but all have smoothing issues
Just errors or complete recalculation of smoothing?

I digging this problem two days for NFS Rivals cars, because only good result for smoothing you can get with Ninja Ripper + [custom import script](http://gamemodels.ru/forum/topic/180-how-to-rip-from-nfs-rivals/#entry1373) (reads normals and UV1+UV2 from rips):
[](http://fastpic.ru/view/78/2016/0726/3afc5e1d25665b07decbd6045e93a0a9.png.html)
(realistic materials without maps)

Standard [BF4 Import Script](https://www.youtube.com/watch?v=VdgwQpWCk84) looses normals data:
[](http://fastpic.ru/view/78/2016/0726/87e6a2409ba5ba6317a97d9b3a003b1b.png.html)

UUW3D importer do the same:
[](http://fastpic.ru/view/78/2016/0726/1c75fbd26d7fdddace0389d122a9b57d.png.html)

And just a hour ago, I accidentally find this [promising post](http://forum.xentax.com/viewtopic.php?p=110347#p110347), download scripts and put them in already running 3dsmax 2013, import a car... and got exactly the same result as with "standard" importer...
With small hope I close 3dsmax 2013 and run 2016, then tried to import with separating parts (as I always do) and 3dsmax crashed in the middle of import process...
Ok, I run it again and do import again, but without parts separation... bingo!:
[](http://fastpic.ru/view/78/2016/0726/6b10b4711628cb7d39564ad299d8749c.png.html)

PS: Do a little more testing - separation of meshes does not always crash 3dsmax 2016, but always broke normals to autocalculated (just like as with Forza models), so we have good smooth or animated parts.
Smoothing does not works for me if I try to import in 3dsmax 2013 without parts splitting (but model saved from 3dsmax 2016 into 2013 format looks ok).
## Post #116
- Username: shawn0317
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sun May 15, 2016 10:25 am
- Post datetime: 2016-07-30T04:49:31+00:00
- Post Title: Re: NFS 16

> Reply from Andrakann
>
> shawn0317 wrote:anything new for importing mesh with no smooth errors? nfs script works for me on all cars in max but all have smoothing issues
Just errors or complete recalculation of smoothing?

I digging this problem two days for NFS Rivals cars, because only good result for smoothing you can get with Ninja Ripper + custom import script (reads normals and UV1+UV2 from rips):

(realistic materials without maps)

Standard BF4 Import Script looses normals data:


UUW3D importer do the same:


And just a hour ago, I accidentally find this promising post, download scripts and put them in already running 3dsmax 2013, import a car... and got exactly the same result as with "standard" importer...
With small hope I close 3dsmax 2013 and run 2016, then tried to import with separating parts (as I always do) and 3dsmax crashed in the middle of import process...
Ok, I run it again and do import again, but without parts separation... bingo!:


PS: Do a little more testing - separation of meshes does not always crash 3dsmax 2016, but always broke normals to autocalculated (just like as with Forza models), so we have good smooth or animated parts.
Smoothing does not works for me if I try to import in 3dsmax 2013 without parts splitting (but model saved from 3dsmax 2016 into 2013 format looks ok).

Non of this scripts seem to work for me, they do nothing when i select .mesh file, i have some other script called nfsinporter2016 and it works but gives the smooth error

EDIT: i moved chunk to new folder and now the select chunk option comes up, i select correct chunk then nothing happens, am i doing something wrong?
## Post #117
- Username: Andrakann
- Rank: ultra-veteran
- Number of posts: 392
- Joined date: Wed Jul 06, 2011 3:47 pm
- Post datetime: 2016-07-30T11:21:00+00:00
- Post Title: Re: NFS 16

> Reply from shawn0317
>
> Non of this scripts seem to work for me, they do nothing when i select .mesh file, i have some other script called nfsinporter2016 and it works but gives the smooth error

EDIT: i moved chunk to new folder and now the select chunk option comes up, i select correct chunk then nothing happens, am i doing something wrong?
Maybe you used another script for dumping?
I used from [this tuto](https://www.youtube.com/watch?v=VdgwQpWCk84), dump game, then used "Bf3_MeshFile_Type_Reader.exe" from the same tools pack for sorting out chunks for meshes, at the end I got this directory structure:
[](http://fastpic.ru/view/77/2016/0730/f82bf5c27d8935ce0abfe6581c943017.png.html)
Meshes and chunks with same name placed in subfolders.
## Post #118
- Username: shawn0317
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sun May 15, 2016 10:25 am
- Post datetime: 2016-07-30T18:22:18+00:00
- Post Title: Re: NFS 16

> Reply from Andrakann
>
> shawn0317 wrote:Non of this scripts seem to work for me, they do nothing when i select .mesh file, i have some other script called nfsinporter2016 and it works but gives the smooth error

EDIT: i moved chunk to new folder and now the select chunk option comes up, i select correct chunk then nothing happens, am i doing something wrong?
Maybe you used another script for dumping?
I used from this tuto, dump game, then used "Bf3_MeshFile_Type_Reader.exe" from the same tools pack for sorting out chunks for meshes, at the end I got this directory structure:

Meshes and chunks with same name placed in subfolders.

My dump looks the same also
## Post #119
- Username: REDZOEU
- Rank: veteran
- Number of posts: 151
- Joined date: Thu Mar 10, 2011 3:03 pm
- Post datetime: 2016-08-03T07:59:03+00:00
- Post Title: Re: NFS 16

I got all files extracted. Now i'm trying to import car models. But there's a problem.
I can't get the importer for the meshes. Also the Ultimate Unwrap 3D page loads extremely slow (server issues?).
This is what i selected at the download page:

And after clicking on "Download", the next webpage loads, only to show this:


Can someone send me the plugin for UU3D instead?
## Post #120
- Username: Acewell
- Rank: VIP member
- Number of posts: 1330
- Joined date: Wed Nov 05, 2008 7:16 pm
- Post datetime: 2016-08-03T08:18:36+00:00
- Post Title: Re: NFS 16

here ya go  


 nfs.zip
(58.61 KiB) Downloaded 121 times
## Post #121
- Username: javadst
- Rank: n00b
- Number of posts: 11
- Joined date: Fri Jul 29, 2016 10:23 pm
- Post datetime: 2016-08-03T17:41:23+00:00
- Post Title: Re: NFS 16

Please Put Clean 3dsMax Script like Battlefield 4 or SWBF ...
## Post #122
- Username: john mac
- Rank: ultra-n00b
- Number of posts: 8
- Joined date: Thu Apr 21, 2016 7:06 pm
- Post datetime: 2016-08-03T17:53:26+00:00
- Post Title: Re: NFS 16

what kinda directory should i select for both mesh and chunk??
## Post #123
- Username: javadst
- Rank: n00b
- Number of posts: 11
- Joined date: Fri Jul 29, 2016 10:23 pm
- Post datetime: 2016-08-22T05:13:26+00:00
- Post Title: Re: NFS 16

Hi.clean max script please.
any progress ... ?
## Post #124
- Username: kermanRB12
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Sun Aug 28, 2016 11:00 pm
- Post datetime: 2016-09-06T16:49:11+00:00
- Post Title: Re: NFS 16

Any proress extracting the models?, can´t wait for the Nissan Skyline R34
## Post #125
- Username: kermanRB12
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Sun Aug 28, 2016 11:00 pm
- Post datetime: 2016-10-01T10:58:27+00:00
- Post Title: Re: NFS 16

> Reply from mono24
>
> zimex25 wrote:But for Rivals isn't working
I think you got confused as to what that little tool is for, that's just for you to check the GUID info with in a mesh file for the correct .chunk file.
Everything works beautifully for the following Need for Speed games.

Need For Speed The Run (2011)
Need For Speed Rivals (2013)
Need For Speed 2016

In order to get all car meshes and its customizable content you need the following.
Both software to use and its third party plug in can be found HERE.

cheers

the link is down
## Post #126
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-10-02T02:10:55+00:00
- Post Title: Re: NFS 16

> Reply from kermanRB12
>
> the link is down
Everything works fine.
## Post #127
- Username: Justdragos
- Rank: advanced
- Number of posts: 69
- Joined date: Tue Feb 21, 2012 3:19 pm
- Post datetime: 2016-10-03T11:52:44+00:00
- Post Title: Re: NFS 16

Are those script i saw on this pages for the pc version or xbox version ?
## Post #128
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-10-03T18:48:31+00:00
- Post Title: Re: NFS 16

> Reply from Justdragos
>
> Are those script i saw on this pages for the pc version or xbox version ?
As far as I know, PC.
## Post #129
- Username: cornal
- Rank: beginner
- Number of posts: 39
- Joined date: Sat Oct 25, 2014 10:31 am
- Post datetime: 2016-11-05T00:42:14+00:00
- Post Title: Re: NFS 16

Need some help !!! how extract the files from NFS the Run with the python Script? 
When i try with the script only get this message:

Traceback (most recent call last):
  File "D:\Forza Horizon 3\BF4_Python_Scripts\Python_Scripts\dumper.py", line 282, in <module>
    cat=Cat(catName)
  File "D:\Forza Horizon 3\BF4_Python_Scripts\Python_Scripts\dumper.py", line 47, in __init__
    cat2=open(catname,"rb")
IOError: [Errno 2] No such file or directory: 'D:\\Need For Speed The Run\\Data\\cas.cat'
## Post #130
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-11-05T02:34:19+00:00
- Post Title: Re: NFS 16

> Reply from cornal
>
> Traceback (most recent call last):
  File "D:\Forza Horizon 3\BF4_Python_Scripts\Python_Scripts\dumper.py", line 282, in <module>
    cat=Cat(catName)
  File "D:\Forza Horizon 3\BF4_Python_Scripts\Python_Scripts\dumper.py", line 47, in __init__
    cat2=open(catname,"rb")
IOError: [Errno 2] No such file or directory: 'D:\\Need For Speed The Run\\Data\\cas.cat'
First of all, I'm no expert in this but, Although an actual screen shot of the script and the problem would have been better, it looks like you didn't put the proper directory with its files in place, of the game that is, inside the python script.
## Post #131
- Username: cornal
- Rank: beginner
- Number of posts: 39
- Joined date: Sat Oct 25, 2014 10:31 am
- Post datetime: 2016-11-05T16:45:14+00:00
- Post Title: Re: NFS 16

Here is the error:

[](http://www.imagebam.com/image/96ebd8513400792)

Also i have problems with chunk & mesh tool, it doesnt works, Ive tried and always have 0 successful :

[](http://www.imagebam.com/image/c6ac37513411594)
## Post #132
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-11-05T23:20:07+00:00
- Post Title: Re: NFS 16

I just realized, you want for THE Run game NOT Rivals.
Because NFS The Run does NOT work with those python scripts, they only work with the games based on cas.cat files, where they hold all the info to be extracted for both chunks and other data files.
So what you need is Luigi's quickbms tool and the frostbite script for the .sd/.toc files.

> Reply from cornal
>
> 

Do not bother with those tools, they do NOT work for the NFS series games, I too had ZERO success using them.

> Reply from cornal
>
> Also i have problems with chunk & mesh tool, it doesnt works, Ive tried and always have 0 successful :
## Post #133
- Username: cornal
- Rank: beginner
- Number of posts: 39
- Joined date: Sat Oct 25, 2014 10:31 am
- Post datetime: 2016-11-12T05:28:43+00:00
- Post Title: Re: NFS 16

Every time I try open a model from NFS 16, 3dsmax crashes, maybe the script only work in x64
## Post #134
- Username: Justdragos
- Rank: advanced
- Number of posts: 69
- Joined date: Tue Feb 21, 2012 3:19 pm
- Post datetime: 2016-12-29T15:55:11+00:00
- Post Title: Re: NFS 16

Hello! I know i'm askig for to much, but could somebody please post all the steps and programs i need to extract the cars/Rims from nfs 16. I have red al the post on this topic, but somehow i don't understand what to do and which program/script i have to use first...

Thank you:D
## Post #135
- Username: cornal
- Rank: beginner
- Number of posts: 39
- Joined date: Sat Oct 25, 2014 10:31 am
- Post datetime: 2017-02-16T22:54:05+00:00
- Post Title: Re: NFS 16

Exist a script to open .mesh of NFS The Run in 3dsmax?
## Post #136
- Username: Justdragos
- Rank: advanced
- Number of posts: 69
- Joined date: Tue Feb 21, 2012 3:19 pm
- Post datetime: 2017-03-16T11:05:58+00:00
- Post Title: Re: NFS 16

Did you manage to extract the cars from the games? I red all the pages from this topic but because my english is not so good, i didn't understand to much
## Post #137
- Username: shawn0317
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sun May 15, 2016 10:25 am
- Post datetime: 2017-04-01T01:14:32+00:00
- Post Title: Re: NFS 16

Has anyone made progress on this? i had a dump before with all chunks and mesh's in same folder but cant find the chunk/mesh tool i used anymore, would like to get these models sometime
## Post #138
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2017-04-01T04:51:05+00:00
- Post Title: Re: NFS 16

> Reply from shawn0317
>
> Has anyone made progress on this?
What kind of progress are we talking here though?
Everything can be extracted already.
## Post #139
- Username: adnan54
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Wed Jul 05, 2017 9:35 am
- Post datetime: 2017-07-05T01:50:28+00:00
- Post Title: Re: NFS 16

How do i can extract the 3d models from nfs 2015/2016? I have read the whole topic but i still cant understand
## Post #140
- Username: shakotay2
- Rank: MEGAVETERAN
- Number of posts: 4299
- Joined date: Fri Apr 20, 2012 4:24 pm
- Post datetime: 2017-07-06T09:19:46+00:00
- Post Title: Re: NFS 16

yeah, this is the most spoiled thread I've ever met.  
there's python and max scripts, there's a tool from a guy who ragequitted the forum by erasing all his post leaving this thread rather broken,   

In the end it's possible to get the meshes (even using hex2obj on chunk files) but you'll need some basic understanding of formats and scripts. (There was a maxscript which I patched to work with a specific model.)
