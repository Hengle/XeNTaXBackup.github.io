## Post #1
- Username: unlimited32
- Rank: beginner
- Number of posts: 38
- Joined date: Sat Oct 16, 2010 8:27 pm
- Post datetime: 2010-10-19T18:37:41+00:00
- Post Title: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

The contents of this post was deleted because of possible forum rules violation.
## Post #2
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2010-10-20T05:55:23+00:00
- Post Title: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

> Reply from unlimited32
>
> The only thing i have done so far is to extract the files and folders within these .packed files (from the PS3 version, there are 3, plus 2 which contains sound and music, from what i can see) with "quickbms". the .DDS files are readable and can open those, but nothing else
I'm too interesting in meshes from this game, but anyway if you want progress you need to upload any samples, not the all people have this game
## Post #3
- Username: unlimited32
- Rank: beginner
- Number of posts: 38
- Joined date: Sat Oct 16, 2010 8:27 pm
- Post datetime: 2010-10-20T14:08:57+00:00
- Post Title: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

> Reply from Tosyk
>
> unlimited32 wrote:The only thing i have done so far is to extract the files and folders within these .packed files (from the PS3 version, there are 3, plus 2 which contains sound and music, from what i can see) with "quickbms". the .DDS files are readable and can open those, but nothing else 
I'm too interesting in meshes from this game, but anyway if you want progress you need to upload any samples, not the all people have this game

Yes and here it goes: some files from this game extracted (.sm3, .cm3, .pxs and so on). 

 b.part1.rar
(256 KiB) Downloaded 160 times
## Post #4
- Username: unlimited32
- Rank: beginner
- Number of posts: 38
- Joined date: Sat Oct 16, 2010 8:27 pm
- Post datetime: 2010-10-20T14:09:41+00:00
- Post Title: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

part2
[b.part2.rar](https://xentaxbackup.github.io/file/3542_b.part2.rar)
## Post #5
- Username: unlimited32
- Rank: beginner
- Number of posts: 38
- Joined date: Sat Oct 16, 2010 8:27 pm
- Post datetime: 2010-10-20T14:10:12+00:00
- Post Title: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

part3
[b.part3.rar](https://xentaxbackup.github.io/file/3543_b.part3.rar)
## Post #6
- Username: unlimited32
- Rank: beginner
- Number of posts: 38
- Joined date: Sat Oct 16, 2010 8:27 pm
- Post datetime: 2010-10-20T14:10:39+00:00
- Post Title: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

part4 (final part).
[b.part4.rar](https://xentaxbackup.github.io/file/3544_b.part4.rar)
## Post #7
- Username: unlimited32
- Rank: beginner
- Number of posts: 38
- Joined date: Sat Oct 16, 2010 8:27 pm
- Post datetime: 2010-10-20T14:27:00+00:00
- Post Title: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

The contents of this post was deleted because of possible forum rules violation.
## Post #8
- Username: unlimited32
- Rank: beginner
- Number of posts: 38
- Joined date: Sat Oct 16, 2010 8:27 pm
- Post datetime: 2010-10-22T15:15:03+00:00
- Post Title: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

is there any info on what different types of files are?

like:

.dds = textures?
.cm3 = animations?
.sm3 = models?
.mtl = materials?
.pxm = ?
.msh = meshes? etc...

The game files are not only compressed but encrypted as well?
Is there anything specific to be mindful of, like game engines (in this case the mercurysteam engine), in house software and tools, specific file formats and structure that isn't common for others outside? lack of time and knowledge sucks 

What should i look for or where should i start (if i find some time)?

New edit: Well, it seems rather hard to get all of the assets, so if someone needs any files and samples (even from the game disc itself), just tell me. I'm using the PS3 version of Castlevania (BLES01047), with a total size of: 11.9 GB (12,846,831,036 bytes).

Thanks in advance.
## Post #9
- Username: Karpati
- Rank: ultra-veteran
- Number of posts: 467
- Joined date: Fri Dec 08, 2006 6:25 am
- Post datetime: 2010-10-27T16:30:21+00:00
- Post Title: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

I added the Mercury Steam .sm3 loader module to 3D Object Converter v4.427

[url]http://www.kz_3d.tvn.hu/mercury_steam.jpg[/url]

I uploaded the converted Wavefront .obj/mtl files:

[url]http://www.kz_3d.tvn.hu/mercury_steam.zip[/url]
## Post #10
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2010-10-27T17:38:10+00:00
- Post Title: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

> Reply from Karpati
>
> I added the Mercury Steam .sm3 loader module to 3D Object Converter v4.427

[url]http://www.kz_3d.tvn.hu/mercury_steam.jpg[/url]

I uploaded the converted Wavefront .obj/mtl files:

[url]http://www.kz_3d.tvn.hu/mercury_steam.zip[/url]

Why without bones??
## Post #11
- Username: Ares722
- Rank: veteran
- Number of posts: 154
- Joined date: Thu Jul 15, 2010 9:15 pm
- Post datetime: 2010-10-27T17:57:15+00:00
- Post Title: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

Could you post the dae version with bone?Or covert a rigged model is not possibe for this game yet?
Ps thank you so much!!!
## Post #12
- Username: Karpati
- Rank: ultra-veteran
- Number of posts: 467
- Joined date: Fri Dec 08, 2006 6:25 am
- Post datetime: 2010-10-29T14:58:33+00:00
- Post Title: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

Tosyk,

My program does not use the bone datas.
## Post #13
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2010-10-29T15:15:45+00:00
- Post Title: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

> Reply from Karpati
>
> Tosyk,
My program does not use the bone datas.
I've known your program for so many years and I think it's very-very good tool!  But every time I turn to it I think to myself: WHY?? WHYYY THIS TOOL DOES NOT HAVE SUPPORT FOR BONES???

p.s.: I think implementing the bones support will be a great progress.
## Post #14
- Username: orbbu
- Rank: beginner
- Number of posts: 26
- Joined date: Wed Jan 20, 2010 5:36 pm
- Post datetime: 2010-10-29T18:52:18+00:00
- Post Title: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

Hello,

Can you please share the quickbms script for unpacking the files ?

Thanks in advance
## Post #15
- Username: Tosyk
- Rank: double-veteran
- Number of posts: 1027
- Joined date: Thu Oct 22, 2009 5:24 pm
- Post datetime: 2010-10-29T18:54:31+00:00
- Post Title: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

> Reply from orbbu
>
> Hello,

Can you please share the quickbms script for unpacking the files ?

Thanks in advance
attached 
[Tools.7z](https://xentaxbackup.github.io/file/3567_Tools.7z)
## Post #16
- Username: orbbu
- Rank: beginner
- Number of posts: 26
- Joined date: Wed Jan 20, 2010 5:36 pm
- Post datetime: 2010-10-29T18:58:00+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

lol, quick reply  thanks alot
## Post #17
- Username: Karpati
- Rank: ultra-veteran
- Number of posts: 467
- Joined date: Fri Dec 08, 2006 6:25 am
- Post datetime: 2010-10-29T19:00:01+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

I received extracted files only ( I don't have this game).

Did you see this thread ?

[viewtopic.php?f=10&t=5102](http://forum.xentax.com/viewtopic.php?f=10&t=5102)
## Post #18
- Username: unlimited32
- Rank: beginner
- Number of posts: 38
- Joined date: Sat Oct 16, 2010 8:27 pm
- Post datetime: 2010-11-13T10:09:54+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

When i use the quickbms scripts listed here the character Laura for example is not extracted!!  Is there any reason for that? Maybe the script/s don't pick up everything from these packed files (00, 01 and 02)??
## Post #19
- Username: Karpati
- Rank: ultra-veteran
- Number of posts: 467
- Joined date: Fri Dec 08, 2006 6:25 am
- Post datetime: 2010-11-15T19:07:19+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

I improved the Mercury Steam .sm3 loader module in the 3D Object Converter v4.430

I uploaded the converted (fully UV textured) Wavefront .obj/mtl files:

http://www.kz_3d.tvn.hu/mercury_steam_2.zip

You can update your installed application (version>=4.0) quickly and easily using the auto-update function (Help/Check for updates…).
## Post #20
- Username: bertus
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Sun Dec 19, 2010 8:14 am
- Post datetime: 2010-12-19T16:53:28+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

The contents of this post was deleted because of possible forum rules violation.
## Post #21
- Username: Chimera
- Rank: n00b
- Number of posts: 15
- Joined date: Thu Feb 24, 2011 11:31 pm
- Post datetime: 2011-02-27T09:31:17+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

Hello !
sorry to have bumped this thread, but can anyone pretty please place a download link for gabriel's texture ? 

thank you everyone !
## Post #22
- Username: unlimited32
- Rank: beginner
- Number of posts: 38
- Joined date: Sat Oct 16, 2010 8:27 pm
- Post datetime: 2011-04-11T14:27:05+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

Anyone here with custom PS3 firmware who has Castlevania Lords of Shadow Reverie DLC??
## Post #23
- Username: unlimited32
- Rank: beginner
- Number of posts: 38
- Joined date: Sat Oct 16, 2010 8:27 pm
- Post datetime: 2011-04-11T14:37:07+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

The contents of this post was deleted because of possible forum rules violation.
## Post #24
- Username: unlimited32
- Rank: beginner
- Number of posts: 38
- Joined date: Sat Oct 16, 2010 8:27 pm
- Post datetime: 2011-04-11T14:39:14+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

This DLC by the way has 3 new levels and the model "Laura" in it!! She is playable in some sections so anyone who can copy the downloaded files from PSN can please share this!!
## Post #25
- Username: unlimited32
- Rank: beginner
- Number of posts: 38
- Joined date: Sat Oct 16, 2010 8:27 pm
- Post datetime: 2011-04-11T16:37:22+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

The contents of this post was deleted because of possible forum rules violation.
## Post #26
- Username: unlimited32
- Rank: beginner
- Number of posts: 38
- Joined date: Sat Oct 16, 2010 8:27 pm
- Post datetime: 2011-04-11T18:19:14+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

The contents of this post was deleted because of possible forum rules violation.
## Post #27
- Username: unlimited32
- Rank: beginner
- Number of posts: 38
- Joined date: Sat Oct 16, 2010 8:27 pm
- Post datetime: 2011-04-11T18:37:57+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

The contents of this post was deleted because of possible forum rules violation.
## Post #28
- Username: unlimited32
- Rank: beginner
- Number of posts: 38
- Joined date: Sat Oct 16, 2010 8:27 pm
- Post datetime: 2011-04-11T19:09:22+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

The contents of this post was deleted because of possible forum rules violation.
## Post #29
- Username: dreamvoice
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Mon Apr 11, 2011 4:28 am
- Post datetime: 2011-04-13T17:58:25+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

It is possible to export .msh or .sm3 to .Obj with 3D Object Converter ?
## Post #30
- Username: unlimited32
- Rank: beginner
- Number of posts: 38
- Joined date: Sat Oct 16, 2010 8:27 pm
- Post datetime: 2011-04-13T21:31:28+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

> Reply from dreamvoice
>
> It is possible to export .msh or .sm3 to .Obj with 3D Object Converter ?

yes it is. it is also possible with the script above to export .SM3 models via blender 2.49.
3d object converter is the only app i know of that can export both though.
## Post #31
- Username: dreamvoice
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Mon Apr 11, 2011 4:28 am
- Post datetime: 2011-04-14T11:28:10+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

I tried the blender script ... but some meshes are impossible to load ! It works fine with characters but not with architecture or maps. 

3d object converter works fine to load every .sm3 and .msh from the game include maps and everything ... but after exported the mesh in .obj format, it is impossible to open it ! For example 3ds max say "nothing found to import" ... I thing I do something wrong !

EDIT : At last it works ! Thanks
## Post #32
- Username: unlimited32
- Rank: beginner
- Number of posts: 38
- Joined date: Sat Oct 16, 2010 8:27 pm
- Post datetime: 2011-04-14T14:06:54+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

> Reply from dreamvoice
>
> I tried the blender script ... but some meshes are impossible to load ! It works fine with characters but not with architecture or maps. 

3d object converter works fine to load every .sm3 and .msh from the game include maps and everything ... but after exported the mesh in .obj format, it is impossible to open it ! For example 3ds max say "nothing found to import" ... I thing I do something wrong !

EDIT : At last it works ! Thanks

Yeah! its like you say. 3D OC does everything but importing some geometry in the right places. there is this issue with objects not being oriented correctly, else, 3D OC works fine. the blender script works fine in most .sm3 cases as well and also, the meshes loads into blender in the right places. I have tried to push the developer of 3D OC to implement some functions just for this game and he did so i am really happy about that, but that orientation issue that still is there has not yet resolved. He did try though he told me that. still no one here with custom PS3 firmware who can copy the Reverie DLC files???????????
## Post #33
- Username: Szkaradek123
- Rank: mega-veteran
- Number of posts: 292
- Joined date: Thu May 06, 2010 3:21 am
- Post datetime: 2011-04-14T18:06:53+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

The contents of this post was deleted because of possible forum rules violation.
## Post #34
- Username: dreamvoice
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Mon Apr 11, 2011 4:28 am
- Post datetime: 2011-04-14T20:27:04+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

The contents of this post was deleted because of possible forum rules violation.
## Post #35
- Username: unlimited32
- Rank: beginner
- Number of posts: 38
- Joined date: Sat Oct 16, 2010 8:27 pm
- Post datetime: 2011-04-15T13:19:40+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

The contents of this post was deleted because of possible forum rules violation.
## Post #36
- Username: Chimera
- Rank: n00b
- Number of posts: 15
- Joined date: Thu Feb 24, 2011 11:31 pm
- Post datetime: 2011-04-23T19:32:05+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

Wow thank you for the textures Unlimited32 !!!!
## Post #37
- Username: unlimited32
- Rank: beginner
- Number of posts: 38
- Joined date: Sat Oct 16, 2010 8:27 pm
- Post datetime: 2011-06-20T14:00:20+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

The contents of this post was deleted because of possible forum rules violation.
## Post #38
- Username: jaden
- Rank: mega-veteran
- Number of posts: 209
- Joined date: Sat Feb 05, 2011 8:41 am
- Post datetime: 2011-06-21T10:08:04+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

unlimited32 you rock
Thanks a lot dude
## Post #39
- Username: SeRiAlKiL
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Mon Sep 26, 2011 11:25 pm
- Post datetime: 2011-09-27T11:58:13+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

Is there anyone here who can send or link the 3D model of the combat crossu sed by gabriel in the game?

Thanks in advance, i am not an expert on meshes extraction and such
## Post #40
- Username: drunkenchipmunk
- Rank: n00b
- Number of posts: 13
- Joined date: Mon Aug 24, 2009 4:05 pm
- Post datetime: 2011-09-28T07:59:27+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

The contents of this post was deleted because of possible forum rules violation.
## Post #41
- Username: Negikun
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sun Jul 10, 2011 7:09 pm
- Post datetime: 2011-10-13T22:00:11+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

The contents of this post was deleted because of possible forum rules violation.
## Post #42
- Username: TRDaz
- Rank: mega-veteran
- Number of posts: 215
- Joined date: Sun Sep 25, 2011 2:06 am
- Post datetime: 2011-10-14T10:32:05+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

Im trying out the Blender script and it says something about Python Error and highlights Falsep... I know what a python error is but I dunno what it means by 'Falsep not defined'
## Post #43
- Username: zardalu
- Rank: veteran
- Number of posts: 134
- Joined date: Sat Sep 13, 2008 10:13 pm
- Post datetime: 2012-01-17T17:41:11+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

The contents of this post was deleted because of possible forum rules violation.
## Post #44
- Username: Karpati
- Rank: ultra-veteran
- Number of posts: 467
- Joined date: Fri Dec 08, 2006 6:25 am
- Post datetime: 2012-01-20T20:02:44+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

> Karpati's 3D Object Converter will load parts of the map, but there is a lot of detail missing.

I did find what is the problem with these files.
I fixed it and I uploaded the latest (unpublished) program version to my web page:

[http://web.t-online.hu/karpo/3doc_4801_20120120.zip](http://web.t-online.hu/karpo/3doc_4801_20120120.zip)

You can write over your installed 3D O. C. with this package.
## Post #45
- Username: zardalu
- Rank: veteran
- Number of posts: 134
- Joined date: Sat Sep 13, 2008 10:13 pm
- Post datetime: 2012-01-21T14:40:14+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

Excellent, thanks Karpati, works perfectly now!

Amazing work as always
## Post #46
- Username: TheMask85
- Rank: veteran
- Number of posts: 80
- Joined date: Sun May 19, 2013 7:55 am
- Post datetime: 2013-06-07T14:17:07+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

please don't get mad a me for bump such an old thread.

i was just curious if anybody out there still got the blender script to import
.sm3 files with bones intact.
if this bump is somehow against the rules because i only did it because of
a request, i apologize.

if anyone here still have the script, give me a shout via pm.
thank you!
## Post #47
- Username: lumekano
- Rank: advanced
- Number of posts: 59
- Joined date: Sat Feb 25, 2012 9:20 pm
- Post datetime: 2013-06-07T16:52:53+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

Here 

[http://www.mediafire.com/download/ay28sw80vu3ui8v](http://www.mediafire.com/download/ay28sw80vu3ui8v)
## Post #48
- Username: TheMask85
- Rank: veteran
- Number of posts: 80
- Joined date: Sun May 19, 2013 7:55 am
- Post datetime: 2013-06-07T17:14:45+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

thank you so much!
## Post #49
- Username: TaylorMouse
- Rank: ultra-veteran
- Number of posts: 348
- Joined date: Mon Sep 26, 2011 7:51 pm
- Post datetime: 2013-08-31T21:30:25+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

Hi guys, I don't have blender, and I'm not planning on downloading it either, I do have 3DS Max and would like to ask if there is a file format described on the .sm3 format for the PC version ?

or maybe have the blender script in readable text instead of having it encrypted in the blender format.

Thnx

T.
## Post #50
- Username: TaylorMouse
- Rank: ultra-veteran
- Number of posts: 348
- Joined date: Mon Sep 26, 2011 7:51 pm
- Post datetime: 2013-09-05T21:18:18+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

Yes, I finally figured out the model structure, the static one meshed models where easy, but this one const me a few time my sleep.

Still need to add the automatic assignment of the materials, but it looks like it will be just a matter of time
Once that is done, I'll upload the max script

This is only for the PC version.



T.
## Post #51
- Username: pixellegolas
- Rank: ultra-veteran
- Number of posts: 423
- Joined date: Tue Aug 12, 2008 6:30 am
- Post datetime: 2013-09-06T16:09:30+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

pro!
## Post #52
- Username: shakotay2
- Rank: MEGAVETERAN
- Number of posts: 4300
- Joined date: Fri Apr 20, 2012 4:24 pm
- Post datetime: 2013-09-06T17:16:45+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

> Reply from TaylorMouse
>
> Still need to add the automatic assignment of the materials, but it looks like it will be just a matter of timeSry, I read this thread too late. Here's the py script from Mariusz Szkaradek, my blender script hero  : [http://www.uploadmb.com/dw.php?id=1378487497](http://www.uploadmb.com/dw.php?id=1378487497)

There's a function def read_materials(): 
but in my experience using blender (2.49b) helps to get a full understanding of a script's working methods. (Yes, it's a very old blender version but it's a python 2 script I guess.)
## Post #53
- Username: TaylorMouse
- Rank: ultra-veteran
- Number of posts: 348
- Joined date: Mon Sep 26, 2011 7:51 pm
- Post datetime: 2013-09-06T21:57:05+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

Thnx shakotay2 , but I believe it is not for the PC version, cause I looked at the script ( through Blender) and it has some serous changes compared to the PC version. :/

Anyway still need to work on it cause not all of the models work... yet

T.
## Post #54
- Username: TaylorMouse
- Rank: ultra-veteran
- Number of posts: 348
- Joined date: Mon Sep 26, 2011 7:51 pm
- Post datetime: 2013-09-12T20:41:56+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

Here is the script that imports (almost) all of the models

```
(
	
	local loop = true
	local str = ""
	while (loop) do
	(
		var = readByte binaryStream
		if (var == 0) then
		(
			loop = false
		)
		else
		(
			str += Bit.IntAsChar(var)
		)
	)
	str
)

fn ReadBytes binaryStream bytesToRead =
(
	for b=1 to bytesToRead do readbyte binaryStream
)

struct MyMaterial
(
	MaterialName,
	Type,
	TypeName,
	DiffuseText,
	NormalText,
	SpecularText
)
fn CreateMesh stream pos =
(
	fseek stream pos #seek_set
	MD3D = ReadZeroString stream
	fseek stream 11 #seek_cur
	meshName = ReadZeroString stream
	
	/* Faces */
	faces =#()
	nbrFaces = readLong stream
	indicesChunckSize = readLong stream
	for f=1 to nbrFaces do 
	(
			f1 = readshort stream + 1
			f2 = readshort stream + 1
			f3 = readshort stream + 1
			append faces[f1, f3, f2] --> not zero based !!
	)
		
	LFVF = ReadZeroString stream
		
	/* Vertices */
	verts=#()
	uvs=#()
	groups=#()
		
	fseek stream 15 #seek_cur
	TEX1TGX = ReadZeroString stream
	s1 = readshort stream
	s2 = readshort stream
	chunkSize = readshort stream
	s4 = readshort stream
	nbrVertices = readshort stream
	s6 = readshort stream
	
	for v=1 to nbrVertices do
	(
		offset = chunkSize
		
		v1 = readfloat stream
		v2 = readfloat stream
		v3 = readfloat stream
		
		append verts [ v1, v3, v2 ] --> 12 bytes
		
		fseek stream 12 #seek_cur
		
		offset = offset - 24
		
		u = readfloat stream
		v = readfloat stream
		w = readfloat stream

		append uvs [u,1-v,0]
		offset = offset - 12
		
		fseek stream offset #seek_cur
	)
		
		--print (ftell stream)
		matId = readlong stream
		unk2 = readlong stream
		unk3 = readlong stream
		for k=1 to matId do readshort stream
		unk1 = readlong stream
		
		--format "unk1:% unk2:% unk3:% \n" unk1 unk2 unk3
		
		--Format "Material ID = %\n" matId
		
		Format "Building mesh '%' please wait...\n" meshName
		theMesh = MESH NAME:meshName VERTICES:verts FACES:faces TVERTS:uvs
		meshOp.setMapSupport theMesh 1 true
		for t = 1 to verts.count do
		meshop.setMapVert theMesh 1 t uvs[t]
		
		theMesh.material = meditMaterials[1]
		update theMesh
)

fn ImportMeshesOnly =
(
	clearlistener()
	testFile = getOpenFileName \ 
		caption:"Castlevania Lords of Shadow" \
		types:"Castlevania Model File(*.sm3)|*.sm3" \
		historyCategory:"CastlevaniaObjectPresets"

	if (testFile == undefined) then return undefined
	
	filePath = getFilenamePath testFile
	print filePath
	/* Open the file in binary mode */
	stream = fOpen testFile "rb"

	fseek stream 0 #seek_end 
	fileLength = ftell stream 

	fseek stream 0 #seek_set

	search = "MD3D"

	positions = #()

	char1 = bit.intAsChar( readbyte stream )
	char2 = bit.intAsChar( readbyte stream )
	char3 = bit.intAsChar( readbyte stream )
	char4 = bit.intAsChar( readbyte stream )

	str = char1 + char2 + char3 + char4
	print "Reading file "
	for i=1 to fileLength do
	(	
		
		pos = 0
		if( str == search) then
		(
			format "Mesh found (%)\n" pos
			pos = ftell stream
			append positions (pos - 4)
			
		)
		char1 = char2
		char2 = char3
		char3 = char4
		b = readbyte stream
		if(b == undefined) then exit
		char4 = bit.intAsChar( b )
		str = char1 + char2 + char3 + char4

	)
	
	/* read the materials */
	fseek stream 48 #seek_set
	iniAvailable = readlong stream
	
	if(iniAvailable == 1) then
	(
		fseek stream 64 #seek_set
		nbrInis = readlong stream
		--print nbrInis
		for ini=1 to nbrInis do
		(
			readlong stream --> namelength
			property = ReadZeroString stream
			--format "%\n" (property)
		)
	)
	fseek stream 84 #seek_cur
	/*
		Read material for this model chunk = 240
	*/
	Materials=#()
	nbrMaterials = readlong stream
	--format "Materials = %\n" nbrMaterials
	for m=1 to nbrMaterials do
	(
		MAT = ReadZeroString stream
		fseek stream 12 #seek_cur
		materialName = ReadZeroString stream
		fseek stream 56 #seek_cur
		readlong stream --> namelength
		materialType = ReadZeroString stream
		phantomName = ""
		if(materialType == "Standard") then
		(
			fseek stream 16 #seek_cur
		)
		else --> Phantom or Blend
		(
			readlong stream
			phantomName = ReadZeroString stream
			fseek stream 12 #seek_cur
		)
		
		readlong stream --> namelength
		textureName = ReadZeroString stream
		
		/* TODO :  check if the file exists without the .alpha, if it doesn't check if it exists with, this also means that there is an opacity layer */
		
		textureName = tolower textureName
		trimmed = "dds\\" + substring (getFilenameFile textureName) 1 ( (getFilenameFile textureName).count - 1 )
		
		/* DIFFUSE TEXTURE */
		textureDiffuse = filePath + "dds\\" + getFilenameFile textureName + ".alpha.dds"
		diffuseAlphaFound = true --> diffuse map contains an alpha layer that needs to be used
		
		if( DoesFileExist (textureDiffuse) == false) then
		(
			diffuseAlphaFound = false
			textureDiffuse = filePath + "dds\\" + getFilenameFile textureName + ".dds"
			if( DoesFileExist (textureDiffuse) == false) then 
				textureDiffuse = "" --> NOT FOUND !
		)

		/* NORMAL MAP */
		textureNormal = filePath + trimmed + "b.dds" 
		if( DoesFileExist (textureNormal) == false) then textureNormal = "" --> NOT FOUND !
		

		/* SPECULAR MAP*/
		textureSpecular = filePath + trimmed + "s.alpha.dds" 
		specularAlpaMapFound = true
		if( DoesFileExist (textureSpecular) == false) then
		(
			specularAlpaMapFound = false
			textureSpecular = filePath + "dds\\" + getFilenameFile textureName + "s.dds"
			if( DoesFileExist (textureSpecular) == false) then 
				textureSpecular = "" --> NOT FOUND !
		)
		
		/* Clean up the material editor first */
		for i=1 to 24 do 
		(
			meditMaterials[i] = Standard()
			mname = i as string + " - Default"
			meditMaterials[i].name = mname
		)
		/* PUT THE MAT TO THE MAT LIB*/
		if( m < 25) then 
		(
			meditMaterials[m] = Standard()
			meditMaterials[m].name = getFilenameFile textureName
			if(textureDiffuse != "") then 
			(
				meditMaterials[m].diffuseMapEnable = on
				meditMaterials[m].diffuseMap = Bitmaptexture fileName:textureDiffuse
			)
			if(diffuseAlphaFound) then 
			(
				meditMaterials[m].opacitymap = Bitmaptexture fileName:textureDiffuse
				meditMaterials[m].opacitymap.monooutput = 1
			)
			
			if(textureNormal != "" ) then
			(
				meditMaterials[m].bumpMapEnable = on
				meditMaterials[m].bumpMapAmount = 40
				normal = Normal_Bump ()			
				normal.normal_map = BitmapTexture fileName:textureNormal
				meditMaterials[m].bumpMap = normal
	 
			)
			
			if(textureSpecular != "") then 
			(
				meditMaterials[m].specularMap = Bitmaptexture fileName:textureSpecular
				meditMaterials[m].specularLevel = 50
			)
			
			showTextureMap meditMaterials[m] true
		)
		/* add the material to the array */
		mat = MyMaterial "" materialType phantomName textureDiffuse textureNormal textureSpecular
		append Materials mat
		
		fseek stream 63 #seek_cur
	)
	
	print Materials

	/* build and draw the meshes */
	format "\nCreating meshes\n"
	for i=1 to positions.count do
	(
		CreateMesh stream positions[i]
	)

	fclose stream
	
	format "Number of meshes found: % \n" positions.count
	
)
GC()
clearlistener()
max select all
max delete
ImportMeshesOnly()
max zoomext sel all
--clearlistener()
format "DONE\n"

```


T.
## Post #55
- Username: matreco
- Rank: beginner
- Number of posts: 20
- Joined date: Fri Feb 17, 2012 11:56 pm
- Post datetime: 2014-03-04T20:34:15+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

Anyc chance for na updated version of this script for Castlevania Lords of Shadow 2?
## Post #56
- Username: TaylorMouse
- Rank: ultra-veteran
- Number of posts: 348
- Joined date: Mon Sep 26, 2011 7:51 pm
- Post datetime: 2014-03-05T22:07:08+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

Don't have the game (yet) so...

did you try using this script?

T
## Post #57
- Username: matreco
- Rank: beginner
- Number of posts: 20
- Joined date: Fri Feb 17, 2012 11:56 pm
- Post datetime: 2014-03-07T03:30:35+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

Cheers for the reply,

Yup I did it stops here:

  str += Bit.IntAsChar(var)
## Post #58
- Username: unlimited32
- Rank: beginner
- Number of posts: 38
- Joined date: Sat Oct 16, 2010 8:27 pm
- Post datetime: 2014-03-08T12:38:41+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

Untitled-1.jpg (59.4 KiB) Viewed 298 times


> Reply from Karpati
>
> I added the Mercury Steam .sm3 loader module to 3D Object Converter v4.427

[url]http://www.kz_3d.tvn.hu/mercury_steam.jpg[/url]

I uploaded the converted Wavefront .obj/mtl files:

[url]http://www.kz_3d.tvn.hu/mercury_steam.zip[/url]

Is this possible to do for LOS2? it works for los1, reverie and ressurection ps3 files! As you can see you did this once and this is a really nice feature. I requested this a long time ago! In LOS2 almost all dds textures are located in other folders than the model foldres so its hard to track down dds files, but in this way it is easy to see exactly what the name of the dds texture file is. if this is possible to make again, then, please make it so. Thank You!!!
## Post #59
- Username: unlimited32
- Rank: beginner
- Number of posts: 38
- Joined date: Sat Oct 16, 2010 8:27 pm
- Post datetime: 2014-03-10T15:00:02+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

has enyone found a way to import level models from los2 in the correct spots? for example where things should be placed and/or oriented? And one other thing, how to know exactly witch level models to import to complete a specific level?
## Post #60
- Username: zardalu
- Rank: veteran
- Number of posts: 134
- Joined date: Sat Sep 13, 2008 10:13 pm
- Post datetime: 2014-03-10T17:43:15+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

> Reply from unlimited32
>
> has enyone found a way to import level models from los2 in the correct spots? for example where things should be placed and/or oriented? And one other thing, how to know exactly witch level models to import to complete a specific level?

The origin of the level models as exported by Karpati's 3D Object Converter is maintained such that they are automatically positioned properly when you import them into another program (for example, Deep Exploration). So for example, if you look in the noblequart folder and load 000carm.obj, 001carm.obj, 002carm,obj, etc into Deep Exploration, the rooms will show up linked together as they do in the game. I just referred back to the game in order to assign the correct textures. This took me a little while, but now I have the levels completely textured.   The required materials are stored in the sm3 file associated with each msh file, so you can figure it out pretty easily from there. Not the most efficient way to do things, but it works.

As far as the object placement of things like furniture, candles, interactive objects, etc, you would also need to refer to the game for that (ie screenshots or alt tab). At least for now.
## Post #61
- Username: unlimited32
- Rank: beginner
- Number of posts: 38
- Joined date: Sat Oct 16, 2010 8:27 pm
- Post datetime: 2014-03-10T21:12:19+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

> Reply from zardalu
>
> unlimited32 wrote:has enyone found a way to import level models from los2 in the correct spots? for example where things should be placed and/or oriented? And one other thing, how to know exactly witch level models to import to complete a specific level?

The origin of the level models as exported by Karpati's 3D Object Converter is maintained such that they are automatically positioned properly when you import them into another program (for example, Deep Exploration). So for example, if you look in the noblequart folder and load 000carm.obj, 001carm.obj, 002carm,obj, etc into Deep Exploration, the rooms will show up linked together as they do in the game. I just referred back to the game in order to assign the correct textures. This took me a little while, but now I have the levels completely textured.   The required materials are stored in the sm3 file associated with each msh file, so you can figure it out pretty easily from there. Not the most efficient way to do things, but it works.

As far as the object placement of things like furniture, candles, interactive objects, etc, you would also need to refer to the game for that (ie screenshots or alt tab). At least for now.

Thank you for your reply!!!
## Post #62
- Username: unlimited32
- Rank: beginner
- Number of posts: 38
- Joined date: Sat Oct 16, 2010 8:27 pm
- Post datetime: 2014-03-18T19:11:29+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

3doc says this file has some bad polygons any reason why this is happening? its a nice mesh but parts of it cant be textured correctly. any help would be nice. below is sample msh files from 2 different locations and the dds files as well.


[http://www.mediafire.com/download/u5p2w ... ue_dds.zip](http://www.mediafire.com/download/u5p2wbpf6b1lw0l/objects_attrezo_chaosstatue_dds.zip)
[http://www.mediafire.com/download/3lbqy ... ue_msh.zip](http://www.mediafire.com/download/3lbqyzuh4c0nqx4/objects_atrezzo_chaosstatue_msh.zip)
[http://www.mediafire.com/download/ux7hg ... ue_msh.zip](http://www.mediafire.com/download/ux7hgk5o1y0ihom/objects_scenes_chaosstatue_msh.zip)
## Post #63
- Username: claudiuboy83
- Rank: n00b
- Number of posts: 14
- Joined date: Sun Nov 02, 2014 3:38 pm
- Post datetime: 2016-10-26T16:02:17+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

Hi! Can someone know how to open models and animation from lords of shadow 2? Thanks!
## Post #64
- Username: claudiuboy83
- Rank: n00b
- Number of posts: 14
- Joined date: Sun Nov 02, 2014 3:38 pm
- Post datetime: 2017-01-12T07:42:31+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

No one here did't know how to open that .cm3 file from lords of shadow?
## Post #65
- Username: zardalu
- Rank: veteran
- Number of posts: 134
- Joined date: Sat Sep 13, 2008 10:13 pm
- Post datetime: 2017-01-17T01:56:52+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

> Reply from claudiuboy83
>
> No one here did't know how to open that .cm3 file from lords of shadow?

The .cm3 files are animations, and no, no one has built a tool/exporter/importers for the animations yet that I know of. The .sm3 are models, and the .msh are maps. Look back through this thread and you will see a couple of great tools, including Karpati's 3d Object Converter and a great max script from TaylorMouse.
## Post #66
- Username: gep55
- Rank: veteran
- Number of posts: 81
- Joined date: Fri Feb 01, 2019 9:33 pm
- Post datetime: 2019-12-14T01:30:09+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

Does anyone have the blender importer from this thread? 

[https://www.tombraiderforums.com/showth ... ?p=5429219](https://www.tombraiderforums.com/showthread.php?p=5429219)

for Castlevania?

The Mediafire link is down.

[http://www.mediafire.com/?9fhdbylpgvc3io9](http://www.mediafire.com/?9fhdbylpgvc3io9)

Cheers 

Edit - I managed to find the importer, but I now get this error message.

Ok, I fixed that previous bug, I just needed the file in the same directory as the .blend file importer.

But I'm getting a memory error now

bat.sm3
====================================
checking and making armature... 0.00 seconds
SM3
[112, 34, 101, 0, 229, 91, 162, 80, 0, 0, 0, 0]
SCN
[0, 16777216, 0]
ñ(┴Íz┬?³┴BÀQMA0h!BÁÁMCH_BatBûûûûûûµµµ═╠╠= S
1952542308
ard
[0, 50331648, 16777216]
_raiz_escenaÇ?Ç?Ç?Ç?Ç?Ç?Ç?ÇÇÇ?ÇÇÇ?ÇÇÇÇ?ÇÇÇÇ?Ç?         
_raiz_escenaÇÇÇÇ?Ç?Ç?Ç?Ç?Ç?Ç?ÇÇÇ?ÇÇÇ?ÇÇÇÇ?ÇÇÇÇ?µ╚ð>µ╚ð>µ╚ð>INI[MakeRootNode]E
Traceback (most recent call last):
File "import-castlevania-20", line 496, in <module>
File "import-castlevania-20", line 385, in readdata
File "import-castlevania-20", line 46, in word
MemoryError
## Post #67
- Username: Big Boss
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Fri Jan 31, 2020 9:10 am
- Post datetime: 2020-03-12T21:50:53+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

Does anyone here know how to recreate a .packed file with more files inside?
## Post #68
- Username: zet
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Tue May 04, 2021 3:49 am
- Post datetime: 2021-05-03T19:53:11+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

Greetings, can someone tell me how to extract the models from the game castlevania lord of shadows 2?
## Post #69
- Username: themiracle
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Wed Jul 10, 2019 7:32 am
- Post datetime: 2022-11-20T11:10:48+00:00
- Post Title: Re: CASTLEVANIA LORDS OF SHADOW "HOW TO EXTRACT MESHES"?

I would like to have Models with Bones too, is there anyone wanting to send me the alucard one for los ? please
