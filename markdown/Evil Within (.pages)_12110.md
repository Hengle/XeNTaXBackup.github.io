## Post #1
- Username: namquang93
- Rank: veteran
- Number of posts: 115
- Joined date: Mon Apr 09, 2012 3:40 pm
- Post datetime: 2014-10-14T12:42:57+00:00
- Post Title: Evil Within (*.pages)

Hi anyone! Could you help me unpack and repack those file in this game? I think font and text locate from those file!

All file *.page

Hex value

Here is example: 

> 29	// file format version
>
> 47	// num vmtrs
>
> //   x      y width  hght flags  timeStamp    mtrCheck
>
>      0      0   360   360     0          0    30393628 "characters/cp/cp0250/model/texture/cp0250_c_ng"
>
>    360      0   120   120     0          0 -1119687072 "characters/em/em0600_40xx/model/texture/em0600_40xx_frozen_c"
>
>    360    120   120   120     0          0   984699097 "characters/em/em0600_60xx/model/texture/em0600_60xx_blasting_c"
>
>      0    360   600   600     0          0   289857907 "characters/np/np00xx_40xx/model/texture/np00xx_40xx_frozen_c"
>
>    960      0   600   600     0          0  -450926990 "characters/np/np03xx_40xx/model/texture/np03xx_40xx_frozen_c"
>
>      0    960   600   600     0          0  -772915492 "characters/np/np10xx_40xx/model/texture/np10xx_40xx_frozen_c"
>
>    360    240   120   120     0          0  1075169305 "characters/wp/wp0500/model/texture/wp0500_item/wp0500_granate_item_c_ng"
>
>    480      0   120   120     0          0 -1154892932 "materials/etc/add_tex_00_ng"
>
>    960    960   480   480     0          0 -1188204109 "materials/metal/hg_metal_00_ng"
>
>    600      0   120   120     0          0 -1580366517 "models/envobjects/asylum/asylum_lamp_add2_ng"
>
>    480    120   120   120     0          0  1434047782 "models/envobjects/asylum/asylum_lamp_add3_ng"
>
>   1440    960   480   480     0          0 -1952462425 "models/envobjects/gtmodel/kitchen/kk_cup_00_ng"
>
>    960   1440   480   480     0          0 -1313630446 "models/envobjects/hgmodel/asylum/hg_bottle_00_break_a_ng"
>
>   1920      0   960   480     0          0 -1427534475 "models/envobjects/hgmodel/asylum/hg_light_02_ng"
>
>    600    120   360   120     0          0  -748898660 "models/envobjects/hgmodel/asylum/hg_light_02b_ng"
>
>    600    480   360   360     0          0  -541149887 "models/envobjects/hgmodel/asylum/hg_medicalcan_00f_ng"
>
>   1440   1440   480   480     0          0  1455494306 "models/envobjects/hgmodel/asylum/hg_pipechair_00_ng"
>
>   1920    480   480   480     0          0 -1406693348 "models/envobjects/hgmodel/asylum/hg_pipejoint_01_ng"
>
>   2400    480   480   480     0          0   229869154 "models/envobjects/hgmodel/asylum/hg_switch_00_ng"
>
>   2880      0   960   960     0          0  -644490549 "models/envobjects/hgmodel/asylum/hg_switch_01_ng"
>
>    720    240   240   240     0          0  1973769844 "models/envobjects/iz_model/various/iz_shoes_05_ng"
>
>    960    720   480   240     0          0  1657107996 "models/envobjects/jinda/asylum/jn_desklamp_00_ng"
>
>   1920    960   960   480     0          0  -994722787 "models/envobjects/jinda/asylum/jn_ivstand_00_ng"
>
>   1920   1440   480   480     0          0   970620130 "models/envobjects/jinda/asylum/jn_memo_00_ng"
>
>   2400   1440   480   480     0          0 -1939661856 "models/envobjects/kakiuchi/kk_doll_00_ng"
>
>   2880    960   720   720     0          0  -611432997 "models/envobjects/oda/or_ivstand_00_label_ng"
>
>      0   1920   480   480     0          0   655967111 "models/envobjects/oda/or_warninglight_02_ng"
>
>   1680      0   240   240     0          0  -582136334 "models/envobjects/suzuki/sz_city_basic_add_texture_ng"
>
>    480   1920   480   480     0          0 -1231826528 "models/envobjects/ws_brett/pipe_set_v01_ng"
>
>    720      0   120   120     1          0 -2124357767 "textures/particles/gore/screen/screensplat01_guitest"
>
>      0   1560   720   360     1          0  1206523212 "textures/uitng/img/chapter_select_pic/chapter_load_10_ng.tga"
>
>      0   2400   720   360     1          0  1407280395 "textures/uitng/img/chapter_select_pic/chapter_load_11_ng.tga"
>
>    960   1920   720   360     1          0  1507543023 "textures/uitng/img/chapter_select_pic/chapter_load_12_ng.tga"
>
>    960   2400   720   360     1          0   636091495 "textures/uitng/img/chapter_select_pic/chapter_load_13_ng.tga"
>
>      0   2880   720   360     1          0   525177543 "textures/uitng/img/chapter_select_pic/chapter_load_14_ng.tga"
>
>      0   3360   720   360     1          0   496193702 "textures/uitng/img/chapter_select_pic/chapter_load_1_ng.tga"
>
>    960   2880   720   360     1          0   242099357 "textures/uitng/img/chapter_select_pic/chapter_load_2_ng.tga"
>
>    960   3360   720   360     1          0  1140413419 "textures/uitng/img/chapter_select_pic/chapter_load_3_ng.tga"
>
>   1920   1920   720   360     1          0 -1053216054 "textures/uitng/img/chapter_select_pic/chapter_load_4_ng.tga"
>
>   1920   2400   720   360     1          0  -646026600 "textures/uitng/img/chapter_select_pic/chapter_load_4b_ng.tga"
>
>   2880   1920   720   360     1          0  1455632961 "textures/uitng/img/chapter_select_pic/chapter_load_5_ng.tga"
>
>   2880   2400   720   360     1          0  1824169626 "textures/uitng/img/chapter_select_pic/chapter_load_6_ng.tga"
>
>   1920   2880   720   360     1          0  -139538713 "textures/uitng/img/chapter_select_pic/chapter_load_7_ng.tga"
>
>   1920   3360   720   360     1          0 -1210134289 "textures/uitng/img/chapter_select_pic/chapter_load_8_ng.tga"
>
>   2880   2880   720   360     1          0 -2003626934 "textures/uitng/img/chapter_select_pic/chapter_load_9_ng.tga"
>
>   2880   1680   720   240     1          0 -1831685081 "textures/uitng/img/inventory_pic/survival_pack_ng.tga"
>
>    480    240   240   120     1          0  1466767508 "textures/uitng/img/inventory_trap/poison.tga"

I will send example in private mode because of rules! Thanks for any help!
## Post #2
- Username: Pepper
- Rank: mega-veteran
- Number of posts: 278
- Joined date: Thu Apr 17, 2008 10:48 am
- Post datetime: 2014-10-15T12:53:01+00:00
- Post Title: Evil Within (*.pages)

it might help to check out the threads on RAGE and Wolfenstein: The New Order. This looks like the same engine or at least the same virtual texture paging system.
## Post #3
- Username: volfin
- Rank: ultra-veteran
- Number of posts: 452
- Joined date: Sun Jul 06, 2014 1:30 pm
- Post datetime: 2014-10-15T20:49:48+00:00
- Post Title: Evil Within (*.pages)

Yep, it's using Id's Tech 5 engine, same as Wolfenstein/Rage. Which means it's going to be just as nearly impossible to decode textures.
## Post #4
- Username: Ekey
- Rank: M-M-M-Monster veteran
- Number of posts: 1823
- Joined date: Wed Mar 31, 2010 1:54 pm
- Post datetime: 2014-10-16T05:37:44+00:00
- Post Title: Evil Within (*.pages)

[http://aluigi.org/papers/bms/others/the_evil_within.bms](http://aluigi.org/papers/bms/others/the_evil_within.bms)
## Post #5
- Username: loplio
- Rank: n00b
- Number of posts: 14
- Joined date: Fri Oct 17, 2014 1:43 am
- Post datetime: 2014-10-16T18:23:34+00:00
- Post Title: Evil Within (*.pages)

Hello

I am new here and I hope that somebody could help me. I have extracted the tangoresource files in The Evil Within folder with the quickbms script which was posted here. I would like to open the models of the game ( i found bmodel files) but I just don't get it to find a possibility. I would be very grateful if someone could help me with this. But I have to admit that I do not really have a clue how to program or code, so perhaps you could explain it a bit easier to understand  Thank you!
## Post #6
- Username: loplio
- Rank: n00b
- Number of posts: 14
- Joined date: Fri Oct 17, 2014 1:43 am
- Post datetime: 2014-10-16T19:39:36+00:00
- Post Title: Evil Within (*.pages)

Perhaps I should specify my question: is it possible to get the models as obj or fbx file or to open them in Noesis? I have Maya and 3dsMax.

Thanks a lot for any help!
## Post #7
- Username: volfin
- Rank: ultra-veteran
- Number of posts: 452
- Joined date: Sun Jul 06, 2014 1:30 pm
- Post datetime: 2014-10-16T20:05:07+00:00
- Post Title: Evil Within (*.pages)

Try the blender script for Wolfenstein. if the format is the same should work. But chances are they tweaked it.
## Post #8
- Username: namquang93
- Rank: veteran
- Number of posts: 115
- Joined date: Mon Apr 09, 2012 3:40 pm
- Post datetime: 2014-10-17T07:36:53+00:00
- Post Title: Evil Within (*.pages)

> Reply from Ekey
>
> http://aluigi.org/papers/bms/others/the_evil_within.bms

Thanks for your help! Could you help me edit *.bimage file?
## Post #9
- Username: loplio
- Rank: n00b
- Number of posts: 14
- Joined date: Fri Oct 17, 2014 1:43 am
- Post datetime: 2014-10-17T18:26:16+00:00
- Post Title: Evil Within (*.pages)

> Reply from volfin
>
> Try the blender script for Wolfenstein. if the format is the same should work. But chances are they tweaked it.

Thank you very much for your hint volfin! The "import-rage-2011-10-31" script for Blender 2.49b works with the bmd6models. You saved my day! ) Only one question: Do you have any idea about the bmodels? I have to look in deeper, but it seems that the environment models are all in bmodel file format.

But anyway, a big thank you again for this! Your help is very much appreciated!
## Post #10
- Username: TheMask85
- Rank: veteran
- Number of posts: 80
- Joined date: Sun May 19, 2013 7:55 am
- Post datetime: 2014-10-17T21:48:33+00:00
- Post Title: Evil Within (*.pages)

that blender script works 50/50 for me. some meshes simply don't load at all. only the skeleton.
and unfortunatley we don't have access to the texture files.
for some reason the quickbms script will work for a lot of files (meshes, sounds, etc.) but not for the virtualtextures/pages files.
or maybe i'm simply doing something wrong here.
## Post #11
- Username: volfin
- Rank: ultra-veteran
- Number of posts: 452
- Joined date: Sun Jul 06, 2014 1:30 pm
- Post datetime: 2014-10-17T22:01:05+00:00
- Post Title: Evil Within (*.pages)

> Reply from TheMask85
>
> that blender script works 50/50 for me. some meshes simply don't load at all. only the skeleton.
and unfortunatley we don't have access to the texture files.

If someone can provide me with an example of a b6mesh that doesn't work, i'll attempt to fix it.

> Reply from TheMask85
>
> 
for some reason the quickbms script will work for a lot of files (meshes, sounds, etc.) but not for the virtualtextures/pages files.
or maybe i'm simply doing something wrong here.

It was never said the bms script would work on virtualtextures. You really need to read the Wolfenstein thread in full. Virtualtextures is a highly complex and sophisticated format, and after weeks of attempts, only a EXE hack was found to succesfully work. For Wolfenstein. Either you'll have to get a copy of Wolfenstein, and use that to dump the virtualtextures, or someone will have to hack Evil WIthin EXE similarly.
## Post #12
- Username: TheMask85
- Rank: veteran
- Number of posts: 80
- Joined date: Sun May 19, 2013 7:55 am
- Post datetime: 2014-10-17T22:15:07+00:00
- Post Title: Evil Within (*.pages)

> Reply from volfin
>
> TheMask85 wrote:that blender script works 50/50 for me. some meshes simply don't load at all. only the skeleton.
and unfortunatley we don't have access to the texture files.

If someone can provide me with an example of a b6mesh that doesn't work, i'll attempt to fix it.
TheMask85 wrote:
for some reason the quickbms script will work for a lot of files (meshes, sounds, etc.) but not for the virtualtextures/pages files.
or maybe i'm simply doing something wrong here.

It was never said the bms script would work on virtualtextures. You really need to read the Wolfenstein thread in full. Virtualtextures is a highly complex and sophisticated format, and after weeks of attempts, only a EXE hack was found to succesfully work. For Wolfenstein. Either you'll have to get a copy of Wolfenstein, and use that to dump the virtualtextures, or someone will have to hack Evil WIthin EXE similarly.

that is really kind of you.
here is a sample with 3 files that load either ~10% of the mesh data in blender or none at all but bone structure.
[https://www.dropbox.com/s/pet31k9tl69e2 ... le.7z?dl=0](https://www.dropbox.com/s/pet31k9tl69e2ei/EvilWithin_Sample.7z?dl=0)

yes. vtex.exe with aslr disable worked great for me for Wolfesntein. and i'm really glad and thankful we can get textures from Wolfenstein.
it would be really neat to have acces to TheEvilWithin texture files aswell. but what can you say ... it's id-tech 5.
## Post #13
- Username: volfin
- Rank: ultra-veteran
- Number of posts: 452
- Joined date: Sun Jul 06, 2014 1:30 pm
- Post datetime: 2014-10-17T22:22:36+00:00
- Post Title: Evil Within (*.pages)

> Reply from loplio
>
> volfin wrote:Try the blender script for Wolfenstein. if the format is the same should work. But chances are they tweaked it.

Thank you very much for your hint volfin! The "import-rage-2011-10-31" script for Blender 2.49b works with the bmd6models. You saved my day! ) Only one question: Do you have any idea about the bmodels? I have to look in deeper, but it seems that the environment models are all in bmodel file format.

But anyway, a big thank you again for this! Your help is very much appreciated!

Searching back, I don't see where anyone ever successfully got bmodel files working. Mostly people wanted bmd6models since they were the important parts (characters and objects). There was some early talk of it working for Rage which uses the same engine:

[viewtopic.php?f=16&t=7488](http://forum.xentax.com/viewtopic.php?f=16&t=7488)  Starting 7th post from the bottom. But even that seemed to only work for a few. It sounds like they use Tristrips which are kind of a pain to work with. Next page he posts the source to his bmodel to lightwave converter. Might be a good place to start on writing something that works with Wolfenstein/Evil within.
## Post #14
- Username: volfin
- Rank: ultra-veteran
- Number of posts: 452
- Joined date: Sun Jul 06, 2014 1:30 pm
- Post datetime: 2014-10-17T22:24:17+00:00
- Post Title: Evil Within (*.pages)

> Reply from TheMask85
>
> volfin wrote:TheMask85 wrote:that blender script works 50/50 for me. some meshes simply don't load at all. only the skeleton.
and unfortunatley we don't have access to the texture files.

If someone can provide me with an example of a b6mesh that doesn't work, i'll attempt to fix it.
TheMask85 wrote:
for some reason the quickbms script will work for a lot of files (meshes, sounds, etc.) but not for the virtualtextures/pages files.
or maybe i'm simply doing something wrong here.

It was never said the bms script would work on virtualtextures. You really need to read the Wolfenstein thread in full. Virtualtextures is a highly complex and sophisticated format, and after weeks of attempts, only a EXE hack was found to succesfully work. For Wolfenstein. Either you'll have to get a copy of Wolfenstein, and use that to dump the virtualtextures, or someone will have to hack Evil WIthin EXE similarly.

that is really kind of you.
here is a sample with 3 files that load either ~10% of the mesh data in blender or none at all but bone structure.
https://www.dropbox.com/s/pet31k9tl69e2 ... le.7z?dl=0

yes. vtex.exe with aslr disable worked great for me for Wolfesntein. and i'm really glad and thankful we can get textures from Wolfenstein.
it would be really neat to have acces to TheEvilWithin texture files aswell. but what can you say ... it's id-tech 5.

Try the wolfenstein hack on the Evil within Virtualtexture file. It may just work. I'll check the file out and let you know if i fix anything.
## Post #15
- Username: TheMask85
- Rank: veteran
- Number of posts: 80
- Joined date: Sun May 19, 2013 7:55 am
- Post datetime: 2014-10-17T22:26:32+00:00
- Post Title: Evil Within (*.pages)

> Reply from volfin
>
> 
Try the wolfenstein hack on the Evil within Virtualtexture file. It may just work. I'll check the file out and let you know if i fix anything.

i already tired that. i've got no experience in coding or scripting so i just tried.
tried the original file and another one. no difference. wrong exe file.
## Post #16
- Username: volfin
- Rank: ultra-veteran
- Number of posts: 452
- Joined date: Sun Jul 06, 2014 1:30 pm
- Post datetime: 2014-10-17T22:35:01+00:00
- Post Title: Re: Evil Within (*.pages)

> Reply from TheMask85
>
> volfin wrote:
Try the wolfenstein hack on the Evil within Virtualtexture file. It may just work. I'll check the file out and let you know if i fix anything.

i already tired that. i've got no experience in coding or scripting so i just tried.
tried the original file and another one. no difference. wrong exe file.

well I mean specify the wolfenstein exe, but target the evil within file. Let wolfenstein extract it as if it was part of the wolfenstein game.

P.S. as for the mesh file, it seems they reverted back to a Rage-style format. but it's not exactly like Rage either. will have to poke at it some more.
## Post #17
- Username: ELCID777
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Tue Oct 07, 2014 5:44 am
- Post datetime: 2014-10-17T22:48:18+00:00
- Post Title: Re: Evil Within (*.pages)

So I guess it's safe to say that editing and repacking textures in this game is pretty much impossible because of shitty idtech 5 engine?
## Post #18
- Username: volfin
- Rank: ultra-veteran
- Number of posts: 452
- Joined date: Sun Jul 06, 2014 1:30 pm
- Post datetime: 2014-10-17T23:22:06+00:00
- Post Title: Re: Evil Within (*.pages)

try this, worked on all 3 models you provided.
[EvilWithin2014-10-17.rar](https://xentaxbackup.github.io/file/7965_EvilWithin2014-10-17.rar)
## Post #19
- Username: volfin
- Rank: ultra-veteran
- Number of posts: 452
- Joined date: Sun Jul 06, 2014 1:30 pm
- Post datetime: 2014-10-17T23:28:46+00:00
- Post Title: Re: Evil Within (*.pages)

> Reply from ELCID777
>
> So I guess it's safe to say that editing and repacking textures in this game is pretty much impossible because of shitty idtech 5 engine?

Pretty much, unless the fellow who tweaked Wolfenstein can do the same magic on thsi game.

There is one other possibility, trying to run OpenGL debugging software to catch textures. Someone in the Wolfenstein thread said they had success with that.  [http://developer.amd.com/tools-and-sdks ... ne/codexl/](http://developer.amd.com/tools-and-sdks/opencl-zone/codexl/)
## Post #20
- Username: namquang93
- Rank: veteran
- Number of posts: 115
- Joined date: Mon Apr 09, 2012 3:40 pm
- Post datetime: 2014-10-18T01:19:09+00:00
- Post Title: Re: Evil Within (*.pages)

Here are my result with texture finder, (DXT3/DXT5) I can sure it is font file, but I can not edit it! Anyone could help me edit .bimage file? Thanks!







Thanks for any help!
## Post #21
- Username: volfin
- Rank: ultra-veteran
- Number of posts: 452
- Joined date: Sun Jul 06, 2014 1:30 pm
- Post datetime: 2014-10-18T01:35:40+00:00
- Post Title: Re: Evil Within (*.pages)

There's a whole thread on Wolfenstein Bimage conversion: [viewtopic.php?f=10&t=11556](http://forum.xentax.com/viewtopic.php?f=10&t=11556)

Also a long thread on Changing fonts here: [viewtopic.php?f=35&t=11529](http://forum.xentax.com/viewtopic.php?f=35&t=11529)

Likely it's identical.
## Post #22
- Username: Peter Rodgers
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Wed Oct 15, 2014 4:09 am
- Post datetime: 2014-10-18T17:32:16+00:00
- Post Title: Re: Evil Within (*.pages)

Hello. Can anyone write a script to quickbms, to export the audio from msadpsm. And do import back if possible. Thanks for any help.
## Post #23
- Username: TheMask85
- Rank: veteran
- Number of posts: 80
- Joined date: Sun May 19, 2013 7:55 am
- Post datetime: 2014-10-19T05:04:40+00:00
- Post Title: Re: Evil Within (*.pages)

the script for Blender works like a charm now. thank you very ,very much.

> Reply from volfin
>
> 
well I mean specify the wolfenstein exe, but target the evil within file. Let wolfenstein extract it as if it was part of the wolfenstein game.

so i tried it like that. 
taking the modelviewer_vmtr.pages file from The Evil Within into the virtualtextures folder of Wolfenstein, replaced the exe with the reloaded one,
disabled aslr via regisry and tried through the Wolfesntein folder structure with cmd.
too bad. console said: 
"ERROR: Supported only HDP compression

it's frustrating with these Megatextures.
## Post #24
- Username: volfin
- Rank: ultra-veteran
- Number of posts: 452
- Joined date: Sun Jul 06, 2014 1:30 pm
- Post datetime: 2014-10-19T05:51:49+00:00
- Post Title: Re: Evil Within (*.pages)

> Reply from TheMask85
>
> the script for Blender works like a charm now. thank you very ,very much.
volfin wrote:
well I mean specify the wolfenstein exe, but target the evil within file. Let wolfenstein extract it as if it was part of the wolfenstein game.


so i tried it like that. 
taking the modelviewer_vmtr.pages file from The Evil Within into the virtualtextures folder of Wolfenstein, replaced the exe with the reloaded one,
disabled aslr via regisry and tried through the Wolfesntein folder structure with cmd.
too bad. console said: 
"ERROR: Supported only HDP compression

it's frustrating with these Megatextures.
Interesting. Wolfenstein and Rage only used HDP. I guess they are using something else now (or labeling it as something else). I don't have the game so no idea.
## Post #25
- Username: RadeonX1950
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Thu Oct 21, 2010 3:28 pm
- Post datetime: 2014-10-19T07:57:51+00:00
- Post Title: Re: Evil Within (*.pages)

> Reply from Peter Rodgers
>
> Hello. Can anyone write a script to quickbms, to export the audio from msadpsm. And do import back if possible. Thanks for any help.
I second that.
## Post #26
- Username: loplio
- Rank: n00b
- Number of posts: 14
- Joined date: Fri Oct 17, 2014 1:43 am
- Post datetime: 2014-10-19T10:12:40+00:00
- Post Title: Re: Evil Within (*.pages)

> Reply from volfin
>
> try this, worked on all 3 models you provided.

Thanks for the script. Indeed the other script did not work for all models. I did not realize this first. Now it seems to work very well!
## Post #27
- Username: loplio
- Rank: n00b
- Number of posts: 14
- Joined date: Fri Oct 17, 2014 1:43 am
- Post datetime: 2014-10-19T10:31:56+00:00
- Post Title: Re: Evil Within (*.pages)

> Reply from volfin
>
> loplio wrote:volfin wrote:Try the blender script for Wolfenstein. if the format is the same should work. But chances are they tweaked it.

Thank you very much for your hint volfin! The "import-rage-2011-10-31" script for Blender 2.49b works with the bmd6models. You saved my day! ) Only one question: Do you have any idea about the bmodels? I have to look in deeper, but it seems that the environment models are all in bmodel file format.

But anyway, a big thank you again for this! Your help is very much appreciated!

Searching back, I don't see where anyone ever successfully got bmodel files working. Mostly people wanted bmd6models since they were the important parts (characters and objects). There was some early talk of it working for Rage which uses the same engine:

viewtopic.php?f=16&t=7488  Starting 7th post from the bottom. But even that seemed to only work for a few. It sounds like they use Tristrips which are kind of a pain to work with. Next page he posts the source to his bmodel to lightwave converter. Might be a good place to start on writing something that works with Wolfenstein/Evil within.

I don't have any experience with coding but I understand it seems to be difficult in this case. Could you be interested in scripting something for this issue?

Is anybody else interested in stages/environments of the Evil Within?
## Post #28
- Username: OrangeC
- Rank: double-veteran
- Number of posts: 868
- Joined date: Sun Apr 20, 2008 9:58 am
- Post datetime: 2014-10-19T19:01:07+00:00
- Post Title: Re: Evil Within (*.pages)

Thirded for a .stream extraction script and maybe to add a proper adpcm header?
## Post #29
- Username: pixeldamage
- Rank: beginner
- Number of posts: 29
- Joined date: Tue Oct 26, 2010 8:26 pm
- Post datetime: 2014-10-21T13:58:09+00:00
- Post Title: Re: Evil Within (*.pages)

Reply to above: I'm also interested in Environments and any modding tools

PS - I've had no luck with Blender 2.49b Win64 installer and Python 2.6.2. When I try running any python scripts from Blender I'm getting "struct.error: unpack requires a string argument of length 1" with the rage.blend files. With the EvilWithin.blender file on here i'm getting "MemoryError" in the py console. I'm a max user and this is my first attempt at using Blender so I may be doing something stupid. Any ideas?
## Post #30
- Username: loplio
- Rank: n00b
- Number of posts: 14
- Joined date: Fri Oct 17, 2014 1:43 am
- Post datetime: 2014-10-21T17:24:05+00:00
- Post Title: Re: Evil Within (*.pages)

> Reply from pixeldamage
>
> Reply to above: I'm also interested in Environments and any modding tools

PS - I've had no luck with Blender 2.49b Win64 installer and Python 2.6.2. When I try running any python scripts from Blender I'm getting "struct.error: unpack requires a string argument of length 1" with the rage.blend files. With the EvilWithin.blender file on here i'm getting "MemoryError" in the py console. I'm a max user and this is my first attempt at using Blender so I may be doing something stupid. Any ideas?

When are you getting the errors? When you try to open the script in Blender or when you run it to open a model? Are you trying to open the correct files? (.bmd6model) Sorry if I ask stupid questions, but perhaps its something very simple.
## Post #31
- Username: volfin
- Rank: ultra-veteran
- Number of posts: 452
- Joined date: Sun Jul 06, 2014 1:30 pm
- Post datetime: 2014-10-21T18:24:44+00:00
- Post Title: Re: Evil Within (*.pages)

> Reply from pixeldamage
>
> Reply to above: I'm also interested in Environments and any modding tools

PS - I've had no luck with Blender 2.49b Win64 installer and Python 2.6.2. When I try running any python scripts from Blender I'm getting "struct.error: unpack requires a string argument of length 1" with the rage.blend files. With the EvilWithin.blender file on here i'm getting "MemoryError" in the py console. I'm a max user and this is my first attempt at using Blender so I may be doing something stupid. Any ideas?

For the record, the file will only work with Blender 2.49b. If you still get an error, it's likely a file with unusual structure. I'd have to see the file to fix it.
## Post #32
- Username: disastorm
- Rank: beginner
- Number of posts: 20
- Joined date: Sat Sep 20, 2014 5:20 pm
- Post datetime: 2014-10-22T04:34:15+00:00
- Post Title: Re: Evil Within (*.pages)

Is it possible to enable the disabled console commands by editing one of the resources? or were they litteraly removed from the build? Is it even possible to edit resources? I tried editing even just one of the .cfg files in the common resource and the game would freeze as soon as the main menu would try to load.
## Post #33
- Username: volfin
- Rank: ultra-veteran
- Number of posts: 452
- Joined date: Sun Jul 06, 2014 1:30 pm
- Post datetime: 2014-10-22T06:56:47+00:00
- Post Title: Re: Evil Within (*.pages)

> Reply from disastorm
>
> Is it possible to enable the disabled console commands by editing one of the resources? or were they litteraly removed from the build? Is it even possible to edit resources? I tried editing even just one of the .cfg files in the common resource and the game would freeze as soon as the main menu would try to load.

If it's like other Tech5 games, the commands are disabled at the code level.
## Post #34
- Username: pixeldamage
- Rank: beginner
- Number of posts: 29
- Joined date: Tue Oct 26, 2010 8:26 pm
- Post datetime: 2014-10-23T22:39:45+00:00
- Post Title: Re: Evil Within (*.pages)

> Reply from volfin
>
> pixeldamage wrote:Reply to above: I'm also interested in Environments and any modding tools

PS - I've had no luck with Blender 2.49b Win64 installer and Python 2.6.2. When I try running any python scripts from Blender I'm getting "struct.error: unpack requires a string argument of length 1" with the rage.blend files. With the EvilWithin.blender file on here i'm getting "MemoryError" in the py console. I'm a max user and this is my first attempt at using Blender so I may be doing something stupid. Any ideas?

For the record, the file will only work with Blender 2.49b. If you still get an error, it's likely a file with unusual structure. I'd have to see the file to fix it.

Yeah that's the version of Blender I'm using. But maybe I'm misunderstanding something since I'm not getting to a stage where I can open any files. I'm literally trying running the python TEW scripts and getting that error. Is that the right process?

1. Open Blender
2. Window Type: Set to Text
3. Open import-EvilWithinTech5.blend
4. Script appears but looks garbled as it would in notepad
5. Text dropdown menu now has "Run Python Script" as an option
6. Errors
## Post #35
- Username: volfin
- Rank: ultra-veteran
- Number of posts: 452
- Joined date: Sun Jul 06, 2014 1:30 pm
- Post datetime: 2014-10-23T23:18:53+00:00
- Post Title: Re: Evil Within (*.pages)

> Reply from pixeldamage
>
> volfin wrote:pixeldamage wrote:Reply to above: I'm also interested in Environments and any modding tools

PS - I've had no luck with Blender 2.49b Win64 installer and Python 2.6.2. When I try running any python scripts from Blender I'm getting "struct.error: unpack requires a string argument of length 1" with the rage.blend files. With the EvilWithin.blender file on here i'm getting "MemoryError" in the py console. I'm a max user and this is my first attempt at using Blender so I may be doing something stupid. Any ideas?

For the record, the file will only work with Blender 2.49b. If you still get an error, it's likely a file with unusual structure. I'd have to see the file to fix it.

Yeah that's the version of Blender I'm using. But maybe I'm misunderstanding something since I'm not getting to a stage where I can open any files. I'm literally trying running the python TEW scripts and getting that error. Is that the right process?

1. Open Blender
2. Window Type: Set to Text
3. Open import-EvilWithinTech5.blend
4. Script appears but looks garbled as it would in notepad
5. Text dropdown menu now has "Run Python Script" as an option
6. Errors

I don't know what the 'set to text' business is. I just click the blend file, it opens. source is clear text, no garble. 
So i'd guess doign that 'set to text' whatever that is is screwing something up.
## Post #36
- Username: loplio
- Rank: n00b
- Number of posts: 14
- Joined date: Fri Oct 17, 2014 1:43 am
- Post datetime: 2014-10-24T08:21:22+00:00
- Post Title: Re: Evil Within (*.pages)

> Reply from pixeldamage
>
> volfin wrote:pixeldamage wrote:Reply to above: I'm also interested in Environments and any modding tools

PS - I've had no luck with Blender 2.49b Win64 installer and Python 2.6.2. When I try running any python scripts from Blender I'm getting "struct.error: unpack requires a string argument of length 1" with the rage.blend files. With the EvilWithin.blender file on here i'm getting "MemoryError" in the py console. I'm a max user and this is my first attempt at using Blender so I may be doing something stupid. Any ideas?

For the record, the file will only work with Blender 2.49b. If you still get an error, it's likely a file with unusual structure. I'd have to see the file to fix it.

Yeah that's the version of Blender I'm using. But maybe I'm misunderstanding something since I'm not getting to a stage where I can open any files. I'm literally trying running the python TEW scripts and getting that error. Is that the right process?

1. Open Blender
2. Window Type: Set to Text
3. Open import-EvilWithinTech5.blend
4. Script appears but looks garbled as it would in notepad
5. Text dropdown menu now has "Run Python Script" as an option
6. Errors

1. Open Blender
2. Open the script
3. With the script opened, press Alt + P, and then you can search for your files to open

Did it work?
## Post #37
- Username: TheMask85
- Rank: veteran
- Number of posts: 80
- Joined date: Sun May 19, 2013 7:55 am
- Post datetime: 2014-10-28T18:40:29+00:00
- Post Title: Re: Evil Within (*.pages)

i'm curious. 
so there's no way to access any of the textures, 
which are stored in the .pages files of the virtualtextures?
that would be really interesting.

btw. it seems rage toolkit can't read these .pages files.
## Post #38
- Username: pixeldamage
- Rank: beginner
- Number of posts: 29
- Joined date: Tue Oct 26, 2010 8:26 pm
- Post datetime: 2014-10-31T16:35:01+00:00
- Post Title: Re: Evil Within (*.pages)

Yay Success! Thanks guys

I've found Sebastian and several Haunted heads so far. Really hating Blender's navigation system and UI etc. Got Sebastian into Max via fbx/dae and obj. None of them come through unscathed. Seems to be flipped faces and unwelded verts but nothing that I can't fix. UVs come through nicely as well. Bones appear in Blender and max but no-skinning info comes through. Regarding textures it sounded like that's an impossibility due to the virtual/mega texturing used.

Regarding the issue I was having. The Alt+P shortcut helped me see what was wrong. I thought - when I was going to load the script - it was asking me for the script location (and not the location of the bm6model files). Doh! All fine now though.
## Post #39
- Username: Icaab2607
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sun Nov 02, 2014 7:51 pm
- Post datetime: 2014-11-02T13:36:42+00:00
- Post Title: Re: Evil Within (*.pages)

I'm here this error when I run the script in the blender:
## Post #40
- Username: TheMask85
- Rank: veteran
- Number of posts: 80
- Joined date: Sun May 19, 2013 7:55 am
- Post datetime: 2014-11-02T14:50:56+00:00
- Post Title: Re: Evil Within (*.pages)

i can't tell about Blender 2.69 but it works well with Blender 2.49b for me.
## Post #41
- Username: volfin
- Rank: ultra-veteran
- Number of posts: 452
- Joined date: Sun Jul 06, 2014 1:30 pm
- Post datetime: 2014-11-02T17:29:09+00:00
- Post Title: Re: Evil Within (*.pages)

As I said before, and will say one last time, it will ONLY work in blender 2.49. It will never work in any newer blender version.
## Post #42
- Username: volfin
- Rank: ultra-veteran
- Number of posts: 452
- Joined date: Sun Jul 06, 2014 1:30 pm
- Post datetime: 2014-11-03T08:12:22+00:00
- Post Title: Re: Evil Within (*.pages)

As previously requested, here's an importer for static *.bmodel objects. Currently it supports two format types, which seem to be the two that are most commonly used. but should you come across any *.bmodel that doesn't work, let me know the format type that pops up in the error message (also listed in the console), and optionally a sample file would help. I"ll add more format types as needed.

EDIT: newer version in later post.
## Post #43
- Username: Icaab2607
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sun Nov 02, 2014 7:51 pm
- Post datetime: 2014-11-03T13:08:21+00:00
- Post Title: Re: Evil Within (*.pages)

> Reply from volfin
>
> As previously requested, here's an importer for static *.bmodel objects. Currently it supports two format types, which seem to be the two that are most commonly used. but should you come across any *.bmodel that doesn't work, let me know the format type that pops up in the error message (also listed in the console), and optionally a sample file would help. I"ll add more format types as needed.
And in 2.49
## Post #44
- Username: volfin
- Rank: ultra-veteran
- Number of posts: 452
- Joined date: Sun Jul 06, 2014 1:30 pm
- Post datetime: 2014-11-03T17:47:27+00:00
- Post Title: Re: Evil Within (*.pages)

I'm not here to teach people how to open blender files. geez. It's not a script, it's a blender file. Stop trying to open a *.blend file as a text file.

Open Blender.  File->Open,  Choose the Blend file. profit. It opens exactly the same as the last one, no different.
## Post #45
- Username: loplio
- Rank: n00b
- Number of posts: 14
- Joined date: Fri Oct 17, 2014 1:43 am
- Post datetime: 2014-11-04T22:20:23+00:00
- Post Title: Re: Evil Within (*.pages)

> Reply from volfin
>
> As previously requested, here's an importer for static *.bmodel objects. Currently it supports two format types, which seem to be the two that are most commonly used. but should you come across any *.bmodel that doesn't work, let me know the format type that pops up in the error message (also listed in the console), and optionally a sample file would help. I"ll add more format types as needed.

Thanks a lot for the importer volfin!

I tested several files from one chapter so far and found two unknown format types. The first one being more common obviously.

Here are some sample files of format type 1592397:

[https://www.dropbox.com/sh/b0341hll8nc5 ... ahoZa?dl=0](https://www.dropbox.com/sh/b0341hll8nc5ir9/AAAVuxu2KVFMLGBSbJLfahoZa?dl=0)

and format type 857644800:

[https://www.dropbox.com/sh/buyka3grj9x7 ... AwhRa?dl=0](https://www.dropbox.com/sh/buyka3grj9x7h7i/AACBkS4mgiPxog45vWuxAwhRa?dl=0)

Would you look into this?
[file format1.jpg](https://xentaxbackup.github.io/file/8033_file format1.jpg)
## Post #46
- Username: volfin
- Rank: ultra-veteran
- Number of posts: 452
- Joined date: Sun Jul 06, 2014 1:30 pm
- Post datetime: 2014-11-05T03:17:02+00:00
- Post Title: Re: Evil Within (*.pages)

> Reply from loplio
>
> 
Thanks a lot for the importer volfin!

I tested several files from one chapter so far and found two unknown format types. The first one being more common obviously.

Would you look into this?

The models are the right format, but contain multiple objects per file. I wasn't handling that quite right, but it's working now. All examples load with no errors in this new version.
[importStatic-EvilWithinTech5-2014-11-04.zip](https://xentaxbackup.github.io/file/8035_importStatic-EvilWithinTech5-2014-11-04.zip)
## Post #47
- Username: loplio
- Rank: n00b
- Number of posts: 14
- Joined date: Fri Oct 17, 2014 1:43 am
- Post datetime: 2014-11-05T21:21:12+00:00
- Post Title: Re: Evil Within (*.pages)

> Reply from volfin
>
> loplio wrote:
Thanks a lot for the importer volfin!

I tested several files from one chapter so far and found two unknown format types. The first one being more common obviously.

Would you look into this?

The models are the right format, but contain multiple objects per file. I wasn't handling that quite right, but it's working now. All examples load with no errors in this new version.

Once again, I have to thank you volfin  The importer works great now, I did not find other issues so far. Someone is really happy now    It's really interesting to explore all the models and how they are build! 

It's too bad that it seems impossible to open the virtual texture files, but let's be happy for once and enjoy all the models (I guess this will take some time to explore)   

Cheers!
## Post #48
- Username: loplio
- Rank: n00b
- Number of posts: 14
- Joined date: Fri Oct 17, 2014 1:43 am
- Post datetime: 2014-11-24T18:51:41+00:00
- Post Title: Re: Evil Within (*.pages)

I'm wondering about the *.bimage files in the textures folder. Is there a possibility to open them in Photoshop or Gimp or another program? 

I read this post: [viewtopic.php?f=10&t=11556](http://forum.xentax.com/viewtopic.php?f=10&t=11556) and tried some steps I thought to understand (for example open as raw and dds), but I could not figure it out. I always get strange results and nothing that seems to be a texture.

Any help or hints would be much appreciated!
[image1.jpg](https://xentaxbackup.github.io/file/8139_image1.jpg)
## Post #49
- Username: volfin
- Rank: ultra-veteran
- Number of posts: 452
- Joined date: Sun Jul 06, 2014 1:30 pm
- Post datetime: 2014-11-24T19:43:51+00:00
- Post Title: Re: Evil Within (*.pages)

Yes, like I mentioned in the other thread, most are DDS files without headers. I"ve been working on a QuickBMS script to decode them, for Wolfenstein, but it's still not 100% perfected. Also because a lot of the DDS files are Ycocg encoded, you need a specific viewer to decode that (Gimp with the addon as mentioned). 

This converter will attempt to put the right header on, which may be DTX1, DTX5, or DTX5 Ycocg. Note i've only tested it with Wolfenstein.
[Bimage convert.rar](https://xentaxbackup.github.io/file/8140_Bimage convert.rar)
## Post #50
- Username: loplio
- Rank: n00b
- Number of posts: 14
- Joined date: Fri Oct 17, 2014 1:43 am
- Post datetime: 2014-11-25T18:52:45+00:00
- Post Title: Re: Evil Within (*.pages)

Thanks!

I tested the script with some Wolfenstein *.bimage files to be sure I understood how to use it and it worked (as you said, not 100%, most textures have very pale colors, but perhaps this has some reason, I don't know). But as expected, it does not seem to work for The Evil Within. I attach a print screen of the gimp message, maybe it may give you an idea?
[gimp_message.jpg](https://xentaxbackup.github.io/file/8145_gimp_message.jpg)
## Post #51
- Username: volfin
- Rank: ultra-veteran
- Number of posts: 452
- Joined date: Sun Jul 06, 2014 1:30 pm
- Post datetime: 2014-11-25T19:23:27+00:00
- Post Title: Re: Evil Within (*.pages)

Well it could be many things. Some *.bimage files are just raw image files, not DDS at all. Could be those are that type.  Or it could be Evil Within is using a completely different format. Really I'd have no way of knowing without seeing a sample.
## Post #52
- Username: loplio
- Rank: n00b
- Number of posts: 14
- Joined date: Fri Oct 17, 2014 1:43 am
- Post datetime: 2014-11-26T17:46:56+00:00
- Post Title: Re: Evil Within (*.pages)

Ok, here is the link to some sample files (from skeletal characters). I'm curious what you find out about these formats 

[https://www.dropbox.com/sh/fwyqx4fwk4aa ... 1PgFa?dl=0](https://www.dropbox.com/sh/fwyqx4fwk4aacix/AACxFw-xMJaQsJA_dK861PgFa?dl=0)
## Post #53
- Username: volfin
- Rank: ultra-veteran
- Number of posts: 452
- Joined date: Sun Jul 06, 2014 1:30 pm
- Post datetime: 2014-11-26T18:16:21+00:00
- Post Title: Re: Evil Within (*.pages)

I'll take a look, they are probably some sort of alpha mask.  All the actual textures are in the VirtualTexture system, usually the *.bimage files only contain items with alpha masks.
## Post #54
- Username: loplio
- Rank: n00b
- Number of posts: 14
- Joined date: Fri Oct 17, 2014 1:43 am
- Post datetime: 2014-11-26T18:21:25+00:00
- Post Title: Re: Evil Within (*.pages)

That's very kind from you. I'm looking forward to hearing some news.
## Post #55
- Username: volfin
- Rank: ultra-veteran
- Number of posts: 452
- Joined date: Sun Jul 06, 2014 1:30 pm
- Post datetime: 2014-11-26T21:20:12+00:00
- Post Title: Re: Evil Within (*.pages)

Yeah they changed the format of the file slightly. Some are still DXT1, some are some other format I can't identify yet. but I can still make out enough of the image to see they are just masks.

Here's an example of one that was DXT1 decodable:

[http://i.imgur.com/6fBqVkr.jpg](http://i.imgur.com/6fBqVkr.jpg)

Nothing very exciting.
## Post #56
- Username: loplio
- Rank: n00b
- Number of posts: 14
- Joined date: Fri Oct 17, 2014 1:43 am
- Post datetime: 2014-11-26T21:54:09+00:00
- Post Title: Re: Evil Within (*.pages)

Well, indeed a diffuse map would be more exciting  this seems to be an ambient occlusion, displacement map or something in this direction. 

But better than nothing, I like to see how stuff is made anyway and appreciate your research, I don't take it for granted.

I hope you let me know if you find out more!
## Post #57
- Username: Omission7x
- Rank: n00b
- Number of posts: 15
- Joined date: Sat Nov 15, 2014 4:15 pm
- Post datetime: 2015-01-30T03:03:50+00:00
- Post Title: Re: Evil Within (*.pages)

any way to disable the darkness filter this game uses for pc? someone spotted changes in it's tint and color.
[http://i.picpar.com/OCmb.png](http://i.picpar.com/OCmb.png)
[http://i.picpar.com/NCmb.png](http://i.picpar.com/NCmb.png)
## Post #58
- Username: TheMask85
- Rank: veteran
- Number of posts: 80
- Joined date: Sun May 19, 2013 7:55 am
- Post datetime: 2015-06-27T17:18:38+00:00
- Post Title: Re: Evil Within (*.pages)

please pardon the resurrection of the rather old thread from the "undead".
i'd like to know if anyone maybe found a way by now, how to get/rip/extract any of the diffuse/spec/normalmap. anyhow.

i managed to get the "power-/glossmap" with the Intel GPA 2014 analyze application. and it looks just fine:
[http://pl.vc/5vneg](http://pl.vc/5vneg)

the other textures it's spitting out however. well:
(i reduced the files in size for example upload, since the output res is 8192x8192 in dds format)
[http://pl.vc/5ugnf](http://pl.vc/5ugnf)

[http://pl.vc/1nfex](http://pl.vc/1nfex)

[http://pl.vc/48ckz](http://pl.vc/48ckz)

i'd be thankful for any suggestion.
and if anyone wants to have a look at the output files:
[http://www.mediafire.com/download/gc8vvzqhz2ty3zp](http://www.mediafire.com/download/gc8vvzqhz2ty3zp)
## Post #59
- Username: shakotay2
- Rank: MEGAVETERAN
- Number of posts: 4299
- Joined date: Fri Apr 20, 2012 4:24 pm
- Post datetime: 2015-06-28T12:26:50+00:00
- Post Title: Re: Evil Within (*.pages)

those "puzzles" (3, 4, 5.dds) are RAM snapshots, aren't they?
If so, you don't expect someone to "unpuzzle" that?  

(that should be impossible due to the way allocation of memory blocks works)

I don't know much about VRAM but if that's VRAM snapshots the problem should be the same (just a wild guess).
## Post #60
- Username: TheMask85
- Rank: veteran
- Number of posts: 80
- Joined date: Sun May 19, 2013 7:55 am
- Post datetime: 2015-06-28T14:41:16+00:00
- Post Title: Re: Evil Within (*.pages)

haha, no i don't want someone to do that puzzle. that'd be hell.

by the way, the Intel INDE analyzer is the only one of 6 different debuggers i tried, 
that got me at least some files ore even started the game. AMD CodeXL crashes the game at startup for example.

also, someone said he was able to grab the diffuse and bumpmap via 3DVia Printscreen (but he seems to be vanished). 
however, for me, it didn't work. maybe it's because i'm using Win7.
